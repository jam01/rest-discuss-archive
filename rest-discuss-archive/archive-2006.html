<style>pre {white-space: pre-wrap;}</style>
-----------------------------------------------------------------------------------<br>
Post ID:5643<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2006-01-02 00:14:24<br>
Subject:Happy New Year's<br>
Message:<br><br>
<pre>Happy New Year's everyone. 
I hope 2006 brings exciting and interesting adventures for everyone. 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5644<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-01-02 14:33:23<br>
Subject:Re: [rest-discuss] Is it possible to use SOAP in REST way?<br>
Message:<br><br>
<pre>Sorry about the slow reply, toydi. I have been caught up reading about
current hAtom happenings :)

On Wed, 2005-12-28 at 14:04 +0800, toydi wrote:
&gt; On 12/27/05, Benjamin Carlyle &lt;benjamincarlyle@...&gt; wrote:
&gt; &gt; application/xml
&gt; &gt; falls outside my definition of REST because it carries application- and
&gt; &gt; industry-specific semantics. Its semantics aren't necessarily grounded
&gt; &gt; in universal concepts. On the other hand, text/html is grounded in the
&gt; &gt; universal text concept. Other forms of html (no matter how they are
&gt; &gt; categorised in any current perverted MIME) also contain universal
&gt; &gt; semantics. They are part of REST for me.
&gt; How will you express this request below in HTTP syntax:
&gt; "I prefer a ATOM formatted representation of the blog entry with its
&gt; URL: /foo/bar".
&gt; Now, what about this:
&gt; "I prefer a hAtom microformatted XHTML representation of the blog
&gt; entry with its URL: /foo/bar".

GET /foo/bar HTTP/1.1
Host: example.com
Accept: application/atom+xml

and,
GET /foo/bar HTTP/1.1
Host: example.com
Accept: text/html

Microformatted content has the advantage that it is real text/html, and
can be served as such. Whether it be hAtom, hCard, hCalendar, rel-tag,
or any other microformat data, a parser can make use of whatever content
it understands from the page. While hAtom borrows the atom semantic
model its syntax is designed for integration with html, css, and
javascript.

&gt; When we are transferring representations, isn't it a good practice to
&gt; specify exactly what media type we prefer to receive or what
&gt; content-type we sent? If not mistaken, some had advised not to use
&gt; "application/xml" media type while transferring a representation,
&gt; since it does not describe semantics about the representation.

application/xml does not describe any specific semantics, so is a weak
media type from the perspective of REST (at least as I define it).
Microformatted xhtml has concrete semantics.

&gt; Without the help of Forms (e.g RDForm, HTML FORM etc) provided by
&gt; servers, it seems to be important to state the "specific" accepted
&gt; media-types, or else clients would have no clue what they required to
&gt; send. For example, how will Server express that it accepts ATOM
&gt; document but not any other XML document formats?

Exactly. As a client your accept header should not simply be
application/xml when you expect to handle atom. You won't understand any
old xml document. It has to be atom, so you ask for application/atom
+xml.

&gt; In this case, when talking about "universal semantics", do you mean a
&gt; good media-type should be widely deployed, or recognized as standard
&gt; among majority. Or do you mean media-type should be as general as
&gt; possible even to sacrifice its capability of describing the semantics
&gt; of a representation?

There is an element of adoption to the universal semantics question,
however new semantics can still be universal if they can be applied
universally. Date and time are universal concepts. The structure of a
html document is a universal concept. A blog post is probably a
universal concept. Each of these concepts is applicable to a variety of
applications and industries.

To contrast, semantics that are not universal include "the TRIP
operation of a circuit breaker" or it's "DAC" state. These semantics are
specific to the SCADA industry, and applications that exist within that
industry. Every industry has its own jargon and concepts that are
applicable only within that defined problem domain. In my opinion those
things would usually not be able to be considered "universal", although
there is somewhat of a sliding scale.

I wrote recently about a semantic spectrum, with univerally-applicable
concepts such as "GET me a html document" on one end of the scale and
"call function foo with parameters bar and baz" on the other. REST is
grounded in the universal, whereas object-orientation is grounded in the
application-specific. The space in-between could be coined "the semantic
web".

&gt; There is another overloading situation, where we just use a single
&gt; "application/xml" media type in communications, when we actually mean
&gt; ATOM, RSS or SOAP. The same thing which bothering me is overloading
&gt; "text/html" or "application/xhtml+xml" when we actually means hAtom,
&gt; hCard. The problem is Server could not inform Client that it accepts
&gt; hAtom and not other XHTML document.

The difference between atom, rss, and soap as media types and
microformatted html is that the html document is more of a container of
documents than a single document. If you are able to deal with atom,
rss, and soap you should identify each of those media types on your
Accept header. If you are able to deal with a html document and find
microformatted data within it you should identify text/html (or its
various mime forms) also. You'll decide based on what is actually passed
back which parser to invoke.

There have also been some suggestions thrown around that some popular
microformats could make their way into the html standard as their own
elements (eg a &lt;vcard&gt; element). Parsers would again simply look for
data they can make use of if that were to eventuate.

&gt; This overloading confusion starts bothering when I attempt to use HTTP
&gt; as publishing protocol for microformats. How to post a hAtom when
&gt; Server can't even express that it accepts hAtom? I am certainly
&gt; walking on the wrong path. ;-)

I think the concern you are raising is in the case of a feed reader that
accepts both atom and hAtom content. If it includes text/html in its
accept header could the server provide html content that does not
contain hAtom markup and thus provide less information when presenting
the html version?

The answer is theoretically, yes. Would it occur in practice? I don't
know. Most publishers provide their atom and their html feeds on
different uris. Most feed readers will accept being pointed at the html
uri first and if no useful data is found redirect themselves to a
preferred alternative. Do you know of any existing websites where this
could be a problem? Are there any uris in the wild today that return
html or atom/rss/other based on accept header data?

-- 
Benjamin Carlyle &lt;benjamincarlyle@...&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5645<br>
Sender:"Jerome Louvel" &lt;jerome_louvel@...&gt;<br>
Post Date/Time:2006-01-03 18:21:06<br>
Subject:Discussion at The Server Side<br>
Message:<br><br>
<pre>Following the announcement of the Restlet framework, a discussion
started at The Server Side and the need of a PetStore-like comparison
between REST and SOAP was suggested. This sounds like an interesting
idea to me. Feel free to jump in and comment at:
http://www.theserverside.com/news/thread.tss?thread_id=38290

Thanks,
Jerome





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5646<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2006-01-03 18:40:28<br>
Subject:Re: [rest-discuss] Discussion at The Server Side<br>
Message:<br><br>
<pre>Hi Jerome,

On Jan 3, 2006, at 10:21 AM, Jerome Louvel wrote:
&gt; Following the announcement of the Restlet framework, a discussion
&gt; started at The Server Side and the need of a PetStore-like comparison
&gt; between REST and SOAP was suggested. This sounds like an interesting
&gt; idea to me. Feel free to jump in and comment at:
&gt; http://www.theserverside.com/news/thread.tss?thread_id=38290

I'm afraid to comment, because that would sound like I'm  
volunteering. :-)

I do agree that PET store is a wonderful idea though, and have often  
wished someone (else :-) would do that...

FYI, if anyone wants to try it in Rails, there's a "Restifarian" plug- 
in that would help you get started:

http://microformats.org/wiki/rest/rails

-- Ernie P.

------------
Ernest N. Prabhakar, Ph.D. &lt;drernie at opendarwin.org&gt;
Ex-Physicist, Marketing Weenie, and Dilettante Hacker
Probe-Hacker blog: http://www.opendarwin.org/~drernie/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5647<br>
Sender:Bob Haugen &lt;bob.haugen@...&gt;<br>
Post Date/Time:2006-01-11 15:10:02<br>
Subject:How to POST from browser to several cross-domain resources<br>
Message:<br><br>
<pre>I need to update several resources without leaving one browser page.

I can POST to resources in the same domain using Ajax techniques (I'm
using Dojo).

But I can't do the same to resources in other domains.

I can easily do a GET with arguments inside an iframe, abusing GET to
make state changes a la Amazon's ecommerce API.  (Maybe I can
understand why they do that...)

But I don't know how to do POSTs in the same or any other way.  Have
done a bunch of googling, didn't find anything.

Forgive my ignorance if I missed something obvious.  Any tips?

Thanks.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5648<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2006-01-11 15:23:41<br>
Subject:Re: [rest-discuss] How to POST from browser to several	cross-domain resources<br>
Message:<br><br>
<pre>On Wed, 2006-01-11 at 09:10 -0600, Bob Haugen wrote:
&gt; I need to update several resources without leaving one browser page.
&gt; 
&gt; I can POST to resources in the same domain using Ajax techniques (I'm
&gt; using Dojo).
&gt; 
&gt; But I can't do the same to resources in other domains.

To same-domain...

POST /help-me-out-in-getting-to/http://«otherdomain»/path/to/real/post/

-- 
...jsled
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5649<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-01-11 15:33:07<br>
Subject:Re: [rest-discuss] How to POST from browser to several  cross-domain resources<br>
Message:<br><br>
<pre>Josh Sled &lt;jsled@...&gt; writes:

&gt; On Wed, 2006-01-11 at 09:10 -0600, Bob Haugen wrote:
&gt;&gt; I need to update several resources without leaving one browser page.
&gt;&gt; 
&gt;&gt; I can POST to resources in the same domain using Ajax techniques (I'm
&gt;&gt; using Dojo).
&gt;&gt; 
&gt;&gt; But I can't do the same to resources in other domains.
&gt;
&gt; To same-domain...
&gt;
&gt; POST
&gt; /help-me-out-in-getting-to/http://«otherdomain»/path/to/real/post/

Or you could use the old IFRAME trick and have several FORMs POSTing
to different IFRAMEs and use JS to make them all happen.

I prefer the WS approach above myself.


Nic
http://www.tapsellferrier.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5650<br>
Sender:"James Howe" &lt;yahoogroups@...-mail.com&gt;<br>
Post Date/Time:2006-01-11 22:20:53<br>
Subject:Deleting multiple items using REST<br>
Message:<br><br>
<pre>I have an application that returns a list of items in response to a url  
like this:

GET http://foo.com/userstuff/items

The items get displayed in a UI.  The user has the opportunity to delete  
one or more of the items at one time.  If they pick an item to delete, I  
could see doing something like this:

DELETE http://foo.com/userstuff/items/itemnumber

but what if the user selects multiple items?  It seems sort of wasteful to  
send multiple DELETE commands to the server, particularly when the number  
of items to be deleted could be quite large.  What would be a RESTful  
approach to this situation?

Thanks

-- 
James Howe

Contact: http://public.xdi.org/=James.Howe

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5651<br>
Sender:Paul Jimenez &lt;pj@...&gt;<br>
Post Date/Time:2006-01-11 22:50:54<br>
Subject:Re: [rest-discuss] Deleting multiple items using REST<br>
Message:<br><br>
<pre>
How about:

DELETE http://foo.com/userstuff/items?query=item1,item2,item3

  --pj



On Wednesday, Jan 11, 2006, "James Howe" writes:
&gt;I have an application that returns a list of items in response to a url  
&gt;like this:
&gt;
&gt;GET http://foo.com/userstuff/items
&gt;
&gt;The items get displayed in a UI.  The user has the opportunity to delete  
&gt;one or more of the items at one time.  If they pick an item to delete, I  
&gt;could see doing something like this:
&gt;
&gt;DELETE http://foo.com/userstuff/items/itemnumber
&gt;
&gt;but what if the user selects multiple items?  It seems sort of wasteful to  
&gt;send multiple DELETE commands to the server, particularly when the number  
&gt;of items to be deleted could be quite large.  What would be a RESTful  
&gt;approach to this situation?
&gt;
&gt;Thanks
&gt;
&gt;-- 
&gt;James Howe
&gt;
&gt;Contact: http://public.xdi.org/=James.Howe
&gt;
&gt;
&gt; 
&gt;Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt; 
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5652<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2006-01-12 05:49:05<br>
Subject:RE: [rest-discuss] Deleting multiple items using REST<br>
Message:<br><br>
<pre>&gt; but what if the user selects multiple items?  It seems sort 
&gt; of wasteful to send multiple DELETE commands to the server, 
&gt; particularly when the number of items to be deleted could be 
&gt; quite large.  What would be a RESTful approach to this situation?

There are several options, and I've listed them in my perceived order of
RESTfulness (but we should start getting away from "RESTfulness" as
something that can be objectively measured). Each choice results in a system
behavior that may work for you or it may present problems down the road -
all architectural styles have an implicit 'mustUnderstand' bit set to true.

1) Don't worry about wastefulness until you measure it, just send the
multiple requests.
This approach is as RESTful as the chosen requests themselves.
Note - its more useful if the response that has the list of items includes a
URI for each item, rather than having the client generate a URI from some
aspect of the retrieved items. If you need super compact representations,
you may want to generate the URI on the client instead.

2) find a less wasteful way to use the application protocol. 
For HTTP, there is pipelining (multiple requests sent before first response
is sent on the same connection). This likely will help the overall latency
from start to finish, but I don't have any experience with it. Also, I don't
know how to access that functionality from a client library, or whether
xmlhttprequest objects support that functionality. Also, http pipelining can
only be used with idempotent methods (GET, PUT, DELETE, HEAD, OPTIONS, etc).
This approach is as RESTful as the chosen requests themselves.

3) consider the set of selected items to identify a single resource
(essentially, generate a URI based on the users selection)
 DELETE http://foo.com/userstuff/items/?ids=a,b,c,d
Generating a URI on the client is not the most RESTful, but it's not
horrible either - generating URIs is fine especially if you have a
documented/standard grammar that clients can use to generate those URI.

4) consider the set of selected items part of a single 'container' resource
and modify that resource 
 POST http://foo.com/userstuff/items
 content-type: application/x-www-urlencoded
 ids=a,b,c,d
You'll probably run into the 'partial update' problems with these sort of
requests. For example, this example request does not explicitly describe in
what way the items should be modified.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5653<br>
Sender:"Matthias Willerich" &lt;scheffmeister@...&gt;<br>
Post Date/Time:2006-01-19 22:41:47<br>
Subject:RE: Deleting multiple items using REST<br>
Message:<br><br>
<pre>
Mike,
I liked your elaboration on this. But I couldn't quite follow you with the
4th approach.

(3)is to essentially DELETE the whole resource and add a filter,
?id=a,b,c,d; in (4) you do a POST, with the post values id=a,b,c,d? Would
that be to post an empty set to an existing ID?


Confused,
Matthias




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5654<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2006-01-20 05:13:27<br>
Subject:RE: [rest-discuss] RE: Deleting multiple items using REST<br>
Message:<br><br>
<pre>

&gt; &gt; 3) consider the set of selected items to identify a single resource
(essentially, 
&gt; &gt; generate a URI based on the users selection)  DELETE
http://foo.com/userstuff/items/?ids=a,b,c,d
&gt; &gt; Generating a URI on the client is not the most RESTful, but it's not
horrible either 
&gt; &gt; - generating URIs is fine especially if you have a documented/standard
grammar that clients can 
&gt; &gt; use to generate those URI.
&gt; (3)is to essentially DELETE the whole resource and add a filter,
?id=a,b,c,d; 


&gt; &gt; 4) consider the set of selected items part of a single 'container'
resource and modify that resource  
&gt; &gt; POST http://foo.com/userstuff/items
&gt; &gt; content-type: application/x-www-urlencoded  
&gt; &gt; 
&gt; &gt; ids=a,b,c,d 
&gt; &gt; 
&gt; &gt; You'll probably run into the 'partial update' problems with these sort
of requests. 
&gt; &gt; For example, this example request does not explicitly describe in what
way the items should be modified.

&gt; in (4) you do a POST, with the post values id=a,b,c,d? 
&gt; Would that be to post an empty set to an existing ID?
Reading my example again, it's unclear what that request means (which sort
of highlights the problem with the approach). To actually do the 'delete' of
all the referenced IDs, the content of the message should indicate what
should happen (or what has happened, if you think of things in terms of
transfering knowledge of the state of the client application to the server
machine).
For example (I fixed the content-type value to be correct):

POST http://foo.com/userstuff/items
content-type: application/x-www-form-urlencoded  

ids-removed=a,b,c,d 



&gt; -----Original Message-----
&gt; From: rest-discuss@yahoogroups.com 
&gt; [mailto:rest-discuss@yahoogroups.com] On Behalf Of Matthias Willerich
&gt; Sent: Thursday, January 19, 2006 2:42 PM
&gt; To: rest-discuss@yahoogroups.com
&gt; Subject: [rest-discuss] RE: Deleting multiple items using REST
&gt; 
&gt; 
&gt; Mike,
&gt; I liked your elaboration on this. But I couldn't quite follow 
&gt; you with the 4th approach.
&gt; 
&gt; (3)is to essentially DELETE the whole resource and add a 
&gt; filter, ?id=a,b,c,d; in (4) you do a POST, with the post 
&gt; values id=a,b,c,d? Would that be to post an empty set to an 
&gt; existing ID?
&gt; 
&gt; 
&gt; Confused,
&gt; Matthias
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt;  
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt;  
&gt; 
&gt; 
&gt; 
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5655<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2006-01-20 05:35:26<br>
Subject:RE: [rest-discuss] RE: Deleting multiple items using REST<br>
Message:<br><br>
<pre>(sent the earlier email too soon...)


&gt; &gt; 3) consider the set of selected items to identify a single resource 
&gt; &gt; (essentially, generate a URI based on the users selection)  DELETE 
&gt; &gt; http://foo.com/userstuff/items/?ids=a,b,c,d
&gt; &gt; Generating a URI on the client is not the most RESTful, but it's not 
&gt; &gt; horrible either
&gt; &gt; - generating URIs is fine especially if you have a 
&gt; &gt; documented/standard grammar that clients can use to generate those URI.
&gt; (3)is to essentially DELETE the whole resource and add a filter, 
&gt; ?id=a,b,c,d;
Actually, this approach is to consider those four ids to actually /be/ the
single resource (there is no 'add a filter'). A resource is what a client
application interacts with, not the internal data actually within the
server.
I hope this makes sense...

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5656<br>
Sender:Nikolai Onken &lt;nikolai@...&gt;<br>
Post Date/Time:2006-01-22 00:28:52<br>
Subject:REST and PHP5<br>
Message:<br><br>
<pre>Hey RESTafarians,

I just discovered REST and really like the idea behind it.
At the moment I am mostly developing with PHP5 and I was wondering how I 
would actually implement REST.
How can I send PUT or DELETE Headers (the only way I can see, is the 
XMHttpRequest) and especially how do I handle the request on the server 
side using PHP5. Can I have &lt;form method="DELETE"&gt; attributes?
Are there any code examples, applications or articles of REST 
implementations in PHP?
I have searched the mailing list but haven't really found concrete 
examples.
Have a good day,

Nikolai Onken



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5657<br>
Sender:Sandeep Shetty &lt;sandeep.shetty@...&gt;<br>
Post Date/Time:2006-01-22 16:07:11<br>
Subject:Re: [rest-discuss] REST and PHP5<br>
Message:<br><br>
<pre>Hey Nikolai,

These links should get you started:
http://phprestsql.sourceforge.net/tutorial.html#rest-browser
http://www.intertwingly.net/wiki/pie/PutDeleteSupport
http://www.w3.org/Amaya/User/Put.html

Sandeep Shetty

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5658<br>
Sender:Elias Sinderson &lt;elias@...&gt;<br>
Post Date/Time:2006-01-23 21:12:15<br>
Subject:Re: [rest-discuss] Deleting multiple items using REST<br>
Message:<br><br>
<pre>Hi All,

I just wanted to add a bit more to the recent discussion on RESTfully 
deleting multiple resources.

&gt;&gt;&lt;James Howe&gt; What would be a RESTful approach to [deleting multiple resources]? &lt;/James Howe&gt;
&gt;&gt;    
&gt;&gt;
&gt;&lt;Mike Dierken&gt; There are several options [...]
&gt;1) [...] just send the multiple requests. This approach is as RESTful as the chosen requests themselves. [...]
&gt;2) [...] For HTTP, there is pipelining [...] This approach is as RESTful as the chosen requests themselves.
&gt;3) consider the set of selected items to identify a single resource [...] Generating a URI on the client is not the most RESTful [...]
&gt;4) consider the set of selected items part of a single 'container' resource
&gt;and modify that resource [with a POST request]. &lt;/Mike Dierken&gt;
&gt;
WebDAV specifies the behavior of DELETE on collections (the defined term 
for 'container resources') -- see section 8.6.2 
&lt;http://greenbytes.de/tech/webdav/rfc2518.html#rfc.section.8.6.2&gt; of 
RFC2518 for the gritty details. I would submit that this approach is as 
restful as the first option given above, assuming that such a collection 
exists or can be created. Another variation, dependent on the 
containment model of the application in question, would be to use 
resource bindings in the user collection that is to be deleted so as to 
prevent the deletion of the actual resources themselves.


Cheers,
Elias

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5659<br>
Sender:"Jerome Louvel" &lt;jerome_louvel@...&gt;<br>
Post Date/Time:2006-01-26 15:53:31<br>
Subject:Announce - Restlet 1.0 beta 1<br>
Message:<br><br>
<pre>Hi all,

The Restlet project has reached an important milestone. Encouraged by the
quality of the feed-back since the first public release, I am  happy to
announce the release of version 1.0 beta 1. The project is now entering a
phase of code stabilization, bug fixing and minor enhancements. A final
version 1.0 ready for production is scheduled for Q2 2006. Here is a summary
of the changes since 0.19 beta:
 
 - Noelios Restlet Engine is now automatically registered with the Restlet
API if no other implementation is specified. A flexible registration
mechanism was also added based on a system property naming a factory class.
Also, many factory methods were added to the Manager class helping the
decoupling of your applications from a particular implementation.
 
 - The Restlet API was simplified in many ways. First, the RestletCall
interface has been absorbed by the UniformCall. As a result, Maplets,
Chainlets and Restlet containers can now delegate directly to any handler
implementing the UniformInterface, not just Restlets. In addition, a
"redirectRef" property was added, removing the old way of passing the URI in
the call output. For consistency purpose, the getPaths, getPath and
getMatches methods were renamed to getResourcePaths, getResourcePath and
getResourceMatches. Then, the client preferences were refactored into a
PreferenceData interface accessible via the "preference" property. Finally,
RestletException was removed and existing JDK exceptions are used instead. 
  
 - The support for cookies was completed. Custom readers and writers were
implemented allowing a homogeneous behavior across all connectors (HTTP
client and servers). Also, the Cookies interface was replaced by
List&lt;Cookie&gt; and lazy parsing was implemented to prevent unnecessary parsing
and list creations when cookies are not actually used.
 
 - The connectors were refactored, especially the HTTP client and servers.
The Connector interface now implements UniformInterface and shortcut methods
(get, post, put and delete) were added to the Client interface. Also, thanks
to some remarks from Benjamin Carlyle, I decided to provide a set of HTTP
call interfaces allowing direct interaction with HTTP connectors and access
to low-level artifacts like HTTP headers. The new HttpCall also has a static
list of all HTTP statuses and header names. Finally, JavaMailCall and
JdbcCall were replaced by factory methods on their respective connector
class.
 
 - The default HTTP client connector was significantly enhanced to support
cookies, conditions, preferences, output representation metadata,
redirection reference, server name and basic HTTP authentication.
 
 - The Jetty connectors were refactored to prevent logic duplication and to
support multiple listener types (HTTP, HTTPS and AJP). Also, the Jetty 6
connector was updated to version 6.0 beta 7. Finally, the HttpServer
interface now as a standard method to configure HTTPS/SSL. 
 
 - Support for media type encoding modifiers was added to
RepresentationMetadata, allowing pre-compressed files and dynamic
compression of any representation. The support for encoding file extensions
and default encoding setting is already available in the DirectoryRestlet.
Thanks to John D. Mitchell for the suggestions.
 
 - The tutorial and sample code were nicely simplified using the latest API
changes.
 
Best regards,
Jerome Louvel
 
--- 
 
Project home:
 &lt;http://www.restlet.org&gt; http://www.restlet.org
 
Direct download link:
 &lt;http://www.restlet.org/downloads/restlet-1.0b1.zip&gt;
http://www.restlet.org/downloads/restlet-1.0b1.zip
 
For further change details, see the change log:
 &lt;http://www.restlet.org/docs/changes&gt; http://www.restlet.org/docs/changes

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5660<br>
Sender:"Jack J. Coleman" &lt;jackjc@...&gt;<br>
Post Date/Time:2006-02-03 00:22:59<br>
Subject:Apache Post<br>
Message:<br><br>
<pre>I implemented a REST web service for administering account information. 
I was using a Tomcat server stand-alone. I just installed mod_jk to hook 
it in with Apache. I now get an error message when doing a PUT, saying 
that PUT is not supported by Apache.

Has anyone on this list set up Apache with Tomcat for use with the POST 
request-method?

Sorry in advance if this is a bit off topic.

Jack Coleman

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5661<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-02-03 00:34:18<br>
Subject:Re: [rest-discuss] Apache Post<br>
Message:<br><br>
<pre>On Feb 2, 2006, at 4:22 PM, Jack J. Coleman wrote:

&gt; I implemented a REST web service for administering account  
&gt; information.
&gt; I was using a Tomcat server stand-alone. I just installed mod_jk to  
&gt; hook
&gt; it in with Apache. I now get an error message when doing a PUT, saying
&gt; that PUT is not supported by Apache.
&gt;
&gt; Has anyone on this list set up Apache with Tomcat for use with the  
&gt; POST
&gt; request-method?

I suggest doing a google search.  mod_jk is a servlet interface  
extension,
so I don't know what it supports (and unfortunately I have no time to  
check
right now).  PUT is supported by Apache if the module responsible for  
handling
that part of the Location space allows PUT.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5662<br>
Sender:Peter Marks &lt;peter.c.marks@...&gt;<br>
Post Date/Time:2006-02-09 14:35:03<br>
Subject:The Component and Connector interfaces.<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5663<br>
Sender:"Jerome Louvel" &lt;jerome_louvel@...&gt;<br>
Post Date/Time:2006-02-09 17:38:34<br>
Subject:Re: The Component and Connector interfaces.<br>
Message:<br><br>
<pre>Hi Peter,

Thanks for the feed-back. Indeed those methods are common to both 
Component and Connector interfaces. However, following the REST 
dissertation, a component is not a kind of connector: 
http://www.ics.uci.edu/~fielding/pubs/dissertation/software_arch.htm#sec_1_2_1

What do you think about adding a new LifeCycle interface that would be 
implemented by both Component and Connector?

Thanks,
Jerome

PS: As you asked, let's continue this discussion in the more specific
Restlet discussion list: http://www.restlet.org/discuss


--- In rest-discuss@yahoogroups.com, Peter Marks &lt;peter.c.marks@...&gt;
wrote:
&gt;
&gt; Hi,
&gt; 
&gt; I've been studying the Restlet classes and interfaces. You guys have
done a
&gt; great job!
&gt; 
&gt; I have one question: The methods that define a Connector are those
that stop
&gt; and start and check the state of a connector (isStarted() and
isStopped()).
&gt; I see that these same four methods have been added to the Component
&gt; interface. Have you considered refactoring so that a Component is a
&gt; Connector? And the Component interface would continue to add the
ability to
&gt; have clients, servers and call clients.
&gt; 
&gt; Perhaps I'm missing something obvious or you are too far along to do a
&gt; refactoring.
&gt; 
&gt; Just curious...
&gt; 
&gt; Regards,
&gt; 
&gt; Peter
&gt;




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5664<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-02-11 03:01:17<br>
Subject:resource(s) xmlns<br>
Message:<br><br>
<pre>Hi,

I am starting the process of developing RESTful services, but I am
getting hung up on the definition of which namespace to apply to the
concept of a resource / a resource list and I am hoping that I can
collect some opinions / information to assist me.

Let's say that I decide to expose a list of widgets as resources at
the following url:

GET http://rest.example.org/widgets/

I could return a list of widgets:

&lt;widgets xmlns="urn:example-widgets"
    xmlns:xlink="http://www.w3.org/1999/xlink"&gt;
    &lt;widget xlink:href="1234/"&gt;Widget A&lt;/widget&gt;
    &lt;widget xlink:href="1235/"&gt;Widget B&lt;/widget&gt;
&lt;/widgets&gt;

but this doesn't feel discoverable to me, whereas the following does:

&lt;resources xmlns:xlink="http://www.w3.org/1999/xlink"&gt;
    &lt;resource xlink:href="1234/"&gt;Widget A&lt;/resource&gt;
    &lt;resource xlink:href="1235/"&gt;Widget B&lt;/resource&gt;
&lt;/resources&gt;

Now the xlink:href attributes are bound to a public schema, so they
are readily discoverable... but that doesn't cover the resource(s)
elements themselves. I have been hunting around the web looking for
inspiration, and so far the best candidate that I have seen is RDDL.
The list might look like:

&lt;resources xmlns="http://www.rddl.org/" 
    xmlns:xlink="http://www.w3.org/1999/xlink"&gt;
    &lt;resource xlink:href="1234/"&gt;Widget A&lt;/resource&gt;
    &lt;resource xlink:href="1235/"&gt;Widget B&lt;/resource&gt;
&lt;/resources&gt;

At first glance, this seems great. However, there's a but. RDDL is
really designed for XHTML, not XML. In addition, the DTD stack for
RDDL is a complete overkill for what I have in mind: namely, just to
strongly type the definition of resource(s) to a public schema for
typesafe discoverability.

The schema might look like:

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xs:schema 
    xmlns:xlink="http://www.w3.org/1999/xlink" 
    xmlns:xs="http://www.w3.org/2001/XMLSchema" 
    elementFormDefault="qualified" attributeFormDefault="unqualified"&gt;
    &lt;xs:import namespace="http://www.w3.org/1999/xlink" 
        schemaLocation="http://www.loc.gov/standards/mets/xlink.xsd"/&gt;
    &lt;xs:element name="resources"&gt;
        &lt;xs:complexType&gt;
            &lt;xs:sequence&gt;
                &lt;xs:element name="resource" minOccurs="0"
maxOccurs="unbounded"&gt;
                    &lt;xs:complexType&gt;
                        &lt;xs:attribute ref="xlink:href" use="required"/&gt;
                    &lt;/xs:complexType&gt;
                &lt;/xs:element&gt;
            &lt;/xs:sequence&gt;
        &lt;/xs:complexType&gt;
    &lt;/xs:element&gt;
    &lt;xs:element name="resource" type="xs:anyType"/&gt;
&lt;/xs:schema&gt;

Taking this approach, the widget REST service would look like:

GET http://rest.example.org/widgets/

&lt;xrest:resources 
    xmlns:xrest="http://www.??.org/????/xrest" 
    xmlns:xlink="http://www.w3.org/1999/xlink"&gt;
    &lt;xrest:resource xlink:href="1234/"&gt;Widget A&lt;/xrest:resource&gt;
    &lt;xrest:resource xlink:href="1235/"&gt;Widget B&lt;/xrest:resource&gt;
&lt;/xrest:resources&gt;

GET http://rest.example.org/widgets/1234/

&lt;xrest:resource 
    xmlns="http://schema.example.org/widgets"
    xmlns:xrest="http://www.??.org/????/xrest" 
    xmlns:xlink="http://www.w3.org/1999/xlink"&gt;
    &lt;widget id="1234" name="Widget A"/&gt;
&lt;/xrest:resource&gt;

What do you think? Does such a schema already exist that I can
subscribe to?

Regards,
Alan Dean








</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5665<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-02-11 03:38:33<br>
Subject:Re: [rest-discuss] resource(s) xmlns<br>
Message:<br><br>
<pre>On Sat, 2006-02-11 at 03:01 +0000, Alan Dean wrote:
&gt; I am starting the process of developing RESTful services, but I am
&gt; getting hung up on the definition of which namespace to apply to the
&gt; concept of a resource / a resource list and I am hoping that I can
&gt; collect some opinions / information to assist me.
&gt; Let's say that I decide to expose a list of widgets as resources at
&gt; the following url:
&gt; GET http://rest.example.org/widgets/
&gt; I could return a list of widgets:
&gt; &lt;widgets xmlns="urn:example-widgets"
&gt;     xmlns:xlink="http://www.w3.org/1999/xlink"&gt;
&gt;     &lt;widget xlink:href="1234/"&gt;Widget A&lt;/widget&gt;
&gt;     &lt;widget xlink:href="1235/"&gt;Widget B&lt;/widget&gt;
&gt; &lt;/widgets&gt;

What you want to ask yourself is "what will my client apps do with this
data?". Do they need to know the names ("Widget A", "Widget B")
associated with each href? What will they do with them? Will they need
extra information to filter down the list you give them to a more
appropriate set? If the answer to any of these questions is "yes, we
need special data" then you have moved away from REST and into the world
of Plain Old XML. REST is mostly about being able to transfer
representations that everyone can understand because it corresponds to a
problem set that everyone has.

You are starting out with hyperlinks, and that is great. That is the
crux of discoverability. If your hyperlinks will be navigable by machine
(no human in the loop) you will probably need a custom XML format to
present the extra data they might need. If you are sure they won't need
any extra data, you could use a simple url list (as in, the media type).
Alternatively, you could use good old xhtml:
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;body&gt;
&lt;ol&gt;
    &lt;li&gt;&lt;a href="1234/"&gt;Widget A&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="1235/"&gt;Widget B&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/html&gt;

You can't get any more standard than that, and it fulfils the use case
you have described so far. This is essentially XOXO[1], but another
microformats possibility is xFolk[2]. This would allow you to add your
own tags to the links you describe, as follows. You can allow clients to
tell the difference between a forklift and a spanner:
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;ol&gt;
    &lt;li class="xfolkentry"&gt;
		&lt;a class="taggedlink" href="1234/"&gt;Widget A&lt;/a&gt;
		(&lt;a href="http://you.example.org/spanner"&gt;spanner&lt;/a&gt;)
	&lt;/li&gt;
    &lt;li class="xfolkentry"&gt;
		&lt;a class="taggedlink" href="1235/"&gt;Widget B&lt;/a&gt;
		(&lt;a href="http://you.example.org/spanner"&gt;forklift&lt;/a&gt;)
	&lt;/li&gt;
&lt;/ol&gt;
&lt;/html&gt;

My personal feeling is that the closer you get to behaving like the web
the more RESTful you are. The more you focus on machine to machin comms
without any human involved, the less RESTful you are. It is often better
to transfer a snippet of HTML that a human can read than a snippet of
xml that a program can parse and process for its human to read.
Microformats find a neat balance by ensuring that machines can still
extract data out of the human-readable content where they need it to do
their processing.

-- 
Benjamin Carlyle &lt;benjamincarlyle@...&gt;
[1] http://microformats.org/wiki/xoxo
[2] http://microformats.org/wiki/xfolk


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5666<br>
Sender:"Jeffrey Winter" &lt;JeffreyWinter@...&gt;<br>
Post Date/Time:2006-02-14 14:28:55<br>
Subject:Press Release of the Year<br>
Message:<br><br>
<pre>

All our prayers have been answered:
 
"Finally!!! There is an Alternative to the Internet....."  

http://www.businesswireindia.com/PressRelease.asp?b2mid=9062

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5667<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-02-19 18:41:06<br>
Subject:The origin of the notion of 'intent'?<br>
Message:<br><br>
<pre>Hi,

I would like to track back to its origin the idea to use a shared  
'intent semantic' between client and server along with a pure data  
submission semantic ('process this'). Does anyone know about  
additional (earlier) mentionings of this concept besides the  
following ones?

HTTP specifies the Expect header:
http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.20

Mark used intent in the former version of RDFForms:
http://markbaker.ca/2003/05/RDF-Forms/rdf-forms-old1.html
There he mentions SOAP 1.1's SOAPAction and SOAP 1.2's action  
attribute as being a means to communicate an intent between client  
and server.

Mark has also written "Unraveling the Mystery of SOAPAction":
http://www.oreillynet.com/pub/wlg/2331?wlg=yes
This essay contains the Panel example with the use of an explicit  
cast to communicate intent beyond the generic add() method (makes me  
wonder of the concept of intent originates from the OO paradigma or  
even from the basic idea of type casting)

That is all I know has been written about 'intent' in the broadest  
sense. Any additional pointers would be apprecieated.

Aside:
In this same essay Mark mentions that SOAPAction/action-feature  
actually does not behave as he describes (Mark, correct me if I am  
misrepresenting you). Looking at the SOAP specs I found that it  
refers to routing as one possible use and I wonder if that is so  
different from what one would actually use 'intent' for?

I think a distinction must be made between receivers that hold state  
that is changed by the data submission (receivers the identity of  
which is important) and receivers that just perform a certain kind of  
processing. I have allways thought of intent as being primarily  
useful when communicating with the latter ones since intent would  
allow (a) receiver discovery by type (intent) and (b) distribution of  
requests across any receiver of the same type (e.g. for load  
balancing). If I for example want to send an email, I do not really  
care which SMTP server actually sends it.

So, maybe the notion of routing (based on intent) is not so different  
after all?

Jan



________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5668<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-02-24 00:26:40<br>
Subject:O'Reilly have just published my REST article<br>
Message:<br><br>
<pre>http://www.onlamp.com/pub/a/python/2006/02/23/using-rest-with-ajax.html

I've got another (more interesting) one in the works about RESTfully
using cookies for authentication. It too will be published on "onlamp"
as soon as.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5669<br>
Sender:"Matthias Willerich" &lt;scheffmeister@...&gt;<br>
Post Date/Time:2006-02-26 18:11:39<br>
Subject:RE: [rest-discuss] O'Reilly have just published my REST article<br>
Message:<br><br>
<pre>&gt; Subject: O'Reilly have just published my REST article
&gt; 
&gt; http://www.onlamp.com/pub/a/python/2006/02/23/using-rest-with-ajax.htm
&gt; l
&gt; 
I've read it on Friday, via a link from ajaxian.com. I had been researching
the same thing and I'm 95% finished with my article... I guess you can't
always be the first. When I read the title, I thought I can as well leave
it, as o'reilly articles are usually well-written (as is yours), but as I
chose PHP as server language and also make use of a proxy, I think it's
still worth finishing it off, one day when I find the time.

&gt; I've got another (more interesting) one in the works about RESTfully 
&gt; using cookies for authentication. It too will be published on "onlamp"
&gt; as soon as.
Go for it, I can't wait.

Cheers,
Matthias



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5670<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-02-26 21:51:52<br>
Subject:Re: [rest-discuss] O'Reilly have just published my REST article<br>
Message:<br><br>
<pre>"Matthias Willerich" &lt;scheffmeister@...&gt; writes:

&gt;&gt; Subject: O'Reilly have just published my REST article
&gt;&gt; 
&gt;&gt; http://www.onlamp.com/pub/a/python/2006/02/23/using-rest-with-ajax.htm
&gt;&gt; l
&gt;&gt; 
&gt; I've read it on Friday, via a link from ajaxian.com. I had been researching
&gt; the same thing and I'm 95% finished with my article... I guess you can't
&gt; always be the first. When I read the title, I thought I can as well leave
&gt; it, as o'reilly articles are usually well-written (as is yours), but as I
&gt; chose PHP as server language and also make use of a proxy, I think it's
&gt; still worth finishing it off, one day when I find the time.

The more examples there are the better.

Write your article!


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5671<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-02-27 18:43:35<br>
Subject:Re: [rest-discuss] O'Reilly have just published my REST article<br>
Message:<br><br>
<pre>Nic wrote:
&gt; http://www.onlamp.com/pub/a/python/2006/02/23/using-rest-with-ajax.html
&gt;
&gt; I've got another (more interesting) one in the works about RESTfully
&gt; using cookies for authentication. It too will be published on "onlamp"
&gt; as soon as.
&gt;   
Thanks for the great article.  This is the first concrete example I have 
found anywhere of a non-trivial REST system.  Everything else I have 
seen seems to come in the abstract.  If you know of any others, let me know.

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5672<br>
Sender:"adamratcliffe2002" &lt;adam@...&gt;<br>
Post Date/Time:2006-02-27 18:59:18<br>
Subject:Re: O'Reilly have just published my REST article<br>
Message:<br><br>
<pre>Hi Nic!

Enjoyed your article.  One comment, Safari's XHR implementation is a little bit broken, PUT 
and DELETE requests are silently converted to GETs.

Cheers
Adam








</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5673<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-02-27 22:42:33<br>
Subject:Re: [rest-discuss] Re: O'Reilly have just published my REST article<br>
Message:<br><br>
<pre>"adamratcliffe2002" &lt;adam@...&gt; writes:

&gt; Hi Nic!
&gt;
&gt; Enjoyed your article.  One comment, Safari's XHR implementation is a little bit broken, PUT 
&gt; and DELETE requests are silently converted to GETs.

I am incredulous??! Is this really so?

Is there some config option somewhere that is forcing this bizarre
behaviour?

Isn't Safari based on Konqueror? or is it a moz based thing? I haven't
used a mac in years.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5674<br>
Sender:Elias Sinderson &lt;elias@...&gt;<br>
Post Date/Time:2006-02-27 23:07:37<br>
Subject:Re: [rest-discuss] Re: O'Reilly have just published my REST article<br>
Message:<br><br>
<pre>Nic wrote:

&gt;"adamratcliffe2002" &lt;adam@...&gt; writes:
&gt;  
&gt;
&gt;&gt;[...] Safari's XHR implementation is a little bit broken, PUT 
&gt;&gt;and DELETE requests are silently converted to GETs.
&gt;&gt;    
&gt;&gt;
&gt;I am incredulous??! Is this really so?
&gt;  
&gt;
+1,  it seems so incredibly broken for that to be the default behavior 
-- I don't think most REST apps would even work in Safari if it were 
mapping PUT to GET... Can anyone else confirm or deny this behavior?


Best,
Elias

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5675<br>
Sender:Adam Ratcliffe &lt;adam@...&gt;<br>
Post Date/Time:2006-02-27 23:14:01<br>
Subject:Re: [rest-discuss] Re: O'Reilly have just published my REST article<br>
Message:<br><br>
<pre>There's a little more on this issue at: http://www.franklinmint.fm/ 
blog/archives/000619.html

Cheers
Adam

On 28 Feb, 2006, at 11:42 AM, Nic wrote:

&gt; "adamratcliffe2002" &lt;adam@...&gt; writes:
&gt;
&gt;&gt; Hi Nic!
&gt;&gt;
&gt;&gt; Enjoyed your article.  One comment, Safari's XHR implementation is  
&gt;&gt; a little bit broken, PUT
&gt;&gt; and DELETE requests are silently converted to GETs.
&gt;
&gt; I am incredulous??! Is this really so?
&gt;
&gt; Is there some config option somewhere that is forcing this bizarre
&gt; behaviour?
&gt;
&gt; Isn't Safari based on Konqueror? or is it a moz based thing? I haven't
&gt; used a mac in years.
&gt;
&gt;
&gt; Nic
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5676<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2006-02-28 14:12:58<br>
Subject:Re: [rest-discuss] Press Release of the Year<br>
Message:<br><br>
<pre>Jeffrey Winter wrote:
&gt; 
&gt; All our prayers have been answered:
&gt;  
&gt; "Finally!!! There is an Alternative to the Internet....."  
&gt; 
&gt; http://www.businesswireindia.com/PressRelease.asp?b2mid=9062

Maybe they should remove the patents and try to standardise an ISO 
networking model.

...Oh yeah, I forgot...

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5677<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-03-01 21:56:40<br>
Subject:RDFForms: comment on rf:form<br>
Message:<br><br>
<pre>Hi Mark,

this is a comment onthe section

"Form" and "method" of http://www.markbaker.ca/2003/05/RDF-Forms/

You present the RDF below as an alternative to the rf:Container  
example appearing earlier in the text.

&lt;rf:Form rf:method="POST"
          xmlns:rf="http://www.markbaker.ca/2003/rdfforms/"
          xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
          rdf:about="http://shoes.example.com/order-processor/"&gt;
   &lt;rf:acceptedMediaType&gt;application/rdf+xml&lt;/rf:acceptedMediaType&gt;
&lt;/rf:Form&gt;

You mention the problem that rf:method suggests that the processor  
implements the POST method.

I have two additional questions:

The RDF also asserts that the processor is of rdf:type rf:Form, which  
also does not seem to be the intended semantic, yes?

What is the intention of the rf:Form in general? What does it tell  
the client that cannot be accomplished with the existing  
(rf:Container etc.) mechanism already?

You write (regarding rf:method):

"The intended interpretation is that the method be considered as a  
descriptor of this instance of the form itself - which is why the use  
of rdf:type in Container/Indexable/Settable was appropriate."

I have trouble understanding what this gets at, can you explain?

Thanks.

Jan







________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5678<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-03-01 23:45:07<br>
Subject:Re: [rest-discuss] The origin of the notion of 'intent'?<br>
Message:<br><br>
<pre>FWIW, the first instantiation of this concept (in general, at least)
that I'm aware of was from PEP, specifically the "Accept-Protocol"
HTTP header;

http://www.w3.org/TR/WD-http-pep-951122

Mark.

On 2/19/06, Jan Algermissen &lt;jalgermissen@...&gt; wrote:
&gt; Hi,
&gt;
&gt; I would like to track back to its origin the idea to use a shared
&gt; 'intent semantic' between client and server along with a pure data
&gt; submission semantic ('process this'). Does anyone know about
&gt; additional (earlier) mentionings of this concept besides the
&gt; following ones?
&gt;
&gt; HTTP specifies the Expect header:
&gt; http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.20
&gt;
&gt; Mark used intent in the former version of RDFForms:
&gt; http://markbaker.ca/2003/05/RDF-Forms/rdf-forms-old1.html
&gt; There he mentions SOAP 1.1's SOAPAction and SOAP 1.2's action
&gt; attribute as being a means to communicate an intent between client
&gt; and server.
&gt;
&gt; Mark has also written "Unraveling the Mystery of SOAPAction":
&gt; http://www.oreillynet.com/pub/wlg/2331?wlg=yes
&gt; This essay contains the Panel example with the use of an explicit
&gt; cast to communicate intent beyond the generic add() method (makes me
&gt; wonder of the concept of intent originates from the OO paradigma or
&gt; even from the basic idea of type casting)
&gt;
&gt; That is all I know has been written about 'intent' in the broadest
&gt; sense. Any additional pointers would be apprecieated.
&gt;
&gt; Aside:
&gt; In this same essay Mark mentions that SOAPAction/action-feature
&gt; actually does not behave as he describes (Mark, correct me if I am
&gt; misrepresenting you). Looking at the SOAP specs I found that it
&gt; refers to routing as one possible use and I wonder if that is so
&gt; different from what one would actually use 'intent' for?
&gt;
&gt; I think a distinction must be made between receivers that hold state
&gt; that is changed by the data submission (receivers the identity of
&gt; which is important) and receivers that just perform a certain kind of
&gt; processing. I have allways thought of intent as being primarily
&gt; useful when communicating with the latter ones since intent would
&gt; allow (a) receiver discovery by type (intent) and (b) distribution of
&gt; requests across any receiver of the same type (e.g. for load
&gt; balancing). If I for example want to send an email, I do not really
&gt; care which SMTP server actually sends it.
&gt;
&gt; So, maybe the notion of routing (based on intent) is not so different
&gt; after all?
&gt;
&gt; Jan
&gt;
&gt;
&gt;
&gt; ________________________________________________________________________
&gt; _______________
&gt; Jan Algermissen, Consultant &amp; Programmer
&gt; http://jalgermissen.com
&gt; Tugboat Consulting, 'Applying Web technology to enterprise IT'
&gt; http://www.tugboat.de
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;


--
Mark Baker.  Ottawa, Ontario, CANADA.       http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5679<br>
Sender:"Billy Newport" &lt;billy@...&gt;<br>
Post Date/Time:2006-03-06 20:13:32<br>
Subject:REST and protocols<br>
Message:<br><br>
<pre>So,
I have a couple of questions. I work on middleware at IBM. Suppose I 
used REST as my protocol for accessing data stored in a database.

On the surface, looks like a good match but how do I use REST to make 
multiple updates in a single atomic operation? I can see how I'd pull 
the entry for bnewport from a cache, but what about all the records 
whose age is &gt; 37?

What about pulling bnewport and jackwilson, for example, in one RPC? 
Looks like the REST stuff cannot deal with multiple records per server 
interaction and if performance doesn't matter than I could solve it 
using multiple RPCs but alas, thats rarely the case.

There's also the atomic multiple update issue. I see lots of 
advantages for using REST as a data-client -&gt; data server protocol. 
How do I do transactions using REST? begin, updates, commit?

Thanks






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5680<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-03-06 22:45:13<br>
Subject:Re: [rest-discuss] REST and protocols<br>
Message:<br><br>
<pre>On 3/6/06, Billy Newport &lt;billy@...&gt; wrote:
&gt; So,
&gt; I have a couple of questions. I work on middleware at IBM. Suppose I
&gt; used REST as my protocol for accessing data stored in a database.
&gt;

This isn't really nitpicking, honest: REST is an architectural style.
HTTP is an application protocol. Good HTTP apps are usually RESTful.

Most of your questions below seem most related to HTTP.


&gt; On the surface, looks like a good match but how do I use REST to make
&gt; multiple updates in a single atomic operation?

s/REST/HTTP/. You have to determine what a "resource" is in your
model. For updating  resources you'd normally use PUT, but if they
must update atomically you can use POST with some custom xml.

&gt;I can see how I'd pull
&gt; the entry for bnewport from a cache, but what about all the records
&gt; whose age is &gt; 37?
&gt;

Well it's up to you whether you want to build a system that defines
URIs ending in a query string.


&gt; What about pulling bnewport and jackwilson, for example, in one RPC?
&gt; Looks like the REST stuff cannot deal with multiple records per server
&gt; interaction

Try not to think of it as RPC. You just GET, PUT, POST, DELETE
resources. Google returns you multiple records all the time, right?

&gt; and if performance doesn't matter than I could solve it
&gt; using multiple RPCs but alas, thats rarely the case.
&gt;

 I think you meant "round trips", and yeah, it's worth spending some
time eliminating round trips.

&gt; There's also the atomic multiple update issue. I see lots of
&gt; advantages for using REST as a data-client -&gt; data server protocol.
&gt; How do I do transactions using REST? begin, updates, commit?
&gt;

Again, HTTP. There's really not a built in mechanism to do
transactions in HTTP. I can imagine POSTing some form with URIs I want
to modify, to create a transaction resource, the returned entity
telling me URLs I can use to do the updates. Then maybe when I'm done
changing them, PUT the tx resource back with a flag saying "commit",
or maybe DELETE it.  I'm not saying this is a good idea. But that's a
kind of RESTful approach.


&gt; Thanks
&gt;

A lot of the questions you are raising are being addressed by the
Atompub working group:

http://www.intertwingly.net/wiki/pie/FrontPage



--
Hugh Winkler
Wellstorm Development

http://www.wellstorm.com/
+1 512 694 4795 mobile (preferred)
+1 512 264 3998 office

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5681<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-06 22:37:38<br>
Subject:Re: [rest-discuss] REST and protocols<br>
Message:<br><br>
<pre>"Billy Newport" &lt;billy@...&gt; writes:

&gt; So,
&gt; I have a couple of questions. I work on middleware at IBM. Suppose I 
&gt; used REST as my protocol for accessing data stored in a database.
&gt;
&gt; On the surface, looks like a good match but how do I use REST to make 
&gt; multiple updates in a single atomic operation? I can see how I'd pull 
&gt; the entry for bnewport from a cache, but what about all the records 
&gt; whose age is &gt; 37?

Simply build an API that supports that. There's no reason why you
can't POST multiple datums at once.

But you don't have to do that, see below.


&gt; What about pulling bnewport and jackwilson, for example, in one RPC? 
&gt; Looks like the REST stuff cannot deal with multiple records per server 
&gt; interaction and if performance doesn't matter than I could solve it 
&gt; using multiple RPCs but alas, thats rarely the case.
&gt;
&gt; There's also the atomic multiple update issue. I see lots of 
&gt; advantages for using REST as a data-client -&gt; data server protocol. 
&gt; How do I do transactions using REST? begin, updates, commit?

Build a transaction API; for example:

  POST /transaction          =&gt; transaction id

now put some data into it:

  POST /transaction/{trnid}
  somedata

  POST /transaction/{trnid}
  moredata

  POST /transaction/{trnid}
  evenmoredata

now commit it:

  GET /transaction/{trnid}  =&gt; transaction representation

  PUT /transaction/{trnid}
  {transaction representation}


I would say that you've misunderstood REST. It's not as complicated as
you think it is.


Nic Ferrier

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5682<br>
Sender:billy@...<br>
Post Date/Time:2006-03-07 03:39:11<br>
Subject:Re: REST and protocols<br>
Message:<br><br>
<pre>Nic writes: 

&gt; "Billy Newport" &lt;billy@...&gt; writes: 
&gt; 
&gt;&gt; So,
&gt;&gt; I have a couple of questions. I work on middleware at IBM. Suppose I 
&gt;&gt; used REST as my protocol for accessing data stored in a database. 
&gt;&gt;
&gt;&gt; On the surface, looks like a good match but how do I use REST to make 
&gt;&gt; multiple updates in a single atomic operation? I can see how I'd pull 
&gt;&gt; the entry for bnewport from a cache, but what about all the records 
&gt;&gt; whose age is &gt; 37?
&gt; 
&gt; Simply build an API that supports that. There's no reason why you
&gt; can't POST multiple datums at once. 
&gt; 
&gt; But you don't have to do that, see below. 
&gt; 
&gt; 
&gt;&gt; What about pulling bnewport and jackwilson, for example, in one RPC? 
&gt;&gt; Looks like the REST stuff cannot deal with multiple records per server 
&gt;&gt; interaction and if performance doesn't matter than I could solve it 
&gt;&gt; using multiple RPCs but alas, thats rarely the case. 
&gt;&gt;
&gt;&gt; There's also the atomic multiple update issue. I see lots of 
&gt;&gt; advantages for using REST as a data-client -&gt; data server protocol. 
&gt;&gt; How do I do transactions using REST? begin, updates, commit?
&gt; 
&gt; Build a transaction API; for example: 
&gt; 
&gt;   POST /transaction          =&gt; transaction id 
&gt; 
&gt; now put some data into it: 
&gt; 
&gt;   POST /transaction/{trnid}
&gt;   somedata 
&gt; 
&gt;   POST /transaction/{trnid}
&gt;   moredata 
&gt; 
&gt;   POST /transaction/{trnid}
&gt;   evenmoredata 
&gt; 
&gt; now commit it: 
&gt; 
&gt;   GET /transaction/{trnid}  =&gt; transaction representation 
&gt; 
&gt;   PUT /transaction/{trnid}
&gt;   {transaction representation} 
&gt; 
&gt; 
&gt; I would say that you've misunderstood REST. It's not as complicated as
&gt; you think it is. 
&gt; 
&gt; 
&gt; Nic Ferrier

I don't know, one of the advantages of REST with HTTP was compatibility with 
HTTP security like web seal etc. Your suggestion above hides the records in 
the transaction representation which looks no better than SOAP in terms of 
leveraging HTTP caching, security etc. These looks like pluses to me as REST 
can leverage these builtin HTTP services. I thought unless the record keys 
etc are encoded in the URL then I may as well use SOAP, no? 

Billy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5683<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2006-03-07 04:51:27<br>
Subject:RE: [rest-discuss] REST and protocols<br>
Message:<br><br>
<pre> 
&gt; On the surface, looks like a good match but how do I use REST 
&gt; to make multiple updates in a single atomic operation? 
REST describes interactions with resources - define your resources to
encompass the multiple entities you want to update.

&gt; I can see how I'd pull the entry for bnewport from a cache, but 
&gt; what about all the records whose age is &gt; 37?
You'd use an identifier like http://billy.com/people/?age=&gt;37
This is very similar to a SQL clause of "WHERE age &gt; 37". In fact, SQL has
many RESTful aspects - it's a uniform interface for lots of kinds of data
with a small number of common verbs.


&gt; 
&gt; What about pulling bnewport and jackwilson, for example, in one RPC? 
The SQL expression of "WHERE user_id in ('bnewport','jackwilson')" is a
single "resource identifier" which encompasses multiple entities, and you
could alternatively phrase that in URI-speak as
"http://billy.com/people?user_id=bnewport,jackwilson" - the actual
implementation of that resource might or might not be accomplished with a
relational database and SQL statements.


&gt; Looks like the REST stuff cannot deal with multiple records 
&gt; per server interaction and if performance doesn't matter than 
&gt; I could solve it using multiple RPCs but alas, thats rarely the case.
HTTP deals with resources, so just define your resources to encompass
multiple records.

&gt; 
&gt; There's also the atomic multiple update issue. I see lots of 
&gt; advantages for using REST as a data-client -&gt; data server protocol. 
&gt; How do I do transactions using REST? begin, updates, commit?
Through using a stateless approach, HTTP opened up many more possible
applications than a 'begin, update, commit' style protocol. That is one of
the premises of REST as an architectural style. It's not a bug, it's a
feature.
If you require transactions, then each request in a RESTful system would be
the unit of work - an ACID transaction would not cross that request
boundary. You can do such things as asynchronous replies upon completion of
that initial transactional request, but that's not at all a 'begin, update,
commit' pattern.




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5684<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2006-03-07 04:51:25<br>
Subject:RE: [rest-discuss] Re: REST and protocols<br>
Message:<br><br>
<pre>
&gt; I thought unless the record keys etc are encoded in the URL then I may as
well use SOAP, no? 
It's your application design choice as to whether 'record keys' are the same
as 'resource identifiers' - a resource might encompass more than one
'record'.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5685<br>
Sender:Jonathan Arkell &lt;yahoo@...&gt;<br>
Post Date/Time:2006-03-07 05:31:29<br>
Subject:Re: [rest-discuss] REST and protocols<br>
Message:<br><br>
<pre>Billy Newport wrote:
&gt; So,
&gt; I have a couple of questions. I work on middleware at IBM. Suppose I
&gt; used REST as my protocol for accessing data stored in a database.

I think that the primary cause of your confusion is trying to map CRUD
to PGPD (Post, Get, Put, Delete).  This is not necessarily so; POST can
create, update OR delete, it can also do other non-CRUD things like, for
example, update a list of RSS feeds or get the latest version of a
software release from a SVN repository.  PUT can create a new resource,
or it can update an existing resource.  The difference between a PUT and
a POST is that a POST will not necessarily act on the resource that it
is POSTed to, but a PUT will always act on the named resource.

For example:
PUT /sometable/somedata updates or creates the somedata resource
POST /sometable maybe creates or updates a somedata resource

Or at least, that is how I understand things.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5686<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-07 08:59:18<br>
Subject:Re: REST and protocols<br>
Message:<br><br>
<pre>billy@... writes:

&gt; Nic writes: 
&gt;
&gt;&gt; "Billy Newport" &lt;billy@...&gt; writes: 
&gt;&gt; 
&gt;&gt;&gt; So,
&gt;&gt;&gt; I have a couple of questions. I work on middleware at IBM. Suppose I 
&gt;&gt;&gt; used REST as my protocol for accessing data stored in a database. 
&gt;&gt;&gt;
&gt;&gt;&gt; On the surface, looks like a good match but how do I use REST to make 
&gt;&gt;&gt; multiple updates in a single atomic operation? I can see how I'd pull 
&gt;&gt;&gt; the entry for bnewport from a cache, but what about all the records 
&gt;&gt;&gt; whose age is &gt; 37?
&gt;&gt; 
&gt;&gt; Simply build an API that supports that. There's no reason why you
&gt;&gt; can't POST multiple datums at once. 
&gt;&gt; 
&gt;&gt; But you don't have to do that, see below. 
&gt;&gt; 
&gt;&gt; 
&gt;&gt;&gt; What about pulling bnewport and jackwilson, for example, in one RPC? 
&gt;&gt;&gt; Looks like the REST stuff cannot deal with multiple records per server 
&gt;&gt;&gt; interaction and if performance doesn't matter than I could solve it 
&gt;&gt;&gt; using multiple RPCs but alas, thats rarely the case. 
&gt;&gt;&gt;
&gt;&gt;&gt; There's also the atomic multiple update issue. I see lots of 
&gt;&gt;&gt; advantages for using REST as a data-client -&gt; data server protocol. 
&gt;&gt;&gt; How do I do transactions using REST? begin, updates, commit?
&gt;&gt; 
&gt;&gt; Build a transaction API; for example: 
&gt;&gt; 
&gt;&gt;   POST /transaction          =&gt; transaction id 
&gt;&gt; 
&gt;&gt; now put some data into it: 
&gt;&gt; 
&gt;&gt;   POST /transaction/{trnid}
&gt;&gt;   somedata 
&gt;&gt; 
&gt;&gt;   POST /transaction/{trnid}
&gt;&gt;   moredata 
&gt;&gt; 
&gt;&gt;   POST /transaction/{trnid}
&gt;&gt;   evenmoredata 
&gt;&gt; 
&gt;&gt; now commit it: 
&gt;&gt; 
&gt;&gt;   GET /transaction/{trnid}  =&gt; transaction representation 
&gt;&gt; 
&gt;&gt;   PUT /transaction/{trnid}
&gt;&gt;   {transaction representation} 
&gt;&gt; 
&gt;&gt; 
&gt;&gt; I would say that you've misunderstood REST. It's not as complicated as
&gt;&gt; you think it is. 
&gt;&gt; 
&gt;&gt; 
&gt;&gt; Nic Ferrier
&gt;
&gt; I don't know, one of the advantages of REST with HTTP was compatibility with 
&gt; HTTP security like web seal etc. Your suggestion above hides the records in 
&gt; the transaction representation which looks no better than SOAP in terms of 
&gt; leveraging HTTP caching, security etc. 

There isn't normally much caching with POST.


I can't see why the above stops you doing security.



&gt; These looks like pluses to me as REST 
&gt; can leverage these builtin HTTP services. 

Absolutely. It's also just easier to do. Making a SOAP client/server
to do what I was talking about would be significant. The REST code is
just some handler.


&gt; I thought unless the record keys etc are encoded in the URL then I
&gt; may as well use SOAP, no?

No. Resources can be anything.


Bear in mind that my transaction design was just one way. A pretty
obvious mapping between the concept of a transaction and REST. As
other people have pointed out, you don't have to do it that way.



Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5687<br>
Sender:toydi &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2006-03-09 10:21:52<br>
Subject:Re: [rest-discuss] REST and protocols<br>
Message:<br><br>
<pre>Hi,

On 3/7/06, Billy Newport &lt;billy@...&gt; wrote:
&gt; What about pulling bnewport and jackwilson, for example, in one RPC?
&gt; Looks like the REST stuff cannot deal with multiple records per server
&gt; interaction and if performance doesn't matter than I could solve it
&gt; using multiple RPCs but alas, thats rarely the case.

Maybe you can think of client A is trying to interact with a record
retrieval service. That service is a resource, thus it has a URL
address.

When client A contacts the service, a form is sent back. In this case
for example a list of names in a multiple selection box. Client A
fill-in the form by selecting desired names, and submit. Here's where
a HTTP GET message with parameters encoded in URL is generated and
sent to the server.

Hypermedia (forms, hyperlinks, etc) seems to be instructions set
included in a received message, telling clients what to do next in
order to receive the next desired message.. until the
business/application process ends.

Just my two cents. :-)

Cheers,
--
Teo HuiMing (toydi)
teohuiming.work at gmail dot com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5688<br>
Sender:=?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;bill@...&gt;<br>
Post Date/Time:2006-03-12 20:03:51<br>
Subject:Re: [rest-discuss] REST and protocols<br>
Message:<br><br>
<pre>Billy Newport wrote:
&gt; So,
&gt; I have a couple of questions. I work on middleware at IBM. Suppose I
&gt; used REST as my protocol for accessing data stored in a database.
&gt;
&gt; On the surface, looks like a good match but how do I use REST to make
&gt; multiple updates in a single atomic operation? 
You define a content format for updates so clients can send the update 
records to the server. This is what RSS/Atom provides for /fetching/ 
multiple records. You then need to expose the resource (a txn manager?) 
with a URI, and send the content there. 

Actually your best bet is to use RSS/Atom as your content format.


&gt; What about pulling bnewport and jackwilson, for example, in one RPC?
See above point about RSS/Atom.


&gt; Looks like the REST stuff cannot deal with multiple records per server
&gt; interaction and if performance doesn't matter than I could solve it
&gt; using multiple RPCs but alas, thats rarely the case.
&gt; There's also the atomic multiple update issue. I see lots of
&gt; advantages for using REST as a data-client -&gt; data server protocol.
&gt; How do I do transactions using REST? begin, updates, commit?

"REST stuff" I would describe to someone dealing in "TXN Stuff" as 
record oriented because it deals in identifiers that denotate single 
resources rather than managers and monitors. Support for 
collections/enumerations/queues is something you layer on top.  For HTTP 
specifically you need a shared format and perhaps some extra methods and 
response codes. WebDAV and Atom have the most and best prior art in this 
area imo.

cheers
Bill


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5689<br>
Sender:"Robert Cerny" &lt;robert_cerny@...&gt;<br>
Post Date/Time:2006-03-13 09:13:47<br>
Subject:Functional testing of RESTful web apps<br>
Message:<br><br>
<pre>Hello,

Does anybody have experiences with functional testing of RESTful web
applications? Any tools that work well for you? I looked into FunkLoad
(http://funkload.nuxeo.org), which has everything i need, but only for
GET/POST/Form focused web applications.

Thanks in advance,
Robert






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5690<br>
Sender:"Logan, Patrick D" &lt;patrick.d.logan@...&gt;<br>
Post Date/Time:2006-03-13 20:18:00<br>
Subject:RE: REST and protocols<br>
Message:<br><br>
<pre>&gt; ...RSS/Atom provides for /fetching/ multiple records. You then need
&gt; to expose the resource (a txn manager?) with a URI, and send the
&gt; content there... Actually your best bet is to use RSS/Atom as your
&gt; content format.

Bill -- I'm trying to tie a few ideas together. Is the other best bet
also to use the Atom Publishing Protocol? How does this fit in with
something like HTTPLR? APP and the Atom format together have some of
what a reliable message needs. Is there some combination of these and
HTTPLR, or something else that you might recommend?

&gt; For HTTP specifically you need a shared format and perhaps some
&gt; extra methods and response codes. WebDAV and Atom have the most and
&gt; best prior art in this area imo.

When would one be justified in adding methods and response codes? APP
does not add or change anything, right?

Thanks,
Patrick


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5691<br>
Sender:"Claude Montpetit" &lt;claude@...&gt;<br>
Post Date/Time:2006-03-15 15:04:08<br>
Subject:REST and JMS<br>
Message:<br><br>
<pre>I have to modify an existing system so it can scale and I would like a
REST perspective on it. I understand that using a scalable clusterable
J2EE framework may "solve" this but I am looking for simpler alternatives.

There are 1 or more servers offering services (ok, I should say
"resource" from now on, but they are in fact batch services that
produce a resource). Resource types may be identical between each
server, or different. Resources may have limited access, that is, they
may accept only a few request at a time. When a server is busy on a
resource (it may return HTTP code 503), clients can try with another
server that offers the same resource. When a resource type is not
available, it returns a 404. Example:

 Server1:
  * ResourceTypeA
  * ResourceTypeB

 Server2:
  * ResourceTypeA
  * ResourceTypeC

If resourceTypeA is busy on server1, clients can try on server2.

We need clients not to be aware of all different servers out there. So
we need some kind of server registry, and a router that will queue all
requests from clients to those servers. Thus, JMS queues seems like a
good fit:

    server-1 server-2 
       |        | 
  JMS-Server-with-queues
     |       |        |  
   client1 client2 client3

Does anyone have a suggestion on how to achieve this with a RESTFul
architecture, without a JMS server? I know we could write client code
that obtains the server list, and iterates through each but this can
grow into a little beast if we must parametize it with delays between
attempts, number of retries and so on.

Claude




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5692<br>
Sender:"Jeffrey Winter" &lt;JeffreyWinter@...&gt;<br>
Post Date/Time:2006-03-15 15:31:09<br>
Subject:RE: [rest-discuss] REST and JMS<br>
Message:<br><br>
<pre>&gt; When a server is busy on a
&gt; resource (it may return HTTP code 503), clients can try with another
&gt; server that offers the same resource.

Instead have the server response with a status 302 - Found and set
the Location header to be another server.


-----Original Message-----
From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com]
On Behalf Of Claude Montpetit
Sent: Wednesday, March 15, 2006 10:04 AM
To: rest-discuss@yahoogroups.com
Subject: [rest-discuss] REST and JMS

I have to modify an existing system so it can scale and I would like a
REST perspective on it. I understand that using a scalable clusterable
J2EE framework may "solve" this but I am looking for simpler
alternatives.

There are 1 or more servers offering services (ok, I should say
"resource" from now on, but they are in fact batch services that
produce a resource). Resource types may be identical between each
server, or different. Resources may have limited access, that is, they
may accept only a few request at a time. When a server is busy on a
resource (it may return HTTP code 503), clients can try with another
server that offers the same resource. When a resource type is not
available, it returns a 404. Example:

 Server1:
  * ResourceTypeA
  * ResourceTypeB

 Server2:
  * ResourceTypeA
  * ResourceTypeC

If resourceTypeA is busy on server1, clients can try on server2.

We need clients not to be aware of all different servers out there. So
we need some kind of server registry, and a router that will queue all
requests from clients to those servers. Thus, JMS queues seems like a
good fit:

    server-1 server-2 
       |        | 
  JMS-Server-with-queues
     |       |        |  
   client1 client2 client3

Does anyone have a suggestion on how to achieve this with a RESTFul
architecture, without a JMS server? I know we could write client code
that obtains the server list, and iterates through each but this can
grow into a little beast if we must parametize it with delays between
attempts, number of retries and so on.

Claude





 
Yahoo! Groups Links



 




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5693<br>
Sender:Jonathan Arkell &lt;yahoo@...&gt;<br>
Post Date/Time:2006-03-15 19:41:17<br>
Subject:uFormats applied to the URI<br>
Message:<br><br>
<pre>I had a thought:  Could the microformat process be applied to URIs as
well as markup?

For example, the URI example.com/tag tends to be a collection of tags:
http://del.icio.us/tag/
http://technorati.com/tag
http://www.flickr.com/photos/tags  (flicker adds an s)

http://www.technorati.com/search
http://www.google.ca/search
http://www.flickr.com/photos/search

Are there any other examples out there?  Is this something worth
pursuing?  Having a well defined set of URIs might be quite useful,
especially in a REST context.

Cheers
Jonathan Arkell

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5694<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-03-15 20:12:10<br>
Subject:Re: [rest-discuss] uFormats applied to the URI<br>
Message:<br><br>
<pre>If you mean standardizing on URI structure, that's actually counter to
REST's hypermedia application model constraint.  The RESTful approach
would be to standardize on a data element which declared "the resource
identified by this URI is a collection of tags", along with some
instructions (aka, a form) provided by the server describing how to
construct a URI for a particular tag given the collection URI plus the
name of the TAG.

On 3/15/06, Jonathan Arkell &lt;yahoo@...&gt; wrote:
&gt; I had a thought:  Could the microformat process be applied to URIs as
&gt; well as markup?
&gt;
&gt; For example, the URI example.com/tag tends to be a collection of tags:
&gt; http://del.icio.us/tag/
&gt; http://technorati.com/tag
&gt; http://www.flickr.com/photos/tags  (flicker adds an s)
&gt;
&gt; http://www.technorati.com/search
&gt; http://www.google.ca/search
&gt; http://www.flickr.com/photos/search
&gt;
&gt; Are there any other examples out there?  Is this something worth
&gt; pursuing?  Having a well defined set of URIs might be quite useful,
&gt; especially in a REST context.
&gt;
&gt; Cheers
&gt; Jonathan Arkell

--
Mark Baker.  Ottawa, Ontario, CANADA.       http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5695<br>
Sender:David Powell &lt;djpowell@...&gt;<br>
Post Date/Time:2006-03-15 20:20:32<br>
Subject:Re: [rest-discuss] uFormats applied to the URI<br>
Message:<br><br>
<pre>
Wednesday, March 15, 2006, 7:41:17 PM, you wrote:

&gt; I had a thought:  Could the microformat process be applied to URIs as
&gt; well as markup?

&gt; For example, the URI example.com/tag tends to be a collection of tags:
&gt; http://del.icio.us/tag/
&gt; http://technorati.com/tag
&gt; http://www.flickr.com/photos/tags  (flicker adds an s)

&gt; http://www.technorati.com/search
&gt; http://www.google.ca/search
&gt; http://www.flickr.com/photos/search

&gt; Are there any other examples out there?  Is this something worth
&gt; pursuing?  Having a well defined set of URIs might be quite useful,
&gt; especially in a REST context.

It's done quite frequently - eg:

http://www.example.com/robots.txt
http://www.example.com/favicon.ico
http://www.example.com/w3c/p3p

However, it is regarded by some (myself included) as an anti-pattern.
There is a TAG issue about it here:
http://www.w3.org/2001/tag/issues.html#siteData-36
There is no accepted solution yet.

The problem is that the web architecture doesn't have a notion of a
"web site".  Assuming that users can put documents at any location is
unrealistic, many users have only a certain path prefix delegated to
them eg: /~user/index.html

It has a feeling of land grab by standard committee too. I don't like
the idea that the W3C or whoever can suddenly tell me,
retrospectively, that I can't put files in certain locations because
those locations now have a special meaning.

Some of the proposed solutions that I can remember were:

* Use the MGET method to get metadata about a URL, which could contain
pointers to appropriate locations.

* Use Link headers in response to HEAD or GET.

* Use link constructs in the representation, eg HTML &lt;link&gt; elements.

* A quirky DNS lookup thing, that I've forgotten the name of.

-- 
Dave


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5696<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-15 20:42:56<br>
Subject:Re: [rest-discuss] uFormats applied to the URI<br>
Message:<br><br>
<pre>David Powell &lt;djpowell@...&gt; writes:

&gt; It's done quite frequently - eg:
&gt;
&gt; http://www.example.com/robots.txt
&gt; http://www.example.com/favicon.ico
&gt; http://www.example.com/w3c/p3p
&gt;
&gt; However, it is regarded by some (myself included) as an anti-pattern.
&gt; There is a TAG issue about it here:
&gt; http://www.w3.org/2001/tag/issues.html#siteData-36
&gt; There is no accepted solution yet.
&gt;
&gt; The problem is that the web architecture doesn't have a notion of a
&gt; "web site".  Assuming that users can put documents at any location is
&gt; unrealistic, many users have only a certain path prefix delegated to
&gt; them eg: /~user/index.html
&gt;
&gt; It has a feeling of land grab by standard committee too. I don't like
&gt; the idea that the W3C or whoever can suddenly tell me,
&gt; retrospectively, that I can't put files in certain locations because
&gt; those locations now have a special meaning.
&gt;
&gt; Some of the proposed solutions that I can remember were:
&gt;
&gt; * Use the MGET method to get metadata about a URL, which could contain
&gt; pointers to appropriate locations.
&gt;
&gt; * Use Link headers in response to HEAD or GET.
&gt;
&gt; * Use link constructs in the representation, eg HTML &lt;link&gt; elements.
&gt;
&gt; * A quirky DNS lookup thing, that I've forgotten the name of.

I think content neg could contribute to solving this; eg: for
robots.txt:

GET / HTTP/1.1
Host: someplace.com
Accept: robot/robot

I think that would work for p3p and most other meta data requirements
as well.


As for the favicon,  I never understood why that wasn't an HTML LINK
type.


Nic Ferrier

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5697<br>
Sender:"Berend de Boer" &lt;berend@...&gt;<br>
Post Date/Time:2006-03-15 21:35:41<br>
Subject:Cookie-less HTTP authentication how-to available<br>
Message:<br><br>
<pre>Hello All,

There has been a lot of discussion in the past about how to do pure
HTTP authentication without cookies. I've seen one solution posted to
this list, by Jean-Michel Hiver, however it is outdated as his code
doesn't work with the latest Apache + mod_perl, and he doesn't
clearly indicate the limitations against all modern browsers. And I
prefer to use Digest authentication instead of Basic.

As I had a need for this myself, I've taken the plunge and done a
really exhaustive examination of doing authentication without
cookies. Including being able to do the following:

  1. Optional authentication or personalisation: provide extra
     features for authentication users, but also show the url to
     non-authenticated users.

  2. Users can log off (that's the hard bit).

  3. Customizable login screens.

  4. Discussion of a possible implementation of being logged out after
     a certain period.


The long discussion starts here:

  http://www.pobox.com/~berend/rest/authentication.html


Sample website is here:

  http://www.pobox.com/~berend/rest/site/


I really appreciate any comments. It is extra-ordinary easy to make a
mistake here and think something works where it actually doesn't. I
tried to be very lucid and give samples that don't require any perl or
mod_perl skills, so hopefully they are portable to other web servers
than Apache as well.





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5698<br>
Sender:David Powell &lt;djpowell@...&gt;<br>
Post Date/Time:2006-03-15 21:57:48<br>
Subject:Re: [rest-discuss] uFormats applied to the URI<br>
Message:<br><br>
<pre>
Wednesday, March 15, 2006, 8:42:56 PM, Nic wrote:

&gt; I think content neg could contribute to solving this; eg: for
&gt; robots.txt:

&gt; GET / HTTP/1.1
&gt; Host: someplace.com
&gt; Accept: robot/robot

&gt; I think that would work for p3p and most other meta data requirements
&gt; as well.

I think that the argument against this is that the robots.txt file or
p3p policy, and the home page of the site are really very different
resources.  What if someone wants to do an XSLT transform on the P3P
policy - shouldn't it have its own URL.

&gt; As for the favicon,  I never understood why that wasn't an HTML LINK
&gt; type.

It is also an HTML LINK, with /favicon.ico as a fallback. I imagine
that they thought people wouldn't want to change every single page on
their site.

-- 
Dave


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5699<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2006-03-16 10:38:52<br>
Subject:Re: [rest-discuss] uFormats applied to the URI<br>
Message:<br><br>
<pre>David Powell wrote:
&gt; It's done quite frequently - eg:
&gt; 
&gt; http://www.example.com/robots.txt
&gt; http://www.example.com/favicon.ico
&gt; http://www.example.com/w3c/p3p

In fairness the latter example is one of many alternatives, and always 
seemed to me to be a mechanism made available due to the fact that some 
people would have the ability to put a file at that location but not be 
able to change headers, so it was always a fallback mechanism.

The other two were ill-advised. Alternative mechanisms have been 
suggested for both but neither they, nor the original "known URI" 
methods are standards.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5700<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-16 11:36:16<br>
Subject:Re: [rest-discuss] uFormats applied to the URI<br>
Message:<br><br>
<pre>David Powell &lt;djpowell@...&gt; writes:

&gt; Wednesday, March 15, 2006, 8:42:56 PM, Nic wrote:
&gt;
&gt;&gt; I think content neg could contribute to solving this; eg: for
&gt;&gt; robots.txt:
&gt;
&gt;&gt; GET / HTTP/1.1
&gt;&gt; Host: someplace.com
&gt;&gt; Accept: robot/robot
&gt;
&gt;&gt; I think that would work for p3p and most other meta data requirements
&gt;&gt; as well.
&gt;
&gt; I think that the argument against this is that the robots.txt file or
&gt; p3p policy, and the home page of the site are really very different
&gt; resources.  What if someone wants to do an XSLT transform on the P3P
&gt; policy - shouldn't it have its own URL.

Sure... but content neg can handle that as well. The point is a
request for meta data can be made using content neg:

 GET / HTTP/1.1
 Host: someplace.com
 Accept: robot/robot

The reply *could* be:

 HTTP/1.1 302 Ok
 Location: /place/I/keep/robots.txt

Same for the P3P stuff. It's the metadata querying that content neg is
good for.


&gt;&gt; As for the favicon,  I never understood why that wasn't an HTML LINK
&gt;&gt; type.
&gt;
&gt; It is also an HTML LINK, with /favicon.ico as a fallback. I imagine
&gt; that they thought people wouldn't want to change every single page on
&gt; their site.

Hmmm... that is a good point. But it's not done for CSS files (where
it would be similarly useful) so I don't see that it's necessary for
favicon personally.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5701<br>
Sender:Jonathan Arkell &lt;yahoo@...&gt;<br>
Post Date/Time:2006-03-17 00:14:10<br>
Subject:Re: [rest-discuss] uFormats applied to the URI<br>
Message:<br><br>
<pre>Thanks a lot for the thoughts people.  There is a few things that I want
to respond to.

Thanks David for pointing out that not every domain name is necessarily
a website, and that the idea of a "web site" in general is a rather
vague notion that defies definition.  Thanks also goes to Mark for point
that standardizing URI structure is counter to the constraints laid out
in the REST model.  Mark, do you remember where that is specified in
Fieldings paper?  Apparently I have more homework to do...

Even if standardizing the URI isn't RESTful, perhaps it could be
something that may be useful when applied to REST.  Just as if you are
writing a contact page, using hCard would be a good idea, but if you
don't, it doesn't mean you're giving up XHTML conformance.

In terms of dealing with the issue of where exactly a website is located
 (such as a domain, or many "directory" levels deep into a domain), why
does it even matter?  Perhaps we could instead define a "Resource
Collection" as being the root of a URL, or a "subdirectory" from that
url--side stepping the question of what a web site is, and where it is
located.

I've also run across a few more glaringly obvious in-the-wild examples
of "cowpaths"

&lt;resource-collection&gt;/images
&lt;resource-collection&gt;/css



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5702<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2006-03-17 00:26:19<br>
Subject:Re: [rest-discuss] uFormats applied to the URI<br>
Message:<br><br>
<pre>Hi Jonathan,

Is a cowpie the opposite of a cowpath?  If so, then I think the  
'Opaque URI' meme qualifies as one, and you just stepped in it. :-)

Here's what Roy Fielding had to say on the topic, and I considered it  
important enough to add to the microformats-rest wiki:

http://microformats.org/wiki/rest/opacity

Sounds like you should join us there. ;-)

http://microformats.org/discuss/mail/microformats-rest/

The key, as I believe Jon Hanna said, is to make sure that clients do  
not HAVE to know the URI's internal structure, but that doesn't mean  
that *you* can't do MORE if you have appropriate understanding. And  
if enough people share that understanding -- like a microformat --  
there's nothing to prevent you from taking advantage of that.  As  
long as you don't do something that makes life harder for -other-  
people...

-- Ernie P.





On Mar 16, 2006, at 4:14 PM, Jonathan Arkell wrote:

&gt; Thanks a lot for the thoughts people.  There is a few things that I  
&gt; want
&gt; to respond to.
&gt;
&gt; Thanks David for pointing out that not every domain name is  
&gt; necessarily
&gt; a website, and that the idea of a "web site" in general is a rather
&gt; vague notion that defies definition.  Thanks also goes to Mark for  
&gt; point
&gt; that standardizing URI structure is counter to the constraints laid  
&gt; out
&gt; in the REST model.  Mark, do you remember where that is specified in
&gt; Fieldings paper?  Apparently I have more homework to do...
&gt;
&gt; Even if standardizing the URI isn't RESTful, perhaps it could be
&gt; something that may be useful when applied to REST.  Just as if you are
&gt; writing a contact page, using hCard would be a good idea, but if you
&gt; don't, it doesn't mean you're giving up XHTML conformance.
&gt;
&gt; In terms of dealing with the issue of where exactly a website is  
&gt; located
&gt; (such as a domain, or many "directory" levels deep into a domain), why
&gt; does it even matter?  Perhaps we could instead define a "Resource
&gt; Collection" as being the root of a URL, or a "subdirectory" from that
&gt; url--side stepping the question of what a web site is, and where it is
&gt; located.
&gt;
&gt; I've also run across a few more glaringly obvious in-the-wild examples
&gt; of "cowpaths"
&gt;
&gt; &lt;resource-collection&gt;/images
&gt; &lt;resource-collection&gt;/css
&gt;
&gt;
&gt;
&gt;
&gt; SPONSORED LINKS
&gt; Protocol analyzer	Ssl protocol	Protocol converter
&gt; Sip protocol	Protocol analysis	Protocol
&gt;
&gt; YAHOO! GROUPS LINKS
&gt;
&gt;  Visit your group "rest-discuss" on the web.
&gt;
&gt;  To unsubscribe from this group, send an email to:
&gt;  rest-discuss-unsubscribe@yahoogroups.com
&gt;
&gt;  Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5703<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-03-17 02:22:24<br>
Subject:Re: [rest-discuss] uFormats applied to the URI<br>
Message:<br><br>
<pre>On Mar 16, 2006, at 4:26 PM, Dr. Ernie Prabhakar wrote:

&gt; Hi Jonathan,
&gt;
&gt; Is a cowpie the opposite of a cowpath?  If so, then I think the  
&gt; 'Opaque URI' meme qualifies as one, and you just stepped in it. :-)
&gt;
&gt; Here's what Roy Fielding had to say on the topic, and I considered  
&gt; it important enough to add to the microformats-rest wiki:
&gt;
&gt; http://microformats.org/wiki/rest/opacity
&gt;
&gt; Sounds like you should join us there. ;-)
&gt;
&gt; http://microformats.org/discuss/mail/microformats-rest/
&gt;
&gt; The key, as I believe Jon Hanna said, is to make sure that clients  
&gt; do not HAVE to know the URI's internal structure, but that doesn't  
&gt; mean that *you* can't do MORE if you have appropriate  
&gt; understanding. And if enough people share that understanding --  
&gt; like a microformat -- there's nothing to prevent you from taking  
&gt; advantage of that.  As long as you don't do something that makes  
&gt; life harder for -other- people...

Er, not quite.  The key is that the server is free to tell the client
that there does exist structure in a given URI-space, and then the
client is free to make use of that knowledge in future requests.
That is how server-side imagemaps worked -- HTML says that the src
URI is structured such that appending "?X,Y" to that URI, where
X and Y are non-negative integers, corresponds to points on a map
that can respond to future GET requests.

Thus, one way for the server to tell the client that a given URI
is structured is to provide the URI in a standard element of a
standard media type that has been defined as such.  Another is to
include the URI in a response header field.

Note, however, that I am also one of the creators of the robots.txt
standard.  That particular scenario requires that the spider find out
the constraints on a site prior to the very first access of a real
hypertext link.  It is too late to obtain that information by
looking at header fields after a normal request is made.  Adding a
new method to HTTP was out of the question because it would have
to be deployed before it could be used [OPTIONS could fulfill that
purpose today, 12 years after robots.txt was defined].  Adding fields
to DNS wasn't an option back then, either.  Reserving /robots.txt
remains the best option given the alternatives available.

Note, however, that no other "reserved URI" features have the same
requirements as spiders, so it is still true that favicon and pics
chose the wrong solution.

....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5704<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-17 09:21:54<br>
Subject:Re: [rest-discuss] uFormats applied to the URI<br>
Message:<br><br>
<pre>Jonathan Arkell &lt;yahoo@...&gt; writes:

&gt; Even if standardizing the URI isn't RESTful, perhaps it could be
&gt; something that may be useful when applied to REST.  Just as if you are
&gt; writing a contact page, using hCard would be a good idea, but if you
&gt; don't, it doesn't mean you're giving up XHTML conformance.

Noooooo

Standardizing URIs is bad because of all sorts of issues:

- presentation
- i18n
- accepted meaning
- cultural politics


&gt; I've also run across a few more glaringly obvious in-the-wild examples
&gt; of "cowpaths"
&gt;
&gt; &lt;resource-collection&gt;/images
&gt; &lt;resource-collection&gt;/css

These are *NOT* standard URIs... they're just quite common. Just as
common are /style and /image

The whole point is that having to know URIs is bad. Everything should
be auto-discoverable from one main URI which can be found from a
central registry (such as google).


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5705<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-03-17 16:55:00<br>
Subject:Re: [rest-discuss] uFormats applied to the URI<br>
Message:<br><br>
<pre>On 3/16/06, Jonathan Arkell &lt;yahoo@...&gt; wrote:
&gt; Thanks David for pointing out that not every domain name is necessarily
&gt; a website, and that the idea of a "web site" in general is a rather
&gt; vague notion that defies definition.  Thanks also goes to Mark for point
&gt; that standardizing URI structure is counter to the constraints laid out
&gt; in the REST model.  Mark, do you remember where that is specified in
&gt; Fieldings paper?  Apparently I have more homework to do...

It's the "hypermedia as the engine of application state" constraint, AIUI;

http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_2

&gt; Even if standardizing the URI isn't RESTful, perhaps it could be
&gt; something that may be useful when applied to REST.  Just as if you are
&gt; writing a contact page, using hCard would be a good idea, but if you
&gt; don't, it doesn't mean you're giving up XHTML conformance.

I don't think so, because any standardization on URI structure would
mean that relationships between resources aren't being made explicit
in the data.  Amoungst other things, that means that all the resources
referred to via this standardization would be invisible to software
that didn't know about it.  Like spiders.  IMO, it's one of the more
costly of REST's constraints to ignore from a Web POV, and from the
POV of trying to roll out new functionality incrementally without
losing any network effects that normally come For Free.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5706<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-03-17 17:09:29<br>
Subject:Re: [rest-discuss] uFormats applied to the URI<br>
Message:<br><br>
<pre>Jonathan,

&gt; On 3/16/06, Jonathan Arkell &lt;yahoo@...&gt; wrote:
&gt;&gt; Apparently I have more homework to do...

I think it greatly clarifies the essentials of REST if you think in  
terms of changes to be made to clients when the resource  
implementations change. Especially consider clients that you do not  
control, e.g. because they are managed by some other IT department  
(quite common in enterprise IT nowadays that the "1 enterprise - 1  
administrator" assumtion does not hold anymore :o)

I found myself in a situation a while ago where the upgrade cost of  
clients was unexpectedly high and at that point I suddenly realized  
what benefits REST brings in in terms of decoupling.

HTH,

Jan
________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5707<br>
Sender:Jonathan Arkell &lt;yahoo@...&gt;<br>
Post Date/Time:2006-03-17 19:04:27<br>
Subject:Re: [rest-discuss] uFormats applied to the URI... Mea Culpa<br>
Message:<br><br>
<pre>So... I posted to the wrong list.  I really wanted to post my idea to
the uf-rest (microformats rest) mailinglist, and then bring the results
over here for further discussion.

Sorry about that folks.

On the other hand, I have learned a good deal from the ensuing
discussion, and would like to thank everyone again.

http://microformats.org/about/ tells you all about what microformats
are, in cause you were wondering.

Again, I apologize.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5708<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-03-19 04:52:19<br>
Subject:Single sign-on<br>
Message:<br><br>
<pre>Last night Bill Venners and I were trying to figure out to restfully 
implement single sign-on across different hosts in the same domain; e.g. 
www.elharo.com and cafe.elharo.com or java.artima.com and c.artima.com.

Short version: we couldn't do it. Cookies can support this, but HTTP 
authentication only seems to work for a single host at a time.

Any ideas how one might accomplish this, or would it require a revision 
to the HTTP authentication protocol?

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5709<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-03-19 13:57:17<br>
Subject:Re: [rest-discuss] Single sign-on<br>
Message:<br><br>
<pre>Elliotte,

there is a way to 'set' the credentials for a given realm with java  
script. If you issue a Javascript HTTP request with the desired  
credentials, the browser will continue to use them afterwards.

What you'd need though is having the credetials available to  
Javascript code. Maybe they can just be read (not sure) but if you'd  
use a form for logging in, you'd have them.

HTH,


Jan



On Mar 19, 2006, at 5:52 AM, Elliotte Harold wrote:

&gt; Last night Bill Venners and I were trying to figure out to restfully
&gt; implement single sign-on across different hosts in the same domain;  
&gt; e.g.
&gt; www.elharo.com and cafe.elharo.com or java.artima.com and  
&gt; c.artima.com.
&gt;
&gt; Short version: we couldn't do it. Cookies can support this, but HTTP
&gt; authentication only seems to work for a single host at a time.
&gt;
&gt; Any ideas how one might accomplish this, or would it require a  
&gt; revision
&gt; to the HTTP authentication protocol?
&gt;
&gt; -- 
&gt; Elliotte Rusty Harold  elharo@...
&gt; XML in a Nutshell 3rd Edition Just Published!
&gt; http://www.cafeconleche.org/books/xian3/
&gt; http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ 
&gt; ref=nosim
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5710<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-03-19 14:17:47<br>
Subject:Re: [rest-discuss] Single sign-on<br>
Message:<br><br>
<pre>
On Mar 19, 2006, at 2:57 PM, Jan Algermissen wrote:

&gt; Elliotte,
&gt;
&gt; there is a way to 'set' the credentials for a given realm with java
&gt; script. If you issue a Javascript HTTP request with the desired
&gt; credentials, the browser will continue to use them afterwards.
&gt;

Um...I keep forgetting about cross site scripting not being allowed.  
a reuqest to a different domain will fail. But maybe it still sets  
the credentials, you have to try.


Jan



&gt; What you'd need though is having the credetials available to
&gt; Javascript code. Maybe they can just be read (not sure) but if you'd
&gt; use a form for logging in, you'd have them.
&gt;
&gt; HTH,
&gt;
&gt;
&gt; Jan
&gt;
&gt;
&gt;
&gt; On Mar 19, 2006, at 5:52 AM, Elliotte Harold wrote:
&gt;
&gt;&gt; Last night Bill Venners and I were trying to figure out to restfully
&gt;&gt; implement single sign-on across different hosts in the same domain;
&gt;&gt; e.g.
&gt;&gt; www.elharo.com and cafe.elharo.com or java.artima.com and
&gt;&gt; c.artima.com.
&gt;&gt;
&gt;&gt; Short version: we couldn't do it. Cookies can support this, but HTTP
&gt;&gt; authentication only seems to work for a single host at a time.
&gt;&gt;
&gt;&gt; Any ideas how one might accomplish this, or would it require a
&gt;&gt; revision
&gt;&gt; to the HTTP authentication protocol?
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Elliotte Rusty Harold  elharo@...
&gt;&gt; XML in a Nutshell 3rd Edition Just Published!
&gt;&gt; http://www.cafeconleche.org/books/xian3/
&gt;&gt; http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/
&gt;&gt; ref=nosim
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; Yahoo! Groups Links
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
&gt; ______________________________________________________________________ 
&gt; __
&gt; _______________
&gt; Jan Algermissen, Consultant &amp; Programmer
&gt; http://jalgermissen.com
&gt; Tugboat Consulting, 'Applying Web technology to enterprise IT'
&gt; http://www.tugboat.de
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5711<br>
Sender:Mark Nottingham &lt;mnot@...&gt;<br>
Post Date/Time:2006-03-19 19:04:43<br>
Subject:Re: [rest-discuss] uFormats applied to the URI<br>
Message:<br><br>
<pre>One way to do this a little more cleanly is to use OPTIONS *. The  
problem is that most (all?) servers don't have any easy (i.e., not  
writing a module) way to influence the response to OPTIONS.


On 2006/03/16, at 3:36 AM, Nic wrote:

&gt; David Powell &lt;djpowell@...&gt; writes:
&gt;
&gt;&gt; Wednesday, March 15, 2006, 8:42:56 PM, Nic wrote:
&gt;&gt;
&gt;&gt;&gt; I think content neg could contribute to solving this; eg: for
&gt;&gt;&gt; robots.txt:
&gt;&gt;
&gt;&gt;&gt; GET / HTTP/1.1
&gt;&gt;&gt; Host: someplace.com
&gt;&gt;&gt; Accept: robot/robot
&gt;&gt;
&gt;&gt;&gt; I think that would work for p3p and most other meta data  
&gt;&gt;&gt; requirements
&gt;&gt;&gt; as well.
&gt;&gt;
&gt;&gt; I think that the argument against this is that the robots.txt file or
&gt;&gt; p3p policy, and the home page of the site are really very different
&gt;&gt; resources.  What if someone wants to do an XSLT transform on the P3P
&gt;&gt; policy - shouldn't it have its own URL.
&gt;
&gt; Sure... but content neg can handle that as well. The point is a
&gt; request for meta data can be made using content neg:
&gt;
&gt;  GET / HTTP/1.1
&gt;  Host: someplace.com
&gt;  Accept: robot/robot
&gt;
&gt; The reply *could* be:
&gt;
&gt;  HTTP/1.1 302 Ok
&gt;  Location: /place/I/keep/robots.txt
&gt;
&gt; Same for the P3P stuff. It's the metadata querying that content neg is
&gt; good for.
&gt;
&gt;
&gt;&gt;&gt; As for the favicon,  I never understood why that wasn't an HTML LINK
&gt;&gt;&gt; type.
&gt;&gt;
&gt;&gt; It is also an HTML LINK, with /favicon.ico as a fallback. I imagine
&gt;&gt; that they thought people wouldn't want to change every single page on
&gt;&gt; their site.
&gt;
&gt; Hmmm... that is a good point. But it's not done for CSS files (where
&gt; it would be similarly useful) so I don't see that it's necessary for
&gt; favicon personally.
&gt;
&gt;
&gt; Nic
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;


--
Mark Nottingham     http://www.mnot.net/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5712<br>
Sender:Elias Sinderson &lt;elias@...&gt;<br>
Post Date/Time:2006-03-19 19:39:46<br>
Subject:Re: [rest-discuss] Single sign-on<br>
Message:<br><br>
<pre>Elliotte Harold wrote:

&gt;Last night Bill Venners and I were trying to figure out to restfully implement single sign-on across different hosts in the same domain [...] Short version: we couldn't do it.
&gt;
As you noted, cookies can be set such that they are returned to any host 
in the domain. Now, provided that both hosts have access to a chunk of 
shared memory, a cookie containing an index / key into this shared 
memory space can be set on a client machine. This shared memory space 
could be anything from a simple file on a network filesystem to a full 
blown, linda-like tuplespace. In any case, the data indexed by the 
clients' cookie may indicate whether a user has logged in or any number 
of other related bits such as user preferences, etc.

There are a number of variations on the above scheme, depending on the 
technologies used, but the basic idea remains the same. A more elegant 
appproach would be to have this shared memory space itself be a web 
server, exposing this functionality as a service via a RESTful 
interface. Actaully, the use of cookies turns out to be more of a 
hinderance than anything else, as it limits the usefulness of the 
approach to hosts within the same domain. Using dynamically constructed 
URLs, the above technique can be applied /across domains/, provided the 
necessary prior arrangements are made between the respective domain 
administrators.

So, ultimately, this isn't really about single sign-on across different 
hosts in the same domain, or even across hosts in different domains, as 
much as it is about coordination patterns among distributed actors.


Cheers,
Elias

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5713<br>
Sender:Seairth Jacobs &lt;seairth@...&gt;<br>
Post Date/Time:2006-03-19 20:26:00<br>
Subject:Re: [rest-discuss] uFormats applied to the URI<br>
Message:<br><br>
<pre>OPTIONS is certainly an approach, but I think content-negotiation makes 
more sense (though I would not bother with the redirection approach).

We have a URI like "http://www.sample.com".  We understand this to be an 
address to a resource (conceptually, the "site").  We know that when we 
get back an HTML document for the GET request, we are returned a 
representation of that resource, constrained to content-type being 
returned.  Similarly, if we were to receive back a response of type 
"text/robots", it is also just a representation of the same resource 
confined to the returned content-type.  Similarly, getting back a P3P 
document or a favicon, based on content-type, is still returning a 
representation of the same resource (the "site").  I would not consider 
them to be meta-data, just more facets of the same resource.

Also, this is generally applicable, not just to the "site root".  For 
instance, suppose we were to request "http://sample.com/path/item".  If 
a text/robots response were returned, it could indicate the indexability 
of that resource (and/or possibly "child" resources).  Or you could get 
back a favicon just for that resource, or P3P info, etc.

If we want to think of this more theoretically, we could assume that 
every resource has a potentially infinite amount of information.  
Defining content-types like text/html, text/robots, text/p3p, 
image/favicon, and so on is just a way of coming to agreement on how to 
provide the representations of a resource.  It doesn't necessarily mean 
that the resource didn't have the information before a representational 
content-type was defined for it.  However, I think that many people 
start at the content-type and end up at the resource (robots.txt, 
favicon.ico, etc.) instead of starting with the resource (the "site") 
and ending up with the representations in various content-types.  This 
"backwardness" causes people to perceive these things as metadata, 
something separate from the resource itself.

So I say Down With Special-Purpose URIs, Up With Content Negotiation!

Seairth

Mark Nottingham wrote:
&gt; One way to do this a little more cleanly is to use OPTIONS *. The  
&gt; problem is that most (all?) servers don't have any easy (i.e., not  
&gt; writing a module) way to influence the response to OPTIONS.
&gt;
&gt;
&gt; On 2006/03/16, at 3:36 AM, Nic wrote:
&gt;
&gt;   
&gt;&gt; David Powell &lt;djpowell@...&gt; writes:
&gt;&gt;
&gt;&gt;     
&gt;&gt;&gt; Wednesday, March 15, 2006, 8:42:56 PM, Nic wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;       
&gt;&gt;&gt;&gt; I think content neg could contribute to solving this; eg: for
&gt;&gt;&gt;&gt; robots.txt:
&gt;&gt;&gt;&gt;         
&gt;&gt;&gt;&gt; GET / HTTP/1.1
&gt;&gt;&gt;&gt; Host: someplace.com
&gt;&gt;&gt;&gt; Accept: robot/robot
&gt;&gt;&gt;&gt;         
&gt;&gt;&gt;&gt; I think that would work for p3p and most other meta data  
&gt;&gt;&gt;&gt; requirements
&gt;&gt;&gt;&gt; as well.
&gt;&gt;&gt;&gt;         
&gt;&gt;&gt; I think that the argument against this is that the robots.txt file or
&gt;&gt;&gt; p3p policy, and the home page of the site are really very different
&gt;&gt;&gt; resources.  What if someone wants to do an XSLT transform on the P3P
&gt;&gt;&gt; policy - shouldn't it have its own URL.
&gt;&gt;&gt;       
&gt;&gt; Sure... but content neg can handle that as well. The point is a
&gt;&gt; request for meta data can be made using content neg:
&gt;&gt;
&gt;&gt;  GET / HTTP/1.1
&gt;&gt;  Host: someplace.com
&gt;&gt;  Accept: robot/robot
&gt;&gt;
&gt;&gt; The reply *could* be:
&gt;&gt;
&gt;&gt;  HTTP/1.1 302 Ok
&gt;&gt;  Location: /place/I/keep/robots.txt
&gt;&gt;
&gt;&gt; Same for the P3P stuff. It's the metadata querying that content neg is
&gt;&gt; good for.
&gt;&gt;
&gt;&gt;
&gt;&gt;     
&gt;&gt;&gt;&gt; As for the favicon,  I never understood why that wasn't an HTML LINK
&gt;&gt;&gt;&gt; type.
&gt;&gt;&gt;&gt;         
&gt;&gt;&gt; It is also an HTML LINK, with /favicon.ico as a fallback. I imagine
&gt;&gt;&gt; that they thought people wouldn't want to change every single page on
&gt;&gt;&gt; their site.
&gt;&gt;&gt;       
&gt;&gt; Hmmm... that is a good point. But it's not done for CSS files (where
&gt;&gt; it would be similarly useful) so I don't see that it's necessary for
&gt;&gt; favicon personally.
&gt;&gt;
&gt;&gt; Nic
&gt;&gt;
&gt;&gt; Yahoo! Groups Links
&gt;&gt;     

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5714<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-19 20:18:19<br>
Subject:Re: [rest-discuss] Single sign-on<br>
Message:<br><br>
<pre>Elias Sinderson &lt;elias@...&gt; writes:

&gt; Elliotte Harold wrote:
&gt;
&gt;&gt;Last night Bill Venners and I were trying to figure out to restfully implement single sign-on across different hosts in the same domain [...] Short version: we couldn't do it.
&gt;&gt;
&gt; As you noted, cookies can be set such that they are returned to any host 
&gt; in the domain. Now, provided that both hosts have access to a chunk of 
&gt; shared memory, a cookie containing an index / key into this shared 
&gt; memory space can be set on a client machine. This shared memory space 
&gt; could be anything from a simple file on a network filesystem to a full 
&gt; blown, linda-like tuplespace. In any case, the data indexed by the 
&gt; clients' cookie may indicate whether a user has logged in or any number 
&gt; of other related bits such as user preferences, etc.
&gt;
&gt; There are a number of variations on the above scheme, depending on the 
&gt; technologies used, but the basic idea remains the same. A more elegant 
&gt; appproach would be to have this shared memory space itself be a web 
&gt; server, exposing this functionality as a service via a RESTful 
&gt; interface. Actaully, the use of cookies turns out to be more of a 
&gt; hinderance than anything else, as it limits the usefulness of the 
&gt; approach to hosts within the same domain. Using dynamically constructed 
&gt; URLs, the above technique can be applied /across domains/, provided the 
&gt; necessary prior arrangements are made between the respective domain 
&gt; administrators.
&gt;
&gt; So, ultimately, this isn't really about single sign-on across different 
&gt; hosts in the same domain, or even across hosts in different domains, as 
&gt; much as it is about coordination patterns among distributed actors.

I wrote a RESTfull SSO mechanism (based on OASIS' SSO stuff) for
Thomson plc. If it would be of any use I could give the details here.

I was thinking of submitting it to OASIS as an appedix to their spec.


Nic Ferrier

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5715<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-03-19 22:56:42<br>
Subject:Re: [rest-discuss] Convenient Automated Sign-In (Was: Single sign-in)<br>
Message:<br><br>
<pre>Hi Elias,

On Mar 19, 2006, at 11:39 AM, Elias Sinderson wrote:

&gt; Elliotte Harold wrote:
&gt;
&gt;&gt; Last night Bill Venners and I were trying to figure out to  
&gt;&gt; restfully implement single sign-on across different hosts in the  
&gt;&gt; same domain [...] Short version: we couldn't do it.
&gt;&gt;
&gt; As you noted, cookies can be set such that they are returned to any  
&gt; host
&gt; in the domain. Now, provided that both hosts have access to a chunk of
&gt; shared memory, a cookie containing an index / key into this shared
&gt; memory space can be set on a client machine. This shared memory space
&gt; could be anything from a simple file on a network filesystem to a full
&gt; blown, linda-like tuplespace. In any case, the data indexed by the
&gt; clients' cookie may indicate whether a user has logged in or any  
&gt; number
&gt; of other related bits such as user preferences, etc.
&gt;
In my case, the goal is simply to authenticate the user making a  
request. I can then determine what roles the user has, and what  
permissions those roles imply. Those permissions will then determine  
what that request will be allowed to do. We store all this users,  
roles, and permissions information in a shared relational database  
and cache some of it in the servers' memory.

&gt; There are a number of variations on the above scheme, depending on the
&gt; technologies used, but the basic idea remains the same. A more elegant
&gt; appproach would be to have this shared memory space itself be a web
&gt; server, exposing this functionality as a service via a RESTful
&gt; interface. Actaully, the use of cookies turns out to be more of a
&gt; hinderance than anything else, as it limits the usefulness of the
&gt; approach to hosts within the same domain. Using dynamically  
&gt; constructed
&gt; URLs, the above technique can be applied /across domains/, provided  
&gt; the
&gt; necessary prior arrangements are made between the respective domain
&gt; administrators.
&gt;
We plan to fall back on URL rewriting only when cookies aren't  
enabled, because with cookies the user doesn't have big ugly strings  
in the browser's address text field. I'm not currently planning on  
using HTTP authentication because of 1) the inability for the server  
to to clear the state in the browser once authentication has happened  
(i.e., I can't really offer a "sign out" button), 2) the inability to  
always give the user a user-friendly, consistent login form, and 3)  
the need to reauthenticate the user each time they move from one  
domain to another in the same network of sites. This third problem is  
the one Elliotte Rusty Harold posted about when he started this thread.

&gt; So, ultimately, this isn't really about single sign-on across  
&gt; different
&gt; hosts in the same domain, or even across hosts in different  
&gt; domains, as
&gt; much as it is about coordination patterns among distributed actors.
&gt;
I changed the name of in the subject because the problem isn't what I  
would call single-sign on (SSO). To me SSO means that I can use the  
same username and password on multiple sites. As you say, that simply  
requires shared authentication information among multiple sites, and  
we do that with a shared relational database behind all our servers.  
What I'm after I've been calling "convenient automated sign  
in" (CASI), which means that I can authenticate once to the entire  
network, and as I hop from site to site in that network, I don't have  
to reauthenticate. No matter which site I go to first, I can use the  
same username and password because of SSO. But after that until I log  
off the network, either explicitly by clicking a "sign out" button,  
or by having my "authentication session" expire after a period of  
inactivity, I don't have to reenter my username and password at any  
other site in the network.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5716<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-20 13:28:26<br>
Subject:Re: [rest-discuss] Convenient Automated Sign-In<br>
Message:<br><br>
<pre>Bill Venners &lt;bv-svp@...&gt; writes:

&gt; I changed the name of in the subject because the problem isn't what I  
&gt; would call single-sign on (SSO). To me SSO means that I can use the  
&gt; same username and password on multiple sites. 

I believe this is wrong. SSO means that you only have to sign one once
to access a range of services.

Certainly, this is what it means outside of the web and this is how
the current protocols for SSO interpret it; including the OASIS
protocol.



Nic Ferrier

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5717<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-03-20 14:31:03<br>
Subject:REST Mistake #1: Confirming GETs<br>
Message:<br><br>
<pre>I've published an article about using GET to confirm user actions (and 
what's wrong with that):

http://cafe.elharo.com/web/rest-mistake-1-confirming-gets/

Case in point: this very mailing list.

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5718<br>
Sender:"Peter Marks" &lt;peter.c.marks@...&gt;<br>
Post Date/Time:2006-03-20 14:35:24<br>
Subject:Re: [rest-discuss] Convenient Automated Sign-In (Was: Single sign-in)<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5719<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-03-20 15:24:56<br>
Subject:Re: [rest-discuss] Convenient Automated Sign-In<br>
Message:<br><br>
<pre>Hi Nic,

On Mar 20, 2006, at 5:28 AM, Nic wrote:

&gt; Bill Venners &lt;bv-svp@...&gt; writes:
&gt;
&gt;&gt; I changed the name of in the subject because the problem isn't what I
&gt;&gt; would call single-sign on (SSO). To me SSO means that I can use the
&gt;&gt; same username and password on multiple sites.
&gt;
&gt; I believe this is wrong. SSO means that you only have to sign one once
&gt; to access a range of services.
&gt;
&gt; Certainly, this is what it means outside of the web and this is how
&gt; the current protocols for SSO interpret it; including the OASIS
&gt; protocol.
&gt;
Thanks. I stand corrected. I am indeed after SSO in that case.

Bill



&gt;
&gt;
&gt; Nic Ferrier
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5720<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-20 15:11:43<br>
Subject:Re: [rest-discuss] Convenient Automated Sign-In<br>
Message:<br><br>
<pre>"Peter Marks" &lt;peter.c.marks@...&gt; writes:

&gt; A couple of things came to mind as I read your message:
&gt;
&gt; 1. There is a SourceForge project call JOSSO (Java Open Single Sign On
&gt; project - http://www.josso.org ) that, at least superficially, may satisfy
&gt; your requirements. And it seems possible that it could be or could become
&gt; RESTful.
&gt;
&gt; 2. The Liberty Alliance project. Looking at its Profiles spec (
&gt; http://www.projectliberty.org/specs/draft-liberty-idff-bindings-profiles-1.2-errata-v2.0.pdf
&gt; ) and its descriptions of its GET, POST, etc. usage, it, too, might be be
&gt; RESTful. I wonder if anyone has looked at the Liberty Profiles from the POV
&gt; of REST?

I posted on this before. I wrote a RESTfull adaptation of the liberty
(OASIS) protocols for SSO for Thomson plc.

The liberty stuff itself wasn't RESTfull when I looked at it. But my
stuff was RESTfull without breaking it.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5721<br>
Sender:"Justin T. Sampson" &lt;justin@...&gt;<br>
Post Date/Time:2006-03-20 20:45:51<br>
Subject:Re: [rest-discuss] REST Mistake #1: Confirming GETs<br>
Message:<br><br>
<pre>Hi Elliotte,

Very nice. I'd make the case that your conclusions (and following the
proper constraints on GET in general) are good from a UI standpoint as
well -- users will be happier overall if they know they can click
links without regret, and that only submitting a form can cause
something to happen that they might be responsible for.

Cheers,
Justin


On 3/20/06, Elliotte Harold &lt;elharo@...&gt; wrote:

&gt; I've published an article about using GET to confirm user actions (and
&gt; what's wrong with that):
&gt;
&gt; http://cafe.elharo.com/web/rest-mistake-1-confirming-gets/
&gt;
&gt; Case in point: this very mailing list.
&gt;
&gt; --
&gt; Elliotte Rusty Harold  elharo@...c.edu
&gt; XML in a Nutshell 3rd Edition Just Published!
&gt; http://www.cafeconleche.org/books/xian3/
&gt; http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5722<br>
Sender:toydi &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2006-03-21 02:50:43<br>
Subject:Re: [rest-discuss] uFormats applied to the URI<br>
Message:<br><br>
<pre>On 3/20/06, Seairth Jacobs &lt;seairth@...&gt; wrote:
&gt; We have a URI like "http://www.sample.com".  We understand this to be an
&gt; address to a resource (conceptually, the "site").  We know that when we
&gt; get back an HTML document for the GET request, we are returned a
&gt; representation of that resource, constrained to content-type being
&gt; returned.  Similarly, if we were to receive back a response of type
&gt; "text/robots", it is also just a representation of the same resource
&gt; confined to the returned content-type.  Similarly, getting back a P3P
&gt; document or a favicon, based on content-type, is still returning a
&gt; representation of the same resource (the "site").  I would not consider
&gt; them to be meta-data, just more facets of the same resource.
&gt;
&gt; Also, this is generally applicable, not just to the "site root".  For
&gt; instance, suppose we were to request "http://sample.com/path/item".  If
&gt; a text/robots response were returned, it could indicate the indexability
&gt; of that resource (and/or possibly "child" resources).  Or you could get
&gt; back a favicon just for that resource, or P3P info, etc.

It is possible to create ambiguity in communication, if we use HTTP
Content Negotiation for "information selection". Imagine when I pass
to Joe a URL, and ask him to see my newly-design html home page; but
when Joe dereference the URL, he get a P3P document.

If I use URL in this way, I have to pass Joe an extra info: "content
type", along with that URL, to make sure we both see, and able to talk
about the "same information [1]".

My html home page and the p3p document are both different content-type
and both refer to "different information". However, a PNG-version,
PostScript-version, PDF-version of the html home page refer to the
"same information", although their content-type are different.

[1] http://www.w3.org/DesignIssues/HTTP-URI.html#argument


Cheers,
--
Teo HuiMing (toydi)
teohuiming.work at gmail dot com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5723<br>
Sender:Mark Nottingham &lt;mnot@...&gt;<br>
Post Date/Time:2006-03-21 03:41:56<br>
Subject:Re: [rest-discuss] uFormats applied to the URI<br>
Message:<br><br>
<pre>What Teo said.

This isn't a new discussion; e.g.,

http://lists.w3.org/Archives/Public/www-talk/2002JanFeb/0015.html

;)


On 2006/03/20, at 6:50 PM, toydi wrote:

&gt; On 3/20/06, Seairth Jacobs &lt;seairth@...&gt; wrote:
&gt;&gt; We have a URI like "http://www.sample.com".  We understand this to  
&gt;&gt; be an
&gt;&gt; address to a resource (conceptually, the "site").  We know that  
&gt;&gt; when we
&gt;&gt; get back an HTML document for the GET request, we are returned a
&gt;&gt; representation of that resource, constrained to content-type being
&gt;&gt; returned.  Similarly, if we were to receive back a response of type
&gt;&gt; "text/robots", it is also just a representation of the same resource
&gt;&gt; confined to the returned content-type.  Similarly, getting back a P3P
&gt;&gt; document or a favicon, based on content-type, is still returning a
&gt;&gt; representation of the same resource (the "site").  I would not  
&gt;&gt; consider
&gt;&gt; them to be meta-data, just more facets of the same resource.
&gt;&gt;
&gt;&gt; Also, this is generally applicable, not just to the "site root".  For
&gt;&gt; instance, suppose we were to request "http://sample.com/path/ 
&gt;&gt; item".  If
&gt;&gt; a text/robots response were returned, it could indicate the  
&gt;&gt; indexability
&gt;&gt; of that resource (and/or possibly "child" resources).  Or you  
&gt;&gt; could get
&gt;&gt; back a favicon just for that resource, or P3P info, etc.
&gt;
&gt; It is possible to create ambiguity in communication, if we use HTTP
&gt; Content Negotiation for "information selection". Imagine when I pass
&gt; to Joe a URL, and ask him to see my newly-design html home page; but
&gt; when Joe dereference the URL, he get a P3P document.
&gt;
&gt; If I use URL in this way, I have to pass Joe an extra info: "content
&gt; type", along with that URL, to make sure we both see, and able to talk
&gt; about the "same information [1]".
&gt;
&gt; My html home page and the p3p document are both different content-type
&gt; and both refer to "different information". However, a PNG-version,
&gt; PostScript-version, PDF-version of the html home page refer to the
&gt; "same information", although their content-type are different.
&gt;
&gt; [1] http://www.w3.org/DesignIssues/HTTP-URI.html#argument
&gt;
&gt;
&gt; Cheers,
&gt; --
&gt; Teo HuiMing (toydi)
&gt; teohuiming.work at gmail dot com
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;


--
Mark Nottingham     http://www.mnot.net/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5724<br>
Sender:Seairth Jacobs &lt;seairth@...&gt;<br>
Post Date/Time:2006-03-21 05:17:50<br>
Subject:Re: [rest-discuss] uFormats applied to the URI<br>
Message:<br><br>
<pre>toydi wrote:
&gt; On 3/20/06, Seairth Jacobs &lt;seairth@...&gt; wrote:
&gt;   
&gt;&gt; We have a URI like "http://www.sample.com".  We understand this to be an
&gt;&gt; address to a resource (conceptually, the "site").  We know that when we
&gt;&gt; get back an HTML document for the GET request, we are returned a
&gt;&gt; representation of that resource, constrained to content-type being
&gt;&gt; returned.  Similarly, if we were to receive back a response of type
&gt;&gt; "text/robots", it is also just a representation of the same resource
&gt;&gt; confined to the returned content-type.  Similarly, getting back a P3P
&gt;&gt; document or a favicon, based on content-type, is still returning a
&gt;&gt; representation of the same resource (the "site").  I would not consider
&gt;&gt; them to be meta-data, just more facets of the same resource.
&gt;&gt;
&gt;&gt; Also, this is generally applicable, not just to the "site root".  For
&gt;&gt; instance, suppose we were to request "http://sample.com/path/item".  If
&gt;&gt; a text/robots response were returned, it could indicate the indexability
&gt;&gt; of that resource (and/or possibly "child" resources).  Or you could get
&gt;&gt; back a favicon just for that resource, or P3P info, etc.
&gt;&gt;     
&gt;
&gt; It is possible to create ambiguity in communication, if we use HTTP
&gt; Content Negotiation for "information selection". Imagine when I pass
&gt; to Joe a URL, and ask him to see my newly-design html home page; but
&gt; when Joe dereference the URL, he get a P3P document.
&gt;   
But Joe should not have received the P3P document.  You told him it was 
a home page, and most people share a common notion of what format a 
"home page" is in.  So he should have asked for an html document.  If 
you just said, "check out my site at this URI", then what Joe gets back 
is based on his preferences (e.g. html before xml before pdf before p3p) 
and what representation formats you provide.  If Joe wants to see P3P 
before HTML, then that is what he gets.  There is no ambiguity here, as 
long as it is all of the same resource.
&gt; If I use URL in this way, I have to pass Joe an extra info: "content
&gt; type", along with that URL, to make sure we both see, and able to talk
&gt; about the "same information [1]".
&gt;   
We do that now, just that it's mostly implicit.  In our fairly narrow 
usage of the web, we have implied content types (text, html, image, 
etc).  And we all use fairly similar browsers.  And these browsers 
accept a variety of formats.  And, more or less, the format preference 
is pretty much the same across these browsers.  As a result, when you 
and I both pull up the same URI, we are fairly likely to get the same 
"content type" back.  And yes, we could continue this way, making 
out-of-band loose agreements, but it doesn't change the fact that we 
rely on some level of awareness of the "content type" in order to get 
our URIs and end up with something similar.

I realize that I am likely in a minority opinion here.  And I don't 
think that content negotiation is a magic bullet or anything.  There are 
right and wrong ways to use it.  I just happen to think that there are 
more "right" ways than people (many, it seems) are willing to admit.

Seairth
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5725<br>
Sender:"Scott Raymond" &lt;sco@...&gt;<br>
Post Date/Time:2006-03-21 05:38:32<br>
Subject:PUTing an invalid representation<br>
Message:<br><br>
<pre>I'm working on a REST interface for an invoicing application, and I've
got a design question that has probably come up before, but I can't
find a clear recommendation on.

Suppose that GET /invoices/1 returns something like this:

&lt;invoice&gt;
  &lt;number&gt;10001&lt;/number
  &lt;date&gt;2006-01-01&lt;/date&gt;
  &lt;lines&gt;
    &lt;line&gt;
      &lt;description&gt;Rock smashing&lt;/description&gt;
      &lt;amount&gt;10&lt;/amount&gt;
    &lt;/line&gt;
  &lt;/lines&gt;
  &lt;late_fee&gt;2&lt;/late_fee&gt;
  &lt;total&gt;12&lt;/total&gt;
&lt;/invoice&gt;

The "total" is obviously derived by adding up the line items and late
fee; it can't be set directly. Suppose a client takes the
representation, changes the "total" element to make it inconsistent
with the rest, and then PUTs it back to the server. Should the server
check to make sure that the representation is valid, and throw an
error otherwise? Or should it just pay attention to the changeable
values, and return the corrected representation? Is there some
standard/recommended way to document which fields are available for
changing?

Thanks-
Scott




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5726<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-03-21 08:00:22<br>
Subject:Re: [rest-discuss] PUTing an invalid representation<br>
Message:<br><br>
<pre>Scott,

On Mar 21, 2006, at 6:38 AM, Scott Raymond wrote:

&gt; I'm working on a REST interface for an invoicing application, and I've
&gt; got a design question that has probably come up before, but I can't
&gt; find a clear recommendation on.
&gt;
&gt; Suppose that GET /invoices/1 returns something like this:
&gt;
&gt; &lt;invoice&gt;
&gt;   &lt;number&gt;10001&lt;/number
&gt;   &lt;date&gt;2006-01-01&lt;/date&gt;
&gt;   &lt;lines&gt;
&gt;     &lt;line&gt;
&gt;       &lt;description&gt;Rock smashing&lt;/description&gt;
&gt;       &lt;amount&gt;10&lt;/amount&gt;
&gt;     &lt;/line&gt;
&gt;   &lt;/lines&gt;
&gt;   &lt;late_fee&gt;2&lt;/late_fee&gt;
&gt;   &lt;total&gt;12&lt;/total&gt;
&gt; &lt;/invoice&gt;
&gt;
&gt; The "total" is obviously derived by adding up the line items and late
&gt; fee; it can't be set directly.

I am thinking: if it is functionally dependent on the other values,  
why include it in the XML in the first place? Have the consuming app  
calculate it.

&gt; Suppose a client takes the
&gt; representation, changes the "total" element to make it inconsistent
&gt; with the rest, and then PUTs it back to the server. Should the server
&gt; check to make sure that the representation is valid, and throw an
&gt; error otherwise?

IMO, yes. Just as any other method would check its input data for  
validity before working with it.


&gt; Or should it just pay attention to the changeable
&gt; values, and return the corrected representation? Is there some
&gt; standard/recommended way to document which fields are available for
&gt; changing?

No, not that I know. If, OTH, you refer to the client making changes  
to the resource state, it would be the servers job to tell the client  
about what input the it may send. The usuakl way to do this is by way  
of a forms language (e.g. XForms or Mark's RDFForms[1]).

HTH,

Jan

[1] http://www.markbaker.ca/2003/05/RDF-Forms/
&gt;
&gt; Thanks-
&gt; Scott
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5727<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-21 09:52:00<br>
Subject:Re: [rest-discuss] PUTing an invalid representation<br>
Message:<br><br>
<pre>"Scott Raymond" &lt;sco@...&gt; writes:

&gt; I'm working on a REST interface for an invoicing application, and I've
&gt; got a design question that has probably come up before, but I can't
&gt; find a clear recommendation on.
&gt;
&gt; Suppose that GET /invoices/1 returns something like this:
&gt;
&gt; &lt;invoice&gt;
&gt;   &lt;number&gt;10001&lt;/number
&gt;   &lt;date&gt;2006-01-01&lt;/date&gt;
&gt;   &lt;lines&gt;
&gt;     &lt;line&gt;
&gt;       &lt;description&gt;Rock smashing&lt;/description&gt;
&gt;       &lt;amount&gt;10&lt;/amount&gt;
&gt;     &lt;/line&gt;
&gt;   &lt;/lines&gt;
&gt;   &lt;late_fee&gt;2&lt;/late_fee&gt;
&gt;   &lt;total&gt;12&lt;/total&gt;
&gt; &lt;/invoice&gt;
&gt;
&gt; The "total" is obviously derived by adding up the line items and late
&gt; fee; it can't be set directly. Suppose a client takes the
&gt; representation, changes the "total" element to make it inconsistent
&gt; with the rest, and then PUTs it back to the server. Should the server
&gt; check to make sure that the representation is valid, and throw an
&gt; error otherwise? Or should it just pay attention to the changeable
&gt; values, and return the corrected representation? Is there some
&gt; standard/recommended way to document which fields are available for
&gt; changing?

Depends on your application surely?

I mean some apps would want to accept the mal-formed representation
for further fixing (authorial systems like wikis?) and others would
want to throw a validation exception.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5728<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-21 09:57:49<br>
Subject:Re: [rest-discuss] uFormats applied to the URI<br>
Message:<br><br>
<pre>toydi &lt;teohuiming.work@...&gt; writes:

&gt; On 3/20/06, Seairth Jacobs &lt;seairth@...&gt; wrote:
&gt;&gt; We have a URI like "http://www.sample.com".  We understand this to be an
&gt;&gt; address to a resource (conceptually, the "site").  We know that when we
&gt;&gt; get back an HTML document for the GET request, we are returned a
&gt;&gt; representation of that resource, constrained to content-type being
&gt;&gt; returned.  Similarly, if we were to receive back a response of type
&gt;&gt; "text/robots", it is also just a representation of the same resource
&gt;&gt; confined to the returned content-type.  Similarly, getting back a P3P
&gt;&gt; document or a favicon, based on content-type, is still returning a
&gt;&gt; representation of the same resource (the "site").  I would not consider
&gt;&gt; them to be meta-data, just more facets of the same resource.
&gt;&gt;
&gt;&gt; Also, this is generally applicable, not just to the "site root".  For
&gt;&gt; instance, suppose we were to request "http://sample.com/path/item".  If
&gt;&gt; a text/robots response were returned, it could indicate the indexability
&gt;&gt; of that resource (and/or possibly "child" resources).  Or you could get
&gt;&gt; back a favicon just for that resource, or P3P info, etc.
&gt;
&gt; It is possible to create ambiguity in communication, if we use HTTP
&gt; Content Negotiation for "information selection". Imagine when I pass
&gt; to Joe a URL, and ask him to see my newly-design html home page; but
&gt; when Joe dereference the URL, he get a P3P document.
&gt;
&gt; If I use URL in this way, I have to pass Joe an extra info: "content
&gt; type", along with that URL, to make sure we both see, and able to talk
&gt; about the "same information [1]".

You're always passing more information... you might pass:

  http://mysite/my.p3p

or you might pass:

  http://mysite
  accept: p3p

I don't see the difference in information that you're having to
specify to get the p3p back.


The difference is that content-neg makes the p3p request unambiguously
about http://mysite/ - in other words it is clear that the p3p applies
to that resource.


&gt; My html home page and the p3p document are both different content-type
&gt; and both refer to "different information". However, a PNG-version,
&gt; PostScript-version, PDF-version of the html home page refer to the
&gt; "same information", although their content-type are different.

The p3p document and the home page both refer to the site.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5729<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2006-03-21 11:40:33<br>
Subject:Re: [rest-discuss] PUTing an invalid representation<br>
Message:<br><br>
<pre>Scott Raymond wrote:
&gt; The "total" is obviously derived by adding up the line items and late
&gt; fee; it can't be set directly. Suppose a client takes the
&gt; representation, changes the "total" element to make it inconsistent
&gt; with the rest, and then PUTs it back to the server.

Do you want to provide this as an opportunity to ensure validity or not? 
There are advantages either way, to my mind the question is, "how 
important, is it for *this application* that a client is informed of 
such an error?"

 &gt; Is there some
&gt; standard/recommended way to document which fields are available for
&gt; changing?

No more than your invoice XML application is standard. I'd recommend an 
error message XML going along with the 400 response that included at 
least a human-readable message the application could just return to the 
user if it can't (or won't) deal with the error beyond that, and 
optionally elements identifying the error in an application-specific way.

XForms may RDFForms may or may not be of use to you.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5730<br>
Sender:toydi &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2006-03-22 12:28:11<br>
Subject:Re: [rest-discuss] uFormats applied to the URI<br>
Message:<br><br>
<pre>Hi,

On 3/21/06, Nic &lt;nferrier@...&gt; wrote:
&gt; toydi &lt;teohuiming.work@...&gt; writes:
&gt; &gt; If I use URL in this way, I have to pass Joe an extra info: "content
&gt; &gt; type", along with that URL, to make sure we both see, and able to talk
&gt; &gt; about the "same information [1]".
&gt;
&gt; You're always passing more information... you might pass:
&gt;
&gt;   http://mysite/my.p3p
&gt;
&gt; or you might pass:
&gt;
&gt;   http://mysite
&gt;   accept: p3p
&gt;
&gt; I don't see the difference in information that you're having to
&gt; specify to get the p3p back.

Nic, what I mean is, it's good to use one URI to refer just one
information resource.

My homepage is a information resource.
The P3P policy document about my website is another information resource.
The graphic icon of my homepage is another information resource.

When I explicitly identify each information resource with a distinct
URI, no ambiguity if I want to bookmark them, or pass the URI to Joe.
I think we agree that, isn't it? ;-)

Seairth, if I understand correctly, what you have mentioned is to
allow those 3 information resources to share a single URI, then
retrieve one of them using conneg. In this case, resources are hidden
behind a single URI, therefore it's hard to identify them explicitly.

For instance, when I use conneg to retrieve the p3p document and
bookmark the URI; after a month Joe or I follow the same URI, I may
get back a HTML homepage.


Cheers,
--
Teo HuiMing (toydi)
teohuiming.work at gmail dot com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5731<br>
Sender:"Dimitri Glazkov" &lt;dimitri.glazkov@...&gt;<br>
Post Date/Time:2006-03-22 13:24:36<br>
Subject:Lo-Rest: This is your REST on Crack<br>
Message:<br><br>
<pre>Ok, couldn't keep my mouth shut, and probably will regret it. But hey,
that's what education is all about, right? :)

http://glazkov.com/archive/2006/03/22/2444.aspx

Comments, critique welcome.

:DG&lt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5732<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-22 13:28:23<br>
Subject:Re: [rest-discuss] uFormats applied to the URI<br>
Message:<br><br>
<pre>toydi &lt;teohuiming.work@...&gt; writes:

&gt; Hi,
&gt;
&gt; On 3/21/06, Nic &lt;nferrier@...&gt; wrote:
&gt;&gt; toydi &lt;teohuiming.work@...&gt; writes:
&gt;&gt; &gt; If I use URL in this way, I have to pass Joe an extra info: "content
&gt;&gt; &gt; type", along with that URL, to make sure we both see, and able to talk
&gt;&gt; &gt; about the "same information [1]".
&gt;&gt;
&gt;&gt; You're always passing more information... you might pass:
&gt;&gt;
&gt;&gt;   http://mysite/my.p3p
&gt;&gt;
&gt;&gt; or you might pass:
&gt;&gt;
&gt;&gt;   http://mysite
&gt;&gt;   accept: p3p
&gt;&gt;
&gt;&gt; I don't see the difference in information that you're having to
&gt;&gt; specify to get the p3p back.
&gt;
&gt; Nic, what I mean is, it's good to use one URI to refer just one
&gt; information resource.
&gt;
&gt; My homepage is a information resource.
&gt; The P3P policy document about my website is another information resource.
&gt; The graphic icon of my homepage is another information resource.
&gt;
&gt; When I explicitly identify each information resource with a distinct
&gt; URI, no ambiguity if I want to bookmark them, or pass the URI to Joe.
&gt; I think we agree that, isn't it? ;-)
&gt;
&gt; Seairth, if I understand correctly, what you have mentioned is to
&gt; allow those 3 information resources to share a single URI, then
&gt; retrieve one of them using conneg. In this case, resources are hidden
&gt; behind a single URI, therefore it's hard to identify them explicitly.
&gt;
&gt; For instance, when I use conneg to retrieve the p3p document and
&gt; bookmark the URI; after a month Joe or I follow the same URI, I may
&gt; get back a HTML homepage.

But what Seairth and I are both saying is that there is also a
resource that identifies your website. One single resource to identify
the whole website, say:

  http://www.tapsellferrier.co.uk

This is real world true. That URI *does* identify that website. Ok, it
also identifies the home page of that website but that doesn't change
the fact that it does identify the website.

The P3P and the robots.txt could both be seen as facets of the website
and therefore content neg on the above URI does make sense.

Note that you respond to a content neg request with a 300 (or a
redirect) to allow the P3P to be a resource also in it's own right
(but this is true for any resource).




Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5733<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2006-03-22 13:54:23<br>
Subject:Re: [rest-discuss] Lo-Rest: This is your REST on Crack<br>
Message:<br><br>
<pre>Dimitri Glazkov wrote:
&gt; Ok, couldn't keep my mouth shut, and probably will regret it. But hey,
&gt; that's what education is all about, right? :)
&gt; 
&gt; http://glazkov.com/archive/2006/03/22/2444.aspx

I pretty much agree.

My immediate response to "Lo-REST" and "Hi-REST" is "WTF?"

As far as "here are technologies that allow developpers to build a REST 
system" goes, grand, they do.

Apart from that the points made are so far off REST as no not bear any 
relevance.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5734<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-03-22 18:18:17<br>
Subject:Re: [rest-discuss] uFormats applied to the URI<br>
Message:<br><br>
<pre>Nic wrote:
&gt;
&gt; But what Seairth and I are both saying is that there is also a
&gt; resource that identifies your website. One single resource to identify
&gt; the whole website, say:
&gt;
&gt;   http://www.tapsellferrier.co.uk
&gt;   
Or, it might be something like http://www.webhost.com/~mjones.  Not 
necessarily at the root of the web server hierarchy.  If I follow a link 
to the page http://www.webhost.com/~mjones/projects/yecto.html, how do I 
know what icon to show in the navigation bar?  Should it be 
http://www.webhost.com/favicon.ico, 
http://www.webhost.com/~mjones/favicon.ico, or 
http://www.webhost.com/~mjones/projects/favicon.ico?

If that resource identifies your entire web site, then according to 
REST, if you retrieve that resource, you should get back the whole web 
site.  Why, then, do you just get a single page?  Because that resource 
doesn't identify a web site.  Just a single page.

One way to handle this is by embedding a link in each HTML page to point 
to the appropriate favicon.ico, just like we'd link to an external 
stylesheet.  We could also have a link pointing to the appropriate p3p 
file, or robots.txt.  Or, we could simply have a link to a folder which 
would contain all those documents.  E.g., &lt;link rel="site" 
href="http://www.webhost.com/~mjones" /&gt;, or &lt;link rel="site" 
href="../"&gt;, if you want to make it relative.  This would indicate a 
path that would contain a robots.txt, favicon.ico, and p3p file.  Or, 
you could specify them individually: &lt;link rel="robots" 
href="../robots.txt"&gt;, &lt;link rel="favicon" 
href="http://www.webhost.com/~mjones/favicon.ico".

That would work with HTML or XML.  It couldn't be applied so easily for 
other documents.

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5735<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-22 19:17:41<br>
Subject:Re: [rest-discuss] uFormats applied to the URI<br>
Message:<br><br>
<pre>Lyle Kopnicky &lt;lyle@...&gt; writes:

&gt; Nic wrote:
&gt;&gt;
&gt;&gt; But what Seairth and I are both saying is that there is also a
&gt;&gt; resource that identifies your website. One single resource to identify
&gt;&gt; the whole website, say:
&gt;&gt;
&gt;&gt;   http://www.tapsellferrier.co.uk
&gt;&gt;   
&gt; Or, it might be something like http://www.webhost.com/~mjones.  Not 
&gt; necessarily at the root of the web server hierarchy.  If I follow a link 
&gt; to the page http://www.webhost.com/~mjones/projects/yecto.html, how do I 
&gt; know what icon to show in the navigation bar?  Should it be 
&gt; http://www.webhost.com/favicon.ico, 
&gt; http://www.webhost.com/~mjones/favicon.ico, or 
&gt; http://www.webhost.com/~mjones/projects/favicon.ico?
&gt;
&gt; If that resource identifies your entire web site, then according to 
&gt; REST, if you retrieve that resource, you should get back the whole web 
&gt; site.  Why, then, do you just get a single page?  Because that resource 
&gt; doesn't identify a web site.  Just a single page.

No. I should retrieve a representation of the website. Which I
do. That's what a home page is, a representation of my website; many
home pages are anyway (bbc, microsoft, mozilla, gnu...)


&gt; One way to handle this is by embedding a link in each HTML page to point 
&gt; to the appropriate favicon.ico, just like we'd link to an external 
&gt; stylesheet.  

Though one could just as easily say that a request:

  GET http://www.tapsellferrier.co.uk
  accept: icon

should produce the icon.

Similarly:

  GET http://www.tapsellferrier.co.uk/contact
  accept: icon

would produce the icon for the contact page.

If webservers had _better_ support for content negotiation (or
dispatch by anything other than URI and dispatch on mutiple selectors,
eg: uri *and* content-type) then this sort of thing wouldn't be the
bind it is now.


But anyway... this is a little academic for p3p, favicon and
robots.txt because it's not going to change anytime soon.

I think Searith and I are simply trying to raise the profile of
content negotiation and suggest that it could be used for these sorts
of things without breaking anything or muddying the model.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5736<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-03-22 19:48:08<br>
Subject:Re: [rest-discuss] uFormats applied to the URI<br>
Message:<br><br>
<pre>Nic wrote:
&gt;&gt; One way to handle this is by embedding a link in each HTML page to point 
&gt;&gt; to the appropriate favicon.ico, just like we'd link to an external 
&gt;&gt; stylesheet.  
&gt;&gt;     
&gt;
&gt; Though one could just as easily say that a request:
&gt;
&gt;   GET http://www.tapsellferrier.co.uk
&gt;   accept: icon
&gt;   
It seems to me the Accept header is meant to allow for an alternate 
representation of the same resource.  Here you are using it to specify a 
different resource, which is the purpose of the URL, not the Accept header.

I suppose you could argue that an icon is a representation of your site, 
and so is the home page.  But that would be a tenuous comparison.  I 
could see using it to deliver a .wml version of your page, or a .pdf 
version, or maybe even a .png image of the page.  But an icon does not 
contain the same information.

Suppose you had two icons for your site - one of which was supposed to 
be used in the address bar, the other in the bookmark list.  How would 
you distinguish between them?  Or suppose someone wanted a .png 
representation of your icon, instead of the .ico representation?  
Normally they'd use the Accept header to specify, but if the Accept 
header must be .ico, there's no room for using it to indicate I want a .png.

Also, I fail to see how a .p3p file could possibly be a representation 
of your site.  It's a policy - a separate resource from the site, or the 
home page.  It's an extreme stretch of the Accept header to use it in 
this way.

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5737<br>
Sender:"k_lightsey" &lt;staff@...&gt;<br>
Post Date/Time:2006-03-22 20:57:44<br>
Subject:Newbie Question<br>
Message:<br><br>
<pre>I've been working with SOAP lately.  It does strike me as rather a
complex specification, as are its related toolsets.  I started looking
into REST as an interesting alternative and am just trying to
understand it.  I saw an example in one of the introductory
explanations I read. (http://www.xfront.com/REST-Web-Services.html) 
It had a client program asking for part information, and this is what
the client gets:

&lt;?xml version="1.0"?&gt;
&lt;p:Parts xmlns:p="http://www.parts-depot.com" 
         xmlns:xlink="http://www.w3.org/1999/xlink"&gt;
      &lt;Part id="00345"  
            xlink:href="http://www.parts-depot.com/parts/00345"/&gt;
      &lt;Part id="00346" 
            xlink:href="http://www.parts-depot.com/parts/00346"/&gt;
      &lt;Part id="00347" 
            xlink:href="http://www.parts-depot.com/parts/00347"/&gt;
      &lt;Part id="00348" 
            xlink:href="http://www.parts-depot.com/parts/00348"/&gt;
&lt;/p:Parts&gt;


The writer also says this:

"[Assume that through content negotiation the service determined that
the client wants the representation as XML (for machine-to-machine
processing).] Note that the parts list has links to get detailed info
about each part. This is a key feature of REST. The client transfers
from one state to the next by examining and choosing from among the
alternative URLs in the response document."

That's cool.  But I scoured the article looking for any mention of the
schema -- how do the clients know the structure of the xml?  You could
have a reference to a schema or DTD (or whatever) in your initial
resource page, but I take it there is no standard way of doing this? 
Wouldn't this be a problem?  I must be missing something here...

Please enlighten, if possible.

--Kris






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5738<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-03-22 21:17:50<br>
Subject:Re: [rest-discuss] Newbie Question<br>
Message:<br><br>
<pre>
On Mar 22, 2006, at 9:57 PM, k_lightsey wrote:

&gt; I've been working with SOAP lately.  It does strike me as rather a
&gt; complex specification, as are its related toolsets.

Warm welcome here at rest-discuss :o)

&gt; I started looking
&gt; into REST as an interesting alternative and am just trying to
&gt; understand it.

Fasten your seat belt for a bumpy ride and let go your feelings...
&gt;

&gt; [...]

&gt; That's cool.  But I scoured the article looking for any mention of the
&gt; schema -- how do the clients know the structure of the xml?

They just have to know it up front. The message type is where the  
shared semantics are between client and server. E.g. your browser  
knows that it can get that script code referenced by the &lt;script  
language="javascript" src="..."/&gt; element only becuase it knows the  
semantics of HTML.


&gt; You could
&gt; have a reference to a schema or DTD (or whatever) in your initial
&gt; resource page, but I take it there is no standard way of doing this?
&gt; Wouldn't this be a problem?  I must be missing something here...

REST (well HTTP) offers the minimum needed to get the components to  
talk. And it enables them to find out *if* they can talk successfully  
(Accept and Content-Type headers) or not.

Jan

&gt;
&gt; Please enlighten, if possible.
&gt;
&gt; --Kris
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5739<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-22 21:45:59<br>
Subject:Re: [rest-discuss] Newbie Question<br>
Message:<br><br>
<pre>"k_lightsey" &lt;staff@...&gt; writes:

&gt; I've been working with SOAP lately.  It does strike me as rather a
&gt; complex specification, as are its related toolsets.  I started looking
&gt; into REST as an interesting alternative and am just trying to
&gt; understand it.  I saw an example in one of the introductory
&gt; explanations I read. (http://www.xfront.com/REST-Web-Services.html) 
&gt; It had a client program asking for part information, and this is what
&gt; the client gets:
&gt;
&gt; &lt;?xml version="1.0"?&gt;
&gt; &lt;p:Parts xmlns:p="http://www.parts-depot.com" 
&gt;          xmlns:xlink="http://www.w3.org/1999/xlink"&gt;
&gt;       &lt;Part id="00345"  
&gt;             xlink:href="http://www.parts-depot.com/parts/00345"/&gt;
&gt;       &lt;Part id="00346" 
&gt;             xlink:href="http://www.parts-depot.com/parts/00346"/&gt;
&gt;       &lt;Part id="00347" 
&gt;             xlink:href="http://www.parts-depot.com/parts/00347"/&gt;
&gt;       &lt;Part id="00348" 
&gt;             xlink:href="http://www.parts-depot.com/parts/00348"/&gt;
&gt; &lt;/p:Parts&gt;
&gt;
&gt;
&gt; The writer also says this:
&gt;
&gt; "[Assume that through content negotiation the service determined that
&gt; the client wants the representation as XML (for machine-to-machine
&gt; processing).] Note that the parts list has links to get detailed info
&gt; about each part. This is a key feature of REST. The client transfers
&gt; from one state to the next by examining and choosing from among the
&gt; alternative URLs in the response document."
&gt;
&gt; That's cool.  But I scoured the article looking for any mention of the
&gt; schema -- how do the clients know the structure of the xml?  You could
&gt; have a reference to a schema or DTD (or whatever) in your initial
&gt; resource page, but I take it there is no standard way of doing this? 
&gt; Wouldn't this be a problem?  I must be missing something here...

Clearly it has to be done somehow. If the document had an attached
schema that would be one way to identify the document. 

But the document might have a mime type that identified it. RSS data
is like that for example; it is identified by
application/xml+rss. Atom is similarly identified by mime type.

It's also possible that your client just *expects* the content to be
of a certain type. If I write a client for Amazon REST webservices I
know what the documents returned are going to be structured like. I
can just write the XML handling. Of course, if Amazon change the doc
then I'll be screwed. But I'll be screwed anyway because my client has
hardcoded semantics.


SOAP people have on occasion tried to represent this as a problem with
REST. But it isn't. It's a problem with programming with other
people's stuff. The same thing can happen in SOAP in fact: if the SOAP
service provider changes the API then you have to rebuild your
client.



Nic Ferrier

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5740<br>
Sender:"Emmett Henderson" &lt;emmetth@...&gt;<br>
Post Date/Time:2006-03-22 21:45:20<br>
Subject:Re: [rest-discuss] Newbie Question<br>
Message:<br><br>
<pre>The payload of a REST style interface is neutral.  XML is used a lot
of the time but it could be in any structured format.  I know I've
grown quite fond of JSON (www.json.org)  In some cases I've seen the
payload be as simple as a csv output.

You need to document your REST API and that way the developer who
codes against it can take what you output and make it meaningful to
them.

I generally think of this as loosley typed/coupled (REST) vs strictly
typed (SOAP/XML-RPC)




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5741<br>
Sender:Seairth Jacobs &lt;seairth@...&gt;<br>
Post Date/Time:2006-03-23 00:03:51<br>
Subject:Re: [rest-discuss] uFormats applied to the URI<br>
Message:<br><br>
<pre>toydi wrote:
&gt; Seairth, if I understand correctly, what you have mentioned is to
&gt; allow those 3 information resources to share a single URI, then
&gt; retrieve one of them using conneg. In this case, resources are hidden
&gt; behind a single URI, therefore it's hard to identify them explicitly.
&gt;   
See, I think this is where we are coming from two points of view.  You 
are saying that these are separate resources.  I am saying that they are 
facets of the same resource.  For you, there is a need to have separate 
URIs, which is expected when you have more than one resource.  For me, 
only one URI was needed since I was saying it's all one resource.
&gt; For instance, when I use conneg to retrieve the p3p document and
&gt; bookmark the URI; after a month Joe or I follow the same URI, I may
&gt; get back a HTML homepage.
&gt;   
You shouldn't get back an HTML document if you asked for the p3p 
document.  If you didn't ask for the p3p document the second time, then 
it means that your bookmark doesn't also track the content-type you 
asked for in the first place.  The limitation of the bookmarking tool 
does not mean that conneg is the problem.

Seairth

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5742<br>
Sender:Seairth Jacobs &lt;seairth@...&gt;<br>
Post Date/Time:2006-03-23 00:56:54<br>
Subject:Re: [rest-discuss] uFormats applied to the URI<br>
Message:<br><br>
<pre>Lyle Kopnicky wrote:
&gt; Nic wrote:
&gt;&gt;
&gt;&gt; But what Seairth and I are both saying is that there is also a
&gt;&gt; resource that identifies your website. One single resource to identify
&gt;&gt; the whole website, say:
&gt;&gt;
&gt;&gt;   http://www.tapsellferrier.co.uk
&gt;&gt;   
&gt; Or, it might be something like http://www.webhost.com/~mjones.  Not 
&gt; necessarily at the root of the web server hierarchy.  If I follow a 
&gt; link to the page http://www.webhost.com/~mjones/projects/yecto.html, 
&gt; how do I know what icon to show in the navigation bar?  Should it be 
&gt; http://www.webhost.com/favicon.ico, 
&gt; http://www.webhost.com/~mjones/favicon.ico, or 
&gt; http://www.webhost.com/~mjones/projects/favicon.ico?
No, it should just be _http://www.webhost.com/~mjones_, if you are 
saying that the resource pointed to by this URI is your "site" and the 
icon is a representation of your "site".
&gt; If that resource identifies your entire web site, then according to 
&gt; REST, if you retrieve that resource, you should get back the whole web 
&gt; site.  Why, then, do you just get a single page?  Because that 
&gt; resource doesn't identify a web site.  Just a single page.
I think it is reasonable to have sub-resources.  Otherwise, you are 
making the statement that trees are resources, but the forest isn't.
&gt;
&gt; One way to handle this is by embedding a link in each HTML page to 
&gt; point to the appropriate favicon.ico, just like we'd link to an 
&gt; external stylesheet.  We could also have a link pointing to the 
&gt; appropriate p3p file, or robots.txt.  Or, we could simply have a link 
&gt; to a folder which would contain all those documents.
In which case, the icon, p3p file, and robots.txt file are different 
resources.  If you see them that way, then it is perfectly reasonable to 
treat them that way.  In my case, I see them as representations of the 
same resource and content negotiation is all that's necessary to get 
back the desired representation of the resource.

Seairth
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5743<br>
Sender:Seairth Jacobs &lt;seairth@...&gt;<br>
Post Date/Time:2006-03-23 01:09:04<br>
Subject:Re: [rest-discuss] uFormats applied to the URI<br>
Message:<br><br>
<pre>Lyle Kopnicky wrote:
&gt; Nic wrote:
&gt;&gt;&gt; One way to handle this is by embedding a link in each HTML page to point 
&gt;&gt;&gt; to the appropriate favicon.ico, just like we'd link to an external 
&gt;&gt;&gt; stylesheet.  
&gt;&gt;&gt;     
&gt;&gt;
&gt;&gt; Though one could just as easily say that a request:
&gt;&gt;
&gt;&gt;   GET http://www.tapsellferrier.co.uk
&gt;&gt;   accept: icon
&gt;&gt;   
&gt; It seems to me the Accept header is meant to allow for an alternate 
&gt; representation of the same resource.  Here you are using it to specify 
&gt; a different resource, which is the purpose of the URL, not the Accept 
&gt; header.
&gt;
&gt; I suppose you could argue that an icon is a representation of your 
&gt; site, and so is the home page.  But that would be a tenuous 
&gt; comparison.  I could see using it to deliver a .wml version of your 
&gt; page, or a .pdf version, or maybe even a .png image of the page.  But 
&gt; an icon does not contain the same information.
Sure it does.  It's just that icons hold a very limited amount of 
information, so you tend to condense your meaning a bit more.  Just 
because it can't hold the same amount of detail does not mean its not 
the same information.
&gt; Suppose you had two icons for your site - one of which was supposed to 
&gt; be used in the address bar, the other in the bookmark list.  How would 
&gt; you distinguish between them?  Or suppose someone wanted a .png 
&gt; representation of your icon, instead of the .ico representation?  
&gt; Normally they'd use the Accept header to specify, but if the Accept 
&gt; header must be .ico, there's no room for using it to indicate I want a 
&gt; .png.
You are arguing that content negotiation fails because you want to use 
it to dictate how the returned representation will be used on the client 
system.  I don't think anyone has argued that content negotiation is a 
solution for that problem.
&gt;
&gt; Also, I fail to see how a .p3p file could possibly be a representation 
&gt; of your site.  It's a policy - a separate resource from the site, or 
&gt; the home page.  It's an extreme stretch of the Accept header to use it 
&gt; in this way.
It may or may not be.  The policy is a site policy.  The robots.txt file 
is a policy as well.  Again, it's a site policy.  If someone wants to 
know my site, these are just as much my "site" as an html response is.

Seairth
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5744<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-23 01:37:55<br>
Subject:Re: [rest-discuss] uFormats applied to the URI<br>
Message:<br><br>
<pre>Lyle wrote:
&gt;&gt; Also, I fail to see how a .p3p file could possibly be a representation 
&gt;&gt; of your site.  It's a policy - a separate resource from the site, or 
&gt;&gt; the home page.  It's an extreme stretch of the Accept header to use it 
&gt;&gt; in this way.

Seairth Jacobs &lt;seairth@...&gt; replied:
&gt; It may or may not be.  The policy is a site policy.  The robots.txt file 
&gt; is a policy as well.  Again, it's a site policy.  If someone wants to 
&gt; know my site, these are just as much my "site" as an html response is.

Indeed. They are representations of the resource.

Remember the resource is not what is returned by an HTTP
operation. Only a representation of the resource is returned.

Are we saying that some representations (html, xml) are greater than
others? (jpg, ico)



Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5745<br>
Sender:Michal Migurski &lt;mike-jsonphp@...&gt;<br>
Post Date/Time:2006-03-23 03:53:34<br>
Subject:Re: [rest-discuss] uFormats applied to the URI<br>
Message:<br><br>
<pre>&gt;&gt; I suppose you could argue that an icon is a representation of your  
&gt;&gt; site, and so is the home page.  But that would be a tenuous  
&gt;&gt; comparison.  I could see using it to deliver a .wml version of  
&gt;&gt; your page, or a .pdf version, or maybe even a .png image of the  
&gt;&gt; page.  But an icon does not contain the same information.
&gt;
&gt; Sure it does.  It's just that icons hold a very limited amount of  
&gt; information, so you tend to condense your meaning a bit more.  Just  
&gt; because it can't hold the same amount of detail does not mean its  
&gt; not the same information.

***Sound of de-lurking***

This is insane, a freakish perversion of the world-changing  
simplicity of the URL. If anyone implements this suggestion, someone  
else is inevitably going to come up with the bright idea that the  
Accept header should be representable in the URL, to aide in real- 
life use cases like... say... copy and paste. Then we'll have URL's  
like "http://accept:image/favicon@.../", which will be a  
major step forward from "http://example.com/favicon.ico".

&gt;&gt; Also, I fail to see how a .p3p file could possibly be a  
&gt;&gt; representation of your site.  It's a policy - a separate resource  
&gt;&gt; from the site, or the home page.  It's an extreme stretch of the  
&gt;&gt; Accept header to use it in this way.
&gt;
&gt; It may or may not be.  The policy is a site policy.  The robots.txt  
&gt; file is a policy as well.  Again, it's a site policy.  If someone  
&gt; wants to know my site, these are just as much my "site" as an html  
&gt; response is.

If you can explain this to my father, who is extremely intelligent  
but non-conversant in internet mysticism, I will send you a gift basket.

----------------------------------------------------------------
michal migurski- contact info and pgp key:
sf/ca            http://mike.teczno.com/contact.html






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5746<br>
Sender:Seairth Jacobs &lt;seairth@...&gt;<br>
Post Date/Time:2006-03-23 04:50:30<br>
Subject:Re: [rest-discuss] uFormats applied to the URI<br>
Message:<br><br>
<pre>Michal Migurski wrote:
&gt;&gt;&gt; I suppose you could argue that an icon is a representation of your  
&gt;&gt;&gt; site, and so is the home page.  But that would be a tenuous  
&gt;&gt;&gt; comparison.  I could see using it to deliver a .wml version of  
&gt;&gt;&gt; your page, or a .pdf version, or maybe even a .png image of the  
&gt;&gt;&gt; page.  But an icon does not contain the same information.
&gt;&gt;&gt;       
&gt;&gt; Sure it does.  It's just that icons hold a very limited amount of  
&gt;&gt; information, so you tend to condense your meaning a bit more.  Just  
&gt;&gt; because it can't hold the same amount of detail does not mean its  
&gt;&gt; not the same information.
&gt;&gt;     
&gt;
&gt; This is insane, a freakish perversion of the world-changing  
&gt; simplicity of the URL. If anyone implements this suggestion, someone  
&gt; else is inevitably going to come up with the bright idea that the  
&gt; Accept header should be representable in the URL, to aide in real- 
&gt; life use cases like... say... copy and paste. Then we'll have URL's  
&gt; like "http://accept:image/favicon@.../", which will be a  
&gt; major step forward from "http://example.com/favicon.ico".
&gt;   
No.  By doing that, you are separating the favicon into a different 
distinct resource.  This is no different than just having 
/http://example.com/favicon.ico/, which puts you back to square one.

Seairth
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5747<br>
Sender:Seairth Jacobs &lt;seairth@...&gt;<br>
Post Date/Time:2006-03-23 05:34:36<br>
Subject:content negotiation, single resources, and the web today (was Re: uFormats applied to the URI)<br>
Message:<br><br>
<pre>I think we all agree that any request for a resource only returns a 
representation of the resource, not the resource itself.  No matter how 
hard you try, you only get back representations of the resource.  What 
muddies this view is the way in which the web is currently used.  For 
instance, you place a file on your web server named index.html and 
assign it a URI (/http://example.com/index.html/).  Someone issues a GET 
request for that URI and gets back an identical copy of the resource.  
This would lead many to the conclusion that index.html is itself the 
resource, and since you get exactly that back (byte-wise) in a GET 
request, the representation is effectively the resource itself.  As a 
result, many conveniently collapse the representation and the resource 
into one (which we know is not possible in REST).

What makes this worse is that we have some conventions (outdated, in my 
opinion) that adds to the confusion.  For instance, if you type in 
/http://example.com/, most servers will look for and return a "default 
document" such as /index.html/.  No, it doesn't redirect the user to 
that file.  It doesn't return a representation of its own resource, 
rather it impersonates another resource.  As a result, many consider 
/http://example.com/ and /http://example.com/index.html/ to be one and 
the same resource (which it isn't, or else it would have only one URI).  
In fact, it is often worse than that, as /http://example.com// will 
usually generate the same result as well.

Another example is the "/.html/" on the end of 
/http://example.com/index.html/.  Most look at that and figure that they 
are getting back the exact contents of a file on the remote system 
called /index.html/.  With this view, the web server is nothing but a 
file server with a different name.   Further, the web has been a 
document-driven tool, historically speaking.  The problem is that this 
contributes to the lack of strict adherence to the separation of 
resource from representation.

When we talk of a website, it is a resource (we have a URI for it).  No, 
it is not an html document.  It is not a document at all.  It is a 
resource.   I do not say "hey, check out my website at 
/http://example.com/index.html/."  I say "hey, check out my website at 
/http://example.com/", because that is the URI.  Now, what should 
someone expect to get back when issuing a GET against 
/http://example.com/?  Well, first, it depends on what the requester 
understands (i.e. what content-types are passed in the /Accept:/ 
header).  Second, it depends on what content-types the resource can be 
represented as.  Third, it depends on what constitutes the meaning of 
"site".

Is the /index.html/ file on the server part of that?  I would not say 
say "this page is representing my site", rather "this is the home page 
of my site".  As a result, it is appropriate for the file to have its 
own URI (/http://example.com/index.html/).

Is the icon that one might use to place next to the URI in their 
bookmarks part of that?  I would not say "this icon represents the links 
on my site", rather "this icon represents my site."  As a result, it is 
appropriate to be returned via my site URI (/http://example.com/).

Is the privacy policy (p3p) part of that?  I would not say "this privacy 
policy represents the all of the other pages on my site", rather "this 
privacy policy represents my site".  As a result, it is appropriate to 
be returned via my site URI (/http://example.com/).

But does that mean that /http://example.com/ has no html 
representation?  Maybe, maybe not.  If I could come up with an html 
response that represents my site, then I would return it.  Otherwise, I 
wouldn't.  Of course, given our historical use of the web, not returning 
an html document (or something similar) would be problematic.  Hence the 
popular "default document" approach.  Suppose, however, that I do have 
an html representation of my site (not whatever is in /index.html/).

We now have at least three different formats that can be returned when 
making a request to /http://example.com/.  Which one is returned?  
Simply the preferred of those available (likely, the html 
representation).  But it is still just one resource.  Not three 
resources.  Not two resources.  Just one.

And if you are hung up on the fact that a p3p response does not appear 
to be similar to an icon or html response, think about this:

Suppose we have a resource consisting of the following letter sequence:  
ABCD.  Now, suppose we have three content-types (fictional), such that 
if you do a GET on the URI for this resource for each of the three 
content types, you get back the following responses:

content-type-a: AB
content-type-b: BC
content-type-c: CD

Now, you could say that AB and BC look similar.  You can say the same 
about BC and CD.  But what about AB and CD?  These appear to be discrete 
representations.  But we know that they are all representations of the 
same resource.  Just because they don't look the same does not mean that 
they aren't representations of the same resource.

And if you are hung up on the on the question of having two html 
responses or two icons for the same resource, you can't.  Think of the 
content-type like a filter one might hold up to light.  What you get is 
all that can be represented through that filter, no more or less. The 
html response is *the only* html response and the icon is *the only* icon.


To sum it all up, content types (and negotiation) can be used in a 
perfectly RESTful manner.   Further, I think it could improve the 
current state of the web.  However, we are bringing along much baggage, 
which makes this difficult.  It also requires people to take on and 
embrace the notion of resources and representations, which I don't think 
many are yet willing to do (or are even aware of the possibility).  
Whether this is because it looks like too much work, or because it's too 
different, or whatever, is as good your guess as mine.

Seairth
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5748<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2006-03-23 06:45:17<br>
Subject:RE: [rest-discuss] Newbie Question<br>
Message:<br><br>
<pre>
&gt; The message type is where the shared semantics are between client and
server. 
Saying that the message type holds the shared semantics may be misleading -
my view of REST is that a huge amount of shared semantics come from the
'document' that was used to discover the URI being retrieved.

The following fragment is an example - in HTML, this would lead a client to
believe that some sort of software scripting language would be retrieved. If
this element were found in a document with a markup language for organizing
actors in a theater, then &lt;script src=""&gt; might mean something completely
different.

 &lt;script language="javascript" src="..."/&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5749<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2006-03-23 11:23:27<br>
Subject:Re: [rest-discuss] content negotiation, single resources, and the web today (was Re: uFormats applied to the URI)<br>
Message:<br><br>
<pre>Seairth Jacobs wrote:
&gt; I think we all agree that any request for a resource only returns a 
&gt; representation of the resource, not the resource itself.  No matter how 
&gt; hard you try, you only get back representations of the resource.  What 
&gt; muddies this view is the way in which the web is currently used.  For 
&gt; instance, you place a file on your web server named index.html and 
&gt; assign it a URI (/http://example.com/index.html/).  Someone issues a GET 
&gt; request for that URI and gets back an identical copy of the resource.

No, they get back an identical copy of the representation. What you put 
up is a representation.

&gt; This would lead many to the conclusion that index.html is itself the 
&gt; resource, and since you get exactly that back (byte-wise) in a GET 
&gt; request, the representation is effectively the resource itself.  As a 
&gt; result, many conveniently collapse the representation and the resource 
&gt; into one (which we know is not possible in REST).

It depends on what you are interested in. If 
http://example.net/cows/daisy returns information about Daisy the Cow 
I'm probably looking at it due to my interest in Daisy, not my interest 
in the file itself. Daisy is the resource, http://example.net/cows/daisy 
is the URI, the file is the representation.

However it is possible for a representation to be the resource itself. 
If I go to http://example.net/applications/installCoolApp.exe and get a 
bunch of bytes that lets me install CoolApp on my computer what I am 
interested in is that bunch of bytes. In this case the resource really 
is a bunch of bytes and the representation really is the same thing as a 
resource.

Representations are streams of bytes, resources are anything, including, 
but not limited to, streams of bytes.

It's worth noting that in the case where a resource and a representation 
can be the same thing, other representations are still possible (an 
RDF/XML description of installCoolApp.exe for instance).

&gt; What makes this worse is that we have some conventions (outdated, in my 
&gt; opinion) that adds to the confusion.  For instance, if you type in 
&gt; /http://example.com/, most servers will look for and return a "default 
&gt; document" such as /index.html/.  No, it doesn't redirect the user to 
&gt; that file.  It doesn't return a representation of its own resource, 
&gt; rather it impersonates another resource.  As a result, many consider 
&gt; /http://example.com/ and /http://example.com/index.html/ to be one and 
&gt; the same resource (which it isn't, or else it would have only one URI).  

A URI can map to only one resource, but a resource can have more than 
one URI. URIs are identifiers and there can be multiple identifiers for 
the same resource just as with other identifiers - comparable with how I 
am sometimes called "Jon" and sometimes "Jonathan" and a few other 
names, or with how I have both a British and an Irish social security 
number.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5750<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-23 11:59:19<br>
Subject:Re: [rest-discuss] content negotiation, single resources, and the web today<br>
Message:<br><br>
<pre>Seairth Jacobs &lt;seairth@...&gt; writes:

&gt; What makes this worse is that we have some conventions (outdated, in my 
&gt; opinion) that adds to the confusion.  For instance, if you type in 
&gt; /http://example.com/, most servers will look for and return a "default 
&gt; document" such as /index.html/.  

Nothing wrong with that. The server needs some config to explain to it
how to represent a directory resource.


&gt; Is the privacy policy (p3p) part of that?  I would not say "this privacy 
&gt; policy represents the all of the other pages on my site", rather "this 
&gt; privacy policy represents my site".  As a result, it is appropriate to 
&gt; be returned via my site URI (/http://example.com/).

I think we've been over this ground.

Either one accepts that a _site_ can be referred to with a URI or you
don't. 

If you accept that it can then content negotiation for the
representation of the _site_ resource is possible. 

If you don't accept that idiom then it can't.

We're not going to change either robots.txt or the p3p or the favicon
anytime soon. But you and I can start using content negotiation
redirected from the specific resource if we like.


&gt; To sum it all up, content types (and negotiation) can be used in a 
&gt; perfectly RESTful manner.   Further, I think it could improve the 
&gt; current state of the web.  However, we are bringing along much baggage, 
&gt; which makes this difficult.  It also requires people to take on and 
&gt; embrace the notion of resources and representations, which I don't think 
&gt; many are yet willing to do (or are even aware of the possibility).  
&gt; Whether this is because it looks like too much work, or because it's too 
&gt; different, or whatever, is as good your guess as mine.

I think that resource and representation can be quite subtle and
sometimes subjective.

But hey, it doesn't matter much. You and I (and others) can use
content neg and others don't have to. Maybe if we use it then other
people will see the benefits as well.



Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5751<br>
Sender:toydi &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2006-03-23 14:08:58<br>
Subject:Re: [rest-discuss] content negotiation, single resources, and the web today<br>
Message:<br><br>
<pre>Hi,

The similar issue has been raised in TAG List HttpRange-14 [1], so I
include the link for further reference.

[1] http://www.w3.org/2001/tag/issues.html#httpRange-14

---
[Small Experiment: An attempt to delete mysite's p3p policy]

I setup a small experiment to perform a test:

Two information resources share a single HTTP URI as identifier,
and each information resource can only be retrieved, by additionally
mention the media-type in a HTTP request, specifically in "Accept" header.

The scenario:

&gt; GET &lt;http://mysite.org&gt;
   Accept: text/html
&lt; 200 OK
   Content-Type: text/html
   [..mysite's home page represent in HTML4 document..]

&gt; GET &lt;http://mysite.org&gt;
   Accept: application/p3p+xml  (sorry, I make that up myself.)
&lt; 200 OK
   Content-Type: application/p3p+xml
   [.. mysite's P3P policy represent in XML document..]

&gt; DELETE &lt;http://mysite.org&gt;
   Accept: application/p3p+xml
&lt; 204 No Content

&gt; GET &lt;http://mysite.org&gt;
   Accept: application/p3p+xml
&lt; 410 GONE

&gt; GET &lt;http://mysite.org&gt;
   Accept: text/html
&lt; 200 OK
   Content-Type: text/html
   [..mysite's home page represent in HTML4 document..]

"The DELETE method requests that the origin server delete the resource
identified by the Request-URI. [..]"
quoted from http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.7

---
It makes a user hard to perform operations on the URI above, the
resource "is still there" after performing a HTTP DELETE method.

However, a redirection (303 See Other) to an explicit URI to identify
the "mysite's p3p policy" may be just nice, as it provides an explicit
URI as identifier.


Cheers,
--
Teo HuiMing (toydi)
teohuiming.work at gmail dot com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5752<br>
Sender:toydi &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2006-03-23 14:27:13<br>
Subject:Re: [rest-discuss] content negotiation, single resources, and the web today<br>
Message:<br><br>
<pre>Ah, I should have use a complete HTTP URI: &lt;http://mysite.org/site&gt; in
the scenario, which in that case, refer to "mysite.org's website".

Another correction, I should have not mentioned about which
redirection code to use. What I really mean is: "a redirection process
maybe just nice, since it provides an explicit URI to the p3p policy".

Cheers ;-)
--
Teo HuiMing (toydi)
teohuiming.work at gmail dot com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5753<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2006-03-23 14:50:26<br>
Subject:Re: [rest-discuss] content negotiation, single resources, and the web today<br>
Message:<br><br>
<pre>toydi wrote:
&gt; Ah, I should have use a complete HTTP URI: &lt;http://mysite.org/site&gt; in
&gt; the scenario, which in that case, refer to "mysite.org's website".
&gt; 
&gt; Another correction, I should have not mentioned about which
&gt; redirection code to use. What I really mean is: "a redirection process
&gt; maybe just nice, since it provides an explicit URI to the p3p policy".

Or the response for any URI could contain a header with a reference to 
the relevant P3P profile, with the "known URI" mechanism being used 
purely as a fall-back for those who do not have sufficent access to 
their servers to implement this, and to cover user-agents that want to 
attempt to obtain privacy information about a resource before 
dereferencing the URI.

Exactly as it is already, in fact.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5754<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-23 14:59:10<br>
Subject:Re: [rest-discuss] content negotiation, single resources, and the web today<br>
Message:<br><br>
<pre>toydi &lt;teohuiming.work@...&gt; writes:

&gt; The similar issue has been raised in TAG List HttpRange-14 [1], so I
&gt; include the link for further reference.
&gt;
&gt; [1] http://www.w3.org/2001/tag/issues.html#httpRange-14
&gt;
&gt; ---
&gt; [Small Experiment: An attempt to delete mysite's p3p policy]
&gt;
&gt; I setup a small experiment to perform a test:
&gt;
&gt; Two information resources share a single HTTP URI as identifier,
&gt; and each information resource can only be retrieved, by additionally
&gt; mention the media-type in a HTTP request, specifically in "Accept"
&gt; header.

I reiterate this: content-negotiation allows multiple representations
of a single resource to be referenced by the same URI.

Not different resources. They're the same resource - they have the
same URI.

The question being debated here is whether certain representations are
valid considering the nature of certain resources.


&gt; The scenario:
&gt;
&gt;&gt; GET &lt;http://mysite.org&gt;
&gt;    Accept: text/html
&gt; &lt; 200 OK
&gt;    Content-Type: text/html
&gt;    [..mysite's home page represent in HTML4 document..]
&gt;
&gt;&gt; GET &lt;http://mysite.org&gt;
&gt;    Accept: application/p3p+xml  (sorry, I make that up myself.)
&gt; &lt; 200 OK
&gt;    Content-Type: application/p3p+xml
&gt;    [.. mysite's P3P policy represent in XML document..]
&gt;
&gt;&gt; DELETE &lt;http://mysite.org&gt;
&gt;    Accept: application/p3p+xml
&gt; &lt; 204 No Content
&gt;
&gt;&gt; GET &lt;http://mysite.org&gt;
&gt;    Accept: application/p3p+xml
&gt; &lt; 410 GONE
&gt;
&gt;&gt; GET &lt;http://mysite.org&gt;
&gt;    Accept: text/html
&gt; &lt; 200 OK
&gt;    Content-Type: text/html
&gt;    [..mysite's home page represent in HTML4 document..]
&gt;
&gt; "The DELETE method requests that the origin server delete the resource
&gt; identified by the Request-URI. [..]"
&gt; quoted from
&gt; http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.7
&gt;
&gt; ---
&gt; It makes a user hard to perform operations on the URI above, the
&gt; resource "is still there" after performing a HTTP DELETE method.

I believe this is an incorrect implementation of DELETE. The whole
resource should have been removed, not just the p3p file.


&gt; However, a redirection (303 See Other) to an explicit URI to identify
&gt; the "mysite's p3p policy" may be just nice, as it provides an explicit
&gt; URI as identifier.

True.

I seem to remember this is what Roy recomends for content negotiation
anyway. 


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5755<br>
Sender:"Sandeep Shetty" &lt;sandeep.shetty@...&gt;<br>
Post Date/Time:2006-03-23 16:39:07<br>
Subject:Re: [rest-discuss] content negotiation, single resources, and the web today (was Re: uFormats applied to the URI)<br>
Message:<br><br>
<pre>Hey Seairth,

According to Section 5.2.1.1 [1]:
"The key abstraction of information in REST is a resource. Any
information that can be named can be a resource: a document or image,
a temporal service (e.g. "today's weather in Los Angeles"), a
collection of other resources, a non-virtual object (e.g. a person),
and so on. In other words, any concept that might be the target of an
author's hypertext reference must fit within the definition of a
resource."

The important word there is "concept". A resource is only a concept
and a resource identifier (URI) "allows an author to reference the
concept". When you "place a file on your web server" you are actually
uploading a representation that is mapped to the resources "/" and
"/index.html". Surely, you can't upload "a person" which is also a
valid resource. Notice I used the word "mapped" there.

Now, the last sentence of para 2 says:
"The only thing that is required to be static for a resource is the
semantics of the mapping, since the semantics is what distinguishes
one resource from another."

The semantics of the mapping for the "website" is different from that
of the "websites favicon" and the "websites privacy policy". Since the
semantics are different they are different resources! So when you say:
"We now have at least three different formats that can be returned
when making a request to http://example.com.", you are blurring the
difference between the mapping and the semantics of the mapping. The
"default document" is a mapping issue and the "favicon" and "privacy
policy" are issues related to the semantics of the mapping.


Sandeep Shetty
http://sandeep.shetty.in/

[1] http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_2_1_1


On 3/23/06, Seairth Jacobs &lt;seairth@...&gt; wrote:
&gt;
&gt;        I think we all agree that any request for a resource only returns a representation of the resource, not the resource itself.  No matter how hard you try, you only get back representations of the resource.  What muddies this view is the way in which the web is currently used.  For instance, you place a file on your web server named index.html and assign it a URI (http://example.com/index.html).  Someone issues a GET request for that URI and gets back an identical copy of the resource.  This would lead many to the conclusion that index.html is itself the resource, and since you get exactly that back (byte-wise) in a GET request, the representation is effectively the resource itself.  As a result, many conveniently collapse the representation and the resource into one (which we know is not possible in REST).
&gt;
&gt;  What makes this worse is that we have some conventions (outdated, in my opinion) that adds to the confusion.  For instance, if you type in http://example.com, most servers will look for and return a "default document" such as index.html.  No, it doesn't redirect the user to that file.  It doesn't return a representation of its own resource, rather it impersonates another resource.  As a result, many consider http://example.com and http://example.com/index.html to be one and the same resource (which it isn't, or else it would have only one URI).  In fact, it is often worse than that, as http://example.com/ will usually generate the same result as well.
&gt;
&gt;  Another example is the ".html" on the end of http://example.com/index.html.  Most look at that and figure that they are getting back the exact contents of a file on the remote system called index.html.  With this view, the web server is nothing but a file server with a different name.   Further, the web has been a document-driven tool, historically speaking.  The problem is that this contributes to the lack of strict adherence to the separation of resource from representation.
&gt;
&gt;  When we talk of a website, it is a resource (we have a URI for it).  No, it is not an html document.  It is not a document at all.  It is a resource.   I do not say "hey, check out my website at http://example.com/index.html."  I say "hey, check out my website at http://example.com", because that is the URI.  Now, what should someone expect to get back when issuing a GET against http://example.com?  Well, first, it depends on what the requester understands (i.e. what content-types are passed in the Accept: header).  Second, it depends on what content-types the resource can be represented as.  Third, it depends on what constitutes the meaning of "site".
&gt;
&gt;  Is the index.html file on the server part of that?  I would not say say "this page is representing my site", rather "this is the home page of my site".  As a result, it is appropriate for the file to have its own URI (http://example.com/index.html).
&gt;
&gt;  Is the icon that one might use to place next to the URI in their bookmarks part of that?  I would not say "this icon represents the links on my site", rather "this icon represents my site."  As a result, it is appropriate to be returned via my site URI (http://example.com).
&gt;
&gt;  Is the privacy policy (p3p) part of that?  I would not say "this privacy policy represents the all of the other pages on my site", rather "this privacy policy represents my site".  As a result, it is appropriate to be returned via my site URI (http://example.com).
&gt;
&gt;  But does that mean that http://example.com has no html representation?  Maybe, maybe not.  If I could come up with an html response that represents my site, then I would return it.  Otherwise, I wouldn't.  Of course, given our historical use of the web, not returning an html document (or something similar) would be problematic.  Hence the popular "default document" approach.  Suppose, however, that I do have an html representation of my site (not whatever is in index.html).
&gt;
&gt;  We now have at least three different formats that can be returned when making a request to http://example.com.  Which one is returned?  Simply the preferred of those available (likely, the html representation).  But it is still just one resource.  Not three resources.  Not two resources.  Just one.
&gt;
&gt;  And if you are hung up on the fact that a p3p response does not appear to be similar to an icon or html response, think about this:
&gt;
&gt;  Suppose we have a resource consisting of the following letter sequence:  ABCD.  Now, suppose we have three content-types (fictional), such that if you do a GET on the URI for this resource for each of the three content types, you get back the following responses:
&gt;
&gt;  content-type-a: AB
&gt;  content-type-b: BC
&gt;  content-type-c: CD
&gt;
&gt;  Now, you could say that AB and BC look similar.  You can say the same about BC and CD.  But what about AB and CD?  These appear to be discrete representations.  But we know that they are all representations of the same resource.  Just because they don't look the same does not mean that they aren't representations of the same resource.
&gt;
&gt;  And if you are hung up on the on the question of having two html responses or two icons for the same resource, you can't.  Think of the content-type like a filter one might hold up to light.  What you get is all that can be represented through that filter, no more or less. The html response is the only html response and the icon is the only icon.
&gt;
&gt;
&gt;  To sum it all up, content types (and negotiation) can be used in a perfectly RESTful manner.   Further, I think it could improve the current state of the web.  However, we are bringing along much baggage, which makes this difficult.  It also requires people to take on and embrace the notion of resources and representations, which I don't think many are yet willing to do (or are even aware of the possibility).  Whether this is because it looks like too much work, or because it's too different, or whatever, is as good your guess as mine.
&gt;
&gt;  Seairth

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5756<br>
Sender:toydi &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2006-03-23 21:43:59<br>
Subject:Re: [rest-discuss] content negotiation, single resources, and the web today<br>
Message:<br><br>
<pre>Hi Nic,

On 3/23/06, Nic &lt;nferrier@...&gt; wrote:
&gt; &gt; It makes a user hard to perform operations on the URI above, the
&gt; &gt; resource "is still there" after performing a HTTP DELETE method.
&gt;
&gt; I believe this is an incorrect implementation of DELETE. The whole
&gt; resource should have been removed, not just the p3p file.

That's the point I'm trying to emphasis, sometimes we really need an
explicit pointer or URI to refer just the "p3p policy" in order to
perform operations.

--
Teo HuiMing (toydi)
teohuiming.work at gmail dot com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5757<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-23 21:56:58<br>
Subject:Re: [rest-discuss] content negotiation, single resources, and the web today<br>
Message:<br><br>
<pre>toydi &lt;teohuiming.work@...&gt; writes:

&gt; Hi Nic,
&gt;
&gt; On 3/23/06, Nic &lt;nferrier@...&gt; wrote:
&gt;&gt; &gt; It makes a user hard to perform operations on the URI above, the
&gt;&gt; &gt; resource "is still there" after performing a HTTP DELETE method.
&gt;&gt;
&gt;&gt; I believe this is an incorrect implementation of DELETE. The whole
&gt;&gt; resource should have been removed, not just the p3p file.
&gt;
&gt; That's the point I'm trying to emphasis, sometimes we really need an
&gt; explicit pointer or URI to refer just the "p3p policy" in order to
&gt; perform operations.

Hi toydi

Just as *sometimes* you might want to make the french variant, or the
XML variant of a resource editable as it's own resource.

I'm sorry, that doesn't change the fact that content-neg would be a
useful and clean way to specify "site"-specific metadata such as
robots or icons.


Nic



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5758<br>
Sender:Claude Montpetit &lt;claude@...&gt;<br>
Post Date/Time:2006-03-23 22:20:10<br>
Subject:Re: [rest-discuss] content negotiation, single resources, and the web today<br>
Message:<br><br>
<pre>Nic a �crit :
&gt; ...
&gt; Just as *sometimes* you might want to make the french variant, or the
&gt; XML variant of a resource editable as it's own resource.

I've been playing a lot with the bilingual aspect of a site and this is 
a big beast. In the end, as a reader, I prefer to be able to bookmark 
the variant I want so that whatever browser I use, I get to the right 
language version. I do not want to play with the accepted-language 
settings of my browser. I want to link to , say, the French version.

Thus, I prefer the different language variants of a resource to be 
accessible with different URIs. But content-neg is useful when accessing 
the resource the first time using the URI that does not have the variant 
info. Then ideally, from a user's perspective again, it is nice when the 
page explicitly displays the other available languages as links.

Claude

PS: In the "real world", although a resource may be available both in 
French and English, I know for sure that both versions are not equal 
(some people truly believe that the google translator can be mistaken 
with a human translator ;)


&gt; 
&gt; I'm sorry, that doesn't change the fact that content-neg would be a
&gt; useful and clean way to specify "site"-specific metadata such as
&gt; robots or icons.
&gt; 
&gt; Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5759<br>
Sender:Karl Dubost &lt;karl@...&gt;<br>
Post Date/Time:2006-03-24 01:21:07<br>
Subject:Re: [rest-discuss] content negotiation, single resources, and the web today<br>
Message:<br><br>
<pre>
Le 06-03-24  07:20, Claude Montpetit a crit :
&gt; Thus, I prefer the different language variants of a resource to be
&gt; accessible with different URIs. But content-neg is useful when  
&gt; accessing
&gt; the resource the first time using the URI that does not have the  
&gt; variant
&gt; info. Then ideally, from a user's perspective again, it is nice  
&gt; when the
&gt; page explicitly displays the other available languages as links.

Once upon in a time, there was a proposal to be able to access  
through HTTP headers, the list of different variants of the same URI.  
But it stayed in an experimental stage.

http://gewis.win.tue.nl/~koen/conneg/

[[[
Transparent Content Negotiation in HTTP

     HTTP allows web site authors to put multiple versions of the  
same information under a single URL. Transparent content negotiation  
(TCN) is an extensible negotiation mechanism, layered on top of HTTP,  
for automatically selecting the best version when the URL is  
accessed. This enables the smooth deployment of new web data formats  
and markup tags.
]]]

-- Transparent Content Negotiation in HTTP home page
http://gewis.win.tue.nl/~koen/conneg/
Sat, 20 May 2000 21:39:10 GMT



-- 
Karl Dubost - http://www.w3.org/People/karl/
W3C Conformance Manager, QA Activity Lead
   QA Weblog - http://www.w3.org/QA/
      *** Be Strict To Be Cool ***





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5760<br>
Sender:Karl Dubost &lt;karl@...&gt;<br>
Post Date/Time:2006-03-24 01:42:47<br>
Subject:Re: [rest-discuss] content negotiation, single resources, and the web today<br>
Message:<br><br>
<pre>
Le 06-03-24  06:56, Nic a crit :
&gt; I'm sorry, that doesn't change the fact that content-neg would be a
&gt; useful and clean way to specify "site"-specific metadata such as
&gt; robots or icons.

WKL(*) issue is old and "well known" and it's usually a bad idea.  
Imposing an URI space or a set of names even if you notice a trend in  
naming things doesn't mean that it's something that should be adopted.

You used as examples:

http://randomsite.example.com/search
http://randomsite.example.com/tag

* Users must have the control on their URI space

Well tag will be easy to address, imagine I'm a company which does  
tags(**) and I have used this name for an URI because damn it's my  
business and I have the right to choose an URI for myself in the  
business that I do before the Internet even existed.

* Internationalization

Even better, tag doesn't mean anything for a Chinese person or a  
Japanese person or even a French person, for the tags (aka  
folksonomy) I want to use on my web site, motscles, then my web site  
will be

http://damnedstinkycheeseeaters.example.com/motscles
or
http://damnedstinkycheeseeaters.example.com/2006/03/whatever/motscles

* Multiple Web sites hosted at the same domain name

Before you are saying that it will be solve with content neg ala

[[[
GET / HTTP/1.1
Host: example.com
Accept: robot/robot
]]]

How do you deal with Web sites which are hosted on farms?
	http://example.com/john
	http://example.com/lucy
	http://example.com/nick/anothersubwebsite
	http://example.com/lola
How do you know which URIs, you should query/get for each web site?


And then you will have to solve, what is a "web site"?
A web site is not a domain name.
A web site is not an IP.
A person can own many web sites with the same Domain name.
A collection of distributed documents on different sites can  
consitute a Web site.
etc.






*  Well Known Location
** tag  (Source: WordNet (r) 2.0 )
      n 1: a label made of cardboard or plastic or metal
      2: a small piece of cloth or paper [syn: {rag}, {shred}, {tag
         end}, {tatter}]
      3: a game in which one child chases the others; the one who is
         caught becomes the next chaser
      4: (sports) the act of touching a player in a game (which
         changes their status in the game)
      v 1: attach a tag or label to; "label these bottles" [syn:  
{label},
            {mark}]
      2: touch a player while he is holding the ball
      3: provide with a name or nickname
      4: go after with the intent to catch; "The policeman chased the
         mugger down the alley"; "the dog chased the rabbit" [syn:
         {chase}, {chase after}, {trail}, {tail}, {give chase}, {dog},
          {go after}, {track}]
      5: supply (blank verse or prose) with rhymes
      [also: {tagging}, {tagged}]



-- 
Karl Dubost - http://www.w3.org/People/karl/
W3C Conformance Manager, QA Activity Lead
   QA Weblog - http://www.w3.org/QA/
      *** Be Strict To Be Cool ***





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5761<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-03-24 01:52:40<br>
Subject:Personalization as Representation<br>
Message:<br><br>
<pre> From a REST perspective, can a version of a resource that has been  
personalized for a user be considered a representation of that resource?

Let's say I have an HTML article resource at a particular URI. If I  
authenticate a user for a request, I send that user a personalized  
version of the resource that says, "Welcome, Chuck!" If no user  
authenticates, then I send the same version I send to any  
unauthenticated person, that says, "Welcome, Guest!" The single guest  
version gets an ETag and each personalized version gets a distinct ETag.

As another example, I agree with Claude Montpetit's recent post (in a  
different thread) that the same content expressed in different human  
languages should have different URIs. In other words, I don't believe  
in doing content negotiation on the Accept-Language header (for  
usability reasons). However, I have been considering using that  
header to decide whether to include a prominent pointer to a  
translation of the content, if one exists. If a user requests the URI  
for the English version of an article, for example, but indicate via  
the Accept-Language header they prefer French, and I have a French  
translation at a different URI, I'll send them the English article  
but include a a prominent link to the French one. Here the user is  
not authenticated, but I see this as a kind of personalization of the  
content. It would get an ETag of its own, because it has that extra  
link to the French translation.

Another way I've imagined personalizing a resource is if a user lands  
on a page from a search engine. If a user hit an article after  
searching for "spumoni" on Google, I'm considering sending a version  
of that article with all occurrences of "spumoni" highlighted. In  
this case the representation is customized for the user because the  
request headers indicated they are currently searching for spumoni.  
This representation would get its own ETag.

If a user authenticates as Chuck, has configured their browser to  
indicate they prefer French via Accept-Language, searches Google for  
spumoni, and lands on my English article, then I'd send them back a  
page that says "Welcome, Chuck!", includes a link to the French  
translation, and has all occurrences of the word "spumoni"  
highlighted. This would get an ETag of its very own, because it is a  
distinct personalization from the previous three in that it is the  
intersection of the previous three.

Would this be the RESTful way to think about personalization of  
resources based on content negotiation?

Thanks.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5762<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-24 02:15:33<br>
Subject:Re: [rest-discuss] content negotiation, single resources, and the web today<br>
Message:<br><br>
<pre>Karl Dubost &lt;karl@...&gt; writes:

&gt; Le 06-03-24 à 06:56, Nic a écrit :
&gt;&gt; I'm sorry, that doesn't change the fact that content-neg would be a
&gt;&gt; useful and clean way to specify "site"-specific metadata such as
&gt;&gt; robots or icons.
&gt;
&gt; WKL(*) issue is old and "well known" and it's usually a bad idea.  
&gt; Imposing an URI space or a set of names even if you notice a trend in  
&gt; naming things doesn't mean that it's something that should be adopted.
&gt;
&gt; You used as examples:
&gt;
&gt; http://randomsite.example.com/search
&gt; http://randomsite.example.com/tag
&gt;
&gt; * Users must have the control on their URI space
&gt;
&gt; Well tag will be easy to address, imagine I'm a company which does  
&gt; tags(**) and I have used this name for an URI because damn it's my  
&gt; business and I have the right to choose an URI for myself in the  
&gt; business that I do before the Internet even existed.
&gt;
&gt; * Internationalization
&gt;
&gt; Even better, tag doesn't mean anything for a Chinese person or a  
&gt; Japanese person or even a French person, for the tags (aka  
&gt; folksonomy) I want to use on my web site, motscles, then my web site  
&gt; will be
&gt;
&gt; http://damnedstinkycheeseeaters.example.com/motscles
&gt; or
&gt; http://damnedstinkycheeseeaters.example.com/2006/03/whatever/motscles

Sorry - I don't really get what you're trying to say here. But I
think you're agreeing with me?



&gt; * Multiple Web sites hosted at the same domain name
&gt;
&gt; Before you are saying that it will be solve with content neg ala
&gt;
&gt; [[[
&gt; GET / HTTP/1.1
&gt; Host: example.com
&gt; Accept: robot/robot
&gt; ]]]
&gt;
&gt; How do you deal with Web sites which are hosted on farms?
&gt; 	http://example.com/john
&gt; 	http://example.com/lucy
&gt; 	http://example.com/nick/anothersubwebsite
&gt; 	http://example.com/lola
&gt; How do you know which URIs, you should query/get for each web site?

How do you know with robots.txt right now? You don't right?

I would say that the best way to deal with robots would be to have the
robot do content-neg on every page and for the correct content-neg
response to be the location of the robots.txt for that "site". With
every request for robot info the cache strikes will increase.

But I really don't expect the methodology to change. It is good
enough. I think I've said that quite a few times now.


&gt; And then you will have to solve, what is a "web site"?
&gt; A web site is not a domain name.
&gt; A web site is not an IP.
&gt; A person can own many web sites with the same Domain name.
&gt; A collection of distributed documents on different sites can  
&gt; consitute a Web site.
&gt; etc.

Indeed. All of which is currently ignored by the current robots.txt
standard AFAIK.

A content-neg approach *could* solve that issue because it addresses
the concept of "site" by saying:

  a resource *could* be a 'site' by simplying accepting neg for 'site'
  representations


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5763<br>
Sender:Karl Dubost &lt;karl@...&gt;<br>
Post Date/Time:2006-03-24 02:36:30<br>
Subject:Re: [rest-discuss] content negotiation, single resources, and the web today<br>
Message:<br><br>
<pre>
Le 06-03-24  11:15, Nic a crit :
&gt;&gt; http://damnedstinkycheeseeaters.example.com/motscles
&gt;&gt; or
&gt;&gt; http://damnedstinkycheeseeaters.example.com/2006/03/whatever/motscles
&gt;
&gt; Sorry - I don't really get what you're trying to say here. But I
&gt; think you're agreeing with me?

no, the opposite :)


&gt;&gt; * Multiple Web sites hosted at the same domain name
&gt;
&gt; How do you know with robots.txt right now? You don't right?

And that's bad.

&gt; I would say that the best way to deal with robots would be to have the
&gt; robot do content-neg on every page and for the correct content-neg
&gt; response to be the location of the robots.txt for that "site". With
&gt; every request for robot info the cache strikes will increase.
&gt;
&gt; But I really don't expect the methodology to change. It is good
&gt; enough. I think I've said that quite a few times now.

Which means User enters URI in UA.

UA starts a series of GET
	robot
	p3p
	favicons
	tags
	mypuppy
	coolweb2.0features
	etc.
	etc.
	And finally the Web page itself

&gt;   a resource *could* be a 'site' by simplying accepting neg for 'site'
&gt;   representations

See above.



-- 
Karl Dubost - http://www.w3.org/People/karl/
W3C Conformance Manager, QA Activity Lead
   QA Weblog - http://www.w3.org/QA/
      *** Be Strict To Be Cool ***





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5764<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-24 02:34:31<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>Bill Venners &lt;bv-svp@...&gt; writes:

&gt;  From a REST perspective, can a version of a resource that has been  
&gt; personalized for a user be considered a representation of that resource?
&gt;
&gt; Let's say I have an HTML article resource at a particular URI. If I  
&gt; authenticate a user for a request, I send that user a personalized  
&gt; version of the resource that says, "Welcome, Chuck!" If no user  
&gt; authenticates, then I send the same version I send to any  
&gt; unauthenticated person, that says, "Welcome, Guest!" The single guest  
&gt; version gets an ETag and each personalized version gets a distinct ETag.
&gt;
&gt; As another example, I agree with Claude Montpetit's recent post (in a  
&gt; different thread) that the same content expressed in different human  
&gt; languages should have different URIs. In other words, I don't believe  
&gt; in doing content negotiation on the Accept-Language header (for  
&gt; usability reasons). 

I don't *think* that's what Claude said. Having a separate URI and NOT
doing content neg is not the same thing.

Best practice in this area is surely:

  http://www.example.com/somepage

where somepage has:

  somepage.fr.html
  somepage.en.html

and content neg is used to abritrate between them. The Location header
specifies the fixed location of the negotiated page. A lot of people
seem to encode any links in such pages in the specific locale of the
page but I think that's just because of the authoring tools. It's
better to keep the plain uri because cool uri's don't change.

I think we've been over all this quite a few times. You might want to
check the archives.


&gt; However, I have been considering using that  
&gt; header to decide whether to include a prominent pointer to a  
&gt; translation of the content, if one exists. If a user requests the URI  
&gt; for the English version of an article, for example, but indicate via  
&gt; the Accept-Language header they prefer French, and I have a French  
&gt; translation at a different URI, I'll send them the English article  
&gt; but include a a prominent link to the French one. Here the user is  
&gt; not authenticated, but I see this as a kind of personalization of the  
&gt; content. It would get an ETag of its own, because it has that extra  
&gt; link to the French translation.

I think this is silly. You are ignoring all the work that lots of
people have done making content negotiation work for people who speak
different languages.

It's not supported well enough because there are too many people who
accept the english speaking web. Support the standards and things will
improve!


&gt; Would this be the RESTful way to think about personalization of  
&gt; resources based on content negotiation?

I don't think so. I think that you're methods won't be idempotent and
that's anti-REST.

However, I will admit I have a hard time undestanding how
personalization can fit into REST. Client side script seems to be the
best solution.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5765<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-03-24 03:47:49<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>
On Mar 23, 2006, at 6:34 PM, Nic wrote:

&gt;&gt; As another example, I agree with Claude Montpetit's recent post (in a
&gt;&gt; different thread) that the same content expressed in different human
&gt;&gt; languages should have different URIs. In other words, I don't believe
&gt;&gt; in doing content negotiation on the Accept-Language header (for
&gt;&gt; usability reasons).
&gt;
&gt; I don't *think* that's what Claude said. Having a separate URI and NOT
&gt; doing content neg is not the same thing.
&gt;
I may have misinterpreted what Claude was saying, but I think you  
understood what I was saying. What do you mean by, "Having a separate  
URI and NOT doing content neg is not the same thing."?

&gt; Best practice in this area is surely:
&gt;
&gt;   http://www.example.com/somepage
&gt;
&gt; where somepage has:
&gt;
&gt;   somepage.fr.html
&gt;   somepage.en.html
&gt;
&gt; and content neg is used to abritrate between them. The Location header
&gt; specifies the fixed location of the negotiated page. A lot of people
&gt; seem to encode any links in such pages in the specific locale of the
&gt; page but I think that's just because of the authoring tools. It's
&gt; better to keep the plain uri because cool uri's don't change.
&gt;
&gt; I think we've been over all this quite a few times. You might want to
&gt; check the archives.
&gt;
I know my philosophy goes against the approach that seems recommended  
by the HTTP spec by its examples of content negotiation being done on  
Accept-Language. From a usability perspective, however, I believe  
taking that approach in my particular design case inappropriate.  
We're creating a network of sites, and each site will have one and  
only one locale. So if there's a English article on site A, the  
French translation of it, if any, would be on site B. Since each one  
of these sites will be mono-lingual, it doesn't make sense to do  
content negotiation on Accept-Language. Nevertheless, I will know if  
there's a French translation, and if they mention they prefer French  
over English in the Accept-Language header, I'd like to be nice and  
mention to them that there's a French version of this article over at  
this URI at site B. I may decide to do that if I notice that the  
request is coming from an IP address in France, if that's something  
users find useful.

&gt; I think this is silly. You are ignoring all the work that lots of
&gt; people have done making content negotiation work for people who speak
&gt; different languages.
&gt;
&gt; It's not supported well enough because there are too many people who
&gt; accept the english speaking web. Support the standards and things will
&gt; improve!
&gt;
I think I am supporting the standard. In my case there isn't a French  
representation of the English article at that URI. By requesting that  
URI you are asking for an article in English, and I'll send you one.

I definitely want to have lots of different languages being spoken in  
our network, but as I said, each site will be for users' who can  
interact in a particular language.

&gt;
&gt;&gt; Would this be the RESTful way to think about personalization of
&gt;&gt; resources based on content negotiation?
&gt;
&gt; I don't think so. I think that you're methods won't be idempotent and
&gt; that's anti-REST.
&gt;
Why wouldn't the methods be idempotent?

&gt; However, I will admit I have a hard time undestanding how
&gt; personalization can fit into REST. Client side script seems to be the
&gt; best solution.
&gt;
That's what I've heard. The reason I brought this up is I can't  
personally see much difference between customizing a resource for  
user's preferred language (via Accept-Language content negotiation)  
and customizing it by mentioning their first name in a Welcome  
message. Why would one be a blessed-by-the-spec representation of the  
resource and the other be blatant disrespect of the spirit of HTTP  
and REST? One reason I can imagine this might be the case is that  
these kinds of customization are not intended by (or mentioned by)  
the HTTP designers.

What I'd like to do over HTTP, though, is give the user the best  
experience by looking at whatever information comes in with a request  
(IP address, cookies, Accept-Language, referrer, whatever) and  
provide the most useful representation of the requested resource.
If I give a unique ETag to each variant, then I think caching should  
work, and conceptually to me it just feels like each of these are  
personalized representations of a resource. What would doing this  
break? What would be the downside?

Thanks.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5766<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-24 03:34:36<br>
Subject:Re: [rest-discuss] content negotiation, single resources, and the web today<br>
Message:<br><br>
<pre>Karl Dubost &lt;karl@...&gt; writes:

&gt;&gt;&gt; * Multiple Web sites hosted at the same domain name
&gt;&gt;
&gt;&gt; How do you know with robots.txt right now? You don't right?
&gt;
&gt; And that's bad.

Yes. As you said there's no way of fixing it using Well Known URIs.


&gt;&gt; I would say that the best way to deal with robots would be to have the
&gt;&gt; robot do content-neg on every page and for the correct content-neg
&gt;&gt; response to be the location of the robots.txt for that "site". With
&gt;&gt; every request for robot info the cache strikes will increase.
&gt;&gt;
&gt; Which means User enters URI in UA.
&gt;
&gt; UA starts a series of GET
&gt; 	robot
&gt; 	p3p
&gt; 	favicons
&gt; 	tags
&gt; 	mypuppy
&gt; 	coolweb2.0features
&gt; 	etc.
&gt; 	etc.
&gt; 	And finally the Web page itself

eh? Why would the user retrieve the robots file?

And actually pretty much the first retrieval for a UA would be the web
page itself because it might have markup for doing things like
favicon.


But we're talking about robots in this instance, right? Not people
using browsers. The interactions we're talking about are that the
robot does something like this:

  GET / HTTP/1.1
  Host: http://www.example.com
  Accept: robot/robot

then

  GET / HTTP/1.1
  Host: http://www.example.com
  Accept: *

a resource from there tells the robot about:

   http://www.example.com/furtherpage
   http://www.example.com/johnssite

so the robot does:

  GET /furtherpage HTTP/1.1
  Host: http://www.example.com
  Accept: robot/robot

and gets nothing, so straight onto:

  GET /furtherpage HTTP/1.1
  Host: http://www.example.com
  Accept: *


a bit later, in a different thread it deals with john's site:

  GET /johnssite HTTP/1.1
  Host: http://www.example.com
  Accept: robot/robot

and gets back a robot representation that explains how to handle
John's site. Then it does:

  GET /johnssite HTTP/1.1
  Host: http://www.example.com
  Accept: *

and finishes it's trawling.

Unless I really am parsing you wrong this is what you want: someway
for "farmed" sites (those not anchored at a the domain root of a uri)
to be real sites.

Of course: this is NOT how it works currenty. But IF it worked this
way then farmed sites could be real sites whereas right now they
really can't (unless the HTML META tag is used but that's really just
poor man's content neg [because it only works with HTML]).


&gt;&gt;   a resource *could* be a 'site' by simplying accepting neg for 'site'
&gt;&gt;   representations
&gt;
&gt; See above.

Sorry. Too concise for me. I don't understand what your critism
actually _is_.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5767<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-24 04:14:10<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>Bill Venners &lt;bv-svp@...&gt; writes:

&gt; On Mar 23, 2006, at 6:34 PM, Nic wrote:
&gt;
&gt;&gt;&gt; As another example, I agree with Claude Montpetit's recent post (in a
&gt;&gt;&gt; different thread) that the same content expressed in different human
&gt;&gt;&gt; languages should have different URIs. In other words, I don't believe
&gt;&gt;&gt; in doing content negotiation on the Accept-Language header (for
&gt;&gt;&gt; usability reasons).
&gt;&gt;
&gt;&gt; I don't *think* that's what Claude said. Having a separate URI and NOT
&gt;&gt; doing content neg is not the same thing.
&gt;&gt;
&gt; I may have misinterpreted what Claude was saying, but I think you  
&gt; understood what I was saying. What do you mean by, "Having a separate  
&gt; URI and NOT doing content neg is not the same thing."?

Just because there IS a separate URI for a resource doesn't mean you
can't still do content-neg with a different URI; eg:

  http://www.example.com/somepage
   has i18n representations:
     fr
     en
   which are represented by different resources:

    http://www.example.com/somepage.fr.html
    http://www.example.com/somepage.en.html

the content neg request can indicate the location of the real resource
with the Location header.


&gt; I know my philosophy goes against the approach that seems recommended  
&gt; by the HTTP spec by its examples of content negotiation being done on  
&gt; Accept-Language. From a usability perspective, however, I believe  
&gt; taking that approach in my particular design case inappropriate.  
&gt; We're creating a network of sites, and each site will have one and  
&gt; only one locale. So if there's a English article on site A, the  
&gt; French translation of it, if any, would be on site B. Since each one  
&gt; of these sites will be mono-lingual, it doesn't make sense to do  
&gt; content negotiation on Accept-Language. Nevertheless, I will know if  
&gt; there's a French translation, and if they mention they prefer French  
&gt; over English in the Accept-Language header, I'd like to be nice and  
&gt; mention to them that there's a French version of this article over at  
&gt; this URI at site B. I may decide to do that if I notice that the  
&gt; request is coming from an IP address in France, if that's something  
&gt; users find useful.

Ok. What I find hard is the dynamic bit... why not just put the
language links directly into the page statically? Client side could
help pull that out as well in terms of UI I guess (not sure if script
can see the i18n prefs).


&gt; I think I am supporting the standard. In my case there isn't a French  
&gt; representation of the English article at that URI. By requesting that  
&gt; URI you are asking for an article in English, and I'll send you one.
&gt;
&gt; I definitely want to have lots of different languages being spoken in  
&gt; our network, but as I said, each site will be for users' who can  
&gt; interact in a particular language.

Why not follow what the specs want you to do and make one site but
multi-lingual? Is there a business reason for having different sites?
Or are they really the same site?

I am really interested in this.


&gt;&gt;&gt; Would this be the RESTful way to think about personalization of
&gt;&gt;&gt; resources based on content negotiation?
&gt;&gt;
&gt;&gt; I don't think so. I think that you're methods won't be idempotent and
&gt;&gt; that's anti-REST.
&gt;&gt;
&gt; Why wouldn't the methods be idempotent?

Because the results of the requests would be different depending on
who you are. If I get the resource with my lang preference set one way
then I'll get one thing, but if I get it another way I'll get another
thing.

Another thing: authentication methods are supposed to be flexible with
HTTP but you're going to tie the system to one form of authentication
(one where the username is transmitted to you). I'm not sure if this
is against REST per se... but it would not be best practice.



&gt;&gt; However, I will admit I have a hard time undestanding how
&gt;&gt; personalization can fit into REST. Client side script seems to be the
&gt;&gt; best solution.
&gt;&gt;
&gt; That's what I've heard. The reason I brought this up is I can't  
&gt; personally see much difference between customizing a resource for  
&gt; user's preferred language (via Accept-Language content negotiation)  
&gt; and customizing it by mentioning their first name in a Welcome  
&gt; message. Why would one be a blessed-by-the-spec representation of the  
&gt; resource and the other be blatant disrespect of the spirit of HTTP  
&gt; and REST? One reason I can imagine this might be the case is that  
&gt; these kinds of customization are not intended by (or mentioned by)  
&gt; the HTTP designers.

Because one works for everybody with the header set that way and the
other works for only one person.

Server side storage of state outside the framework of resources is bad
according to Roy. Most of us here believe he's right.


&gt; What I'd like to do over HTTP, though, is give the user the best  
&gt; experience by looking at whatever information comes in with a request  
&gt; (IP address, cookies, Accept-Language, referrer, whatever) and  
&gt; provide the most useful representation of the requested resource.
&gt; If I give a unique ETag to each variant, then I think caching should  
&gt; work, and conceptually to me it just feels like each of these are  
&gt; personalized representations of a resource. What would doing this  
&gt; break? What would be the downside?

Caching will work in as much as there will be almost no
caching. Intermediaries won't be able to cache your pages because
every single one (or nearlly every single one) will be unique.


Clearly, scalability and personalization are a trade off. You should
consider client side personalization though... it's really quite
powerfull these days.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5768<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-03-24 05:22:33<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>
On Mar 23, 2006, at 8:14 PM, Nic wrote:

&gt;&gt; I may have misinterpreted what Claude was saying, but I think you
&gt;&gt; understood what I was saying. What do you mean by, "Having a separate
&gt;&gt; URI and NOT doing content neg is not the same thing."?
&gt;
&gt; the content neg request can indicate the location of the real resource
&gt; with the Location header.
&gt;
Thanks. I understand now what you mean. I'll think about that.

&gt;&gt; I know my philosophy goes against the approach that seems recommended
&gt;&gt; by the HTTP spec by its examples of content negotiation being done on
&gt;&gt; Accept-Language. From a usability perspective, however, I believe
&gt;&gt; taking that approach in my particular design case inappropriate.
&gt;&gt; We're creating a network of sites, and each site will have one and
&gt;&gt; only one locale. So if there's a English article on site A, the
&gt;&gt; French translation of it, if any, would be on site B. Since each one
&gt;&gt; of these sites will be mono-lingual, it doesn't make sense to do
&gt;&gt; content negotiation on Accept-Language. Nevertheless, I will know if
&gt;&gt; there's a French translation, and if they mention they prefer French
&gt;&gt; over English in the Accept-Language header, I'd like to be nice and
&gt;&gt; mention to them that there's a French version of this article over at
&gt;&gt; this URI at site B. I may decide to do that if I notice that the
&gt;&gt; request is coming from an IP address in France, if that's something
&gt;&gt; users find useful.
&gt;
&gt; Ok. What I find hard is the dynamic bit... why not just put the
&gt; language links directly into the page statically? Client side could
&gt; help pull that out as well in terms of UI I guess (not sure if script
&gt; can see the i18n prefs).
&gt;
I have thought about seeing each page as a little web service. I  
would send a small ball of JavaScript that goes figures out what the  
custom page should look like to the user and goes back and asks for  
each piece individually. This does seem more RESTful, in that there  
are far fewer representations for each resource. I'll keep thinking  
about that, but one  thing I would like to do is degrade gracefully  
if JavaScript is not enabled on the client. So I'm leaning more  
towards sending a page that will work as is if JavaScript is not  
enabled, and if JavaScript is enabled, the scripts will run and  
change the page in ways that take advantage of JavaScript. That's the  
theory. Not sure how hard that will be in practice.

&gt;
&gt;&gt; I think I am supporting the standard. In my case there isn't a French
&gt;&gt; representation of the English article at that URI. By requesting that
&gt;&gt; URI you are asking for an article in English, and I'll send you one.
&gt;&gt;
&gt;&gt; I definitely want to have lots of different languages being spoken in
&gt;&gt; our network, but as I said, each site will be for users' who can
&gt;&gt; interact in a particular language.
&gt;
&gt; Why not follow what the specs want you to do and make one site but
&gt; multi-lingual? Is there a business reason for having different sites?
&gt; Or are they really the same site?
&gt;
&gt; I am really interested in this.
&gt;
It is a self-imposed requirement. We currently have an RSS aggregator  
on Artima, which shows the latest things people are blogging about in  
various topics around the community. It is primarily English, and  
when a non-English entry shows up, it just feels noisy. Most users of  
this site can read it, though some can. The language everyone has in  
common at this site is English, and I feel it will be most user- 
friendly to try and keep each site in the network we're building  
focused on one language.

They will be in my mind different sites, but they will be part of one  
network of sites.

&gt;
&gt;&gt;&gt;&gt; Would this be the RESTful way to think about personalization of
&gt;&gt;&gt;&gt; resources based on content negotiation?
&gt;&gt;&gt;
&gt;&gt;&gt; I don't think so. I think that you're methods won't be idempotent  
&gt;&gt;&gt; and
&gt;&gt;&gt; that's anti-REST.
&gt;&gt;&gt;
&gt;&gt; Why wouldn't the methods be idempotent?
&gt;
&gt; Because the results of the requests would be different depending on
&gt; who you are. If I get the resource with my lang preference set one way
&gt; then I'll get one thing, but if I get it another way I'll get another
&gt; thing.
&gt;
True, but I think that's still idempotent, which to me means that  
invoking the same method multiple times doesn't hurt anything:

http://www.artima.com/intv/distrib3.html

&gt; Another thing: authentication methods are supposed to be flexible with
&gt; HTTP but you're going to tie the system to one form of authentication
&gt; (one where the username is transmitted to you). I'm not sure if this
&gt; is against REST per se... but it would not be best practice.
&gt;
I noticed that Roy's dissertation frowns upon using cookies and URL  
rewriting for user sessions. I learned last week that the recommended  
alternative is HTTP authentication. But try as I may I can't find a  
way to use HTTP auth because of usability (can't give a nice login  
page if JavaScript is disabled, hard or impossible to do single-sign  
on, etc...) and security issues (can't tell the client to "log them  
off" once authenticated, or force the client to ask for the name and  
password again). The cookies I plan to use are really just auth  
tokens, and I plan to try and avoid any real session state. So that  
part is actually quite RESTful I think, at least in the area of  
representing state with URIs. I feel trying to understand REST really  
helped me in that area. But I've found HTTP authentication in its  
current form to be unusable in practice, at least for my current  
requirements.

&gt;&gt;&gt; However, I will admit I have a hard time undestanding how
&gt;&gt;&gt; personalization can fit into REST. Client side script seems to be  
&gt;&gt;&gt; the
&gt;&gt;&gt; best solution.
&gt;&gt;&gt;
&gt;&gt; That's what I've heard. The reason I brought this up is I can't
&gt;&gt; personally see much difference between customizing a resource for
&gt;&gt; user's preferred language (via Accept-Language content negotiation)
&gt;&gt; and customizing it by mentioning their first name in a Welcome
&gt;&gt; message. Why would one be a blessed-by-the-spec representation of the
&gt;&gt; resource and the other be blatant disrespect of the spirit of HTTP
&gt;&gt; and REST? One reason I can imagine this might be the case is that
&gt;&gt; these kinds of customization are not intended by (or mentioned by)
&gt;&gt; the HTTP designers.
&gt;
&gt; Because one works for everybody with the header set that way and the
&gt; other works for only one person.
&gt;
Thanks. That helps me see the difference.

&gt; Server side storage of state outside the framework of resources is bad
&gt; according to Roy. Most of us here believe he's right.
&gt;
Well then I guess you're right in that there's not much room in REST  
for personalization of resources. Because putting the customization  
state in the URI could be done, for example, by having the user's  
nickname (such as "chuck") in every URI after they log in. Yuck.  
That's seems unRESTful because each conceptual resource has one URI  
for each user. I think that's bad for usability too because I like to  
use the URI to indicate site structure, as I described here:

http://www.artima.com/weblogs/viewpost.jsp?thread=153170

The approach I've been talking about in this thread, instead of  
having an explosion of URIs (one per resource per user) produces an  
explosion of representations and ETags (one per user per resource).

It seems the RESTful answer would really be the approach of viewing  
each page as a ball of JavaScript that builds the user's view  
dynamically, by pulling down each piece individually. I see no  
problem in having a URI with the name "chuck" in it for the piece  
that says, "Welcome, Chuck!". Trouble is I don't want to require that  
JavaScript be available on the client.

&gt;
&gt;&gt; What I'd like to do over HTTP, though, is give the user the best
&gt;&gt; experience by looking at whatever information comes in with a request
&gt;&gt; (IP address, cookies, Accept-Language, referrer, whatever) and
&gt;&gt; provide the most useful representation of the requested resource.
&gt;&gt; If I give a unique ETag to each variant, then I think caching should
&gt;&gt; work, and conceptually to me it just feels like each of these are
&gt;&gt; personalized representations of a resource. What would doing this
&gt;&gt; break? What would be the downside?
&gt;
&gt; Caching will work in as much as there will be almost no
&gt; caching. Intermediaries won't be able to cache your pages because
&gt; every single one (or nearlly every single one) will be unique.
&gt;
In my case, I expect that most people will use these sites without  
signing in, so they can all share representations. Once someone signs  
in, the caching is really just for them, but it can still be cached  
and the ETags checked. It's just that the first request of a resource  
per logged in user will always be a cache miss. But you're right it  
is a tradeoff between personalization and scalability, and here I  
think personalization is more important in my case. The caching story  
gets even worse if the client doesn't have cookies enabled and they  
sign in and I start rewriting URLs by adding the auth token to the  
end. That really breaks with REST and I hate those ugly URLs, but I  
don't want to require cookies and can't find a way to use HTTP auth.  
So in that case the caching isn't per user, but per user session,  
which is even more of a tradeoff that sacrifices scalability and  
bandwidth for usability.

What I find odd is how hard it is to accomplish by following the  
official recommended HTTP way the simple basic things almost every  
website wants to do.

Thanks.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5769<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2006-03-24 09:27:43<br>
Subject:Re: [rest-discuss] content negotiation, single resources, and the web today<br>
Message:<br><br>
<pre>Claude Montpetit wrote:
&gt; PS: In the "real world", although a resource may be available both in 
&gt; French and English, I know for sure that both versions are not equal 
&gt; (some people truly believe that the google translator can be mistaken 
&gt; with a human translator ;)

In the real world people make assumptions about what you want unless you 
explicitly ask for "the French version", which is reasonable.

If you do ask for "the French version" people will give you the French 
version, even though you asked for it in English and are clearly and 
English-speaker.

I'm not likely to be asking for the French version of anything myself, 
not speaking French, but I do like to be able to ensure I get the Modern 
English or Middle English versions of Chaucer depending on whether I 
want to just recap the story, or enjoy the language of the original.

As such I think it perfectly reasonable to have a URI identifying "X" 
with content-neg used to determine the language of the representation 
returned, and URIs identifying "French version of X", "English version 
of X", etc. if it's at all reasonable that someone may have a good 
reason for wanting to read in a language other than their own.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5770<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-03-24 09:57:39<br>
Subject:HTTP Status code question<br>
Message:<br><br>
<pre>Hi,

this is actually a bit OT here, but I cannot think of any other place  
where people would be more interested in this kind of question/answer.

I have the following scenario: A server sends a form to a client,  
letting it know that it accepts application/xml+rdf for processing;  
the client then POSTs an application/xml+rdf message to the given  
resource for the server to process.

What HTTP status code should the server return if there are triples  
missing in the RDF that it needs for processing the RDF correctly?

The maybe-possible codes would be 400, 406 or 409, but  they are all  
not a perfect choice. 406 is maybe the closest if one considers that  
the idea of a mime type with extensible semantics is newer than the  
method specification.

Ideas?

Thanks.

Jan


________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5771<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-24 10:04:41<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>Bill Venners &lt;bv-svp@...&gt; writes:

&gt;&gt; Why not follow what the specs want you to do and make one site but
&gt;&gt; multi-lingual? Is there a business reason for having different sites?
&gt;&gt; Or are they really the same site?
&gt;&gt;
&gt;&gt; I am really interested in this.
&gt;&gt;
&gt; It is a self-imposed requirement. We currently have an RSS aggregator  
&gt; on Artima, which shows the latest things people are blogging about in  
&gt; various topics around the community. It is primarily English, and  
&gt; when a non-English entry shows up, it just feels noisy. Most users of  
&gt; this site can read it, though some can. The language everyone has in  
&gt; common at this site is English, and I feel it will be most user- 
&gt; friendly to try and keep each site in the network we're building  
&gt; focused on one language.
&gt;
&gt; They will be in my mind different sites, but they will be part of one  
&gt; network of sites.

Hmmm... but why not just make them one site and do i18n content
negotiation?

Can you tell us the business reason for multiple sites?

This is what I am interested in. Why a business reason should push
you down a path that the specs don't really cater for.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5772<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-24 10:21:08<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>Bill Venners &lt;bv-svp@...&gt; writes:

&gt;&gt; Another thing: authentication methods are supposed to be flexible with
&gt;&gt; HTTP but you're going to tie the system to one form of authentication
&gt;&gt; (one where the username is transmitted to you). I'm not sure if this
&gt;&gt; is against REST per se... but it would not be best practice.
&gt;&gt;
&gt; I noticed that Roy's dissertation frowns upon using cookies and URL  
&gt; rewriting for user sessions. I learned last week that the recommended  
&gt; alternative is HTTP authentication. But try as I may I can't find a  
&gt; way to use HTTP auth because of usability (can't give a nice login  
&gt; page if JavaScript is disabled, hard or impossible to do single-sign  
&gt; on, etc...) and security issues (can't tell the client to "log them  
&gt; off" once authenticated, or force the client to ask for the name and  
&gt; password again). The cookies I plan to use are really just auth  
&gt; tokens, and I plan to try and avoid any real session state. So that  
&gt; part is actually quite RESTful I think, at least in the area of  
&gt; representing state with URIs. I feel trying to understand REST really  
&gt; helped me in that area. But I've found HTTP authentication in its  
&gt; current form to be unusable in practice, at least for my current  
&gt; requirements.

Do you have a pointer for "auth sessions are ok?" I think the point is
that sessions are bad. Whether they're done with auth or not is not
the point.

State should be created with a POST or a PUT into the resource space.


Personally I *do* use cookies for authentication. But I use them like
basic auth and I use them because it's not possible to alter the UI of
basic auth. O'Reilly will be publishing an article about this
soon. I'll let the list know.

As long as cookies aren't used for sessions I don't see what's wrong
with them and how they can be anti-REST.


&gt; Well then I guess you're right in that there's not much room in REST  
&gt; for personalization of resources. Because putting the customization  
&gt; state in the URI could be done, for example, by having the user's  
&gt; nickname (such as "chuck") in every URI after they log in. Yuck.  
&gt; That's seems unRESTful because each conceptual resource has one URI  
&gt; for each user. 

I think that is specifically forbidden in Roy's dissert on REST:

  http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm


&gt; What I find odd is how hard it is to accomplish by following the  
&gt; official recommended HTTP way the simple basic things almost every  
&gt; website wants to do.

Yes. Roy specifically talks about client side script in his
dissertation as I recall.

Client side stuff used to be hard but it isn't anymore.

Everything else is a hack. Some pretty cool hacks, but hacks none the
less.

Remember also that REST is a style, so althorugh the rules are quite
strict you are free to break them. There's no API that's going to
break if you don't do pure REST.

It's just that you will lose the benefits (such as scalability) to an
extent.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5773<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-24 10:59:09<br>
Subject:Re: [rest-discuss] HTTP Status code question<br>
Message:<br><br>
<pre>Jan Algermissen &lt;jalgermissen@...&gt; writes:

&gt; Hi,
&gt;
&gt; this is actually a bit OT here, but I cannot think of any other place  
&gt; where people would be more interested in this kind of question/answer.
&gt;
&gt; I have the following scenario: A server sends a form to a client,  
&gt; letting it know that it accepts application/xml+rdf for processing;  
&gt; the client then POSTs an application/xml+rdf message to the given  
&gt; resource for the server to process.
&gt;
&gt; What HTTP status code should the server return if there are triples  
&gt; missing in the RDF that it needs for processing the RDF correctly?
&gt;
&gt; The maybe-possible codes would be 400, 406 or 409, but  they are all  
&gt; not a perfect choice. 406 is maybe the closest if one considers that  
&gt; the idea of a mime type with extensible semantics is newer than the  
&gt; method specification.

200 with:

&lt;html&gt;
&lt;h1&gt;There's an error!&lt;/h1&gt;
&lt;/html&gt;


(just joking).


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5774<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2006-03-24 11:35:36<br>
Subject:Re: [rest-discuss] HTTP Status code question<br>
Message:<br><br>
<pre>Jan Algermissen wrote:
&gt; Hi,
&gt; 
&gt; this is actually a bit OT here, but I cannot think of any other place  
&gt; where people would be more interested in this kind of question/answer.
&gt; 
&gt; I have the following scenario: A server sends a form to a client,  
&gt; letting it know that it accepts application/xml+rdf for processing;  
&gt; the client then POSTs an application/xml+rdf message to the given  
&gt; resource for the server to process.
&gt; 
&gt; What HTTP status code should the server return if there are triples  
&gt; missing in the RDF that it needs for processing the RDF correctly?
&gt; 
&gt; The maybe-possible codes would be 400, 406 or 409, but  they are all  
&gt; not a perfect choice. 406 is maybe the closest if one considers that  
&gt; the idea of a mime type with extensible semantics is newer than the  
&gt; method specification.

406 is not appropriate. It would be appropriate if for example the 
response was also going to be application/xml+rdf, the request was 
correct, but the request said that only text/html was an acceptable 
response.

I'd reserve 409 for a case where the request was valid, but not 
appropriate in this particular case.

Otherwise I'd go for 400.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5775<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-03-24 11:34:04<br>
Subject:Re: [rest-discuss] HTTP Status code question<br>
Message:<br><br>
<pre>
On Mar 24, 2006, at 11:59 AM, Nic wrote:

&gt; Jan Algermissen &lt;jalgermissen@...&gt; writes:
&gt;
&gt;&gt; Hi,
&gt;&gt;
&gt;&gt; this is actually a bit OT here, but I cannot think of any other place
&gt;&gt; where people would be more interested in this kind of question/ 
&gt;&gt; answer.
&gt;&gt;
&gt;&gt; I have the following scenario: A server sends a form to a client,
&gt;&gt; letting it know that it accepts application/xml+rdf for processing;
&gt;&gt; the client then POSTs an application/xml+rdf message to the given
&gt;&gt; resource for the server to process.
&gt;&gt;
&gt;&gt; What HTTP status code should the server return if there are triples
&gt;&gt; missing in the RDF that it needs for processing the RDF correctly?
&gt;&gt;
&gt;&gt; The maybe-possible codes would be 400, 406 or 409, but  they are all
&gt;&gt; not a perfect choice. 406 is maybe the closest if one considers that
&gt;&gt; the idea of a mime type with extensible semantics is newer than the
&gt;&gt; method specification.
&gt;
&gt; 200 with:
&gt;
&gt; &lt;html&gt;
&gt; &lt;h1&gt;There's an error!&lt;/h1&gt;
&gt; &lt;/html&gt;
&gt;
&gt;
&gt; (just joking).

Actually, it might be exactly what has to be done (using a mime type  
that the client understands to automatically find the error of  
course). I have been thinking that the request in my example is  
indeed succsessful from the HTTP POV. The error in my case is at the  
application level and thus should go into the MIME type sematics, not  
into  HTTP semantcis.

Or?

Jan

&gt;
&gt;
&gt; Nic
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5776<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2006-03-24 11:50:23<br>
Subject:Re: [rest-discuss] HTTP Status code question<br>
Message:<br><br>
<pre>Jan Algermissen wrote:
&gt;&gt;200 with:
&gt;&gt;
&gt;&gt;&lt;html&gt;
&gt;&gt;&lt;h1&gt;There's an error!&lt;/h1&gt;
&gt;&gt;&lt;/html&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;(just joking).
&gt; 
&gt; 
&gt; Actually, it might be exactly what has to be done (using a mime type  
&gt; that the client understands to automatically find the error of  
&gt; course). I have been thinking that the request in my example is  
&gt; indeed succsessful from the HTTP POV. The error in my case is at the  
&gt; application level and thus should go into the MIME type sematics, not  
&gt; into  HTTP semantcis.

That's the anti-pattern of treating HTTP as a transport protocol.

A HTTP error does not just mean a failure at the level of HTTP itself.

Consider the classic example of running a server-side script that throws 
and exception. It's not HTTPs fault that this happened, it's HTTPs job 
to respond to the (correctly formed) HTTP request with a (correctly 
formed) 500 error stating that an error happened at the server.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5777<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-03-24 11:55:48<br>
Subject:Re: [rest-discuss] HTTP Status code question<br>
Message:<br><br>
<pre>
On Mar 24, 2006, at 12:50 PM, Jon Hanna wrote:
&gt;&gt;
&gt;&gt; Actually, it might be exactly what has to be done (using a mime type
&gt;&gt; that the client understands to automatically find the error of
&gt;&gt; course). I have been thinking that the request in my example is
&gt;&gt; indeed succsessful from the HTTP POV. The error in my case is at the
&gt;&gt; application level and thus should go into the MIME type sematics, not
&gt;&gt; into  HTTP semantcis.
&gt;
&gt; That's the anti-pattern of treating HTTP as a transport protocol.

Ouch - that hurts. I knew saying the above was a slippery slope :o)
&gt;
&gt; A HTTP error does not just mean a failure at the level of HTTP itself.
&gt;

Yes, but an equivalent case to mine would be a search engine  
answering e.g. 400
for supplying a syntactically correct but somehow unprocessable  
query. I am
really not sure that all errors should be indicated by HTTP error  
codes. But if not
all of them...which (of those without an appropriate code) should be  
handled by HTTP?

&gt; Consider the classic example of running a server-side script that  
&gt; throws
&gt; and exception. It's not HTTPs fault that this happened, it's HTTPs job
&gt; to respond to the (correctly formed) HTTP request with a (correctly
&gt; formed) 500 error stating that an error happened at the server.
&gt;

Hmm...isn't that a 'connector failure', informing the client that the  
request did not reach the component that would normaly handle the  
request?

I know what you say, but I remain wondering...

Thanks anyhow.

Jan


&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5778<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2006-03-24 12:08:22<br>
Subject:Re: [rest-discuss] HTTP Status code question<br>
Message:<br><br>
<pre>Jan Algermissen wrote:

 &gt;&gt; That's the anti-pattern of treating HTTP as a transport protocol.
 &gt;
 &gt;
 &gt;
 &gt; Ouch - that hurts. I knew saying the above was a slippery slope :o)


It is treating it as a transport protocol though.

 &gt; Yes, but an equivalent case to mine would be a search engine
 &gt; answering e.g. 400
 &gt; for supplying a syntactically correct but somehow unprocessable
 &gt; query. I am
 &gt; really not sure that all errors should be indicated by HTTP error
 &gt; codes. But if not
 &gt; all of them...which (of those without an appropriate code) should be
 &gt; handled by HTTP?

Why not. It tells us that the request cannot be successfully tried 
againt without alteration. It tells proxies that too.

Though search engines tend to pass queries in the URI for GETs. If 
/?search=someBadQuery can't return anything useful for some reason a 404 
would be more appropriate - the URI does not have a means of returning a 
representation of a resource.

Of course, the actual error message would have to be appropriate for the 
user ("This search cannot blah blah" rather than a server's default 404 
message.

 &gt;&gt;Consider the classic example of running a server-side script that
 &gt;&gt;throws
 &gt;&gt;and exception. It's not HTTPs fault that this happened, it's HTTPs job
 &gt;&gt;to respond to the (correctly formed) HTTP request with a (correctly
 &gt;&gt;formed) 500 error stating that an error happened at the server.
 &gt;&gt;
 &gt;
 &gt;
 &gt; Hmm...isn't that a 'connector failure', informing the client that the
 &gt; request did not reach the component that would normaly handle the
 &gt; request?

It did reach the component, and the component went b0rk in an unexpected 
way (if it was an expected way, based on bad input, then the error 
should have been trapped and an appropriate error from the 4xx range 
returned).

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5779<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-24 11:57:58<br>
Subject:Re: [rest-discuss] HTTP Status code question<br>
Message:<br><br>
<pre>Jon Hanna &lt;jon@...&gt; writes:

&gt; Jan Algermissen wrote:
&gt;&gt;&gt;200 with:
&gt;&gt;&gt;
&gt;&gt;&gt;&lt;html&gt;
&gt;&gt;&gt;&lt;h1&gt;There's an error!&lt;/h1&gt;
&gt;&gt;&gt;&lt;/html&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;(just joking).
&gt;&gt; 
&gt;&gt; 
&gt;&gt; Actually, it might be exactly what has to be done (using a mime type  
&gt;&gt; that the client understands to automatically find the error of  
&gt;&gt; course). I have been thinking that the request in my example is  
&gt;&gt; indeed succsessful from the HTTP POV. The error in my case is at the  
&gt;&gt; application level and thus should go into the MIME type sematics, not  
&gt;&gt; into  HTTP semantcis.
&gt;
&gt; That's the anti-pattern of treating HTTP as a transport protocol.
&gt;
&gt; A HTTP error does not just mean a failure at the level of HTTP itself.
&gt;
&gt; Consider the classic example of running a server-side script that throws 
&gt; and exception. It's not HTTPs fault that this happened, it's HTTPs job 
&gt; to respond to the (correctly formed) HTTP request with a (correctly 
&gt; formed) 500 error stating that an error happened at the server.

What he said. 

My 200 joke was, err... a joke.

Clearly it should at least be 400.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5780<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-03-24 12:50:05<br>
Subject:Re: [rest-discuss] HTTP Status code question<br>
Message:<br><br>
<pre>
On Mar 24, 2006, at 1:07 PM, Jon Hanna wrote:

&gt;
&gt; Why not. It tells us that the request cannot be successfully tried  
&gt; againt without alteration. It tells proxies that too.
&gt;

&lt;quote&gt;
10.4.1 400 Bad Request

The request could not be understood by the server due to malformed  
syntax. The client SHOULD NOT repeat the request without modifications.
&lt;/quote&gt;

Then "malformed syntax" can be understood to mean "syntactically  
correct, but semantically wrong or missing something"?

[Sorry, not trying to be difficult, I only want to besure the specs  
intentionally support it]

Jan

P.S. Related: what code should a server that says it accepts  
application/xml return upon receiving syntactically correct XML it  
cannot process because it uses a schema it does not understand?






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5781<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-03-24 14:02:43<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>Bill Venners wrote:

&gt; I noticed that Roy's dissertation frowns upon using cookies and URL  
&gt; rewriting for user sessions. I learned last week that the recommended  
&gt; alternative is HTTP authentication. But try as I may I can't find a  
&gt; way to use HTTP auth because of usability (can't give a nice login  
&gt; page if JavaScript is disabled, hard or impossible to do single-sign  
&gt; on, etc...) 

HTTP authentication has great usability, far better than the forms and 
JavaScript web developers splatter on pages to replace the real 
authentication dialogs. It's totally obvious to users how to fill in 
this stuff, and browsers can easily recognize and autofill the dialogs, 
and even avoid showing them when they're redundant. In practice, this 
always works. What fails repeatedly in the real world are form and 
cookie based authentication schemes.

What you call "usability" has little to do with usability. Rather it is 
the same art-school idiocy that has hobbled the Web ever since Marc 
Andreesen added the img tag to HTML in 1993. Designers, not users but 
designers, get upset that the username and password dialog doesn't fit 
their site's carefully constructed look and feel (one that more often 
than not doesn't look like they expect on any system except their own 
anyway). Users generally couldn't care less about this. They just want 
to log in, get their work done, and forget about the whole 
username/password mess.

&gt; and security issues (can't tell the client to "log them  
&gt; off" once authenticated, or force the client to ask for the name and  
&gt; password again). 

Now that's a real issue and one I'm surprised hasn't been fixed yet.

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5782<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-03-24 14:11:24<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>
On Mar 24, 2006, at 3:02 PM, Elliotte Harold wrote:

&gt;
&gt;&gt; and security issues (can't tell the client to "log them
&gt;&gt; off" once authenticated, or force the client to ask for the name and
&gt;&gt; password again).
&gt;
&gt; Now that's a real issue and one I'm surprised hasn't been fixed yet.

Especially since it should be comparatively easy to add a "Log Off  
This Realm" button to the tool bar of the handfull importannt  
browsers, or?

Jan

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5783<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-24 14:00:50<br>
Subject:Re: [rest-discuss] HTTP Status code question<br>
Message:<br><br>
<pre>Jan Algermissen &lt;jalgermissen@...&gt; writes:

&gt; P.S. Related: what code should a server that says it accepts  
&gt; application/xml return upon receiving syntactically correct XML it  
&gt; cannot process because it uses a schema it does not understand?

I think 400.

We've talked about XML and schemas before but not really reached any
satisfactory conclusion.

Schemas are not quite orthogonal to media types. HTTP only supports
media types for content negotiation and expectations.

XML content types seem to be a bit of a mess as well:

   application/rss+xml
   application/rdf+xml

are these *really* different content types or are they just subtely
different XML based syntaxes?

I think we (the community) need to think more about the way schemas
and content types impact REST.

Maybe there needs to be a header for schema?


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5784<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-03-24 14:33:12<br>
Subject:Re: [rest-discuss] HTTP Status code question<br>
Message:<br><br>
<pre>Nic,

Mark has wrestled with this extensively:

http://www.markbaker.ca/2002/09/Blog/2004/01/19#2004-01-application-xml
http://www.markbaker.ca/Talks/2004-xmlself/Overview-1.html
http://www.markbaker.ca/Talks/2004-media-types-and-compdocs/ 
Overview.html

Jan


On Mar 24, 2006, at 3:00 PM, Nic wrote:
&gt;
&gt; We've talked about XML and schemas before but not really reached any
&gt; satisfactory conclusion.
&gt;
&gt; Schemas are not quite orthogonal to media types. HTTP only supports
&gt; media types for content negotiation and expectations.
&gt;
&gt; XML content types seem to be a bit of a mess as well:
&gt;
&gt;    application/rss+xml
&gt;    application/rdf+xml
&gt;
&gt; are these *really* different content types or are they just subtely
&gt; different XML based syntaxes?
&gt;
&gt; I think we (the community) need to think more about the way schemas
&gt; and content types impact REST.
&gt;
&gt; Maybe there needs to be a header for schema?
&gt;
&gt;
&gt; Nic
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5785<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-03-24 14:37:54<br>
Subject:Re: [rest-discuss] HTTP Status code question<br>
Message:<br><br>
<pre>Nic wrote:

&gt; Schemas are not quite orthogonal to media types. HTTP only supports
&gt; media types for content negotiation and expectations.
&gt; 

I suspect you're identifying a real issue, but I don't think schemas 
have anything to do with it. Whether a document does or does not have a 
schema, and whether a document is or is not valid according to that 
schema, has little to do with what wishes to retrieve. Schemas are 
vastly overrated. Remove the word "schema" from the discussion and I 
think you'll get to the heart of the matter much more quickly.

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5786<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-03-24 14:39:22<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>Jan Algermissen wrote:

&gt; Especially since it should be comparatively easy to add a "Log Off  
&gt; This Realm" button to the tool bar of the handfull importannt  
&gt; browsers, or?

Could that perhaps be implemented as a Firefox extension? If so, that 
might be a nice first step.

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5787<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-03-24 14:40:00<br>
Subject:Re: [rest-discuss] HTTP Status code question<br>
Message:<br><br>
<pre>
On Mar 24, 2006, at 3:00 PM, Nic wrote:

&gt; XML content types seem to be a bit of a mess as well:
&gt;
&gt;    application/rss+xml
&gt;    application/rdf+xml
&gt;
&gt; are these *really* different content types or are they just subtely
&gt; different XML based syntaxes?

They are different message types, giving the message different  
meanings. Usually they'll result in dispatching to different  
applications.

&gt;
&gt; I think we (the community) need to think more about the way schemas
&gt; and content types impact REST.
&gt;
&gt; Maybe there needs to be a header for schema?

I don't think so. But there should be more publicly visible advice to

- not use application/xml and rely on namespace based dispatching
- reuse existing MIME types instead of inventing new ones
- consider the use of microformats

Jan


________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5788<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-03-24 14:46:26<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>Elliotte Harold wrote:

&gt; Could that perhaps be implemented as a Firefox extension? If so, that 
&gt; might be a nice first step.
&gt; 

Answer: probably. This extension clears all HTTP authentication data:

http://extensionroom.mozdev.org/more-info/clearhttpauth

It is included with the popular Web Developer extension. However on
first glance it seems to clear all HTTP authentication credentials. It
would just need to be expanded to have an option to logout of the
current site only.

Currently it operates by invoking the clearAll() method in 
nsIHttpAuthManager:

http://www.xulplanet.com/references/xpcomref/ifaces/nsIHttpAuthManager.html

I suspect what you'd have to do instead is find the current site, realm, 
and path and set the username and password to null or the empty string 
or some such using the setAuthIdentity() method.

Probably isn't too hard. Is there a XUL developer in the house?

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5789<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-24 14:34:17<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>Elliotte Harold &lt;elharo@...&gt; writes:

&gt; What you call "usability" has little to do with usability. Rather it is 
&gt; the same art-school idiocy that has hobbled the Web ever since Marc 
&gt; Andreesen added the img tag to HTML in 1993. 

Harsh words. It's them image tags wot's been payin' our wages for so
long. Go ask the designer of Gopher.


&gt; Designers, not users but 
&gt; designers, get upset that the username and password dialog doesn't fit 
&gt; their site's carefully constructed look and feel (one that more often 
&gt; than not doesn't look like they expect on any system except their own 
&gt; anyway). Users generally couldn't care less about this. They just want 
&gt; to log in, get their work done, and forget about the whole 
&gt; username/password mess.

Can you point me to the survey that suggests that? Most of the users I
know would rather not login at all. That's why they like cookies.



&gt;&gt; and security issues (can't tell the client to "log them  
&gt;&gt; off" once authenticated, or force the client to ask for the name and  
&gt;&gt; password again). 
&gt;
&gt; Now that's a real issue and one I'm surprised hasn't been fixed yet.

No. It isn't really. Authentication is not a session. Once you
authenticate in a stateless system, you authenticate. No need to log
out.

Of course, whether there is a session is one of those things
programmers, not users but programmers, get upset about  /8-&gt;


Seriously I think it's better to accept cookies because at least they
can be used by the client side code.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5790<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2006-03-24 15:15:21<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>Nic wrote:
&gt; Seriously I think it's better to accept cookies because at least they
&gt; can be used by the client side code.

Conversely, I think it's better to not accept cookies because they can 
be used by the client side code.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5791<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-03-24 15:18:05<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>Nic wrote:

&gt; Can you point me to the survey that suggests that? Most of the users I
&gt; know would rather not login at all. That's why they like cookies.

Of course people would rather not login, and many sites use logins that 
shouldn't. Newspaper sites are common offenders here. However for sites 
that do legitimately require logins, an obvious dialog is preferable to 
hiding a small form somewhere on the Web page, and in a different place 
on every different site.


&gt; No. It isn't really. Authentication is not a session. Once you
&gt; authenticate in a stateless system, you authenticate. No need to log
&gt; out.

That's an interesting way of thinking about it. However, I do think for 
security purposes it is necessary to allow users to clear credentials 
for a site at their request. It's also useful for testing, to allow 
people to see a site as it looks without having authentication.


-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5792<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-24 14:55:20<br>
Subject:Re: [rest-discuss] HTTP Status code question<br>
Message:<br><br>
<pre>Elliotte Harold &lt;elharo@...&gt; writes:

&gt; Nic wrote:
&gt;
&gt;&gt; Schemas are not quite orthogonal to media types. HTTP only supports
&gt;&gt; media types for content negotiation and expectations.
&gt;&gt; 
&gt;
&gt; I suspect you're identifying a real issue, but I don't think schemas 
&gt; have anything to do with it. Whether a document does or does not have a 
&gt; schema, and whether a document is or is not valid according to that 
&gt; schema, has little to do with what wishes to retrieve. Schemas are 
&gt; vastly overrated. Remove the word "schema" from the discussion and I 
&gt; think you'll get to the heart of the matter much more quickly.

Well... I don't like them either.

You're right, the problem is more general than schemas. But I think
they might be a handle to solve it.


In 5 years of thinking about this problem I haven't come up with a
solution beyond creating a gazillion content types.



Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5793<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-24 15:31:30<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>Jon Hanna &lt;jon@...&gt; writes:

&gt; Nic wrote:
&gt;&gt; Seriously I think it's better to accept cookies because at least they
&gt;&gt; can be used by the client side code.
&gt;
&gt; Conversely, I think it's better to not accept cookies because they can 
&gt; be used by the client side code.

Why? Client side state is ok according to REST.

The problem is when the cookie is used to affect the state on the
server side. The request no longer contains everything needed to
understand the message (in other words there is a session and no
statelessness).

But how to do shopping carts then? Roy has talked about client side
storage for doing that. Cookies can be client side storage.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5794<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-24 15:26:13<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>Elliotte Harold &lt;elharo@...&gt; writes:

&gt; Nic wrote:
&gt;
&gt;&gt; Can you point me to the survey that suggests that? Most of the users I
&gt;&gt; know would rather not login at all. That's why they like cookies.
&gt;
&gt; Of course people would rather not login, and many sites use logins that 
&gt; shouldn't. Newspaper sites are common offenders here. However for sites 
&gt; that do legitimately require logins, an obvious dialog is preferable to 
&gt; hiding a small form somewhere on the Web page, and in a different place 
&gt; on every different site.
&gt;
&gt;
&gt;&gt; No. It isn't really. Authentication is not a session. Once you
&gt;&gt; authenticate in a stateless system, you authenticate. No need to log
&gt;&gt; out.
&gt;
&gt; That's an interesting way of thinking about it. However, I do think for 
&gt; security purposes it is necessary to allow users to clear credentials 
&gt; for a site at their request. It's also useful for testing, to allow 
&gt; people to see a site as it looks without having authentication.

The webdeveloper firefox extension does allow you to clear
authentication details. So that's all you need for testing.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5795<br>
Sender:=?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;bill@...&gt;<br>
Post Date/Time:2006-03-24 15:55:03<br>
Subject:418 Invalid [was HTTP Status code question]<br>
Message:<br><br>
<pre>Jan Algermissen wrote:
&gt; 
&gt; On Mar 24, 2006, at 1:07 PM, Jon Hanna wrote:
&gt; 
&gt;  &gt;
&gt;  &gt; Why not. It tells us that the request cannot be successfully tried 
&gt;  &gt; againt without alteration. It tells proxies that too.
&gt;  &gt;
&gt; 
&gt; &lt;quote&gt;
&gt; 10.4.1 400 Bad Request
&gt; 
&gt; The request could not be understood by the server due to malformed 
&gt; syntax. The client SHOULD NOT repeat the request without modifications.
&gt; &lt;/quote&gt;

418 Invalid

The request could not be completed due to a validation failing against 
the sent entity. This code is only allowed in situations where it is 
expected that the user might be able to resubmit the request with valid 
content and where the sent content was syntactically correct according 
to its media type. The response body SHOULD include enough information 
for the user to recognize the source of the conflict. Invalidations are 
most likely to occur in response to a PUT or POST request.

cheers
Bill




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5796<br>
Sender:Darren Chamberlain &lt;dlc@...&gt;<br>
Post Date/Time:2006-03-24 14:47:40<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5797<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-03-24 16:09:41<br>
Subject:Re: [rest-discuss] HTTP Status code question<br>
Message:<br><br>
<pre>Nic wrote:

&gt; You're right, the problem is more general than schemas. But I think
&gt; they might be a handle to solve it.

I don't think they are. I think they're a red herring. We know from 
experience that:

1. Far more documents don't have schemas than do.
2. Documents on the web routinely fail to validate even when the schema 
is known
3. Most systems seem to operate just fine without ever consulting the 
schema when processing a document.

Why exactly do you think schemas will help you solve the problem?

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5798<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-03-24 16:19:25<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>
On Mar 24, 2006, at 6:02 AM, Elliotte Harold wrote:
&gt; Bill Venners wrote:
&gt;
&gt;&gt; I noticed that Roy's dissertation frowns upon using cookies and  
&gt;&gt; URL  rewriting for user sessions. I learned last week that the  
&gt;&gt; recommended  alternative is HTTP authentication. But try as I may  
&gt;&gt; I can't find a  way to use HTTP auth because of usability (can't  
&gt;&gt; give a nice login  page if JavaScript is disabled, hard or  
&gt;&gt; impossible to do single-sign  on, etc...)
&gt;
&gt; HTTP authentication has great usability, far better than the forms  
&gt; and JavaScript web developers splatter on pages to replace the real  
&gt; authentication dialogs. It's totally obvious to users how to fill  
&gt; in this stuff, and browsers can easily recognize and autofill the  
&gt; dialogs, and even avoid showing them when they're redundant. In  
&gt; practice, this always works. What fails repeatedly in the real  
&gt; world are form and cookie based authentication schemes.
&gt;
&gt; What you call "usability" has little to do with usability. Rather  
&gt; it is the same art-school idiocy that has hobbled the Web ever  
&gt; since Marc Andreesen added the img tag to HTML in 1993. Designers,  
&gt; not users but designers, get upset that the username and password  
&gt; dialog doesn't fit their site's carefully constructed look and feel  
&gt; (one that more often than not doesn't look like they expect on any  
&gt; system except their own anyway). Users generally couldn't care less  
&gt; about this. They just want to log in, get their work done, and  
&gt; forget about the whole username/password mess.
&gt;
I haven't done user testing, nor have I experimented with HTTP  
authentication, but let me tell you specifically the concerns I have.  
I welcome corrections to my understanding of HTTP auth. Here's our  
login form:

http://www.artima.com/sign_in

1) As we are planning to have a network of sites, I took to calling  
the username "Artima ID" just as Yahoo call's their login a "Yahoo  
ID", to make it obvious what you're logging into. "The C++ Source"  
will someday be its own website, but to sign in you need to use  your  
Artima ID. You don't have a The C++ Source ID. My understanding is I  
have no control over what the browser puts as the prompt for the  
username. I'm not concerned about looks here, just clarity. As I  
said, I haven't done user testing, but I'm concerned that once we go  
to SSO on a network of sites, the inability for me to put "Artima ID"  
next to an empty box for the username will cause people to be  
confused about what to type there.

2) Also, email addresses are now unique in our database, so if you  
forget your Artima ID, I'd like to let you use any of the email  
addresses you attached to your account instead of your Artima ID. And  
in fact, I may have registration paths where you don't select an  
Artima ID, so you may not have an ID even if you have an account. So  
I may want to say "Artima ID or email address:" next to that empty  
box. I think that's going to be more confusing than just Artima ID,  
so I'll have to do some user testing. Maybe I'll not do it at all, or  
maybe I'll have a little note that explains you can use either one.  
Regardless, if people are authenticating via the client's auth  
dialog, I believe it would be hard for me to explain that.

3) If you forgot your password, I have on the sign in page a "Forgot  
your password" link to a way to deal with that problem. Once again,  
I'm not sure how I can make that option clear using the browser's  
HTTP auth dialog. It's not about looks, but about helping the user  
see how to solve this problem.

4). If you don't have an account yet, I have a "Sign Up" link to a  
path that allows you to create a new account, to register. Once  
again, I'm not sure how to make that path as obvious when using the  
client's HTTP auth dialog. Once again, not about appearance as about  
making it easy for the user to figure out what to do next in this  
common situation.

Now, I haven't tried this buy my current untested belief is that I  
can accomplish all of these things via HTTP auth, in fact can do so  
with an identical looking sign in page, if JavaScript is enabled on  
the client. Because the JS would catch the submit and use HTTP auth  
to authenticate. But, doing this means that if JS is not enabled,  
either I:

A) Don't allow them to log in. That's a real usability minus of the  
site, and not acceptable to me.
B) Use the client's HTTP auth dialog, which although it has all the  
above usability minuses, does work. If only a small number of clients  
don't have JS, then this could be seen as a way of gracefully  
degrading the usability of the site. I don't know how many of  
Artima's current clients don't have JS, so it may be that this would  
be acceptable. If it is 0.01% of clients, then I may be able to  
swallow this approach.
C) Switch over to using cookie auth if JS is not enabled, but cookies  
are. If cookies aren't enabled, then degrade to using the client's  
HTTP auth dialog.

Not sure how to make all that smooth, but there are other problems.

5) I don't see a way to do optional authentication. What I can do  
with HTTP auth is force them to sign in before doing things that  
require being signed in, like posting to a forum or administration.  
However, what I also want to do is be able to recognize via the  
request whether or not the user is signed in. If not, I don't want to  
force them to sign in, and instead will return a representation for  
guests. If they are signed in, I want to return a personalized  
representation of the resource. I can do this kind of personalization  
with HTTP auth + cookies, if cookies are enabled, or HTTP auth + URL  
rewriting, if cookies are disabled. But if I'm using cookies and URL  
rewriting to get a personalization, why not use the same for  
authentication? The security answer to that is that it is easier to  
do replay attacks if I use the cookies or URL rewriting for  
authentication, so long as it is digest not basic authentication I'm  
using.

So there is a real security reason there, but HTTP auth  has its own  
big security problem of not being able to turn off the  
authentication, which I'll talk about more below, and I have  
workarounds for the security problems of cookies:

i) Always post the sign in credentials (esp the the pasword) over HTTPS.
ii) Only do personalization and allow non-critical actions based on  
an earlier authentication. Before any serious thing, ask for their  
password again over HTTPS. If they can't supply it, they can't  
proceed. If they do proceed, everything goes over HTTPS.
iii) Periodically ask for the password again anyway, in case someone  
left themselves logged in at public internet cafe. (Yahoo does both  
ii and iii.)

6) I want to allow people to log into the entire network a la SSO. I  
can do that with cookies and URL rewriting, but it isn't so easy to  
do with HTTP authentication. I think I actually figured out a way to  
do it if JS is enabled, but I haven't tried it and once again, what  
do I do if JS is not enabled? Do I degrade by saying you can't have  
SSO without JS? Do I degrade by switching to cookies/URL rewriting?

7) Lastly, these sites will each have several people who can do  
various administration roles such as editing, reviewing, moderating.  
I'm planning on having every administrator come up with a second  
"admin" password of there own, and forcing them to supply the admin  
password before doing any administration, all of which will happen  
under HTTPS. This is one area where I've considered HTTP auth might  
fit, because all the administration could take place under /admin, I  
don't care about SSO, I'm not so worried about confusing the user  
because that actually would add to the security. But once again, I  
was stopped by the inability to log them off once done.

OK, there are 7 specific usability problems I have with HTTP auth in  
its current form. I'll say a bit more about the log off problem in a  
subsequent email. One last security concern worth mentioning is that  
I'm nervous about the inability to determine whether the client  
supports digest authentication. I want to avoid ever sending the  
password in the clear, and want to minimize the use of HTTPS to just  
the places where it is needed. Can I be unworried that if I say I  
want digest auth and the client doesn't have it, that it won't fall  
back to basic auth? Probably an unnecessary fear, but one that  
concerns me based on some things I read on the web this past week  
about how HTTP auth is implemented in some clients. And what do I do  
if the client doesn't support digest? Do I degrade by saying you  
can't log in, or by switching to cookies/URL rewriting?

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5799<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-03-24 16:20:32<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>
On Mar 24, 2006, at 6:02 AM, Elliotte Harold wrote:
&gt; What fails repeatedly in the real world are form and cookie based  
&gt; authentication schemes.
&gt;
What are the failure scenarios you speak of here? I'd like to make  
sure I'm aware of them.

Thanks.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5800<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-03-24 16:25:53<br>
Subject:Re: [rest-discuss] 418 Invalid [was HTTP Status code question]<br>
Message:<br><br>
<pre>
On Mar 24, 2006, at 4:55 PM, Bill de hra wrote:
&gt;
&gt; 418 Invalid
&gt;
&gt; The request could not be completed due to a validation failing against
&gt; the sent entity. This code is only allowed in situations where it is
&gt; expected that the user might be able to resubmit the request with  
&gt; valid
&gt; content and where the sent content was syntactically correct according
&gt; to its media type. The response body SHOULD include enough information
&gt; for the user to recognize the source of the conflict. Invalidations  
&gt; are
&gt; most likely to occur in response to a PUT or POST request.
&gt;

Thanks, yes. But in which HTTTP specs is that in?

Jan

&gt; cheers
&gt; Bill
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5801<br>
Sender:=?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;bill@...&gt;<br>
Post Date/Time:2006-03-24 16:35:09<br>
Subject:Re: [rest-discuss] 418 Invalid [was HTTP Status code question]<br>
Message:<br><br>
<pre>Jan Algermissen wrote:
&gt; 
&gt; On Mar 24, 2006, at 4:55 PM, Bill de h�ra wrote:
&gt;&gt;
&gt;&gt; 418 Invalid
&gt;&gt;
&gt;&gt; The request could not be completed due to a validation failing against
&gt;&gt; the sent entity. This code is only allowed in situations where it is
&gt;&gt; expected that the user might be able to resubmit the request with valid
&gt;&gt; content and where the sent content was syntactically correct according
&gt;&gt; to its media type. The response body SHOULD include enough information
&gt;&gt; for the user to recognize the source of the conflict. Invalidations are
&gt;&gt; most likely to occur in response to a PUT or POST request.
&gt;&gt;
&gt; 
&gt; Thanks, yes. But in which HTTTP specs is that in?

The next one? An extension RFC?

The point is this: when a specified item has "kinda like" semantics is 
*exactly* when a new item should be defined. Otherwise specified 
definitions become muddied and less valuable as deployed. Uniformity is 
lost.

In the meantime:

  - there is no suitable code for invalidation in the HTTP spec.

  - for browser/forms use 200; that's how the deployed web works.

  - for anything else use the generic 400 instead of overloading 406/409 
with private definitions.

cheers
Bill



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5802<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-03-24 16:42:54<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>On Mar 24, 2006, at 6:39 AM, Elliotte Harold wrote:


&gt; Jan Algermissen wrote:
&gt;
&gt;
&gt;&gt; Especially since it should be comparatively easy to add a "Log Off
&gt;&gt; This Realm" button to the tool bar of the handfull importannt
&gt;&gt; browsers, or?
&gt;&gt;
&gt;
&gt; Could that perhaps be implemented as a Firefox extension? If so, that
&gt; might be a nice first step.
&gt;
&gt;
What I would need to feel comfortable about security with HTTP auth  
is the ability to:

1) Send a timeout from the server to the client when prompting for  
authentication on a particular Realm. After that timeout, the client  
will clear the authentication for that realm. Each time they hit the  
site and I send back the auth prompt, I can move the timeout forward.

2) Send in a response a directive to clear the authentication at a  
particular realm. This allows me to have a log out button integrated  
in the UI of the site.

3) Send in the prompt a requirement that the user has to enter the  
credentials again, even if the authentication session hasn't expired,  
which enables me to make sure the real user didn't walk away and  
leave the browser logged in at a public terminal before I let them do  
something like look at and edit their personal data.

What I would like to be happy about personalization with HTTP auth  
would be the ability to:

4) send a prompt to send credentials if the user already  
authenticated, which means that if they have already supplied  
credentials for the realm, to send them, else don't prompt them for  
it and let me know they haven't done so yet.

These all would require changes to the protocol. Just having one  
browser plug-in that enables a log out button by no means will be a  
step along a path that would eventually convince me to use HTTP auth.  
I think there needs to be a new version of the protocol, and it needs  
to be very widely adopted, before I'll be ready to switch.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5803<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-03-24 17:44:16<br>
Subject:Re: [rest-discuss] HTTP Status code question<br>
Message:<br><br>
<pre>On 3/24/06, Nic &lt;nferrier@...&gt; wrote:
&gt; In 5 years of thinking about this problem I haven't come up with a
&gt; solution beyond creating a gazillion content types.

I've been heard to describe media types, at least in the context of
structured formats, as  "names for a series of compatible schema"
(think text/html vs. HTML 2.0, 3.2, 4.0, ...).  It's not quite that
simple in practice, but it's not too far from the truth either I
think.

Mark.
--
Mark Baker.  Ottawa, Ontario, CANADA.       http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5804<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-24 18:50:19<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>Bill Venners &lt;bv-svp@...&gt; writes:

&gt; These all would require changes to the protocol. Just having one  
&gt; browser plug-in that enables a log out button by no means will be a  
&gt; step along a path that would eventually convince me to use HTTP auth.  
&gt; I think there needs to be a new version of the protocol, and it needs  
&gt; to be very widely adopted, before I'll be ready to switch.

What you seem to be saying is that HTTP should solve ALL the problems
of the real world.

But fortunately the designers of HTTP follow the unix principle of a
tightly focussed component doing one thing well.


While I agree that things like authentication timeout on publicly
accessible servers are an issue... I don't think they're an issue for
HTTP.



Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5805<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-24 18:57:11<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>Bill Venners &lt;bv-svp@...&gt; writes:

&gt; 5) I don't see a way to do optional authentication. What I can do  
&gt; with HTTP auth is force them to sign in before doing things that  
&gt; require being signed in, like posting to a forum or administration.  
&gt; However, what I also want to do is be able to recognize via the  
&gt; request whether or not the user is signed in. If not, I don't want to  
&gt; force them to sign in, and instead will return a representation for  
&gt; guests. If they are signed in, I want to return a personalized  
&gt; representation of the resource. I can do this kind of personalization  
&gt; with HTTP auth + cookies, if cookies are enabled, or HTTP auth + URL  
&gt; rewriting, if cookies are disabled. But if I'm using cookies and URL  
&gt; rewriting to get a personalization, why not use the same for  
&gt; authentication? The security answer to that is that it is easier to  
&gt; do replay attacks if I use the cookies or URL rewriting for  
&gt; authentication, so long as it is digest not basic authentication I'm  
&gt; using.

Using my (soon to be published) cookie authentication spec you get the
same benefits as HTTP Auth but also get control over the UI. 

My scheme does require cookie and JS though.


&gt; 6) I want to allow people to log into the entire network a la SSO. I  
&gt; can do that with cookies and URL rewriting, but it isn't so easy to  
&gt; do with HTTP authentication. I think I actually figured out a way to  
&gt; do it if JS is enabled, but I haven't tried it and once again, what  
&gt; do I do if JS is not enabled? Do I degrade by saying you can't have  
&gt; SSO without JS? Do I degrade by switching to cookies/URL rewriting?

See the OASIS SSO stuff (Liberty alliance).

I have a RESTfull addendum to that which I will try and publish here.


&gt;
&gt; 7) Lastly, these sites will each have several people who can do  
&gt; various administration roles such as editing, reviewing, moderating.  
&gt; I'm planning on having every administrator come up with a second  
&gt; "admin" password of there own, and forcing them to supply the admin  
&gt; password before doing any administration, all of which will happen  
&gt; under HTTPS. This is one area where I've considered HTTP auth might  
&gt; fit, because all the administration could take place under /admin, I  
&gt; don't care about SSO, I'm not so worried about confusing the user  
&gt; because that actually would add to the security. But once again, I  
&gt; was stopped by the inability to log them off once done.

Better to have a single user and apply roles. Then they don't have to
reauthenticate.


Nic Ferrier

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5806<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-03-24 19:28:41<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>Hi Nic,

On Mar 24, 2006, at 10:50 AM, Nic wrote:

&gt; Bill Venners &lt;bv-svp@...&gt; writes:
&gt;
&gt;&gt; These all would require changes to the protocol. Just having one
&gt;&gt; browser plug-in that enables a log out button by no means will be a
&gt;&gt; step along a path that would eventually convince me to use HTTP auth.
&gt;&gt; I think there needs to be a new version of the protocol, and it needs
&gt;&gt; to be very widely adopted, before I'll be ready to switch.
&gt;
&gt; What you seem to be saying is that HTTP should solve ALL the problems
&gt; of the real world.
&gt;
&gt; But fortunately the designers of HTTP follow the unix principle of a
&gt; tightly focussed component doing one thing well.
&gt;
&gt;
&gt; While I agree that things like authentication timeout on publicly
&gt; accessible servers are an issue... I don't think they're an issue for
&gt; HTTP.
&gt;
Well, all these things can be accomplished via cookie authentication,  
but at the cost of making it easy to hijack the authentication.  
That's a big defect with cookie auth, but there are workarounds,  
which I described in a previous post. I'd rather use HTTP digest auth  
than cookie auth because it doesn't have that hijacking  
vulnerability, but until HTTP auth can do all the things I described  
I--and I expect most people--will go on using cookie auth for  
websites accessed by humans. I don't think HTTP auth needs to solve  
all these problems, just that until it does, I don't think most  
people will find it practical to use HTTP auth instead of cookie auth.

The other thing that I think you pointed out earlier is that just  
because you use a cookie for authentication doesn't then mean you're  
storing session state on the server. You can use cookie auth just for  
auth, and use URIs for denoting state on the server. That's what  
we're planning on doing in our new architecture, having  
authentication sessions using cookies or URL rewriting if cookies are  
not enabled, but having no session state not accessible by a URI. I  
call it an "authentication session" because I really do want an  
authentication to expire after a timeout, but there's no extra-URI  
session state on the server.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5807<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-03-24 19:35:14<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>
On Mar 24, 2006, at 10:57 AM, Nic wrote:

&gt;&gt; 6) I want to allow people to log into the entire network a la SSO. I
&gt;&gt; can do that with cookies and URL rewriting, but it isn't so easy to
&gt;&gt; do with HTTP authentication. I think I actually figured out a way to
&gt;&gt; do it if JS is enabled, but I haven't tried it and once again, what
&gt;&gt; do I do if JS is not enabled? Do I degrade by saying you can't have
&gt;&gt; SSO without JS? Do I degrade by switching to cookies/URL rewriting?
&gt;
&gt; See the OASIS SSO stuff (Liberty alliance).
&gt;
&gt; I have a RESTfull addendum to that which I will try and publish here.
&gt;
Understanding the Liberty Alliance stuff is on my list. Thanks for  
the suggestion.

&gt;
&gt;&gt;
&gt;&gt; 7) Lastly, these sites will each have several people who can do
&gt;&gt; various administration roles such as editing, reviewing, moderating.
&gt;&gt; I'm planning on having every administrator come up with a second
&gt;&gt; "admin" password of there own, and forcing them to supply the admin
&gt;&gt; password before doing any administration, all of which will happen
&gt;&gt; under HTTPS. This is one area where I've considered HTTP auth might
&gt;&gt; fit, because all the administration could take place under /admin, I
&gt;&gt; don't care about SSO, I'm not so worried about confusing the user
&gt;&gt; because that actually would add to the security. But once again, I
&gt;&gt; was stopped by the inability to log them off once done.
&gt;
&gt; Better to have a single user and apply roles. Then they don't have to
&gt; reauthenticate.
&gt;
We are planning on doing role based access control, such that the  
users get roles and the roles get permissions. But I really want to  
require a second password for administration for the same reason that  
UNIX administrators have a separate password for root. But I don't  
want one root password for the whole network. Each user that is given  
admin privileges would chose their own admin password, which they  
would need to supply after having already logged in with their  
regular password to escalate their authentication to admin. (And each  
user would get certain specific admin roles by escalating their auth.)

So since I want two passwords, I think it would be nice to be able to  
control what the prompt is. They don't really need to specify a  
username because they are already authenticated as the user, they  
just need to supply their admin password. I think that would be  
difficult to communicate via an HTTP auth drop down dialog.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5808<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-03-24 19:36:59<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>Bill Venners wrote:

&gt; What I would need to feel comfortable about security with HTTP auth is 
&gt; the ability to:
&gt; 
&gt; 1) Send a timeout from the server to the client when prompting for 
&gt; authentication on a particular Realm. After that timeout, the client 
&gt; will clear the authentication for that realm. Each time they hit the 
&gt; site and I send back the auth prompt, I can move the timeout forward.
&gt; 
&gt; 2) Send in a response a directive to clear the authentication at a 
&gt; particular realm. This allows me to have a log out button integrated in 
&gt; the UI of the site.
&gt; 
&gt; 3) Send in the prompt a requirement that the user has to enter the 
&gt; credentials again, even if the authentication session hasn't expired, 
&gt; which enables me to make sure the real user didn't walk away and leave 
&gt; the browser logged in at a public terminal before I let them do 
&gt; something like look at and edit their personal data.
&gt; 

You do realize you don't have #1-3 now with cookies, right? The server 
does not control the client's behavior. The server can suggest to the 
client that it do these things, but it is by no means guaranteed that it 
will do so.

In practice, today, most existing widely deployed browsers cache 
passwords and usernames in such a way that timeouts are essentially 
irrelevant. Even if the server times out an authentication cookie, if I 
sit down in front of an unlocked screen with an open browser I can log 
right back in again. The browser will helpfully fill in the username and 
password again.

The only control over this is, as it should be, at the client side. The 
client can choose not to store the user name and password; and the 
client can also choose to securely lock or erase the usernames and 
passwords for a site. However the server can't do this and is never 
going to be able to.

There's probably some way to implement an ongoing challenge-response 
system to verify users if you have really high security needs, but I 
doubt Artima does. If I recall correctly, it doesn't even take credit 
cards or charge users. What you've got is nice blog host, and the need 
for user authentication is essentially for comments and new entries. 
Secure logouts don't seem a sine qua non for such a site.

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5809<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-24 20:09:34<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>Bill Venners &lt;bv-svp@...&gt; writes:

&gt; We are planning on doing role based access control, such that the  
&gt; users get roles and the roles get permissions. But I really want to  
&gt; require a second password for administration for the same reason that  
&gt; UNIX administrators have a separate password for root. 

That's not a good analogy. Unix needs su because it doesn't have a
good acl implementation.

And even with unix, sudo is now so popular because it solves some of
the problems of su.


&gt; want one root password for the whole network. Each user that is given  
&gt; admin privileges would chose their own admin password, which they  
&gt; would need to supply after having already logged in with their  
&gt; regular password to escalate their authentication to admin. (And each  
&gt; user would get certain specific admin roles by escalating their auth.)
&gt;

Sounds way too complicated to me. But it's your app and this is really
OT.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5810<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-24 20:03:17<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>Bill Venners &lt;bv-svp@...&gt; writes:

&gt; Hi Nic,
&gt;
&gt; On Mar 24, 2006, at 10:50 AM, Nic wrote:
&gt;
&gt;&gt; Bill Venners &lt;bv-svp@...&gt; writes:
&gt;&gt;
&gt;&gt;&gt; These all would require changes to the protocol. Just having one
&gt;&gt;&gt; browser plug-in that enables a log out button by no means will be a
&gt;&gt;&gt; step along a path that would eventually convince me to use HTTP auth.
&gt;&gt;&gt; I think there needs to be a new version of the protocol, and it needs
&gt;&gt;&gt; to be very widely adopted, before I'll be ready to switch.
&gt;&gt;
&gt;&gt; What you seem to be saying is that HTTP should solve ALL the problems
&gt;&gt; of the real world.
&gt;&gt;
&gt;&gt; But fortunately the designers of HTTP follow the unix principle of a
&gt;&gt; tightly focussed component doing one thing well.
&gt;&gt;
&gt;&gt;
&gt;&gt; While I agree that things like authentication timeout on publicly
&gt;&gt; accessible servers are an issue... I don't think they're an issue for
&gt;&gt; HTTP.
&gt;&gt;
&gt; Well, all these things can be accomplished via cookie authentication,  
&gt; but at the cost of making it easy to hijack the authentication.  
&gt; That's a big defect with cookie auth, but there are workarounds,  
&gt; which I described in a previous post. I'd rather use HTTP digest auth  
&gt; than cookie auth because it doesn't have that hijacking  
&gt; vulnerability, but until HTTP auth can do all the things I described  
&gt; I--and I expect most people--will go on using cookie auth for  
&gt; websites accessed by humans. I don't think HTTP auth needs to solve  
&gt; all these problems, just that until it does, I don't think most  
&gt; people will find it practical to use HTTP auth instead of cookie
&gt; auth.

You can do digest authentication with cookie auth.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5811<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-03-24 21:25:26<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>
On Mar 24, 2006, at 11:36 AM, Elliotte Harold wrote:

&gt; Bill Venners wrote:
&gt;
&gt;&gt; What I would need to feel comfortable about security with HTTP  
&gt;&gt; auth is the ability to:
&gt;&gt; 1) Send a timeout from the server to the client when prompting for  
&gt;&gt; authentication on a particular Realm. After that timeout, the  
&gt;&gt; client will clear the authentication for that realm. Each time  
&gt;&gt; they hit the site and I send back the auth prompt, I can move the  
&gt;&gt; timeout forward.
&gt;&gt; 2) Send in a response a directive to clear the authentication at a  
&gt;&gt; particular realm. This allows me to have a log out button  
&gt;&gt; integrated in the UI of the site.
&gt;&gt; 3) Send in the prompt a requirement that the user has to enter the  
&gt;&gt; credentials again, even if the authentication session hasn't  
&gt;&gt; expired, which enables me to make sure the real user didn't walk  
&gt;&gt; away and leave the browser logged in at a public terminal before I  
&gt;&gt; let them do something like look at and edit their personal data.
&gt;
&gt; You do realize you don't have #1-3 now with cookies, right? The  
&gt; server does not control the client's behavior. The server can  
&gt; suggest to the client that it do these things, but it is by no  
&gt; means guaranteed that it will do so.
&gt;
&gt; In practice, today, most existing widely deployed browsers cache  
&gt; passwords and usernames in such a way that timeouts are essentially  
&gt; irrelevant. Even if the server times out an authentication cookie,  
&gt; if I sit down in front of an unlocked screen with an open browser I  
&gt; can log right back in again. The browser will helpfully fill in the  
&gt; username and password again.
&gt;
Yes, that's a good point. I hadn't thought about browser caching of  
passwords, but I do realize that passwords can be obtained in any  
number of ways. Having them cached by the browser is one, but people  
often write them down next to their PCs, enter them into spoofed  
login pages, forget to log out before walking away from a public  
computer, etc. What I at least do have with cookies is a protocol  
that allows the server to ask for the session to timeout, be cleared,  
or have credentials reentered. Either way it is a numbers game. If I  
ask via cookies for the browser to expire the session and only 50% of  
clients comply, then there's not much difference between that and  
HTTP Auth if 50% of the time people close their browsers when they  
are done. But my expectation is that I'll do better with cookies  
because I can ask.

&gt; The only control over this is, as it should be, at the client side.  
&gt; The client can choose not to store the user name and password; and  
&gt; the client can also choose to securely lock or erase the usernames  
&gt; and passwords for a site. However the server can't do this and is  
&gt; never going to be able to.
&gt;
Ultimately users are responsible for keeping their password secret.  
But many users aren't very sophisticated about security, and even  
though a server can't control what a client does when the server asks  
1, 2, or 3, I would prefer that there's a protocol, because I would  
expect it to work most of the time.

Can't I say autocomplete=off or false in a login form for, example,  
to prevent the browser from filling in a cached password? It doesn't  
mean the client will do it, but if it is part of a widely adopted de  
facto or de jura standard, I'd expect most of the time it would work.  
Same as for cookie timeouts and clearing. In the case of HTTP Auth,  
there currently isn't a way for the server to ask in the protocol  
that the client either drop the auth for a realm, time it out, or  
force them to reenter their credentials.

&gt; There's probably some way to implement an ongoing challenge- 
&gt; response system to verify users if you have really high security  
&gt; needs, but I doubt Artima does. If I recall correctly, it doesn't  
&gt; even take credit cards or charge users. What you've got is nice  
&gt; blog host, and the need for user authentication is essentially for  
&gt; comments and new entries. Secure logouts don't seem a sine qua non  
&gt; for such a site.
&gt;
What we're building now will have ecommerce, credit cards, online  
agreement to contracts, that sort of thing.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5812<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-03-24 21:38:37<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>Bill Venners wrote:

&gt; Can't I say autocomplete=off or false in a login form for, example, to 
&gt; prevent the browser from filling in a cached password? 
&gt; 


Can you in fact do that? That may explain weirdnesses I see on a couple 
of sites. I'll have to check.

As a user, that would really annoy me. In practice I avoid sites where 
autocomplete doesn't work, and I suspect others do similarly. The only 
two I'll use are my ISP's and the Brooklyn Public Library's because 
these sites' unique value is high enough that I can put up with some 
hassle (and I am thinking about changing ISPs).

If I were programming a browser or form autofill plugin (and I may in 
fact be doing that in the not too distant future) I'd make a point of 
disabling that behavior. If I used the site on a regular basis, I might 
write a GreaseMonkey script to fix this brokenness. In fact, now that i 
think of it, I think I'll do exactly that for the two sites that are 
bothering me like this.

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5813<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-03-24 22:04:56<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>
On Mar 24, 2006, at 1:38 PM, Elliotte Harold wrote:

&gt; Bill Venners wrote:
&gt;
&gt;&gt; Can't I say autocomplete=off or false in a login form for,  
&gt;&gt; example, to prevent the browser from filling in a cached password?
&gt;
&gt;
&gt; Can you in fact do that? That may explain weirdnesses I see on a  
&gt; couple of sites. I'll have to check.
&gt;
I'm not sure, because I never tried it, but that has been my impression.

&gt; As a user, that would really annoy me. In practice I avoid sites  
&gt; where autocomplete doesn't work, and I suspect others do similarly.  
&gt; The only two I'll use are my ISP's and the Brooklyn Public  
&gt; Library's because these sites' unique value is high enough that I  
&gt; can put up with some hassle (and I am thinking about changing ISPs).
&gt;
&gt; If I were programming a browser or form autofill plugin (and I may  
&gt; in fact be doing that in the not too distant future) I'd make a  
&gt; point of disabling that behavior. If I used the site on a regular  
&gt; basis, I might write a GreaseMonkey script to fix this brokenness.  
&gt; In fact, now that i think of it, I think I'll do exactly that for  
&gt; the two sites that are bothering me like this.
&gt;
I think I'm beginning to see where you're coming from when you think  
the client should be in control of auth sessions. You know you're  
logging in from your browser on your laptop, so why are these sites  
always asking for your password again? It slows you down and is a  
usability minus for the site because it is annoying. The reason they  
are doing it is that people less sophisticated than you sometimes  
leave themselves logged in at public computers, and in very rare  
cases, people may hijack sessions because the site is using cookie  
auth. Because of other people's potential bad behavior and this  
defect in cookie auth, which the site decided to use, the site makes  
you suffer by forcing you to reenter your password over and over.

While we're talking about user-friendliness, I was just looking  
around the web for RBAC info, and I came across this page:

http://hissa.nist.gov/rbac/cals-paper.html

Wierd timing, because it popped up an auth dialog after rendering the  
text of the page. It says, "Enter username and password for 'FW-1.  
Reason: no user FW-1 ' at 129.6.92.1:80", asks me for a User Name and  
Password, and gives me a Cancel and OK button. (This is on Firefox on  
Mac OS X.) I have no idea why I need to give credentials to read this  
article, the top part of which I can actually already read. Plus I  
don't have credentials, and when I press Cancel the dialog comes back  
again. I could find no way to get out of this loop short of quiting  
Firefox. Is this HTTP auth? Whatever it is, I find it decidedly  
unfriendly.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5814<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-03-24 22:41:36<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>Bill Venners wrote:

&gt; While we're talking about user-friendliness, I was just looking around 
&gt; the web for RBAC info, and I came across this page:
&gt; 
&gt; http://hissa.nist.gov/rbac/cals-paper.html
&gt; 
&gt; Wierd timing, because it popped up an auth dialog after rendering the 
&gt; text of the page. It says, "Enter username and password for 'FW-1. 
&gt; Reason: no user FW-1 ' at 129.6.92.1:80", asks me for a User Name and 
&gt; Password, and gives me a Cancel and OK button. (This is on Firefox on 
&gt; Mac OS X.) I have no idea why I need to give credentials to read this 
&gt; article, the top part of which I can actually already read. Plus I don't 
&gt; have credentials, and when I press Cancel the dialog comes back again. I 
&gt; could find no way to get out of this loop short of quiting Firefox. Is 
&gt; this HTTP auth? Whatever it is, I find it decidedly unfriendly.
&gt; 

What seems to be happening on that page is that the images on the page, 
but not the HTML, are protected by HTTP auth. Why that is, I have no 
idea. I suspect that the reason the dialog keeps popping up is just once 
per img tag, and you force quit the browser before getting to the end. 
The image links are also being redirected to another site, and that 
probably also has something to do with why that page asks you multiple 
times. You should normally only have to refuse to authenticate once.

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5815<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-03-24 23:04:34<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>
On Mar 24, 2006, at 12:09 PM, Nic wrote:

&gt; Bill Venners &lt;bv-svp@...&gt; writes:
&gt;
&gt;&gt; We are planning on doing role based access control, such that the
&gt;&gt; users get roles and the roles get permissions. But I really want to
&gt;&gt; require a second password for administration for the same reason that
&gt;&gt; UNIX administrators have a separate password for root.
&gt;
&gt; That's not a good analogy. Unix needs su because it doesn't have a
&gt; good acl implementation.
&gt;
&gt; And even with unix, sudo is now so popular because it solves some of
&gt; the problems of su.
&gt;
&gt;&gt; want one root password for the whole network. Each user that is given
&gt;&gt; admin privileges would chose their own admin password, which they
&gt;&gt; would need to supply after having already logged in with their
&gt;&gt; regular password to escalate their authentication to admin. (And each
&gt;&gt; user would get certain specific admin roles by escalating their  
&gt;&gt; auth.)
&gt;&gt;
&gt;
&gt; Sounds way too complicated to me. But it's your app and this is really
&gt; OT.
&gt;
Unfortunately I think it is on topic if HTTP versus cookie auth is on  
topic. Because doing something like this is I think kind of forced by  
using cookie auth. If you go to Yahoo mail right now, they ask you to  
log in with a user name and password. They submit your auth data over  
HTTPS, give you back an auth cookie, and redirect you to your mail  
home page over HTTP. If you then click on My Settings at the top of  
that page, they ask you for your password again, even though you just  
supplied it about 30 seconds earlier.

I suspect they are forcing you to reenter your password because the  
cookie auth token can be easily hijacked. If they didn't do that, I  
could take my screwdriver and install a listener outside of  
Yahoo.com, wait for auth tokens to come by, then use each one to do a  
GET of the user's settings data. I could just sit there and collect  
private user data all day long, and Yahoo could be liable for the  
breach of privacy. If Yahoo were to use HTTP digest auth instead of  
cookies, then this kind of attack wouldn't be possible (as far as I  
understand it).

In my admin example I feel forced by the cookie hijacking security  
hole to reauthenticate users when they go to administer, as well as  
when they go look at or edit their private data. You're right that it  
may be paranoid overkill to ask my users to remember an admin  
password for administration tasks separate from their normal  
password, but even if I were to drop that, I would still feel forced  
by the hijack problem to ask them for their normal password again  
just before letting them administer, and doing all the administration  
over HTTPS so the stronger authentication can't be hijacked.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5816<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-24 22:57:08<br>
Subject:Re: [rest-discuss] HTTP Status code question<br>
Message:<br><br>
<pre>"Mark Baker" &lt;distobj@...&gt; writes:

&gt; On 3/24/06, Nic &lt;nferrier@...&gt; wrote:
&gt;&gt; In 5 years of thinking about this problem I haven't come up with a
&gt;&gt; solution beyond creating a gazillion content types.
&gt;
&gt; I've been heard to describe media types, at least in the context of
&gt; structured formats, as  "names for a series of compatible schema"
&gt; (think text/html vs. HTML 2.0, 3.2, 4.0, ...).  It's not quite that
&gt; simple in practice, but it's not too far from the truth either I
&gt; think.

Ok.

I looked at the stuff you've been looking in respect of self
describing resources.

I agree that RDF could be part of the answer. But RDF will require
that the entity is downloaded. It doesn't tell us anything about the
resource before we download it.

Maybe that doesn't matter...


I just think we ought to be talking about it more here.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5817<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-03-25 00:56:54<br>
Subject:Re: [rest-discuss] 418 Invalid [was HTTP Status code question]<br>
Message:<br><br>
<pre>On Mar 24, 2006, at 7:55 AM, Bill de hra wrote:

&gt; Jan Algermissen wrote:
&gt;&gt;
&gt;&gt; On Mar 24, 2006, at 1:07 PM, Jon Hanna wrote:
&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Why not. It tells us that the request cannot be successfully tried
&gt;&gt;&gt; againt without alteration. It tells proxies that too.
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; &lt;quote&gt;
&gt;&gt; 10.4.1 400 Bad Request
&gt;&gt;
&gt;&gt; The request could not be understood by the server due to malformed
&gt;&gt; syntax. The client SHOULD NOT repeat the request without  
&gt;&gt; modifications.
&gt;&gt; &lt;/quote&gt;
&gt;
&gt; 418 Invalid
&gt;
&gt; The request could not be completed due to a validation failing against
&gt; the sent entity. This code is only allowed in situations where it is
&gt; expected that the user might be able to resubmit the request with  
&gt; valid
&gt; content and where the sent content was syntactically correct according
&gt; to its media type. The response body SHOULD include enough information
&gt; for the user to recognize the source of the conflict. Invalidations  
&gt; are
&gt; most likely to occur in response to a PUT or POST request.

Yep, that's what I would do, though a properly specified response code
would never include that second sentence "This code is only allowed ..."
since servers are always right (and never omnipotent).  And the last
sentence is kind of goofy -- request payload is unlikely to be
invalid when it isn't present.

Do you want me to standardize it?

Of course, it would help if browsers would implement HTTP, eventually,
and treat the code as a 400 if not understand.

....Roy
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5818<br>
Sender:=?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;bill@...&gt;<br>
Post Date/Time:2006-03-25 01:05:30<br>
Subject:Re: [rest-discuss] 418 Invalid [was HTTP Status code question]<br>
Message:<br><br>
<pre>Roy T. Fielding wrote:
&gt; On Mar 24, 2006, at 7:55 AM, Bill de h�ra wrote:
&gt;
&gt;&gt; 418 Invalid
&gt;&gt;
&gt;&gt; The request could not be completed due to a validation failing against
&gt;&gt; the sent entity. This code is only allowed in situations where it is
&gt;&gt; expected that the user might be able to resubmit the request with valid
&gt;&gt; content and where the sent content was syntactically correct according
&gt;&gt; to its media type. The response body SHOULD include enough information
&gt;&gt; for the user to recognize the source of the conflict. Invalidations are
&gt;&gt; most likely to occur in response to a PUT or POST request.
&gt; 
&gt; Yep, that's what I would do, though a properly specified response code
&gt; would never include that second sentence "This code is only allowed ..."
&gt; since servers are always right (and never omnipotent).  And the last
&gt; sentence is kind of goofy -- request payload is unlikely to be
&gt; invalid when it isn't present.
&gt; 
&gt; Do you want me to standardize it?

Yes please.

cheers
Bill


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5819<br>
Sender:Seairth Jacobs &lt;seairth@...&gt;<br>
Post Date/Time:2006-03-25 01:35:13<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>Jan Algermissen wrote:
&gt; On Mar 24, 2006, at 3:02 PM, Elliotte Harold wrote:
&gt;
&gt;   
&gt;&gt;&gt; and security issues (can't tell the client to "log them
&gt;&gt;&gt; off" once authenticated, or force the client to ask for the name and
&gt;&gt;&gt; password again).
&gt;&gt;&gt;       
&gt;&gt; Now that's a real issue and one I'm surprised hasn't been fixed yet.
&gt;&gt;     
&gt;
&gt; Especially since it should be comparatively easy to add a "Log Off  
&gt; This Realm" button to the tool bar of the handfull importannt  
&gt; browsers, or?
&gt;   
Actually, in IE, create a bookmark in the Links toolbar with the 
following URI:

    javascript:void%20document.execCommand('ClearAuthenticationCache',false,null)

In Firefox, you can do it with the Developers Toolbar extension.  
Frankly, it would be preferable if it were just a standard toolbar 
button.  The code itself is only a few lines long anyhow.  I am guessing 
the reason it's not there is that people would be confused between 
logging out from HTTP authentication and more common methods like 
cookies and SessionIDs.

Seairth
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5820<br>
Sender:Seairth Jacobs &lt;seairth@...&gt;<br>
Post Date/Time:2006-03-25 01:50:19<br>
Subject:Re: [rest-discuss] HTTP Status code question<br>
Message:<br><br>
<pre>Nic wrote:
&gt; Jan Algermissen &lt;jalgermissen@...&gt; writes:
&gt;
&gt;   
&gt;&gt; P.S. Related: what code should a server that says it accepts  
&gt;&gt; application/xml return upon receiving syntactically correct XML it  
&gt;&gt; cannot process because it uses a schema it does not understand?
&gt;&gt;     
&gt;
&gt; I think 400.
&gt;
&gt; We've talked about XML and schemas before but not really reached any
&gt; satisfactory conclusion.
&gt;
&gt; Schemas are not quite orthogonal to media types. HTTP only supports
&gt; media types for content negotiation and expectations.
&gt;
&gt; XML content types seem to be a bit of a mess as well:
&gt;
&gt;    application/rss+xml
&gt;    application/rdf+xml
&gt;
&gt; are these *really* different content types or are they just subtely
&gt; different XML based syntaxes?
&gt;
&gt; I think we (the community) need to think more about the way schemas
&gt; and content types impact REST.
&gt;
&gt; Maybe there needs to be a header for schema?
&gt;   
Actually, I have wondered about an approach like:

Accept: text/xmlns+xml;uri=http://xmlns1;uri=http://xmlns2

This would, in effect, say "send me any namespaced XML that contains any 
of the following namespaces.  In response, the server can send an xml 
document that contains elements from only one namespace or both 
namespaces.  However, it would not be allowed to include elements from 
unspecified namespaces.  If the server determined the additional 
namespaces to be necessary, it would return a 406 error (plus something 
indicating which namespaces are required).

Seairth
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5821<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-03-25 02:12:04<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>Seairth Jacobs wrote:

&gt; Actually, in IE, create a bookmark in the Links toolbar with the 
&gt; following URI:
&gt; 
&gt;     javascript:void%20document.execCommand('ClearAuthenticationCache',false,null)

Would that log out of just the current site or all sites?

&gt; In Firefox, you can do it with the Developers Toolbar extension.


That only allows you to log out of all sites. What's needed is a way to 
log out of one site.

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5822<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-03-25 08:20:29<br>
Subject:Using Digest Auth with Cookies (was Personalization as Representation)<br>
Message:<br><br>
<pre>
On Mar 24, 2006, at 12:03 PM, Nic wrote:
&gt;
&gt; You can do digest authentication with cookie auth.
&gt;
That's a great suggestion. I've thought about this and believe I have  
found a way to combine digest auth with my cookie/URL rewriting  
approach that would give me the best of both worlds. In theory it  
will work whether or not JavaScript and/or cookies are enabled in the  
client.

First, on rereading the Http Auth spec, I think there is a protocol  
in place already that would cause the client to reprompt the user for  
digest auth credentials. If you respond with a stale=false in the WWW- 
Authenticate header of your 401 response:

...If stale is FALSE, or anything other than TRUE, or the stale  
directive is not present, the username and/or password are invalid,  
and new values must be obtained.

ftp://ftp.isi.edu/in-notes/rfc2617.txt

So I believe that even though you have no way of logging the user off  
the client, if you have a way to detect an expired authentication  
session, you have a good chance of triggering the client's auth  
dialog to show up again forcing the user to re-enter a username and  
password. By combining digest auth with cookies/URL rewriting, I can  
use the cookies/URL rewriting to detect an authentication session  
timeout. That would satisfy me on that concern.

On my concerns about a usable sign in form, I'm thinking of sending a  
page that starts out explaining that when they press on the "Show  
Sign In Dialog" button, it will show a dialog and to put their Artima  
ID in the User Name, etc... And I'll have links for Forgot Your  
Password and Sign Up and so on that page. If JavaScript is enabled,  
JS in the page will run that will replace the explanation and "Show  
Sign In Dialog" button with the usual login form. JS will intercept  
the submission, and do the HTTP auth behind the scenes. I expect the  
vast majority of clients will have JS enabled.

The servers will always only sign users in via HTTP digest auth. But  
on each successful authentication, they will send the cookie auth  
token (or use URL rewriting if cookies aren't enabled) that I was  
planning to do before. The cookies/URL rewriting will give me all the  
personalization I want, and much of the single sign on. The digest  
auth will be checked on  pages I need to really be concerned about  
protecting, which means I don't need to worry about hijacked cookie  
sessions anymore.

The only thing I feel I've sort of lost is some of single sign on,  
because although the cookie/URL rewriting session will follow users  
anywhere they go in our network, they'll have to do the digest auth  
again at each site. But they will only have to do the digest auth  
again if they try to go to a protected page at a site, and when using  
cookies I was feeling the need to ask them for their password again  
anyway because of the fear of session hijacking. So that's acceptable  
to me, because I don't expect it to happen that often so as to become  
that annoying to the user, and it is a bit of a boost to security.

It sounds like this approach will make things much simpler while  
meeting my requirements. So maybe HTTP auth is not so bad after all  
so long as you know how to use it. But I will need to try it to find  
out how well the theory will work in practice. Thanks for all of your  
feedback.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5823<br>
Sender:Jonathan Arkell &lt;yahoo@...&gt;<br>
Post Date/Time:2006-03-25 21:57:40<br>
Subject:Re: [rest-discuss] 418 Invalid [was HTTP Status code question]<br>
Message:<br><br>
<pre>Bill de h�ra wrote:
&gt;   - for browser/forms use 200; that's how the deployed web works.

I'd say that is how the deployed web *is* rather then how it *works*.
Imagine if invalid form postings returned 4xx error codes when
appropriate, it would make turning any form posting into a web-service a
breeze.  Most (all?) browsers handle entities enclosed in a non 200
response, don't they?

It is because of design choices like that, that it makes it hard for one
to build a properly RESTful API in PHP.  PHPs designers have decided to
has the default error condition return an HTTP status 200, and let the
programmer deal with it.  This isn't a bad decision, until you hit an
fatal error condition (like a parse error) and the programmer can't
intercept the error to display a status code other then 400.

In my idea world, the difference between by REST API and the
browser-based web application is the representations that are passed
back and forth.  In my external API it is all POX or text/plain or
whatever.  For the browser its all text/html and
application/x-www-form-urlencoded.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5824<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-25 22:32:21<br>
Subject:Re: [rest-discuss] 418 Invalid<br>
Message:<br><br>
<pre>Jonathan Arkell &lt;yahoo@...&gt; writes:

&gt; Bill de hÓra wrote:
&gt;&gt;   - for browser/forms use 200; that's how the deployed web works.
&gt;
&gt; I'd say that is how the deployed web *is* rather then how it *works*.
&gt; Imagine if invalid form postings returned 4xx error codes when
&gt; appropriate, it would make turning any form posting into a web-service a
&gt; breeze.  Most (all?) browsers handle entities enclosed in a non 200
&gt; response, don't they?

I always tell my teams and the people I'm mentoring that they should
return a correct error code (or 400 or 500) with standard web
interactions.

It doesn't exactly make things a breeze but it does increase
usability.


&gt; It is because of design choices like that, that it makes it hard for one
&gt; to build a properly RESTful API in PHP.  PHPs designers have decided to
&gt; has the default error condition return an HTTP status 200, and let the
&gt; programmer deal with it.  This isn't a bad decision, until you hit an
&gt; fatal error condition (like a parse error) and the programmer can't
&gt; intercept the error to display a status code other then 400.

PHP is badly broken in a number of ways I'm affraid.


&gt; In my idea world, the difference between by REST API and the
&gt; browser-based web application is the representations that are passed
&gt; back and forth.  In my external API it is all POX or text/plain or
&gt; whatever.  For the browser its all text/html and
&gt; application/x-www-form-urlencoded.

Absolutely. Linking this back with the thread that started it all I've
always thought content negotiation is a great way to achieve that.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5825<br>
Sender:Jonathan Arkell &lt;yahoo@...&gt;<br>
Post Date/Time:2006-03-25 23:07:44<br>
Subject:Re: [rest-discuss] 418 Invalid [was HTTP Status code question]<br>
Message:<br><br>
<pre>Jonathan Arkell wrote:
&gt; fatal error condition (like a parse error) and the programmer can't
&gt; intercept the error to display a status code other then 400.

Err. I meant to say: display a status code other then 200.  (For those
that are interested, I have posted a bug report on this already:
http://bugs.php.net/bug.php?id=36636)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5826<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-03-25 22:56:22<br>
Subject:Re: Using Digest Auth with Cookies<br>
Message:<br><br>
<pre>Bill Venners &lt;bv-svp@...&gt; writes:

&gt; On Mar 24, 2006, at 12:03 PM, Nic wrote:
&gt;&gt;
&gt;&gt; You can do digest authentication with cookie auth.
&gt;&gt;
&gt; That's a great suggestion. I've thought about this and believe I have  
&gt; found a way to combine digest auth with my cookie/URL rewriting  
&gt; approach that would give me the best of both worlds. In theory it  
&gt; will work whether or not JavaScript and/or cookies are enabled in the  
&gt; client.
&gt;
&gt; First, on rereading the Http Auth spec, I think there is a protocol  
&gt; in place already that would cause the client to reprompt the user for  
&gt; digest auth credentials. If you respond with a stale=false in the WWW- 
&gt; Authenticate header of your 401 response:
&gt;
&gt; ...If stale is FALSE, or anything other than TRUE, or the stale  
&gt; directive is not present, the username and/or password are invalid,  
&gt; and new values must be obtained.
&gt;
&gt; ftp://ftp.isi.edu/in-notes/rfc2617.txt
&gt;
&gt; So I believe that even though you have no way of logging the user off  
&gt; the client, if you have a way to detect an expired authentication  
&gt; session, you have a good chance of triggering the client's auth  
&gt; dialog to show up again forcing the user to re-enter a username and  
&gt; password. By combining digest auth with cookies/URL rewriting, I can  
&gt; use the cookies/URL rewriting to detect an authentication session  
&gt; timeout. That would satisfy me on that concern.

Hang on... you can do that with normal auth. Just send a 401 when you
think the timeout has occured.

The problem is that you can't stop the silly box from showing up. So
when you want to end the session you send 401 and the login box shows
up again and the user logs in again (because they're confused).

This could be solved by spec that added a new error code for ending
the session.

I doubt that will happen (and hope it will not) because sessions are
bad and we shouldn't add them to HTTP.



&gt; On my concerns about a usable sign in form, I'm thinking of sending a  
&gt; page that starts out explaining that when they press on the "Show  
&gt; Sign In Dialog" button, it will show a dialog and to put their Artima  
&gt; ID in the User Name, etc... And I'll have links for Forgot Your  
&gt; Password and Sign Up and so on that page. If JavaScript is enabled,  
&gt; JS in the page will run that will replace the explanation and "Show  
&gt; Sign In Dialog" button with the usual login form. JS will intercept  
&gt; the submission, and do the HTTP auth behind the scenes. I expect the  
&gt; vast majority of clients will have JS enabled.

This is the argument that I always have against HTTP auth when people
like Elliotte say that it is better than cookie auth.

Elliotte was quite rude about designers, suggesting that the ordinary
downtrodden user is simply confused by the design of authentication
forms and there would be a usability revolution if only the awful
designers would leave such things alone and use the superb, well
thought out authentication mechanism that is included with the
protocol.

Well of course he's right because the HTTP auth system is so well
thought out that it doesn't include any way of creating authentication
details. Ah, actually he's wrong isn't he?

Do users really want one type of box for logging in and another type
of box for registering? Designers know the value of lumping related
features together and making their use consistent. 


&gt; It sounds like this approach will make things much simpler while  
&gt; meeting my requirements. So maybe HTTP auth is not so bad after all  
&gt; so long as you know how to use it. But I will need to try it to find  
&gt; out how well the theory will work in practice. Thanks for all of your  
&gt; feedback.

Seems very complicated to me.

Still, as long as you thinks it's simple.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5827<br>
Sender:Jonathan Arkell &lt;yahoo@...&gt;<br>
Post Date/Time:2006-03-25 23:23:08<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>Bill Venners Requires:
&gt; 1) Send a timeout from the server to the client when prompting for
&gt; authentication on a particular Realm.

&gt; 2) Send in a response a directive to clear the authentication at a
&gt; particular realm.

&gt; 3) Send in the prompt a requirement that the user has to enter the
&gt; credentials again, even if the authentication session hasn't expired

Okay, I am not certain that this isn't Realm Abuse but...

Say you set up a "session URI" http://yoursite/sessions.  A Client could
POST to the session URI to start up a session.  The starting of a
session would also require HTTP authentication.  The realm would be
YourSite-MyUsername-SessionID.

Now, set it up so that the client can make DELETE requests to the
http://yoursite/sessions/SessionID resource.  This allows the user to
log out, and it also allows the server to timeout a request when
necessary.  The SessionID resource could have a created and modified
time to give you the kind of timeout control that you need.  Further,
this model could be extended to allow for admins (or all users even) to
view who has logged in, and when their last login was.

When An illegal realm is used for authentication (say
YourSite-MyUsername-MyExpireedSession) then you can fire off a 403
Forbidden, with a friendly page asking them to re-authenticate by
generating a new session-realm.

This handles cases all three cases (I am deliberately avoiding number
4).  If you want to make sure the user didn't just walk away from the
machine while logged in, you just set the timeout period to 5 minutes or
something like that.  If you want to make the timeout period selectable,
then just make that a property of the sessionID resource.

Is this horrible abuse of the Realm?

As for sending out personalized content... what about an iframe?
Enclose all personalizable content inside of an iframe, and make a
secondary request for that personalized content.  This helps to avoid
the Javascript issue (while opening up another can of iframe worms mind
you).


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5828<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-03-26 01:53:26<br>
Subject:Re: [rest-discuss] Re: Using Digest Auth with Cookies<br>
Message:<br><br>
<pre>Hi Nic,

&gt; Seems very complicated to me.
&gt;
&gt; Still, as long as you thinks it's simple.

In part I think I'm creating complexity for myself because as yet  
I've refused to let go of my requirements to degrade gracefully in  
the face of clients with no JavaScript and/or no cookies. I don't see  
my combined solution as simple, just simpler that what I was  
considering before. Using cookies for auth, and switching to URL  
rewriting is very standard. Java Servlet containers support that  
approach right out of the box. If I make sure your cookies and URL  
rewriting are good for *.artima.com, then I have single-sign on to  
all artima subdomains. So that's all rather easy, except it has the  
hijacked session problem which complicates things when I want the  
user to do administration, view and modify private data, or buy  
something online. To this commonly used scheme I simply added that  
I'll do the actual signing in with HTTP digest auth, but still do  
everything else the same. Http digest auth solves the hijacked  
session problem. In theory (I haven't tried it yet), I think the  
combination offers the best of both worlds.

&gt;&gt; So I believe that even though you have no way of logging the user off
&gt;&gt; the client, if you have a way to detect an expired authentication
&gt;&gt; session, you have a good chance of triggering the client's auth
&gt;&gt; dialog to show up again forcing the user to re-enter a username and
&gt;&gt; password. By combining digest auth with cookies/URL rewriting, I can
&gt;&gt; use the cookies/URL rewriting to detect an authentication session
&gt;&gt; timeout. That would satisfy me on that concern.
&gt;
&gt; Hang on... you can do that with normal auth. Just send a 401 when you
&gt; think the timeout has occured.
&gt;
&gt; The problem is that you can't stop the silly box from showing up. So
&gt; when you want to end the session you send 401 and the login box shows
&gt; up again and the user logs in again (because they're confused).
&gt;
&gt; This could be solved by spec that added a new error code for ending
&gt; the session.
&gt;
I don't feel a need anymore to log people out of their digest  
authentication. I think my concern about not being able to log users  
out if they use HTTP auth was due more a failure of my own  
imagination rather than a failure of the digest auth spec. Here's why:

1. You would use HTTP auth to sign in to artima, which means you  
create an authentication session on your client. The request that the  
server gets allows me to authenticate you as nic, say, and then I  
create a session cookie in your browser. In my WWW-Authenticate  
response I also set the domain to "", which means the authentication  
realm is for the whole site.

2. Most of the pages of the site, I don't care about checking the  
HTTP credentials. I use the cookie to figure out the user is nic, and  
do personalization that way as before. The browser may send the  
Authorization header up anyway with each request even though I don't  
prompt for credentials with 401 and WWW-Authenticate, using the old  
nonce I sent on my first 401 response. I don't use it, an it doesn't  
hurt anything (and I don't have to spend server resources calculating  
MD5 hashes).

3. Some pages of the site, however, I want to make sure it is really  
you and not someone who has hijacked your session. When you hit one  
of those pages I require two things:

a) A valid cookie session. This could be hijacked, but it is only  
half of what I require.
b) Valid http digest auth with a new nonce that I send back when you  
hit the page. I can chose my nonce in ways that make it hard to reuse  
in a hijack attempt, and I only do this on a few pages where you'll  
be posting things as you, etc. Here the server will have to spend the  
resources to calculate the hashes.

4) When you click sign out, I just sign you out the old fashioned  
way, by clearing your cookie auth. I can't clear your HTTP digest  
auth, but it doesn't matter. Here's why:

Let's say you sign out, but don't close the browser, and walk away at  
a public computer at an internet cafe. Joe Blackhat then walks up and  
decides to try and reuse your HTTP digest auth. He goes to the post  
page, but he can't post, because even though he has the HTTP digest  
auth still in the browser, he doesn't have the cookie anymore.

On the server, I believe I can detect that problem, and redirect Joe  
to a user-friendly login page that makes him authenticate again over  
HTTP auth. If it really is you, and not Joe Blackhat, then you get  
another cookie and away you go. It is easy for the server to note  
that there's no valid cookie auth. The two ways I can think of  
detecting that there is a running HTTP digest auth session going on  
the client are:

i) The browser may send the Authentication header without server  
prompting. See section 3.3 of the spec:

The Authorization header may be included preemptively; doing so  
improves server efficiency and avoids extra round trips for  
authentication challenges.

http://www.ietf.org/rfc/rfc2617.txt

ii) I can also set a cookie to indicate that a user has HTTP  
authenticated at that client, which would clearly tell me.

So if someone lands on the forum post page, I can decide whether to  
redirect them to the sign in page, or just send back a 401. If I find  
a valid auth cookie, and evidence that there's a running HTTP digest  
auth, then I just send back 401 with a new nonce. Otherwise, I send  
them back to the sign in page.

In short: You never have to log anyone out of an HTTP auth session,  
so long as you can detect that they need to again provide their  
credentials later when they come back after a timeout period. HTTP  
digest auth has mechanisms to do all of that so long as you come up  
with some mechanism to do the timeout.

&gt; I doubt that will happen (and hope it will not) because sessions are
&gt; bad and we shouldn't add them to HTTP.
&gt;
I'm curious why you think sessions are bad, unless you mean because  
they entice people to store state in them on the server, state that  
does not have a URI of its own, but which changes the semantics of  
other URIs. Is that why? The reason I want an authentication session  
is so it can time out for security reasons. If you don't use the site  
for a while, I'd like you to have to sign in again, because  
occasionally users will walk away from public machines without  
logging out.

&gt;&gt; On my concerns about a usable sign in form, I'm thinking of sending a
&gt;&gt; page that starts out explaining that when they press on the "Show
&gt;&gt; Sign In Dialog" button, it will show a dialog and to put their Artima
&gt;&gt; ID in the User Name, etc... And I'll have links for Forgot Your
&gt;&gt; Password and Sign Up and so on that page. If JavaScript is enabled,
&gt;&gt; JS in the page will run that will replace the explanation and "Show
&gt;&gt; Sign In Dialog" button with the usual login form. JS will intercept
&gt;&gt; the submission, and do the HTTP auth behind the scenes. I expect the
&gt;&gt; vast majority of clients will have JS enabled.
&gt;
&gt; This is the argument that I always have against HTTP auth when people
&gt; like Elliotte say that it is better than cookie auth.
&gt;
&gt; Elliotte was quite rude about designers, suggesting that the ordinary
&gt; downtrodden user is simply confused by the design of authentication
&gt; forms and there would be a usability revolution if only the awful
&gt; designers would leave such things alone and use the superb, well
&gt; thought out authentication mechanism that is included with the
&gt; protocol.
&gt;
&gt; Well of course he's right because the HTTP auth system is so well
&gt; thought out that it doesn't include any way of creating authentication
&gt; details. Ah, actually he's wrong isn't he?
&gt;
&gt; Do users really want one type of box for logging in and another type
&gt; of box for registering? Designers know the value of lumping related
&gt; features together and making their use consistent.
&gt;
I don't think Elliotte was rude in his expression of his opinion, but  
I do agree with you that form based login is more user-friendly, if  
only for the reason that that's what everyone is currently used to. I  
think it is also because you can explain things better with a form,  
and offer paths for problems like forgotten passwords. But I think  
that if JavaScript is enabled at most of your clients, and you're  
willing to see the drop down as a graceful degradation of user  
experience in rare cases in which JavaScript is turned off, then in  
theory you can get most of the usability you desire with Http auth. See:

http://www.peej.co.uk/articles/http-auth-with-html-forms.html

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5829<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-03-27 00:26:23<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>Hi Jonathon,

On Mar 25, 2006, at 3:23 PM, Jonathan Arkell wrote:

&gt; Bill Venners Requires:
&gt;&gt; 1) Send a timeout from the server to the client when prompting for
&gt;&gt; authentication on a particular Realm.
&gt;
&gt;&gt; 2) Send in a response a directive to clear the authentication at a
&gt;&gt; particular realm.
&gt;
&gt;&gt; 3) Send in the prompt a requirement that the user has to enter the
&gt;&gt; credentials again, even if the authentication session hasn't expired
&gt;
&gt; Okay, I am not certain that this isn't Realm Abuse but...
&gt;
&gt; Say you set up a "session URI" http://yoursite/sessions.  A Client  
&gt; could
&gt; POST to the session URI to start up a session.  The starting of a
&gt; session would also require HTTP authentication.  The realm would be
&gt; YourSite-MyUsername-SessionID.
&gt;
&gt; Now, set it up so that the client can make DELETE requests to the
&gt; http://yoursite/sessions/SessionID resource.  This allows the user to
&gt; log out, and it also allows the server to timeout a request when
&gt; necessary.  The SessionID resource could have a created and modified
&gt; time to give you the kind of timeout control that you need.  Further,
&gt; this model could be extended to allow for admins (or all users  
&gt; even) to
&gt; view who has logged in, and when their last login was.
&gt;
&gt; When An illegal realm is used for authentication (say
&gt; YourSite-MyUsername-MyExpireedSession) then you can fire off a 403
&gt; Forbidden, with a friendly page asking them to re-authenticate by
&gt; generating a new session-realm.
&gt;
&gt; This handles cases all three cases (I am deliberately avoiding number
&gt; 4).  If you want to make sure the user didn't just walk away from the
&gt; machine while logged in, you just set the timeout period to 5  
&gt; minutes or
&gt; something like that.  If you want to make the timeout period  
&gt; selectable,
&gt; then just make that a property of the sessionID resource.
&gt;
&gt; Is this horrible abuse of the Realm?
&gt;
I had to think about this idea for a bit, and am still not quite sure  
I understand it fully. One problem I believe I see is that it doesn't  
provide the server with a sure-fire way to recognize the client, so  
it won't always know for which realm to prompt authentication. I.e.,  
if you use a different realm string for each session, then the server  
needs to know what realm string to prompt for in its 401 response on  
a request. Once authenticated, the client may preemptively send the  
Authorization header, but the realm is buried inside the digest- 
response, and anyway the client may not send it until getting a 401.  
But before the server sends the 401, it needs to know the realm. So  
really I think the realm needs to something the server can determine  
from the request URI.

The other concern is that a URL like this:

http://yoursite/sessions/SessionID

seems to indicate I've created state on the server for the auth  
session, which is something I'd rather avoid. I would prefer the auth  
state to be on the client, so when a user creates an auth session,  
that state is on the client for the duration of the session, after  
which it gets cleared. On each request during the auth session, the  
auth state goes from client to the server. This my current best  
understanding of what REST says about authentication. (Even though  
you've taken the innovative step of giving the session a URI on the  
server, it still feels to me like it's in the wrong place there on  
the server.)

My understanding of why REST suggests we avoid session state (almost  
every web framework makes using session state easy), is that extra- 
URI state breaks caching and hinders scalability. There are good  
answers to scalability with session state too, such as cache  
coherence tools and several other techniques, but I really don't  
think it would be harder to build a RESTful HTTP app then a stateful  
one if you just keep REST in mind as you go.

I know Roy complained about the use of cookies for session IDs in his  
dissertation. My guess is that his main concern was that in practice  
session cookies are used not just for auth, usually, but to point to  
session state on the server. The cookies I've been considering using  
in our new architecture are really auth tokens. They will essentially  
contain the username and password hash encrypted with a password that  
all the servers will share for a half hour, after which they'll all  
forget it. So if you bring a server up cold, and it gets one of these  
cookies within the half-hour timeout, it can figure out who you are  
and authenticate you (with the caveat that the session cookie can be  
easily hijacked). In this approach once the server sends back this  
cookie, it really represents the authentication state sitting there  
in the client, and it gets sent up to the server with each request.  
The server can forget all about the authentication, so long as it  
remembers the half-hour passwords used to encrypt the cookies.

&gt; As for sending out personalized content... what about an iframe?
&gt; Enclose all personalizable content inside of an iframe, and make a
&gt; secondary request for that personalized content.  This helps to avoid
&gt; the Javascript issue (while opening up another can of iframe worms  
&gt; mind
&gt; you).
&gt;
I don't think I want to go there. I don't want to go to JavaScript  
either, to assemble the personalized representation on the client. I  
see how that would reduce server load and bandwidth, but in exchange  
for that cost savings, I'd have the expense of testing a lot more  
JavaScript in a lot more places. I expect I'll just send out  
personalized representations of resources, each with their own ETag.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5830<br>
Sender:Jonathan Arkell &lt;yahoo@...&gt;<br>
Post Date/Time:2006-03-28 15:03:40<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>Hi Bill

Sorry it has taken me so long to respond.

Let me sketch out how I see this system working:
User visits http://yoursite/ and wants to log on, they click on the
"Start log on now" button, which does a POST (or ideally a PUT) to
/sessions/foo-realm-session-id (upon further reflection, storing the
user id in the session was a dumb idea.)

Once the foo-realm-session-id has been PUT, then the response can ask
for authentication based on the new realm.  Now the realm has a
time-stamp of creation, and any other pertinent details.

The user then continues to use your application (GET /someresouce, POST
/someresource/foo, DELETE /beleted), all the while handing off the
appropriate credentials, as well as the realm identifying this
particular session.

When the user wants to log off, they just make the apropos request (POST
or DELETE) to /sessions/foo-realm-session-id.

Ok, the more I talk about it, the more I have to wonder if this is all
just horrible realm abuse.  At this point, why not just use HTTP auth
and a cookie?  Hell, lets call the whole thing off and store the session
 in the URL (not even on the query string) ;)

Really, I wonder if you can meet your needs with REST at all.  See, the
clincher for me is the timing out of user logins, because you need to
store the state of the user somewhere on the server to know when to time
 them out.  Perhaps my method (storing the session as a resource) is
RESTfully not REST :P ?  At least this way the client has some kind of
control over the session, and the session isn't interfering with the
cachability.

Why avoid iframes?  Avoiding Javascript seems cut and dried, what are
the issues with Iframes?

Bill Venners wrote:
&gt; I had to think about this idea for a bit, and am still not quite sure I
&gt; understand it fully. One problem I believe I see is that it doesn't
&gt; provide the server with a sure-fire way to recognize the client, so it
&gt; won't always know for which realm to prompt authentication. I.e., if you
&gt; use a different realm string for each session, then the server needs to
&gt; know what realm string to prompt for in its 401 response on a request.
&gt; Once authenticated, the client may preemptively send the Authorization
&gt; header, but the realm is buried inside the digest-response, and anyway
&gt; the client may not send it until getting a 401. But before the server
&gt; sends the 401, it needs to know the realm. So really I think the realm
&gt; needs to something the server can determine from the request URI.
&gt; 
&gt; The other concern is that a URL like this:
&gt; 
&gt; http://yoursite/sessions/SessionID
&gt; 
&gt; seems to indicate I've created state on the server for the auth session,
&gt; which is something I'd rather avoid. I would prefer the auth state to be
&gt; on the client, so when a user creates an auth session, that state is on
&gt; the client for the duration of the session, after which it gets cleared.
&gt; On each request during the auth session, the auth state goes from client
&gt; to the server. This my current best understanding of what REST says
&gt; about authentication. (Even though you've taken the innovative step of
&gt; giving the session a URI on the server, it still feels to me like it's
&gt; in the wrong place there on the server.)
&gt; 
&gt; My understanding of why REST suggests we avoid session state (almost
&gt; every web framework makes using session state easy), is that extra-URI
&gt; state breaks caching and hinders scalability. There are good answers to
&gt; scalability with session state too, such as cache coherence tools and
&gt; several other techniques, but I really don't think it would be harder to
&gt; build a RESTful HTTP app then a stateful one if you just keep REST in
&gt; mind as you go.
&gt; 
&gt; I know Roy complained about the use of cookies for session IDs in his
&gt; dissertation. My guess is that his main concern was that in practice
&gt; session cookies are used not just for auth, usually, but to point to
&gt; session state on the server. The cookies I've been considering using in
&gt; our new architecture are really auth tokens. They will essentially
&gt; contain the username and password hash encrypted with a password that
&gt; all the servers will share for a half hour, after which they'll all
&gt; forget it. So if you bring a server up cold, and it gets one of these
&gt; cookies within the half-hour timeout, it can figure out who you are and
&gt; authenticate you (with the caveat that the session cookie can be easily
&gt; hijacked). In this approach once the server sends back this cookie, it
&gt; really represents the authentication state sitting there in the client,
&gt; and it gets sent up to the server with each request. The server can
&gt; forget all about the authentication, so long as it remembers the
&gt; half-hour passwords used to encrypt the cookies.
&gt; 
&gt;&gt; As for sending out personalized content... what about an iframe?
&gt;&gt; Enclose all personalizable content inside of an iframe, and make a
&gt;&gt; secondary request for that personalized content.  This helps to avoid
&gt;&gt; the Javascript issue (while opening up another can of iframe worms mind
&gt;&gt; you).
&gt;&gt;
&gt; I don't think I want to go there. I don't want to go to JavaScript
&gt; either, to assemble the personalized representation on the client. I see
&gt; how that would reduce server load and bandwidth, but in exchange for
&gt; that cost savings, I'd have the expense of testing a lot more JavaScript
&gt; in a lot more places. I expect I'll just send out personalized
&gt; representations of resources, each with their own ETag.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5831<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-03-28 22:49:47<br>
Subject:Re: [rest-discuss] Personalization as Representation<br>
Message:<br><br>
<pre>Hi Jonathan,

&gt; Really, I wonder if you can meet your needs with REST at all.  See,  
&gt; the
&gt; clincher for me is the timing out of user logins, because you need to
&gt; store the state of the user somewhere on the server to know when to  
&gt; time
&gt;  them out.  Perhaps my method (storing the session as a resource) is
&gt; RESTfully not REST :P ?  At least this way the client has some kind of
&gt; control over the session, and the session isn't interfering with the
&gt; cachability.
&gt;
In my scheme the only state stored on the server, and replicated  
among all the servers, is a pair of passwords used to encrypt the  
cookies. These passwords expire every 30 minutes, and I keep two  
around (so I replicate a new one every 15 minutes). I'm planning on  
keeping a cache of roles and permissions for users once they log in,  
which can be accessed by the session id. I'll use sticky sessions so  
requests to that site always go back to the server where the cache  
is. It is just a cache, though. It will go into the cache with a  
timeout, and can be evicted early if memory gets full. If that  
happens, or a server crashes, or someone clicks over to a URL at a  
different site in the network served up by a different server, and a  
request comes in with a session ID that doesn't reference anything in  
the roles/permissions cache, I just use the password to decrypt the  
session ID and reauthenticate the user.

I don't think there's really any "state of the user somewhere on the  
server," at least nothing that can't be uniquely referenced with a  
URI. (All theory. I haven't implemented it yet.)

&gt; Why avoid iframes?  Avoiding Javascript seems cut and dried, what are
&gt; the issues with Iframes?
&gt;
No good reason, actually, just fear of the unknown. I'll look into it.

By the way, I think I came up with another way to log people off of  
an HTTP auth session if JavaScript is enabled on the client. You need  
some kind of password that no one can have. For example, if you  
require that passwords are at least six chars long, then no one can  
have the password "abc". When you want to log someone out (because  
they've pressed the "Log Out" button for example), some JavaScript on  
the client can run and do an HTTP authentication for the realm you  
want to log the user out of at a special URI with the user's username  
and the password "abc". This authentication will succeed at that  
special URI, which now means that the next time someone goes to any  
other URI in that realm at that site from that client, it will  
attempt to authenticate with the wrong password. You have effectively  
logged the user out of his or her auth session for that realm.

Bill



&gt; Bill Venners wrote:
&gt;
&gt;&gt; I had to think about this idea for a bit, and am still not quite  
&gt;&gt; sure I
&gt;&gt; understand it fully. One problem I believe I see is that it doesn't
&gt;&gt; provide the server with a sure-fire way to recognize the client,  
&gt;&gt; so it
&gt;&gt; won't always know for which realm to prompt authentication. I.e.,  
&gt;&gt; if you
&gt;&gt; use a different realm string for each session, then the server  
&gt;&gt; needs to
&gt;&gt; know what realm string to prompt for in its 401 response on a  
&gt;&gt; request.
&gt;&gt; Once authenticated, the client may preemptively send the  
&gt;&gt; Authorization
&gt;&gt; header, but the realm is buried inside the digest-response, and  
&gt;&gt; anyway
&gt;&gt; the client may not send it until getting a 401. But before the server
&gt;&gt; sends the 401, it needs to know the realm. So really I think the  
&gt;&gt; realm
&gt;&gt; needs to something the server can determine from the request URI.
&gt;&gt;
&gt;&gt; The other concern is that a URL like this:
&gt;&gt;
&gt;&gt; http://yoursite/sessions/SessionID
&gt;&gt;
&gt;&gt; seems to indicate I've created state on the server for the auth  
&gt;&gt; session,
&gt;&gt; which is something I'd rather avoid. I would prefer the auth state  
&gt;&gt; to be
&gt;&gt; on the client, so when a user creates an auth session, that state  
&gt;&gt; is on
&gt;&gt; the client for the duration of the session, after which it gets  
&gt;&gt; cleared.
&gt;&gt; On each request during the auth session, the auth state goes from  
&gt;&gt; client
&gt;&gt; to the server. This my current best understanding of what REST says
&gt;&gt; about authentication. (Even though you've taken the innovative  
&gt;&gt; step of
&gt;&gt; giving the session a URI on the server, it still feels to me like  
&gt;&gt; it's
&gt;&gt; in the wrong place there on the server.)
&gt;&gt;
&gt;&gt; My understanding of why REST suggests we avoid session state (almost
&gt;&gt; every web framework makes using session state easy), is that extra- 
&gt;&gt; URI
&gt;&gt; state breaks caching and hinders scalability. There are good  
&gt;&gt; answers to
&gt;&gt; scalability with session state too, such as cache coherence tools and
&gt;&gt; several other techniques, but I really don't think it would be  
&gt;&gt; harder to
&gt;&gt; build a RESTful HTTP app then a stateful one if you just keep REST in
&gt;&gt; mind as you go.
&gt;&gt;
&gt;&gt; I know Roy complained about the use of cookies for session IDs in his
&gt;&gt; dissertation. My guess is that his main concern was that in practice
&gt;&gt; session cookies are used not just for auth, usually, but to point to
&gt;&gt; session state on the server. The cookies I've been considering  
&gt;&gt; using in
&gt;&gt; our new architecture are really auth tokens. They will essentially
&gt;&gt; contain the username and password hash encrypted with a password that
&gt;&gt; all the servers will share for a half hour, after which they'll all
&gt;&gt; forget it. So if you bring a server up cold, and it gets one of these
&gt;&gt; cookies within the half-hour timeout, it can figure out who you  
&gt;&gt; are and
&gt;&gt; authenticate you (with the caveat that the session cookie can be  
&gt;&gt; easily
&gt;&gt; hijacked). In this approach once the server sends back this  
&gt;&gt; cookie, it
&gt;&gt; really represents the authentication state sitting there in the  
&gt;&gt; client,
&gt;&gt; and it gets sent up to the server with each request. The server can
&gt;&gt; forget all about the authentication, so long as it remembers the
&gt;&gt; half-hour passwords used to encrypt the cookies.
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; As for sending out personalized content... what about an iframe?
&gt;&gt;&gt; Enclose all personalizable content inside of an iframe, and make a
&gt;&gt;&gt; secondary request for that personalized content.  This helps to  
&gt;&gt;&gt; avoid
&gt;&gt;&gt; the Javascript issue (while opening up another can of iframe  
&gt;&gt;&gt; worms mind
&gt;&gt;&gt; you).
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt; I don't think I want to go there. I don't want to go to JavaScript
&gt;&gt; either, to assemble the personalized representation on the client.  
&gt;&gt; I see
&gt;&gt; how that would reduce server load and bandwidth, but in exchange for
&gt;&gt; that cost savings, I'd have the expense of testing a lot more  
&gt;&gt; JavaScript
&gt;&gt; in a lot more places. I expect I'll just send out personalized
&gt;&gt; representations of resources, each with their own ETag.
&gt;&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5832<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2006-04-05 22:37:05<br>
Subject:RESTful representation of side effects?<br>
Message:<br><br>
<pre>Hi all,

I'm taking my quarterly run at trying to properly grok REST, and as  
usual have only succeeding in confusing myself. :-)  Perhaps you can  
help.

I want to provide a web service that, say, converts HTML documents  
into various formats.   The naive RPC method would seem to be to  
create a special URL string for each type, e.g.:

	/convert.cgi?format=pdf&amp;document=mydocument.html
	/convert.cgi?format=doc&amp;document=mydocument.html
etc.

However, that doesn't seem very RESTful.  I would imagine the RESTful  
alternative would be to:
a) PUT the initial resource; get a URL back
b) &lt;do something to that URL&gt;
c) Return the URL describing that resource
d) GET the final resource

But, if so, I can't figure out the RESTful way to do (b). Is there?  
What am I missing?  Or have I completely misconstrued the problem?

-- Ernie P.

  

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5833<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-05 23:02:31<br>
Subject:Re: [rest-discuss] RESTful representation of side effects?<br>
Message:<br><br>
<pre>"Dr. Ernie Prabhakar" &lt;drernie@...&gt; writes:

&gt; Hi all,
&gt;
&gt; I'm taking my quarterly run at trying to properly grok REST, and as  
&gt; usual have only succeeding in confusing myself. :-)  Perhaps you can  
&gt; help.
&gt;
&gt; I want to provide a web service that, say, converts HTML documents  
&gt; into various formats.   The naive RPC method would seem to be to  
&gt; create a special URL string for each type, e.g.:
&gt;
&gt; 	/convert.cgi?format=pdf&amp;document=mydocument.html
&gt; 	/convert.cgi?format=doc&amp;document=mydocument.html
&gt; etc.
&gt;
&gt; However, that doesn't seem very RESTful.  I would imagine the RESTful  
&gt; alternative would be to:
&gt; a) PUT the initial resource; get a URL back
&gt; b) &lt;do something to that URL&gt;
&gt; c) Return the URL describing that resource
&gt; d) GET the final resource
&gt;
&gt; But, if so, I can't figure out the RESTful way to do (b). Is there?  
&gt; What am I missing?  Or have I completely misconstrued the problem?

How about - you send:

  POST /documents
  Content-type: text/html
  --header-end--
  &lt;html&gt;
  to be converted
  &lt;/html&gt;

you get back:

  HTTP/1.1 201 Created
  Location: /documents/200010027889
  Content-type: text/html
  --header-end--
  &lt;html&gt;
  to be converted
  &lt;/html&gt;

the response entity could be something indicating that the document
was accepted or the entity that you posted... it's really up to you.

Now you send:

  GET /documents/200010027889
  Accept: application/pdf
  --header-end--

and you get back the PDF version or a 406 (can't do that sort of
representation).


Nic Ferrier

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5834<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-04-05 23:26:00<br>
Subject:Re: [rest-discuss] RESTful representation of side effects?<br>
Message:<br><br>
<pre>Hi Ernie,

&gt; I want to provide a web service that, say, converts HTML documents
&gt; into various formats.   The naive RPC method would seem to be to
&gt; create a special URL string for each type, e.g.:
&gt;
&gt; 	/convert.cgi?format=pdf&amp;document=mydocument.html
&gt; 	/convert.cgi?format=doc&amp;document=mydocument.html
&gt; etc.

That is confusing.  Why "document=mydocument.html"?  Is the server
translating the input file or is it getting the file from somewhere
else?  I could understand a gateway form like

    /convert?format=pdf&amp;uri=http//example.com/get_it_here.html
or
    /convert/http://example.com/get_it_here.html

OTOH, a translation service like

    /convert?format=pdf

can simply be a POST of file-upload with the response being the
converted representation.

&gt; However, that doesn't seem very RESTful.

Why?  POST is RESTful too, when it is used correctly.

&gt;  I would imagine the RESTful
&gt; alternative would be to:
&gt; a) PUT the initial resource; get a URL back
&gt; b) &lt;do something to that URL&gt;
&gt; c) Return the URL describing that resource
&gt; d) GET the final resource
&gt;
&gt; But, if so, I can't figure out the RESTful way to do (b). Is there?

That would only make sense if you want the document to be stored
as a new resource that is available from then on, and the converted
forms are available via different links and/or negotiation.
In that case, you want the Alternates header field, though similar
functionality can be accomplished within the body of a 201 response.

It is relatively easy to create an HTTP server module that
provides content-conversion on the fly for anything stored within
the system.  It then becomes a resource discovery problem (how does
the client know where to obtain all of these other formats?), which
is what Alternates or Link was intended to supply.

....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5835<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2006-04-06 00:31:30<br>
Subject:Re: [rest-discuss] RESTful representation of nouns?<br>
Message:<br><br>
<pre>Thanks, Nic, Roy.  The fog is clearing slightly. :-)  The key issue  
appears to be:

On Apr 5, 2006, at 4:26 PM, Roy T. Fielding wrote:
&gt; OTOH, a translation service like
&gt;
&gt;    /convert?format=pdf
&gt;
&gt; can simply be a POST of file-upload with the response being the
&gt; converted representation.
&gt;
&gt;&gt; However, that doesn't seem very RESTful.
&gt;
&gt; Why?  POST is RESTful too, when it is used correctly.

This is what confuses me.  My (naive) understanding is that every URI  
represents a noun, that is, a resource.  The URL:

http://myhost.com/convert

seems like it represents a verb, especially when given parameters:

http://myhost.com/convert?format=pdf

or even when given other nouns:

http://myhost.com/convert?format=pdf&amp;uri=http//example.com/ 
get_it_here.html

So, if I read Roy correctly, the service described by that URL is --  
or at least could be -- RESTful. Does this mean that the belief "URLs  
must represent nouns" is a complete myth?  Or is there something else  
going on here?

-- Ernie P.





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5836<br>
Sender:=?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;bill@...&gt;<br>
Post Date/Time:2006-04-06 00:55:59<br>
Subject:Re: [rest-discuss] RESTful representation of nouns?<br>
Message:<br><br>
<pre>Dr. Ernie Prabhakar wrote:
&gt; Thanks, Nic, Roy.  The fog is clearing slightly. :-)  The key issue 
&gt; appears to be:
&gt; 
&gt; On Apr 5, 2006, at 4:26 PM, Roy T. Fielding wrote:
&gt;  &gt; OTOH, a translation service like
&gt;  &gt;
&gt;  &gt;    /convert?format=pdf
&gt;  &gt;
&gt;  &gt; can simply be a POST of file-upload with the response being the
&gt;  &gt; converted representation.
&gt;  &gt;
&gt;  &gt;&gt; However, that doesn't seem very RESTful.
&gt;  &gt;
&gt;  &gt; Why?  POST is RESTful too, when it is used correctly.
&gt; 
&gt; This is what confuses me.  My (naive) understanding is that every URI 
&gt; represents a noun, that is, a resource.  The URL:
&gt; 
&gt; http://myhost.com/convert
&gt; 
&gt; seems like it represents a verb, especially when given parameters:
&gt; 
&gt; http://myhost.com/convert?format=pdf
&gt; 
&gt; or even when given other nouns:
&gt; 
&gt; http://myhost.com/convert?format=pdf&amp;uri=http//example.com/ 
&gt; &lt;http://myhost.com/convert?format=pdf&amp;uri=http//example.com/&gt;
&gt; get_it_here.html
&gt; 
&gt; So, if I read Roy correctly, the service described by that URL is -- 
&gt; or at least could be -- RESTful. Does this mean that the belief "URLs 
&gt; must represent nouns" is a complete myth?  Or is there something else 
&gt; going on here?


/mydocument.html/pdf

Alternative if the service is on the same domain. All */pdf patterns map 
  back to the code that renders out the pdf and take the rest of the 
path. It's kinda idiomatic for some frameworks to centralise the service 
under one url and take other urls as arguments not because of any design 
considerations or separation of concerns but because the URL dispatching 
is optimised for certain patterns that end up looking servicey.

Let's not mix up my name with what I do.

It's more than verb tunneling. One can then argue that putting conneg 
crap in the URL is no better than putting verbal crap in there.

re services. If your service runs on it's domain and in spirit accepts 
urls as arguments, then it's probably really a "service" (in the sense 
that a translation house is a service). Technorati is an example of 
service that fits the seperations of concerns idea (except it gives you 
backlinks instead of PDFs).

cheers
Bill




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5837<br>
Sender:"Dimitri Glazkov" &lt;dimitri.glazkov@...&gt;<br>
Post Date/Time:2006-04-06 01:49:01<br>
Subject:Re: [rest-discuss] RESTful representation of nouns?<br>
Message:<br><br>
<pre>On 4/5/06, Dr. Ernie Prabhakar &lt;drernie@...&gt; wrote:
&gt; http://myhost.com/convert?format=pdf&amp;uri=http//example.com/
&gt; get_it_here.html
&gt;
&gt; So, if I read Roy correctly, the service described by that URL is --
&gt; or at least could be -- RESTful. Does this mean that the belief "URLs
&gt; must represent nouns" is a complete myth?  Or is there something else
&gt; going on here?

IMHO, It _is_ a noun. I think you're being misled that "convert"
somehow makes the URL less valid than "/mydocument.html/pdf", proposed
by Bill. What does an English word have to do with the RESTfulness of
a resource?  If I replace "convert" with its equvalent in Klingon,
will that satisfy the REST gods? Yes, perhaps you could split hairs
and not have URL contain something as "verby"-sounding as "convert",
but as long as this URL returns a stateless representation of a
resource (which it does), it's hunky-dory with REST, AFAIK.  In fact,
this is a classic proxy layer with a twist -- it also converts
representation.

Disagree? Fire away :)

:DG&lt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5838<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-04-06 02:01:38<br>
Subject:Re: [rest-discuss] RESTful representation of nouns?<br>
Message:<br><br>
<pre>On Apr 5, 2006, at 5:31 PM, Dr. Ernie Prabhakar wrote:

&gt; Thanks, Nic, Roy.  The fog is clearing slightly. :-)  The key issue  
&gt; appears to be:
&gt;
&gt; On Apr 5, 2006, at 4:26 PM, Roy T. Fielding wrote:
&gt;&gt; OTOH, a translation service like
&gt;&gt;
&gt;&gt;    /convert?format=pdf
&gt;&gt;
&gt;&gt; can simply be a POST of file-upload with the response being the
&gt;&gt; converted representation.
&gt;&gt;
&gt;&gt;&gt; However, that doesn't seem very RESTful.
&gt;&gt;
&gt;&gt; Why?  POST is RESTful too, when it is used correctly.
&gt;
&gt; This is what confuses me.  My (naive) understanding is that every  
&gt; URI represents a noun, that is, a resource.  The URL:
&gt;
&gt; http://myhost.com/convert
&gt;
&gt; seems like it represents a verb, especially when given parameters:
&gt;
&gt; http://myhost.com/convert?format=pdf

Places are nouns, too.  All you are doing is giving the URI of a service
that performs stateless conversions.  The GET interface simply tells you
how to use the service (e.g., HTML form), there is no other resource
involved, and there is no sustained benefit across multiple invocations
(no reusable resources other than the service itself).

I hate to quote myself, but in sec 5.2.1.2:

   "REST components perform actions on a resource by using a
   representation to capture the current or intended state of that
   resource and transferring that representation between components."

so what you have defined above is a one-resource RESTful service that
merely reflects a different shade of state back to the client.

&gt; or even when given other nouns:
&gt;
&gt; http://myhost.com/convert?format=pdf&amp;uri=http//example.com/ 
&gt; get_it_here.html

That's a different beast -- it is a gateway, and it would "look"
more RESTful simply by choosing a different URI syntax, e.g.

   http://myconverter.com/pdf/http://example.com/get_it_here.html

(naming scripts, including .cgi, and using path components versus
query parameters are all equivalent aside from some caching heuristics).
The presence of that gateway provides a parallel world of resources
(hopefully they would have the sense to block their own site
from being included within itself).

I guess you could say that is a more RESTful service than one that
only converted the input of forms. [OTOH, I am not entirely convinced
that "RESTful" is a meaningful term, since for me REST is a particular
architectural style with black&amp;white constraints, whereas I use the
term "principled design" for discussion of tradeoffs. *shrug*]
I guess "more resources" would have to be "more RESTful".

&gt; So, if I read Roy correctly, the service described by that URL is  
&gt; -- or at least could be -- RESTful. Does this mean that the belief  
&gt; "URLs must represent nouns" is a complete myth?  Or is there  
&gt; something else going on here?

Don't get carried away. You won't find a constraint about "nouns"
anywhere in my dissertation.  It talks about resources, as in
*re*sources, because that is what we want from a distributed
hypermedia system (the ability to reuse those information sources
through the provision of links).  Services that are merely end-points
are allowed within that model, but they aren't very interesting
because they only amount to one resource.  The really interesting
services provide many resources.

Note that this is just another way of restating Reed's law in
relation to Metcalfe's law.

   http://en.wikipedia.org/wiki/Reed%27s_law

....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5839<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-04-06 02:05:48<br>
Subject:Re: [rest-discuss] RESTful representation of nouns?<br>
Message:<br><br>
<pre>On 4/5/06, Dr. Ernie Prabhakar &lt;drernie@...&gt; wrote:
&gt; This is what confuses me.  My (naive) understanding is that every URI
&gt; represents a noun, that is, a resource.  The URL:
&gt;
&gt; http://myhost.com/convert
&gt;
&gt; seems like it represents a verb

http://myhost.com/convertor ?

The whole verb-in-the-URI-thing is just a rule of thumb that I found
seemed to help some brought-up-on-RPC types I know to convert to a
state transfer style.

Mark.
--
Mark Baker.  Ottawa, Ontario, CANADA.       http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5840<br>
Sender:Dr. Ernie Prabhakar &lt;drernie@...&gt;<br>
Post Date/Time:2006-04-06 02:17:49<br>
Subject:Re: [rest-discuss] RESTful representation of nouns?<br>
Message:<br><br>
<pre>Hi everybody,

On Apr 5, 2006, at 7:05 PM, Mark Baker wrote:
&gt; The whole verb-in-the-URI-thing is just a rule of thumb that I found
&gt; seemed to help some brought-up-on-RPC types I know to convert to a
&gt; state transfer style.

Thanks for all the comments, they all helped add a little bit of  
clue, including this:

&gt; Places are nouns, too.  All you are doing is giving the URI of a  
&gt; service
&gt; that performs stateless conversions.  The GET interface simply  
&gt; tells you
&gt; how to use the service (e.g., HTML form), there is no other resource
&gt; involved, and there is no sustained benefit across multiple  
&gt; invocations
&gt; (no reusable resources other than the service itself).
&gt;
&gt; I hate to quote myself, but in sec 5.2.1.2:
&gt;
&gt;   "REST components perform actions on a resource by using a
&gt;   representation to capture the current or intended state of that
&gt;   resource and transferring that representation between components."
&gt;
&gt; so what you have defined above is a one-resource RESTful service that
&gt; merely reflects a different shade of state back to the client.
&gt;

So, services (even those that look like verbs) can be stateless  
resources, too, as long as they aren't implicitly masking -other-  
resources?

&gt;&gt; http://myhost.com/convert?format=pdf&amp;uri=http//example.com/ 
&gt;&gt; get_it_here.html
&gt;&gt;
&gt;
&gt; That's a different beast -- it is a gateway, and it would "look"
&gt; more RESTful simply by choosing a different URI syntax, e.g.
&gt;
&gt;   http://myconverter.com/pdf/http://example.com/get_it_here.html

Ah, I get it.  If, for example, it always returned the result as:

http://myhost.com/convert?result.html

That would be non-RESTful (er, unprincipled? :-), because it doesn't  
actually create real resource.

&gt; It talks about resources, as in
&gt; *re*sources, because that is what we want from a distributed
&gt; hypermedia system (the ability to reuse those information sources
&gt; through the provision of links).  Services that are merely end-points
&gt; are allowed within that model, but they aren't very interesting
&gt; because they only amount to one resource.  The really interesting
&gt; services provide many resources.
&gt;

Okay, that actually makes sense.  I now officially have at least one  
more clue than I did before...

Thanks!

-- Ernie P.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5841<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-04-06 03:48:54<br>
Subject:Re: [rest-discuss] RESTful representation of nouns?<br>
Message:<br><br>
<pre>On Apr 5, 2006, at 7:17 PM, Dr. Ernie Prabhakar wrote:

&gt; So, services (even those that look like verbs) can be stateless
&gt; resources, too, as long as they aren't implicitly masking -other-
&gt; resources?

Er, services that "look like verbs" are just confusing -- the question
is whether they behave according to the uniform methods applied to them
or not.  If you send it a GET, what happens?  If you send it a POST,
what happens?  How about PUT?  As long as the service doesn't go out of
its way to violate some other constraint (such as GET resulting in a
modified resource state), then how it looks shouldn't matter.

&gt;&gt; That's a different beast -- it is a gateway, and it would "look"
&gt;&gt; more RESTful simply by choosing a different URI syntax, e.g.
&gt;&gt;
&gt;&gt;   http://myconverter.com/pdf/http://example.com/get_it_here.html
&gt;
&gt; Ah, I get it.  If, for example, it always returned the result as:
&gt;
&gt; http://myhost.com/convert?result.html
&gt;
&gt; That would be non-RESTful (er, unprincipled? :-), because it doesn't
&gt; actually create real resource.

You mean, if it redirected (or gave 202 response with a link) the client
to a different resource called

    http://myhost.com/convert?result.html

right?  It would still be RESTful.  It just wouldn't be very useful,
since all that identifies is a resource whose state is the most
recently completed conversion.  OTOH, if that is the resource that
you happen to want (as in, for example, a monitoring app), then maybe
it is useful enough.

A better way to think of the problem is to work backwards from the
end result.  What do you want the state of the system to be at the
completion of N requests (potentially parallel, multiple clients)?

Hint: A RESTful system progresses from one steady-state to the
next, and each such steady-state is both a potential start-state
and a potential end-state.  I.e., a RESTful system is an unknown
number of components obeying a simple set of rules such that they
are always either at REST or transitioning from one RESTful
state to another RESTful state. Each state can be completely
understood by the representation(s) it contains and the set of
transitions that it provides, with the transitions limited to a
uniform set of actions to be understandable.  The system may be
a complex state diagram, but each user agent is only able to see
one state at a time (the current steady-state) and thus each
state is simple and can be analyzed independently.  A user, OTOH,
is able to create their own transitions at any time (e.g., enter
a URL, select a bookmark, open an editor, etc.).

....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5842<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-06 09:02:10<br>
Subject:Re: [rest-discuss] RESTful representation of nouns?<br>
Message:<br><br>
<pre>"Dr. Ernie Prabhakar" &lt;drernie@...&gt; writes:

&gt; Thanks, Nic, Roy.  The fog is clearing slightly. :-)  The key issue  
&gt; appears to be:
&gt;
&gt; On Apr 5, 2006, at 4:26 PM, Roy T. Fielding wrote:
&gt;&gt; OTOH, a translation service like
&gt;&gt;
&gt;&gt;    /convert?format=pdf
&gt;&gt;
&gt;&gt; can simply be a POST of file-upload with the response being the
&gt;&gt; converted representation.
&gt;&gt;
&gt;&gt;&gt; However, that doesn't seem very RESTful.
&gt;&gt;
&gt;&gt; Why?  POST is RESTful too, when it is used correctly.
&gt;
&gt; This is what confuses me.  My (naive) understanding is that every URI  
&gt; represents a noun, that is, a resource.  The URL:
&gt;
&gt; http://myhost.com/convert
&gt;
&gt; seems like it represents a verb, especially when given parameters:
&gt;
&gt; http://myhost.com/convert?format=pdf
&gt;
&gt; or even when given other nouns:
&gt;
&gt; http://myhost.com/convert?format=pdf&amp;uri=http//example.com/ 
&gt; get_it_here.html
&gt;
&gt; So, if I read Roy correctly, the service described by that URL is --  
&gt; or at least could be -- RESTful. Does this mean that the belief "URLs  
&gt; must represent nouns" is a complete myth?  Or is there something else  
&gt; going on here?

Oh that's just nomenclature.

Try:

   http://myhost.com/mydocument

instead.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5843<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-04-06 15:05:45<br>
Subject:Re: [rest-discuss] RESTful representation of side effects?<br>
Message:<br><br>
<pre>On Wed, 2006-04-05 at 15:37 -0700, Dr. Ernie Prabhakar wrote:
&gt; I want to provide a web service that, say, converts HTML documents  
&gt; into various formats.   The naive RPC method would seem to be to  
&gt; create a special URL string for each type, e.g.:
&gt; 	/convert.cgi?format=pdf&amp;document=mydocument.html
&gt; 	/convert.cgi?format=doc&amp;document=mydocument.html
&gt; etc.

REST is a model for managing state mutation and transfer in a large
scale distributed architecture. People often get caught up in whether a
simple conversion activity of this kind is RESTful. They want to add new
URIs to the process and store the result somewhere on the server side.
This is not useful. The starting point for understanding a RESTful
architecture is to think about the state that needs to be retained on
the server side in order to keep things ticking along. In this case and
cases like it, there is no server-side state. Because there is no
server-side state, there are no server-side resources that need to exist
to manage or delimit that state.

The server side does not retain the converted document, so it returns
the document in the HTTP response and forgets about it. If it wanted to
keep the document around for other users of the service to view, it
should store it and represent the stored state as one or more resources.
If it wanted to keep public statistics on the number or types of
documents converted, it should store statistical state and represent the
stored state as one or more resources.

The difference between REST and RPC in the null-state case is not very
wide, especially when we are already constraining ourselves to the
document transfer problem domain. The REST version on the wire looks
like this:
&gt;&gt; POST /doc2pdf
&gt;&gt; (doc document)
&lt;&lt; 200 OK
&lt;&lt; (pdf document)
The RPC version looks like this:
&gt;&gt; ConvertDoc2Pdf(doc document)
&lt;&lt; (SUCCESS, pdf document)

This difference is still important. If we think about what the software
looks like that invokes the request, REST looks like this:
	resource = getResource("http://example.com/doc2pdf")
	document = resource.POST(document)
RPC looks like this:
	docConverter = getDocConverter("http://example.com/doc2pdf")
	document = resource.ConvertDoc2Pdf(document)
The RPC approach allows for a lot more of the variation at the code
level to be translated into variation all the way down to the network
level and back up again to the application level on the server side.
REST takes a uniform approach, and only the code that wants to handle
things in a domain-specific way has to do so. The code that gets
messages to that code and directs them back away can be generic and
straightforward.

REST pushes unformity of verbs and message structure at the network
level, and in fact forces us to rethink the application level
significantly. If the uniform version works, why waste time inventing a
more specific or type-safe version? Why validate the whole data
structure down in some network stack when you can transport the raw data
to where it is used and only process what is needed when it arrives? Why
insist on converting a message into an intricate structure of data when
you are just going to reencode it again for transmission or display it
to a user? Why not just retain it as strings until you know what you
will do with it?

The difference between REST and RPC is much clearer when we add
server-side state to the picture and the existence of intermediataries
between server and client. This what Fielding's work is mostly about.
However, there is a world view in REST that says "types don't work on
the network unless everyone understands them". It says that html is
interchangable, but the xml schema you dreamed up yesterday is not. It
says only parse what you need to, and ignore what you don't understand.
It says that the network with all of it's different agencies and
opposing interests is not an environment where traditional
object-orientation works. When we look at what does work, we find
ourselves thinking about compatability in different ways.

REST is not the end goal. It is not an absolute good in it's own right.
It is the benefits of REST that cause use to follow its philosophy. REST
is better than object-orientation for the same reason as we have web
browsers instead of CORBA-browsers. Uniformity is key. Simplicity at the
network level is key. Managing state transparently as resources is
important for its own reasons, but when you are looking at stateless
services such as document converters they really don't come into the
picture that much.

Benjamin.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5844<br>
Sender:"Sandeep Shetty" &lt;sandeep.shetty@...&gt;<br>
Post Date/Time:2006-04-06 16:19:23<br>
Subject:Request Header vs. Query String<br>
Message:<br><br>
<pre>Hey,

There are a lot of places on the web where I have seen people specify
client preferences (acceptable media types, languages, etc.) in the
Query String which has got me thinking about why this is
inappropriate. The obvious reason for why they do this is that there
is limited support for tweaking request headers in Browserland [3] and
all too easy (testing via browser, etc.) to add stuff to the most
easily editable data element - the URL. Another reason why they might
do this is if they consider the different data formats as separate
resources.

My understanding is that Request Headers are used for parametrising
the request [1] and the Query String is used for parametrising the
resource [2]. If this is the case then you cannot put information in
the Query String that belongs in the Request Header because the Query
String in some sense affects the identity of the resource but the
Request Headers don't (this is true if like me you believe that the
different formats are not separate resources).

Is this correct or am I way off?

Sandeep Shetty
http://sandeep.shetty.in/


[1] http://www.w3.org/Protocols/rfc2616/rfc2616-sec5.html#sec5.3
[2] http://www.gbiv.com/protocols/uri/rfc/rfc3986.html#query
[3] http://sandeep.shetty.in/2006/04/browserland-http.html

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5845<br>
Sender:"Joe Gregorio" &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2006-04-07 02:44:45<br>
Subject:Re: [rest-discuss] Request Header vs. Query String<br>
Message:<br><br>
<pre>On 4/6/06, Sandeep Shetty &lt;sandeep.shetty@...&gt; wrote:
&gt; Hey,
&gt;
&gt; There are a lot of places on the web where I have seen people specify
&gt; client preferences (acceptable media types, languages, etc.) in the
&gt; Query String which has got me thinking about why this is
&gt; inappropriate. The obvious reason for why they do this is that there
&gt; is limited support for tweaking request headers in Browserland [3] and
&gt; all too easy (testing via browser, etc.) to add stuff to the most
&gt; easily editable data element - the URL. Another reason why they might
&gt; do this is if they consider the different data formats as separate
&gt; resources.
&gt;
&gt; My understanding is that Request Headers are used for parametrising
&gt; the request [1] and the Query String is used for parametrising the
&gt; resource [2].

Query parameters are a convenient way to construct URIs for
resources, for example, GET-based HTML forms. Look at these
two URIs:

   http://www.google.com/search?q=REST
   http://www.google.com/search?q=This+is+spinal+tap

I don't think you'd consider google.com one big resource.

I don't think trying to squeeze all request headers
under the label of "parametrising the request"
is really correct (think of  Cache-Control:
and Connection:). There *are* request headers, such as Accept:,
but I wouldn't refer to them
as "parametrising the request" as much as
"parametrising the respresentation".

&gt; If this is the case then you cannot put information in
&gt; the Query String that belongs in the Request Header because the Query
&gt; String in some sense affects the identity of the resource but the
&gt; Request Headers don't (this is true if like me you believe that the
&gt; different formats are not separate resources).

If you do have a resource that does some form
of content negotiation, which is what we're talking
about here, it is still useful to have URIs for
particular representations:

   http://bitworking.org/news/WebServicesAndContentNegotiation

   -joe

--
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5846<br>
Sender:"Sandeep Shetty" &lt;sandeep.shetty@...&gt;<br>
Post Date/Time:2006-04-07 08:21:36<br>
Subject:Re: [rest-discuss] Request Header vs. Query String<br>
Message:<br><br>
<pre>Hey Joe,

On 4/7/06, Joe Gregorio &lt;joe.gregorio@...&gt; wrote:
&gt; On 4/6/06, Sandeep Shetty &lt;sandeep.shetty@...&gt; wrote:
&gt; &gt; My understanding is that Request Headers are used for parametrising
&gt; &gt; the request [1] and the Query String is used for parametrising the
&gt; &gt; resource [2].
&gt;
&gt; Query parameters are a convenient way to construct URIs for
&gt; resources, for example, GET-based HTML forms. Look at these
&gt; two URIs:
&gt;
&gt;    http://www.google.com/search?q=REST
&gt;    http://www.google.com/search?q=This+is+spinal+tap
&gt;
&gt; I don't think you'd consider google.com one big resource.

google.com is the naming authority and /search is the resource. You
don't have to think of /search as one big resource that contains these
small resources specified via a Query String. You can think of it as a
resource that gives you some way of getting to other resources by
providing "identifying information" [1] in the Query String.

Note that both the URI's (including the query mark and the query
string after it) you mentioned *are used to identify* quasi-static [2]
resources which can be cached till the next time google updates its
index.


&gt; I don't think trying to squeeze all request headers
&gt; under the label of "parametrising the request"
&gt; is really correct (think of  Cache-Control:
&gt; and Connection:). There *are* request headers, such as Accept:,
&gt; but I wouldn't refer to them
&gt; as "parametrising the request" as much as
&gt; "parametrising the respresentation".

I'm not giving it that label, the spec is:
"These (request-header) fields act as request modifiers," [3]

According to the spec [4]:
"Accept headers can be used to indicate that the *request is
specifically limited* to a small set of desired types, as in the case
of a request for an in-line image."

So the Accept header *is* a request modifier.

Also, Cache-Control [5] and Connection [6] are both general-header
fields and not request-header fields.


&gt; &gt; If this is the case then you cannot put information in
&gt; &gt; the Query String that belongs in the Request Header because the Query
&gt; &gt; String in some sense affects the identity of the resource but the
&gt; &gt; Request Headers don't (this is true if like me you believe that the
&gt; &gt; different formats are not separate resources).
&gt;
&gt; If you do have a resource that does some form
&gt; of content negotiation, which is what we're talking
&gt; about here, it is still useful to have URIs for
&gt; particular representations:


I agree but only in the case of reactive (agent-driven) negotiation [7].


Sandeep Shetty
http://sandeep.shetty.in/


[1] http://www.gbiv.com/protocols/uri/rfc/rfc3986.html#query
[2] http://www.w3.org/DesignIssues/Axioms.html#Query
[3] http://www.w3.org/Protocols/rfc2616/rfc2616-sec5.html#sec5.3
[4] http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.1
[5] http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.9
[6] http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.10
[7] http://www.ics.uci.edu/~fielding/pubs/dissertation/evaluation.htm#sec_6_3_2_7

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5847<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-04-07 15:13:06<br>
Subject:Re: [rest-discuss] Request Header vs. Query String<br>
Message:<br><br>
<pre>Hi Sandeep,

On Apr 7, 2006, at 1:21 AM, Sandeep Shetty wrote:

&gt; Hey Joe,
&gt;
&gt; On 4/7/06, Joe Gregorio &lt;joe.gregorio@...&gt; wrote:
&gt;&gt; On 4/6/06, Sandeep Shetty &lt;sandeep.shetty@...&gt; wrote:
&gt;&gt;&gt; My understanding is that Request Headers are used for parametrising
&gt;&gt;&gt; the request [1] and the Query String is used for parametrising the
&gt;&gt;&gt; resource [2].
&gt;&gt;
&gt;&gt; Query parameters are a convenient way to construct URIs for
&gt;&gt; resources, for example, GET-based HTML forms. Look at these
&gt;&gt; two URIs:
&gt;&gt;
&gt;&gt;    http://www.google.com/search?q=REST
&gt;&gt;    http://www.google.com/search?q=This+is+spinal+tap
&gt;&gt;
&gt;&gt; I don't think you'd consider google.com one big resource.
&gt;
&gt; google.com is the naming authority and /search is the resource. You
&gt; don't have to think of /search as one big resource that contains these
&gt; small resources specified via a Query String. You can think of it as a
&gt; resource that gives you some way of getting to other resources by
&gt; providing "identifying information" [1] in the Query String.
&gt;
&gt; Note that both the URI's (including the query mark and the query
&gt; string after it) you mentioned *are used to identify* quasi-static [2]
&gt; resources which can be cached till the next time google updates its
&gt; index.
&gt;
I think there's some overloading of the term resource going on here.  
The way I've come to think of it, a resource is that which is  
identified by a URI. So if it's a different URI, it is a different  
resource. Therefore, the following are two different resources:

http://www.google.com/search?q=REST
http://www.google.com/search?q=This+is+spinal+tap

My definition of resource comes from the HTTP perspective. You said,  
"You don't have to think of /search as being on big resource..." To  
me, you're not talking about the HTTP perspective here, but about how  
humans would think of the information architecture of Google. I think  
that's important to consider when designing a web app, because the  
URI is part of the user interface. URIs can be designed to help the  
user understand and better navigate the site. But users don't think  
in terms of resources. For lack of a better word, I'll use "content."

As an illustration, I posted a question to this list recently about  
whether it made sense to consider personalization of a resource a  
representation of that resource. I eventually realized that the  
trouble with that approach is that if you have 1000 ETags for 1000  
different personalized versions of a resource, and a proxy has all of  
them cached, the If-None-Match request header would likely be bigger  
than size of the representation. That defeats the purpose of caching,  
which tells me that the number of possible representations, and  
therefore ETags, for each resource needs to be fairly small.

So now, if you search Google for REST and hit this page on one of my  
sites:

http://lejava.artima.com/articles/rest_easy

I'll notice that the referrer was:

http://www.google.com/search?q=REST

And I'll redirect the browser to:

http://lejava.artima.com/articles/rest_easy?q=REST

This URI will show the same article, but with the term "rest"  
highlighted. From the HTTP perspective, these are two different  
resources:

http://lejava.artima.com/articles/rest_easy
http://lejava.artima.com/articles/rest_easy?q=REST

But from the user's perspective, they are two different views of the  
same piece of content, which is an article about REST. Therefore, the  
query string parameterizes the content, from the user's perspective,  
but not the resource. From the HTTP perspective, a URI is opaque, and  
each unique string identifies a unique resource regardless of whether  
it contains a question mark.

Does this way of thinking about the term "resource" sound correct?

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5848<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2006-04-07 16:03:11<br>
Subject:Re: [rest-discuss] Request Header vs. Query String<br>
Message:<br><br>
<pre>Bill Venners wrote:
&gt; Does this way of thinking about the term "resource" sound correct?

Pretty much, though I'd say that 
http://lejava.artima.com/articles/rest_easy and
http://lejava.artima.com/articles/rest_easy?q=REST *could* refer to 
different resources. They could also be the same resource, just as two 
names could identify the same person, two C++ pointers could point to 
the same object, etc.

For the most part we should of course assume that the two are different 
resources (the aliasing will remain hidden from us).

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5849<br>
Sender:"Sandeep Shetty" &lt;sandeep.shetty@...&gt;<br>
Post Date/Time:2006-04-07 16:35:30<br>
Subject:Re: [rest-discuss] Request Header vs. Query String<br>
Message:<br><br>
<pre>Hey Bill,

On 4/7/06, Bill Venners &lt;bv-svp@...&gt; wrote:
&gt; I think there's some overloading of the term resource going on here.
&gt; The way I've come to think of it, a resource is that which is
&gt; identified by a URI. So if it's a different URI, it is a different
&gt; resource. Therefore, the following are two different resources:
&gt;
&gt; http://www.google.com/search?q=REST
&gt; http://www.google.com/search?q=This+is+spinal+tap

This is what I'm saying as well.


&gt; My definition of resource comes from the HTTP perspective. You said,
&gt; "You don't have to think of /search as being on big resource..." To
&gt; me, you're not talking about the HTTP perspective here, but about how
&gt; humans would think of the information architecture of Google. I think
&gt; that's important to consider when designing a web app, because the
&gt; URI is part of the user interface. URIs can be designed to help the
&gt; user understand and better navigate the site. But users don't think
&gt; in terms of resources. For lack of a better word, I'll use "content."

Oh! I wasn't going down that road. I was just trying to explain to Joe
(who said "I don't think you'd consider google.com one big resource."
by which he meant something like "When you say that the Query String
is used for parametrising the resource, do you think the Query String
in http://www.google.com/search?q=REST or
http://www.google.com/search?q=This+is+spinal+tap is parametrising
google.com"?) that parametising the resource in a sense meant creating
identifiers to new resources (which could be sub-resources or
orthogonal resources).


&gt; So now, if you search Google for REST and hit this page on one of my
&gt; sites:
&gt;
&gt; http://lejava.artima.com/articles/rest_easy
&gt;
&gt; I'll notice that the referrer was:
&gt;
&gt; http://www.google.com/search?q=REST
&gt;
&gt; And I'll redirect the browser to:
&gt;
&gt; http://lejava.artima.com/articles/rest_easy?q=REST
&gt;
&gt; This URI will show the same article, but with the term "rest"
&gt; highlighted.

This is not how I would do this. You could do this in a cache friendly
way on the client side (with javascript using document.referrer) and
not create a new resource just for highlighting search terms.


&gt; From the HTTP perspective, these are two different
&gt; resources:
&gt;
&gt; http://lejava.artima.com/articles/rest_easy
&gt; http://lejava.artima.com/articles/rest_easy?q=REST
&gt;
&gt; But from the user's perspective, they are two different views of the
&gt; same piece of content, which is an article about REST. Therefore, the
&gt; query string parameterizes the content, from the user's perspective,
&gt; but not the resource. From the HTTP perspective, a URI is opaque, and
&gt; each unique string identifies a unique resource regardless of whether
&gt; it contains a question mark.

The Query String is parametrising the content from the user's
perspective and not the resource because *you* designed it that way.
You could do it in the way I mentioned above and that would not be the
case.

Let me re-state what I meant in my first post [1]:
Request modifiers should not be put in the Query String because
request modifiers are not supposed to affect the identify of a
resource. When you put request modifiers in the Query String you are
creating new resources where you shouldn't.


Sandeep Shetty
http://sandeep.shetty.in/


[1] http://groups.yahoo.com/group/rest-discuss/message/5844

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5850<br>
Sender:"Sandeep Shetty" &lt;sandeep.shetty@...&gt;<br>
Post Date/Time:2006-04-07 16:49:12<br>
Subject:Re: [rest-discuss] Request Header vs. Query String<br>
Message:<br><br>
<pre>On 4/7/06, Sandeep Shetty &lt;sandeep.shetty@...&gt; wrote:
&gt; Let me re-state what I meant in my first post [1]:
&gt; Request modifiers should not be put in the Query String because
&gt; request modifiers are not supposed to affect the identify of a
&gt; resource. When you put request modifiers in the Query String you are
&gt; creating new resources where you shouldn't.

Case in point: http://developer.yahoo.com/common/phpserial.html#outputparam


Sandeep Shetty
http://sandeep.shetty.in/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5851<br>
Sender:"Koranteng Ofosu-Amaah" &lt;amaah@...&gt;<br>
Post Date/Time:2006-04-07 18:36:22<br>
Subject:On coodination costs and human factors<br>
Message:<br><br>
<pre>In an atypically verbose exposition, Matchmaker Roy Fielding propounded thusly:

&gt; Don't get carried away. You won't find a constraint about "nouns"
&gt; anywhere in my dissertation.  It talks about resources, as in
&gt; *re*sources, because that is what we want from a distributed
&gt; hypermedia system (the ability to reuse those information sources
&gt; through the provision of links). ...  The really interesting
&gt; services provide many resources.
&gt;
&gt; Note that this is just another way of restating Reed's law in
&gt; relation to Metcalfe's law.
&gt;
&gt;    http://en.wikipedia.org/wiki/Reed%27s_law

Similarly, Layer Stripper Bill de Hora recently flirted in this way:

"Some people when faced when a distributed programming problem, think
'I know, I'll expose a new service interface.'

Now they have n-squared problems."

&lt;http://www.dehora.net/journal/2006/03/now_they_have_nsquared_problems.html&gt;

View Sourcerer Joe Gregario almost in passing shined a light on some
cobwebs (caching and authentication):

"In the process of implementing httplib2 I also discovered some rough
spots in HTTP implementations."

&lt;http://www.xml.com/pub/a/2006/03/29/httplib2-http-persistence-and-authentication.html&gt;

Putting these together and handwaving as usual...

It strikes me that the first two statements are all about changing the
frame and making economic arguments for REST, namely constraining
system design to resources, identifiers and uniform interfaces in
order to lower coordination costs... ergo the web style as an enabler
of Reed's Law.

I hadn't seen such explicit harkening to Metcalfe and Reed in the past
even though there's has always been this notion of REST as
incorporating end-to-end principles. I too have argued in this vein
about a complexity and integration argument for REST.

In a similar thread Benjamin Carlyle put it thusly "Uniformity is key.
Simplicity at the network level is key. Managing state transparently
as resources is important for its own reasons"

Intuitively, the argument about applying architectural constraints to
get payoffs in terms of leverage has a lot of appeal to engineers. It
seems however that we need some economists to weigh in here with some
options pricing theory or other to give more heft to these arguments.
Often, decisions about software systems are not made by engineers but
rather by financiers and it helps to speak their language.

Instead of Reed's notion of group forming, it seems the argument by
analogy for REST is about application integration and the barriers
that obtain in that sphere.

Now I like the large numbers that we can throw out in these
reformulations. The thing is that Andrew Odlyzko says that both
Metcalfe and Reed's law are bunk despite their evident appeal and
ability to dazzle venture capitalists.

&lt;http://www.dtc.umn.edu/~odlyzko/doc/metcalfe.pdf&gt;

In that paper he sets out to get quantitative measurements and hard
data and puts the value of communication networks at nlog(n) which is
nothing to sneeze at, better than Sarnoff's linearity but far less
than Metcalfe and Reed's estimates. Now Odlyzko was measuring the
utility of the internet which encompasses more than the web and you
can argue following Sam Ruby that the email and peer-to-peer styles,
whether expressed as, Bittorrent, Skype or usenet, are the true
winners in his numbers... Also you could argue with his methodology
and I have my own quibbles, but it's a brave man who takes on
Odlyzko... Thus I'll take his numbers in my handwaving, acknowledging
after all that the web was the key enabler and popularizer of the
internet.

This gets me to the third quote from Joe, namely the perennial rough
spots and implementation quirks that are our daily bread as engineers
trying to design and produce systems for the web.

We see daily abuse of HTTP and there are annoying glitches with the
libraries and implementations that exist and also with what is
deployed in the real world. Perhaps this is because REST is the web
style rather than the programming model and consequently enforces very
few presciptions.

Now it seems to me that this is about the place where theory meets
practice and we get into the realm of pragmatism and leverage. In the
wild we see

- the difficulties of interoperation
- differing interpretations of specifications if indeed specs are read
- backward compatibility constraints e.g. for leverage and adoption,
HTTP 1.1 had to accomodate some of the pitfalls in HTTP 1.0
- difficulties in authoring structured data
- configuration and deployment issues (mime types, content negotiation etc)
- competition with other styles, the web style exists in a marketplace
of architectures
- vested interests and economic models e.g. limits imposed by shared
hosting providers, assymetry of some broadband networks etc

With this in mind, I wonder if I can come up with a stab towards
Koranteng's postulates on coordination costs

1. there is a natural dampening factor in the utility of distributed computing

We can use Odlyzko's numbers as the lower bound in practice of network
effects and Reed's law as the theoretical limit (with Metcalfe being a
great popularizer).

I happen to be reading Graham Green's The Human Factor and, looking
through some of the issues that hinder adoption, many of them could be
summarized as comprehension or human variability hence I'll
characterize the issue as the human factor. All that is left is to
augment with some Black-Scholes options thinking and finacial
derivatives to package to CEOs

2. the human factor in technology adoption is sizable and its effect
can be measured. Moreover I would argue that it should be recognized
as an explicit architectural constraint in the design on software
systems.

3. In the realm of distributed computing, this human factor is bounded
by Odlyzko's limit and Reed's law.

Mathematicians can derive the correct coefficient for me... 1 / n log(n) ?

The rest as they say is advocacy and implementation details...

We are operating with imperfect specifications, imperfect frameworks
and imperfect implementations. REST as laissez faire distributed
computing doesn't acknowledge these costs as architectural constraints
but rather seems to go about it by encouraging best practices and
hoping that by existence proof, people will come to it... If you look
at the high level requirements that have been articulated

- Simple protocols for authoring and data transfer
- textual formats for protocol and some exchanged hypermedia
- Sensitive to user-perceived latency
- Mark Baker's talk about "principled sloppiness" (i.e. "must-ignore
style extensibility")...

We don't tend to enforce much of these things in protocol. I wonder
what other best practices can lower coordination costs and if they can
be encoded in protocol to remove the human factor...

Anyway food for thought...

If anything this enables me to add Reed's insight to my growing
taxonomy of the web style which some in this list may have come
across.. namely

there's a tag: REST

there's a slogan: the web style

there's a Holy Book: Architectural Styles and the Design of
Network-based Software Architectures

there's a Reverend: HTTP

there's a choir: the HUHXtable quartet (HTTP, URI, HTML, XML)

there are Four Horsemen: GET, POST, PUT, DELETE

there are prophets: (you know who you are)

there are pillars: Resource Modeling, Idempotency etc

there are priests and tax collectors: the caching and other
intermediaries. Ergo "Render unto Ceasar that which is Ceasar's"
recast as the notion of "giving visibility to intermediaries".

there are angels and demons: a band of Apaches and various HTTP
libraries which are alternately sources of delight and exasperation

there's a Messiah: the browser (which comes with various pretenders,
Firefoxes, Great Explorer's, Viking Operas and Fruity Safaris)

there are red herrings: url opacity etc

there are false gods: WS-*, crusty old architectures of appropriation etc.

there's the wilderness and prodigal children: WebDAV?

there's immaculate conception: the virtuous XML

there are worldly travellers: the three mobile kings JavaScript, Java
Applet, ActiveX (some discredited)

there are scrappy offspring: Atom, RSS and Atompub

there are gruesome Philistines: implementation details such as
Structured Data, Character Encoding, Security

there are elevator pitches, Cliff's notes and ballads: Sir Tim's
lullaby of Web Architecture 101 is quite reasonable

&lt;http://www.w3.org/2005/Talks/1110-iswc-tbl/#(4)&gt;

there's myrrh and frankincense: the web as conversation

and now there's the promised land: Reed's Law as the land milk and honey

Parting digression: I noticed last year that Roy produced a white
paper about JSR 170 (Java Content Repository) for his day job (pun
intended) applying principled constraints to the modeling of content
repositories.

&lt;http://www.day.com/etc/medialib/day_download_documents/white_papers.Par.0001.File.tmp/JSR_170_White_Paper.pdf&gt;

I've been curious about the surprising inertia behind that
specification having played with IBM implementations in the past few
years. Perhaps though the immaturity of that space is a tribute to
some of these arguments about coordination costs applied to the
marketplace of data (relational, object relational, XML, SQL, XPath,
XQuery, ActiveRecord, ODMA, Spring, Hibernate, SDO etc).

I wonder if the Atom store dream is the way to go, namely rather than
apply the constraint of an api and a language, Java, in a world in
which we have a Tower of Babel of languages and persistence
frameworks, it makes  more sense to focus on wire protocol (as in Atom
Publishing protocol) and wire format say Atom. In other words the
greater payoff would be not in establishing a programming model (the
JCR) but rather in moving to Atompub which is agnostic on the
underlying programming model and lowers the coordination costs by
stripping a layer of comprehension from the mix. All this of course is
modulo the quirks of compound documents, media collections etc...

Anyway having written this much, it's probably worth blogging at some point...

Comments welcome...

--
Koranteng
--
Koranteng's Toli  - http://koranteng.blogspot.com/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5852<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-04-07 19:45:58<br>
Subject:Re: [rest-discuss] Request Header vs. Query String<br>
Message:<br><br>
<pre>Hi Sandeep,

&gt; This is not how I would do this. You could do this in a cache friendly
&gt; way on the client side (with javascript using document.referrer) and
&gt; not create a new resource just for highlighting search terms.
&gt;
Yes, you're right. I have a fear of JavaScript that I need to get  
over. My concern is the test matrix. I like the fact that I can check  
what comes out of:

http://lejava.artima.com/articles/rest_easy?q=REST

And know that the XHTML is correct when it leaves the server. But  
truth is I plan to do JavaScript stuff anyway, so I need to figure  
out a way to test what the XHTML looks like after the JavaScript  
runs. Then I may as well do the keyword highlighting that way.

&gt;&gt;
&gt;&gt; http://lejava.artima.com/articles/rest_easy
&gt;&gt; http://lejava.artima.com/articles/rest_easy?q=REST
&gt;&gt;
&gt;&gt; But from the user's perspective, they are two different views of the
&gt;&gt; same piece of content, which is an article about REST. Therefore, the
&gt;&gt; query string parameterizes the content, from the user's perspective,
&gt;&gt; but not the resource. From the HTTP perspective, a URI is opaque, and
&gt;&gt; each unique string identifies a unique resource regardless of whether
&gt;&gt; it contains a question mark.
&gt;
&gt; The Query String is parametrising the content from the user's
&gt; perspective and not the resource because *you* designed it that way.
&gt; You could do it in the way I mentioned above and that would not be the
&gt; case.
&gt;
I agree. I am aiming for RESTful and user-friendly URL design for  
content-oriented sites.

&gt; Let me re-state what I meant in my first post [1]:
&gt; Request modifiers should not be put in the Query String because
&gt; request modifiers are not supposed to affect the identify of a
&gt; resource. When you put request modifiers in the Query String you are
&gt; creating new resources where you shouldn't.
&gt;
I think I see. I believe I was thrown I was thrown by the word  
"creating." Basically, I think you're saying that you shouldn't  
specify data to be used for content negotiation in query parameters  
because each set of query parameters embodies a different URI, which  
implies a different resource. Whereas request headers parameterize  
the same URI, which implies the same resource. Is that correct?

If so, I agree with that, though I am leaning away from most content  
negotiation anyway. For usability reasons, I think an article  
translated into different languages should each have a different URI  
for each language. Likewise for usability I think the PDF form of an  
article should have a different URI from the HTML form. I do think  
content negotiation would be OK for things like deciding between GIF  
and PNF for an image, i.e., for forms of content that are  
"commodities" or very substitutable.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5853<br>
Sender:"Laurian Gridinoc" &lt;laurian@...&gt;<br>
Post Date/Time:2006-04-08 10:49:47<br>
Subject:http and pi-calculus<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5854<br>
Sender:"Sandeep Shetty" &lt;sandeep.shetty@...&gt;<br>
Post Date/Time:2006-04-08 15:22:10<br>
Subject:Re: [rest-discuss] Request Header vs. Query String<br>
Message:<br><br>
<pre>Hey Bill,

On 4/8/06, Bill Venners &lt;bv-svp@...&gt; wrote:
&gt; &gt; Let me re-state what I meant in my first post [1]:
&gt; &gt; Request modifiers should not be put in the Query String because
&gt; &gt; request modifiers are not supposed to affect the identify of a
&gt; &gt; resource. When you put request modifiers in the Query String you are
&gt; &gt; creating new resources where you shouldn't.
&gt; &gt;
&gt; I think I see. I believe I was thrown I was thrown by the word
&gt; "creating." Basically, I think you're saying that you shouldn't
&gt; specify data to be used for content negotiation in query parameters
&gt; because each set of query parameters embodies a different URI, which
&gt; implies a different resource. Whereas request headers parameterize
&gt; the same URI, which implies the same resource. Is that correct?

More or less, except I'm not just talking about content negotiation
but about all the request-header fields (conneg, authorization, etc.).
Also, request-headers parametrize the request which can be for the
same URI. This is about moving away from the "URI as a document
identifier" definition and moving towards the "URI represents a
resource (conceptual entity)" definition which is more in line with
REST [1]. Remember, cool URIs don't change [2].

&gt; If so, I agree with that, though I am leaning away from most content
&gt; negotiation anyway. For usability reasons, I think an article
&gt; translated into different languages should each have a different URI
&gt; for each language. Likewise for usability I think the PDF form of an
&gt; article should have a different URI from the HTML form. I do think
&gt; content negotiation would be OK for things like deciding between GIF
&gt; and PNF for an image, i.e., for forms of content that are
&gt; "commodities" or very substitutable.

I know what you mean especially from an usability perspective given
the current state of affairs [3] but there is a cost involved in doing
this as you might end up fragmenting your resource space. Say one of
the articles on your website was about an "Interview with Mr. Foo Bar"
and you had two versions of it, one in English
(http://artima.com/articles/en/interview-with-foo-bar.html) and
another in French
(http://artima.com/articles/fr/interview-with-foo-bar.html). Now
suppose this article is viewed a lot by your English speaking audience
and they happen to point to it from various places on the web, you end
up undervaluing the French version which is actually the same
resource. Apart from this, request-headers give us a standard way to
parametrize the request and get to the different representations
whereas buy putting this information in the URI in a non-standard way
makes its harder to get to the other representations.

Example:

http://artima.com/articles/interview-with-foo-bar
Accept: text/html

By changing the Accept header to application/pdf like so

http://artima.com/articles/interview-with-foo-bar
Accept: application/pdf

a client can easily get to the other format. Similarly, if the French
speaking reader visits the site he is automatically (provided his
browser is setup properly) presented the french version of the
article. If this was not the case and since the French version was
undervalued (due to the lack of links pointing to it), he might have
ended up finding the English version through a search engine and then
would have to choose (using a non-standard way) the French version.


Sandeep Shetty
http://sandeep.shetty.in/


[1] http://www.ics.uci.edu/~fielding/pubs/dissertation/evaluation.htm#sec_6_2_1
[2] http://www.w3.org/TR/2004/REC-webarch-20041215/#URI-persistence
[3] http://sandeep.shetty.in/2006/04/browserland-http.html

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5855<br>
Sender:Elias Sinderson &lt;elias@...&gt;<br>
Post Date/Time:2006-04-08 18:49:49<br>
Subject:Re: [rest-discuss] http and pi-calculus<br>
Message:<br><br>
<pre>Laurian Gridinoc wrote:

&gt; Is there any formalization of HTTP in pi-calculus?

There had better not be, otherwise my PhD dissertation is toast.  :-)

Truthfully, I think I can say that there isn't any such work out there 
-- the closest thing being various SOA process calculi for web services 
a la WS-*. The flexibility afforded HTTP methods through various headers 
makes this sort of formulation somewhat difficult but, I believe, not 
impossible. My approach essentially boils down to treating HTTP as a 
coordination language, similar to those of Linda-like tuplespaces, and 
then applying techniques developed within the coordination languages 
community over the last 20+ years since Linda was introduced.

While not wanting to lay all my cards down on the table right now, I do 
feel that I've made some progress in this area and look forward to 
discussing my research with a broader community. That being said, and 
since Mark already announced it on another list, I'll be presenting a 
lighter version of my advancement talk this coming Thursday in Palo Alto:
&lt;http://www.commerce.net/events/?post=/2006/04/131600.a684eceee76fc522773286a895bc8436.html&gt;
If you're in the Bay Area, you might be interested in stopping by to see 
what all the fuss is about.  :-)


Cheers,
Elias

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5856<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-04-10 19:48:15<br>
Subject:Re: [rest-discuss] Request Header vs. Query String<br>
Message:<br><br>
<pre>Hi Sandeep,

On Apr 8, 2006, at 8:22 AM, Sandeep Shetty wrote:

&gt;&gt; If so, I agree with that, though I am leaning away from most content
&gt;&gt; negotiation anyway. For usability reasons, I think an article
&gt;&gt; translated into different languages should each have a different URI
&gt;&gt; for each language. Likewise for usability I think the PDF form of an
&gt;&gt; article should have a different URI from the HTML form. I do think
&gt;&gt; content negotiation would be OK for things like deciding between GIF
&gt;&gt; and PNF for an image, i.e., for forms of content that are
&gt;&gt; "commodities" or very substitutable.
&gt;
&gt; I know what you mean especially from an usability perspective given
&gt; the current state of affairs [3] but there is a cost involved in doing
&gt; this as you might end up fragmenting your resource space. Say one of
&gt; the articles on your website was about an "Interview with Mr. Foo Bar"
&gt; and you had two versions of it, one in English
&gt; (http://artima.com/articles/en/interview-with-foo-bar.html) and
&gt; another in French
&gt; (http://artima.com/articles/fr/interview-with-foo-bar.html). Now
&gt; suppose this article is viewed a lot by your English speaking audience
&gt; and they happen to point to it from various places on the web, you end
&gt; up undervaluing the French version which is actually the same
&gt; resource. Apart from this, request-headers give us a standard way to
&gt; parametrize the request and get to the different representations
&gt; whereas buy putting this information in the URI in a non-standard way
&gt; makes its harder to get to the other representations.
&gt;
&gt; Example:
&gt;
&gt; http://artima.com/articles/interview-with-foo-bar
&gt; Accept: text/html
&gt;
&gt; By changing the Accept header to application/pdf like so
&gt;
&gt; http://artima.com/articles/interview-with-foo-bar
&gt; Accept: application/pdf
&gt;
&gt; a client can easily get to the other format. Similarly, if the French
&gt; speaking reader visits the site he is automatically (provided his
&gt; browser is setup properly) presented the french version of the
&gt; article. If this was not the case and since the French version was
&gt; undervalued (due to the lack of links pointing to it), he might have
&gt; ended up finding the English version through a search engine and then
&gt; would have to choose (using a non-standard way) the French version.
&gt;
&gt; [1] http://www.ics.uci.edu/~fielding/pubs/dissertation/ 
&gt; evaluation.htm#sec_6_2_1
&gt; [2] http://www.w3.org/TR/2004/REC-webarch-20041215/#URI-persistence
&gt; [3] http://sandeep.shetty.in/2006/04/browserland-http.html
&gt;
What you describe sound to me like the approach envisioned by the  
HTTP designers when they designed content negotiation, and in Roy  
Fielding's dissertation when he discusses REST. I would contest your  
statement, "a client can easily get to the other format," and suggest  
that is the main usability problem with content negotiation as  
envisioned in the HTTP spec and REST.

In both examples you give, I believe users want to be able to chose  
between representations. Most users don't understand request headers,  
or how to set their preferences. With a bit of looking around, I  
found how to do it in my main browser, Firefox on the Mac. So being a  
somewhat sophisticated surfer, I could set my preference for French  
ahead of English.

Now imagine I click on your [1] footnote to see a section of Roy  
Fielding's dissertation, and being true to itself, it sends back a  
French translation of that chapter of his dissertation. Well, even  
though I normally prefer French while surfing, in this case, imagine  
I'm doing research for a paper of my own I'm writing and I really  
want the English version, because that's the authoritative version:  
the version of record. To get it, I would need to go to my browser  
settings and move English above French, then click reload. Then go  
back to my preferences to move French back on top, which is what I  
prefer most of the time. The problem is that most users will have no  
idea how to solve that problem, and for those sophisticated users who  
do, it is a pain.

What I'm planning to do at Artima is send back the English version,  
but with a prominent link to the French version. If you really prefer  
the French version, it is one click away. So I do content negotiation  
in that when I notice the user prefers French over English, and they  
have requested an English article for which there is a French  
translation, I send them a representation of the English article that  
includes a prominent link to the French translation. This allows the  
user to indicate his or her preference with a mouse click rather than  
going in and editing preferences, which is more user-friendly.

The situation with HTML and PDF representations of an article, which  
you also described, is similar. Although je ne parle pas Francais, I  
do use both PDF and HTML, so I can use myself as an example user. I  
prefer HTML for on screen reading, but PDF for printing. For longer  
written works--article length and longer--I prefer to print and read  
on paper. I have printed Roy Fielding's thesis out, for example. I  
would have preferred to actually get a PDF version of that thesis for  
printing, but I didn't see one. Since I prefer HTML most of the time,  
for me to get the PDF version I suppose I'd have to go change my  
preferences and put PDF ahead of HTML (except I don't see any way to  
do that in Firefox.) But that preference change would be just for his  
thesis, and only if I happen to be interested in printing it. When  
following one of your footnotes to Roy's dissertation from an email,  
for example, I actually just prefer the HTML version because I want  
to read a few paragraphs on screen. Even if I want to read a whole  
chapter, I only want the PDF if I'm near a printer and have enough  
ink and paper. So at Artima, my plan is to show the HTML version of  
an article, and include a link on it to a PDF version.

The problem with the envisioned HTTP/RESTful approach to content  
negotiation is that different human language representations of an  
article such as French/English, and file format differences such as  
HTML/PDF, are not information commodities to users. You can't just  
replace one with the other. It does matter to the user which one you  
give them, and what they want depends on the situation. The server  
needs to negotiate with the *user*, not the user agent, to figure out  
what representation they want in each specific situation. For non- 
commodities, I believe the best way to do that is to give them a  
different URI for each, because then the user can express his or her  
wishes with a click.

Some things that I can imagine doing as-envisioned content  
negotiation on are things that really are information commodities  
from the perspective of the user, such as PNG and GIF. Either one you  
send should provide the user with the same experience, and the user  
probably doesn't care which one the browser uses to construct the  
image it displays. So here it seems fine to me to do content  
negotiation as envisioned by HTTP. Note that in this case, what you  
are really negotiating with is the user agent, not the user.

One place I'm not sure which way to go is with a version of a URI fit  
for small screens, such as Blackberries. I could just adjust the page  
when I guess from the request that they are on a small screen, or I  
could include a link to a small screen version. But that would really  
mean there's two different sets of pages, one for desktop computers  
and laptops, and one for mobile devices. I haven't figured out what  
to do in this case, but I think that allowing access from mobile  
devices will be important, and suspect that just sending the same  
thing to big and small screens won't make users happy. I welcome  
suggestions.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5857<br>
Sender:Roy T. Fielding &lt;fielding@...&gt;<br>
Post Date/Time:2006-04-10 20:56:17<br>
Subject:Re: [rest-discuss] Request Header vs. Query String<br>
Message:<br><br>
<pre>On Apr 10, 2006, at 12:48 PM, Bill Venners wrote:
&gt; On Apr 8, 2006, at 8:22 AM, Sandeep Shetty wrote:
&gt;
&gt;&gt;&gt; If so, I agree with that, though I am leaning away from most content
&gt;&gt;&gt; negotiation anyway. For usability reasons, I think an article
&gt;&gt;&gt; translated into different languages should each have a different URI
&gt;&gt;&gt; for each language. Likewise for usability I think the PDF form of an
&gt;&gt;&gt; article should have a different URI from the HTML form. I do think
&gt;&gt;&gt; content negotiation would be OK for things like deciding between GIF
&gt;&gt;&gt; and PNF for an image, i.e., for forms of content that are
&gt;&gt;&gt; "commodities" or very substitutable.
&gt;&gt;
&gt;&gt; I know what you mean especially from an usability perspective given
&gt;&gt; the current state of affairs [3] but there is a cost involved in  
&gt;&gt; doing
&gt;&gt; this as you might end up fragmenting your resource space. Say one of
&gt;&gt; the articles on your website was about an "Interview with Mr. Foo  
&gt;&gt; Bar"
&gt;&gt; and you had two versions of it, one in English
&gt;&gt; (http://artima.com/articles/en/interview-with-foo-bar.html) and
&gt;&gt; another in French
&gt;&gt; (http://artima.com/articles/fr/interview-with-foo-bar.html). Now
&gt;&gt; suppose this article is viewed a lot by your English speaking  
&gt;&gt; audience
&gt;&gt; and they happen to point to it from various places on the web, you  
&gt;&gt; end
&gt;&gt; up undervaluing the French version which is actually the same
&gt;&gt; resource. Apart from this, request-headers give us a standard way to
&gt;&gt; parametrize the request and get to the different representations
&gt;&gt; whereas buy putting this information in the URI in a non-standard way
&gt;&gt; makes its harder to get to the other representations.
&gt;&gt;
&gt;&gt; Example:
&gt;&gt;
&gt;&gt; http://artima.com/articles/interview-with-foo-bar
&gt;&gt; Accept: text/html
&gt;&gt;
&gt;&gt; By changing the Accept header to application/pdf like so
&gt;&gt;
&gt;&gt; http://artima.com/articles/interview-with-foo-bar
&gt;&gt; Accept: application/pdf
&gt;&gt;
&gt;&gt; a client can easily get to the other format. Similarly, if the French
&gt;&gt; speaking reader visits the site he is automatically (provided his
&gt;&gt; browser is setup properly) presented the french version of the
&gt;&gt; article. If this was not the case and since the French version was
&gt;&gt; undervalued (due to the lack of links pointing to it), he might have
&gt;&gt; ended up finding the English version through a search engine and then
&gt;&gt; would have to choose (using a non-standard way) the French version.
&gt;&gt;
&gt;&gt; [1] http://www.ics.uci.edu/~fielding/pubs/dissertation/
&gt;&gt; evaluation.htm#sec_6_2_1
&gt;&gt; [2] http://www.w3.org/TR/2004/REC-webarch-20041215/#URI-persistence
&gt;&gt; [3] http://sandeep.shetty.in/2006/04/browserland-http.html
&gt;&gt;
&gt; What you describe sound to me like the approach envisioned by the
&gt; HTTP designers when they designed content negotiation, and in Roy
&gt; Fielding's dissertation when he discusses REST. I would contest your
&gt; statement, "a client can easily get to the other format," and suggest
&gt; that is the main usability problem with content negotiation as
&gt; envisioned in the HTTP spec and REST.

Whoa, I think this is a case of reading too much into my dissertation.
The sites that I produce *always* separate languages into separate
URI trees.  Day Software's Communiqu product specializes in  
multilingual
sites and defaults to separate trees. E.g., if you follow a link to

    http://www.day.com/

then the site will redirect according to the user's preference to one of

    http://www.day.com/site/en/index.html
    http://www.day.com/site/de/index.html

and those pages, in turn, link to all three.  We are a Swiss company and
experts at multilingual sites.

In general, I avoid content negotiation without redirects like the
plague because of its effect on caching.

Now, section 6.2.1 does not say that content negotiation should be
used all the time.  It says

    The definition of resource in REST is based on a simple premise:
    identifiers should change as infrequently as possible. Because
    the Web uses embedded identifiers rather than link servers, authors
    need an identifier that closely matches the semantics they intend by
    a hypermedia reference, allowing the reference to remain static even
    though the result of accessing that reference may change over time.
    REST accomplishes this by defining a resource to be the semantics of
    what the author intends to identify, rather than the value  
corresponding
    to those semantics at the time the reference is created. It is then
    left to the author to ensure that the identifier chosen for a
    reference does indeed identify the intended semantics.

In practice, multilingual sites rarely place equivalent content in
multiple languages on negotiated URIs without an explicit redirect.
Aside from the fact that Accept-Charset is rarely configured properly,
the fact is that different languages do not produce equivalents.
There are hundreds of nuances, colloquialisms, and shared social
norms that simply do not translate.  We encourage resource owners
to only use true content negotiation (without redirects) when the
only difference between formats is mechanical in nature.

&gt; The situation with HTML and PDF representations of an article, which
&gt; you also described, is similar. Although je ne parle pas Francais, I
&gt; do use both PDF and HTML, so I can use myself as an example user. I
&gt; prefer HTML for on screen reading, but PDF for printing. For longer
&gt; written works--article length and longer--I prefer to print and read
&gt; on paper. I have printed Roy Fielding's thesis out, for example. I
&gt; would have preferred to actually get a PDF version of that thesis for
&gt; printing, but I didn't see one.

Huh, that is getting to be a FAQ.  I have no idea why people can't see
the second and third link on the top page

    http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm

that point to the two PDF editions.  *shrug*

&gt; Some things that I can imagine doing as-envisioned content
&gt; negotiation on are things that really are information commodities
&gt; from the perspective of the user, such as PNG and GIF. Either one you
&gt; send should provide the user with the same experience, and the user
&gt; probably doesn't care which one the browser uses to construct the
&gt; image it displays. So here it seems fine to me to do content
&gt; negotiation as envisioned by HTTP. Note that in this case, what you
&gt; are really negotiating with is the user agent, not the user.
&gt;
&gt; One place I'm not sure which way to go is with a version of a URI fit
&gt; for small screens, such as Blackberries. I could just adjust the page
&gt; when I guess from the request that they are on a small screen, or I
&gt; could include a link to a small screen version. But that would really
&gt; mean there's two different sets of pages, one for desktop computers
&gt; and laptops, and one for mobile devices. I haven't figured out what
&gt; to do in this case, but I think that allowing access from mobile
&gt; devices will be important, and suspect that just sending the same
&gt; thing to big and small screens won't make users happy. I welcome
&gt; suggestions.

Mobile devices usually have a different set of interesting
transitions (links), different artwork, and often different content.
I usually treat them the same way as different languages.  Note that,
like the home page above, the "cool URI" entry points that get
published on other sites/email/papers are all negotiated, but result
in a redirect to the language+device view of preference.

....Roy
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5858<br>
Sender:Yannick Loiseau &lt;yloiseau@...&gt;<br>
Post Date/Time:2006-04-11 07:15:44<br>
Subject:Re: [rest-discuss] Request Header vs. Query String<br>
Message:<br><br>
<pre>

Bill Venners wrote:

&gt; The problem with the envisioned HTTP/RESTful approach to content  
&gt; negotiation is that different human language representations of an  
&gt; article such as French/English, and file format differences such as  
&gt; HTML/PDF, are not information commodities to users. You can't just  
&gt; replace one with the other. It does matter to the user which one you  
&gt; give them, and what they want depends on the situation. The server  
&gt; needs to negotiate with the *user*, not the user agent, to figure out  
&gt; what representation they want in each specific situation. For non- 
&gt; commodities, I believe the best way to do that is to give them a  
&gt; different URI for each, because then the user can express his or her  
&gt; wishes with a click.

I think all the issue here is mainly due to browser limitations, as they
doesn't allow the user to easily swith conneg preferences. The more I
read discussions or I am involved in service design, the more I think
about making a Firefox extention displaying some info about the
available conneg on the page (Accept / Vary header ?) and providing some
menu of field to change settings for the current page only. Some
extentions already display Header fields, but I'm not aware of a
"switcher" extention, except the ones allowing to fully customize
header, which is not so user friendly.

An other approach to your PDF problem could be the browser set
automaticaly the Accept header to "application/postscript,
application/pdf, text/html;q=0.8,text/*;q=0.5;*/*;q=0.1" and reGET the
page when clicking on "print".

For the "send link" and bookmark issue, you can always send a redirect
based on conneg, if each version has is own uri.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5859<br>
Sender:"manoj" &lt;manojjain_mca1981@...&gt;<br>
Post Date/Time:2006-04-11 06:12:20<br>
Subject:Getting problem in use REST in development of webservice<br>
Message:<br><br>
<pre>Hi all Friends..
 I m beginner of webservice. i have made a web service in asp.net and 
after then i have add that one with a client by using  add webreference,
So i want to know that is working through SOAP or REST.I have study 
more about REST Vs SOAP, then i got REST better then SOAP in many 
Perspective so i want to use REST in my webservice.
so plz tell me how to use REST in webservice,i want to whole procedure.
if i will get a example that is better for me to understand..
Waiting for help....

Thanks 








</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5860<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-11 12:53:46<br>
Subject:Re: [rest-discuss] Getting problem in use REST in development of webservice<br>
Message:<br><br>
<pre>"manoj" &lt;manojjain_mca1981@...&gt; writes:

&gt; Hi all Friends..
&gt;  I m beginner of webservice. i have made a web service in asp.net and 
&gt; after then i have add that one with a client by using  add webreference,
&gt; So i want to know that is working through SOAP or REST.I have study 
&gt; more about REST Vs SOAP, then i got REST better then SOAP in many 
&gt; Perspective so i want to use REST in my webservice.
&gt; so plz tell me how to use REST in webservice,i want to whole procedure.
&gt; if i will get a example that is better for me to understand..
&gt; Waiting for help....

To make a REST webservice simply build a normal webapp with different
resources.

Restrict yourself to the HTTP methods as the verbs for your
webservice, eg:

 GET     get the resource
 POST    create a new resource
 PUT     edit the resource
 DELETE  move the resource
 HEAD    brief overview of the resource


There are quite a few tutorials for build REST apps. You can find them
by searching on Google.


Nic Ferrier

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5861<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-04-11 15:53:34<br>
Subject:Re: [rest-discuss] Request Header vs. Query String<br>
Message:<br><br>
<pre>Bonjour Yannick,

On Apr 11, 2006, at 12:15 AM, Yannick Loiseau wrote:
&gt;&gt; The problem with the envisioned HTTP/RESTful approach to content
&gt;&gt; negotiation is that different human language representations of an
&gt;&gt; article such as French/English, and file format differences such as
&gt;&gt; HTML/PDF, are not information commodities to users. You can't just
&gt;&gt; replace one with the other. It does matter to the user which one you
&gt;&gt; give them, and what they want depends on the situation. The server
&gt;&gt; needs to negotiate with the *user*, not the user agent, to figure out
&gt;&gt; what representation they want in each specific situation. For non-
&gt;&gt; commodities, I believe the best way to do that is to give them a
&gt;&gt; different URI for each, because then the user can express his or her
&gt;&gt; wishes with a click.
&gt;
&gt; I think all the issue here is mainly due to browser limitations, as  
&gt; they
&gt; doesn't allow the user to easily swith conneg preferences. The more I
&gt; read discussions or I am involved in service design, the more I think
&gt; about making a Firefox extention displaying some info about the
&gt; available conneg on the page (Accept / Vary header ?) and providing  
&gt; some
&gt; menu of field to change settings for the current page only. Some
&gt; extentions already display Header fields, but I'm not aware of a
&gt; "switcher" extention, except the ones allowing to fully customize
&gt; header, which is not so user friendly.
&gt;
Well, we'd have to do user testing with the actual implementation of  
your idea. But I can't imagine anything simpler for the user than  
point and click.

&gt; An other approach to your PDF problem could be the browser set
&gt; automaticaly the Accept header to "application/postscript,
&gt; application/pdf, text/html;q=0.8,text/*;q=0.5;*/*;q=0.1" and reGET the
&gt; page when clicking on "print".
&gt;
Well, the trouble with this is that not every user is like me. I like  
to print PDF and read HTML on screen, but does everyone? And I don't  
*always* want to print PDF. Right now in my backpack I have a few  
chapters of Roy's thesis printed out, chapters 5 and 6 I think,  
because those were of greatest interest to me. At the time of  
printing, I didn't want to pay for paper and ink for the others, or  
carry around the weight and bulk. And in that situation it is  
actually easier for me to print the two HTML documents for those two  
chapters, and go into the PDF and figure out which from and to page I  
want. Having a different URI for each chapter was exactly what I  
wanted, and exactly what I was given.

&gt; For the "send link" and bookmark issue, you can always send a redirect
&gt; based on conneg, if each version has is own uri.
&gt;
This is true, but I think people will tend to send the URL that's in  
the address bar of the browser, not the one that's listed somewhere  
as the canonical URL for the content. People will most likely link to  
one of the non-entry URLs. Hmm. I think I need some terminology. How  
about "entry URI" for the one that uses conneg to redirect to another  
"target URI". My untested belief is that people will most likely send  
in emails the target URI they land on, and put links in their web  
pages using those target URIs. So search engines will favor the  
target URIs, not the entry URI. Therefore, people will rarely go to  
an entry URI. I don't have any plans for using entry URIs. Instead,  
there are just "target URIs," but the target URIs will use conneg to  
decide whether to point to each other prominently. The one place  
where I think an entry URI might work is the example that Roy gave in  
his earlier email on this thread, which is to the domain home itself,  
as in:

http://www.day.com/

People will type that in and go there, and that URL does seem to get  
indexed by search engines. Otherwise, I'm not sure that the entry URI  
approach is very useful. Has anyone had success with this other than  
on the domain home URL?

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5862<br>
Sender:Elias Sinderson &lt;elias@...&gt;<br>
Post Date/Time:2006-04-11 16:09:02<br>
Subject:Re: [rest-discuss] Getting problem in use REST in development of webservice<br>
Message:<br><br>
<pre>Nic wrote:

&gt; To make a REST webservice simply build a normal webapp with different 
&gt; resources. Restrict yourself to the HTTP methods as the verbs for your 
&gt; webservice, eg:
&gt;
&gt; GET     get the resource
&gt; POST    create a new resource
&gt; PUT     edit the resource
&gt;  
&gt;
This is good advice, and the above seems to be what one would generally 
expect, more or less. Depending on the application, POST may have 
alternate semantics and, assuming the client knows where things are 
supposed to go or owns the URI space (e.g. operations within a users own 
account area), PUT may be used for resource creation.

&gt; DELETE  move the resource
&gt;  
&gt;
What? That's just crazy. How did DELETE suddenly become MOVE? Would you 
then need to use POST for DELETE? Seems not so good to me, but if you 
aren't willing to support WebDAV methods for namespace operations than 
this might be acceptable, if slightly unorthodox.

This has been, to some extent, a personal crusade of mine -- to get 
people to realize that REST is more than GET, PUT, POST and DELETE. 
There are other methods available whendeveloping REST applications 
within the framework of the Web; MOVE,  COPY and MKCOL for namespace 
operations, PROPPATCH and PROPFIND for working with resource metadata, 
LOCK and UNLOCK for managing access to resources, etc.

&gt; HEAD    brief overview of the resource
&gt;  
&gt;
Well, in as much as the HTTP headers returned on a GET provide an 
overview of a resource... Some systems will maintain 'summary resources' 
that have their own URI. Obviously the approach taken depends on the 
specifics of your particular application.


Cheers,
Elias

P.S. Welcome to REST, Manoj!   :-)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5863<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-04-11 16:27:14<br>
Subject:Re: [rest-discuss] Getting problem in use REST in development of webservice<br>
Message:<br><br>
<pre>On 4/11/06, Elias Sinderson &lt;elias@...&gt; wrote:
&gt; &gt; DELETE  move the resource
&gt; &gt;
&gt; &gt;
&gt; What? That's just crazy.

I suspect Nic intended to say "*re*move".  Nice over-reaction though, Elias! 8-)

Mark.
--
Mark Baker.  Ottawa, Ontario, CANADA.       http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5864<br>
Sender:Elias Sinderson &lt;elias@...&gt;<br>
Post Date/Time:2006-04-11 16:40:44<br>
Subject:Re: [rest-discuss] Getting problem in use REST in development of webservice<br>
Message:<br><br>
<pre>Mark Baker wrote:

&gt;On 4/11/06, Elias Sinderson &lt;elias@...&gt; wrote:
&gt;  
&gt;
&gt;&gt;&gt;DELETE  move the resource
&gt;&gt;&gt;      
&gt;&gt;&gt;
&gt;&gt;What? That's just crazy.
&gt;&gt;    
&gt;&gt;
&gt;I suspect Nic intended to say "*re*move".  Nice over-reaction though, Elias! 8-)
&gt;
Ah, remove indeed... over reaction? Perhaps, but that's why I jokingly 
refer to it as my crusade... Sorry if it came off poorly! At any rate, I 
stand by my statement re: REST is more than GET, PUT, POST and DELTE.  ;-)

Nic, can you confirm or deny that the above was a typo?


Thanks,
Elias

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5865<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-11 16:48:20<br>
Subject:Re: [rest-discuss] Getting problem in use REST in development of  webservice<br>
Message:<br><br>
<pre>Elias Sinderson &lt;elias@...&gt; writes:

&gt; Nic wrote:
&gt;
&gt;&gt; To make a REST webservice simply build a normal webapp with different 
&gt;&gt; resources. Restrict yourself to the HTTP methods as the verbs for your 
&gt;&gt; webservice, eg:
&gt;&gt;
&gt;&gt; GET     get the resource
&gt;&gt; POST    create a new resource
&gt;&gt; PUT     edit the resource
&gt;&gt;  
&gt;&gt;
&gt; This is good advice, and the above seems to be what one would generally 
&gt; expect, more or less. Depending on the application, POST may have 
&gt; alternate semantics and, assuming the client knows where things are 
&gt; supposed to go or owns the URI space (e.g. operations within a users own 
&gt; account area), PUT may be used for resource creation.
&gt;
&gt;&gt; DELETE  move the resource
&gt;&gt;  
&gt;&gt;
&gt; What? That's just crazy. How did DELETE suddenly become MOVE? Would you 
&gt; then need to use POST for DELETE? Seems not so good to me, but if you 
&gt; aren't willing to support WebDAV methods for namespace operations than 
&gt; this might be acceptable, if slightly unorthodox.

Sorry.

I didn't mean "move" I meant "remove".

I'm affraid my attention was actually on wallance and grommit's wrong
trousers.



&gt; This has been, to some extent, a personal crusade of mine -- to get 
&gt; people to realize that REST is more than GET, PUT, POST and DELETE. 
&gt; There are other methods available whendeveloping REST applications 
&gt; within the framework of the Web; MOVE,  COPY and MKCOL for namespace 
&gt; operations, PROPPATCH and PROPFIND for working with resource metadata, 
&gt; LOCK and UNLOCK for managing access to resources, etc.

I strongly disagree that this is the case. I don't believe WEBDAV
methods are necessary or even advisable for REST based apps.



Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5866<br>
Sender:"Joe Gregorio" &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2006-04-11 17:16:35<br>
Subject:Re: [rest-discuss] Getting problem in use REST in development of webservice<br>
Message:<br><br>
<pre>On 4/11/06, Nic &lt;nferrier@...&gt; wrote:
&gt; Elias Sinderson &lt;elias@...&gt; writes:
&gt;
&gt; &gt; Nic wrote:
&gt; &gt; This has been, to some extent, a personal crusade of mine -- to get
&gt; &gt; people to realize that REST is more than GET, PUT, POST and DELETE.
&gt; &gt; There are other methods available whendeveloping REST applications
&gt; &gt; within the framework of the Web; MOVE,  COPY and MKCOL for namespace
&gt; &gt; operations, PROPPATCH and PROPFIND for working with resource metadata,
&gt; &gt; LOCK and UNLOCK for managing access to resources, etc.
&gt;
&gt; I strongly disagree that this is the case. I don't believe WEBDAV
&gt; methods are necessary or even advisable for REST based apps.

Agreed.

I'm sure there are cases where other methods will be needed,
but the PROP* methods in WebDAV aren't a really good
example; properties could have been their own resources
manipulated with GET/PUT/POST/DELETE. Similarly with LOCK and
UNLOCK, the lock could have been made into a resource also manipulated
via GET/PUT/POST/DELETE.

   -joe

--
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5867<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-04-11 17:23:08<br>
Subject:Superfluous WebDAV methods<br>
Message:<br><br>
<pre>Ditto.

MOVE and COPY are good exceptions though, because they work at a
distance, i.e. the client never sees the representation.

On the other hand, is MOVE really required when you can do COPY + DELETE?

Mark.

On 4/11/06, Joe Gregorio &lt;joe.gregorio@...&gt; wrote:
&gt; &gt; I strongly disagree that this is the case. I don't believe WEBDAV
&gt; &gt; methods are necessary or even advisable for REST based apps.
&gt;
&gt; Agreed.
&gt;
&gt; I'm sure there are cases where other methods will be needed,
&gt; but the PROP* methods in WebDAV aren't a really good
&gt; example; properties could have been their own resources
&gt; manipulated with GET/PUT/POST/DELETE. Similarly with LOCK and
&gt; UNLOCK, the lock could have been made into a resource also manipulated
&gt; via GET/PUT/POST/DELETE.
&gt;
&gt;    -joe
&gt;
&gt; --
&gt; Joe Gregorio        http://bitworking.org
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;


--
Mark Baker.  Ottawa, Ontario, CANADA.       http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5868<br>
Sender:Yannick Loiseau &lt;yloiseau@...&gt;<br>
Post Date/Time:2006-04-11 17:54:47<br>
Subject:Re: [rest-discuss] Superfluous WebDAV methods<br>
Message:<br><br>
<pre>

Mark Baker wrote:
&gt; On the other hand, is MOVE really required when you can do COPY + DELETE?

and COPY when you can GET + PUT + DELETE :)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5869<br>
Sender:"Jeremy Smith" &lt;jeremy.smith@...&gt;<br>
Post Date/Time:2006-04-11 18:04:12<br>
Subject:Re: [rest-discuss] Superfluous WebDAV methods<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5870<br>
Sender:Elias Sinderson &lt;elias@...&gt;<br>
Post Date/Time:2006-04-11 19:00:27<br>
Subject:WebDAV = REST?   (was:  Getting problem in ...)<br>
Message:<br><br>
<pre>Nic wrote:

&gt;Elias Sinderson &lt;elias@...&gt; writes:
&gt;  
&gt;
&gt;&gt;Nic wrote:
&gt;&gt;    
&gt;&gt;
&gt;&gt;&gt;DELETE  move the resource
&gt;&gt;&gt;      
&gt;&gt;&gt;
&gt;&gt;What? That's just crazy. How did DELETE suddenly become MOVE?
&gt;&gt;    
&gt;&gt;
&gt;Sorry. I didn't mean "move" I meant "remove". I'm affraid my attention was actually on wallance and grommit's wrong trousers.
&gt;  
&gt;
Thanks for the clarification -- those pesky trousers!  :-)

&gt;&gt;&lt;Elias&gt; This has been, to some extent, a personal crusade of mine -- to get people to realize that REST is more than GET, PUT, POST and DELETE. [...] &lt;/Elias&gt;
&gt;&gt;    
&gt;&gt;
&gt;&lt;Nic&gt; I strongly disagree that this is the case. I don't believe WEBDAV methods are necessary or even advisable for REST based apps. &lt;/Nic&gt;
&gt;
Ah, the slings and arrows, fantastic!  :-)  So, you are certainly 
entitled to your opinion, and others theirs. I'm well aware that 
crusades can be difficult... Let's take a closer look at this issue 
together then.

First, I'll note that there is no mention in Fieldings' dissertation of 
which specific methods are necessary, sufficient or even desireable for 
a REST application to support. There is, however, the constraint that 
REST resources support a uniform interface. HTTP simply happens to be 
/an implementation/, albeit the most widely deployed and, some would 
argue, the best available.  ;-)  REST is no more defined by GET, PUT, 
POST and DELETE than it is by the FOO, BAR, BAZ and BLAH methods of some 
other implementation. To take your position to the extreme, someone may 
just as well state that REST is solely defined by GET and POST...

IMHO, necessity has very little to do with the issue, otherwise one may 
just as well tunnel all of your application semantics through POST and 
be done with it. (Oh, wait, that's SOAP over HTTP!) It is not the 
/necessity/ of DELETE, for example, that makes it a good idea, it's 
simply that if everyone implemented their own DELETE via POST we would 
soon find ourselves back in fragmented API land. Clearly, the same can 
be said of PUT (and some do). Similarly, metadata properties associated 
with a resource may be set and read via POST, resources could be moved 
and copied about via POST and so on. The fact remains, however, that 
there are standardized protocol methods that have been defined for these 
common operations. Further, these methods have been defined within the 
HTTP framework as extensions to HTTP itself -- they are intended to play 
nicely together.

In designing RESTful applications, I believe that one must remain 
cognizant of the implications associated with how application behaviors 
are realized through HTTP. Sure, you can tunnel anything you want 
through POST, even things that have been defined as other methods, but I 
think it undermines the 'interface genericity' constraint somewhat as 
you are no longer interacting with the resource you want to, e.g., 
delete or move, but an arbiter who then does the delete or move for you.

It is unclear to me why someone would advocate the use of DELETE (over 
POST as DELETE) but caution against the use of MOVE and am curious as to 
your statement regarding the advisability of using WebDAV (or other?) 
methods for REST applications. Could you elaborate more on this point? I 
won't discount the constraints that may be imposed by a given business, 
economic or political reality, but am for more interested in discussing 
the architectural and systems engineering constraints.


Thanks,
Elias

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5871<br>
Sender:Elias Sinderson &lt;elias@...&gt;<br>
Post Date/Time:2006-04-11 19:04:02<br>
Subject:Re: Superfluous WebDAV methods<br>
Message:<br><br>
<pre>Mark Baker wrote:

&gt;Ditto.
&gt;  
&gt;
Please see my recent post on the subject...  :-)

&gt;MOVE and COPY are good exceptions though, because they work at a distance, i.e. the client never sees the representation. On the other hand, is MOVE really required when you can do COPY + DELETE?
&gt;  
&gt;
MOVE is atomic. There has been extended discussion of this on the WebDAV 
WG discussion list if you are interested in some of the other details.


Best,
Elias

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5872<br>
Sender:Elias Sinderson &lt;elias@...&gt;<br>
Post Date/Time:2006-04-11 19:07:55<br>
Subject:Re: [rest-discuss] Superfluous WebDAV methods<br>
Message:<br><br>
<pre>Yannick Loiseau wrote:

&gt;Mark Baker wrote:
&gt;  
&gt;
&gt;&gt;On the other hand, is MOVE really required when you can do COPY + DELETE?
&gt;&gt;    
&gt;&gt;
&gt;and COPY when you can GET + PUT + DELETE :)
&gt;
Where is the WebDAV FAQ when you need it?  ;-)

Using GET+PUT does not work to emulate MOVE because:
* it is not atomic
* you lose metadata associated with the file in the process

This has been discussed at length on the WebDAV WG mailing list if you 
are interested.


Cheers,
Elias

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5873<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-11 19:29:38<br>
Subject:Re: [rest-discuss] WebDAV = REST?<br>
Message:<br><br>
<pre>Elias Sinderson &lt;elias@...&gt; writes:

&gt; It is unclear to me why someone would advocate the use of DELETE (over 
&gt; POST as DELETE) but caution against the use of MOVE 

Because DELETE is supported by nearlly *all* the available HTTP
clients and MOVE is not. It is nonsensical to argue that a WEBDAV
based web service would be as widely available as an RFC2616 service.

It's easy for a client to use DELETE. It's not easy for a client to
use MOVE.


&gt; and am curious as to 
&gt; your statement regarding the advisability of using WebDAV (or other?) 
&gt; methods for REST applications. Could you elaborate more on this point? I 
&gt; won't discount the constraints that may be imposed by a given business, 
&gt; economic or political reality, but am for more interested in discussing 
&gt; the architectural and systems engineering constraints.

Well, I think others have responded on the superflous nature of the
WebDAV methods.

But let me make a few other bullet points:

- REST is not just a widely agreed API, it is a _simple_ API
- What does WEBDAV add that I can't explain in terms of HTTP?
- there are risks in adding any method
- it's very hard to explain the simplicity of REST (this is worth a
  thread in itself)
- it will be harder with people saying "actually it's not as simple as
  those people over there are saying"

The last point is said in a kind of jokey spirit, please don't take it
too hard.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5874<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-04-11 19:40:33<br>
Subject:Re: [rest-discuss] WebDAV = REST?   (was:  Getting problem in ...)<br>
Message:<br><br>
<pre>On Apr 11, 2006, at 12:00 PM, Elias Sinderson wrote:
&gt;&gt; &lt;Nic&gt; I strongly disagree that this is the case. I don't believe  
&gt;&gt; WEBDAV methods are necessary or even advisable for REST based  
&gt;&gt; apps. &lt;/Nic&gt;
&gt;&gt;
&gt; Ah, the slings and arrows, fantastic!  :-)  So, you are certainly
&gt; entitled to your opinion, and others theirs. I'm well aware that
&gt; crusades can be difficult... Let's take a closer look at this issue
&gt; together then.
&gt;
&gt; First, I'll note that there is no mention in Fieldings'  
&gt; dissertation of
&gt; which specific methods are necessary, sufficient or even desireable  
&gt; for
&gt; a REST application to support. There is, however, the constraint that
&gt; REST resources support a uniform interface. HTTP simply happens to be
&gt; /an implementation/, albeit the most widely deployed and, some would
&gt; argue, the best available.  ;-)  REST is no more defined by GET, PUT,
&gt; POST and DELETE than it is by the FOO, BAR, BAZ and BLAH methods of  
&gt; some
&gt; other implementation. To take your position to the extreme, someone  
&gt; may
&gt; just as well state that REST is solely defined by GET and POST...

That is correct.  My work distinguished between the REST architectural
style and any particular instantiation of that style (URI, HTTP, etc.).
This is undoubtedly a pain in the ass for folks who just want an
acronym for good webarch design.

&gt; IMHO, necessity has very little to do with the issue, otherwise one  
&gt; may
&gt; just as well tunnel all of your application semantics through POST and
&gt; be done with it. (Oh, wait, that's SOAP over HTTP!) It is not the
&gt; /necessity/ of DELETE, for example, that makes it a good idea, it's
&gt; simply that if everyone implemented their own DELETE via POST we would
&gt; soon find ourselves back in fragmented API land. Clearly, the same can
&gt; be said of PUT (and some do). Similarly, metadata properties  
&gt; associated
&gt; with a resource may be set and read via POST, resources could be moved
&gt; and copied about via POST and so on. The fact remains, however, that
&gt; there are standardized protocol methods that have been defined for  
&gt; these
&gt; common operations. Further, these methods have been defined within the
&gt; HTTP framework as extensions to HTTP itself -- they are intended to  
&gt; play
&gt; nicely together.

Sometimes.  PROP* methods conflict with REST because they prevent
important resources from having URIs and effectively double the
number of methods for no good reason.  Both Henrik and I argued
against those methods at the time.  It really doesn't matter
how uniform they are because they break other aspects of the
overall model, leading to further complications in versioning
(WebDAV versioning is hopelessly complicated), access control
(WebDAV ACLs are completely wrong for HTTP), and just about every
other extension to WebDAV that has been proposed.

&gt; In designing RESTful applications, I believe that one must remain
&gt; cognizant of the implications associated with how application  
&gt; behaviors
&gt; are realized through HTTP. Sure, you can tunnel anything you want
&gt; through POST, even things that have been defined as other methods,  
&gt; but I
&gt; think it undermines the 'interface genericity' constraint somewhat as
&gt; you are no longer interacting with the resource you want to, e.g.,
&gt; delete or move, but an arbiter who then does the delete or move for  
&gt; you.
&gt;
&gt; It is unclear to me why someone would advocate the use of DELETE (over
&gt; POST as DELETE) but caution against the use of MOVE and am curious  
&gt; as to
&gt; your statement regarding the advisability of using WebDAV (or other?)
&gt; methods for REST applications. Could you elaborate more on this  
&gt; point? I
&gt; won't discount the constraints that may be imposed by a given  
&gt; business,
&gt; economic or political reality, but am for more interested in  
&gt; discussing
&gt; the architectural and systems engineering constraints.

The problem with MOVE is that it is actually an operation on two
independent namespaces (the source collection and destination
collection).  The user must have permission to remove from the
source collection and add to the destination collection, which
can be a bit of a problem if they are in different authentication
realms.  COPY has a similar problem, but at least in that case
only one namespace is modified.  I don't think either of them map
very well to HTTP.

Tease: Any method in waka can have 0|1|2|N-arguments.

....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5875<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2006-04-11 19:45:23<br>
Subject:Re: [rest-discuss] WebDAV = REST?<br>
Message:<br><br>
<pre>Nic wrote:
&gt; Elias Sinderson &lt;elias@...&gt; writes:
&gt; 
&gt;&gt; It is unclear to me why someone would advocate the use of DELETE (over 
&gt;&gt; POST as DELETE) but caution against the use of MOVE 
&gt; 
&gt; Because DELETE is supported by nearlly *all* the available HTTP
&gt; clients and MOVE is not. It is nonsensical to argue that a WEBDAV
&gt; based web service would be as widely available as an RFC2616 service.
&gt; 
&gt; It's easy for a client to use DELETE. It's not easy for a client to
&gt; use MOVE.
&gt; ...


Interesting. Could you elaborate a bit? Which client or framework does 
allow you to use DELETE, but not MOVE?

&gt; ...

Best regards, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5876<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2006-04-11 19:57:05<br>
Subject:Re: [rest-discuss] WebDAV = REST?<br>
Message:<br><br>
<pre>Roy T. Fielding wrote:
&gt; ...
&gt; Sometimes.  PROP* methods conflict with REST because they prevent
&gt; important resources from having URIs and effectively double the
&gt; number of methods for no good reason.  Both Henrik and I argued
&gt; against those methods at the time.  It really doesn't matter
&gt; how uniform they are because they break other aspects of the
&gt; overall model, leading to further complications in versioning
&gt; (WebDAV versioning is hopelessly complicated), access control
&gt; (WebDAV ACLs are completely wrong for HTTP), and just about every
&gt; other extension to WebDAV that has been proposed.

I do agree that it would be nice if each property of a resource had it's 
URI. It's certainly possible to implement meta data that way. As far as 
I understand the records of the WebDAV working group from pre-1999, that 
approach was discussed but in the end discarded due to many *other* 
problems it would have introduced, such as: how can I effectively obtain 
the children + a specific meta data subset for one collection? That's 
one of the most common operations a WebDAV client does, and if there's 
no efficient way to do that, there's definitively a problem.

I'd really like to see the protocol details for such a design, so that 
it can really be compared to what we have today.

As for the remainder, I'm really not sure what you're talking about 
(more details, please). For instance, RFC3253 (Versioning) introduces 
separate URIs for version histories and versions (basic versioning).


&gt; ...
&gt; The problem with MOVE is that it is actually an operation on two
&gt; independent namespaces (the source collection and destination
&gt; collection).  The user must have permission to remove from the
&gt; source collection and add to the destination collection, which
&gt; can be a bit of a problem if they are in different authentication
&gt; realms.  COPY has a similar problem, but at least in that case
&gt; only one namespace is modified.  I don't think either of them map
&gt; very well to HTTP.
&gt; ...

That seems to be a problem with the concept of moving resources around, 
not with the actual definition of the MOVE method, right?

&gt; ...

Best regards, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5877<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-11 20:16:22<br>
Subject:Re: [rest-discuss] WebDAV = REST?<br>
Message:<br><br>
<pre>Julian Reschke &lt;julian.reschke@...&gt; writes:

&gt; That seems to be a problem with the concept of moving resources around, 
&gt; not with the actual definition of the MOVE method, right?

Surely MOVE could NEVER be RESTfull. 

How could MOVE ever be about representational state transfer?


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5878<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-11 20:15:02<br>
Subject:Re: [rest-discuss] WebDAV = REST?<br>
Message:<br><br>
<pre>Julian Reschke &lt;julian.reschke@...&gt; writes:

&gt; Nic wrote:
&gt;&gt; Elias Sinderson &lt;elias@...&gt; writes:
&gt;&gt; 
&gt;&gt;&gt; It is unclear to me why someone would advocate the use of DELETE (over 
&gt;&gt;&gt; POST as DELETE) but caution against the use of MOVE 
&gt;&gt; 
&gt;&gt; Because DELETE is supported by nearlly *all* the available HTTP
&gt;&gt; clients and MOVE is not. It is nonsensical to argue that a WEBDAV
&gt;&gt; based web service would be as widely available as an RFC2616 service.
&gt;&gt; 
&gt;&gt; It's easy for a client to use DELETE. It's not easy for a client to
&gt;&gt; use MOVE.
&gt;&gt; ...
&gt;
&gt;
&gt; Interesting. Could you elaborate a bit? Which client or framework does 
&gt; allow you to use DELETE, but not MOVE?

AJAX.
python's urllib
Java's URL/URLConnection

For starters.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5879<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-04-11 20:47:58<br>
Subject:Re: [rest-discuss] WebDAV = REST?<br>
Message:<br><br>
<pre>On Apr 11, 2006, at 12:57 PM, Julian Reschke wrote:

&gt; As for the remainder, I'm really not sure what you're talking about  
&gt; (more details, please). For instance, RFC3253 (Versioning)  
&gt; introduces separate URIs for version histories and versions (basic  
&gt; versioning).

They are all in the archives Julian.  WebDAV is history and my only
interest in it is for legacy support.

&gt;&gt; ...
&gt;&gt; The problem with MOVE is that it is actually an operation on two
&gt;&gt; independent namespaces (the source collection and destination
&gt;&gt; collection).  The user must have permission to remove from the
&gt;&gt; source collection and add to the destination collection, which
&gt;&gt; can be a bit of a problem if they are in different authentication
&gt;&gt; realms.  COPY has a similar problem, but at least in that case
&gt;&gt; only one namespace is modified.  I don't think either of them map
&gt;&gt; very well to HTTP.
&gt;&gt; ...
&gt;
&gt; That seems to be a problem with the concept of moving resources  
&gt; around, not with the actual definition of the MOVE method, right?

No, it is a problem with specifying multiple arguments when both the
syntax and the access control mechanism assume there is only one.
It doesn't quite fit in the original HTTP syntax.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5880<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-04-11 21:38:39<br>
Subject:Re: [rest-discuss] Getting problem in use REST in development of	webservice<br>
Message:<br><br>
<pre>On Tue, 2006-04-11 at 09:09 -0700, Elias Sinderson wrote:
&gt; This has been, to some extent, a personal crusade of mine -- to get 
&gt; people to realize that REST is more than GET, PUT, POST and DELETE. 
&gt; There are other methods available whendeveloping REST applications 
&gt; within the framework of the Web; MOVE,  COPY and MKCOL for namespace 
&gt; operations, PROPPATCH and PROPFIND for working with resource metadata, 
&gt; LOCK and UNLOCK for managing access to resources, etc.

Others have already made most of the salient points on the WebDAV issue,
however for my money the main one is this: WebDAV was designed as a
distributed authoring protcol that works as part of or alongside the
web, however wikis do not use WebDAV. It turns out that WebDAV is not
required to do distributed authoring, and its complexity means that it
is not sufficient to do distributed authoring. In practice the web does
perfectly well without COPY, MOVE, and even LOCK. They might appear on
cursary analysis to be required, but we have plenty of existence proofs
on the web today that they are not. The WebDAV of today is little more
than an NFS alternative with little relationship to the web at large.

I am an advocate of not dogmatically sticking to the classic four
verbs[1][2][3]. I think there are cases where it is useful to try and
extend the verb set in order to add new features to HTTP. I am, however,
a believer in using the verbs we have in use today wherever they are
applicable. In the end, almost all new features will be able to collapse
down into the standard cut-and-paste verbs.

Benjamin
[1] http://soundadvice.id.au/blog/2005/08/27#httpFunctionCall
[2] http://soundadvice.id.au/blog/2005/08/30#arbitraryMethods
[3] http://soundadvice.id.au/blog/2006/04/03#loHiREST


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5881<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2006-04-11 23:08:57<br>
Subject:Re: [rest-discuss] WebDAV = REST?<br>
Message:<br><br>
<pre>Nic wrote:
&gt; Julian Reschke &lt;julian.reschke@...&gt; writes:
&gt; 
&gt;&gt; Nic wrote:
&gt;&gt;&gt; Elias Sinderson &lt;elias@...&gt; writes:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; It is unclear to me why someone would advocate the use of DELETE (over 
&gt;&gt;&gt;&gt; POST as DELETE) but caution against the use of MOVE 
&gt;&gt;&gt; Because DELETE is supported by nearlly *all* the available HTTP
&gt;&gt;&gt; clients and MOVE is not. It is nonsensical to argue that a WEBDAV
&gt;&gt;&gt; based web service would be as widely available as an RFC2616 service.
&gt;&gt;&gt;
&gt;&gt;&gt; It's easy for a client to use DELETE. It's not easy for a client to
&gt;&gt;&gt; use MOVE.
&gt;&gt;&gt; ...
&gt;&gt;
&gt;&gt; Interesting. Could you elaborate a bit? Which client or framework does 
&gt;&gt; allow you to use DELETE, but not MOVE?
&gt; 
&gt; AJAX.

Works quite nice, at least in IE and Firefox.

&gt; python's urllib

Dunno.

&gt; Java's URL/URLConnection

That does DELETE, but not MOVE????

&gt; For starters.

Best regards, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5882<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2006-04-11 23:15:53<br>
Subject:Re: [rest-discuss] WebDAV = REST?<br>
Message:<br><br>
<pre>Roy T. Fielding wrote:
&gt; On Apr 11, 2006, at 12:57 PM, Julian Reschke wrote:
&gt; 
&gt;&gt; As for the remainder, I'm really not sure what you're talking about  
&gt;&gt; (more details, please). For instance, RFC3253 (Versioning)  
&gt;&gt; introduces separate URIs for version histories and versions (basic  
&gt;&gt; versioning).
&gt; 
&gt; They are all in the archives Julian.  WebDAV is history and my only
&gt; interest in it is for legacy support.

Well, in the last years I went through the archives several times, and 
never found a complete proposal that would actually cover those use 
cases that PROPFIND and PROPPATCH try to solve (and do solve, for that 
matter). So if anybody can provide a pointer, I'd be really be interested.

&gt;&gt;&gt; ...
&gt;&gt;&gt; The problem with MOVE is that it is actually an operation on two
&gt;&gt;&gt; independent namespaces (the source collection and destination
&gt;&gt;&gt; collection).  The user must have permission to remove from the
&gt;&gt;&gt; source collection and add to the destination collection, which
&gt;&gt;&gt; can be a bit of a problem if they are in different authentication
&gt;&gt;&gt; realms.  COPY has a similar problem, but at least in that case
&gt;&gt;&gt; only one namespace is modified.  I don't think either of them map
&gt;&gt;&gt; very well to HTTP.
&gt;&gt;&gt; ...
&gt;&gt; That seems to be a problem with the concept of moving resources  
&gt;&gt; around, not with the actual definition of the MOVE method, right?
&gt; 
&gt; No, it is a problem with specifying multiple arguments when both the
&gt; syntax and the access control mechanism assume there is only one.
&gt; It doesn't quite fit in the original HTTP syntax.

That's correct. So are you suggesting that there's a way to model a move 
operation without specifying two arguments that should have been used to 
define a MOVE-like method?

Best regards, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5883<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2006-04-11 23:19:41<br>
Subject:Re: [rest-discuss] WebDAV = REST?<br>
Message:<br><br>
<pre>Nic wrote:
&gt; Julian Reschke &lt;julian.reschke@...&gt; writes:
&gt; 
&gt;&gt; That seems to be a problem with the concept of moving resources around, 
&gt;&gt; not with the actual definition of the MOVE method, right?
&gt; 
&gt; Surely MOVE could NEVER be RESTfull. 
&gt; 
&gt; How could MOVE ever be about representational state transfer?

The same applies to DELETE, OPTIONS or TRACE, right?

Best regards, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5884<br>
Sender:Adam Ratcliffe &lt;adam@...&gt;<br>
Post Date/Time:2006-04-12 04:36:13<br>
Subject:Digest Authentication with Cookie Auth<br>
Message:<br><br>
<pre>Hi

I'd like to use an HTML form as the authentication interface for HTTP  
digest authentication.  My initial approach was to use XHR for HTTP  
auth but I've encountered a couple of limitations doing it that way:

- If the user provides incorrect login credentials XHR provides no  
means to handle the authentication failure and they're presented with  
the browser's auth dialog
- Can't logout once authenticated (a problem for users of public  
computers such as internet cafes)

There's been a few references to using cookies with digest  
authentication on the list recently, I'm wondering if somebody could  
explain to me how to actually implement this for a web application.

Cheers
Adam



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5885<br>
Sender:"Sandeep Shetty" &lt;sandeep.shetty@...&gt;<br>
Post Date/Time:2006-04-12 05:18:41<br>
Subject:Re: [rest-discuss] Request Header vs. Query String<br>
Message:<br><br>
<pre>Hey Bill,

On 4/11/06, Bill Venners &lt;bv-svp@...&gt; wrote:
&gt; I would contest your statement, "a client can easily get to the
&gt; other format," and suggest that is the main usability problem with
&gt; content negotiation as envisioned in the HTTP spec and REST.

Ah! When I said "easy" I meant consistent/standard. I acknowledge the
fact that this is not easy given our current situation especially in
Browersland. I thought I made that clear when I said: "I know what you
mean especially from an usability perspective given the current state
of affairs..."

But nothing stops us from changing this when we are designing REST
based services.

&gt; In both examples you give, I believe users want to be able to chose
&gt; between representations. Most users don't understand request headers,
&gt; or how to set their preferences.

And they (users not HTTP clients) shouldn't have to.

I think there are two ways to provide users with the ability to
paramaterize the request:

1. If there was someway for the server to tell the client that this
resource is also available in these other formats then the clients
could make this information available to the user using an appropriate
UI widget. The user in turn would click on the format/language he is
interested in using the widget and the client would send a request to
the server parameterized by the users choice.

Example:

GET /interview-with-foo
Content-Type: text/html
Alt-Content-Types: application/pdf


2. Another way we could let the user parameterize the request is if we
could provide the same info in an attribute of the anchor tag. The
client could again make this information available to the user using
an appropriate UI widget and allow the user to paramaterize the
request with a "click" like you want.

Example:
&lt;a alt-content-type="application/pdf" href="..

If I get the time I might try to implement Firefox extensions for
these. But do you guys think this would be the right way to do it? The
only problems that I can think of is with caches.


Sandeep Shetty
http://sandeep.shetty.in

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5886<br>
Sender:"Sandeep Shetty" &lt;sandeep.shetty@...&gt;<br>
Post Date/Time:2006-04-12 05:32:42<br>
Subject:Re: [rest-discuss] Request Header vs. Query String<br>
Message:<br><br>
<pre>Hey Roy,

On 4/11/06, Roy T. Fielding &lt;fielding@...&gt; wrote:
&gt; Whoa, I think this is a case of reading too much into my dissertation.
&gt; The sites that I produce *always* separate languages into separate
&gt; URI trees.

Are you saying that this is the right way to do it or are you saying
that we need to do it this way because we dont have much of an option
given the current infrastructure?


&gt; the fact is that different languages do not produce equivalents.
&gt; There are hundreds of nuances, colloquialisms, and shared social
&gt; norms that simply do not translate.  We encourage resource owners
&gt; to only use true content negotiation (without redirects) when the
&gt; only difference between formats is mechanical in nature.

Are you saying that true content negotiation should only be done for
stuff like changing formats (like when you have a base XML and you
convert it into PDF, HTML, etc.) and not for languages?


Sandeep Shetty
http://sandeep.shetty.in/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5887<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-04-12 06:20:38<br>
Subject:Re: [rest-discuss] Request Header vs. Query String<br>
Message:<br><br>
<pre>Hello Roy,

On Apr 10, 2006, at 1:56 PM, Roy T. Fielding wrote:

&gt;&gt; What you describe sound to me like the approach envisioned by the
&gt;&gt; HTTP designers when they designed content negotiation, and in Roy
&gt;&gt; Fielding's dissertation when he discusses REST. I would contest your
&gt;&gt; statement, "a client can easily get to the other format," and suggest
&gt;&gt; that is the main usability problem with content negotiation as
&gt;&gt; envisioned in the HTTP spec and REST.
&gt;
&gt; Whoa, I think this is a case of reading too much into my dissertation.
&gt;
Sorry about that. It is the HTTP/1.1 spec that uses human language as  
an example in several places when talking about content negotiation.  
And it was rest-discuss, not your dissertation, where I kept having  
that message reinforced in the context of REST. In section 12 of the  
HTTP/1.1 spec it says:

Note: This is not called "format negotiation" because the alternate  
representations may be of the same media type, but use different  
capabilities of that type, be in different languages, etc.

But in your dissertation in 6.3.2.7, you actually point out the  
usability problem I was trying to highlight:

In preemptive negotiation, the user agent tells the server what it is  
capable of accepting. The server is then supposed to select the  
representation that best matches what the user agent claims to be its  
capabilities. However, this is a non-tractable problem because it  
requires not only information on what the UA will accept, but also  
how well it accepts each feature and to what purpose the user intends  
to put the representation. For example, a user that wants to view an  
image on screen might prefer a simple bitmap representation, but the  
same user with the same browser may prefer a PostScript  
representation if they intend to send it to a printer instead. It  
also depends on the user correctly configuring their browser  
according to their own personal content preferences. In short, a  
server is rarely able to make effective use of preemptive negotiation...

&gt; Huh, that is getting to be a FAQ.  I have no idea why people can't see
&gt; the second and third link on the top page
&gt;
&gt;    http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm
&gt;
&gt; that point to the two PDF editions.  *shrug*
&gt;
Well, I've looked at that page several times and didn't notice it. It  
looks a bit like the preface, and I think my eyes quickly moved to  
the table of contents looking for the "good stuff." I've found if you  
don't make something big, red, and put it right in the center, even  
regular users may not notice it. You might want to put a PDF icon  
next to it, and move it over to the right so it doesn't look like the  
preface material that people might tend to ignore.

&gt; Mobile devices usually have a different set of interesting
&gt; transitions (links), different artwork, and often different content.
&gt; I usually treat them the same way as different languages.  Note that,
&gt; like the home page above, the "cool URI" entry points that get
&gt; published on other sites/email/papers are all negotiated, but result
&gt; in a redirect to the language+device view of preference.
&gt;
Thanks for the advice. It makes sense. My one uncertainty is on the  
utility of entry points that only redirect, because I'm not sure how  
many people will ever go there. Since everyone who goes there gets  
redirected elsewhere, they will probably link to one of the target  
pages, not the entry point. So far I've been thinking of having a  
default form of the content at what you might otherwise use as the  
entry point, and then include on that page a menu of links to the  
other forms.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5888<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-12 08:22:02<br>
Subject:Re: [rest-discuss] WebDAV = REST?<br>
Message:<br><br>
<pre>Julian Reschke &lt;julian.reschke@...&gt; writes:

&gt; Nic wrote:
&gt;&gt; Julian Reschke &lt;julian.reschke@...&gt; writes:
&gt;&gt; 
&gt;&gt;&gt; That seems to be a problem with the concept of moving resources around, 
&gt;&gt;&gt; not with the actual definition of the MOVE method, right?
&gt;&gt; 
&gt;&gt; Surely MOVE could NEVER be RESTfull. 
&gt;&gt; 
&gt;&gt; How could MOVE ever be about representational state transfer?
&gt;
&gt; The same applies to DELETE, OPTIONS or TRACE, right?

TRACE maybe. But how many applications do you know involving TRACE?

AFAIK DELETE has well known REST semantics.

Whereas MOVE is an atomic back end operation.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5889<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-04-12 09:43:58<br>
Subject:Re: [rest-discuss] Superfluous WebDAV methods<br>
Message:<br><br>
<pre>Elias Sinderson wrote:

&gt; Where is the WebDAV FAQ when you need it?  ;-)
&gt; 
&gt; Using GET+PUT does not work to emulate MOVE because:
&gt; * it is not atomic
&gt; * you lose metadata associated with the file in the process
&gt; 

The atomicity is an interesting point, though I'm not sure how important 
it is. However I don't buy the metadata argument. What at's the end of 
the URI is a resource, not a file. Resources are known only be their 
representations. If those representations are stored in a file system, 
fine; but they may be stored other ways.

The client operating through PUT or DELETE or MOVE has no reason to know 
or care about any metadata that never appears in the representation. If 
the metadata is somehow visible then it needs to be encoded in the 
method body or HTTP headers that the client PUTs to the server. 
Otherwise it's irrelevant like any other form of server state.

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5890<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-12 10:25:06<br>
Subject:Re: [rest-discuss] Superfluous WebDAV methods<br>
Message:<br><br>
<pre>Elliotte Harold &lt;elharo@...&gt; writes:

&gt; Elias Sinderson wrote:
&gt;
&gt;&gt; Where is the WebDAV FAQ when you need it?  ;-)
&gt;&gt; 
&gt;&gt; Using GET+PUT does not work to emulate MOVE because:
&gt;&gt; * it is not atomic
&gt;&gt; * you lose metadata associated with the file in the process
&gt;&gt; 
&gt;
&gt; The atomicity is an interesting point, though I'm not sure how important 
&gt; it is. However I don't buy the metadata argument. What at's the end of 
&gt; the URI is a resource, not a file. Resources are known only be their 
&gt; representations. If those representations are stored in a file system, 
&gt; fine; but they may be stored other ways.
&gt;
&gt; The client operating through PUT or DELETE or MOVE has no reason to know 
&gt; or care about any metadata that never appears in the representation. If 
&gt; the metadata is somehow visible then it needs to be encoded in the 
&gt; method body or HTTP headers that the client PUTs to the server. 
&gt; Otherwise it's irrelevant like any other form of server state.

Absolutely.

I'd also like to point out that REST is an API (mainly) to be
implemented.

So MOVE's atomicity would rely on developers implementing it
correctly.

Since we see lot's of invalid implementation of HTTP verbs (GETs that
are not idempotent for example) it's safe to assume that hardly
anybody will be able to implement an atomic MOVE.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5891<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-12 10:34:48<br>
Subject:Re: [rest-discuss] WebDAV = REST?<br>
Message:<br><br>
<pre>Julian Reschke &lt;julian.reschke@...&gt; writes:

&gt; Nic wrote:
&gt;&gt; Julian Reschke &lt;julian.reschke@...&gt; writes:
&gt;&gt; 
&gt;&gt;&gt; Nic wrote:
&gt;&gt;&gt;&gt; Elias Sinderson &lt;elias@...&gt; writes:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; It is unclear to me why someone would advocate the use of DELETE (over 
&gt;&gt;&gt;&gt;&gt; POST as DELETE) but caution against the use of MOVE 
&gt;&gt;&gt;&gt; Because DELETE is supported by nearlly *all* the available HTTP
&gt;&gt;&gt;&gt; clients and MOVE is not. It is nonsensical to argue that a WEBDAV
&gt;&gt;&gt;&gt; based web service would be as widely available as an RFC2616 service.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; It's easy for a client to use DELETE. It's not easy for a client to
&gt;&gt;&gt;&gt; use MOVE.
&gt;&gt;&gt;&gt; ...
&gt;&gt;&gt;
&gt;&gt;&gt; Interesting. Could you elaborate a bit? Which client or framework does 
&gt;&gt;&gt; allow you to use DELETE, but not MOVE?
&gt;&gt; 
&gt;&gt; AJAX.
&gt;
&gt; Works quite nice, at least in IE and Firefox.
&gt;
&gt;&gt; python's urllib
&gt;
&gt; Dunno.
&gt;
&gt;&gt; Java's URL/URLConnection
&gt;
&gt; That does DELETE, but not MOVE????

And proxies? And other intermediaries? And so on and so on....

I'm not saying that DELETE is widespread... but it's more widespread
than WEBDAV.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5892<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2006-04-12 11:14:05<br>
Subject:Re: [rest-discuss] Superfluous WebDAV methods<br>
Message:<br><br>
<pre>Nic wrote:
&gt; Absolutely.
&gt; 
&gt; I'd also like to point out that REST is an API (mainly) to be
&gt; implemented.
&gt; 
&gt; So MOVE's atomicity would rely on developers implementing it
&gt; correctly.

That's true, but I'm not sure how this statement is relevant here.

&gt; Since we see lot's of invalid implementation of HTTP verbs (GETs that
&gt; are not idempotent for example) it's safe to assume that hardly
&gt; anybody will be able to implement an atomic MOVE.
&gt; 
&gt; 
&gt; Nic

Well, both Apache httpd (through moddav) and IIS do implement WebDAV 
MOVE, and as far as I can tell, there are no known issues with it. I 
wouldn't call that "hardly anybody".

Note that MOVE is atomic in that if it succeeds, the source URI 
shouldn't be mapped anymore. However, there is no inherent guarantee 
that applying MOVE to a collection will be able to move all children.

Finally, if for some reason a server fails during a MOVE operation in a 
way that it can't undo parts of the actions, it will signal a 5xx status 
code.

Best regards, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5893<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-12 10:42:25<br>
Subject:Re: [rest-discuss] Digest Authentication with Cookie Auth<br>
Message:<br><br>
<pre>Adam Ratcliffe &lt;adam@...&gt; writes:

&gt; Hi
&gt;
&gt; I'd like to use an HTML form as the authentication interface for HTTP  
&gt; digest authentication.  My initial approach was to use XHR for HTTP  
&gt; auth but I've encountered a couple of limitations doing it that way:
&gt;
&gt; - If the user provides incorrect login credentials XHR provides no  
&gt; means to handle the authentication failure and they're presented with  
&gt; the browser's auth dialog
&gt; - Can't logout once authenticated (a problem for users of public  
&gt; computers such as internet cafes)
&gt;
&gt; There's been a few references to using cookies with digest  
&gt; authentication on the list recently, I'm wondering if somebody could  
&gt; explain to me how to actually implement this for a web application.

You can do it... I'm going to have an article published on onlamp.com
(that sounds clumsy doesn't it?) about how to do it.

But if you do it you have to reimplement the authentication
stack... ie: you have to throw away the existing basic authentication
handlers.


Nic Ferrier

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5894<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2006-04-12 11:18:30<br>
Subject:Re: [rest-discuss] WebDAV = REST?<br>
Message:<br><br>
<pre>Nic wrote:
&gt; And proxies? And other intermediaries? And so on and so on....

I'm not sure what your point is. So now you're saying that there are 
intermediaries that do not support methods not in RFC2616. That may be 
true, and it certainly was a few years ago.

It seems that you're ignoring the fact that WebDAV indeed *is* widely 
deployed, and people are happily using it (Hotmail, OWA, Apple iDisk, MS 
Webfolders, ...). So yes, there may be deployment problems because of 
the new verbs, but as far as I can tell, they aren't significant as of 2006.

&gt; ...

Best regards, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5895<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2006-04-12 11:24:59<br>
Subject:Re: [rest-discuss] Superfluous WebDAV methods<br>
Message:<br><br>
<pre>Elliotte Harold wrote:
&gt; Elias Sinderson wrote:
&gt; 
&gt;&gt; Where is the WebDAV FAQ when you need it?  ;-)
&gt;&gt;
&gt;&gt; Using GET+PUT does not work to emulate MOVE because:
&gt;&gt; * it is not atomic
&gt;&gt; * you lose metadata associated with the file in the process
&gt;&gt;
&gt; 
&gt; The atomicity is an interesting point, though I'm not sure how important 
&gt; it is. However I don't buy the metadata argument. What at's the end of 
&gt; the URI is a resource, not a file. Resources are known only be their 
&gt; representations. If those representations are stored in a file system, 
&gt; fine; but they may be stored other ways.

Well, that's not true for WebDAV. WebDAV supports meta data (properties) 
on HTTP resources, and *usually* this data is not part of the 
representation.

&gt; The client operating through PUT or DELETE or MOVE has no reason to know 
&gt; or care about any metadata that never appears in the representation. If 
&gt; the metadata is somehow visible then it needs to be encoded in the 
&gt; method body or HTTP headers that the client PUTs to the server. 
&gt; Otherwise it's irrelevant like any other form of server state.

I really have trouble following this line of argument.

People *are* organizing resources in hierarchies, and they *do* assign 
meta data (properties) to these resources. That use case surely does not 
apply to each and every web resource, but it does exist, and WebDAV 
makes it possible to do it through HTTP.


Best regards, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5896<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-12 11:42:25<br>
Subject:Re: [rest-discuss] Superfluous WebDAV methods<br>
Message:<br><br>
<pre>Julian Reschke &lt;julian.reschke@...&gt; writes:

&gt; People *are* organizing resources in hierarchies, and they *do* assign 
&gt; meta data (properties) to these resources. That use case surely does not 
&gt; apply to each and every web resource, but it does exist, and WebDAV 
&gt; makes it possible to do it through HTTP.

Surely it's possible with HTTP as well?

X-headers or resources which describe other resources.

This is one of the fundamentals of REST as web architecture isn't it?



Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5897<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-12 11:39:08<br>
Subject:Re: [rest-discuss] Superfluous WebDAV methods<br>
Message:<br><br>
<pre>Julian Reschke &lt;julian.reschke@...&gt; writes:

&gt; Well, both Apache httpd (through moddav) and IIS do implement WebDAV 
&gt; MOVE, and as far as I can tell, there are no known issues with it. I 
&gt; wouldn't call that "hardly anybody".

But the point of REST is developers implementing it for their
applications... not app server developers providing it.

These are the same people who write little SOAP backends and so
forth... NOT experienced hackers who write webservers.


&gt; Note that MOVE is atomic in that if it succeeds, the source URI 
&gt; shouldn't be mapped anymore. However, there is no inherent guarantee 
&gt; that applying MOVE to a collection will be able to move all children.
&gt;
&gt; Finally, if for some reason a server fails during a MOVE operation in a 
&gt; way that it can't undo parts of the actions, it will signal a 5xx status 
&gt; code.

Yes. I understand that. But I know a lot of developers who write
webservices but who don't know what "atomic" means.

They're not bad... they just don't know that.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5898<br>
Sender:"inter2000_2000" &lt;inter2000_2000@...&gt;<br>
Post Date/Time:2006-04-12 05:48:27<br>
Subject:Hello Guys I have some question for REST<br>
Message:<br><br>
<pre>I study REST so i check some sites by internet.

But i counldn't understand about How can i make(or set) URI
and How i can i make(POST, PUT, DELETE, GET)

It is very difficult for me.
eventhought REST have specific elements of XML, when client call and 
recieve XML format of DATA.

How can i know and learn???

Please give me a favour eventhought is is small clue~~

Thanks~~ 









</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5899<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-04-12 12:21:48<br>
Subject:Re: [rest-discuss] Superfluous WebDAV methods<br>
Message:<br><br>
<pre>Julian Reschke wrote:

&gt; Well, that's not true for WebDAV. WebDAV supports meta data (properties) 
&gt; on HTTP resources, and *usually* this data is not part of the 
&gt; representation.

That's correct, which is one big reason WebDAV is not RESTful.

&gt; People *are* organizing resources in hierarchies, and they *do* assign 
&gt; meta data (properties) to these resources. That use case surely does not 
&gt; apply to each and every web resource, but it does exist, and WebDAV 
&gt; makes it possible to do it through HTTP.

All that the client sees are URIs. All the client knows are the 
representations returned by the URIs. It is possible to provide metadata 
about the resources identified by these URIs. One way to do that is by 
RDF. (There are many others.) These metadata resources themselves have 
URIs. This can all be handled through POST, PUT, DELETE, and GET. new 
verbs like WebDAV's are not necessary to support metadata.

Why do I believe new verbs are unnecessary for this use case? Because I 
don't believe in metadata. More specifically, I don't believe in the 
distinction between data and metadata. What's your metadata may be my 
data and vice versa. Furthermore what's my metadata today may be my data 
tomorrow and vice versa. Sometimes I may wish to treat the same resource 
as data, sometimes as metadata. But if it's all just data why can't I 
just use my data handling methods (PUT, POST, GET, and DELETE) to handle 
it? Why do I need to a different verb to manipulate the data depending 
on whether I happen to be treating it as data or metadata this time? The 
server doesn't care what I'm going to do with the data after all.

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5900<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2006-04-12 11:57:36<br>
Subject:Re: [rest-discuss] Superfluous WebDAV methods<br>
Message:<br><br>
<pre>Nic wrote:
&gt; Julian Reschke &lt;julian.reschke@...&gt; writes:
&gt; 
&gt;&gt; People *are* organizing resources in hierarchies, and they *do* assign 
&gt;&gt; meta data (properties) to these resources. That use case surely does not 
&gt;&gt; apply to each and every web resource, but it does exist, and WebDAV 
&gt;&gt; makes it possible to do it through HTTP.
&gt; 
&gt; Surely it's possible with HTTP as well?
&gt; 
&gt; X-headers or resources which describe other resources.
&gt; 
&gt; This is one of the fundamentals of REST as web architecture isn't it?

It could be done and it is certainly done in many cases. I'm just not 
aware of any specification that is widely implemented, and that would 
allow implementing it in a generic client, such as the
MacOSX or Windows WebDAV clients.

So what I'm really looking for is that people stop complaining about how 
WebDAV works, and instead make a *concrete* proposal for a different 
design, that could be objectively tested and compared with what WebDAV 
does today.

Best regards, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5901<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-12 12:24:32<br>
Subject:Re: [rest-discuss] Superfluous WebDAV methods<br>
Message:<br><br>
<pre>Julian Reschke &lt;julian.reschke@...&gt; writes:

&gt; Nic wrote:
&gt;&gt; Julian Reschke &lt;julian.reschke@...&gt; writes:
&gt;&gt; 
&gt;&gt;&gt; People *are* organizing resources in hierarchies, and they *do* assign 
&gt;&gt;&gt; meta data (properties) to these resources. That use case surely does not 
&gt;&gt;&gt; apply to each and every web resource, but it does exist, and WebDAV 
&gt;&gt;&gt; makes it possible to do it through HTTP.
&gt;&gt; 
&gt;&gt; Surely it's possible with HTTP as well?
&gt;&gt; 
&gt;&gt; X-headers or resources which describe other resources.
&gt;&gt; 
&gt;&gt; This is one of the fundamentals of REST as web architecture isn't it?
&gt;
&gt; It could be done and it is certainly done in many cases. I'm just not 
&gt; aware of any specification that is widely implemented, and that would 
&gt; allow implementing it in a generic client, such as the
&gt; MacOSX or Windows WebDAV clients.
&gt;
&gt; So what I'm really looking for is that people stop complaining about how 
&gt; WebDAV works, and instead make a *concrete* proposal for a different 
&gt; design, that could be objectively tested and compared with what WebDAV 
&gt; does today.

But we don't NEED it.

I'm not complaining from the point of view of "I need this... but I
don't want to use WEBDAV because blah blah blah"

I don't want people to complicate REST with WEBDAV because WEBDAV
isn't needed.



Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5902<br>
Sender:Adam Ratcliffe &lt;adam@...&gt;<br>
Post Date/Time:2006-04-12 11:35:02<br>
Subject:Re: [rest-discuss] Digest Authentication with Cookie Auth<br>
Message:<br><br>
<pre>Hi Nic

Thanks for your reply.  I need to implement something now so the  
onlamp article may not be soon enough.

Would I need to do something like create the digest value myself in  
the browser, store this value in a cookie, and explicitly set the  
authorization header for each outgoing request?

Does this only work with XHR where request headers can be set by  
javascript? or is there a more general mechanism available.

Cheers
Adam

On 12 Apr, 2006, at 10:42 PM, Nic wrote:

&gt; Adam Ratcliffe &lt;adam@...&gt; writes:
&gt;
&gt;&gt; Hi
&gt;&gt;
&gt;&gt; I'd like to use an HTML form as the authentication interface for HTTP
&gt;&gt; digest authentication.  My initial approach was to use XHR for HTTP
&gt;&gt; auth but I've encountered a couple of limitations doing it that way:
&gt;&gt;
&gt;&gt; - If the user provides incorrect login credentials XHR provides no
&gt;&gt; means to handle the authentication failure and they're presented with
&gt;&gt; the browser's auth dialog
&gt;&gt; - Can't logout once authenticated (a problem for users of public
&gt;&gt; computers such as internet cafes)
&gt;&gt;
&gt;&gt; There's been a few references to using cookies with digest
&gt;&gt; authentication on the list recently, I'm wondering if somebody could
&gt;&gt; explain to me how to actually implement this for a web application.
&gt;
&gt; You can do it... I'm going to have an article published on onlamp.com
&gt; (that sounds clumsy doesn't it?) about how to do it.
&gt;
&gt; But if you do it you have to reimplement the authentication
&gt; stack... ie: you have to throw away the existing basic authentication
&gt; handlers.
&gt;
&gt;
&gt; Nic Ferrier
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5903<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-12 12:56:49<br>
Subject:Re: [rest-discuss] Hello Guys I have some question for REST<br>
Message:<br><br>
<pre>"inter2000_2000" &lt;inter2000_2000@...&gt; writes:

&gt; I study REST so i check some sites by internet.
&gt;
&gt; But i counldn't understand about How can i make(or set) URI
&gt; and How i can i make(POST, PUT, DELETE, GET)
&gt;
&gt; It is very difficult for me.
&gt; eventhought REST have specific elements of XML, when client call and 
&gt; recieve XML format of DATA.
&gt;
&gt; How can i know and learn???

Here's a practical tutorial:

  http://www.onlamp.com/pub/a/python/2006/02/23/using-rest-with-ajax.html

You obviously didn't look that far because that tutorial was mentioned
on the archives of this list only a short time ago.


Nic Ferrier


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5904<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2006-04-12 12:35:36<br>
Subject:Re: [rest-discuss] Superfluous WebDAV methods<br>
Message:<br><br>
<pre>Elliotte Harold wrote:
&gt; Julian Reschke wrote:
&gt; 
&gt;&gt; Well, that's not true for WebDAV. WebDAV supports meta data 
&gt;&gt; (properties) on HTTP resources, and *usually* this data is not part of 
&gt;&gt; the representation.
&gt; 
&gt; That's correct, which is one big reason WebDAV is not RESTful.
&gt; 
&gt;&gt; People *are* organizing resources in hierarchies, and they *do* assign 
&gt;&gt; meta data (properties) to these resources. That use case surely does 
&gt;&gt; not apply to each and every web resource, but it does exist, and 
&gt;&gt; WebDAV makes it possible to do it through HTTP.
&gt; 
&gt; All that the client sees are URIs. All the client knows are the 
&gt; representations returned by the URIs. It is possible to provide metadata 
&gt; about the resources identified by these URIs. One way to do that is by 
&gt; RDF. (There are many others.) These metadata resources themselves have 
&gt; URIs. This can all be handled through POST, PUT, DELETE, and GET. new 
&gt; verbs like WebDAV's are not necessary to support metadata.
&gt; 
&gt; Why do I believe new verbs are unnecessary for this use case? Because I 
&gt; don't believe in metadata. More specifically, I don't believe in the 
&gt; distinction between data and metadata. What's your metadata may be my 
&gt; data and vice versa. Furthermore what's my metadata today may be my data 
&gt; tomorrow and vice versa. Sometimes I may wish to treat the same resource 
&gt; as data, sometimes as metadata. But if it's all just data why can't I 
&gt; just use my data handling methods (PUT, POST, GET, and DELETE) to handle 
&gt; it? Why do I need to a different verb to manipulate the data depending 
&gt; on whether I happen to be treating it as data or metadata this time? The 
&gt; server doesn't care what I'm going to do with the data after all.

Elliotte,

thanks for the clarifications. As a matter of fact, I do agree with most 
  of what you said.

But, as far as I can tell, there are also lots of disadvantages in a 
system that *only* builds on the relations between resources. For instance:

- Granularity: will every property be it's own resource?
If it is, how do I change a set of properties in a single operation?

- Discovery: given the URL of a resource, how do I discover other 
resources that provide data/metadata about this resource?

- Performance: what exactly do I need to do to find out name, content 
type, length and author of all members of a collection? In WebDAV, 
that's one single request.


Best regards, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5905<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-12 12:57:56<br>
Subject:Re: [rest-discuss] Superfluous WebDAV methods<br>
Message:<br><br>
<pre>Elliotte Harold &lt;elharo@...&gt; writes:

&gt; Why do I believe new verbs are unnecessary for this use case? Because I 
&gt; don't believe in metadata. More specifically, I don't believe in the 
&gt; distinction between data and metadata. What's your metadata may be my 
&gt; data and vice versa. 

Spot on. There are no heirarchies of data meta-ness.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5906<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-04-12 13:07:30<br>
Subject:XMLHttpRequest &amp; authentication<br>
Message:<br><br>
<pre>If you didn't know, the W3C is standardizing upon the XMLHttpRequest
object[1].  There's nothing in there about authentication yet, but for
those of you who've played with reusing XHR authentication credentials
in non-XHR exchanges and are aware of the interop issues, it would be
good if your knowledge could make its way into the spec.

Feel free to either comment yourself, or alternately pass those
comments on to me as I'll be joining the group shortly.

Cheers,

 [1] http://www.w3.org/TR/XMLHttpRequest

Mark.
--
Mark Baker.  Ottawa, Ontario, CANADA.       http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5907<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-04-12 13:36:13<br>
Subject:Re: [rest-discuss] Superfluous WebDAV methods<br>
Message:<br><br>
<pre>On Wed, 2006-04-12 at 13:24 +0200, Julian Reschke wrote:
&gt; &gt; The atomicity is an interesting point, though I'm not sure how important 
&gt; &gt; it is. However I don't buy the metadata argument. What at's the end of 
&gt; &gt; the URI is a resource, not a file. Resources are known only be their 
&gt; &gt; representations. If those representations are stored in a file system, 
&gt; &gt; fine; but they may be stored other ways.
&gt; Well, that's not true for WebDAV. WebDAV supports meta data (properties) 
&gt; on HTTP resources, and *usually* this data is not part of the 
&gt; representation.

Elliotte writes about the lack of any reason for us to distinguish
between data and metadata. I second that opinion. So what is the right
way to represent data about a particular resource?

HTML and to some extent HTTP support the concept of "rel" and "rev"
links. These specify relationships between the current resource and some
other resource or resources, and are typically returned from the GET of
the resource. These other resources can be substantially "about" the
resource you are currently viewing, or vice versa. That fulfils any
"meta-" requirement on data. Appropriate link types[1] can be used to
describe the relationship between the resources. Alternatively, a piece
of RDF or other data could be used to find the "metadata" for a
particular resource. The metadata itself can be returned as any
appropriate representation.

WebDAV attempts to wrap up discovery of these other resources and
mechanisms for retrieving and them deep inside the HTTP protocol. While
this may be a practial way of sidestepping the development of discovery
and representation techniques, it limits the applicability and
extensibility of the solution. It appears the authors of the
specification were not able to wait for that development to take place.
There is some justification to proceeding on the basis WebDAV did, given
that the practical application of this metadata discover on the web is
still an immature technology base at best today. Still, it is an
incomplete solution and one that should not be held too far aloft as an
example to others. It violates the Roy's principle that every resource
needs an identifier. Metadata is data, which needs a resource, which
needs an identifier. WebDAV replaces the use of an identifier with the
use of additional verbs. That's a no-no.

The fact that an alternate solution is not yet really well established
indicates two things to me:
1) A solution is not required for the 80% case. We will continue to do
fine on the web with fairly ad hoc solutions and approaches where
required.
2) The industry is still getting a handle on what this metadata stuff is
all about and what it is supposed to do, anyway. The definitions we tend
to have for it are too wide to nail down into anything useful, and
anything practially useful is not general enough to really satisfy.

The PROP* methods are an attempt to nail down the semantic web for the
distributed authoring problem domain, and obliquely for the distributed
filesystem problem domain. The real problem is simply a lot bigger than
that. The webdav solution is not applicable to the real problem, so in
the is/was only of short-term benefit.

Benjamin.
[1] http://www.w3.org/TR/REC-html40/types.html#h-6.12


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5908<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2006-04-12 13:53:54<br>
Subject:Re: [rest-discuss] Superfluous WebDAV methods<br>
Message:<br><br>
<pre>Elliotte Harold wrote:
&gt; Julian Reschke wrote:
&gt; 
&gt;&gt; But, as far as I can tell, there are also lots of disadvantages in a 
&gt;&gt; system that *only* builds on the relations between resources. For 
&gt;&gt; instance:
&gt;&gt;
&gt;&gt; - Granularity: will every property be it's own resource?
&gt; 
&gt; Define "property" and perhaps I can answer that. Some properties like 
&gt; content-length are implicit in the data and may not have independent 
&gt; representations. Others like author may be embedded inside the data in 
&gt; something like an &lt;author&gt; tag. others may be independent resources. As 
&gt; I see it there's no single list of properties, for a resource, and no 
&gt; central repository of those properties. Different people may want to use 
&gt; different properties for the same resources. These people are not 
&gt; necessarily the owners of the resources.
&gt; 
&gt; It sounds like your mental model treats the Web as just a strange sort 
&gt; of interface to a filesystem. Certainly WebDAV thinks of it that way. A 
&gt; file system has a very clear distinction between data and metadata. A 
&gt; file system very well may have a central metadata repository of some 
&gt; kind, a single place where a fixed set of attributes is stored for all 
&gt; files. But the Web is not a file system! It is much more generic and 
&gt; flexible than that.

Elliotte,

I'm aware of that. Indeed, I have to constantly remind people in the 
WebDAV working group that WebDAV is not about simulating a filesystem 
over HTTP, but for *authoring* Web resources.

(Base) WebDAV essentially handles three different aspects of authoring:

1) Containment/namespace operations (MKCOL, PROPFIND, COPY, MOVE): 
defines a containment model, a method for creating a container, and 
operations for copying, moving resources, plus look up of members.

2) Properties (PROPFIND/PROPPATCH): essentially name/value pairs per 
resource, where names are XML-namespaced, and there's no recurrence. 
Also, some HTTP headers have WebDAV property equivalents, and some 
aspects of the resource can be queried using "live" properties.

3) Serializing access (LOCK/UNLOCK/"If header"): Keeping others from 
modifying a resource (or a part of the name space) while changes are in 
progress.

These areas are almost orthogonal, except for overlap in PROPFIND (which 
does lookup and property discovery/retrieval), and the fact that locking 
(which is optional in WebDAV) uses WebDAV properties for discovery of 
locking support and actual locks. What I feel is important is that each 
of these feature sets essentially can be used separately.

Now the property model used in WebDAV makes a lot of assumptions that 
probably do not map well to a more generic world view where everybody 
can make statements about resources by publishing an RDF document 
somewhere else on the web. It's not designed to do that, but that 
doesn't mean it's useless.

&gt;&gt; If it is, how do I change a set of properties in a single operation?
&gt; 
&gt; I don't think there's a finite set of properties that you can change in 
&gt; a single operation. You can change the implicit properties such as 
&gt; content length and word count via a PUT. You can change some set of RDF 
&gt; properties by PUTing an RDF document to another URL. You may be able to 
&gt; change other properties through the right POST request. It depends on 
&gt; which properties which servers expose and how they expose them. There's 
&gt; no single answer to this question, nor does there need to be.

I guess here's where the disagreement is coming from. If I *author* web 
resources (and that's what WebDAV is about), I certainly do want to have 
a generic way to change these properties.

&gt;&gt; - Discovery: given the URL of a resource, how do I discover other 
&gt;&gt; resources that provide data/metadata about this resource?
&gt;&gt;
&gt; 
&gt; There are numerous ways this can be implemented if it's important. I 
&gt; suspect almost all of them involve getting documents, probably RDF or 
&gt; XML documents, from known or deduced URLs. e.g. 
&gt; http://www.metadatarepository.org/?query=www.example.com/foo.html. I 
&gt; don't think any Web-wide standard is necessary or useful here.
&gt; 
&gt;&gt; - Performance: what exactly do I need to do to find out name, content 
&gt;&gt; type, length and author of all members of a collection? In WebDAV, 
&gt;&gt; that's one single request.
&gt; 
&gt; Put an XML document at a URL that contains that information. Then GET 
&gt; it. No big deal. Not that you're likely to need all that at once anyway. 

How do I discover that document? What if I need one additional property, 
will there be a second document behind a second URI (query parameter?). 
How do I in general discover that URL for a given set of properties I want?

&gt;  For instance, why would you actually want to know the length of every 
&gt; resource in a collection?  The only reason I can think of is because 
&gt; you're duplicating the "ls -l" functionality of a filesystem. But 
&gt; actually the length isn't usually especially relevant. Would you not 
&gt; open a file you want if it's two megabytes long instead of one? We've 
&gt; learned to expect it because file systems provide it, but it's hardly 
&gt; the most important metadata. In fact, it's probably one of the least 
&gt; important.

Length may be a bad example, but there are lots of things that people 
want to see in a list of resources, and it's not always the same set of 
things. For instance, consider the set of information an HTML view of a 
CVS or SVN repository is giving you.

&gt; Free yourself from file system thinking, and see where it takes you. I 
&gt; suspect you'll be astonished at how liberating that is. There's no 
&gt; reason in 2006 for users to be limited by the logical structures used to 
&gt; store bits on spinning metal discs.

Best regards, Julian



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5909<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-04-12 13:21:50<br>
Subject:Re: [rest-discuss] Superfluous WebDAV methods<br>
Message:<br><br>
<pre>Julian Reschke wrote:

&gt; But, as far as I can tell, there are also lots of disadvantages in a 
&gt; system that *only* builds on the relations between resources. For instance:
&gt; 
&gt; - Granularity: will every property be it's own resource?

Define "property" and perhaps I can answer that. Some properties like 
content-length are implicit in the data and may not have independent 
representations. Others like author may be embedded inside the data in 
something like an &lt;author&gt; tag. others may be independent resources. As 
I see it there's no single list of properties, for a resource, and no 
central repository of those properties. Different people may want to use 
different properties for the same resources. These people are not 
necessarily the owners of the resources.

It sounds like your mental model treats the Web as just a strange sort 
of interface to a filesystem. Certainly WebDAV thinks of it that way. A 
file system has a very clear distinction between data and metadata. A 
file system very well may have a central metadata repository of some 
kind, a single place where a fixed set of attributes is stored for all 
files. But the Web is not a file system! It is much more generic and 
flexible than that.


&gt; If it is, how do I change a set of properties in a single operation?

I don't think there's a finite set of properties that you can change in 
a single operation. You can change the implicit properties such as 
content length and word count via a PUT. You can change some set of RDF 
properties by PUTing an RDF document to another URL. You may be able to 
change other properties through the right POST request. It depends on 
which properties which servers expose and how they expose them. There's 
no single answer to this question, nor does there need to be.

&gt; - Discovery: given the URL of a resource, how do I discover other 
&gt; resources that provide data/metadata about this resource?
&gt; 

There are numerous ways this can be implemented if it's important. I 
suspect almost all of them involve getting documents, probably RDF or 
XML documents, from known or deduced URLs. e.g. 
http://www.metadatarepository.org/?query=www.example.com/foo.html. I 
don't think any Web-wide standard is necessary or useful here.

&gt; - Performance: what exactly do I need to do to find out name, content 
&gt; type, length and author of all members of a collection? In WebDAV, 
&gt; that's one single request.

Put an XML document at a URL that contains that information. Then GET 
it. No big deal. Not that you're likely to need all that at once anyway. 
  For instance, why would you actually want to know the length of every 
resource in a collection?  The only reason I can think of is because 
you're duplicating the "ls -l" functionality of a filesystem. But 
actually the length isn't usually especially relevant. Would you not 
open a file you want if it's two megabytes long instead of one? We've 
learned to expect it because file systems provide it, but it's hardly 
the most important metadata. In fact, it's probably one of the least 
important.

Free yourself from file system thinking, and see where it takes you. I 
suspect you'll be astonished at how liberating that is. There's no 
reason in 2006 for users to be limited by the logical structures used to 
store bits on spinning metal discs.

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5910<br>
Sender:"Joe Gregorio" &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2006-04-12 13:31:25<br>
Subject:Re: [rest-discuss] Superfluous WebDAV methods<br>
Message:<br><br>
<pre>On 4/12/06, Julian Reschke &lt;julian.reschke@...&gt; wrote:
&gt; Elliotte,
&gt;
&gt; thanks for the clarifications. As a matter of fact, I do agree with most
&gt;   of what you said.
&gt;
&gt; But, as far as I can tell, there are also lots of disadvantages in a
&gt; system that *only* builds on the relations between resources. For instance:
&gt;

I can't answer for every RESTful system (obviously), but I can state
what that Atom Publishing Protocol does today.

&gt; - Granularity: will every property be it's own resource?

No, properties are stored in the form of an Atom entry.

&gt; If it is, how do I change a set of properties in a single operation?

You PUT an Atom entry (a single operation).

&gt; - Discovery: given the URL of a resource, how do I discover other
&gt; resources that provide data/metadata about this resource?

For things that aren't Atom entries, you do that via the Link: header,
though at this point this isn't in the spec but it is being discussed.

&gt; - Performance: what exactly do I need to do to find out name, content
&gt; type, length and author of all members of a collection? In WebDAV,
&gt; that's one single request.

For large collections that single request could overwhelm a client, the APP
uses a chained set of Atom Feeds to return all that information, with each
feed containing some subset of collection members and also containing
a link element with the URI of the 'next' feed in the chain.

   -joe

--
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5911<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2006-04-12 14:23:04<br>
Subject:Re: [rest-discuss] Superfluous WebDAV methods<br>
Message:<br><br>
<pre>Benjamin,

thanks for that summary with which a largely agree. A few comments inline:


 &gt; ...
&gt; HTML and to some extent HTTP support the concept of "rel" and "rev"
&gt; links. These specify relationships between the current resource and some
&gt; other resource or resources, and are typically returned from the GET of
&gt; the resource. These other resources can be substantially "about" the
&gt; resource you are currently viewing, or vice versa. That fulfils any
&gt; "meta-" requirement on data. Appropriate link types[1] can be used to
&gt; describe the relationship between the resources. Alternatively, a piece
&gt; of RDF or other data could be used to find the "metadata" for a
&gt; particular resource. The metadata itself can be returned as any
&gt; appropriate representation.
&gt; ...

Using Link headers (such as in HEAD/GET) looks promising, but it doesn't 
  scale well. If a server needs to return Link headers for each piece of 
meta data it has, the set of response headers would quickly grow. 
Furthermore, there's a potential performance problem because it may be 
expensive to compute whether a certain property exists -- note that 
we're talking about GET, an operation you certainly want to optimize.

So I really have my doubts about any approach where the client can't 
specify which properties it is interested in...

&gt; WebDAV attempts to wrap up discovery of these other resources and
&gt; mechanisms for retrieving and them deep inside the HTTP protocol. While
&gt; this may be a practial way of sidestepping the development of discovery
&gt; and representation techniques, it limits the applicability and
&gt; extensibility of the solution. It appears the authors of the
&gt; specification were not able to wait for that development to take place.
&gt; There is some justification to proceeding on the basis WebDAV did, given
&gt; that the practical application of this metadata discover on the web is
&gt; still an immature technology base at best today. Still, it is an
&gt; incomplete solution and one that should not be held too far aloft as an
&gt; example to others. It violates the Roy's principle that every resource
&gt; needs an identifier. Metadata is data, which needs a resource, which
&gt; needs an identifier. WebDAV replaces the use of an identifier with the
&gt; use of additional verbs. That's a no-no.
&gt; ...

...as a matter of fact, that one is particularly easy to fix. There's 
nothing that prevents WebDAV properties from having URIs, and to be 
accessible through GET/PUT/DELETE.

There are at least two simple approaches that come to mind immediately:

1) In a PROPFIND response, let the server return a Content-Location 
header specifiying a URI where the same information get be retrieved 
from using GET, such as in:

C: PROPFIND /xyz HTTP/1.1
    Host: example.com
    Depth: 0
    Content-Type: application/xml

    &lt;propfind xmlns="DAV:"&gt;&lt;prop&gt;&lt;owner/&gt;&lt;/prop&gt;&lt;/propfind&gt;

S: 207 Multistatus
    Content-Type: application/xml
    Content-Location: http://example.com/xyz;owner

    ...


The beauty of this is that a server could assign URIs to certain set of 
frequently queried property set and have that cached. Of course that 
would need some more thought to ensure this works well with PUT....

Or alternatively,

2) In the response, let the server specify alternate URLs for each 
property that may have a separate URI, such as in...:

&lt;D:prop xmlns:D="DAV:"&gt;
   &lt;D:comment D:content-location="..."&gt;julian&lt;/D:comment&gt;
&lt;/D:prop&gt;


So, the problem of the properties (or some properties) not being 
first-class web citizens could be simply solved. The presence of 
PROPFIND and PROPPATCH do not prevent that.

&gt; ...

Best regards, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5912<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-12 14:16:19<br>
Subject:Re: [rest-discuss] Superfluous WebDAV methods<br>
Message:<br><br>
<pre>Benjamin Carlyle &lt;benjamincarlyle@...&gt; writes:

&gt; WebDAV attempts to wrap up discovery of these other resources and
&gt; mechanisms for retrieving and them deep inside the HTTP protocol. While
&gt; this may be a practial way of sidestepping the development of discovery
&gt; and representation techniques, it limits the applicability and
&gt; extensibility of the solution. It appears the authors of the
&gt; specification were not able to wait for that development to take place.
&gt; There is some justification to proceeding on the basis WebDAV did, given
&gt; that the practical application of this metadata discover on the web is
&gt; still an immature technology base at best today. Still, it is an
&gt; incomplete solution and one that should not be held too far aloft as an
&gt; example to others. It violates the Roy's principle that every resource
&gt; needs an identifier. Metadata is data, which needs a resource, which
&gt; needs an identifier. WebDAV replaces the use of an identifier with the
&gt; use of additional verbs. That's a no-no.

Yes.


&gt; The fact that an alternate solution is not yet really well established
&gt; indicates two things to me:
&gt; 1) A solution is not required for the 80% case. We will continue to do
&gt; fine on the web with fairly ad hoc solutions and approaches where
&gt; required.
&gt; 2) The industry is still getting a handle on what this metadata stuff is
&gt; all about and what it is supposed to do, anyway. The definitions we tend
&gt; to have for it are too wide to nail down into anything useful, and
&gt; anything practially useful is not general enough to really satisfy.

If I needed lots of "meta data" about resources for a REST based
webservice I'd make an RDF view of the resource and either make that a
representation of the resource to be accessed through content neg or
use a header to indicate the location of the "meta data" resource.

If I need a small amount of "meta data" I just put it in an extension
header.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5913<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2006-04-12 16:49:32<br>
Subject:Re: [rest-discuss] Superfluous WebDAV methods<br>
Message:<br><br>
<pre>Hi Joe,

On Apr 12, 2006, at 6:31 AM, Joe Gregorio wrote:
&gt; &gt; - Granularity: will every property be it's own resource?
&gt;
&gt; No, properties are stored in the form of an Atom entry.

Could you elaborate (sorry, I'm an Atom newbie)? Are there specific  
tags for pre-defined properties, or is there a generic mechanism for  
user-defined properties?

&gt; &gt; - Discovery: given the URL of a resource, how do I discover other
&gt; &gt; resources that provide data/metadata about this resource?
&gt;
&gt; For things that aren't Atom entries, you do that via the Link: header,
&gt; though at this point this isn't in the spec but it is being discussed.

I'm curious -- why is Atom using the "Link:" header rather than &lt;link  
"rel"&gt;?

-- Ernie P.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5914<br>
Sender:"Joe Gregorio" &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2006-04-12 17:13:29<br>
Subject:Re: [rest-discuss] Superfluous WebDAV methods<br>
Message:<br><br>
<pre>On 4/12/06, Dr. Ernie Prabhakar &lt;drernie@...&gt; wrote:
&gt; Hi Joe,
&gt;
&gt; On Apr 12, 2006, at 6:31 AM, Joe Gregorio wrote:
&gt; &gt; &gt; - Granularity: will every property be it's own resource?
&gt; &gt;
&gt; &gt; No, properties are stored in the form of an Atom entry.
&gt;
&gt; Could you elaborate (sorry, I'm an Atom newbie)? Are there specific
&gt; tags for pre-defined properties, or is there a generic mechanism for
&gt; user-defined properties?

atom:published
atom:title
atom:summary
atom:updated

And yes, Atom allows namespaced extensions, 'Foreign Markup'.


&gt; &gt; &gt; - Discovery: given the URL of a resource, how do I discover other
&gt; &gt; &gt; resources that provide data/metadata about this resource?
&gt; &gt;
&gt; &gt; For things that aren't Atom entries, you do that via the Link: header,
&gt; &gt; though at this point this isn't in the spec but it is being discussed.
&gt;
&gt; I'm curious -- why is Atom using the "Link:" header rather than &lt;link
&gt; "rel"&gt;?


This Pace gives a good overview of uses for both the link
header and link elements. There are cases that require
that both be used:

  http://www.intertwingly.net/wiki/pie/PaceUseLinkHeaders2

  -joe

--
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5915<br>
Sender:Jerome Louvel &lt;contact@...&gt;<br>
Post Date/Time:2006-04-12 18:33:22<br>
Subject:Re: Superfluous WebDAV methods<br>
Message:<br><br>
<pre>Elias Sinderson wrote:
&gt; The atomicity is an interesting point, though I'm not sure how important 
&gt; it is. However I don't buy the metadata argument. What at's the end of 
&gt; the URI is a resource, not a file. Resources are known only be their 
&gt; representations. If those representations are stored in a file system, 
&gt; fine; but they may be stored other ways.

To me, resources are abstractions/concepts that can be referenced using
an identifier. They can't be reduced to a representation.

&gt; The client operating through PUT or DELETE or MOVE has no reason to know 
&gt; or care about any metadata that never appears in the representation. If 
&gt; the metadata is somehow visible then it needs to be encoded in the 
&gt; method body or HTTP headers that the client PUTs to the server. 
&gt; Otherwise it's irrelevant like any other form of server state.

If you think about how the same resource can expose different
representations based on client preferences (via content negotiation),
you can conclude that a MOVE operation is superior to GET+PUT+DELETE.

-- 
Jerome Louvel
http://www.restlet.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5916<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-04-12 19:47:22<br>
Subject:Re: [rest-discuss] Request Header vs. Query String<br>
Message:<br><br>
<pre>On Apr 11, 2006, at 10:32 PM, Sandeep Shetty wrote:
&gt; On 4/11/06, Roy T. Fielding &lt;fielding@...&gt; wrote:
&gt;&gt; Whoa, I think this is a case of reading too much into my  
&gt;&gt; dissertation.
&gt;&gt; The sites that I produce *always* separate languages into separate
&gt;&gt; URI trees.
&gt;
&gt; Are you saying that this is the right way to do it or are you saying
&gt; that we need to do it this way because we dont have much of an option
&gt; given the current infrastructure?

I am saying that server-driven negotiation doesn't work very well
because different language editions are different resources and
deserve their own URIs.  It results in the problems that were already
described and quoted by Bill.

Agent-driven negotiation is far more effective, but there was a huge
disagreement between myself and the chair of the HTTP working group
and my original agent-driven design for HTTP/1.1 was effectively
buried in committee.

To do negotiation right, the client needs to be aware of all the
alternatives *and* what it should use as a bookmark.  In HTTP/1.1,
all we managed to standardize is 300 and Vary.  We needed Alternates
and Link to make it work.

&gt;&gt; the fact is that different languages do not produce equivalents.
&gt;&gt; There are hundreds of nuances, colloquialisms, and shared social
&gt;&gt; norms that simply do not translate.  We encourage resource owners
&gt;&gt; to only use true content negotiation (without redirects) when the
&gt;&gt; only difference between formats is mechanical in nature.
&gt;
&gt; Are you saying that true content negotiation should only be done for
&gt; stuff like changing formats (like when you have a base XML and you
&gt; convert it into PDF, HTML, etc.) and not for languages?

I am saying that all important resources must have URIs.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5917<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-04-12 19:51:34<br>
Subject:Re: [rest-discuss] Request Header vs. Query String<br>
Message:<br><br>
<pre>On Apr 11, 2006, at 11:20 PM, Bill Venners wrote:

&gt; My one uncertainty is on the
&gt; utility of entry points that only redirect, because I'm not sure how
&gt; many people will ever go there. Since everyone who goes there gets
&gt; redirected elsewhere, they will probably link to one of the target
&gt; pages, not the entry point.

That's why there exists a link relation called bookmark.
Too bad nobody implemented it.

&gt; So far I've been thinking of having a
&gt; default form of the content at what you might otherwise use as the
&gt; entry point, and then include on that page a menu of links to the
&gt; other forms.

Note that blogs also use "permalink" links to tell the user
which link should be used for bookmarks or external links.

....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5918<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-04-12 20:10:10<br>
Subject:Re: [rest-discuss] Request Header vs. Query String<br>
Message:<br><br>
<pre>On 4/12/06, Roy T. Fielding &lt;fielding@...&gt; wrote:
&gt; Agent-driven negotiation is far more effective, but there was a huge
&gt; disagreement between myself and the chair of the HTTP working group
&gt; and my original agent-driven design for HTTP/1.1 was effectively
&gt; buried in committee.

I think Larry might have just apologized for that, indirectly at least 8-)

http://www.alvestrand.no/pipermail/ietf-types/2006-April/001707.html

Mark.
--
Mark Baker.  Ottawa, Ontario, CANADA.       http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5919<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-04-12 20:46:00<br>
Subject:Re: [rest-discuss] WebDAV = REST?<br>
Message:<br><br>
<pre>On Apr 11, 2006, at 4:15 PM, Julian Reschke wrote:

&gt; Well, in the last years I went through the archives several times, and
&gt; never found a complete proposal that would actually cover those use
&gt; cases that PROPFIND and PROPPATCH try to solve (and do solve, for that
&gt; matter). So if anybody can provide a pointer, I'd be really be  
&gt; interested.

The only thing that recursive PROPFIND is used for within actual
webdav applications is directory listings.  Those are better implemented
as a single resource that is defined by the collection itself, and
whose representation(s) are available at a distinct URI.

The most recent reference you are looking for is

   http://xent.com/pipermail/fork/2001-August/003191.html

with particular attention to the second-to-last paragraph.

Most of the other discussion was at the Xerox PARC and UCI f2f
meetings.  WebDAV made certain choices and is limited to Save As
dialogs because of them.  WebDAV discussions are hopeless because
the WebDAV specifications redefined the meaning of resource to be
the same as file, thereby failing to handle the interesting cases
of Web authoring in favor of duplicating FTP.

&gt;&gt;&gt; That seems to be a problem with the concept of moving resources
&gt;&gt;&gt; around, not with the actual definition of the MOVE method, right?
&gt;&gt;
&gt;&gt; No, it is a problem with specifying multiple arguments when both the
&gt;&gt; syntax and the access control mechanism assume there is only one.
&gt;&gt; It doesn't quite fit in the original HTTP syntax.
&gt;
&gt; That's correct. So are you suggesting that there's a way to model a  
&gt; move
&gt; operation without specifying two arguments that should have been  
&gt; used to
&gt; define a MOVE-like method?

No.  It is possible to do so by exchanging representations of the
before and after hierarchy, but I am not saying it should have been
done that way.  I was only saying that WebDAV failed to consider the
implications of how that change in method semantics impacts the rest
of the HTTP model (particularly, access control and how to express
partial failure conditions).

WebDAV is history.  The only interesting discussion is how much,
if anything, should be recovered from it when a replacement is
designed.  Almost all of WebDAV's design rationales -- so-called
performance issues -- are obsolete as soon as the message syntax
is no longer MIME.  What is the actual design rationale for locking
(hint: it isn't the lost update problem)?  What resource is it
that WebDAV clients are actually looking for when they do recursive
PROPFIND requests?  Where should namespace operations be targeted?
Those are interesting questions.

....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5920<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-04-13 02:58:30<br>
Subject:Re: [rest-discuss] XMLHttpRequest &amp; authentication<br>
Message:<br><br>
<pre>On 4/12/06, Berend de Boer &lt;berend.de.boer@...&gt; wrote:
&gt; In particular:
&gt;
&gt; 1. Popup dialog box if credentials incorrect.
&gt; 2. Remember correct username/password for this realm and domain.

Right, thanks, but I also meant how existing implementations behaved.

Mark.
--
Mark Baker.  Ottawa, Ontario, CANADA.       http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5921<br>
Sender:Jerome Louvel &lt;contact@...&gt;<br>
Post Date/Time:2006-04-13 08:04:56<br>
Subject:Re: Request Header vs. Query String<br>
Message:<br><br>
<pre>Bill Venners wrote:
&gt; People will type that in and go there, and that URL does seem to get  
&gt; indexed by search engines. Otherwise, I'm not sure that the entry URI  
&gt; approach is very useful. Has anyone had success with this other than  
&gt; on the domain home URL?

Based on my experience with the Restlet tutorial page at 
http://www.restlet.org/tutorial I initially had three versions: HTML, 
PDF and Word referenced from the home page. Each one was also 
addressable by a more specific URI, for example 
http://www.restlet.org/tutorial.pdf Content negotiation is available on 
all resources of my site, based on the files available and on their 
extensions: PDF, HTML, DOC map to the correct media type, EN and FR map 
to the correct language, etc. In addition, media type and language 
extensions can be combined.

One problem I had was that I didn't test all the links with Internet 
Explorer as I'm using Firefox... Unfortunately, IE gives a higher 
priority to Word media type than to HTML! See IE accept header: 
"image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, 
application/x-shockwave-flash, application/vnd.ms-excel, 
application/msword, application/vnd.ms-powerpoint, */*"

To me the best practice seems to be:
1) Use cool URIs (aka entry URI, aka permalink) wherever possible, 
especially for entry pages like home pages
2) When a cool URI is requested, be very careful about the pretended 
preferences of the user agent (see issue with IE) and try to return the 
best representation available, generally in HTML.
3) In the cool representation, add links in a prominent place allowing 
the user to reach alternate representations. Based on the current 
language, add links to alternate formats available in this language. 
Also add links to alternate languages for the HTML format.
4) If a user follows a more specific URI (aka target URI), then also add 
a link back to the cool URI (aka permalink).

The expected results are:
1) If cool URIs are correctly implemented, they should return a 
satisfying representation in "80%" of cases without requiring additional 
action from the user. Also, bookmarks will point to the cool URI.
2) As more specific URIs are available, users are not limited by their 
user agent preferences and can easily select the best representation for 
them, which can change depending on the context as Bill explained. Users 
can also bookmark these specific URIs.
3) Finally, in the 20% of cases where the user selected a specific URI, 
he always has the cool URI/permalink available if he wants to share the 
URI with other users.

-- 
Jerome Louvel
http://www.restlet.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5922<br>
Sender:Jerome Louvel &lt;contact@...&gt;<br>
Post Date/Time:2006-04-13 08:28:04<br>
Subject:Re: WebDAV = REST?<br>
Message:<br><br>
<pre>Roy T. Fielding wrote:
&gt; The problem with MOVE is that it is actually an operation on two
&gt; independent namespaces (the source collection and destination
&gt; collection).  The user must have permission to remove from the
&gt; source collection and add to the destination collection, which
&gt; can be a bit of a problem if they are in different authentication
&gt; realms.  COPY has a similar problem, but at least in that case
&gt; only one namespace is modified.  I don't think either of them map
&gt; very well to HTTP.
&gt; 
&gt; Tease: Any method in waka can have 0|1|2|N-arguments.

Has there been any progress on WAKA since your last presentation? 
http://gbiv.com/protocols/waka/

I think it would be great to get this protocol proposition moving 
forward so we could start experimenting all the REST ideas discussed in 
this list.

-- 
Jerome Louvel
http://www.restlet.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5923<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-13 21:35:07<br>
Subject:Avoiding re-POSTs<br>
Message:<br><br>
<pre>A common problem in Web use is this: A user fills out a form, and clicks 
a button.  This causes a POST.  The response to the POST includes 
information confirming the action.  Later, the user uses the Back 
button, and the browser says "This information was generated in response 
to a POST.  Do you want to resubmit it?"  Or worse, it just resubmits 
the request without asking.  This is going to be a problem with any 
non-idempotent request.  It is especially a problem on a public access 
station, when a new person walks up and can resubmit a request that 
someone else made, perhaps even altering it.

One solution proposed for this is the POST-REDIRECT-GET 
&lt;http://www.theserverside.com/articles/article.tss?l=RedirectAfterPost&gt; 
pattern.  The response to the POST is instead a redirect to a temporary 
URL containing the response page.  The browser then GETs this response 
page and displays it.  Due to the redirect, the original POST request is 
replaced by this GET request in the browser history.  Thus, the user can 
use the back button with impunity, and will just see the result of their 
request, with no danger of resubmitting it.

That sounds great, but it seems to clash with REST.  What was before a 
transitory response to a POST request now becomes a separate resource 
available via GET.  Will it be cached?  How long must it stay available?

My question is, what is the REST way to address the problem?

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5924<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-13 22:01:46<br>
Subject:Inverted requests<br>
Message:<br><br>
<pre>I'm sure this is a total REST violation, but is there any clean way to 
handle reverse requests in HTTP?  That is, requests from the server to 
the client?  I guess the appropriate way is to have the "server" make 
HTTP requests of the "client".  But that can't be done if the client is 
behind a firewall.

Basically, my intention is to piggyback the reverse request in a 
response to a request from the client.  Then the client would respond by 
sending a new request to the server, and so forth.  The resource URL for 
the reverse request would now have to be encoded in the body of the HTTP 
response.

Thoughts?

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5925<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-04-13 22:22:35<br>
Subject:Re: [rest-discuss] Avoiding re-POSTs<br>
Message:<br><br>
<pre>Hi Lyle,

&gt; That sounds great, but it seems to clash with REST.  What was before a
&gt; transitory response to a POST request now becomes a separate resource
&gt; available via GET.  Will it be cached?  How long must it stay  
&gt; available?
&gt;
&gt; My question is, what is the REST way to address the problem?
&gt;
That's a great question. I have pondered the double-post issue, and  
one thing I did recently was look it up in the Core J2EE patterns  
book, where I remembered seeing a pattern mentioned. They suggest  
using what they call a "deja vu token," which is a number you keep in  
the user session and add to each form as a hidden field as it goes  
out the door via GET. Each time you receive a POST for that URI, you  
increment the number. So you can recognize in this way that a POST is  
not fresh, so long as the second POST makes its way to the same  
server, or so long as the user session is replicated. This is an  
unRESTful approach because it relies on the user session.

I do believe in doing redirect to GET after POST, for the usability  
issue you described, and yet in this too most people currently use  
the session to store the state. Ruby on Rails, for example, has  
something called a "flash," which is session state that gets  
automatically cleared on the next request. If you post a form and  
validation on the server finds an error, it sticks the state in the  
flash and sends a redirect to the same URI. When that redirect GET  
request comes in, the flash is checked and the state is used to fill  
in the form with what you had entered plus an error message. This is  
also unRESTful, per my understanding of REST, because the validation  
error state is not represented via a unique URI.

What we've been considering doing in Artima's new architecture is  
using something we've taken to calling diamonds. Whereas a flash only  
lasts for one request, diamonds are forever. What I'm imagining doing  
is sticking the state in a write-behind cache, including information  
on which user the data is for. I'll get back an diamond identifier,  
which I'll include in the redirect URI as an opaque token. So if the  
POST is to:

http://lejava.artima.com/account/new

The GET redirect might be to something like (where z is the opaque  
token that identifies the diamond):

http://lejava.artima.com/account/new?z=42d152x2d5qd

Only the user who did the POST will be able to access that URI,  
because the diamond includes the user as part of its data, and we'll  
do an auth check. If they have to POST a few times in a row to  
correct all the errors, then back up, they'll actually see the  
correct state for each step of their interaction with the form,  
because each step in the conversation has its own URI.

I am thinking of using a write-behind cache to store the diamond (a  
write-behind cache is one that asynchronously persists itself to a  
backing store), because I would prefer to have the fault tolerance in  
general. If a server crashes, 99.99...% of the time I'd like the user  
to be able to continue. I expect most experienced J2EE folks would  
tell me it is dumb to put conversational state (which is what these  
diamonds are) in the database. But if you want to distribute that  
state across a cluster, and 99.99% of the time the information will  
only ever be needed on one server, I think sticking the  
conversational state asynchronously in *a* database is a reasonable  
way to try and distribute it. The other way is to make the diamond  
cache itself distributed. That might be OK, except you run into a  
scaling issue of how much memory will the diamonds be occupying. In  
the database approach, if a server crashes after a redirect to GET,  
the load balancer could send that GET to a different server, and on  
discovering that diamond is not in its local cache, could go to the  
diamond database to find it, and 99.99...% of the time it will be there.

As far as how long to keep the state, that I think depends on the  
application. Regardless of where you keep the state, if you select it  
via a unique URI rather than pulling it out of a user session, I  
think you're being RESTful. You could store along with the diamond an  
expiration time, and have a reaper come through and expire it. So  
some of the diamonds could actually be glass, which won't last  
forever. I believe it isn't unRESTful that resources go away after a  
while.

Lastly, two more RESTful ways I've considered for recognizing a  
double-POST is 1) associating a deja vu token with the resource being  
update rather than the user session and 2) analyzing the contents of  
the post for duplication with a previous one. For example, if you are  
posting a message to a discussion forum topic, the updated resource  
is the topic. If you include a unique deja vu token in a hidden field  
of each form, and then store that token in the database alongside the  
message, you can recognize duplicate posts by looking up the token  
that came in with the current post in the database. If it is there,  
then that post came in before. The trouble with this approach is that  
the user may have backed up, then changed the form and posted again.  
That's not really a duplicate post. So the other way I've considered  
doing it is simply searching the updated item for the contents of the  
post. Most likely, the same user would not want to post the exact  
same message to a forum topic twice.

We really do have this double post problem in forums occasionally  
currently on Artima, and I don't presently have a solution, just  
these untested ideas. Like Lyle, I welcome suggestions on other ways  
to deal with duplicate posts.

Thanks.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5926<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-13 23:03:19<br>
Subject:Re: [rest-discuss] Inverted requests<br>
Message:<br><br>
<pre>Lyle Kopnicky &lt;lyle@...&gt; writes:

&gt; I'm sure this is a total REST violation, but is there any clean way to 
&gt; handle reverse requests in HTTP?  That is, requests from the server to 
&gt; the client?  I guess the appropriate way is to have the "server" make 
&gt; HTTP requests of the "client".  But that can't be done if the client is 
&gt; behind a firewall.
&gt;
&gt; Basically, my intention is to piggyback the reverse request in a 
&gt; response to a request from the client.  Then the client would respond by 
&gt; sending a new request to the server, and so forth.  The resource URL for 
&gt; the reverse request would now have to be encoded in the body of the HTTP 
&gt; response.
&gt;
&gt; Thoughts?

Yuk.

I know lots of people who've tried to do this. It always feels like
fighting the web.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5927<br>
Sender:=?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;bill@...&gt;<br>
Post Date/Time:2006-04-13 23:07:56<br>
Subject:Re: [rest-discuss] Avoiding re-POSTs<br>
Message:<br><br>
<pre>Lyle Kopnicky wrote:

&gt; My question is, what is the REST way to address the problem?

"a pattern of use that allows clients to automatically retry POST 
requests in a manner that assures no unintended side effects will take 
place."

http://www.mnot.net/drafts/draft-nottingham-http-poe-00.txt&amp;e=9797

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5928<br>
Sender:=?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;bill@...&gt;<br>
Post Date/Time:2006-04-13 23:08:40<br>
Subject:Re: [rest-discuss] Avoiding re-POSTs<br>
Message:<br><br>
<pre>Bill de h�ra wrote:
&gt; Lyle Kopnicky wrote:
&gt; 
&gt;  &gt; My question is, what is the REST way to address the problem?
&gt; 
&gt; "a pattern of use that allows clients to automatically retry POST
&gt; requests in a manner that assures no unintended side effects will take
&gt; place."
&gt; 
&gt; http://www.mnot.net/drafts/draft-nottingham-http-poe-00.txt&amp;e=9797 

that should be:

http://www.mnot.net/drafts/draft-nottingham-http-poe-00.txt

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5929<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-04-13 23:29:02<br>
Subject:Re: [rest-discuss] Avoiding re-POSTs<br>
Message:<br><br>
<pre>Hi Bill,

On Apr 13, 2006, at 4:08 PM, Bill de hra wrote:

&gt; http://www.mnot.net/drafts/draft-nottingham-http-poe-00.txt
&gt;
The doc says:

If the client does not receive that response, it can retry the POST
    request automatically;

        C: POST /accounts/bob/orders/12345
           Host: www.example.com
           POE: 1

    If the server had received and accepted the first request, it will
    respond with

        S: 405 Method Not Allowed HTTP/1.1
           Allow: GET
           ...

How does the server know if it has received and accepted the first  
request? Is the idea that the /12345 tacked on to the end of the URL  
makes this into a URI to which one can only post once? If so, then  
the server can remember whether that URI had been posted to before.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5930<br>
Sender:=?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;bill@...&gt;<br>
Post Date/Time:2006-04-13 23:40:37<br>
Subject:Re: [rest-discuss] Avoiding re-POSTs<br>
Message:<br><br>
<pre>Bill Venners wrote:
&gt; Hi Bill,
&gt; 
&gt; On Apr 13, 2006, at 4:08 PM, Bill de h�ra wrote:
&gt; 
&gt;&gt; http://www.mnot.net/drafts/draft-nottingham-http-poe-00.txt
&gt;&gt;
&gt; The doc says:
&gt; 
&gt; If the client does not receive that response, it can retry the POST
&gt;    request automatically;
&gt; 
&gt;        C: POST /accounts/bob/orders/12345
&gt;           Host: www.example.com
&gt;           POE: 1
&gt; 
&gt;    If the server had received and accepted the first request, it will
&gt;    respond with
&gt; 
&gt;        S: 405 Method Not Allowed HTTP/1.1
&gt;           Allow: GET
&gt;           ...
&gt; 
&gt; How does the server know if it has received and accepted the first 
&gt; request? 

The server will have to bind the URI with some kind of semaphore.

&gt; Is the idea that the /12345 tacked on to the end of the URL 
&gt; makes this into a URI to which one can only post once? If so, then the 
&gt; server can remember whether that URI had been posted to before.

That's it. The reason to have the POE header is to let the client 
interpret the 2xx and 405 responses. But what's really nice about this 
ID is that it degrades gracefully - a POE unaware client can function 
with a POE aware server and the exactly once semantics can still be 
obtained.

It's Mark's draft, but I wouldn't mind seeing a future rev incorporate 
410 to emulate ttl. That way the server can release resources in due course.

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5931<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-04-13 23:59:29<br>
Subject:Re: [rest-discuss] Avoiding re-POSTs<br>
Message:<br><br>
<pre>Hi Bill,

On Apr 13, 2006, at 4:40 PM, Bill de hra wrote:

&gt;&gt; Is the idea that the /12345 tacked on to the end of the URL
&gt;&gt; makes this into a URI to which one can only post once? If so, then  
&gt;&gt; the
&gt;&gt; server can remember whether that URI had been posted to before.
&gt;
&gt; That's it. The reason to have the POE header is to let the client
&gt; interpret the 2xx and 405 responses. But what's really nice about this
&gt; ID is that it degrades gracefully - a POE unaware client can function
&gt; with a POE aware server and the exactly once semantics can still be
&gt; obtained.
&gt;
That makes sense. The /12345 is like a deja vu token in a way, but  
embedded in the post URL instead of being put in a post parameter  
(such as from a hidden form field), as far as I can see. For users  
posting forms from web pages, I think it has the same issue of if  
they back up and actually change the submission, and post again, the  
server won't let them. In that case it is not really a duplicate  
post, even though the deja vu token is still /12345, because the data  
is different. I think this is a common use case. When I search for  
flights at united.com, for example, I like to back up from one  
result, modify the form, and resubmit, to get a new result. It saves  
me time by not having to enter everything into a blank form, but just  
change the previously used one. Oh, I guess what I'd do there is just  
not make that post URL a POE one. I would just use POEs for posts  
like credit card charges that really need to be idempotent.

&gt; It's Mark's draft, but I wouldn't mind seeing a future rev incorporate
&gt; 410 to emulate ttl. That way the server can release resources in  
&gt; due course.
&gt;
What do you mean by "incorporate 410 to emulate ttl?"

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5932<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-04-14 00:21:33<br>
Subject:Re: [rest-discuss] Inverted requests<br>
Message:<br><br>
<pre>You'd probably have to use CONNECT to do it in a manner consistent
with HTTP.  At one time I thought "TURN" (ala SMTP) could be used, but
support for that really needs to be baked in to the message syntax
from day one since intermediaries would have to know not to balk at
requests appearing where responses were expected.  CONNECT lets any
intermediaries know that they're not supposed to understand what's
going on, so that situation isn't a problem.

On 4/13/06, Lyle Kopnicky &lt;lyle@...&gt; wrote:
&gt; I'm sure this is a total REST violation, but is there any clean way to
&gt; handle reverse requests in HTTP?  That is, requests from the server to
&gt; the client?  I guess the appropriate way is to have the "server" make
&gt; HTTP requests of the "client".  But that can't be done if the client is
&gt; behind a firewall.
&gt;
&gt; Basically, my intention is to piggyback the reverse request in a
&gt; response to a request from the client.  Then the client would respond by
&gt; sending a new request to the server, and so forth.  The resource URL for
&gt; the reverse request would now have to be encoded in the body of the HTTP
&gt; response.
&gt;
&gt; Thoughts?
&gt;
&gt; --
&gt; Lyle Kopnicky
&gt; Software Project Engineer
&gt; Veicon Technology, Inc.
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;


--
Mark Baker.  Ottawa, Ontario, CANADA.       http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5933<br>
Sender:=?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;bill@...&gt;<br>
Post Date/Time:2006-04-14 00:51:16<br>
Subject:Re: [rest-discuss] Avoiding re-POSTs<br>
Message:<br><br>
<pre>Bill Venners wrote:
&gt; Hi Bill,
&gt; 
&gt; On Apr 13, 2006, at 4:40 PM, Bill de h�ra wrote:
&gt; 
&gt;  &gt;&gt; Is the idea that the /12345 tacked on to the end of the URL
&gt;  &gt;&gt; makes this into a URI to which one can only post once? If so, then 
&gt;  &gt;&gt; the
&gt;  &gt;&gt; server can remember whether that URI had been posted to before.
&gt;  &gt;
&gt;  &gt; That's it. The reason to have the POE header is to let the client
&gt;  &gt; interpret the 2xx and 405 responses. But what's really nice about this
&gt;  &gt; ID is that it degrades gracefully - a POE unaware client can function
&gt;  &gt; with a POE aware server and the exactly once semantics can still be
&gt;  &gt; obtained.
&gt;  &gt;
&gt; That makes sense. The /12345 is like a deja vu token in a way, but 
&gt; embedded in the post URL instead of being put in a post parameter 
&gt; (such as from a hidden form field), as far as I can see. For users 
&gt; posting forms from web pages, I think it has the same issue of if 
&gt; they back up and actually change the submission, and post again, the 
&gt; server won't let them. In that case it is not really a duplicate 
&gt; post, even though the deja vu token is still /12345, because the data 
&gt; is different. I think this is a common use case. When I search for 
&gt; flights at united.com, for example, I like to back up from one 
&gt; result, modify the form, and resubmit, to get a new result. It saves 
&gt; me time by not having to enter everything into a blank form, but just 
&gt; change the previously used one. Oh, I guess what I'd do there is just 
&gt; not make that post URL a POE one. I would just use POEs for posts 
&gt; like credit card charges that really need to be idempotent.

It's worth pointing out that the /12345 is entirely private to the 
server, all the client deals with is the URL. And I think creating a new 
resource to represent state this way is much cleaner that redirect after 
POST hacks via controllers (an idiom that seems to be common in the Java 
world).

&gt; What do you mean by "incorporate 410 to emulate ttl?"

I mean that for this to work you need to keep a record of URLs that 
could be POSTed to and might be rePOSTed to. Servers need to be able to 
release those resources heuristically as there's no guarantee the client 
will come back. It's nicer if they have a means of letting the client 
know what's happened.

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5934<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-04-14 02:12:54<br>
Subject:Re: [rest-discuss] Avoiding re-POSTs<br>
Message:<br><br>
<pre>Hi Bill,

On Apr 13, 2006, at 5:51 PM, Bill de hra wrote:

&gt; It's worth pointing out that the /12345 is entirely private to the
&gt; server, all the client deals with is the URL. And I think creating  
&gt; a new
&gt; resource to represent state this way is much cleaner that redirect  
&gt; after
&gt; POST hacks via controllers (an idiom that seems to be common in the  
&gt; Java
&gt; world).
&gt;
I have never thought of redirect after post to be a strategy to  
prevent duplicate posts, although that is the context in which Lyle  
Kopnicky brought it up in this thread. I have considered redirect  
after post only as a way to prevent the user-unfriendly pop up dialog  
that asks whether or not the user wants to repost old data. That  
dialog is confusing to most users, and makes the site feel  
unprofessional in my opinion. Redirecting to a get after a post  
prevents that dialog box. I consider duplicate posts a separate  
issue. Even if you do redirect after get, the user could still back  
up and press submit again.

To me the /12345 approach contrasts with the deja vu token, which is  
mentioned as a J2EE pattern. As far as I know, the deja vu token has  
traditionally been submitted to the server as part of the post data,  
rather than being embedded in the URI. So instead of posting to:

/accounts/bob/orders/12345

You would post to:

/accounts/bob/orders

...but include in the post data (likely from a HTML hidden form  
field) a parameter named dejavu with the value 12345.

In either approach, the deja vu token is private to the server,  
opaque to the client. In either approach, the server must keep track  
of the deja vu tokens they've already seen. What I think placing it  
in the URI does is enable the POE stuff. But so long as POE isn't  
widely supported, however, I don't see much difference between the  
two, though the J2EE way has slightly cleaner URIs.

&gt;&gt; What do you mean by "incorporate 410 to emulate ttl?"
&gt;
&gt; I mean that for this to work you need to keep a record of URLs that
&gt; could be POSTed to and might be rePOSTed to. Servers need to be  
&gt; able to
&gt; release those resources heuristically as there's no guarantee the  
&gt; client
&gt; will come back. It's nicer if they have a means of letting the client
&gt; know what's happened.
&gt;
Disks are pretty cheap these days. To me if keeping track of the  
tokens is required for the correct functioning of the application,  
I'd put them in the database and keep them forever. You could  
associate them with the data being saved or updated as a result of  
the post, and just check each time.

But even if you were to store the tokens in memory, and release them  
after a while, I don't understand what you would accomplish by  
telling the client the timeout. What would the client do with that  
information? Oh, do you mean that after the resource is released,  
and /12345 doesn't exist anymore, that's when you send the 410?

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5935<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2006-04-14 03:53:04<br>
Subject:RE: [rest-discuss] Inverted requests<br>
Message:<br><br>
<pre>
&gt; 
&gt; I'm sure this is a total REST violation, but is there any 
&gt; clean way to handle reverse requests in HTTP?  That is, 
&gt; requests from the server to the client?  I guess the 
&gt; appropriate way is to have the "server" make HTTP requests of 
&gt; the "client".  But that can't be done if the client is behind 
&gt; a firewall.
That isn't a violation at all. Just reverse the roles of the machines. The
firewall is there for a reason and whatever approach you use probably
shouldn't bypass those reasons.

&gt; 
&gt; Basically, my intention is to piggyback the reverse request 
&gt; in a response to a request from the client.  Then the client 
&gt; would respond by sending a new request to the server, and so 
&gt; forth.  The resource URL for the reverse request would now 
&gt; have to be encoded in the body of the HTTP response.
&gt; 
There have been many approaches to this. One is to model the requests as
messages in a queue hosted by the server, and GET those messages (then later
respond to them). Personally, I don't think this is very RESTful, but
whatever.
I've actually implemented this sort of thing and have also done an addition
bit - have the server /not/ respond right away if there are no existing
messages, just hold onto the connection. When a new message arrives, then
send the response. This gives a low-latency way to send data to the browser.
I also have a simple javascript library that supports registering callbacks,
essentially providing asynchronous events to the browser. 
I'd love to give you a pointer, but the servlet seems to be inaccesible
right now. But it's cool. Really.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5936<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2006-04-14 05:28:49<br>
Subject:RE: [rest-discuss] Inverted requests<br>
Message:<br><br>
<pre>
&gt; I'd love to give you a pointer, but the servlet seems to be 
&gt; inaccesible right now. But it's cool. Really.
&gt; 
I have the servlet working now... 
http://www.searchalert.net:8080/dierken/events/chat.html?topic=rest-discuss

The HTML page has a javascript library that retrieves a list of messages as
XML. The list has a link to the 'next' set of messages. Once the client
processes the current set of messages, it follows the link to the next set
of messages. If there are no messages waiting, the server holds onto the
connection and waits for messages. When they arrive, those messages are sent
down the connection and the client processes them. Then there's another
'next' link, and so on...

Here's a pointer to the messsages directly (ignore anything stupid looking):
http://www.searchalert.net:8080/xmlrouter/msgs/rest-discuss


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5937<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2006-04-14 05:34:41<br>
Subject:RE: [rest-discuss] Inverted requests<br>
Message:<br><br>
<pre>
&gt; 
&gt; You'd probably have to use CONNECT to do it in a manner 
&gt; consistent with HTTP.  At one time I thought "TURN" (ala 
&gt; SMTP) could be used, but support for that really needs to be 
&gt; baked in to the message syntax from day one since 
&gt; intermediaries would have to know not to balk at requests 
&gt; appearing where responses were expected.  CONNECT lets any 
&gt; intermediaries know that they're not supposed to understand 
&gt; what's going on, so that situation isn't a problem.
If the client application is more controllable than a browser, then this
approach should work great. The client initiates the connection, does some
checking, then requests that the roles between server and client be
reversed.
You would want a special server that not only understands how to interact
with the client in this manner, but also how to receive requests and forward
them down to the client - basically acting as a reverse proxy.
Someone could even host a cloud of these reverse proxies for any client
application to use as a 'service'.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5938<br>
Sender:"inter2000_2000" &lt;inter2000_2000@...&gt;<br>
Post Date/Time:2006-04-14 06:22:04<br>
Subject:I have a question about REST in PHP<br>
Message:<br><br>
<pre>Thanks 
I already recieved reply above~~

but i use PHP, mySQl, apache so don't know sample by python.

I'll use REST for API about searching.
How can i make logical URI that is server setting or PHP support
that~~

Sorry guys
ps. i'm foreigner so i can't understand totally eventhought i saw
a lot of articles

Thank again sincerely

---------------------- previous message --------------------------

&gt; I study REST so i check some sites by internet.
&gt;
&gt; But i counldn't understand about How can i make(or set) URI
&gt; and How i can i make(POST, PUT, DELETE, GET)
&gt;
&gt; It is very difficult for me.
&gt; eventhought REST have specific elements of XML, when client call 
and 
&gt; recieve XML format of DATA.
&gt;
&gt; How can i know and learn???

Here's a practical tutorial:

  http://www.onlamp.com/pub/a/python/2006/02/23/using-rest-with-
ajax.html

You obviously didn't look that far because that tutorial was 
mentioned
on the archives of this list only a short time ago.


Nic Ferrier




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5939<br>
Sender:Adam Ratcliffe &lt;adam@...&gt;<br>
Post Date/Time:2006-04-14 09:40:54<br>
Subject:Re: [rest-discuss] I have a question about REST in PHP<br>
Message:<br><br>
<pre>Take a look at Tonic:

http://tonic.sourceforge.net/

It's a lightweight framework for implemening RESTful applications  
using PHP.

Cheers
Adam

On 14 Apr, 2006, at 6:22 PM, inter2000_2000 wrote:

&gt; Thanks
&gt; I already recieved reply above~~
&gt;
&gt; but i use PHP, mySQl, apache so don't know sample by python.
&gt;
&gt; I'll use REST for API about searching.
&gt; How can i make logical URI that is server setting or PHP support
&gt; that~~
&gt;
&gt; Sorry guys
&gt; ps. i'm foreigner so i can't understand totally eventhought i saw
&gt; a lot of articles
&gt;
&gt; Thank again sincerely
&gt;
&gt; ---------------------- previous message --------------------------
&gt;
&gt;&gt; I study REST so i check some sites by internet.
&gt;&gt;
&gt;&gt; But i counldn't understand about How can i make(or set) URI
&gt;&gt; and How i can i make(POST, PUT, DELETE, GET)
&gt;&gt;
&gt;&gt; It is very difficult for me.
&gt;&gt; eventhought REST have specific elements of XML, when client call
&gt; and
&gt;&gt; recieve XML format of DATA.
&gt;&gt;
&gt;&gt; How can i know and learn???
&gt;
&gt; Here's a practical tutorial:
&gt;
&gt;   http://www.onlamp.com/pub/a/python/2006/02/23/using-rest-with-
&gt; ajax.html
&gt;
&gt; You obviously didn't look that far because that tutorial was
&gt; mentioned
&gt; on the archives of this list only a short time ago.
&gt;
&gt;
&gt; Nic Ferrier
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5940<br>
Sender:"Dimitri Glazkov" &lt;dimitri.glazkov@...&gt;<br>
Post Date/Time:2006-04-14 11:31:14<br>
Subject:Re: [rest-discuss] Avoiding re-POSTs<br>
Message:<br><br>
<pre>On 4/13/06, Lyle Kopnicky &lt;lyle@...&gt; wrote:
&gt; One solution proposed for this is the POST-REDIRECT-GET
&gt; &lt;http://www.theserverside.com/articles/article.tss?l=RedirectAfterPost&gt;
&gt; pattern.  The response to the POST is instead a redirect to a temporary
&gt; URL containing the response page.  The browser then GETs this response
&gt; page and displays it.  Due to the redirect, the original POST request is
&gt; replaced by this GET request in the browser history.  Thus, the user can
&gt; use the back button with impunity, and will just see the result of their
&gt; request, with no danger of resubmitting it.
&gt;
&gt; That sounds great, but it seems to clash with REST.  What was before a
&gt; transitory response to a POST request now becomes a separate resource
&gt; available via GET.  Will it be cached?  How long must it stay available?

Aside from interesting discussion on POE (more on that later), I don't
see how redirect after post clashes with REST.

Since you're using HTML forms, you are dealing with two
representations of a resource: text/html and
application/x-www-form-urlencoded. And, you're dealing with another
resource -- the form, which effectively provides the schema for
application/x-www-form-urlencoded represntation. For instance:

html representation of resource: /resources/resource.html
urlencoded representation of resource: /resources/resource.urlencoded
html representation of the form: /forms/resource-schema.html

In this case, action of the form should point to /resource.urlencoded,
because that's the representation of the resource that the form is
dealing with. However, knowing that user agents are not very
interested reading urlencoded data, I don't see anything wrong with it
always responding with 302 Found (even for a GET) that points to
/resource.html after processing the request.

So, anytime you POST or GET to /resource.urlencoded, you always get
redirected to /resource.html. It becomes the hidden or less preferred
representation.

Or am I missing something?

:DG&lt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5941<br>
Sender:"Dimitri Glazkov" &lt;dimitri.glazkov@...&gt;<br>
Post Date/Time:2006-04-14 11:48:14<br>
Subject:Re: [rest-discuss] Avoiding re-POSTs<br>
Message:<br><br>
<pre>Now, onto the POE discussion. I've read the draft a while back, and
just now read about aritma's diamonds. Fascinating stuff. Still...

Somehow I feel this should be responsibility of the user agent to
prevent accidental double-posts, and responsibility of the server to
accommodate attempts to create a resource more than once.

But maybe it's just me.

:DG&lt;

On 4/13/06, Bill Venners &lt;bv-svp@...&gt; wrote:
&gt; Hi Bill,
&gt;
&gt; On Apr 13, 2006, at 5:51 PM, Bill de hra wrote:
&gt;
&gt; &gt; It's worth pointing out that the /12345 is entirely private to the
&gt; &gt; server, all the client deals with is the URL. And I think creating
&gt; &gt; a new
&gt; &gt; resource to represent state this way is much cleaner that redirect
&gt; &gt; after
&gt; &gt; POST hacks via controllers (an idiom that seems to be common in the
&gt; &gt; Java
&gt; &gt; world).
&gt; &gt;
&gt; I have never thought of redirect after post to be a strategy to
&gt; prevent duplicate posts, although that is the context in which Lyle
&gt; Kopnicky brought it up in this thread. I have considered redirect
&gt; after post only as a way to prevent the user-unfriendly pop up dialog
&gt; that asks whether or not the user wants to repost old data. That
&gt; dialog is confusing to most users, and makes the site feel
&gt; unprofessional in my opinion. Redirecting to a get after a post
&gt; prevents that dialog box. I consider duplicate posts a separate
&gt; issue. Even if you do redirect after get, the user could still back
&gt; up and press submit again.
&gt;
&gt; To me the /12345 approach contrasts with the deja vu token, which is
&gt; mentioned as a J2EE pattern. As far as I know, the deja vu token has
&gt; traditionally been submitted to the server as part of the post data,
&gt; rather than being embedded in the URI. So instead of posting to:
&gt;
&gt; /accounts/bob/orders/12345
&gt;
&gt; You would post to:
&gt;
&gt; /accounts/bob/orders
&gt;
&gt; ...but include in the post data (likely from a HTML hidden form
&gt; field) a parameter named dejavu with the value 12345.
&gt;
&gt; In either approach, the deja vu token is private to the server,
&gt; opaque to the client. In either approach, the server must keep track
&gt; of the deja vu tokens they've already seen. What I think placing it
&gt; in the URI does is enable the POE stuff. But so long as POE isn't
&gt; widely supported, however, I don't see much difference between the
&gt; two, though the J2EE way has slightly cleaner URIs.
&gt;
&gt; &gt;&gt; What do you mean by "incorporate 410 to emulate ttl?"
&gt; &gt;
&gt; &gt; I mean that for this to work you need to keep a record of URLs that
&gt; &gt; could be POSTed to and might be rePOSTed to. Servers need to be
&gt; &gt; able to
&gt; &gt; release those resources heuristically as there's no guarantee the
&gt; &gt; client
&gt; &gt; will come back. It's nicer if they have a means of letting the client
&gt; &gt; know what's happened.
&gt; &gt;
&gt; Disks are pretty cheap these days. To me if keeping track of the
&gt; tokens is required for the correct functioning of the application,
&gt; I'd put them in the database and keep them forever. You could
&gt; associate them with the data being saved or updated as a result of
&gt; the post, and just check each time.
&gt;
&gt; But even if you were to store the tokens in memory, and release them
&gt; after a while, I don't understand what you would accomplish by
&gt; telling the client the timeout. What would the client do with that
&gt; information? Oh, do you mean that after the resource is released,
&gt; and /12345 doesn't exist anymore, that's when you send the 410?
&gt;
&gt; Bill
&gt; ----
&gt; Bill Venners
&gt; Editor-in-Chief
&gt; Artima Developer
&gt; http://www.artima.com
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5942<br>
Sender:"Laurian Gridinoc" &lt;laurian@...&gt;<br>
Post Date/Time:2006-04-14 12:17:28<br>
Subject:uri normalization<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5943<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-04-14 13:28:06<br>
Subject:Re: [rest-discuss] Avoiding re-POSTs<br>
Message:<br><br>
<pre>On Thu, 2006-04-13 at 14:35 -0700, Lyle Kopnicky wrote:
&gt; A common problem in Web use is this: A user fills out a form, and clicks 
&gt; a button.  This causes a POST.  The response to the POST includes 
&gt; information confirming the action.  Later, the user uses the Back 
&gt; button, and the browser says "This information was generated in response 
&gt; to a POST.  Do you want to resubmit it?"  Or worse, it just resubmits 
&gt; the request without asking.  This is going to be a problem with any 
&gt; non-idempotent request.  It is especially a problem on a public access 
&gt; station, when a new person walks up and can resubmit a request that 
&gt; someone else made, perhaps even altering it.

What you are trying to do is make a form submission idempotent. Multiple
idempotent form submissions don't matter, so don't have to be protected
against. There are a few theoretical approaches this, mostly unsupported
by existing software:

1) Use an idempotent method:
If a user is updating their details, give the details a URI and send a
PUT request of the new data to that URI
&gt;&gt; PUT http://example.com/users/lyle HTTP/...
&gt;&gt; (personal data)
&lt;&lt; HTTP/... 200 OK

repeat that and there is no harm done:
&gt;&gt; PUT http://example.com/users/lyle HTTP/...
&gt;&gt; (personal data)
&lt;&lt; HTTP/... 200 OK

2) Use two requests:
The first request "reserves" or "primes" the submission. It creates a
resource and returns it to the client. The client transfers the intended
state to that resource.
&gt;&gt; POST http://example.com/webmail/new HTTP/...
&lt;&lt; HTTP/... 201 Created
&lt;&lt; Location: http://example.com/webmail/new/1234
&gt;&gt; GET http://example.com/webmail/new/1234 HTTP/...
&lt;&lt; HTTP/... 200 OK
&lt;&lt; (empty email submission form)
&gt;&gt; PUT http://example.com/webmail/new/1234 HTTP/...
&gt;&gt; (completed email submission form)
&lt;&lt; HTTP/... 200 OK

Repeat either part and there is no harm done:
&gt;&gt; POST http://example.com/webmail/new HTTP/...
&lt;&lt; HTTP/... 201 Created
&lt;&lt; Location: http://example.com/webmail/new/4321
&gt;&gt; GET http://example.com/webmail/new/4321 HTTP/...
&lt;&lt; HTTP/... 200 OK
&lt;&lt; (empty email submission form)

or
&gt;&gt; PUT http://example.com/webmail/new/1234 HTTP/...
&gt;&gt; (completed email submission form)
&lt;&lt; HTTP/... 410 Gone (404, or 401, etc...)
&lt;&lt; (explanatory text: this email has already been sent)

Repeat both, and the client still sends two emails, but the user would
have to enter the email content twice to do so.

Another alternative would be to discard duplicate requests at the server
side. This would be logically equivalent to the second option presented
above except that the client would normally provide the identifer
alongside the request. Duplicates of the same identifier would cause
their containing message to be dropped. 

The two approaches are not supported by html forms[1], but look to be
supported by xforms[2].

Benjamin
[1] http://www.w3.org/TR/REC-html40/interact/forms.html#h-17.13.1
[2] http://www.w3.org/TR/xforms/slice11.html#send-put


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5944<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-04-14 16:12:03<br>
Subject:Re: [rest-discuss] Avoiding re-POSTs<br>
Message:<br><br>
<pre>Hi Bill,

On Apr 14, 2006, at 6:27 AM, Bill de hra wrote:

&gt; I wouldn't see the form based approach as being as well abstracted  
&gt; as a URL. It (hidden field) also acts a forcing function to put  
&gt; interesting resources behind controller URLs (which are gateways)  
&gt; rather than calling them out.
&gt;
&gt;&gt; What I think placing it in the URI does is enable the POE stuff.
&gt;
&gt; No, much more than that. For example I can ask the state of the  
&gt; submission direct from the POE resource using HTTP instead of  
&gt; needing a DSL to ask the submission controller what's going on with  
&gt; form. Giving my form data and only my form data - how do I find out  
&gt; whether things went ok from a client? How's my order doing?
&gt;
&gt; When you start moving to application areas like workflow management  
&gt; and reliable messaging, these little differences start to become  
&gt; very important. Gateway based design (which J2EE encourages last  
&gt; time I looked) really end up hurting you in production, operations  
&gt; and cost of maintenance. IMO one of the reasons WS is floundering  
&gt; in production is because they are predicated on a combination of  
&gt; Gateways and an unbounded number of private DSLs instead of  
&gt; resources and representations. The kind of design thinking that  
&gt; leads you to DAOs and Manager classes doesn't transfer onto the  
&gt; web. And that's all aside from the basic interop issues.
&gt;
This is very interesting. Could you elaborate on what you mean by  
controller, DSL, and gateway? And if the alternative is "resources  
and representations," what exactly do you mean by that as far as  
implementation?

In our new architecture, we have what we call controllers, which  
comes from model/view/controller. URIs map to controllers. We also  
have something we call manager classes, which have static methods  
that perform persistence operations using POJO entity classes. It is  
very much a standard J2EE-like architecture, I think, but really only  
using Servlets. Despite this, the external interaction with the  
server will be quite RESTful as far as I can tell. I think of URIs as  
identifying resources, and when you do a GET you get back a  
representation. I don't see the J2EE architectural concepts you  
mention are at all in conflict with RESTful, HTTP-like resources and  
representations behavior as seen by the client.

On the other hand, all the web application frameworks I've seen have  
been very unRESTful, primarily by encouraging session state. J2EE  
defines stateful session beans for conversational state, for example,  
which are associated with the user session. We designed our own MVC  
framework, and it continues to evolve. I think using something like  
the diamonds approach I described yesterday instead of session state  
is more RESTful, and just as easy to implement than the traditional  
J2EE way. But I don't see anything inherently unRESTful or awkward  
about controllers, DAOs, or manager classes. I'm very interested in  
understanding better your point of view.

&gt;
&gt;&gt; But so long as POE isn't widely supported, however, I don't see  
&gt;&gt; much difference between the two, though the J2EE way has slightly  
&gt;&gt; cleaner URIs.
&gt;
&gt; I don't agree, but I have heard this a lot. What's clean about  
&gt; having one URI for lots of things? The J2EE way costs too much imo.  
&gt; And like I said, POE degrades gracefully. It can be implemented  
&gt; idiomatically today on servers without client knowledge. The  
&gt; controller+dsl approach can't. Even stuff as banal as testing gets  
&gt; cheaper when resources are called out.
&gt;
Again, what do you mean by "resources are called out?"

As far as one URI being clean, to me it is conceptually clean to POST  
to the URI for the resource that's being updated. That's to me what a  
POST means, an opinion which I derived in great part from reading Roy  
Fielding's thesis. I can't do PUTs from browsers, so I can only work  
with GETs and POSTs. But a PUT also means that the client decides the  
URI of the new item, and in every situation I currently find myself  
in, I want the server to decide the URI. So a POST is appropriate  
anyway.

For example, to add a new message to a forum topic, the POST should  
go to the forum topic's URI. That's because that topic is being  
updated by adding a new message to it. (A message, once posted, will  
also have its own URI where it can be GETted (GOTten?), or POSTed to  
if you want to edit it. I want the server to decide what this URI is,  
so even if I could use a PUT to the new message URI from the client,  
I'd want to use POST to the existing topic to which the message is  
being added.) I do want to prevent duplicate posts to forum topics,  
so it is a real example. I think it is conceptually cleaner to always  
post to the URI of the resource being updated, not a different URI  
each time, which is made up for the purpose of POE.

What I think I might like about POE is that it provides a mechanism  
for the client to determine if any of multiple attempts to post have  
been accepted. Nevertheless, in my case I'm interacting with users, I  
think I can just tell them with words if something has already been  
seen. In other words, instead of sending back just 200, I can send  
back 200 and redirect them to a page that says "Thanks for your  
order." If the 200 is lost, and they post again, I can detect I've  
already charged them once and redirect them to a page that explains  
that. Where POE seems more important to me is when the client is pure  
software, because it enables the client to be confident enough the  
POST got through to stop retrying.

&gt;&gt; Disks are pretty cheap these days. To me if keeping track of the  
&gt;&gt; tokens is required for the correct functioning of the application,  
&gt;&gt; I'd put them in the database and keep them forever. You could  
&gt;&gt; associate them with the data being saved or updated as a result of  
&gt;&gt; the post, and just check each time.
&gt;
&gt; I wouldn't, because we're not talking about raw storage. Perhaps  
&gt; for forms, sure. If you want to use POE to do exactly once  
&gt; messaging or as the basis for modeling a state machine, you'll end  
&gt; up with lots of these things lying around that have to be queried  
&gt; indexed, reported on, backed up, possible have blobs associated  
&gt; with them. It's an implementation detail I happen to care about.
&gt;
Well, disks really are cheap. And all I would imagine that needs to  
be stored extra is a small token. For example, if I accept a credit  
card charge with token 12455, then I store 12345 along with the data  
describing the purchase. I need to store the purchase data anyway, so  
the only extra information is 12345, which is teeny tiny. You're  
right, though, that now I have to do a database query each time  
before I save a purchase, to make sure the token doesn't exist in the  
database yet. But I have to send the purchase data to the database  
anyway, and I could invoke a stored procedure that only saves the  
purchase data if the token doesn't yet exist. No extra round trips to  
the database needed. If 12345 has already been posted, I'll get an  
exception back indicating the problem and can deal with it at that  
point.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5945<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-14 18:16:29<br>
Subject:Re: [rest-discuss] Avoiding re-POSTs<br>
Message:<br><br>
<pre>Hi Bill,

I like your diamond idea.  But isn't a diamond a kind of representation 
of session state?  And the diamond token like a cookie?  Except for the 
fact that the diamond token goes in the URL, whereas the cookie goes in 
the cookie header.

I'm still confused as to where exactly the "evil" of session state lies.

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5946<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2006-04-14 18:32:32<br>
Subject:RE: [rest-discuss] Inverted requests<br>
Message:<br><br>
<pre>
I don't think you need either CONNECT or TURN as long as you stipulate 
that requests and responses are transmitted whole and not interleaved 
within the body of any one message.  A request and response are 
recognizable without a notification or special flag.

I know of only two problems.

- finding a way for clients and servers to signal that they can use the 
socket in either direction.

- handling "Connection: close"


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5947<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-14 18:43:31<br>
Subject:Re: [rest-discuss] Inverted requests<br>
Message:<br><br>
<pre>Lucas Gonze wrote:
&gt; I don't think you need either CONNECT or TURN as long as you stipulate 
&gt; that requests and responses are transmitted whole and not interleaved 
&gt; within the body of any one message.  A request and response are 
&gt; recognizable without a notification or special flag.
&gt;
&gt; I know of only two problems.
&gt;
&gt; - finding a way for clients and servers to signal that they can use the 
&gt; socket in either direction.
&gt;
&gt; - handling "Connection: close"
&gt;
&gt;   
Well, just to throw you for a further loop, I'm doing it with one-off 
connections.  So, the client periodically sends a POST to the server, 
which responds with any pending "reverse request".  End of connection.  
When the client finishes processing the reverse request, it does another 
POST to the server to send the result.  The server either responds with 
another reverse request, or indicates there are no more pending reverse 
requests.

I'm doing it this way because my HTTP server is single-threaded, so I 
can't tie it up with an open socket.

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5948<br>
Sender:"Alan Dean" &lt;alan.dean+rest-discuss@...&gt;<br>
Post Date/Time:2006-04-14 19:01:42<br>
Subject:Re: [rest-discuss] Avoiding re-POSTs<br>
Message:<br><br>
<pre>As I understand the REST architectural style, the "evil" of session
state arises from the stateless constraint:

"5.1.3 Stateless

We next add a constraint to the client-server interaction:
communication must be stateless in nature, as in the
client-stateless-server (CSS) style of Section 3.4.3 (Figure 5-3),
such that each request from client to server must contain all of the
information necessary to understand the request, and cannot take
advantage of any stored context on the server. Session state is
therefore kept entirely on the client."

This is further reinforced in (amongst other places in the
dissertation) his description of the process view:

"5.3.1 Process View

The stateless nature of REST allows each interaction to be independent
of the others, removing the need for an awareness of the overall
component topology, an impossible task for an Internet-scale
architecture, and allowing components to act as either destinations or
intermediaries, determined dynamically by the target of each request."




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5949<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-14 19:08:12<br>
Subject:Re: Meaning of stateless (was: Avoiding re-POSTS)<br>
Message:<br><br>
<pre>Alan,

I decided to split this topic off the other one, to avoid thread confusion.

Alan Dean wrote:
&gt; --- In rest-discuss@yahoogroups.com, Lyle Kopnicky &lt;lyle@...&gt; wrote:
&gt;  * snip *
&gt;   
&gt;&gt; I'm still confused as to where exactly the "evil" of session state lies.
&gt;&gt;     
&gt;
&gt; Lyle,
&gt;
&gt; As I understand the REST architectural style, the "evil" of session
&gt; state arises from the stateless constraint:
&gt;
&gt; "5.1.3 Stateless
&gt;
&gt; We next add a constraint to the client-server interaction:
&gt; communication must be stateless in nature, as in the
&gt; client-stateless-server (CSS) style of Section 3.4.3 (Figure 5-3),
&gt; such that each request from client to server must contain all of the
&gt; information necessary to understand the request, and cannot take
&gt; advantage of any stored context on the server. Session state is
&gt; therefore kept entirely on the client."
&gt;   
So, is the "diamond" Bill suggested a piece of session state?

Clearly, the server is holding onto state, as each resource has a 
state.  Requests from the client can change that state.  What exactly 
makes something "session" state as opposed to some other kind of state?

Can you give me an example of an application in which requests from the 
client to the server do not contain all of the information necessary to 
understand the request?
&gt; This is further reinforced in (amongst other places in the
&gt; dissertation) his description of the process view:
&gt;
&gt; "5.3.1 Process View
&gt;
&gt; The stateless nature of REST allows each interaction to be independent
&gt; of the others, removing the need for an awareness of the overall
&gt; component topology, an impossible task for an Internet-scale
&gt; architecture, and allowing components to act as either destinations or
&gt; intermediaries, determined dynamically by the target of each request."
&gt;   
That's vague to me.  Perhaps I haven't done enough work with large 
systems, but these statements don't help me understand any better what 
"session state" is.

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5950<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2006-04-14 19:23:46<br>
Subject:Re: [rest-discuss] Inverted requests<br>
Message:<br><br>
<pre>On Fri, 14 Apr 2006, Lyle Kopnicky wrote:
&gt; Well, just to throw you for a further loop, I'm doing it with one-off 
&gt; connections.  So, the client periodically sends a POST to the server, which 
&gt; responds with any pending "reverse request".  End of connection.  When the 
&gt; client finishes processing the reverse request, it does another POST to the 
&gt; server to send the result.  The server either responds with another reverse 
&gt; request, or indicates there are no more pending reverse requests.
&gt;
&gt; I'm doing it this way because my HTTP server is single-threaded, so I can't 
&gt; tie it up with an open socket.

This is terrible judgement and very fun.  A pox on your kludged-up soul!



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5951<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-14 19:28:58<br>
Subject:Re: Meaning of stateless (was: Avoiding re-POSTs)<br>
Message:<br><br>
<pre>Alan,

Your example is helping me.  But I'm going to be a stick in the mud, for 
the purposes of clarifying these terms better.  I think you're still 
making some assumptions that I'm missing.

Alan Dean wrote:
&gt; The state that a RESTful server holds, is complete and persistent - by 
&gt; it's nature, session state is only partial and is volatile. I can see 
&gt; why at first glance the 'diamond' gets around this constraint by being 
&gt; 'persistent', but the problem is that it is only a semantic change.
OK, so I'm taking your definition of "session state" as state which is 
partial and volatile.  I'm not sure what "partial" means.  E.g., a web 
page is only part of my site, so isn't it partial?  I can change it at 
any time, so isn't it volatile?  Yet that's supposed to be the canonical 
REST example.  Also, I think you might mean 'ephemeral' more than 
'volatile' here.

So, it sounds like there's a sliding scale between "session state" and 
"persistent state" - no hard boundary.
&gt; An example. Let's say we are building an retail website. We decide 
&gt; that we need a basket to hold selected goods before checkout.
&gt;
&gt; We could decide to build the basket in session state.
By "build the basket in session state", do you mean, keep it volatile?  
Because your definition of "session state" above is that it's partial 
and volatile.  E.g., perhaps you keep it in a database table, but erase 
it after 10 minutes.
&gt; However, the session will be torn down at some point (as it is volatile).
What is the "session"?  Is this a code name for some kind of implementation?
&gt; Instead of making the session persistent,
But you said that by it's nature, session state is volatile.  So how can 
you make it persistent?  That would be a contradiction.
&gt; the better approach is to define the basket itself as a resource, with 
&gt; it's own URL (say http://example.com/store/user.name/basket ) which 
&gt; can accept RESTful messages to alter the state of the resource.
But that URL could also be volatile, so then it would be "session 
state", and not RESTful, right?  I don't see how making something into a URL
&gt; Does the example help?
Yes, we're getting there, but I'm still confused.

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5952<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2006-04-14 19:30:49<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless (was: Avoiding re-POSTS)<br>
Message:<br><br>
<pre>In my opinion, the fine distinctions between session and other kinds
of conversational state, and the  REpresentational State Transfer
state, is the single biggest source of confusion in explaining REST.

I understand that the server must not need to keep track of previous
requests in order to process the current request.

But can the server GET representations from other resources when
processing a request?

(E.g. get a credit authorization before responding to a purchase order message.)

That seems logical to me.  What would Roy say?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5953<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2006-04-14 19:42:07<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless (was: Avoiding re-POSTs)<br>
Message:<br><br>
<pre>Hi Lyle,

On Apr 14, 2006, at 12:28 PM, Lyle Kopnicky wrote:
&gt; So, it sounds like there's a sliding scale between "session state" and
&gt; "persistent state" - no hard boundary.

My assumption is that the only state the server should store is  
"resources" which are identified by a URL, such that a GET for that  
resource will (unless its been explicitly changed) will always return  
the same representation.   That is, it should always be possible for  
the client to explicitly Represent what State a Request is relying upon.

That may not be entirely accurate, but hopefully that points you in  
the right direction (or else someone will redirect me).

-- Ernie P.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5954<br>
Sender:"Alan Dean" &lt;alan.dean+rest-discuss@...&gt;<br>
Post Date/Time:2006-04-14 19:43:11<br>
Subject:Re: Request Header vs. Query String<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, Roy T. Fielding &lt;fielding@...&gt; wrote:

&gt; * snip *
&gt; 
&gt; Huh, that is getting to be a FAQ.  I have no idea why people can't see
&gt; the second and third link on the top page
&gt; 
&gt;     http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm
&gt; 
&gt; that point to the two PDF editions.  *shrug*
&gt; 
&gt; * snip *

I feel quite comfortable with the concept of properly supporting
Content-Type in the request header but also permitting what is, in
effect, an overload from the URL as described by Roy.

However, I have been musing over a real-world issue that is not
illuminated by the HTML / PDF examples discussed. Here is the problem
domain that I have been considering.

Forgive the lengthy nature of this, but I simply want to make my
musing clear.

For argument sake, let's say we are building a blogging engine. We
have decided that we will represent a blog as a resource in the form:

    http://example.com/blog/user.name

You decide that the following requests:

    GET /blog/user.name HTTP/1.1
    Host: example.com
    Accept: text/html

and:

    GET /blog/user.name HTTP/1.1
    Host: example.com
    Accept: text/*

and:

    GET /blog/user.name HTTP/1.1
    Host: example.com
    Accept: */*

are all equivalent and resolve to the same response:

    HTTP/1.1 200 OK
    Content-Type: text/html
    &lt;html&gt; ... &lt;/html&gt;

All well and good so far...

Now let's consider that we decide to support RSS and Atom xml feeds.
We decide to support the following request:

    GET /blog/user.name HTTP/1.1
    Host: example.com
    Accept: application/rss+xml

to which we provide the response:

    HTTP/1.1 200 OK
    Content-Type: application/rss+xml
    &lt;rss version="2.0"&gt; ... &lt;/rss&gt;

However... it turns out that browsers don't recognise
"application/rss+xml" so... we send this response instead:

    HTTP/1.1 200 OK
    Content-Type: text/xml
    &lt;rss version="2.0"&gt; ... &lt;/rss&gt;

By the same logic, in the event of the following request:

    GET /blog/user.name HTTP/1.1
    Host: example.com
    Accept: application/atom+xml

We respond:

    HTTP/1.1 200 OK
    Content-Type: text/xml
    &lt;feed xmlns="xmlns="http://www.w3.org/2005/Atom"&gt; ... &lt;/feed&gt;


My question is this: that the 'transmutation' of media type doesn't
feel very 'correct' to me. The client is requesting one media type
specifically, but we would then be supplanting the requested type. Do
we just need to live with the reality of browser support, or have I
missed something?


For the record, I would expect 'overloaded' media type requests to
require a matching Accept header as in:

    GET /blog/user.name?media=application/atom+xml HTTP/1.1
    Host: example.com
    Accept: */*

or:

    GET /blog/user.name?media=application/rss+xml&amp;version=2.0 HTTP/1.1
    Host: example.com
    Accept: application/*

My musing was kicked off by this article from the "Microsoft Team RSS
Blog" (see http://blogs.msdn.com/rssteam/articles/PublishersGuide.aspx
). I worry that we end up in a cul-de-sac where we either do
non-compliant things like media type transformations or end up driving
all 'fuzzy types' onto the URL and smacking down non-compliant
requests with "Bad Request" which is a brittle interoperability
approach. The problem is that the latter approach, whilst being more
tolerant, in effect deprecates the Content-Type header simply due to
poor client support.

Alan Dean
Lead Developer, OnlineTravel.com




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5955<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-14 19:44:00<br>
Subject:Re: [rest-discuss] Inverted requests<br>
Message:<br><br>
<pre>Lucas Gonze wrote:
&gt; On Fri, 14 Apr 2006, Lyle Kopnicky wrote:
&gt;   
&gt;&gt; Well, just to throw you for a further loop, I'm doing it with one-off 
&gt;&gt; connections.  So, the client periodically sends a POST to the server, which 
&gt;&gt; responds with any pending "reverse request".  End of connection.  When the 
&gt;&gt; client finishes processing the reverse request, it does another POST to the 
&gt;&gt; server to send the result.  The server either responds with another reverse 
&gt;&gt; request, or indicates there are no more pending reverse requests.
&gt;&gt;
&gt;&gt; I'm doing it this way because my HTTP server is single-threaded, so I can't 
&gt;&gt; tie it up with an open socket.
&gt;&gt;     
&gt;
&gt; This is terrible judgement and very fun.  A pox on your kludged-up soul!
&gt;   
Well, I don't see any other way to do it.  Someone say "the firewall is 
there for a reason".  Yes, it's there to keep people from the outside 
from getting at machines on the inside.  But with my inverted request 
mechanism, an arbitrary machine from the outside still can't send a 
request to the inside.  A machine from the inside has to contact the 
outside server, to request a request.  So I don't think I'm violating 
the spirit of the firewall.

I guess could all be done via some proprietary protocol, instead of 
HTTP.  But why reinvent the wheel?

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5956<br>
Sender:"Alan Dean" &lt;alan.dean+rest-discuss@...&gt;<br>
Post Date/Time:2006-04-14 19:46:32<br>
Subject:Re: Meaning of stateless (was: Avoiding re-POSTS)<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, "Bob Haugen" &lt;bob.haugen@...&gt; wrote:
&gt;
&gt; In my opinion, the fine distinctions between session and other kinds
&gt; of conversational state, and the  REpresentational State Transfer
&gt; state, is the single biggest source of confusion in explaining REST.
&gt; 
&gt; I understand that the server must not need to keep track of previous
&gt; requests in order to process the current request.
&gt; 
&gt; But can the server GET representations from other resources when
&gt; processing a request?
&gt; 
&gt; (E.g. get a credit authorization before responding to a purchase
order message.)
&gt; 
&gt; That seems logical to me.  What would Roy say?
&gt;

Let's say we are building an retail website. We decide that we need a
basket to hold selected goods before checkout.

We could decide to build the basket in session state. However, the
session will be torn down at some point (as it is volatile). Instead
of making the session persistent, the better approach is to define the
basket itself as a resource, with it's own URL (say
http://example.com/store/user.name/basket ) which can accept RESTful
messages to alter the state of the resource.

Alan Dean
Lead Developer, OnlineTravel.com




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5957<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-04-14 19:50:30<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless (was: Avoiding re-POSTS)<br>
Message:<br><br>
<pre>Hi Lyle,

On Apr 14, 2006, at 12:08 PM, Lyle Kopnicky wrote:

&gt; So, is the "diamond" Bill suggested a piece of session state?
&gt;
&gt; Clearly, the server is holding onto state, as each resource has a
&gt; state.  Requests from the client can change that state.  What exactly
&gt; makes something "session" state as opposed to some other kind of  
&gt; state?
&gt;
&gt; Can you give me an example of an application in which requests from  
&gt; the
&gt; client to the server do not contain all of the information  
&gt; necessary to
&gt; understand the request?

I can try and illustrate my understanding of REST, and I would  
appreciate getting validation from this list, or correction if I'm  
wrong about REST. I did find Roy Fielding's dissertation a bit hard  
to understand, but one of the big ideas I took away from it is that  
in the REST style, URIs map to chunks of state on the server. So I  
guess that's what resources are: conceptual pieces of state. A client  
GET of a particular URI will retrieve a representations of the state  
identified by the URI. A POST the a URI could update or modify the  
state. A PUT is a way to add a new piece of state at a new URI (or at  
least make a polite request that it be done), and a DELETE is a way  
to get rid of that piece of state altogether, or at least request it  
be deleted.

I believe the way we currently handle form POSTs on Artima is  
unRESTful. We do it that way because we bought some software in 2001  
that did it that way, and we just continued in the tradition. I think  
a lot of people do it this way. The way it works is:

GET http://www.artima.com/account/new

Gets you a blank form for creating a new account. You fill this out,  
but accidentally, your passwords don't match (we make you type your  
password twice). You POST back to the same URL:

POST http://www.artima.com/account/new

We realize your passwords don't match. Now we want to clear both  
passwords and put an error message indicating you need to type your  
passwords again because they didn't match. Because we want to avoid  
the ugly dialog box on back up, we want to do a redirect after POST  
to GET. But when the GET comes in, we need to know what data you  
filled in the form with, and we need to know that the error was with  
the password mismatch. So we stick that state into the user session,  
and redirect you back once again to the same URL. Your browser will  
do yet another GET:

GET http://www.artima.com/account/new

This time around, however, we aren't going to send you a blank form.  
We're going to send you a representation of the current state of our  
conversation with you, the form with all the fields you filled in,  
minus your passwords, plus an error message. We know to do this  
because we look up and find the state in the session when this GET  
request comes in. When the first GET request came in, there was no  
such session state, so we sent a blank form.

The unRESTful thing about this, as I understand REST, is that I'm  
using the same URI to represent two different pieces of application  
state. One is the blank form, which is the application state at the  
start of our conversation. The other is the partly filled in form  
plus the error message, which represents the state of the  
conversation after your first attempt at registering.

Diamonds are really an implementation idea that I'm considering, but  
what I think is RESTful about how I plan to use diamonds is that the  
diamond identifier will show up in the URI. So in the diamond case, I  
store the state not in the user's session. In fact I don't have a  
user session. I just store it in my diamond cache (and database for  
replication) and get back an opaque identifier, which I include in  
the redirect URL. So in this case, the second GET would be:

GET http://www.artima.com/account/new?z=392jfuwqk1hd9

Where 392jfuwqk1hd9 is the opaque diamond identifier. So now the  
second step in our conversation has its own URI. The first URI:

GET http://www.artima.com/account/new

Will always return a blank form. The second URI:

GET http://www.artima.com/account/new?z=392jfuwqk1hd9

Will always return exactly what you posted the first time, minus the  
passwords, plus the error message. If you make a second attempt at  
typing in your passwords and they still don't match, you'll be  
redirected to a third URI, say:

GET http://www.artima.com/account/new?z=dk28fWSJ13

So you can back up and hit reload to your heart's content. You'll  
always be reloading a URI that refers to the exact state of the  
application at that point in the conversation.

In summary, I think this is RESTful. Regardless of its RESTfulness, I  
think it is more user-friendly, and it also means that the URI for  
the blank form can be cached effectively. Please let me know if any  
of you think my understanding of REST as described here is wrong.

Thanks.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5958<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-14 19:52:00<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Dr. Ernie Prabhakar wrote:
&gt; Hi Lyle,
&gt;
&gt; On Apr 14, 2006, at 12:28 PM, Lyle Kopnicky wrote:
&gt;   
&gt;&gt; So, it sounds like there's a sliding scale between "session state" and
&gt;&gt; "persistent state" - no hard boundary.
&gt;&gt;     
&gt;
&gt; My assumption is that the only state the server should store is  
&gt; "resources" which are identified by a URL, such that a GET for that  
&gt; resource will (unless its been explicitly changed)
That's a big "unless".  The session state remains the same, unless it's 
explicitly changed, too.
&gt;  will always return  
&gt; the same representation.
Well, according to Fielding:
&gt; "5.1.3 Stateless
&gt;
&gt; We next add a constraint to the client-server interaction:
&gt; communication must be stateless in nature, as in the
&gt; client-stateless-server (CSS) style of Section 3.4.3 (Figure 5-3),
&gt; such that each request from client to server must contain all of the
&gt; information necessary to understand the request, and cannot take
&gt; advantage of any stored context on the server. Session state is
&gt; therefore kept entirely on the client."
He says "each request from client to server must must contain all of the 
information necessary to understand the request."  He doesn't say that 
information must be in the URI.  It could be in a header, e.g. an 
Accept-* header, or a Cookie header, or even in the body of the request, 
right?
&gt;    That is, it should always be possible for  
&gt; the client to explicitly Represent what State a Request is relying upon.
&gt;   
I'm not sure what that means.  Any representation could represent any 
state.  So the number "1" could represent... anything.
&gt; That may not be entirely accurate, but hopefully that points you in  
&gt; the right direction (or else someone will redirect me).
&gt;   
Thanks, but I still think there are some hidden assumptions I'm missing....

-- 

Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5959<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-14 20:25:42<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Lyle Kopnicky &lt;lyle@...&gt; writes:

&gt; Well, according to Fielding:
&gt;&gt; "5.1.3 Stateless
&gt;&gt;
&gt;&gt; We next add a constraint to the client-server interaction:
&gt;&gt; communication must be stateless in nature, as in the
&gt;&gt; client-stateless-server (CSS) style of Section 3.4.3 (Figure 5-3),
&gt;&gt; such that each request from client to server must contain all of the
&gt;&gt; information necessary to understand the request, and cannot take
&gt;&gt; advantage of any stored context on the server. Session state is
&gt;&gt; therefore kept entirely on the client."

&gt; He says "each request from client to server must must contain all of the 
&gt; information necessary to understand the request."  He doesn't say that 
&gt; information must be in the URI.  It could be in a header, e.g. an 
&gt; Accept-* header, or a Cookie header, or even in the body of the request, 
&gt; right?

Yes.

&gt;&gt;    That is, it should always be possible for  
&gt;&gt; the client to explicitly Represent what State a Request is relying upon.
&gt;&gt;   
&gt; I'm not sure what that means.  Any representation could represent any 
&gt; state.  So the number "1" could represent... anything.

No. A classic example is the simple demo of the benefits of a page
templating engine; for example jsp (this is a *real* example
remembered from the jsp spec, which I was involved with at one point):

  &lt;html&gt;
  &lt;body&gt;
  &lt;% 
  int counter = ((Integer)session.getAttribute("counter")).intValue();
  counter++;
  session.setAttribute("counter", new Integer(counter));
  %&gt;
  This page has been accessed: &lt;%= counter %&gt; times.
  &lt;/body&gt;
  &lt;/html&gt;

Every time that resource is accessed it will be different. And the
information which allows you to see how it is different is not
available in the request, it's stored in the "session".



The above example is also a good illustration of why sessions are
bad. It is clearly unscalable to do the above. You can start fixing
that scalability problem by throwing money at bea or whoever... but
that way is very expensive. 

By designing RESTfully you get to write less cheques.


Nic Ferrier


PS note that keeping data in the cookie header is ok. As long as it's
always presented in the cookie header. You have to be able to do
shopping carts somehow.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5960<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2006-04-14 20:37:30<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Hi Lyle,

As Alan said, I think it is important to note that Roy was not merely  
trying to describe HTTP and HTML, which is why he didn't specifically  
call out URLs and such all over the place.

For our purposes, I think it is completely safe to say:

* Every Resource on the server should be identified by a URL
* Clients use HTTP GET to retrieve a useful Representation of that  
Resource
* Client requests should *only* depend on (and affect) the Resources  
explicitly listed

To be sure, there are "dynamic" resources which are changed as a side  
effect, e.g. "cgi/last-modified".  But, that Resource is expected to  
change unpredictably, and should presumably indicate as much in its  
headers, so that proxy servers et al can respond appropriately.

 From this perspective, Cookies are bad to the extent that they move  
server state *outside* the explicit naming hierarchy of URLs, and  
thus outside the usual ecosystem of servers and proxies.  Yeah, it  
works, but its a bit of a kludge; I suspect that -- with what we know  
now -- we would've been able to design something that better fits the  
existing architecture of the web.

At least thats my understanding. I'm sure Roy himself weight in soon  
if we completely mis-Represent him. :-)

-- Ernie P.

On Apr 14, 2006, at 1:01 PM, Alan Dean wrote:

&gt; I suspect you are missing the concept that the message should  
&gt; completely describe the resource in question. As Roy points out:  
&gt; the outcome of this is that messages become more verbose and,  
&gt; accordingly, the Cache headers become more important to get right.
&gt;
&gt; So passing a body with the content of "1" is meaningless as  
&gt; intermediaries cannot operate upon the message (another constraint  
&gt; stipulated by Roy).
&gt;
&gt; Alan Dean
&gt;
&gt; On 14/04/06, Lyle Kopnicky &lt;lyle@...&gt; wrote:
&gt; Dr. Ernie Prabhakar wrote:
&gt; &gt; Hi Lyle,
&gt; &gt;
&gt; &gt; On Apr 14, 2006, at 12:28 PM, Lyle Kopnicky wrote:
&gt; &gt;
&gt; &gt;&gt; So, it sounds like there's a sliding scale between "session  
&gt; state" and
&gt; &gt;&gt; "persistent state" - no hard boundary.
&gt; &gt;&gt;
&gt; &gt;
&gt; &gt; My assumption is that the only state the server should store is
&gt; &gt; "resources" which are identified by a URL, such that a GET for that
&gt; &gt; resource will (unless its been explicitly changed)
&gt; That's a big "unless".  The session state remains the same, unless  
&gt; it's
&gt; explicitly changed, too.
&gt; &gt;  will always return
&gt; &gt; the same representation.
&gt; Well, according to Fielding:
&gt; &gt; " 5.1.3 Stateless
&gt; &gt;
&gt; &gt; We next add a constraint to the client-server interaction:
&gt; &gt; communication must be stateless in nature, as in the
&gt; &gt; client-stateless-server (CSS) style of Section 3.4.3 (Figure 5-3),
&gt; &gt; such that each request from client to server must contain all of the
&gt; &gt; information necessary to understand the request, and cannot take
&gt; &gt; advantage of any stored context on the server. Session state is
&gt; &gt; therefore kept entirely on the client."
&gt; He says "each request from client to server must must contain all  
&gt; of the
&gt; information necessary to understand the request."  He doesn't say that
&gt; information must be in the URI.  It could be in a header, e.g. an
&gt; Accept-* header, or a Cookie header, or even in the body of the  
&gt; request,
&gt; right?
&gt; &gt;    That is, it should always be possible for
&gt; &gt; the client to explicitly Represent what State a Request is  
&gt; relying upon.
&gt; &gt;
&gt; I'm not sure what that means.  Any representation could represent any
&gt; state.  So the number "1" could represent... anything.
&gt; &gt; That may not be entirely accurate, but hopefully that points you in
&gt; &gt; the right direction (or else someone will redirect me).
&gt; &gt;
&gt; Thanks, but I still think there are some hidden assumptions I'm  
&gt; missing....
&gt;
&gt; --
&gt;
&gt; Lyle Kopnicky
&gt; Software Project Engineer
&gt; Veicon Technology, Inc.
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5961<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-14 22:19:29<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Nic wrote:
&gt; No. A classic example is the simple demo of the benefits of a page
&gt; templating engine; for example jsp (this is a *real* example
&gt; remembered from the jsp spec, which I was involved with at one point):
&gt;
&gt;   &lt;html&gt;
&gt;   &lt;body&gt;
&gt;   &lt;% 
&gt;   int counter = ((Integer)session.getAttribute("counter")).intValue();
&gt;   counter++;
&gt;   session.setAttribute("counter", new Integer(counter));
&gt;   %&gt;
&gt;   This page has been accessed: &lt;%= counter %&gt; times.
&gt;   &lt;/body&gt;
&gt;   &lt;/html&gt;
&gt;
&gt; Every time that resource is accessed it will be different. And the
&gt; information which allows you to see how it is different is not
&gt; available in the request, it's stored in the "session".
&gt;   
Well, every time I access a page representing a stock ticker, it could 
be different, too.  Every time I access a Wikipedia article, it could be 
different.  And the information about how the Wikipedia article is 
different, if I'm lucky, is buried in the form of English text in the 
related discuss page.
&gt; The above example is also a good illustration of why sessions are
&gt; bad. It is clearly unscalable to do the above. You can start fixing
&gt; that scalability problem by throwing money at bea or whoever... but
&gt; that way is very expensive. 
&gt;   
I'm guessing you mean because the session state is presumably kept local 
to one server.  I don't know how the "session" object in JSP is 
implemented.  For all I know it could come from a distributed database.

Suppose, instead of using a "session" object in JSP, I used a separate 
resource, accessible by a URL.  Then if that resource was changed, how 
would the change be propagated to all the other servers in the farm?  
Seems you have the same problem, with a session object, or with a 
"resource".
&gt; By designing RESTfully you get to write less cheques.
&gt;
&gt;
&gt; Nic Ferrier
&gt;
&gt;
&gt; PS note that keeping data in the cookie header is ok. As long as it's
&gt; always presented in the cookie header. You have to be able to do
&gt; shopping carts somehow.
&gt;   
Well, I've seen examples where people put the shopping cart ID into the 
URL explicitly.  E.g., a POST to http://www.example.com/carts/23892 puts 
a new item in cart #23892.

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5962<br>
Sender:"Alan Dean" &lt;alan.dean+rest-discuss@...&gt;<br>
Post Date/Time:2006-04-14 22:44:21<br>
Subject:Re: Meaning of stateless<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, Lyle Kopnicky &lt;lyle@...&gt; wrote:
&gt;
&gt; Nic wrote:
&gt; &gt; No. A classic example is the simple demo of the benefits of a page
&gt; &gt; templating engine; for example jsp (this is a *real* example
&gt; &gt; remembered from the jsp spec, which I was involved with at one point):
&gt; &gt;
&gt; &gt;   &lt;html&gt;
&gt; &gt;   &lt;body&gt;
&gt; &gt;   &lt;% 
&gt; &gt;   int counter = ((Integer)session.getAttribute("counter")).intValue();
&gt; &gt;   counter++;
&gt; &gt;   session.setAttribute("counter", new Integer(counter));
&gt; &gt;   %&gt;
&gt; &gt;   This page has been accessed: &lt;%= counter %&gt; times.
&gt; &gt;   &lt;/body&gt;
&gt; &gt;   &lt;/html&gt;
&gt; &gt;
&gt; &gt; Every time that resource is accessed it will be different. And the
&gt; &gt; information which allows you to see how it is different is not
&gt; &gt; available in the request, it's stored in the "session".
&gt; &gt;   
&gt; Well, every time I access a page representing a stock ticker, it could 
&gt; be different, too.  Every time I access a Wikipedia article, it
could be 
&gt; different.  And the information about how the Wikipedia article is 
&gt; different, if I'm lucky, is buried in the form of English text in the 
&gt; related discuss page.


Indeed. The content of a resource can vary and still be the same
resource according to the identifier, e.g. a wikipedia entry
http://en.wikipedia.org/wiki/Representational_State_Transfer  is still
the same resource if the entry is edited.


&gt; &gt; The above example is also a good illustration of why sessions are
&gt; &gt; bad. It is clearly unscalable to do the above. You can start fixing
&gt; &gt; that scalability problem by throwing money at bea or whoever... but
&gt; &gt; that way is very expensive. 
&gt; &gt;   
&gt; I'm guessing you mean because the session state is presumably kept
local 
&gt; to one server.  I don't know how the "session" object in JSP is 
&gt; implemented.  For all I know it could come from a distributed database.

As I mentioned in an earlier message, session is usually stored near
the web server (either in memory or in a session store/database)
separate to the persistent store.


&gt; 
&gt; Suppose, instead of using a "session" object in JSP, I used a separate 
&gt; resource, accessible by a URL.  Then if that resource was changed, how 
&gt; would the change be propagated to all the other servers in the farm?  
&gt; Seems you have the same problem, with a session object, or with a 
&gt; "resource".


The problem is not the same, because to be a resource the data will
not be volatile (in that it may simply disappear with the passage of
time) but instead would be store in the persistent database and still
be available at any future point in time provided that no DELETE
method is used.


&gt; &gt; By designing RESTfully you get to write less cheques.
&gt; &gt;
&gt; &gt;
&gt; &gt; Nic Ferrier
&gt; &gt;
&gt; &gt;
&gt; &gt; PS note that keeping data in the cookie header is ok. As long as it's
&gt; &gt; always presented in the cookie header. You have to be able to do
&gt; &gt; shopping carts somehow.
&gt; &gt;   
&gt; Well, I've seen examples where people put the shopping cart ID into the 
&gt; URL explicitly.  E.g., a POST to http://www.example.com/carts/23892
puts 
&gt; a new item in cart #23892.
&gt; 
&gt; -- 
&gt; Lyle Kopnicky
&gt; Software Project Engineer
&gt; Veicon Technology, Inc.
&gt;

The example above of an identified cart is a good example of an
approach that explicitly deprecates session (this doesn't necessarily
mean that it is RESTful, of course: that would depend on the
appropriate support for the necessary RESTful HTTP methods). I would
have an issue with the security weaknesses of exposing the resource
identity in a manner that opens a large attack profile but that is a
separate matter ;-) 

Alan Dean
Lead Developer, OnlineTravel.com




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5963<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-14 23:04:28<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Dr. Ernie Prabhakar wrote:
&gt; Hi Lyle,
&gt;
&gt; As Alan said, I think it is important to note that Roy was not merely 
&gt; trying to describe HTTP and HTML, which is why he didn't specifically 
&gt; call out URLs and such all over the place.
&gt;
&gt; For our purposes, I think it is completely safe to say:
&gt;
&gt; * Every Resource on the server should be identified by a URL
OK, makes sense.  I'll also assume the converse, that anything 
identified by a URL is a resource.  It should also be noted that a 
client also has to be authorized to access a resource.  So, even if a 
resource is identified by a URL, the client may not have permission to 
read/write it.
&gt; * Clients use HTTP GET to retrieve a useful Representation of that 
&gt; Resource
Got it.
&gt; * Client requests should *only* depend on (and affect) the Resources 
&gt; explicitly listed
What does it mean for a request to "depend" on something?  I think you 
mean that the result of a request is functionally dependent on the 
content of the request and the state of the resource.

But "resource" is a fuzzy boundary.  If I retrieve a page with 
information about a book, and that page includes the current date at the 
top, is that un-RESTful, because that date was the resource I was 
requesting, and is not accessible by a separate URL?
&gt; To be sure, there are "dynamic" resources which are changed as a side 
&gt; effect, e.g. "cgi/last-modified".  But, that Resource is expected to 
&gt; change unpredictably, and should presumably indicate as much in its 
&gt; headers, so that proxy servers et al can respond appropriately.
I'm unfamiliar with what you're saying.  Are you talking about a 
resource like "http://www.example.com/cgi/lat-modified"?  What would 
that represent?  The last time the "cgi" folder was modified?
&gt; From this perspective, Cookies are bad to the extent that they move 
&gt; server state *outside* the explicit naming hierarchy of URLs, and thus 
&gt; outside the usual ecosystem of servers and proxies.  Yeah, it works, 
&gt; but its a bit of a kludge; I suspect that -- with what we know now -- 
&gt; we would've been able to design something that better fits the 
&gt; existing architecture of the web.
&gt;
I think I see what you are saying.  The server state to which the cookie 
refers has no corresponding URL.  Perhaps the cookies would be OK, if 
you could also access them by URL, e.g. 
"http://www.example.com/cookies/AFK234lkjsD".
&gt; At least thats my understanding. I'm sure Roy himself weight in soon 
&gt; if we completely mis-Represent him. :-)
&gt;
Thanks.

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5964<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-14 23:26:48<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Lyle Kopnicky &lt;lyle@...&gt; writes:

&gt; Nic wrote:
&gt;&gt; No. A classic example is the simple demo of the benefits of a page
&gt;&gt; templating engine; for example jsp (this is a *real* example
&gt;&gt; remembered from the jsp spec, which I was involved with at one point):
&gt;&gt;
&gt;&gt;   &lt;html&gt;
&gt;&gt;   &lt;body&gt;
&gt;&gt;   &lt;% 
&gt;&gt;   int counter = ((Integer)session.getAttribute("counter")).intValue();
&gt;&gt;   counter++;
&gt;&gt;   session.setAttribute("counter", new Integer(counter));
&gt;&gt;   %&gt;
&gt;&gt;   This page has been accessed: &lt;%= counter %&gt; times.
&gt;&gt;   &lt;/body&gt;
&gt;&gt;   &lt;/html&gt;
&gt;&gt;
&gt;&gt; Every time that resource is accessed it will be different. And the
&gt;&gt; information which allows you to see how it is different is not
&gt;&gt; available in the request, it's stored in the "session".
&gt;&gt;   
&gt; Well, every time I access a page representing a stock ticker, it could 
&gt; be different, too.  Every time I access a Wikipedia article, it could be 
&gt; different.  And the information about how the Wikipedia article is 
&gt; different, if I'm lucky, is buried in the form of English text in the 
&gt; related discuss page.

But this:

  &lt;html&gt;
  &lt;body&gt;
  This page has been accessed &lt;img src="/stockticker.jpg"/&gt;
  &lt;/body&gt;
  &lt;/html&gt;

is complying with REST by representing the state in separate resources
and not hidden away from the resources.


&gt;&gt; The above example is also a good illustration of why sessions are
&gt;&gt; bad. It is clearly unscalable to do the above. You can start fixing
&gt;&gt; that scalability problem by throwing money at bea or whoever... but
&gt;&gt; that way is very expensive. 
&gt;&gt;   
&gt; I'm guessing you mean because the session state is presumably kept local 
&gt; to one server.  I don't know how the "session" object in JSP is 
&gt; implemented.  For all I know it could come from a distributed
&gt; database.

It could do. Typically it does not but that's certainly what the whole
web facing part of J2EE is about.

But this is very complicated. OO bindings to RDBMS and so forth. Much
more complicated than storing resources in a db for example.


&gt; Suppose, instead of using a "session" object in JSP, I used a separate 
&gt; resource, accessible by a URL.  Then if that resource was changed, how 
&gt; would the change be propagated to all the other servers in the farm?  
&gt; Seems you have the same problem, with a session object, or with a 
&gt; "resource".

That's true. It's more complicated though because you've still got 2
things instead of one (a resource and the session).

But consider the scalability implications of never being able to have
an intermediary cache the resource (because you don't know when it
will change).

In badly designed J2EE apps I've been involved with there is a lot of
effort spent on trying to enforce a lack of caching. Poorly
implemented caches seem quite common.

If they were done right with the state in the resource we wouldn't
have to do that.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5965<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-14 23:36:08<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Lyle Kopnicky &lt;lyle@...&gt; writes:

&gt; But "resource" is a fuzzy boundary.  If I retrieve a page with 
&gt; information about a book, and that page includes the current date at the 
&gt; top, is that un-RESTful, because that date was the resource I was 
&gt; requesting, and is not accessible by a separate URL?

Yes. Why do you include the current date in a resource about a book??

Generate the date with javascript or something.


&gt; I think I see what you are saying.  The server state to which the cookie 
&gt; refers has no corresponding URL.  Perhaps the cookies would be OK, if 
&gt; you could also access them by URL, e.g. 

No. Consider my jsp example again:

   http://simple/simple.jsp

is the page generated by the JSP page... but the output of the program
(and therefore the content of the resource) depends on the data in the
session, not just the data in the request.

The data in the session is unknown to the client. It could be
anything!



Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5966<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-15 00:42:27<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Thanks for your response.

Nic wrote:
&gt; But this:
&gt;   
&gt;
&gt;   &lt;html&gt;
&gt;   &lt;body&gt;
&gt;   This page has been accessed &lt;img src="/stockticker.jpg"/&gt;
&gt;   &lt;/body&gt;
&gt;   &lt;/html&gt;
&gt;
&gt; is complying with REST by representing the state in separate resources
&gt; and not hidden away from the resources.
&gt;
&gt;   
Not as easy to do with text... you can't just link it in, but have to 
write JavaScript to retrieve the text from the separate resource and add 
it into the page.

Separating out all resources is a burden on network traffic and the 
client.  Take a look at http://www.yahoo.com.  It's got a lot of 
resources on one page.  It's got a directory, a list of movies, stuff 
about small businesses, featured services, entertainment, buzz log, 
news, traffic, etc.  Are you saying the only RESTful way to do this is 
to give each of these separate URLs?  I guess the pictures are already 
being downloaded as separate resources, so maybe it's not too much of a 
stretch.  It just seems so much more efficient for the server to compose 
it on the fly.  But maybe the advantage of caching outweighs it.
&gt; That's true. It's more complicated though because you've still got 2
&gt; things instead of one (a resource and the session).
&gt;   
If you want to have things like online banking, or personalized site 
pages (like Yahoo can do), or web mail, I don't see how you can avoid 
having two things.  E.g., the URL for your April bank statement is 
http://www.bank.com/statements/200604, and your identity is passed along 
some other way, say through a cookie.  You could instead have a URL that 
included your identity, like 
http://www.bank.com/accounts/928349/statements/200604, but if you 
bookmarked it, it would always go to your account (at which point it 
would authenticate you).  So you couldn't make one bookmark that would 
work for everyone.
&gt; But consider the scalability implications of never being able to have
&gt; an intermediary cache the resource (because you don't know when it
&gt; will change).
&gt;   
Well, you never know when any resource might change, right?

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5967<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-15 00:58:17<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Lyle Kopnicky &lt;lyle@...&gt; writes:

&gt; Separating out all resources is a burden on network traffic and the 
&gt; client.  Take a look at http://www.yahoo.com.  It's got a lot of 
&gt; resources on one page.  It's got a directory, a list of movies, stuff 
&gt; about small businesses, featured services, entertainment, buzz log, 
&gt; news, traffic, etc.  Are you saying the only RESTful way to do this is 
&gt; to give each of these separate URLs?  I guess the pictures are already 
&gt; being downloaded as separate resources, so maybe it's not too much of a 
&gt; stretch.  It just seems so much more efficient for the server to compose 
&gt; it on the fly.  

I believe you're quite wrong. Pipelining and persistent connections
negated the performance penalty of many resources years ago.

And anyway, we're talking about scalability; not performance.


Note that REST isn't some new idea that was just dreamed up. There are
many apps out there built with these techniques. They tend to be the
highly scalable ones.


&gt; If you want to have things like online banking, or personalized site 
&gt; pages (like Yahoo can do), or web mail, I don't see how you can avoid 
&gt; having two things.  E.g., the URL for your April bank statement is 
&gt; http://www.bank.com/statements/200604, and your identity is passed along 
&gt; some other way, say through a cookie. 

Authentication is not tangenital to the resource. It is part of the
resource. HTTP authentication is part of the header. You can even do
cookie authentication this way (by keeping the auth details in the
header).

[Note that clear-text visibility is not an argument against this
 approach because we have SSL for proper security]


&gt;&gt; But consider the scalability implications of never being able to have
&gt;&gt; an intermediary cache the resource (because you don't know when it
&gt;&gt; will change).
&gt;&gt;   
&gt; Well, you never know when any resource might change, right?

But the caching model in HTTP works for resources. Nothing else. So
a cache can handle resource changes... Last Modified resource caching
is particularly easy to implement (hence it's inclusion in many
frameworks).

But a session based app can rarely allow any caching because of the
complexity of doing it.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5968<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-15 01:59:47<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Nic wrote:
&gt; Lyle Kopnicky &lt;lyle@...&gt; writes:
&gt;
&gt;   
&gt;&gt; Separating out all resources is a burden on network traffic and the 
&gt;&gt; client.  Take a look at http://www.yahoo.com.  It's got a lot of 
&gt;&gt; resources on one page.  It's got a directory, a list of movies, stuff 
&gt;&gt; about small businesses, featured services, entertainment, buzz log, 
&gt;&gt; news, traffic, etc.  Are you saying the only RESTful way to do this is 
&gt;&gt; to give each of these separate URLs?  I guess the pictures are already 
&gt;&gt; being downloaded as separate resources, so maybe it's not too much of a 
&gt;&gt; stretch.  It just seems so much more efficient for the server to compose 
&gt;&gt; it on the fly.  
&gt;&gt;     
&gt;
&gt; I believe you're quite wrong. Pipelining and persistent connections
&gt; negated the performance penalty of many resources years ago.
&gt;   
OK, I can accept that.
&gt; And anyway, we're talking about scalability; not performance.
&gt;   
I'm not sure why session state is not scalable.  It can be replicated 
amongst servers like anything else.
&gt; Note that REST isn't some new idea that was just dreamed up. There are
&gt; many apps out there built with these techniques. They tend to be the
&gt; highly scalable ones.
&gt;   
Maybe I need a good definition of scalability.
&gt;&gt; If you want to have things like online banking, or personalized site 
&gt;&gt; pages (like Yahoo can do), or web mail, I don't see how you can avoid 
&gt;&gt; having two things.  E.g., the URL for your April bank statement is 
&gt;&gt; http://www.bank.com/statements/200604, and your identity is passed along 
&gt;&gt; some other way, say through a cookie. 
&gt;&gt;     
&gt;
&gt; Authentication is not tangenital to the resource. It is part of the
&gt; resource. HTTP authentication is part of the header.
Part of the header &lt;&gt; Part of the URL.  There's a lot of talk that it 
isn't RESTful unless the resource identification is in the URL, not just 
any place in the header.
&gt;  You can even do
&gt; cookie authentication this way (by keeping the auth details in the
&gt; header).
&gt;   
So cookies aren't really any different than HTTP authentication, right?  
They are both passed through the header.  They both require that the 
client store state - the authentication details.
&gt; But the caching model in HTTP works for resources. Nothing else. So
&gt; a cache can handle resource changes... Last Modified resource caching
&gt; is particularly easy to implement (hence it's inclusion in many
&gt; frameworks).
&gt;   
So I guess the caching model will be broken, if you use HTTP 
authentication details to select a resource.  Doesn't that make HTTP 
authentication non-RESTful?

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5969<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2006-04-15 04:17:34<br>
Subject:RE: [rest-discuss] Inverted requests<br>
Message:<br><br>
<pre>&gt; &gt;   
&gt; Well, just to throw you for a further loop, I'm doing it with 
&gt; one-off connections.  So, the client periodically sends a 
&gt; POST to the server, which responds with any pending "reverse 
&gt; request".  End of connection.  
You should use GET rather than POST.

&gt; 
&gt; I'm doing it this way because my HTTP server is 
&gt; single-threaded, so I can't tie it up with an open socket.
With non-blocking IO you don't have to dedicate the thread to handle a
single connection.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5970<br>
Sender:"Alan Dean" &lt;alan.dean+rest-discuss@...&gt;<br>
Post Date/Time:2006-04-15 09:05:39<br>
Subject:Re: Meaning of stateless<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, Lyle Kopnicky &lt;lyle@...&gt; wrote:

&gt; * snip *
&gt; I'm not sure why session state is not scalable.  It can be replicated 
&gt; amongst servers like anything else.


In addition to being volatile, session state is private and opaque.
Yes, session state can be replicated amongst servers in a single web
farm but that misses Roys scalability: that you can leverage
intermediaries to achieve scalability. If the resource at a URL has
the cache headers appropriately then servers that you do not control
and know nothing about can intercept requests and serve responses from
a cache rather than having to propagate every request back to the host.

An example. Let's say that you are writing a news web site. You design
the site in a RESTful manner, publishing articles in the form:

    http://example.com/news/article/name

If you add "Cache-Control: public" the intermediaries know that they
do not need to obtain a 'live' copy of the article from example.com
every time. These intermediaries might include the users browser, or a
proxy server. You can also set the "Expires" header to indicate when
cached resources become stale.

This is clearly far more scalable because the example.com servers need
not receive every client request. Not only that, but the example.com
servers can themselves implement cache support to relieve the
individual cost of requests, and this can be layered on top of the
live application transparently.

None of this is possible if the data at a URL is not a resource, but
is instead based upon private, opaque, volatile session state.

I think that many software developers have become hostage to the
development frameworks that they utilise. In turn, many frameworks
have made session state a fundamental building block of web
development because it permits sloppy design. In the pursuit of
productivity, framework providers have sought to abstract away the
fundamental nature of HTTP and pretend that it is stateful. Why?
Because stateless development is harder. A concrete example? These
days I develop using the .NET Framework. If you take at ASP.NET 'from
15,000 feet' then you can see that the objective of WebForms is to
pretend that a web page can be written in the same way that a Windows
Forms application can be written. This is simply not so. One is an
apple, the other is an orange. No matter how you squint, they aren't
the same. Not all of ASP.NET is evil though: HttpModules and
HttpHandlers have allowed developers to write 'native HTTP'
applications again, where ASP(.OLD) did not (unless you knew how to
write ISAPI extensions).


&gt; * snip *
&gt; Maybe I need a good definition of scalability.

Roys provides this definition:

"2.3.2 Scalability

Scalability refers to the ability of the architecture to support large
numbers of components, or interactions among components, within an
active configuration. Scalability can be improved by simplifying
components, by distributing services across many components
(decentralizing the interactions), and by controlling interactions and
configurations as a result of monitoring. Styles influence these
factors by determining the location of application state, the extent
of distribution, and the coupling between components. 

Scalability is also impacted by the frequency of interactions, whether
the load on a component is distributed evenly over time or occurs in
peaks, whether an interaction requires guaranteed delivery or a
best-effort, whether a request involves synchronous or asynchronous
handling, and whether the environment is controlled or anarchic (i.e.,
can you trust the other components?)."

&gt; &gt;&gt; If you want to have things like online banking, or personalized site 
&gt; &gt;&gt; pages (like Yahoo can do), or web mail, I don't see how you can
avoid 
&gt; &gt;&gt; having two things.  E.g., the URL for your April bank statement is 
&gt; &gt;&gt; http://www.bank.com/statements/200604, and your identity is
passed along 
&gt; &gt;&gt; some other way, say through a cookie. 


I think that the URL above is not RESTful because if I browse there
then I will receive a different resource than if you browse there. A
RESTful URL would be

    http://example.com/bank/statements/200604/alan.dean

The provided credentials would then be used the grant or deny access
to the resource of "Alan Dean's April 2006 Bank Statements".

Again, personalized pages are not inherently RESTful. If you have a
news site, you may be tempted to publish this URL:

    http://example.com/news/headlines

and then to provide some means of personalizing the content according
to a user. I would argue that if you want to offer personalized news,
then you would be better to have a standard headlines page (common to
all) at the above URL but support a personal news page at:

    http://example.com/news/headlines/alan.dean

This way, the resource is indicated properly. I think of it as
becoming transparent - no need for smoke and mirrors.

&gt; &gt; Authentication is not tangenital to the resource. It is part of the
&gt; &gt; resource. 


I would disagree. Authentication is not part of the resource, it is
part of the request payload.


&gt; HTTP authentication is part of the header.
&gt; Part of the header &lt;&gt; Part of the URL.  There's a lot of talk that it 
&gt; isn't RESTful unless the resource identification is in the URL, not
just 
&gt; any place in the header.


I think my examples above show this clearly.


&gt; &gt;  You can even do
&gt; &gt; cookie authentication this way (by keeping the auth details in the
&gt; &gt; header).
&gt; &gt;   
&gt; So cookies aren't really any different than HTTP authentication,
right?  
&gt; They are both passed through the header.  They both require that the 
&gt; client store state - the authentication details.


Not necessarily. Part of the drive to federated authentication is
prevent the need to every node to store credentials data for
authentication purposes.


&gt; &gt; But the caching model in HTTP works for resources. Nothing else. So
&gt; &gt; a cache can handle resource changes... Last Modified resource caching
&gt; &gt; is particularly easy to implement (hence it's inclusion in many
&gt; &gt; frameworks).
&gt; &gt;   
&gt; So I guess the caching model will be broken, if you use HTTP 
&gt; authentication details to select a resource.  Doesn't that make HTTP 
&gt; authentication non-RESTful?


No HTTP Auth is not inherently non-RESTful. It is simply a
standardized means of propagating credentials data with a request.
Certainly, as indicated above, you can write non-RESTful web sites
that use HTTP Auth. Nor is HTTP Auth required for REST. It is simply
one means of securing a resource if you choose to do so.

Alan Dean
Lead Developer, OnlineTravel.com




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5971<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-15 09:39:20<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Lyle Kopnicky &lt;lyle@...&gt; writes:

&gt;&gt; Authentication is not tangenital to the resource. It is part of the
&gt;&gt; resource. HTTP authentication is part of the header.
&gt; Part of the header &lt;&gt; Part of the URL.  There's a lot of talk that it 
&gt; isn't RESTful unless the resource identification is in the URL, not just 
&gt; any place in the header.

No. You've definitely got that wrong.

REST only demands that processing a request be done on information
present in the request and no request outside of that excepting the
existing state of the resource.


&gt; So cookies aren't really any different than HTTP authentication, right?  
&gt; They are both passed through the header.  They both require that the 
&gt; client store state - the authentication details.

Yes. There has been a lot of discussion about this here recently.


&gt;&gt; But the caching model in HTTP works for resources. Nothing else. So
&gt;&gt; a cache can handle resource changes... Last Modified resource caching
&gt;&gt; is particularly easy to implement (hence it's inclusion in many
&gt;&gt; frameworks).
&gt;&gt;   
&gt; So I guess the caching model will be broken, if you use HTTP 
&gt; authentication details to select a resource.  Doesn't that make HTTP 
&gt; authentication non-RESTful?

Sigh. No. An authenticated resource might still be cachable.

If the resource changed because of the authentication then any cache
of that resource will be invalidated.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5972<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-04-15 10:11:33<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless (was: Avoiding	re-POSTS)<br>
Message:<br><br>
<pre>On Fri, 2006-04-14 at 14:30 -0500, Bob Haugen wrote:
&gt; I understand that the server must not need to keep track of previous
&gt; requests in order to process the current request.
&gt; But can the server GET representations from other resources when
&gt; processing a request?
&gt; (E.g. get a credit authorization before responding to a purchase order message.)
&gt; That seems logical to me.  What would Roy say?

What happens inside the server usually has nothing to do with REST. It
can access whatever data it chooses to return the resource state. You
can think of the client as a world of hideously interconnected and
coupled components, such as a desktop application suite. You can think
of the server as a separate world of hideosuly interconnected and
coupled components, such a database and application server. REST doesn't
constrain either one to behave in a particular way internally. REST is a
formula for ensuring that what happens between these complex worlds
doesn't cause them to be coupled to each other as well as to themselves.

(messy, coupled client) &lt;---REST---&gt; (messy, coupled server)

A simple model of a RESTful server would be to view the whole server
state as a single bubble. Resources divide the whole server state into
subsets of that state and provide useful representations of them. They
draw lines around those subsets, but the state of different resources
may and most likely overlap.

I think people often mistake the REST model as meaning that server state
should be divided into non-overlapping resource states, and that how
resources are defined should be the same as how they are stored in the
back-end database. This is typically not the case. A back-end database
has a schema with possibly very little resource-dicated structure.
Resources represent subsets of the data stored in that schema, but the
set of resources and the database schema should be free to change and
evolve indepdendently.

REST is an approach for keeping things that should not be coupled
uncoupled. It divides local complexity from local complexity in order to
conquer overall architectural complexity. You can apply REST principles
to fairly small components before it stops paying off, but it is most
beneficial on the large scale and least beneficial on the small scale.

Possibly the main alternative to REST is Object-Orientation, which is of
most benefit on the small scale. On the larger scale, Object-Orientation
is of decreasing benefit. This same observation applies to traditional
controlled RDBMS schemas and to other design approaches. They don't
scale well across agency boundaries. REST recognises the uniformity
requirements of an architecture operated by the opposing interests of
different agencies. Object-Orientation is based around a consistency
model that can only really apply within the authority of a single
agency.

Benjamin.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5973<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-15 10:11:03<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>"Alan Dean" &lt;alan.dean+rest-discuss@...&gt; writes:

&gt;&gt; &gt; Authentication is not tangenital to the resource. It is part of the
&gt;&gt; &gt; resource. 
&gt;
&gt;
&gt; I would disagree. Authentication is not part of the resource, it is
&gt; part of the request payload.

Apologies. I meant to say:

  It is part of the request.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5974<br>
Sender:Jonathan Arkell &lt;yahoo@...&gt;<br>
Post Date/Time:2006-04-15 16:33:00<br>
Subject:Re: [rest-discuss] I have a question about REST in PHP<br>
Message:<br><br>
<pre>Adam Ratcliffe wrote:
&gt; Take a look at Tonic:
&gt; 
&gt; http://tonic.sourceforge.net/
&gt; 
&gt; It's a lightweight framework for implemening RESTful applications using
&gt; PHP.

There is also Meditation, which is my own pet project.

http://wiki.jonnay.net/bunny/meditation/meditation

Tonic works in PHP 4, but meditation is PHP 5 only.  The fundamental
difference between the two frameworks is that Meditation focuses mostly
on the request, leaving it up to the developer to worry about resources
and representations (a shortcoming I am working on), where as the
resource and representation seem central to Tonic (though, I haven't
used it enough to authoritatively comment)




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5975<br>
Sender:"Sandeep Shetty" &lt;sandeep.shetty@...&gt;<br>
Post Date/Time:2006-04-15 20:47:33<br>
Subject:Re: [rest-discuss] Request Header vs. Query String<br>
Message:<br><br>
<pre>Hey Roy,

On 4/13/06, Roy T. Fielding &lt;fielding@...&gt; wrote:
&gt; To do negotiation right, the client needs to be aware of all the
&gt; alternatives *and* what it should use as a bookmark.  In HTTP/1.1,
&gt; all we managed to standardize is 300 and Vary.  We needed Alternates
&gt; and Link to make it work.

Here's some stuff I found on these for the others like me who weren't
around during the formative days: [1] [2] [3] [4]

Looks like I had almost started off on a similar path [5] :)


&gt; &gt;&gt; the fact is that different languages do not produce equivalents.
&gt; &gt;&gt; There are hundreds of nuances, colloquialisms, and shared social
&gt; &gt;&gt; norms that simply do not translate.  We encourage resource owners
&gt; &gt;&gt; to only use true content negotiation (without redirects) when the
&gt; &gt;&gt; only difference between formats is mechanical in nature.
&gt; &gt;
&gt; &gt; Are you saying that true content negotiation should only be done for
&gt; &gt; stuff like changing formats (like when you have a base XML and you
&gt; &gt; convert it into PDF, HTML, etc.) and not for languages?
&gt;
&gt; I am saying that all important resources must have URIs.

Guess what I'm really asking is this:
I know that we don't have a lot of support for reactive (agent-driven)
negotiation, but if we had, would you still give different language
versions/formats of the same resource different URI's?


Sandeep Shetty
http://sandeep.shetty.in

[1] http://lists.w3.org/Archives/Public/ietf-http-wg-old/1997SepDec/0005.html
[2] http://www.ietf.org/rfc/rfc2068.txt  (12.2, 19.6.2.1, 19.6.2.4)
[3] http://www.hpl.hp.com/personal/ange/archives/archives-96/http-wg-archive/1771.html
[4] http://www.nyct.net/~aray/htmlwg/95q3/790.html
[5] http://groups.yahoo.com/group/rest-discuss/message/5885

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5976<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-04-15 21:10:24<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Hi Alan,

On Apr 15, 2006, at 2:05 AM, Alan Dean wrote:

&gt; I think that many software developers have become hostage to the
&gt; development frameworks that they utilise. In turn, many frameworks
&gt; have made session state a fundamental building block of web
&gt; development because it permits sloppy design. In the pursuit of
&gt; productivity, framework providers have sought to abstract away the
&gt; fundamental nature of HTTP and pretend that it is stateful. Why?
&gt; Because stateless development is harder.

I'm not convinced stateless is that much harder than stateful if  
you're operating close to the HTTP level of abstraction. It seems to  
me that whatever data you put in a user session and reference by the  
authentication token of subsequent requests, you could alternatively  
put into a generic store which you reference by an ID included in the  
subsequent request URIs, and authenticate whether the user has access  
to that data. People have long struggled with the back button not  
working using the session state approach, and I was really glad to  
finally have been shown a way to solve that problem by reading about  
REST.

I suspect the real reason these web frameworks all encourage user  
sessions is that the web development community as a whole didn't  
understand any better way initially. I think the first I ever heard  
that user session state was "bad" was from REST proponents, and that  
was fairly recently. As REST becomes better and more widely  
understood, I believe people are starting to think differently about  
how to architect a web application. I certainly am.

&gt; A concrete example? These
&gt; days I develop using the .NET Framework. If you take at ASP.NET 'from
&gt; 15,000 feet' then you can see that the objective of WebForms is to
&gt; pretend that a web page can be written in the same way that a Windows
&gt; Forms application can be written. This is simply not so. One is an
&gt; apple, the other is an orange. No matter how you squint, they aren't
&gt; the same.
I have seen frameworks that attempt to raise the level of abstraction  
of web application programming above that of HTTP. Java Server Faces  
feels this way to me to an extent, and possibly Tapestry. In such  
frameworks, I feel they are trying to abstract away the details of  
HTTP to make it easier on developers used to GUI frameworks like  
Swing. In both JSF and Tapestry, you define your pages in terms of  
trees of components. I quite like using components for rendering, and  
in our home-grown web/mvc framework, we are doing that. But what I  
don't quite feel right about is that in both of these frameworks,  
POST requests that come back get chopped up into events which are  
sent back to the components. Each component handles the its own  
events. So it feels very much like Swing (apples) on the surface, but  
it really isn't, because it's a request/response HTTP (oranges)  
underneath. In our web/mvc framework, even though we use components  
to render pages on the way out the door, we just use controllers with  
methods that handle GET, POST, and HEAD.

Although it is pretty neat the kind of Visual Basic-like click and  
drag, property editing stuff you can do to build web apps with JSF  
and Sun Studio, I think that's a good fit for smaller internal  
enterprise apps that don't really need to scale, the kinds of thing  
Visual Basic has been used for in the past. For apps that need to  
scale much larger, I think developers will be better served by a  
framework that doesn't try to hide that fact that they're working  
with HTTP.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5977<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-04-15 21:35:03<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless (was: Avoiding re-POSTS)<br>
Message:<br><br>
<pre>Hi Benjamin,

On Apr 15, 2006, at 3:11 AM, Benjamin Carlyle wrote:

&gt; I think people often mistake the REST model as meaning that server  
&gt; state
&gt; should be divided into non-overlapping resource states, and that how
&gt; resources are defined should be the same as how they are stored in the
&gt; back-end database. This is typically not the case. A back-end database
&gt; has a schema with possibly very little resource-dicated structure.
&gt; Resources represent subsets of the data stored in that schema, but the
&gt; set of resources and the database schema should be free to change and
&gt; evolve indepdendently.
&gt;
I want to second this. A REST proponent recently recommended to me  
that I base my access control on URIs, whereas I am more inclined to  
associate access control with database entities. Even though I'm  
building a web application, and even though HTTP is a really great  
protocol, the web and HTTP are not the end of history. Some day other  
technologies will come along and I'll want to serve up our content in  
new ways. An article is a database entity, therefore, and the URI of  
that article (the article "resource") is *mapped* to the entity. HTTP  
is one way of accessing and interacting with our database entities. I  
believe the way to use REST in design is when you are looking at your  
web application from the client's perspective. From the outside, how  
does the application behave? Does the back button work properly? How  
well can the application leverage HTTP caching?

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5978<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-17 17:02:50<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Thanks, I think I'm really starting to understand REST.

Alan Dean wrote:
&gt; In addition to being volatile, session state is private and opaque.
&gt;   
So, a definition of session state might be "state that is volatile, 
private and opaque"?
&gt; Yes, session state can be replicated amongst servers in a single web
&gt; farm but that misses Roys scalability: that you can leverage
&gt; intermediaries to achieve scalability. If the resource at a URL has
&gt; the cache headers appropriately then servers that you do not control
&gt; and know nothing about can intercept requests and serve responses from
&gt; a cache rather than having to propagate every request back to the host.
&gt;   
So, it seems to me the key idea of REST is scalability.  The biggest 
factor in scalability is having resources identifiable by URIs, most of 
which stay stable for long enough that they can be cached.  Isolate 
anything which must change frequently into a separate URI, so it will 
have the least impact on scalability.

Now something like a shopping cart can be identified by a URI, but it 
doesn't seem like it'll be stable for very long.  Or am I mistaken?  
Perhaps in computer time, a few minutes is an eternity, and you can get 
a lot out of caching.
&gt; I think that many software developers have become hostage to the
&gt; development frameworks that they utilise. In turn, many frameworks
&gt; have made session state a fundamental building block of web
&gt; development because it permits sloppy design. In the pursuit of
&gt; productivity, framework providers have sought to abstract away the
&gt; fundamental nature of HTTP and pretend that it is stateful. Why?
&gt; Because stateless development is harder. A concrete example? These
&gt; days I develop using the .NET Framework. If you take at ASP.NET 'from
&gt; 15,000 feet' then you can see that the objective of WebForms is to
&gt; pretend that a web page can be written in the same way that a Windows
&gt; Forms application can be written. This is simply not so. One is an
&gt; apple, the other is an orange. No matter how you squint, they aren't
&gt; the same. Not all of ASP.NET is evil though: HttpModules and
&gt; HttpHandlers have allowed developers to write 'native HTTP'
&gt; applications again, where ASP(.OLD) did not (unless you knew how to
&gt; write ISAPI extensions).
&gt;   
Is there something else you prefer to ASP.NET?  Why are you using it if 
you don't like it?
&gt; I think that the URL above is not RESTful because if I browse there
&gt; then I will receive a different resource than if you browse there. A
&gt; RESTful URL would be
&gt;
&gt;     http://example.com/bank/statements/200604/alan.dean
&gt;
&gt; The provided credentials would then be used the grant or deny access
&gt; to the resource of "Alan Dean's April 2006 Bank Statements".
&gt;   
I see your point.
&gt; Not necessarily. Part of the drive to federated authentication is
&gt; prevent the need to every node to store credentials data for
&gt; authentication purposes.
&gt;
&gt;   
What is "federated authentication"?  Something sort of like Windows domains?
&gt; No HTTP Auth is not inherently non-RESTful. It is simply a
&gt; standardized means of propagating credentials data with a request.
&gt; Certainly, as indicated above, you can write non-RESTful web sites
&gt; that use HTTP Auth. Nor is HTTP Auth required for REST. It is simply
&gt; one means of securing a resource if you choose to do so.
&gt;   
Got it.  Thanks.

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5979<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-17 17:15:10<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Alan Dean wrote:
&gt; I think that the URL above is not RESTful because if I browse there
&gt; then I will receive a different resource than if you browse there. A
&gt; RESTful URL would be
&gt;
&gt;     http://example.com/bank/statements/200604/alan.dean
&gt;   
Suppose you have a friend who uses that banking site.  They say, "Hey 
Alan, where do you find your April statement on this site?"  So you 
bookmark that page and send the URL to them.  They try it and it asks 
for authentication info.  They enter theirs and are denied.

Now, one might argue that they could find their own statement by 
replacing "alan.dean" with their name.  But this person isn't bright 
enough to manipulate URLs.

How do you handle this?  Perhaps 
http://example.com/bank/statements/200604/ would take them to a page 
which let them type in their authentication info, and redirect them to 
their personal page.

But suppose you weren't savvy enough to know that.  Maybe there might be 
a link on your personal page to the generic page, which says "send this 
link to a friend"?

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5980<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-17 17:26:06<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Alan Dean wrote:
&gt; I think that the URL above is not RESTful because if I browse there
&gt; then I will receive a different resource than if you browse there. A
&gt; RESTful URL would be
&gt;
&gt;     http://example.com/bank/statements/200604/alan.dean
&gt;   
Another thing just occurred to me.  It seems that the two resources

    http://example.com/bank/statements/200604/alan.dean

    http://example.com/bank/statements/200604/lyle.kopnicky

would share a lot in common.  The two pages probably share the same 
basic structure, with just some different details.  So by describing 
them with different URLs, we are not taking advantage of the cachability 
of that common structure.  How could we take advantage of the commonalities?

You can't solve it by redirecting both to the same page - then you've 
lost the uniqueness of that resource.  I guess one way to solve it is, 
that the page downloaded would be a sort of "shell" with JavaScript that 
downloaded the common features (e.g. page layout in HTML), and the 
customer-specific features (e.g. statement line items in XML), from 
different URLs, and then combined them.

It seems that REST, at least in the HTML context, relies heavily on 
client-side processing, like JavaScript.  It discourages server-side 
construction of pages.

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5981<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-17 18:22:21<br>
Subject:Continuations - RESTful?<br>
Message:<br><br>
<pre>Hi folks,

An oft-proposed solution for the "back button problem" is the use of 
continuations (c.f. 
http://citeseer.csail.mit.edu/graunke03modeling.html, 
http://www-128.ibm.com/developerworks/library/j-contin.html, 
http://www.seaside.st).  REST also proposes to solve this problem.

Is the use of continuations to implement application flow RESTful?  Does 
it complement REST or detract from it?  Does it depend on how the 
continuations are represented?

Is it more RESTful:

    * To embed the entire continuation in the page, or just use a
      continuation ID?
    * To store the continuation on the client or the server?
    * To put the continuation ID in the URL path, or in the query part?

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5982<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-17 18:20:32<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Lyle Kopnicky &lt;lyle@...&gt; writes:

&gt; Alan Dean wrote:
&gt;&gt; I think that the URL above is not RESTful because if I browse there
&gt;&gt; then I will receive a different resource than if you browse there. A
&gt;&gt; RESTful URL would be
&gt;&gt;
&gt;&gt;     http://example.com/bank/statements/200604/alan.dean
&gt;&gt;   
&gt; Another thing just occurred to me.  It seems that the two resources
&gt;
&gt;     http://example.com/bank/statements/200604/alan.dean
&gt;
&gt;     http://example.com/bank/statements/200604/lyle.kopnicky
&gt;
&gt; would share a lot in common.  The two pages probably share the same 
&gt; basic structure, with just some different details.  So by describing 
&gt; them with different URLs, we are not taking advantage of the cachability 
&gt; of that common structure.  How could we take advantage of the commonalities?
&gt;
&gt; You can't solve it by redirecting both to the same page - then you've 
&gt; lost the uniqueness of that resource.  I guess one way to solve it is, 
&gt; that the page downloaded would be a sort of "shell" with JavaScript that 
&gt; downloaded the common features (e.g. page layout in HTML), and the 
&gt; customer-specific features (e.g. statement line items in XML), from 
&gt; different URLs, and then combined them.

Or xml with an attached xslt. The look of the page is always the same
but the data is always different.

The xslt they utilized would be highly cached. The data would be less
cached.


&gt; It seems that REST, at least in the HTML context, relies heavily on 
&gt; client-side processing, like JavaScript.  It discourages server-side 
&gt; construction of pages.

Not necessarily. In dynamic applications like this one yes it
does. But javascript isn't the end of client side processing.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5983<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-17 18:40:34<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Nic wrote:
&gt;&gt; You can't solve it by redirecting both to the same page - then you've 
&gt;&gt; lost the uniqueness of that resource.  I guess one way to solve it is, 
&gt;&gt; that the page downloaded would be a sort of "shell" with JavaScript that 
&gt;&gt; downloaded the common features (e.g. page layout in HTML), and the 
&gt;&gt; customer-specific features (e.g. statement line items in XML), from 
&gt;&gt; different URLs, and then combined them.
&gt;&gt;     
&gt;
&gt; Or xml with an attached xslt. The look of the page is always the same
&gt; but the data is always different.
&gt;   
Right.
&gt;&gt; It seems that REST, at least in the HTML context, relies heavily on 
&gt;&gt; client-side processing, like JavaScript.  It discourages server-side 
&gt;&gt; construction of pages.
&gt;&gt;     
&gt;
&gt; Not necessarily. In dynamic applications like this one yes it
&gt; does. But javascript isn't the end of client side processing.
&gt;   
To what else are you referring?  Java applets?  ActiveX?  Flash?  CSS?

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5984<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-17 18:39:31<br>
Subject:Re: [rest-discuss] Continuations - RESTful?<br>
Message:<br><br>
<pre>Lyle Kopnicky &lt;lyle@...&gt; writes:

&gt; Hi folks,
&gt;
&gt; An oft-proposed solution for the "back button problem" is the use of 
&gt; continuations (c.f. 
&gt; http://citeseer.csail.mit.edu/graunke03modeling.html, 
&gt; http://www-128.ibm.com/developerworks/library/j-contin.html, 
&gt; http://www.seaside.st).  REST also proposes to solve this problem.
&gt;
&gt; Is the use of continuations to implement application flow RESTful?  Does 
&gt; it complement REST or detract from it?  Does it depend on how the 
&gt; continuations are represented?
&gt;
&gt; Is it more RESTful:
&gt;
&gt;     * To embed the entire continuation in the page, or just use a
&gt;       continuation ID?
&gt;     * To store the continuation on the client or the server?
&gt;     * To put the continuation ID in the URL path, or in the query
&gt;     part?

I've been meaning to write something about continuations for ages.

Not only do I believe they are not RESTfull (because the resources
don't really represent anything) but I also believe they're a bad
idea.

Unless the continuation's state can be parcelled up with the
continuation (and they're aren't many languages that support that -
even LISPs can't the C bits of the stack) then you're going to need to
scale with increasing hardware rather than multiple machines.

In other words the problem is how do you load balance continuations?
They're state so it's hard to do. Massive virtualization tools might
help but people aren't focused on building those for languages that
support continuations.



It's one of those things; it seems like a really good idea and that it
solves some problems but it only does so for simple use cases.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5985<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-17 19:25:23<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Lyle Kopnicky &lt;lyle@...&gt; writes:

&gt;&gt; Not necessarily. In dynamic applications like this one yes it
&gt;&gt; does. But javascript isn't the end of client side processing.
&gt;&gt;   
&gt; To what else are you referring?  Java applets?  ActiveX?  Flash?
&gt; CSS?

CSS. XSLT. SVG.

Flash as well I guess... But I've never used it so I can't really say.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5986<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-17 21:49:06<br>
Subject:Re: [rest-discuss] Continuations - RESTful?<br>
Message:<br><br>
<pre>Nic wrote:
&gt; Lyle Kopnicky &lt;lyle@...&gt; writes:
&gt;
&gt;   
&gt;&gt; Hi folks,
&gt;&gt;
&gt;&gt; An oft-proposed solution for the "back button problem" is the use of 
&gt;&gt; continuations (c.f. 
&gt;&gt; http://citeseer.csail.mit.edu/graunke03modeling.html, 
&gt;&gt; http://www-128.ibm.com/developerworks/library/j-contin.html, 
&gt;&gt; http://www.seaside.st).  REST also proposes to solve this problem.
&gt;&gt;
&gt;&gt; Is the use of continuations to implement application flow RESTful?  Does 
&gt;&gt; it complement REST or detract from it?  Does it depend on how the 
&gt;&gt; continuations are represented?
&gt;&gt;
&gt;&gt; Is it more RESTful:
&gt;&gt;
&gt;&gt;     * To embed the entire continuation in the page, or just use a
&gt;&gt;       continuation ID?
&gt;&gt;     * To store the continuation on the client or the server?
&gt;&gt;     * To put the continuation ID in the URL path, or in the query
&gt;&gt;     part?
&gt;&gt;     
&gt;
&gt; I've been meaning to write something about continuations for ages.
&gt;
&gt; Not only do I believe they are not RESTfull (because the resources
&gt; don't really represent anything) but I also believe they're a bad
&gt; idea.
&gt;   
It doesn't seem to me that continuations are inherently unRESTful.  For 
example, one could consider any web link to be a continuation.  The 
meaning of the continuation on the server is the return of the resource 
to which it refers.

But, yes, continuations which are effectively opaque session state are 
unRESTful.
&gt; Unless the continuation's state can be parcelled up with the
&gt; continuation (and they're aren't many languages that support that -
&gt; even LISPs can't the C bits of the stack) then you're going to need to
&gt; scale with increasing hardware rather than multiple machines.
&gt;   
I think I agree with you here.  As long as by "continuation's state" you 
mean the continuation, and by "continuation" you mean the "continuation 
ID" of which I spoke.  In other words, the continuation, as a 
representation of "what to do next", must be part of the request, if the 
system is to be scalable.  The "what to next" might be, take the result 
of this form, use it to change a resource, then return the page that 
represents that resource.
&gt; In other words the problem is how do you load balance continuations?
&gt; They're state so it's hard to do. Massive virtualization tools might
&gt; help but people aren't focused on building those for languages that
&gt; support continuations.
&gt;   
Hmm, not familiar with massive virtualization tools.  Can you give an 
example?

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5987<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-17 22:18:00<br>
Subject:Re: [rest-discuss] Continuations - RESTful?<br>
Message:<br><br>
<pre>Lyle Kopnicky &lt;lyle@...&gt; writes:

&gt;&gt;
&gt;&gt; Not only do I believe they are not RESTfull (because the resources
&gt;&gt; don't really represent anything) but I also believe they're a bad
&gt;&gt; idea.
&gt;&gt;   
&gt; It doesn't seem to me that continuations are inherently unRESTful.  For 
&gt; example, one could consider any web link to be a continuation.  The 
&gt; meaning of the continuation on the server is the return of the resource 
&gt; to which it refers.

I think they're inherantly unRESTfull because they're per-session. A
continuation can't be part of a RESTfull namespace because it
represents session state.

All current implementations of continuation based servers are the
same:

   grab the current continuation (a program stack)
   save the continuation in a session
   restore the continuation when the user hits the relevant uri

another possible implementation is:

   1. grab the current continuation
   2. serialize the continuation to something encodeble 
   3. send it back in the response
   4. allow it to be sent back to the server and reconstruct the
      continuation

the problem with this is step 2. You have to capture the entire state
of the machine and represent it somehow. Not an easy task.

I've seen pure LISP toy implementations of this. But no practical
system is possible (IMHO) because real implementation languages are
rarely pure (there's a lot of C)


&gt;&gt; Unless the continuation's state can be parcelled up with the
&gt;&gt; continuation (and they're aren't many languages that support that -
&gt;&gt; even LISPs can't the C bits of the stack) then you're going to need to
&gt;&gt; scale with increasing hardware rather than multiple machines.
&gt;&gt;   
&gt; I think I agree with you here.  As long as by "continuation's state" you 
&gt; mean the continuation, 

Our terminology might be tripping us up here. I'm not sure I'm using
the correct terminology. To me, a continuation is a recorded program
stack; that *is* state.


&gt; and by "continuation" you mean the "continuation 
&gt; ID" of which I spoke.  In other words, the continuation, as a 
&gt; representation of "what to do next", must be part of the request, if the 
&gt; system is to be scalable.  The "what to next" might be, take the result 
&gt; of this form, use it to change a resource, then return the page that 
&gt; represents that resource.

That's not enough to record the continuation. A serialized
continuation is basically a serialized program stack.

What to do next isn't enough; you must record what went before in
order to make what to do next have any sense.

I guess you *could* build a continuation system based on some abstract
syntax for what you're going to do next. But I'm not aware of one.


&gt;&gt; In other words the problem is how do you load balance continuations?
&gt;&gt; They're state so it's hard to do. Massive virtualization tools might
&gt;&gt; help but people aren't focused on building those for languages that
&gt;&gt; support continuations.
&gt;&gt;   
&gt; Hmm, not familiar with massive virtualization tools.  Can you give an 
&gt; example?

Have a look at:

  http://www.azulsystems.com/

they do java and .net virtualization on a massive scale. But the cost
is enormous. 

Personally, I don't believe these kind of tools are the answer; hence
I don't believe continuations are a good tool. 



Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5988<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-18 04:37:04<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>
'Stateless' in terms of REST simply means that there is no 'sequencing' 
of messages at the transfer protocol layer. That is, each transfer 
request stands alone and is itself capable of delineating the entire 
context in which a server will conduct processing of the request. It 
means that a server which supports the transfer protocol doesn't need to 
keep track of the sequence of messages at that layer.

Beyond that, of course your application state is likely to be varying 
over time. Your application sits 'above' the transfer layer, and your 
application can (and almost certainly will) vary state. Often 
application state will vary over time, and the only way to 'stop time' 
is to hold a pessimistic lock. You *never* want to hold a pessimistic 
lock between HTTP requests, so it's impossible for you to 'stop time' 
for longer than a single request. You want to avoid 'stopping time' when 
you can, but in order to ensure consistency of data in a single request 
you may need to hold a lock for a short period during the processing of 
a single request. That's OK, because although resource contention might 
affect your potential for scalability, it does not create a dependency 
on the client to remain robust.

There is a problem with HTTP, and with REST, and that is that the URL 
only delineates the 'object' of the request. The 'subject' of the 
request is also a noun, but neither HTTP nor REST sufficiently 
acknowledges this.

The only uniform and universal support for the 'subject' of a request 
surfaced by HTTP is the HTTP-Auth header. Unfortunately, this does not 
allow your application to support sessions. 'Sessions' are something 
that are 'bigger' than the transfer layer. A 'session' is just a number 
associated with a set of client initiated state transitions. The only 
'number' which you can use with HTTP-Auth is 'username'. That's no good, 
because:

  a) During a 'session' (i.e. a set of client initiated state 
transitions) a discrete client may transition from user 'anonymous', to 
'joe', to 'administrator', to 'anonymous'. HTTP and REST can not 
natively support the correlation of these varying contexts with a 
'session' context.

  b) A user, 'joe', who wishes to interact with two 'instances' of your 
application can not do so with REST or HTTP (without cookies, or custom 
headers, each of which are evil because they do not have universal 
semantics). This is a problem for many types of distributed applications 
where *application state* (i.e. not 'transfer protocol state') is 
dependant on 'session'. Having the same user working from two different 
clients under the same account is not sufficient.

  c) A user who arrives at a web-site will initially be 'anonymous', yet 
their very first request flags the beginning of a session. The very 
first thing they do might be to 'add item to shopping basket', and the 
very next thing they do 'login'. 'Shopping basket' is an application 
layer function, and it is perfectly reasonable for a server to maintain 
this state and associate it with a 'session'. Unfortunately, not all 
'anonymous' users can share the same shopping basket, and the transition 
from 'anonymous' to 'joe' must migrate the shopping basket. The shopping 
basket isn't associated with the 'user', it's associated with the 'session'.

Using HTTP-Auth you can say:

  (1) Someone gets a representation of Joe's bank account.
  (2) Joe gets a representation of Joe's bank account.
  (3) Jim gets a representation of Joe's bank account.

The 'object' of each of these requests is the noun "Joe's bank account". 
This can be described by a URI: http://www.example.org/account/joe

The 'subject' of each of these requests varies. It is reasonable to 
expect that (1) will 401. Clearly, if we don't know who you are, we 
can't give you what you're asking for. (2) will respond with a 
representation of the account perhaps including the words "Your 
Account". What happens in (3) depends on business rules, if Jim is the 
account manager, then the request very well may be authorised, however 
the representation generated will more likely include the words "Jim's 
Account".

If you know the 'object' and the 'subject' of a request, then along with 
a single verb you have all of the information necessary to create the 
context in which to generate an appropriate response.

HTTP and REST as they stand force application developers to include 
referentially opaque context in every request because there is no other 
way to support sessions. If you don't need sessions, that's because all 
your application does is serve relatively static and public documents.

It seems to me pretty clear that the 'object' of the request isn't the 
only noun that needs to be identified in the uniform request. I think 
Roy made a mistake and was not sufficiently clear about what 'stateless' 
means in his dissertation, and I think it's important that there is some 
clear guidance in this area that comes out soon, before everyone starts 
doing stupid things with HTTP headers and leaving us in an even worse 
situation than we're in with cookies. The only 'session state' that 
needs to be maintained by the client is the 'session id', a processing 
server can 'dereference' this during processing to ensure that the 
session is active, valid, what user it's for, etc.; in just the same why 
that a server will 'dereference' the request URI in order to correlate 
it with a 'resource' the state of which can be returned as the 
representation of the state for that request.

HTTP needs a uniform interface for saying:

  (4) Session 42 gets a representation of Joe's bank account.

Since cookies are the best we've got (and they've already been baked) I 
think it's important for someone to step up to the plate and admit that 
this is necessary. It's the most 'uniform' interface we have for this 
purpose at the moment, and it wouldn't take much to standardise on the 
'name' of the cookie that provided the session key and thus create some 
degree of universal transparency.

If people start developing applications which rely on non-standard and 
non-uniform HTTP headers then we're going to end up with one very broken 
and very complicated web.






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5989<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-18 05:18:08<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>John Elliot wrote:
&gt; HTTP needs a uniform interface for saying:
&gt; 
&gt;   (4) Session 42 gets a representation of Joe's bank account.

Just to be clear, I fully understand and respect that the resource URI 
is the place to indicate all aspects of the request context which are 
not the 'session id', and I agree that in many cases it would be 
desirable to avoid storing state on the server associated with the 
session when stating it in the URI was feasible.

The only thing I'm trying to point out here is that 'session id' should 
not be in the URL, but it needs to be there. It should be a transparent 
part of the universal uniform interface, and it should be able to stand 
as the 'subject' of a request.

If this happens, then we can move toward using the 'subject' *and* the 
'object' of the request to key a cache of what are otherwise 
non-cacheable responses to HTTP GET.







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5990<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-04-18 09:26:25<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>On Mon, 2006-04-17 at 10:15 -0700, Lyle Kopnicky wrote:
&gt; Alan Dean wrote:
&gt; &gt; I think that the URL above is not RESTful because if I browse there
&gt; &gt; then I will receive a different resource than if you browse there. A
&gt; &gt; RESTful URL would be
&gt; &gt;     http://example.com/bank/statements/200604/alan.dean 
&gt; Suppose you have a friend who uses that banking site.  They say, "Hey 
&gt; Alan, where do you find your April statement on this site?"  So you 
&gt; bookmark that page and send the URL to them.  They try it and it asks 
&gt; for authentication info.  They enter theirs and are denied.

Suppose that friend is actually a partner or trustee of some kind. His
credentials would also work to access the account of interest. Both alan
and his friend can then bookmark that page and return to it as often as
they like.

&gt; Now, one might argue that they could find their own statement by 
&gt; replacing "alan.dean" with their name.  But this person isn't bright 
&gt; enough to manipulate URLs.

URL manipulation sometimes works, but it is best to do based on a form
provided by the server that owns the URLs in question.

&gt; How do you handle this?  Perhaps 
&gt; http://example.com/bank/statements/200604/ would take them to a page 
&gt; which let them type in their authentication info, and redirect them to 
&gt; their personal page.
&gt; But suppose you weren't savvy enough to know that.  Maybe there might be 
&gt; a link on your personal page to the generic page, which says "send this 
&gt; link to a friend"?

Chances are that if you are sending this link to a friend you mean for
them to see your statement rather than theirs. You would generally send
a link to the page you are pointing at only when you want your friend to
see that page. If you want them to see the generic page, that is the
page you send them a link for.

Either way, there should be a link to the generic page on your own page.
Hopefully one or the other of you will be able to figure out what to do
with it. It is also valid to deny alan's friend access to alan's page
with a useful error page. This error page could (and should) indicate to
the user what they have to do in order to authenticate themselves
correctly, and direct them back to a generic page if they are unable to
comply with the direction.

Benjamin.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5991<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-18 09:41:10<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Lyle Kopnicky &lt;lyle@...&gt; writes:

&gt; Alan Dean wrote:
&gt;&gt; I think that the URL above is not RESTful because if I browse there
&gt;&gt; then I will receive a different resource than if you browse there. A
&gt;&gt; RESTful URL would be
&gt;&gt;
&gt;&gt;     http://example.com/bank/statements/200604/alan.dean
&gt;&gt;   
&gt; Suppose you have a friend who uses that banking site.  They say, "Hey 
&gt; Alan, where do you find your April statement on this site?"  So you 
&gt; bookmark that page and send the URL to them.  They try it and it asks 
&gt; for authentication info.  They enter theirs and are denied.

Seems like a semantic web issue to me.

It's true that right now we have some simple tricks that sometimes
work. But that's no reason not to build smarter tricks that are
gauranteed to work.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5992<br>
Sender:mherrick66@...<br>
Post Date/Time:2006-04-18 06:14:08<br>
Subject:REST &amp; Internal Integration<br>
Message:<br><br>
<pre>Hi,

I am not a REST expert, but definitely prefer it to SOAP &amp; WS-*.

I am participating in some future state architecture planning and am  
trying to see where REST fits. I'm trying to challenge some of my  
assumptions so I am sending this email to this list. While I  
certainly prefer REST to WS-*, I still don't think its the best  
choice for internal integration within a company.

As part of this architecture planning we have identified some  
integration categories that are common to us:
Sync Request/Reply
Async Request/Reply
Async 1:1
Async 1:M
Async 1:M Request/Reply
Async M:1
Batch Feed
I wrote a bit more on these and which ones I think can/should be done  
via REST and which ones shouldn't:
http://fuzzypanic.blogspot.com/2006/04/just-how-much-rest-web-style- 
are-we.html

Please let me know what you think.

Thanks for your help,

Mike Herrick
Portland, OR</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5993<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-18 12:23:40<br>
Subject:Re: [rest-discuss] REST &amp; Internal Integration<br>
Message:<br><br>
<pre>mherrick66@... writes:

&gt; Hi,
&gt;
&gt; I am not a REST expert, but definitely prefer it to SOAP &amp; WS-*.
&gt;
&gt; I am participating in some future state architecture planning and am  
&gt; trying to see where REST fits. I'm trying to challenge some of my  
&gt; assumptions so I am sending this email to this list. While I  
&gt; certainly prefer REST to WS-*, I still don't think its the best  
&gt; choice for internal integration within a company.
&gt;
&gt; As part of this architecture planning we have identified some  
&gt; integration categories that are common to us:
&gt; Sync Request/Reply
&gt; Async Request/Reply
&gt; Async 1:1
&gt; Async 1:M
&gt; Async 1:M Request/Reply
&gt; Async M:1
&gt; Batch Feed
&gt; I wrote a bit more on these and which ones I think can/should be done  
&gt; via REST and which ones shouldn't:
&gt; http://fuzzypanic.blogspot.com/2006/04/just-how-much-rest-web-style- 
&gt; are-we.html
&gt;
&gt; Please let me know what you think.

For async stuff like you're describing I rarely use apps built on top
of HTTP. Mostly I use SMTP and sometimes I use NNTP.

SMTP is a really good async building block.

It's fairly trivial to build HTTP front ends to services like this.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5994<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-04-18 13:40:20<br>
Subject:C# Rest based code.<br>
Message:<br><br>
<pre>I've been googling for some time without finding any C#
code/framework/examples etc which are based around rest.
With our without IIS support.

Some nice examples using Java; nothing in C#.

Are there any examples about please?
Surely someone using this language has put up some code
using C#?


TIA DaveP




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5995<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2006-04-18 14:43:03<br>
Subject:Re: [rest-discuss] Avoiding re-POSTs<br>
Message:<br><br>
<pre>Lyle Kopnicky wrote:

 &gt; One solution proposed for this is the POST-REDIRECT-GET 
&lt;http://www.theserverside.com/articles/article.tss?l=RedirectAfterPost&gt; 
pattern.  The response to the POST is instead a redirect to a temporary 
URL containing the response page.  The browser then GETs this response 
page and displays it.  Due to the redirect, the original POST request is 
replaced by this GET request in the browser history.  Thus, the user can 
use the back button with impunity, and will just see the result of their 
request, with no danger of resubmitting it.
 &gt;
 &gt; That sounds great, but it seems to clash with REST.  What was before 
a transitory response to a POST request now becomes a separate resource 
available via GET.  Will it be cached?  How long must it stay available?


I'm forking this as going from POST to GET isn't a full answer to the 
original question.

On the matter of POST to GET (by 303 See Other) I do it when it seems 
natural. If the result of the POST operation is to alter a resource 
other than the resource POSTed to, then 303ing to it is perfectly sensible.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5996<br>
Sender:"Alan Dean" &lt;alan.dean+rest-discuss@...&gt;<br>
Post Date/Time:2006-04-18 15:25:14<br>
Subject:Don Box: Spending the $100<br>
Message:<br><br>
<pre>Don Box [MS, Indigo] has been chatting on his blog about REST
recently. He has invited dialogue:

"Three weeks or so ago, I rose to Tim's challenge and asked people to
help me spend $100 worth of virtual engineering dollars to improve our
support for XML/HTTP/REST technologies."

The blog link is
http://pluralsight.com/blogs/dbox/archive/2006/04/12/21613.aspx

I thought that there may be some participants in rest-discuss who
would be interested in giving their opinion...




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5997<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-04-18 19:32:15<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Hi John,

On Apr 17, 2006, at 9:37 PM, John Elliot wrote:

&gt;   c) A user who arrives at a web-site will initially be  
&gt; 'anonymous', yet
&gt; their very first request flags the beginning of a session. The very
&gt; first thing they do might be to 'add item to shopping basket', and the
&gt; very next thing they do 'login'. 'Shopping basket' is an application
&gt; layer function, and it is perfectly reasonable for a server to  
&gt; maintain
&gt; this state and associate it with a 'session'. Unfortunately, not all
&gt; 'anonymous' users can share the same shopping basket, and the  
&gt; transition
&gt; from 'anonymous' to 'joe' must migrate the shopping basket. The  
&gt; shopping
&gt; basket isn't associated with the 'user', it's associated with the  
&gt; 'session'.
&gt;
Another way to do the anonymous shopping cart is to give it a unique  
URI. When a guest goes to add an initial item to his or her shopping  
cart, the server stores it not in the session, but in a set of  
shopping cart snapshots, each of which has a unique ID. It then  
redirects the client to a URI that includes that shopping cart  
snapshot ID with one item in it. If they add another item, then the  
server creates another shopping cart snapshot with two items in it  
(which has a new ID), and redirects the client to a new URI with the  
second ID. The client could log in at that point, even using HTTP  
auth. Now we know this is Joe, and the next thing Joe does is add a  
third item to his shopping cart. The server creates a third shopping  
cart snapshot, and redirects the client to a URI that includes the  
unique ID of the third snapshot. In the third snapshot, the server  
associates Joe's user ID with the shopping cart, so only he and  
admins can look at it.

Any user could look at the shopping cart with one or two items in it,  
because it was created by anonymous (before Joe logged in) but if you  
use an opaque, hard-to-guess token for the ID, then it would be  
highly unlikely that anyone will accidentally go there even if they  
are trying. And even if they did go there, all they would know is  
someone put in these two items. If they added a third item to  
shopping cart, they would essentially bifurcate the shopping cart.  
They would get a new shopping cart snapshot with a new ID that would  
be included in the URI to which they get redirected.

To me the biggest lesson I learned from reading about REST is that I  
don't need session state with HTTP. I can model everything as  
resources with unique URIs, some of which require authentication and  
authorization. The kind of session I do want is an authentication  
session, which simply means the user doesn't have to provide  
credentials to the client each time they make an HTTP request. The  
user can provide credentials once and then be automatically  
authenticated each subsequent request during their authentication  
session. Cookies with a fallback on URL rewriting seem to work just  
fine for holding this authentication token/session ID. You can even  
have the same user working with two different instances of the  
application from one client this way. I.e., Joe could actually be  
adding different items to two different shopping carts at the same  
time from the same browser.

&gt; If you know the 'object' and the 'subject' of a request, then along  
&gt; with
&gt; a single verb you have all of the information necessary to create the
&gt; context in which to generate an appropriate response.
&gt;
Well, there are other possibilities. If a user has landed on one of  
our sites after searching for "rest relaxation," I want to highlight  
those terms in the page. So I need to look at the referrer header. If  
they indicate via their accept language headers that they speak  
French, and they've requested an English version of an article for  
which I have a French translation, I want to add in a prominent link  
to the French version into the English page I send back. I want to  
also try and detect requests that are coming from a device with a  
small screen, and include a prominent link to a mobile version of the  
content.

(The following snippet is from your follow-up email.)

&gt; The only thing I'm trying to point out here is that 'session id'  
&gt; should
&gt; not be in the URL, but it needs to be there. It should be a  
&gt; transparent
&gt; part of the universal uniform interface, and it should be able to  
&gt; stand
&gt; as the 'subject' of a request.
&gt;
&gt; If this happens, then we can move toward using the 'subject' *and* the
&gt; 'object' of the request to key a cache of what are otherwise
&gt; non-cacheable responses to HTTP GET.
&gt;
I don't believe this either necessary or desirable. The reason it  
isn't necessary is that you can use ETags to identify different  
representations, including personalized representations, of the same  
resource to caches. The reason it isn't desirable is both because  
many sessions can share the same representations, and because I may  
want to send multiple representations for the same URI and subject  
based on other information in the request (such as referrer or accept- 
language). By using ETags, which already exists in HTTP 1.1, I can  
effectively identify and cache each representation. The fewer  
representations you have, the more caching can help with scalability,  
and that mechanism will always be more flexible. At the extreme case,  
if you really have a different representation for each session, then  
you can include the session ID in the ETag. But most of the time what  
you probably really have in that case is a different representation  
per user, not per session, so you could include a user ID in the  
ETag. But to the extent possible it is better to try and minimize the  
number of resources for which there are so many representations,  
because the fewer the representations the more scalability benefit  
you get from HTTP caching.

For example, I do want to say, "Welcome, John" on the top of every  
page once you've signed in. But I'm currently planning on attempting  
to have only two representations of each page, one for signed in  
users and one for anonymous. The signed in representation will have  
some JavaScript that grabs the Welcome greeting and insert it  
dynamically on the page. If a client doesn't have JavaScript enabled,  
then they still see they are signed in, because that's one of the two  
representations sent from the server, but they won't see their name  
in a welcome message. To me that's a graceful degradation for non- 
JavaScript clients that I'm willing to accept in exchange for  
improved cache effectiveness. (The signed in/anonymous  
representations only work for clients with cookies enabled. Otherwise  
I have to fall back to URL rewriting, where the caching will be less  
effective, because I'll have a different URI per resource per session.)

I'm going to try to take the same kind of JavaScript approach with  
search keyword highlighting and links to translations, but I may just  
send those variations as representations from the server if  
JavaScript turns out to be problematic for those use cases. One  
attitude I've heard on this list is that if it isn't cacheable it  
isn't scalable. To me, caching is one tool in the scalability  
toolbox, but not the only one. Another example is using URL-rewriting  
if cookies aren't enabled on the client. Yes, this doesn't make as  
effective use of caching as cookies or even HTTP auth could, but if  
it allows 5% more users to use the site effectively, then it is  
useful. Maybe because of the less effective caching on that 5% you  
need to add one more node to your server cluster.

In summary, I think ETags provide a very flexible solution to caching  
multiple representations of the same resource, and that using a  
different URI for each bit of new or changed state resulting from  
each HTTP request, you don't need session state. One thing I don't  
understand yet is why everyone says cookies are so evil. Is it really  
cookies or how they are used that is evil? I can see how having  
session state, which can be identified via a cookie, can degrade  
caching effectiveness and break the back button. I can also see  
privacy problems with persistent cookies. But from every REST- 
proponent's disdain for cookies, I feel I must be missing something.  
What is really wrong with cookies?

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5998<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-19 01:09:06<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Hi Bill,

Bill Venners wrote:
&gt; Another way to do the anonymous shopping cart is to give it a unique  
&gt; URI.

If you think long and hard about this you'll realise that you're 
effectively storing a session key (or some aspect of the session) in the 
URI. That's not cool. It's a failing of REST, and in my view a HTTP 
anti-pattern.

Instead of a nice clean

   { 'subject' 'verb' 'object' }

you've basically said

   { 'blah blah' 'verb' 'message' }

I.e. I say you want,

   { 'Session 42' GETs 'checkout facility' }

You say,

   { 'Some IP address' GETs 'checkout facility for shopping basket 12' }

&gt; To me the biggest lesson I learned from reading about REST is that I  
&gt; don't need session state with HTTP. I can model everything as  resources 
&gt; with unique URIs, some of which require authentication and  
&gt; authorization.

I don't believe you. I believe you are mistaken. These URIs you refer to 
are nothing more than session tokens in a format which happens to be 
compatible with URI format. To the extent that they aren't strictly 
'session tokens', they are *worse* than 'session tokens' because they 
stand as a key to server-side state which could have been indicated by a 
single session key. All you've done is 'denormalise'. I.e. instead of 
saying "session 42", you say "shopping basket 23, user 37". Then you put 
that session state in the URL, which breaks 'subject' and 'object' 
separation. This ruins the URL as the 'object' of the request.

Don't get me wrong, I'm not saying that this is or is not REST, or HTTP. 
I'm just trying to warn you not to do this. It's a bad idea. If I'm 
mistaken about this, I would dearly love for you to argue with me until 
I come to your way of thinking (though, I've given this a lot of 
thought, so I think the alternate outcome is more likely.. ;)

'Unique URI' is tautology btw. It's true that many URIs can map to a 
single resource, but that doesn't bear on the phrase 'unique URI'.

&gt;&gt; If you know the 'object' and the 'subject' of a request, then along  with
&gt;&gt; a single verb you have all of the information necessary to create the
&gt;&gt; context in which to generate an appropriate response.
&gt;&gt;
&gt; Well, there are other possibilities.

You mean, like, RPC..? ;)

&gt; If a user has landed on one of  our 
&gt; sites after searching for "rest relaxation," I want to highlight  those 
&gt; terms in the page. So I need to look at the referrer header.

Bad idea. Redirect them to a new resource which indicates which words to 
highlight. I firmly believe that if you return a representation (as 
opposed to a 300 class response) to a GET request then the URL should 
stand as the complete and explicit 'object' of the request.

In case you or others haven't picked up on it (because I didn't 
explicitly say so as yet), I'm using the term 'subject' and 'object' in 
a grammatical sense.

&gt; If  they 
&gt; indicate via their accept language headers that they speak  French, and 
&gt; they've requested an English version of an article for  which I have a 
&gt; French translation, I want to add in a prominent link  to the French 
&gt; version into the English page I send back.

Again, bad idea. Instead send a 300 class response to a new URL which 
indicates this is what should happen. E.g.,

   /en/resource.html -&gt; /en/resource.html?opt-lang=fr

In every case where you've varied the semantics of the response based on 
HTTP headers you've undermined the URL as the description of the 
'resource' being requested.

That is, the 'resource' which highlights the terms "rest relaxation" is 
a different resource to one which doesn't. The 'resource' which includes 
a link to a French translation is a different resource to one which 
doesn't. The URI is the place to describe a resource, not HTTP headers.

&gt; I want to  also try and 
&gt; detect requests that are coming from a device with a  small screen, and 
&gt; include a prominent link to a mobile version of the  content.

Again, don't do that. Redirect to a URL which indicates that it should 
provide help for mobile users. E.g.,

   /resource.html -&gt; /resource.html?mobile-help=true

&gt;&gt; The only thing I'm trying to point out here is that 'session id'  should
&gt;&gt; not be in the URL, but it needs to be there. It should be a  transparent
&gt;&gt; part of the universal uniform interface, and it should be able to  stand
&gt;&gt; as the 'subject' of a request.
&gt;&gt;
&gt;&gt; If this happens, then we can move toward using the 'subject' *and* the
&gt;&gt; 'object' of the request to key a cache of what are otherwise
&gt;&gt; non-cacheable responses to HTTP GET.
&gt;&gt;
&gt; I don't believe this either necessary or desirable. The reason it  isn't 
&gt; necessary is that you can use ETags to identify different  
&gt; representations, including personalized representations, of the same  
&gt; resource to caches.

I'm going to have to come perfectly clean and admit I know practically 
nothing about ETags. Thanks for bringing it up. I'll do some reading.

&gt; The reason it isn't desirable is both because  many 
&gt; sessions can share the same representations, and because I may  want to 
&gt; send multiple representations for the same URI and subject  based on 
&gt; other information in the request (such as referrer or accept- language). 

OK, I accept your first point, but I think the second part about varying 
content based on HTTP headers remains a bad idea in my view.

&gt; By using ETags, which already exists in HTTP 1.1, I can  effectively 
&gt; identify and cache each representation. The fewer  representations you 
&gt; have, the more caching can help with scalability,  and that mechanism 
&gt; will always be more flexible. At the extreme case,  if you really have a 
&gt; different representation for each session, then  you can include the 
&gt; session ID in the ETag. But most of the time what  you probably really 
&gt; have in that case is a different representation  per user, not per 
&gt; session, so you could include a user ID in the  ETag. But to the extent 
&gt; possible it is better to try and minimize the  number of resources for 
&gt; which there are so many representations,  because the fewer the 
&gt; representations the more scalability benefit  you get from HTTP caching.

I accept all this, it makes sense.

&gt; For example, I do want to say, "Welcome, John" on the top of every  page 
&gt; once you've signed in. But I'm currently planning on attempting  to have 
&gt; only two representations of each page, one for signed in  users and one 
&gt; for anonymous. The signed in representation will have  some JavaScript 
&gt; that grabs the Welcome greeting and insert it  dynamically on the page. 
&gt; If a client doesn't have JavaScript enabled,  then they still see they 
&gt; are signed in, because that's one of the two  representations sent from 
&gt; the server, but they won't see their name  in a welcome message. To me 
&gt; that's a graceful degradation for non- JavaScript clients that I'm 
&gt; willing to accept in exchange for  improved cache effectiveness. (The 
&gt; signed in/anonymous  representations only work for clients with cookies 
&gt; enabled. Otherwise  I have to fall back to URL rewriting, where the 
&gt; caching will be less  effective, because I'll have a different URI per 
&gt; resource per session.)

I agree that avoiding session keys in URLs is a very good idea, even at 
the expense of degraded functionality for ancient or crippled visual agents.

&gt; I'm going to try to take the same kind of JavaScript approach with  
&gt; search keyword highlighting and links to translations, but I may just  
&gt; send those variations as representations from the server if  JavaScript 
&gt; turns out to be problematic for those use cases. One  attitude I've 
&gt; heard on this list is that if it isn't cacheable it  isn't scalable. To 
&gt; me, caching is one tool in the scalability  toolbox, but not the only 
&gt; one. Another example is using URL-rewriting  if cookies aren't enabled 
&gt; on the client. Yes, this doesn't make as  effective use of caching as 
&gt; cookies or even HTTP auth could, but if  it allows 5% more users to use 
&gt; the site effectively, then it is  useful. Maybe because of the less 
&gt; effective caching on that 5% you  need to add one more node to your 
&gt; server cluster.

I value the 'purity' of a URL too highly to consider stashing a session 
key (or other session state) in it.

&gt; In summary, I think ETags provide a very flexible solution to caching  
&gt; multiple representations of the same resource, and that using a  
&gt; different URI for each bit of new or changed state resulting from  each 
&gt; HTTP request, you don't need session state.

You've taken this discussion down the 'ETags' road, and that's fine, and 
I accept your points in this regard. I learned something, and that's 
valuable to me.

However, I don't think this caching feature bears too heavily on where I 
was going, which was to present the case for the need of 'subject' as 
separate from 'object' in a HTTP request. Cookies are all we've got for 
this, and there's negative energy applied to their use. If the advice is 
"don't use cookies", then what's going to happen (as it is unavoidable 
for many applications to require a 'session token') is that either 
people are going to start doing crazy things with HTTP headers, or 
putting session state in URLs. Either of those two outcomes are far 
worse than using cookies, they will lead to a very broken web.

&gt; One thing I don't  
&gt; understand yet is why everyone says cookies are so evil. Is it really  
&gt; cookies or how they are used that is evil? I can see how having  session 
&gt; state, which can be identified via a cookie, can degrade  caching 
&gt; effectiveness and break the back button. I can also see  privacy 
&gt; problems with persistent cookies. But from every REST- proponent's 
&gt; disdain for cookies, I feel I must be missing something.  What is really 
&gt; wrong with cookies?

I'm going to be perfectly candid here and offer my (barely informed) 
opinion that this is largely a political issue. I believe it's residue 
and bitterness from Netscape deploying cookies outside of the standards 
process. Certainly cookies aren't the perfect implementation for 
modelling the 'subject' of a request, but they are the only hook which 
HTTP has for doing this effectively and close to universally.

You can usually spot a 'political issue', because the arguments fail to 
appeal sufficiently to logic or reason.

Clearly there is a need for modelling the 'subject' of a request, and 
cookies are the only thing we really have for this. Such need is 
explicitly denied by Roy in his dissertation on REST. I think it's 
important that people understand they generally can't implement REST for 
this reason.

My take on REST and HTTP could be summarised as:

  There is value in coming to understand REST, but use HTTP.

HTTP and REST aren't the same thing. HTTP has opaque support for the 
separation of the 'subject' and 'object' of a request via cookies. It'd 
be nice if this support was transparent, but opaque is better than none.








</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5999<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-19 01:52:19<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>John Elliot wrote:
&gt; Hi Bill,
&gt;
&gt; Bill Venners wrote:
&gt;   
&gt;&gt; Another way to do the anonymous shopping cart is to give it a unique  
&gt;&gt; URI.
&gt;&gt;     
&gt;
&gt; If you think long and hard about this you'll realise that you're 
&gt; effectively storing a session key (or some aspect of the session) in the 
&gt; URI. That's not cool. It's a failing of REST, and in my view a HTTP 
&gt; anti-pattern.
&gt;
&gt; Instead of a nice clean
&gt;
&gt;    { 'subject' 'verb' 'object' }
&gt;
&gt; you've basically said
&gt;
&gt;    { 'blah blah' 'verb' 'message' }
&gt;
&gt; I.e. I say you want,
&gt;
&gt;    { 'Session 42' GETs 'checkout facility' }
&gt;
&gt; You say,
&gt;
&gt;    { 'Some IP address' GETs 'checkout facility for shopping basket 12' }
&gt;   
The point of using REST is scalability.  Mainly, caching.  If the 
session has a URI, it can be cached.  If the session key is in a cookie, 
the session cannot be cached.  So, I think the way to do it is something 
like:

GET http://www.example.com/basket/12/checkout.html

This will yield a "shell" page which will cause the client to download 
other content: a specific http://www.example.com/basket/12/basket.xml, 
and a generic http://www.example.com/checkout.xsl.  The client then 
combines these to produce the final display.

So, we now have:

    * A highly cacheable resource http://www.example.com/checkout.xsl, a
      page template
    * A URL identifying the basket at
      http://www.example.com/basket/12/basket.xml, which can be directly
      POSTed to, to add items
    * A simple page created on the fly:
      http://www.example.com/basket/12/checkout.html, which mainly
      serves to link to other things

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6000<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-19 01:55:38<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>John Elliot wrote:
&gt; However, I don't think this caching feature bears too heavily on where I 
&gt; was going, which was to present the case for the need of 'subject' as 
&gt; separate from 'object' in a HTTP request. Cookies are all we've got for 
&gt; this, and there's negative energy applied to their use. If the advice is 
&gt; "don't use cookies", then what's going to happen (as it is unavoidable 
&gt; for many applications to require a 'session token') is that either 
&gt; people are going to start doing crazy things with HTTP headers, or 
&gt; putting session state in URLs. Either of those two outcomes are far 
&gt; worse than using cookies, they will lead to a very broken web.

If you look over here [1], you'll see talk of 'Two Webs'. I can barely 
accept 'Web Two', but 'Two Webs' is madness.

Isn't it obvious that where Microsoft is looking wrong? HTTP is about to 
have its day in the sun (not that HTTP isn't already an extremely 
important technology, but I think you know what I mean), and people are 
labelling it as 'REST' (thankfully Tim Bray is touting the phrase 'web 
style'). Then there's talk of 'Two Webs'. Stop!

The place to fix 'sloppy HTML and messed up headers' is not by trying to 
have 'Two Webs'. It's by having a set of 'compliant' resources, and a 
set of 'non-compliant but backward compatible resources'. A few 
heuristics on HTTP headers and a little redirection and the problem is 
solved.

I'm really concerned that as people jump on the 'REST' bandwagon that 
they are going to start doing things with HTTP headers that are 
fundamentally a bad idea. It's URI which is the awesome part of the web, 
more so than HTTP. HTTP is just the humble transfer protocol. URI allow 
you to identify everything in the known universe and GET at it.

[1] 
http://www.25hoursaday.com/weblog/CommentView.aspx?guid=929a7fd6-1dfc-43f4-a549-d2c9fa873655







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6001<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-19 02:12:44<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Lyle Kopnicky wrote:
&gt; The point of using REST is scalability.  Mainly, caching.  If the 
&gt; session has a URI, it can be cached.  If the session key is in a cookie, 
&gt; the session cannot be cached.  So, I think the way to do it is something 
&gt; like:
&gt; 
&gt; GET http://www.example.com/basket/12/checkout.html

No. The concerns of 'caching' and 'bookmarkability' ('bookmarkability' 
is a word. Promise. ;) are truly independent.

The way to solve your caching concerns seems to be with ETags (something 
I as yet know little about).

I think your proposed URI design is a bad idea. If I were designing this 
application I would associate 'shopping basket' with the 'session' and 
imply it by 'session token'. I would not put it in the URL. It's a bad 
idea. I can't think how to explain why in less than 50,000 words though, 
because it feels like I have to go all the way back to first principles.

I admit that if you deny the possibility of 'subject' in the HTTP 
request (i.e. you don't use a session cookie) that this is the only real 
thing you can do. However, I disagree that making such denials is a 
reasonable thing to do.

There are certainly cases where storing state in the URL like this is 
highly desirable. A shopping basket is not such a case though.

For example, say my browser crashes (power failure, accidentally closed, 
buggy, etc.) and I come back to your web site to finish my shopping. If 
you had been maintaining the state of my shopping basket on your server, 
then when I login (or maybe even without logging in), you can say "Here 
are the shopping baskets you're filling, would you like to pick one of 
them up and finish shopping?". You can't do that if you're stashing 
session state in the URL. Also, there only needs to be 'one' shopping 
basket, and such a model would correlate better with reality. This model 
you propose creates an entirely new basket for each additional item. 
You're not doing that because it makes sense. You're doing that in a 
vain attempt to deny session state.









</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6002<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-04-19 03:15:53<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Hi John,

Thanks for the lively response. I'll insert a few comments:

On Apr 18, 2006, at 6:09 PM, John Elliot wrote:

&gt; Hi Bill,
&gt;
&gt; Bill Venners wrote:
&gt;&gt; Another way to do the anonymous shopping cart is to give it a unique
&gt;&gt; URI.
&gt;
&gt; If you think long and hard about this you'll realise that you're
&gt; effectively storing a session key (or some aspect of the session)  
&gt; in the
&gt; URI. That's not cool. It's a failing of REST, and in my view a HTTP
&gt; anti-pattern.
&gt;
&gt; Instead of a nice clean
&gt;
&gt;    { 'subject' 'verb' 'object' }
&gt;
&gt; you've basically said
&gt;
&gt;    { 'blah blah' 'verb' 'message' }
&gt;
&gt; I.e. I say you want,
&gt;
&gt;    { 'Session 42' GETs 'checkout facility' }
&gt;
&gt; You say,
&gt;
&gt;    { 'Some IP address' GETs 'checkout facility for shopping basket  
&gt; 12' }
&gt;
I'm not quite sure I follow all of this, but one thing I would change  
is the last one. I wouldn't say shopping basket 12, but shopping  
basket *snapshot* 12. The shopping basket is something the user  
thinks in terms of. She is adding items to that conceptual basket.  
But on the server, there is not one basket. There is one snapshot of  
her conceptual basket for each time she changed it. Plus it wouldn't  
be numbered 12, but some opaque ID such as F4Dmc983xRR12. The URI  
could be something like:

http://shop.artima.com/basket?z= F4Dmc983xRR12

That's a completely different resource from:

http://shop.artima.com/basket

Which is an empty shopping basket snapshot.

&gt;&gt; To me the biggest lesson I learned from reading about REST is that I
&gt;&gt; don't need session state with HTTP. I can model everything as   
&gt;&gt; resources
&gt;&gt; with unique URIs, some of which require authentication and
&gt;&gt; authorization.
&gt;
&gt; I don't believe you. I believe you are mistaken. These URIs you  
&gt; refer to
&gt; are nothing more than session tokens in a format which happens to be
&gt; compatible with URI format. To the extent that they aren't strictly
&gt; 'session tokens', they are *worse* than 'session tokens' because they
&gt; stand as a key to server-side state which could have been indicated  
&gt; by a
&gt; single session key. All you've done is 'denormalise'. I.e. instead of
&gt; saying "session 42", you say "shopping basket 23, user 37". Then  
&gt; you put
&gt; that session state in the URL, which breaks 'subject' and 'object'
&gt; separation. This ruins the URL as the 'object' of the request.
&gt;
Not if the object of the request is a shopping basket snapshot. Then  
the URI is exactly referencing that. Like I said previously, in this  
way of thinking, there is no shopping basket on the server. There are  
several snapshots of state that our shopper has created via POSTs as  
she has added, say books, to her shopping basket. When she adds an  
item to the shopping cart, she gets redirected to a new snapshot, the  
latest and greatest. She can back up and click reload, and she'll go  
back to a previous snapshot.

I used to think in terms of user sessions on the server, as you are  
describing, and as all web frameworks I've seen encourage. I feel the  
main way that reading about REST helped me is in gaining insight into  
HTTP. It is a stateless protocol, as you I think explained well in a  
previous email:

'Stateless' in terms of REST simply means that there is no 'sequencing'
of messages at the transfer protocol layer. That is, each transfer
request stands alone and is itself capable of delineating the entire
context in which a server will conduct processing of the request. It
means that a server which supports the transfer protocol doesn't need to
keep track of the sequence of messages at that layer.

When you talk about user session, I feel like you are trying to push  
statefullness on the stateless protocol in the traditional way that  
most web apps have done. You suggest that my opaque ID tokens for the  
shopping cart session snapshots are "nothing more than session  
tokens," though worse because, "they stand as a key to server-side  
state which could have been indicated by a single session key." My  
point, which I think you may understand but just don't agree with, is  
that you can avoid entirely the concept of a user session on the  
server side by considering each piece of state resulting from a  
conversation over HTTP with a user as a resource. If you do so, then  
you aren't layering any statefulness on top of HTTP--each request  
really is completely independent of the other. Authentication and  
authorization is something that has to happen all over again each  
request, because the server doesn't need to remember any notion of a  
user session.

&gt;&gt; If a user has landed on one of  our
&gt;&gt; sites after searching for "rest relaxation," I want to highlight   
&gt;&gt; those
&gt;&gt; terms in the page. So I need to look at the referrer header.
&gt;
&gt; Bad idea. Redirect them to a new resource which indicates which  
&gt; words to
&gt; highlight. I firmly believe that if you return a representation (as
&gt; opposed to a 300 class response) to a GET request then the URL should
&gt; stand as the complete and explicit 'object' of the request.
&gt;
That's funny. About two weeks ago perhaps I mentioned I was thinking  
about doing just that, and someone on this list suggested I do it  
with JavaScript. The reason I'm leaning in the JavaScript direction  
now is that search keyword highlighting isn't an aspect of a page  
that I care for users to be able to share. The only way to get it is  
to actually come in from a search engine. If you grab the URI and  
send it to your friend, and they click on it, they won't get the  
syntax highlighting. In that case, I think the syntax highlighting  
would be confusing. If I'm able to use JavaScript, then it will only  
work if JavaScript is enabled on the client. It is not important  
enough to usability that I'm willing to accept that. But I'll send  
the same JavaScript to everyone, so I don't need any extra  
representations to do it, which helps me cache effectively.

&gt; In case you or others haven't picked up on it (because I didn't
&gt; explicitly say so as yet), I'm using the term 'subject' and  
&gt; 'object' in
&gt; a grammatical sense.
&gt;
I hadn't gotten that. I was thinking of subject in the authorization  
sense, but now that you mention it, perhaps that's why *they* call it  
subject.

&gt;&gt; If  they
&gt;&gt; indicate via their accept language headers that they speak   
&gt;&gt; French, and
&gt;&gt; they've requested an English version of an article for  which I  
&gt;&gt; have a
&gt;&gt; French translation, I want to add in a prominent link  to the French
&gt;&gt; version into the English page I send back.
&gt;
&gt; Again, bad idea. Instead send a 300 class response to a new URL which
&gt; indicates this is what should happen. E.g.,
&gt;
&gt;    /en/resource.html -&gt; /en/resource.html?opt-lang=fr
&gt;
&gt; In every case where you've varied the semantics of the response  
&gt; based on
&gt; HTTP headers you've undermined the URL as the description of the
&gt; 'resource' being requested.
&gt;
The URI isn't the only thing in the request, and I think everything  
in the request should be considered fair game in considering how to  
respond. The URI is the part that's sharable, so I want to have a  
unique URI for each resource I want people to be able to share among  
each other. I don't care that users can share the prominent link to a  
translation, because that only makes sense for the user that actually  
indicates in their request headers that they like French content.

&gt; That is, the 'resource' which highlights the terms "rest  
&gt; relaxation" is
&gt; a different resource to one which doesn't. The 'resource' which  
&gt; includes
&gt; a link to a French translation is a different resource to one which
&gt; doesn't. The URI is the place to describe a resource, not HTTP  
&gt; headers.
&gt;
I agree with everything except that by using the same URI for all  
these things, I'm declaring as the designer that they are all the  
same resource. If I use JavaScript, then they are all the same  
representation of the resource. If I make a different ETag for each,  
and send all this stuff from the server, then each unique one is a  
different representation of that one resource. As the designer, I can  
chop my state up into URI-addressable resources any way I want, and  
each resulting URI by definition maps to a resource.

&gt;&gt;&gt; The only thing I'm trying to point out here is that 'session id'   
&gt;&gt;&gt; should
&gt;&gt;&gt; not be in the URL, but it needs to be there. It should be a   
&gt;&gt;&gt; transparent
&gt;&gt;&gt; part of the universal uniform interface, and it should be able  
&gt;&gt;&gt; to  stand
&gt;&gt;&gt; as the 'subject' of a request.
&gt;&gt;&gt;
&gt;&gt;&gt; If this happens, then we can move toward using the 'subject'  
&gt;&gt;&gt; *and* the
&gt;&gt;&gt; 'object' of the request to key a cache of what are otherwise
&gt;&gt;&gt; non-cacheable responses to HTTP GET.
&gt;&gt;&gt;
&gt;&gt; The reason it isn't desirable is both because  many
&gt;&gt; sessions can share the same representations, and because I may   
&gt;&gt; want to
&gt;&gt; send multiple representations for the same URI and subject  based on
&gt;&gt; other information in the request (such as referrer or accept-  
&gt;&gt; language).
&gt;
&gt; OK, I accept your first point, but I think the second part about  
&gt; varying
&gt; content based on HTTP headers remains a bad idea in my view.
&gt;
Well, it's content negotiation. I don't want to do a lot of it, but  
where it improves usability I think it's fine to use.

&gt;&gt; I'm going to try to take the same kind of JavaScript approach with
&gt;&gt; search keyword highlighting and links to translations, but I may just
&gt;&gt; send those variations as representations from the server if   
&gt;&gt; JavaScript
&gt;&gt; turns out to be problematic for those use cases. One  attitude I've
&gt;&gt; heard on this list is that if it isn't cacheable it  isn't  
&gt;&gt; scalable. To
&gt;&gt; me, caching is one tool in the scalability  toolbox, but not the only
&gt;&gt; one. Another example is using URL-rewriting  if cookies aren't  
&gt;&gt; enabled
&gt;&gt; on the client. Yes, this doesn't make as  effective use of caching as
&gt;&gt; cookies or even HTTP auth could, but if  it allows 5% more users  
&gt;&gt; to use
&gt;&gt; the site effectively, then it is  useful. Maybe because of the less
&gt;&gt; effective caching on that 5% you  need to add one more node to your
&gt;&gt; server cluster.
&gt;
&gt; I value the 'purity' of a URL too highly to consider stashing a  
&gt; session
&gt; key (or other session state) in it.
&gt;
I hate those ugly URLs too, but 5% means 5% more happy users, 5% more  
participation, 5% more purchases. I value that more.

&gt; However, I don't think this caching feature bears too heavily on  
&gt; where I
&gt; was going, which was to present the case for the need of 'subject' as
&gt; separate from 'object' in a HTTP request. Cookies are all we've got  
&gt; for
&gt; this, and there's negative energy applied to their use. If the  
&gt; advice is
&gt; "don't use cookies", then what's going to happen (as it is unavoidable
&gt; for many applications to require a 'session token') is that either
&gt; people are going to start doing crazy things with HTTP headers, or
&gt; putting session state in URLs. Either of those two outcomes are far
&gt; worse than using cookies, they will lead to a very broken web.
&gt;
I would say that the subject is not the session, it is the user. Each  
request the user must authenticate, and then they become the subject.  
HTTP does attempt to support this view with HTTP authentication. I  
believe it can also be supported via cookies or URL-rewriting, if you  
just use that "session ID" as an authentication token and nothing more.

Thanks.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6003<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-04-19 03:28:28<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Hi John,

&gt; For example, say my browser crashes (power failure, accidentally  
&gt; closed,
&gt; buggy, etc.) and I come back to your web site to finish my  
&gt; shopping. If
&gt; you had been maintaining the state of my shopping basket on your  
&gt; server,
&gt; then when I login (or maybe even without logging in), you can say  
&gt; "Here
&gt; are the shopping baskets you're filling, would you like to pick one of
&gt; them up and finish shopping?". You can't do that if you're stashing
&gt; session state in the URL. Also, there only needs to be 'one' shopping
&gt; basket, and such a model would correlate better with reality. This  
&gt; model
&gt; you propose creates an entirely new basket for each additional item.
&gt; You're not doing that because it makes sense. You're doing that in a
&gt; vain attempt to deny session state.
&gt;
Well, having one basket per user is a fine design choice, but in that  
case the user couldn't "interact with two instances of the  
application," as you put it in your initial email in this thread. To  
accomplish this, I think you could simply associate the ID of the  
latest shopping basket snapshot created by the user with the user ID  
itself. So if a user has lost all of those snapshot URLs because of a  
browser crash, you can always point them back to the latest one.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6004<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-19 03:32:49<br>
Subject:The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>I'm going to try very briefly to present what I'm talking about. I'd 
love to hear anyone's considered responses.

In REST, and with HTTP, it is taken that a single request is 'explicit'. 
What this means is that a single request expresses everything a 
processing server needs in order to generate a response. Conceptually, 
this means that the request specifies a 'context' for a server which 
'implies' a response. It is the server's responsibility to get from the 
'context' to a 'representation'. I.e. the server needs to understand the 
'implications' of a single request and respond with an appropriate result.

REST and HTTP say that the requests sent to servers include the 
following things:

  A verb.
  A resource.
  A collection of headers.

I'm not going to deny this is what's there, because that *is* what is 
there. Those things are the tools at our disposal for understanding the 
'context' in which a server carries out processing. What I'm trying to 
present is a case for viewing those things as:

  A subject.
  A verb.
  An object.

In my view, it is certainly the case that this is what you do regardless 
of whether you choose to conceive of it this way or not.

These are just two different ways of labelling the 'parts' of a transfer 
request which create the context which implies the response.

Now, it's fairly easy to translate one to the other. In doing so, we 
arrive at 'clues' about how to come up with desirable interaction models 
over HTTP.

Firstly, the verb just directly translates from one conceptualisation to 
the other.

Secondly, the resource, by rights, translates to the 'object' of the 
request. (The implication of what I say next is that the resource should 
not identify anything which can be implied by the 'subject' of the 
request, but we're getting to that).

Thirdly, the collection of headers are a mixed bag. The headers 
definitely do create all sorts of specialised context. For example, what 
format will an agent accept, does the agent already have a cached copy, 
do we know what security principal the agent represents, etc.

There are all sorts of things that HTTP headers might do to modify the 
'context' of a request. This becomes complicated, and complicated is 
bad. What I'm trying to do is show that ultimately the context created 
by these headers should be entirely abstracted away into the form { 
'subject' 'verb' 'object' }. That form is remarkably simple and 100% 
effective at encapsulating the form of every single combination of the 
above.

Now, lets just simplify a little bit and say that when a server receives 
a request for processing it can do one of two things: respond or 
redirect. We'll stick with analysing the verb 'GET', for simplicity.

'Respond' means that a 200 class message with an attached entity is 
returned as the result of the request.

'Redirect' means that a 300 class message with no entity is returned as 
the result of the request.

We ignore all other concerns for the moment.

Our goal is to find a way to derive,

   { 'subject' 'verb' 'object' }

from,

   { 'verb' 'resource' 'headers' }.

The tools we have to communicate results are 'respond' and 'redirect'.

There are two motivations for getting into the form { 'subject' 'verb' 
'object' }. The first is that this creates a very simple context for 
which application programmers can write programs which generate results 
implied by such requests. The second is that this model is conducive to 
a simplified programming API when programming the web and querying it 
for information. I freely admit that each of these motivations are 
subjective and open to scrutiny, but I think it's worth hearing me out.

What I want to be able to do, conceptually, is use two URIs and a single 
verb to imply a response.

I want to be able to say, or, the way I want to interpret the context 
which implies a server's response, is:

  http://www.example.org/session/42 GETs http://www.example.org/resource

Together the 'subject', 'verb', and 'object' of the request will imply 
the response.

What I actually have is considerably more complicated than that. I have 
Accept, Referer, Accept-Language, Accept-Encoding, If-Modified-Since, 
User-Agent, Host, Connection, Cookie (!), etc., etc.

That is, there's all this 'extra' stuff in there which, if I'm not 
careful, I might start to depend on. This stuff is complicated.

I'm willing to accept that it will often be necessary (appropriate, 
even) to acknowledge the content of these headers. However, my view is 
that if the context created by the headers deviates from 'subject' 
'verb' 'object' then the only response I want to generate is a 'redirect'.

That's important to stress, I think. The goal is to make sure that if 
there is a GET request which actually 'responds' with an entity and a 
200 class code, then I want to make sure I know what the 'subject', 
'verb' and 'object' of the request were. In any other case the 'subject' 
'verb' and 'object' may be deemed to have been too inexplicitly 
specified, in which case a 'redirect' to a more explicit URI is desirable.

The implications of this approach are:

  - A 'session token' is all that is required for a server to understand 
the 'subject' of a request. From this token the server can derive 
information about which user the request applies to, which shopping 
basket the request applies to, what application specific settings or 
options are known about the account this session is for (e.g. locale, 
time-zone, theme, accessibility considerations, etc.) Because I have a 
session token I have the option to separate into two groups the source 
of the implications of a request. That is, perhaps whether the 'theme' 
is 'pink' or 'blue' will be something my application models as 
information implied by the 'subject' of the request (i.e. the theme is a 
user option associated with their account) or whether it's specified in 
the 'object' of the request (i.e. the URL contains the information about 
which theme the page should be rendered in).

  - With one notable exception, the full 'API' exposed by my application 
can be completely encapsulated in hypermedia. As a case in point, there 
will be a place in my URLs for specifying whether a link to a French 
translation should be on the page, or whether help for mobile users 
should be on the page, etc. The exception to this is when it is not the 
'object' of the request but rather the 'subject' that is the context 
which implies the suitability of 'French translation link', or 'Mobile 
help info'. In such a case the lack or the availability of such data in 
responses would be inferred by the server based on what it can derive 
from the 'session token'.

Er... I'm going to have to cut this short. It's getting too long. 
Hopefully someone on the list can see what I've explained and 'infer' 
the blanks.












</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6005<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-19 03:35:19<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Bill Venners wrote:
&gt; Well, having one basket per user is a fine design choice, but in that  
&gt; case the user couldn't "interact with two instances of the  
&gt; application," as you put it in your initial email in this thread.

I used sloppy language there. Earlier I'd said that the shopping basket 
had a one to one mapping with the 'session'. Users can have many sessions.









</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6006<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2006-04-19 05:20:06<br>
Subject:RE: [rest-discuss] REST &amp; Internal Integration<br>
Message:<br><br>
<pre>I think all of those could be designed to have uniform interfaces and
resource identifiers and exchange representations of state. You could build
it yourself, and the limits of your integration would be as far as you care
to push them. Or you could use existing technology - possibly placing extra
constraints to achieve the uniform interface, resource identifiers, etc. -
and maybe do it cheaper with broader acceptance. The existing technologies
could be HTTP (for most of those), or something like JMS or a vendor
specific message publishing/queueing system.
 
 &gt; For example looking up existing customer information. It definitely
wouldn't be my first choice, however, for something transactional like
creating an order. 
&gt; Not saying I'd never do it, just wouldn't be my first choice.
Using HTTP for requests that must be transactional doesn't seem to be a
problem in my view. I'm pretty sure there are several online retailers that
use HTTP to create and manage orders. It's even theoretically possible they
use HTTP within their firewall as well - but you can never know what's going
on in there...
What is it about HTTP based request/response doesn't fit with
'transactional' from your point of view?
 
&gt; My problem with using Web Style at all for heavy integration is the
coupling and complexity that starts to add up 
&gt; when you have a lot of services all doing Request/Reply. Each client has
to handle errors and retry logic.
When you have a network, each client has to handle errors and retry logic.
Really. The nifty part about REST is that with a uniform interface and a
message oriented protocol, once you have it figure out, that software is
re-usable across different services - whether it's creating an order,
updating inventory, changing prices or getting a list of things in a
shopping cart.
 
 
&gt;  Once you get to anything async, however, Web Style quickly falls down for
me. Lets start with "Async Request/Reply". 
&gt; [...] 
&gt; If you are writing one service, it is no big deal - its when there are
more then a few where you get a cumulative amount of complexity that 
&gt; starts to get your attention.
Complexity doesn't accumulate when you have a uniform interface. Any
asynchronous system has more complex interactions than synchronous, but if
the benefits outweigh the costs then it's a fine choice. I don't see how an
asynchronous approach where the receiver returns a token to the sender is a
poor approach or falls down - it's fairly common in many messaging systems,
not just Web style systems. Using a Web Style means to create a common way
to do asynchronous interactions, likely using hyperlinks (that's the "get an
id back" part) or registering a callback (again, a form of hyperlinking).
The Atom publishing protocol is doing just this - defining how document
exchange can become asynchronous when building on top of synchronous
request/reply messages.
 
&gt; For "Async 1:1", you can do that with Web Style like Request/Reply. You do
have to contend with error cases, however. 
&gt; And "out of the box" you don't get guaranteed delivery. You can't send the
message persistently so that you know that the send being ack'd means
something.
Most messaging systems I've worked with that provide reliable or guaranteed
delivery have APIs that look suspiciously like "post", and the API is a
blocking call - quick, but still blocking. 
 
&gt; How would you do "Async 1:M"? This is classic pub/sub. A client sends 1
message and N subscribers listen to the message. 
&gt; The client has no idea who is listening. I don't know of any way to do
this w/o writing a ton of code.
I have a feeling you are talking about how to do this with HTTP, rather than
how to make pubsub more RESTful.
You could just acquire a decent messaging middleware product and put an HTTP
server in front in order to post messages to the topics, then define the
HTTP requests for consumers to retrieve messages - the trick is to define
how the consuming applications maintain state as to which messages have been
processed.
Here is a sample app I wrote a while back that does what you are talking
about :
http://www.searchalert.net:8080/dierken/events/chat.html?topic=rest-discuss
The underlying system holds messages here:
http://www.searchalert.net:8080/xmlrouter/msgs/rest-discuss
This is a working example of using HTTP to send 1 message and having N
subscribers listen to the message. The publisher does not know what
applications will consume the messages. In addition, this particular example
also shows two approaches to notification - polling for messages via
following the 'next' link, and persistent connections for low latency
delivery to subscribers (when the 'next' link falls off the end of the
chain, the server holds onto the request and doesn't send a response until
there are messages ready). There is a client implemented via javascript
within the HTML page, but any programming language that can talk HTTP and
parse XML will do. This was written in just a few hours, but gives you the
idea of what is possible.
 
&gt;  How about "Async 1:M Request/Reply"? This is when you send one message
and get N responses. This is pub/sub request reply.
Are you sure you didn't mean N+1 responses?
 
&gt;  Last one on my list is "Async M:1". This is 1 service listening to N
destinations / Topics for events.
This is the flip side of 1-N pubsub. The service either is pro-actively
notified (via a post in some language or protocol) or polls. A middle-ware
service would allow this service to register 'routes' between topics so that
the service only need to subscribe to one 'journal' topic. There have been a
few companies and open-source projects in the past that did this with pure
HTTP. 
 
 


  _____  

From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On
Behalf Of mherrick66@...
Sent: Monday, April 17, 2006 11:14 PM
To: rest-discuss@yahoogroups.com
Subject: [rest-discuss] REST &amp; Internal Integration


Hi, 

I am not a REST expert, but definitely prefer it to SOAP &amp; WS-*. 

I am participating in some future state architecture planning and am trying
to see where REST fits. I'm trying to challenge some of my assumptions so I
am sending this email to this list. While I certainly prefer REST to WS-*, I
still don't think its the best choice for internal integration within a
company.

As part of this architecture planning we have identified some integration
categories that are common to us:


1.	Sync Request/Reply 

2.	Async Request/Reply 

3.	Async 1:1 

4.	Async 1:M 

5.	Async 1:M Request/Reply 

6.	Async M:1 

7.	Batch Feed

I wrote a bit more on these and which ones I think can/should be done via
REST and which ones shouldn't:
http://fuzzypanic.blogspot.com/2006/04/just-how-much-rest-web-style-are-we.h
tml

Please let me know what you think.

Thanks for your help,

Mike Herrick
Portland, OR


SPONSORED LINKS 
Protocol
&lt;http://groups.yahoo.com/gads?t=ms&amp;k=Protocol+analyzer&amp;w1=Protocol+analyzer&amp;
w2=Ssl+protocol&amp;w3=Protocol+converter&amp;w4=Sip+protocol&amp;w5=Protocol+analysis&amp;w
6=Protocol&amp;c=6&amp;s=120&amp;.sig=-vNi0F9sGxz3wJiUypOlsA&gt; analyzer 	Ssl
&lt;http://groups.yahoo.com/gads?t=ms&amp;k=Ssl+protocol&amp;w1=Protocol+analyzer&amp;w2=Ss
l+protocol&amp;w3=Protocol+converter&amp;w4=Sip+protocol&amp;w5=Protocol+analysis&amp;w6=Pro
tocol&amp;c=6&amp;s=120&amp;.sig=QcUDWIbIdXkmz4QSFhqszw&gt; protocol 	Protocol
&lt;http://groups.yahoo.com/gads?t=ms&amp;k=Protocol+converter&amp;w1=Protocol+analyzer
&amp;w2=Ssl+protocol&amp;w3=Protocol+converter&amp;w4=Sip+protocol&amp;w5=Protocol+analysis&amp;
w6=Protocol&amp;c=6&amp;s=120&amp;.sig=8MMcEvfzdk5saYSJv-2g3g&gt; converter 	
Sip
&lt;http://groups.yahoo.com/gads?t=ms&amp;k=Sip+protocol&amp;w1=Protocol+analyzer&amp;w2=Ss
l+protocol&amp;w3=Protocol+converter&amp;w4=Sip+protocol&amp;w5=Protocol+analysis&amp;w6=Pro
tocol&amp;c=6&amp;s=120&amp;.sig=X7aZ6IACnEQUtAC57u829w&gt; protocol 	Protocol
&lt;http://groups.yahoo.com/gads?t=ms&amp;k=Protocol+analysis&amp;w1=Protocol+analyzer&amp;
w2=Ssl+protocol&amp;w3=Protocol+converter&amp;w4=Sip+protocol&amp;w5=Protocol+analysis&amp;w
6=Protocol&amp;c=6&amp;s=120&amp;.sig=SI1LEHwb69y6gddZAv_Fuw&gt; analysis 	Protocol
&lt;http://groups.yahoo.com/gads?t=ms&amp;k=Protocol&amp;w1=Protocol+analyzer&amp;w2=Ssl+pr
otocol&amp;w3=Protocol+converter&amp;w4=Sip+protocol&amp;w5=Protocol+analysis&amp;w6=Protoco
l&amp;c=6&amp;s=120&amp;.sig=aCiMFP0b3kFn96wqrZacGA&gt;  	

  _____  

YAHOO! GROUPS LINKS 


	
*	 Visit your group "rest-discuss
&lt;http://groups.yahoo.com/group/rest-discuss&gt; " on the web.
  

*	 To unsubscribe from this group, send an email to:
 rest-discuss-unsubscribe@yahoogroups.com
&lt;mailto:rest-discuss-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt; 
  

*	 Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service
&lt;http://docs.yahoo.com/info/terms/&gt; . 


  _____  


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6007<br>
Sender:=?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;bill@...&gt;<br>
Post Date/Time:2006-04-19 08:32:44<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>John Elliot wrote:
&gt; Lyle Kopnicky wrote:
&gt;  &gt; The point of using REST is scalability.  Mainly, caching.  If the
&gt;  &gt; session has a URI, it can be cached.  If the session key is in a cookie,
&gt;  &gt; the session cannot be cached.  So, I think the way to do it is something
&gt;  &gt; like:
&gt;  &gt;
&gt;  &gt; GET http://www.example.com/basket/12/checkout.html
&gt; 
&gt; I think your proposed URI design is a bad idea. If I were designing this
&gt; application I would associate 'shopping basket' with the 'session' and
&gt; imply it by 'session token'. I would not put it in the URL. It's a bad
&gt; idea. I can't think how to explain why in less than 50,000 words though,
&gt; because it feels like I have to go all the way back to first principles.
&gt; 
&gt; I admit that if you deny the possibility of 'subject' in the HTTP
&gt; request (i.e. you don't use a session cookie) that this is the only real
&gt; thing you can do. However, I disagree that making such denials is a
&gt; reasonable thing to do.

You're overstating your case.

The main talking point with Bill's approach is creating a new URI for 
each server-identified state of the basket. That btw, is very like the 
Rails /img.png?20060404 idiom that Tim Bray recently blogged about and 
has been described as "layer mixing". Layering's not the problem tho', 
incoherency is*. IMO the pattern "Assign URIs To Representations" 
results in protocol gibberish.

The preferred approach is to ask the basket for its state using GET. 
That is, the basket needs a URI, but the application doesn't need a URI 
for each state of the basket.

cheers
Bill

* that the Rails people are doing this for caching purposes is a red 
herring.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6008<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-04-19 14:23:30<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Hi Bill,

On Apr 19, 2006, at 1:32 AM, Bill de hra wrote:

&gt; The main talking point with Bill's approach is creating a new URI for
&gt; each server-identified state of the basket. That btw, is very like the
&gt; Rails /img.png?20060404 idiom that Tim Bray recently blogged about and
&gt; has been described as "layer mixing". Layering's not the problem tho',
&gt; incoherency is*. IMO the pattern "Assign URIs To Representations"
&gt; results in protocol gibberish.
&gt;
It isn't assigning URIs to representations. It is assigning a URI to  
each piece of conversational state, each of which by definition  
becomes a resource. By defining a URI for each step along the way in  
a conversation, the user can back up to any previous place in the  
conversation with the back button.

&gt; The preferred approach is to ask the basket for its state using GET.
&gt; That is, the basket needs a URI, but the application doesn't need a  
&gt; URI
&gt; for each state of the basket.
&gt;
How would you do that if you are designing an application for users  
that allows them to shop and add things into their shopping cart? The  
user interaction is that you want to show the user a page of items,  
and on the right hand side show them what's in their cart, and allow  
them to add items to the cart. If you say that page is the shopping  
cart, then you can just post back to the same page and it will change  
each time, which breaks the back button. I can't back up to go back  
in time to previous versions of the shopping cart.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6009<br>
Sender:Jim Ancona &lt;jim@...&gt;<br>
Post Date/Time:2006-04-19 15:41:54<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Bill Venners wrote:
&gt; Hi Bill,
&gt; 
&gt; On Apr 19, 2006, at 1:32 AM, Bill de h�ra wrote:
&gt; 
&gt;&gt; The main talking point with Bill's approach is creating a new URI for
&gt;&gt; each server-identified state of the basket. That btw, is very like the
&gt;&gt; Rails /img.png?20060404 idiom that Tim Bray recently blogged about and
&gt;&gt; has been described as "layer mixing". Layering's not the problem tho',
&gt;&gt; incoherency is*. IMO the pattern "Assign URIs To Representations"
&gt;&gt; results in protocol gibberish.
&gt;&gt;

I believe that Tim's objection to the Rails idiom was that the 
/img.png?20060404 and /img.png?20060419 aren't really distinct resources 
because only one of the two will exist on the server at a time. So I 
can't bookmark one version and expect to be able to access it once a new 
version is deployed.

&gt; It isn't assigning URIs to representations. It is assigning a URI to  
&gt; each piece of conversational state, each of which by definition  
&gt; becomes a resource. By defining a URI for each step along the way in  
&gt; a conversation, the user can back up to any previous place in the  
&gt; conversation with the back button.

It seems that Bill V's proposal doesn't have the problem that Tim 
identified--he's saying that if I bookmark my basket before adding an 
item, I can access the previous state of the basket by calling up the 
bookmarked URL (or hitting the back button). That sounds like a lot for 
the server to keep track of, but not an abuse of HTTP or URLs.

Jim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6010<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-04-19 16:04:30<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Hi Jim,

On Apr 19, 2006, at 8:41 AM, Jim Ancona wrote:

&gt; I believe that Tim's objection to the Rails idiom was that the
&gt; /img.png?20060404 and /img.png?20060419 aren't really distinct  
&gt; resources
&gt; because only one of the two will exist on the server at a time. So I
&gt; can't bookmark one version and expect to be able to access it once  
&gt; a new
&gt; version is deployed.
&gt;
That's what I took away from Tim Bray's blog too. The problem that  
Rails is trying to solve is a real one, which is when you have a  
resource that changes only very occasionally, you want to take  
advantage of caching by saying cache this for a long time. But then  
when it does change, you also want the changes to propagate quickly.  
Other ways to deal with this are:

1. Decide what lag time is acceptable to you and say that after that  
much time you need to check to see if the resource has been updated,  
perhaps with if-modified-since or if-none-match if you have multiple  
representations. That way it is just a check each time, and you don't  
actually have to send the whole thing again until you actually do  
change it. For RSS feeds, for example, you could say let up to 30  
minutes go by before they even check.

2. If no time lag is acceptable, then just have them check each time.  
By using if-modified-since or if-none-match, you don't have to *send*  
the resource again until it changes, but you do have to handle all  
the requests. This approach requires more server processing in  
exchange for prompt propagation of updates, but one side benefit, if  
this is something you're interested in, is that this approach gives  
you a better accounting of how many client touches the resource is  
actually getting.

One thing I'm trying to figure out how to do in our home-grown web/ 
mvc architecture is respond to if-modified-since and if-none-match  
without actually doing all the processing to render the resource. I  
also want it to be easy for us to configure which caching strategy a  
resource gets.

&gt;&gt; It isn't assigning URIs to representations. It is assigning a URI to
&gt;&gt; each piece of conversational state, each of which by definition
&gt;&gt; becomes a resource. By defining a URI for each step along the way in
&gt;&gt; a conversation, the user can back up to any previous place in the
&gt;&gt; conversation with the back button.
&gt;
&gt; It seems that Bill V's proposal doesn't have the problem that Tim
&gt; identified--he's saying that if I bookmark my basket before adding an
&gt; item, I can access the previous state of the basket by calling up the
&gt; bookmarked URL (or hitting the back button). That sounds like a lot  
&gt; for
&gt; the server to keep track of, but not an abuse of HTTP or URLs.
&gt;
It is just memory and disk space, which is cheap, and to me I think  
it is the cost of doing things over HTTP, for which you get HTTP's  
massive scaling potential. The actual controllers that respond to  
these requests are quite simple. And it allows the user to back up  
and hit reload, to open up another window and fork off a different  
conversational path, and so on. Later you can remove these snapshots  
of conversational state. They can have expiration times after which  
they can be reaped, or they can be deleted after a conversation has  
been consummated somehow, such as after a shopping cart has been  
purchased, if you wish.

And this notion I have of diamonds or whatever you want to call these  
little steps of state change with URIs is what I think of as a way to  
do *conversational state* with users, not persistent state. Bill de  
Hora's suggestion of using a single URI for the whole shopping cart  
sounds a bit more like thinking of the shopping cart as persistent  
state, not conversational state. That's a potential way to approach  
shopping carts, but they feel more to me like the conversation I have  
with the user up until they purchase. Then the purchase is persistent  
state.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6011<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-19 17:34:15<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Bill Venners wrote:
&gt; On Apr 19, 2006, at 1:32 AM, Bill de h�ra wrote:
&gt;   
&gt;&gt; The preferred approach is to ask the basket for its state using GET.
&gt;&gt; That is, the basket needs a URI, but the application doesn't need a  
&gt;&gt; URI
&gt;&gt; for each state of the basket.
&gt; How would you do that if you are designing an application for users  
&gt; that allows them to shop and add things into their shopping cart? The  
&gt; user interaction is that you want to show the user a page of items,  
&gt; and on the right hand side show them what's in their cart, and allow  
&gt; them to add items to the cart. If you say that page is the shopping  
&gt; cart, then you can just post back to the same page and it will change  
&gt; each time, which breaks the back button. I can't back up to go back  
&gt; in time to previous versions of the shopping cart.
&gt;   
You have a different idea of what "breaks the back button" means than I 
do.  Since each URI represents a resource, the back button means "go 
back to the previously viewed resource".  It does not mean "undo what I 
just did".  If that previously viewed resource has changed, then when I 
hit the back button, I should see the changed resource.

Thus it is perfectly reasonable to use a single URI to represent a 
shopping cart.  Suppose I go through the following views:  Item A detail 
--(purchase item A)--&gt; shopping cart --(shop more)--&gt; main shopping page 
--(search for item B)--&gt; item B detail --(purchase item B)--&gt; shopping 
cart.  The shopping cart will show two items: A and B.  Then if I hit 
the back button 3 times, I should be back at the shopping cart, which 
would again show items A and B.  (When I navigate there, the browser 
will contact the server with an If-Modified-Since header, so it will 
know the cart has been updated, and it has to retrieve the resource.)

Your suggestion of representing each state of the shopping cart as a 
separate resource is not unRESTful.  Some people might even like it.  
But it is not the only way to do things.  And it does require more 
storage/sophistication on the part of the server.  In your model, the 
back button still means "go back to the previously viewed resource", but 
your resource is now a single state of my resource.

Conceptually, I think most people think of a shopping cart, rather than 
the state of a shopping cart, as a resource.  So, I think my (and Bill 
de la H's) method is more intuitive.

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6012<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-20 00:40:19<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Hi Bill,

Bill Venners wrote:
&gt; I'm not quite sure I follow all of this, but one thing I would change  
&gt; is the last one. I wouldn't say shopping basket 12, but shopping  
&gt; basket *snapshot* 12. The shopping basket is something the user  
&gt; thinks in terms of. She is adding items to that conceptual basket.  
&gt; But on the server, there is not one basket. There is one snapshot of  
&gt; her conceptual basket for each time she changed it. Plus it wouldn't  
&gt; be numbered 12, but some opaque ID such as F4Dmc983xRR12. The URI  
&gt; could be something like:
&gt; 
&gt; http://shop.artima.com/basket?z= F4Dmc983xRR12
&gt; 
&gt; That's a completely different resource from:
&gt; 
&gt; http://shop.artima.com/basket
&gt; 
&gt; Which is an empty shopping basket snapshot.

The term for what you are doing is 'immutable', not 'stateless'.

At least, that's what you're *trying* to do, but it's not so simple as 
you might think, and I'd bet you haven't gone 'far enough'.

Those URLs you are creating are intended to be 'keys to immutable state'.

Your 'shopping basket snapshot', as you describe it, only superficially 
avoids state mutations.

Say 'F4Dmc983xRR12' is a key to a shopping basket snapshot. What's in a 
shopping basket? 'Products', 'Quantity', 'Price', etc.

The thing is that what products that are available, how much stock there 
is, what the price is, etc., may all change while a user is shopping. 
These variations as you 'dereference' them from the 'shopping basket 
snapshot' will undermine its immutability.

The only analogy that won't 'fray' apart like this is if you used 
something like a centralised version control system (like subversion) as 
the backing store. If you did that, then you truly could have 
'immutable' shopping basket snapshots. The thing is though, that as your 
products, stock levels, and prices can vary over time *in the real 
world*, it would be of limited value to you or your users to allow them 
to proceed shopping for half an hour when you could already have told 
them "Oh, look, that thing you want to buy... someone else just 
purchased it, and now we're out of stock". If you don't allow two users 
to put a single item in their shopping basket, i.e., if you literally 
'put it in their shopping basket' (well, as close to 'literally' as you 
can get in this 'metaphorical' sense.. :P  What I mean is that you take 
the item 'off the shelf' if it's in someone's basket), then that is 
tantamount to offering a pessimistic lock on a resource. Locking is bad. 
That's not to say that 'resource locking' isn't something that you might 
have to do in order to support your line of business, but you can see 
that without a firm 'requirements definition' it's difficult for me to 
pursue this 'shopping basket snapshot' idea.

You've introduced (considerable) complexity, and I doubt you've actually 
avoided the problem. The problem is that state mutates on the server 
independently of a single user session. You've whacked a veneer over the 
top of this problem which makes it harder to see, and 'less likely' to 
be a problem, but you haven't arrived at a general solution for the problem.

&gt; Not if the object of the request is a shopping basket snapshot. Then  
&gt; the URI is exactly referencing that. Like I said previously, in this  
&gt; way of thinking, there is no shopping basket on the server. There are  
&gt; several snapshots of state that our shopper has created via POSTs as  
&gt; she has added, say books, to her shopping basket. When she adds an  
&gt; item to the shopping cart, she gets redirected to a new snapshot, the  
&gt; latest and greatest. She can back up and click reload, and she'll go  
&gt; back to a previous snapshot.

Let's forget the shopping basket analogy for a minute, because I don't 
want to get bogged down in a subjective discussion about whether this is 
a 'line of business' function (state on the server) or a 'user 
controlled thing' (immutable state on server referenced by the URL). I 
don't think your 'shopping basket snapshot' is a good idea, but I'm 
willing to concede that it can work (to some degree), and I perceive 
little value in arguing over it.

I'd like to propose that we consider instead a user's bank account. This 
is an example of where the correlation of state with the 'real world' is 
undeniably important. How does your 'immutable snapshot' attempt help in 
this scenario?

&gt; I used to think in terms of user sessions on the server, as you are  
&gt; describing, and as all web frameworks I've seen encourage. I feel the  
&gt; main way that reading about REST helped me is in gaining insight into  
&gt; HTTP. It is a stateless protocol, as you I think explained well in a  
&gt; previous email:

Thanks, but as I pointed out, it's the *transfer protocol* which is 
stateless. Not your application. You are conflating 'immutable 
application state' with 'stateless transfer protocol'.

Immutable resources and stateless transfer protocols each surface 
excellent scalability features, but that doesn't make them useful when 
you can't use them. Certainly HTTP will always be a 'stateless transfer 
protocol', and that's great, but not all resources are 'immutable', and 
nor should they be. Also, the mutations which do occur on resources are 
not always isolated to a single set of single user's interactions (aka: 
a session). State can vary independently of a user's session. However, 
state can vary with respect to a user's session too. That is, the 
'subject' (a 'user', or more desirably a 'user's session') can imply a 
context the implications of which mutate based on historical interaction 
in the same context. That is, if a user deletes an email, then a 
representation of that user's inbox will no longer include that email. 
If a 'user session' removes an item from their shopping basket, then 
that item will no longer appear in a representation of the shopping basket.

You might be able to run the case for immutable resources in the case of 
a 'shopping basket' feature (although I beg to differ), but other things 
like a user's 'bank account' I think you'd be forced to agree that state 
can not be represented by immutable snapshots in a URL. What would I do? 
Pay my bill. Click back. Pay another bill. Click back. Pay another bill. 
Click back. Chuckle. :)

&gt; When you talk about user session, I feel like you are trying to push  
&gt; statefullness on the stateless protocol in the traditional way that  
&gt; most web apps have done.

I thought we were on the same page with 'application state' and 
'transfer protocol state' being different things, but this comment of 
yours hints that perhaps we're not. I've stressed the difference above, 
so hopefully that gels.

&gt; You suggest that my opaque ID tokens for the  
&gt; shopping cart session snapshots are "nothing more than session  
&gt; tokens," though worse because, "they stand as a key to server-side  
&gt; state which could have been indicated by a single session key."

Yes, and I stand by that.

&gt; My  
&gt; point, which I think you may understand but just don't agree with, is  
&gt; that you can avoid entirely the concept of a user session on the  
&gt; server side by considering each piece of state resulting from a  
&gt; conversation over HTTP with a user as a resource. If you do so, then  
&gt; you aren't layering any statefulness on top of HTTP--each request  
&gt; really is completely independent of the other.

Yes, I do understand your point. Yes, I disagree with your point.

User requests, in the context of a single user session are dependant on 
each other. For example, I can't remove an item from my shopping basket 
until after I've added an item to my shopping basket.

More than that, each request is dependant on *time*. I already 
highlighted this, and I pointed out that the only way you can 'stop 
time' is to hold a lock. As you can't hold a lock for more than one 
request, every single request *must be* considered to be dependant on time.

&gt; Authentication and  
&gt; authorization is something that has to happen all over again each  
&gt; request, because the server doesn't need to remember any notion of a  
&gt; user session.

Of course. There is nothing which I've said that should have been taken 
as contrary to this.

Also, you have to reauthorise and reauthenticate on every request 
because, as I said above, state varies over time. I.e. user Joe is a 
member of the Administrators group and he requests /sensitive-resource, 
and he gets it. Then user Jim posts new data to the server which affects 
the state of /sensitive-resource. Then Jim notices that Joe is in the 
Administrators group. Then Jim removes Joe from the Administrators 
group. Then Joe tries to refresh his representation of 
/sensitive-resource and gets a 401 response.

This has nothing to do with sessions or lack thereof.

The problem with HTTP which I've being trying to point out is that the 
only 'session' that a user can have with your application (if you only 
user HTTP Auth) is a 'single universal session'. That's not sufficient 
for any web application I work on. It is sufficient for me to 
demonstrate how the 'subject' of a request is relevant to the context in 
which a server generates resource representations.

&gt; That's funny. About two weeks ago perhaps I mentioned I was thinking  
&gt; about doing just that, and someone on this list suggested I do it  
&gt; with JavaScript. The reason I'm leaning in the JavaScript direction  
&gt; now is that search keyword highlighting isn't an aspect of a page  
&gt; that I care for users to be able to share. The only way to get it is  
&gt; to actually come in from a search engine. If you grab the URI and  
&gt; send it to your friend, and they click on it, they won't get the  
&gt; syntax highlighting. In that case, I think the syntax highlighting  
&gt; would be confusing. If I'm able to use JavaScript, then it will only  
&gt; work if JavaScript is enabled on the client. It is not important  
&gt; enough to usability that I'm willing to accept that. But I'll send  
&gt; the same JavaScript to everyone, so I don't need any extra  
&gt; representations to do it, which helps me cache effectively.

I too have a concept of 'representation mutations' which are 'ancillary' 
to 'line of business function' ('line of business function' dictating 
the 'semantics of a resource'). For example, I often use ECMAScript to 
vary representations on the strength of what happens to be in a user's 
cookie. (The cookie in this case just being a convenient store for 
client-side state). I think it's fine to do that, as long as you 
recognise what it is that you're doing. That is, some aspect of a 
representation as perceived by the user is entirely independent of the 
semantics of the resource the representation is for.

&gt;&gt;In case you or others haven't picked up on it (because I didn't
&gt;&gt;explicitly say so as yet), I'm using the term 'subject' and  
&gt;&gt;'object' in
&gt;&gt;a grammatical sense.
&gt; 
&gt; I hadn't gotten that. I was thinking of subject in the authorization  
&gt; sense, but now that you mention it, perhaps that's why *they* call it  
&gt; subject.

The form is: Subject Verb Object.

The responsibility of your server is to make statements in this form 
true. You figure out what the subject is (i.e. 'user', or 'session'), 
you figure out what the verb is (e.g. GET) and what the object is (i.e. 
the 'resource') and then you generate a response. Assuming the response 
is a 200 class response then the generated representation won't simply 
be based on the verb and the object, but it will also take into 
consideration the subject of the request.

&gt; The URI isn't the only thing in the request, and I think everything  
&gt; in the request should be considered fair game in considering how to  
&gt; respond.

And this is the essence of what I'm worried about. If people start using 
'custom' HTTP headers then we're going to end up with a very broken web.

Also, you don't actually need HTTP headers to service *explicit* GET 
requests.

I offered you a constraint which you can use to simplify your HTTP 
interaction model. That is, if you are going to use any aspect of the 
headers (beyond 'session token' in a cookie) in order to modify the 
semantics of a request then the only response you should generate is a 
300 class response.

This constraint will ensure that URLs and hypermedia surface the full 
value of your web service. If you have a session token and an explicit 
resource description you don't need HTTP headers.

As you *do* have HTTP headers, and as HTTP headers have universal 
semantics, you should take advantage of them by turning 'inexplicit 
resource descriptions' into 'explicit resource descriptions' automatically.

&gt; The URI is the part that's sharable, so I want to have a  
&gt; unique URI for each resource I want people to be able to share among  
&gt; each other. I don't care that users can share the prominent link to a  
&gt; translation, because that only makes sense for the user that actually  
&gt; indicates in their request headers that they like French content.

You are making my case for me here. See, you, as the web architect, can 
elect to *either* make 'French content' dependent on the 'subject' of 
the request (i.e. the 'user', or 'this user session') *or* on the 
'object' of the request (i.e. the explicit description of the resource 
being requested, that is, with the preference in the URL).

Further, you can do what I do, and have a 'cascading' system. That is, 
if the 'object' explicitly says 'French content' then regardless of 
anything else the user gets it that way. In the absence of a request for 
'French content' in the URL then the 'subject' will imply the whether 
'French content' is there or not. In the absence of a setting from 
either the 'subject' or the 'object' then the 'application' has a default.

&gt; I agree with everything except that by using the same URI for all  
&gt; these things, I'm declaring as the designer that they are all the  
&gt; same resource. If I use JavaScript, then they are all the same  
&gt; representation of the resource. If I make a different ETag for each,  
&gt; and send all this stuff from the server, then each unique one is a  
&gt; different representation of that one resource. As the designer, I can  
&gt; chop my state up into URI-addressable resources any way I want, and  
&gt; each resulting URI by definition maps to a resource.

Yep, I think this is fine.

&gt; Well, it's content negotiation. I don't want to do a lot of it, but  
&gt; where it improves usability I think it's fine to use.

Yep, I agree. The thing is that 'content negotiation', or for that 
matter anything else where the semantics of the request are going to be 
modified by the content of the HTTP headers then I think you should only 
'redirect', rather than 'respond'. I.e. the URL should be *explicit*. 
The only thing that shouldn't be in the URL is the 'subject' of the 
request. In HTTP the only supported device for 'subject' is the HTTP 
Auth header which indicates the 'user' as the 'subject', but that's not 
good enough if you want to allow discrete users to have multiple 'sessions'.

&gt; I hate those ugly URLs too, but 5% means 5% more happy users, 5% more  
&gt; participation, 5% more purchases. I value that more.

Once you come to my way of thinking about 'subject', 'verb', 'object', 
then I don't really care if you need to hack the 'session token' into 
the URL.

It's not a problem for me, I tend to do 'B2B' systems and intranets, so 
I don't need to support diverse visual agents.

&gt; I would say that the subject is not the session, it is the user. Each  
&gt; request the user must authenticate, and then they become the subject.  
&gt; HTTP does attempt to support this view with HTTP authentication. I  
&gt; believe it can also be supported via cookies or URL-rewriting, if you  
&gt; just use that "session ID" as an authentication token and nothing more.

Yep, the 'subject' usually is the user. However, often you need it to be 
the 'user session'. A 'user session' implies a user, but it means that 
users aren't forced to have a single 'universal session'.












</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6013<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-20 01:43:48<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>Maybe this will help:

   representation = f( subject, verb, object, time );

Your responsibility is to implement f. Particularly you need to 
distinguish between what is implied by 'subject', and what is implied by 
'object'.











</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6014<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-20 01:50:20<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>John Elliot wrote:
&gt;    representation = f( subject, verb, object, time );

Actually, this is a better way of stating it,

   representation = GET( subject, object, time );

Thus the value of a constrained set of universal verbs.

Side-effects require additional parameters, and aren't strictly 'functions'.







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6015<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-20 01:58:19<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>John Elliot &lt;jj5@...&gt; writes:

&gt; Maybe this will help:
&gt;
&gt;    representation = f( subject, verb, object, time );
&gt;
&gt; Your responsibility is to implement f. Particularly you need to 
&gt; distinguish between what is implied by 'subject', and what is implied by 
&gt; 'object'.

  representation = f( subject, verb, object, time, acceptable_representation_types );

actually there's probably a bunch of other stuff there as well.

Or was that supposed to go in 'object'?

What is 'object' by the way? presuming that 'subject' is the uri?



Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6016<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-20 02:28:59<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>Nic wrote:
&gt;   representation = f( subject, verb, object, time, acceptable_representation_types );
&gt; 
&gt; actually there's probably a bunch of other stuff there as well.
&gt; 
&gt; Or was that supposed to go in 'object'?

Yes, that's in the 'object'. Ideally, the 'object' is the 'resource', 
i.e. the 'object' is described by the URI.

This function only applies to requests which are going to result in 200 
class responses. (i.e. requests which do not cause side-effects and 
which do return attached entities). If the URI is not sufficiently 
explicit, then HTTP header semantics can be applied. Notionally, these 
headers can be applied to infer the explicit object and a response can 
be generated, however I think it's better to redirect to the explicit 
URI. This helps separate concerns.

So, acceptable_representation_types is irrelevant. An *explicit* 
description of the 'object' will nominate the *specific* representation 
format. (Most suitably with something like .html, .xhtml, .pdf, etc.)

There are universal semantics associated with HTTP headers, and I'm not 
suggesting you shouldn't use them. However, I suggest that if you do use 
them, then you use them to redirect to different URIs.

There are three things that can happen:

  (1) You receive an 'inexplicit resource description' and need to 
redirect to an 'explicit resource description' based on HTTP header content.

  (2) You receive an 'explicit resource description' which is 
incompatible with HTTP header content, so you need to redirect to a 
modified 'explicit resource description'.

  (3) You receive an 'explicit resource description' which is compatible 
with HTTP header content, so you process the request and return a 
representation. (Assuming you don't need to redirect or notify of an 
error based on what you know about 'subject', 'object', 'time', and 
'server state' while processing).

&gt; What is 'object' by the way? presuming that 'subject' is the uri?

The 'object' is the explicit description of the resource (i.e. the URI). 
The 'subject' is the additional context which does not exist in the URI. 
The 'best' subject transparently supported by HTTP is the HTTP Auth header.

Ideally, in my view, all properties of the 'subject' would be implied by 
a single thing called the 'session token'. The server would know about 
the state of the subject's properties by dereferencing the session token 
during processing (at the point where it can 'stop time', if necessary).

HTTP can't support this in any transparent or universal way, although 
cookies get you most of the way there.

What I'm really concerned about though (and I want to keep stressing 
this) is that people have their 'sense of value' out of proportion. Some 
people think that 'HTTP' is 80% what makes the web work, and 'URI' the 
other 20%. Whereas I think it's more like URI=95% and HTTP=5%.

As has been noted, the 'universal' nature of HTTP is poorly implemented. 
People interpreting the 'universal semantics' of HTTP headers deviate 
from each other. That's bad. It's not so bad at the moment that the web 
doesn't work. But it might become bad.

The place for request semantics is in the URI. Not all context can be 
encapsulated in the URI however. To the extent that additional context 
is required a notion of 'subject' covers the requirement. 'Subject' can 
be a 'session token'.

If this isn't acknowledged then people are going to start putting 
'subject' context in a custom header, or otherwise misappropriating HTTP 
headers. That will be worse than using cookies. People need sessions. 
Sessions make for better resource descriptions in URLs.















</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6017<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-20 02:50:17<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>Nic wrote:
&gt; What is 'object' by the way? presuming that 'subject' is the uri?

I attempted to cover this in earlier messages, however I can summarise.

Say we have these statements in English:

  (1) Someone gets a representation of the state of Joe's bank account.
  (2) Joe gets a representation of the state of Joe's bank account.
  (3) Jim gets a representation of the state of Joe's bank account.

English grammar labels various parts of these statements. The 
grammatical terms which are relevant are 'subject', 'verb', and 'object'.

The subject is 'who'. The verb is the 'action'. The object is 'what'.

  (1)
      Subject: Someone
      Verb: Get
      Object: A representation of the state of Joe's bank account.

  (2)
      Subject: Joe
      Verb: Get
      Object: A representation of the state of Joe's bank account.

  (3)
      Subject: Jim
      Verb: Get
      Object: A representation of the state of Joe's bank account.

Obviously HTTP and REST concern themselves with state transfer by way of 
representations, so this is implicit. We can say:

  (1)
      Subject: Someone
      Verb: Get
      Object: Joe's bank account.

  (2)
      Subject: Joe
      Verb: Get
      Object: Joe's bank account.

  (3)
      Subject: Jim
      Verb: Get
      Object: Joe's bank account.

We can identify the 'object' (i.e. the 'what') with a URI:

   http://www.example.org/account/joe

Using HTTP Auth we can infer the subject. I.e. 'Someone' means we can't 
say exactly who. 'Joe' means the user authenticated as Joe. 'Jim' means 
the user authenticated as Jim.

This is a valuable conceptualisation as it stands. However, this 
conceptualisation will lead you to realise that the ideal 'subject' is 
not in fact a 'user'. Rather, a 'user session' is better. This is 
because without a 'user session' all users who authenticate with your 
server can only have one session in all time. Alternatively, in order to 
facilitate 'session' you need to indicate the session in the 'resource'. 
This is tantamount to putting a 'session context' in the URI, and that 
is not desirable. (Breaks bookmarks, can lead to insecure URLs which 
can't be shared, etc.)












</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6018<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-04-20 04:00:40<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Hi Lyle,

On Apr 19, 2006, at 10:34 AM, Lyle Kopnicky wrote:

&gt; You have a different idea of what "breaks the back button" means  
&gt; than I
&gt; do.  Since each URI represents a resource, the back button means "go
&gt; back to the previously viewed resource".  It does not mean "undo  
&gt; what I
&gt; just did".  If that previously viewed resource has changed, then  
&gt; when I
&gt; hit the back button, I should see the changed resource.
&gt;
I'm only talking about conversational state, not persistent state.  
But I stand corrected about the shopping carts. I looked around,  
including at Amazon, and every one I tried was essentially giving me  
the user, or my browser, one and only one shopping cart. It was  
persistent not only when backing up, but also between browser  
sessions. If I kill the browser then restart and go back, the one and  
only one shopping cart's still there with whatever I had last put in  
it. The sites are all recognizing me by persistent cookies. So  
shopping carts seem to be persistent state in practice. I guess when  
you put something into a cart, they want to force you to take it out  
yourself, in the hopes that you'll eventually buy it.

&gt; Thus it is perfectly reasonable to use a single URI to represent a
&gt; shopping cart.  Suppose I go through the following views:  Item A  
&gt; detail
&gt; --(purchase item A)--&gt; shopping cart --(shop more)--&gt; main shopping  
&gt; page
&gt; --(search for item B)--&gt; item B detail --(purchase item B)--&gt; shopping
&gt; cart.  The shopping cart will show two items: A and B.  Then if I hit
&gt; the back button 3 times, I should be back at the shopping cart, which
&gt; would again show items A and B.  (When I navigate there, the browser
&gt; will contact the server with an If-Modified-Since header, so it will
&gt; know the cart has been updated, and it has to retrieve the resource.)
&gt;
Yes, not all the sites that I looked at did that nicely. I sometimes  
had to hit reload, because the browser showed the page from the  
browser's cache when I backed up. So when I backed up, the last thing  
I put in disappeared, but when I hit reload, it reappeared.

When I use the back button, is that a way to view history, or is that  
just a way to go back to a URI I previously visited? In other words,  
do browsers generally obey the caching directives when the user backs  
up? If back means history, then they wouldn't need to. If it is  
rather a way to go to a previously visited URI, then if that page was  
sent with headers indicating it should be checked again with if- 
modified-since or if-none-match, then the browser should do that when  
I back up.

&gt; Your suggestion of representing each state of the shopping cart as a
&gt; separate resource is not unRESTful.  Some people might even like it.
&gt; But it is not the only way to do things.  And it does require more
&gt; storage/sophistication on the part of the server.  In your model, the
&gt; back button still means "go back to the previously viewed  
&gt; resource", but
&gt; your resource is now a single state of my resource.
&gt;
&gt; Conceptually, I think most people think of a shopping cart, rather  
&gt; than
&gt; the state of a shopping cart, as a resource.  So, I think my (and Bill
&gt; de la H's) method is more intuitive.
&gt;
I agree with you now (and especially, with Amazon) on that point.  
Shopping carts are persistent state, not conversational state, so  
they are inappropriate to use as example of using snapshots rather  
than user sessions for maintaining conversational state.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6019<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-20 05:15:31<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Hi Bill,

Bill Venners wrote:
&gt; I'm only talking about conversational state, not persistent state.  

Thanks for drawing out the distinction. The thing is, if you start to 
think about what 'conversational state' actually is, it starts to seem 
like it doesn't really exist. I can't think of an example of what 
'conversational state' would be.

Certainly the purpose of the URI is to stand for state (with the 
exception that the 'subject' of the request might bear on 'what the 
request means'). Can you show an example of where the URL is useful for 
creating 'transient' session state, as distinct from 'persistent' state.

In all cases you are creating state on the server. You literally persist 
state on the server, and then modify the URI to point at this new state. 
You still need to dereference the 'state key' which you add to the URI 
in order to get at the state being maintained on the server, whether 
that state is called 'transient', 'conversational', or 'persisted' it 
still gets stored on the server and referenced by a request. All we're 
really arguing about is whether the 'key' to this state should be in the 
URI, in the Auth header, or in a cookie. You want to drop out one layer 
of indirection (namely the 'session'), and I don't. It seems to me like 
when you pull it there's nothing there.

&gt; But I stand corrected about the shopping carts. I looked around,  
&gt; including at Amazon, and every one I tried was essentially giving me  
&gt; the user, or my browser, one and only one shopping cart.

Here's the thing about 'sessions'. Although a session can only be 
correlated with a single user, the user that the session correlates with 
can vary over time. I highlighted this in an earlier post on this subject.

A visual agent sends a HTTP request to my server for the 'product 
catalogue'. I see that they don't have a 'session token'. I give them a 
session token and a representation of the catalogue. The user chooses to 
add something from the catalogue to their basket. The user navigates to 
the checkout. I tell them they need to login or create a new account. 
The user logs in. At this point the 'session' has changed from belonging 
to 'anonymous' to 'Joe'. This is one of the main reasons that I need 
sessions. Though it's not the sole reason, it could stand as 
justification for 'session token' requirement by itself.

&gt; When I use the back button, is that a way to view history, or is that  
&gt; just a way to go back to a URI I previously visited?

I think this issue is contentious. Regardless of what happens 
specifically when you click back, I think that if you click 'Refresh' 
then you should definitely see the latest state (not some 'snapshot' of 
historical state).

&gt; I agree with you now (and especially, with Amazon) on that point.  
&gt; Shopping carts are persistent state, not conversational state, so  
&gt; they are inappropriate to use as example of using snapshots rather  
&gt; than user sessions for maintaining conversational state.

Can you give us an example of 'conversational state' as distinct from 
'persistent state' then?













</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6020<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-04-20 06:11:32<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Hi John,

Thanks for another lively response.

On Apr 19, 2006, at 5:40 PM, John Elliot wrote:

&gt; The term for what you are doing is 'immutable', not 'stateless'.
&gt;
I think you're getting warm, though these snapshots need not be  
immutable. Where they behave like immutable objects in Java, for  
example, is that when you POST to them, instead of updating  
themselves, they create and redirect to a new instance of themselves  
with the updated state. (Like when you invoke substring() on a Java  
String, you get back a different String object holding the substring  
while the original object remains unchanged.) Where they differ from  
immutable Java objects is that they may change behind the scenes. So  
if someone else does something that would affect your snapshot, when  
you visit it again, it can reflect that change.

&gt; The only analogy that won't 'fray' apart like this is if you used
&gt; something like a centralised version control system (like  
&gt; subversion) as
&gt; the backing store. If you did that, then you truly could have
&gt; 'immutable' shopping basket snapshots. The thing is though, that as  
&gt; your
&gt; products, stock levels, and prices can vary over time *in the real
&gt; world*, it would be of limited value to you or your users to allow  
&gt; them
&gt; to proceed shopping for half an hour when you could already have told
&gt; them "Oh, look, that thing you want to buy... someone else just
&gt; purchased it, and now we're out of stock". If you don't allow two  
&gt; users
&gt; to put a single item in their shopping basket, i.e., if you literally
&gt; 'put it in their shopping basket' (well, as close to 'literally' as  
&gt; you
&gt; can get in this 'metaphorical' sense.. :P  What I mean is that you  
&gt; take
&gt; the item 'off the shelf' if it's in someone's basket), then that is
&gt; tantamount to offering a pessimistic lock on a resource. Locking is  
&gt; bad.
&gt; That's not to say that 'resource locking' isn't something that you  
&gt; might
&gt; have to do in order to support your line of business, but you can see
&gt; that without a firm 'requirements definition' it's difficult for me to
&gt; pursue this 'shopping basket snapshot' idea.
&gt;
I believe you're making snapshots more complex than need be. A  
shopping cart snapshot, which you'd use if you view a shopping cart  
as conversational state, could work the same as a monolithic, one-per- 
user shopping cart viewed as persistent state. If you want to make  
sure you give people the latest information on availability and price  
each time they make a request to see the cart, then perhaps you only  
store a set of product IDs and quantities for each shopping cart (or  
snapshot). Then when you display the page showing the shopping cart  
(or snapshot), you always grab and display the latest price and  
availability for each item. Doing snapshots for conversational  
shopping carts is no more complex than doing monolithic per-user  
persistent shopping carts. You would have more of them, but they  
could behave identically.

&gt; I'd like to propose that we consider instead a user's bank account.  
&gt; This
&gt; is an example of where the correlation of state with the 'real  
&gt; world' is
&gt; undeniably important. How does your 'immutable snapshot' attempt  
&gt; help in
&gt; this scenario?
&gt;
I see snapshots as a way to do conversational state, an alternative  
to user sessions. Bank accounts are clearly persistent, not  
conversational, state.

&gt; ... That is, if a user deletes an email, then a
&gt; representation of that user's inbox will no longer include that email.
&gt;
Agreed. Your email inbox, like your bank account, is also persistent,  
not conversational, state.

&gt; You might be able to run the case for immutable resources in the  
&gt; case of
&gt; a 'shopping basket' feature (although I beg to differ), but other  
&gt; things
&gt; like a user's 'bank account' I think you'd be forced to agree that  
&gt; state
&gt; can not be represented by immutable snapshots in a URL. What would  
&gt; I do?
&gt; Pay my bill. Click back. Pay another bill. Click back. Pay another  
&gt; bill.
&gt; Click back. Chuckle. :)
&gt;
Well, these smell kind of like straw man arguments. I never said that  
you should model bank accounts with snapshots.

Snapshots are for *conversational state*, the kind of state web app  
developers have traditionally stored in a user session in memory on  
the server. They are not for persistent state, which people have  
traditionally stored in a database. The reason I brought it up in the  
context of shopping carts is that you said you wanted shopping carts  
to be associated with user sessions:

c) A user who arrives at a web-site will initially be 'anonymous', yet
their very first request flags the beginning of a session. The very
first thing they do might be to 'add item to shopping basket', and the
very next thing they do 'login'. 'Shopping basket' is an application
layer function, and it is perfectly reasonable for a server to maintain
this state and associate it with a 'session'. Unfortunately, not all
'anonymous' users can share the same shopping basket, and the transition
from 'anonymous' to 'joe' must migrate the shopping basket. The shopping
basket isn't associated with the 'user', it's associated with the  
'session'.

You also indicated that you wanted the same user to be able to  
interact via multiple sessions:

   b) A user, 'joe', who wishes to interact with two 'instances' of your
application can not do so with REST or HTTP (without cookies, or custom
headers, each of which are evil because they do not have universal
semantics). This is a problem for many types of distributed applications
where *application state* (i.e. not 'transfer protocol state') is
dependant on 'session'. Having the same user working from two different
clients under the same account is not sufficient.

My point was that you don't need a concept of a user session if you  
use snapshots. They are an alternative way to handle conversational  
server-side state. Adding a few items to a shopping cart as  
anonymous, then later logging in as Joe, then later opening a new  
window and interacting as Joe on two completely different shopping  
carts simultaneously in two browser windows can be done with  
snapshots with no need for a user session.

Shopping carts was a bad example for the snapshot approach, though,  
because with a bit of research I realized what all of you already  
knew, that in practice shopping carts are modeled as persistent, not  
conversational state. This means that you couldn't open up two  
browser windows and interact simultaneously with two different  
shopping carts, because as user Joe, you just have one. Prior to  
logging in, you could use snapshots. Or you could store a cookie in  
the browser if cookies are enabled, which would essentially make the  
browser the subject. When Joe logs in, you could merge the browser's  
shopping cart with Joe's.

&gt;&gt; When you talk about user session, I feel like you are trying to push
&gt;&gt; statefullness on the stateless protocol in the traditional way that
&gt;&gt; most web apps have done.
&gt;
&gt; I thought we were on the same page with 'application state' and
&gt; 'transfer protocol state' being different things, but this comment of
&gt; yours hints that perhaps we're not. I've stressed the difference  
&gt; above,
&gt; so hopefully that gels.
&gt;
I may be hearing you incorrectly, but what I hear when you talk about  
the need for a notion of session is what I heard years ago when  
someone explained the session object of Java servlets to me: You need  
a session object because HTTP is stateless, but user's interaction  
with the application are stateful. The session object allows you to  
keep track of where you are in the stateful conversation with the  
user, even though HTTP is stateless. For a servlets session to work,  
the server needs to send a session ID back to the client and the  
client needs to send it back to the server on each subsequent HTTP  
request.

As you put it, "A 'session' is just a number associated with a set of  
client initiated state transitions," and "The only 'session state'  
that needs to be maintained by the client is the 'session id', a  
processing server can 'dereference' this during processing to ensure  
that the session is active, valid, what user it's for, etc." Sounds  
very similar.

&gt;&gt; My
&gt;&gt; point, which I think you may understand but just don't agree with, is
&gt;&gt; that you can avoid entirely the concept of a user session on the
&gt;&gt; server side by considering each piece of state resulting from a
&gt;&gt; conversation over HTTP with a user as a resource. If you do so, then
&gt;&gt; you aren't layering any statefulness on top of HTTP--each request
&gt;&gt; really is completely independent of the other.
&gt;
&gt; Yes, I do understand your point. Yes, I disagree with your point.
&gt;
&gt; User requests, in the context of a single user session are  
&gt; dependant on
&gt; each other. For example, I can't remove an item from my shopping  
&gt; basket
&gt; until after I've added an item to my shopping basket.
&gt;
&gt; More than that, each request is dependant on *time*. I already
&gt; highlighted this, and I pointed out that the only way you can 'stop
&gt; time' is to hold a lock. As you can't hold a lock for more than one
&gt; request, every single request *must be* considered to be dependant  
&gt; on time.
&gt;
Let me clarify. What I meant by "completely independent" is  
completely independent of session state, not completely independent  
of time or order or persistent state. I don't need to look at the  
state of the conversation as described by the session to figure out  
what to do when a request comes in. If I just look at each request  
and the resource the request URI points to, I can come up with a  
response.

&gt; The problem with HTTP which I've being trying to point out is that the
&gt; only 'session' that a user can have with your application (if you only
&gt; user HTTP Auth) is a 'single universal session'. That's not sufficient
&gt; for any web application I work on. It is sufficient for me to
&gt; demonstrate how the 'subject' of a request is relevant to the  
&gt; context in
&gt; which a server generates resource representations.
&gt;
&gt;&gt; I would say that the subject is not the session, it is the user. Each
&gt;&gt; request the user must authenticate, and then they become the subject.
&gt;&gt; HTTP does attempt to support this view with HTTP authentication. I
&gt;&gt; believe it can also be supported via cookies or URL-rewriting, if you
&gt;&gt; just use that "session ID" as an authentication token and nothing  
&gt;&gt; more.
&gt;
&gt; Yep, the 'subject' usually is the user. However, often you need it  
&gt; to be
&gt; the 'user session'. A 'user session' implies a user, but it means that
&gt; users aren't forced to have a single 'universal session'.
&gt;
I agree with your claim that a single universal session is not always  
sufficient, but still believe that you can use resources to track  
conversational state. If you do so, there is nothing opaque about  
each request. Two different "sessions" would map to two different  
streams of conversational state snapshots. All the server needs from  
the client in that case is credentials for a user authentication, not  
a session ID.

The reason I'm talking about this on this list is that REST is what  
made me rethink how to do conversational state. I'm working with user- 
facing web applications, not web services, so my concerns include  
issues like making the browser button user-friendly, including  
avoiding the ugly pop-up when backup up to a previous POST. To avoid  
the ugly pop-up, I do redirect after POST to GET, but to do that I  
need to know the new state of the conversation on that GET. The usual  
way people do this is by putting the state in the user session. The  
more RESTful way, in my judgement, is to actually create a new  
resource for that state (a conversation snapshot), and redirecting  
the browser to that resource. When I do that, I don't need a user  
session.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6021<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-04-20 06:51:39<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Hi John,

&gt; Can you give us an example of 'conversational state' as distinct from
&gt; 'persistent state' then?
&gt;
Sure. Conversational state is state about interactions with the user  
that span multiple HTTP requests, prior to a point in the  
conversation where you have a full entity to persist in the database.

One example is a wizard. I have a wizard on Artima that people use to  
register their RSS feeds with Buzz (an RSS aggregator). Page one asks  
you to select a Buzz community. Page two asks you to enter a short  
bio. Page three asks you to enter the URL of your feed, etc. Until  
you enter all three of these I don't have enough information to add a  
new feed to Buzz in the database. The conversational state I need to  
keep track of here is what data they entered in previous pages in the  
wizard. If I don't redirect after POST to GET, then I can just send  
the state back immediately in hidden fields. But if I do redirect  
after GET, then I have to somehow keep state on the server that will  
remember what they previously submitted so I can stick it in the  
hidden fields. Once I get all three pages filled in from the wizard,  
I combine that data and insert a new Buzz feed entity into the database.

Another example is working with a user to get all required form data,  
in a correct format. When someone goes to register with Artima, they  
need to enter a desired nickname, first name, last name, the password  
(twice), and so on. (I try to keep the amount of data to a minimum.)  
Regardless, there are several problems that I can discover when they  
submit. They can leave out required fields. They can have asked for a  
nickname that is already in use. There passwords might not match. In  
each case I want them to see the form as they filled it, but with  
little red error messages indicating the problem. I use redirect  
after GET, so after they POST, I redirect to a GET, and when that GET  
comes in the server has to remember what the user previously typed  
in, and what error messages to display. Once I get good data from the  
user for registration, I insert a new registration into the database.

Another example is state to do redirect after post when the user is  
trying out different ideas for flights at an airline site. They may  
try something, back up try something else. Open up a new window and  
back up and try a third thing. Until they actually purchase a flight,  
you may not want to persist anything in the database. But if you're  
doing redirect after POST, you need to store conversational state  
between requests to remember what query they are attempting to get  
results for. Once they actually make a decision, then I can persist a  
reservation in the database (and do whatever else I need to do to  
make the reservation official).

Lastly, although shopping carts don't seem to be modeled as  
conversational state in practice, it was used as the first  
illustration I ever read about what servlet session objects are for.  
The idea was that when an HTTP request comes in, you somehow have to  
remember what the user previously put in their shopping cart. But you  
don't want to store that conversational state in the database until  
they actually make a purchase. So, you store the shopping cart in the  
session. Once they make a purchase, you persist that in the database.

People in the J2EE world tend to think it is overkill to put  
conversational state in the database. They just keep conversational  
state in memory, and often don't bother to replicate across the  
cluster, because in their opinion the reliability of one server gives  
them enough 9s for conversational state. The traditional way its been  
done is by putting that conversational state in the user session on  
the server. This works, but it breaks the back button.

For example, when using the user session approach, what I redirect to  
after post is the same form URI. So there's just one form URI, but  
depending on the session state, I may return it blank or fill it with  
data and error messages. So if I've made three attempts at getting  
the form right, then I back up, each time the form will look the same  
because I'm grabbing the conversational state of that form from the  
user session. With snapshots, even if I back up and hit reload, I'll  
still see the history of my conversation. So if two pages ago I had  
tried a flight on Wednesday instead of Thursday, I can back up and  
get back to the form with Wednesday, change the time from morning to  
afternoon, and press submit again. Voila.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6022<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-20 09:32:13<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>John Elliot &lt;jj5@...&gt; writes:

&gt; That will be worse than using cookies. People need sessions. 
&gt; Sessions make for better resource descriptions in URLs.

There are some problems with this statement if your aim is a critique
of REST:

- REST says using cookies isn't bad ; only using them for hiding state
  is bad

- if people really did "need" sessions we wouldn't be able to build
  RESTfull apps; but we can - nice ones:

    http://www.panic.com/goods/



I also want to take issue with this:

&gt; What I'm really concerned about though (and I want to keep stressing 
&gt; this) is that people have their 'sense of value' out of proportion. Some 
&gt; people think that 'HTTP' is 80% what makes the web work, and 'URI' the 
&gt; other 20%. Whereas I think it's more like URI=95% and HTTP=5%.

That may or may not be so. But REST seeks to guide application
designers to design more scalable applications by helping them
understand the architecture that underlies the HTTP protocol.

HTTP is just a protocol. It can be used in all sorts of ways and that
is a good thing. But not every way of using HTTP will be scalable and
maintainable. REST seeks to provide a structure where HTTP will be
scalable and maintainable.



Having bit back I think these postings seem to rapidly be turning the
REST mailing list into nntp stylee REST advocacy where we just sling
mud at each other about sessions.

And I don't want to take part in that. Given that we all understand
the limitations now I think I'll shut up.



Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6023<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-20 09:34:54<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>Bah! Having said I'll shut up I couldn't resist responding to this:

John Elliot &lt;jj5@...&gt; writes:

&gt; This is a valuable conceptualisation as it stands. However, this 
&gt; conceptualisation will lead you to realise that the ideal 'subject' is 
&gt; not in fact a 'user'. Rather, a 'user session' is better. This is 
&gt; because without a 'user session' all users who authenticate with your 
&gt; server can only have one session in all time. 

If I authenticate as Nic then I should _be_ Nic.

Authentication is _not_ session creation.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6024<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2006-04-20 12:23:34<br>
Subject:Re: [rest-discuss] REST &amp; Internal Integration<br>
Message:<br><br>
<pre>On Apr 19, 2006, at 7:20 AM, Mike Dierken wrote:

&gt; &gt; For "Async 1:1", you can do that with Web Style like Request/ 
&gt; Reply. You do have to contend with error cases, however.
&gt; &gt; And "out of the box" you don't get guaranteed delivery. You can't  
&gt; send the message persistently so that you know that the send being  
&gt; ack'd means something.
&gt; Most messaging systems I've worked with that provide reliable or  
&gt; guaranteed delivery have APIs that look suspiciously like "post",  
&gt; and the API is a blocking call - quick, but still blocking.

I think this mixes two things: When a messaging system is used, a  
"post" to some queue usually means that the message has been enqueued  
locally and there's a guarantee that it will be delivered. The  
"postmessage()" API is sort of a programming-language level contract  
between the application and the middleware implementation.

While you can do an HTTP POST without expecting or relying on a  
business level reply through a similar API, it will only succeed if  
you are connected to the HTTP server on the other side.

--
Stefan Tilkov, http://www.innoq.com/blog/st/

  
   



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6025<br>
Sender:Nicola Larosa &lt;nico@...&gt;<br>
Post Date/Time:2006-04-20 10:53:07<br>
Subject:Re: The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>&gt; Having bit back I think these postings seem to rapidly be turning the
&gt; REST mailing list into nntp stylee REST advocacy where we just sling
&gt; mud at each other about sessions.

I beg to differ. This discussion, while time consuming, has been very
educational and I, for one, am grateful to John and Bill for having led it
in public.

-- 
Nicola Larosa - http://www.tekNico.net/

Hateful, blasphemous, prejudiced, vulgar, rude, or ignorant remarks are
the music of a free society, and the relentless patter of idiots is how
we know we're in one. When all the words in our public conversation are
fair, good, and true, it's time to make a run for the fence.
 -- Daniel Gilbert, December 2005




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6026<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-20 12:55:25<br>
Subject:Re: [rest-discuss] Re: The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>Nicola Larosa &lt;nico@...&gt; writes:

&gt;&gt; Having bit back I think these postings seem to rapidly be turning the
&gt;&gt; REST mailing list into nntp stylee REST advocacy where we just sling
&gt;&gt; mud at each other about sessions.
&gt;
&gt; I beg to differ. This discussion, while time consuming, has been very
&gt; educational and I, for one, am grateful to John and Bill for having led it
&gt; in public.

That's good... I may have been grumpy earlier and didn't mean to be.

If people are getting something from it then long may it continue.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6027<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-20 13:46:18<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Hi Bill,

Bill Venners wrote:
&gt;&gt; Can you give us an example of 'conversational state' as distinct from
&gt;&gt; 'persistent state' then?
&gt;&gt;
&gt; Sure. Conversational state is [what we knew you'd say]

In fairness, I have to admit I knew you'd say this. I just wanted you to 
so that I could point out why it's not really distinct from what you 
dubbed 'persistent state'.

Can you see that you are speaking purely in terms of an implementation? 
You *happen* to have two databases. You call one of them 'The Database', 
and you call the other... well, I'm not sure exactly what you called it, 
but let's say it's called the 'state server'.

The point is that your decision to use one backing store or another is 
purely incidental. You still persist state on the 'back side' of your 
web application's public interface. From the web's point of view this is 
entirely transparent.

I don't think there is really any distinction to be made between 
'conversational state' and 'persistent state' from an architectural 
point of view. Although I concede that the 'temporal' and 'incidental' 
nature of such state usually makes if of little interest to the 
business, thus not a candidate for inclusion in The Database. (That 
said, 'Sessions' are first class business concepts in my applications 
for auditing purposes; they definitely go in The Database.)

I'd add that the labels you've elected to use are not as good as 
'transient state' and 'business state' respectively. Although the label 
isn't so important as the intent. 'Business state' is often of a 
transient, conversational nature too, it's just that it's 'conversation' 
which is considered 'core business'.

I hope you can see that the single capability of 'session token' would 
give you all the capability you need to key 'conversational state', and 
specifically I hope you agree that whether you call it a 'shopping 
basket' or a 'session' it's still the same thing (only the label varied, 
not the pattern). Although, I'm sure you already know this.

You have been running the argument that putting session context (which 
by your volition is 'conversational', or 'transient') in the URL is a 
good idea, although I don't believe that you have yet pleaded a case for 
*why* it's a good idea.

In my view, all things which can be derived from the 'subject', 
especially (though not exclusively) when they are only 'conversational', 
'incidental', or 'transient' from the application's perspective should 
be left out of the URL. This makes for 'safer' URLs with longer term 
relevance. That is, URLs which more adequately describe the 'object' of 
a request (assuming the 'subject' is taken to be 'session').

Thanks for having the chat. It was good to have the opportunity to try 
and put into words things which have been in my mind for some time now. 
I always find I learn something when I write things down.

Regards,
John Elliot.









</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6028<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-20 13:52:51<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>John Elliot wrote:
&gt; The point is that your decision to use one backing store or another is 
&gt; purely incidental. You still persist state on the 'back side' of your 
&gt; web application's public interface. From the web's point of view this is 
&gt; entirely transparent.

Er... entirely opaque, even. :P

(That'll learn me for posting having just got back from the pub. :)

















</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6029<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-20 14:21:22<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Hi Bill,

Bill Venners wrote:
&gt; For example, when using the user session approach, what I redirect to  
&gt; after post is the same form URI. So there's just one form URI, but  
&gt; depending on the session state, I may return it blank or fill it with  
&gt; data and error messages. So if I've made three attempts at getting  
&gt; the form right, then I back up, each time the form will look the same  
&gt; because I'm grabbing the conversational state of that form from the  
&gt; user session. With snapshots, even if I back up and hit reload, I'll  
&gt; still see the history of my conversation. So if two pages ago I had  
&gt; tried a flight on Wednesday instead of Thursday, I can back up and  
&gt; get back to the form with Wednesday, change the time from morning to  
&gt; afternoon, and press submit again. Voila.

In an earlier message I said that you hadn't pleaded a case for *why* 
you put 'session state' in a URL. However, your case seems to be to what 
you call 'not break the back button'.

Here's the thing. The interaction you describe here is entirely done in 
the 'object' of the request. That is, this entire exchange about 
'querying' for Wednesday, Thursday, etc., is, rightly, done purely in 
the URL.

If you're doing everything with 'GET' then there is no state mutation on 
the server. There is no 'conversational state'. There is simply GET, 
GET, GET, GET. You don't need to post to the server or store any state 
on the server for this. In which case, I agree, model the whole 
interaction as a set of GET requests where the 'object' of the request 
explicitly says 'What day of week', 'What class', 'What airline', etc., 
and where the resultant representations show availability, price, 
anchors for the booking service, etc.

The big thing to take away here is that there was no 'state' mutations. 
You just navigate through a set of links. You have your forms create GET 
(rather than POST) requests. You offer links to more information. The 
back button continues to work fine. You don't 'create conversational 
state' on the server and then key it by the URL. You just issue a 
sequence of queries.

If you POST to the server though you can't expect to 'back out'. I 
submit that in any case where you need to 'not break the back button' 
that you can do so by abstaining from POSTing state mutations. I.e model 
the interactions with GET requests. (That's what I do.)

I also redirect after a POST as you do.








</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6030<br>
Sender:"Andy Driver" &lt;andrewhdriver@...&gt;<br>
Post Date/Time:2006-04-20 15:18:40<br>
Subject:HTTP status codes<br>
Message:<br><br>
<pre>Hi,

I'm designing a RESTful API and I have a situation where the server
can sometimes require some disambiguation of terms, and returns a list
of alternative URLs to choose from.

Eg: the resource is a "shopping-list", and I POST a "tin-of-beans"
document to it, but the server returns a list of alternative URLs;
"/shopping-list/tin-of-baked-beans",
"/shopping-list/tin-of-kidney-beans",
etc

My question is, which HTTP status code best represents this "query
accepted, but disambiguation required" situation?

I thought about "HTTP/1.1 300 Multiple Choices", as it seems the
obvious choice at first glance, but the HTTP RFC talks about content
negotiation, which isn't what I'm trying to do.

Does it make more sense to return "HTTP/1.1 404 Not Found", and a list
of alternative URLs?

Thanks,

Andy






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6031<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-20 16:08:32<br>
Subject:Re: [rest-discuss] HTTP status codes<br>
Message:<br><br>
<pre>"Andy Driver" &lt;andrewhdriver@...&gt; writes:

&gt; Hi,
&gt;
&gt; I'm designing a RESTful API and I have a situation where the server
&gt; can sometimes require some disambiguation of terms, and returns a list
&gt; of alternative URLs to choose from.
&gt;
&gt; Eg: the resource is a "shopping-list", and I POST a "tin-of-beans"
&gt; document to it, but the server returns a list of alternative URLs;
&gt; "/shopping-list/tin-of-baked-beans",
&gt; "/shopping-list/tin-of-kidney-beans",
&gt; etc
&gt;
&gt; My question is, which HTTP status code best represents this "query
&gt; accepted, but disambiguation required" situation?
&gt;
&gt; I thought about "HTTP/1.1 300 Multiple Choices", as it seems the
&gt; obvious choice at first glance, but the HTTP RFC talks about content
&gt; negotiation, which isn't what I'm trying to do.

I think I'd just return 200 with a particular XML namespaced document
with the disambiguation in it.

After all, the disambiguation is a resource.


&gt; Does it make more sense to return "HTTP/1.1 404 Not Found", and a list
&gt; of alternative URLs?

I don't think so.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6032<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-20 16:29:37<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Bill Venners wrote:
&gt; One example is a wizard. I have a wizard on Artima that people use to  
&gt; register their RSS feeds with Buzz (an RSS aggregator). Page one asks  
&gt; you to select a Buzz community. Page two asks you to enter a short  
&gt; bio. Page three asks you to enter the URL of your feed, etc. Until  
&gt; you enter all three of these I don't have enough information to add a  
&gt; new feed to Buzz in the database. The conversational state I need to  
&gt; keep track of here is what data they entered in previous pages in the  
&gt; wizard. If I don't redirect after POST to GET, then I can just send  
&gt; the state back immediately in hidden fields. But if I do redirect  
&gt; after GET, then I have to somehow keep state on the server that will  
&gt; remember what they previously submitted so I can stick it in the  
&gt; hidden fields. Once I get all three pages filled in from the wizard,  
&gt; I combine that data and insert a new Buzz feed entity into the database.

  GET /wizard

  302 /wizard/page-1

  GET /wizard/page-1

  &lt;html&gt;&lt;body&gt;
    &lt;form action="/wizard/page-2" method="GET"&gt;
      &lt;select id="Community" name="Community"&gt;
        &lt;option value="1"&gt;Buzz 1&lt;/option&gt;
        &lt;option value="2"&gt;Buzz 2&lt;/option&gt;
      &lt;/select&gt;
      &lt;input type="submit" /&gt;
    &lt;/form&gt;
  &lt;/body&gt;&lt;/html&gt;

  GET /wizard/page-2?Community=1

  &lt;html&gt;&lt;body&gt;
    &lt;form action="/wizard/page-3" method="GET"&gt;
      &lt;input type="hidden" id="Community" name="Community" value="1" /&gt;
      &lt;textarea id="Bio" name="Bio"&gt;Please enter a short bio.&lt;/textarea&gt;
      &lt;input type="submit" /&gt;
    &lt;/form&gt;
  &lt;/body&gt;&lt;/html&gt;

  GET /wizard/page-3?Community=1&amp;Bio=I+have+bear+powers.

  &lt;html&gt;&lt;body&gt;
    &lt;form action="/wizard/confirm" method="GET"&gt;
      &lt;input type="hidden" id="Community" name="Community" value="1" /&gt;
      &lt;input type="hidden" id="Bio" name="Bio" value="I have bear 
powers." /&gt;
      &lt;input type="text" id="Feed" name="Feed" /&gt;
      &lt;input type="submit" /&gt;
    &lt;/form&gt;
  &lt;/body&gt;&lt;/html&gt;

  GET 
/wizard/confirm?Community=1&amp;Bio=I+have+bear+powers.&amp;Feed=www.example.org

  &lt;html&gt;&lt;body&gt;
    &lt;form action="/wizard" method="POST"&gt;
      &lt;input type="hidden" id="Community" name="Community" value="1" /&gt;
      &lt;input type="hidden" id="Bio" name="Bio" value="I have bear 
powers." /&gt;
      &lt;input type="hidden" id="Feed" name="Feed" value="www.example.org" /&gt;
      &lt;input type="submit" /&gt;
    &lt;/form&gt;
  &lt;/body&gt;&lt;/html&gt;

  POST /wizard
    Community=1
    Bio=I have bear powers.
    Feed=www.example.org

  302 /wizard/thanks

  GET /wizard/thanks

  ...

&gt; Another example is working with a user to get all required form data,  
&gt; in a correct format. When someone goes to register with Artima, they  
&gt; need to enter a desired nickname, first name, last name, the password  
&gt; (twice), and so on. (I try to keep the amount of data to a minimum.)  
&gt; Regardless, there are several problems that I can discover when they  
&gt; submit. They can leave out required fields. They can have asked for a  
&gt; nickname that is already in use. There passwords might not match. In  
&gt; each case I want them to see the form as they filled it, but with  
&gt; little red error messages indicating the problem. I use redirect  
&gt; after GET, so after they POST, I redirect to a GET, and when that GET  
&gt; comes in the server has to remember what the user previously typed  
&gt; in, and what error messages to display. Once I get good data from the  
&gt; user for registration, I insert a new registration into the database.

  GET /registration

  &lt;html&gt;&lt;body&gt;
    &lt;form action="/registration" method="POST"&gt;
      &lt;input type="text" id="NickName" name="NickName" /&gt;
      &lt;input type="text" id="FirstName" name="FirstName" /&gt;
      &lt;input type="text" id="LastName" name="LastName" /&gt;
      &lt;input type="password" id="Password" name="Password" /&gt;
      &lt;input type="password" id="PasswordConfirmation" 
name="PasswordConfirmation" /&gt;
      &lt;input type="submit" /&gt;
    &lt;/form&gt;
  &lt;/body&gt;&lt;/html&gt;

  POST /registration
    NickName=joe
    FirstName=Joe
    LastName=
    Password=secret
    PasswordConfirmation=love

  302 /registration?NickName=joe&amp;FirstName=Joe&amp;LastName=

  &lt;html&gt;&lt;body&gt;
    &lt;form action="/registration" method="POST"&gt;
      &lt;input type="text" id="NickName" name="NickName" value="joe" 
class="Invalid" /&gt;
      &lt;input type="text" id="FirstName" name="FirstName" value="Joe" /&gt;
      &lt;input type="text" id="LastName" name="LastName" class="Invalid" /&gt;
      &lt;input type="password" id="Password" name="Password" /&gt;
      &lt;input type="password" id="PasswordConfirmation" 
name="PasswordConfirmation" /&gt;
      &lt;input type="submit" /&gt;
    &lt;/form&gt;
  &lt;/body&gt;&lt;/html&gt;

  POST /registration
    NickName=jojo
    FirstName=Joe
    LastName=Bloggs
    Password=secret
    PasswordConfirmation=secret

  302 /registration/thanks

&gt; Another example is state to do redirect after post when the user is  
&gt; trying out different ideas for flights at an airline site. They may  
&gt; try something, back up try something else. Open up a new window and  
&gt; back up and try a third thing. Until they actually purchase a flight,  
&gt; you may not want to persist anything in the database. But if you're  
&gt; doing redirect after POST, you need to store conversational state  
&gt; between requests to remember what query they are attempting to get  
&gt; results for. Once they actually make a decision, then I can persist a  
&gt; reservation in the database (and do whatever else I need to do to  
&gt; make the reservation official).

  GET /schedule

  &lt;html&gt;&lt;body&gt;
    &lt;form action="/schedule" method="GET"&gt;
      &lt;select id="Airline" name="Airline"&gt;
        &lt;option value="1"&gt;Airline 1&lt;/option&gt;
        &lt;option value="2"&gt;Airline 2&lt;/option&gt;
      &lt;/select&gt;
      &lt;input type="submit" /&gt;
    &lt;/form&gt;
  &lt;/body&gt;&lt;/html&gt;

  GET /schedule?Airline=1

  &lt;html&gt;&lt;body&gt;
    &lt;form action="/schedule" method="GET"&gt;
      &lt;input type="hidden" id="Airline" name="Airline" value="1" /&gt;
      &lt;select id="Whatever" name="Whatever"&gt;
        &lt;option value="1"&gt;Option 1&lt;/option&gt;
        &lt;option value="2"&gt;Option 2&lt;/option&gt;
      &lt;/select&gt;
      &lt;input type="submit" /&gt;
    &lt;/form&gt;
  &lt;/body&gt;&lt;/html&gt;

  GET /schedule?Airline=1&amp;Whatever=2

  ...

&gt; Lastly, although shopping carts don't seem to be modeled as  
&gt; conversational state in practice, it was used as the first  
&gt; illustration I ever read about what servlet session objects are for.  
&gt; The idea was that when an HTTP request comes in, you somehow have to  
&gt; remember what the user previously put in their shopping cart. But you  
&gt; don't want to store that conversational state in the database until  
&gt; they actually make a purchase. So, you store the shopping cart in the  
&gt; session. Once they make a purchase, you persist that in the database.

OK. It took me a while, but I now realise where this whole conversation 
we've been having went wrong.

My agenda here was:

  1) To warn that increased interest in REST/HTTP may result in people 
misappropriating HTTP headers and creating even more turmoil on the web. 
I tried to highlight why this might happen (i.e. using HTTP headers for 
setting the 'subject' context). In order to do this I also tried to 
explain what 'stateless' means (AIUI) in terms of REST/HTTP, and

  2) To describe a conceptualisation of HTTP as 'subject', 'verb', 
'object' and solicit feedback on same.

In the course of pursuing my agenda I presented the case for 'user 
sessions'. Initially we were talking about modelling interactions for 
mutable server side state.

As of your last email it became clear that we haven't been on the same 
page. Much of the 'transient' and 'conversational' state that you allude 
to can be kept entirely on the client. The server does not need to know 
about this at all. Not until such time as a successful POST request is 
issued. So, while I was presenting the case for 'sessions' and indeed 
'server side session state', I wasn't presenting the case for sessions 
in any of the situations which you've alluded to above. In almost all of 
those cases you can use the 'stateless server' method of storing 
application state in the URL. Storing state in the URL does *not* mean 
'creating state on the server and keying it in the URL'. Rather, it 
means exactly what I've shown above. The server doesn't store any of 
that state, it just echoes it back at you until you're ready to POST a 
valid message.

That none of these are particularly compelling uses of server side 
session state does not mean that there are not valid use cases for same. 
A shopping basket being a good case in point. A three page wizard and 
single page registration form are not good examples of where session 
state ought to be stored on the server though.

Hopefully I've cleared up some confusion.










</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6033<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-04-20 19:10:42<br>
Subject:Re: [rest-discuss] HTTP status codes<br>
Message:<br><br>
<pre>Hi Andy,

On Apr 20, 2006, at 5:18 PM, Andy Driver wrote:

&gt; Hi,
&gt;
&gt; I'm designing a RESTful API and I have a situation where the server
&gt; can sometimes require some disambiguation of terms, and returns a list
&gt; of alternative URLs to choose from.
&gt;
&gt; Eg: the resource is a "shopping-list", and I POST a "tin-of-beans"
&gt; document to it, but the server returns a list of alternative URLs;
&gt; "/shopping-list/tin-of-baked-beans",
&gt; "/shopping-list/tin-of-kidney-beans",
&gt; etc
&gt;

The question is if there is a semantic difference between the  
resources that the client should understand to make the choice. If  
so, you'd need to return 200 (or 300?[1]) with a representation that  
conveys the need to choose and also the semantic difference. The  
client would of course need to understand the representation. The  
semantics of the message must be shared between client and server pre- 
runtime. Consider HTML link tags as an example, where the link  
semantics are part of the standard (== shared knowledge).

If there resources are pure alternatives (semantically equivalent)   
300 is the proper code I think.

HTH,

Jan




[1] http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.3.1

&gt; My question is, which HTTP status code best represents this "query
&gt; accepted, but disambiguation required" situation?
&gt;
&gt; I thought about "HTTP/1.1 300 Multiple Choices", as it seems the
&gt; obvious choice at first glance, but the HTTP RFC talks about content
&gt; negotiation, which isn't what I'm trying to do.
&gt;
&gt; Does it make more sense to return "HTTP/1.1 404 Not Found", and a list
&gt; of alternative URLs?
&gt;
&gt; Thanks,
&gt;
&gt; Andy
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6034<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-04-20 19:23:20<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Hi John,

&gt; That none of these are particularly compelling uses of server side
&gt; session state does not mean that there are not valid use cases for  
&gt; same.
&gt; A shopping basket being a good case in point. A three page wizard and
&gt; single page registration form are not good examples of where session
&gt; state ought to be stored on the server though.
&gt;
You asked for examples of conversational state, not examples of where  
session state out to be stored on the server.

There are various options for storing conversational state. Each has  
tradeoffs. If you are interacting with a software client, such as  
AJAX POSTs coming from a browser, you can just send back the state in  
the POST response. You needn't do a redirect to GET. The trouble here  
is that if the state grows too large, it can affect latency, so you  
may want to keep some of it on the server for speed reasons.

If you store state in the URI, you can do redirect after GET, but  
again, if the state gets too big, the URI can get too big. So once  
again, you may want to store state on the server.

If you don't want the user to lose the state if their browser  
crashes, you may want to store it on the server.

If you don't want sensitive information like credit card numbers to  
show up in a URI, you may want to store that data on the server.

And so on...

What the best solution is depends on the context, but it happens  
often that developers want to store conversational state on the  
server. They way they generally have done that is by putting it in a  
session object on the server.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6035<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-04-20 19:32:38<br>
Subject:Re: [rest-discuss] HTTP status codes<br>
Message:<br><br>
<pre>
On Apr 20, 2006, at 5:18 PM, Andy Driver wrote:

&gt; Hi,
&gt;
&gt; I'm designing a RESTful API and I have a situation where the server
&gt; can sometimes require some disambiguation of terms, and returns a list
&gt; of alternative URLs to choose from.
&gt;
&gt; Eg: the resource is a "shopping-list", and I POST a "tin-of-beans"
&gt; document to it, but the server returns a list of alternative URLs;
&gt; "/shopping-list/tin-of-baked-beans",
&gt; "/shopping-list/tin-of-kidney-beans",
&gt; etc

Maybe the following helps, too:

Think of it in terms of REST's programming model: what happens in  
your example is that in the RESTful shopping application there are at  
this point multiple options for the client to proceed through the  
application's state machine. For the system to work, the client must  
understand the semantics of the choice. As long as this is the case,  
the system is RESTful.

Note that this means that you need to define the link semantics (as a  
MIME type or XML schema, or RDF namespace for example) before the  
implementation of both, client and server. The evolvability benefit  
REST gives you is that both, client and server, can evolve  
independently as long as they only use that shared schema /wrt  
message semantics. This is especially great if the development teams  
for client and server are decentralized (are not goverend by a single  
authority) and would therfore be rather costly to coordinate.

This is why people can write HTML browsers without ever talking to  
the guys that write the HTML pages and vice versa. Same with RSS  etc.




&gt;
&gt; My question is, which HTTP status code best represents this "query
&gt; accepted, but disambiguation required" situation?
&gt;
&gt; I thought about "HTTP/1.1 300 Multiple Choices", as it seems the
&gt; obvious choice at first glance, but the HTTP RFC talks about content
&gt; negotiation, which isn't what I'm trying to do.

Ooops....sorry, when sending the previous reply, I just did not see  
you mention 300 already.

Jan

&gt;
&gt; Does it make more sense to return "HTTP/1.1 404 Not Found", and a list
&gt; of alternative URLs?
&gt;
&gt; Thanks,
&gt;
&gt; Andy
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6036<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-04-20 19:52:58<br>
Subject:Re: [rest-discuss] Resource-Oriented Design (Was: Meaning of stateless)<br>
Message:<br><br>
<pre>Hi John,

On Apr 20, 2006, at 6:46 AM, John Elliot wrote:

&gt; Can you see that you are speaking purely in terms of an  
&gt; implementation?
&gt;
Yes. I'm implementing a web application, and implementation is  
exactly what I'm talking about. Your original post claimed that HTTP  
and REST are flawed because they don't have sessions. My response was  
that perhaps HTTP and REST aren't the problem, but how you are  
thinking about using them in your implementation. If you change how  
you think about implementing your application, does your perceived  
requirement for sessions go away?

If a C++ programmer complains that C is flawed because it doesn't  
have classes, then I'd suggest that perhaps that person is trying to  
use C wrongly, that they should think in terms of structured, not  
object-oriented design, in C. In designing web applications, I've  
long heard people tell me I need to have user sessions, and have  
followed that advice.

My current design problem, however, is a network of sites that will  
be implemented in terms of multiple server clusters, each of which  
will host one to many sites. In this particular design context, I had  
concerns about the scalability of using the user sessions in the  
traditional way. Thus I was looking for a way to not need user  
sessions at all. I looked to REST because REST proponents tend to  
complain about user sessions. I figured REST might show me a  
different path, and it did.

What it showed me was that a good way to think about designing web  
applications is "resource-oriented design," to give it a name. In  
designing a C++ program, I might ask myself, 'What are the objects?'.  
In designing a web application, I would ask myself, 'What are the  
resources?'.

In the case of the conversational state I keep to redirect to GET  
after POST when someone submits a registration form with an error, I  
asked myself, 'What are the resources?'. Is there just one form  
resource? That's what I had implemented before (in fact, currently).  
When you get that resource it may be blank, or it may contain data,  
depending on the user session. So different users would get different  
data depending upon their sessions. Are these all just different  
representations of the same resource?

I realized that conceptually, without any low-level thinking about  
implementation, these form pages don't feel like different  
representations of the same resource to me. They feel like different  
resources, which means they should have different URIs. By moving the  
conversational state from sessions to diamonds (or snapshots), they  
become resources. I can attach authentication requirements to them,  
so all I need from the client is authentication credentials and a  
URI. I don't need a session. And therefore I don't have to worry  
about replicating session state, because there is no session state. I  
do have to worry about replicating snapshots, but feel it is more  
tractable. In short, I believe scalability will be easier to achieve  
in my particular situation using the snapshots approach than the user  
sessions approach.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6037<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-20 20:23:34<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>Nic wrote:
&gt; - REST says using cookies isn't bad ; only using them for hiding state
&gt;   is bad
&gt;   
What do you consider "hiding" state?
&gt; - if people really did "need" sessions we wouldn't be able to build
&gt;   RESTfull apps; but we can - nice ones:
&gt;
&gt;     http://www.panic.com/goods/
&gt;   
The page you reference, while really nifty, stores the entire shopping 
cart in a cookie. Is that not "hiding" state?

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6038<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-20 20:36:35<br>
Subject:Re: [rest-discuss] Resource-Oriented Design (Was: Meaning of stateless)<br>
Message:<br><br>
<pre>Hi Bill,

Bill Venners wrote:
&gt; On Apr 20, 2006, at 6:46 AM, John Elliot wrote:
&gt;&gt;Can you see that you are speaking purely in terms of an  
&gt;&gt;implementation?
&gt; 
&gt; Yes. I'm implementing a web application, and implementation is  
&gt; exactly what I'm talking about. Your original post claimed that HTTP  
&gt; and REST are flawed because they don't have sessions.

Yep, and there's some pretty heavy duty denial that goes on around the 
issue. :P

I've had all the opportunity I wanted to have made my point on this 
issue by now, so I won't belabour it.

&gt; If you change how you think about implementing your application, 
&gt; does your perceived requirement for sessions go away?

No. I acknowledge that there are two nouns which dictate the 'context' 
of a HTTP request. I have explained these as the 'subject' and the 
'object'. REST states that the 'resource' (the object) is the 'semantic 
thing' which a URL describes (which is true), but then it says that 
state representations of the resource are generated for a request (which 
I contend). It's superficial (in my view) to say that the response 
entity is a representation of the state of the resource because this 
other thing, the 'subject', can modify response semantics. I.e. a 
response isn't just for,

  GET /resource

It's for either,

  Someone GETs /resource

Or,

  Joe GETs /resource

In each case, the overall semantics of the request (and the 
representation generated) may be varied by this additional context. The 
simplest case in point being that we put "Good Morning %Username%" at 
the top of every page. So it's not just a representation of the state of 
a resource. It's the representation of the state of the resource at a 
point in time *with respect to a user's session*.

&gt; What it showed me was that a good way to think about designing web  
&gt; applications is "resource-oriented design," to give it a name. In  
&gt; designing a C++ program, I might ask myself, 'What are the objects?'.  
&gt; In designing a web application, I would ask myself, 'What are the  
&gt; resources?'.

Yes, but in answering your question, you've done the metaphorical 
equivalent of using structured programming techniques in C++.

What you've done, in my view, (as I've said before, but I'll try one 
last time), is you've put a 'session key' for 'server side session 
state' in the URL. You've done something a little bit more complicated 
than that (in an effort to allow users to return to prior states using 
their web browser), and instead of 'session key' you've called it 
'shopping basket snapshot', and instead of 'mutable server side session 
state', you've called it 'conversational state', but that hasn't changed 
what it effectively is.

I certainly do appreciate that you would want to ask the question "What 
are the resources?" when you design your web application. Here's a 
'stateless' shopping basket:

  /basket?o=(P23,1,US$3)&amp;o=(p42,3,US$7)

That's 1x Product 23 @ US$3 ea., and 3x Product 42 @ US$7 ea. The thing 
is, we weren't talking about something like this. We were talking about 
mutable server side session state. I was merely running the case that 
all you want to 'key' such state is a 'session token'.

In your case, what you're trying to do is get a shopping basket 
resource. But this isn't such a thing:

  /basket?z=9sdf23kj5has

This is:

  /basket?o=(P23,1,US$3)&amp;o=(p42,3,US$7)

The latter is the resource that you probably want if you want to be a 
REST officiando. The resource that you propose conflates an estranged 
notion of 'session key' with some semi-immutable transient server side 
state.

I'm sorry my tone has been somewhat cold and brutal during this 
conversation. Thanks for having the patience to hear me out and talk 
through the issues with me. I've just been trying to get to the bottom 
of a few of these things and have endeavoured to stick to logic and 
reason. To the extent that I might come across as vicious or aggressive, 
I hope you realise that's not my intent. (Personally, I prefer the 
description 'lively'. :)

Regards,
John Elliot.






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6039<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-20 20:55:43<br>
Subject:Re: [rest-discuss] Resource-Oriented Design (Was: Meaning of stateless)<br>
Message:<br><br>
<pre>Hi Bill,

John Elliot wrote:
&gt; In your case, what you're trying to do is get a shopping basket 
&gt; resource. But this isn't such a thing:
&gt; 
&gt;   /basket?z=9sdf23kj5has

I shouldn't have said that. That *is* a shopping basket resource. We 
know that. What's more, it's a resource which represents a specific 
snapshot of a shopping basket at a point in time.

I used sloppy language again.

What I was really trying to say is that of the other two options 
available to you I don't see why you would prefer this.

With this,

   /basket?o=(P23,1,US$3)&amp;o=(p42,3,US$7)

you get the 'stateless server' benefits.

With this,

   Session 42 GETs /basket

You get simple URIs and persisted server side state.

Your proposed model conflates these two notions, but I'm not sure 
exactly where you see the benefit. Actually, that's not true. I do see 
where you see the benefit. You think it's good that the user can click 
'back' and pick up their older shopping basket. I just think that's 
complicated and not very useful.











</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6040<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-20 21:05:25<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>Lyle Kopnicky &lt;lyle@...&gt; writes:

&gt; Nic wrote:
&gt;&gt; - REST says using cookies isn't bad ; only using them for hiding state
&gt;&gt;   is bad
&gt;&gt;   
&gt; What do you consider "hiding" state?

A session hides state from the request/response conversation.

&gt;&gt; - if people really did "need" sessions we wouldn't be able to build
&gt;&gt;   RESTfull apps; but we can - nice ones:
&gt;&gt;
&gt;&gt;     http://www.panic.com/goods/
&gt;&gt;   
&gt; The page you reference, while really nifty, stores the entire shopping 
&gt; cart in a cookie. Is that not "hiding" state?

No. The data goes back and forth with each request. It's not hidden;
it's presented in every request.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6041<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-20 21:17:38<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>Nic wrote:
&gt; A session hides state from the request/response conversation.

What does a HTTP Auth header do?

&gt; No. The data goes back and forth with each request. It's not hidden;
&gt; it's presented in every request.

This is simplistic. You are attempting to deny that 'data' are often 
keys which can be dereferenced by a server for more data.















</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6042<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-20 21:20:10<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>Nic wrote:
&gt; Lyle Kopnicky &lt;lyle@...&gt; writes:
&gt;
&gt;   
&gt;&gt; Nic wrote:
&gt;&gt;     
&gt;&gt;&gt; - REST says using cookies isn't bad ; only using them for hiding state
&gt;&gt;&gt;   is bad
&gt;&gt;&gt;   
&gt;&gt;&gt;       
&gt;&gt; What do you consider "hiding" state?
&gt;&gt;     
&gt;
&gt; A session hides state from the request/response conversation.
&gt;   
A session has state.  A resource has state.  Both the session (through, 
say, a cookie) and the resource (via the URL) are identified in the 
request.  They seem pretty much on an equal footing.
&gt;&gt;&gt; - if people really did "need" sessions we wouldn't be able to build
&gt;&gt;&gt;   RESTfull apps; but we can - nice ones:
&gt;&gt;&gt;
&gt;&gt;&gt;     http://www.panic.com/goods/
&gt;&gt;&gt;   
&gt;&gt;&gt;       
&gt;&gt; The page you reference, while really nifty, stores the entire shopping 
&gt;&gt; cart in a cookie. Is that not "hiding" state?
&gt;&gt;     
&gt;
&gt; No. The data goes back and forth with each request. It's not hidden;
&gt; it's presented in every request.
&gt;   
Point taken.

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6043<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-20 21:33:21<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>John Elliot wrote:
&gt; The subject is 'who'. The verb is the 'action'. The object is 'what'.
&gt;   
I like your formulation of subject, verb, and object. I understand that 
the subject can be a user or a session.

I'm not clear why the subject and object can't both be represented in 
the URL. Multiplexed, so to speak. E.g., 
http://www.example.com/sessions/29823/buybooks.html, or 
http://www.example.com/buybooks.html?session=29823. By naming the 
subject using a cookie, you render the page uncacheable.
&gt; This is a valuable conceptualisation as it stands. However, this 
&gt; conceptualisation will lead you to realise that the ideal 'subject' is 
&gt; not in fact a 'user'. Rather, a 'user session' is better. This is 
&gt; because without a 'user session' all users who authenticate with your 
&gt; server can only have one session in all time. Alternatively, in order to 
&gt; facilitate 'session' you need to indicate the session in the 'resource'. 
&gt; This is tantamount to putting a 'session context' in the URI, and that 
&gt; is not desirable. (Breaks bookmarks, can lead to insecure URLs which 
&gt; can't be shared, etc.)
&gt;   
If I send someone a bookmark to 
http://www.example.com/sessions/29823/buybooks.html, but they do not 
have permission to view that session, the server can create a new 
session (say 33472) and redirect them to 
http://www.example.com/sessions/33472/buybooks.html.

Or does that break the GET rule? Perhaps it should redirect them to 
http://www.example.com/start.html, from which they can click a button to 
POST a new session.

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6044<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-20 21:37:49<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>Lyle Kopnicky &lt;lyle@...&gt; writes:

&gt; A session has state.  A resource has state.  Both the session (through, 
&gt; say, a cookie) and the resource (via the URL) are identified in the 
&gt; request.  They seem pretty much on an equal footing.

We've been over this I thought.

Sessions are hidden state. Using them prevents you from getting good
returns from HTTP caching.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6045<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-20 21:35:17<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>John Elliot &lt;jj5@...&gt; writes:

&gt; Nic wrote:
&gt;&gt; A session hides state from the request/response conversation.
&gt;
&gt; What does a HTTP Auth header do?

It's transmitted with every request last I saw.


&gt;&gt; No. The data goes back and forth with each request. It's not hidden;
&gt;&gt; it's presented in every request.
&gt;
&gt; This is simplistic. You are attempting to deny that 'data' are often 
&gt; keys which can be dereferenced by a server for more data.

No. I'm not being simplistic.

Lyle was asking about a particular app I mentioned which does a
RESTful client side shopping cart.

Cookies themselves are not anti-REST, it's putting a session id in a
cookie that is anti-REST because that hides state from the
request/response conversation.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6046<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-20 21:45:42<br>
Subject:Cacheability example<br>
Message:<br><br>
<pre>Let's say I want to make my pages as cacheable as possible.  Yet, I need 
to customize the pages depending on dynamic content.  I'm going to argue 
that cookies are a good way to do this.

So, say I have a page displaying the weather.  When a browser GETs the 
page, I can deliver an HTML page that uses AJAX to retrieve the actual 
data, and fill it into the form.  I have maximized cachability, since 
the HTML page doesn't change.

But how does this work when I have a user session?  Let's say I have a 
book site, and the user has a shopping cart.  Following John E.'s 
subject-verb-object paradigm, the session is the subject.  The content 
changes according to the subject.  Am I doomed to just render all the 
content dynamically?

One way to handle this is to use cookies.  The user GETs a generic 
shopping cart page.  The page contains JavaScript which retrieves the 
contents of the shopping cart, from a generic URL.  The response to the 
request for the shopping cart page does not depend on the subject.  But 
the response for the request for the contents of the cart relies on the 
cookie.  Thus the shopping cart page can be cached, even if the contents 
of the cart can't (and they're dynamic, so who cares).

Can this be done without cookies?  Suppose I try to encode the session 
ID in the URL.  Then when the JavaScript retrieves the shopping cart 
contents, it must use a different URL for each session.  That means that 
URL must be written into the shopping cart page, which means the 
shopping cart page must be unique for each session, which means the 
shopping cart page is no longer cacheable.  Whoops.

Does anyone else agree with this explanation as to why cookies are 
valuable for cacheability?

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6047<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-20 21:51:27<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>Nic wrote:
&gt; John Elliot &lt;jj5@...&gt; writes:
&gt;&gt;What does a HTTP Auth header do?
&gt; 
&gt; It's transmitted with every request last I saw.

What's transmitted with each request? The username? The groups that user 
is in? The account settings that user has? Whether that user wants the 
'pink' theme or the 'blue' theme?

&gt; Cookies themselves are not anti-REST, it's putting a session id in a
&gt; cookie that is anti-REST because that hides state from the
&gt; request/response conversation.

What part of "This request is for Session 42" is it that you regard as 
hiding information?












</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6048<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-20 22:02:41<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>Lyle Kopnicky wrote:
&gt; I like your formulation of subject, verb, and object. I understand that 
&gt; the subject can be a user or a session.

Thanks. :)

&gt; I'm not clear why the subject and object can't both be represented in 
&gt; the URL. Multiplexed, so to speak. E.g., 
&gt; http://www.example.com/sessions/29823/buybooks.html, or 
&gt; http://www.example.com/buybooks.html?session=29823. By naming the 
&gt; subject using a cookie, you render the page uncacheable.

I have to confess to not being sufficiently well appraised of HTTP's 
caching mechanisms, and also say that my web applications are 'low 
volume' compared to most others. I.e. Ad-hoc TPS Reporting systems and 
ACME Inc. Data Entry systems with a few thousand users (as in humans) 
per week.

 From my point of view if you can leave the 'object' as the resource 
(i.e. the thing that is in the URI) and the 'subject' as the session 
token (i.e. the only part of the context that isn't in the URI) then you 
are going to have the safest, clearest, most intuitive for the user, 
URLs. That's about the best I can say.

I'd try very hard to keep the session context out of the URL. That said, 
provided you realise all the implications of what it might mean for you 
to put it in there, then you might feel it's worthwhile if cookies are 
not an option for some reason.

&gt; If I send someone a bookmark to 
&gt; http://www.example.com/sessions/29823/buybooks.html, but they do not 
&gt; have permission to view that session, the server can create a new 
&gt; session (say 33472) and redirect them to 
&gt; http://www.example.com/sessions/33472/buybooks.html.
&gt; 
&gt; Or does that break the GET rule? Perhaps it should redirect them to 
&gt; http://www.example.com/start.html, from which they can click a button to 
&gt; POST a new session.

I'd just use a session token that was an encrypted 'session id' and 
stick it in a non-persistent cookie (this has long been a standard for 
managing session tokens w/ HTTP). As I have the cookie, I'd tend to 
infer the 'user' from the session token. That would create a pretty big 
problem for you if you put the session token in the URL. I.e. if the 
user gave the URL to someone else, then clicking on it would be 
tantamount to logging in as the original user.

You can optionally do heuristics on user agent, IP address, etc.












</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6049<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-20 22:13:26<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>John Elliot &lt;jj5@...&gt; writes:

&gt; Nic wrote:
&gt;&gt; John Elliot &lt;jj5@...&gt; writes:
&gt;&gt;&gt;What does a HTTP Auth header do?
&gt;&gt; 
&gt;&gt; It's transmitted with every request last I saw.
&gt;
&gt; What's transmitted with each request? The username? The groups that user 
&gt; is in? The account settings that user has? Whether that user wants the 
&gt; 'pink' theme or the 'blue' theme?

None of that is authentication. This is HTTP *authentication*

So what's transmitted every time is the HTTP authentication details.

&gt;&gt; Cookies themselves are not anti-REST, it's putting a session id in a
&gt;&gt; cookie that is anti-REST because that hides state from the
&gt;&gt; request/response conversation.
&gt;
&gt; What part of "This request is for Session 42" is it that you regard as 
&gt; hiding information?

The table containing session 42s data held at the server.

The client and all the intermediarys between the client and the
server, don't know what is contained in the store associated with the
session.

That's the whole reason sessions are considered un-RESTful. To be
RESTful all the information relating to the request has to be in the
request. With sessions that's not the case.

If you look back on the list archives over the last few days you'll
see this point argued through quite comprehensively.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6050<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-20 22:19:10<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>Nic wrote:
&gt; None of that is authentication. This is HTTP *authentication*
&gt; 
&gt; So what's transmitted every time is the HTTP authentication details.

And those authentication details include a username. And the username is 
a key to the user table. And the user record is a key to a set of group 
memberships. And the user record is a key to a set of account settings. 
And the account settings might include an option for the 'pink' theme.

&gt; The table containing session 42s data held at the server.

So, if I put 'Session 42' in the URL this would somehow be different?













</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6051<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-20 22:22:39<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>Nic wrote:
&gt; John Elliot &lt;jj5@...&gt; writes:
&gt;
&gt;   
&gt;&gt; What part of "This request is for Session 42" is it that you regard as 
&gt;&gt; hiding information?
&gt;&gt;     
&gt;
&gt; The table containing session 42s data held at the server.
&gt;
&gt; The client and all the intermediarys between the client and the
&gt; server, don't know what is contained in the store associated with the
&gt; session.
&gt;   
The client and all the intermediaries between the client and the server 
don't know what is contained in the store associated with the resource, 
either.

Perhaps your point is that the resource is cacheable, because it's 
denoted by the URL, but the session is not cacheable.  But cacheability 
is tied to persistence.  If you dynamically generate the response each 
time, it's not cacheable anyway.
&gt; That's the whole reason sessions are considered un-RESTful. To be
&gt; RESTful all the information relating to the request has to be in the
&gt; request. With sessions that's not the case.
&gt;   
I don't know what you mean by "relating to the request".  Is the 
response "relating to the request"?  Then the request must contain the 
response.  What about a session is not "in the request"?  Certainly the 
session ID is in the request.  The state of the session is not.  But the 
state of the resource isn't in the request either.  So I don't see your 
distinction.
&gt; If you look back on the list archives over the last few days you'll
&gt; see this point argued through quite comprehensively.
&gt;   
It hasn't convinced me.

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6052<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-20 22:29:53<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>John Elliot &lt;jj5@...&gt; writes:

&gt; Nic wrote:
&gt;&gt; None of that is authentication. This is HTTP *authentication*
&gt;&gt; 
&gt;&gt; So what's transmitted every time is the HTTP authentication details.
&gt;
&gt; And those authentication details include a username. And the username is 
&gt; a key to the user table. And the user record is a key to a set of group 
&gt; memberships. And the user record is a key to a set of account settings. 
&gt; And the account settings might include an option for the 'pink'
&gt; theme.

No. It's authentication details.

You *might* infer some kind of session from it. But that's not what
it's intended to do.


&gt;&gt; The table containing session 42s data held at the server.
&gt;
&gt; So, if I put 'Session 42' in the URL this would somehow be different?

If the url could be used to retrieve the content of the resource
(including the entire session state) then yes, I think it would.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6053<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-20 22:41:07<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>Lyle Kopnicky &lt;lyle@...&gt; writes:

&gt; I don't know what you mean by "relating to the request".  Is the 
&gt; response "relating to the request"?  

No. As John has so accurately described the response (or the
representation of the resource) is the _result_ of applying your
implementation of f() to the request.


&gt; What about a session is not "in the request"?  Certainly the 
&gt; session ID is in the request.  The state of the session is not.  But the 
&gt; state of the resource isn't in the request either.  So I don't see your 
&gt; distinction.

But when you get back the resource you don't get back the entire state
of the session.

But if we're talking session-less then you make an HTTP request for a
resource and you get back exactly the representation of the resource
you asked for.


&gt;&gt; If you look back on the list archives over the last few days you'll
&gt;&gt; see this point argued through quite comprehensively.
&gt;&gt;   
&gt; It hasn't convinced me.

I haven't been trying to convince you. I don't like advocacy. I have
been trying to explain the benefits of REST, particularly cachability.


This point is probably the heart of this argument. Most RESTafrians I
know see REST as an architecture that has clear wins and losses. It's
not a religion to me or most of the others I know. 

One big win is the scalability achieved through cachability. One big
loss is that session less apps seem harder to grasp; probably because
programming in the small (like my earlier JSP example) is so easy to
do.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6054<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-20 22:48:33<br>
Subject:Re: [rest-discuss] Cacheability example<br>
Message:<br><br>
<pre>Lyle Kopnicky &lt;lyle@...&gt; writes:

&gt; Let's say I want to make my pages as cacheable as possible.  Yet, I need 
&gt; to customize the pages depending on dynamic content.  I'm going to argue 
&gt; that cookies are a good way to do this.
&gt;
&gt; So, say I have a page displaying the weather.  When a browser GETs the 
&gt; page, I can deliver an HTML page that uses AJAX to retrieve the actual 
&gt; data, and fill it into the form.  I have maximized cachability, since 
&gt; the HTML page doesn't change.
&gt;
&gt; But how does this work when I have a user session?  Let's say I have a 
&gt; book site, and the user has a shopping cart.  Following John E.'s 
&gt; subject-verb-object paradigm, the session is the subject.  The content 
&gt; changes according to the subject.  Am I doomed to just render all the 
&gt; content dynamically?
&gt;
&gt; One way to handle this is to use cookies.  The user GETs a generic 
&gt; shopping cart page.  The page contains JavaScript which retrieves the 
&gt; contents of the shopping cart, from a generic URL.  The response to the 
&gt; request for the shopping cart page does not depend on the subject.  But 
&gt; the response for the request for the contents of the cart relies on the 
&gt; cookie.  Thus the shopping cart page can be cached, even if the contents 
&gt; of the cart can't (and they're dynamic, so who cares).
&gt;
&gt; Can this be done without cookies?  Suppose I try to encode the session 
&gt; ID in the URL.  Then when the JavaScript retrieves the shopping cart 
&gt; contents, it must use a different URL for each session.  That means that 
&gt; URL must be written into the shopping cart page, which means the 
&gt; shopping cart page must be unique for each session, which means the 
&gt; shopping cart page is no longer cacheable.  Whoops.
&gt;
&gt; Does anyone else agree with this explanation as to why cookies are 
&gt; valuable for cacheability?

This is all fine.

Again, I say there's  nothing unRESTful about cookies. It's putting a
session id in a cookie and hiding data in the session on the server
that's wrong.

Another way of doing this though is without a cookie. the user could
have a resource on the server:

  http://store/nicferrier/cart

and the client side AJAX could update that resource as and when I
check things in and out of my cart.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6055<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-20 22:55:32<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>Nic wrote:
&gt; No. It's authentication details.
&gt; 
&gt; You *might* infer some kind of session from it. But that's not what
&gt; it's intended to do.

Well, can I, or can't I? Sounds to me like I can. So, I have a 'subject' 
context. However, as I stated at the very outset, the 'user' is not 
sufficient context if users need to modify server state in the context 
of a session. So, if I needed to model a session, how could I do it?

&gt;&gt;&gt;The table containing session 42s data held at the server.
&gt;&gt;
&gt;&gt;So, if I put 'Session 42' in the URL this would somehow be different?
&gt; 
&gt; If the url could be used to retrieve the content of the resource
&gt; (including the entire session state) then yes, I think it would.

You mean,

  Session 42 GETs /session-state

:)

I suppose you mean,

  GET /session-state?session=42

Why is it that you think there is any difference whether the session 
context is in the URL or in a cookie? You've conceded the point that a 
session context (albeit only one universal session per user) is possible 
with HTTP Auth. Why can't I use some other header? Like, say, a cookie 
header?

Could you perhaps offer an argument for your position, as opposed to 
mere contradiction?

For example, I would argue that the value in separating the 'subject' 
and the 'object' of the request is that from a user's perspective the 
subject is always implicit. That is, a user, while using my web 
application, isn't really cognisant of the fact that the system has been 
designed for many users. They see the whole world through their own 
eyes. They think they are the centre of the universe. When *they* do 
something it's pretty obvious to *them* that it's *them* who's doing it. 
For this reason I don't expect users to need to realise that the URL 
they have in their browser's address bar has been customised for them. 
The URL is 'what', it's not 'what'+'who'.

How often do you see users post the full link from their address bar to 
a book on Amazon, for example? Amazon puts all that extra goop on the 
end of their URLs, and those numbers mean something (who knows what, 
exactly, but I'll bet 'session' is one of them), and then users post 
that all over Usenet, and don't have an idea of what they're telling.

As a courtesy and a convenience to my users, I'd like the 'context' 
which identifies them to be separate from the 'context' that designates 
'what' they want. To the extent that representations of 'what' they want 
(a resource) vary based on 'who' they are, I don't expect them to worry 
about that. I give them a customised service, they're happy.

As a result users can share links and bookmark links with reckless 
abandon. Also, owing to the way the web has worked out in practice, 
there is a precedent for session tokens, and there is thus in many ways 
a user expectation for them.

As an application developer receiving and processing HTTP requests, I 
find it enormously valuable to isolate what is implied by the 'subject', 
and what is implied by the 'object' separately. As I desire to separate 
these concerns during processing, it seems more appropriate for me to 
ensure that the URI (the 'resource', the 'what') is already exactly the 
'object' before I begin processing.











</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6056<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-04-20 23:00:19<br>
Subject:Re: [rest-discuss] Resource-Oriented Design (Was: Meaning of stateless)<br>
Message:<br><br>
<pre>Hi John,

On Apr 20, 2006, at 1:36 PM, John Elliot wrote:

&gt;&gt; If you change how you think about implementing your application,
&gt;&gt; does your perceived requirement for sessions go away?
&gt;
&gt; No. I acknowledge that there are two nouns which dictate the 'context'
&gt; of a HTTP request. I have explained these as the 'subject' and the
&gt; 'object'. REST states that the 'resource' (the object) is the  
&gt; 'semantic
&gt; thing' which a URL describes (which is true), but then it says that
&gt; state representations of the resource are generated for a request  
&gt; (which
&gt; I contend). It's superficial (in my view) to say that the response
&gt; entity is a representation of the state of the resource because this
&gt; other thing, the 'subject', can modify response semantics. I.e. a
&gt; response isn't just for,
&gt;
&gt;   GET /resource
&gt;
&gt; It's for either,
&gt;
&gt;   Someone GETs /resource
&gt;
&gt; Or,
&gt;
&gt;   Joe GETs /resource
&gt;
&gt; In each case, the overall semantics of the request (and the
&gt; representation generated) may be varied by this additional context.  
&gt; The
&gt; simplest case in point being that we put "Good Morning %Username%" at
&gt; the top of every page. So it's not just a representation of the  
&gt; state of
&gt; a resource. It's the representation of the state of the resource at a
&gt; point in time *with respect to a user's session*.
&gt;
Ah, perhaps I finally see what you've been trying to say, and I  
believe I recently brought up the same issue, though in a different  
way. If you look back in the archives there's a thread I started  
called "Personalization as Representation" that explores this issue.  
My question to this list was whether a personalized instance of a  
resource should be considered a representation of that resource. I  
even used the welcome message as an example of a personalization of a  
resource.

Although the responses I got back on this list tended to fight me on  
this notion of viewing personalization as representation, I concluded  
nevertheless that it is a useful way to think about personalization,  
but to maximize cache-ability I should minimize the number of  
personalized representations (which minimizes the number of ETags for  
personalization). The main technique is to do that minimization is to  
use JavaScript to go back and grab personalized pieces, and that's  
what I currently plan to do for the welcome message. If the client  
does not have JavaScript enabled, they will get a generic welcome  
message. But I do want clients to know they've signed in, even if  
JavaScript is not enabled on the client. So for each page I currently  
plan to have two personalized representations: one for when your  
signed in, and one for when your signed out. If you have JavaScript  
enabled on the client, some JavaScript will replace the generic  
welcome with a more friendly welcome that includes your name.

&gt;&gt; What it showed me was that a good way to think about designing web
&gt;&gt; applications is "resource-oriented design," to give it a name. In
&gt;&gt; designing a C++ program, I might ask myself, 'What are the objects?'.
&gt;&gt; In designing a web application, I would ask myself, 'What are the
&gt;&gt; resources?'.
&gt;
&gt; In your case, what you're trying to do is get a shopping basket
&gt; resource. But this isn't such a thing:
&gt;
&gt;   /basket?z=9sdf23kj5has
&gt;
&gt; This is:
&gt;
&gt;   /basket?o=(P23,1,US$3)&amp;o=(p42,3,US$7)
&gt;
&gt; The latter is the resource that you probably want if you want to be a
&gt; REST officiando. The resource that you propose conflates an estranged
&gt; notion of 'session key' with some semi-immutable transient server side
&gt; state.
&gt;
Both URIs reference a shopping basket resource. The second one  
doesn't require a snapshot of conversational state, the first one  
does. The first one is also a reasonable-length URI, so I would  
prefer it if I can be sure that people only are going to put a small  
number of items in their shopping cart. As I mentioned earlier, the  
trouble is that sometimes, storing conversational state on the server  
is the best design choice, for several reasons. One of them is that  
the URI can get too long using the approach your suggesting here.  
Pointing out one example in which storing conversational state in the  
URI is a better design choice does not in any way prove that one  
should never store conversational state on the server. Moreover, I'm  
not saying you should always and only store conversational state on  
the server in snapshots, just that in situations in which you do want  
to store such state on the server, an alternative to sessions is  
snapshots.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6057<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-20 23:11:21<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>John Elliot &lt;jj5@...&gt; writes:

&gt; Nic wrote:
&gt;&gt; No. It's authentication details.
&gt;&gt; 
&gt;&gt; You *might* infer some kind of session from it. But that's not what
&gt;&gt; it's intended to do.
&gt;
&gt; Well, can I, or can't I? Sounds to me like I can. 

You can if you want. I'm not forcing you to  /8-&gt;


&gt; So, I have a 'subject' 
&gt; context. However, as I stated at the very outset, the 'user' is not 
&gt; sufficient context if users need to modify server state in the context 
&gt; of a session. So, if I needed to model a session, how could I do it?

Ah well... you see I don't agree that a "session" is a good idea. I'd
rather talk about resources.


&gt;&gt;&gt;&gt;The table containing session 42s data held at the server.
&gt;&gt;&gt;
&gt;&gt;&gt;So, if I put 'Session 42' in the URL this would somehow be different?
&gt;&gt; 
&gt;&gt; If the url could be used to retrieve the content of the resource
&gt;&gt; (including the entire session state) then yes, I think it would.
&gt;
&gt; You mean,
&gt;
&gt;   Session 42 GETs /session-state
&gt;
&gt; :)
&gt;
&gt; I suppose you mean,
&gt;
&gt;   GET /session-state?session=42

Actually I meant:

    http://something/session42

parameters are harder to cache.


&gt; Why is it that you think there is any difference whether the session 
&gt; context is in the URL or in a cookie? You've conceded the point that a 
&gt; session context (albeit only one universal session per user) is possible 
&gt; with HTTP Auth. Why can't I use some other header? Like, say, a cookie 
&gt; header?

No. You have misunderstood me. I did not conceed that a universal
session per user is a good thing. You can do it if you want - I'm not
stopping you. But your cachability will be reduced.

But if the state that you would normally store in a session is
accessible instead through a URI then that isn't really a session
anymore is it?  It's a resource.


&gt; How often do you see users post the full link from their address bar to 
&gt; a book on Amazon, for example? Amazon puts all that extra goop on the 
&gt; end of their URLs, and those numbers mean something (who knows what, 
&gt; exactly, but I'll bet 'session' is one of them), and then users post 
&gt; that all over Usenet, and don't have an idea of what they're
&gt; telling.

Amazon has some pretty good RESTful services.


&gt; As a courtesy and a convenience to my users, I'd like the 'context' 
&gt; which identifies them to be separate from the 'context' that designates 
&gt; 'what' they want. To the extent that representations of 'what' they want 
&gt; (a resource) vary based on 'who' they are, I don't expect them to worry 
&gt; about that. I give them a customised service, they're happy.
&gt;
&gt; As a result users can share links and bookmark links with reckless 
&gt; abandon. Also, owing to the way the web has worked out in practice, 
&gt; there is a precedent for session tokens, and there is thus in many ways 
&gt; a user expectation for them.

But I can't find fault with any of that. What you're saying is that
URIs should represent things. Not an arbitary user's view of things
and I agree.

If I were amazon then my URIs would point to resources about books.


But your earlier arguments were about sessions and session state which
I don't believe is necessary or right. In fact, when building
massivly scaled apps it's very bad because it forces just one
implementation strategy (very, very big iron).



&gt; As an application developer receiving and processing HTTP requests, I 
&gt; find it enormously valuable to isolate what is implied by the 'subject', 
&gt; and what is implied by the 'object' separately. As I desire to separate 
&gt; these concerns during processing, it seems more appropriate for me to 
&gt; ensure that the URI (the 'resource', the 'what') is already exactly the 
&gt; 'object' before I begin processing.

Yes! This is REST.

Resources are identified by URIs and really mean something.

There's no need for sessions; all the state is maintained in the
resources.

To reiterate an earlier example: my bank account might be:

   http://bank/accounts/nicferrier

whereas yours will be a different resource and uri entirely.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6058<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-20 23:10:58<br>
Subject:Practicalities of URL length on the WWW in 2006<br>
Message:<br><br>
<pre>Hi Bill,

That was a good chat. :)

I think we've got largely to the point where we could say we've reached 
an understanding. Thanks for the tips on ETags and 'snapshots'. I think 
I'll tend to avoid snapshots as a general rule myself. ETags on the 
other hand bear more investigation.

Switching to another topic:

Bill Venners wrote:
&gt; the URI can get too long

Does anyone have any data (based on recent bitter experience) on the 
real practical upper limit on URL size on the web as it exists at this 
point in time?















</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6059<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-20 23:17:04<br>
Subject:Re: [rest-discuss] Practicalities of URL length on the WWW in 2006<br>
Message:<br><br>
<pre>John Elliot &lt;jj5@...&gt; writes:

&gt; Hi Bill,
&gt;
&gt; That was a good chat. :)
&gt;
&gt; I think we've got largely to the point where we could say we've reached 
&gt; an understanding. Thanks for the tips on ETags and 'snapshots'. I think 
&gt; I'll tend to avoid snapshots as a general rule myself. ETags on the 
&gt; other hand bear more investigation.
&gt;
&gt; Switching to another topic:
&gt;
&gt; Bill Venners wrote:
&gt;&gt; the URI can get too long
&gt;
&gt; Does anyone have any data (based on recent bitter experience) on the 
&gt; real practical upper limit on URL size on the web as it exists at this 
&gt; point in time?

IE's string length is currently the lowest if I recall correctly from
last summer when a client ran into this.

It's even shorter than lynx as I recall.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6060<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-20 23:27:17<br>
Subject:Re: [rest-discuss] Practicalities of URL length on the WWW in 2006<br>
Message:<br><br>
<pre>Nic wrote:
&gt; IE's string length is currently the lowest if I recall correctly from
&gt; last summer when a client ran into this.

Some time back I bumped into a problem with very long URLs in IE6 when 
dragging the icon from the address bar to the desktop to create a 
shortcut. So, the WinXP shell has a pretty severe limit on URL size, and 
it just 'truncates' the URL (it doesn't error). IE6 itself was happy to 
cope with URLs above that size though. I think the WinXP shell shortcut 
limit might have been 1024, but I'm not certain of that.














</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6061<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2006-04-20 23:38:58<br>
Subject:Re: [rest-discuss] Practicalities of URL length on the WWW in 2006<br>
Message:<br><br>
<pre>On Thu, 20 Apr 2006, John Elliot wrote:
&gt; Does anyone have any data (based on recent bitter experience) on the
&gt; real practical upper limit on URL size on the web as it exists at this
&gt; point in time?

Bookmarklets are strictly limited in size because of limits in how long a 
URL in the IE favorites list can be.

From http://subsimple.com/bookmarklets/rules.asp:
Browser  	Max chars
Netscape 	&gt; 2000
Firefox 	&gt; 2000
Opera 	&gt; 2000
IE 4 	2084
IE 5 	2084
IE 6 	508
IE 6 SP 2 	488
IE 7 beta 2 	2084




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6062<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-20 23:25:13<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>John Elliot wrote:
&gt; How often do you see users post the full link from their address bar to 
&gt; a book on Amazon, for example? Amazon puts all that extra goop on the 
&gt; end of their URLs, and those numbers mean something (who knows what, 
&gt; exactly, but I'll bet 'session' is one of them), and then users post 
&gt; that all over Usenet, and don't have an idea of what they're telling.
As far as I can tell, Amazon uses cookies for sessions, not the URL.  I 
routinely mail or post links to books on Amazon, and nobody ever gets my 
session.

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6063<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-20 23:48:11<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>Lyle Kopnicky wrote:
&gt; As far as I can tell, Amazon uses cookies for sessions, not the URL.  I 
&gt; routinely mail or post links to books on Amazon, and nobody ever gets my 
&gt; session.

All I know about Amazon is that this [1] is all you actually need to 
link to a product, however that they will always redirect that to 
something with an extra number [2] at the end. I don't know what the 
extra number identifies. I'm sure they'd use cookies where they could.

I suspect this is at least in part a (sinister) 'web integration' thing. 
I.e. users who post the full links to the web or Usenet effectively 
re-identify themselves back to Amazon. Thus Amazon can know which users 
caused them to gain traffic (assuming it's significant and interesting, 
etc.)

I don't like it when developers 'abuse' the web like that. It just feels 
like they're unfairly taking advantage of people who don't realise what 
they're doing.

[1] http://www.amazon.com/gp/product/B000BFHVXS
[2] http://www.amazon.com/gp/product/B000BFHVXS/102-7853640-9860156












</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6064<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-20 23:38:54<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>John Elliot wrote:
&gt; I suspect this is at least in part a (sinister) 'web integration' thing. 
&gt; I.e. users who post the full links to the web or Usenet effectively 
&gt; re-identify themselves back to Amazon. Thus Amazon can know which users 
&gt; caused them to gain traffic (assuming it's significant and interesting, 
&gt; etc.)
&gt;
&gt; I don't like it when developers 'abuse' the web like that. It just feels 
&gt; like they're unfairly taking advantage of people who don't realise what 
&gt; they're doing.
&gt;   
Interesting.  Thanks for pointing that out.

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6065<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-20 23:42:20<br>
Subject:Re: [rest-discuss] Cacheability example<br>
Message:<br><br>
<pre>Nic wrote:
&gt; Lyle Kopnicky &lt;lyle@...&gt; writes:
&gt;   
&gt;&gt; One way to handle this is to use cookies.  The user GETs a generic 
&gt;&gt; shopping cart page.  The page contains JavaScript which retrieves the 
&gt;&gt; contents of the shopping cart, from a generic URL.  The response to the 
&gt;&gt; request for the shopping cart page does not depend on the subject.  But 
&gt;&gt; the response for the request for the contents of the cart relies on the 
&gt;&gt; cookie.  Thus the shopping cart page can be cached, even if the contents 
&gt;&gt; of the cart can't (and they're dynamic, so who cares).
&gt;&gt;     
&gt;
&gt; This is all fine.
&gt;
&gt; Again, I say there's  nothing unRESTful about cookies. It's putting a
&gt; session id in a cookie and hiding data in the session on the server
&gt; that's wrong.
&gt;   
Well, I was implying that I'm storing a session ID in a cookie.
&gt; Another way of doing this though is without a cookie. the user could
&gt; have a resource on the server:
&gt;
&gt;   http://store/nicferrier/cart
&gt;
&gt; and the client side AJAX could update that resource as and when I
&gt; check things in and out of my cart.
&gt;   
OK, so now you're putting the subject (here, a user ID instead of 
session ID) in the URL.

Is it any worse if I write http://store/9823DF/cart, where 9823DF is a 
session key?

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6066<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-04-20 23:58:14<br>
Subject:Re: [rest-discuss] Resource-Oriented Design (Was: Meaning of stateless)<br>
Message:<br><br>
<pre>Hi John,

On Apr 20, 2006, at 1:55 PM, John Elliot wrote:

&gt; What I was really trying to say is that of the other two options
&gt; available to you I don't see why you would prefer this.
&gt;
&gt; With this,
&gt;
&gt;    /basket?o=(P23,1,US$3)&amp;o=(p42,3,US$7)
&gt;
&gt; you get the 'stateless server' benefits.
&gt;
&gt; With this,
&gt;
&gt;    Session 42 GETs /basket
&gt;
&gt; You get simple URIs and persisted server side state.
&gt;
&gt; Your proposed model conflates these two notions, but I'm not sure
&gt; exactly where you see the benefit. Actually, that's not true. I do see
&gt; where you see the benefit. You think it's good that the user can click
&gt; 'back' and pick up their older shopping basket. I just think that's
&gt; complicated and not very useful.
&gt;
That's a good question. The primary reason is not the back button  
problem, but scalability of my particular project, a network of  
sites, and how hard it is for me to achieve that scalability in the  
implementation.

In thinking about scale I ask myself how this would work if I have  
1000 servers. I will be a very successful guy if I ever get to that  
point, but if it works for 1000, I figure it will work for 10 or 20  
or 50 whatever I actually get to.

One strategy we have for scale is not putting everything in one  
database. We plan to have multiple mini-clusters each consisting of a  
few app servers. Each mini-cluster is backed by a dedicated database.  
So if there are five mini-clusters, there will be five databases.  
This allows us to scale the database tier horizontally by adding more  
databases, or bifurcating existing ones if they get too busy. I  
figure I'll be able to use postgres, a free open source databases  
this way for the most part, even as we scale.

Besides conversational state, the other thing J2EE folks often put in  
the session object is the user's identity. Servlets will generate a  
random session ID for you, and you can stick the user ID and/or a  
subject/roles/permissions, etc., in the session object. So the  
session ID is a random number, a key that allows me to look up in a  
hashtable in memory an object that tells me who the user is. The same  
user could be operating in multiple sessions at the same time. I want  
users to be able to sign on to the whole network, which means that  
they may occasionally hop from one mini-cluster to another. So if I  
used sessions for user identity in the traditional way, I'd really  
need to replicate the sessions across all servers, not just the ones  
in the mini-cluster, but all of them--all 1000 servers, so when a  
user hops from one mini-cluster to another, I'd still be able to  
recognize them.

There are a lot of canned ways to replicate sessions, but then I ask  
how well they scale up to 1000 servers. One that I believe would  
scale is a partitioned cache, as you can do with Tangosol Coherence.  
I have the option of using Tangosol, because they donated a license  
to Artima, but I still would rather not use it because the license  
isn't transferable. And in general I want to use open source software  
when I can in this architecture, and I don't know of any open source  
partitioned caches. So what I really wanted to do was find an  
alternative design that doesn't require sessions, so that I can avoid  
replicating them across all 1000 servers.

In our solution, we don't use user sessions. The session ID isn't a  
random number. It contains a user's credentials encrypted with a  
password that is known by all 1000 servers. So the only thing I need  
to replicate is the password, and I replicate a new password about  
every 15 minutes. That I believe I can do with a regular replicated  
cache. I expect it would scale fine to 10,000 servers. I don't have a  
session ID anymore, actually, because at any one time there's one  
number for each user. It is an authentication token that enables any  
server to authenticate a user with no session state context required.

With authentication and single sign on out of the way, I really only  
need to replicate the conversational state across a mini-cluster, but  
I'd rather not replicate it (for the same reason, there isn't an open  
source partitioned cache at the moment). We're going to use sticky  
sessions, so all request from the same session ID (which is really an  
auth token) will go back to the same server in the mini-cluster. Most  
of the time the conversational state will only be needed there, but  
if that server ever crashes, it would be nice if another server could  
pick up where this one left off. My current plan is to stick the  
conversational state into "diamonds," which are little hashtables  
that get persisted asynchronously behind the scenes to a database.  
(Diamonds are an implementation of snapshots.) The servers in each  
mini-cluster will share one diamond database.

In this scheme, the only thing I have to replicate to all 1000  
servers are the passwords used to encrypt the authentication tokens.  
Everything else in memory is either transient or a cache of what's in  
a database. I do have to keep those database caches coherent across  
the mini-clusters, but that's easy to do with open source tools.

And although you keep insisting that snapshots are more complicated,  
I really don't see it as any more complicated to create a new diamond  
as it is to add some state to the session. It's just as easy, in fact  
perhaps a bit easier because I won't have to worry about generating  
unique ETags based on session state. That would generate too many  
ETags to be practical anyway, so I'd basically lose the opportunity  
to do caching on any form like the registration form if I use a  
session to hold conversational state. Caching is one tool for scaling  
that I want to use to full advantage.

So the main reason I've tried to avoid session state is not to be  
RESTful, nor to make the back button work, but to build a scalable  
system given my particular requirements. Where this all fits in with  
my response to your initial post, is that I don't think I need a  
session. Thinking about 1000 servers pushed me to get rid of  
sessions. What I need instead, is authentication that optionally  
rides along with a request. Not a session ID, just an authentication  
token. I have problems with HTTP authentication, which I described a  
few weeks ago on this list, but my cookies and URL-rewriting is  
similar in spirit to HTTP authentication in that it alone can be used  
to authenticate a user.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6067<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-21 00:05:03<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>Nic wrote:
&gt; Lyle Kopnicky &lt;lyle@...&gt; writes:
&gt;   
&gt;&gt; What about a session is not "in the request"?  Certainly the 
&gt;&gt; session ID is in the request.  The state of the session is not.  But the 
&gt;&gt; state of the resource isn't in the request either.  So I don't see your 
&gt;&gt; distinction.
&gt;&gt;     
&gt;
&gt; But when you get back the resource you don't get back the entire state
&gt; of the session.
&gt;
&gt; But if we're talking session-less then you make an HTTP request for a
&gt; resource and you get back exactly the representation of the resource
&gt; you asked for.
&gt;   
But you're not getting back /the entire state of the resource/.  Just a 
representation of that resource.

If I use a session ID, then implicitly that session ID is part of the 
resource I'm requesting, not a separate thing.
&gt; I haven't been trying to convince you. I don't like advocacy. I have
&gt; been trying to explain the benefits of REST, particularly cachability.
&gt;
&gt;
&gt; This point is probably the heart of this argument. Most RESTafrians I
&gt; know see REST as an architecture that has clear wins and losses. It's
&gt; not a religion to me or most of the others I know. 
&gt;   
So what you're saying is that if my application requires sessions, I'm 
out of luck with REST.  Does that leave me back at SOAP, or can I get 
some of the REST benefits while still having sessions?
&gt; One big win is the scalability achieved through cachability. One big
&gt; loss is that session less apps seem harder to grasp; probably because
&gt; programming in the small (like my earlier JSP example) is so easy to
&gt; do.
&gt;   
I certainly appreciate there are many wonderful sessionless apps that 
can be created.  But suppose I already know the requirements of my app, 
and that includes sessions.  Are you saying there is always some way to 
do the same thing with a sessionless app?  Or are you saying I should 
abandon REST if I need sessions?

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6068<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-21 00:10:03<br>
Subject:Re: [rest-discuss] Cacheability example<br>
Message:<br><br>
<pre>Nic wrote:
&gt;
&gt; Another way of doing this though is without a cookie. the user could
&gt; have a resource on the server:
&gt;
&gt;   http://store/nicferrier/cart
&gt;
&gt; and the client side AJAX could update that resource as and when I
&gt; check things in and out of my cart.
&gt;
&gt;   
But here's the catch:  How does the client side AJAX know to access the 
URL http://store/nicferrier/cart?  Where does it get the 'nicferrier' bit?

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6069<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-04-21 00:12:34<br>
Subject:Re: [rest-discuss] Cacheability example<br>
Message:<br><br>
<pre>On 4/20/06, Lyle Kopnicky &lt;lyle@...&gt; wrote:
&gt; Does anyone else agree with this explanation as to why cookies are
&gt; valuable for cacheability?

Yup.  It's a fine example of tradeoffs in Web design.

Mark.
--
Mark Baker.  Ottawa, Ontario, CANADA.       http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6070<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-21 00:14:09<br>
Subject:Re: [rest-discuss] Cacheability example<br>
Message:<br><br>
<pre>Lyle Kopnicky &lt;lyle@...&gt; writes:

&gt;&gt; Again, I say there's  nothing unRESTful about cookies. It's putting a
&gt;&gt; session id in a cookie and hiding data in the session on the server
&gt;&gt; that's wrong.
&gt;&gt;   
&gt; Well, I was implying that I'm storing a session ID in a cookie.

Oh. Well that would be bad then.  /8-&gt;


&gt;&gt; Another way of doing this though is without a cookie. the user could
&gt;&gt; have a resource on the server:
&gt;&gt;
&gt;&gt;   http://store/nicferrier/cart
&gt;&gt;
&gt;&gt; and the client side AJAX could update that resource as and when I
&gt;&gt; check things in and out of my cart.
&gt;&gt;   
&gt; OK, so now you're putting the subject (here, a user ID instead of 
&gt; session ID) in the URL.

No. The resource is the object (in John's little language). 

It's nicferrier's cart. It's not anyone else's cart. It's the same as
the bankaccount example (from earlier in this thread?).


&gt; Is it any worse if I write http://store/9823DF/cart, where 9823DF is a 
&gt; session key?

Of course the exact form of the URL does not matter. They're only
identifiers.

But if by "session key" you mean  that the cart resource is altered by
a "session object" on the server then that would be bad but only
because that session data would mean that you were doing stuff that
you didn't really need to do because you already have a RESTful
architecture.

If you've got a bunch of resources:

  http://store/x/cart

[where x is some id identifying individual carts]

which have representations of the content of shopping baskets and
you've got a shop front app manipulating those (say with AJAX) and
presenting the data to the end users then I think that would be
RESTful.

Why then would you add a session object to the back end of that with
all the implementation problems that sessions bring? (session data
distribution, load balancing, locking, etc...)


Or have I misunderstood what you were saying?


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6071<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-21 00:30:25<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>Lyle Kopnicky &lt;lyle@...&gt; writes:

&gt;&gt; But when you get back the resource you don't get back the entire state
&gt;&gt; of the session.
&gt;&gt;
&gt;&gt; But if we're talking session-less then you make an HTTP request for a
&gt;&gt; resource and you get back exactly the representation of the resource
&gt;&gt; you asked for.
&gt;&gt;   
&gt; But you're not getting back /the entire state of the resource/.  Just a 
&gt; representation of that resource.

Yes. But an app might expect that it could get an authoritative
resource representation.


&gt; So what you're saying is that if my application requires sessions, I'm 
&gt; out of luck with REST.  Does that leave me back at SOAP, or can I get 
&gt; some of the REST benefits while still having sessions?

REST isn't an API. It's just a way of doing things so yes, of course
you can pick and choose.


&gt;&gt; One big win is the scalability achieved through cachability. One big
&gt;&gt; loss is that session less apps seem harder to grasp; probably because
&gt;&gt; programming in the small (like my earlier JSP example) is so easy to
&gt;&gt; do.
&gt;&gt;   
&gt; I certainly appreciate there are many wonderful sessionless apps that 
&gt; can be created.  But suppose I already know the requirements of my app, 
&gt; and that includes sessions.  Are you saying there is always some way to 
&gt; do the same thing with a sessionless app?  Or are you saying I should 
&gt; abandon REST if I need sessions?

As long as you can use client side interactivity (xslt, javascript,
etc...) there is *always* a way to do an app without a session-object.


And that's what the REST argument is about. We argue that it's better
to store state in resources that are directly exposed via HTTP because
the resulting apps are more scalable and fit better with the existing
hypertext model of the web. 

Other people argue that sessions based architecture is better because
the web is really a big network with RPC clients and servers all over
the place.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6072<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-21 00:36:56<br>
Subject:Re: [rest-discuss] Cacheability example<br>
Message:<br><br>
<pre>Lyle Kopnicky &lt;lyle@...&gt; writes:

&gt; Nic wrote:
&gt;&gt;
&gt;&gt; Another way of doing this though is without a cookie. the user could
&gt;&gt; have a resource on the server:
&gt;&gt;
&gt;&gt;   http://store/nicferrier/cart
&gt;&gt;
&gt;&gt; and the client side AJAX could update that resource as and when I
&gt;&gt; check things in and out of my cart.
&gt;&gt;
&gt;&gt;   
&gt; But here's the catch:  How does the client side AJAX know to access the 
&gt; URL http://store/nicferrier/cart?  Where does it get the
&gt; 'nicferrier' bit?

Because you had to authenticate and authorize yourself just as you
would with any app (they want to know who to send that Ministry of
Sound album to after all).


So in our example implementation the HTML shell would allow you to
login and store a cookie to identify you.

Or alternately a random basket would be assigned to you (and probably
stored in a cookie so that you could always be associated with it).

Note that the cookie would NOT store any reference to a session. It
simply stores a way to reference the back end cart which can be
accessed with the HTTP verbs.

But that wouldn't change the cacheability of any of the resources
either (even though the cookie would be different for every person
requesting all the resources) because only the client side would read
the cookie. In effect the cookie wouldn't need to be communicated to
the server at all because the server wouldn't be using it.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6073<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-21 00:49:20<br>
Subject:Re: [rest-discuss] Cacheability example<br>
Message:<br><br>
<pre>Nic &lt;nferrier@...&gt; writes:

&gt; Lyle Kopnicky &lt;lyle@...&gt; writes:
&gt;
&gt;&gt;&gt; Again, I say there's  nothing unRESTful about cookies. It's putting a
&gt;&gt;&gt; session id in a cookie and hiding data in the session on the server
&gt;&gt;&gt; that's wrong.
&gt;&gt;&gt;   
&gt;&gt; Well, I was implying that I'm storing a session ID in a cookie.
&gt;
&gt; Oh. Well that would be bad then.  /8-&gt;

I just re-read your original example.

And I don't think there's much wrong with it. Apologies, I kinda got
lost after the 2nd post.

What you were saying is that you'd use AJAX against a generic url and
the cookie would identify to the url the particular form of content it
would take.

So you might have:

   http://store/nicshopfront

which calls:

   http://store/carts/genericcart

with a cookie in the request to identify the particular cart.

I don't think there's much wrong with that. Except that it's not much
different from simply putting the thing into the uri namespace:

  http://store/carts/specificart1

then you don't need the cookie at all (except maybe on the client
side).



Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6074<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-21 01:04:37<br>
Subject:Re: [rest-discuss] Cacheability example<br>
Message:<br><br>
<pre>Nic wrote:
&gt; Lyle Kopnicky &lt;lyle@...&gt; writes:
&gt;   
&gt;&gt; But here's the catch:  How does the client side AJAX know to access the 
&gt;&gt; URL http://store/nicferrier/cart?  Where does it get the
&gt;&gt; 'nicferrier' bit?
&gt;&gt;     
&gt;
&gt; Because you had to authenticate and authorize yourself just as you
&gt; would with any app (they want to know who to send that Ministry of
&gt; Sound album to after all).
&gt;
&gt;
&gt; So in our example implementation the HTML shell would allow you to
&gt; login and store a cookie to identify you.
&gt;
&gt; Or alternately a random basket would be assigned to you (and probably
&gt; stored in a cookie so that you could always be associated with it).
&gt;
&gt; Note that the cookie would NOT store any reference to a session. It
&gt; simply stores a way to reference the back end cart which can be
&gt; accessed with the HTTP verbs.
&gt;   
One could argue that a cart /is/ a session.  In fact, for a shopping 
application, that's pretty much what I consider the session to consist 
of.  Therefore, the reference to the back end cart is a session key.
&gt; But that wouldn't change the cacheability of any of the resources
&gt; either (even though the cookie would be different for every person
&gt; requesting all the resources) because only the client side would read
&gt; the cookie. In effect the cookie wouldn't need to be communicated to
&gt; the server at all because the server wouldn't be using it.
&gt;   
Interesting.  Use a cookie completely on the client side.  Don't send it 
to the server.  I like that.  But I do wonder how to gracefully degrade 
on clients without JavaScript.

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6075<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-21 01:11:59<br>
Subject:Re: [rest-discuss] Cacheability example<br>
Message:<br><br>
<pre>Lyle Kopnicky &lt;lyle@...&gt; writes:

&gt;&gt; Note that the cookie would NOT store any reference to a session. It
&gt;&gt; simply stores a way to reference the back end cart which can be
&gt;&gt; accessed with the HTTP verbs.
&gt;&gt;   
&gt; One could argue that a cart /is/ a session.  In fact, for a shopping 
&gt; application, that's pretty much what I consider the session to consist 
&gt; of.  Therefore, the reference to the back end cart is a session key.

One could only argue that by changing the semantics of the words.

The cart is not a session it's a resource storing state. Otherwise
every thing that stores state is a session.

A session is an object (normally) subsidiary to authentication details
that exists orthogonal to resources in a webapp.


&gt;&gt; But that wouldn't change the cacheability of any of the resources
&gt;&gt; either (even though the cookie would be different for every person
&gt;&gt; requesting all the resources) because only the client side would read
&gt;&gt; the cookie. In effect the cookie wouldn't need to be communicated to
&gt;&gt; the server at all because the server wouldn't be using it.
&gt;&gt;   
&gt; Interesting.  Use a cookie completely on the client side.  Don't send it 
&gt; to the server.  I like that.  But I do wonder how to gracefully degrade 
&gt; on clients without JavaScript.

Aye. That is difficult.

But even the text based browsers are getting javascript these days.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6076<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2006-04-21 01:15:55<br>
Subject:Re: [rest-discuss] Cacheability example<br>
Message:<br><br>
<pre>On 4/20/06, Lyle Kopnicky &lt;lyle@...&gt; wrote:
&gt; One could argue that a cart /is/ a session.  In fact, for a shopping
&gt; application, that's pretty much what I consider the session to consist
&gt; of.  Therefore, the reference to the back end cart is a session key.

Not necessarily.  The equivalent of a cart for a travel broker is an
itinerary or trip.  I can set one up but not book it, come back later
(another "session") and book it, come back still later (yet another
session) and add a hotel etc.

I don't know that anybody does it this way, but the same could happen
to a shopping cart.  Pick some items, come back later and pick some
more, come back still later and check out.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6077<br>
Sender:mherrick66@...<br>
Post Date/Time:2006-04-21 01:22:00<br>
Subject:RE: [rest-discuss] REST &amp; Internal Integration<br>
Message:<br><br>
<pre>I appreciate your response Mike. Yes, many of the integration types I mentioned are done using JMS today. I responded to some of your comments below. Thanks again.

Mike
-------------

I think all of those could be designed to have uniform interfaces and resource identifiers and exchange representations of state. You could build it yourself, and the limits of your integration would be as far as you care to push them. Or you could use existing technology - possibly placing extra constraints to achieve the uniform interface, resource identifiers, etc. - and maybe do it cheaper with broader acceptance. The existing technologies could be HTTP (for most of those), or something like JMS or a vendor specific message publishing/queueing system.
 
 &gt; For example looking up existing customer information. It definitely wouldn't be my first choice, however, for something transactional like creating an order. 
&gt; Not saying I'd never do it, just wouldn't be my first choice.
Using HTTP for requests that must be transactional doesn't seem to be a problem in my view. I'm pretty sure there are several online retailers that use HTTP to create and manage orders. It's even theoretically possible they use HTTP within their firewall as well - but you can never know what's going on in there...
What is it about HTTP based request/response doesn't fit with 'transactional' from your point of view?
#Nothing really. I think it is fine. I?m just used to using JMS for this sort of thing. But it doesn?t #really buy me much other then perhaps consistent security. I can have the service authenticate #to JMS and put an ACL on the JMS destinations that says the service can send and or receive #from them them. Of course I can do the same with REST ? that is what makes it better then #SOAP/WS-*. When I say ?consistent?, I mean it is administered in the same place.
 
&gt; My problem with using Web Style at all for heavy integration is the coupling and complexity that starts to add up 
&gt; when you have a lot of services all doing Request/Reply. Each client has to handle errors and retry logic.
When you have a network, each client has to handle errors and retry logic. Really. The nifty part about REST is that with a uniform interface and a message oriented protocol, once you have it figure out, that software is re-usable across different services - whether it's creating an order, updating inventory, changing prices or getting a list of things in a shopping cart.

Yeah, you are correct on the network ? that argument sold me on REST vs. WS-*. Here is where I am coming from ? I spend most of my time working on a system that has approximately 50 services. The services are pretty stupid, all they know is they get an event XML input. They typically respond with an XML event. They listen on a set of JMS Topics or a Topic pattern (e.g., COMPANYNAME.LINEOFBUSINESS.NOUN.*). They also typically respond to set of Topics. What I like about JMS in the system is the guaranteed delivery &amp; durable subscriptions. The service impls don?t care about the network because they know that JMS is there. When they send a message it is persisted before the thread returns. It is nice not to have to do this by hand (i.e., ferret it away in a database in the receiving service before return from the PUT/POST). Also, durable subscriptions are great ? if a service goes down or its threads hang, the events it is interested in are saved to the durable subscription. My point is that for me (at least with my current point of view) with this many services, doing this w/o something like JMS would be hard. I would really like to see an HTTP based pub/sub like this. I don?t know enough about REST to know if it would be evil to do. I babbled about that a bit more here: http://fuzzypanic.blogspot.com/2006/03/httppox-xml-based-eda-pub-sub.html 
Let me know if you know of anything.
 
 
&gt;  Once you get to anything async, however, Web Style quickly falls down for me. Lets start with "Async Request/Reply". 
&gt; [...] 
&gt; If you are writing one service, it is no big deal - its when there are more then a few where you get a cumulative amount of complexity that 
&gt; starts to get your attention.
Complexity doesn't accumulate when you have a uniform interface. Any asynchronous system has more complex interactions than synchronous, but if the benefits outweigh the costs then it's a fine choice. I don't see how an asynchronous approach where the receiver returns a token to the sender is a poor approach or falls down - it's fairly common in many messaging systems, not just Web style systems. Using a Web Style means to create a common way to do asynchronous interactions, likely using hyperlinks (that's the "get an id back" part) or registering a callback (again, a form of hyperlinking). The Atom publishing protocol is doing just this - defining how document exchange can become asynchronous when building on top of synchronous request/reply messages.

See I don?t agree with you on sync vs. async ? I still see complexity mounting when you have a lot of sync services. I?m ok with the callback - handing the service you post the request to a URL to post back to you with the results. I don?t like the post to service, get an id, and then post back to the same service at an interval to get the response approach. We have a feature that was implemented like this and it is a pain. The polling thread wakes up every hour to check for results. It has a fair amount of complexity and wastes a lot of CPU (not that I?m really counting). But I?m cool with the callback approach so it?s a non issue next time.
 
&gt; For "Async 1:1", you can do that with Web Style like Request/Reply. You do have to contend with error cases, however. 
&gt; And "out of the box" you don't get guaranteed delivery. You can't send the message persistently so that you know that the send being ack'd means something.
Most messaging systems I've worked with that provide reliable or guaranteed delivery have APIs that look suspiciously like "post", and the API is a blocking call - quick, but still blocking. 
 
&gt; How would you do "Async 1:M"? This is classic pub/sub. A client sends 1 message and N subscribers listen to the message. 
&gt; The client has no idea who is listening. I don't know of any way to do this w/o writing a ton of code.
I have a feeling you are talking about how to do this with HTTP, rather than how to make pubsub more RESTful.
You could just acquire a decent messaging middleware product and put an HTTP server in front in order to post messages to the topics, then define the HTTP requests for consumers to retrieve messages - the trick is to define how the consuming applications maintain state as to which messages have been processed.
Here is a sample app I wrote a while back that does what you are talking about : http://www.searchalert.net:8080/dierken/events/chat.html?topic=rest-discuss
The underlying system holds messages here: http://www.searchalert.net:8080/xmlrouter/msgs/rest-discuss
This is a working example of using HTTP to send 1 message and having N subscribers listen to the message. The publisher does not know what applications will consume the messages. In addition, this particular example also shows two approaches to notification - polling for messages via following the 'next' link, and persistent connections for low latency delivery to subscribers (when the 'next' link falls off the end of the chain, the server holds onto the request and doesn't send a response until there are messages ready). There is a client implemented via javascript within the HTML page, but any programming language that can talk HTTP and parse XML will do. This was written in just a few hours, but gives you the idea of what is possible.
 
&gt;  How about "Async 1:M Request/Reply"? This is when you send one message and get N responses. This is pub/sub request reply.
Are you sure you didn't mean N+1 responses?
 
&gt;  Last one on my list is "Async M:1". This is 1 service listening to N destinations / Topics for events.
This is the flip side of 1-N pubsub. The service either is pro-actively notified (via a post in some language or protocol) or polls. A middle-ware service would allow this service to register 'routes' between topics so that the service only need to subscribe to one 'journal' topic. There have been a few companies and open-source projects in the past that did this with pure HTTP. 



 
On Tuesday, April 18, 2006, at 10:19PM, Mike Dierken &lt;mdierken@...&gt; wrote:

&gt;
&gt;&lt;&lt;Original Attached&gt;&gt;
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6078<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-04-21 01:24:18<br>
Subject:Re: [rest-discuss] Cacheability example<br>
Message:<br><br>
<pre>Hi Bob,

On Apr 20, 2006, at 6:15 PM, Bob Haugen wrote:

&gt; On 4/20/06, Lyle Kopnicky &lt;lyle@...&gt; wrote:
&gt;&gt; One could argue that a cart /is/ a session.  In fact, for a shopping
&gt;&gt; application, that's pretty much what I consider the session to  
&gt;&gt; consist
&gt;&gt; of.  Therefore, the reference to the back end cart is a session key.
&gt;
&gt; Not necessarily.  The equivalent of a cart for a travel broker is an
&gt; itinerary or trip.  I can set one up but not book it, come back later
&gt; (another "session") and book it, come back still later (yet another
&gt; session) and add a hotel etc.
&gt;
&gt; I don't know that anybody does it this way, but the same could happen
&gt; to a shopping cart.  Pick some items, come back later and pick some
&gt; more, come back still later and check out.
&gt;
Amazon I know does it this way. When I went to look yesterday at how  
they do their shopping cart, mine had something I apparently put into  
it in January still sitting there, waiting to be purchased.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6079<br>
Sender:Mike Herrick &lt;mherrick66@...&gt;<br>
Post Date/Time:2006-04-21 01:30:25<br>
Subject:Re: [rest-discuss] REST &amp; Internal Integration<br>
Message:<br><br>
<pre>Oops, I left off most of my response with that last email ... ignore  
it. Use this instead.

&gt; ##########
&gt; I appreciate your response Mike. Yes, many of the integration
&gt; types I mentioned are done using JMS today. I responded to
&gt; some of your comments below. Thanks again.
&gt;
&gt; Mike
&gt; ##########


On Apr 18, 2006, at 10:20 PM, Mike Dierken wrote:

&gt; I think all of those could be designed to have uniform interfaces  
&gt; and resource identifiers and exchange representations of state. You  
&gt; could build it yourself, and the limits of your integration would  
&gt; be as far as you care to push them. Or you could use existing  
&gt; technology - possibly placing extra constraints to achieve the  
&gt; uniform interface, resource identifiers, etc. - and maybe do it  
&gt; cheaper with broader acceptance. The existing technologies could be  
&gt; HTTP (for most of those), or something like JMS or a vendor  
&gt; specific message publishing/queueing system.
&gt;
&gt;  &gt; For example looking up existing customer information. It  
&gt; definitely wouldn't be my first choice, however, for something  
&gt; transactional like creating an order.
&gt; &gt; Not saying I'd never do it, just wouldn't be my first choice.
&gt; Using HTTP for requests that must be transactional doesn't seem to  
&gt; be a problem in my view. I'm pretty sure there are several online  
&gt; retailers that use HTTP to create and manage orders. It's even  
&gt; theoretically possible they use HTTP within their firewall as well  
&gt; - but you can never know what's going on in there...
&gt; What is it about HTTP based request/response doesn't fit with  
&gt; 'transactional' from your point of view?
&gt;
&gt; &gt; My problem with using Web Style at all for heavy integration is  
&gt; the coupling and complexity that starts to add up
&gt; &gt; when you have a lot of services all doing Request/Reply. Each  
&gt; client has to handle errors and retry logic.
&gt; When you have a network, each client has to handle errors and retry  
&gt; logic. Really. The nifty part about REST is that with a uniform  
&gt; interface and a message oriented protocol, once you have it figure  
&gt; out, that software is re-usable across different services - whether  
&gt; it's creating an order, updating inventory, changing prices or  
&gt; getting a list of things in a shopping cart.


&gt; ##########
&gt; Yeah, you are correct on the network - that argument sold me
&gt; on REST vs. WS-*. Here is where I am coming from . I spend
&gt; most of my time working on a system that has approximately 50
&gt; services. The services are pretty stupid, all they know is
&gt; they get an event XML input. They typically respond with an
&gt; XML event. They listen on a set of JMS Topics or a Topic
&gt; pattern (e.g., COMPANYNAME.LINEOFBUSINESS.NOUN.*).
&gt; They also typically respond to set of Topics. What I like
&gt; about JMS in the system is the guaranteed delivery &amp; durable
&gt; subscriptions. The service impls don't care about the network
&gt; because they know that JMS is there. When they send a message
&gt; it is persisted before the thread returns. It is nice not to
&gt; have to do this by hand (i.e., ferret it away in a database
&gt; in the receiving service before return from the PUT/POST).
&gt; Also, durable subscriptions are great - if a service goes
&gt; down or its threads hang, the events it is interested in are
&gt; saved to the durable subscription. My point is that for me
&gt; (at least with my current point of view) with this many
&gt; services, doing this w/o something like JMS would be hard. I
&gt; would really like to see an HTTP based pub/sub like this. I
&gt; don't know enough about REST to know if it would be evil to
&gt; do. I babbled about that a bit more here:
&gt; http://fuzzypanic.blogspot.com/2006/03/httppox-xml-based-eda-p
&gt; ub-sub.html
&gt; Let me know if you know of anything.
&gt; ##########


&gt;
&gt;
&gt; &gt;  Once you get to anything async, however, Web Style quickly falls  
&gt; down for me. Lets start with "Async Request/Reply".
&gt; &gt; [...]
&gt; &gt; If you are writing one service, it is no big deal - its when  
&gt; there are more then a few where you get a cumulative amount of  
&gt; complexity that
&gt; &gt; starts to get your attention.
&gt; Complexity doesn't accumulate when you have a uniform interface.  
&gt; Any asynchronous system has more complex interactions than  
&gt; synchronous, but if the benefits outweigh the costs then it's a  
&gt; fine choice. I don't see how an asynchronous approach where the  
&gt; receiver returns a token to the sender is a poor approach or falls  
&gt; down - it's fairly common in many messaging systems, not just Web  
&gt; style systems. Using a Web Style means to create a common way to do  
&gt; asynchronous interactions, likely using hyperlinks (that's the "get  
&gt; an id back" part) or registering a callback (again, a form of  
&gt; hyperlinking). The Atom publishing protocol is doing just this -  
&gt; defining how document exchange can become asynchronous when  
&gt; building on top of synchronous request/reply messages.


&gt; ##########
&gt; See I don't agree with you on sync vs. async - I still see
&gt; complexity mounting when you have a lot of sync services.
&gt;
&gt; I'm ok with the callback - handing the service you post the
&gt; request to a URL to post back to you with the results. I
&gt; don't like the post to service, get an id, and then post back
&gt; to the same service at an interval to get the response
&gt; approach. We have a feature that was implemented like this
&gt; and it is a pain. The polling thread wakes up every hour to
&gt; check for results. It has a fair amount of complexity and
&gt; wastes a lot of CPU (not that I'm really counting). But I'm
&gt; cool with the callback approach so it's a non issue next time.
&gt; ##########


&gt;
&gt; &gt; For "Async 1:1", you can do that with Web Style like Request/ 
&gt; Reply. You do have to contend with error cases, however.
&gt; &gt; And "out of the box" you don't get guaranteed delivery. You can't  
&gt; send the message persistently so that you know that the send being  
&gt; ack'd means something.
&gt; Most messaging systems I've worked with that provide reliable or  
&gt; guaranteed delivery have APIs that look suspiciously like "post",  
&gt; and the API is a blocking call - quick, but still blocking.


&gt; ##########
&gt; Sure, but that block means something typically - it means the
&gt; message was persisted so the client doesn't have to ferret it
&gt; away just in case something bad happens later. With Web
&gt; Style, you can do that too - my point is you have to do that
&gt; yourself (client ferret away the data that was PUT/POST).
&gt; ##########



&gt;
&gt; &gt; How would you do "Async 1:M"? This is classic pub/sub. A client  
&gt; sends 1 message and N subscribers listen to the message.
&gt; &gt; The client has no idea who is listening. I don't know of any way  
&gt; to do this w/o writing a ton of code.
&gt; I have a feeling you are talking about how to do this with HTTP,  
&gt; rather than how to make pubsub more RESTful.
&gt; You could just acquire a decent messaging middleware product and  
&gt; put an HTTP server in front in order to post messages to the  
&gt; topics, then define the HTTP requests for consumers to retrieve  
&gt; messages - the trick is to define how the consuming applications  
&gt; maintain state as to which messages have been processed.
&gt; Here is a sample app I wrote a while back that does what you are  
&gt; talking about : http://www.searchalert.net:8080/dierken/events/ 
&gt; chat.html?topic=rest-discuss
&gt; The underlying system holds messages here: http:// 
&gt; www.searchalert.net:8080/xmlrouter/msgs/rest-discuss


&gt; ##########
&gt; Nope, I mean make pub/sub more RESTful. Like I said, I don't
&gt; know enough about REST principals to know if this is evil or
&gt; not. I have a decent messaging middleware product today. I'm
&gt; happy with it - I just want to know if its overkill or not or
&gt; if there is a simpler way. If some of my integration types
&gt; are best handled via JMS, fine with me. I just want to ask
&gt; the "stupid question" - to make sure I'm not thinking JMS is
&gt; better then it is.
&gt; ##########



&gt; This is a working example of using HTTP to send 1 message and  
&gt; having N subscribers listen to the message. The publisher does not  
&gt; know what applications will consume the messages. In addition, this  
&gt; particular example also shows two approaches to notification -  
&gt; polling for messages via following the 'next' link, and persistent  
&gt; connections for low latency delivery to subscribers (when the  
&gt; 'next' link falls off the end of the chain, the server holds onto  
&gt; the request and doesn't send a response until there are messages  
&gt; ready). There is a client implemented via javascript within the  
&gt; HTML page, but any programming language that can talk HTTP and  
&gt; parse XML will do. This was written in just a few hours, but gives  
&gt; you the idea of what is possible.


&gt; ##########
&gt; So what is on the server - is there messaging behind it?
&gt; ##########



&gt;
&gt; &gt;  How about "Async 1:M Request/Reply"? This is when you send one  
&gt; message and get N responses. This is pub/sub request reply.
&gt; Are you sure you didn't mean N+1 responses?


&gt; ##########
&gt; I'm talking about a client sending 1 request, having N
&gt; services subscribe and send a response to the client.
&gt; ##########


&gt;
&gt; &gt;  Last one on my list is "Async M:1". This is 1 service listening  
&gt; to N destinations / Topics for events.
&gt; This is the flip side of 1-N pubsub. The service either is pro- 
&gt; actively notified (via a post in some language or protocol) or  
&gt; polls. A middle-ware service would allow this service to register  
&gt; 'routes' between topics so that the service only need to subscribe  
&gt; to one 'journal' topic. There have been a few companies and open- 
&gt; source projects in the past that did this with pure HTTP.


&gt; ##########
&gt; Great - do you know their names? I saw mod_pubsub, but looks
&gt; dried up / private. I also heard recently about
&gt; http://www.1060research.com/netkernel/ No idea on that yet either.
&gt; ##########
&gt;
&gt; ##########
&gt; Again, thanks a lot for your response Mike.
&gt; ##########


&gt;
&gt;
&gt;
&gt; From: rest-discuss@yahoogroups.com [mailto:rest- 
&gt; discuss@yahoogroups.com] On Behalf Of mherrick66@...
&gt; Sent: Monday, April 17, 2006 11:14 PM
&gt; To: rest-discuss@yahoogroups.com
&gt; Subject: [rest-discuss] REST &amp; Internal Integration
&gt;
&gt; Hi,
&gt;
&gt; I am not a REST expert, but definitely prefer it to SOAP &amp; WS-*.
&gt;
&gt; I am participating in some future state architecture planning and  
&gt; am trying to see where REST fits. I'm trying to challenge some of  
&gt; my assumptions so I am sending this email to this list. While I  
&gt; certainly prefer REST to WS-*, I still don't think its the best  
&gt; choice for internal integration within a company.
&gt;
&gt; As part of this architecture planning we have identified some  
&gt; integration categories that are common to us:
&gt; Sync Request/Reply
&gt; Async Request/Reply
&gt; Async 1:1
&gt; Async 1:M
&gt; Async 1:M Request/Reply
&gt; Async M:1
&gt; Batch Feed
&gt; I wrote a bit more on these and which ones I think can/should be  
&gt; done via REST and which ones shouldn't:
&gt; http://fuzzypanic.blogspot.com/2006/04/just-how-much-rest-web-style- 
&gt; are-we.html
&gt;
&gt; Please let me know what you think.
&gt;
&gt; Thanks for your help,
&gt;
&gt; Mike Herrick
&gt; Portland, OR
&gt;
&gt;
&gt; SPONSORED LINKS
&gt; Protocol analyzer	Ssl protocol	Protocol converter
&gt; Sip protocol	Protocol analysis	Protocol
&gt;
&gt; YAHOO! GROUPS LINKS
&gt;
&gt;  Visit your group "rest-discuss" on the web.
&gt;
&gt;  To unsubscribe from this group, send an email to:
&gt;  rest-discuss-unsubscribe@yahoogroups.com
&gt;
&gt;  Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6080<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-21 01:39:38<br>
Subject:Re: [rest-discuss] Cacheability example<br>
Message:<br><br>
<pre>Bill Venners &lt;bv-svp@...&gt; writes:

&gt; Hi Bob,
&gt;
&gt; On Apr 20, 2006, at 6:15 PM, Bob Haugen wrote:
&gt;
&gt;&gt; On 4/20/06, Lyle Kopnicky &lt;lyle@...&gt; wrote:
&gt;&gt;&gt; One could argue that a cart /is/ a session.  In fact, for a shopping
&gt;&gt;&gt; application, that's pretty much what I consider the session to  
&gt;&gt;&gt; consist
&gt;&gt;&gt; of.  Therefore, the reference to the back end cart is a session key.
&gt;&gt;
&gt;&gt; Not necessarily.  The equivalent of a cart for a travel broker is an
&gt;&gt; itinerary or trip.  I can set one up but not book it, come back later
&gt;&gt; (another "session") and book it, come back still later (yet another
&gt;&gt; session) and add a hotel etc.
&gt;&gt;
&gt;&gt; I don't know that anybody does it this way, but the same could happen
&gt;&gt; to a shopping cart.  Pick some items, come back later and pick some
&gt;&gt; more, come back still later and check out.
&gt;&gt;
&gt; Amazon I know does it this way. When I went to look yesterday at how  
&gt; they do their shopping cart, mine had something I apparently put into  
&gt; it in January still sitting there, waiting to be purchased.

It could still be a "session". Sessions can be persisted to a
store. PHP has specific support for handling sessions this way.

It's another pattern for mitigating some of the problems with sessions
though note that it still doesn't solve the problem of caching.

And as I said (in this thread? it's all so confusing!) pushing the
session into a store is really only moving the problem. You then have
to scale your db backend.

Admittedly, dbs can scale a bit better than app servers... but there
are still limits that simple resource management doesn't have.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6081<br>
Sender:"Jeoff Wilks" &lt;jeoffwilks@...&gt;<br>
Post Date/Time:2006-04-21 02:14:31<br>
Subject:Re: [rest-discuss] Cacheability example<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6082<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2006-04-21 02:14:40<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>
----- Original Message ----- 
From: "John Elliot" &lt;jj5@...&gt;
To: "REST Discuss" &lt;rest-discuss@yahoogroups.com&gt;
Sent: Thursday, April 20, 2006 1:15 AM
Subject: Re: [rest-discuss] Re: Meaning of stateless


: Hi Bill,
: 
: Bill Venners wrote:
: &gt; I'm only talking about conversational state, not persistent state.  
: 
: Thanks for drawing out the distinction. The thing is, if you start to 
: think about what 'conversational state' actually is, it starts to seem 
: like it doesn't really exist. I can't think of an example of what 
: 'conversational state' would be.

John,

If you change

Subject Verb Object

to

Subject Verb Pronoun

then you have introduced a dependency on conversational state,
because the meaning isn't complete until an antecedent can be
found.

A.  Can such a thing happen when using URI and HTTP?
B.  If so, when is it bad design?  (And when is it not?)

Walden



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6083<br>
Sender:"inter2000_2000" &lt;inter2000_2000@...&gt;<br>
Post Date/Time:2006-04-21 08:28:42<br>
Subject:Sorry i ask beginning question<br>
Message:<br><br>
<pre>Hello

I try to start develop API by REST.
I use PHP, Mysql, Apache.

I think logical URI is by .htaccess file in Apache.
But i don't have how can mapping URI and source that is usually 
Database.


Thanks a lot.
ps. please give me a small clue~~








</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6084<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2006-04-21 09:56:13<br>
Subject:Re: [rest-discuss] HTTP status codes<br>
Message:<br><br>
<pre>Andy Driver wrote:
&gt; Hi,
&gt; 
&gt; I'm designing a RESTful API and I have a situation where the server
&gt; can sometimes require some disambiguation of terms, and returns a list
&gt; of alternative URLs to choose from.
&gt; 
&gt; Eg: the resource is a "shopping-list", and I POST a "tin-of-beans"
&gt; document to it, but the server returns a list of alternative URLs;
&gt; "/shopping-list/tin-of-baked-beans",
&gt; "/shopping-list/tin-of-kidney-beans",
&gt; etc
&gt; 
&gt; My question is, which HTTP status code best represents this "query
&gt; accepted, but disambiguation required" situation?
&gt; 
&gt; I thought about "HTTP/1.1 300 Multiple Choices", as it seems the
&gt; obvious choice at first glance, but the HTTP RFC talks about content
&gt; negotiation, which isn't what I'm trying to do.

Why do you want disambiguation here? You've POSTed a tin-of-beans 
reasource to a shopping-list resource, which resulted in the 
shopping-list resource being altered.

You should return a 200 with a representation of the shopping-list 
resource. The shopping-list's representation should most likely contain 
the list of URIs of the resources contained in some sort of hypertext 
format (hence the items should be linked to with HTML href attributes, 
RDF rdf:resource attributes or similar) in a document format which 
explains the purpose for the links at an appropriate level (e.g. 
human-readable if HTML, defined relationships between list and item if RDF).

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6085<br>
Sender:"Sandeep Shetty" &lt;sandeep.shetty@...&gt;<br>
Post Date/Time:2006-04-21 11:13:34<br>
Subject:Re: [rest-discuss] Sorry i ask beginning question<br>
Message:<br><br>
<pre>Hey,

On 4/21/06, inter2000_2000 &lt;inter2000_2000@...&gt; wrote:
&gt; I think logical URI is by .htaccess file in Apache.
&gt; But i don't have how can mapping URI and source that is usually
&gt; Database.
&gt;
&gt; ps. please give me a small clue~~

You could put something like this into your .htaccess file:
&lt;IfModule mod_rewrite.c&gt;
  RewriteEngine On
  RewriteBase /
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
#######################################################################
# Change /index.php below to the location of your index.php
# file relative to your webservers DocumentRoot.
#######################################################################
  RewriteRule  ^(.*)$  /index.php
&lt;/IfModule&gt;

This will send all requests to index.php. Inside index.php you can
figure out what is being requested for by examining
$_SERVER['REQUEST_URI'].


Sandeep Shetty
http://sandeep.shetty.in/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6086<br>
Sender:Andy Driver &lt;andrewhdriver@...&gt;<br>
Post Date/Time:2006-04-21 16:51:17<br>
Subject:Re: [rest-discuss] HTTP status codes<br>
Message:<br><br>
<pre>"Nic" &lt;nferrier@...&gt; writes:
&gt;&gt; My question is, which HTTP status code best represents this "query
&gt;&gt; accepted, but disambiguation required" situation?
&gt;&gt;
&gt;&gt; I thought about "HTTP/1.1 300 Multiple Choices", as it seems the
&gt;&gt; obvious choice at first glance, but the HTTP RFC talks about content
&gt;&gt; negotiation, which isn't what I'm trying to do.

&gt; I think I'd just return 200 with a particular XML namespaced document
&gt; with the disambiguation in it.

&gt; After all, the disambiguation is a resource.

Of course, you are right - I hadn't thought of it that way.

Thanks,

Andy




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6087<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-21 17:13:02<br>
Subject:Re: [rest-discuss] Cacheability example<br>
Message:<br><br>
<pre>Bob Haugen wrote:
&gt; On 4/20/06, Lyle Kopnicky &lt;lyle@...&gt; wrote:
&gt;   
&gt;&gt; One could argue that a cart /is/ a session.  In fact, for a shopping
&gt;&gt; application, that's pretty much what I consider the session to consist
&gt;&gt; of.  Therefore, the reference to the back end cart is a session key.
&gt;&gt;     
&gt;
&gt; Not necessarily.  The equivalent of a cart for a travel broker is an
&gt; itinerary or trip.  I can set one up but not book it, come back later
&gt; (another "session") and book it, come back still later (yet another
&gt; session) and add a hotel etc.
&gt;   
To me, it's the same session - you're just returning to it.  It there 
something about a session that says there has to be a time limit?

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6088<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-21 17:18:29<br>
Subject:Re: [rest-discuss] Cacheability example<br>
Message:<br><br>
<pre>Nic wrote:
&gt; Lyle Kopnicky &lt;lyle@...&gt; writes:
&gt;
&gt;   
&gt;&gt;&gt; Note that the cookie would NOT store any reference to a session. It
&gt;&gt;&gt; simply stores a way to reference the back end cart which can be
&gt;&gt;&gt; accessed with the HTTP verbs.
&gt;&gt;&gt;   
&gt;&gt;&gt;       
&gt;&gt; One could argue that a cart /is/ a session.  In fact, for a shopping 
&gt;&gt; application, that's pretty much what I consider the session to consist 
&gt;&gt; of.  Therefore, the reference to the back end cart is a session key.
&gt;&gt;     
&gt;
&gt; One could only argue that by changing the semantics of the words.
&gt;
&gt; The cart is not a session it's a resource storing state. Otherwise
&gt; every thing that stores state is a session.
&gt;   
Why can't a session be a resource storing state?
&gt; A session is an object (normally) subsidiary to authentication details
&gt; that exists orthogonal to resources in a webapp.
&gt;   
Oh, so by your definition of 'session', it can't be a resource.  I think 
we have different definitions of the word.  You're talking about 
something technical, but I'm talking about the subjective experience of 
the user.

To me, a session is an object (normally) subsidiary to authentication 
details, that /is/ a resource.  It's an interaction (or conversation, if 
you will) of indefinite length with the server, more than one of which 
may occur simultaneously, even for the same user.

For example, if I'm playing chess online, each game is a session.  I 
might make a move today, and come back tomorrow, and make another move.  
Same session.  I can simultaneously be playing another game with someone 
else in another browser window, and that's another session.

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6089<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2006-04-21 17:39:29<br>
Subject:Re: [rest-discuss] Cacheability example<br>
Message:<br><br>
<pre>On 4/21/06, Lyle Kopnicky &lt;lyle@...&gt; wrote:
&gt; Bob Haugen wrote:
&gt; &gt; On 4/20/06, Lyle Kopnicky &lt;lyle@...&gt; wrote:
&gt; &gt;
&gt; &gt;&gt; One could argue that a cart /is/ a session.  In fact, for a shopping
&gt; &gt;&gt; application, that's pretty much what I consider the session to consist
&gt; &gt;&gt; of.  Therefore, the reference to the back end cart is a session key.
&gt; &gt;&gt;
&gt; &gt;
&gt; &gt; Not necessarily.  The equivalent of a cart for a travel broker is an
&gt; &gt; itinerary or trip.  I can set one up but not book it, come back later
&gt; &gt; (another "session") and book it, come back still later (yet another
&gt; &gt; session) and add a hotel etc.
&gt; &gt;
&gt; To me, it's the same session - you're just returning to it.  It there
&gt; something about a session that says there has to be a time limit?

We do have different definitions of session.

I've been in travel sites that keep track of sessions separately from
trips.  By session, they mean a particularly user logged in and
they'll keep track of me and my activities while I'm there.  And they
will time that session out and require another login if I go away for
too long.

That's also what several Web app development environments call sessions.
Tracking them is what causes scalability problems, and fosters
complicated solutions to those problems, ad infinitum.

I like  trip, shopping cart and game as resources to which I can
return another day.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6090<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-21 17:55:10<br>
Subject:Verbs<br>
Message:<br><br>
<pre>Hi folks,

My understanding of REST, as it applies to HTTP, is that there are four 
verbs that can be applied to a resource: GET, POST, PUT, and DELETE.  (I 
don't see any mention of this in Fielding's thesis, though.)

They work as follows:

    * GET retrieves a representation of a resource
    * POST adds to a resource
    * PUT replaces a resource
    * DELETE removes a resource

If your resources are single items, or lists, this seems to work pretty 
well.  Maybe even if they are hash tables.  But I'm not clear, if they 
are more complex data structures, how well these verbs would map.  
There's no obvious way to do a search, for example.  If a book is at 
/books/2893, I can delete that book, or replace it, but how do I search 
for a book with "REST" in the title?  Maybe GET 
/book-search?title-contains=REST, but then, what's the resource?  The 
book search?  What happens if I do PUT /book-search "blah blah blah"?  
Does it change the code?

Is it possible to apply REST to any other actions, besides data 
manipulation?  Suppose my HTTP server is a robot, and I want to tell it 
to ring the doorbell.  What verb would apply?  What's the resource - the 
robot?  It's arm?  Or the doorbell?  Suppose I want to tell it to wait 
until the toast pops up, then put it on a plate.  What's the verb for 
that?  All these sorts of things are easy to cover with RPC, or OO-type 
predicates, where you can make up verbs at will.  Is REST just not 
suited to these sorts of situations?

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6091<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-21 18:36:26<br>
Subject:Re: [rest-discuss] Cacheability example<br>
Message:<br><br>
<pre>Lyle Kopnicky &lt;lyle@...&gt; writes:

&gt; Why can't a session be a resource storing state?

&gt;&gt; A session is an object (normally) subsidiary to authentication details
&gt;&gt; that exists orthogonal to resources in a webapp.
&gt;&gt;   
&gt; Oh, so by your definition of 'session', it can't be a resource.  I think 
&gt; we have different definitions of the word.  You're talking about 
&gt; something technical, but I'm talking about the subjective experience of 
&gt; the user.

Right. I'm using a term defined within the scope of webapp
architecture.



&gt; For example, if I'm playing chess online, each game is a session.  I 
&gt; might make a move today, and come back tomorrow, and make another move.  
&gt; Same session.  I can simultaneously be playing another game with someone 
&gt; else in another browser window, and that's another session.

Gotcha. That is a more general understanding of the word I think.

A webapp "session" is like that but it implies certain, non-resource,
semantics:

- there's a cookie carrying the session id
- there's a bunch of data attached to the session on the server


In your more general understanding there is no reason why resources
could not model a session. Your chess game for example, might have a
resource called:

  http://chess/games/lyle/63e7e7

which would be a particular game you were playing. The resource would
capture the state of the game, perhaps the moves that had been played
since the beginning or the current state of the board.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6092<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-21 18:46:18<br>
Subject:Re: [rest-discuss] Verbs<br>
Message:<br><br>
<pre>Lyle Kopnicky &lt;lyle@...&gt; writes:

&gt; If your resources are single items, or lists, this seems to work pretty 
&gt; well.  Maybe even if they are hash tables.  But I'm not clear, if they 
&gt; are more complex data structures, how well these verbs would map.  
&gt; There's no obvious way to do a search, for example.  If a book is at 
&gt; /books/2893, I can delete that book, or replace it, but how do I search 
&gt; for a book with "REST" in the title?  Maybe GET 
&gt; /book-search?title-contains=REST, but then, what's the resource?  The 
&gt; book search?  

If you're talking about having resources for books you might have a
supra resource that was a collection of books:

  http://lylesrestcafe/library/far_from_the_madding_crowd
  http://lylesrestcafe/library/so_long_and_thanks_for_all_the_fish

so you could have a search:

  http://lylesrestcafe/library?author=hardy

there's nothing that dictates how HTTP parameter name/values are
interpreted so "author=hardy" might mean:

- find books where the author's name is Hardy

- or find books where the author's name looks like hardy

- or find books where the author is hardy (bold or brave).



&gt; What happens if I do PUT /book-search "blah blah blah"?  
&gt; Does it change the code?

It might do. Those sort of things are application specific.


&gt; Is it possible to apply REST to any other actions, besides data 
&gt; manipulation?  Suppose my HTTP server is a robot, and I want to tell it 
&gt; to ring the doorbell.  What verb would apply?  What's the resource - the 
&gt; robot?  It's arm?  Or the doorbell?  Suppose I want to tell it to wait 
&gt; until the toast pops up, then put it on a plate.  What's the verb for 
&gt; that?  All these sorts of things are easy to cover with RPC, or OO-type 
&gt; predicates, where you can make up verbs at will.  Is REST just not 
&gt; suited to these sorts of situations?

I don't know whether REST is suited to these or not. Clearly it could
be done... it's a bit like turing completeness. Forth is turing
complete, but you wouldn't want to write a webapp in it. However, it
is very good for control situations like robotics.

I don't think anyone's saying "RPC is always wrong" because clearly it
isn't. Actually it might be just what you want in a robotic
situation. You've probably got a very heavy session based
communication protocol with a robot.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6093<br>
Sender:Claude Montpetit &lt;claude@...&gt;<br>
Post Date/Time:2006-04-21 18:59:45<br>
Subject:Re: [rest-discuss] Verbs<br>
Message:<br><br>
<pre>

Lyle Kopnicky a �crit :
&gt; [...]
&gt; Is it possible to apply REST to any other actions, besides data 
&gt; manipulation?  Suppose my HTTP server is a robot, and I want to tell it 
&gt; to ring the doorbell.  What verb would apply?  What's the resource - the 
&gt; robot?  It's arm?  Or the doorbell?  

I am working on a system with something similar. Precisely, you can ask 
the server to initiate a communication with external sensors, and, say, 
download and store the sensor state.

That would be a typical RPC call: download-sensor-state(sensor-id)

Once downloaded, you can access the latest (or prior) sensor state using 
a RESTful HTTP-GET. Use of other verbs on a sensor state resource, when 
allowed, would have the corresponding effect. For example, PUT is 
usually allowed for data that has missing parts, or corrupted data that 
must be fudged after the download.

But I ended threating the "download-sensor-state" as a resource as well, 
and manipulate it in a RESTful manner (or at least, I think it is RESTful):

  POST sensorDownloadOperation/sensorId

This creates a request to download the state of a sensor. The request is 
a resource. The URI of this new resource may be

  sensorDownloadOperation/sensorId/requestId

The following verbs on these may be supported:

  GET returns the request status: in progress, cancelled, completed, 
result code

  PUT may be used to modify the executing request: change the status to 
cancel.

  DELETE would delete old requests not required anymore.

I am not sure if this is "tir� par les cheveux" (hum... "pulled by the 
hair", a common expression in French Canadian ;), i.e. I do not know if 
this is extending REST / HTTP in an area that it should not belong to. 
But it makes issuing download requests very easy for the client...

--
Claude

Suppose I want to tell it to wait
&gt; until the toast pops up, then put it on a plate.  What's the verb for 
&gt; that?  All these sorts of things are easy to cover with RPC, or OO-type 
&gt; predicates, where you can make up verbs at will.  Is REST just not 
&gt; suited to these sorts of situations?
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6094<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-21 21:39:08<br>
Subject:Re: [rest-discuss] Verbs<br>
Message:<br><br>
<pre>Claude Montpetit wrote:
&gt; But I ended threating the "download-sensor-state" as a resource as well, 
&gt; and manipulate it in a RESTful manner (or at least, I think it is RESTful):
&gt;
&gt;   POST sensorDownloadOperation/sensorId
&gt;
&gt; This creates a request to download the state of a sensor. The request is 
&gt; a resource. The URI of this new resource may be
&gt;
&gt;   sensorDownloadOperation/sensorId/requestId
&gt;
&gt; The following verbs on these may be supported:
&gt;
&gt;   GET returns the request status: in progress, cancelled, completed, 
&gt; result code
&gt;
&gt;   PUT may be used to modify the executing request: change the status to 
&gt; cancel.
&gt;
&gt;   DELETE would delete old requests not required anymore.
&gt;
&gt; I am not sure if this is "tir� par les cheveux" (hum... "pulled by the 
&gt; hair", a common expression in French Canadian ;), i.e. I do not know if 
&gt; this is extending REST / HTTP in an area that it should not belong to. 
&gt; But it makes issuing download requests very easy for the client...
&gt;   
That's a neat application, and it definitely sounds RESTful.  However I 
should point out that you're treating the "sensor download operation" as 
data, rather than a verb. You're using the Command pattern, in GoF 
speak.  This is a valid design choice and is entirely appropriate, when 
the message is something you need to "monitor the status of".  You don't 
"monitor the status" of a GET request by GETting another resource.  What 
you're doing is not unlike SOAP - where an HTTP POST is used to package 
up another message.  It's like you're using REST when you can, but not 
using it where it doesn't fit.

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6095<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-21 21:58:06<br>
Subject:Re: [rest-discuss] Verbs<br>
Message:<br><br>
<pre>Lyle Kopnicky &lt;lyle@...&gt; writes:

&gt; Claude Montpetit wrote:
&gt;&gt; But I ended threating the "download-sensor-state" as a resource as well, 
&gt;&gt; and manipulate it in a RESTful manner (or at least, I think it is RESTful):
&gt;&gt;
&gt;&gt;   POST sensorDownloadOperation/sensorId
&gt;&gt;
&gt;&gt; This creates a request to download the state of a sensor. The request is 
&gt;&gt; a resource. The URI of this new resource may be
&gt;&gt;
&gt;&gt;   sensorDownloadOperation/sensorId/requestId
&gt;&gt;
&gt;&gt; The following verbs on these may be supported:
&gt;&gt;
&gt;&gt;   GET returns the request status: in progress, cancelled, completed, 
&gt;&gt; result code
&gt;&gt;
&gt;&gt;   PUT may be used to modify the executing request: change the status to 
&gt;&gt; cancel.
&gt;&gt;
&gt;&gt;   DELETE would delete old requests not required anymore.
&gt;&gt;
&gt;&gt; I am not sure if this is "tir.é par les cheveux" (hum... "pulled by the 
&gt;&gt; hair", a common expression in French Canadian ;), i.e. I do not know if 
&gt;&gt; this is extending REST / HTTP in an area that it should not belong to. 
&gt;&gt; But it makes issuing download requests very easy for the client...
&gt;&gt;   
&gt; That's a neat application, and it definitely sounds RESTful.  However I 
&gt; should point out that you're treating the "sensor download operation" as 
&gt; data, rather than a verb. 

But that's correct in REST terms. The only verbs are the HTTP verbs.


&gt; You're using the Command pattern, in GoF 
&gt; speak.  This is a valid design choice and is entirely appropriate, when 
&gt; the message is something you need to "monitor the status of".  You don't 
&gt; "monitor the status" of a GET request by GETting another resource.  What 
&gt; you're doing is not unlike SOAP - where an HTTP POST is used to package 
&gt; up another message.  It's like you're using REST when you can, but not 
&gt; using it where it doesn't fit.

I don't understand you.

Claude's system looks exactly like a RESTful transaction API:

   POST /someplace
   =&gt; /someplace/resourcexx

   GET /someplace/resourcexx
   =&gt; state of resourcexx

   PUT /someplace/resourcexx
   =&gt; altered state of resourcexx


Why is it not RESTful?


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6096<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-04-21 22:03:40<br>
Subject:Re: [rest-discuss] Verbs<br>
Message:<br><br>
<pre>Lyle Kopnicky wrote:

&gt; They work as follows:
&gt; 
&gt;     * GET retrieves a representation of a resource
&gt;     * POST adds to a resource
&gt;     * PUT replaces a resource
&gt;     * DELETE removes a resource
&gt;

That's accurate but they're a couple of additions:

      * POST adds to a resource or creates a new resource at a server 
supplied URL
      * PUT replaces a resource or creates a new resource at a client 
supplied URL



-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6097<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-04-21 22:09:16<br>
Subject:Re: [rest-discuss] Verbs<br>
Message:<br><br>
<pre>Lyle Kopnicky wrote:

&gt; If your resources are single items, or lists, this seems to work pretty 
&gt; well.  Maybe even if they are hash tables.  But I'm not clear, if they 
&gt; are more complex data structures, how well these verbs would map.  
&gt; There's no obvious way to do a search, for example.  If a book is at 
&gt; /books/2893, I can delete that book, or replace it, but how do I search 
&gt; for a book with "REST" in the title?  Maybe GET 
&gt; /book-search?title-contains=REST, but then, what's the resource? 


The search results

&gt; The 
&gt; book search?  What happens if I do PUT /book-search "blah blah blah"?  
&gt; Does it change the code?

Possibly. Or the server could refuse the request and respond with a 400 
level code.


&gt; Is it possible to apply REST to any other actions, besides data 
&gt; manipulation?  Suppose my HTTP server is a robot, and I want to tell it 
&gt; to ring the doorbell.  What verb would apply?  

POST, though I question whether this really falls within the HTTP model, 
which focuses more on what representations the server returns than on 
any side effect on the server. If by "ring the bell" you mean return a 
representation of the bell as an MP3, then it would be GET.

&gt; What's the resource - the 
&gt; robot?  It's arm?  Or the doorbell? 

The resource is what the URI identifies. Resources are known only be 
their representations. Don't worry about what's really happening. It's 
like the Coipenhagen interpretation of quantum mechanics. Don't ask 
what's really going on inside the atom. that way lies madness. You tell 
me what URL you POST to. I'll tell you what representations you get 
back. What the resource really *is* simply doesn't matter all that much.

&gt; Suppose I want to tell it to wait 
&gt; until the toast pops up, then put it on a plate.  What's the verb for 
&gt; that? 

What's "it"? What do you mean by "wait"? But regardless of the answer to 
that question, this is likely POST.

&gt; All these sorts of things are easy to cover with RPC, or OO-type 
&gt; predicates, where you can make up verbs at will.  Is REST just not 
&gt; suited to these sorts of situations? 

Perhaps the toast one. The "wait" is especially problematic. It can 
easily handle the others.

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6098<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2006-04-21 22:19:56<br>
Subject:Re: [rest-discuss] Verbs<br>
Message:<br><br>
<pre>On Fri, 2006-04-21 at 10:55 -0700, Lyle Kopnicky wrote:
&gt; that?  All these sorts of things are easy to cover with RPC, or
&gt; OO-type 
&gt; predicates, where you can make up verbs at will.  Is REST just not 
&gt; suited to these sorts of situations? 

Sufficiently suited, but maybe not optimal.


The domain of the the HTTP verbs is hypermedia resources, not robots.
There may be a different set of verbs that can more specifically apply
to robot-resources, and you could have a RESTful robot-control
protocol...

GET [rcp://robot01]/brain/short-term-memory/summary
MOVE [rcp://...]/arm  from_here  to_here
LISTEN /sensor/ears  pattern_to_listen_for  thing_to_happen_when_heard
ADD_GOAL [...] kill all_humans

[For a more tractable example, maybe look to WebDAV, but include the 
criticisms of what did and didn't need to be novel operations there.]


There is value in the combination of
generic-operations-on-generic-resources with the
orthogonal-to-many-problem-domains combination of media types
({ht,x}ml,image/*,...).  Specifically, in the value of the client
software.  I think that's an under-stated point of REST; we sum it up,
in part, as "hypermedia as the engine of application state", but even
that's short-shrift.  Part of the reason that we can give examples like
"searching the entire web" and "buying an airline ticket" side-by-side
is that HTML (and HTTP) says nothing in particular about these domains.
It's not the 'airline selection and seating markup language' (ASS-ML),
it's HTML.  It's not inktomi search specification (ISS), altavista
search format (ASF) and google search forms language (GSFL), it's simply
layered on top of HTML forms.

So, if you do make another less-generic protocol -- in either operations
+resources and/or media-types -- you both win and lose.  You win some
efficiency on the operations and representations, and lose on wide
applicability and the cost of both special-purpose clients and
infrastructure.  These costs can be quite high, sometimes --- how long
did it take to get first-order RSS support in ffox and IE?  Does lynx
know about Atom or WebDAV?


Let's re-cast the RCP examples above in HTTP...

GET [http://robot01]/brain/short-term-memory/summary
POST [...]/arm operation=move&amp;from=here&amp;to=there
POST /sensors/ears listen_to=pattern&amp;then_occurs=...
POST /goal &lt;kill target="/humans?q=*" /&gt;

There's not much different in the overall nature of the protocol, though
here the individual operations are already known to the generic client.
The semantics must be moved from the operations to the data.  Either:

- the client application understands the media type in particular: "if I
see a &lt;sensor class='ear'&gt; in application/x-robot, then I know it is
allowable to POST a listen-to-pattern ..."

- the semantics are expressed using an existing shared generic media
type (e.g, "all I know is that I can POST something that has a first
part named operation, with a particular value of "listen-to-pattern",
and a second part named "foo" with allowable values from the set of
optinos ...").  Here, the client app itself relies on *its* user to
figure out what's really going on; the client is more of a user-agent.


This latter one is what we think when we think of the wonder of the web,
but the former is what people want from machine/machine applications.
Recognizing the distiction will lead to more specific clients that still
get some of the useful properties of web services but are reasonable to
work with. :)  E.g., you can still hard-code your app to know about a
particular "Mumblr 2.0" API, but... if you GET the form-description
before you blindly POST the data, you might just find out that the
server wants you to POST somewhere else today, or there's a
version/form-schema change, or the same form element has changed, or 503
(service unavailable, try again in 30 minutes), or.... [Note that most
of those are valid responses to a "blind" POST, as well.]

-- 
...jsled
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6099<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-21 22:22:09<br>
Subject:Re: [rest-discuss] Verbs<br>
Message:<br><br>
<pre>Nic wrote:
&gt; Lyle Kopnicky &lt;lyle@...&gt; writes:
&gt;   
&gt;&gt; You're using the Command pattern, in GoF 
&gt;&gt; speak.  This is a valid design choice and is entirely appropriate, when 
&gt;&gt; the message is something you need to "monitor the status of".  You don't 
&gt;&gt; "monitor the status" of a GET request by GETting another resource.  What 
&gt;&gt; you're doing is not unlike SOAP - where an HTTP POST is used to package 
&gt;&gt; up another message.  It's like you're using REST when you can, but not 
&gt;&gt; using it where it doesn't fit.
&gt;&gt;     
&gt;
&gt; I don't understand you.
&gt;
&gt; Claude's system looks exactly like a RESTful transaction API:
&gt;
&gt;    POST /someplace
&gt;    =&gt; /someplace/resourcexx
&gt;
&gt;    GET /someplace/resourcexx
&gt;    =&gt; state of resourcexx
&gt;
&gt;    PUT /someplace/resourcexx
&gt;    =&gt; altered state of resourcexx
&gt;
&gt;
&gt; Why is it not RESTful?
&gt;   
It is mostly RESTful.  It is fully RESTful if you are willing to think 
of an action as a resource, instead of as a verb.  But REST says actions 
are verbs, and resources are identified by URIs.  In

    POST sensorDownloadOperation/sensorId

the verb is nominally POST.  But what are you really doing?  Telling a 
sensor to download something.  And that verb is in the URI.  It's like 
an RPC call, where 'sensorDownloadOperation' is the procedure name, and 
'sensorId' is the parameter.

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6100<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-21 22:36:27<br>
Subject:Re: [rest-discuss] Verbs<br>
Message:<br><br>
<pre>Lyle Kopnicky &lt;lyle@...&gt; writes:

&gt; It is mostly RESTful.  It is fully RESTful if you are willing to think 
&gt; of an action as a resource, instead of as a verb.  But REST says actions 
&gt; are verbs, and resources are identified by URIs.  In
&gt;
&gt;     POST sensorDownloadOperation/sensorId
&gt;
&gt; the verb is nominally POST.  But what are you really doing?  Telling a 
&gt; sensor to download something.  And that verb is in the URI.  It's like 
&gt; an RPC call, where 'sensorDownloadOperation' is the procedure name, and 
&gt; 'sensorId' is the parameter.

I think you're just creating the monitoring context for examining the
sensor.

A side effect is that the sensor is sent off to collect the data. But
it's still properly RESTfull IMHO.

Maybe the URI suggests that it's a verb. But clearly the verb is
POST. You could also GET the same resource so it does have REST
semantics.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6101<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-04-21 23:09:04<br>
Subject:Re: [rest-discuss] Verbs<br>
Message:<br><br>
<pre>
On Apr 21, 2006, at 3:09 PM, Elliotte Harold wrote:

&gt;&gt; Is it possible to apply REST to any other actions, besides data
&gt;&gt; manipulation?  Suppose my HTTP server is a robot, and I want to  
&gt;&gt; tell it
&gt;&gt; to ring the doorbell.  What verb would apply?
&gt;
&gt; POST, though I question whether this really falls within the HTTP  
&gt; model,
&gt; which focuses more on what representations the server returns than on
&gt; any side effect on the server. If by "ring the bell" you mean return a
&gt; representation of the bell as an MP3, then it would be GET.
&gt;
The way I've come to think of this is that resources are things, just  
as objects (in an object-oriented program) are things. The verbs you  
can do on resources over HTTP are GET, POST, PUT, DELETE, etc. The  
way you call arbitrary "methods" on a resource is by POSTing to it,  
and including in the post data information about what to do. For  
example, you could have a URI representing your robot resource. Doing  
a GET of that URI could return some robot status information. You  
could POST to the robot URI and include in the post data a key  
"command" with the value "ringDoorbell." That is analogous to  
invoking ringDoorbell() on a Robot object, in an object-oriented  
program or distributed RPC system. A robot resource could expose any  
number of "methods" this way to HTTP clients.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6102<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-04-21 23:33:58<br>
Subject:Re: [rest-discuss] Verbs<br>
Message:<br><br>
<pre>Bill Venners wrote:
&gt; The way I've come to think of this is that resources are things, just 
&gt; as objects (in an object-oriented program) are things. The verbs you 
&gt; can do on resources over HTTP are GET, POST, PUT, DELETE, etc. The way 
&gt; you call arbitrary "methods" on a resource is by POSTing to it, and 
&gt; including in the post data information about what to do. For example, 
&gt; you could have a URI representing your robot resource. Doing a GET of 
&gt; that URI could return some robot status information. You could POST to 
&gt; the robot URI and include in the post data a key "command" with the 
&gt; value "ringDoorbell." That is analogous to invoking ringDoorbell() on 
&gt; a Robot object, in an object-oriented program or distributed RPC 
&gt; system. A robot resource could expose any number of "methods" this way 
&gt; to HTTP clients.
&gt;
Which is pretty much how REST's arch-enemy, SOAP, does things.  Except 
Claude has done it better - because you can not only send an 
encapsulated command, you can check on its status.

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6103<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-04-22 00:00:16<br>
Subject:Re: [rest-discuss] Verbs<br>
Message:<br><br>
<pre>Hi Lyle,

On Apr 21, 2006, at 4:33 PM, Lyle Kopnicky wrote:

&gt; Which is pretty much how REST's arch-enemy, SOAP, does things.  Except
&gt; Claude has done it better - because you can not only send an
&gt; encapsulated command, you can check on its status.
&gt;
This brings up another question that I've had recently. Does REST  
suggest a way to think about the responses of POST? The response of a  
GET is a representation of the resource at that URI. What is the  
response of a POST?

Claude, for example, may be returning a request ID in the post  
response, or maybe the URI of the request resource he created, after  
someone posted a request to the sensor. I'm beginning to wonder if a  
POST response should be thought of as a kind of method return value.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6104<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-22 03:08:04<br>
Subject:Re: [rest-discuss] Cacheability example<br>
Message:<br><br>
<pre>Nic wrote:
&gt; In your more general understanding there is no reason why resources
&gt; could not model a session. Your chess game for example, might have a
&gt; resource called:
&gt; 
&gt;   http://chess/games/lyle/63e7e7

I'd just like to point that that what you've shown isn't a resource.

Lyle explained the resource.

You've given the resource one URI.

I'd say that a resource can have zero or more URIs.

I don't see that a web application is obliged to provide representations 
of everything that exists.















</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6105<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2006-04-22 05:40:33<br>
Subject:RE: [rest-discuss] REST &amp; Internal Integration<br>
Message:<br><br>
<pre>&gt; 
&gt; While you can do an HTTP POST without expecting or relying on 
&gt; a business level reply through a similar API, it will only 
&gt; succeed if you are connected to the HTTP server on the other side.
&gt; 
Or through a smart proxy.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6106<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-22 09:11:31<br>
Subject:Re: [rest-discuss] Cacheability example<br>
Message:<br><br>
<pre>John Elliot &lt;jj5@...&gt; writes:

&gt; Nic wrote:
&gt;&gt; In your more general understanding there is no reason why resources
&gt;&gt; could not model a session. Your chess game for example, might have a
&gt;&gt; resource called:
&gt;&gt; 
&gt;&gt;   http://chess/games/lyle/63e7e7
&gt;
&gt; I'd just like to point that that what you've shown isn't a resource.
&gt;
&gt; Lyle explained the resource.
&gt;
&gt; You've given the resource one URI.

Huh?

I didn't say it was a resource. I said "a resource called" so I've
shown the uri that names the resource.

Sure. Resources might have many names (I know I have).


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6107<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-04-22 09:19:19<br>
Subject:Put question<br>
Message:<br><br>
<pre>If I put to http://example.com/a.xml
then it seems reasonable to create a resource named a.xml

If I put to http://example.com/a

and in the root of the server there is a directory named a
what happens?


rfc2616 9.6 implies that the server consider it a modification to the existing
resource. With a file system that doesn't really make sense?

Any clarfication please?

TIA

--
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6108<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-22 09:29:06<br>
Subject:Re: [rest-discuss] Cacheability example<br>
Message:<br><br>
<pre>Nic wrote:
&gt; Huh?

I got the impression that you were trying to say that 'sessions are OK 
as long as you make them resources'.

What I was trying to say is that a session implicitly is a resource.

I'm trying to bring to the surface that it's not it's 'resourceness' 
that can really be contended. The argument is, does the 'session 
resource' need to be allocated a URI, or otherwise indicated in a URI. 
You seem to think it does.









</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6109<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-04-22 11:28:25<br>
Subject:Re: [rest-discuss] Put question<br>
Message:<br><br>
<pre>Dave Pawson wrote:
&gt; If I put to http://example.com/a.xml
&gt; then it seems reasonable to create a resource named a.xml
&gt; 
&gt; If I put to http://example.com/a
&gt; 
&gt; and in the root of the server there is a directory named a
&gt; what happens?
&gt; 

The server is always free to reject a PUT request and return the 
appropriate error code. In this case, 400 or 405 might be appropriate if 
the server doesn't want to replace the directory with a file.

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6110<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-22 11:51:11<br>
Subject:Re: [rest-discuss] Cacheability example<br>
Message:<br><br>
<pre>John Elliot &lt;jj5@...&gt; writes:

&gt; Nic wrote:
&gt;&gt; Huh?
&gt;
&gt; I got the impression that you were trying to say that 'sessions are OK 
&gt; as long as you make them resources'.
&gt;
&gt; What I was trying to say is that a session implicitly is a resource.
&gt;
&gt; I'm trying to bring to the surface that it's not it's 'resourceness' 
&gt; that can really be contended. The argument is, does the 'session 
&gt; resource' need to be allocated a URI, or otherwise indicated in a URI. 
&gt; You seem to think it does.

I see.

I think we are talking at cross purposes here because of the word
session.

Perhaps we should talk about application state because that is really
what you mean by session?


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6111<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-22 11:59:02<br>
Subject:Re: [rest-discuss] Put question<br>
Message:<br><br>
<pre>"Dave Pawson" &lt;dave.pawson@...&gt; writes:

&gt; If I put to http://example.com/a.xml
&gt; then it seems reasonable to create a resource named a.xml
&gt;
&gt; If I put to http://example.com/a
&gt;
&gt; and in the root of the server there is a directory named a
&gt; what happens?
&gt;
&gt;
&gt; rfc2616 9.6 implies that the server consider it a modification to the existing
&gt; resource. With a file system that doesn't really make sense?
&gt;
&gt; Any clarfication please?

It might make lots of sense.

The data you PUT might be a representation of a directory (RSS for
example),

Alternately the app might say "sorry you can't PUT there because I
already have a resource there". Maybe 403 or 405.



Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6112<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-22 12:14:29<br>
Subject:Re: [rest-discuss] Cacheability example<br>
Message:<br><br>
<pre>Nic wrote:
&gt; Perhaps we should talk about application state because that is really
&gt; what you mean by session?

When I say 'session' I really mean the application state implied by the 
'subject' of the request. This can be contrasted with the application 
state implied by the 'object' of the request.

I draw a firm distinction between these. Because I draw a firm 
distinction I can say that the 'subject' can be transferred 'out of 
band', and therefore even though the 'session' is a 'resource' (in the 
sense that it's a 'semantic thing with state') it needn't be identified 
in the URI. Just like the 'resource' related to the data in the 
HTTP-Auth header isn't identified by URI.

I still don't understand what argument you've presented against this [1] 
which makes this [2] a good idea.

[1] Session 63e7e7 GETs /games/chess
[2] GET /games/chess/63e7e7

The only argument you've made has been for caching. But you can use 
ETags for caching...









</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6113<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-04-22 13:31:51<br>
Subject:Re: [rest-discuss] Cacheability example<br>
Message:<br><br>
<pre>John Elliot wrote:

&gt; I'd say that a resource can have zero or more URIs.
&gt; 
&gt; I don't see that a web application is obliged to provide representations 
&gt; of everything that exists.


I'd say zero or more. If it doesn't have a URI, then for all intents and 
purposes on the Web it doesn't exist. The only way we know or can talk 
about resources is through their URIs and representations.  Again, I'm 
pushing a Copenhagen model of the Web here. Don't worry about what a 
resource really *is*. Just concern yourself with the measurable outcomes 
of feeding a URI to a server and getting a representation back.

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6114<br>
Sender:"Alicia da Conceicao" &lt;alicia454@...&gt;<br>
Post Date/Time:2006-04-22 10:17:22<br>
Subject:standardized directory listing<br>
Message:<br><br>
<pre>Greetings:

Is there any type of standardized means to obtain the list of
files (including filenames, file sizes, file modification times, etc.)
located in an arbitrary directory housed by any RESTful online
storage service, such as Amazon's S3?

REST itself does not appear to have any type standardized
resource discovery, as is evident with the different REST
implimentations deployed by Yahoo, eBay, etc.  However, I was
hoping that some type of standardization for directing listing
might exist among the different RESTful online storage services.

I have come across more robust alternatives to REST for online
storage, such as SOAP and WEBDAV (rfc2518) used by Apple's
idisk.  However RESTful online storage services are much more
common than other online storage services.

Any suggestions is greatly appreciate.
Thank you in advance.

Alicia.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6115<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-22 13:46:22<br>
Subject:Re: [rest-discuss] Cacheability example<br>
Message:<br><br>
<pre>John Elliot &lt;jj5@...&gt; writes:

&gt; Nic wrote:
&gt;&gt; Perhaps we should talk about application state because that is really
&gt;&gt; what you mean by session?
&gt;
&gt; When I say 'session' I really mean the application state implied by the 
&gt; 'subject' of the request. This can be contrasted with the application 
&gt; state implied by the 'object' of the request.

And in REST we have no separate subject and object. We only have
resources pointed to by URIs.


&gt; I draw a firm distinction between these. Because I draw a firm 
&gt; distinction I can say that the 'subject' can be transferred 'out of 
&gt; band', 

What does that mean? I'm not sure what you mean by out of band.


&gt; and therefore even though the 'session' is a 'resource' (in the 
&gt; sense that it's a 'semantic thing with state') it needn't be identified 
&gt; in the URI. Just like the 'resource' related to the data in the 
&gt; HTTP-Auth header isn't identified by URI.

Things I call resources are only identifed by URIs. The thing in the
authentication header is not a resource.


&gt; I still don't understand what argument you've presented against this [1] 
&gt; which makes this [2] a good idea.
&gt;
&gt; [1] Session 63e7e7 GETs /games/chess
&gt; [2] GET /games/chess/63e7e7
&gt;
&gt; The only argument you've made has been for caching. But you can use 
&gt; ETags for caching...

Having state in the resource means you don't need ETags for caching;
you can just use conditional-GET which is simpler.


But I understand the point you're making which is "what's the real
difference?"

The real difference is that you have to add a session identifier to
the request to access the state and then you have to add ETags if you
want it cached properly. But if you store the state in the resource
then those things aren't necessary; suddenly you're representing the
state directly.

Look at it this way, if you store the state in the resource then you
don't NEED the session. Why would you add something that you don't
need?

What are the advantages of sessions?


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6116<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-22 14:52:42<br>
Subject:Re: [rest-discuss] Cacheability example<br>
Message:<br><br>
<pre>Nic wrote:
&gt; And in REST we have no separate subject and object. We only have
&gt; resources pointed to by URIs.

I've just spent the last few days telling you why I don't think REST is 
good enough for this reason.

HTTP can certainly have separate subject and object by way of HTTP 
headers for indicating 'subject' (e.g. cookie, auth) and leaving the URI 
free to model the 'object'. A great number of successful web 
applications (I'd speculate a strong majority) take advantage of this fact.

REST specifically denies the possibility of features such as "Hello 
%Username%", "Welcome back", etc., because it defines a resource as 
"temporally varying membership function MR(t), which for time t maps to 
a set of entities, or values, which are equivalent". This means it is 
impossible, per REST, to vary representations over anything but time. I 
believe it is better to allow representations to vary by subject too. 
This allows you to model your domain resources ('objects') independent 
of the context which accesses them ('subjects'). According to REST I 
should conflate 'subject' and 'object' and squeeze them into its 
definition of 'resource'.

At any rate you've shot yourself in the foot, because you said earlier 
that cookies aren't considered non-RESTful. Cookies delineate a 
component of a request's context which is not expressed in the URI. If 
you're going to be contrarian, I'd at least appreciate some consistency.

Saying "That's not REST", is not a defence of REST.

&gt;&gt;I draw a firm distinction between these. Because I draw a firm 
&gt;&gt;distinction I can say that the 'subject' can be transferred 'out of 
&gt;&gt;band', 
&gt; 
&gt; What does that mean? I'm not sure what you mean by out of band.

By 'out of band' I mean 'not in the URI'. I.e. in a HTTP header.

&gt; What are the advantages of sessions?

I've already answered this question.

In short leaving the 'subject' out of the URI addresses security and 
privacy considerations and makes for more enduring and transferable URIs 
which solely represent the 'object' of the request.

I.e. the model is Who GETs What, which I believe is superior to GET 
/Who/What.

I think I'll crawl back into my blissfully non-RESTful hole now.












</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6117<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-04-22 15:07:01<br>
Subject:Re: [rest-discuss] Put question<br>
Message:<br><br>
<pre>Thanks for all the answers.

On 22/04/06, Nic &lt;nferrier@....uk&gt; wrote:

&gt; Alternately the app might say "sorry you can't PUT there because I
&gt; already have a resource there". Maybe 403 or 405.

Where  should we draw this distinction? The application may not
want to delete 101 files in a directory, hence refuses the PUT.
Yes, makes sense.

Are there any guidelines for this boundary, HTTP and application.
The shopping basket idea left me with an uneasy feeling that
it is not a clean boundary. HTTP clearly doesn't have state,
the shopping basket model clearly could benefit from it (however defined),
so is it that each application makes the boundaries, and simply uses HTTP
where appropriate at the response stage?


regards



--
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6118<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-22 15:29:52<br>
Subject:Re: [rest-discuss] standardized directory listing<br>
Message:<br><br>
<pre>"Alicia da Conceicao" &lt;alicia454@...&gt; writes:

&gt; Greetings:
&gt;
&gt; Is there any type of standardized means to obtain the list of
&gt; files (including filenames, file sizes, file modification times, etc.)
&gt; located in an arbitrary directory housed by any RESTful online
&gt; storage service, such as Amazon's S3?
&gt;
&gt; REST itself does not appear to have any type standardized
&gt; resource discovery, as is evident with the different REST
&gt; implimentations deployed by Yahoo, eBay, etc.  

What about HEAD?


&gt; However, I was
&gt; hoping that some type of standardization for directing listing
&gt; might exist among the different RESTful online storage services.

No. REST isn't like that. It's an architecture, not a framework.


&gt; I have come across more robust alternatives to REST for online
&gt; storage, such as SOAP and WEBDAV (rfc2518) used by Apple's
&gt; idisk.  However RESTful online storage services are much more
&gt; common than other online storage services.

Yes. I'm working on one as well where the meta data is communicated
with JSON. I hope to make a linux implementation of the client. At the
moment it's FUSE based.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6119<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-04-22 15:45:13<br>
Subject:Re: [rest-discuss] standardized directory listing<br>
Message:<br><br>
<pre>On 22/04/06, Nic &lt;nferrier@...&gt; wrote:
&gt;  "Alicia da Conceicao" &lt;alicia454@...&gt; writes:
&gt;
&gt;  &gt; Greetings:
&gt;  &gt;
&gt;  &gt; Is there any type of standardized means to obtain the list of
&gt;  &gt; files (including filenames, file sizes, file modification times, etc.)
&gt;  &gt; located in an arbitrary directory housed by any RESTful online
&gt;  &gt; storage service, such as Amazon's S3?


I've found
http://www.restlet.org/docs/nre/com/noelios/restlet/DirectoryRestlet.html
very intuitive.

regards

--
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6120<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-22 15:44:31<br>
Subject:Re: [rest-discuss] Cacheability example<br>
Message:<br><br>
<pre>John Elliot &lt;jj5@...&gt; writes:

&gt; REST specifically denies the possibility of features such as "Hello 
&gt; %Username%", "Welcome back", etc., 

No. Those features can be achieved. REST suggests they can be achieved
in other ways.


&gt; At any rate you've shot yourself in the foot, because you said earlier 
&gt; that cookies aren't considered non-RESTful. Cookies delineate a 
&gt; component of a request's context which is not expressed in the URI. If 
&gt; you're going to be contrarian, I'd at least appreciate some
&gt; consistency.

That's not true. The cookie is always presented in the request for
which a cookie is associated is it not?

As long as you don't tie session state to it there's nothing wrong
with it.


&gt; In short leaving the 'subject' out of the URI addresses security and 
&gt; privacy considerations and makes for more enduring and transferable URIs 
&gt; which solely represent the 'object' of the request.

So you are saying that the bank account example is less secure and
private than a session based thing because it doesn't identify the
user in the URI.

Ok.


&gt; I.e. the model is Who GETs What, which I believe is superior to GET 
&gt; /Who/What.
&gt;
&gt; I think I'll crawl back into my blissfully non-RESTful hole now.

Ok.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6121<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-22 15:45:58<br>
Subject:Re: [rest-discuss] Put question<br>
Message:<br><br>
<pre>"Dave Pawson" &lt;dave.pawson@...&gt; writes:

&gt; Thanks for all the answers.
&gt;
&gt; On 22/04/06, Nic &lt;nferrier@...&gt; wrote:
&gt;
&gt;&gt; Alternately the app might say "sorry you can't PUT there because I
&gt;&gt; already have a resource there". Maybe 403 or 405.
&gt;
&gt; Where  should we draw this distinction? The application may not
&gt; want to delete 101 files in a directory, hence refuses the PUT.
&gt; Yes, makes sense.
&gt;
&gt; Are there any guidelines for this boundary, HTTP and application.
&gt; The shopping basket idea left me with an uneasy feeling that
&gt; it is not a clean boundary. HTTP clearly doesn't have state,
&gt; the shopping basket model clearly could benefit from it (however defined),
&gt; so is it that each application makes the boundaries, and simply uses HTTP
&gt; where appropriate at the response stage?

Yes.

HTTP couldn't hope to have answers to these questions so it leaves
them unanswered. It concentrates on creating a protocol for the things
that can be common.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6122<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2006-04-22 16:03:04<br>
Subject:RE: [rest-discuss] standardized directory listing<br>
Message:<br><br>
<pre> 
&gt;  "Alicia da Conceicao" &lt;alicia454@...&gt; writes:
&gt;
&gt; Greetings:
&gt;
&gt; Is there any type of standardized means to obtain the list of 
&gt; files (including filenames, file sizes, file modification times, etc.)  
&gt; located in an arbitrary directory housed by any RESTful online  &gt; 
&gt; storage service, such as Amazon's S3?

In REST (or at least, in HTTP) there isn't a separate and distinct notion of
'directory' or 'collection' - those are just resources themselves. So to
obtain the list of files, a client would GET the resource that represents
the list of files. The trick is knowing what the identifer for that resource
is. The best way to do that form of discovery is to provide either a
document with well-tagged links to the directories of interest, or provide a
document with some instruction for the construction of the links.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6123<br>
Sender:"Alicia da Conceicao" &lt;alicia454@...&gt;<br>
Post Date/Time:2006-04-22 16:00:32<br>
Subject:Re: [rest-discuss] standardized directory listing<br>
Message:<br><br>
<pre>&gt;&gt; Is there any type of standardized means to obtain the list of
&gt;&gt; files (including filenames, file sizes, file modification times, etc.)
&gt;&gt; located in an arbitrary directory housed by any RESTful online
&gt;&gt; storage service, such as Amazon's S3?
&gt; What about HEAD?

Dear Nic &amp; Dave:

True, HEAD is just a GET that returns headers, and would be very
useful in obtaining filesize and file modification times that one would
need in a directory listing.  Although having to submit numerous
HEAD requests for each file in a directory just to obtain a detailed
directory listing can be brutal.

However, using HEAD does not solve the problem of obtaining the
list of files and subdirectories in an arbitary directory.  Do I just
call:
        http://www.example.org/my/directory/

and hope that there is not any "index.html" file there so that I can
harvest the hyperlinks and look for those that start with that URL?
Surely there must be a better way?

&gt; Yes. I'm working on one as well where the meta data is communicated
&gt; with JSON. I hope to make a linux implementation of the client. At the
&gt; moment it's FUSE based.

Is the online-storage system you are working RESTful?  And if so, would
it be possible to get a temporary (1 week or so) test account to test my
REST client against it?

&gt; I've found
&gt; http://www.restlet.org/docs/nre/com/noelios/restlet/DirectoryRestlet.html
&gt; very intuitive.

Quite useful, thank you.  Although I am working on a REST client, so I
would need to find HTTP/XML output.  Do you know the output from this
Java Servlet implimentation of REST is similar to those used by RESTful
online storage services such as amazon?

Thanks again for your feedback and thanks in advance.
Alicia.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6124<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2006-04-22 16:05:43<br>
Subject:RE: [rest-discuss] Cacheability example<br>
Message:<br><br>
<pre>&gt; 
&gt; I still don't understand what argument you've presented 
&gt; against this [1] which makes this [2] a good idea.
&gt; 
&gt; [1] Session 63e7e7 GETs /games/chess
&gt; [2] GET /games/chess/63e7e7
&gt; 
Would you be interested in a use case where you send an invitation to
another party to join the session "63e7e7"?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6125<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2006-04-22 16:10:10<br>
Subject:Re: [rest-discuss] Cacheability example<br>
Message:<br><br>
<pre>Mike Dierken wrote:
&gt;&gt;I still don't understand what argument you've presented 
&gt;&gt;against this [1] which makes this [2] a good idea.
&gt;&gt;
&gt;&gt;[1] Session 63e7e7 GETs /games/chess
&gt;&gt;[2] GET /games/chess/63e7e7
&gt; 
&gt; Would you be interested in a use case where you send an invitation to
&gt; another party to join the session "63e7e7"?

Session 63e7e7 belongs to User 23 playing Game 37.

You wouldn't invite someone to your 'session'. You might invite them to 
your game.

Also, let's say it's a card game (rather than chess). The representation 
of the game will vary by user, or else I'd be able to see your cards.













</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6126<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-22 16:14:18<br>
Subject:Re: [rest-discuss] standardized directory listing<br>
Message:<br><br>
<pre>"Alicia da Conceicao" &lt;alicia454@...&gt; writes:

&gt;&gt;&gt; Is there any type of standardized means to obtain the list of
&gt;&gt;&gt; files (including filenames, file sizes, file modification times, etc.)
&gt;&gt;&gt; located in an arbitrary directory housed by any RESTful online
&gt;&gt;&gt; storage service, such as Amazon's S3?
&gt;&gt; What about HEAD?
&gt;
&gt; Dear Nic &amp; Dave:
&gt;
&gt; True, HEAD is just a GET that returns headers, and would be very
&gt; useful in obtaining filesize and file modification times that one would
&gt; need in a directory listing.  Although having to submit numerous
&gt; HEAD requests for each file in a directory just to obtain a detailed
&gt; directory listing can be brutal.
&gt;
&gt; However, using HEAD does not solve the problem of obtaining the
&gt; list of files and subdirectories in an arbitary directory.  Do I just
&gt; call:
&gt;         http://www.example.org/my/directory/
&gt;
&gt; and hope that there is not any "index.html" file there so that I can
&gt; harvest the hyperlinks and look for those that start with that URL?
&gt; Surely there must be a better way?

Ah. I see what you mean.

You'd need backend implementation support for this.

&gt;
&gt;&gt; Yes. I'm working on one as well where the meta data is communicated
&gt;&gt; with JSON. I hope to make a linux implementation of the client. At the
&gt;&gt; moment it's FUSE based.
&gt;
&gt; Is the online-storage system you are working RESTful?  And if so, would
&gt; it be possible to get a temporary (1 week or so) test account to test my
&gt; REST client against it?

I'll try and check in my code (to a public location) so you can set it
up. I'll let you know.


But I think you're misunderstanding what REST is. REST is just an
architecture. It's not a standard for doing anything or a framework or
anything.

When people talk about RESTful web services they mean ones that are
provided via HTTP only. There is no RPC mechanism sat on top.

So the similarities between these services are about HTTP. 


&gt;&gt; I've found
&gt;&gt; http://www.restlet.org/docs/nre/com/noelios/restlet/DirectoryRestlet.html
&gt;&gt; very intuitive.
&gt;
&gt; Quite useful, thank you.  Although I am working on a REST client, so I
&gt; would need to find HTTP/XML output.  Do you know the output from this
&gt; Java Servlet implimentation of REST is similar to those used by RESTful
&gt; online storage services such as amazon?

Probably not. Each service will probably use it's own format.

JSON or RSS/ATOM are probably the most common for describing resource
collections.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6127<br>
Sender:Claude Montpetit &lt;claude@...&gt;<br>
Post Date/Time:2006-04-22 16:47:41<br>
Subject:Re: [rest-discuss] Verbs<br>
Message:<br><br>
<pre>

Bill Venners a �crit :
&gt; Hi Lyle,
&gt; 
&gt; On Apr 21, 2006, at 4:33 PM, Lyle Kopnicky wrote:
&gt; 
&gt;&gt; Which is pretty much how REST's arch-enemy, SOAP, does things.  Except
&gt;&gt; Claude has done it better - because you can not only send an
&gt;&gt; encapsulated command, you can check on its status.
&gt;&gt;
&gt; This brings up another question that I've had recently. Does REST  
&gt; suggest a way to think about the responses of POST? The response of a  
&gt; GET is a representation of the resource at that URI. What is the  
&gt; response of a POST?
&gt; 
&gt; Claude, for example, may be returning a request ID in the post  
&gt; response, or maybe the URI of the request resource he created, after  
&gt; someone posted a request to the sensor. I'm beginning to wonder if a  
&gt; POST response should be thought of as a kind of method return value.

Why do you consider this different from typical POSTs? A redirect to the 
newly created resource, and/or the URI seems jut fine to me.

--
Claude

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6128<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-04-22 18:45:19<br>
Subject:Re: [rest-discuss] Put question<br>
Message:<br><br>
<pre>Dave Pawson wrote:

&gt; Are there any guidelines for this boundary, HTTP and application.
&gt; The shopping basket idea left me with an uneasy feeling that
&gt; it is not a clean boundary. 

That's completely application specific. I suspect the boundaries will be 
a lot clearer in any one use case. The strength of HTTP and REST is that 
it's quite generic and can be adapted to many different needs. It is a 
substrate on which applications are built. It does not answer all 
questions about any one application that will be built on top of it.

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6129<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-04-22 22:02:58<br>
Subject:Representational Cookies<br>
Message:<br><br>
<pre>Hello! I'd love to get some knowledgeable feedback regarding the 
new use (to the best of my knowledge) I've devised for cookies, a cacheing 
technique I refer to as "representational cookies". I've mentioned my work 
in a couple of places with no response, perhaps I should have posted here 
instead, but I was unaware of this list's existence before today. I'm 
uncertain of my method's compliance with proper web architecture/REST, in 
light of the "cookies are always RESTless" assumption.  I have been 
developing this technique (as part of a larger solution) for about a year now.
It does work (as far as I can test), and it doesn't cookie application state,
but I am open to criticism.

There are several problems inherent in content negotiation which are not 
adequately addressed in the standards, IMO. To illustrate, I'll use an 
image-file example. Let's say I make an URI for a resource which happens to 
be a photo of myself and call it /eric, then set up content negotiation 
between representations labeled eric.jpg and eric.png. I wind up with three 
URLs for what I intended (99.9% of the time) to be only one resource, 
"picture of me". 

But those filename extensions mean that each representation is also a 
resource in its own right, meaning they may be independently linked to. And 
that's the problem with filename extensions -- URI aliasing. What if 
someone links to /eric.png instead of /eric in a message, and that link is 
dereferenced by a client which doesn't ACCEPT .png graphics or which prefers 
.jpg? If the client doesn't ACCEPT .png it should ask the user to download 
the octet-stream. 

However, if the client has a higher q-value for .jpg and so does the server, 
and the representation of "picture of me" is intended to be determined via 
content negotiation, then haven't we defeated the entire purpose if we 
respond to requests for eric.png, with eric.png? We could avoid this 
problem by redirecting all requests for /eric.png or /eric.jpg to /eric, 
which forces the negotiation to occur. This does eliminate the URI alias, 
but presents its own set of problems. 

What if the intent of the author of the message who linked to /eric.png was 
to discuss that specific representation, not the concept of "picture of me" 
or the eric.jpg file? In that case, we'd be circumventing author intent by 
forcing negotiation with a redirect, because some clients would never be 
able to access the .png file even if they grok PNG. Ideally, we can figure 
out a way to redirect to our resource URL /eric, while allowing content 
negotiation to be bypassed for that request. This way, a client which would 
normally prefer to display the .jpg representation at the /eric URL may also 
be allowed to display the .png representation at /eric. 

This is where representational cookies come in. After negotiating with a 
client, why not "bookmark" the result? Does the same client which has 
undergone negotiation for the /eric request have to be subjected to content 
negotiation on all subsequent requests for /image resources? Won't the 
result be the same, each time that client negotiates with the server? So 
set a cookie called image=png or image=jpg. The initial response, when 
content negotiation does occur, will set the cookie, and send a VARY:ACCEPT 
header. 

But that VARY header creates a seemingly infinite number of possibilities 
which all result in either 'png' or 'jpg'. The next request, by virtue of 
having the 'image=png' cookie set, bypasses content negotiation. This time, 
since the request for /eric contained a cookie, we set VARY:COOKIE. Since 
there are only two possibilities, the likelihood of cache hits increases 
dramatically for _any_ client which accepts cookies regardless of how common 
or uncommon its particular ACCEPT header was. 

Now, back to that author who posted a link to /eric.png instead of /eric. 
Responses to requests ending in .png can set an image=png cookie and 
303-redirect to /eric. This bypasses content negotiation, allowing direct 
access to the /eric.png resource at its own URL, which redirects so as not 
to create an URI alias of the /eric resource. The result of this, is we 
don't have /eric.png and /eric.jpg stored in caches, we have two copies of 
/eric stored in cache, one with an image=png cookie and the other with an 
image=jpg cookie. 

I'd like to address a comment made here on March 23rd, by Searith Jacobs: 

"And if you are hung up on the on the question of having two html responses 
or two icons for the same resource, you can't. Think of the content-type 
like a filter one might hold up to light. What you get is all that can be 
represented through that filter, no more or less. The html response is the 
only html response and the icon is the only icon." 

Sure I can. The client negotiates based on content-type, using the q 
parameter. But the Apache server, for example, maps a content-type to one 
or more filename extensions using a qs parameter. So I can have eric.jpg 
and eric.jpeg with the first image of high quality and the second, low. 
This could be reflected in the qs value set in the type-map for each 
extension used. If my server is getting hammered, I can invert the qs 
values between the .jpg and the .jpeg extensions, thereby cleanly reducing 
my bandwidth requirements, and I know of no client (which accepts JPG) which 
won't get the specific JPEG version I intend. 

My "problem space" isn't images, though -- I'm just of the opinion that it 
makes this discussion easier to visualize if images are used as the example. 
What I've (we've) accomplished, is to use content negotiation to sort 
browsers into four 'buckets'. The first two, modern desktop browsers and 
WAP-2 handhelds, are served different representations although both have the 
'application/xhtml+xml' content-type. The other two, are for browsers like 
IE which don't grok 'application/xhtml+xml', and bots/other clients. These 
devices are served different representations (the latter being text-only) 
which are both 'text/html'. 

Since the URL is the same for each representation, Googlebot may be indexing 
the text-only, no-DOCTYPE generic HTML version of the site, but a visitor 
clicking through from a SERP undergoes content negotiation which most likely 
results in either the XHTML 1.1 or HTML 4.01 graphics-enabled, fully-styled 
representations being served. That's because each representation appears to 
use the same filename-extension-free URL which is defined for the resource 
itself. Screen readers and such cleanly negotiate into the text-only 
bucket, but we provide those users the ability to switch to our XHTML 1.1 
representation if image descriptions (alt text, etc.) are desired. 

Back to the image example: If a user has cookies disabled and requests 
/eric.png they'll still get 303-redirected to /eric but their request won't 
contain a cookie header, thus forcing content negotiation to occur. The 
response headers received will always be VARY:ACCEPT (in this example) never 
VARY:COOKIE. Thus, the downsides to this method, are users with cookies 
disabled are subject to a little more latency on the origin server, which 
they're more likely to be making requests to directly since they'll be less 
likely to encounter a cache hit. 

Alternate representations may still be accessed directly, even if cookies 
are disabled (and that's where my image-file example breaks down, images 
need filename extensions which interfere with this technique, but that 
example has brought us this far). If a Firefox or Opera, etc. user wants to 
see the HTML 4.01 representation, they don't need to have cookies enabled. 
In the absence of cookies, we (carefully and judiciously so as to avoid 
URI-aliasing issues) use URL-rewriting, which I could call "representational 
sessions" because these pages may be cached (although they aren't likely to 
be _retained_). I've not seen any other content-negotiation solution for 
toggling between XHTML 1.1 and HTML 4.01 which allows the alternate 
representation to be accessed, without resorting to the use of URI-aliasing 
filename extensions. 

In some instances, we "garbage-collect" our representational cookies to 
prevent a) storing state and b) cache aliases, by using a 303-redirect to 
remove any "leftover cookies" which don't apply to the current request. 
Again, the overall gains in cache efficiency and user-perceived performance 
more than offset the occasional extra round-trip to the server, provided 
that most clients have cookies enabled. This method does not co-exist with 
traditional state-maintenance cookies, but this restriction is 
per-collection not per-resource or per-server. 

Thanks for your input, 
Eric J. Bowman





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6130<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-22 23:52:18<br>
Subject:Re: [rest-discuss] Representational Cookies<br>
Message:<br><br>
<pre>"Eric J. Bowman" &lt;eric@...&gt; writes:

&gt; There are several problems inherent in content negotiation which are not 
&gt; adequately addressed in the standards, IMO. To illustrate, I'll use an 
&gt; image-file example. Let's say I make an URI for a resource which happens to 
&gt; be a photo of myself and call it /eric, then set up content negotiation 
&gt; between representations labeled eric.jpg and eric.png. I wind up with three 
&gt; URLs for what I intended (99.9% of the time) to be only one resource, 
&gt; "picture of me". 

This is easily solved. Just don't expose the individual variants. 

Use only the cool-uri.


&gt; This is where representational cookies come in. After negotiating with a 
&gt; client, why not "bookmark" the result? Does the same client which has 
&gt; undergone negotiation for the /eric request have to be subjected to content 
&gt; negotiation on all subsequent requests for /image resources? Won't the 
&gt; result be the same, each time that client negotiates with the
&gt; server? 

What if it changes it's preferred representation?



Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6131<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-04-23 00:36:09<br>
Subject:Re:  [rest-discuss] Representational Cookies<br>
Message:<br><br>
<pre>&gt; 
&gt;This is easily solved. Just don't expose the individual variants. 
&gt; 
&gt;Use only the cool-uri. 
&gt; 

But I want to retain access to the alternate representations.  Also, You can solve the URI-aliasing problem that way, but not the other problem: Setting up content negotiation for two variants results in untold numbers of "cache aliases", one for each ACCEPT header out there. After being written to cache (or a pointer is created) most of these likely LRU-expire before ever getting served from cache, while diluting the cache hits (and retention probability) on the representations which match mainstream clients. 

By setting cache-control:private on all responses which don't set VARY:COOKIE we can limit caches to one copy or pointer for each representation, instead of one for each ACCEPT string. This situation gets worse when you consider our browser-sorting algorithm actually sets VARY:ACCEPT, ACCEPT-ENCODING, USER-AGENT. I think the term for that many possibilities is "Sagans and Sagans". ;-)

&gt; 
&gt;&gt; This is where representational cookies come in. After negotiating with a 
&gt;&gt; client, why not "bookmark" the result? Does the same client which has 
&gt;&gt; undergone negotiation for the /eric request have to be subjected to content 
&gt;&gt; negotiation on all subsequent requests for /image resources? Won't the 
&gt;&gt; result be the same, each time that client negotiates with the 
&gt;&gt; server? 
&gt; 
&gt;What if it changes it's preferred representation? 
&gt; 

That is a valid question, we've experimented with setting expire times on the cookies. But, how important is it to handle such an unlikely case? 

-Eric



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6132<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-04-23 01:02:40<br>
Subject:Re: [rest-discuss] Put question<br>
Message:<br><br>
<pre>"If I put to http://example.com/a.xml 
then it seems reasonable to create a resource named a.xml 

If I put to http://example.com/a 

and in the root of the server there is a directory named a 
what happens?" 

You're not giving enough information. What OS and filesystem is the server 
running, or are you using an XML DB instead of a filesystem? Some servers 
will handle your PUT to /a by creating a resource named 'a' (a file with no 
extension) in the root directory, while others won't allow that due to the 
presence of a directory named /a/. 

"rfc2616 9.6 implies that the server consider it a modification to the 
existing resource. With a file system that doesn't really make sense?" 

If the GET method is used to access directory /a/ what generates the 
response? If the httpd is set up as a file server and returns a directory 
listing, that doesn't make sense as the target of a PUT so go with a 400 
response, as Elliote advised. 

If, on the other hand, that response is generated by something like 
index.jsp then my reading of 9.6 suggests that the server may 301-redirect a 
PUT request to /a/index.jsp -- "the user agent MAY then make its own 
decision regarding whether or not to redirect the request". The index.jsp 
script can decide how to handle the PUT request. 

-Eric



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6133<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-23 02:48:31<br>
Subject:Re: [rest-discuss] Representational Cookies<br>
Message:<br><br>
<pre>"Eric J. Bowman" &lt;eric@...&gt; writes:

&gt;&gt; 
&gt;&gt;This is easily solved. Just don't expose the individual variants. 
&gt;&gt; 
&gt;&gt;Use only the cool-uri. 
&gt;&gt; 
&gt;
&gt; But I want to retain access to the alternate representations.  Also,
&gt; You can solve the URI-aliasing problem that way, but not the other
&gt; problem: Setting up content negotiation for two variants results in
&gt; untold numbers of "cache aliases", one for each ACCEPT header out
&gt; there. After being written to cache (or a pointer is created) most
&gt; of these likely LRU-expire before ever getting served from cache,
&gt; while diluting the cache hits (and retention probability) on the
&gt; representations which match mainstream clients. 

Do you know they get LRU expired?

Is there a reason they get dumped when a specfic uri is not dumped?


&gt;&gt;What if it changes it's preferred representation? 
&gt;&gt; 
&gt;
&gt; That is a valid question, we've experimented with setting expire
&gt; times on the cookies. But, how important is it to handle such an
&gt; unlikely case? 

How unlikely is it? 

Have you measured the unlikliness?


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6134<br>
Sender:Dr. Ernie Prabhakar &lt;drernie@...&gt;<br>
Post Date/Time:2006-04-23 03:47:07<br>
Subject:Re: [rest-discuss] standardized directory listing<br>
Message:<br><br>
<pre>Hi Alicia,

On Apr 22, 2006, at 9:00 AM, Alicia da Conceicao wrote:
&gt; However, using HEAD does not solve the problem of obtaining the
&gt; list of files and subdirectories in an arbitary directory.  Do I just
&gt; call:
&gt;         http://www.example.org/my/directory/
&gt;
&gt; and hope that there is not any "index.html" file there so that I can
&gt; harvest the hyperlinks and look for those that start with that URL?
&gt; Surely there must be a better way?

I think this discussion is orthogonal to REST per se.  I think what  
you really want is a kind of "microformat" -- a convention for how to  
represent collections.  The current best practice for something like  
that, IMHO, would be Atom collections:

http://bitworking.org/projects/atom/draft-ietf-atompub- 
protocol-03.html#collections_model
http://www.intertwingly.net/wiki/pie/PaceCollectionSyntax

Hopefully that might help you get started...

-- Ernie P.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6135<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-04-23 04:02:02<br>
Subject:Re:  [rest-discuss] Representational Cookies<br>
Message:<br><br>
<pre>&gt;
&gt;Do you know they get LRU expired?
&gt;
&gt;Is there a reason they get dumped when a specfic uri is not dumped?
&gt;

HTTP doesn't imply how a cache should operate internally, only how it should behave externally.  Some caches save the response headers and content in their entirety for each combination of (relevant) request headers it encounters, when there's a VARY header.  Others will recognize the response headers and content as an object, with a variety of pointers to it for different request-header combinations.

Either way, a cache is going to somehow store any combination of headers the VARY directive tells it are relevant, as a discrete object.  If no other request headers match this discrete object it's going to the "top of the list" LRU-wise (or LFUDA or GDSF).  They all react to VARY by creating more objects as if they were discrete representations, not by setting up pointer tables.

If you know of a cache which works differently, let me know.  In my research I failed to encounter any cache which would preserve a non-used header combination for as long as the resource itself is cached, or because other responses matching different request headers for the same URI are still retained.

You seem to be playing devil's advocate with the entire notion of a cache alias, but I assure you that none of my assumptions, including any which are incorrect, are "off the cuff".  :-)

&gt;
&gt;&gt;&gt;What if it changes it's preferred representation? 
&gt;&gt;&gt; 
&gt;&gt;
&gt;&gt; That is a valid question, we've experimented with setting expire
&gt;&gt; times on the cookies. But, how important is it to handle such an
&gt;&gt; unlikely case? 
&gt;
&gt;How unlikely is it? 
&gt;
&gt;Have you measured the unlikliness?
&gt;

Uh, no, but isn't the onus on you on this one?  Meaning, can you actually name an example of a case where a client would alter its ACCEPT headers in a way which would run afoul of my example?  The changes we typically make would affect language preferences, not the q-value Opera assigns to 'image/jpeg' or 'application/xhtml+xml' or any other value relevant to my example.

While some people are savvy enough to change their UA settings, and Opera even provides a drop-down box on your UI if you want to alter your UA string, surely this is a small number, and surely the number who would set their image q-values differently from the browser default is miniscule.  Do you honestly think this amounts to even a measurable unlikeliness figure, let alone one which would invalidate my assumptions?

Well, you did ask "what if", and the answer to that is "so they get the wrong representation big deal" because if it looks no different than the one they received before, where is the harm, assuming this would ever even happen?  If this possibility does worry anyone, just expire the cookies and this remotely-possible situation becomes temporary, not permanent.

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6136<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-04-23 04:20:14<br>
Subject:Re:  [rest-discuss] Representational Cookies<br>
Message:<br><br>
<pre>&gt;
&gt;This is easily solved. Just don't expose the individual variants. 
&gt;

But I want to be able to maintain the site with a WebDAV client, which means accessing the individual variants with multiple methods.  A 404 response is inconsistent with this need, since the resource does indeed exist at the requested URL.  On the other hand, a 303-redirect (bypassed if method != GET) opens the desired image for editing if the accessing WebDAV client is an image editor.  How well this works remains to be seen, as we've only begun implementing WebDAV on our system, but that's my thinking on 300 vs. 400.

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6137<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-04-23 05:35:22<br>
Subject:Resource personalisation: Was: [rest-discuss] Cacheability example<br>
Message:<br><br>
<pre>On Sat, 2006-04-22 at 16:10 +0000, John Elliot wrote:
&gt; Mike Dierken wrote:
&gt; &gt;&gt;I still don't understand what argument you've presented 
&gt; &gt;&gt;against this [1] which makes this [2] a good idea.
&gt; &gt;&gt;[1] Session 63e7e7 GETs /games/chess
&gt; &gt;&gt;[2] GET /games/chess/63e7e7
&gt; &gt; Would you be interested in a use case where you send an invitation to
&gt; &gt; another party to join the session "63e7e7"?
&gt; Session 63e7e7 belongs to User 23 playing Game 37.
&gt; You wouldn't invite someone to your 'session'. You might invite them to 
&gt; your game.
&gt; Also, let's say it's a card game (rather than chess). The representation 
&gt; of the game will vary by user, or else I'd be able to see your cards.

REST is an architectural style that is focused on a single trust domain.
REST's approach to scalability is based around many people accessing a
single resource or set of resources. The resources are ones that all
users are permitted to see. I think your concerns focus around two
areas:

1) Multiple trust domains, and
2) Personalisation of a shared trust domain

REST's approach to bookmarking is beneficial within a single trust
domain. It is more convenient to have multiple URLs for my different
bank accounts than to have a single URL. Using a session to provide
context for which account I am looking on is harmful to the web
experience. It prevents me from keeping useful bookmarks to online
materials that I have credentials to access.

I think you acknowledge this, and that your concept of a session is not
one of "this user is looking at that bank account statment" combined
with "bank url", but one of "this user" combined with a url for "that
bank account statement url". I think your concept of "session" is really
"anonymous user id", eqivalent to "regular user id" but made up on the
spot by the server.

So how do we go about resource personalisation? Many resources require
none. I can go to Roy's thesis, and I'll get the same content as
everyone else who has the same accept headers. In these cases I can be
anonymous statelessly. The session concept I think you are talking about
is one of stateful anonymity or even non-anonymous statefulness. I
connect to amazon.com to look at an item, and they want to tell me what
else I should consider buying. I connect to technorati, and it offers me
options to manage my account.

These services could not offer me personalised links or options without
knowing who I am, but this means they serve different pages to different
individuals. In both of these cases they essentially skip shared caching
between individuals in order to offer personalisation services.

Unfortunately, that is what personalisation is about. You can offer it
in several ways, but it always amounts to the same thing for caching. A
particular user is always going to have to download something special,
even though their neighbour has already downloaded their own version.
The different versions effectively make for different resources, but
assigning them different urls does not really change the caching
problem. It even adds new ones.

Instead of looking up &lt;http://www.technorati.com/&gt;, I could have been
force to look up &lt;http://www.technorati.com/?user=fuzzyBSc&gt;. This would
have allowed other people to get cached representations of the fuzzyBSc
version of this resource, but they don't want it and may not be
authorised to get it. It would have allowed me log in from a different
machine and get shared caching, however the benefit to the technorati
servers is likely to be minimal and the likelyhood that my two machines
would share a cache is probably pretty small anyway.

The biggest downside of including this identity information in the url
when it is only going to be used for personalisation is that I cannot
easily send this url off to a friend. They would get my version instead
of theirs, and may not even be authorised to do so. It is really a
perversion of the URI system.

Even so, including user information in a resource is sometimes very
meaningful. The bank account example from earlier in this thread is
probably a good one, though not a real-world one.
http://bank.example.com/fuzzyBSc/main may be a real bank account
identifier, in which case the username is necessary context. On the
other hand, the real identifier is probably a bank-wide unique
"12341234" so my name really isn't required. Names are required wherever
an identifier would be ambigous otherwise.

So what is the most RESTful solution to this non-RESTful problem domain?

I think that the closest you'll get to following the REST style for web
site personalisation is this:
1) Don't pollute the URI space with unnecessary user identifiers
2) Use cookies or HTTP authentication to identifer the user for
personalisation purposes
3) Use non-personalised static documents as much as possible: Use css
that isn't personalised. Consider using client-side inclusion support
with tools such as javascript to combine the personalised and
non-personlised elements of pages.

The more you can achieve (3), the more benefits of REST you can still
obtain for your application. Possibly the optimum way of achieving (3)
is to provide a static non-personalised version of your document at the
url, but include hooks within the document that will fetch and include
personalised data if and only if the client browser supports javascript.

Benjamin.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6138<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-04-23 11:04:26<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>John Elliot wrote:
&gt; Maybe this will help:
&gt; 
&gt;    representation = f( subject, verb, object, time );
&gt; 

I don't buy this equation. I claim

representation = f( URI, HTTP headers, request body, time, client IP);

More often than not the last two arguments to the function make no 
significant difference.

I don't see why you're sop focused on the subject-verb-object metaphor. 
It doesn't seem to be especially illuminating or helpful. It feels way 
too much like trying to force HTTP into a structure other than its own.

I've noticed over the years that some developers persist in seeing the 
world as nothing but objects. Others see it as nothing but tables. You 
may be advocating a new variant of this position I haven't encountered 
before: the world is nothing but subject-verb-object triples. 
Interesting, but ultimately as broken as the other two approaches.

The only way to understand HTTP and use it fully effectively is to take 
it on its own terms, with its own architecture, and its own principles; 
and those principles don't include any notion of subject, verb, or object.

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6139<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-04-23 11:48:04<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>Nic wrote:

&gt; Cookies themselves are not anti-REST, it's putting a session id in a
&gt; cookie that is anti-REST because that hides state from the
&gt; request/response conversation.


That's a valid point, but there are other reasons to prefer putting info 
in URIs instead of cookies besides the question of sessions:

1. URIs can be bookmarked. Cookies can't.
2. URIs can be linked to. Cookies can't.
3. URIs can be e-mailed. Cookies can't.
4. URIs can be copied and pasted into a different browser. Cookies can't.

For example suppose I want my 10-year old nephew to choose th shirts she 
wants for his birthday at the Panic store and then e-mail me the URL so 
I can fill out the form with the credit card info. If the details were 
in the URI, or in a shopping cart pointed to by a shopping cart URI, he 
could do that. With cookies he can't. :-(

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6140<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-04-23 11:56:45<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>John Elliot wrote:

&gt; Why is it that you think there is any difference whether the session 
&gt; context is in the URL or in a cookie? 

1. There doesn't have to be a session (and shouldn't)

2. If you insist on designing with sessions, then putting the context in 
the URL allows:

     A. Bookmarking
     B. Linking
     C. Moving sessions to other browsers
     D. E-mailing sessions between people


-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6141<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-04-23 11:58:09<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>Lyle Kopnicky wrote:

&gt; As far as I can tell, Amazon uses cookies for sessions, not the URL.  I 
&gt; routinely mail or post links to books on Amazon, and nobody ever gets my 
&gt; session.
&gt; 

Here's an experiment worth performing: turn off all cookies in your 
browser. Shop at Amazon.

You may be pleasantly surprised at what happens.

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6142<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-04-23 12:02:11<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>Lyle Kopnicky wrote:


&gt; So what you're saying is that if my application requires sessions, I'm 
&gt; out of luck with REST.  

Yes. There are applications that need sessions. Telnet comes to mind, or 
Quake for a more modern example. Not everything fits in REST or HTTP. 
There are two problems that commonly arise:

1. Designing sessions into systems that don't actually need them.

2. Using HTTP for applications that genuinely need sessions, and thus 
should use a different protocol.

I'm not sure which mistake is worse, but I see a lot more of #1 than #2 
in the wild, though they both occur in practice.

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6143<br>
Sender:=?UTF-8?B?QmlsbCBkZSBow5NyYQ==?= &lt;bill@...&gt;<br>
Post Date/Time:2006-04-23 14:21:20<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>Elliotte Harold wrote:
&gt; John Elliot wrote:
&gt;  &gt; Maybe this will help:
&gt;  &gt;
&gt;  &gt;    representation = f( subject, verb, object, time );
&gt;  &gt;
&gt; 
&gt; I don't buy this equation. I claim
&gt; 
&gt; representation = f( URI, HTTP headers, request body, time, client IP);

I think this session/auth/subject thread is over-egging things.

GET ...  WITH AUTHORISATION ... HEADERS(..) VALUES(...);

It's that simple.

cheers
Bill



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6144<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-04-23 15:47:30<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>On Apr 23, 2006, at 5:02 AM, Elliotte Harold wrote:

&gt; Lyle Kopnicky wrote:
&gt;
&gt;
&gt;&gt; So what you're saying is that if my application requires sessions,  
&gt;&gt; I'm
&gt;&gt; out of luck with REST.
&gt;
&gt; Yes. There are applications that need sessions. Telnet comes to  
&gt; mind, or
&gt; Quake for a more modern example. Not everything fits in REST or HTTP.
&gt; There are two problems that commonly arise:
&gt;
&gt; 1. Designing sessions into systems that don't actually need them.
&gt;
I think there has been some confusion in this discussion due to using  
"session" to mean two different things. There's session the concept,  
and session the implementation strategy.

John I think has been talking about session the concept, a set of  
related HTTP requests from a client. These are very common in web  
apps. Redirecting to get after a post falls into this category, for  
example, because the second request depends on the first.

I have been talking primarily about session the implementation  
strategy, which is storing state on the server keyed by a session ID  
that you store at the client in a cookie or via URL rewriting, which  
is included with subsequent requests. (I'll call this "Session,"  
after the name of the Java servlets class.)

REST does not discourage sessions. It discourages Sessions.

Most web apps run on one server and have modest traffic. For these,  
Sessions work just fine. But when you want to scale, Sessions start  
getting in the way. You usually feel the need to replicate Sessions,  
or get the servers to share them to some extent. Also, the use of  
Sessions often results in the same URI having a lot of different  
representations, depending upon Session state. This hurts your  
ability to take advantage of HTTP caching to help with scaling.

There are solutions to scaling with Sessions. You may have to buy a  
bit more bandwidth, more servers, and more programmer time to deal  
with a bit more complexity, but you can do it. But REST points  
another way.

If your application requires sessions, REST suggests that instead of  
using Sessions, use resources. Instead of creating a Session and  
figuring out what state to put into it, you ask yourself what the  
resources are for your sessions, and put your state into those. My  
feeling is that it is just as easy to do a resource-oriented  
architecture than a Session-oriented one on a single-server web app,  
and the resource-oriented approach may make it cheaper and easier to  
scale later, if you ever need to.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6145<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-04-23 17:21:41<br>
Subject:response header, location<br>
Message:<br><br>
<pre>I want to provide a service where a client
submits (PUT) an XML file for processing.

As part of the response header I can set the location header
field to a url.

Is it RESTful to use this as a way of telling the client where to look
for a formal acknowledgement of the fact that the PUT payload has
been processed?
Is this a correct interpretation of 14.3 in http 1.1?
If not, is it a reasonable abuse?

The rough outlin is

client: PUT x.xml
server: saves the payload for processing.
server response header:
location: http://example.com/resp598

Then at some later time (quite async) the client will
find a representation of the success or failure of the process.

Having GET the response from that uri
the client may then DELETE the response at that uri

RESTful?
Fair use of rfc 2616?
If not, alternative approaches appreciated.

TIA

--
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6146<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-04-23 17:50:07<br>
Subject:Re: response header, location<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, "Dave Pawson" &lt;dave.pawson@...&gt;
wrote:
&gt;
&gt; I want to provide a service where a client
&gt; submits (PUT) an XML file for processing.
&gt; 
&gt; As part of the response header I can set the location header
&gt; field to a url.
&gt; 
&gt; Is it RESTful to use this as a way of telling the client where to look
&gt; for a formal acknowledgement of the fact that the PUT payload has
&gt; been processed?
&gt; Is this a correct interpretation of 14.3 in http 1.1?
&gt; If not, is it a reasonable abuse?
&gt; 
&gt; The rough outlin is
&gt; 
&gt; client: PUT x.xml
&gt; server: saves the payload for processing.
&gt; server response header:
&gt; location: http://example.com/resp598
&gt; 
&gt; Then at some later time (quite async) the client will
&gt; find a representation of the success or failure of the process.
&gt; 
&gt; Having GET the response from that uri
&gt; the client may then DELETE the response at that uri
&gt; 
&gt; RESTful?
&gt; Fair use of rfc 2616?
&gt; If not, alternative approaches appreciated.
&gt; 
&gt; TIA
&gt; 
&gt; --
&gt; Dave Pawson
&gt; XSLT XSL-FO FAQ.
&gt; http://www.dpawson.co.uk
&gt;

Dave,

This is basic HTTP: I would not indicate that the client must go
elsewhere to obtain the status, simply return the correct status codes
at the resource url, in the following manner:

   PUT /x.xml HTTP/1.1
   Host: example.com

which will return the following upon successful async enqueue:

   HTTP/1.1 202 Accepted

or the following upon successful sync processing (shown for completeness)

   HTTP/1.1 201 Created

the client can then 'ping' the server with HEAD requests to determine
the current status of the async processing:

   HEAD /x.xml HTTP/1.1
   Host: example.com

so long as the file processing is not complete, the 202 code will be
returned. When the processing is complete, the response will be:

   HTTP/1.1 200 OK

Hope that helps. For more info, see
http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html

Alan Dean
Lead Developer, OnlineTravel.com




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6147<br>
Sender:"Sandeep Shetty" &lt;sandeep.shetty@...&gt;<br>
Post Date/Time:2006-04-23 18:25:05<br>
Subject:Re: [rest-discuss] response header, location<br>
Message:<br><br>
<pre>Hey David,

On 4/23/06, Dave Pawson &lt;dave.pawson@...&gt; wrote:
&gt; I want to provide a service where a client
&gt; submits (PUT) an XML file for processing.

Why the PUT and not a POST?


Sandeep Shetty
http://sandeep.shetty.in/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6148<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-04-23 21:40:46<br>
Subject:Re: [rest-discuss] response header, location<br>
Message:<br><br>
<pre>Dave Pawson wrote:
&gt; I want to provide a service where a client
&gt; submits (PUT) an XML file for processing.
&gt; 

That really sounds like a POST, not a PUT. The difference is that in 
POST the server picks the URL. In PUT the client does. But maybe I'm 
misunderstanding exactly how your application will work.


-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6149<br>
Sender:"odim_sg" &lt;odim_sg@...&gt;<br>
Post Date/Time:2006-04-24 09:46:19<br>
Subject:Server-side cache with REST architecture<br>
Message:<br><br>
<pre>I'm working on an architecture with Apache+tomcat+mod_jk (for the
coupling Tomcat/Apache) using also mod_rewrite to have REST style URLs:

Ex: /City/Paris/
 
The issue is that i need to cache services that send datas on the cities 
In fact, when i'm calling a jsp page i want to retreive datas from the
cache on the server. The service will send XML with CSS to be formated
with the browsers.

The client side cache doesn't seem to be an issue,on the other hand if
applications try to access to services they don't have a client-side
cache so i want to put it on the server side.  

How can we do that?  






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6150<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-24 12:08:32<br>
Subject:Re: [rest-discuss] Server-side cache with REST architecture<br>
Message:<br><br>
<pre>"odim_sg" &lt;odim_sg@...&gt; writes:

&gt; I'm working on an architecture with Apache+tomcat+mod_jk (for the
&gt; coupling Tomcat/Apache) using also mod_rewrite to have REST style URLs:
&gt;
&gt; Ex: /City/Paris/
&gt;  
&gt; The issue is that i need to cache services that send datas on the cities 
&gt; In fact, when i'm calling a jsp page i want to retreive datas from the
&gt; cache on the server. The service will send XML with CSS to be formated
&gt; with the browsers.
&gt;
&gt; The client side cache doesn't seem to be an issue,on the other hand if
&gt; applications try to access to services they don't have a client-side
&gt; cache so i want to put it on the server side.  
&gt;
&gt; How can we do that?  

Sorry - I don't really understand.

Why do you want to build a cache on the server side?


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6151<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-04-24 12:38:46<br>
Subject:Re: [rest-discuss] Server-side cache with REST architecture<br>
Message:<br><br>
<pre>&gt;
&gt;The client side cache doesn't seem to be an issue,on the other hand if
&gt;applications try to access to services they don't have a client-side
&gt;cache so i want to put it on the server side.  
&gt;

You could configure Squid cache as a "server accelerator", and have your
applications request from Squid instead of directly from your services.

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6152<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-04-24 13:54:35<br>
Subject:Re: Resource personalisation: Was: [rest-discuss] Cacheability example<br>
Message:<br><br>
<pre>Benjamin Carlyle wrote:

&gt; The biggest downside of including this identity information in the url
&gt; when it is only going to be used for personalisation is that I cannot
&gt; easily send this url off to a friend. They would get my version instead
&gt; of theirs, and may not even be authorised to do so. It is really a
&gt; perversion of the URI system.

I tend to think of the personalized page as a separate resource that 
indeed deserves a separate URL. For instance,

http://www.examplestore.com/shoppingcarts/elharo

is one resource and


http://www.examplestore.com/shoppingcarts/johnsmith

is another. Indeed in some context I might want to send such a 
personalized page to another user. For instance I might fill up my 
shopping cart and then fire off an e-mail to the purchasing dept. 
containing the URL http://www.examplestore.com/shoppingcarts/elharo and 
ask them to complete the transaction.

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6153<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-04-24 18:25:51<br>
Subject:Re: [rest-discuss] Practicalities of URL length on the WWW in 2006<br>
Message:<br><br>
<pre>John Elliot wrote:

&gt; Does anyone have any data (based on recent bitter experience) on the 
&gt; real practical upper limit on URL size on the web as it exists at this 
&gt; point in time?
&gt; 

The only limit I've hit in the last few years was in PHP, a server side 
framework. I had a huge URL holding up to a couple of thousand fields in 
the query string, and PHP crapped out; but the browsers could all handle it.

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6154<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-04-24 18:29:17<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>Bob Haugen wrote:

&gt; But can the server GET representations from other resources when
&gt; processing a request?
&gt; 
&gt; (E.g. get a credit authorization before responding to a purchase order message.)


Certainly. The client doesn't care what the server does or who it 
consults to generate its response as long as its response is a proper 
HTTP response with the correct response code, headers, and body for the 
situation.

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6155<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2006-04-24 18:53:27<br>
Subject:Re: [rest-discuss] Re: Meaning of stateless<br>
Message:<br><br>
<pre>On 4/24/06, Elliotte Harold &lt;elharo@...&gt; wrote:
&gt; Bob Haugen wrote:
&gt;
&gt; &gt; But can the server GET representations from other resources when
&gt; &gt; processing a request?
&gt; &gt;
&gt; &gt; (E.g. get a credit authorization before responding to a purchase order message.)
&gt;
&gt;
&gt; Certainly. The client doesn't care what the server does or who it
&gt; consults to generate its response as long as its response is a proper
&gt; HTTP response with the correct response code, headers, and body for the
&gt; situation.

That's my opinion, too.  And in that case, I can't think of very many
use cases that could not be handled RESTfully, by making whatever you
need to access into a resource.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6156<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-24 23:14:21<br>
Subject:ANN: RESTyFUSE file system<br>
Message:<br><br>
<pre>Details (including how to download) about the simple REST based fs I
mentioned the other day are available here:

  http://www.nongnu.org/restyfuse/restyfuse.html



Nic Ferrier   

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6157<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2006-04-25 09:36:10<br>
Subject:Re: [rest-discuss] Practicalities of URL length on the WWW in 2006<br>
Message:<br><br>
<pre>Elliotte Harold wrote:
&gt; John Elliot wrote:
&gt; 
&gt; 
&gt;&gt;Does anyone have any data (based on recent bitter experience) on the 
&gt;&gt;real practical upper limit on URL size on the web as it exists at this 
&gt;&gt;point in time?
&gt;&gt;
&gt; 
&gt; 
&gt; The only limit I've hit in the last few years was in PHP, a server side 
&gt; framework. I had a huge URL holding up to a couple of thousand fields in 
&gt; the query string, and PHP crapped out; but the browsers could all handle it.
&gt; 
I had a similar experience with ASP and ASP.NET, though in that case it 
was IIS being set up by the ISP to get paranoid about long URIs (in case 
there is an attempt at some sort of buffer-overflow I think) though I do 
think there are limits even without such a set-up, though the limits 
were fine for once I was doing once I called in a favour to have the 
ISPs rules bent.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6158<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-04-27 14:19:57<br>
Subject:PUT, 201 response post parse?<br>
Message:<br><br>
<pre>I put an xml file to a server.
The mediaType is text/xml.
The server reads it into memory using an xml parser.

There is a well formed error in the xml.

HTTP has succeeded, the transport has taken place.
The resource has not been created (not written to disk hence
no available resource for a client to GET).

What should the response be, at the HTTP layer?
200, transfer successful
or
201 resource created.

I *think* that parsing the file is application layer,
so I could write a bad XML file to disk
ready for a GET.

Bit gray?
Or clear as a bell?

Advice please

--
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6159<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-04-27 14:29:57<br>
Subject:Re: [rest-discuss] PUT, 201 response post parse?<br>
Message:<br><br>
<pre>"The meaning of any HTTP message is defined by the contents of that message as interpreted according to the HTTP standard. If a client requests that a server store a representation at a given URI and the server's configuration states that the given URI implies metadata inconsistent from what has been provided by the client, then the server should reject the request using an appropriate HTTP status code."

http://www.w3.org/2001/tag/doc/mime-respect

If the client is submitting a text file, and the httpd is expecting XML, perhaps a 406 is the proper response with a message stating that well-formed input is required.

-Eric

&gt;
&gt;I put an xml file to a server.
&gt;The mediaType is text/xml.
&gt;The server reads it into memory using an xml parser.
&gt;
&gt;There is a well formed error in the xml.
&gt;
&gt;HTTP has succeeded, the transport has taken place.
&gt;The resource has not been created (not written to disk hence
&gt;no available resource for a client to GET).
&gt;
&gt;What should the response be, at the HTTP layer?
&gt;200, transfer successful
&gt;or
&gt;201 resource created.
&gt;
&gt;I *think* that parsing the file is application layer,
&gt;so I could write a bad XML file to disk
&gt;ready for a GET.
&gt;
&gt;Bit gray?
&gt;Or clear as a bell?
&gt;
&gt;Advice please
&gt;
&gt;--
&gt;Dave Pawson
&gt;XSLT XSL-FO FAQ.
&gt;http://www.dpawson.co.uk
&gt;
&gt;
&gt; 
&gt;Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt; 
&gt;
&gt;
&gt;
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6160<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-04-27 14:29:26<br>
Subject:Re: [rest-discuss] PUT, 201 response post parse?<br>
Message:<br><br>
<pre>
If you write it to the disk and make it available then it's a 201.

If you don't write it to the disk and make it available, then its an 
error code in the 400 range.

HTTP doesn't care about XML level errors. However it doesn't say you 
have to accept bad XML either. The choice is with your app. HTTP never 
obligates you to accept a PUT request. All it requires is that you 
return the right response code to indicate what you did. The choice of 
what to do is up to you.

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6161<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-27 14:30:45<br>
Subject:Re: [rest-discuss] PUT, 201 response post parse?<br>
Message:<br><br>
<pre>"Dave Pawson" &lt;dave.pawson@...&gt; writes:

&gt; I put an xml file to a server.
&gt; The mediaType is text/xml.
&gt; The server reads it into memory using an xml parser.
&gt;
&gt; There is a well formed error in the xml.
&gt;
&gt; HTTP has succeeded, the transport has taken place.

Not until you say so.


&gt; The resource has not been created (not written to disk hence
&gt; no available resource for a client to GET).

Resources don't have to be written to disc. They do have to be created
of course.



&gt; What should the response be, at the HTTP layer?
&gt; 200, transfer successful
&gt; or
&gt; 201 resource created.

I think something indicating bad input. 400 at least.




Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6162<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-04-27 14:40:59<br>
Subject:Re: [rest-discuss] PUT, 201 response post parse?<br>
Message:<br><br>
<pre>On Apr 27, 2006, at 7:29 AM, Elliotte Harold wrote:

&gt; If you write it to the disk and make it available then it's a 201.
&gt;
&gt; If you don't write it to the disk and make it available, then its an
&gt; error code in the 400 range.
&gt;
&gt; HTTP doesn't care about XML level errors. However it doesn't say you
&gt; have to accept bad XML either. The choice is with your app. HTTP never
&gt; obligates you to accept a PUT request. All it requires is that you
&gt; return the right response code to indicate what you did. The choice of
&gt; what to do is up to you.

One of these days I'll find the time to write an I-D that
describes the 418 status code we discussed on March 24.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6163<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-04-27 15:02:43<br>
Subject:Re: [rest-discuss] PUT, 201 response post parse?<br>
Message:<br><br>
<pre>What I don't understand is why that input can't be processed with TagSoup or similar to make it well-formed.

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6164<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2006-04-28 04:20:22<br>
Subject:RE: [rest-discuss] PUT, 201 response post parse?<br>
Message:<br><br>
<pre> 
&gt; What I don't understand is why that input can't be processed 
&gt; with TagSoup or similar to make it well-formed.
&gt; 
&gt; -Eric
If the incoming data was a business contract, you don't want to get it wrong
by 'cleaning' it up. 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6165<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-04-28 04:27:49<br>
Subject:Re:  [rest-discuss] PUT, 201 response post parse?<br>
Message:<br><br>
<pre>&gt; 
&gt;&gt; What I don't understand is why that input can't be processed 
&gt;&gt; with TagSoup or similar to make it well-formed.
&gt;&gt; 
&gt;&gt; -Eric
&gt;If the incoming data was a business contract, you don't want to get it wrong
&gt;by 'cleaning' it up. 
&gt;

Yes, I understand this for many cases.  But what if we're just talking about a comment posted to a weblog, where we aren't talking about someone trying to post a PDF or anything, just some invalid markup?  I don't see the harm if we just want the XML posts we're expecting to contain valid HTML, and the user submitting the markup has the ability to go back and edit the cleaned-up result.

I guess it would be better to return the corrected version with a 400 error and a submit button, if they choose to accept the server's corrections.  But that seems like it would annoy people as much as if it were a spellchecker.

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6166<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-04-28 07:08:19<br>
Subject:Re: PUT, 201 response post parse?<br>
Message:<br><br>
<pre>Thanks all for the replies.

http://www.w3.org/2001/tag/doc/mime-respect#inconsistency
"respond with "415 Unsupported Media Type" and a message stating why
the request is inconsistent with the resource."

I like this - how do I get the message back to the client please?

"If you don't write it to the disk and make it available, then its an
error code in the 400 range."

400 error 'malformed syntax' - I'm unsure as to how that is defined.
HTTP syntax? I'm referring to a malformed payload.

Roys 418 might be 'right' but isn't there yet?
Where's it defined please?

TagSoup is a good idea, but I'm dealing with medical data, I guess screwing
up dose levels might not be appropriate :-)

415 seems the best idea. I'm not going to create the resource,
since it isn't XML it effectively matches the webarch conditions.

Thanks again.


regards
--
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6167<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-04-28 11:34:51<br>
Subject:Re: [rest-discuss] Re: PUT, 201 response post parse?<br>
Message:<br><br>
<pre>Dave Pawson wrote:
&gt; Thanks all for the replies.
&gt; 
&gt; http://www.w3.org/2001/tag/doc/mime-respect#inconsistency
&gt; "respond with "415 Unsupported Media Type" and a message stating why
&gt; the request is inconsistent with the resource."
&gt; 
&gt; I like this - how do I get the message back to the client please?
&gt; 
&gt; "If you don't write it to the disk and make it available, then its an
&gt; error code in the 400 range."
&gt; 

  "400 range" is shorthand "It's an error. Send back something from 
400-499, and I don't feel like looking in the spec right now to figure 
out which one is most appropriate so you'll have to do that yourself.":-)

To get the message back to the client all you have to do is pick the 
right error code in the response header line; e.g.

HTTP 415  Unsupported media type

How you do that depends on what software you're using to send the message.

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6168<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-04-29 02:30:00<br>
Subject:Re: Resource personalisation: Was: [rest-discuss] Cacheability	example<br>
Message:<br><br>
<pre>On Mon, 2006-04-24 at 09:54 -0400, Elliotte Harold wrote:
&gt; Benjamin Carlyle wrote:
&gt; &gt; The biggest downside of including this identity information in the url
&gt; &gt; when it is only going to be used for personalisation is that I cannot
&gt; &gt; easily send this url off to a friend. They would get my version instead
&gt; &gt; of theirs, and may not even be authorised to do so. It is really a
&gt; &gt; perversion of the URI system.
&gt; I tend to think of the personalized page as a separate resource that 
&gt; indeed deserves a separate URL. For instance,
&gt; http://www.examplestore.com/shoppingcarts/elharo
&gt; is one resource and
&gt; http://www.examplestore.com/shoppingcarts/johnsmith
&gt; is another. Indeed in some context I might want to send such a 
&gt; personalized page to another user. For instance I might fill up my 
&gt; shopping cart and then fire off an e-mail to the purchasing dept. 
&gt; containing the URL http://www.examplestore.com/shoppingcarts/elharo and 
&gt; ask them to complete the transaction.

Agreed. However when I said "personalised" I was not referring to the
shopping cart url for john smith. I was referring to the
http://www.examplestore.com/tshirts/akira
product url that recognises elharo is the user, and provides a link to
his shopping cart as part of the html. The naieve implementation is not
restful, however the use of client-side includes could lead to a restful
implementation:

1) elharo downloads &lt;http://www.examplestore.com/tshirts/akira&gt;, getting
the same version as everyone else does
2) Some Javascript contained or linked in the returned html causes the
browser to look up http://www.examplestore.com/personalisedlinks/elharo
3) The two documents are sewn together on the client side. REST is
preserved at the network level. Caching works properly for everyone.
4) When eharo sends the &lt;http://www.examplestore.com/tshirts/akira&gt; link
to johnsmith, johnsmith sees a link to his own shopping cart on the
page. He doesn't see a link to elharo's page.

That's the difference between personalisation and ownership. If it is my
url and only applicable to me, it should have my name or anonymous user
id lodged in there somewhere. If it is a url that has meaning
independant of who is looking at it but is more friendly if it includes
data pertaining to myself, then the friendly version is a personalised
url.

Benjamin


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6169<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-29 09:11:51<br>
Subject:Re: Resource personalisation: Was: [rest-discuss] Cacheability  example<br>
Message:<br><br>
<pre>Benjamin Carlyle &lt;benjamincarlyle@...&gt; writes:

&gt; On Mon, 2006-04-24 at 09:54 -0400, Elliotte Harold wrote:
&gt;&gt; Benjamin Carlyle wrote:

&gt; 1) elharo downloads &lt;http://www.examplestore.com/tshirts/akira&gt;, getting
&gt; the same version as everyone else does
&gt; 2) Some Javascript contained or linked in the returned html causes the
&gt; browser to look up http://www.examplestore.com/personalisedlinks/elharo
&gt; 3) The two documents are sewn together on the client side. REST is
&gt; preserved at the network level. Caching works properly for everyone.
&gt; 4) When eharo sends the &lt;http://www.examplestore.com/tshirts/akira&gt; link
&gt; to johnsmith, johnsmith sees a link to his own shopping cart on the
&gt; page. He doesn't see a link to elharo's page.
&gt;
&gt; That's the difference between personalisation and ownership. If it is my
&gt; url and only applicable to me, it should have my name or anonymous user
&gt; id lodged in there somewhere. If it is a url that has meaning
&gt; independant of who is looking at it but is more friendly if it includes
&gt; data pertaining to myself, then the friendly version is a personalised
&gt; url.

S'right.

It's a difficult balance when to publish which. Perhaps doing this
often will lead us to best practice.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6170<br>
Sender:"Andrew S. Townley" &lt;andrew.townley@...&gt;<br>
Post Date/Time:2006-04-29 11:39:35<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>Please forgive me if these points have been made already.  I'm only now
catching up with the last month's worth of email.

On Fri, 2006-04-21 at 00:11, Nic wrote:
&gt; But your earlier arguments were about sessions and session state which
&gt; I don't believe is necessary or right. In fact, when building
&gt; massivly scaled apps it's very bad because it forces just one
&gt; implementation strategy (very, very big iron).

Hi Nic,

I agree that sessions *can* lead to very, very big iron as the only way
to scale them, but I don't think that's the only way.

To me, the State part of REST is just as important as the Representation
part, as I think Bill pointed out in an earlier response.  With
more-or-less static things like a web page, this is easy to scale, but
you need to think about how that scalability is accomplished: 
replication of the thing that will be represented across multiple
physical locations.

A web page is a degenerate application example with a few different
states with some of the key ones being:  there, gone, not there and
error.  I think this is a very important point.

If a representation is "there", but the thing that will provide the
representation can also be in different [application] states, then this
is where things get fuzzy.  To some people, each of these internal
"there"/application states represent a different resource.  I think
that's one way, but with dynamic resources, I think it's important to
really think about which is more important, the application state or the
resource state.  I don't think that these are necessarily the same
thing.

This is why I took the approach I did with RRMTP.  The resource being
manipulated represents an instance of an application state machine for
one client (a session, if you will).  As the client manipulates that
resource, they cause application state transitions within "their"
resource which will accomplish a business task.  When this task is done,
the resource no longer exists.

Back to the scalability issue, you actually do have this sort of issue
with web pages as well, it's just that the cost of replicating the
current state of the resource to across a server farm is much less
because those resources don't change often, and if they do change,
people may be able to live with stale information for a short period of
time until the replication process is complete.

Another couple of related points to this are based on content
negotiation as I understand it and also on trust.  If a URI represents a
resource with potentially multiple representations based on the needs of
the requester, these needs are facilitated when the representation of
that resource is created and sent to the client.  A PDF file is very
different than an HTML file, but both may be views of the same resource
based on the needs of the client.  How are those needs expressed to the
server?  Through a well-documented mechanism in the HTTP specification: 
the Accept header.  The state of the URI isn't PDF vs. HTML, the state
of the URI is "there" or "not there", etc.  For the shopping cart, if
you can say (hypothetical example):

GET /cart HTTP/1.1
User-ID:  12345

and that actually results in you being redirected to /cart/x12345 which
shows "your" current cart, then that would be perfectly ok, I think. 
While you're shopping, you continue to use /cart/x12345, and if you try
not to use /cart/x12345, you may either get sent there based on some
shared context, or you may get a new cart.  This is not wildly different
than GET /image =&gt; /image.png vs. /image.gif vs. image.jpg, it is just
that the scope of the valid context is smaller.

Also, in a long conversation and interaction with a resource moving
through application states, the client may end up with a lot of context
it needs to send with each request.  This to me is just as opaque as
session state on the server when looking at sharing URIs via email.  In
this respect, I see URIs as just keys in a massively huge hashtable.

One final point, and I know this has gotten longer than I intended, in
maintaining all of the context in the exchange between the client and
the server on the client, you have a massive trust dependency on the
information you get from the client not being changed between their
browser and your server.  Of course, you can solve this with HTTPS, but
should browsing and putting items in a cart actually require HTTPS to
establish that trust?  I don't think they necessarily should.  Checking
out would require strong authentication, but putting items in the cart
wouldn't necessarily.

Maybe this doesn't make sense.  I'm still trying to figure out all this
stuff too.

ast
-- 
Join me in Dubrovnik, Croatia on May 8-10th when I will be speaking at
InfoSeCon 2006.  For more information, see www.infosecon.org.
***************************************************************************************************
The information in this email is confidential and may be legally privileged Access to this email by anyone other than the intended addressee is unauthorized. If you are not the intended recipient of this message, any review, disclosure, copying, distribution, retention, or any action taken or omitted to be taken in reliance on it is prohibited and may be unlawful. If you are not the intended recipient, please reply to or forward a copy of this message to the sender and delete the message, any attachments, and any copies thereof from your system.
***************************************************************************************************




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6171<br>
Sender:"Andrew S. Townley" &lt;andrew.townley@...&gt;<br>
Post Date/Time:2006-04-29 11:43:18<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>On Thu, 2006-04-20 at 23:22, Lyle Kopnicky wrote:
&gt; Perhaps your point is that the resource is cacheable, because it's 
&gt; denoted by the URL, but the session is not cacheable.  But cacheability 
&gt; is tied to persistence.  If you dynamically generate the response each 
&gt; time, it's not cacheable anyway.

But isn't it the *representation* that's cacheable?  The resource is
probably some abstract thing that is still living on the server, or in a
database or somewhere else.  All the user and intermediary ever get is a
particular representational view of the resource.

ast
-- 
Join me in Dubrovnik, Croatia on May 8-10th when I will be speaking at
InfoSeCon 2006.  For more information, see www.infosecon.org.
***************************************************************************************************
The information in this email is confidential and may be legally privileged Access to this email by anyone other than the intended addressee is unauthorized. If you are not the intended recipient of this message, any review, disclosure, copying, distribution, retention, or any action taken or omitted to be taken in reliance on it is prohibited and may be unlawful. If you are not the intended recipient, please reply to or forward a copy of this message to the sender and delete the message, any attachments, and any copies thereof from your system.
***************************************************************************************************





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6172<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-04-29 12:58:51<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>")
Message-ID: &lt;87odyk7d2s.fsf@...&gt;
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

"Andrew S. Townley" &lt;andrew.townley@...&gt; writes:

&gt; Back to the scalability issue, you actually do have this sort of issue
&gt; with web pages as well, it's just that the cost of replicating the
&gt; current state of the resource to across a server farm is much less
&gt; because those resources don't change often, and if they do change,
&gt; people may be able to live with stale information for a short period of
&gt; time until the replication process is complete.

With a session based model the state has to be distributed and locking
mechanisms put in place to ensure transactional consistency.

With REST, you can maintain the state of the resource in the resource
and simply redirect people to the correct resource.

For example. If the bank app is session based then I have to
distribute the data on currently extant sessions across the
serverbase.

With REST I can simply store the data in a resource (not necessarily a
file) and have any server recieving a request send a redirect to the
user pointing them at the server owning the resource pertinent to
them.

In effect one partitions the resource namespace and tells the client
about it.

Now I think of it though this would be possible with session
too... it's just that none of the session load balancers that I'm
aware of does it that way. Maybe this is because such a partitioning
scheme would have to be embedded in the application.



&gt; One final point, and I know this has gotten longer than I intended, in
&gt; maintaining all of the context in the exchange between the client and
&gt; the server on the client, you have a massive trust dependency on the
&gt; information you get from the client not being changed between their
&gt; browser and your server.  Of course, you can solve this with HTTPS, but
&gt; should browsing and putting items in a cart actually require HTTPS to
&gt; establish that trust?  I don't think they necessarily should.  Checking
&gt; out would require strong authentication, but putting items in the cart
&gt; wouldn't necessarily.

I think it should be secure if we can make it that way. Right now
people don't want to pay the cost of TLS all the time, but they'll
have to if they want privacy and security because it's really the only
way.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6173<br>
Sender:"Andrew S. Townley" &lt;andrew.townley@...&gt;<br>
Post Date/Time:2006-04-29 14:59:38<br>
Subject:Re: [rest-discuss] REST &amp; Internal Integration<br>
Message:<br><br>
<pre>Hi (Mike)^2,

On Fri, 2006-04-21 at 02:30, Mike Herrick wrote:
&gt; &gt; ##########
&gt; &gt; See I don't agree with you on sync vs. async - I still see
&gt; &gt; complexity mounting when you have a lot of sync services.
&gt; &gt; 
&gt; &gt; I'm ok with the callback - handing the service you post the
&gt; &gt; request to a URL to post back to you with the results. I
&gt; &gt; don't like the post to service, get an id, and then post back
&gt; &gt; to the same service at an interval to get the response
&gt; &gt; approach. We have a feature that was implemented like this
&gt; &gt; and it is a pain. The polling thread wakes up every hour to
&gt; &gt; check for results. It has a fair amount of complexity and
&gt; &gt; wastes a lot of CPU (not that I'm really counting). But I'm
&gt; &gt; cool with the callback approach so it's a non issue next time.
&gt; &gt; ##########

The one thing to remember with callbacks as you describe and REST is
that you're making the assumption that your client is also capable of
running a webserver too.  With polling, you can have really thin clients
which have very different operational capabilities than the server they
connect to without affecting the overall message delivery capabilities
of your architecture.  In practice, you've a lot of potential things
that can get in the way, and defeat some part of your loose coupling
benefits of async delivery, e.g. firewalls, software requirements, SLA
requirements, etc.  With "pull", you don't have these constraints and
your architecture only needs to worry about the resources under your
control.

We've done the polling client approach with everything from JavaScript,
C# and Java to a Bourne shell script built using the curl command-line
utility.  Mind you, these things just transfer the message, which is the
important part, and then they may hand it off to an event-driven
consumer of the message for doing some real work or write it to a file
drop, or whatever for the next step in the processing chain.

I guess the key point is that you can do asynchronous service
implementations over an inherently synchronous transport, but you just
need to make sure you have the right separation of concerns.

Cheers,

ast
-- 
Join me in Dubrovnik, Croatia on May 8-10th when I will be speaking at
InfoSeCon 2006.  For more information, see www.infosecon.org.
***************************************************************************************************
The information in this email is confidential and may be legally privileged Access to this email by anyone other than the intended addressee is unauthorized. If you are not the intended recipient of this message, any review, disclosure, copying, distribution, retention, or any action taken or omitted to be taken in reliance on it is prohibited and may be unlawful. If you are not the intended recipient, please reply to or forward a copy of this message to the sender and delete the message, any attachments, and any copies thereof from your system.
***************************************************************************************************


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6174<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2006-04-30 06:29:02<br>
Subject:RE: [rest-discuss] REST &amp; Internal Integration<br>
Message:<br><br>
<pre>Mike,
Sorry I haven't responded sooner... To make up for it, I wrote a really long
response.

I don't have anything against JMS or messaging systems, they are great
tools. And just like HTTP, they work wonders when used in the right
situation. This thread is interesting to me because there hasn't been much
discussion about applying aspects of REST to a classical asynchronous
messaging based system. 
In my opinion, there are a couple things that are similar between the two -
simple and common interactions for many kinds of applications (send message,
receive message, etc), payload formats independent of message framing, and
so on. But there are a few things common in REST that I don't see in JMS or
other messaging systems :

1) application semantics : sending a message in REST means something
(delete, modify, retrieve, etc), whereas sending a message in JMS or other
messaging systems is just sending a message (and it usually has unknown
consequences, which requires endless coordination to work out the details)

2) resource identifiers : this sort of follows from being an application
protocol - the protocol is all about interacting with resources, which
provides a framework for modelling applications (above just moving bytes
from point a to point b).

3) hypertext (as the engine of application state) : this is one of the
facets of REST that took me the longest to put into practice, but has paid
off very well. Using documents with tags that help pick out the resource
identifiers is invaluable in a dynamic, adaptive and configuration-free
system. Many systems have dynamically retrieved configurations, and this
provides part of the benefit of hypertext, and when links (resource
identifiers that can be interacted with) are used a lot of config file
processing becomes generalizable and just falls away. For example, at work
we recently built a large scale real-time data publishing system and the
consuming systems have a link to a 'directory service', which is an xml blob
with elements with links to the subjects to subscribe to, links to the
cold-start data to bootstrap with and so on. The cold-start data is somewhat
large, but by teaching the clients to 'just follow the links', the data
could be arbitrarily partitioned by the server. In addition, with a little
thought you could put multiple links in there and have parallel streams
being retrieved by the client - a good way to utilize all that bandwidth
just laying around.


&gt; I spend most of my time working on a system that has approximately 50
&gt; services. The services are pretty stupid, all they know is
&gt; they get an event XML input. They typically respond with an
&gt; XML event. They listen on a set of JMS Topics or a Topic
&gt; pattern (e.g., COMPANYNAME.LINEOFBUSINESS.NOUN.*).
&gt; They also typically respond to set of Topics. What I like
&gt; about JMS in the system is the guaranteed delivery &amp; durable
&gt; subscriptions. The service impls don't care about the network
&gt; because they know that JMS is there. 
These are extremely useful tools - durable subscriptions, guaranteed
delivery, etc. But from my point of view the 'service' isn't all that
'stupid'. The service is everything the outside world would see, and that
includes those handy things like disconnected use and reliability. The code
that plugs into this is simplified by that environment, which is hufely
valuable. I'm not a messaging or protocol expert, but I always thought that
HTTP over TCP/IP provided guaranteed delivery within the connection - I'd
like to hear from others on how we should consider the 'guarantee-ness' of
HTTP (within a connection). The extra complexity of guaranteed delivery
outside of a TCP/IP connection provides support for the disconnected use
cases you mention, and I think this would be a great thing for a Web-scale
system to provide, but I don't see it happening yet and I'm not sure why. 


&gt; Also, durable subscriptions are great [...]
&gt; I would really like to see an HTTP based pub/sub like this. 
&gt; Idon't know enough about REST to know if it would be evil to do. 
&gt; I babbled about that a bit more here:
&gt; http://fuzzypanic.blogspot.com/2006/03/httppox-xml-based-eda-pub-sub.html
&gt; Let me know if you know of anything.
There have been a few companies doing that - you found mod_pubsub already,
which was a spin-out from KnowNow (which I helped start up many years ago,
for a short period of time). Supposedly Renkoo may be doing work to make
mod-pubsub live again. The toy 'messaging' web app I linked to last time
shows that it's very easy to build messaging with pure HTTP, and with modern
systems supporting non-blocking IO, it's not too hard to be efficient. The
hard part is the pump that keeps the messages flowing along the durable
subscriptions, dealing with cycles and other plumbing issues.

You ask a very good question though - is pubsub compatible with REST? If
REST is about application level semantics, you could model messages,
subscriptions, etc. as resources and go that route. But then what are the
messages about? How are those raised to the application level so that common
semantics can be applied?


&gt; Sure, but that block means something typically - it means the
&gt; message was persisted so the client doesn't have to ferret it
&gt; away just in case something bad happens later. 
&gt; With Web Style, you can do that too - my point is you have to do that
&gt; yourself (client ferret away the data that was PUT/POST).
I see this as partly a difference in whether the client host or the server
host has some persistent storage. If there is no client persistent storage,
then the client application logic needs to know when the server has taken
hold of the data in some persistent fashion (if that's the goal in that
situation). The other part is how well the application behaves in the face
of an outage or disconnection - picking up where you left off is harder if
the application doesn't store the state as it makes progress. My hunch is
that making progress when outbound messages are not being delivered isn't a
huge win most of the time - if there was work that could be accomplished
without outbound network traffic, then it should be accomplished regardless
of the messaging style.


&gt; Nope, I mean make pub/sub more RESTful. 
&gt; Like I said, I don't know enough about REST principals to know if 
&gt; this is evil or not. I have a decent messaging middleware product today. 
&gt; I'm happy with it - I just want to know if its overkill or not or
&gt; if there is a simpler way. If some of my integration types
&gt; are best handled via JMS, fine with me. I just want to ask
&gt; the "stupid question" - to make sure I'm not thinking JMS is
&gt; better then it is.
JMS is fine. I have to ask though, how often do you use JMS to integrate
with groups outside your control, or outside your company?

&gt; &gt; Here is a sample app I wrote a while back that does what you are talking
about : 
&gt; &gt;
http://www.searchalert.net:8080/dierken/events/chat.html?topic=rest-discuss
&gt; &gt; The underlying system holds messages here:
http://www.searchalert.net:8080/xmlrouter/msgs/rest-discuss
&gt; So what is on the server - is there messaging behind it?
Nope, just a 50 line servlet and the messages in-memory in a linked list.



&gt; &gt; Are you sure you didn't mean N+1 responses?
&gt; I'm talking about a client sending 1 request, having N
&gt; services subscribe and send a response to the client.
I was kidding. The issue I was alluding to is - how do you know you've
received all the messages or if there is still one more straggler? The
pubsub approach is 'supposed' to be about loosely coupled systems, but if
the publisher has to change to meet the specifications of each consumer,
then that loose coupling has just tightened.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6175<br>
Sender:Claude Montpetit &lt;claude@...&gt;<br>
Post Date/Time:2006-05-01 14:07:30<br>
Subject:Re: [rest-discuss] REST &amp; Internal Integration<br>
Message:<br><br>
<pre>

Mike Dierken a �crit :
&gt; Mike,
&gt; Sorry I haven't responded sooner... To make up for it, I wrote a really long
&gt; response.
&gt; 
&gt; I don't have anything against JMS or messaging systems, they are great
&gt; tools. And just like HTTP, they work wonders when used in the right
&gt; situation. This thread is interesting to me because there hasn't been much
&gt; discussion about applying aspects of REST to a classical asynchronous
&gt; messaging based system. 

I've been playing with both JMS and REST recently and at first, I was 
trying to see how REST could be used instead of JMS. I came to think 
that these 2 "specifications" should not be seen as one-or-the-other. 
They are 2 different technologies that solve 2 different sets of 
problem; they can play together nicely when facilitating access to a JMS 
service is a requirement.

In our system, we have a bunch JMS services (queue receivers and topic 
consumers). We provide custom Java client classes that clients can use 
to easily connect to the services. These talk directly to the JMS 
brokers to contact our JMS services.

There is (well, will be) also a REST interface to the JMS services. The 
REST service allows the creation of a service request through a simple 
POST to a URI. The implementation of this REST "service" connects to the 
JMS broker, sends the corresponding message, and waits (with timeout) 
until it receives confirmation that the message was received by the JMS 
service. This confirmation of reception implies that the service request 
has created  a resource and this new resource is returned to the REST 
client who can, at anytime, GET it to see the status of his orignal 
request (running, completed, cancelled, logging ...).

So far, the JMS custom client classes are only used internally, and 
while the system has not yet been used by our clients, I expect they 
will prefer to use the REST access to the service. Even though the Java 
JMS custom classes provide finer control, REST' simplicity will most 
likely be a real advantage.

Technically, from REST's client perspective, the launching of the 
service is synchronous: the REST server connects to the JMS service, 
waits for confirmation of reception, and returns the resource URI to the 
client. But the execution of the service request is asynchronous, and 
the REST clients can make calls on the returned URI to check the status 
of the JMS service request.



&gt; [...]

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6176<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-05-01 17:45:16<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>Andrew S. Townley wrote:
&gt; On Thu, 2006-04-20 at 23:22, Lyle Kopnicky wrote:
&gt;   
&gt;&gt; Perhaps your point is that the resource is cacheable, because it's 
&gt;&gt; denoted by the URL, but the session is not cacheable.  But cacheability 
&gt;&gt; is tied to persistence.  If you dynamically generate the response each 
&gt;&gt; time, it's not cacheable anyway.
&gt;&gt;     
&gt;
&gt; But isn't it the *representation* that's cacheable?  The resource is
&gt; probably some abstract thing that is still living on the server, or in a
&gt; database or somewhere else.  All the user and intermediary ever get is a
&gt; particular representational view of the resource.
&gt;   
Yes, it's the representation that's cacheable. My point is that when a 
resource has only one representation, cacheability is high. When a 
resource has many representations, each must be cached separately, thus 
reducing cache effectiveness in the system.

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6177<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-05-01 17:48:32<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>Nic wrote:
&gt; ")
&gt; Message-ID: &lt;87odyk7d2s.fsf@...&gt;
&gt; MIME-Version: 1.0
&gt; Content-Type: text/plain; charset=us-ascii
&gt;
&gt; "Andrew S. Townley" &lt;andrew.townley@...&gt; writes:
&gt;
&gt;   
&gt;&gt; Back to the scalability issue, you actually do have this sort of issue
&gt;&gt; with web pages as well, it's just that the cost of replicating the
&gt;&gt; current state of the resource to across a server farm is much less
&gt;&gt; because those resources don't change often, and if they do change,
&gt;&gt; people may be able to live with stale information for a short period of
&gt;&gt; time until the replication process is complete.
&gt;&gt;     
&gt;
&gt; With a session based model the state has to be distributed and locking
&gt; mechanisms put in place to ensure transactional consistency.
&gt;
&gt; With REST, you can maintain the state of the resource in the resource
&gt; and simply redirect people to the correct resource.
&gt;   
But then, the resource has to be distributed. And now the state of the 
resource will change as often as the session would have, had you been 
using one. Which makes it just as hard to distribute.

I guess you're implying there are more or better tools to handle 
distribution of resources (including frequently changing ones?) than 
there are to handle distribution of Sessions.

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6178<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-05-01 18:35:45<br>
Subject:Re: [rest-discuss] The case for 'subject', 'verb', 'object'.<br>
Message:<br><br>
<pre>Lyle Kopnicky &lt;lyle@...&gt; writes:

&gt; Nic wrote:
&gt;&gt; ")
&gt;&gt; Message-ID: &lt;87odyk7d2s.fsf@...&gt;
&gt;&gt; MIME-Version: 1.0
&gt;&gt; Content-Type: text/plain; charset=us-ascii
&gt;&gt;
&gt;&gt; "Andrew S. Townley" &lt;andrew.townley@...&gt; writes:
&gt;&gt;
&gt;&gt;   
&gt;&gt;&gt; Back to the scalability issue, you actually do have this sort of issue
&gt;&gt;&gt; with web pages as well, it's just that the cost of replicating the
&gt;&gt;&gt; current state of the resource to across a server farm is much less
&gt;&gt;&gt; because those resources don't change often, and if they do change,
&gt;&gt;&gt; people may be able to live with stale information for a short period of
&gt;&gt;&gt; time until the replication process is complete.
&gt;&gt;&gt;     
&gt;&gt;
&gt;&gt; With a session based model the state has to be distributed and locking
&gt;&gt; mechanisms put in place to ensure transactional consistency.
&gt;&gt;
&gt;&gt; With REST, you can maintain the state of the resource in the resource
&gt;&gt; and simply redirect people to the correct resource.
&gt;&gt;   
&gt; But then, the resource has to be distributed. And now the state of the 
&gt; resource will change as often as the session would have, had you been 
&gt; using one. Which makes it just as hard to distribute.
&gt;
&gt; I guess you're implying there are more or better tools to handle 
&gt; distribution of resources (including frequently changing ones?) than 
&gt; there are to handle distribution of Sessions.

No. I'm not. I was finding this difficult to explain though  /8-&gt;


Here's an attempt to explain.

Consider resource representations in files and a high utilization app
with state stored in a resource:

   /bankaccount/{username}

where {username} is obviously a variable that changes depending on the
owner of the bankaccount; eg:

   /bankaccount/nicferrier

To distribute load in a REST system you can simply partition the
namespace across your servers and redirect; eg:

  server 1 does resources /bankaccount/a* to /bankaccount/h*
  server 2 does resources /bankaccount/i* to /bankaccount/p*
  server 3 does resources /bankaccount/q* to /bankaccount/z*

or some other mappping.

These servers are all behind a traditional load balancer or a DNS
round robin so they all recieve equal numbers of requests.

When server 2 recieves a request for my bankaccount it processes it
and returns the representation of my bankaccount.

But when server 3 recieves a request for my bankaccount it redirects
the request to server 3; that is it sends a 303 response with server
2's as the next location.


Obviously, this mapping system could be much finer granularity; on
GNU's savannah system we have a similar system for CVS (we don't
distribute HTTP load this way for projects because of other
architectural constraints) which goes to 3 levels of granularity:

   /users/{firstletter}/{firstletter}{secondletter}/{firstletter}{secondletter}{thirdletter}/username

Hashing schemes like this are in fact quite common and make quite
simple load balancing schemes.


As a load balancing scheme it's good. It removes the scalability
problem; you can add more and more servers and simply increase the
granularity of the namespace-&gt;resources mapping. There is a
theoretical maxium of one server:one user but that would be a very
heavy application indeed.

Now all you're left with is a reliability problem (one user's
state is now on only one server) but that can be solved in other ways;
hot standby and such like. 


As I said, this *could* be done with session load balancing - nobody
has done it I believe because once you do this you may as well have
the state in resources.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6179<br>
Sender:Mike Herrick &lt;mherrick66@...&gt;<br>
Post Date/Time:2006-05-02 04:10:44<br>
Subject:Re: [rest-discuss] REST &amp; Internal Integration<br>
Message:<br><br>
<pre>Hi Mike,

Thanks for the response. I wrote you back a missive myself ;) I hope  
someone other then the two of us finds this conversation useful. I'd  
love to see a line drawn in the sand on whether what we are talking  
about is achievable / appropriate for REST or not. The WS-* world is  
going after stuff like this. Maybe RESTafarians will say it isn't  
appropriate, maybe it is and some impls will happen.

You hit it on the head on why REST appeals to me when you said, "...  
payload formats independent of message framing". I look at SOAP and  
especially some of the more recent WS-* specs and see all that cruft  
right in the payload - just is awful IMHO. At first glance, the fact  
that SOAP does this seems largely immaterial ... but once you dig  
deeper you see what a negative impact it has.

I was also thinking a few weeks ago when I read up some more on REST  
on the similarity that JMS does share with SOAP - that there are no  
application semantics as you called it. In JMS/messaging, its just a  
message. The verb is somewhere in the Destination name or somewhere  
in the XML (we hope). This is tolerable IMHO in JMS because it is a  
defined integration platform where SOAP is going over HTTP, which, is  
used for web sites and integration. I read something on SOAP vs. REST  
security &amp; a movement a while back on forcing SOAP/HTTP to go over  
another port then 80 ... my point is at least JMS has this going for  
it. I don't know either way if I think its appropriate for JMS to  
have verbs (i.e., GET, PUT, POST, DELETE, etc.). But you are  
definitely correct that the fact that JMS does not have application  
semantics results in coordination etc. I'm very careful about this in  
my designs, but lots of people aren't.

Sounds pretty interesting on the config - I'm cool with all config  
mechanisms that aren't JNDI (sorry I spent too many years in J2EE).  
What you describe is actually how our JMS provider works. It needs  
the config at broker start time, but caches the last good copy in  
case the management broker gets horked.

On "stupid" services ... they are only "stupid" because they  
implement an interface that deals with all the JMS stuff. So the  
impls. really are trivial. But you are right that at the end of the  
day, developers do know a lot about JMS - they have to. My point was  
more around the details a developer doesn't have to deal with in  
terms of manually acking delivery, saving things in a temporary data  
store, etc. I'm curios on the HTTP &amp; guaranteed delivery w/i the  
session - doesn't sound like the same thing though. With "persistent"  
messaging in JMS, the provider must write the message to disk before  
returning. This means that (unless you clown up the receiver by  
acking the message when you shouldn't), your message is going to get  
somewhere and not get lost. And if you don't ack it, it will be  
sitting on the Queue/Topic and will be resent to the receiver etc.  
This is very useful because your services don't have to account for  
this. A lot of the people I talk to who just use WS-* look at me like  
I'm really hard core for worrying about this - I think they are a  
little incompetent for not ;) When JMS is used correctly, you get  
very clear success/failures - messages either get processed correctly  
or they get sent to an error queue. You know what is going on. Not  
saying you don't w/o it, but beats the heck out of greping through  
log files. And to be fair, I've seen people screw this up with JMS so  
you don't just get it for free.

You said, "The extra complexity of guaranteed delivery outside of a  
TCP/IP connection provides support for the disconnected use cases you  
mention, and I think this would be a great thing for a Web-scale  
system to provide, but I don't see it happening yet and I'm not sure  
why." Good to hear - so do I.

Next you said, "My hunch is that making progress when outbound  
messages are not being delivered isn't a huge win most of the time -  
if there was work that could be accomplished without outbound network  
traffic, then it should be accomplished regardless of the messaging  
style." In my world, it is a huge win. It is a huge win when you have  
a logical transaction (e.g., submit insurance) that spans several  
services. That message could make it through 3 of the 8 services  
involved. It might make it through validation, rules engine, tiering,  
and rating, but then fail on the way to getting imaged &amp; sent to some  
system of record. The original client (the web app where a mouse  
click happened) is long gone at this point. Lets say that for some  
reason the service that was supposed to image the insurance  
application couldn't talk to the imaging service because a router  
failed. No problem with proper JMS/messaging ... that message either  
gets routed to an error queue or "rolled back / paused" to messaging  
for future redelivery at the pause interval. Its the cumulative  
complexity of service interaction that results in messaging being  
beneficial - if you have just a couple services, you can do without  
it - its when there is coordination between the services where things  
get hairy.

Next you said, "JMS is fine. I have to ask though, how often do you  
use JMS to integrate with groups outside your control, or outside  
your company?"

Bingo - this is where it falls down. My company has several JMS  
providers. When certain organizations need to communicate, they need  
to bridge the providers. Not ideal obviously. This is the type of  
thing that makes me wonder if there is a better way. WS- 
ReliableMessaging is supposed to do this, but I'm not a fan of WS- 
anything. I'd love to see a reliable REST and a pub/sub - event  
driven REST if it can be done w/o hurting the web etc.

We aren't disagreeing with each other, but you are proving my point  
when you say, "Nope, just a 50 line servlet and the messages in- 
memory in a linked list." Now, you are smart and got this right I'm  
sure - I am positive my JMS vendor did. I just freak out about  
various developers having to write their own impl. Sure you could  
have a little in house framework for this - not hard, but it is  
harder then we think to mandate etc.

Lastly, you said: "I was kidding. The issue I was alluding to is -  
how do you know you've received all the messages or if there is still  
one more straggler? The pubsub approach is 'supposed' to be about  
loosely coupled systems, but if the publisher has to change to meet  
the specifications of each consumer, then that loose coupling has  
just tightened." Again, great point. People often do this because  
they know who is listening - they wait for the N responses (they know  
the value of N) and the return the Set of responses. Even though you  
slow things down, the only way to do this properly is to mandate a  
constant timeout (i.e., the request/reply pub/sub always takes 5  
seconds) regardless if every service who can respond and did respond  
did so in 3 seconds.

Thanks again for the comments.

Mike



On Apr 29, 2006, at 11:29 PM, Mike Dierken wrote:

&gt; Mike,
&gt; Sorry I haven't responded sooner... To make up for it, I wrote a  
&gt; really long
&gt; response.
&gt;
&gt; I don't have anything against JMS or messaging systems, they are great
&gt; tools. And just like HTTP, they work wonders when used in the right
&gt; situation. This thread is interesting to me because there hasn't  
&gt; been much
&gt; discussion about applying aspects of REST to a classical asynchronous
&gt; messaging based system.
&gt; In my opinion, there are a couple things that are similar between  
&gt; the two -
&gt; simple and common interactions for many kinds of applications (send  
&gt; message,
&gt; receive message, etc), payload formats independent of message  
&gt; framing, and
&gt; so on. But there are a few things common in REST that I don't see  
&gt; in JMS or
&gt; other messaging systems :
&gt;
&gt; 1) application semantics : sending a message in REST means something
&gt; (delete, modify, retrieve, etc), whereas sending a message in JMS  
&gt; or other
&gt; messaging systems is just sending a message (and it usually has  
&gt; unknown
&gt; consequences, which requires endless coordination to work out the  
&gt; details)
&gt;
&gt; 2) resource identifiers : this sort of follows from being an  
&gt; application
&gt; protocol - the protocol is all about interacting with resources, which
&gt; provides a framework for modelling applications (above just moving  
&gt; bytes
&gt; from point a to point b).
&gt;
&gt; 3) hypertext (as the engine of application state) : this is one of the
&gt; facets of REST that took me the longest to put into practice, but  
&gt; has paid
&gt; off very well. Using documents with tags that help pick out the  
&gt; resource
&gt; identifiers is invaluable in a dynamic, adaptive and configuration- 
&gt; free
&gt; system. Many systems have dynamically retrieved configurations, and  
&gt; this
&gt; provides part of the benefit of hypertext, and when links (resource
&gt; identifiers that can be interacted with) are used a lot of config file
&gt; processing becomes generalizable and just falls away. For example,  
&gt; at work
&gt; we recently built a large scale real-time data publishing system  
&gt; and the
&gt; consuming systems have a link to a 'directory service', which is an  
&gt; xml blob
&gt; with elements with links to the subjects to subscribe to, links to the
&gt; cold-start data to bootstrap with and so on. The cold-start data is  
&gt; somewhat
&gt; large, but by teaching the clients to 'just follow the links', the  
&gt; data
&gt; could be arbitrarily partitioned by the server. In addition, with a  
&gt; little
&gt; thought you could put multiple links in there and have parallel  
&gt; streams
&gt; being retrieved by the client - a good way to utilize all that  
&gt; bandwidth
&gt; just laying around.
&gt;
&gt;
&gt;&gt; I spend most of my time working on a system that has approximately 50
&gt;&gt; services. The services are pretty stupid, all they know is
&gt;&gt; they get an event XML input. They typically respond with an
&gt;&gt; XML event. They listen on a set of JMS Topics or a Topic
&gt;&gt; pattern (e.g., COMPANYNAME.LINEOFBUSINESS.NOUN.*).
&gt;&gt; They also typically respond to set of Topics. What I like
&gt;&gt; about JMS in the system is the guaranteed delivery &amp; durable
&gt;&gt; subscriptions. The service impls don't care about the network
&gt;&gt; because they know that JMS is there.
&gt; These are extremely useful tools - durable subscriptions, guaranteed
&gt; delivery, etc. But from my point of view the 'service' isn't all that
&gt; 'stupid'. The service is everything the outside world would see,  
&gt; and that
&gt; includes those handy things like disconnected use and reliability.  
&gt; The code
&gt; that plugs into this is simplified by that environment, which is  
&gt; hufely
&gt; valuable. I'm not a messaging or protocol expert, but I always  
&gt; thought that
&gt; HTTP over TCP/IP provided guaranteed delivery within the connection  
&gt; - I'd
&gt; like to hear from others on how we should consider the 'guarantee- 
&gt; ness' of
&gt; HTTP (within a connection). The extra complexity of guaranteed  
&gt; delivery
&gt; outside of a TCP/IP connection provides support for the  
&gt; disconnected use
&gt; cases you mention, and I think this would be a great thing for a  
&gt; Web-scale
&gt; system to provide, but I don't see it happening yet and I'm not  
&gt; sure why.
&gt;
&gt;
&gt;&gt; Also, durable subscriptions are great [...]
&gt;&gt; I would really like to see an HTTP based pub/sub like this.
&gt;&gt; Idon't know enough about REST to know if it would be evil to do.
&gt;&gt; I babbled about that a bit more here:
&gt;&gt; http://fuzzypanic.blogspot.com/2006/03/httppox-xml-based-eda-pub- 
&gt;&gt; sub.html
&gt;&gt; Let me know if you know of anything.
&gt; There have been a few companies doing that - you found mod_pubsub  
&gt; already,
&gt; which was a spin-out from KnowNow (which I helped start up many  
&gt; years ago,
&gt; for a short period of time). Supposedly Renkoo may be doing work to  
&gt; make
&gt; mod-pubsub live again. The toy 'messaging' web app I linked to last  
&gt; time
&gt; shows that it's very easy to build messaging with pure HTTP, and  
&gt; with modern
&gt; systems supporting non-blocking IO, it's not too hard to be  
&gt; efficient. The
&gt; hard part is the pump that keeps the messages flowing along the  
&gt; durable
&gt; subscriptions, dealing with cycles and other plumbing issues.
&gt;
&gt; You ask a very good question though - is pubsub compatible with  
&gt; REST? If
&gt; REST is about application level semantics, you could model messages,
&gt; subscriptions, etc. as resources and go that route. But then what  
&gt; are the
&gt; messages about? How are those raised to the application level so  
&gt; that common
&gt; semantics can be applied?
&gt;
&gt;
&gt;&gt; Sure, but that block means something typically - it means the
&gt;&gt; message was persisted so the client doesn't have to ferret it
&gt;&gt; away just in case something bad happens later.
&gt;&gt; With Web Style, you can do that too - my point is you have to do that
&gt;&gt; yourself (client ferret away the data that was PUT/POST).
&gt; I see this as partly a difference in whether the client host or the  
&gt; server
&gt; host has some persistent storage. If there is no client persistent  
&gt; storage,
&gt; then the client application logic needs to know when the server has  
&gt; taken
&gt; hold of the data in some persistent fashion (if that's the goal in  
&gt; that
&gt; situation). The other part is how well the application behaves in  
&gt; the face
&gt; of an outage or disconnection - picking up where you left off is  
&gt; harder if
&gt; the application doesn't store the state as it makes progress. My  
&gt; hunch is
&gt; that making progress when outbound messages are not being delivered  
&gt; isn't a
&gt; huge win most of the time - if there was work that could be  
&gt; accomplished
&gt; without outbound network traffic, then it should be accomplished  
&gt; regardless
&gt; of the messaging style.
&gt;
&gt;
&gt;&gt; Nope, I mean make pub/sub more RESTful.
&gt;&gt; Like I said, I don't know enough about REST principals to know if
&gt;&gt; this is evil or not. I have a decent messaging middleware product  
&gt;&gt; today.
&gt;&gt; I'm happy with it - I just want to know if its overkill or not or
&gt;&gt; if there is a simpler way. If some of my integration types
&gt;&gt; are best handled via JMS, fine with me. I just want to ask
&gt;&gt; the "stupid question" - to make sure I'm not thinking JMS is
&gt;&gt; better then it is.
&gt; JMS is fine. I have to ask though, how often do you use JMS to  
&gt; integrate
&gt; with groups outside your control, or outside your company?
&gt;
&gt;&gt;&gt; Here is a sample app I wrote a while back that does what you are  
&gt;&gt;&gt; talking
&gt; about :
&gt;&gt;&gt;
&gt; http://www.searchalert.net:8080/dierken/events/chat.html?topic=rest- 
&gt; discuss
&gt;&gt;&gt; The underlying system holds messages here:
&gt; http://www.searchalert.net:8080/xmlrouter/msgs/rest-discuss
&gt;&gt; So what is on the server - is there messaging behind it?
&gt; Nope, just a 50 line servlet and the messages in-memory in a linked  
&gt; list.
&gt;
&gt;
&gt;
&gt;&gt;&gt; Are you sure you didn't mean N+1 responses?
&gt;&gt; I'm talking about a client sending 1 request, having N
&gt;&gt; services subscribe and send a response to the client.
&gt; I was kidding. The issue I was alluding to is - how do you know you've
&gt; received all the messages or if there is still one more straggler? The
&gt; pubsub approach is 'supposed' to be about loosely coupled systems,  
&gt; but if
&gt; the publisher has to change to meet the specifications of each  
&gt; consumer,
&gt; then that loose coupling has just tightened.
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6180<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2006-05-02 04:42:02<br>
Subject:RE: [rest-discuss] REST &amp; Internal Integration<br>
Message:<br><br>
<pre>&gt; 
&gt; There is (well, will be) also a REST interface to the JMS 
&gt; services. The REST service allows the creation of a service 
&gt; request through a simple POST to a URI. The implementation of 
&gt; this REST "service" connects to the JMS broker, sends the 
&gt; corresponding message, and waits (with timeout) until it 
&gt; receives confirmation that the message was received by the 
&gt; JMS service. This confirmation of reception implies that the 
&gt; service request has created  a resource and this new resource 
&gt; is returned to the REST client who can, at anytime, GET it to 
&gt; see the status of his orignal request (running, completed, 
&gt; cancelled, logging ...).
I did something like that about five years ago :
http://sourceforge.net/projects/destiny
That project is more of a (working) demo but the ideas are valid &amp; can be
very useful.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6181<br>
Sender:"chandrasing_patil" &lt;chandrasing_patil@...&gt;<br>
Post Date/Time:2006-05-02 11:08:36<br>
Subject:Re: Request Header vs. Query String<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, "Roy T. Fielding" &lt;fielding@...&gt;
wrote:
&gt;
&gt; On Apr 11, 2006, at 10:32 PM, Sandeep Shetty wrote:
&gt; &gt; On 4/11/06, Roy T. Fielding &lt;fielding@...&gt; wrote:
&gt; &gt;&gt; Whoa, I think this is a case of reading too much into my  
&gt; &gt;&gt; dissertation.
&gt; &gt;&gt; The sites that I produce *always* separate languages into separate
&gt; &gt;&gt; URI trees.
&gt; &gt;
&gt; &gt; Are you saying that this is the right way to do it or are you saying
&gt; &gt; that we need to do it this way because we dont have much of an option
&gt; &gt; given the current infrastructure?
&gt; 
&gt; I am saying that server-driven negotiation doesn't work very well
&gt; because different language editions are different resources and
&gt; deserve their own URIs.  It results in the problems that were already
&gt; described and quoted by Bill.
&gt; 
&gt; Agent-driven negotiation is far more effective, but there was a huge
&gt; disagreement between myself and the chair of the HTTP working group
&gt; and my original agent-driven design for HTTP/1.1 was effectively
&gt; buried in committee.
&gt; 
&gt; To do negotiation right, the client needs to be aware of all the
&gt; alternatives *and* what it should use as a bookmark.  In HTTP/1.1,
&gt; all we managed to standardize is 300 and Vary.  We needed Alternates
&gt; and Link to make it work.
&gt; 
&gt; &gt;&gt; the fact is that different languages do not produce equivalents.
&gt; &gt;&gt; There are hundreds of nuances, colloquialisms, and shared social
&gt; &gt;&gt; norms that simply do not translate.  We encourage resource owners
&gt; &gt;&gt; to only use true content negotiation (without redirects) when the
&gt; &gt;&gt; only difference between formats is mechanical in nature.
&gt; &gt;
&gt; &gt; Are you saying that true content negotiation should only be done for
&gt; &gt; stuff like changing formats (like when you have a base XML and you
&gt; &gt; convert it into PDF, HTML, etc.) and not for languages?
&gt; 
&gt; I am saying that all important resources must have URIs.
&gt; 
&gt; ....Roy
&gt;

Entire discussion is about whether representation meta data be
addressed via Accept headers than through query string. If I am wrong
just leave it at this point itself.

Resource can be reached by some URI, and kind of representation
returned depends what kind of representation is requested by reading
Accept-headers. Even if there are more than one representations
available, ideally they all represent same state of a resource. If we
split the URI space with respect to different languages to address the
localization issue, it may lead to peculiar problems. One of which I
would like to specifically point out is *Authorization*. 

Normally we to build authorization for resources rather than
representations (Please correct me if I am wrong). If we build
application with URI name space splitting for localization, then it
may happen for example, that French speaking people are able to access
an URI which English speaking people are not able to access.

Example:
       English speaking people accessing user information
       http://www.example.com/user/abc?lang=en

       French speaking people accessing user information
       http://www.example.com/user/abc?lang=fr

    Authorization system must use complete URI to authorize the
request, one just can't drop the query string to get the URI
http://www.example.com/user/abc because query string parametrizes the
resource and may have some application specific parameters. One can
discard the lang parameter of the query string, but isn't that
unnecessary programming effort? What if there are alternate
representations available like HTML, pdf, text, etc.? then this
problem just compounds making the application more complex
unnecessarily. Instead if Accept headers are used, URI is same across
any locale or representation. and it becomes very easy to administer
the authorization.

One issue I am not able to address though is bit representation
specific, something like pdf version is only available to specific
people (like people who pay for that service).

I am still a novice to ReST, so lack the ReST vocabulary. And I
spammed someones mailbox (I think twice), I guess. Sorry for the same.
I just did not check the To select box.






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6182<br>
Sender:"inter2000_2000" &lt;inter2000_2000@...&gt;<br>
Post Date/Time:2006-05-03 03:33:41<br>
Subject:I have beginning question again<br>
Message:<br><br>
<pre>When i use logical URI, I use htaccess file of apache 

for exmple -
RewriteEngine On
#RewriteCond %{REQUEST_FILENAME} !-d
#RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^.*$ index.php

and i receieve "$_SERVER['REQUEST_URI']" in php file 
and i divide resource URI by loop.


for exmple

/rest/store/1/101/2010011  -&gt; store, 1, 101, 2010011

Is it right or it have another way

Thanks a lot








</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6183<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-05-03 08:53:25<br>
Subject:Re: [rest-discuss] 418 Invalid [was HTTP Status code question]<br>
Message:<br><br>
<pre>On Mar 24, 2006, at 5:05 PM, Bill de hra wrote:
&gt; Roy T. Fielding wrote:
&gt;&gt; On Mar 24, 2006, at 7:55 AM, Bill de hra wrote:
&gt;&gt;
&gt;&gt;&gt; 418 Invalid
&gt;&gt;&gt;
&gt;&gt;&gt; The request could not be completed due to a validation failing  
&gt;&gt;&gt; against
&gt;&gt;&gt; the sent entity. This code is only allowed in situations where it is
&gt;&gt;&gt; expected that the user might be able to resubmit the request with  
&gt;&gt;&gt; valid
&gt;&gt;&gt; content and where the sent content was syntactically correct  
&gt;&gt;&gt; according
&gt;&gt;&gt; to its media type. The response body SHOULD include enough  
&gt;&gt;&gt; information
&gt;&gt;&gt; for the user to recognize the source of the conflict.  
&gt;&gt;&gt; Invalidations are
&gt;&gt;&gt; most likely to occur in response to a PUT or POST request.
&gt;&gt;
&gt;&gt; Yep, that's what I would do, though a properly specified response  
&gt;&gt; code
&gt;&gt; would never include that second sentence "This code is only  
&gt;&gt; allowed ..."
&gt;&gt; since servers are always right (and never omnipotent).  And the last
&gt;&gt; sentence is kind of goofy -- request payload is unlikely to be
&gt;&gt; invalid when it isn't present.
&gt;&gt;
&gt;&gt; Do you want me to standardize it?
&gt;
&gt; Yes please.

Actually, Julian just pointed out to me that WebDAV already
defined a 422 (Unprocessable Entity) status code which is
probably sufficient

    http://greenbytes.de/tech/webdav/rfc2518.html#STATUS_422

so I guess I don't need to write that I-D after all.
Unless there is some reason that you can't use 422?

....Roy
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6184<br>
Sender:=?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;bill@...&gt;<br>
Post Date/Time:2006-05-03 18:30:46<br>
Subject:Re: [rest-discuss] 418 Invalid [was HTTP Status code question]<br>
Message:<br><br>
<pre>Roy T. Fielding wrote:
&gt; 
&gt; Actually, Julian just pointed out to me that WebDAV already
&gt; defined a 422 (Unprocessable Entity) status code which is
&gt; probably sufficient
&gt; 
&gt;    http://greenbytes.de/tech/webdav/rfc2518.html#STATUS_422
&gt; 
&gt; so I guess I don't need to write that I-D after all.
&gt; Unless there is some reason that you can't use 422?

I can think of no reason. Just so I understand, since WebDAV is a HTTP 
extension, you can (re)use these codes outside a WebDav context, right?

cheers
Bill


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6185<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-05-03 18:35:56<br>
Subject:Re: [rest-discuss] 418 Invalid [was HTTP Status code question]<br>
Message:<br><br>
<pre>Sure!  422 is just another HTTP response code.

On 5/3/06, Bill de hra &lt;bill@...&gt; wrote:
&gt; I can think of no reason. Just so I understand, since WebDAV is a HTTP
&gt; extension, you can (re)use these codes outside a WebDav context, right?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6186<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-05-04 07:14:40<br>
Subject:Re: [rest-discuss] 418 Invalid [was HTTP Status code question]<br>
Message:<br><br>
<pre>On 03/05/06, Mark Baker &lt;distobj@...&gt; wrote:
&gt;
&gt;    Sure!  422 is just another HTTP response code.
&gt;
&gt;
&gt;  On 5/3/06, Bill de hra &lt;bill@dehora.net&gt; wrote:
&gt;  &gt; I can think of no reason. Just so I understand, since WebDAV is a HTTP
&gt;  &gt; extension, you can (re)use these codes outside a WebDav context, right?

Could someone help me understand the relationship between
standard error codes and extensions please?

If I got 422, how would I know how to interpret it?
Its not at http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html
nor at http://www.ietf.org/rfc/rfc2616.txt

regards


--
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6187<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-05-04 07:19:52<br>
Subject:Re: [rest-discuss] 418 Invalid [was HTTP Status code question]<br>
Message:<br><br>
<pre>Ideally there'd be an HTTP response code registry.  Since there isn't
one (AFAIK), just Google for it.

http://www.google.com/search?q=http+422+response

Mark.

On 5/4/06, Dave Pawson &lt;dave.pawson@...&gt; wrote:
&gt; On 03/05/06, Mark Baker &lt;distobj@...&gt; wrote:
&gt; &gt;
&gt; &gt;    Sure!  422 is just another HTTP response code.
&gt; &gt;
&gt; &gt;
&gt; &gt;  On 5/3/06, Bill de hra &lt;bill@dehora.net&gt; wrote:
&gt; &gt;  &gt; I can think of no reason. Just so I understand, since WebDAV is a HTTP
&gt; &gt;  &gt; extension, you can (re)use these codes outside a WebDav context, right?
&gt;
&gt; Could someone help me understand the relationship between
&gt; standard error codes and extensions please?
&gt;
&gt; If I got 422, how would I know how to interpret it?
&gt; Its not at http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html
&gt; nor at http://www.ietf.org/rfc/rfc2616.txt
&gt;
&gt; regards
&gt;
&gt;
&gt; --
&gt; Dave Pawson
&gt; XSLT XSL-FO FAQ.
&gt; http://www.dpawson.co.uk
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6188<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-05-04 07:23:10<br>
Subject:Re: [rest-discuss] 418 Invalid [was HTTP Status code question]<br>
Message:<br><br>
<pre>http://www.ietf.org/rfc/rfc4028.txt seems the best,
but a little unmatched to the definition earlier in this thread?

Thanks Mark.

On 04/05/06, Mark Baker &lt;distobj@...&gt; wrote:
&gt; Ideally there'd be an HTTP response code registry.  Since there isn't
&gt; one (AFAIK), just Google for it.
&gt;
&gt; http://www.google.com/search?q=http+422+response
&gt;
&gt; Mark.
--
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6189<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-05-04 07:27:23<br>
Subject:Re: [rest-discuss] 418 Invalid [was HTTP Status code question]<br>
Message:<br><br>
<pre>Heh, nope, that's SIP.  You'd be forgiven for confusing it with HTTP though 8-)

The most relevant search item I saw was;

http://rasterweb.net/raster/code/httpresponse.html

but this is authoritative;

http://www.ietf.org/rfc/rfc2518.txt

Mark.

On 5/4/06, Dave Pawson &lt;dave.pawson@...&gt; wrote:
&gt; http://www.ietf.org/rfc/rfc4028.txt seems the best,
&gt; but a little unmatched to the definition earlier in this thread?
&gt;
&gt; Thanks Mark.
&gt;
&gt; On 04/05/06, Mark Baker &lt;distobj@...&gt; wrote:
&gt; &gt; Ideally there'd be an HTTP response code registry.  Since there isn't
&gt; &gt; one (AFAIK), just Google for it.
&gt; &gt;
&gt; &gt; http://www.google.com/search?q=http+422+response
&gt; &gt;
&gt; &gt; Mark.
&gt; --
&gt; Dave Pawson
&gt; XSLT XSL-FO FAQ.
&gt; http://www.dpawson.co.uk
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6190<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2006-05-04 14:17:39<br>
Subject:Re: [rest-discuss] 418 Invalid [was HTTP Status code question]<br>
Message:<br><br>
<pre>Dave Pawson wrote:
&gt; If I got 422, how would I know how to interpret it?
&gt; Its not at http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html
&gt; nor at http://www.ietf.org/rfc/rfc2616.txt

Either:
a. You'd know what a 422 meant from the WebDav spec or elsewhere, and 
treat it according to that.
b. You treat it as an unknown error in the range 400 - 499 (Report a 
client error, do not repeat the request unmodified, do not cache the 
response).

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6191<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-05-04 14:31:23<br>
Subject:Re: [rest-discuss] 418 Invalid [was HTTP Status code question]<br>
Message:<br><br>
<pre>&gt;
&gt;  Either:
&gt;  a. You'd know what a 422 meant from the WebDav spec or elsewhere, and
&gt;  treat it according to that.
&gt;  b. You treat it as an unknown error in the range 400 - 499 (Report a
&gt;  client error, do not repeat the request unmodified, do not cache the
&gt;  response).

Yes! I like that. Fits nicely too. thanks Jon.

What's the 'standards/procedural' time at which such an error
code 'should' be understood by an endpoint/client?
Is there one?
Or is it when 'most' (Apache/IIS) do?


regards


--
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6192<br>
Sender:Tracy R Reed &lt;treed-yahoo@...&gt;<br>
Post Date/Time:2006-05-04 17:30:33<br>
Subject:Can ReST replace cookies?<br>
Message:<br><br>
<pre>

And if so, how?

I have read Roy's paper and a few other things but this cookie thing is
something I just don't get. I was just having a conversation with my
coworker (we run a big e-commerce site) about how torn we are about
having to use cookies. It seems like a necessity. We used to do
sessioning in the url but users would copy and paste their url to their
friends. Now their friends would jump into their session and potentially
be able to buy things on their credit card (yeay one click shopping) and
cause all kinds of problems. Does ReST address this?

-- 
Tracy R Reed
http://ultraviolet.org



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6193<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-05-04 18:11:48<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>Tracy R Reed wrote:
&gt; 
&gt; And if so, how?
&gt; 
&gt; I have read Roy's paper and a few other things but this cookie thing is
&gt; something I just don't get. I was just having a conversation with my
&gt; coworker (we run a big e-commerce site) about how torn we are about
&gt; having to use cookies. It seems like a necessity. We used to do
&gt; sessioning in the url but users would copy and paste their url to their
&gt; friends. Now their friends would jump into their session and potentially
&gt; be able to buy things on their credit card (yeay one click shopping) and
&gt; cause all kinds of problems. Does ReST address this?
&gt; 

Yes. It's called HTTP authentication. Anything involving personal, 
private data should require a username password combo to access. 
Presumably if someone e-mails their URL and username and password to a 
friend, they know what they're doing.

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6194<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-05-04 18:21:12<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>Elliotte Harold &lt;elharo@...&gt; writes:

&gt; Tracy R Reed wrote:
&gt;&gt; 
&gt;&gt; And if so, how?
&gt;&gt; 
&gt;&gt; I have read Roy's paper and a few other things but this cookie thing is
&gt;&gt; something I just don't get. I was just having a conversation with my
&gt;&gt; coworker (we run a big e-commerce site) about how torn we are about
&gt;&gt; having to use cookies. It seems like a necessity. We used to do
&gt;&gt; sessioning in the url but users would copy and paste their url to their
&gt;&gt; friends. Now their friends would jump into their session and potentially
&gt;&gt; be able to buy things on their credit card (yeay one click shopping) and
&gt;&gt; cause all kinds of problems. Does ReST address this?
&gt;&gt; 
&gt;
&gt; Yes. It's called HTTP authentication. Anything involving personal, 
&gt; private data should require a username password combo to access. 
&gt; Presumably if someone e-mails their URL and username and password to a 
&gt; friend, they know what they're doing.

Oh. Also TLS client certificate authentication addresses the problem
best.

Just issue a client certificate to your customers. Then they really
know who they are.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6195<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-05-04 18:15:34<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>Tracy R Reed &lt;treed-yahoo@...&gt; writes:

&gt; And if so, how?
&gt;
&gt; I have read Roy's paper and a few other things but this cookie thing is
&gt; something I just don't get. I was just having a conversation with my
&gt; coworker (we run a big e-commerce site) about how torn we are about
&gt; having to use cookies. It seems like a necessity. We used to do
&gt; sessioning in the url but users would copy and paste their url to their
&gt; friends. Now their friends would jump into their session and potentially
&gt; be able to buy things on their credit card (yeay one click shopping) and
&gt; cause all kinds of problems. Does ReST address this?

I've said this quite a lot recently.

I don't believe there's anything wrong with cookies.

What is wrong is using a cookie to manage a session with data hidden
in the session on the server side.

Using a cookie purely client side, or using a cookie like an extension
header in HTTP is perfectly ok.


With this in mind there's no webapp that REST can't model.



Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6196<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-05-04 18:20:21<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>Elliotte Harold &lt;elharo@...&gt; writes:

&gt; Tracy R Reed wrote:
&gt;&gt; 
&gt;&gt; And if so, how?
&gt;&gt; 
&gt;&gt; I have read Roy's paper and a few other things but this cookie thing is
&gt;&gt; something I just don't get. I was just having a conversation with my
&gt;&gt; coworker (we run a big e-commerce site) about how torn we are about
&gt;&gt; having to use cookies. It seems like a necessity. We used to do
&gt;&gt; sessioning in the url but users would copy and paste their url to their
&gt;&gt; friends. Now their friends would jump into their session and potentially
&gt;&gt; be able to buy things on their credit card (yeay one click shopping) and
&gt;&gt; cause all kinds of problems. Does ReST address this?
&gt;&gt; 
&gt;
&gt; Yes. It's called HTTP authentication. Anything involving personal, 
&gt; private data should require a username password combo to access. 
&gt; Presumably if someone e-mails their URL and username and password to a 
&gt; friend, they know what they're doing.

Don't joke about that - this should not be encouraged in anyway.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6197<br>
Sender:Tracy R Reed &lt;treed-yahoo@...&gt;<br>
Post Date/Time:2006-05-04 18:46:45<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>Elliotte Harold wrote:
&gt; Yes. It's called HTTP authentication. Anything involving personal, 
&gt; private data should require a username password combo to access. 
&gt; Presumably if someone e-mails their URL and username and password to a 
&gt; friend, they know what they're doing.

Unfortunately nobody likes HTTP auth because the only way to
authenticate with it seems to be using that ugly browser-supplied popup
box which you cannot format or provide links to help or "forget your
password?" links or anything else. Looks like we are going to be stuck
with cookies for a long time.


-- 
Tracy R Reed
http://ultraviolet.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6198<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-05-04 18:57:43<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>Tracy R Reed &lt;treed-yahoo@...&gt; writes:

&gt; Elliotte Harold wrote:
&gt;&gt; Yes. It's called HTTP authentication. Anything involving personal, 
&gt;&gt; private data should require a username password combo to access. 
&gt;&gt; Presumably if someone e-mails their URL and username and password to a 
&gt;&gt; friend, they know what they're doing.
&gt;
&gt; Unfortunately nobody likes HTTP auth because the only way to
&gt; authenticate with it seems to be using that ugly browser-supplied popup
&gt; box which you cannot format or provide links to help or "forget your
&gt; password?" links or anything else. Looks like we are going to be stuck
&gt; with cookies for a long time.

This is not true.

Have you not heard of AJAX?

btw these issues have been discussed here a lot only just
recently. You might want to go back through the archives.


Nic Ferrier


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6199<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-05-04 19:35:42<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>Nic wrote:

&gt; I've said this quite a lot recently.
&gt; 
&gt; I don't believe there's anything wrong with cookies.
&gt; 
&gt; What is wrong is using a cookie to manage a session with data hidden
&gt; in the session on the server side.
&gt; 
&gt; Using a cookie purely client side, or using a cookie like an extension
&gt; header in HTTP is perfectly ok.
&gt; 

And I've replied to this quite recently too. It's not just about 
sessions. It's about boomarkability, linkability, e-mail-ability and 
more. A cookie is not a substitute for a URL.

If http://www.example.com/shoppingcart shows me and you different 
resources when we load it into our respective browsers because we have 
different cookies, then cookies are violating the web architecture.

Just maybe it's OK to use cookies for authentication as long as they are 
in addition to a complete URL, rather than a replacement for it; but I'm 
not convinced of that yet. As authentication cookies are actually used 
on the Web today, they're evil because they do attempt to allow a single 
URL to identify multiple resources.

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6200<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-05-04 19:43:58<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>Tracy R Reed wrote:

&gt; Unfortunately nobody likes HTTP auth because the only way to 
&gt; authenticate with it seems to be using that ugly browser-supplied popup 
&gt; box which you cannot format or provide links to help or "forget your 
&gt; password?" links or anything else. Looks like we are going to be stuck 
&gt; with cookies for a long time.
&gt; 


Yes, they prefer a shiny new car that gets 10 miles a gallon and breaks 
down every couple of days to a old clunker that runs great and causes 
little pain. I've never understood that attitude. I do wish browser 
vendors and the W3C had spent a little more effort on addressing the 
minor, cosmetic issues with HTTP authentication, and perhaps enabling 
logouts, instead of some of the pointless things they have wasted years on.

The effective abandonment of HTML at the W3C didn't help, nor did IE's 
stagnation, or the frequent lack of clue and feck among the other 
browser vendors. They're still 
&lt;http://whatwg.org/specs/web-apps/current-work/&gt; expending huge effort 
on relatively trivial concerns. The low hanging fruit remains to be plucked.

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6201<br>
Sender:Adam Ratcliffe &lt;adam@...&gt;<br>
Post Date/Time:2006-05-04 19:38:56<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>
On 5 May, 2006, at 6:46 AM, Tracy R Reed wrote:

&gt; Unfortunately nobody likes HTTP auth because the only way to
&gt; authenticate with it seems to be using that ugly browser-supplied  
&gt; popup
&gt; box which you cannot format or provide links to help or "forget your
&gt; password?" links or anything else. Looks like we are going to be stuck
&gt; with cookies for a long time.

Berend de Boer has been doing some work in this area using HTML forms  
and XHR, see   http://www.pobox.com/~berend/rest/authentication.html

Cheers
Adam
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6202<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-05-04 20:31:54<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>Hi Tracy,

On May 4, 2006, at 10:30 AM, Tracy R Reed wrote:

&gt; I have read Roy's paper and a few other things but this cookie  
&gt; thing is
&gt; something I just don't get. I was just having a conversation with my
&gt; coworker (we run a big e-commerce site) about how torn we are about
&gt; having to use cookies. It seems like a necessity. We used to do
&gt; sessioning in the url but users would copy and paste their url to  
&gt; their
&gt; friends. Now their friends would jump into their session and  
&gt; potentially
&gt; be able to buy things on their credit card (yeay one click  
&gt; shopping) and
&gt; cause all kinds of problems. Does ReST address this?
&gt;
Session IDs in cookies can be hijacked via cross-site scripting  
attacks, or just sniffed on the network if they are transmitted in  
plain text. And even if you use HTTP digest authentication, people  
can steal usernames and passwords. Have you received any emails from  
EBay, Amazon, PayPal, Wells Fargo, etc., lately asking you to update  
your account information? I expect that such phishing attacks  
probably work some small percentage of the time, and if they're  
spamming millions of email addresses, usernames and passwords will  
get stolen.

So for actions that you want more security on, you may want to use  
other strategies on top of your primary means of authentication. For  
example, perhaps you could always make users type in the credit card  
number. Even if a session gets hijacked, or a password stolen, the  
black hat wouldn't be able to use that person's credit cards unless  
he also stole those. Or if you have a few admin users who are allowed  
to delete the entire database, or something drastic like that,  
perhaps make them verify the action in an email. So if a session gets  
hijacked, or a password stolen, the bandito would also have to steal  
the credentials for the email account to delete the database.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6203<br>
Sender:Bill Venners &lt;bv-svp@...&gt;<br>
Post Date/Time:2006-05-04 20:46:54<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>Hi Rusty,

On May 4, 2006, at 12:35 PM, Elliotte Harold wrote:

&gt; Just maybe it's OK to use cookies for authentication as long as  
&gt; they are
&gt; in addition to a complete URL, rather than a replacement for it;  
&gt; but I'm
&gt; not convinced of that yet. As authentication cookies are actually used
&gt; on the Web today, they're evil because they do attempt to allow a  
&gt; single
&gt; URL to identify multiple resources.
&gt;
I suspect you're primarily concerned about using a session ID cookie  
to lookup session state on the server, not using cookies for  
authentication. Usually, the first thing that people put into that  
session state is some data that identifies who the user is. In this  
case, the session ID cookie is a random number. With this approach,  
if you want to accept requests from the same user on multiple servers  
without making them log in again on each one, you need to figure out  
how to share the session state between servers.

The way I am planning to use a session ID cookies is to encrypt user  
credentials into the ID. This way I don't have to share session  
state, but I do have to share the passwords used to encrypt the  
credentials (because I want to change the passwords every 30 minutes  
so the "authentication sessions" will expire). If I were to use HTTP  
digest authentication instead, I wouldn't need to share those  
passwords. I wouldn't need to share anything except the user's  
credentials, which will be in the database and shared anyway.

So as I see it, HTTP authentication is still the most scalable  
approach, but it has other issues that we've talked about before. I  
think cookies can be used in a fairly RESTful manner for  
authentication if you actually encrypt user credentials into the  
cookies. If you make them a random number used to lookup the user in  
session state on the server, and that's the ONLY thing you put in the  
session, then I suppose that could be fairly RESTful too, but you  
would still likely need to share the sessions between servers, which  
is more troublesome to scalability than sharing passwords.

Bill
----
Bill Venners
Editor-in-Chief
Artima Developer
http://www.artima.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6204<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-05-04 20:58:23<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>Elliotte Harold &lt;elharo@...&gt; writes:

&gt; Nic wrote:
&gt;
&gt;&gt; I've said this quite a lot recently.
&gt;&gt; 
&gt;&gt; I don't believe there's anything wrong with cookies.
&gt;&gt; 
&gt;&gt; What is wrong is using a cookie to manage a session with data hidden
&gt;&gt; in the session on the server side.
&gt;&gt; 
&gt;&gt; Using a cookie purely client side, or using a cookie like an extension
&gt;&gt; header in HTTP is perfectly ok.
&gt;&gt; 
&gt;
&gt; And I've replied to this quite recently too. It's not just about 
&gt; sessions. It's about boomarkability, linkability, e-mail-ability and 
&gt; more. A cookie is not a substitute for a URL.
&gt;
&gt; If http://www.example.com/shoppingcart shows me and you different 
&gt; resources when we load it into our respective browsers because we have 
&gt; different cookies, then cookies are violating the web architecture.

That is not true.

Here's an example of a resource that would not violate REST:

  &lt;html&gt;
    &lt;body&gt;
      &lt;h1&gt;Hello 
        &lt;script&gt;
           var arr = document.cookie.split(";");
           for (var i = 0; i &lt; arr.length; i++)
             if (arr[i].indexOf("name=") == 0)
               document.writeln(arr[i].substring(6, arr[i].length()));
        &lt;/script&gt;
       &lt;/h1&gt;
     &lt;/body&gt;
   &lt;/html&gt;

I think I remember Roy's thesis talking about client side state as
being specifically ok. Anyway, this doesn't break any caching or data
visibility constraint.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6205<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2006-05-05 06:54:41<br>
Subject:Re: [rest-discuss] 418 Invalid [was HTTP Status code question]<br>
Message:<br><br>
<pre>Mark Baker wrote:
&gt; Ideally there'd be an HTTP response code registry.  Since there isn't
&gt; one (AFAIK), just Google for it.
&gt; 
&gt; http://www.google.com/search?q=http+422+response

 From those HTTP related RFCs I've got XML versions for, I'm producing a 
compound index. So at least a subset of the codes can be found at

	&lt;http://greenbytes.de/tech/webdav/common-index.html#rfc.index.S&gt;

Best regards, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6206<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-05-05 08:35:34<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>Meryn Stol &lt;meryn@...&gt; writes:

&gt; On 4 mei 2006, at 20:15, Nic wrote:
&gt;
&gt;&gt; I don't believe there's anything wrong with cookies.
&gt;&gt;
&gt;&gt; What is wrong is using a cookie to manage a session with data hidden
&gt;&gt; in the session on the server side.
&gt;&gt;
&gt;&gt; Using a cookie purely client side, or using a cookie like an extension
&gt;&gt; header in HTTP is perfectly ok.
&gt;
&gt; Can someone explain to me the possible archictural differences  
&gt; between using a cookie instead of HTTP-auth for authentication  
&gt; instead? Also, if there are any differences. What desirable  
&gt; properties of REST would you loose when opting foor cookies? I'm  
&gt; aware of differences in client support, but I don't think that's a  
&gt; real REST issue.

A cookie can be just like HTTP auth. I'm about to publish an article
on this on onlamp.com - it's just taking longer than I thought because
of other commitments.


&gt; Also, in case of 'personalized' resource representations (which I  
&gt; think you should try to avoid if possible, to facilitate caching) is  
&gt; there any architectural difference between using HTTP auth and "vary:  
&gt; authorization" or a cookie and "vary: cookie"?

As soon as you have per user resources on the server side then you
have resources that can't be cached.

Using cookies at least gives you the chance of using client side code
to vary what is presented to the user without changing the
representation for everyone. Clearly, this only works for small
amounts of variable data. The contents of a shopping basket, or some
user details for example.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6207<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-05-05 09:09:34<br>
Subject:POST and PUT<br>
Message:<br><br>
<pre>At http://www.xml.com/lpt/a/2004/12/01/restful-web.html
Joe says

So if you want to create a new resource, use POST. ..... To update a
current resource, use PUT.


The wiki says

Roughly, PUT means "create" or "replace", POST means "insert",


Mark Baker,  http://www.markbaker.ca/2001/09/draft-baker-http-resource-state-model-01.txt
says
POST changes the state relative to the current    state,
and
use the PUT method to explicitly set the state
   of the resource to the state represented in the body of the
   invocation.



Confusing? It is to me.
My clearest idea is that a POST 'updates' an existant resource
a PUT 'creates' a new one.

Any clarification please? Simple English , not RTFM :-)

TIA

--
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6208<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2006-05-05 09:25:28<br>
Subject:Re: [rest-discuss] POST and PUT<br>
Message:<br><br>
<pre>Dave Pawson wrote:
&gt; Confusing? It is to me.
&gt; My clearest idea is that a POST 'updates' an existant resource
&gt; a PUT 'creates' a new one.

POST acts upon an existing resource. The effects of this are pretty 
limitless in terms of what it may do both to the existing resource, and 
other related resources. Essentially it "gives" one resource to another 
resource and the recipient resource deals with this as it sees fit.

PUT "writes" - it either updates and existing resource or creates a new one.

With some applications it can be difficult or impossible for a client to 
know what URI would be appropriate for a new resource. In such cases one 
solution is to have a resource that handles the creation of new 
resources. One POSTs a representation of the new resource to the 
creation-handler resource and the new resource is created (the most 
reasonable response from the server is then a 201 Created with the URI 
of the new resource, though 202 Accepted might be necessary.

If on the other hand it's entirely clear what URI should be used for the 
new resource, then one should just PUT to that.

To summarise:

PUT updates or creates new resources.

POST acts upon resources in arbitrary ways, and just one example of what 
this can be is creating a new resource when the client lacks the 
complete information to do so (in particular the appropriate URI).

POST can do just about anything, but it is bad practice to use it to 
mimic another verb.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6209<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-05-05 09:27:29<br>
Subject:Re: [rest-discuss] POST and PUT<br>
Message:<br><br>
<pre>"Dave Pawson" &lt;dave.pawson@...&gt; writes:

&gt; Confusing? It is to me.
&gt; My clearest idea is that a POST 'updates' an existant resource
&gt; a PUT 'creates' a new one.

No, other way round.

rfc2616 says this about POST:

   The POST method is used to request that the origin server accept the
   entity enclosed in the request as a new subordinate of the resource
   identified by the Request-URI in the Request-Line.

A sub-ordinate resource meaning that if you POST to:

  /someresource

you might create:

  /someresource/1

or:

  /someresource/2

The response to the POST can contain a pointer to the new resource. In
this case the return value should be 201 (Created).


rfc2616 says this about PUT:

   The PUT method requests that the enclosed entity be stored under the
   supplied Request-URI. If the Request-URI refers to an already
   existing resource, the enclosed entity SHOULD be considered as a
   modified version of the one residing on the origin server. 

And here's the important part when comparing with POST:

   If the Request-URI does not point to an existing resource, and that
   URI is capable of being defined as a new resource by the requesting
   user agent, the origin server can create the resource with that
   URI.

So either can create a resource. But POST is more explicit.


&gt; Any clarification please? Simple English , not RTFM :-)

There is no REST manual   /8-&gt;


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6210<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-05-05 09:58:21<br>
Subject:Re: [rest-discuss] POST and PUT<br>
Message:<br><br>
<pre>On 05/05/06, Nic &lt;nferrier@...&gt; wrote:

Thanks Nic. Not sure I agree... but your logic is sound.
Jons view is equally logical.
The variants seem (yet again) to point to that application/http boundary.

&gt; &gt; Any clarification please? Simple English , not RTFM :-)
&gt;
&gt; There is no REST manual   /8-&gt;

When is *someone* going to write the book, never mind the manual.
If some clever person on this list doesn't, someone is likely
to write 'REST for dummies'!

regards



--
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6211<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-05-05 10:05:54<br>
Subject:Re: [rest-discuss] POST and PUT<br>
Message:<br><br>
<pre>Dave Pawson wrote:
&gt; At http://www.xml.com/lpt/a/2004/12/01/restful-web.html
&gt; Joe says
&gt; 
&gt; So if you want to create a new resource, use POST. ..... To update a
&gt; current resource, use PUT.
&gt; 
&gt; 
&gt; The wiki says
&gt; 
&gt; Roughly, PUT means "create" or "replace", POST means "insert",
&gt; 

This is incorrect, though a common confusion. The difference is that 
POST means create a new resource at a server supplied URL. PUT means to 
create a new resource at a client chosen URL.

POST can mean other things too, but it absolutely can mean create. The 
distinction between POST and PUT is which end chooses the URL, not one 
meaning create and the other update. See 
http://www.elharo.com/blog/software-development/web-development/2005/12/08/post-vs-put/

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6212<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-05-05 10:07:59<br>
Subject:Re: [rest-discuss] POST and PUT<br>
Message:<br><br>
<pre>Nic wrote:

&gt; A sub-ordinate resource meaning that if you POST to:
&gt; 
&gt;   /someresource
&gt; 
&gt; you might create:
&gt; 
&gt;   /someresource/1
&gt; 
&gt; or:
&gt; 
&gt;   /someresource/2


or:

/something/completely/different

Remember: URL paths are opaque.


-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6213<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-05-05 10:16:11<br>
Subject:Re: [rest-discuss] POST and PUT<br>
Message:<br><br>
<pre>Elliotte Harold &lt;elharo@...&gt; writes:

&gt; Nic wrote:
&gt;
&gt;&gt; A sub-ordinate resource meaning that if you POST to:
&gt;&gt; 
&gt;&gt;   /someresource
&gt;&gt; 
&gt;&gt; you might create:
&gt;&gt; 
&gt;&gt;   /someresource/1
&gt;&gt; 
&gt;&gt; or:
&gt;&gt; 
&gt;&gt;   /someresource/2
&gt;
&gt;
&gt; or:
&gt;
&gt; /something/completely/different
&gt;
&gt; Remember: URL paths are opaque.

Good point.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6214<br>
Sender:=?UTF-8?B?QmlsbCBkZSBow5NyYQ==?= &lt;bill@...&gt;<br>
Post Date/Time:2006-05-05 10:33:10<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>Elliotte Harold wrote:
&gt; Tracy R Reed wrote:
&gt;  &gt;
&gt;  &gt; And if so, how?
&gt;  &gt;
&gt;  &gt; I have read Roy's paper and a few other things but this cookie thing is
&gt;  &gt; something I just don't get. I was just having a conversation with my
&gt;  &gt; coworker (we run a big e-commerce site) about how torn we are about
&gt;  &gt; having to use cookies. It seems like a necessity. We used to do
&gt;  &gt; sessioning in the url but users would copy and paste their url to their
&gt;  &gt; friends. Now their friends would jump into their session and potentially
&gt;  &gt; be able to buy things on their credit card (yeay one click shopping) and
&gt;  &gt; cause all kinds of problems. Does ReST address this?
&gt;  &gt;
&gt; 
&gt; Yes. It's called HTTP authentication. Anything involving personal,
&gt; private data should require a username password combo to access.
&gt; Presumably if someone e-mails their URL and username and password to a
&gt; friend, they know what they're doing.

Show me the site in French with a pale blue background. Remember that 
for me. No, I don't want to register.

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6215<br>
Sender:"Sandeep Shetty" &lt;sandeep.shetty@...&gt;<br>
Post Date/Time:2006-05-05 10:51:53<br>
Subject:Re: [rest-discuss] POST and PUT<br>
Message:<br><br>
<pre>Hey Dave,

There was a time when I was confused about the same thing till I read
this paragraph from section 9.6 [1] of RFC 2616 :

"The fundamental difference between the POST and PUT requests is
reflected in the different meaning of the Request-URI. The URI in a
POST request identifies the resource that will handle the enclosed
entity. That resource might be a data-accepting process, a gateway to
some other protocol, or a separate entity that accepts annotations. In
contrast, the URI in a PUT request identifies the entity enclosed with
the request -- the user agent knows what URI is intended and the
server MUST NOT attempt to apply the request to some other resource.
If the server desires that the request be applied to a different URI,
it MUST send a 301 (Moved Permanently) response; the user agent MAY
then make its own decision regarding whether or not to redirect the
request."

And then I was enlightened :)

Sandeep Shetty
http://sandeep.shetty.in/

[1] http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.6



On 5/5/06, Dave Pawson &lt;dave.pawson@...&gt; wrote:
&gt; At http://www.xml.com/lpt/a/2004/12/01/restful-web.html
&gt; Joe says
&gt;
&gt; So if you want to create a new resource, use POST. ..... To update a
&gt; current resource, use PUT.
&gt;
&gt;
&gt; The wiki says
&gt;
&gt; Roughly, PUT means "create" or "replace", POST means "insert",
&gt;
&gt;
&gt; Mark Baker,  http://www.markbaker.ca/2001/09/draft-baker-http-resource-state-model-01.txt
&gt; says
&gt; POST changes the state relative to the current    state,
&gt; and
&gt; use the PUT method to explicitly set the state
&gt;    of the resource to the state represented in the body of the
&gt;    invocation.
&gt;
&gt;
&gt;
&gt; Confusing? It is to me.
&gt; My clearest idea is that a POST 'updates' an existant resource
&gt; a PUT 'creates' a new one.
&gt;
&gt; Any clarification please? Simple English , not RTFM :-)
&gt;
&gt; TIA
&gt;
&gt; --
&gt; Dave Pawson
&gt; XSLT XSL-FO FAQ.
&gt; http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6216<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-05-05 13:41:17<br>
Subject:Re: [rest-discuss] POST and PUT<br>
Message:<br><br>
<pre>On 05/05/06, Elliotte Harold &lt;elharo@...&gt; wrote:

&gt; POST can mean other things too, but it absolutely can mean create. The
&gt; distinction between POST and PUT is which end chooses the URL, not one
&gt; meaning create and the other update.
I totally missed that one. Thanks Elliotte.


See
&gt; http://www.elharo.com/blog/software-development/web-development/2005/12/08/post-vs-put/
&gt;
&gt; --

I'm in good company :-)


regards


--
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6217<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-05-05 13:51:15<br>
Subject:Re: [rest-discuss] POST and PUT<br>
Message:<br><br>
<pre>On 05/05/06, Sandeep Shetty &lt;sandeep.shetty@...&gt; wrote:

&gt; "The fundamental difference between the POST and PUT requests is
&gt; reflected in the different meaning of the Request-URI. The URI in a
&gt; POST request identifies the resource that will handle the enclosed
&gt; entity. That resource might be a data-accepting process, a gateway to
&gt; some other protocol, or a separate entity that accepts annotations. In
&gt; contrast, the URI in a PUT request identifies the entity enclosed with
&gt; the request -- the user agent knows what URI is intended and the
&gt; server MUST NOT attempt to apply the request to some other resource.
&gt; If the server desires that the request be applied to a different URI,
&gt; it MUST send a 301 (Moved Permanently) response; the user agent MAY
&gt; then make its own decision regarding whether or not to redirect the
&gt; request."
&gt;
&gt; And then I was enlightened :)

Multiple views of the same object Sandeep?
The above (to me) looks almost like an application layer decision,
with overtones of Elliottes perspective.

It would appear that the amend vs create view is just a bit
inappropriate, unless you take a very specific view.

regards

--
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6218<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-05-05 16:29:10<br>
Subject:Re: [rest-discuss] POST and PUT<br>
Message:<br><br>
<pre>I'm surprised Elliotte didn't provide a link to his awesome "POST vs.
PUT" blog entry;

http://www.elharo.com/blog/software-development/web-development/2005/12/08/post-vs-put/

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6219<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-05-05 17:32:27<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>Bill de hÓra wrote:

&gt; Show me the site in French with a pale blue background. Remember that 
&gt; for me. No, I don't want to register.

Trivial: set your accept-language header to prefer French and set a 
client side CSS stylesheet that sets the background your want. These two 
problems were solved years ago, and actually work in today's browsers.

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6220<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-05-05 17:36:16<br>
Subject:Re: [rest-discuss] POST and PUT<br>
Message:<br><br>
<pre>Dave Pawson wrote:
&gt; On 05/05/06, Elliotte Harold &lt;elharo@...&gt; wrote:
&gt; 
&gt;&gt; POST can mean other things too, but it absolutely can mean create. The
&gt;&gt; distinction between POST and PUT is which end chooses the URL, not one
&gt;&gt; meaning create and the other update.
&gt; I totally missed that one. Thanks Elliotte.
&gt; 
&gt; 

Almost everyone does at first, myself included. It's a classic case of 
trying to understand something new by analogy with something you already 
understand such as SQL. Generally you can push and squeeze enough to 
make the new thing look sort of like the old thing, but it isn't till 
you learn to understand the new thing on its own terms rather than 
trying to understand it as a weird case of something it isn't that you 
really understand it.

This pattern repeats itself, and not just in technology either. Lord 
knows how many times I've gone through this personally. It may be a 
necessary component of human learning.

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6221<br>
Sender:=?UTF-8?B?QmlsbCBkZSBow5NyYQ==?= &lt;bill@...&gt;<br>
Post Date/Time:2006-05-05 19:27:28<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>Elliotte Harold wrote:
&gt; Bill de hÓra wrote:
&gt; 
&gt;&gt; Show me the site in French with a pale blue background. Remember that 
&gt;&gt; for me. No, I don't want to register.
&gt; 
&gt; Trivial: set your accept-language header to prefer French and set a 
&gt; client side CSS stylesheet that sets the background your want. These two 
&gt; problems were solved years ago, and actually work in today's browsers.
&gt; 

ROTFL. For some definition of "work". Tools/internet 
options/languages/add. Then click more to stuff the set the order. 
Versus clicking a link to get to a checkbox. Most people need an admin 
to set the proxy.

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6222<br>
Sender:=?UTF-8?B?QmlsbCBkZSBow5NyYQ==?= &lt;bill@...&gt;<br>
Post Date/Time:2006-05-05 20:46:43<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>Bill de hÓra wrote:
&gt; Elliotte Harold wrote:
&gt;&gt; Bill de hÓra wrote:
&gt;&gt;
&gt;&gt;&gt; Show me the site in French with a pale blue background. Remember that 
&gt;&gt;&gt; for me. No, I don't want to register.
&gt;&gt;
&gt;&gt; Trivial: set your accept-language header to prefer French and set a 
&gt;&gt; client side CSS stylesheet that sets the background your want. These 
&gt;&gt; two problems were solved years ago, and actually work in today's 
&gt;&gt; browsers.
&gt;&gt;
&gt; 
&gt; ROTFL. For some definition of "work". Tools/internet 
&gt; options/languages/add. Then click more to stuff the set the order. 
&gt; Versus clicking a link to get to a checkbox. Most people need an admin 
&gt; to set the proxy.

I should qualify the unbridled arrogance. I think a cookie is a 
reasonable fall-back, given current browser UIs. So if if you want to do 
m10l, watch accept-language but provisioning support via a cookie is a 
sensible option.

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6223<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2006-05-05 21:40:37<br>
Subject:Re: [rest-discuss] POST and PUT<br>
Message:<br><br>
<pre>Dave,

Maybe this is confusing because you have not framed it
in the context of a use case.  What are you trying to do?

Walden

----- Original Message ----- 
From: "Dave Pawson" &lt;dave.pawson@...&gt;
To: "Sandeep Shetty" &lt;sandeep.shetty@...&gt;
Cc: "REST Discuss" &lt;rest-discuss@yahoogroups.com&gt;
Sent: Friday, May 05, 2006 9:51 AM
Subject: Re: [rest-discuss] POST and PUT


: On 05/05/06, Sandeep Shetty &lt;sandeep.shetty@...&gt; wrote:
: 
: &gt; "The fundamental difference between the POST and PUT requests is
: &gt; reflected in the different meaning of the Request-URI. The URI in a
: &gt; POST request identifies the resource that will handle the enclosed
: &gt; entity. That resource might be a data-accepting process, a gateway to
: &gt; some other protocol, or a separate entity that accepts annotations. In
: &gt; contrast, the URI in a PUT request identifies the entity enclosed with
: &gt; the request -- the user agent knows what URI is intended and the
: &gt; server MUST NOT attempt to apply the request to some other resource.
: &gt; If the server desires that the request be applied to a different URI,
: &gt; it MUST send a 301 (Moved Permanently) response; the user agent MAY
: &gt; then make its own decision regarding whether or not to redirect the
: &gt; request."
: &gt;
: &gt; And then I was enlightened :)
: 
: Multiple views of the same object Sandeep?
: The above (to me) looks almost like an application layer decision,
: with overtones of Elliottes perspective.
: 
: It would appear that the amend vs create view is just a bit
: inappropriate, unless you take a very specific view.
: 
: regards
: 
: --
: Dave Pawson
: XSLT XSL-FO FAQ.
: http://www.dpawson.co.uk
: 
: 
: 
: 
: Yahoo! Groups Links
: 
: 
: 
: 
: 
: 
: 
: 
: __________ NOD32 1.1523 (20060505) Information __________
: 
: This message was checked by NOD32 antivirus system.
: http://www.eset.com
: 
:

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6224<br>
Sender:"Sandeep Shetty" &lt;sandeep.shetty@...&gt;<br>
Post Date/Time:2006-05-05 22:24:32<br>
Subject:Re: [rest-discuss] POST and PUT<br>
Message:<br><br>
<pre>Hey Dave,

On 5/5/06, Dave Pawson &lt;dave.pawson@...&gt; wrote:
&gt; On 05/05/06, Sandeep Shetty &lt;sandeep.shetty@...&gt; wrote:
&gt;
&gt; &gt; "The fundamental difference between the POST and PUT requests is
&gt; &gt; reflected in the different meaning of the Request-URI. The URI in a
&gt; &gt; POST request identifies the resource that will handle the enclosed
&gt; &gt; entity. That resource might be a data-accepting process, a gateway to
&gt; &gt; some other protocol, or a separate entity that accepts annotations. In
&gt; &gt; contrast, the URI in a PUT request identifies the entity enclosed with
&gt; &gt; the request -- the user agent knows what URI is intended and the
&gt; &gt; server MUST NOT attempt to apply the request to some other resource.
&gt; &gt; If the server desires that the request be applied to a different URI,
&gt; &gt; it MUST send a 301 (Moved Permanently) response; the user agent MAY
&gt; &gt; then make its own decision regarding whether or not to redirect the
&gt; &gt; request."
&gt; &gt;
&gt; &gt; And then I was enlightened :)
&gt;
&gt; Multiple views of the same object Sandeep?
&gt; The above (to me) looks almost like an application layer decision,
&gt; with overtones of Elliottes perspective.
&gt;
&gt; It would appear that the amend vs create view is just a bit
&gt; inappropriate, unless you take a very specific view.

I guess Elliotte is saying the same thing as that snippet from 2616.
The difference between PUT and POST is not one of CREATE and UPDATE.
The primary difference is about the relationship of the URI with the
enclosed entity. In the case of PUT, the URI identifies the enclosed
entity whereas in the case of POST the URI identifies the resource
that will *process* the enclosed entity. This implies that in the case
of PUT the client decides the URI that is used to identify the
resource that is created/updated (given the right permissions) and in
the case of POST the server decides the URI that identifies the
resource that gets created/updated, if it needs to, as a result of the
POST request. Both methods can be used to CREATE or UPDATE resources,
the difference is in how they do this. Also, POST can be used to do
more than just CREATE or UPDATE resources, whereas PUT can only be
used for those two operations.

Sandeep Shetty
http://sandeep.shetty.in

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6225<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2006-05-06 04:58:42<br>
Subject:RE: [rest-discuss] POST and PUT<br>
Message:<br><br>
<pre>Don't think in terms of create or update - think in terms of transfer.

If the client knows the identity/destination of the resource - use PUT (or
DELETE).
If the client doesn't know the identity of the resource, but knows of a
helper resource that will 'just take care of it', then use POST to that
helper resource.



&gt; -----Original Message-----
&gt; From: rest-discuss@yahoogroups.com 
&gt; [mailto:rest-discuss@yahoogroups.com] On Behalf Of Dave Pawson
&gt; Sent: Friday, May 05, 2006 2:10 AM
&gt; To: REST Discuss
&gt; Subject: [rest-discuss] POST and PUT
&gt; 
&gt; At http://www.xml.com/lpt/a/2004/12/01/restful-web.html
&gt; Joe says
&gt; 
&gt; So if you want to create a new resource, use POST. ..... To 
&gt; update a current resource, use PUT.
&gt; 
&gt; 
&gt; The wiki says
&gt; 
&gt; Roughly, PUT means "create" or "replace", POST means "insert",
&gt; 
&gt; 
&gt; Mark Baker,  
&gt; http://www.markbaker.ca/2001/09/draft-baker-http-resource-stat
&gt; e-model-01.txt
&gt; says
&gt; POST changes the state relative to the current    state,
&gt; and
&gt; use the PUT method to explicitly set the state
&gt;    of the resource to the state represented in the body of the
&gt;    invocation.
&gt; 
&gt; 
&gt; 
&gt; Confusing? It is to me.
&gt; My clearest idea is that a POST 'updates' an existant 
&gt; resource a PUT 'creates' a new one.
&gt; 
&gt; Any clarification please? Simple English , not RTFM :-)
&gt; 
&gt; TIA
&gt; 
&gt; --
&gt; Dave Pawson
&gt; XSLT XSL-FO FAQ.
&gt; http://www.dpawson.co.uk
&gt; 
&gt; 
&gt; ------------------------ Yahoo! Groups Sponsor 
&gt; --------------------~--&gt; Home is just a click away. Make 
&gt; Yahoo! your home page now.
&gt; http://us.click.yahoo.com/DHchtC/3FxNAA/yQLSAA/W6uqlB/TM
&gt; --------------------------------------------------------------
&gt; ------~-&gt; 
&gt; 
&gt;  
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt;  
&gt; 
&gt; 
&gt; 
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6226<br>
Sender:Yannick Loiseau &lt;yloiseau@...&gt;<br>
Post Date/Time:2006-05-06 09:00:32<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>
&gt; Unfortunately nobody likes HTTP auth because the only way to
&gt; authenticate with it seems to be using that ugly browser-supplied popup
&gt; box which you cannot format or provide links to help or "forget your
&gt; password?" links or anything else. Looks like we are going to be stuck
&gt; with cookies for a long time.

You can include links to "forget password" or "create a account" in the
body of the "401 Unauthorized" response



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6227<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-05-06 09:29:14<br>
Subject:Re: [rest-discuss] POST and PUT<br>
Message:<br><br>
<pre>On 06/05/06, Mike Dierken &lt;mdierken@...&gt; wrote:
&gt; Don't think in terms of create or update - think in terms of transfer.
&gt;
&gt; If the client knows the identity/destination of the resource - use PUT (or
&gt; DELETE).
&gt; If the client doesn't know the identity of the resource, but knows of a
&gt; helper resource that will 'just take care of it', then use POST to that
&gt; helper resource.

&lt;grin/&gt; You old pragmatist Mike.
Nice one.
That applies Elliottes approach (and Sandeeps).

That'll do me.


I'll make a change to the wiki along those lines.

regards

--
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6228<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2006-05-06 09:44:01<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>Yannick Loiseau wrote:
&gt;&gt; Unfortunately nobody likes HTTP auth because the only way to
&gt;&gt; authenticate with it seems to be using that ugly browser-supplied popup
&gt;&gt; box which you cannot format or provide links to help or "forget your
&gt;&gt; password?" links or anything else. Looks like we are going to be stuck
&gt;&gt; with cookies for a long time.
&gt; 
&gt; You can include links to "forget password" or "create a account" in the
&gt; body of the "401 Unauthorized" response

Yes.

Are you aware of any mainstream browser that displays the content, though?

Best regards, Julian



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6229<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-05-06 10:30:26<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>Julian Reschke &lt;julian.reschke@...&gt; writes:

&gt; Yannick Loiseau wrote:
&gt;&gt;&gt; Unfortunately nobody likes HTTP auth because the only way to
&gt;&gt;&gt; authenticate with it seems to be using that ugly browser-supplied popup
&gt;&gt;&gt; box which you cannot format or provide links to help or "forget your
&gt;&gt;&gt; password?" links or anything else. Looks like we are going to be stuck
&gt;&gt;&gt; with cookies for a long time.
&gt;&gt; 
&gt;&gt; You can include links to "forget password" or "create a account" in the
&gt;&gt; body of the "401 Unauthorized" response
&gt;
&gt; Yes.
&gt;
&gt; Are you aware of any mainstream browser that displays the content,
&gt; though?

They all display the entity body don't they?

The trouble is, you can't turn off the authentication dialog box.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6230<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2006-05-06 10:43:33<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>Nic wrote:
&gt; Julian Reschke &lt;julian.reschke@...&gt; writes:
&gt; 
&gt;&gt; Yannick Loiseau wrote:
&gt;&gt;&gt;&gt; Unfortunately nobody likes HTTP auth because the only way to
&gt;&gt;&gt;&gt; authenticate with it seems to be using that ugly browser-supplied popup
&gt;&gt;&gt;&gt; box which you cannot format or provide links to help or "forget your
&gt;&gt;&gt;&gt; password?" links or anything else. Looks like we are going to be stuck
&gt;&gt;&gt;&gt; with cookies for a long time.
&gt;&gt;&gt; You can include links to "forget password" or "create a account" in the
&gt;&gt;&gt; body of the "401 Unauthorized" response
&gt;&gt; Yes.
&gt;&gt;
&gt;&gt; Are you aware of any mainstream browser that displays the content,
&gt;&gt; though?
&gt; 
&gt; They all display the entity body don't they?
&gt; 
&gt; The trouble is, you can't turn off the authentication dialog box.

At least FF doesn't display the entity body until you leave the dialog box.

Best regards, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6231<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-05-06 11:44:46<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>Julian Reschke &lt;julian.reschke@...&gt; writes:

&gt; Nic wrote:
&gt;&gt; Julian Reschke &lt;julian.reschke@...&gt; writes:
&gt;&gt; 
&gt;&gt;&gt; Yannick Loiseau wrote:
&gt;&gt;&gt;&gt;&gt; Unfortunately nobody likes HTTP auth because the only way to
&gt;&gt;&gt;&gt;&gt; authenticate with it seems to be using that ugly browser-supplied popup
&gt;&gt;&gt;&gt;&gt; box which you cannot format or provide links to help or "forget your
&gt;&gt;&gt;&gt;&gt; password?" links or anything else. Looks like we are going to be stuck
&gt;&gt;&gt;&gt;&gt; with cookies for a long time.
&gt;&gt;&gt;&gt; You can include links to "forget password" or "create a account" in the
&gt;&gt;&gt;&gt; body of the "401 Unauthorized" response
&gt;&gt;&gt; Yes.
&gt;&gt;&gt;
&gt;&gt;&gt; Are you aware of any mainstream browser that displays the content,
&gt;&gt;&gt; though?
&gt;&gt; 
&gt;&gt; They all display the entity body don't they?
&gt;&gt; 
&gt;&gt; The trouble is, you can't turn off the authentication dialog box.
&gt;
&gt; At least FF doesn't display the entity body until you leave the
&gt; dialog box.

Yes. Reading between the lines that's the specd behaviour:

   If the 401 response contains the same challenge as the
   prior response, and the user agent has already attempted
   authentication at least once, then the user SHOULD be presented the
   entity that was given in the response, since that entity might
   include relevant diagnostic information. 


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6232<br>
Sender:"jay.aozon" &lt;jay.aozon@...&gt;<br>
Post Date/Time:2006-05-06 09:39:15<br>
Subject:AOZON.COM 10MB cPanel hosting - free signup invitation<br>
Message:<br><br>
<pre>
Dear patron, 

I am happy to inform you that WWW.AOZON.COM
is offering 10MB cPanel hosting for no cost.

Please visit http://www.aozon.com

Signup free today for 10MB hosting account 
with following features:
- own domain parking
- cPanel control panel
- unlimited bandwidth 
- unlimited pop3 e-mail
- unlimited sub domains
- unlimited mysql databases
- unlimited ftp accounts
- unlimited mail forwarding 
- fantastico, RVskin, shopping cart etc.
(No advertisment or banners or promotions)

Experience the power of AOZON.COM advanced 
servers for free.  Upgrade later for any of 
our premium hosting account.

AOZON.COM server information:
- Intel xeon dual processors 
- 2-4GB registerd ram 
- Top data centres (planet etc.)
- 99.99% uptime guarantee

Signup today for your free cPanel 
only @ http://www.aozon.com

Pls provide following referral info while 
free signup or order:
Referral Associate id: CHA106AAA (or)
Referral e-mail: jai.aozon@...

Thanks with best regards
jai
(Associate India - Member Business Associate)

 








</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6233<br>
Sender:"Michael Walter" &lt;michael.walter@...&gt;<br>
Post Date/Time:2006-05-06 09:54:18<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>They do once you "Cancel" the authentication dialog, right?

On 5/6/06, Julian Reschke &lt;julian.reschke@gmx.de&gt; wrote:
&gt; Yannick Loiseau wrote:
&gt; &gt;&gt; Unfortunately nobody likes HTTP auth because the only way to
&gt; &gt;&gt; authenticate with it seems to be using that ugly browser-supplied popup
&gt; &gt;&gt; box which you cannot format or provide links to help or "forget your
&gt; &gt;&gt; password?" links or anything else. Looks like we are going to be stuck
&gt; &gt;&gt; with cookies for a long time.
&gt; &gt;
&gt; &gt; You can include links to "forget password" or "create a account" in the
&gt; &gt; body of the "401 Unauthorized" response
&gt;
&gt; Yes.
&gt;
&gt; Are you aware of any mainstream browser that displays the content, though?
&gt;
&gt; Best regards, Julian
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6234<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2006-05-06 16:42:52<br>
Subject:Re: [rest-discuss] POST and PUT<br>
Message:<br><br>
<pre>Hi Mike,

On May 5, 2006, at 9:58 PM, Mike Dierken wrote:
&gt; Don't think in terms of create or update - think in terms of transfer.
&gt;
&gt; If the client knows the identity/destination of the resource - use  
&gt; PUT (or
&gt; DELETE).
&gt; If the client doesn't know the identity of the resource, but knows  
&gt; of a
&gt; helper resource that will 'just take care of it', then use POST to  
&gt; that
&gt; helper resource.

Ah, thank you!  That helps enormously.

So, the distinction is really about "where" the change happens, not  
so much "what" is being done?

-- Ernie P.


&gt;
&gt;
&gt;
&gt; &gt; -----Original Message-----
&gt; &gt; From: rest-discuss@yahoogroups.com
&gt; &gt; [mailto:rest-discuss@yahoogroups.com] On Behalf Of Dave Pawson
&gt; &gt; Sent: Friday, May 05, 2006 2:10 AM
&gt; &gt; To: REST Discuss
&gt; &gt; Subject: [rest-discuss] POST and PUT
&gt; &gt;
&gt; &gt; At http://www.xml.com/lpt/a/2004/12/01/restful-web.html
&gt; &gt; Joe says
&gt; &gt;
&gt; &gt; So if you want to create a new resource, use POST. ..... To
&gt; &gt; update a current resource, use PUT.
&gt; &gt;
&gt; &gt;
&gt; &gt; The wiki says
&gt; &gt;
&gt; &gt; Roughly, PUT means "create" or "replace", POST means "insert",
&gt; &gt;
&gt; &gt;
&gt; &gt; Mark Baker,
&gt; &gt; http://www.markbaker.ca/2001/09/draft-baker-http-resource-stat
&gt; &gt; e-model-01.txt
&gt; &gt; says
&gt; &gt; POST changes the state relative to the current    state,
&gt; &gt; and
&gt; &gt; use the PUT method to explicitly set the state
&gt; &gt;    of the resource to the state represented in the body of the
&gt; &gt;    invocation.
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; Confusing? It is to me.
&gt; &gt; My clearest idea is that a POST 'updates' an existant
&gt; &gt; resource a PUT 'creates' a new one.
&gt; &gt;
&gt; &gt; Any clarification please? Simple English , not RTFM :-)
&gt; &gt;
&gt; &gt; TIA
&gt; &gt;
&gt; &gt; --
&gt; &gt; Dave Pawson
&gt; &gt; XSLT XSL-FO FAQ.
&gt; &gt; http://www.dpawson.co.uk
&gt; &gt;
&gt; &gt;
&gt; &gt; ------------------------ Yahoo! Groups Sponsor
&gt; &gt; --------------------~--&gt; Home is just a click away.  Make
&gt; &gt; Yahoo! your home page now.
&gt; &gt; http://us.click.yahoo.com/DHchtC/3FxNAA/yQLSAA/W6uqlB/TM
&gt; &gt; --------------------------------------------------------------
&gt; &gt; ------~-&gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; Yahoo! Groups Links
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt;
&gt;
&gt; SPONSORED LINKS
&gt; Protocol analyzer	Ssl protocol	Protocol converter
&gt; Sip protocol	Protocol analysis	Protocol
&gt;
&gt; YAHOO! GROUPS LINKS
&gt;
&gt;  Visit your group "rest-discuss" on the web.
&gt;
&gt;  To unsubscribe from this group, send an email to:
&gt;  rest-discuss-unsubscribe@yahoogroups.com
&gt;
&gt;  Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6235<br>
Sender:Christian Gross &lt;mailing@...&gt;<br>
Post Date/Time:2006-05-06 20:06:32<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>Tracy R Reed wrote:
&gt; 
&gt; And if so, how?
&gt; 
&gt; I have read Roy's paper and a few other things but this cookie thing is
&gt; something I just don't get. I was just having a conversation with my
&gt; coworker (we run a big e-commerce site) about how torn we are about
&gt; having to use cookies. It seems like a necessity. We used to do
&gt; sessioning in the url but users would copy and paste their url to their
&gt; friends. Now their friends would jump into their session and potentially
&gt; be able to buy things on their credit card (yeay one click shopping) and
&gt; cause all kinds of problems. Does ReST address this?
&gt; 
(I read all of the posts and decided to reply to the original)

I like to think that cookies and HTTP authentication are means used to 
give access to a resource, not provide information about the resource. 
Metamorphically speaking, on a computer everybody sees the same file, 
but whether or not you are allowed to access it depends on your security 
identifier. Cookies and HTTP Authentication should be used in the same 
way. Everybody sees the same resource identifier, but the cookie or HTTP 
authentication identifier says whether or not you are allowed to access 
the resource.

If you use cookies in that fashion I don't see anything wrong with cookies.

Now about security and privacy...  At SD me and Alan Holub had a really 
long discussion about this. The answer is that only by using hardware 
based security (client and server side) can you ensure who is accessing 
what data and when. Whenever you are using software you are creating a 
weakness that can be exploited.

Though one thing that struck me in this conversation was that Alan kept 
saying, "Don't do this yourself many smart people have already thought 
about this". For example you could use SSH, STunnel (SSL Tunneling) or 
OpenVPN (virtual private network) to keep things private. There are a 
host of solutions and developers should use them, and not create new ones.

Christian



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6236<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-05-06 20:31:46<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>Christian Gross &lt;mailing@...&gt; writes:

&gt; Now about security and privacy...  At SD me and Alan Holub had a really 
&gt; long discussion about this. The answer is that only by using hardware 
&gt; based security (client and server side) can you ensure who is accessing 
&gt; what data and when. Whenever you are using software you are creating a 
&gt; weakness that can be exploited.

Yes. You should use security mechanisms that provides an acceptable
level of risk.

It depends entirely on the application and the users what that level
is.


Nic Ferrier

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6237<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-05-06 23:09:01<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>Meryn Stol &lt;meryn@...&gt; writes:

&gt;&gt; Using cookies at least gives you the chance of using client side code
&gt;&gt; to vary what is presented to the user without changing the
&gt;&gt; representation for everyone. Clearly, this only works for small
&gt;&gt; amounts of variable data. The contents of a shopping basket, or some
&gt;&gt; user details for example.
&gt;
&gt; Wouldn't it be nice to apply ajax to this problem:
&gt; You could have the server return a generic representation of a  
&gt; shopping basket, including the nescessary javascript to load the  
&gt; (user specific) contents of the shopping basket with a seperate HTTP  
&gt; call. The result is a generic URL in a browser (which can be shared  
&gt; with everyone), while the generic shoppping basket representation  
&gt; still can be cached, and having serepate urls for each actual  
&gt; 'shopping basket instance'.

This is the best way of doing it I think. Roy pretty much details
it in his paper.

But not all browsers support AJAX specifically. Some support
Javascript and most support cookies.


&gt; I have a feeling this pattern could increase server performance for  
&gt; many ecommerce and commmunity websites tremendously. You could cache  
&gt; a lot of dynamicly built representations on the serverside. Am I  
&gt; overestimating this effect?

No. That's why everyone's excited about AJAX.


&gt; Would using ajax to compose 'multidimensional' on-screen resource  
&gt; resprentations (e.g. (resource,user) as opposed to the one- 
&gt; dimensional representations generated by the server) be very  
&gt; noticable? I've never done any serious ajax testing. Is there anyone  
&gt; with some ajax-experience here?

I have. It works fine depending on latency and the resources available
to the client.

Using light data representation can help, JSON for example removes the
need to parse returned XML at all.


However, the cookie approach is still valid because with that you
might not need any user specific resources at all. All the logic could
be client side and stored in the cookie.

Consider the shopping cart. When you buy something a primary key
representing the item gets added to the cookie (by client side
code). You can buy more things which results in the cookie getting
longer.

When you want to check out the contents of the Cookie are POSTed to
the server side and the server can deal with the purchase. It still
wouldn't have to return a user specific resource (maybe it emails you
the invoice) and it still doesn't break REST.

I'm not saying this particular example is a good example... but it is
illustrative of my point about client side cookies.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6238<br>
Sender:Meryn Stol &lt;meryn@...&gt;<br>
Post Date/Time:2006-05-07 15:23:39<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>On 7 may 2006, at 1:09, Nic wrote:

&gt; Meryn Stol &lt;meryn@...&gt; writes:
&gt;
&gt;&gt; You could have the server return a generic representation of a
&gt;&gt; shopping basket, including the nescessary javascript to load the
&gt;&gt; (user specific) contents of the shopping basket with a seperate HTTP
&gt;&gt; call. The result is a generic URL in a browser (which can be shared
&gt;&gt; with everyone), while the generic shoppping basket representation
&gt;&gt; still can be cached, and having serepate urls for each actual
&gt;&gt; 'shopping basket instance'.
&gt;
&gt; This is the best way of doing it I think. Roy pretty much details
&gt; it in his paper.

Where specifically? Maybe it's time for me the reread the whole  
thing. It has been some time ago.
Maybe it's like a good movie or novel: You notice new things each  
time you read it.

&gt; But not all browsers support AJAX specifically. Some support
&gt; Javascript and most support cookies.

I understand. Clients without javascript support should be served  
personalized (thus non-cacheable) representations if you want to  
preserve the 'generic' (non-user, non-contents specific) urls. I  
think those should be wholly different resources (different URIs from  
the generic, cacheable versions).

This reminds me of some wish I've had a long time:
A framework which can generate generic representations with  
javascript as well as 100% session dependent representations (never  
cacheable) based on reported client capabilities, but all generated  
from the same definitions, so the type of representations served is  
completely abstracted away. Does such a framework exist? Is it even  
possible? Maybe in a functional programming language?

Kind regards,

Meryn




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6239<br>
Sender:"merynstol" &lt;meryn@...&gt;<br>
Post Date/Time:2006-05-07 17:45:25<br>
Subject:Re: Can ReST replace cookies?<br>
Message:<br><br>
<pre> &gt; Show me the site in French with a pale blue background. Remember that 
&gt; for me. No, I don't want to register.

I think you could best use different URI's for different language
versions (either append or prepend something like 'fr' to the path).
As for user interface personalization, I think cookies combined with
client side javascript would be the best, as the resource
representation doesn't have to be personalized (vary: cookie) by the
server, so it can be cached.

Kind Regards,

Meryn






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6240<br>
Sender:Meryn Stol &lt;meryn@...&gt;<br>
Post Date/Time:2006-05-07 15:10:04<br>
Subject:REST teaching in classrooms?<br>
Message:<br><br>
<pre>I was just wondering:

I'm currently studying economics in college. Part of the curriculum  
is accounting and financial reporting. As you may already know,  
financial reporting of public companies is bound by strict rules  
(standardized protocols), as to improve 'interoperation' between  
companies and (potentional) investors.

To what extend is the attention to HTTP and REST in computer science  
or software engineering classes?
I don't know how any student could be any worse of by knowing HTTP  
1.1 thoughout, while more advanced students could definitely benefit  
from the generalizations found in REST. Getting to know REST has made  
me a better architect and engineer for sure.

I'd love to hear some comments from people affiliated with universities.
Are there any professors who deeply care about REST? If not, why not?
How could we improve the REST-awareness of professors and other  
teachers?

Thanks for your input.

Meryn



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6241<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2006-05-07 18:08:40<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>Meryn Stol &lt;meryn@...&gt; writes:

&gt; A framework which can generate generic representations with  
&gt; javascript as well as 100% session dependent representations (never  
&gt; cacheable) based on reported client capabilities, but all generated  
&gt; from the same definitions, so the type of representations served is  
&gt; completely abstracted away. Does such a framework exist? Is it even  
&gt; possible? Maybe in a functional programming language?

I think it could be done.


Similar is the idea behind Links:

 http://lambda-the-ultimate.org/node/1441


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6242<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2006-05-07 22:06:05<br>
Subject:RE: [rest-discuss] POST and PUT<br>
Message:<br><br>
<pre> 
&gt; On May 5, 2006, at 9:58 PM, Mike Dierken wrote:
&gt; &gt; 	Don't think in terms of create or update - think in terms of
transfer.
&gt; &gt; 		
&gt; &gt; 	If the client knows the identity/destination of the resource - use
PUT (or
&gt; &gt; 	DELETE).
&gt; &gt; 	If the client doesn't know the identity of the resource, but knows
of a
&gt; &gt; 	helper resource that will 'just take care of it', then use POST to
that
&gt; &gt; 	helper resource.

&gt; Ah, thank you! That helps enormously.
&gt; So, the distinction is really about "where" the change happens, not so
much "what" 
&gt; is being done?
&gt; 
&gt; 	-- Ernie P. 
	 
Sort of - both the what and where are important, but the 'what is being
done' is easier to deal with in a client application that doesn't need to
consider whether a resource 'exists' (use update) or 'does not exist' (use
create). This reduces the amount of shared knowledge between the two
components in order to make them work together.

In order to avoid 'where' being interpreted as client .vs. server - since I
believe that distinction is an illusion - I think of it as what the change
is 'about', rather than where the change takes place .



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6243<br>
Sender:"Joe Gregorio" &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2006-05-08 03:17:31<br>
Subject:Re: [rest-discuss] Inverted requests<br>
Message:<br><br>
<pre>On 4/14/06, Lyle Kopnicky &lt;lyle@...&gt; wrote:
&gt; Well, just to throw you for a further loop, I'm doing it with one-off
&gt; connections.  So, the client periodically sends a POST to the server,
&gt; which responds with any pending "reverse request".  End of connection.
&gt; When the client finishes processing the reverse request, it does another
&gt; POST to the server to send the result.  The server either responds with
&gt; another reverse request, or indicates there are no more pending reverse
&gt; requests.

That's evil, sick and twisted, but I can't help but applaud your ingenuity.

   -joe

--
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6244<br>
Sender:Gavin Thomas Nicol &lt;gtn@...&gt;<br>
Post Date/Time:2006-05-09 16:57:56<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>
On May 4, 2006, at 3:35 PM, Elliotte Harold wrote:

&gt; If http://www.example.com/shoppingcart shows me and you different
&gt; resources when we load it into our respective browsers because we have
&gt; different cookies, then cookies are violating the web architecture.

If it shows you a different representation of the resource is it  
still violating the web architecture?


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6245<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-05-10 14:55:09<br>
Subject:REST vs. WS-*: A Parable<br>
Message:<br><br>
<pre>Subscribers to this list may find the following parable amusing:

http://cafe.elharo.com/web/rest-vs-soap-a-parable/

The inspiration for this idea were some conversations I had a couple of 
years ago at Software Development with two Web Services consultants who 
kept insisting that REST wasn't enterprise suitable because it didn't 
offer the security and reliability their clients needed. Needless to say 
I don't hold that position myself. :-)

-- 
﻿Elliotte Rusty Harold  elharo@...
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6246<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2006-05-15 22:54:54<br>
Subject:GET, POST and double-requests<br>
Message:<br><br>
<pre>Hi folks,

This isn't strictly a REST question, but I figured you folks would know 
a lot about this topic.

I'm developing a software product which (gasp!) currently uses GETs for 
some state-changing operations. The server occasionally gets duplicate 
requests from clients, which, since these requests are not idempotent, 
causes problems. I hypothesize that the double-requests are occuring 
when the server gets busy, and doesn't respond to a request within a 
certain time frame, so the client (sometimes IE, sometimes our own 
software) decides to resend the request. The two get queued up and 
handled one right after each other by the server.

I want to change the state-effecting operations to use POST, but to 
justify the change in the software, I'm seeking evidence that using POST 
might resolve this problem.

Are web browsers prone to automatically resending GET requests, if they 
don't hear back from the server within, say 5 seconds?  Or 30 seconds?  
Will the same thing happen with a POST?  Thanks.

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6247<br>
Sender:=?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;bill@...&gt;<br>
Post Date/Time:2006-05-16 01:37:33<br>
Subject:Re: [rest-discuss] GET, POST and double-requests<br>
Message:<br><br>
<pre>Lyle Kopnicky wrote:
&gt; Hi folks,
&gt; 
&gt; This isn't strictly a REST question, but I figured you folks would know
&gt; a lot about this topic.
&gt; 
&gt; I'm developing a software product which (gasp!) currently uses GETs for
&gt; some state-changing operations. The server occasionally gets duplicate
&gt; requests from clients, which, since these requests are not idempotent,
&gt; causes problems. I hypothesize that the double-requests are occuring
&gt; when the server gets busy, and doesn't respond to a request within a
&gt; certain time frame, so the client (sometimes IE, sometimes our own
&gt; software) decides to resend the request. The two get queued up and
&gt; handled one right after each other by the server.
&gt; 
&gt; I want to change the state-effecting operations to use POST, but to
&gt; justify the change in the software, I'm seeking evidence that using POST
&gt; might resolve this problem.
&gt; 
&gt; Are web browsers prone to automatically resending GET requests, if they
&gt; don't hear back from the server within, say 5 seconds?  Or 30 seconds? 
&gt; Will the same thing happen with a POST?  Thanks.

I haven't see a browser resubmit by itself, but people clicking on the 
form twice is common enough. Re your justification, I'd be more worried 
about the GET not reaching the origin server at all*, rather than it 
getting there twice.

cheers
Bill

* I've seen people get bit by this, where services don't get started. or 
don't get stopped, so end getting started twice. That sort of nonsense.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6248<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-05-16 06:11:17<br>
Subject:Re: GET, POST and double-requests<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, Lyle Kopnicky &lt;lyle@...&gt; wrote:
&gt;
&gt; Hi folks,
&gt; 
&gt; This isn't strictly a REST question, but I figured you folks would know 
&gt; a lot about this topic.
&gt; 
&gt; I'm developing a software product which (gasp!) currently uses GETs for 
&gt; some state-changing operations. The server occasionally gets duplicate 
&gt; requests from clients, which, since these requests are not idempotent, 
&gt; causes problems. I hypothesize that the double-requests are occuring 
&gt; when the server gets busy, and doesn't respond to a request within a 
&gt; certain time frame, so the client (sometimes IE, sometimes our own 
&gt; software) decides to resend the request. The two get queued up and 
&gt; handled one right after each other by the server.
&gt; 
&gt; I want to change the state-effecting operations to use POST, but to 
&gt; justify the change in the software, I'm seeking evidence that using
POST 
&gt; might resolve this problem.
&gt; 
&gt; Are web browsers prone to automatically resending GET requests, if they 
&gt; don't hear back from the server within, say 5 seconds?  Or 30 seconds?  
&gt; Will the same thing happen with a POST?  Thanks.
&gt; 
&gt; -- 
&gt; Lyle Kopnicky
&gt; Software Project Engineer
&gt; Veicon Technology, Inc.
&gt;

Firefox is especially prone to this as there are various add-ons that
provide auto-refresh functionality for example: see
https://addons.mozilla.org/firefox/115/

This is why the GET and HEAD methods should be safe (see
http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html):

"In particular, the convention has been established that the GET and
HEAD methods SHOULD NOT have the significance of taking an action
other than retrieval."

Alan Dean
Lead Developer, OnlineTravel.com





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6249<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2006-05-16 15:41:29<br>
Subject:Re: [rest-discuss] GET, POST and double-requests<br>
Message:<br><br>
<pre>Lyle Kopnicky wrote:
&gt; Hi folks,
&gt; 
&gt; This isn't strictly a REST question, but I figured you folks would know 
&gt; a lot about this topic.
&gt; 
&gt; I'm developing a software product which (gasp!) currently uses GETs for 
&gt; some state-changing operations. The server occasionally gets duplicate 
&gt; requests from clients, which, since these requests are not idempotent, 
&gt; causes problems. I hypothesize that the double-requests are occuring 
&gt; when the server gets busy, and doesn't respond to a request within a 
&gt; certain time frame, so the client (sometimes IE, sometimes our own 
&gt; software) decides to resend the request. The two get queued up and 
&gt; handled one right after each other by the server.
&gt; 
&gt; I want to change the state-effecting operations to use POST, but to 
&gt; justify the change in the software, I'm seeking evidence that using POST 
&gt; might resolve this problem.
&gt; 
&gt; Are web browsers prone to automatically resending GET requests, if they 
&gt; don't hear back from the server within, say 5 seconds?  Or 30 seconds?  
&gt; Will the same thing happen with a POST?  Thanks.

GET being idempotent could be part of this - GET promises to be safe for 
such retries, and if your product isn't safe for these requests then 
that's a bug. However repeated POSTs could still happen. So as well as 
moving to POST* (which you should still do) you may wish to have some 
sort of timestamp, sequence number or entity identifier in the data POSTed.

*Assuming that POST is the correct verb to use, and there isn't some 
other factor in what you're doing, though I doubt it's something where 
PUT or DELETE would be appropriate from what you say about it - though 
could it be somewhere where PUT along with If-Not-Modified would be 
appropriate?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6250<br>
Sender:"Matthias Willerich" &lt;scheffmeister@...&gt;<br>
Post Date/Time:2006-05-16 21:22:04<br>
Subject:Re: GET, POST and double-requests<br>
Message:<br><br>
<pre>Hi Lyle,
I had a similar problem with that using POST (basically trying to prevent
people from resubmitting forms). 
I was first thinking of a random string that would be put into a hidden
field. You can write them into a table before writing out the form, to make
sure there's never ever going to be the same string (and not rely on that
infinitesimally small chance). 
But then I realised that this is overblown for my problem. I only need to be
sure that there's nothing resent that would trigger an INSERT. As I always
log the IP and the creation date, I realised I can simply use microtime
relying on the chance that no 2 forms are requested in the same microsecond,
and extend the creation date field in the database...safe enough in my case.

Another thing that I haven't really tested thoroughly is that it seems if
you send a form to the server, process it and send a redirect header, you
don't get the little "you have to resend your POST blabla"-box. Maybe. In
some browsers. I think. 

Hope that helps,
Matthias



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6251<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-05-16 21:38:47<br>
Subject:Re: [rest-discuss] GET, POST and double-requests<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6252<br>
Sender:=?UTF-8?B?QmlsbCBkZSBow5NyYQ==?= &lt;bill@...&gt;<br>
Post Date/Time:2006-05-16 22:14:47<br>
Subject:Re: [rest-discuss] GET, POST and double-requests<br>
Message:<br><br>
<pre>Jon Hanna wrote:

&gt; GET being idempotent could be part of this - GET promises to be safe for
&gt; such retries, and if your product isn't safe for these requests then
&gt; that's a bug. However repeated POSTs could still happen. So as well as
&gt; moving to POST* (which you should still do) you may wish to have some
&gt; sort of timestamp, sequence number or entity identifier in the data POSTed.


Afaict, POE can be applied on the server to avoid double posting without 
the client having a clue about it.

cheers
Bill


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6253<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-05-17 02:35:47<br>
Subject:Re: [rest-discuss] GET, POST and double-requests<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6254<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-05-17 02:38:22<br>
Subject:Re: [rest-discuss] GET, POST and double-requests<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6255<br>
Sender:toydi &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2006-05-18 04:33:01<br>
Subject:POST usage in Composite State Resource<br>
Message:<br><br>
<pre>Hi,

Sometime we need to model a resource (i.e. a Bill Record) that has a
primary state (i.e. 'unpaid', 'paid', 'invoiced') and several
encapsulated subordinates (i.e. bought items with quantity &amp; price and
total price).

[Example: Shopping mart bill record Use Case]
Retrieving a Bill Record resource for instance, we receive:
&lt;bill-record id="000"&gt;
  &lt;customer-id&gt;11-111&lt;/customer-id&gt;
  &lt;status&gt;unpaid&lt;/status&gt;
  &lt;dispensed-items&gt;
    &lt;item type="http://example.org/items/00-111" quantity="2"
priceperunit="20.00" /&gt;
    &lt;item type="http://example.org/items/00-222" quantity="1"
priceperunit="10.00" /&gt;
  &lt;/dispensed-items&gt;
  &lt;!-- total with additional tax charge --&gt;
  &lt;total&gt;50.21&lt;/total&gt;
&lt;/bill-record&gt;

Now, try to model three use cases below:
1) If an 'unpaid' bill has included incorrect item, Shopkeeper sends
(POST) a correct &lt;dispensed-items&gt; to Bill Record resource. It will
verify itself and recalculate the total.

2) If a customer pays cash, Shopkeeper sends (POST) the payment amount
to that Bill Record resource, the status will change from 'unpaid' to
'paid'.

3) Some customers prefer monthly invoice payment, Shopkeeper first
verify the customer then stamp (POST) the bill as 'invoiced', the
status will change from 'unpaid' to 'invoiced'.

[Overload POST]
In this case, I overload the POST method to allow change on state
implicitly. Does the cases above align with "Composite State Resource"
[1] and HTTP/1.1 POST definition?

Recently, I find that in many cases changing a resource's state
explicitly is not a suitable design, especially dealing with composite
state, or prior calculation is needed before a state transition.
(similar in OO model, see Venners's article[2]).

Is there a better design alternative in this case? Hope to get some
comments. :-)


[1] http://www.markbaker.ca/2001/09/draft-baker-http-resource-state-model-01.txt
[2] http://www.artima.com/interfacedesign/ServiceOriented.html

Thanks,
-- 
Teo HuiMing (toydi)
teohuiming.work at gmail dot com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6256<br>
Sender:"rayhan" &lt;rayhan@...&gt;<br>
Post Date/Time:2006-05-18 09:40:42<br>
Subject:Looking for basic REST tutorial with PHP<br>
Message:<br><br>
<pre>Hi all,

Searched the board but couldn’t find it.  Is there a basic REST
tutorial (preferably with examples) in PHP to get me started?  I am
new to REST and while I understand the concept behind it, would like
to learn by following an example.

Thanks,

rayhan







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6257<br>
Sender:toydi &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2006-05-19 16:34:58<br>
Subject:Re: POST usage in Composite State Resource<br>
Message:<br><br>
<pre>Hi Mark,

In your composite state resource model, you use an example of annotate
an editorial with comments:

   "For example, one might annotate an editorial with a comment.
   This would be represented in the composite state model as adding
   the POSTed comment to the resource. This may happen with or
   without the granting of that annotation a new identity."

Let say it happens that annotations get no new identities. ;-)

[What is "composite state"]
--------
When you say "composite state", do you mean that resource is composite
because it's made up of editorial content and annotations? and use
POST for relative changes on the "composite resouce's state" (i.e.
adding a comment).

Now, Question#1 ;-)

Is it suitable to use PUT to update (only) the editorial part?

But in the composite state model, you define "[..] the job of PUT is
to set the state explicitly [..]". In this case, the composite
resource's state would be a composition of editorial content and
annotations, not editorial content solely.

So, using POST would be better?

[Overload POST with N tasks]
The second question, we use POST to add a comment to the resource. If
answer above is yes, POST can be use to update editorial content too.
However, I think it doesn't violate the composite model (if I not
misunderstand) since POST is used for "relative changes" to the state.

But OTOH, this design introduces overloading on POST to perform
several tasks (add comment, update editorial) upon a single resource.

I'm still not sure where the fault is, but imagine when the tasks to
change state "relatively" grow towards N, or a composite resource
composed of N different subordinate type?

We'll have N tasks overload on POST! ;-|


Thanks,
-- 
Teo HuiMing (toydi)
teohuiming.work at gmail dot com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6258<br>
Sender:toydi &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2006-05-20 05:11:28<br>
Subject:Re: [rest-discuss] POST usage in Composite State Resource<br>
Message:<br><br>
<pre>On 5/20/06, Yohanes Santoso &lt;yahoo-rest-discuss@...&gt; wrote:
&gt; Once you decompose a composite resource like bill-record, it becomes
&gt; clear to see that there is no overloading-POST problem. You'd simply
&gt; POST to the specific, primitive resources.

Let's try to re-model the use case based on your solution:

[Description]
BillRecord
   is-a composite state resource,
   consist-of a DispensedItems and a Payment-Acceptor subordinates,
   has-pointer to its DispensedItems and Payment-Acceptor subordinates.

To modified dispensed items, POST corrected dispensed items to DispensedItems.
To change status 'unpaid' to 'paid', POST payment amount to Payment-Acceptor.
To change status 'unpaid' to 'invoiced', POST invoice number to
Payment-Acceptor.

[Bill Record XML representation example]
&lt;bill-record id="000"&gt;
  &lt;customer-id&gt;11-111&lt;/customer-id&gt;
  &lt;status&gt;unpaid&lt;/status&gt;
  &lt;dispensed-items&gt;
    &lt;item type="/items/00-111" quantity="2" priceperunit="20.00" /&gt;
    &lt;item type="/items/00-222" quantity="1" priceperunit="10.00" /&gt;
  &lt;/dispensed-items&gt;
  &lt;!-- total with additional tax charge --&gt;
  &lt;total&gt;50.21&lt;/total&gt;

  &lt;xhtml:link rel="dispensed-items" href="/bill/000/dispensed-items" /&gt;
  &lt;xhtml:link rel="payment-acceptor" href="/bill/000/payment" /&gt;
&lt;/bill-record&gt;

Comments?
---------------------------
But we still overload Payment-Acceptor's POST with two "functionally"
distinct tasks (i.e. accept invoice number, accept cash payment
amount). OTOH, we can argue there is only one "logical" task (i.e.
both change the payment status).

Does such overload POST allowed in HTTP/1.1 and align with Mark's
abstract model?

--
Teo HuiMing (toydi)
teohuiming.work at gmail dot com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6259<br>
Sender:toydi &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2006-05-20 05:19:40<br>
Subject:Re: [rest-discuss] POST usage in Composite State Resource<br>
Message:<br><br>
<pre>I think Yohanse forgot to CC the list. ;-)
---------- Forwarded message ----------
From: Yohanes Santoso &lt;yahoo-rest-discuss@...&gt;
Date: May 20, 2006 3:51 AM
Subject: Re: [rest-discuss] POST usage in Composite State Resource
To: toydi &lt;teohuiming.work@...&gt;


toydi &lt;teohuiming.work@gmail.com&gt; writes:

In your other email you asked what a composite resource is. It is a
resource that is not atomic in nature; an amalgamation of other
resources.

bill-record in your example is a composite resource. It is a
convenient facade for a set of related resources: dispensed items,
payment status.


&gt; [Example: Shopping mart bill record Use Case]
&gt; Retrieving a Bill Record resource for instance, we receive:
&gt; &lt;bill-record id="000"&gt;
&gt;   &lt;customer-id&gt;11-111&lt;/customer-id&gt;
&gt;   &lt;status&gt;unpaid&lt;/status&gt;
&gt;   &lt;dispensed-items&gt;
&gt;     &lt;item type="http://example.org/items/00-111" quantity="2"
&gt; priceperunit="20.00" /&gt;
&gt;     &lt;item type="http://example.org/items/00-222" quantity="1"
&gt; priceperunit="10.00" /&gt;
&gt;   &lt;/dispensed-items&gt;
&gt;   &lt;!-- total with additional tax charge --&gt;
&gt;   &lt;total&gt;50.21&lt;/total&gt;
&gt; &lt;/bill-record&gt;

Once you decompose a composite resource like bill-record, it becomes
clear to see that there is no overloading-POST problem. You'd simply
POST to the specific, primitive resources.

Depending on your business rule, PUT may not be acceptable if you want
the changes to depend on before-change version of the resource. E.g.:
payment status may be sensitive to the previous state. A change from
UNPAID to PAID may involve some checking that the correct amount of
payment has really been received. And PAID to PAID may check for
double debit (overpayment).

Let's assume for this discussion that resource is represented by the
URI path: /bill/000 and all changes are done through POST.

&gt; Now, try to model three use cases below:
&gt; 1) If an 'unpaid' bill has included incorrect item, Shopkeeper sends
&gt; (POST) a correct &lt;dispensed-items&gt; to Bill Record resource. It will
&gt; verify itself and recalculate the total.

POST the correction to /bill/000/dispensed-items. The response should
be a 201 (Created), because what is actually happening behind is a new
version of bill-record (resource) is created (with corrected
dispensed-items and total) and mapped to /bill/000, replacing previous
the version.

&gt; 2) If a customer pays cash, Shopkeeper sends (POST) the payment amount
&gt; to that Bill Record resource, the status will change from 'unpaid' to
&gt; 'paid'.

POST the amount to /bill/000/payment.

&gt; 3) Some customers prefer monthly invoice payment, Shopkeeper first
&gt; verify the customer then stamp (POST) the bill as 'invoiced', the
&gt; status will change from 'unpaid' to 'invoiced'.

POST the invoice number to /bill/000/payment.


The actual URI used does not really matter. You could have:
/bill/000?payment=US100.00&amp;payment=invoice1234
for split payment (US$100 cash, the rest is invoiced).

YS.


-- 
Teo HuiMing (toydi)
teohuiming.work at gmail dot com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6260<br>
Sender:Yohanes Santoso &lt;yahoo-rest-discuss@...&gt;<br>
Post Date/Time:2006-05-20 06:13:10<br>
Subject:Re: [rest-discuss] POST usage in Composite State Resource<br>
Message:<br><br>
<pre>Yohanes Santoso &lt;yahoo-rest-discuss@...&gt; writes:

&gt; Is paying with AMEX credit card result in different behaviour than
&gt; if paying with a VISA credit card? 

Sorry, I meant to say, is the difference between paying by AMEX and
paying by VISA significant enough to warrant creating specialised AMEX
and VISA payment processors (two other resources).

YS.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6261<br>
Sender:Yohanes Santoso &lt;yahoo-rest-discuss@...&gt;<br>
Post Date/Time:2006-05-20 06:09:25<br>
Subject:Re: [rest-discuss] POST usage in Composite State Resource<br>
Message:<br><br>
<pre>toydi &lt;teohuiming.work@...&gt; writes:

&gt; On 5/20/06, Yohanes Santoso &lt;yahoo-rest-discuss@...&gt; wrote:
&gt;&gt; Once you decompose a composite resource like bill-record, it becomes
&gt;&gt; clear to see that there is no overloading-POST problem. You'd simply
&gt;&gt; POST to the specific, primitive resources.
&gt;
&gt; Let's try to re-model the use case based on your solution:

&gt; Comments?

Toydi, 

The model looks OK to me. But since I don't know the context of your
effort, it may not really be OK.


&gt; But we still overload Payment-Acceptor's POST with two "functionally"
&gt; distinct tasks (i.e. accept invoice number, accept cash payment
&gt; amount). OTOH, we can argue there is only one "logical" task (i.e.
&gt; both change the payment status).

The question here is how far are you going to do decomposition?
There is a point where further decomposition simply is not worth the
trouble. 

If you were asked to model a car, would you model it down to the
subatomic level? If it is to be used by physicsts interested in how
two adjacent quarks, one from the windshield and one from the
surrounding frame, interact, then sure you would. If it is to be used
in a automobile dealership, sure you wouldn't.

&gt; Does such overload POST allowed in HTTP/1.1 and align with Mark's
&gt; abstract model?

I don't know if you are treating invoice-as-payment any differently
than cash-as-payment. How about if paid by IOU (informal invoice)? By
credit card? How important is the type of the credit card? Is paying
with AMEX credit card result in different behaviour than if paying
with a VISA credit card? The list goes on. 

So, if you still feel there is POST overloading, simply decompose
further as necessary.


Yours,
YS.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6262<br>
Sender:toydi &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2006-05-20 09:29:57<br>
Subject:Re: [rest-discuss] POST usage in Composite State Resource<br>
Message:<br><br>
<pre>On 5/20/06, Yohanes Santoso &lt;yahoo-rest-discuss@...&gt; wrote:
&gt; The model looks OK to me. But since I don't know the context of your
&gt; effort, it may not really be OK.

So far, I'm happy with that too. Thanks for your inspiration. :-)

&gt; The question here is how far are you going to do decomposition?
&gt; There is a point where further decomposition simply is not worth the
&gt; trouble.

Yes, I see granularity as one key. My problem is I need a consistent
way to model resources. When interface is not constrained (in OO),
life is straight forward:

  class BillRecord {
    public modifyItems();
    public pay();
    public invoiced();
    public view();
    ...}

But modeling things as resource (HTTP on REST 's) is different. I feel
we need some design patterns that deal with abstraction and
composition. Any design pattern that might be useful?

&gt; I don't know if you are treating invoice-as-payment any differently
&gt; than cash-as-payment. How about if paid by IOU (informal invoice)?

I raised this issue because method overloading is a feature. In this
case, Payment-Acceptor that allows different kinds of payment may
raise the abstraction to encourage reuse (i.e. without changing the
interface with users).

But is such design allowed in HTTP/1.1 or REST model?  or any defect
that I might overlook?

Thanks,
-- 
Teo HuiMing (toydi)
teohuiming.work at gmail dot com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6263<br>
Sender:"Sandeep Shetty" &lt;sandeep.shetty@...&gt;<br>
Post Date/Time:2006-05-20 15:06:20<br>
Subject:Re: [rest-discuss] Looking for basic REST tutorial with PHP<br>
Message:<br><br>
<pre>http://www.google.com/search?q=REST+PHP

On 5/18/06, rayhan &lt;rayhan@hotmail.com&gt; wrote:
&gt; Hi all,
&gt;
&gt; Searched the board but couldn’t find it.  Is there a basic REST
&gt; tutorial (preferably with examples) in PHP to get me started?  I am
&gt; new to REST and while I understand the concept behind it, would like
&gt; to learn by following an example.
&gt;
&gt; Thanks,
&gt;
&gt; rayhan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6264<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2006-05-25 19:15:46<br>
Subject:Does Java EE 5 getting REST mean WOA will break out?<br>
Message:<br><br>
<pre>Hi all,

Hat tip to Sam Ruby for pointing out this post about "Web Oriented  
Architectures" (WOA) as an alternative to SOAP  Service-Oriented  
Architectures:

http://blogs.zdnet.com/Hinchcliffe/?p=43
&gt; The REST vs. SOAP debate can seem like an esoteric discussion about  
&gt; Web services, but it's not.  REST puts the Web back into Web  
&gt; services by taking what's been so successful with the fundamental  
&gt; protocol of the Web, namely HTTP, and making it into a seemingly  
&gt; ideal Web services architecture.  This model has been called Web- 
&gt; Oriented Architecture in certain quarters, and the label does seem  
&gt; to fit. REST, and its little brother, XML over HTTP, have  
&gt; increasingly gathered mindshare lately by sheer Darwinian competition.
http://webservices.sys-con.com/read/79282_p.htm

http://blogs.zdnet.com/Hinchcliffe/?p=27

http://blogs.zdnet.com/Hinchcliffe/?p=9

I personally would prefer something like ROA -- Resource-Oriented  
Architectures -- but I must admit the lack of a convenient handle  
does make it difficult to contrast REST with SOA's, and WOA does at  
least convey the point of REST "services that work the way the web  
does today."
&gt;  (and don't forget, WOA is a subset of SOA and is not disjoint, as  
&gt; long as you follow the principles of SO).
What do the rest of you think?

-- Ernie P.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6265<br>
Sender:Paul Downey &lt;paul.downey@...&gt;<br>
Post Date/Time:2006-05-25 22:07:58<br>
Subject:Re: [rest-discuss] Does Java EE 5 getting REST mean WOA will break out?<br>
Message:<br><br>
<pre>&gt; Hat tip to Sam Ruby for pointing out this post about "Web Oriented  
&gt; Architectures" (WOA) as an alternative to SOAP  Service-Oriented  
&gt; Architectures:
&gt;
&gt; http://blogs.zdnet.com/Hinchcliffe/?p=43

[snip]
&gt; What do the rest of you think?
Bleugh! I hate it, almost as much as I hate the term "SOA"

Let's talk about "web services" and "SOAP services" ..

Paul
--
http://blog.whatfettle.com





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6266<br>
Sender:"Andrzej Jan Taramina" &lt;andrzej@...&gt;<br>
Post Date/Time:2006-05-26 09:55:00<br>
Subject:Re: Yet another useless TLA...<br>
Message:<br><br>
<pre>&gt; Hat tip to Sam Ruby for pointing out this post about "Web Oriented  
&gt; Architectures" (WOA) as an alternative to SOAP  Service-Oriented  
&gt; Architectures:

SOA does not mandate a particular transport/access mechanism. It's just as 
valid to use REST as SOAP (or JMS/MQ or something else) when building an SOA.

Besides, WOA is an unfortunate TLA since it's too close to WHOA, IMO.


Andrzej Jan Taramina
Chaeron Corporation: Enterprise System Solutions
http://www.chaeron.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6267<br>
Sender:Jerome Louvel &lt;contact@...&gt;<br>
Post Date/Time:2006-05-26 10:53:24<br>
Subject:Re: Does Java EE 5 getting REST mean WOA will break out?<br>
Message:<br><br>
<pre>Here is a copy of my note:
http://blog.noelios.com/2006/05/02/woa-web-oriented-architecture/

"It seems that we have a new friend with WOA. This new acronym nicely 
connects the REST style with the mainstream SOA (Service-Oriented 
Architecture) term.

Even though REST is already describing the style that Web-oriented 
architecture should follow, the WOA term is more concrete and could help 
us democratize REST in the larger enterprises that tend to follow the 
"official" SOA trend, and especially the WS-* related specifications.

The term was originally coined by Gartner as a subset of SOA in this 
post: http://blog.gartner.com/blog/index.php?catid=31&amp;blogid=9

See also the post from Dion Hinchcliffe:
http://blogs.zdnet.com/Hinchcliffe/?p=27

My definition of WOA: an application of the REST style for building Web 
services based on straight HTTP and XML documents."

Jerome Louvel
http://www.restlet.org


Dr. Ernie Prabhakar wrote :
&gt; Hi all,
&gt; 
&gt; Hat tip to Sam Ruby for pointing out this post about "Web Oriented 
&gt; Architectures" (WOA) as an alternative to SOAP  Service-Oriented 
&gt; Architectures:
&gt; 
&gt; http://blogs.zdnet.com/Hinchcliffe/?p=43
&gt;&gt;
&gt;&gt; The REST vs. SOAP debate can seem like an esoteric discussion about 
&gt;&gt; Web services, but it's not.  REST puts the Web back into Web services 
&gt;&gt; by taking what's been so successful with the fundamental protocol of 
&gt;&gt; the Web, namely HTTP, and making it into a seemingly ideal Web 
&gt;&gt; services architecture.  This model has been called Web-Oriented 
&gt;&gt; Architecture in certain quarters, and the label does seem to fit. 
&gt;&gt; REST, and its little brother, XML over HTTP, have increasingly 
&gt;&gt; gathered mindshare lately by sheer Darwinian competition.
&gt;&gt;
&gt; http://webservices.sys-con.com/read/79282_p.htm
&gt; 
&gt; http://blogs.zdnet.com/Hinchcliffe/?p=27
&gt; 
&gt; http://blogs.zdnet.com/Hinchcliffe/?p=9
&gt; 
&gt; I personally would prefer something like ROA -- Resource-Oriented 
&gt; Architectures -- but I must admit the lack of a convenient handle does 
&gt; make it difficult to contrast REST with SOA's, and WOA does at least 
&gt; convey the point of REST "services that work the way the web does today."
&gt; 
&gt;&gt;  (and don't forget, WOA is a /subset /of SOA and is not disjoint, as 
&gt;&gt; long as you follow the principles of SO).
&gt;&gt;
&gt; What do the rest of you think?
&gt; 
&gt; -- Ernie P.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6268<br>
Sender:=?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;bill@...&gt;<br>
Post Date/Time:2006-05-27 16:06:42<br>
Subject:Re: [rest-discuss] Does Java EE 5 getting REST mean WOA will break out?<br>
Message:<br><br>
<pre>Dr. Ernie Prabhakar wrote:

&gt; What do the rest of you think?

I think you can't contrast SOA with anything, because SOA can be 
anything you want it to be - for example I have no idea what it would 
mean to be a subset of SOA. Beyond that, I've been doing web based stuff 
for years and haven't felt a recent need for a new abbreviation, just 
because some hard light is being shone on SOA and WS over and above the 
usual suspects (most of whom are subscribed here). "WOA" is so like, 
trite, I didn't think anything would seriously suggest using it. 
"Web-based", "Webarch" and "REST" are fine.

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6269<br>
Sender:Cote' &lt;bushwald@...&gt;<br>
Post Date/Time:2006-05-27 16:20:41<br>
Subject:Re: [rest-discuss] Does Java EE 5 getting REST mean WOA will break out?<br>
Message:<br><br>
<pre>I'd prefer the simple term "web service." While there's a lot of  
confusing between that phrase and Web Service, my feel is that most  
folks understand now-a-days (or are on the verge of understanding)  
that web service mean sending XML (or any other non-binary format,  
for that matter, that works) over HTTP. That could mean SOAP, XML- 
RPC, or [proprietary] POX.

More importantly, I wouldn't choose a term based on what "the  
enterprise" will think of it. Don't think that "the enterprise" (or  
however else you want to phrase "the other") is fixated on SOA[P] and  
will refuse to use a sane approach like REST simply because there's  
not a TLA for it that's similar to SOA. Most of the people I talk to  
in the top (execs), middle (managers), and bottom (devs) in companies  
have much of this sorted out, thanks to the work the REST crew has  
done over the past year or two.

Put another way: don't give up now on using a simple term like "web  
services" for a simple idea like REST. Repetition is the way to  
transform language, and "web services" almost has all the SOAP rinsed  
out of it.

On May 27, 2006, at 11:06 AM, Bill de hra wrote:

&gt; Dr. Ernie Prabhakar wrote:
&gt;
&gt;&gt; What do the rest of you think?
&gt;
&gt; I think you can't contrast SOA with anything, because SOA can be
&gt; anything you want it to be - for example I have no idea what it would
&gt; mean to be a subset of SOA. Beyond that, I've been doing web based  
&gt; stuff
&gt; for years and haven't felt a recent need for a new abbreviation, just
&gt; because some hard light is being shone on SOA and WS over and above  
&gt; the
&gt; usual suspects (most of whom are subscribed here). "WOA" is so like,
&gt; trite, I didn't think anything would seriously suggest using it.
&gt; "Web-based", "Webarch" and "REST" are fine.
&gt;
&gt; cheers
&gt; Bill
&gt;
&gt;
&gt; ------------------------ Yahoo! Groups Sponsor -------------------- 
&gt; ~--&gt;
&gt; Home is just a click away.  Make Yahoo! your home page now.
&gt; http://us.click.yahoo.com/DHchtC/3FxNAA/yQLSAA/W6uqlB/TM
&gt; -------------------------------------------------------------------- 
&gt; ~-&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

----
http://www.PeopleOverProcess.com





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6270<br>
Sender:"Justin T. Sampson" &lt;justin@...&gt;<br>
Post Date/Time:2006-05-27 17:42:39<br>
Subject:Re: [rest-discuss] Does Java EE 5 getting REST mean WOA will break out?<br>
Message:<br><br>
<pre>On 5/27/06, Cote' &lt;bushwald@...&gt; wrote:

&gt; I'd prefer the simple term "web service." While there's a lot of
&gt; confusing between that phrase and Web Service, my feel is that
&gt; most folks understand now-a-days (or are on the verge of
&gt; understanding) that web service mean sending XML (or any other
&gt; non-binary format, for that matter, that works) over HTTP. That
&gt; could mean SOAP, XML-RPC, or [proprietary] POX.

I like to use these definitions:

WEB SITE: a collection of interlinked Web pages accessible by a
Web browser

WEB APPLICATION: a dynamically-generated, interactive Web site

WEB SERVICE: a machine-understandable Web application

&gt; Put another way: don't give up now on using a simple term like
&gt; "web services" for a simple idea like REST. Repetition is the
&gt; way to transform language, and "web services" almost has all the
&gt; SOAP rinsed out of it.

Nicely put. :)

Cheers,
Justin

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6271<br>
Sender:donald.strong@...<br>
Post Date/Time:2006-05-29 00:08:50<br>
Subject:Re: [rest-discuss] Re: Does Java EE 5 getting REST mean WOA will break out?<br>
Message:<br><br>
<pre>
Dr. Ernie Prabhakar wrote:

&gt; What do the rest of you think?

WOA - Web Oriented Architecture.

I think this is excellent. This name for  Web Services based on REST
principles is long overdue.

People need names to hang their ideas on and this name is as good as any.
The reason someone else has coined it is because we failed to come up with
a suitable
one ourselves. There have been some attempts but none have conjured the
right image
in the mind the way this one does.

... Kind of like Service Oriented Architecture but closer to the Web.

We (on the rest-discuss list) are quick to point out that REST is not an
alternative
to SOAP, it is an underlying architectural style. A model upon which HTTP
1.1 was based.
This means nothing to most IT people.

In the 3 years I have been subscribed to the rest-discuss list I have only
experienced one other
IT professional mentioning REST. REST is not as well known as some
evangelists think it is.

When you say "SOA" people automatically think SOAP, RMI. They think of the
frameworks and
styles that grew out of CORBA and RPC. Applications based on the principles
of REST are
fundamentally different from these. There needs to be a discriminator that
identifies that
subset of SOA applications that conform to REST.

As an example of how powerful a name can be, apparently there have been
frameworks around
for years that allow you to write rich clients in a web browser but I never
heard of them until
someone said "AJAX".

Regards
Donald.


National Australia Bank Ltd - ABN 12 004 044 937
This email may contain confidential information. If you are not the intended recipient, please immediately notify us at postmaster@... or by replying to the sender, and then destroy all copies of this email. Except where this email indicates otherwise, views expressed in this email are those of the sender and not of National Australia Bank Ltd. Advice in this email does not take account of your objectives, financial situation, or needs. It is important for you to consider these matters and, if the e-mail refers to a product(s), you should read the relevant Product Disclosure Statement(s)/other disclosure document(s) before making any decisions. If you do not want email marketing from us in future, forward this email with "unsubscribe" in the subject line to Unsubscriptions@... in order to stop marketing emails from this sender. National Australia Bank Ltd does not represent that this email is free of errors, viruses or interference.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6272<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2006-05-29 02:26:03<br>
Subject:Re: [rest-discuss] Re: Does Java EE 5 getting REST mean WOA will break out?<br>
Message:<br><br>
<pre>WOE - web oriented engineering.

Toys R Us
Woe is Me

I'm going to go out and start a web oriented architecture
consulting group.

Thanks!

Walden

----- Original Message ----- 
From: &lt;donald.strong@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Sunday, May 28, 2006 8:08 PM
Subject: Re: [rest-discuss] Re: Does Java EE 5 getting REST mean WOA will 
break out?


:
: Dr. Ernie Prabhakar wrote:
:
: &gt; What do the rest of you think?
:
: WOA - Web Oriented Architecture.
:
: I think this is excellent. This name for  Web Services based on REST
: principles is long overdue.
:
: People need names to hang their ideas on and this name is as good as any.
: The reason someone else has coined it is because we failed to come up with
: a suitable
: one ourselves. There have been some attempts but none have conjured the
: right image
: in the mind the way this one does.
:
: ... Kind of like Service Oriented Architecture but closer to the Web.
:
: We (on the rest-discuss list) are quick to point out that REST is not an
: alternative
: to SOAP, it is an underlying architectural style. A model upon which HTTP
: 1.1 was based.
: This means nothing to most IT people.
:
: In the 3 years I have been subscribed to the rest-discuss list I have only
: experienced one other
: IT professional mentioning REST. REST is not as well known as some
: evangelists think it is.
:
: When you say "SOA" people automatically think SOAP, RMI. They think of the
: frameworks and
: styles that grew out of CORBA and RPC. Applications based on the 
principles
: of REST are
: fundamentally different from these. There needs to be a discriminator that
: identifies that
: subset of SOA applications that conform to REST.
:
: As an example of how powerful a name can be, apparently there have been
: frameworks around
: for years that allow you to write rich clients in a web browser but I 
never
: heard of them until
: someone said "AJAX".
:
: Regards
: Donald.
:
:
: National Australia Bank Ltd - ABN 12 004 044 937
: This email may contain confidential information. If you are not the 
intended recipient, please immediately notify us at postmaster@... or 
by replying to the sender, and then destroy all copies of this email. Except 
where this email indicates otherwise, views expressed in this email are 
those of the sender and not of National Australia Bank Ltd. Advice in this 
email does not take account of your objectives, financial situation, or 
needs. It is important for you to consider these matters and, if the e-mail 
refers to a product(s), you should read the relevant Product Disclosure 
Statement(s)/other disclosure document(s) before making any decisions. If 
you do not want email marketing from us in future, forward this email with 
"unsubscribe" in the subject line to Unsubscriptions@... in order to 
stop marketing emails from this sender. National Australia Bank Ltd does not 
represent that this email is free of errors, viruses or interference.
:
:
:
:
: Yahoo! Groups Links
:
:
:
:
:
:
:
: __________ NOD32 1.1563 (20060528) Information __________
:
: This message was checked by NOD32 antivirus system.
: http://www.eset.com
:
: 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6273<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-05-29 07:44:50<br>
Subject:Re: [rest-discuss] Re: Does Java EE 5 getting REST mean WOA will break out?<br>
Message:<br><br>
<pre>&gt;  WOA - Web Oriented Architecture.
&gt;
&gt;  I think this is excellent. This name for  Web Services based on REST
&gt;  principles is long overdue.
&gt;
&gt;  People need names to hang their ideas on and this name is as good as any.

Just look what happened when Tim came up with Web 2.0?
Very clear demonstration of the fact. Good point Donald.

RESTful service isn't good enough?

regards


-- 
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6274<br>
Sender:Jerome Louvel &lt;contact@...&gt;<br>
Post Date/Time:2006-05-29 17:02:14<br>
Subject:Re: Does Java EE 5 getting REST mean WOA will break out?<br>
Message:<br><br>
<pre>&gt;&gt; I'd prefer the simple term "web service." While there's a lot of
&gt;&gt; confusing between that phrase and Web Service, my feel is that
&gt;&gt; most folks understand now-a-days (or are on the verge of
&gt;&gt; understanding) that web service mean sending XML (or any other
&gt;&gt; non-binary format, for that matter, that works) over HTTP. That
&gt;&gt; could mean SOAP, XML-RPC, or [proprietary] POX.
&gt; 
&gt; I like to use these definitions:
&gt; 
&gt; WEB SITE: a collection of interlinked Web pages accessible by a
&gt; Web browser
&gt; 
&gt; WEB APPLICATION: a dynamically-generated, interactive Web site
&gt; 
&gt; WEB SERVICE: a machine-understandable Web application
&gt; 
&gt;&gt; Put another way: don't give up now on using a simple term like
&gt;&gt; "web services" for a simple idea like REST. Repetition is the
&gt;&gt; way to transform language, and "web services" almost has all the
&gt;&gt; SOAP rinsed out of it.
&gt; 
&gt; Nicely put. :)

Has Justin pointed out, Web Site, Web Application and Web Service are 
three different type of "applications" for the Web. The notion of Web 
Architecture is larger than (and actually transversal to) the notion of 
Web Service. Let's not reduce REST to Web Services otherwise we'll get 
compared to SOAP and RPC forever. IMO, REST is much more universal than 
tha. As an architecture style, it applies to any Web program (client 
apps like browsers, proxies, etc).

There seems to be space for a new term to help us communicate our ideas 
(REST, straight XML, HTTP compliance, etc.). We could simply use Web 
Architecture, but the proposed Web Oriented Architecture (WOA) has the 
advantage of being easier to communicate (with its acronym) to 
non-technical or non REST-expert people. It also has some phonetic and 
visual similarities with SOA which might help people to more easily 
guess what is the proposition behind.

-- 
Jerome Louvel
http://www.restlet.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6275<br>
Sender:"Justin T. Sampson" &lt;justin@...&gt;<br>
Post Date/Time:2006-05-29 19:23:26<br>
Subject:Re: [rest-discuss] Re: Does Java EE 5 getting REST mean WOA will break out?<br>
Message:<br><br>
<pre>On 5/29/06, Jerome Louvel &lt;contact@...&gt; wrote:

&gt; There seems to be space for a new term to help us communicate
&gt; our ideas (REST, straight XML, HTTP compliance, etc.). We could
&gt; simply use Web Architecture, but the proposed Web Oriented
&gt; Architecture (WOA) has the advantage of being easier to
&gt; communicate (with its acronym) to non-technical or non
&gt; REST-expert people. It also has some phonetic and visual
&gt; similarities with SOA which might help people to more easily
&gt; guess what is the proposition behind.

How do you pronounce it? "woh"? "woh-ah"? "double-you-oh-ay"?
"web-oh-ay"?

Justin

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6276<br>
Sender:"Jerome Louvel" &lt;contact@...&gt;<br>
Post Date/Time:2006-05-29 19:48:49<br>
Subject:RE: [rest-discuss] Re: Does Java EE 5 getting REST mean WOA will break out?<br>
Message:<br><br>
<pre>"double-you-oh-ay" works for me...

Jerome

&gt; -----Message d'origine-----
&gt; De : justintsampson@... 
&gt; [mailto:justintsampson@...] De la part de Justin T. Sampson
&gt; Envoy : lundi 29 mai 2006 21:23
&gt;  : Jerome Louvel
&gt; Cc : rest-discuss@yahoogroups.com
&gt; Objet : Re: [rest-discuss] Re: Does Java EE 5 getting REST 
&gt; mean WOA will break out?
&gt; 
&gt; On 5/29/06, Jerome Louvel &lt;contact@...&gt; wrote:
&gt; 
&gt; &gt; There seems to be space for a new term to help us communicate
&gt; &gt; our ideas (REST, straight XML, HTTP compliance, etc.). We could
&gt; &gt; simply use Web Architecture, but the proposed Web Oriented
&gt; &gt; Architecture (WOA) has the advantage of being easier to
&gt; &gt; communicate (with its acronym) to non-technical or non
&gt; &gt; REST-expert people. It also has some phonetic and visual
&gt; &gt; similarities with SOA which might help people to more easily
&gt; &gt; guess what is the proposition behind.
&gt; 
&gt; How do you pronounce it? "woh"? "woh-ah"? "double-you-oh-ay"?
&gt; "web-oh-ay"?
&gt; 
&gt; Justin


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6277<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-05-31 09:23:54<br>
Subject:SSL<br>
Message:<br><br>
<pre>I've implemented a RESTful connection between two
endpoints. One end is c# the other java (restlets).

Our security people have now dictated that is should use
SSL.

I'm suffering getting my head round the basics
of SSL.
The basics of a POST, with encrypted content
are clear, but applying it to our sequence of PUT GET DELETE
are distinctly muddy.

I think SSL3 http://wp.netscape.com/eng/ssl3/draft302.txt
is current.

Anyone know of a reasonably clear intro
to SSL that I might be able to apply please.

TIA
-- 
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6278<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-05-31 09:42:41<br>
Subject:Re: [rest-discuss] SSL<br>
Message:<br><br>
<pre>On 31/05/06, Chris Burdess &lt;dog@...&gt; wrote:
&gt; Dave Pawson wrote:
&gt; &gt; I've implemented a RESTful connection between two
&gt; &gt; endpoints. One end is c# the other java (restlets).
&gt; &gt;
&gt; &gt; Our security people have now dictated that is should use
&gt; &gt; SSL.
&gt; &gt;
&gt; &gt; I'm suffering getting my head round the basics
&gt; &gt; of SSL.
&gt; &gt; The basics of a POST, with encrypted content
&gt; &gt; are clear, but applying it to our sequence of PUT GET DELETE
&gt; &gt; are distinctly muddy.
&gt; &gt;
&gt; &gt; I think SSL3 http://wp.netscape.com/eng/ssl3/draft302.txt
&gt; &gt; is current.
&gt; &gt;
&gt; &gt; Anyone know of a reasonably clear intro
&gt; &gt; to SSL that I might be able to apply please.
&gt;
&gt; Surely they just mean HTTPS?

Not wishing to argue about something I know little about, yes Chris
(I think so).
I believe(d?) that https == the introduction of ssl into the stack?

regards

-- 
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6279<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-05-31 10:03:51<br>
Subject:Re: [rest-discuss] SSL<br>
Message:<br><br>
<pre>"Dave Pawson" &lt;dave.pawson@...&gt; writes:

&gt; On 31/05/06, Chris Burdess &lt;dog@...&gt; wrote:
&gt;&gt; Dave Pawson wrote:
&gt;&gt; &gt; I've implemented a RESTful connection between two
&gt;&gt; &gt; endpoints. One end is c# the other java (restlets).
&gt;&gt; &gt;
&gt;&gt; &gt; Our security people have now dictated that is should use
&gt;&gt; &gt; SSL.
&gt;&gt; &gt;
&gt;&gt; &gt; I'm suffering getting my head round the basics
&gt;&gt; &gt; of SSL.
&gt;&gt; &gt; The basics of a POST, with encrypted content
&gt;&gt; &gt; are clear, but applying it to our sequence of PUT GET DELETE
&gt;&gt; &gt; are distinctly muddy.
&gt;&gt; &gt;
&gt;&gt; &gt; I think SSL3 http://wp.netscape.com/eng/ssl3/draft302.txt
&gt;&gt; &gt; is current.
&gt;&gt; &gt;
&gt;&gt; &gt; Anyone know of a reasonably clear intro
&gt;&gt; &gt; to SSL that I might be able to apply please.
&gt;&gt;
&gt;&gt; Surely they just mean HTTPS?
&gt;
&gt; Not wishing to argue about something I know little about, yes Chris
&gt; (I think so).
&gt; I believe(d?) that https == the introduction of ssl into the stack?

Yes they mean that.

I think you should not be worried. SSL/TLS are at the transport
level. They don't affect application semantics unless you're talking
about authenticating with client certificates.


In essence, SSL secures TCP and you run HTTP over the top of it. The
HTTPS simply allows for the connection to be made to well known
ports. The HTTP is exactly the same.

Note that it is actually possible to use HTTP over SSL; ie: SSL
over port 80. There is a transport layer negotiation
protocol which allows both endpoints to decide on encrypting the HTTP
traffic. This is the _right_ way to do transport layer encryption
because it involves no new uris. 

Unfortunately it isn't widely implemented.



-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6280<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-05-31 10:10:45<br>
Subject:Re: [rest-discuss] SSL<br>
Message:<br><br>
<pre>On 31/05/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:

&gt; I think you should not be worried. SSL/TLS are at the transport
&gt; level. They don't affect application semantics unless you're talking
&gt; about authenticating with client certificates.

If I don't code it, I can't see it happening.
That's my problem I guess.

&gt;
&gt;
&gt; In essence, SSL secures TCP and you run HTTP over the top of it. The
&gt; HTTPS simply allows for the connection to be made to well known
&gt; ports. The HTTP is exactly the same.

That makes sense with what I've read.


&gt;
&gt; Note that it is actually possible to use HTTP over SSL; ie: SSL
&gt; over port 80. There is a transport layer negotiation
&gt; protocol which allows both endpoints to decide on encrypting the HTTP
&gt; traffic. This is the _right_ way to do transport layer encryption
&gt; because it involves no new uris.
&gt;
&gt; Unfortunately it isn't widely implemented.

I'm nowhere near that Chris.
I don't yet comprehend how it all glues together
and what layers do what.


regards


-- 
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6281<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-05-31 10:36:20<br>
Subject:Re: [rest-discuss] SSL<br>
Message:<br><br>
<pre>"Dave Pawson" &lt;dave.pawson@...&gt; writes:

&gt; On 31/05/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:
&gt;
&gt;&gt; I think you should not be worried. SSL/TLS are at the transport
&gt;&gt; level. They don't affect application semantics unless you're talking
&gt;&gt; about authenticating with client certificates.
&gt;
&gt; If I don't code it, I can't see it happening.
&gt; That's my problem I guess.

Ah right.

You do have to recode both ends. Languages usually have a separate api
for connecting to SSL/TLS services. Java has HTTPSUrlConnection for
example.

Usually the SSL/TLS versions are just copies of the normal HTTP versions
and just as simple to use. On the server side you have to install a
certificate but there are detailed instructions for doing that in most
languages I've used SSL/TLS from.


&gt;&gt; Note that it is actually possible to use HTTP over SSL; ie: SSL
&gt;&gt; over port 80. There is a transport layer negotiation
&gt;&gt; protocol which allows both endpoints to decide on encrypting the HTTP
&gt;&gt; traffic. This is the _right_ way to do transport layer encryption
&gt;&gt; because it involves no new uris.
&gt;&gt;
&gt;&gt; Unfortunately it isn't widely implemented.
&gt;
&gt; I'm nowhere near that Chris.

/8-&gt; 

Last time I looked I wasn't Chris.

But we did both used to live in London.


&gt; I don't yet comprehend how it all glues together
&gt; and what layers do what.

You just have to code the SSL/TLS equivalents of your HTTP client and
server.



Or you could always hire someone (I'm available; nudge nudge wink
wink).

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6282<br>
Sender:"Andrew S. Townley" &lt;andrew.townley@...&gt;<br>
Post Date/Time:2006-05-31 11:06:40<br>
Subject:Re: [rest-discuss] SSL<br>
Message:<br><br>
<pre>Hi Dave,

On Wed, 2006-05-31 at 11:36, Nic James Ferrier wrote:
&gt; "Dave Pawson" &lt;dave.pawson@...&gt; writes:
&gt; 
&gt; &gt; On 31/05/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:
&gt; &gt;
&gt; &gt;&gt; I think you should not be worried. SSL/TLS are at the transport
&gt; &gt;&gt; level. They don't affect application semantics unless you're talking
&gt; &gt;&gt; about authenticating with client certificates.
&gt; &gt;
&gt; &gt; If I don't code it, I can't see it happening.
&gt; &gt; That's my problem I guess.
&gt; 
&gt; Ah right.
&gt; 
&gt; You do have to recode both ends. Languages usually have a separate api
&gt; for connecting to SSL/TLS services. Java has HTTPSUrlConnection for
&gt; example.
&gt; 
&gt; Usually the SSL/TLS versions are just copies of the normal HTTP versions
&gt; and just as simple to use. On the server side you have to install a
&gt; certificate but there are detailed instructions for doing that in most
&gt; languages I've used SSL/TLS from.

Not really to take a job away from Nic (besides, you shouldn't be hiring
him to do just the SSL implementation part anyway... :), but here's a
working example that will do both 2-way SSL authentication and regular
HTTP requests to the same service in C#.  Feel free to use the code.

http://sdec.reach.ie/rigs/rig0007/code/client/dotnet/rrmtp-client.cs

As Nic said, both ends will have to be updated, and, depending on the
complexity of your production environment infrastructure, your server
implementation may need to do SSL/HTTPS during development and not in
production because a hardware accelerator may be used for SSL
termination.  It just depends.

Hope this helps,

ast
***************************************************************************************************
The information in this email is confidential and may be legally privileged Access to this email by anyone other than the intended addressee is unauthorized. If you are not the intended recipient of this message, any review, disclosure, copying, distribution, retention, or any action taken or omitted to be taken in reliance on it is prohibited and may be unlawful. If you are not the intended recipient, please reply to or forward a copy of this message to the sender and delete the message, any attachments, and any copies thereof from your system.
***************************************************************************************************


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6283<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-05-31 11:17:46<br>
Subject:Re: [rest-discuss] SSL<br>
Message:<br><br>
<pre>On 31/05/06, Andrew S. Townley &lt;andrew.townley@...&gt; wrote:

&gt; Not really to take a job away from Nic (besides, you shouldn't be hiring
&gt; him to do just the SSL implementation part anyway... :), but here's a
&gt; working example that will do both 2-way SSL authentication and regular
&gt; HTTP requests to the same service in C#.  Feel free to use the code.

Many thanks Andrew.
As it happens, the 'server' side is C# so that's an ideal starting point.



&gt; As Nic said, both ends will have to be updated, and, depending on the
&gt; complexity of your production environment infrastructure, your server
&gt; implementation may need to do SSL/HTTPS during development and not in
&gt; production because a hardware accelerator may be used for SSL
&gt; termination.  It just depends.

It does indeed.

The client side is in Java, so I'm on firmer ground with JSSE.

Many thanks.




-- 
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6284<br>
Sender:"Andrew S. Townley" &lt;andrew.townley@...&gt;<br>
Post Date/Time:2006-05-31 11:31:46<br>
Subject:Re: [rest-discuss] SSL<br>
Message:<br><br>
<pre>No worries.  Glad I could help.

BTW, if you (or anyone else) notice any bone-headed mistakes, just let
me know.

ast

On Wed, 2006-05-31 at 12:17, Dave Pawson wrote:
&gt; On 31/05/06, Andrew S. Townley &lt;andrew.townley@...&gt; wrote:
&gt; 
&gt; &gt; Not really to take a job away from Nic (besides, you shouldn't be hiring
&gt; &gt; him to do just the SSL implementation part anyway... :), but here's a
&gt; &gt; working example that will do both 2-way SSL authentication and regular
&gt; &gt; HTTP requests to the same service in C#.  Feel free to use the code.
&gt; 
&gt; Many thanks Andrew.
&gt; As it happens, the 'server' side is C# so that's an ideal starting point.
&gt; 
&gt; 
&gt; 
&gt; &gt; As Nic said, both ends will have to be updated, and, depending on the
&gt; &gt; complexity of your production environment infrastructure, your server
&gt; &gt; implementation may need to do SSL/HTTPS during development and not in
&gt; &gt; production because a hardware accelerator may be used for SSL
&gt; &gt; termination.  It just depends.
&gt; 
&gt; It does indeed.
&gt; 
&gt; The client side is in Java, so I'm on firmer ground with JSSE.
&gt; 
&gt; Many thanks.
&gt; 
&gt; 
&gt; 
***************************************************************************************************
The information in this email is confidential and may be legally privileged Access to this email by anyone other than the intended addressee is unauthorized. If you are not the intended recipient of this message, any review, disclosure, copying, distribution, retention, or any action taken or omitted to be taken in reliance on it is prohibited and may be unlawful. If you are not the intended recipient, please reply to or forward a copy of this message to the sender and delete the message, any attachments, and any copies thereof from your system.
***************************************************************************************************


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6285<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-05-31 13:37:17<br>
Subject:Re: [rest-discuss] SSL<br>
Message:<br><br>
<pre>On 31/05/06, Chris Burdess &lt;dog@...&gt; wrote:

&gt; &gt;  How does the recipient get the certificate?
&gt; &gt;  etc etc
&gt; &gt;  That's what I'm missing.
&gt;
&gt; There are several possibilities:
&gt; 1. the client already has the certificate by some out-of-process
&gt; means (it's set up statically as far as the application is concerned)
&gt; 2. the client has a means of presenting the certificate to an
&gt; authorising entity such as an end user or heuristic for trust
&gt; authorisation
&gt; 3. the client decides the trust the certificate implicitly anyway

That would work for us. It's currently a one to one.
We could set up the cert and check it by phone as a one off,
then add it to the client keystore.



&gt;
&gt; &gt; At a high level I guess the overall view doesn't change
&gt; &gt; but the code must change.
&gt; &gt;
&gt; &gt; I'm looking for an explanation of what changes.
&gt;
&gt; In each case:
&gt; 1. the client has a backend store of trusted certificates used by the
&gt; HTTP connection mechanism
&gt; 2. the client has a configured trust authorisation interface
I don't understand this one Chris?



&gt; 3. the client accepts the certificate

Then uses it to PUT content to the server I guess.
Makes sense.
Thanks

&gt;
&gt; For 3, see e.g. http://javaalmanac.com/egs/javax.net.ssl/TrustAll.html

Thanks again Chris.





-- 
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6286<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-05-31 14:55:17<br>
Subject:Re: [rest-discuss] SSL<br>
Message:<br><br>
<pre>On 31/05/06, Chris Burdess &lt;dog@...&gt; wrote:

&gt; &gt;&gt; 2. the client has a configured trust authorisation interface
&gt; &gt; I don't understand this one Chris?
&gt;
&gt; Meaning, there is a callback handler installed such that when the
&gt; client asks the question "do we trust this certificate?", someone is
&gt; there to answer yes or no, whether this is done by a GUI dialog,
&gt; voice interaction, a Bayesian network or whatever.

We are in a situation where the setup is 'long term'.
I.e few clients, with the certificates manually validated.
Since the trust required is that the server trusts the PUTting
client I don't *think* this applies to our case.


&gt;
&gt; &gt;&gt; 3. the client accepts the certificate
&gt; &gt;
&gt; &gt; Then uses it to PUT content to the server I guess.
&gt; &gt; Makes sense.
&gt;
&gt; It doesn't use it to PUT content, it just uses it to decide whether
&gt; it trusts the server (if not, it aborts).

OK. Thanks. I was too early!

&gt;
&gt; You (or your security people) may be wanting to do HTTPS client
&gt; authentication as well. (Maybe that's the point?) In that case, the
&gt; server must have a store of valid client certificates and will refuse
&gt; requests unless the client provides a certificate in this store.

Yes, we will want to check that the client is authorised.
&lt;unsure&gt;
 We (server) will hold public/private key pairs.
We'll issue a public key | certificate to clients who will use it
to PUT data to our server. &lt;/unsure&gt;

Does that make sense Chris?

&gt;
&gt; In all these cases it's simply a transport-level detail, like HTTP
&gt; authentication. Your application code shouldn't need to change
&gt; providing it uses an API at a sufficiently high level (e.g.
&gt; java.net.URL, Apache HTTP client, GNU inetlib). It just needs to be
&gt; configured in a certain way during deployment.

That's what I'm hoping for.


regards


-- 
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6287<br>
Sender:Chris Burdess &lt;dog@...&gt;<br>
Post Date/Time:2006-05-31 09:50:12<br>
Subject:Re: [rest-discuss] SSL<br>
Message:<br><br>
<pre>Dave Pawson wrote:
&gt; On 31/05/06, Chris Burdess &lt;dog@...&gt; wrote:
&gt;&gt; Dave Pawson wrote:
&gt;&gt; &gt; I've implemented a RESTful connection between two
&gt;&gt; &gt; endpoints. One end is c# the other java (restlets).
&gt;&gt; &gt;
&gt;&gt; &gt; Our security people have now dictated that is should use
&gt;&gt; &gt; SSL.
&gt;&gt; &gt;
&gt;&gt; &gt; I'm suffering getting my head round the basics
&gt;&gt; &gt; of SSL.
&gt;&gt; &gt; The basics of a POST, with encrypted content
&gt;&gt; &gt; are clear, but applying it to our sequence of PUT GET DELETE
&gt;&gt; &gt; are distinctly muddy.
&gt;&gt; &gt;
&gt;&gt; &gt; I think SSL3 http://wp.netscape.com/eng/ssl3/draft302.txt
&gt;&gt; &gt; is current.
&gt;&gt; &gt;
&gt;&gt; &gt; Anyone know of a reasonably clear intro
&gt;&gt; &gt; to SSL that I might be able to apply please.
&gt;&gt;
&gt;&gt; Surely they just mean HTTPS?
&gt;
&gt; Not wishing to argue about something I know little about, yes Chris
&gt; (I think so).
&gt; I believe(d?) that https == the introduction of ssl into the stack?

Into the protocol stack, yes. But it doesn't affect your REST design  
in any way. You're still doing exactly the same GET, PUT etc with  
URLs, it's just that those URLs now start with https: instead of http:
-- 
犬 Chris Burdess
   "They that can give up essential liberty to obtain a little safety
   deserve neither liberty nor safety." - Benjamin Franklin




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6288<br>
Sender:Chris Burdess &lt;dog@...&gt;<br>
Post Date/Time:2006-05-31 13:31:59<br>
Subject:Re: [rest-discuss] SSL<br>
Message:<br><br>
<pre>Dave Pawson wrote:
&gt; On 31/05/06, Chris Burdess &lt;dog@...&gt; wrote:
&gt;&gt; Into the protocol stack, yes. But it doesn't affect your REST design
&gt;&gt; in any way. You're still doing exactly the same GET, PUT etc with
&gt;&gt; URLs, it's just that those URLs now start with https: instead of  
&gt;&gt; http:
&gt;
&gt; Too simple IMHO?
&gt;  How does the recipient get the certificate?
&gt;  etc etc
&gt;  That's what I'm missing.

There are several possibilities:
1. the client already has the certificate by some out-of-process  
means (it's set up statically as far as the application is concerned)
2. the client has a means of presenting the certificate to an  
authorising entity such as an end user or heuristic for trust  
authorisation
3. the client decides the trust the certificate implicitly anyway

&gt; At a high level I guess the overall view doesn't change
&gt; but the code must change.
&gt;
&gt; I'm looking for an explanation of what changes.

In each case:
1. the client has a backend store of trusted certificates used by the  
HTTP connection mechanism
2. the client has a configured trust authorisation interface
3. the client accepts the certificate

For 3, see e.g. http://javaalmanac.com/egs/javax.net.ssl/TrustAll.html
-- 
犬 Chris Burdess
   "They that can give up essential liberty to obtain a little safety
   deserve neither liberty nor safety." - Benjamin Franklin




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6289<br>
Sender:Chris Burdess &lt;dog@...&gt;<br>
Post Date/Time:2006-05-31 14:06:20<br>
Subject:Re: [rest-discuss] SSL<br>
Message:<br><br>
<pre>Dave Pawson wrote:
&gt; On 31/05/06, Chris Burdess &lt;dog@...&gt; wrote:
&gt;&gt; &gt;  How does the recipient get the certificate?
&gt;&gt; &gt;  etc etc
&gt;&gt; &gt;  That's what I'm missing.
&gt;&gt;
&gt;&gt; There are several possibilities:
&gt;&gt; 1. the client already has the certificate by some out-of-process
&gt;&gt; means (it's set up statically as far as the application is concerned)
&gt;&gt; 2. the client has a means of presenting the certificate to an
&gt;&gt; authorising entity such as an end user or heuristic for trust
&gt;&gt; authorisation
&gt;&gt; 3. the client decides the trust the certificate implicitly anyway
&gt;
&gt; That would work for us. It's currently a one to one.
&gt; We could set up the cert and check it by phone as a one off,
&gt; then add it to the client keystore.
&gt;
&gt;&gt; &gt; At a high level I guess the overall view doesn't change
&gt;&gt; &gt; but the code must change.
&gt;&gt; &gt;
&gt;&gt; &gt; I'm looking for an explanation of what changes.
&gt;&gt;
&gt;&gt; In each case:
&gt;&gt; 1. the client has a backend store of trusted certificates used by the
&gt;&gt; HTTP connection mechanism
&gt;&gt; 2. the client has a configured trust authorisation interface
&gt; I don't understand this one Chris?

Meaning, there is a callback handler installed such that when the  
client asks the question "do we trust this certificate?", someone is  
there to answer yes or no, whether this is done by a GUI dialog,  
voice interaction, a Bayesian network or whatever.

&gt;&gt; 3. the client accepts the certificate
&gt;
&gt; Then uses it to PUT content to the server I guess.
&gt; Makes sense.

It doesn't use it to PUT content, it just uses it to decide whether  
it trusts the server (if not, it aborts).

You (or your security people) may be wanting to do HTTPS client  
authentication as well. (Maybe that's the point?) In that case, the  
server must have a store of valid client certificates and will refuse  
requests unless the client provides a certificate in this store.

In all these cases it's simply a transport-level detail, like HTTP  
authentication. Your application code shouldn't need to change  
providing it uses an API at a sufficiently high level (e.g.  
java.net.URL, Apache HTTP client, GNU inetlib). It just needs to be  
configured in a certain way during deployment.
-- 
犬 Chris Burdess
   "They that can give up essential liberty to obtain a little safety
   deserve neither liberty nor safety." - Benjamin Franklin




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6290<br>
Sender:Chris Burdess &lt;dog@...&gt;<br>
Post Date/Time:2006-05-31 09:40:31<br>
Subject:Re: [rest-discuss] SSL<br>
Message:<br><br>
<pre>Dave Pawson wrote:
&gt; I've implemented a RESTful connection between two
&gt; endpoints. One end is c# the other java (restlets).
&gt;
&gt; Our security people have now dictated that is should use
&gt; SSL.
&gt;
&gt; I'm suffering getting my head round the basics
&gt; of SSL.
&gt; The basics of a POST, with encrypted content
&gt; are clear, but applying it to our sequence of PUT GET DELETE
&gt; are distinctly muddy.
&gt;
&gt; I think SSL3 http://wp.netscape.com/eng/ssl3/draft302.txt
&gt; is current.
&gt;
&gt; Anyone know of a reasonably clear intro
&gt; to SSL that I might be able to apply please.

Surely they just mean HTTPS?
-- 
犬 Chris Burdess
   "They that can give up essential liberty to obtain a little safety
   deserve neither liberty nor safety." - Benjamin Franklin




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6291<br>
Sender:Chris Burdess &lt;dog@...&gt;<br>
Post Date/Time:2006-05-31 15:14:35<br>
Subject:Re: [rest-discuss] SSL<br>
Message:<br><br>
<pre>Dave Pawson wrote:
&gt; On 31/05/06, Chris Burdess &lt;dog@...&gt; wrote:
&gt;&gt; &gt;&gt; 2. the client has a configured trust authorisation interface
&gt;&gt; &gt; I don't understand this one Chris?
&gt;&gt;
&gt;&gt; Meaning, there is a callback handler installed such that when the
&gt;&gt; client asks the question "do we trust this certificate?", someone is
&gt;&gt; there to answer yes or no, whether this is done by a GUI dialog,
&gt;&gt; voice interaction, a Bayesian network or whatever.
&gt;
&gt; We are in a situation where the setup is 'long term'.
&gt; I.e few clients, with the certificates manually validated.
&gt; Since the trust required is that the server trusts the PUTting
&gt; client I don't *think* this applies to our case.

Right. You want 1. (Or 3, it doesn't actually matter at the client end.)

&gt;&gt; You (or your security people) may be wanting to do HTTPS client
&gt;&gt; authentication as well. (Maybe that's the point?) In that case, the
&gt;&gt; server must have a store of valid client certificates and will refuse
&gt;&gt; requests unless the client provides a certificate in this store.
&gt;
&gt; Yes, we will want to check that the client is authorised.
&gt; &lt;unsure&gt;
&gt; We (server) will hold public/private key pairs.
&gt; We'll issue a public key | certificate to clients who will use it
&gt; to PUT data to our server. &lt;/unsure&gt;
&gt;
&gt; Does that make sense Chris?

Pretty much

Each client should have a (unique) certificate and ensure that the  
server has a copy in its truststore. Then it is the job of the server  
to authenticate the client based on its certificate. It is configured  
to authenticate requests with any method except e.g. (GET HEAD  
PROPFIND OPTIONS REPORT).

An example Apache configuration (not tested):

&lt;Location /secure&gt;
	SSLVerifyClient none
	SSLCACertificateFile conf/ssl.crt/ca.crt
	&lt;LimitExcept GET HEAD PROPFIND OPTIONS REPORT&gt;
		SSLVerifyClient require
		SSLVerifyDepth 1
	&lt;/LimitExcept&gt;
&lt;/Location&gt;
-- 
犬 Chris Burdess
   "They that can give up essential liberty to obtain a little safety
   deserve neither liberty nor safety." - Benjamin Franklin




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6292<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2006-05-31 16:13:45<br>
Subject:Re: [rest-discuss] SSL<br>
Message:<br><br>
<pre>Chris Burdess wrote:
&gt; Into the protocol stack, yes. But it doesn't affect your REST design  in 
&gt; any way. You're still doing exactly the same GET, PUT etc with  URLs, 
&gt; it's just that those URLs now start with https: instead of http:

It does have one effect, which is that in general caches will not be 
able to cache GET responses.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6293<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-05-31 18:02:55<br>
Subject:Re: [rest-discuss] SSL<br>
Message:<br><br>
<pre>On 31/05/06, Chris Burdess &lt;dog@...&gt; wrote:


&gt; Each client should have a (unique) certificate and ensure that the
&gt; server has a copy in its truststore. Then it is the job of the server
&gt; to authenticate the client based on its certificate. It is configured
&gt; to authenticate requests with any method except e.g. (GET HEAD
&gt; PROPFIND OPTIONS REPORT).
Any particular reason why one of the verbs should be excepted?
E.g. I *think* I'd want to authenticate the GET (even though
there's nothing secure in a process report)



&gt;
&gt; An example Apache configuration (not tested):

If only :-)

The server is M$ based.
(The clients are Java based)

regards



-- 
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6294<br>
Sender:Seairth Jacobs &lt;seairth@...&gt;<br>
Post Date/Time:2006-06-01 01:57:59<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>Tracy R Reed wrote:
&gt; Elliotte Harold wrote:
&gt;   
&gt;&gt; Yes. It's called HTTP authentication. Anything involving personal, 
&gt;&gt; private data should require a username password combo to access. 
&gt;&gt; Presumably if someone e-mails their URL and username and password to a 
&gt;&gt; friend, they know what they're doing.
&gt;&gt;     
&gt;
&gt; Unfortunately nobody likes HTTP auth because the only way to
&gt; authenticate with it seems to be using that ugly browser-supplied popup
&gt; box which you cannot format or provide links to help or "forget your
&gt; password?" links or anything else. Looks like we are going to be stuck
&gt; with cookies for a long time.
&gt;   
Check out 
http://www.peej.co.uk/articles/http-auth-with-html-forms.html.  I can 
also see some variations on this theme to allow a "logout" sort of 
function which is also a regular complaint about HTTP authentication.

Seairth
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6295<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-06-01 12:50:26<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>Seairth Jacobs wrote:

&gt; Check out 
&gt; http://www.peej.co.uk/articles/http-auth-with-html-forms.html.  I can 
&gt; also see some variations on this theme to allow a "logout" sort of 
&gt; function which is also a regular complaint about HTTP authentication.
&gt;

Cool! I'll have to remember this.

One minor point. You write "The HTTP spec doesn't say we're allowed to 
have URLs with usernames and passwords in them so we can't guarentee 
that they work anywhere else either."

It's not really the HTTP spec that's relevant. It's the URI spec, RFC 
3986. What that says is:

    The userinfo subcomponent may consist of a user name and, optionally,
    scheme-specific information about how to gain authorization to access
    the resource.  The user information, if present, is followed by a
    commercial at-sign ("@") that delimits it from the host.

       userinfo    = *( unreserved / pct-encoded / sub-delims / ":" )

    Use of the format "user:password" in the userinfo field is
    deprecated.  Applications should not render as clear text any data
    after the first colon (":") character found within a userinfo
    subcomponent unless the data after the colon is the empty string
    (indicating no password).  Applications may choose to ignore or
    reject such data when it is received as part of a reference and
    should reject the storage of such data in unencrypted form.  The
    passing of authentication information in clear text has proven to be
    a security risk in almost every case where it has been used.


-- 
﻿Elliotte Rusty Harold  elharo@...
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6296<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2006-06-01 13:19:32<br>
Subject:Re: [rest-discuss] Can ReST replace cookies?<br>
Message:<br><br>
<pre>Elliotte Harold wrote:
&gt; One minor point. You write "The HTTP spec doesn't say we're allowed to 
&gt; have URLs with usernames and passwords in them so we can't guarentee 
&gt; that they work anywhere else either."
&gt; 
&gt; It's not really the HTTP spec that's relevant. It's the URI spec, RFC 
&gt; 3986. What that says is:
&gt; 
&gt;     The userinfo subcomponent may consist of a user name and, optionally,
&gt;     scheme-specific information about how to gain authorization to access
&gt;     the resource.  The user information, if present, is followed by a
&gt;     commercial at-sign ("@") that delimits it from the host.
&gt; 
&gt;        userinfo    = *( unreserved / pct-encoded / sub-delims / ":" )
&gt; 
&gt;     Use of the format "user:password" in the userinfo field is
&gt;     deprecated.

Actually it *is* the HTTP spec that is important here - in how it uses 
the URI spec in defining HTTP URIs (not all items that can be parts of a 
valid URI can be used with all URI schemes).

The HTTP URI scheme is defined by RFC2616 as:

"http:" "//" host [ ":" port ] [ abs_path [ "?" query ]]

So not only does the HTTP spec not say you allowed to have usernames and 
passwords in URIs, but actively prohibits it - such URIs do not match 
the sheme-specific syntax.

Supporting such URIs as an extension has become less popular since they 
were used in many spoofing attacks (IE stopping it entirely, Firefox 
allowing it, but prompting you first).

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6297<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-06-02 11:51:11<br>
Subject:Reason #3 why cookies are bad for you<br>
Message:<br><br>
<pre>We’ve known for a long time that cookies are are deeply antithetical to 
the design of HTTP and the Web (#1). We’ve known they are used to track 
users and violate privacy (#2). However, I recently had called out to me 
yet another reason why cookies, specifically user authentication 
cookies, are bad for you; and why HTTP authentication should be preferred:

http://cafe.elharo.com/web/why-cookies-are-bad-for-you-3/

-- 
﻿Elliotte Rusty Harold  elharo@...
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6298<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-06-02 13:55:58<br>
Subject:Re: [rest-discuss] Reason #3 why cookies are bad for you<br>
Message:<br><br>
<pre>Elliotte Harold wrote:

&gt;We’ve known for a long time that cookies are are deeply antithetical to 
&gt;the design of HTTP and the Web (#1). We’ve known they are used to track 
&gt;users and violate privacy (#2). However, I recently had called out to me 
&gt;yet another reason why cookies, specifically user authentication 
&gt;cookies, are bad for you; and why HTTP authentication should be preferred:
&gt;
&gt;http://cafe.elharo.com/web/why-cookies-are-bad-for-you-3/
&gt;
&gt;  
&gt;
You're absolutely right that Amazon should offer _only_ cookie 
authentication for this service.

But cookie authentication doesn't have to be exclusive. You can test for 
HTTP authentication and the prescence of a cookie. With different entry 
points if necessary.

But I reiterate: you are absolutely right - it's ridiculous that they 
offer this with cookie authentication only.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6299<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-06-02 14:32:17<br>
Subject:Re: [rest-discuss] Reason #3 why cookies are bad for you<br>
Message:<br><br>
<pre>Nic Ferrier wrote:

&gt;Elliotte Harold wrote:
&gt;
&gt;  
&gt;
&gt;&gt;We’ve known for a long time that cookies are are deeply antithetical to 
&gt;&gt;the design of HTTP and the Web (#1). We’ve known they are used to track 
&gt;&gt;users and violate privacy (#2). However, I recently had called out to me 
&gt;&gt;yet another reason why cookies, specifically user authentication 
&gt;&gt;cookies, are bad for you; and why HTTP authentication should be preferred:
&gt;&gt;
&gt;&gt;http://cafe.elharo.com/web/why-cookies-are-bad-for-you-3/
&gt;&gt;
&gt;&gt; 
&gt;&gt;
&gt;&gt;    
&gt;&gt;
&gt;You're absolutely right that Amazon should offer _only_ cookie 
&gt;authentication for this service.
&gt;  
&gt;

Whoops. That should read:

  You're absolutely right that Amazon should NOT offer _only_ cookie 
  authentication for this service.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6300<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-06-02 17:44:25<br>
Subject:Re: [rest-discuss] Reason #3 why cookies are bad for you<br>
Message:<br><br>
<pre>Bill Venners wrote:
&gt; Hi Rusty,
&gt; 
&gt; Am I understanding correct that the problem is you can't let other users 
&gt; see a feed for your plog, and you're surmising that Amazon doesn't offer 
&gt; it because of the trouble with using cookie-based auth with news 
&gt; readers? I don't see any reason that Amazon couldn't use HTTP auth for 
&gt; accessing private feeds while still using cookie-based auth for web 
&gt; pages. If everyone has an Amazon username and password that they use to 
&gt; log in via cookie auth, that same pair of credentials could be given to 
&gt; feed readers. Is that correct?
&gt; 

Correct. That's my hypothesis. I have no inside info on how Amazon's 
authentication system is actually implemented.

-- 
﻿Elliotte Rusty Harold  elharo@...
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6301<br>
Sender:"Jeffrey Winter" &lt;JeffreyWinter@...&gt;<br>
Post Date/Time:2006-06-06 21:47:52<br>
Subject:Public SOAP Interfaces?<br>
Message:<br><br>
<pre> 
Does anybody have a recent example of a high-profile 
public SOAP interface being announced?

I've only heard of REST (or at least semi-RESTful) 
interfaces being put forward recently - really in
the past couple of years.

Thanks,

Jeff

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6302<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-06-08 13:33:00<br>
Subject:REST application model fragments from 1994<br>
Message:<br><br>
<pre>Hi,

in a recent blog entry "EAI DSL", Gergor Hohpe mentions that back in  
1994 he wrote a little domain specific language to aid screen  
scraping based integration. Essentially the intention of the language  
was to simplify reacting to changes in the scraped UI.

Here is a code fragment:

;---- scrape XYZ screen ----
     LABEL SCREEN_ABC

     FIND "ADDRESS"
     EXTRACT "Street"
     POSITION 653
     EXTRACT "City"
     EXTRACT "State"
     EXTRACT "ZIP"

     FIND "INACT DT"
     EXTRACT "InactiveDate"
     NEXT
     EXTRACT "Inactive"

I find it interesting, that this looks a lot like what one would  
write to resemble the browsing and drilling-down patterns of REST's  
application model. Imagine an RDF enabled user agent - 'FIND  
"ADDRESS"' (properly redone for RDF of course) could well mean: go do  
a GET, traverse the hypermdia links until you find something that can  
be inferred to be an address and "EXTRACT CITY" would then give us  
the foo:city of that address.

Making use of this programatically would remove the need for a  
document-type based coupling (e.g. this GET has to respond with an  
address) between client and server and instead emphasize traversal of  
hyperlinks until some stated information need is satisfied.

Back in 94...how smart!

Jan




[1] http://www.enterpriseintegrationpatterns.com/ramblings/ 
42_eaidsl.html

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6303<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2006-06-08 17:50:57<br>
Subject:Re: [rest-discuss] Public SOAP Interfaces?<br>
Message:<br><br>
<pre>On Tue, 2006-06-06 at 17:47 -0400, Jeffrey Winter wrote:
&gt; Does anybody have a recent example of a high-profile 
&gt; public SOAP interface being announced?

http://code.google.com/apis/adsense/

-- 
...jsled
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6304<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2006-06-08 18:21:07<br>
Subject:Re: [rest-discuss] REST application model fragments from 1994<br>
Message:<br><br>
<pre>Hmm.  This looks (at least to me) vaguely similar to Rails functional  
tests:

&gt;   def test_show
&gt;     get :show, :id =&gt; 1
&gt;
&gt;     assert_response :success
&gt;     assert_template 'show'
&gt;
&gt;     assert_not_nil assigns(:thing)
&gt;     assert assigns(:thing).valid?
&gt;   end

I wonder if there's an underlying design model one could abstract  
into a generic DSL for this sort of thing...

-- Ernie P.

On Jun 8, 2006, at 6:33 AM, Jan Algermissen wrote:

&gt; Hi,
&gt;
&gt; in a recent blog entry "EAI DSL", Gergor Hohpe mentions that back in
&gt; 1994 he wrote a little domain specific language to aid screen
&gt; scraping based integration. Essentially the intention of the language
&gt; was to simplify reacting to changes in the scraped UI.
&gt;
&gt; Here is a code fragment:
&gt;
&gt; ;---- scrape XYZ screen ----
&gt; LABEL SCREEN_ABC
&gt;
&gt; FIND "ADDRESS"
&gt; EXTRACT "Street"
&gt; POSITION 653
&gt; EXTRACT "City"
&gt; EXTRACT "State"
&gt; EXTRACT "ZIP"
&gt;
&gt; FIND "INACT DT"
&gt; EXTRACT "InactiveDate"
&gt; NEXT
&gt; EXTRACT "Inactive"
&gt;
&gt; I find it interesting, that this looks a lot like what one would
&gt; write to resemble the browsing and drilling-down patterns of REST's
&gt; application model. Imagine an RDF enabled user agent - 'FIND
&gt; "ADDRESS"' (properly redone for RDF of course) could well mean: go do
&gt; a GET, traverse the hypermdia links until you find something that can
&gt; be inferred to be an address and "EXTRACT CITY" would then give us
&gt; the foo:city of that address.
&gt;
&gt; Making use of this programatically would remove the need for a
&gt; document-type based coupling (e.g. this GET has to respond with an
&gt; address) between client and server and instead emphasize traversal of
&gt; hyperlinks until some stated information need is satisfied.
&gt;
&gt; Back in 94...how smart!
&gt;
&gt; Jan
&gt;
&gt; [1] http://www.enterpriseintegrationpatterns.com/ramblings/
&gt; 42_eaidsl.html
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6305<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-06-08 18:10:45<br>
Subject:Re: [rest-discuss] Public SOAP Interfaces?<br>
Message:<br><br>
<pre>Amazon S3 offers both HTTP &amp; SOAP interfaces, though the latter is
basically just the former with angle brackets and service-specific
operations.  Incredible;

http://docs.amazonwebservices.com/AmazonS3/2006-03-01/

Mark.

On 6/6/06, Jeffrey Winter &lt;JeffreyWinter@...&gt; wrote:
&gt;
&gt; Does anybody have a recent example of a high-profile
&gt; public SOAP interface being announced?
&gt;
&gt; I've only heard of REST (or at least semi-RESTful)
&gt; interfaces being put forward recently - really in
&gt; the past couple of years.
&gt;
&gt; Thanks,
&gt;
&gt; Jeff
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6306<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2006-06-09 02:42:58<br>
Subject:FW: Last Call: 'The Extensible Markup Language (XML) Configuration Access  Protocol (XCAP)' to Proposed Standard (draft-ietf-simple-xcap)<br>
Message:<br><br>
<pre>This is interesting, an http service API to a resource model that follows
the xml data model.
 

  _____  

From: ietf-http-wg-request@... [mailto:ietf-http-wg-request@...] On
Behalf Of Lisa Dusseault
Sent: Thursday, June 08, 2006 4:27 PM
To: WebDav WG; HTTP working group; Atom-Protocol WG; discuss@...
Subject: Fwd: Last Call: 'The Extensible Markup Language (XML) Configuration
Access Protocol (XCAP)' to Proposed Standard (draft-ietf-simple-xcap) 


FYI: a proposed set of extensions to HTTP and HTTP URLs, with use of XML 

Lisa


Begin forwarded message:


From: The IESG &lt;iesg-secretary@...&gt;
Date: June 7, 2006 1:07:43 PM PDT
To: IETF-Announce &lt;ietf-announce@...&gt;
Cc: simple@...
Subject: Last Call: 'The Extensible Markup Language (XML) Configuration
Access Protocol (XCAP)' to Proposed Standard (draft-ietf-simple-xcap) 
Reply-To: iesg@...

The IESG has received a request from the SIP for Instant Messaging and
Presence

Leveraging Extensions WG to consider the following document:

- 'The Extensible Markup Language (XML) Configuration Access Protocol (XCAP)
'
&lt;draft-ietf-simple-xcap-11.txt&gt; as a Proposed Standard

On 2005-6-21, the IESG approved draft-ietf-simple-xcap-07.txt. Prior to its
being published as an RFC, new issues were raised which required revision.
The
IESG solicits review of this new version, in particular of Sections 7.10,
7.11 &amp;
8.23 where the major changes were made.

The IESG plans to make a decision in the next few weeks, and solicits
final comments on this action. Please send any comments to the
iesg@... or ietf@... mailing lists by 2006-06-21.

The file can be obtained via
http://www.ietf.org/internet-drafts/draft-ietf-simple-xcap-11.txt


_______________________________________________
IETF-Announce mailing list
IETF-Announce@...
https://www1.ietf.org/mailman/listinfo/ietf-announce


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6307<br>
Sender:"Stuart Holcombe" &lt;stuart_holcombe@...&gt;<br>
Post Date/Time:2006-06-09 21:32:11<br>
Subject:Using REST in the dotNET world.<br>
Message:<br><br>
<pre>I'm attempting to create a RESTful web service that will be used by
(at first) browser clients (via java script from a web site).

The reason I have chosen to use a REST architecture is that it appears
to be easier for a browser client to use as opposed to a SOAP service.
 Realizing that I am posting this to a REST group, is this observation
correct?
    
I have a mandate to create the service using IIS and .NET.  So far I
have looked into using ASP.NET pages
(http://www.intertwingly.net/wiki/pie/RestAspNetExample and
http://www.prescod.net/rest/dotnet/) and URL rewritting
(http://www.codeproject.com/aspnet/URLRewriter.asp) or taking over the
entire system using an HTTP handler or module.  I'm really unsure as
to what direction to take.  Does anyone have any suggestions or want
to tell me that using IIS and/or .NET for REST doesn't make sense?

I like the idea of using GET, POST, PUT, and DELETE because the action
being performed is obvious.  One article I found (on this very list)
suggests using GET and POST makes more sense for untrusted (browser)
clients.  If this is the case, then how does one define in a POST that
it is actually a DELETE or PUT?  I'm also curious to know if any
XMLHttpRequest implementations even support PUT and DELETE.
    
If you haven't already guessed, I'm not very well versed in the HTTP
realm.  Are there any good HTTP resources out there for someone like me?

Thanks to all who respond,

Stuart








</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6308<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2006-06-09 22:13:23<br>
Subject:Re: [rest-discuss] Using REST in the dotNET world.<br>
Message:<br><br>
<pre>On Fri, 2006-06-09 at 21:32 +0000, Stuart Holcombe wrote:

&gt; clients.  If this is the case, then how does one define in a POST that
&gt; it is actually a DELETE or PUT?  I'm also curious to know if any

The protocol doesn't really define how to work outside the protocol. :)
As such, there's no "standard" way to make a POST look like a PUT or
DELETE.  Most just add an "operation" parameter to the POST.  The more
important thing, then, is to stay within the basic semantics of the
verbs: GET for safe operations and POST for unsafe ones; you don't want
to do a `GET ?operation=delete` or need a `POST /getTheResource`.


&gt; If you haven't already guessed, I'm not very well versed in the HTTP
&gt; realm.  Are there any good HTTP resources out there for someone like me?

What about the specification itself?  The HTTP RFC
&lt;http://www.w3.org/Protocols/rfc2616/rfc2616.html&gt; isn't all that
unreadable.  I'd recommend jumping first to §9 (Method Definitions) and
§10 (Status Code Definitions) to get a direct and grounded
re-introduction, then browsing the Header Field Definitions (§14) for a
good incidental look at the details of how things are supposed to work.

-- 
...jsled
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6309<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-06-10 00:18:20<br>
Subject:Re: Using REST in the dotNET world.<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, "Stuart Holcombe"
&lt;stuart_holcombe@...&gt; wrote:

{snip}
 
&gt; I have a mandate to create the service using IIS and .NET.  So far I
&gt; have looked into using ASP.NET pages
&gt; (http://www.intertwingly.net/wiki/pie/RestAspNetExample and
&gt; http://www.prescod.net/rest/dotnet/) and URL rewritting
&gt; (http://www.codeproject.com/aspnet/URLRewriter.asp) or taking over the
&gt; entire system using an HTTP handler or module.  I'm really unsure as
&gt; to what direction to take.

Tha answer is to use the IHttpHandler interface (you will need to
configure IIS to wildcard match to the aspnet runtime in order to
receive directory requests - otherwise you will have to put up with
ugly extension mappings). The beauty of this approach is that you
don't need to fritz around with URLRewrites at all (the downside is
that IIS will route *all* requests on that path - including jpg, gif,
etc). In the HttpHandler you have direct access to the HTTP pipeline
so you can check the HTTP Method used (HEAD, GET, PUT, POST, DELETE).
From that point on, it is relatively straightforward to implement
RESTful behaviour.

&gt; Does anyone have any suggestions or want
&gt; to tell me that using IIS and/or .NET for REST doesn't make sense?

On the contrary - it makes absolute sense - "Death to WebForms!" I
say... (the evil child of .NET)

&gt; I like the idea of using GET, POST, PUT, and DELETE because the action
&gt; being performed is obvious.  One article I found (on this very list)
&gt; suggests using GET and POST makes more sense for untrusted (browser)
&gt; clients.  If this is the case, then how does one define in a POST that
&gt; it is actually a DELETE or PUT?  I'm also curious to know if any
&gt; XMLHttpRequest implementations even support PUT and DELETE.

Don Box has caused some discussion around this in the .NET community
recently with postulating that there is a "Lo-Rest" and a "Hi-Rest"
style (see
http://pluralsight.com/blogs/dbox/archive/2006/03/18/20235.aspx)

&gt; If you haven't already guessed, I'm not very well versed in the HTTP
&gt; realm.  Are there any good HTTP resources out there for someone like me?

Step 1: Get familiar with the W3C docs, especially:

"HTTP/1.1: Method Definitions"
http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html

"HTTP/1.1: Header Field Definitions"
http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.1

"HTTP/1.1: Status Code Definitions"
http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html

"HTTP/1.1: Request"
http://www.w3.org/Protocols/rfc2616/rfc2616-sec5.html#sec5

"HTTP/1.1: Response"
http://www.w3.org/Protocols/rfc2616/rfc2616-sec6.html#sec6

Step 2: Feel free to wander around my REST category in delicious:
http://del.icio.us/alan.dean/rest

Hope that helps :-)

Alan Dean
Lead Developer, OnlineTravel.com





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6310<br>
Sender:"Andrew S. Townley" &lt;andrew.townley@...&gt;<br>
Post Date/Time:2006-06-10 05:36:50<br>
Subject:[Fwd: Re: [rest-discuss] Using REST in the dotNET world.]<br>
Message:<br><br>
<pre>Oops.  Forgot to forward to the list...

-----Forwarded Message-----
From: Andrew S. Townley &lt;andrew.townley@...&gt;
To: Stuart Holcombe &lt;stuart_holcombe@...&gt;
Subject: Re: [rest-discuss] Using REST in the dotNET world.
Date: Sat, 10 Jun 2006 06:35:04 +0100

On Fri, 2006-06-09 at 22:32, Stuart Holcombe wrote:
[snip]
&gt; I like the idea of using GET, POST, PUT, and DELETE because the action
&gt; being performed is obvious. One article I found (on this very list)
&gt; suggests using GET and POST makes more sense for untrusted (browser)
&gt; clients. If this is the case, then how does one define in a POST that
&gt; it is actually a DELETE or PUT? I'm also curious to know if any
&gt; XMLHttpRequest implementations even support PUT and DELETE.

Hi Stuart,

Doing additional verbs with XMLHttpRequest is easy.  Here is an example
PUT:

	req.open("PUT", location, false);

You will probably want to use it in asynchronous mode (the last
parameter would be 'true').  There are some good references on
XMLHttpRequest on the AJAX patterns site: http://ajaxpatterns.org/.

I have used XMLHttpRequest quite easily between modern Mozilla/Firefox
and IE, but the my code doesn't yet work on Safari (and I'm assuming
Opera, but I haven't tried yet).  I'd say just stick to the usage
patterns on the AJAX sites and you'll be fine.  The main thing is
testing, testing, testing.  You'll at least want to know what you
support works and what you don't support won't really corrupt things in
your application when/if it doesn't work as expected.

Hope this helps,

ast
***************************************************************************************************
The information in this email is confidential and may be legally privileged Access to this email by anyone other than the intended addressee is unauthorized. If you are not the intended recipient of this message, any review, disclosure, copying, distribution, retention, or any action taken or omitted to be taken in reliance on it is prohibited and may be unlawful. If you are not the intended recipient, please reply to or forward a copy of this message to the sender and delete the message, any attachments, and any copies thereof from your system.
***************************************************************************************************


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6311<br>
Sender:"Ernst, Matthias" &lt;matthias.ernst@...&gt;<br>
Post Date/Time:2006-06-10 06:39:21<br>
Subject:RE: [rest-discuss] Re: Using REST in the dotNET world.<br>
Message:<br><br>
<pre>&gt; [Alan] Tha answer is to use the IHttpHandler interface (you will need to
configure IIS to wildcard match to the aspnet runtime in order to
receive directory requests 

You can avoid IIS if you want - .NET 2.0 has a very nice
way to directly tap into the HTTP.SYS kernel HTTP listener;
you even get to share port 80.

http://msdn2.microsoft.com/en-us/library/system.net.httplistener.aspx

This way you're as deep down to the protocol as you like with no
annoying infrastructure.

Matthias
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6312<br>
Sender:Tracy R Reed &lt;treed-yahoo@...&gt;<br>
Post Date/Time:2006-06-11 21:25:05<br>
Subject:Re: [rest-discuss] Reason #3 why cookies are bad for you<br>
Message:<br><br>
<pre>Elliotte Harold wrote:
&gt; We’ve known for a long time that cookies are are deeply antithetical to 
&gt; the design of HTTP and the Web (#1). We’ve known they are used to track 
&gt; users and violate privacy (#2). However, I recently had called out to me 
&gt;   

After 9 years of dealing with cookies (since RFC 2109 from 1997) I think
the problems with cookies are well understood. There isn't much point in
compiling a list of problems with cookies and then preaching to the
choir about it, especially when there is no workable alternative to
cookies. My recent thread "Can ReST replace cookies?" showed me that
until someone pushes through an RFC which implements the needed changes
in HTTP (for example HTTP auth which can be done in the webpage like
traditional cookie auth plus logout ability or something even better)
and gets it implemented in the browsers we are simply screwed in this area.

-- 
Tracy R Reed
http://ultraviolet.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6313<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-06-12 11:04:26<br>
Subject:more ssl clarifications please.<br>
Message:<br><br>
<pre>Checking my (possibly lack of ) understanding of ssl.
Scenario.

A client, no keystore.
A server with a keypair Public and private keys.

I'm being told that with IIS, the sequence will be, when
using basic authentication:

layout may be wrong. Client on left, server on right.

cl: Request over https.
svr:           Sends public key.
cl: PUT, using public key, includes username: password.
svr: decrypts using private key, if OK carries out the PUT.


Is that right/nearly right/totally wrong please?

It seems little better than using PKI over http
where the client has public, server has private keys.


Still seeking enlightenment.

-- 
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6314<br>
Sender:"Chris Burdess" &lt;dog@...&gt;<br>
Post Date/Time:2006-06-12 11:35:16<br>
Subject:Re: [rest-discuss] more ssl clarifications please.<br>
Message:<br><br>
<pre>  
Dave Pawson wrote:
&gt; Checking my (possibly lack of ) understanding of ssl.
&gt; Scenario.
&gt;
&gt; A client, no keystore.
&gt; A server with a keypair Public and private keys.
&gt;
&gt; I'm being told that with IIS, the sequence will be, when
&gt; using basic authentication:
&gt;
&gt; layout may be wrong. Client on left, server on right.
&gt;
&gt; cl: Request over https.
&gt; svr:           Sends public key.
&gt; cl: PUT, using public key, includes username: password.
&gt; svr: decrypts using private key, if OK carries out the PUT.
&gt;
&gt;
&gt; Is that right/nearly right/totally wrong please?

Right

&gt; It seems little better than using PKI over http
&gt; where the client has public, server has private keys.

Why do you say "seems little better than using PKI"? It does use PKI.
-- 
犬 Chris Burdess
   "They that can give up essential liberty to obtain a little safety
   deserve neither liberty nor safety." - Benjamin Franklin 
  
 
 
 
, ,  
  
Tel:  
Fax:  
   
  
  
Visit London is the official visitor organisation for London. Visit London is partly funded by Partnership, the Mayor's London Development Agency and the Association of London Government. 
The information contained in this e-mail is confidential and intended for the named recipient(s) only.  If you have received it in error, please notify the sender immediately and then delete the message.  If you are not the intended recipient, you must not use, disclose, copy or distribute this email. The views expressed in this e-mail are those of the individual and not of Visit London. We reserve the right to read and monitor any email or attachment entering or leaving our systems without prior notice. 
 
  
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6315<br>
Sender:Chris Burdess &lt;dog@...&gt;<br>
Post Date/Time:2006-06-12 11:45:10<br>
Subject:Re: [rest-discuss] more ssl clarifications please.<br>
Message:<br><br>
<pre>Chris Burdess wrote:
&gt; The information contained in this e-mail is confidential and  
&gt; intended for the named recipient(s) only.  If you have received it  
&gt; in error, please notify the sender immediately and then delete the  
&gt; message.  If you are not the intended recipient, you must not use,  
&gt; disclose, copy or distribute this email.

Sorry about the above, brain dead mailserver misconfiguration.  
Obviously this is not confidential in any way.
-- 
犬 Chris Burdess
   "They that can give up essential liberty to obtain a little safety
   deserve neither liberty nor safety." - Benjamin Franklin




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6316<br>
Sender:Yannick LOISEAU &lt;yloiseau@...&gt;<br>
Post Date/Time:2006-06-12 13:57:59<br>
Subject:Re: [rest-discuss] more ssl clarifications please.<br>
Message:<br><br>
<pre>
Keys are certificates. So the client must validate the server 
certificate in order to ensure the server identity.
The client must ask the user or use a list of valid certificates, which 
contains the server certificate or the one of the CA that issued it.

Note that I don't think this step is a protocole requirement. But your 
communication is not realy secured otherwise.

So:

&gt; cl: Request over https.
&gt; svr:           Sends public key.

cl: validate the certificate

&gt; cl: PUT, using public key, includes username: password.
&gt; svr: decrypts using private key, if OK carries out the PUT.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6317<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-06-12 11:22:14<br>
Subject:Re: [rest-discuss] more ssl clarifications please.<br>
Message:<br><br>
<pre>"Dave Pawson" &lt;dave.pawson@...&gt; writes:

&gt; Checking my (possibly lack of ) understanding of ssl.
&gt; Scenario.
&gt;
&gt; A client, no keystore.
&gt; A server with a keypair Public and private keys.
&gt;
&gt; I'm being told that with IIS, the sequence will be, when
&gt; using basic authentication:
&gt;
&gt; layout may be wrong. Client on left, server on right.
&gt;
&gt; cl: Request over https.
&gt; svr:           Sends public key.
&gt; cl: PUT, using public key, includes username: password.
&gt; svr: decrypts using private key, if OK carries out the PUT.
&gt;
&gt;
&gt; Is that right/nearly right/totally wrong please?
&gt;
&gt; It seems little better than using PKI over http
&gt; where the client has public, server has private keys.

It should all be more highlevel than that.

From the HTTP point of view the interaction should just be:

  CL: &gt; PUT https://server/someresource
 SRV: &lt; 200 (or whatever)

in terms of SSL/TLS there's a lot going on underneath:

  CL: sends TCP connect request to server
 SRV: examines suggested crypto; responds with an algorithm
  CL: sends OK to algorithm selection
 SRV: sends certificate/key negotiation
  CL: OKs all that...
 SRV: OKs
  CL: sends data (in this case your HTTP request)
 
 and so on.

But from HTTP(S) that's all transparent.

Your client does need to have a keystore with the public key of the
certificate provider who has signed your server's private key. I
thought that most toolkits these days came with the main keys; just
like browsers do; but there may be something you have to do to import
a key.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6318<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-06-12 12:15:18<br>
Subject:Re: [rest-discuss] more ssl clarifications please.<br>
Message:<br><br>
<pre>On 12/06/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:


&gt; &gt; It seems little better than using PKI over http
&gt; &gt; where the client has public, server has private keys.
&gt;
&gt; It should all be more highlevel than that.
&gt;
&gt; From the HTTP point of view the interaction should just be:
&gt;
&gt;   CL: &gt; PUT https://server/someresource
&gt;  SRV: &lt; 200 (or whatever)
&gt;
&gt; in terms of SSL/TLS there's a lot going on underneath:
&gt;
&gt;   CL: sends TCP connect request to server
&gt;  SRV: examines suggested crypto; responds with an algorithm
&gt;   CL: sends OK to algorithm selection
&gt;  SRV: sends certificate/key negotiation
&gt;   CL: OKs all that...
&gt;  SRV: OKs
&gt;   CL: sends data (in this case your HTTP request)

Quite on line with this, Mark sent
&lt;quote&gt; The client makes a connection, usually to port
443, on which the server is listening using SSL. There
is some negotiation - is the server going authenicate
itself to the client, is the client going to authenicate
itself to the server etc. In the case of just the
server authenicating itself: the server sends the client
its public certificate along with some data it signed
with it the associated private key. The client checks the signature
using the public certificate and then checks the public
certificate has been signed by a CA it trusts. If all
is OK the client and server go on to negotiate a symmetric
key (there are various algorithms for this) - the symmetric
key will be a lot smaller than the public key/private
key pair (and so a lot faster to encrypt/decrypt stuff with)
but will only be used for this connection. Once the symmetric
key has been choosen the application data can be exchanged.
It is useful to use keepalive when using HTTPS
as you do not want to got through the whole phase of setting
up the SSL connection each time a client wants to send something.

You can treat the SSL connection as a black box, just as
you treat the tcp connection as a black box with http.
&lt;/quote&gt;


&gt;
&gt;  and so on.
&gt;
&gt; But from HTTP(S) that's all transparent.
Which isn't helping me. I'm trying to do this programmatically.
Java client and IIS server. I can see it working when Mark says,

"The client checks the signature
using the public certificate and then checks the public
certificate has been signed by a CA it trusts. "

I.e. If its 'does the client trust the server', I need to check that
I trust the man at the end of the chain? Thawte etc.
(Presumably using the Issuer information).





&gt;
&gt; Your client does need to have a keystore with the public key of the
&gt; certificate provider who has signed your server's private key. I
&gt; thought that most toolkits these days came with the main keys; just
&gt; like browsers do; but there may be something you have to do to import
&gt; a key.

Which is a big part of my problem.

I'm trying a REST mc - mc transaction, and I guess I want either both way
checks, or minimally I want the server to verify the client?
this was the opposite of Marks (more usual?) scenario where the client
needs to trust the server.

I think this is where Nic's story comes in? I need to export
(from the server keystore) a public key with an alias for use on the client
as Nic suggests.

ideally I'd like to use a self certification (using the Java tools) but
we couldn't get the java keystore values  into the IIS 'store'.
Could be that IIS just won't play with Java (Sun).


Chris wrote
Why do you say "seems little better than using PKI"? It does use PKI.

yes, I agree. And in my simplistic mode, I guess that if I could guess
the user name and password, then any client could access this 'secure'
server - which left me thinking it was too easy.

regards





-- 
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6319<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-06-12 22:03:33<br>
Subject:Re: [rest-discuss] more ssl clarifications please.<br>
Message:<br><br>
<pre>"Dave Pawson" &lt;dave.pawson@...&gt; writes:

&gt;&gt; But from HTTP(S) that's all transparent.
&gt; Which isn't helping me. I'm trying to do this programmatically.

You're trying to write an SSL/TLS client?

That seems wrong. You should just use JSSE's
javax.net.ssl.HttpsURLConnection to open a connection like so:

   URL u = new URL("https://server/someplace");
   URLConnection uc = u.connect();

This does all the work for you as long as the JSSE client is already
set up.


&gt; I'm trying a REST mc - mc transaction, and I guess I want either both way
&gt; checks, or minimally I want the server to verify the client?
&gt; this was the opposite of Marks (more usual?) scenario where the client
&gt; needs to trust the server.

Mark's scenario was the normal one. The client and the server setup a
securely authenticated channel with encryption on the top. If your
application needs authentication then the client can do normal HTTP
authentication over the top of SSL.

Don't go to client certificates because that complicates things more
from the client end and you can always put it in later.


&gt; I think this is where Nic's story comes in? I need to export
&gt; (from the server keystore) a public key with an alias for use on the client
&gt; as Nic suggests.

I think you're getting really confused about this.


&gt; ideally I'd like to use a self certification (using the Java tools) but
&gt; we couldn't get the java keystore values  into the IIS 'store'.
&gt; Could be that IIS just won't play with Java (Sun).

No.


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6320<br>
Sender:David Cornejo &lt;dave@...&gt;<br>
Post Date/Time:2006-06-13 00:12:08<br>
Subject:Re: [rest-discuss] more ssl clarifications please.<br>
Message:<br><br>
<pre>At 02:15 AM 6/12/2006, Dave Pawson wrote:

&gt;On 12/06/06, Nic James Ferrier 
&gt;&lt;&lt;mailto:nferrier%40tapsellferrier.co.uk&gt;nferrier@...&gt; wrote:
&gt;
&gt; &gt; &gt; It seems little better than using PKI over http
&gt; &gt; &gt; where the client has public, server has private keys.
&gt; &gt;
&gt; &gt; It should all be more highlevel than that.
&gt; &gt;
&gt; &gt; From the HTTP point of view the interaction should just be:
&gt; &gt;
&gt; &gt; CL: &gt; PUT &lt;https://server/someresource&gt;https://server/someresource
&gt; &gt; SRV: &lt; 200 (or whatever)
&gt; &gt;
&gt; &gt; in terms of SSL/TLS there's a lot going on underneath:
&gt; &gt;
&gt; &gt; CL: sends TCP connect request to server
&gt; &gt; SRV: examines suggested crypto; responds with an algorithm
&gt; &gt; CL: sends OK to algorithm selection
&gt; &gt; SRV: sends certificate/key negotiation
&gt; &gt; CL: OKs all that...
&gt; &gt; SRV: OKs
&gt; &gt; CL: sends data (in this case your HTTP request)
&gt;
&gt;Quite on line with this, Mark sent
&gt;&lt;quote&gt; The client makes a connection, usually to port
&gt;443, on which the server is listening using SSL. There
&gt;is some negotiation - is the server going authenicate
&gt;itself to the client, is the client going to authenicate
&gt;itself to the server etc. In the case of just the
&gt;server authenicating itself: the server sends the client
&gt;its public certificate along with some data it signed
&gt;with it the associated private key. The client checks the signature
&gt;using the public certificate and then checks the public
&gt;certificate has been signed by a CA it trusts. If all
&gt;is OK the client and server go on to negotiate a symmetric
&gt;key (there are various algorithms for this) - the symmetric
&gt;key will be a lot smaller than the public key/private
&gt;key pair (and so a lot faster to encrypt/decrypt stuff with)
&gt;but will only be used for this connection. Once the symmetric
&gt;key has been choosen the application data can be exchanged.
&gt;It is useful to use keepalive when using HTTPS
&gt;as you do not want to got through the whole phase of setting
&gt;up the SSL connection each time a client wants to send something.
&gt;
&gt;You can treat the SSL connection as a black box, just as
&gt;you treat the tcp connection as a black box with http.
&gt;&lt;/quote&gt;
&gt;
&gt; &gt;
&gt; &gt; and so on.
&gt; &gt;
&gt; &gt; But from HTTP(S) that's all transparent.
&gt;Which isn't helping me. I'm trying to do this programmatically.
&gt;Java client and IIS server. I can see it working when Mark says,
&gt;
&gt;"The client checks the signature
&gt;using the public certificate and then checks the public
&gt;certificate has been signed by a CA it trusts. "
&gt;
&gt;I.e. If its 'does the client trust the server', I need to check that
&gt;I trust the man at the end of the chain? Thawte etc.
&gt;(Presumably using the Issuer information).
&gt;
&gt; &gt;
&gt; &gt; Your client does need to have a keystore with the public key of the
&gt; &gt; certificate provider who has signed your server's private key. I
&gt; &gt; thought that most toolkits these days came with the main keys; just
&gt; &gt; like browsers do; but there may be something you have to do to import
&gt; &gt; a key.
&gt;
&gt;Which is a big part of my problem.
&gt;
&gt;I'm trying a REST mc - mc transaction, and I guess I want either both way
&gt;checks, or minimally I want the server to verify the client?
&gt;this was the opposite of Marks (more usual?) scenario where the client
&gt;needs to trust the server.
&gt;
&gt;I think this is where Nic's story comes in? I need to export
&gt;(from the server keystore) a public key with an alias for use on the client
&gt;as Nic suggests.
&gt;
&gt;ideally I'd like to use a self certification (using the Java tools) but
&gt;we couldn't get the java keystore values into the IIS 'store'.
&gt;Could be that IIS just won't play with Java (Sun).
&gt;
&gt;Chris wrote
&gt;Why do you say "seems little better than using PKI"? It does use PKI.
&gt;
&gt;yes, I agree. And in my simplistic mode, I guess that if I could guess
&gt;the user name and password, then any client could access this 'secure'
&gt;server - which left me thinking it was too easy.

SSL is configurable to allow different levels of authentication - by 
default the client authenticates the server against a list of 
authorities.  We set up a local Certificate Authority (CA) and gave 
both the clients and servers signed certificates and then configure 
the server to validate the clients certificates in addition to the 
default client check of the servers certificate.

You could, in theory, configure any combination of validations you like.

Problems in importing keys usually come down to one of two things: 
format and a confusion of the difference between a key and a 
certificate.  There are several formats and several quirky 
implementations of certificate stores, I've always managed to find 
the right incantation for key format conversion via Google.

Keys are not the equivalent of certificates - a key is just that, a 
number you use to unlock the encrypted material, a certificate is a 
document that is signed by some authority to validate the content of 
the certificate.  In encryption this document contains the key and 
some sort of identifying information.

dave c
t-tag, inc.
kailua, hi


&gt;regards
&gt;
&gt;--
&gt;Dave Pawson
&gt;XSLT XSL-FO FAQ.
&gt;&lt;http://www.dpawson.co.uk&gt;http://www.dpawson.co.uk
&gt;
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6321<br>
Sender:Berend de Boer &lt;berend@...&gt;<br>
Post Date/Time:2006-06-13 03:58:41<br>
Subject:Re: [rest-discuss] Reason #3 why cookies are bad for you<br>
Message:<br><br>
<pre>&gt;&gt;&gt;&gt;&gt; "Tracy" == Tracy R Reed &lt;treed-yahoo@...&gt; writes:

    Tracy&gt; After 9 years of dealing with cookies (since RFC 2109 from 1997) I think
    Tracy&gt; the problems with cookies are well understood. There isn't
    Tracy&gt; much point in compiling a list of problems with cookies and
    Tracy&gt; then preaching to the choir about it, especially when there
    Tracy&gt; is no workable alternative to cookies. My recent thread
    Tracy&gt; "Can ReST replace cookies?" showed me that until someone
    Tracy&gt; pushes through an RFC which implements the needed changes
    Tracy&gt; in HTTP (for example HTTP auth which can be done in the
    Tracy&gt; webpage like traditional cookie auth plus logout ability or
    Tracy&gt; something even better) and gets it implemented in the
    Tracy&gt; browsers we are simply screwed in this area.

Authentication? Here:

  http://www.berenddeboer.net/rest/authentication.html

Personalised logon forms? Here:

  http://www.peej.co.uk/articles/http-auth-with-html-forms.html

-- 
Regards,

Berend. (-:

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6322<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-06-12 12:28:10<br>
Subject:client verification.<br>
Message:<br><br>
<pre>One more additional thought.

If i need the server to be able to verify the authenticity of the client,
should the client generate a key (keytool etc), then
sent the exported public key to the server, who adds it
to their list of 'trusted keys' (IIS calls this the LTC - list of
trusted certs??).

then the server can check the clients 'ID' using these certificates.

Makes sense to me.


regards

-- 
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6323<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-06-13 07:03:43<br>
Subject:Re: [rest-discuss] more ssl clarifications please.<br>
Message:<br><br>
<pre>On 12/06/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:

&gt; You're trying to write an SSL/TLS client?

Not from the bottom up. simply configure a client to use ssl,
then IIS to do the right thing with the certificates.

&gt;
&gt; That seems wrong. You should just use JSSE's

&gt; This does all the work for you as long as the JSSE client is already
&gt; set up.

Setting up JSSE, with the right certificate format for JSSE, and its matching
certificate /key for IIS at the other end, that's where it gets hard IMHO.



&gt; Mark's scenario was the normal one.
Davids, earlier this thread, is what I'm chasing. I've currently a server
communicating with two clients. I need the server to be sure of
the clients identity.



&gt;
&gt; Don't go to client certificates because that complicates things more
&gt; from the client end and you can always put it in later.

:-) Now is later.

&gt;
&gt;
&gt; &gt; I think this is where Nic's story comes in? I need to export
&gt; &gt; (from the server keystore) a public key with an alias for use on the client
&gt; &gt; as Nic suggests.
&gt;
&gt; I think you're getting really confused about this.

I quite agree on that Nic! Even the jargon isn't regular in this neck
of the woods.


&gt;
&gt;
&gt; &gt; ideally I'd like to use a self certification (using the Java tools) but
&gt; &gt; we couldn't get the java keystore values  into the IIS 'store'.
&gt; &gt; Could be that IIS just won't play with Java (Sun).
&gt;
&gt; No.

At least that's nice to know.


regards

-- 
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6324<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-06-13 06:59:27<br>
Subject:Re: [rest-discuss] more ssl clarifications please.<br>
Message:<br><br>
<pre>On 13/06/06, David Cornejo &lt;dave@...&gt; wrote:

&gt;
&gt;  SSL is configurable to allow different levels of authentication - by default the client authenticates the server against a list of authorities.  We set up a local Certificate Authority (CA) and gave both the clients and servers signed certificates and then configure the server to validate the clients certificates in addition to the default client check of the servers certificate.

Yes, that's just what I want David.
Do the client and server have identical certificates? I'd understood
that one (classically the server) had a private and public key in the keystore,
and the client had the public key?



&gt;  Problems in importing keys usually come down to one of two things: format and a confusion of the difference between a key and a certificate.  There are several formats and several quirky implementations of certificate stores, I've always managed to find the right incantation for key format conversion via Google.

I'm currently using openssl to generate the certificate... holding the key :-)
I've selected PKCS12 as the format.
I've heard of, but not yet read of, and other standardised formats, nor
that IIS or anything else required another format. Any references please?



&gt;
&gt;  Keys are not the equivalent of certificates - a key is just that, a number you use to unlock the encrypted material, a certificate is a document that is signed by some authority to validate the content of the certificate.  In encryption this document contains the key and some sort of identifying information.


Key as used in GPG, Certificate as in 'signed envelope' round a key?


Thanks David.

regards


-- 
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6325<br>
Sender:Chris Burdess &lt;dog@...&gt;<br>
Post Date/Time:2006-06-13 08:25:16<br>
Subject:Re: [rest-discuss] more ssl clarifications please.<br>
Message:<br><br>
<pre>Dave Pawson wrote:
&gt; I'm trying a REST mc - mc transaction, and I guess I want either  
&gt; both way
&gt; checks, or minimally I want the server to verify the client?
&gt; this was the opposite of Marks (more usual?) scenario where the client
&gt; needs to trust the server.
&gt;
&gt; I think this is where Nic's story comes in? I need to export
&gt; (from the server keystore) a public key with an alias for use on  
&gt; the client
&gt; as Nic suggests.
&gt;
&gt; ideally I'd like to use a self certification (using the Java tools)  
&gt; but
&gt; we couldn't get the java keystore values  into the IIS 'store'.
&gt; Could be that IIS just won't play with Java (Sun).
&gt;
&gt;
&gt; Chris wrote
&gt; Why do you say "seems little better than using PKI"? It does use PKI.
&gt;
&gt; yes, I agree. And in my simplistic mode, I guess that if I could guess
&gt; the user name and password, then any client could access this 'secure'
&gt; server - which left me thinking it was too easy.

Right. It's secure in the sense of confidential - 3rd parties cannot  
(easily) eavesdrop the conversation. There are 3 primary areas of  
security:

1. authentication - determining the user is who they say they are
2. authorisation - determining whether they have the right to perform  
the action they want to perform
3. confidentiality - assuring that unauthorised parties do not have  
access to the communication

In your example, confidentiality is assured by the use of HTTPS, and  
authentication is via HTTP Basic. You could use SSL client  
certificates instead to perform authentication if you wanted to,  
which would make the credentials more difficult to forge.
-- 
犬 Chris Burdess
   "They that can give up essential liberty to obtain a little safety
   deserve neither liberty nor safety." - Benjamin Franklin




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6326<br>
Sender:David Cornejo &lt;dave@...&gt;<br>
Post Date/Time:2006-06-13 08:42:34<br>
Subject:Re: [rest-discuss] more ssl clarifications please.<br>
Message:<br><br>
<pre>At 08:59 PM 6/12/2006, Dave Pawson wrote:
&gt;On 13/06/06, David Cornejo &lt;dave@...&gt; wrote:
&gt;
&gt;&gt;
&gt;&gt;  SSL is configurable to allow different levels of authentication - 
&gt;&gt; by default the client authenticates the server against a list of 
&gt;&gt; authorities.  We set up a local Certificate Authority (CA) and 
&gt;&gt; gave both the clients and servers signed certificates and then 
&gt;&gt; configure the server to validate the clients certificates in 
&gt;&gt; addition to the default client check of the servers certificate.
&gt;
&gt;Yes, that's just what I want David.
&gt;Do the client and server have identical certificates? I'd understood
&gt;that one (classically the server) had a private and public key in 
&gt;the keystore,
&gt;and the client had the public key?

They need to share a common certificate authority - the idea is that 
both the client and the server have a trust in the CA, so if the CA 
certifies the two keys, then the client and server can trust each other.

Therefor you need a total of three keys: one for the client, one for 
the server, and one for the CA.  You use the CA key to sign the 
client and server keys.

There are also three certificates involved for the same parties.  The 
CA certificate (it essentially validates itself), and the client and 
server certificates signed with the CA key.


&gt;&gt;  Problems in importing keys usually come down to one of two 
&gt;&gt; things: format and a confusion of the difference between a key and 
&gt;&gt; a certificate.  There are several formats and several quirky 
&gt;&gt; implementations of certificate stores, I've always managed to find 
&gt;&gt; the right incantation for key format conversion via Google.
&gt;
&gt;I'm currently using openssl to generate the certificate... holding the key :-)
&gt;I've selected PKCS12 as the format.
&gt;I've heard of, but not yet read of, and other standardised formats, nor
&gt;that IIS or anything else required another format. Any references please?

Wikipedia actually has a good description: http://en.wikipedia.org/wiki/X.509

Look for "Certificate file extensions" to see the lists of formats.






&gt;&gt;  Keys are not the equivalent of certificates - a key is just that, 
&gt;&gt; a number you use to unlock the encrypted material, a certificate 
&gt;&gt; is a document that is signed by some authority to validate the 
&gt;&gt; content of the certificate.  In encryption this document contains 
&gt;&gt; the key and some sort of identifying information.
&gt;
&gt;
&gt;Key as used in GPG, Certificate as in 'signed envelope' round a key?

yes



&gt;Thanks David.
&gt;
&gt;regards
&gt;
&gt;
&gt;--
&gt;Dave Pawson
&gt;XSLT XSL-FO FAQ.
&gt;http://www.dpawson.co.uk


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6327<br>
Sender:Jerome Louvel &lt;contact@...&gt;<br>
Post Date/Time:2006-06-14 14:51:36<br>
Subject:Multiple resource identifiers<br>
Message:<br><br>
<pre>In the REST chapter, there is this sentence that puzzles me:

"More precisely, a resource R is a temporally varying membership 
function MR(t), which for time t maps to a set of entities, or values, 
which are equivalent. The values in the set may be resource 
representations and/or resource identifiers."
http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_2_1_1

What is not clear to me is:
1) Why resource identifiers are part of this set of values?
2) Why we are talking about multiple identifiers for a single resource?

Thanks,
-- 
Jerome Louvel
http://www.restlet.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6328<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-06-14 17:57:34<br>
Subject:Re: [rest-discuss] Multiple resource identifiers<br>
Message:<br><br>
<pre>On 6/14/06, Jerome Louvel &lt;contact@...&gt; wrote:
&gt; In the REST chapter, there is this sentence that puzzles me:
&gt;
&gt; "More precisely, a resource R is a temporally varying membership
&gt; function MR(t), which for time t maps to a set of entities, or values,
&gt; which are equivalent. The values in the set may be resource
&gt; representations and/or resource identifiers."
&gt; http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_2_1_1
&gt;
&gt; What is not clear to me is:
&gt; 1) Why resource identifiers are part of this set of values?

AIUI, to accomodate redirects.

&gt; 2) Why we are talking about multiple identifiers for a single resource?

It's not necessarily the same resource.  Check the 300 response code
definition..

Mark.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6329<br>
Sender:Jerome Louvel &lt;contact@...&gt;<br>
Post Date/Time:2006-06-14 19:20:12<br>
Subject:Re: Multiple resource identifiers<br>
Message:<br><br>
<pre>
Mark Baker wrote :
&gt;&gt; What is not clear to me is:
&gt;&gt; 1) Why resource identifiers are part of this set of values?
&gt; 
&gt; AIUI, to accomodate redirects.

OK, that makes sense. I've also found some good recommendations about 
the usage of the URIs to identify variant representations in the 
"Content-Location" header, when doing server-side negotiation: 
http://www.w3.org/TR/chips/#cp5.2

Chris Burdess and Elias Sinderson also pointed to me the need to support 
the identification of a single resource with multiple URIs.

After further investigation, I found a good explanation on URI aliases 
at: http://www.w3.org/TR/2004/REC-webarch-20041215/#uri-aliases

&gt;&gt; 2) Why we are talking about multiple identifiers for a single resource?
&gt; 
&gt; It's not necessarily the same resource.  Check the 300 response code
&gt; definition..

OK, so REST and HTTP explicitly support URI aliases and recommend the 
identification of representations by URIs (like in the case of a 300 
status code). I don't know why I was assuming that there was a (1)&lt;-&gt;(1) 
relationship between a URI and a resource when it's actually a (1,n)&lt;-&gt;(1).

-- 
Jerome Louvel
http://www.restlet.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6330<br>
Sender:donald.strong@...<br>
Post Date/Time:2006-06-21 07:20:06<br>
Subject:Re: [rest-discuss] Using REST in the dotNET world.<br>
Message:<br><br>
<pre>
Hi Stuart,

I have been meaning to reply to this for some time, sorry for the delay.

&gt; I like the idea of using GET, POST, PUT, and DELETE because the action
&gt; being performed is obvious. One article I found (on this very list)
&gt; suggests using GET and POST makes more sense for untrusted (browser)
&gt; clients. If this is the case, then how does one define in a POST that
&gt; it is actually a DELETE or PUT?

Defining a POST that updates a resource is straight forward. If it happens
to
replace every property of the resource then it is equivalent to a PUT.
Using POST is a lot more flexible than PUT because:
      - you don't have to replace everything
      - you can submit a change that impacts more than one resource.
With a PUT you must submit the entire state of the resource (at least that
seems to be the consensus) but with a POST you may only submit
those properties/attributes/state that you wish to change.

As far as implementing DELETE in terms of POST, consider
do you really want your customers deleting data from your site?
An alternative is to allow the customer to change the state of the
resource so that it is ... retired, closed, inactive or terminated.
At that point you could make the resource read-only (GET)
and purge the resource at a later time, perhaps after it has been
archived. It is a lot easier to implement this than to implement
the kind of authorisation neccessary to verify which resources
a customer can or cannot DELETE.

Regards
Donald.


National Australia Bank Ltd - ABN 12 004 044 937
This email may contain confidential information. If you are not the intended recipient, please immediately notify us at postmaster@... or by replying to the sender, and then destroy all copies of this email. Except where this email indicates otherwise, views expressed in this email are those of the sender and not of National Australia Bank Ltd. Advice in this email does not take account of your objectives, financial situation, or needs. It is important for you to consider these matters and, if the e-mail refers to a product(s), you should read the relevant Product Disclosure Statement(s)/other disclosure document(s) before making any decisions. If you do not want email marketing from us in future, forward this email with "unsubscribe" in the subject line to Unsubscriptions@... in order to stop marketing emails from this sender. National Australia Bank Ltd does not represent that this email is free of errors, viruses or interference.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6331<br>
Sender:jalgermissen@...<br>
Post Date/Time:2006-06-21 11:41:58<br>
Subject:AW: Re: [rest-discuss] Using REST in the dotNET world.<br>
Message:<br><br>
<HEAD></HEAD>
<BODY  style="BACKGROUND-COLOR: #ffffff">
<TABLE>
<TBODY>
<TR>
<TD colSpan=2></TD></TR>
<TR>
<TD width=5 bgColor=blue> </TD>
<TD>
<DIV>
<DIV>
<DIV>
<P><BR>Defining a POST that updates a resource is straight forward. If it happens<BR>to<BR>replace every property of the resource then it is equivalent to a PUT.<BR>Using POST is a lot more flexible than PUT because:<BR>- you don't have to replace everything<BR>- you can submit a change that impacts more than one resource.<BR>With a PUT you must submit the entire state of the resource (at least that<BR>seems to be the consensus) but with a POST you may only submit<BR>those properties/attributes/state that you wish to change.</P>
<P>Is POST for partial updates really appropriate? IMHO, "accept as a subordinate" does not license the use of POST for this use case.</P>
<P>But I might be interpreting the words too strict.</P>
<P>< <A href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.5">http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.5</A> ></P>
<P>Jan</P>
<P> </P>
<P><BR>As far as implementing DELETE in terms of POST, consider<BR>do you really want your customers deleting data from your site?<BR>An alternative is to allow the customer to change the state of the<BR>resource so that it is ... retired, closed, inactive or terminated.<BR>At that point you could make the resource read-only (GET)<BR>and purge the resource at a later time, perhaps after it has been<BR>archived. It is a lot easier to implement this than to implement<BR>the kind of authorisation neccessary to verify which resources<BR>a customer can or cannot DELETE.<BR><BR>Regards<BR>Donald.<BR><BR>National Australia Bank Ltd - ABN 12 004 044 937<BR>This email may contain confidential information. If you are not the intended recipient, please immediately notify us at <A href="mailto:postmaster%40nab.com.au">postmaster@...</A> or by replying to the sender, and then destroy all copies of this email. Except where this email indicates otherwise, views expressed in this email are those of the sender and not of National Australia Bank Ltd. Advice in this email does not take account of your objectives, financial situation, or needs. It is important for you to consider these matters and, if the e-mail refers to a product(s), you should read the relevant Product Disclosure Statement(s)/other disclosure document(s) before making any decisions. If you do not want email marketing from us in future, forward this email with "unsubscribe" in the subject line to <A href="mailto:Unsubscriptions%40nab.com.au">Unsubscriptions@...</A> in order to stop marketing emails from this sender. National Australia Bank Ltd does not represent that this email is free of errors, viruses or interference.<BR></P></DIV><SPAN style="COLOR: white"></SPAN> </TD></TR></TBODY></TABLE></BODY>

<br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6332<br>
Sender:donald.strong@...<br>
Post Date/Time:2006-06-22 01:40:23<br>
Subject:Re: AW: Re: [rest-discuss] Using REST in the dotNET world.<br>
Message:<br><br>
<pre>
&gt; Is POST for partial updates really appropriate? IMHO, "accept as a
subordinate" does not license the use of POST for this use case.


&gt; But I might be interpreting the words too strict.


&lt; http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.5 &gt;


Hi Jan,


This is how the forms in HTML work, i.e. the "original" REST style
application,


so yes perhaps you are interpreting the the words a bit too strict.
B^)


Regards


Donald.


National Australia Bank Ltd - ABN 12 004 044 937
This email may contain confidential information. If you are not the intended recipient, please immediately notify us at postmaster@... or by replying to the sender, and then destroy all copies of this email. Except where this email indicates otherwise, views expressed in this email are those of the sender and not of National Australia Bank Ltd. Advice in this email does not take account of your objectives, financial situation, or needs. It is important for you to consider these matters and, if the e-mail refers to a product(s), you should read the relevant Product Disclosure Statement(s)/other disclosure document(s) before making any decisions. If you do not want email marketing from us in future, forward this email with "unsubscribe" in the subject line to Unsubscriptions@... in order to stop marketing emails from this sender. National Australia Bank Ltd does not represent that this email is free of errors, viruses or interference.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6333<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-06-23 20:02:31<br>
Subject:Content-Model HTTP Header<br>
Message:<br><br>
<pre>Hi,

Mike (I think) in hist trip booking example at

   http://rest.blueoxen.net/cgi-bin/wiki.pl?RestGoesToMaui

makes use of an HTTP Content-Model header. I seem to be unable to  
find any references to that. Does anyone have a pointer?

Thanks,

Jan


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6334<br>
Sender:Mark Nottingham &lt;mnot@...&gt;<br>
Post Date/Time:2006-06-23 21:24:22<br>
Subject:Re: [rest-discuss] Content-Model HTTP Header<br>
Message:<br><br>
<pre>It's not in the registry;
   http://www.iana.org/assignments/message-headers/message-header- 
index.html
so I imagine it's just a straw-man.

I would think something more globally unique than a simple token  
would be required; perhaps a URI would be more appropriate. Yet  
another reason to resurrect the Link header;
   http://www.ietf.org/internet-drafts/draft-nottingham-http-link- 
header-00.txt

Cheers,


On 2006/06/23, at 1:02 PM, Jan Algermissen wrote:

&gt; Hi,
&gt;
&gt; Mike (I think) in hist trip booking example at
&gt;
&gt;    http://rest.blueoxen.net/cgi-bin/wiki.pl?RestGoesToMaui
&gt;
&gt; makes use of an HTTP Content-Model header. I seem to be unable to
&gt; find any references to that. Does anyone have a pointer?
&gt;
&gt; Thanks,
&gt;
&gt; Jan
&gt;
&gt;
&gt;
&gt; ------------------------ Yahoo! Groups Sponsor -------------------- 
&gt; ~--&gt;
&gt; Yahoo! Groups gets a make over. See the new email design.
&gt; http://us.click.yahoo.com/XISQkA/lOaOAA/yQLSAA/W6uqlB/TM
&gt; -------------------------------------------------------------------- 
&gt; ~-&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;


--
Mark Nottingham     http://www.mnot.net/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6335<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-06-25 21:11:00<br>
Subject:Submitting binary and metadata in a single request<br>
Message:<br><br>
<pre>Hi,

suppose I am writing a REST facade to a legacy system; one of the use  
cases being the creation of entries that consist of arbitrary media  
data and asociated metadata. One approach to do this is to first POST  
the media data (and have the server return the created entry with the  
link to the uploaded media data) and then to update the metadata with  
a PUT on the entry.
(That is the approach Atom is taking, at least in APP v08[1])

What if the legacy system requires the creation and metadata  
assignment be done as an atomic operation, IOW if the entry cannot be  
created in the absence of the metadata?

The only solution I see so far is a multipart form data upload but  
I'd really like to avoid having this clutter up my otherwise pretty  
consistent way of doing things in the system I have to build. E.g.  
I'd need to introduce te meaning of the form fields to the client  
where it otherwise would just POST the binary and then GET, modify  
and PUT the associated entry XML data.

I have been thinking about a multipart POSTing of an entry XML  
document right away with the content link pointing to the multipart  
part that contains the binary data. I think the multipart specs does  
license that, yes?

I'd really apprechiate any thoughts on this matter, thanks.

Jan

[1] http://www.ietf.org/internet-drafts/draft-ietf-atompub- 
protocol-08.txt

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6336<br>
Sender:Berend de Boer &lt;berend@...&gt;<br>
Post Date/Time:2006-06-26 00:44:17<br>
Subject:Re: [rest-discuss] Submitting binary and metadata in a single request<br>
Message:<br><br>
<pre>&gt;&gt;&gt;&gt;&gt; "Jan" == Jan Algermissen &lt;jalgermissen@...&gt; writes:

    Jan&gt; The only solution I see so far is a multipart form data
    Jan&gt; upload

Agree.

    Jan&gt; but I'd really like to avoid having this clutter up my
    Jan&gt; otherwise pretty consistent way of doing things in the system
    Jan&gt; I have to build. E.g.  I'd need to introduce te meaning of
    Jan&gt; the form fields to the client where it otherwise would just
    Jan&gt; POST the binary and then GET, modify and PUT the associated
    Jan&gt; entry XML data.

Not sure if I understood this. But what about a GET, based on the
guessed/determined media type which returns the applicable fields?

Next you fill in the fields as in "then GET, modify and PUT the
associated entry XML data."

And you submit this together with the binary as a multipart form.

I'm not sure why this is an issue for you. From the client it is just
supplying values for fields. That the result is encoded as multipart
form upload or send as a query string is a detail that the client can
be blissfully unaware of IMO.

-- 
Regards,

Berend. (-:

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6337<br>
Sender:"S. Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-06-26 05:04:26<br>
Subject:RE: [rest-discuss] Submitting binary and metadata in a single request<br>
Message:<br><br>
<pre>
&gt; The only solution I see so far is a multipart form data upload but 
&gt; I'd really like to avoid having this clutter up my otherwise pretty 
&gt; consistent way of doing things in the system I have to build.  
There are other multipart approaches with MIME than 'multipart/form-data'.
The 'multipart/form-data' results in an array of content blobs with headers
like 
 Content-Disposition: form-data; name="user"

You might try POSTing the content and metadata using the 'multipart/mixed'
or 'multipart/related' Content-Type. I haven't done the research to know
whether they are appropriate, but it's a place to start.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6338<br>
Sender:Paul James &lt;yahoogroups@...&gt;<br>
Post Date/Time:2006-06-26 07:11:31<br>
Subject:Re: [rest-discuss] Submitting binary and metadata in a single request<br>
Message:<br><br>
<pre>Jan,

How about thinking of the problem space as three related resources. One 
is your media data, one for your metadata, and one to represent your 
complete entry, tying the other two resources together. In that way the 
client can POST the data and metadata at leisure and then finalise the 
operation by creating the entry resource. The entry resource would just 
contain pointers (the URLs of) to the data and metadata. Would that be 
atomic enough for you?

Paul.

Jan Algermissen wrote:
&gt;
&gt; Hi,
&gt;
&gt; suppose I am writing a REST facade to a legacy system; one of the use
&gt; cases being the creation of entries that consist of arbitrary media
&gt; data and asociated metadata. One approach to do this is to first POST
&gt; the media data (and have the server return the created entry with the
&gt; link to the uploaded media data) and then to update the metadata with
&gt; a PUT on the entry.
&gt; (That is the approach Atom is taking, at least in APP v08[1])
&gt;
&gt; What if the legacy system requires the creation and metadata
&gt; assignment be done as an atomic operation, IOW if the entry cannot be
&gt; created in the absence of the metadata?
&gt;
&gt; The only solution I see so far is a multipart form data upload but
&gt; I'd really like to avoid having this clutter up my otherwise pretty
&gt; consistent way of doing things in the system I have to build. E.g.
&gt; I'd need to introduce te meaning of the form fields to the client
&gt; where it otherwise would just POST the binary and then GET, modify
&gt; and PUT the associated entry XML data.
&gt;
&gt; I have been thinking about a multipart POSTing of an entry XML
&gt; document right away with the content link pointing to the multipart
&gt; part that contains the binary data. I think the multipart specs does
&gt; license that, yes?
&gt;
&gt; I'd really apprechiate any thoughts on this matter, thanks.
&gt;
&gt; Jan
&gt;
&gt; [1] http://www.ietf.org/internet-drafts/draft-ietf-atompub- 
&gt; &lt;http://www.ietf.org/internet-drafts/draft-ietf-atompub-&gt;
&gt; protocol-08.txt
&gt;
&gt;  


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6339<br>
Sender:Chris Burdess &lt;dog@...&gt;<br>
Post Date/Time:2006-06-26 07:50:52<br>
Subject:Re: [rest-discuss] Submitting binary and metadata in a single request<br>
Message:<br><br>
<pre>S. Mike Dierken wrote:
&gt;&gt; The only solution I see so far is a multipart form data upload but
&gt;&gt; I'd really like to avoid having this clutter up my otherwise pretty
&gt;&gt; consistent way of doing things in the system I have to build.
&gt; There are other multipart approaches with MIME than 'multipart/form- 
&gt; data'.
&gt; The 'multipart/form-data' results in an array of content blobs with  
&gt; headers
&gt; like
&gt;  Content-Disposition: form-data; name="user"
&gt;
&gt; You might try POSTing the content and metadata using the 'multipart/ 
&gt; mixed'
&gt; or 'multipart/related' Content-Type. I haven't done the research to  
&gt; know
&gt; whether they are appropriate, but it's a place to start.

As Mike says multipart/related is the way to go, see RFC 2387.

If you are allergic to MIME multiparts for some reason, and depending  
on the complexity of your metadata another solution would be to use  
HTTP header extensions (X-* headers) for the metadata but these may  
not be preserved by non-transparent proxies so I don't think it's as  
clean a solution.
-- 
犬 Chris Burdess
   "They that can give up essential liberty to obtain a little safety
   deserve neither liberty nor safety." - Benjamin Franklin




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6340<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-06-26 13:36:26<br>
Subject:Re: [rest-discuss] Submitting binary and metadata in a single request<br>
Message:<br><br>
<pre>Hi Chris,

&gt; As Mike says multipart/related is the way to go, see RFC 2387.
&gt;

yes, that is what I thought. Thanks.

 From the RFC:

    "The relationships among the body parts of a compound object
    distinguishes it from other object types.  These relationships are
    often represented by links internal to the object's components that
    reference the other components.  Within a single operating
    environment the links are often file names, such links may be
    represented within a MIME message using content-IDs or the value of
    some other "Content-" headers."

The practical question arises, how does one reference from one body  
to the
other (including the case where we might have more than one of these
references).

Here is an example (along Atom lines):

Content-Type: Multipart/Related; boundary=myboundary
          type="application/xml"

--myboundary
Content-Type: application/xml
Content-ID: 1
&lt;Entry&gt;
   &lt;Title&gt;MyEntry&lt;/Title&gt;
   &lt;Content src="??"/&gt;
&lt;/Entry&gt;
--myboundary
Content-Type: application/pdf
Content-ID: 2

T2xkIE1hY0RvbmFsZCBoYWQgYSBmYXJtCkUgSS
BFIEkgTwpBbmQgb24gaGlzIGZhcm0gaGUgaGFk
IHNvbWUgZHVja3MKRSBJIEUgSSBPCldpdGggYS
BxdWFjayBxdWFjayBoZXJlLAphIHF1YWNrIHF1
YWNrIHRoZXJlLApldmVyeSB3aGVyZSBhIHF1YW
NrIHF1YWNrCkUgSSBFIEkgTwo=
--myboundary--

Any suggestions what to put into the src attribute to reference the  
second body part?
Is there a URI scheme that covers that use case?

Thanks.

Jan



&gt; If you are allergic to MIME multiparts for some reason, and  
&gt; depending on the complexity of your metadata another solution would  
&gt; be to use HTTP header extensions (X-* headers) for the metadata but  
&gt; these may not be preserved by non-transparent proxies so I don't  
&gt; think it's as clean a solution.
&gt; -- 
&gt; 犬 Chris Burdess
&gt;   "They that can give up essential liberty to obtain a little safety
&gt;   deserve neither liberty nor safety." - Benjamin Franklin
&gt;
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6341<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-06-26 14:17:17<br>
Subject:Re: [rest-discuss] Submitting binary and metadata in a single request<br>
Message:<br><br>
<pre>Chris,

that is great, thanks. I would never have found that I guess.

I'd never expected that this use case has been covered and I could solve
this sing standards. Amazing!

Jan


On Jun 26, 2006, at 4:10 PM, Chris Burdess wrote:

&gt; Jan Algermissen wrote:
&gt;&gt;&gt; As Mike says multipart/related is the way to go, see RFC 2387.
&gt;&gt;
&gt;&gt; yes, that is what I thought. Thanks.
&gt;&gt;
&gt;&gt;  From the RFC:
&gt;&gt;
&gt;&gt;     "The relationships among the body parts of a compound object
&gt;&gt;     distinguishes it from other object types.  These relationships  
&gt;&gt; are
&gt;&gt;     often represented by links internal to the object's components  
&gt;&gt; that
&gt;&gt;     reference the other components.  Within a single operating
&gt;&gt;     environment the links are often file names, such links may be
&gt;&gt;     represented within a MIME message using content-IDs or the  
&gt;&gt; value of
&gt;&gt;     some other "Content-" headers."
&gt;&gt;
&gt;&gt; The practical question arises, how does one reference from one body
&gt;&gt; to the
&gt;&gt; other (including the case where we might have more than one of these
&gt;&gt; references).
&gt;&gt;
&gt;&gt; Here is an example (along Atom lines):
&gt;&gt;
&gt;&gt; Content-Type: Multipart/Related; boundary=myboundary
&gt;&gt;           type="application/xml"
&gt;&gt;
&gt;&gt; --myboundary
&gt;&gt; Content-Type: application/xml
&gt;&gt; Content-ID: 1
&gt;&gt; &lt;Entry&gt;
&gt;&gt;    &lt;Title&gt;MyEntry&lt;/Title&gt;
&gt;&gt;    &lt;Content src="??"/&gt;
&gt;&gt; &lt;/Entry&gt;
&gt;&gt; --myboundary
&gt;&gt; Content-Type: application/pdf
&gt;&gt; Content-ID: 2
&gt;&gt;
&gt;&gt; T2xkIE1hY0RvbmFsZCBoYWQgYSBmYXJtCkUgSS
&gt;&gt; BFIEkgTwpBbmQgb24gaGlzIGZhcm0gaGUgaGFk
&gt;&gt; IHNvbWUgZHVja3MKRSBJIEUgSSBPCldpdGggYS
&gt;&gt; BxdWFjayBxdWFjayBoZXJlLAphIHF1YWNrIHF1
&gt;&gt; YWNrIHRoZXJlLApldmVyeSB3aGVyZSBhIHF1YW
&gt;&gt; NrIHF1YWNrCkUgSSBFIEkgTwo=
&gt;&gt; --myboundary--
&gt;&gt;
&gt;&gt; Any suggestions what to put into the src attribute to reference the
&gt;&gt; second body part?
&gt;&gt; Is there a URI scheme that covers that use case?
&gt;
&gt; The cid: URL scheme covers exactly this circumstance, see RFC 2111.
&gt; -- 
&gt; 犬 Chris Burdess
&gt;   "They that can give up essential liberty to obtain a little safety
&gt;   deserve neither liberty nor safety." - Benjamin Franklin
&gt;
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6342<br>
Sender:Chris Burdess &lt;dog@...&gt;<br>
Post Date/Time:2006-06-26 14:10:31<br>
Subject:Re: [rest-discuss] Submitting binary and metadata in a single request<br>
Message:<br><br>
<pre>Jan Algermissen wrote:
&gt;&gt; As Mike says multipart/related is the way to go, see RFC 2387.
&gt;
&gt; yes, that is what I thought. Thanks.
&gt;
&gt;  From the RFC:
&gt;
&gt;     "The relationships among the body parts of a compound object
&gt;     distinguishes it from other object types.  These relationships are
&gt;     often represented by links internal to the object's components  
&gt; that
&gt;     reference the other components.  Within a single operating
&gt;     environment the links are often file names, such links may be
&gt;     represented within a MIME message using content-IDs or the  
&gt; value of
&gt;     some other "Content-" headers."
&gt;
&gt; The practical question arises, how does one reference from one body
&gt; to the
&gt; other (including the case where we might have more than one of these
&gt; references).
&gt;
&gt; Here is an example (along Atom lines):
&gt;
&gt; Content-Type: Multipart/Related; boundary=myboundary
&gt;           type="application/xml"
&gt;
&gt; --myboundary
&gt; Content-Type: application/xml
&gt; Content-ID: 1
&gt; &lt;Entry&gt;
&gt;    &lt;Title&gt;MyEntry&lt;/Title&gt;
&gt;    &lt;Content src="??"/&gt;
&gt; &lt;/Entry&gt;
&gt; --myboundary
&gt; Content-Type: application/pdf
&gt; Content-ID: 2
&gt;
&gt; T2xkIE1hY0RvbmFsZCBoYWQgYSBmYXJtCkUgSS
&gt; BFIEkgTwpBbmQgb24gaGlzIGZhcm0gaGUgaGFk
&gt; IHNvbWUgZHVja3MKRSBJIEUgSSBPCldpdGggYS
&gt; BxdWFjayBxdWFjayBoZXJlLAphIHF1YWNrIHF1
&gt; YWNrIHRoZXJlLApldmVyeSB3aGVyZSBhIHF1YW
&gt; NrIHF1YWNrCkUgSSBFIEkgTwo=
&gt; --myboundary--
&gt;
&gt; Any suggestions what to put into the src attribute to reference the
&gt; second body part?
&gt; Is there a URI scheme that covers that use case?

The cid: URL scheme covers exactly this circumstance, see RFC 2111.
-- 
犬 Chris Burdess
   "They that can give up essential liberty to obtain a little safety
   deserve neither liberty nor safety." - Benjamin Franklin




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6343<br>
Sender:"S. Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-06-27 02:34:46<br>
Subject:RE: [rest-discuss] Submitting binary and metadata in a single request<br>
Message:<br><br>
<pre>Well, 'use cases' tend to come from use, and the Internet has been in use for quite a while now.

But you already knew that.
 
(Let us know how this turns out, sounds fun.)


&gt; -----Original Message-----
&gt; From: rest-discuss@yahoogroups.com 
&gt; [mailto:rest-discuss@yahoogroups.com] On Behalf Of Jan Algermissen
&gt; Sent: Monday, June 26, 2006 7:17 AM
&gt; To: Chris Burdess
&gt; Cc: REST Discuss
&gt; Subject: Re: [rest-discuss] Submitting binary and metadata in 
&gt; a single request
&gt; 
&gt; Chris,
&gt; 
&gt; that is great, thanks. I would never have found that I guess.
&gt; 
&gt; I'd never expected that this use case has been covered and I 
&gt; could solve this sing standards. Amazing!
&gt; 
&gt; Jan
&gt; 
&gt; 
&gt; On Jun 26, 2006, at 4:10 PM, Chris Burdess wrote:
&gt; 
&gt; &gt; Jan Algermissen wrote:
&gt; &gt;&gt;&gt; As Mike says multipart/related is the way to go, see RFC 2387.
&gt; &gt;&gt;
&gt; &gt;&gt; yes, that is what I thought. Thanks.
&gt; &gt;&gt;
&gt; &gt;&gt;  From the RFC:
&gt; &gt;&gt;
&gt; &gt;&gt;     "The relationships among the body parts of a compound object
&gt; &gt;&gt;     distinguishes it from other object types.  These relationships 
&gt; &gt;&gt; are
&gt; &gt;&gt;     often represented by links internal to the object's components 
&gt; &gt;&gt; that
&gt; &gt;&gt;     reference the other components.  Within a single operating
&gt; &gt;&gt;     environment the links are often file names, such links may be
&gt; &gt;&gt;     represented within a MIME message using content-IDs or 
&gt; the value 
&gt; &gt;&gt; of
&gt; &gt;&gt;     some other "Content-" headers."
&gt; &gt;&gt;
&gt; &gt;&gt; The practical question arises, how does one reference from 
&gt; one body 
&gt; &gt;&gt; to the other (including the case where we might have more 
&gt; than one of 
&gt; &gt;&gt; these references).
&gt; &gt;&gt;
&gt; &gt;&gt; Here is an example (along Atom lines):
&gt; &gt;&gt;
&gt; &gt;&gt; Content-Type: Multipart/Related; boundary=myboundary
&gt; &gt;&gt;           type="application/xml"
&gt; &gt;&gt;
&gt; &gt;&gt; --myboundary
&gt; &gt;&gt; Content-Type: application/xml
&gt; &gt;&gt; Content-ID: 1
&gt; &gt;&gt; &lt;Entry&gt;
&gt; &gt;&gt;    &lt;Title&gt;MyEntry&lt;/Title&gt;
&gt; &gt;&gt;    &lt;Content src="??"/&gt;
&gt; &gt;&gt; &lt;/Entry&gt;
&gt; &gt;&gt; --myboundary
&gt; &gt;&gt; Content-Type: application/pdf
&gt; &gt;&gt; Content-ID: 2
&gt; &gt;&gt;
&gt; &gt;&gt; T2xkIE1hY0RvbmFsZCBoYWQgYSBmYXJtCkUgSS
&gt; &gt;&gt; BFIEkgTwpBbmQgb24gaGlzIGZhcm0gaGUgaGFk
&gt; &gt;&gt; IHNvbWUgZHVja3MKRSBJIEUgSSBPCldpdGggYS
&gt; &gt;&gt; BxdWFjayBxdWFjayBoZXJlLAphIHF1YWNrIHF1
&gt; &gt;&gt; YWNrIHRoZXJlLApldmVyeSB3aGVyZSBhIHF1YW
&gt; &gt;&gt; NrIHF1YWNrCkUgSSBFIEkgTwo=
&gt; &gt;&gt; --myboundary--
&gt; &gt;&gt;
&gt; &gt;&gt; Any suggestions what to put into the src attribute to 
&gt; reference the 
&gt; &gt;&gt; second body part?
&gt; &gt;&gt; Is there a URI scheme that covers that use case?
&gt; &gt;
&gt; &gt; The cid: URL scheme covers exactly this circumstance, see RFC 2111.
&gt; &gt; --
&gt; &gt; 犬 Chris Burdess
&gt; &gt;   "They that can give up essential liberty to obtain a little safety
&gt; &gt;   deserve neither liberty nor safety." - Benjamin Franklin
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; 
&gt; 
&gt; 
&gt; ------------------------ Yahoo! Groups Sponsor 
&gt; --------------------~--&gt; Something is new at Yahoo! Groups.  
&gt; Check out the enhanced email design.
&gt; http://us.click.yahoo.com/SISQkA/gOaOAA/yQLSAA/W6uqlB/TM
&gt; --------------------------------------------------------------
&gt; ------~-&gt; 
&gt; 
&gt;  
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt;  
&gt; 
&gt; 
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6344<br>
Sender:=?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;bill@...&gt;<br>
Post Date/Time:2006-06-27 17:24:40<br>
Subject:Re: [rest-discuss] Submitting binary and metadata in a single request<br>
Message:<br><br>
<pre>Jan Algermissen wrote:
&gt; 
&gt; 
&gt; Hi,
&gt; 
&gt; suppose I am writing a REST facade to a legacy system; one of the use
&gt; cases being the creation of entries that consist of arbitrary media
&gt; data and asociated metadata. One approach to do this is to first POST
&gt; the media data (and have the server return the created entry with the
&gt; link to the uploaded media data) and then to update the metadata with
&gt; a PUT on the entry.
&gt; (That is the approach Atom is taking, at least in APP v08[1])
&gt; 
&gt; What if the legacy system requires the creation and metadata
&gt; assignment be done as an atomic operation, IOW if the entry cannot be
&gt; created in the absence of the metadata?

Form multipart with cid URLs. I've done this before. It'll work fine as 
long as the server can deconstruct the multipart correctly and your 
internal code can handle partially failures so that the client gets a 
clean "all or nothing went" response. The latter is trickier if you're 
going to send batches of meta+media in a single request.

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6345<br>
Sender:"Ron" &lt;tiltbike@...&gt;<br>
Post Date/Time:2006-07-13 11:14:17<br>
Subject:I'd be interested in this group's evaluation of Rails' REST direction.<br>
Message:<br><br>
<pre>DHH (main creator of Ruby on Rails) is taking Rails in a RESTful
direction. Here is his blog
&lt;http://www.loudthinking.com/arc/000593.html&gt;  , here is a (long)
keynote
&lt;http://blog.scribestudio.com/articles/2006/07/09/david-heinemeier-hanss\
on-railsconf-2006-keynote-address&gt;   he delivered at RailsConf 2006 a
few days ago.

For myself, I was tickled -- here I was working myself up to writing a
RESTy framework, but now I just need to compose my soul for the
roll-out.

Ron

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6346<br>
Sender:Jerome Louvel &lt;contact@...&gt;<br>
Post Date/Time:2006-07-13 12:17:01<br>
Subject:Re: I'd be interested in this group's evaluation of Rails' REST direction.<br>
Message:<br><br>
<pre>Ron wrote :
&gt; DHH (main creator of Ruby on Rails) is taking Rails in a RESTful 
&gt; direction. Here is his blog 
&gt; &lt;http://www.loudthinking.com/arc/000593.html&gt; , here is a (long) keynote 
&gt; &lt;http://blog.scribestudio.com/articles/2006/07/09/david-heinemeier-hansson-railsconf-2006-keynote-address&gt;  
&gt; he delivered at RailsConf 2006 a few days ago.

I wish the reference to REST was a bit more direct and clear. The term 
CRUD may be useful to help communicate the GET/POST/PUT/DELETE meaning, 
but the mapping isn't a one-to-one unfortunately. In REST/HTTP, creation 
can happen both after a POST and a PUT, so I'm afraid that if people 
blindly apply CRUD to HTTP as proposed by David H. Hansson, this will 
bring some confusion. But, essentially, it's a step in the right 
direction for Rails.

&gt; For myself, I was tickled -- here I was working myself up to writing a 
&gt; RESTy framework, but now I just need to compose my soul for the roll-out.

 From what I've seen in the blog post and the slides, I feel like there 
is still a lot of room for a fully RESTy framework... Have a look at 
what we are trying to do in Java at http://www.restlet.org

Thanks,
Jerome


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6347<br>
Sender:=?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;bill@...&gt;<br>
Post Date/Time:2006-07-13 13:35:12<br>
Subject:Re: [rest-discuss] I'd be interested in this group's evaluation of Rails' REST direction.<br>
Message:<br><br>
<pre>Ron wrote:
&gt; 
&gt; 
&gt; DHH (main creator of Ruby on Rails) is taking Rails in a RESTful 
&gt; direction. Here is his blog 
&gt; &lt;http://www.loudthinking.com/arc/000593.html&gt; , here is a (long) keynote 
&gt; &lt;http://blog.scribestudio.com/articles/2006/07/09/david-heinemeier-hansson-railsconf-2006-keynote-address&gt;  
&gt; he delivered at RailsConf 2006 a few days ago.
&gt; 

So, this is good news.  Rails is currently busted from a REST viewpoint 
- it's conventions are at odds with sound web design, and it's about 
time, frankly. I'm not holding out for retraction on that community's 
stance on technologies like GWA, but you never know.

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6348<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-07-13 15:10:36<br>
Subject:Re: [rest-discuss] I'd be interested in this group's evaluation of Rails' REST direction.<br>
Message:<br><br>
<pre>On 7/13/06, Bill de hra &lt;bill@...&gt; wrote:
&gt; Ron wrote:
&gt; &gt;
&gt; &gt;
&gt; &gt; DHH (main creator of Ruby on Rails) is taking Rails in a RESTful
&gt; &gt; direction. Here is his blog
&gt; &gt; &lt;http://www.loudthinking.com/arc/000593.html&gt; , here is a (long) keynote
&gt; &gt; &lt;http://blog.scribestudio.com/articles/2006/07/09/david-heinemeier-hansson-railsconf-2006-keynote-address&gt;
&gt; &gt; he delivered at RailsConf 2006 a few days ago.
&gt; &gt;
&gt;
&gt; So, this is good news.  Rails is currently busted from a REST viewpoint
&gt; - it's conventions are at odds with sound web design, and it's about
&gt; time, frankly. I'm not holding out for retraction on that community's
&gt; stance on technologies like GWA, but you never know.

Ditto.  Good to see.

I'm also mildy concerned about the use of "CRUD", because as Jerome
says, the mapping to uniform operations isn't one-to-one.  Labels have
a way of taking on a life of their own if you're not careful, so this
could come back to haunt the community.  But DHH seems to understand
the difference so hopefully the Rails APIs don't misrepresent the
uniform interface.

FWIW, CRUD was used a few years ago by Web services proponents to
describe REST interfaces and (from my POV) implicitly put it down.
Some of us pushed back and it seemed to die out though, but it was odd
to see it make a comeback as a *pro*-REST label.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6349<br>
Sender:"Stuart Holcombe" &lt;stuart_holcombe@...&gt;<br>
Post Date/Time:2006-07-13 15:54:04<br>
Subject:dotNET REST framework<br>
Message:<br><br>
<pre>Just wondering if anyone knows of a dotNET REST framework; perhaps one
similar to the Restlet (http://www.restlet.org/) framework.

/Stuart





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6350<br>
Sender:"Jonas Bengtsson" &lt;jonas.b@...&gt;<br>
Post Date/Time:2006-07-19 18:16:25<br>
Subject:Searching restfully<br>
Message:<br><br>
<pre>Hi all,

I'm just getting into this REST thing so please have some patience 
with my newbie level questions :-)

Say that I want to get a set of cars. It seems wrong to use the same 
"base" URI as when I get one car, i.e.:

GET /car/1  &lt;-- get car with id 1
GET /car  &lt;-- get all cars
GET /car?make=ferrari  &lt;-- get all ferraris

It seems like it's better to create a new resource, like this:

GET /cars &lt;-- get all cars
GET /cars?make=ferrari &lt;-- get all ferraris

Is that a better way to structure the resources? How do you normally 
do actions like searching?

In either case, the /car/ or /cars/ won't support the POST(?), PUT, 
DELETE verbs. Should all resources support all verbs to follow the 
REST style? (Wikipedia: "A set of well-defined operations that apply 
to all pieces of information (called resources)")

Cheers,
Jonas








</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6351<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-07-19 19:32:16<br>
Subject:Re: [rest-discuss] Searching restfully<br>
Message:<br><br>
<pre>Hi Jonas,

On Jul 19, 2006, at 8:16 PM, Jonas Bengtsson wrote:

&gt; Hi all,
&gt;
&gt; I'm just getting into this REST thing so please have some patience
&gt; with my newbie level questions :-)
Thez are all welcome, that is one of the purposes of this list!

&gt;
&gt; Say that I want to get a set of cars. It seems wrong to use the same
&gt; "base" URI as when I get one car, i.e.:
&gt;
&gt; GET /car/1 &lt;-- get car with id 1
&gt; GET /car &lt;-- get all cars
&gt; GET /car?make=ferrari &lt;-- get all ferraris
&gt;
&gt; It seems like it's better to create a new resource, like this:
&gt;
&gt; GET /cars &lt;-- get all cars
&gt; GET /cars?make=ferrari &lt;-- get all ferraris

Both approaches are fine from a REST POV. The latter is IMO more  
human friendly as it emphasizes the fact that we are dealing with a  
collection of cars. Indexing into the collection using a query string  
is good practice as is using the hierarchical structure of URIs to  
denote the individuals (or subclasses).
&gt;
&gt; Is that a better way to structure the resources? How do you normally
&gt; do actions like searching?
What you did looks just fine.

&gt;
&gt; In either case, the /car/ or /cars/ won't support the POST(?), PUT,
&gt; DELETE verbs. Should all resources support all verbs to follow the
&gt; REST style? (Wikipedia: "A set of well-defined operations that apply
&gt; to all pieces of information (called resources)")
&gt;
The resources need not implement the methods, but it is important  
that the uniform interface only consists of such methods that  
*conceptually* apply to all resources. E.g. it is ok to have a PATCH  
or MONITOR method but it would not be ok to have a SHIFT_GEAR method  
as there might be a lot of things that do not have gears.

HTH,
Jan


&gt; Cheers,
&gt; Jonas
&gt;
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6352<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2006-07-19 19:37:25<br>
Subject:Re: [rest-discuss] Searching restfully<br>
Message:<br><br>
<pre>
All of these identifiers are pretty good from a REST perspective.  The 
level of question you have is more on the level of business logic.  That 
is, /car?make=ferrari and /cars?make=ferrari are both absolutely fine.

About verbs, it is not necessary for all resources to support all verbs. 
I usually do something like:

switch($method){
case HEAD:
case GET:
    // print something and do a 200 return
   emit();
   break;

case POST:
    // handle form input
    process();
    emit();
    break;

default:
    // do a "method not supported" unless you are using DELETE, PUT, or TRACE.
}


t, what you'll find as you get into the RESTful way of doing things 
is that the choice of which verbs to implement, and what exactly that 
means, gives you a pretty large vocabulary to work with.

On Wed, 19 Jul 2006, Jonas Bengtsson wrote:

&gt; Hi all,
&gt;
&gt; I'm just getting into this REST thing so please have some patience
&gt; with my newbie level questions :-)
&gt;
&gt; Say that I want to get a set of cars. It seems wrong to use the same
&gt; "base" URI as when I get one car, i.e.:
&gt;
&gt; GET /car/1  &lt;-- get car with id 1
&gt; GET /car  &lt;-- get all cars
&gt; GET /car?make=ferrari  &lt;-- get all ferraris
&gt;
&gt; It seems like it's better to create a new resource, like this:
&gt;
&gt; GET /cars &lt;-- get all cars
&gt; GET /cars?make=ferrari &lt;-- get all ferraris
&gt;
&gt; Is that a better way to structure the resources? How do you normally
&gt; do actions like searching?
&gt;
&gt; In either case, the /car/ or /cars/ won't support the POST(?), PUT,
&gt; DELETE verbs. Should all resources support all verbs to follow the
&gt; REST style? (Wikipedia: "A set of well-defined operations that apply
&gt; to all pieces of information (called resources)")
&gt;
&gt; Cheers,
&gt; Jonas
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6353<br>
Sender:Michal Migurski &lt;mike-jsonphp@...&gt;<br>
Post Date/Time:2006-07-19 19:54:55<br>
Subject:RESTy Paging<br>
Message:<br><br>
<pre>Signal vs. Noise has a post today about endless scrolling:
	http://37signals.com/svn/archives2/no_more_more_pages.php

It's a whiz-bang sort of effect, where scrolling to the bottom of a  
list page triggers a JS-powered load of more list items. These are  
appended to the page, the scroll bar is adjusted to reflect the new  
height of the page, and you can keep scrolling down for more. This is  
in contrast to the traditional "Page 2" / "See Next n Items" method  
of advancing the list.

It's quite anti-REST, but it got me thinking about how the  
traditional numbered-page method also breaks with REST. My feeling is  
that the URL should point to a consistent resource, which changes in  
a paged environment. Page 2 means one thing one day, something else  
on another, depending on what new items have been added to the list  
in the meantime.

I can think of two ways to change this:

Instead of using page numbers, use item identifiers. The permanent  
URL for a set of items wouldn't change.

Instead of numbering from the most recent, number from the oldest.  
Page 1 will always have the same set of oldest items, while the page  
number for the newest items will grow indefinitely. Of course this  
only works if there is a clear beginning to things.

Thoughts?
-mike.

----------------------------------------------------------------
michal migurski- contact info and pgp key:
sf/ca            http://mike.teczno.com/contact.html




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6354<br>
Sender:Paul Jimenez &lt;pj@...&gt;<br>
Post Date/Time:2006-07-19 20:16:09<br>
Subject:Re: [rest-discuss] RESTy Paging<br>
Message:<br><br>
<pre>
I don't think paging breaks REST - rather, I think that it's just a
default value of part of the query string. One system I helped architect
made sure all 'container' URIs supported 'start' and 'count' parameters,
so that /itemlist?start=50&amp;count=10 showed 10 items starting at number
50. /itemlist alone would then be the same as /itemlist?start=0&amp;count=10.

  --pj

On Wednesday, Jul 19, 2006, Michal Migurski writes:
&gt;Signal vs. Noise has a post today about endless scrolling:
&gt;	http://37signals.com/svn/archives2/no_more_more_pages.php
&gt;
&gt;It's a whiz-bang sort of effect, where scrolling to the bottom of a  
&gt;list page triggers a JS-powered load of more list items. These are  
&gt;appended to the page, the scroll bar is adjusted to reflect the new  
&gt;height of the page, and you can keep scrolling down for more. This is  
&gt;in contrast to the traditional "Page 2" / "See Next n Items" method  
&gt;of advancing the list.
&gt;
&gt;It's quite anti-REST, but it got me thinking about how the  
&gt;traditional numbered-page method also breaks with REST. My feeling is  
&gt;that the URL should point to a consistent resource, which changes in  
&gt;a paged environment. Page 2 means one thing one day, something else  
&gt;on another, depending on what new items have been added to the list  
&gt;in the meantime.
&gt;
&gt;I can think of two ways to change this:
&gt;
&gt;Instead of using page numbers, use item identifiers. The permanent  
&gt;URL for a set of items wouldn't change.
&gt;
&gt;Instead of numbering from the most recent, number from the oldest.  
&gt;Page 1 will always have the same set of oldest items, while the page  
&gt;number for the newest items will grow indefinitely. Of course this  
&gt;only works if there is a clear beginning to things.
&gt;
&gt;Thoughts?
&gt;-mike.
&gt;
&gt;----------------------------------------------------------------
&gt;michal migurski- contact info and pgp key:
&gt;sf/ca            http://mike.teczno.com/contact.html
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; 
&gt;Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt; 
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6355<br>
Sender:Paul James &lt;yahoogroups@...&gt;<br>
Post Date/Time:2006-07-19 20:19:31<br>
Subject:Re: [rest-discuss] RESTy Paging<br>
Message:<br><br>
<pre>Hi Michal,

I don't agree, as new items are added, the meaning of the resource 
doesn't change, "http://example.org/list?page=2" is always the second 
page of the items in the list "http://example.org/list". Yes the items 
within page 2 of the list change, but the meaning of the resource, "the 
current items on page two", is constant.

It's similar to a "current price of stock X" resource, the content 
changes over time, but the meaning of the resource is constant.

Paul.

Michal Migurski wrote:
&gt;
&gt; Signal vs. Noise has a post today about endless scrolling:
&gt; http://37signals.com/svn/archives2/no_more_more_pages.php 
&gt; &lt;http://37signals.com/svn/archives2/no_more_more_pages.php&gt;
&gt;
&gt; It's a whiz-bang sort of effect, where scrolling to the bottom of a
&gt; list page triggers a JS-powered load of more list items. These are
&gt; appended to the page, the scroll bar is adjusted to reflect the new
&gt; height of the page, and you can keep scrolling down for more. This is
&gt; in contrast to the traditional "Page 2" / "See Next n Items" method
&gt; of advancing the list.
&gt;
&gt; It's quite anti-REST, but it got me thinking about how the
&gt; traditional numbered-page method also breaks with REST. My feeling is
&gt; that the URL should point to a consistent resource, which changes in
&gt; a paged environment. Page 2 means one thing one day, something else
&gt; on another, depending on what new items have been added to the list
&gt; in the meantime.
&gt;
&gt; I can think of two ways to change this:
&gt;
&gt; Instead of using page numbers, use item identifiers. The permanent
&gt; URL for a set of items wouldn't change.
&gt;
&gt; Instead of numbering from the most recent, number from the oldest.
&gt; Page 1 will always have the same set of oldest items, while the page
&gt; number for the newest items will grow indefinitely. Of course this
&gt; only works if there is a clear beginning to things.
&gt;
&gt; Thoughts?
&gt; -mike.
&gt;
&gt; ----------------------------------------------------------
&gt; michal migurski- contact info and pgp key:
&gt; sf/ca http://mike.teczno.com/contact.html 
&gt; &lt;http://mike.teczno.com/contact.html&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6356<br>
Sender:"Justin T. Sampson" &lt;justin@...&gt;<br>
Post Date/Time:2006-07-19 20:24:02<br>
Subject:Re: [rest-discuss] Searching restfully<br>
Message:<br><br>
<pre>On 7/19/06, Jonas Bengtsson &lt;jonas.b@...&gt; wrote:

&gt; Say that I want to get a set of cars. It seems wrong to use the
&gt; same "base" URI as when I get one car, i.e.:
&gt;
&gt; GET /car/1  &lt;-- get car with id 1
&gt; GET /car  &lt;-- get all cars
&gt; GET /car?make=ferrari  &lt;-- get all ferraris
&gt;
&gt; It seems like it's better to create a new resource, like this:
&gt;
&gt; GET /cars &lt;-- get all cars
&gt; GET /cars?make=ferrari &lt;-- get all ferraris
&gt;
&gt; Is that a better way to structure the resources? How do you
&gt; normally do actions like searching?

My own preference would be to use /cars/ for the collection and
/cars/123 for a particular car, enjoying the conceptual hierarchy.
But it's totally a personal style thing. I don't think REST itself
says anything about URL hierarchies, except to say that client
code should not depend on any particular structure, even if you do
define one. It's just a matter of human understanding and
convenience.

Cheers,
Justin

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6357<br>
Sender:"Justin T. Sampson" &lt;justin@...&gt;<br>
Post Date/Time:2006-07-19 20:37:30<br>
Subject:Re: [rest-discuss] RESTy Paging<br>
Message:<br><br>
<pre>On 7/19/06, Paul James &lt;yahoogroups@...&gt; wrote:

&gt; I don't agree, as new items are added, the meaning of the
&gt; resource doesn't change, "http://example.org/list?page=2" is
&gt; always the second page of the items in the list
&gt; "http://example.org/list". Yes the items within page 2 of the
&gt; list change, but the meaning of the resource, "the current items
&gt; on page two", is constant.

Yeah. The Rico library[1] has an Ajax widget for scrolling like
this, which puts a scrollbar on an HTML table. When the user first
loads the page, they get the first "page" of results, with a
scrollbar properly sized to the entire list. As the user operates
the scrollbar, JavaScript code in the page requests additional
results from the server using GET, and caches a few "pages" worth
at a time. It's all just fine from a REST standpoint; the original
page has its own URL, and comes with code instructing the client
on how to retrieve related data, using URL query parameters like
'offset' and 'page_size'.

[1] http://www.openrico.org/

Cheers,
Justin

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6358<br>
Sender:"Fred Laurent" &lt;fl@...&gt;<br>
Post Date/Time:2006-07-27 07:53:32<br>
Subject:[chapter 5 - Rest] French Translation Available<br>
Message:<br><br>
<pre>
Hello

I'm very pleased to announce the translation of the "chapter 
5 : Representational State Transfer (REST)" from the Roy Thomas
Fielding dissertation into french.

original document :
http://www.ics.uci.edu/%7Efielding/pubs/dissertation/rest_arch_style.htm

French translation :
http://opikanoba.org/tr/fielding/rest/

best regards

Frdric Laurent
http://www.opikanoba.org







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6359<br>
Sender:Scott Chapman &lt;scott_list@...&gt;<br>
Post Date/Time:2006-08-01 20:17:45<br>
Subject:Is it OK to have two URL's for GET's - one for a list of items and one for single items?<br>
Message:<br><br>
<pre>I'm considering making different URL's for retrieval of a list of sites vs.
one site (sites are actual locations on the ground in my scenario):

List of sites: http://www.../sites?name1=value1&amp;name2=value2
Single site: http://www.../site/2

Is this considered Ok for good REST development or should the "sites" (plural)
URL be used in all cases?

I am considering this because the implementation on the server side would be
cleaner, having separate "pages" for list vs. single site returns.  I'd like
to know what people think of this.

I'm new to RESTful design.  Please let me know what the pro's and con's are of
doing it this way from a design perspective.

Thanks!
Scott





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6360<br>
Sender:"Justin T. Sampson" &lt;justin@...&gt;<br>
Post Date/Time:2006-08-01 21:31:00<br>
Subject:Re: [rest-discuss] Is it OK to have two URL's for GET's - one for a list of items and one for single items?<br>
Message:<br><br>
<pre>Hi Scott,

The same question came up a couple weeks ago -- you'll find several
different opinions. But all were agreed that REST itself doesn't
suggest one or the other approach, as long as client code is not
hard-coded with knowledge of any chosen structure. So it's just a
matter of human understanding. My own preference is for &lt;/sites/&gt;
(including trailing slash) and &lt;/sites/2&gt; (using the plural), treating
"sites" as a kind of virtual folder. The implementation approach I use
lets me differentiate those however I want, so they are separate
"pages" regardless.

Cheers,
Justin


On 8/1/06, Scott Chapman &lt;scott_list@...&gt; wrote:

&gt; I'm considering making different URL's for retrieval of a list of sites vs.
&gt; one site (sites are actual locations on the ground in my scenario):
&gt;
&gt; List of sites: http://www.../sites?name1=value1&amp;name2=value2
&gt; Single site: http://www.../site/2
&gt;
&gt; Is this considered Ok for good REST development or should the "sites" (plural)
&gt; URL be used in all cases?
&gt;
&gt; I am considering this because the implementation on the server side would be
&gt; cleaner, having separate "pages" for list vs. single site returns. I'd like
&gt; to know what people think of this.
&gt;
&gt; I'm new to RESTful design. Please let me know what the pro's and con's are of
&gt; doing it this way from a design perspective.
&gt;
&gt; Thanks!
&gt; Scott

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6361<br>
Sender:"S. Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-08-02 04:36:38<br>
Subject:RE: [rest-discuss] Is it OK to have two URL's for GET's - one for a list of items and one for single items?<br>
Message:<br><br>
<pre>I think he was asking not only for a resource that is a collection, but also
the client providing an explicit list of data elements to return.
Although I haven't thought about it deeply, I would strongly recommend two
distinct URIs - one for the single data element and one for the collection
of data.


&gt; -----Original Message-----
&gt; From: rest-discuss@yahoogroups.com 
&gt; [mailto:rest-discuss@yahoogroups.com] On Behalf Of Justin T. Sampson
&gt; Sent: Tuesday, August 01, 2006 2:31 PM
&gt; To: rest-discuss@yahoogroups.com
&gt; Subject: Re: [rest-discuss] Is it OK to have two URL's for 
&gt; GET's - one for a list of items and one for single items?
&gt; 
&gt; Hi Scott,
&gt; 
&gt; The same question came up a couple weeks ago -- you'll find 
&gt; several different opinions. But all were agreed that REST 
&gt; itself doesn't suggest one or the other approach, as long as 
&gt; client code is not hard-coded with knowledge of any chosen 
&gt; structure. So it's just a matter of human understanding. My 
&gt; own preference is for &lt;/sites/&gt; (including trailing slash) 
&gt; and &lt;/sites/2&gt; (using the plural), treating "sites" as a kind 
&gt; of virtual folder. The implementation approach I use lets me 
&gt; differentiate those however I want, so they are separate 
&gt; "pages" regardless.
&gt; 
&gt; Cheers,
&gt; Justin
&gt; 
&gt; 
&gt; On 8/1/06, Scott Chapman &lt;scott_list@...&gt; wrote:
&gt; 
&gt; &gt; I'm considering making different URL's for retrieval of a 
&gt; list of sites vs.
&gt; &gt; one site (sites are actual locations on the ground in my scenario):
&gt; &gt;
&gt; &gt; List of sites: http://www.../sites?name1=value1&amp;name2=value2
&gt; &gt; Single site: http://www.../site/2
&gt; &gt;
&gt; &gt; Is this considered Ok for good REST development or should 
&gt; the "sites" 
&gt; &gt; (plural) URL be used in all cases?
&gt; &gt;
&gt; &gt; I am considering this because the implementation on the server side 
&gt; &gt; would be cleaner, having separate "pages" for list vs. single site 
&gt; &gt; returns. I'd like to know what people think of this.
&gt; &gt;
&gt; &gt; I'm new to RESTful design. Please let me know what the 
&gt; pro's and con's 
&gt; &gt; are of doing it this way from a design perspective.
&gt; &gt;
&gt; &gt; Thanks!
&gt; &gt; Scott
&gt; 
&gt; 
&gt;  
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt;  
&gt; 
&gt; 
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6362<br>
Sender:Sebastian Stein &lt;seb_stein@...&gt;<br>
Post Date/Time:2006-08-02 15:38:09<br>
Subject:Again authentication<br>
Message:<br><br>
<pre>Hi,


I know it is a repeating topic how to correctly authenticate a client to a
REST interface. Please first note, if I talk about client I do not mean
browser, but instead another application calling the REST interface by http.

To make the discussion not too abstract a small example. Consider a server
providing some kind of document repository. Each user can download documents
(GET) or upload new documents (POST). To download a document it is necessary
to check if the user has permissions to the document. Getting a document
should look like this:

HTTP GET to http://../document/123

Now, from what I have read cookies should be no option and I agree on that.
Another idea is that there is a special login interface, which returns a
TOKEN for further requests. In such a case the above request would change to
something like:

HTTP GET to http://../document/123/TOKEN

The disadvantage is that now the URL can not be bookmarked or exchanged
among users anymore, because the TOKEN will be invalid for another user.

Another often cited method is to use HTTP auth (basic or digest). But this
is no option, if access rights are not handled by the application server but
inside the application.

So the perfect solution would be that the client sends each time
username/password along with the http request, but without adding this to
the URL. Can this be done, let's say can I just add some individual HTTP
headers or is there a better way to do it?


Sebastian




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6363<br>
Sender:Miguel Covas O'Ryan &lt;miguel.covas@...&gt;<br>
Post Date/Time:2006-08-02 18:40:27<br>
Subject:Re: [rest-discuss] Again authentication<br>
Message:<br><br>
<pre>Hi Sebastian,

We have a (very) little experience in providing web services as a  
finantial institution. We provide services to
other financial institutions. We have set up a quite RESTful  
interface to POST orders to buy/sell mutual funds.
They can GET a list of orders or a particular order with its current  
status.

Of course we have to authenticate the remote user (or client  
application) to ascertain its access rights.

Well, we use basic authentication in which they set up a proper HTTP  
Header from which we retrieve a user/password
pair. This is not perfect of course, but it works. We are using  
private networks (VPN over Internet, leased lines, ISDN, etc.)
but the underlying is the same. We use https and Internet in some  
cases. The fact is that we have an agreement with
our institutional customers (On the other hand they have been using  
plain telnet applications with us for years, again
over private networks...)

They seem to be happy with the solution. It seems that they were able  
to start using the service in weeks.

Now, some of them use perl scripts, others use java programs. In both  
cases they can easily set up
headers. The following java code can be used to set up basic  
authentication headers (avoiding Authenticator object)

         String credentials = username + ":" + passwd ;
         String encoded = new sun.misc.BASE64Encoder().encode 
(credentials.getBytes());

         URL webService = new URL(url); // url is http://someservice....
         URLConnection  conn0 = webService.openConnection() ;
         conn0.setRequestProperty("Authorization", "Basic " + encoded);

        HttpURLConnection  conn = (HttpURLConnection) conn0 ;
         conn.connect();

Of course the hard work is on the part of the service. We have to  
retrieve the user/password, return a 401 response
if there is no pair, return a 404 if the resource is not there (or if  
they have no access rights), 403 if the URL is not
accesible, 200 if we send some  resource representation, a 201 if the  
POST of an order is successful, etc.

We can discuss about opaqueness or transparency of the URL, adequacy  
of the representation of resources,
etc. but this is not the point. The fact is that we have a dozen of  
finantial institutions using this service, this
authorization schema and that they do not complain...

I hope that our little experience gives you some hints about how to  
approach your solution

Regards,

Miguel Covas


El 02/08/2006, a las 17:38, Sebastian Stein escribi:

&gt; Hi,
&gt;
&gt;
&gt; I know it is a repeating topic how to correctly authenticate a  
&gt; client to a
&gt; REST interface. Please first note, if I talk about client I do not  
&gt; mean
&gt; browser, but instead another application calling the REST interface  
&gt; by http.
&gt;
&gt; To make the discussion not too abstract a small example. Consider a  
&gt; server
&gt; providing some kind of document repository. Each user can download  
&gt; documents
&gt; (GET) or upload new documents (POST). To download a document it is  
&gt; necessary
&gt; to check if the user has permissions to the document. Getting a  
&gt; document
&gt; should look like this:
&gt;
&gt; HTTP GET to http://../document/123
&gt;
&gt; Now, from what I have read cookies should be no option and I agree  
&gt; on that.
&gt; Another idea is that there is a special login interface, which  
&gt; returns a
&gt; TOKEN for further requests. In such a case the above request would  
&gt; change to
&gt; something like:
&gt;
&gt; HTTP GET to http://../document/123/TOKEN
&gt;
&gt; The disadvantage is that now the URL can not be bookmarked or  
&gt; exchanged
&gt; among users anymore, because the TOKEN will be invalid for another  
&gt; user.
&gt;
&gt; Another often cited method is to use HTTP auth (basic or digest).  
&gt; But this
&gt; is no option, if access rights are not handled by the application  
&gt; server but
&gt; inside the application.
&gt;
&gt; So the perfect solution would be that the client sends each time
&gt; username/password along with the http request, but without adding  
&gt; this to
&gt; the URL. Can this be done, let's say can I just add some individual  
&gt; HTTP
&gt; headers or is there a better way to do it?
&gt;
&gt;
&gt; Sebastian
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;



CAMBIO de DIRECCIONES de CORREO-E
Rogamos actualice su agenda de direcciones de correo electrnico. Todas las
direcciones de correo del dominio "@..." cambian a "@rbcdexia-is.es"

E-MAIL ADDRESSES are CHANGING
Be advised that all the e-mail addresses from the domain "@..."
are changing to "@rbcdexia-is.es".Please update your e-mail addresses.

AVISO LEGAL
Este mensaje de correo electrnico y sus documentos adjuntos estn dirigidos
exclusivamente a los destinatarios especificados. Puede contener informacin
confidencial o legalmente protegida. No hay renuncia a la confidencialidad o
privilegio por cualquier transmisin errnea. Si usted no es el destinatario
indicado, le rogamos que lo elimine y se lo comunique al remitente. No debe,
directa o indirectamente, usar, revelar, distribuir, imprimir o copiar 
ninguna de las partes de este mensaje. Si siendo destinatario de este 
mensaje no consintiera el uso de correo electrnico, rogamos nos lo 
comunique inmediatamente.
RBCDexia Investor Services E,S.A. y sus filiales no sern responsables de las
opiniones o informaciones incluidas en este mensaje salvo cuando el remitente est 
autorizado para establecer que dichas opiniones proceden de RBCDexia Investor
Services ,S.A.  y sus filiales.

DISCLAIMER
Addressee/s identified herein. It may contain confidential or legally 
privileged information. No confidentiality privilege is waived or lost
by any mistransmission. If you are not the intended recipient, please
immediately delete it and notify the sender. You must not, directly or
indirectly, disclose, distribute, print, or copy any part of this message.
If you are the addressee of this message and do not consent to the use of
e-mail, please communicate it to us immediately. RBCDexia Investor Services
S.A. and its subsidiaries are not responsible for the opinions or information
included in this message except when the sender is authorised to state them to
 be the views of RBCDexia Investor Services, S.A. and its subsidiaries.




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6364<br>
Sender:Sebastian Stein &lt;seb_stein@...&gt;<br>
Post Date/Time:2006-08-02 19:54:23<br>
Subject:Re: [rest-discuss] Again authentication<br>
Message:<br><br>
<pre>Michal Migurski &lt;mike@...&gt; [060802 21:41]:
&gt; &gt;Another often cited method is to use HTTP auth (basic or digest).  
&gt; &gt;But this
&gt; &gt;is no option, if access rights are not handled by the application  
&gt; &gt;server but
&gt; &gt;inside the application.
&gt; 
&gt; Can you explain? I've found it pretty easy to generate the same  
&gt; authentication headers from application code and webserver  
&gt; configurations. I've done this in PHP, Python, and CGI without too  
&gt; much difficulty. Seems like a no-brainer choice.

I think it is not the problem to generate HTTP auth, but to handle it. But I
might be wrong. On the server side I have a Tomcat handling the requests in
a servlet derived from HttpServlet. There I have a HttpServletRequest object
representing the HTTP request. My understanding so far was that HTTP auth is
handled before I get the chance to react upon it in my servlet. I thought
that the servlet container (Tomcat) handles HTTP auth before it calls my
servlet.

Sebastian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6365<br>
Sender:Sebastian Stein &lt;seb_stein@...&gt;<br>
Post Date/Time:2006-08-02 19:50:05<br>
Subject:Re: [rest-discuss] Again authentication<br>
Message:<br><br>
<pre>Miguel Covas O'Ryan &lt;miguel.covas@...&gt; [060802 21:41]:
&gt; We have a (very) little experience in providing web services as a  
&gt; finantial institution. We provide services to
&gt; other financial institutions. We have set up a quite RESTful  
&gt; interface to POST orders to buy/sell mutual funds.
&gt; They can GET a list of orders or a particular order with its current  
&gt; status.
&gt;
&gt; ...

Thanks for this lengthy description of your experience. I think it is the
way I intended to go. I will first again check if HTTP auth might work, but
if it gets too complicated, I will do it as you suggested!

Many thanks,


Sebastian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6366<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2006-08-02 20:10:02<br>
Subject:Re: [rest-discuss] Again authentication<br>
Message:<br><br>
<pre>Tomcat gives several options for implementing and patching in your
own notion of "realm".  Check the tomcat docs.  Should be no problem.
:
: I think it is not the problem to generate HTTP auth, but to handle it. But 
I
: might be wrong. On the server side I have a Tomcat handling the requests 
in
: a servlet derived from HttpServlet. There I have a HttpServletRequest 
object
: representing the HTTP request. My understanding so far was that HTTP auth 
is
: handled before I get the chance to react upon it in my servlet. I thought
: that the servlet container (Tomcat) handles HTTP auth before it calls my
: servlet.
:
: Sebastian
:
:
: __________ NOD32 1.1689 (20060802) Information __________
:
: This message was checked by NOD32 antivirus system.
: http://www.eset.com
:
: 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6367<br>
Sender:Miguel Covas O'Ryan &lt;miguel.covas@...&gt;<br>
Post Date/Time:2006-08-02 20:16:38<br>
Subject:Re: [rest-discuss] Again authentication<br>
Message:<br><br>
<pre>
El 02/08/2006, a las 21:54, Sebastian Stein escribi:
&gt;
&gt; I think it is not the problem to generate HTTP auth, but to handle  
&gt; it. But I
&gt; might be wrong. On the server side I have a Tomcat handling the  
&gt; requests in
&gt; a servlet derived from HttpServlet. There I have a  
&gt; HttpServletRequest object
&gt; representing the HTTP request. My understanding so far was that  
&gt; HTTP auth is
&gt; handled before I get the chance to react upon it in my servlet. I  
&gt; thought
&gt; that the servlet container (Tomcat) handles HTTP auth before it  
&gt; calls my
&gt; servlet.
&gt;
&gt; Sebastian

Perhaps the discussion is going off topic, but anyway, as far as I know
you can always retrieve the user / password even the Tomcat is  
handling the headers.
You can either configure Tomcat to validate the user against, say, a  
LDAP directory, then
if it passes the filter you can still retrieve the user and then  
evaluate her rights based upon
your application or you can configure Tomcat to skip filtering that  
particular URL. Then
again, you retrieve the user / password pair and validate it  
yourself. As a matter of fact
we use the last approach since we use the LDAP directory to store the  
access rights of
the Web Service users (in the form of group membership).

If you are interested I can give some hints about how we have  
configured Tomcat
(out of this discussion if you don't mind)

CAMBIO de DIRECCIONES de CORREO-E
Rogamos actualice su agenda de direcciones de correo electrnico. Todas las
direcciones de correo del dominio "@..." cambian a "@..."

E-MAIL ADDRESSES are CHANGING
Be advised that all the e-mail addresses from the domain "@..."
are changing to "@...".Please update your e-mail addresses.

AVISO LEGAL
Este mensaje de correo electrnico y sus documentos adjuntos estn dirigidos
exclusivamente a los destinatarios especificados. Puede contener informacin
confidencial o legalmente protegida. No hay renuncia a la confidencialidad o
privilegio por cualquier transmisin errnea. Si usted no es el destinatario
indicado, le rogamos que lo elimine y se lo comunique al remitente. No debe,
directa o indirectamente, usar, revelar, distribuir, imprimir o copiar 
ninguna de las partes de este mensaje. Si siendo destinatario de este 
mensaje no consintiera el uso de correo electrnico, rogamos nos lo 
comunique inmediatamente.
RBCDexia Investor Services E,S.A. y sus filiales no sern responsables de las
opiniones o informaciones incluidas en este mensaje salvo cuando el remitente est 
autorizado para establecer que dichas opiniones proceden de RBCDexia Investor
Services ,S.A.  y sus filiales.

DISCLAIMER
Addressee/s identified herein. It may contain confidential or legally 
privileged information. No confidentiality privilege is waived or lost
by any mistransmission. If you are not the intended recipient, please
immediately delete it and notify the sender. You must not, directly or
indirectly, disclose, distribute, print, or copy any part of this message.
If you are the addressee of this message and do not consent to the use of
e-mail, please communicate it to us immediately. RBCDexia Investor Services
S.A. and its subsidiaries are not responsible for the opinions or information
included in this message except when the sender is authorised to state them to
 be the views of RBCDexia Investor Services, S.A. and its subsidiaries.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6368<br>
Sender:"John Panzer" &lt;jpanzer@...&gt;<br>
Post Date/Time:2006-08-02 20:15:25<br>
Subject:Re: [rest-discuss] Again authentication<br>
Message:<br><br>
<pre>

Sebastian Stein wrote on 8/2/2006, 12:54 PM:

 &gt; Michal Migurski &lt;mike@...&gt; [060802 21:41]:
 &gt; &gt; &gt;Another often cited method is to use HTTP auth (basic or digest).
 &gt; &gt; &gt;But this
 &gt; &gt; &gt;is no option, if access rights are not handled by the application
 &gt; &gt; &gt;server but
 &gt; &gt; &gt;inside the application.
 &gt; &gt;
 &gt; &gt; Can you explain? I've found it pretty easy to generate the same
 &gt; &gt; authentication headers from application code and webserver
 &gt; &gt; configurations. I've done this in PHP, Python, and CGI without too
 &gt; &gt; much difficulty. Seems like a no-brainer choice.
 &gt;
 &gt; I think it is not the problem to generate HTTP auth, but to handle it.
 &gt; But I
 &gt; might be wrong. On the server side I have a Tomcat handling the
 &gt; requests in
 &gt; a servlet derived from HttpServlet. There I have a HttpServletRequest
 &gt; object
 &gt; representing the HTTP request. My understanding so far was that HTTP
 &gt; auth is
 &gt; handled before I get the chance to react upon it in my servlet. I thought
 &gt; that the servlet container (Tomcat) handles HTTP auth before it calls my
 &gt; servlet.

I believe it can be configured either way, and potentially differently 
depending on the URL path.  Our application handles all authentication 
inside Tomcat except for certain paths, for example.

John




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6369<br>
Sender:"Justin T. Sampson" &lt;justin@...&gt;<br>
Post Date/Time:2006-08-02 20:52:55<br>
Subject:Re: [rest-discuss] Again authentication<br>
Message:<br><br>
<pre>On 8/2/06, Sebastian Stein &lt;seb_stein@...&gt; wrote:

&gt; Another often cited method is to use HTTP auth (basic or
&gt; digest). But this is no option, if access rights are not handled
&gt; by the application server but inside the application.

HTTP Basic auth is definitely the way to go. If your framework
doesn't help you, in the worst case you can just read and parse
the Authorization header yourself -- I did that myself recently
for a Java-based Web service. It's really a very simple protocol.

Cheers,
Justin

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6370<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-08-03 06:54:42<br>
Subject:Re: [rest-discuss] Again authentication<br>
Message:<br><br>
<pre>&gt;  I know it is a repeating topic how to correctly authenticate a client to a
&gt;  REST interface. Please first note, if I talk about client I do not mean
&gt;  browser, but instead another application calling the REST interface by http.
&gt;
&gt;  To make the discussion not too abstract a small example. Consider a server
&gt;  providing some kind of document repository. Each user can download documents
&gt;  (GET) or upload new documents (POST).
Any reason why not PUT?




&gt;  Another often cited method is to use HTTP auth (basic or digest). But this
&gt;  is no option, if access rights are not handled by the application server but
&gt;  inside the application.

We've implemented just that using C# and Java restlets.
Gives normal client login.


&gt;
&gt;  So the perfect solution would be that the client sends each time
&gt;  username/password along with the http request, but without adding this to
&gt;  the URL. Can this be done, let's say can I just add some individual HTTP
&gt;  headers or is there a better way to do it?

We've done it as part of the application responding to the GET or PUT.


HTH

-- 
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6371<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2006-08-03 14:21:51<br>
Subject:Re: [rest-discuss] Again authentication<br>
Message:<br><br>
<pre>Justin T. Sampson wrote:

 &gt; On 8/2/06, Sebastian Stein &lt;seb_stein@...&gt; wrote:
 &gt;
 &gt;
 &gt;&gt; Another often cited method is to use HTTP auth (basic or
 &gt;&gt; digest). But this is no option, if access rights are not handled
 &gt;&gt; by the application server but inside the application.
 &gt;
 &gt;
 &gt;
 &gt; HTTP Basic auth is definitely the way to go.


HTTP Basic offers zero security unless encryption is coming from 
somewhere else (SSL). HTTP Digest is the way to go if you aren't going 
over a secure connection.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6372<br>
Sender:"jm04469" &lt;james@...&gt;<br>
Post Date/Time:2006-08-04 12:18:08<br>
Subject:Survey on Enterprise Architecture and Software Development<br>
Message:<br><br>
<pre>I am conducting research into the practices of enterprise architecture
and software development and would love your participation. The URL to
the survey is: http://www.surveymonkey.com/s.asp?u=845572436515 The
results of the survey are displayed after completion.

Ideally, I would love to get 500 respondents by August 8th. I will be
making a small donation to the Juvenile Diabetes Research Foundation
(www.jdrf.org) if the community assists in this goal.

Cheers

http://duckdown.blogspot.com








</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6373<br>
Sender:Scott Chapman &lt;scott_list@...&gt;<br>
Post Date/Time:2006-08-05 16:58:22<br>
Subject:How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>If hitting a URL with GET is supposed to give you a view of the resource and 
it's not a form by default, then how to do you get a &lt;form...&gt; view of it for 
editing?

The same applies to getting a blank form for creating a new resource.

How are people handling these situations in their RESTful designs?

Scott


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6374<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-08-05 19:04:08<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>Scott,

IMO forms should either be discovered while the client proceeds  
through the application's state machine or the MIME type that  
supports the desired interactions should provide sufficient semantics  
so the client knows when to expect the forms (e.g. Atom Publishing  
Protocol's &lt;accept&gt; element)

Keep in mind that a form is essentially information provided by the  
server to the client about the availability of a certain  
(parameterized) state transition within a given application.

The MIME type should provide enough semantics to tell client  
implementors how to handle a form (and maybe when to expect one) and  
the server should then just provide the forms as needed to enable the  
application.

HTH,

Jan

On Aug 5, 2006, at 6:58 PM, Scott Chapman wrote:

&gt; If hitting a URL with GET is supposed to give you a view of the  
&gt; resource and
&gt; it's not a form by default, then how to do you get a &lt;form...&gt; view  
&gt; of it for
&gt; editing?
&gt;
&gt; The same applies to getting a blank form for creating a new resource.
&gt;
&gt; How are people handling these situations in their RESTful designs?
&gt;
&gt; Scott
&gt;
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6375<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-08-05 19:11:46<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>On 8/5/06, Scott Chapman &lt;scott_list@...&gt; wrote:
&gt; If hitting a URL with GET is supposed to give you a view of the resource and
&gt; it's not a form by default, then how to do you get a &lt;form...&gt; view of it for
&gt; editing?

Not sure what you mean exactly.  Any representation of a resource can
contain a form if the data format supports it.  If you want to edit
the representation, you can do so and then attempt to PUT it back.

&gt;
&gt; The same applies to getting a blank form for creating a new resource.

Why a blank form?  You'd want a form that pointed (URI) you to the
resource which performs the resource-creation side effect.  The form
would also have to tell you the media type that should be used for
that.  The URI from which you got the form via GET might be the same
to which you POST back though.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6376<br>
Sender:Scott Chapman &lt;scott_list@...&gt;<br>
Post Date/Time:2006-08-05 19:27:38<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>Jan,
What I'm really interested in is how you handle this RESTfully?  What URL 
should you hit to get the form to edit the resource.  Say your resource is at:
http://foo.com/entry/1

If I GET that URL, I'd get a view of the resource in (x)html that's not 
editable.  How do I get the form to edit it?  REST doesn't seem to understand 
the use of forms on the client side to do editing at all.

How do I RESTfully get a form to create a new "entry"?

Scott

Jan Algermissen wrote:
&gt; Scott,
&gt; 
&gt; IMO forms should either be discovered while the client proceeds  
&gt; through the application's state machine or the MIME type that  
&gt; supports the desired interactions should provide sufficient semantics  
&gt; so the client knows when to expect the forms (e.g. Atom Publishing  
&gt; Protocol's &lt;accept&gt; element)
&gt; 
&gt; Keep in mind that a form is essentially information provided by the  
&gt; server to the client about the availability of a certain  
&gt; (parameterized) state transition within a given application.
&gt; 
&gt; The MIME type should provide enough semantics to tell client  
&gt; implementors how to handle a form (and maybe when to expect one) and  
&gt; the server should then just provide the forms as needed to enable the  
&gt; application.
&gt; 
&gt; HTH,
&gt; 
&gt; Jan
&gt; 
&gt; On Aug 5, 2006, at 6:58 PM, Scott Chapman wrote:
&gt; 
&gt;&gt; If hitting a URL with GET is supposed to give you a view of the  
&gt;&gt; resource and
&gt;&gt; it's not a form by default, then how to do you get a &lt;form...&gt; view  
&gt;&gt; of it for
&gt;&gt; editing?
&gt;&gt;
&gt;&gt; The same applies to getting a blank form for creating a new resource.
&gt;&gt;
&gt;&gt; How are people handling these situations in their RESTful designs?
&gt;&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6377<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-08-05 19:49:39<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>
On Aug 5, 2006, at 9:27 PM, Scott Chapman wrote:

&gt; Jan,
&gt; What I'm really interested in is how you handle this RESTfully?

No sure I understand what you mean by 'this'. Can you explain.

&gt; What URL should you hit to get the form to edit the resource.

Either the MIME type prescribes this (like Atom PP defines that  
POSTing to collections creates a new entry) and thus the lient has  
somewhat hard coded what to do or the server needs to tell you by way  
of a shared (via MIME type) link semantic.

&gt; Say your resource is at:
&gt; http://foo.com/entry/1
&gt;
&gt; If I GET that URL, I'd get a view of the resource in (x)html that's  
&gt; not editable.

You cannot expect that, because the server will send what it  
considers most appropriate...and that might *NOT* be HTML.

&gt; How do I get the form to edit it?

The server will tell you. How it does so is beyond REST, it has to be  
defined in the shared message semantics (MIME type in HTTP land).

&gt; REST doesn't seem to understand the use of forms on the client side  
&gt; to do editing at all.

What o you mean?

&gt;
&gt; How do I RESTfully get a form to create a new "entry"?
&gt;

Wrong question :-) I should read: "When I design my system, how do I  
support the use case of "create a new entry" so that the support for  
it does not violate REST constraints?"

Answer: define message semantics that let the client find the form  
*at run time*.

HTH,

Jan

&gt; Scott
&gt;
&gt; Jan Algermissen wrote:
&gt;&gt; Scott,
&gt;&gt; IMO forms should either be discovered while the client proceeds   
&gt;&gt; through the application's state machine or the MIME type that   
&gt;&gt; supports the desired interactions should provide sufficient  
&gt;&gt; semantics  so the client knows when to expect the forms (e.g. Atom  
&gt;&gt; Publishing  Protocol's &lt;accept&gt; element)
&gt;&gt; Keep in mind that a form is essentially information provided by  
&gt;&gt; the  server to the client about the availability of a certain   
&gt;&gt; (parameterized) state transition within a given application.
&gt;&gt; The MIME type should provide enough semantics to tell client   
&gt;&gt; implementors how to handle a form (and maybe when to expect one)  
&gt;&gt; and  the server should then just provide the forms as needed to  
&gt;&gt; enable the  application.
&gt;&gt; HTH,
&gt;&gt; Jan
&gt;&gt; On Aug 5, 2006, at 6:58 PM, Scott Chapman wrote:
&gt;&gt;&gt; If hitting a URL with GET is supposed to give you a view of the   
&gt;&gt;&gt; resource and
&gt;&gt;&gt; it's not a form by default, then how to do you get a &lt;form...&gt;  
&gt;&gt;&gt; view  of it for
&gt;&gt;&gt; editing?
&gt;&gt;&gt;
&gt;&gt;&gt; The same applies to getting a blank form for creating a new  
&gt;&gt;&gt; resource.
&gt;&gt;&gt;
&gt;&gt;&gt; How are people handling these situations in their RESTful designs?
&gt;&gt;&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6378<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-08-05 21:10:37<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>Scott Chapman &lt;scott_list@...&gt; writes:

&gt; Jan,
&gt; What I'm really interested in is how you handle this RESTfully?  What URL 
&gt; should you hit to get the form to edit the resource.  Say your resource is at:
&gt; http://foo.com/entry/1
&gt;
&gt; If I GET that URL, I'd get a view of the resource in (x)html that's not 
&gt; editable.  How do I get the form to edit it?  REST doesn't seem to understand 
&gt; the use of forms on the client side to do editing at all.
&gt;
&gt; How do I RESTfully get a form to create a new "entry"?

1. You don't NEED to do that. There are other ways to change resources
   apart from a FORM. You can have some AJAX PUT something for example.

2. If you need a FORM to edit a resource then you can have the server
   supply a FORM as part of the representation of the resource.


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6379<br>
Sender:"Jeoff Wilks" &lt;jeoffwilks@...&gt;<br>
Post Date/Time:2006-08-05 21:47:59<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6380<br>
Sender:Scott Chapman &lt;scott_list@...&gt;<br>
Post Date/Time:2006-08-05 23:10:06<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>Jan Algermissen wrote:
&gt; 
&gt; On Aug 5, 2006, at 9:27 PM, Scott Chapman wrote:
&gt; 
&gt;&gt; Jan,
&gt;&gt; What I'm really interested in is how you handle this RESTfully?
&gt; 
&gt; No sure I understand what you mean by 'this'. Can you explain.

This = the situation where you want the server to provide you with a &lt;form&gt; 
representation of the resource.

&gt;&gt; What URL should you hit to get the form to edit the resource.
&gt; 
&gt; Either the MIME type prescribes this (like Atom PP defines that POSTing 
&gt; to collections creates a new entry) and thus the lient has somewhat hard 
&gt; coded what to do or the server needs to tell you by way of a shared (via 
&gt; MIME type) link semantic.

So when I send a xmlhttprequest GET to the server at http://foo.com/entry/1, 
you're saying I can set a MIME type to tell the server to give me back a 
&lt;form&gt; representation for editing of that resource?

&gt;&gt; Say your resource is at:
&gt;&gt; http://foo.com/entry/1
&gt;&gt;
&gt;&gt; If I GET that URL, I'd get a view of the resource in (x)html that's 
&gt;&gt; not editable.
&gt; 
&gt; You cannot expect that, because the server will send what it considers 
&gt; most appropriate...and that might *NOT* be HTML.

I'm writing the server here as well so I determine what it sends back.  It'll 
be xhtml.

&gt;&gt; How do I get the form to edit it?
&gt; 
&gt; The server will tell you. How it does so is beyond REST, it has to be 
&gt; defined in the shared message semantics (MIME type in HTTP land).

What MIME type do I send to a server to request a &lt;form&gt; back rather than the 
xhtml to show me the entry in non-editable format?

&gt;&gt; REST doesn't seem to understand the use of forms on the client side to 
&gt;&gt; do editing at all.
&gt; 
&gt; What o you mean?

REST doesn't seem to have any notion of the idea that there's generally (I 
know, not always) a &lt;form&gt; needed to edit or create a new resource so it 
doesn't provide you with a way (GET, POST, PUT, DELETE) to fetch the form 
using the same resource URL.  I think your use of MIME types answers for this 
however, though I don't know how to actually tell it to give me a &lt;form&gt; using 
MIME.

&gt;&gt;
&gt;&gt; How do I RESTfully get a form to create a new "entry"?
&gt;&gt;
&gt; 
&gt; Wrong question :-) I should read: "When I design my system, how do I 
&gt; support the use case of "create a new entry" so that the support for it 
&gt; does not violate REST constraints?"
&gt;
&gt; Answer: define message semantics that let the client find the form *at 
&gt; run time*.

So for a concrete example:

If I do a GET on /entries/1 with a certain MIME type, I'm telling the server 
to send me a &lt;form&gt; representation of that resource.  If I use a different 
(the default) MIME type, it will send me back a (x)html view of the resource. 
  I think I can send a different MIME type to request a JSON or XML of the 
resource.

If I do a PUT on /entries/1, that would update it on the server.

If I do a POST on /entries/1, that would be invalid because I can't define the 
new resource's ID on the client side so I'd do a POST on /entries in order to 
create a new one and it would send me back an HTTP header with the ID in it?

And, finally, I'd do a DELETE on /entries/1 to delete it.

If I have this right, all I need is to know what MIME type you'd use to 
request a &lt;form&gt; rather than an xhtml representation of the resource.

Please let me know how I'm doing here!

Scott


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6381<br>
Sender:Scott Chapman &lt;scott_list@...&gt;<br>
Post Date/Time:2006-08-05 23:14:27<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>Mark Baker wrote:
&gt; On 8/5/06, Scott Chapman &lt;scott_list@...&gt; wrote:
&gt;&gt; If hitting a URL with GET is supposed to give you a view of the resource and
&gt;&gt; it's not a form by default, then how to do you get a &lt;form...&gt; view of it for
&gt;&gt; editing?
&gt; 
&gt; Not sure what you mean exactly.  Any representation of a resource can
&gt; contain a form if the data format supports it.  If you want to edit
&gt; the representation, you can do so and then attempt to PUT it back.

Hitting /entries/1 with GET would give me back a xhtml view of the resource in 
non-editable form, just straight xhtml.  I need to know how to hit a given 
resource and ask for a form representation of it or a 'view-only' 
representation of it.  See my other post to Jan for more discussion on this. 
I think you use MIME types to tell the server what you want, if I'm 
understanding her right.

&gt;&gt; The same applies to getting a blank form for creating a new resource.
&gt; 
&gt; Why a blank form?  You'd want a form that pointed (URI) you to the
&gt; resource which performs the resource-creation side effect.  The form
&gt; would also have to tell you the media type that should be used for
&gt; that.  The URI from which you got the form via GET might be the same
&gt; to which you POST back though.

To create a new resource, you need to fill out a form (in my web site).  That 
would submit to the "resource which performs the resource-creation side 
effect". I'd expect the resource I GET the form from to be the one to POST 
back to, in order to be RESTful.  So, I'd need a blank form in my web browser 
to do this.  I have to get that blank form from somewhere.

Scott




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6382<br>
Sender:Scott Chapman &lt;scott_list@...&gt;<br>
Post Date/Time:2006-08-05 23:17:10<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>Nic James Ferrier wrote:
&gt; Scott Chapman &lt;scott_list@...&gt; writes:
&gt; 
&gt;&gt; Jan,
&gt;&gt; What I'm really interested in is how you handle this RESTfully?  What URL 
&gt;&gt; should you hit to get the form to edit the resource.  Say your resource is at:
&gt;&gt; http://foo.com/entry/1
&gt;&gt;
&gt;&gt; If I GET that URL, I'd get a view of the resource in (x)html that's not 
&gt;&gt; editable.  How do I get the form to edit it?  REST doesn't seem to understand 
&gt;&gt; the use of forms on the client side to do editing at all.
&gt;&gt;
&gt;&gt; How do I RESTfully get a form to create a new "entry"?
&gt; 
&gt; 1. You don't NEED to do that. There are other ways to change resources
&gt;    apart from a FORM. You can have some AJAX PUT something for example.

Right, but in the case where you're using a FORM to do it, how do I GET that 
form?  GETing the resource usually returns a 'view-only' version of it.  There 
has to be a way to tell the server I want a 'view-only' version or an 'edit' 
version at the same URL.

&gt; 2. If you need a FORM to edit a resource then you can have the server
&gt;    supply a FORM as part of the representation of the resource.

Do you mean here that I'd get back say two div's, one for viewing the 
resource, and one for editing it and I'd use CSS/Javascript to turn on the one 
I want? Or do you have in mind some way of telling the server which one you 
want it to give you but not changing the URL?

Scott



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6383<br>
Sender:Scott Chapman &lt;scott_list@...&gt;<br>
Post Date/Time:2006-08-05 23:21:10<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>Jeoff Wilks wrote:
&gt; Scott,
&gt; 
&gt; I know exactly what you were asking. Since these other guys are waxing 
&gt; too theoretical, I'm stepping in with some practical examples.  :)
&gt; 
&gt; 1. In my current work I'm using URLs like this:
&gt; /entries  -  view entries collection
&gt; /entries/1  -  view entry 1
&gt; /forms/entries  -  html form to add a new element to entries
&gt; /forms/entries/1  -  edit entry 1
&gt; 
&gt; 2. In Zope/Plone I seem to remember seeing something like this:
&gt; /entries  -  view collection
&gt; /entries/1  -  view entry 1
&gt; /entries/new  -  new entry (form)
&gt; /entries/1/edit  -  edit entry 1
&gt; 
&gt; 3. In Trac (ticket system - see trac.edgewall.com 
&gt; &lt;http://trac.edgewall.com&gt;) they use:
&gt; /report  -  predefined SQL reports
&gt; /query  -  a form and report are displayed at the same time
&gt; /ticket/1  -  display ticket 1 - html on top, editing form on bottom

These appear to me to not be RESTful.  I understand that you're supposed to 
use only one URL for a resource whether to view, update, or delete it. 
Perhaps a different URL to create a new resource.  So having a seperate URL to 
get the form from seems unRESTful.  I'm no expert on REST and still climbing 
the learning curve here on RESTful design.  That's what I've found so far.

So, I'd want to GET, PUT, or DELETE to /entries/1 and I'd want to POST to 
/entries (or maybe /entries/new but "/new" seems unnecessary as there would be 
no other time to POST to /entries except when creating a new one so "/new" 
seems like fluff).

Scott




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6384<br>
Sender:Adam Ratcliffe &lt;adam@...&gt;<br>
Post Date/Time:2006-08-05 23:48:01<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>
On 6 Aug, 2006, at 11:21 AM, Scott Chapman wrote:
&gt;
&gt; These appear to me to not be RESTful. I understand that you're  
&gt; supposed to
&gt; use only one URL for a resource whether to view, update, or delete it.
&gt; Perhaps a different URL to create a new resource.
I don't believe REST constrains a resource's state to being  
manipulated through its URL only.  Given that GET and POST are the  
only HTTP methods reliably available in the brower (assuming your  
building a web application) PUT and DELETE operations may need to be  
implemented through POSTing to another resource.  For example you  
might create a new resource by POSTing to a collection resource.

Cheers
Adam
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6385<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-08-05 23:54:58<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>Scott Chapman &lt;scott_list@...&gt; writes:

&gt; Nic James Ferrier wrote:
&gt;&gt; 2. If you need a FORM to edit a resource then you can have the server
&gt;&gt;    supply a FORM as part of the representation of the resource.
&gt;
&gt; Do you mean here that I'd get back say two div's, one for viewing the 
&gt; resource, and one for editing it and I'd use CSS/Javascript to turn on the one 
&gt; I want? 

That is certainly one way.

You don't NEED to turn the FORM off either.

I have an accounting system that I wrote RESTfully. There is a url:

   /account/

which displays all the accounts in summary form (their balance for
recent years).

It also displays a FORM for creating a new account. If an account is
created it is a subsidiary of the /account/ url; eg:

  /account/26

is a particular account.


&gt; Or do you have in mind some way of telling the server which one you
&gt; want it to give you but not changing the URL?

You can do it that way as well. Just add a parameter, say editform, to
the url, eg:

   http://server/someresource?editform

There are other options as well:

- you could provide an editform by some content negotiation rule (your
  resources are always XML and your edit form is always HTML, say

- or by having a Javascript function construct an edit form on some
  signal from the user.


The point is that REST really doesn't cover this. REST is about the
interactions between resources and representations and how you get
from one to the other. It's not about the specific of how you create
data in some form.

You might want to look at what the microformat people are doing:

  http://microformats.org

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6386<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-08-05 23:56:57<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>Scott Chapman &lt;scott_list@...&gt; writes:

&gt; So, I'd want to GET, PUT, or DELETE to /entries/1 and I'd want to POST to 
&gt; /entries (or maybe /entries/new but "/new" seems unnecessary as there would be 
&gt; no other time to POST to /entries except when creating a new one so "/new" 
&gt; seems like fluff).

But there's nothing to say that the page that the edit request COMES
FROM has to be the resoure that is being edited.

So your FORM could be written on any page.

Indeed, these days, AJAX is a good way to code front ends to RESTfull
services.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6387<br>
Sender:Scott Chapman &lt;scott_list@...&gt;<br>
Post Date/Time:2006-08-06 00:07:35<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>Adam Ratcliffe wrote:
&gt; 
&gt; On 6 Aug, 2006, at 11:21 AM, Scott Chapman wrote:
&gt;&gt;
&gt;&gt; These appear to me to not be RESTful. I understand that you're 
&gt;&gt; supposed to
&gt;&gt; use only one URL for a resource whether to view, update, or delete it.
&gt;&gt; Perhaps a different URL to create a new resource.
&gt; I don't believe REST constrains a resource's state to being manipulated 
&gt; through its URL only.  Given that GET and POST are the only HTTP methods 
&gt; reliably available in the brower (assuming your building a web 
&gt; application) PUT and DELETE operations may need to be implemented 
&gt; through POSTing to another resource.  For example you might create a new 
&gt; resource by POSTing to a collection resource.

I understand all the HTTP methods (GET, POST, PUT, DELETE, HEAD, ?) can be 
done correctly using xmlhttprequest in all modern browsers.  Is this incorrect?

Scott


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6388<br>
Sender:Adam Ratcliffe &lt;adam@...&gt;<br>
Post Date/Time:2006-08-06 00:20:21<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>Unfortunately not.  Safari transparently converts PUT and DELETE  
requests into GETs.

Cheers
Adam

On 6 Aug, 2006, at 12:07 PM, Scott Chapman wrote:

&gt; Adam Ratcliffe wrote:
&gt;&gt; On 6 Aug, 2006, at 11:21 AM, Scott Chapman wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; These appear to me to not be RESTful. I understand that you're  
&gt;&gt;&gt; supposed to
&gt;&gt;&gt; use only one URL for a resource whether to view, update, or  
&gt;&gt;&gt; delete it.
&gt;&gt;&gt; Perhaps a different URL to create a new resource.
&gt;&gt; I don't believe REST constrains a resource's state to being  
&gt;&gt; manipulated through its URL only.  Given that GET and POST are the  
&gt;&gt; only HTTP methods reliably available in the brower (assuming your  
&gt;&gt; building a web application) PUT and DELETE operations may need to  
&gt;&gt; be implemented through POSTing to another resource.  For example  
&gt;&gt; you might create a new resource by POSTing to a collection resource.
&gt;
&gt; I understand all the HTTP methods (GET, POST, PUT, DELETE, HEAD, ?)  
&gt; can be done correctly using xmlhttprequest in all modern browsers.   
&gt; Is this incorrect?
&gt;
&gt; Scott
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6389<br>
Sender:"Jeoff Wilks" &lt;jeoffwilks@...&gt;<br>
Post Date/Time:2006-08-06 01:32:59<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6390<br>
Sender:"S. Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-08-06 01:49:19<br>
Subject:RE: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>After reading this thread, I thought I'd start over at the beginning.

&gt; how do you get a &lt;form...&gt; view of it for editing? 
There are several approaches:

1 Single resource
A representation may display both that resource and a "form" for editing or
appending to that resource. Example: a blog entry with a list of comments
and an 'add comment' form at the bottom.

2 Multiple resources
A representation may display both that resource and a link to a second
resource used for editing or appending to the first resource. Example: a
blog entry with a list of comments and an 'add comment' link at the bottom.
This is an example of 'hypertext as the engine of application state'
(hateoas)

3 Other resources
You could also have a third resource with references to both the 'data'
resource and the 'editing' resource. The 'data' could be included in the
client (like an image) or included on the server (some sort of
server-side-include).




&gt; -----Original Message-----
&gt; From: rest-discuss@yahoogroups.com 
&gt; [mailto:rest-discuss@yahoogroups.com] On Behalf Of Scott Chapman
&gt; Sent: Saturday, August 05, 2006 9:58 AM
&gt; To: rest-discuss@yahoogroups.com
&gt; Subject: [rest-discuss] How to GET a &lt;form&gt; for editing in 
&gt; RESTful design?
&gt; 
&gt; If hitting a URL with GET is supposed to give you a view of 
&gt; the resource and it's not a form by default, then how to do 
&gt; you get a &lt;form...&gt; view of it for editing?
&gt; 
&gt; The same applies to getting a blank form for creating a new resource.
&gt; 
&gt; How are people handling these situations in their RESTful designs?
&gt; 
&gt; Scott
&gt; 
&gt; 
&gt; 
&gt;  
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt;  
&gt; 
&gt; 
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6391<br>
Sender:"S. Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-08-06 01:49:55<br>
Subject:RE: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>&gt; 
&gt; Unfortunately not.  Safari transparently converts PUT and DELETE requests
into GETs.
&gt; 
You're kidding.. That's horrible.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6392<br>
Sender:Scott Chapman &lt;scott_list@...&gt;<br>
Post Date/Time:2006-08-06 01:47:01<br>
Subject:Re: [rest-discuss] Using ?editform<br>
Message:<br><br>
<pre>Nic James Ferrier wrote:

&gt; You can do it that way as well. Just add a parameter, say editform, to
&gt; the url, eg:
&gt; 
&gt;    http://server/someresource?editform

It is my understanding that you're not supposed to modify resource URI's in 
this way. It's the simple answer but I understand it's not RESTful.  Can you 
who are more familiar with this please comment?

Scott

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6393<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-08-06 02:40:58<br>
Subject:Re:  [rest-discuss] How to GET a  for editing in RESTful     design?<br>
Message:<br><br>
<pre>&gt;-----Original Message-----

Nic James Ferrier wrote: 

&gt; You can do it that way as well. Just add a parameter, say editform, to 
&gt; the url, eg: 
&gt; 
&gt; http://server/someresource?editform 

It is my understanding that you're not supposed to modify resource URI's in 
this way. It's the simple answer but I understand it's not RESTful. Can you 
who are more familiar with this please comment? 

Scott

--------------------------

&gt;
&gt;After reading this thread, I thought I'd start over at the beginning.
&gt;
&gt;&gt; how do you get a &lt;form...&gt; view of it for editing? 
&gt;There are several approaches:
&gt;
&gt;1 Single resource
&gt;A representation may display both that resource and a "form" for editing or
&gt;appending to that resource. Example: a blog entry with a list of comments
&gt;and an 'add comment' form at the bottom.
&gt;
&gt;2 Multiple resources
&gt;A representation may display both that resource and a link to a second
&gt;resource used for editing or appending to the first resource. Example: a
&gt;blog entry with a list of comments and an 'add comment' link at the bottom.
&gt;This is an example of 'hypertext as the engine of application state'
&gt;(hateoas)
&gt;
&gt;3 Other resources
&gt;You could also have a third resource with references to both the 'data'
&gt;resource and the 'editing' resource. The 'data' could be included in the
&gt;client (like an image) or included on the server (some sort of
&gt;server-side-include).
&gt;

What about:

4.  Multiple representations
What if we want the resource to appear inside an edit form, instead of having an edit form as part of the resource or linked to the resource.  I'm actually using this format:

http://example.com/resource;view=edit

This URL is another representation of the URI http://example.com/resource with the content of the page in a &lt;textarea&gt;.  It is access-controlled via HTTP AUTH, /resource is not.  The PUT goes to /resource upon form submission.

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6394<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-08-06 02:52:37<br>
Subject:Re:   [rest-discuss] How to GET a  for editing in RESTful         design?<br>
Message:<br><br>
<pre>&gt;
&gt;This URL is another representation of the URI http://example.com/resource with the content of the page in a &lt;textarea&gt;.  It is access-controlled via HTTP AUTH, /resource is not.  The PUT goes to /resource upon form submission.
&gt;

Sorry for the double-post.  I meant, GET access to http://example.com/resource;view=edit is restricted to those who have PUT permission for http://example.com/resource.

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6395<br>
Sender:"Alex Beamish" &lt;talexb@...&gt;<br>
Post Date/Time:2006-08-06 02:59:04<br>
Subject:Re: [rest-discuss] Using ?editform<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6396<br>
Sender:"S. Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-08-06 03:18:47<br>
Subject:RE: [rest-discuss] How to GET a  for editing in RESTful     design?<br>
Message:<br><br>
<pre>
&gt; What about:
&gt; 
&gt; 4.  Multiple representations
&gt; What if we want the resource to appear inside an edit form, 
&gt; instead of having an edit form as part of the resource or 
&gt; linked to the resource.  
I think that's the same as my 3) Other Resources - in your example the
server would include the content of the first resource within a &lt;textarea&gt;.

I was going to provide an example where the resource was an image, to make
it harder to use that resource directly for editing. But I didn't have time,
my burgers were smoking on the grill...


&gt; I'm actually using this format:
&gt; 
&gt; http://example.com/resource;view=edit
&gt; 
&gt; This URL is another representation of the URI http://example.com/resource 
Also, it's more than just another representation, it's another resource. How
is the view=edit resource discovered? (I think that's part of the original
question).

&gt; with the content of the page in a &lt;textarea&gt;.  
&gt; It is access-controlled via HTTP AUTH, /resource is not.  
&gt; The PUT goes to /resource upon form submission.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6397<br>
Sender:"S. Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-08-06 03:22:22<br>
Subject:RE: [rest-discuss] How to GET a  for editing in RESTful     design?<br>
Message:<br><br>
<pre>&gt; It is my understanding that you're not supposed to modify 
&gt; resource URI's in this way. It's the simple answer but I 
&gt; understand it's not RESTful. Can you who are more familiar 
&gt; with this please comment? 

REST is like the Pirate's Code - it is more what you'd call "guidelines"
than actual rules.

http://www.imdb.com/title/tt0325980/quotes



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6398<br>
Sender:Scott Chapman &lt;scott_list@...&gt;<br>
Post Date/Time:2006-08-06 03:25:15<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful     design?<br>
Message:<br><br>
<pre>S. Mike Dierken wrote:
&gt;&gt; What about:
&gt;&gt;
&gt;&gt; 4.  Multiple representations
&gt;&gt; What if we want the resource to appear inside an edit form, 
&gt;&gt; instead of having an edit form as part of the resource or 
&gt;&gt; linked to the resource.  
&gt; I think that's the same as my 3) Other Resources - in your example the
&gt; server would include the content of the first resource within a &lt;textarea&gt;.
&gt; 
&gt; I was going to provide an example where the resource was an image, to make
&gt; it harder to use that resource directly for editing. But I didn't have time,
&gt; my burgers were smoking on the grill...
&gt; 
&gt; 
&gt;&gt; I'm actually using this format:
&gt;&gt;
&gt;&gt; http://example.com/resource;view=edit
&gt;&gt;
&gt;&gt; This URL is another representation of the URI http://example.com/resource 
&gt; Also, it's more than just another representation, it's another resource. How
&gt; is the view=edit resource discovered? (I think that's part of the original
&gt; question).
&gt; 
&gt;&gt; with the content of the page in a &lt;textarea&gt;.  
&gt;&gt; It is access-controlled via HTTP AUTH, /resource is not.  
&gt;&gt; The PUT goes to /resource upon form submission.

Because it is another resource, I was under the impression that modifying the 
URI by adding ;view=edit (or ?view=edit) is a "no-no".

Scott

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6399<br>
Sender:"S. Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-08-06 03:30:16<br>
Subject:RE: [rest-discuss] How to GET a  for editing in RESTful     design?<br>
Message:<br><br>
<pre>&gt; 
&gt; Because it is another resource, I was under the impression 
&gt; that modifying the URI by adding ;view=edit (or ?view=edit) 
&gt; is a "no-no".
&gt; 
My opinion is that having two (or more) resources - one for "the" resource,
and one for the "entry form" resource - is just fine. To be more RESTful,
you would have some explicit connection between these two resources (a
hyperlink) rather than forcing clients to guess the pattern of adding a
particular text string to the URI.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6400<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-08-06 03:32:08<br>
Subject:Re:  [rest-discuss] How to GET a  for editing in RESTful         design?<br>
Message:<br><br>
<pre>&gt;
&gt;&gt; I'm actually using this format:
&gt;&gt; 
&gt;&gt; http://example.com/resource;view=edit
&gt;&gt; 
&gt;&gt; This URL is another representation of the URI http://example.com/resource 
&gt;Also, it's more than just another representation, it's another resource. How
&gt;is the view=edit resource discovered? (I think that's part of the original
&gt;question).
&gt;

I'm just learning Atom Publishing Protocol, actually as I write this, is that what you mean by discovery?  In which case I think it's a moot point since the discovery document explicitly states that /resource is editable via PUT, provided the user requesting the discovery document has that level of permission (according to their AUTH header).  Do I have that right?

If so, then the ;view=edit bit is a nicety provided for clients, i.e. any client I'm implementing a web presence for who wants an edit form not an APP client and they "discover" this resource because I either tell them it's there, or link to it.  Many people are used to having a server-side form for editing web content, typically edit.php?id=resource and it was _that_ sort of solution I was trying to avoid.

Yes, it's a resource in its own right.  But I also define it to be a representation since it's generated from the same source content using XSLTC on the server.  So its content is never different from the "base resource" and it is not editable in its own right, i.e. there's no PUT allowed to http://example.com/resource;view=edit.  Pseudo-resource?

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6401<br>
Sender:"S. Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-08-06 03:36:06<br>
Subject:RE: [rest-discuss] How to GET a  for editing in RESTful         design?<br>
Message:<br><br>
<pre>
&gt; Yes, it's a resource in its own right.  But I also define it 
&gt; to be a representation since it's generated from the same 
&gt; source content using XSLTC on the server.  So its content is 
&gt; never different from the "base resource" and it is not 
&gt; editable in its own right, i.e. there's no PUT allowed to 
&gt; http://example.com/resource;view=edit.  Pseudo-resource?
&gt; 
Real resource, not pseudo.
I'm guessing that it's representation is generated from two data elements -
the html template and the data also visible via the other resource.

Why not allow PUT to the html template portion of that 'editor' resource?
What would happen if you did?



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6402<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-08-06 04:03:38<br>
Subject:Re:  [rest-discuss] How to GET a  for editing in RESTful             design?<br>
Message:<br><br>
<pre>&gt;
&gt;Real resource, not pseudo.
&gt;I'm guessing that it's representation is generated from two data elements -
&gt;the html template and the data also visible via the other resource.
&gt;

Yet also unmistakably what is meant by "representation".

Not two, multiple.  What I've implemented is XSLTC, here's an oversimplified overview, imagine each ;view= option as *.xsl, and realize they're all transforming the same Atom document and that the menu links are implemented in the XSLT file:

/resource;view=text  &lt;-- text-only version of the resource
/resource;view=print  &lt;-- content (including images) only no menus
/resource;view=edit  &lt;-- like the print view except in a &lt;form&gt;

Those three respond 200 OK, as they serve both as alternate representations and as resources in their own right.  Back functionality preserved.  Output is HTML 4.01 but with no DOCTYPE, except for ;view=edit which uses the markup language most compatible with the client based on content negotiation, as are these options:

/resource;view=mobile  &lt;-- XHTML Basic 1.1
/resource;view=xhtml  &lt;-- XHTML 1.1
/resource;view=html  &lt;-- HTML 4.01

These are determined by content negotiation, IE and anything else not grokking 'application/xhtml+xml' gets HTML markup and all the frivolous class attributes required for backwards CSS compatibility with IE &lt; 7, and a silly "IE Conditional Comment" to give IE &gt;= 7 the same CSS as other modern browsers, which of course get the XHTML 1.1 _representation_ of the site.

A Firefox user can append ;view=html to any /resource on my system and view the HTML 4.01 alternate representation of the content, but they'll be 303-redirected back to /resource to set it (as I explained in my treatise, "Representational Cookies").  An IE user can select ;view=xhtml but they'll get a dialog box asking how they want to save the unknown 'application/octet-stream'.

I extended my content-negotiation-override mechanism to provide the text-only, print and edit representations but yes, they're all also resources.  I call the result a Representation Management System, though, since the purpose is to allow a visitor to a website to select a different representation suited to their needs.

&gt;
&gt;Why not allow PUT to the html template portion of that 'editor' resource?
&gt;What would happen if you did?
&gt;

Why not?  Enough complexity already with this system.  ;)  Also, it doesn't make sense to me.  The editor is provided to edit the resource, allowing PUT to that editor resource would presumably be to change what &lt;textarea&gt; replacement editor it links to, or somesuch.

Allowing PUT to the editor document rather than the /resource could also be a means to allow editing of the generated menu links for the /resource, overriding anything automatically generated, allowing the webmaster to "hide" a page from public view.  Just some thoughts.

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6403<br>
Sender:"Justin T. Sampson" &lt;justin@...&gt;<br>
Post Date/Time:2006-08-06 04:16:09<br>
Subject:Re: Re: [rest-discuss] Using ?editform<br>
Message:<br><br>
<pre>On 8/5/06, Alex Beamish &lt;talexb@...&gt; wrote:

&gt; I am new to REST, but it seems to me that a true REST application (for some
&gt; definition of truth) wouldn't use URI arguments (the ?editform in your
&gt; command).

Query parameters are just another part of the URI, as far as I
understand REST. Whether to use them is a matter of aesthetics or
convenience, not REST principle.

&gt;  It seems to me that the client should already know the API for the REST
&gt; application, thus would provide the appropriate user_id,
&gt; source_account_number, cash_amount  and destination_account_nmumber for the
&gt; appropriate PUT action. A kind REST application (let me add, one without any
&gt; security hangups) would, if there were errors, reply with information about
&gt; the non-compliance of the form information.

This sounds opposite to how I understand REST. It is quite adamantly
discouraged for the client to "already know" the API, and encouraged
for the server to provide some description of the API, such as in an
HTML form tag, or simply in links.

Cheers,
Justin

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6404<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-08-06 04:33:56<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>On 8/5/06, Scott Chapman &lt;scott_list@...&gt; wrote:
&gt; See my other post to Jan for more discussion on this.
&gt; I think you use MIME types to tell the server what you want, if I'm
&gt; understanding her right.

Jan's not a woman, he's just German 8-)

I'll bow out from the conversation; it looks like you're in good hands.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6405<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-08-06 17:56:28<br>
Subject:Re: [rest-discuss] Using ?editform<br>
Message:<br><br>
<pre>Scott Chapman &lt;scott_list@...&gt; writes:

&gt; Nic James Ferrier wrote:
&gt;
&gt;&gt; You can do it that way as well. Just add a parameter, say editform, to
&gt;&gt; the url, eg:
&gt;&gt; 
&gt;&gt;    http://server/someresource?editform
&gt;
&gt; It is my understanding that you're not supposed to modify resource URI's in 
&gt; this way. It's the simple answer but I understand it's not RESTful.  Can you 
&gt; who are more familiar with this please comment?

As the man said "they're more like guidelines"

There's nothing wrong with this per se. As I said before, there are
plenty of other ways to do it as well.


The editform parameter, in this example, is simply asking the server
to return a representation of /someresource that provides a form for
someresource to be updated.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6406<br>
Sender:"David Heinemeier Hansson" &lt;david.heinemeier@...&gt;<br>
Post Date/Time:2006-08-06 22:44:32<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>&gt;  Not two, multiple. What I've implemented is XSLTC, here's an oversimplified
&gt; overview, imagine each ;view= option as *.xsl, and realize they're all
&gt; transforming the same Atom document and that the menu links are implemented
&gt; in the XSLT file:
&gt;
&gt;  /resource;view=text &lt;-- text-only version of the resource
&gt;  /resource;view=print &lt;-- content (including images) only no menus
&gt;  /resource;view=edit &lt;-- like the print view except in a &lt;form&gt;

This is roughly how we dealt with it in the REST support in Ruby on
Rails. We just made the slight shortcut that have the URLs look like
/resource;edit. For the pure text-only version, I'd recommend using
mime types in form of extensions, say /resource.txt. The ; part can
then be reserved for multiple representations of the same logical
resources within the same mime type.
--
David Heinemeier Hansson
http://www.loudthinking.com -- Broadcasting Brain
http://www.basecamphq.com   -- Online project management
http://www.backpackit.com   -- Personal information manager
http://www.rubyonrails.com  -- Web-application framework



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6407<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-08-07 00:58:20<br>
Subject:Re:  [rest-discuss] How to GET a  for editing in RESTful     design?<br>
Message:<br><br>
<pre>&gt;
&gt;This is roughly how we dealt with it in the REST support in Ruby on
&gt;Rails. We just made the slight shortcut that have the URLs look like
&gt;/resource;edit. For the pure text-only version, I'd recommend using
&gt;mime types in form of extensions, say /resource.txt. The ; part can
&gt;then be reserved for multiple representations of the same logical
&gt;resources within the same mime type.
&gt;

Actually, the text-only version is still HTML markup, and so is the print version.  That's the problem I ran into, there are multiple representations of the same resource with 'text/html' and multiple representations of the same resource with 'application/xhtml'.

For example, file.txt could be HTML or even XML, this is too ambiguous IMO.  Same goes for an .(x)htm(l) extension.  This was a major factor which led to my decision to abandon filename extensions except for images, script and CSS.

With two exceptions, .atom and .pdf.  The reason I went with .pdf instead of /resource;view=pdf was primarily because the latter form doesn't indicate to the client what filename to use if the resource is saved, which is desirable behavior likely expected by a site visitor.  Both .atom and .pdf are unambiguous extensions which can only relate to one MIME type.

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6408<br>
Sender:"Joe Gregorio" &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2006-08-07 02:02:06<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>On 8/5/06, Scott Chapman &lt;scott_list@...&gt; wrote:
&gt;
&gt; If hitting a URL with GET is supposed to give you a view of the resource and
&gt;  it's not a form by default, then how to do you get a &lt;form...&gt; view of it for
&gt;  editing?

There is no restriction on the number of URIs that may refer to
a resouce.

Think, for example, of a wiki. where the 'view' URI may be

  http://www.intertwingly.net/wiki/pie/PaceSecurityConsiderations

and the 'edit' URI may be

  http://www.intertwingly.net/wiki/pie/PaceSecurityConsiderations?action=edit

These are two URIs that point to the same resource, just supplying different
representations.

  -joe

-- 
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6409<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-08-07 02:14:46<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>On 8/6/06, Joe Gregorio &lt;joe.gregorio@...&gt; wrote:
&gt; On 8/5/06, Scott Chapman &lt;scott_list@...&gt; wrote:
&gt; &gt;
&gt; &gt; If hitting a URL with GET is supposed to give you a view of the resource and
&gt; &gt;  it's not a form by default, then how to do you get a &lt;form...&gt; view of it for
&gt; &gt;  editing?
&gt;
&gt; There is no restriction on the number of URIs that may refer to
&gt; a resouce.

Right.

&gt;
&gt; Think, for example, of a wiki. where the 'view' URI may be
&gt;
&gt;   http://www.intertwingly.net/wiki/pie/PaceSecurityConsiderations
&gt;
&gt; and the 'edit' URI may be
&gt;
&gt;   http://www.intertwingly.net/wiki/pie/PaceSecurityConsiderations?action=edit
&gt;
&gt; These are two URIs that point to the same resource, just supplying different
&gt; representations.

That way lies madness, IMO.

The representations returned from those two URIs are consistently
different, which tells us they identify different resources.  They may
use the same source of data behind the scenes, but that's immaterial
from the POV of resource identification.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6410<br>
Sender:"Joe Gregorio" &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2006-08-07 02:43:27<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>On 8/6/06, Mark Baker &lt;distobj@...&gt; wrote:
&gt; The representations returned from those two URIs are consistently
&gt; different, which tells us they identify different resources.

That is incorrect. Do not conflate representation with resource.
It is only the server that can say whether
two URIs refer to the same resource.

&gt; They may use the same source of data behind the scenes, but that's immaterial
&gt; from the POV of resource identification.

The servers view is hardly ''immaterial", it is actually the sole
arbiter of resource identification.

  -joe

-- 
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6411<br>
Sender:"S. Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-08-07 03:02:05<br>
Subject:RE: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>&gt; 
&gt; That is incorrect. Do not conflate representation with resource.
&gt; It is only the server that can say whether two URIs refer to 
&gt; the same resource.
Does the server in this example say whether these two URIs are the same
resource?


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6412<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-08-07 03:25:22<br>
Subject:Re:  [rest-discuss] How to GET a  for editing in RESTful     design?<br>
Message:<br><br>
<pre>(1) http://example.com/resource
(2) http://example.com/resource;view=edit (or ?action=edit, same difference)

These are considered "arbitrarily differenct URIs" as explained here:

http://www.w3.org/TR/webarch/#uri-aliases

That's a "should not" not a "must not", though.  The /resource;view=edit and /resource;view=print representations are, for all intents and purposes, separate resources which are considered separate from /resource.  What is needed is a means to describe the relationship of both /resource;view=edit and /resource;view=print to be the same as /resource, removing the ambiguity (and thus the negative effects) of the URI alias.

This is easy enough to do from a pragmatic standpoint by adding this line to the &lt;head&gt; of ;view=edit and ;view=print:

&lt;meta name="ROBOTS" content="NOINDEX,NOFOLLOW"/&gt;

A legitimate search engine, i.e. Google, would otherwise return /resource, /resource;view=print *and* /resource;view=edit in the results for a search which hits on /resource.  This keeps us from running afoul of the duplicate removal algorithms and getting "scored down" for SEO shenanigans with our intended aliases.  This is also done for the ;view=print representation.

Unfortunately, this solution is lacking from a semantic standpoint.  I've not yet delved into RDFa, but I hear I can describe URI (1) to be the "same as" URI (2) to remove any ambiguity caused by the URI alias.

So by doing both of these things, our edit-form and print-page "intended aliases" do no harm.  This is why I suggest the term "pseudo-resource" for the common use cases of edit forms and print pages.

(1) http://example.com/resource;view=xhtml
(2) http://example.com/resource;view=html

These are meant as representations only, not as individual resources.  They could just as easily be resource.xhtml and resource.html, either way we have an alias problem since each representation is, for all intents and purposes, separate resources which are separate from /resource.

But, this is only true if (1) and (2) respond with a 200 OK!  My implementation 303-redirects (1) and (2) (and also ;view=text, come to think of it) to /resource thereby removing the ambiguity and negating the alias.  Since (1) and (2) may not be dereferenced they are only URIs not URLs, as per:

http://www.w3.org/2001/tag/issues.html#httpRange-14

Although I'm afraid the group may agree that I've gotten that wrong somehow, I haven't gone mad yet, Mark.  ;-)

Under my scheme, spiders only index the /resources on the system not the aliases, and always index the text-only version (my preference not to allow image indexing).  A user following a search-result link never gets the ;view=edit page, but always gets content-negotiated into the (most) proper representation for their client.

I've also toyed with having /resource;view=edit 303-redirect to /resource.  This works, but it lacks the ability to "back out of" (except by following a link) which isn't important for toggling between XHTML/HTML (which assumes the user knows what they're doing).  From a usability perspective, I'd prefer the ability to back out of the ;view=print and ;view=edit options by either using the back function on the client or shortening the URL, in addition to being able to click a breadcrumb link.

The only way I know of to make that work, is to allow those two aliases to respond 200 OK and mitigate the effects.

-Eric

&gt;-----Original Message-----
&gt;From: Mark Baker [mailto:distobj@...]
&gt;Sent: Sunday, August 6, 2006 07:14 PM
&gt;To: 'Joe Gregorio'
&gt;Cc: 'Scott Chapman', rest-discuss@yahoogroups.com
&gt;Subject: Re: [rest-discuss] How to GET a &lt;form&gt; for editing in RESTful design?
&gt;
&gt;On 8/6/06, Joe Gregorio &lt;joe.gregorio@...&gt; wrote:
&gt;&gt; On 8/5/06, Scott Chapman &lt;scott_list@...&gt; wrote:
&gt;&gt; &gt;
&gt;&gt; &gt; If hitting a URL with GET is supposed to give you a view of the resource and
&gt;&gt; &gt;  it's not a form by default, then how to do you get a &lt;form...&gt; view of it for
&gt;&gt; &gt;  editing?
&gt;&gt;
&gt;&gt; There is no restriction on the number of URIs that may refer to
&gt;&gt; a resouce.
&gt;
&gt;Right.
&gt;
&gt;&gt;
&gt;&gt; Think, for example, of a wiki. where the 'view' URI may be
&gt;&gt;
&gt;&gt;   http://www.intertwingly.net/wiki/pie/PaceSecurityConsiderations
&gt;&gt;
&gt;&gt; and the 'edit' URI may be
&gt;&gt;
&gt;&gt;   http://www.intertwingly.net/wiki/pie/PaceSecurityConsiderations?action=edit
&gt;&gt;
&gt;&gt; These are two URIs that point to the same resource, just supplying different
&gt;&gt; representations.
&gt;
&gt;That way lies madness, IMO.
&gt;
&gt;The representations returned from those two URIs are consistently
&gt;different, which tells us they identify different resources.  They may
&gt;use the same source of data behind the scenes, but that's immaterial
&gt;from the POV of resource identification.
&gt;
&gt;Mark.
&gt;
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6413<br>
Sender:"Joe Gregorio" &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2006-08-07 03:29:13<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>No, there's no way to 'signal' that the two URIs refer to the
same resource. What the server *does* provide is a link
labelled "edit" to the form for editing.

   -joe

On 8/6/06, S. Mike Dierken &lt;dierken@...&gt; wrote:
&gt; &gt;
&gt; &gt; That is incorrect. Do not conflate representation with resource.
&gt; &gt; It is only the server that can say whether two URIs refer to
&gt; &gt; the same resource.
&gt; Does the server in this example say whether these two URIs are the same
&gt; resource?
&gt;
&gt;


-- 
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6414<br>
Sender:"Joe Gregorio" &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2006-08-07 03:35:53<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>On 8/6/06, Eric J. Bowman &lt;eric@...&gt; wrote:
&gt;
&gt; (1) http://example.com/resource
&gt;  (2) http://example.com/resource;view=edit (or ?action=edit, same difference)
&gt;
&gt;  These are considered "arbitrarily differenct URIs" as explained here:
&gt;
&gt;  http://www.w3.org/TR/webarch/#uri-aliases

No, they are not, they are two different URIs for two different
representations of the same resource.

If

   http://bitworking.org

and

  http://www.bitworking.org

refer to the same exact resource, yet they are different URIs. That is bad.

Now

   http://bitworking.org/index.html

and

   http://bitworking.org/index.atom

are two differnet URIs that refer to two different representations
of the same resource. This is not bad.

   -joe

-- 
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6415<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-08-07 03:46:00<br>
Subject:Re:  [rest-discuss] How to GET a  for editing in RESTful     design?<br>
Message:<br><br>
<pre>&gt;
&gt;On 8/6/06, Eric J. Bowman &lt;eric@...&gt; wrote:
&gt;&gt;
&gt;&gt; (1) http://example.com/resource
&gt;&gt;  (2) http://example.com/resource;view=edit (or ?action=edit, same difference)
&gt;&gt;
&gt;&gt;  These are considered "arbitrarily differenct URIs" as explained here:
&gt;&gt;
&gt;&gt;  http://www.w3.org/TR/webarch/#uri-aliases
&gt;
&gt;No, they are not, they are two different URIs for two different
&gt;representations of the same resource.
&gt;

My understanding is that (1) and (2) are different URIs because $URI1 and $URI2 are not equal:

http://gbiv.com/protocols/uri/rev-2002/rfc2396bis.html#comparison

If they are not equal, then are they not arbitrarily different URIs?  Yes, they are different representations of the same resource, but does this not mean those are two separate URIs which point to the same resource?

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6416<br>
Sender:"Joe Gregorio" &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2006-08-07 03:52:30<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>So you would claim that

  http://norman.walsh.name/2006/07/31/flowers.pdf

and

 http://norman.walsh.name/2006/07/31/flowers.html

are different resources?

  -joe


On 8/6/06, Mark Baker &lt;distobj@...&gt; wrote:
&gt; Right.  And returning consistently different representations for two
&gt; different URI, is how a server tells the world that the URIs identify
&gt; different resources.
&gt;
&gt; Mark.
&gt;


-- 
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6417<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-08-07 03:46:29<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>On 8/6/06, Joe Gregorio &lt;joe.gregorio@...&gt; wrote:
&gt; On 8/6/06, Mark Baker &lt;distobj@...&gt; wrote:
&gt; &gt; The representations returned from those two URIs are consistently
&gt; &gt; different, which tells us they identify different resources.
&gt;
&gt; That is incorrect. Do not conflate representation with resource.

I'm not.

&gt; It is only the server that can say whether
&gt; two URIs refer to the same resource.

Right.  And returning consistently different representations for two
different URI, is how a server tells the world that the URIs identify
different resources.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6418<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-08-07 04:06:46<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>On 8/6/06, Joe Gregorio &lt;joe.gregorio@...&gt; wrote:
&gt; So you would claim that
&gt;
&gt;   http://norman.walsh.name/2006/07/31/flowers.pdf
&gt;
&gt; and
&gt;
&gt;  http://norman.walsh.name/2006/07/31/flowers.html
&gt;
&gt; are different resources?

To be precise, that they identify different resources, yes.

There may very well be a common source of data for both of them, but
each presents that source data differently, and that's enough to make
them different resources.

"a resource R is a temporally varying membership function MR(t), which
for time t maps to a set of entities, or values, which are equivalent"
 -- http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_2_1_1

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6419<br>
Sender:"Dimitri Glazkov" &lt;dimitri.glazkov@...&gt;<br>
Post Date/Time:2006-08-07 12:46:06<br>
Subject:Re: [rest-discuss] Using ?editform<br>
Message:<br><br>
<pre>In my experience, the best way that I found to deal with this is
constantly keeping in mind that URIs are opaque from REST perspective.
I, too sometimes inadvertently slide back into aesthetics of URIs,
primarily because they are such an interesting subject to engineer.

But URIs are simply opaque identifiers of a resource. For all I care,
they could be randomly-generated. As long it is well-formed, it
doesn't matter whether the URI contains question marks, semicolons or
smiley faces (wait, does this make it malformed?).

:DG&lt;

On 8/6/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:
&gt; Scott Chapman &lt;scott_list@...&gt; writes:
&gt;
&gt; &gt; Nic James Ferrier wrote:
&gt; &gt;
&gt; &gt;&gt; You can do it that way as well. Just add a parameter, say editform, to
&gt; &gt;&gt; the url, eg:
&gt; &gt;&gt;
&gt; &gt;&gt;    http://server/someresource?editform
&gt; &gt;
&gt; &gt; It is my understanding that you're not supposed to modify resource URI's in
&gt; &gt; this way. It's the simple answer but I understand it's not RESTful.  Can you
&gt; &gt; who are more familiar with this please comment?
&gt;
&gt; As the man said "they're more like guidelines"
&gt;
&gt; There's nothing wrong with this per se. As I said before, there are
&gt; plenty of other ways to do it as well.
&gt;
&gt;
&gt; The editform parameter, in this example, is simply asking the server
&gt; to return a representation of /someresource that provides a form for
&gt; someresource to be updated.
&gt;
&gt; --
&gt; Nic Ferrier
&gt; http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6420<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-08-07 13:00:16<br>
Subject:Re: [rest-discuss] Using ?editform<br>
Message:<br><br>
<pre>"Dimitri Glazkov" &lt;dimitri.glazkov@...&gt; writes:

&gt; In my experience, the best way that I found to deal with this is
&gt; constantly keeping in mind that URIs are opaque from REST perspective.
&gt; I, too sometimes inadvertently slide back into aesthetics of URIs,
&gt; primarily because they are such an interesting subject to engineer.
&gt;
&gt; But URIs are simply opaque identifiers of a resource. For all I care,
&gt; they could be randomly-generated. As long it is well-formed, it
&gt; doesn't matter whether the URI contains question marks, semicolons or
&gt; smiley faces (wait, does this make it malformed?).

Unless I misunderstand you I can't agree that this is entirely true.

URIs are not simply opaque because they can be composed; consider a
resource:

   /someresource

which has the following representation:

  &lt;html&gt;
   &lt;body&gt;
     &lt;a href="1"&gt;1&lt;/a&gt;
   &lt;/body&gt;
  &lt;/html&gt;

according to the rules of HTML we know that we can compose a new URI:

   /someresource/1


URIs are also not always opaque to users. Particularly to webservice
client authors.



-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6421<br>
Sender:Claude Montpetit &lt;claude@...&gt;<br>
Post Date/Time:2006-08-07 13:49:56<br>
Subject:Re: [rest-discuss] Using ?editform<br>
Message:<br><br>
<pre>
Nic James Ferrier a �crit :
 &gt; [...]
&gt; URIs are also not always opaque to users. Particularly to webservice
&gt; client authors.
 &gt; [...]

 From reading threads after threads on this subjects, mainly as an 
observer, I believe that opacity of URIs is one of the most 
controversial subjects. From the above statement, I assume that it would 
be natural to see web service client code that looks like this:

   Product getProduct(id){
     URI uri = SERVICE_URI + "/product/" + id;
     ...
     return product;
   }

That is, the web service that we are contacting will document its API by 
describing how to build URIs. Bad right?

But clients built using this type of assumption are so easy to write. No 
need to understand discovery mechanism that are application specific: 
just learn how to build URIs to get what you want.

It seems a little too optimistic to think that the majority of clients 
will have the wisdom to only use discovery to obtain URIs when a server 
defines clean URIs. While you can offer a totally-restful web service 
with discovery, I think that many clients will eventually construct URIs 
like above, unless the service is committed enough to opacity so it 
build URIs that are randomly generated.

So my point here is that personally, as a client, I enjoy the 
possibility to build URI from the knowledge of the structure. But I am 
no expert nor a credible REST specialist.

--
Claude

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6422<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-08-07 14:13:55<br>
Subject:Re: [rest-discuss] Using ?editform<br>
Message:<br><br>
<pre>Claude Montpetit &lt;claude@...&gt; writes:

&gt; So my point here is that personally, as a client, I enjoy the 
&gt; possibility to build URI from the knowledge of the structure. But I am 
&gt; no expert nor a credible REST specialist.

I think this is absolutely right.

It's quick and easy to build clients like that. You wouldn't want to
rely on it for soemthing that _needed_ to work (like a respirator or a
nuclear power station). But something where failure wasn't that
important (get my tv listings for tommorow, list my current RSS feeds)
it would be ok.

I think that building a good REST based webservice in part involves
URI design to make it easy for people to "hack" but also to make it
reliable if people want that.

The two aims are very reconcilable.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6423<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2006-08-07 14:46:23<br>
Subject:Re: [rest-discuss] Using ?editform<br>
Message:<br><br>
<pre>I agree that while URIs don't have to be meaningful for REST, they  
should be -- similarly to identifier names in a programming language.  
Sure, you can name your variables "asdlalsdjfladjfaiswu" and still  
have a valid Java, C# or Ruby program. That doesn't mean that you  
should.

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/


On Aug 7, 2006, at 4:13 PM, Nic James Ferrier wrote:

&gt; Claude Montpetit &lt;claude@...&gt; writes:
&gt;
&gt; &gt; So my point here is that personally, as a client, I enjoy the
&gt; &gt; possibility to build URI from the knowledge of the structure. But  
&gt; I am
&gt; &gt; no expert nor a credible REST specialist.
&gt;
&gt; I think this is absolutely right.
&gt;
&gt; It's quick and easy to build clients like that. You wouldn't want to
&gt; rely on it for soemthing that _needed_ to work (like a respirator or a
&gt; nuclear power station). But something where failure wasn't that
&gt; important (get my tv listings for tommorow, list my current RSS feeds)
&gt; it would be ok.
&gt;
&gt; I think that building a good REST based webservice in part involves
&gt; URI design to make it easy for people to "hack" but also to make it
&gt; reliable if people want that.
&gt;
&gt; The two aims are very reconcilable.
&gt;
&gt; -- 
&gt; Nic Ferrier
&gt; http://www.tapsellferrier.co.uk for all your tapsell ferrier needs
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6424<br>
Sender:"Robert Sayre" &lt;sayrer@...&gt;<br>
Post Date/Time:2006-08-07 04:10:07<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>On 8/6/06, Joe Gregorio &lt;joe.gregorio@...&gt; wrote:
&gt;
&gt; So you would claim that
&gt;
&gt;  http://norman.walsh.name/2006/07/31/flowers.pdf
&gt;
&gt;  and
&gt;
&gt;  http://norman.walsh.name/2006/07/31/flowers.html
&gt;
&gt;  are different resources?
&gt;

I would. They are *output* resources, the result of combining a
transformation with the source resource. In this case, it is probably
XSLT and XSL-FO combined with a source XML file. To edit those URIs
effectively, you need to know the URIs of all the resources that
compose them: both stylesheets and the source representation. The
server shouldn't accept PUT requests at either of those URIs unless it
knows the user is okay with being overwritten next time the XSL runs.

It may be that the server is able to accept different MIME types in
PUT requests to the source resource, say CSV and JSON, but it's not
productive to assume that in the general case. I doubt Norm's server
is able to interpret the PDF well enough to make the corresponding
changes to the XHTML document. If that's the desired result, it should
redirect to the mutual source docbook or whatever when it receives a
PUT request.

-- 

Robert Sayre

"I would have written a shorter letter, but I did not have the time."



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6425<br>
Sender:"Robert Sayre" &lt;sayrer@...&gt;<br>
Post Date/Time:2006-08-07 03:40:03<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>On 8/6/06, Joe Gregorio &lt;joe.gregorio@...&gt; wrote:
&gt;
&gt; No, there's no way to 'signal' that the two URIs refer to the
&gt;  same resource. What the server *does* provide is a link
&gt;  labelled "edit" to the form for editing.

If you want to approach the problem as an HTTP-driven automaton, that's true.

If you want to approach the question from a server design perspective,
then we can say we know everything about the resource. We know that
editing the actual &lt;form&gt; markup will have no effect on the target of
the form action,  so it's not really reasonable to claim the form
constitutes a "representation" of the wiki page, any more so than
claiming the index page of my blog is but one representation of the
third entry down. REST isn't a productive design strategy unless you
accept the need for source resources, where sending a PUT request will
actually set the state of the resource. Atom calls the source resource
the "edit resource", which makes the terminology confusing, but it's
the same idea.


-- 

Robert Sayre

"I would have written a shorter letter, but I did not have the time."



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6426<br>
Sender:=?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;bill@...&gt;<br>
Post Date/Time:2006-08-08 16:11:25<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>Scott Chapman wrote:
&gt; 
&gt; 
&gt; If hitting a URL with GET is supposed to give you a view of the resource 
&gt; and
&gt; it's not a form by default, then how to do you get a &lt;form...&gt; view of 
&gt; it for
&gt; editing?
&gt; 
&gt; The same applies to getting a blank form for creating a new resource.
&gt; 
&gt; How are people handling these situations in their RESTful designs?

The most common pattern today is to provide the form at another URL, 
which you typically embed as a link in the representation. Blog APIs do 
something similar by providing a URL you post into. Looking further out, 
atom protocol will standardize a means for getting at what it calls the 
"edit-uri" for a resource.

It's a good question, illuminating even.

cheers
Bill


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6427<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2006-08-08 16:35:52<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>On 8/8/06, Bill de hra &lt;bill@...&gt; wrote:
&gt; The most common pattern today is to provide the form at another URL,
&gt; which you typically embed as a link in the representation. Blog APIs do
&gt; something similar by providing a URL you post into. Looking further out,
&gt; atom protocol will standardize a means for getting at what it calls the
&gt; "edit-uri" for a resource.

http://jot.com, which is a somewhat RESTful web app development
environment (at least everything is a resource with a URI), does it
like this:

Each form is a separate resource, which may be used for many resources.

Each resource may a form property (linking the page to a form resource).

http://example.jot.com/SomePage?edit=1 edits the resource with its
specified form.

http://example.jot.com/SomePage?edit=1&amp;form=/SomeOtherForm edits the
resource with an alternative form.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6428<br>
Sender:=?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;bill@...&gt;<br>
Post Date/Time:2006-08-08 16:56:34<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>Mark Baker wrote:
&gt; 
&gt; 
&gt; On 8/6/06, Joe Gregorio &lt;joe.gregorio@... 
&gt; &lt;mailto:joe.gregorio%40gmail.com&gt;&gt; wrote:
&gt;  &gt; On 8/6/06, Mark Baker &lt;distobj@... &lt;mailto:distobj%40acm.org&gt;&gt; wrote:
&gt;  &gt; &gt; The representations returned from those two URIs are consistently
&gt;  &gt; &gt; different, which tells us they identify different resources.
&gt;  &gt;
&gt;  &gt; That is incorrect. Do not conflate representation with resource.
&gt; 
&gt; I'm not.
&gt; 
&gt;  &gt; It is only the server that can say whether
&gt;  &gt; two URIs refer to the same resource.
&gt; 
&gt; Right. And returning consistently different representations for two
&gt; different URI, is how a server tells the world that the URIs identify
&gt; different resources.

I agree with both of you.

The web afaik doesn't have a single agreed theory of names, perhaps 
because REST/HTTP aren't adequate to provide one. One basic and 
interesting position here is to claim there is a one to one exclusive 
mapping of resources to resource identifiers (identifiers are not time 
variant), and that we need a higher level formalism to indicate semantic 
relations between sets of resources, (eg, same-as, family-likeness, 
etc). Instead of having arguments over philosphical positions I think 
it's perfectly ok for us at the REST/HTTP/L7 level to say some things 
cannot be said. Going from a resource identifier to a resource is an 
inherently ambiguous act.

So, one can argue *perfectly well*, that all that editing a form page 
does is change the representation of the resource at that POSTed to URL, 
and that any change in state of any other resource denoted by another 
URL is a coincidence. Yet, people seem to get by *perfectly well*, with 
that coincidence; many thousands of them are updating wikipedia and the 
like right now on the basis that changing the state of one resource is 
the way to change the state of another resource. Nothing breaks except 
people's common sense intuitions.

Machines are another matter, which is why they might need Layer 8 
languages, whereas we can by on having arguments in mailing lists. To 
signal that two URIs denote the same resource, you can use an OWL sameAs 
relation or some such. A special case of that appears in atom protocol 
via the edit resource. Another example is found in subversion 
branch/copy actions, which can be seen as resource christening actions 
or statements that the resource identifiers denote the same resource but 
are each serving a subset of the entities. Such things *are* possible to 
state outside of REST/HTTP; whether or not we agree with the statement 
is another matter.

cheers
Bill





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6429<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-08-08 22:11:38<br>
Subject:Re: [rest-discuss] How to GET a  for editing in RESTful design?<br>
Message:<br><br>
<pre>On Aug 8, 2006, at 9:56 AM, Bill de hra wrote:
&gt; The web afaik doesn't have a single agreed theory of names, perhaps
&gt; because REST/HTTP aren't adequate to provide one.

REST has a single agreed theory of naming.  Web architecture does
not have a single agreed theory of naming because there is no single
definition of the Web.

&gt; Instead of having arguments over philosphical positions I think
&gt; it's perfectly ok for us at the REST/HTTP/L7 level to say some things
&gt; cannot be said. Going from a resource identifier to a resource is an
&gt; inherently ambiguous act.

The REST position is that nothing can be said about what happens
behind the interface aside from what the other side says.  It isn't
ambiguous -- it is downright denial.  Think of it as communicating
through a videophone -- you can make all the expressions you like, but
you can't control what the other person does with those expressions
(or even prevent the person from being replaced by an avatar).  All
you can do is express your intentions and accept the responses in
good faith.  In other words, you give up personal control in exchange
for the ability to talk to people you hardly know, based on the
theory that it is in their best interests to do what you want even
if it isn't exactly what you expect.

....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6430<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-08-15 00:42:43<br>
Subject:PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>I found what I consider to be a problem with a server side framework
(mod_python) but the developer's of the framework consider to be
normal practice.


I wanted to write code to PUT an entity to a uri. But the code uses an
HTML FORM convention to describe the entity; eg:

  param1: value1
  param2: value2

the entity is NOT a list of values. But the list of values contains
all the information needed to represent the entity (in other words,
it's that data, just in a different format).

I was trying to process the PUT request with the toolkit's standard
FORM processing tools. But it turns out those tools (in this
particular toolkit) limit FORM processing to only reqyests where the
method is POST.


I supplied a patch to the devs of the toolkit but they rejected it
saying that they did not consider it correct PUT behaviour. They would
consider it again however if I can point to another toolkit allowing
PUT to process FORM values.


I'm pretty sure this is a legitimate thing to do. Anybody else here
have an opinion?

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6431<br>
Sender:Berend de Boer &lt;berend@...&gt;<br>
Post Date/Time:2006-08-15 03:33:12<br>
Subject:Re: [rest-discuss] PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>&gt;&gt;&gt;&gt;&gt; "Nic" == Nic James Ferrier &lt;nferrier@...&gt; writes:

    Nic&gt; I wanted to write code to PUT an entity to a uri. But the
    Nic&gt; code uses an HTML FORM convention to describe the entity; eg:

    Nic&gt; I'm pretty sure this is a legitimate thing to do. Anybody
    Nic&gt; else here have an opinion?

I use it all the time.

But yeah, you tend to be patching stuff, even new frameworks such as
prototype.js, so people on most backends are still stuck in HTML Form
world instead of looking at what the HTTP spec actually says.

-- 
Regards,

Berend. (-:

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6432<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2006-08-15 09:57:13<br>
Subject:Re: [rest-discuss] PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>Nic James Ferrier wrote:
&gt; I supplied a patch to the devs of the toolkit but they rejected it
&gt; saying that they did not consider it correct PUT behaviour.

You are providing a representation of a resource in a particular format. 
You're (presumably) supplying all the appropriate headers for the format 
to be correctly identified, you're (presumably) updating the state of 
the resource based on that in a sensible manner.

What on earth is their problem with it?

Can't say I like application/x-www-form-urlencoded as a format, but 
there's nothing wrong with it per se.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6433<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-08-15 10:23:43<br>
Subject:Re: [rest-discuss] PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>Jon Hanna &lt;jon@...&gt; writes:

&gt; Nic James Ferrier wrote:
&gt;&gt; I supplied a patch to the devs of the toolkit but they rejected it
&gt;&gt; saying that they did not consider it correct PUT behaviour.
&gt;
&gt; You are providing a representation of a resource in a particular format. 
&gt; You're (presumably) supplying all the appropriate headers for the format 
&gt; to be correctly identified, you're (presumably) updating the state of 
&gt; the resource based on that in a sensible manner.
&gt;
&gt; What on earth is their problem with it?
&gt;
&gt; Can't say I like application/x-www-form-urlencoded as a format, but 
&gt; there's nothing wrong with it per se.

Why don't you like application/x-www-form-urlencoded?

This is FORM data being PUT to the server. Which is their problem,
they think that anything being PUT should _be_ the entity. Not a
representation of the entity; that is clearly mad.

In fairness to them they are saying "we don't know of any other
toolkit that does what you want to do so why should we"

I think that's a bit stupid but at least they're not trying to argue
with me about the nature of PUT.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6434<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2006-08-15 10:47:23<br>
Subject:Re: [rest-discuss] PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>Nic James Ferrier wrote:
&gt; Why don't you like application/x-www-form-urlencoded?

It's fiddly above a rather low level of complexity.

&gt; This is FORM data being PUT to the server. Which is their problem,
&gt; they think that anything being PUT should _be_ the entity. Not a
&gt; representation of the entity; that is clearly mad.

Demonstrably so I'd say. Which of course offers a solution - demonstrate it.

Clearest case is that a resource which cont-neg selection of 
representations would be put into an ambiguous state if updating one 
representation didn't update all the others (not to say a PUT should 
*always* update all representations - since sometimes the server 
application doesn't have the wherewithal to determine how the rest 
should be updated).

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6435<br>
Sender:=?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;bill@...&gt;<br>
Post Date/Time:2006-08-15 13:09:14<br>
Subject:Re: [rest-discuss] PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>Nic James Ferrier wrote:

&gt; I was trying to process the PUT request with the toolkit's standard
&gt; FORM processing tools. But it turns out those tools (in this
&gt; particular toolkit) limit FORM processing to only reqyests where the
&gt; method is POST.
&gt; 
&gt; I supplied a patch to the devs of the toolkit but they rejected it
&gt; saying that they did not consider it correct PUT behaviour. 

They have a point, because form processing is specced in HTML not HTTP 
and HTML forms don't extend to PUT. I don't agree with that design 
choice in HTML itself, but mod_python isn't acting unreasonably; ie this 
isn't a bug. The application/x-www-form-urlencoded type isn't specced 
outside HTML, but otoh, multipart/form-data isn't bound to HTML. You 
could I suppose argue for multipart/form-data support on PUT methods.

&gt; They would
&gt; consider it again however if I can point to another toolkit allowing
&gt; PUT to process FORM values.

Ideally, you'd find a client that sends form data with PUT; that might 
clinch it.

cheers
Bill


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6436<br>
Sender:=?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;bill@...&gt;<br>
Post Date/Time:2006-08-15 13:13:49<br>
Subject:Re: [rest-discuss] PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>Nic James Ferrier wrote:

&gt; In fairness to them they are saying "we don't know of any other
&gt; toolkit that does what you want to do so why should we"
&gt; 
&gt; I think that's a bit stupid but at least they're not trying to argue
&gt; with me about the nature of PUT.

Whether it's stupid or not, it's not their stupidity; they're working to 
the specs as I understand them. It doesn't matter as much (on 
reflection) what other toolkits do as what you can infer from the specs.

cheers
Bill


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6437<br>
Sender:"S. Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-08-15 21:22:22<br>
Subject:RE: [rest-discuss] PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>
&gt; &gt; I supplied a patch to the devs of the toolkit but they rejected it 
&gt; &gt; saying that they did not consider it correct PUT behaviour.
Is your question whether PUT of x-www-form-urlencoded is allowed to store
something other than a byte-per-byte copy of the submission (I'm not sure,
but it probably is acceptable)?
Or is your question whether parsing x-www-form-urlencoded data is allowed
for PUT requests (it should be)?

&gt; The application/x-www-form-urlencoded type isn't specced outside HTML
It's a MIME type, so it is usable outside HTML. The &lt;FORM&gt; element and it's
interaction with HTTP is defined only in HTML specifications.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6438<br>
Sender:=?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;bill@...&gt;<br>
Post Date/Time:2006-08-15 21:34:23<br>
Subject:Re: [rest-discuss] PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>S. Mike Dierken wrote:
&gt;&gt;&gt; I supplied a patch to the devs of the toolkit but they rejected it 
&gt;&gt;&gt; saying that they did not consider it correct PUT behaviour.
&gt; Is your question whether PUT of x-www-form-urlencoded is allowed to store
&gt; something other than a byte-per-byte copy of the submission (I'm not sure,
&gt; but it probably is acceptable)?
&gt; Or is your question whether parsing x-www-form-urlencoded data is allowed
&gt; for PUT requests (it should be)?
&gt; 
&gt;&gt; The application/x-www-form-urlencoded type isn't specced outside HTML
&gt; It's a MIME type, so it is usable outside HTML. The &lt;FORM&gt; element and it's
&gt; interaction with HTTP is defined only in HTML specifications.

You won't find it in the IANA registry. I conclude it's not intended by 
design for anything other HTML forms :\

cheers
Bill


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6439<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-08-15 21:58:21<br>
Subject:Re: [rest-discuss] PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>

Nic wrote:
&gt;&gt; &gt; I supplied a patch to the devs of the toolkit but they rejected it 
&gt;&gt; &gt; saying that they did not consider it correct PUT behaviour.

"S. Mike Dierken" &lt;dierken@...&gt; writes:
&gt; Is your question whether PUT of x-www-form-urlencoded is allowed to store
&gt; something other than a byte-per-byte copy of the submission (I'm not sure,
&gt; but it probably is acceptable)?
&gt; Or is your question whether parsing x-www-form-urlencoded data is allowed
&gt; for PUT requests (it should be)?

Those two are mutually exclusive aren't they? If PUT must store a
byte-per-byte copy of the submission then parsing
x-www-form-urlencoded is not possible.

In my mind there is not question. One PUTs a representation of the
entity that one is going to store at the URI. The representation that
is PUT might not be the representation that is stored on disc. So one
might send a form-encoded representation of the entity and process
that form-encoded representation before serializing the entity to
disc. A typical example would be to interpolate form values into an
XML document.


But what the toolkit people are saying is: we are not aware of any
other toolkit that allows for parsing of form parameters for methods
other than POST. And as we aren't aware of any we won't change our
toolkit.

Having thought about it a bit I can't think of any other toolkits
that do this either.



I think the consensus of this list is that I am right and that I ought
to be able to PUT form data and process it on the server side into an
entity for storing at the URI. But no toolkit I can think of supports
the RESTfull behaviour.


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6440<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-08-15 22:00:46<br>
Subject:Re: [rest-discuss] PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>=?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;bill@...&gt; writes:

&gt; You won't find it in the IANA registry. I conclude it's not intended by 
&gt; design for anything other HTML forms :\

But we don't need an IANA registration for it because it's speced
adequately in HTML.

That's not to say it's only usable in HTML. As you well know there are
a ton of web services out there using FORM encoding but not using
HTML.


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6441<br>
Sender:=?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;bill@...&gt;<br>
Post Date/Time:2006-08-15 23:09:00<br>
Subject:Re: [rest-discuss] PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>Nic James Ferrier wrote:

&gt; But what the toolkit people are saying is: we are not aware of any
&gt; other toolkit that allows for parsing of form parameters for methods
&gt; other than POST. And as we aren't aware of any we won't change our
&gt; toolkit.

They should be saying "we're working to spec".

&gt; Having thought about it a bit I can't think of any other toolkits
&gt; that do this either.
&gt; 
&gt; I think the consensus of this list is that I am right and that I ought
&gt; to be able to PUT form data and process it on the server side into an
&gt; entity for storing at the URI. But no toolkit I can think of supports
&gt; the RESTfull behaviour.

Consider this dissension. I'm saying it's specced for HTML and as a 
result, the mod_python people have a reasonably behaving codebase in not 
supporting forms over PUT. Further no toolkit ought to be required to 
support what you're looking for.

cheers
Bill



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6442<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-08-15 23:18:11<br>
Subject:Re: [rest-discuss] PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>=?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;bill@...&gt; writes:

&gt; Consider this dissension. I'm saying it's specced for HTML and as a 
&gt; result, the mod_python people have a reasonably behaving codebase in not 
&gt; supporting forms over PUT. Further no toolkit ought to be required to 
&gt; support what you're looking for.

Or to put it another way:

  Toolkits do not have to allow processing of form parameters for the
  PUT method.

If that's what you're saying then... Ok.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6443<br>
Sender:"S. Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-08-15 23:53:56<br>
Subject:RE: [rest-discuss] PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>&gt; &gt;&gt; The application/x-www-form-urlencoded type isn't specced 
&gt; outside HTML
&gt; &gt; It's a MIME type, so it is usable outside HTML. The &lt;FORM&gt; 
&gt; element and 
&gt; &gt; it's interaction with HTTP is defined only in HTML specifications.
&gt; 
&gt; You won't find it in the IANA registry. I conclude it's not 
&gt; intended by design for anything other HTML forms :\
Ouch. I stand corrected.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6444<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2006-08-16 00:12:37<br>
Subject:Re: [rest-discuss] PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>On Wed, 16 Aug 2006, Nic James Ferrier wrote:
&gt; =?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;bill@...&gt; writes:
&gt;
&gt;&gt; Consider this dissension. I'm saying it's specced for HTML and as a
&gt;&gt; result, the mod_python people have a reasonably behaving codebase in not
&gt;&gt; supporting forms over PUT. Further no toolkit ought to be required to
&gt;&gt; support what you're looking for.


An HTML form describes a format for submitting data to a resource, 
regardless of whether the submission is via PUT, POST or GET.  However, 
there is no causal relationship between an HTML form and a data 
submission.

The form is hypermedia used to dynamically describe a document-oriented 
interface, something akin to WSDL.  This is not to say that the resource 
can or should only accept state from a client if the client has first 
fetched an HTML form.  In terms of REST, the purpose of the form is to 
describe the document interface using hypermedia.  That can happen once 
per POST, PUT or GET, or it can never happen; the number doesn't matter.

Toolkits should therefore support form parameters for the PUT method.

-Lucas




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6445<br>
Sender:"Joe Gregorio" &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2006-08-16 02:43:51<br>
Subject:Re: [rest-discuss] PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>On 8/14/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:
&gt;
&gt; I found what I consider to be a problem with a server side framework
&gt;  (mod_python) but the developer's of the framework consider to be
&gt;  normal practice.
&gt;
&gt;  I wanted to write code to PUT an entity to a uri. But the code uses an
&gt;  HTML FORM convention to describe the entity; eg:
&gt;
&gt;  param1: value1
&gt;    param2: value2
&gt;
&gt;  the entity is NOT a list of values. But the list of values contains
&gt;  all the information needed to represent the entity (in other words,
&gt;  it's that data, just in a different format).
&gt;
&gt;  I was trying to process the PUT request with the toolkit's standard
&gt;  FORM processing tools. But it turns out those tools (in this
&gt;  particular toolkit) limit FORM processing to only reqyests where the
&gt;  method is POST.

This is Python, so doing that yourself shouldn't have taken more
than one line of code (http://docs.python.org/lib/node474.html).

&gt;  I supplied a patch to the devs of the toolkit but they rejected it
&gt;  saying that they did not consider it correct PUT behaviour.

If web framework developers were the final arbiters of what
was "correct" HTTP behaviour we'd be doing everything over
GET, whining about GWA[1], and trying to figure out ways
how to "bust through the cache"[2].

[1] http://bitworking.org/news/I_m_sorry__I_can_t_kiss_it_and_make_it_better_
[2] http://intertwingly.net/blog/2005/03/16/AJAX-Considered-Harmful

   -joe

-- 
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6446<br>
Sender:Chris Winters &lt;chris.winters@...&gt;<br>
Post Date/Time:2006-08-16 01:18:47<br>
Subject:Re: [rest-discuss] PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>Bill de h�ra wrote:
 &gt; S. Mike Dierken wrote:
 &gt; ...
 &gt;  &gt; It's a MIME type, so it is usable outside HTML. The &lt;FORM&gt; element
 &gt;  &gt; and it's
 &gt;  &gt; interaction with HTTP is defined only in HTML specifications.
 &gt;
 &gt; You won't find it in the IANA registry. I conclude it's not intended
 &gt; by
 &gt; design for anything other HTML forms :\

So I can't make up my own MIME type as a representation?

Minor sarcasm aside, I think that if a toolkit supports mapping POST 
form values to some higher-level (even user-customizable) data structure 
then it should support the same functionality via PUT. Or did I miss the 
point?

Chris

-- 
Chris Winters (cwinters@...)
Lead Software Developer
Vocollect Healthcare Systems

(sorry about the disclaimer)

CONFIDENTIAL, PRIVILEGED COMMUNICATION: This e-mail is private and 
intended for the addressee(s) only. It may contain privileged and/or 
confidential information. If you have received it in error you are  not 
authorized to disseminate it in any manner; please delete it and any 
copies and reply to the sender that it was misdirected.




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6447<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-08-16 03:09:40<br>
Subject:Re: [rest-discuss] PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>On 8/14/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:
&gt; I supplied a patch to the devs of the toolkit but they rejected it
&gt; saying that they did not consider it correct PUT behaviour. They would
&gt; consider it again however if I can point to another toolkit allowing
&gt; PUT to process FORM values.

I'm pretty sure you could do that with Java Servlets, because it does
a reasonable job at separating data and interface.  i.e. I see no
reason why you couldn't do a req.getParameterNames() inside doPut().

Sorry for not having the gumption to test this out myself.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6448<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-08-16 08:51:22<br>
Subject:Re: [rest-discuss] PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>"Mark Baker" &lt;distobj@...&gt; writes:

&gt; On 8/14/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:
&gt;&gt; I supplied a patch to the devs of the toolkit but they rejected it
&gt;&gt; saying that they did not consider it correct PUT behaviour. They would
&gt;&gt; consider it again however if I can point to another toolkit allowing
&gt;&gt; PUT to process FORM values.
&gt;
&gt; I'm pretty sure you could do that with Java Servlets, because it does
&gt; a reasonable job at separating data and interface.  i.e. I see no
&gt; reason why you couldn't do a req.getParameterNames() inside doPut().

No... it's not a question of that. It's a question of whether the
server has parsed the data into the request parameter data structure.

The old way of doing this was the HttpUtils.parsePostData() method but
that had to be called by the container itself and clearly, without
testing all containers we don't know whether it was only limited to
POST.

I bet it is.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6449<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-08-16 08:55:34<br>
Subject:Re: [rest-discuss] PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>"Joe Gregorio" &lt;joe.gregorio@...&gt; writes:

&gt; This is Python, so doing that yourself shouldn't have taken more
&gt; than one line of code (http://docs.python.org/lib/node474.html).

Sure. But then I might as well write my own toolkits.

In fact the mod_python guys did offer a way round the issue involving
passing in an overloaded request that pretended to be a POST when it
was a PUT.

But that's not the point is it?


&gt; If web framework developers were the final arbiters of what
&gt; was "correct" HTTP behaviour we'd be doing everything over
&gt; GET, whining about GWA[1], and trying to figure out ways
&gt; how to "bust through the cache"[2].

I think that's a little unfair. Web "frameworks" covers a multitude of
evils.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6450<br>
Sender:Jerome Louvel &lt;contact@...&gt;<br>
Post Date/Time:2006-08-16 10:26:05<br>
Subject:Re: PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>Lucas Gonze wrote :
&gt; An HTML form describes a format for submitting data to a resource, 
&gt; regardless of whether the submission is via PUT, POST or GET.  However, 
&gt; there is no causal relationship between an HTML form and a data 
&gt; submission.
&gt; 
&gt; The form is hypermedia used to dynamically describe a document-oriented 
&gt; interface, something akin to WSDL.  This is not to say that the resource 
&gt; can or should only accept state from a client if the client has first 
&gt; fetched an HTML form.  In terms of REST, the purpose of the form is to 
&gt; describe the document interface using hypermedia.  That can happen once 
&gt; per POST, PUT or GET, or it can never happen; the number doesn't matter.
&gt; 
&gt; Toolkits should therefore support form parameters for the PUT method.

I don't see why the HTML specification would prevent someone to reuse 
the useful "application/x-www-form-urlencoded" MIME type that it 
introduced. Actually, I hope that a future version of HTML will finally 
allow any HTTP method to be used in HTML forms.

In the Restlet framework (http://www.restlet.org), we consider the media 
type of the input representation to be orthogonal to the method 
requested, following the HTTP spec.

And we do provide a method for parsing the input as a Form, and this 
method can be used with any method that can send content, including PUT:
http://www.restlet.org/docs/api/org/restlet/Call.html#getInputAsForm()

-- 
Jerome Louvel
http://www.noelios.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6451<br>
Sender:=?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;bill@...&gt;<br>
Post Date/Time:2006-08-16 16:00:36<br>
Subject:Re: [rest-discuss] PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>Joe Gregorio wrote:
&gt; 
&gt; 
&gt; On 8/14/06, Nic James Ferrier &lt;nferrier@... 
&gt; 
&gt;  &gt; I supplied a patch to the devs of the toolkit but they rejected it
&gt;  &gt; saying that they did not consider it correct PUT behaviour.
&gt; 
&gt; If web framework developers were the final arbiters of what
&gt; was "correct" HTTP behaviour we'd be doing everything over
&gt; GET, whining about GWA[1], and trying to figure out ways
&gt; how to "bust through the cache"[2].

That's interesting you mention it; I was going to use destructive GET 
and GWA as a counter-example to what Nick is asking for (some handy 
behaviour not warranted by any spec, and who knows how that will work 
out). But I didn't want to to sound too hostile, Nick being one of the 
good guys at the end of the day :)

cheers
Bill


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6452<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-08-16 16:33:37<br>
Subject:Re: [rest-discuss] PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>=?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;bill@...&gt; writes:

&gt; That's interesting you mention it; I was going to use destructive GET 
&gt; and GWA as a counter-example to what Nick is asking for (some handy 
&gt; behaviour not warranted by any spec, and who knows how that will work 
&gt; out). 

The thing is... you *can* do destructive GET's with most toolkits if
you want. But apparently you can't PUT an
application/x-www-form-urlencoded representation of an entity.


&gt; But I didn't want to to sound too hostile, Nick being one of the 
&gt; good guys at the end of the day :)

Chill. You'll ruin my cred. I'm bad, really I am.

/8-&gt;

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6453<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-08-16 18:28:03<br>
Subject:Re: [rest-discuss] PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>On 8/15/06, Mark Baker &lt;distobj@...&gt; wrote:

&gt;
&gt; I'm pretty sure you could do that with Java Servlets, because it does
&gt; a reasonable job at separating data and interface.  i.e. I see no
&gt; reason why you couldn't do a req.getParameterNames() inside doPut().
&gt;
&gt; Sorry for not having the gumption to test this out myself.
&gt;

Just tried it... doesn't work in Tomcat 5.5 for PUT.

And that makes sense to me. As Joe pointed out HTML forms invented
x-www-form-urlencoded, and HTML only discusses forms in terms of GET
and POST, so if they did support it, no problem, but they'd be
inventing an idiom.

And I agree that x-www-form-urlencoded is a great media type, as
name/value pairs covers (rather, could cover) about 95% of the data
you need to transmit.

Hugh

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6454<br>
Sender:Christopher Elkins &lt;chrise.esha@...&gt;<br>
Post Date/Time:2006-08-16 18:58:26<br>
Subject:Re: [rest-discuss] PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>On Aug 16, 2006, at 11:28 AM, Hugh Winkler wrote:

&gt; On 8/15/06, Mark Baker &lt;distobj@...&gt; wrote:
&gt;
&gt;&gt;
&gt;&gt; I'm pretty sure you could do that with Java Servlets, because it does
&gt;&gt; a reasonable job at separating data and interface.  i.e. I see no
&gt;&gt; reason why you couldn't do a req.getParameterNames() inside doPut().
&gt;&gt;
&gt;&gt; Sorry for not having the gumption to test this out myself.
&gt;&gt;
&gt;
&gt; Just tried it... doesn't work in Tomcat 5.5 for PUT.
&gt;
&gt; And that makes sense to me. As Joe pointed out HTML forms invented
&gt; x-www-form-urlencoded, and HTML only discusses forms in terms of GET
&gt; and POST, so if they did support it, no problem, but they'd be
&gt; inventing an idiom.

It's not just Tomcat; it's part of the Servlet (2.4) specification.


SRV.4.1.1 When Parameters Are Available

The following are the conditions that must be met before post form  
data will be populated to the parameter set:

1. The request is an HTTP or HTTPS request.
2. The HTTP method is POST.
3. The content type is application/x-www-form-urlencoded.
4. The servlet has made an initial call of any of the getParameter  
family of methods on the request object.


(Of course, you could probably still write a request wrapper and  
parse the input stream yourself.)

-- 
Christopher Elkins







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6455<br>
Sender:Jerome Louvel &lt;contact@...&gt;<br>
Post Date/Time:2006-08-16 19:53:25<br>
Subject:Re: PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>Christopher Elkins wrote :
&gt; SRV.4.1.1 When Parameters Are Available
&gt; 
&gt; The following are the conditions that must be met before post form  
&gt; data will be populated to the parameter set:
&gt; 
&gt; 1. The request is an HTTP or HTTPS request.
&gt; 2. The HTTP method is POST.
&gt; 3. The content type is application/x-www-form-urlencoded.
&gt; 4. The servlet has made an initial call of any of the getParameter  
&gt; family of methods on the request object.
&gt; 
&gt; (Of course, you could probably still write a request wrapper and  
&gt; parse the input stream yourself.)

Absolutely, the Restlet has a connector for any Servlet container which 
can help you achieve that. We indeed only work an the raw input stream 
and headers in this case.

-- 
Jerome Louvel
http://www.restlet.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6456<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-08-16 20:24:03<br>
Subject:Re: [rest-discuss] PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>On 8/16/06, Christopher Elkins &lt;chrise.esha@...&gt; wrote:
&gt; SRV.4.1.1 When Parameters Are Available
&gt;
&gt; The following are the conditions that must be met before post form
&gt; data will be populated to the parameter set:
&gt;
&gt; 1. The request is an HTTP or HTTPS request.
&gt; 2. The HTTP method is POST.
&gt; 3. The content type is application/x-www-form-urlencoded.
&gt; 4. The servlet has made an initial call of any of the getParameter
&gt; family of methods on the request object.

Grr.. That's stupid on so many levels.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6457<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-08-16 20:49:33<br>
Subject:Re: [rest-discuss] PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>"Mark Baker" &lt;distobj@...&gt; writes:

&gt; On 8/16/06, Christopher Elkins &lt;chrise.esha@...&gt; wrote:
&gt;&gt; SRV.4.1.1 When Parameters Are Available
&gt;&gt;
&gt;&gt; The following are the conditions that must be met before post form
&gt;&gt; data will be populated to the parameter set:
&gt;&gt;
&gt;&gt; 1. The request is an HTTP or HTTPS request.
&gt;&gt; 2. The HTTP method is POST.
&gt;&gt; 3. The content type is application/x-www-form-urlencoded.
&gt;&gt; 4. The servlet has made an initial call of any of the getParameter
&gt;&gt; family of methods on the request object.
&gt;
&gt; Grr.. That's stupid on so many levels.

I was involved in the specing of the Servlet API.

It seems stupid now but it's so old that it's really not fair to
criticise it.

Servlets are hardly used at all directly by users now. People just
layer other toolkits on top.

The servlet API does provide filters so you can layer new ideas about
request handling on top of those provided by the API.


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6458<br>
Sender:"Justin T. Sampson" &lt;justin@...&gt;<br>
Post Date/Time:2006-08-16 21:13:53<br>
Subject:Re: [rest-discuss] PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>On 8/16/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:

&gt;  Servlets are hardly used at all directly by users now. People just
&gt;  layer other toolkits on top.

True enough -- I've often been annoyed that the Servlet spec doesn't
include multipart/form-data at all, but then if I think about it, I'm
actually glad because that means I can use an open source
implementation of my choice regardless of the Servlet container I'm
forced to use. The Jakarta Commans FileUpload library has several
patches (I've contributed a couple) that make it work successfully
with numerous browsers that don't do things quite right, which might
not have made it into official Servlet implementations if they were
required to support it...

(Of course it's sad that any browsers get even such a simple thing
wrong... The particular case I'm remembering was I think with IE 5 for
Mac, which in some cases would use \n alone instead of \r\n at the end
of some multipart headers...)

Cheers,
Justin

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6459<br>
Sender:"Andy" &lt;IMarvinTPA@...&gt;<br>
Post Date/Time:2006-08-16 22:23:00<br>
Subject:Re: PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>(I oppologize now if this gets multi-posted.  Actually, I figured out
what I did, I didn't mean to send it only to the origional author and
then the list admin.)
Correct me if I'm wrong, but application/x-www-form-urlencoded puts in
the body of the "POST" or "PUT" request something that looks like:
Acro_ID=14&amp;OldAcro_ID=14&amp;Acronym=ACS&amp;OldAcronym=ACS&amp;Definition=Afloat+Correlation+System%2FAmphibious+Command+Ship&amp;OldDefinition=Afloat+Correlation+System%2FAmphibious+Command+Ship&amp;Meaning=testing+put2&amp;OldMeaning=testing+put2&amp;Acro_Date=11%2F2%2F2001+12%3A36%3A43+PM&amp;OldAcro_Date=11%2F2%2F2001+12%3A36%3A43+PM

Correct?  
Not:
Acro_ID:14
OldAcro_ID=14
...

If so, IIS5.1 + Classic ASP will parse the contents of the PUT with
content type of application/x-www-form-urlencoded into the
Request.form collection happily for you.  If you're looking for
something that works like what you think it should.  (Not that I found
a web browser that would let me do &lt;form method='PUT'
action='EditAcro.asp'&gt; and not convert it into a 'GET'.  (AJAX to the
rescue to test.)

If I am wrong, what is the correct ENCTYPE for the form element?

IMarv








</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6460<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-08-17 00:18:58<br>
Subject:Re: [rest-discuss] PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>On 8/16/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:
&gt; I was involved in the specing of the Servlet API.
&gt;

Oh 8-)

&gt; It seems stupid now but it's so old that it's really not fair to
&gt; criticise it.

I think it's more than fair, I think it's our obligation to point out
flaws so that designers of other frameworks can learn from those
complaints.  Try not to take it personally.  In fact, I think Servlets
are *still* one of the best designed Web app frameworks around, so I
have no problem picking on the spec in the (IMO) few places it goes
awry.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6461<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-08-17 00:21:23<br>
Subject:Re: [rest-discuss] Re: PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>Acro_ID=14&amp;OldAcro_ID=14&amp;Acronym=ACS&amp;OldAcronym=ACS&amp;Definition=Afloat+Correlation+System%2FAmphibious+Command+Ship&amp;OldDefinition=Afloat+Correlation+System%2FAmphibious+Command+Ship&amp;Meaning=testing+put2&amp;OldMeaning=testing+put2&amp;Acro_Date=11%2F2%2F2001+12%3A36%3A43+PM&amp;OldAcro_Date=11%2F2%2F2001+12%3A36%3A43+PM
&gt;
&gt; Correct?

Yep

&gt;
&gt; If so, IIS5.1 + Classic ASP will parse the contents of the PUT with
&gt; content type of application/x-www-form-urlencoded into the
&gt; Request.form collection happily for you.

Good news! That's the evidence nic is looking for.

&gt; If you're looking for
&gt; something that works like what you think it should.  (Not that I found
&gt; a web browser that would let me do &lt;form method='PUT'
&gt; action='EditAcro.asp'&gt; and not convert it into a 'GET'.  (AJAX to the
&gt; rescue to test.)
&gt;

You know, it's probably just as well HTML didn't specify form PUT. You
just know that webapps everywhere would have one single "putdata.asp"
resource that simply acts like a POST i.e. a GET on the resource
giving you a form, not what you just PUT there....


Hugh

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6462<br>
Sender:Dan Kubb &lt;dan.kubb-rest-discuss@...&gt;<br>
Post Date/Time:2006-08-17 01:30:04<br>
Subject:Re: [rest-discuss] PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>Hi Nic,

&gt; They would consider it again however if I can point to another  
&gt; toolkit allowing
&gt; PUT to process FORM values.

I believe the (upcoming) 1.2 release of Ruby on Rails will support  
PUT of
application/x-www-form-urlencoded formatted data:

Actually current versions of rails will parse application/x-www-form- 
urlencoded
data via PUT fine, its just that with the 1.2 release the rails core  
team will
begin encouraging people to design controllers to handle HTTP methods  
other than
GET and POST:

   Rest Support In Rails 1.2
   http://jorgeferrer.agile-spain.com/portal/node/12

-- 

Thanks,

Dan
__________________________________________________________________

Dan Kubb
Autopilot Marketing Inc.

Email: dan.kubb@...
Phone: 1 (604) 820-0212
Web:   http://autopilotmarketing.com/
vCard: http://autopilotmarketing.com/~dan.kubb/vcard
__________________________________________________________________






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6463<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2006-08-17 07:35:40<br>
Subject:Re: [rest-discuss] Re: PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>Jerome Louvel schrieb:
&gt; I don't see why the HTML specification would prevent someone to reuse
&gt; the useful "application/ x-www-form- urlencoded" MIME type that it
&gt; introduced. Actually, I hope that a future version of HTML will finally
&gt; allow any HTTP method to be used in HTML forms.
&gt; 
&gt; In the Restlet framework (http://www.restlet. org 
&gt; &lt;http://www.restlet.org&gt;), we consider the media
&gt; type of the input representation to be orthogonal to the method
&gt; requested, following the HTTP spec.
&gt; 
&gt; And we do provide a method for parsing the input as a Form, and this
&gt; method can be used with any method that can send content, including PUT:
&gt; http://www.restlet. org/docs/ api/org/restlet/ Call.html# getInputAsForm 
&gt; &lt;http://www.restlet.org/docs/api/org/restlet/Call.html#getInputAsForm&gt;()

Hi,

I realize I'm late in this discussion, and I have to confess I didn't 
read all prior mails.

I'm really not sure what this discussion is about:

1) application/x-www-form-urlencoded is a MIME type that can encode 
name/value pairs,

2) It's used in HTML forms with POST,

3) POST is defined in HTTP with very loose semantics, in particular the 
application/x-www-form-urlencoded can be used to modify an existing 
resource, or to add a new subordinate based on these name/value pairs.

Now PUT is different. When I do a PUT, I expect the server to modify the 
resource I target based on the *representation* I send. If that 
representation happens to be of type application/x-www-form-urlencoded, 
so be it. In general, I would expect a server to just store the content, 
and do nothing more.

Of course if the resource being authored happens to have a specific type 
that can be represented as a set of name/value pairs (a property map), 
the server could parse the body, extract the data and persist it in a 
different way. But that's an edge case, not the general one. But doing 
that although the nature of the resource is being something else (say, 
an MP3), would be a violate the semantics of PUT.

That is, a toolkit that blindly parses application/x-www-form-urlencoded 
content upon PUT IMHO has a severe bug. What it should do is allow the 
code that implements PUT to have that content parsed *optionally*.

Best regards, Julian





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6464<br>
Sender:"Jerome Louvel" &lt;contact@...&gt;<br>
Post Date/Time:2006-08-17 07:46:21<br>
Subject:RE: [rest-discuss] Re: PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>
&gt; Julian Reschke wrote:
&gt; Now PUT is different. When I do a PUT, I expect the server to 
&gt; modify the 
&gt; resource I target based on the *representation* I send. If that 
&gt; representation happens to be of type 
&gt; application/x-www-form-urlencoded, 
&gt; so be it. In general, I would expect a server to just store 
&gt; the content, 
&gt; and do nothing more. 

Your origin server handling the PUT is the main responsible of the
processing that takes place. It could store the input in a database, in the
file system or in a content repository for example. What matters is that is
respects the general HTTP PUT semantics and that it has a consistent
behavior across the application.

&gt; Of course if the resource being authored happens to have a 
&gt; specific type 
&gt; that can be represented as a set of name/value pairs (a 
&gt; property map), 
&gt; the server could parse the body, extract the data and persist it in a 
&gt; different way. But that's an edge case, not the general one. 
&gt; But doing 
&gt; that although the nature of the resource is being something 
&gt; else (say, 
&gt; an MP3), would be a violate the semantics of PUT. 

Agreed.
 
&gt; That is, a toolkit that blindly parses 
&gt; application/x-www-form-urlencoded 
&gt; content upon PUT IMHO has a severe bug. What it should do is 
&gt; allow the 
&gt; code that implements PUT to have that content parsed *optionally*. 

Exactly, and that's what happens with Restlets. By default, you use the
input representation unchanged with Call.getInput(). It's only if you invoke
Call.getInputAsFrom() that it attempts to parse the content.

Cheers,
Jerome
http://www.restlet.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6465<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-08-17 08:20:57<br>
Subject:Re: [rest-discuss] Re: PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>Julian Reschke &lt;julian.reschke@...&gt; writes:

&gt; Now PUT is different. When I do a PUT, I expect the server to modify the 
&gt; resource I target based on the *representation* I send. If that 
&gt; representation happens to be of type application/x-www-form-urlencoded, 
&gt; so be it. In general, I would expect a server to just store the content, 
&gt; and do nothing more.

That's not what most people here expect and not what I wanted from the
toolkit.

I wanted to PUT a FORM representation of an entity and process it
before storing the entity under the resource.

But the toolkit did not let me get field values from the PUT FORM
representation because it limited this behaviour to POST.

Seems like reasonable behaviour to me.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6466<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2006-08-17 13:52:54<br>
Subject:Re: [rest-discuss] Re: PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>Joe Gregorio schrieb:
&gt; On 8/17/06, Julian Reschke &lt;julian.reschke@...&gt; wrote:
&gt;&gt;  Now PUT is different. When I do a PUT, I expect the server to modify the
&gt;&gt;  resource I target based on the *representation* I send. If that
&gt;&gt;  representation happens to be of type application/x-www-form-urlencoded,
&gt;&gt;  so be it. In general, I would expect a server to just store the content,
&gt;&gt;  and do nothing more.
&gt; 
&gt; That would be the wrong expectation:
&gt; 
&gt;   http://www.imc.org/atom-protocol/mail-archive/msg05425.html

With all due respect for Roy, RFC2616 says 
(&lt;http://greenbytes.de/tech/webdav/rfc2616.html#rfc.section.9.6&gt;):

"The PUT method requests that the enclosed entity be stored under the 
supplied Request-URI."

Now the server does have some freedom in what "storing" means; it mainly 
depends on the nature of the resource.

- for a WebDAV server implementing FS sematics, it's store octet-by-octet,

- for an APP server, it means "store the Atom entry in a way licensed by 
the relevant Atom RFCs"

and so on.

However, using application/x-www-form-urlencoded for PUT for anything 
other than storing that entity IMHO is in conflict with what RFC2616 says.

Best regards, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6467<br>
Sender:"Andy" &lt;IMarvinTPA@...&gt;<br>
Post Date/Time:2006-08-17 14:22:56<br>
Subject:Re: PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, Julian Reschke &gt; However, using
application/x-www-form-urlencoded for PUT for anything 
&gt; other than storing that entity IMHO is in conflict with what RFC2616
says.
&gt; 
&gt; Best regards, Julian
&gt;

(I may be confused by this, so if I am, don't take this badly.)

Let us suppose that I write my application to accept three
representations of an acronym found at http://www.example.com/acro/42
If you:
GET http://www.example.com/acro/42
Accept: application/xml
...
&lt;Acro&gt;
  &lt;ID&gt;42&lt;/ID&gt;
  &lt;Acronym&gt;LIG&lt;/Acronym&gt;
  &lt;Definition&gt;Life Is Good&lt;/Definition&gt;
&lt;/Acro&gt;

Or:
If you:
GET http://www.example.com/acro/42
Accept: text/csv
...
ID,Acronym,Definition
42,LIG,Life Is Good

Or:
If you:
GET http://www.example.com/acro/42
Accept: application/json
...
{"ID":42
,"Acronym":"LIG"
,"Definition":"Life Is Good"}

And then turn around and have that page accept any of those content
types, or even application/x-www-form-urlencoded, do you expect that
if the xml version gets uploaded that the other two remain the same
until they are respectively updated?
There are lots of resources already in place on web servers to process
application/x-www-form-urlencoded, so why not use those when an update
comes in in that format?

For all we know, we could accept/send:

GET http://www.example.com/acro/42
Accept: application/x-www-form-urlencoded
...
ID=42&amp;Acronym=LIG&amp;Definition=Life+Is+Good

Why should POST be allowed exclusive easy use of
application/x-www-form-urlencoded while PUT, DELETE, or any other
method be prohibited from it?  If there is a service in the web server
to easily discombobulate application/x-www-form-urlencoded into easy
to access variables, then why shouldn't it be used on any HTTP method
that has that as its contents?  If you REALLY wanted the contents
unaltered, they're still there in their own variable.

I've stopped fighting for one serialization format and have concluded
that it does not do any harm to support more than one.  Who am I to
tell them that a particular way to represent something is wrong?

IMarv





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6468<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-08-17 14:30:17<br>
Subject:Re: [rest-discuss] Re: PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>On 8/17/06, Julian Reschke &lt;julian.reschke@...&gt; wrote:
&gt; Joe Gregorio schrieb:

&gt; &gt; That would be the wrong expectation:
&gt; &gt;
&gt; &gt;   http://www.imc.org/atom-protocol/mail-archive/msg05425.html
&gt;


&gt; &gt; However, using application/x-www-form-urlencoded for PUT for anything
&gt; &gt; other than storing that entity IMHO is in conflict with what RFC2616 says.
&gt;

Actually, if you PUT application/x-www-form-urlencoded:
a=1&amp;b=2&amp;c=3

and my application doesn't know what to do with b and c parameters, it
is OK for the server to return application/x-www-form-urlencoded
a=1

if you subsequently GET. I guess that is the crux of our disagreement:
you are saying the server has to return all three pairs.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6469<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2006-08-17 14:40:40<br>
Subject:Re: [rest-discuss] Re: PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>Hugh Winkler schrieb:
&gt; On 8/17/06, Julian Reschke &lt;julian.reschke@...&gt; wrote:
&gt;&gt; Joe Gregorio schrieb:
&gt; 
&gt;&gt; &gt; That would be the wrong expectation:
&gt;&gt; &gt;
&gt;&gt; &gt;   http://www.imc.org/atom-protocol/mail-archive/msg05425.html
&gt;&gt;
&gt; 
&gt; 
&gt;&gt; &gt; However, using application/x-www-form-urlencoded for PUT for anything
&gt;&gt; &gt; other than storing that entity IMHO is in conflict with what RFC2616 
&gt;&gt; says.
&gt;&gt;
&gt; 
&gt; Actually, if you PUT application/x-www-form-urlencoded:
&gt; a=1&amp;b=2&amp;c=3
&gt; 
&gt; and my application doesn't know what to do with b and c parameters, it
&gt; is OK for the server to return application/x-www-form-urlencoded
&gt; a=1
&gt; 
&gt; if you subsequently GET. I guess that is the crux of our disagreement:
&gt; you are saying the server has to return all three pairs.

No, I didn't say that. Maybe there is no disagreement here after all.

What I'm trying to say is that PUT with that content type should only 
succeed if and only if application/x-www-form-urlencoded is an 
appropriate representation of the resource's nature. So for instance, 
using that content-type in order to set name/value pairs in the document 
properties of a Word file would be an abuse of it.

Best regards, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6470<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2006-08-17 14:49:09<br>
Subject:Re: [rest-discuss] Re: PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>Andy,

no, what you suggest makes perfect sense. I didn't intend to argue 
against it.

Maybe I just misunderstood the whole thread but at some point I got the 
impression that people wanted servers/frameworks to always handle 
application/x-www-form-urlencoded as a special case, no matter what the 
method type was.

So yes, if a server implements PUT, and the nature of the resource is 
compatible with a set of name/value pairs, then that content type if 
perfectly ok for both GET and PUT.

However, I would expect that if I use PUT and only set two names out of 
three, the other one gets deleted (PUT is not a partial update, if you 
want that, use POST).

Best regards, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6471<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-08-17 15:10:37<br>
Subject:Re: [rest-discuss] Re: PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>&gt; What I'm trying to say is that PUT with that content type should only
&gt; succeed if and only if application/x-www-form-urlencoded is an
&gt; appropriate representation of the resource's nature.

Agreed. So my example was wrong. The server should return an error
status if the user agent submitted a=1&amp;b=2&amp;c=3, because the
application protocol it implements does not understand b or c.

&gt; So for instance,
&gt; using that content-type in order to set name/value pairs in the document
&gt; properties of a Word file would be an abuse of it.
&gt;

hm. I could submit form data:
text=The%20rain%20in%20spain...

When you GET, my server could return application/msword, or
application/pdf, or text/plain. No problem, right?

Hugh

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6472<br>
Sender:"Andy" &lt;IMarvinTPA@...&gt;<br>
Post Date/Time:2006-08-17 15:21:30<br>
Subject:Re: PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, Julian Reschke
&lt;julian.reschke@...&gt; wrote:
&gt;
&gt; Andy,
&gt; 
&gt; no, what you suggest makes perfect sense. I didn't intend to argue 
&gt; against it.
&gt; ...
&gt; However, I would expect that if I use PUT and only set two names out of 
&gt; three, the other one gets deleted (PUT is not a partial update, if you 
&gt; want that, use POST).
&gt; 
&gt; Best regards, Julian
&gt;

This is an interesting puzzle point.
It depends on what the developer wants it to do.
If the resource has 3 properties and somebody puts 2, should it assume
that the third is null or return an error?
That's where the assumptions of the application come into play.  If
the field is NOT NULL, then it should kick back an error.  If blanks
are allowed, but the poperty must be supplied, kick back an error.  If
it may be blank and does not need to be specified, it can consume the
request happily. 

The problem is, if a framework will happily parse the body of a
"content-type: application/x-www-form-urlencoded" POST, but not a PUT
then it isn't really consistant.  It should parse it for all, or for none.

In any case, I think we both agree that there is no harm in any
framework from processing application/x-www-form-urlencoded bodies to
fill in any form of request.form("name") or form['name'] collections.

Andy




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6473<br>
Sender:"Andy" &lt;IMarvinTPA@...&gt;<br>
Post Date/Time:2006-08-17 15:25:17<br>
Subject:HTTP OPTIONS method for querying capabilities of a resource.<br>
Message:<br><br>
<pre>I see lots of discussion on the "GET", "POST", "PUT", and "DELETE"
HTTP methods when talking about REST, but I never see much about how
to discover what you can do with a resource.  Wouldn't it make sense
to ask the resource what it is capable of?  The HTTP specification
details "OPTIONS" as 
"The OPTIONS method represents a request for information about the
communication options available on the request/response chain
identified by the Request-URI. This method allows the client to
determine the options and/or requirements associated with a resource,
or the capabilities of a server, without implying a resource action or
initiating a resource retrieval."

http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.2

So, it would make sense at this point to return some sort of service
description listing the other methods, what those do, and required and
optional parameters they each support.  
I'm not going to argue which description language is the best, but I
do think that this method should not be ignored.  It could also vary
depending on if the request contained an Accept header.  For
text/html, it could return something very human readable.  For
application/xml or text/xml, it could return a standardized resource
description in XML.  (For application/json, it could return the above
in JSON notation, etc.)

Has this been discussed somewhere and ruled out and I just haven't
found it, or is this a good idea?
Thank you,
Andy Bay / IMarvinTPA





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6474<br>
Sender:"Joe Gregorio" &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2006-08-17 13:36:11<br>
Subject:Re: [rest-discuss] Re: PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>On 8/17/06, Julian Reschke &lt;julian.reschke@...&gt; wrote:
&gt;  Now PUT is different. When I do a PUT, I expect the server to modify the
&gt;  resource I target based on the *representation* I send. If that
&gt;  representation happens to be of type application/x-www-form-urlencoded,
&gt;  so be it. In general, I would expect a server to just store the content,
&gt;  and do nothing more.

That would be the wrong expectation:

   http://www.imc.org/atom-protocol/mail-archive/msg05425.html

   -joe

-- 
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6475<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-08-17 16:06:56<br>
Subject:Re: [rest-discuss] HTTP OPTIONS method for querying capabilities of a resource.<br>
Message:<br><br>
<pre>"Andy" &lt;IMarvinTPA@...&gt; writes:

&gt; I see lots of discussion on the "GET", "POST", "PUT", and "DELETE"
&gt; HTTP methods when talking about REST, but I never see much about how
&gt; to discover what you can do with a resource.  Wouldn't it make sense
&gt; to ask the resource what it is capable of?  The HTTP specification
&gt; details "OPTIONS" as 
&gt; "The OPTIONS method represents a request for information about the
&gt; communication options available on the request/response chain
&gt; identified by the Request-URI. This method allows the client to
&gt; determine the options and/or requirements associated with a resource,
&gt; or the capabilities of a server, without implying a resource action or
&gt; initiating a resource retrieval."


I've been trying to work towards a framework that allowed the
framework to auto-discover OPTIONS.

This was kinda done in the Servlet API. A servlet can implement the
doGet, doPost, doPut, etc... methods and the doOptions works this out
and sends an appropriate response.

What couldn't be done in the Servlet API was auto-discovering content
types accepted or generated because it's not declared anywhere.

I have been working on a purely functional (in XSLT) representation of a
webapp. Because it's purely functional (and therefore declarative) it
should be possible to infer everything about the aspects of the
request and response.



&gt; I'm not going to argue which description language is the best, but I
&gt; do think that this method should not be ignored.  It could also vary
&gt; depending on if the request contained an Accept header.  For
&gt; text/html, it could return something very human readable.  For
&gt; application/xml or text/xml, it could return a standardized resource
&gt; description in XML.  (For application/json, it could return the above
&gt; in JSON notation, etc.)

AFAIK you don't need anything more than HTTP provides: the HTTP header
can state which methods are supported for a particular URI and which
content types, encodings, languages, etc...

OPTIONs can, and should, tell you a fantastic amount about the
resource.

A pity it's so often overlooked.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6476<br>
Sender:"Phil Ruelle" &lt;Philip.Ruelle@...&gt;<br>
Post Date/Time:2006-08-17 16:36:32<br>
Subject:Asynchronicity<br>
Message:<br><br>
<pre>Hi,

I've been looking through the HTTP 1.1 spec to try to answer some 
questions about support for asynchronous processing of requests.

To my mind of the 4 main methods (GET, PUT, POST, DELETE) GET is the 
only one which could not be processed asynchronously. The others can 
all validly return 202 codes.

Section 9 of RFC2068 specifically mentions returning a 202 for a 
DELETE 
request but does not mention 202 as a valid response for either PUT 
or 
POST. Since section 9 is about method descriptions I am not taking 
the 
omission of 202 as being a definitive statement about it being 
disallowed.

It all seems quite straight forward but then you get into issues 
about 
idempotency. PUT and DELETE are both idempotent (section 9.1.2). I 
was 
thinking that any asynchronous request would return a 202 along with 
a 
URI for a status monitor resource. I assume this would break the 
idempotency rule since each invocation would involve the creation of 
a 
new resource - the status monitor. 

For a DELETE the client could always poll the resource and would know 
its request had been processed when it got back a 404. Of course 
following this approach the client would never know if their request 
failed or was just taking an extremely long time to be processed.

A similar problem exists with PUT. The client can continually GET the 
resource until it looks like the one that it PUT but of course that 
may 
never happen not least because someone else can have changed it 
inbetween polling. This line of thought has lead me to start thinking 
about versioning resources but that is non-trivial and I'd like to 
gather some other opinions before I open that pandora's box.

If anyone can share their opinion on which methods can be invoked 
asynchronously I'd appreciate it and any elaboration on how to 
achieve 
it (with regard to return codes, resource status, status monitors, 
etc) 
would be especially welcomed.

Thanks and regards,
Phil





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6477<br>
Sender:Jerome Louvel &lt;contact@...&gt;<br>
Post Date/Time:2006-08-17 17:18:28<br>
Subject:Re: HTTP OPTIONS method for querying capabilities of a resource.<br>
Message:<br><br>
<pre>This is a very good suggestion! I'm planning to add support for WADL 
description documents to the Restlet framework in the future 
(http://restlet.tigris.org/issues/show_bug.cgi?id=59). Exposing them via 
OPTIONS "*" would be very nice.

Ideally frameworks should dynamically generate alternative descriptions 
(WADL, HTML, etc.) based on some internal metadata about the resources 
so the burden on developers would be minimal.
--
Jerome Louvel
http://www.restlet.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6478<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-08-17 13:40:49<br>
Subject:Re: [rest-discuss] Re: PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6479<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-08-17 18:41:59<br>
Subject:Re: [rest-discuss] Re: HTTP OPTIONS method for querying capabilities of a resource.<br>
Message:<br><br>
<pre>Jerome Louvel &lt;contact@...&gt; writes:

&gt; This is a very good suggestion! I'm planning to add support for WADL 
&gt; description documents to the Restlet framework in the future 
&gt; (http://restlet.tigris.org/issues/show_bug.cgi?id=59). Exposing them via 
&gt; OPTIONS "*" would be very nice.
&gt;
&gt; Ideally frameworks should dynamically generate alternative descriptions 
&gt; (WADL, HTML, etc.) based on some internal metadata about the resources 
&gt; so the burden on developers would be minimal.

Yes. This is a big advantage the heavy web service people have. You
right your code and then click a button or add an option to your
compile and you get a webservice. You don't have to know anything
about the web! (which is why they're crap of course... but also why
they're popular).


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6480<br>
Sender:Ian Clelland &lt;ian@...&gt;<br>
Post Date/Time:2006-08-17 19:14:46<br>
Subject:Re: [rest-discuss] Asynchronicity<br>
Message:<br><br>
<pre>On Thu, Aug 17, 2006 at 04:36:32PM -0000, Phil Ruelle wrote:
&gt; Hi,
&gt; 
&gt; I've been looking through the HTTP 1.1 spec to try to answer some 
&gt; questions about support for asynchronous processing of requests.
&gt; 
&gt; To my mind of the 4 main methods (GET, PUT, POST, DELETE) GET is the 
&gt; only one which could not be processed asynchronously. The others can 
&gt; all validly return 202 codes.
&gt; 
&gt; Section 9 of RFC2068 specifically mentions returning a 202 for a
&gt; DELETE request but does not mention 202 as a valid response for either
&gt; PUT or POST. Since section 9 is about method descriptions I am not
&gt; taking the omission of 202 as being a definitive statement about it
&gt; being disallowed.

Agreed. It seems perfectly reasonable to expect that a PUT or POST
might be delayed, for any number of reasons, and that a 202 response
would be correct, from the description in 10.2.3.
 
&gt; It all seems quite straight forward but then you get into issues about
&gt; idempotency. PUT and DELETE are both idempotent (section 9.1.2). I was
&gt; thinking that any asynchronous request would return a 202 along with a
&gt; URI for a status monitor resource. I assume this would break the
&gt; idempotency rule since each invocation would involve the creation of a
&gt; new resource - the status monitor. 

I'm not certain why this would be true -- a status monitor is, in the
first place, optional; a server is by no means required to provide the
client with one.

It would also be possible for a status monitor URL to be just another
view of the resource, say,

http://www.example.com/resource;status

In that case, the monitor url would be the same for all clients, and
could just show the status of any pending requests on the resource.
Additional PUT or DELETE requests might change this status view, but
wouldn't necessarily be creating additional resources.

Finally, if new status monitors are created on every PUT or DELETE
request, but are deleted as soon as the operation is completed, then
idempotence is preserved, since the state of the server after several
requests is the same as after a single request. The extra side effects
(of creating status monitors) are temporary.


Ian Clelland
&lt;ian@...&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6481<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-08-17 19:13:42<br>
Subject:Re: [rest-discuss] Asynchronicity<br>
Message:<br><br>
<pre>On 8/17/06, Phil Ruelle &lt;Philip.Ruelle@...&gt; wrote:

&gt; I've been looking through the HTTP 1.1 spec to try to answer some
&gt; questions about support for asynchronous processing of requests.
&gt;
&gt; To my mind of the 4 main methods (GET, PUT, POST, DELETE) GET is the
&gt; only one which could not be processed asynchronously. The others can
&gt; all validly return 202 codes.
&gt;
&gt; Section 9 of RFC2068

You want rfc 2616

&gt; specifically mentions returning a 202 for a
&gt; DELETE
&gt; request but does not mention 202 as a valid response for either PUT
&gt; or
&gt; POST. Since section 9 is about method descriptions I am not taking
&gt; the
&gt; omission of 202 as being a definitive statement about it being
&gt; disallowed.
&gt;

it's ok to return 202 for PUT and POST

&gt; It all seems quite straight forward but then you get into issues
&gt; about
&gt; idempotency. PUT and DELETE are both idempotent (section 9.1.2). I
&gt; was
&gt; thinking that any asynchronous request would return a 202 along with
&gt; a
&gt; URI for a status monitor resource. I assume this would break the
&gt; idempotency rule since each invocation would involve the creation of
&gt; a
&gt; new resource - the status monitor.
&gt;

If the result of doing an operation two or more times gives the same
result as doing it once, then it's idempotent. Creation of a status
monitor is a harmless side effect that doesn't affect idempotency.

see http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html


&gt; For a DELETE the client could always poll the resource and would know
&gt; its request had been processed when it got back a 404. Of course
&gt; following this approach the client would never know if their request
&gt; failed or was just taking an extremely long time to be processed.
&gt;
&gt; A similar problem exists with PUT. The client can continually GET the
&gt; resource until it looks like the one that it PUT but of course that
&gt; may
&gt; never happen not least because someone else can have changed it
&gt; inbetween polling.

Good questions. If the server supports conditional put you can look in
the ETag or last-Modified header returned by GET. That tells you
whether the resource has changed since the last GET on that resource.
It doesn't indicate whether this represents your PUT or someone else's
that occurred *after* yours.  If you PUT conditionally using e.g.
If-Match http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.24,
nobody else's change could precede yours. If everybody else PUTs
conditionally, then likewise, they won't clobber your change unless
it's intentional (i.e they previously retrieved your version). If you
control the server you can make it refuse to honor unconditional PUTs.
So while you can't know for sure that the any particular response to
GET is the one you PUT, you can be sure that all changes happened
intentionally.

So hopefully that's good enough. Because I think if you examine what
you're asking for, it would require some sort of locking mechanism
which HTTP doesn't and shouldn't have.



&gt;This line of thought has lead me to start thinking
&gt; about versioning resources but that is non-trivial and I'd like to
&gt; gather some other opinions before I open that pandora's box.
&gt;

WebDAV?

&gt; If anyone can share their opinion on which methods can be invoked
&gt; asynchronously I'd appreciate it and any elaboration on how to
&gt; achieve
&gt; it (with regard to return codes, resource status, status monitors,
&gt; etc)
&gt; would be especially welcomed.
&gt;
&gt; Thanks and regards,
&gt; Phil
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6482<br>
Sender:"Andy" &lt;IMarvinTPA@...&gt;<br>
Post Date/Time:2006-08-17 12:18:14<br>
Subject:HTTP OPTIONS method for querying capabilities of a resource.<br>
Message:<br><br>
<pre>I see lots of discussion on the "GET", "POST", "PUT", and "DELETE"
HTTP methods when talking about REST, but I never see much about how
to discover what you can do with a resource.  Wouldn't it make sense
to ask the resource what it is capable of?  The HTTP specification
details "OPTIONS" as 
"The OPTIONS method represents a request for information about the
communication options available on the request/response chain
identified by the Request-URI. This method allows the client to
determine the options and/or requirements associated with a resource,
or the capabilities of a server, without implying a resource action or
initiating a resource retrieval."

http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.2

So, it would make sense at this point to return some sort of service
description listing the other methods, what those do, and required and
optional parameters they each support.  
I'm not going to argue which description language is the best, but I
do think that this method should not be ignored.  It could also vary
depending on if the request contained an Accept header.  For
text/html, it could return something very human readable.  For
application/xml or text/xml, it could return a standardized resource
description in XML.  (For application/json, it could return the above
in JSON notation, etc.)

Has this been discussed somewhere and ruled out and I just haven't
found it, or is this a good idea?
Thank you,
Andy Bay / IMarvinTPA




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6483<br>
Sender:"Jerome Louvel" &lt;contact@...&gt;<br>
Post Date/Time:2006-08-17 21:59:01<br>
Subject:RE: [rest-discuss] Re: HTTP OPTIONS method for querying capabilities of a resource.<br>
Message:<br><br>
<pre>
Nic James Ferrier wrote:
&gt; Yes. This is a big advantage the heavy web service people have. You 
&gt; right your code and then click a button or add an option to your 
&gt; compile and you get a webservice. You don't have to know anything 
&gt; about the web! (which is why they're crap of course... but also why 
&gt; they're popular). 

That's true, even if I think that middle path exists, between low-level HTTP
and high-level object-oriented languages. REST seems to be using an
intermediary abstraction level that is Web-oriented but also protocol
neutral (doesn't restrict communication to HTTP).

With the Restlet framework, we try to focus on this intermediary level of
abstraction, even if HTTP/URI are the natural parents. We also support
protocols/schemes such as SMTP, FILE and JDBC. In the future, this should
let people use automated tools while keeping the core Web concepts in mind
(Identifier, Resource and Representation), hopefully!

Thanks,
Jerome
http://www.restlet.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6484<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2006-08-17 14:19:46<br>
Subject:Re: [rest-discuss] Re: PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>Hugh Winkler schrieb:
&gt; RFC2616 doesn't tell a server how to store the resource. All that has to 
&gt; happen is that when you GET from the same URI the server return some 
&gt; content in whatever Content-type it chooses, reflecting your earlier PUT.

Yes, but it does say that it *stores* it. So, if anybody wants to re-use 
PUT as some kind of POST or PROPPATCH, that's not what it is for.

&gt; AFAICT you are making some corner case where, when you do a GET, the 
&gt; server returns Content-type application/x-www-form-urlencoded. Could 
&gt; happen I guess.  As long as the server returns the same name value pairs 
&gt; in the same order, why would you care how the server stored the pairs?
&gt; 
&gt; In the typical case, GET on the URI would return a text/html 
&gt; representation of the name-value pairs, not 
&gt; application/x-www-form-urlencoded.

Yes, that's perfectly ok.

Best regards, Julian


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6485<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-08-17 14:12:35<br>
Subject:Re: [rest-discuss] Re: PUTing with a application/x-www-form-urlencoded<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6486<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2006-08-18 06:51:46<br>
Subject:Re: [rest-discuss] Re: HTTP OPTIONS method for querying capabilities of a resource.<br>
Message:<br><br>
<pre>Jerome Louvel schrieb:
&gt; 
&gt; 
&gt; This is a very good suggestion! I'm planning to add support for WADL
&gt; description documents to the Restlet framework in the future
&gt; (http://restlet. tigris.org/ issues/show_ bug.cgi?id= 59 
&gt; &lt;http://restlet.tigris.org/issues/show_bug.cgi?id=59&gt;). Exposing them via
&gt; OPTIONS "*" would be very nice.
&gt; ...


OPTIONS is heavily used in WebDAV, and works just fine.

But be careful with OPTIONS "*" - it's an edge case that really isn't 
usable in practice, because it would require that a single part of the 
server aggregates information from all components of the server -- that 
is, to make this work you'd need to invent a new protocol for 
aggregating this kind of information (there was a related discussion 
over on the HTTP mailing list almost one year ago...).

Best regards, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6487<br>
Sender:"Philip Ruelle" &lt;Philip.Ruelle@...&gt;<br>
Post Date/Time:2006-08-18 11:47:33<br>
Subject:Status Monitor Lifecycle<br>
Message:<br><br>
<pre>Hi,
 
Looking through the archives of this group there have been numerous
mentions of status monitor resources and several of those talk about
status monitors only existing for the duration of a request. Whilst
keeping hold of status monitor resources for eternity isn't a
showstopper (they will just be a row in a DB) it is far from ideal
requiring the server to store potentially huge numbers of monitor
'records'*.
 
Has anyone implemented status monitors with a limited lifecycle and if
so:
1) how have you defined that lifecycle 
2) what is the client-server interaction across and beyond the lifecycle
of a monitor. In other words what would be returned (HTTP Status) as the
client invokes a GET as the monitor moves through different states and
is ultimately deleted?
 
POST is a straightforward example and I am specifically thinking of an
asynchronous DELETE request where the client needs to know if its
request has failed or not. Polling the original resource and expecting a
404 is obviously insufficient in the case that the DELETE has been
attempted and failed as the client will poll indefintely.
 
Thanks and regards,
Phil
 
* Even if there is only one monitor per resource it will still be
necessary to store per-request details so the storage requirements are
effectively the same.


www.mourant.com
The information in this email (and any attachments) may contain privileged and confidential information and is intended solely for the use of the individual or organisation to whom it is addressed. The contents may not be disclosed or used by anyone other than the addressee(s). If you are not the intended recipient, please notify Mourant immediately at the above e-mail address or telephone +44 (0)1534 609 000 and delete all copies of the e-mail from your system.

Mourant cannot accept any responsibility for the accuracy, completeness or timely delivery of this message as it has been transmitted over a public network. If you suspect that the message may have been intercepted or amended, please call the sender.

Although Mourant scans e-mail and attachments for viruses, it does not guarantee that either are virus-free and accepts no liability for any damage sustained as a result of viruses.

Replies to this e-mail may be monitored by Mourant Limited for business and operational reasons.

Mourant is not liable for any views or opinions expressed by the sender where this is a non-business e-mail.

Further information on the Mourant group of companies including their registered offices and where relevant, details of their local regulators can be accessed via the Mourant website www.mourant.com
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6488<br>
Sender:Claude Montpetit &lt;claude@...&gt;<br>
Post Date/Time:2006-08-18 13:47:05<br>
Subject:Re: [rest-discuss] Status Monitor Lifecycle<br>
Message:<br><br>
<pre>
We have built a system where we sometimes need to monitor the status of 
lengthy operations, generally batch-like operations.

When monitoring is necessary, the resource that we manipulate is an 
"Operation Request". For example, we can post a DeleteOperationRequest 
resource:

   POST: http//example.com/deleteOperationRequest

passing the URI of the resource to be deleted.

This returns the URI of the new deleteOperationRequest resource.

GETting this resource will provide information on the operation: done, 
failed, cancelled, running (with % done), invoked by, started at, and so 
on...

PUT can be used to issue a cancellation.

DELETE deletes it (deletes the DeleteOperationRequest resource).

We keep this resource around for a long time, using it as an operation log.

I understand that this is not what you want to do: you want to POST a 
new resource, and later on, PUT or DELETE that same resource. This can 
still be offered in parallel. But In situations where monitoring is 
needed, we use the above approach.

It is a little RPCish to use a "DeleteOperation", but the fact that this 
is an actual resource ("DeleteOperationRequest"), this seems RESTful 
enough to me. I'd like to hear cleaner solutions or comments on this 
approach though.

--
Claude

Philip Ruelle a �crit :
&gt; Hi,
&gt;  
&gt; Looking through the archives of this group there have been numerous 
&gt; mentions of status monitor resources and several of those talk about 
&gt; status monitors only existing for the duration of a request. Whilst 
&gt; keeping hold of status monitor resources for eternity isn't a 
&gt; showstopper (they will just be a row in a DB) it is far from ideal 
&gt; requiring the server to store potentially huge numbers of monitor 
&gt; 'records'*.
&gt;  
&gt; Has anyone implemented status monitors with a limited lifecycle and if so:
&gt; 1) how have you defined that lifecycle 
&gt; 2) what is the client-server interaction across and beyond the lifecycle 
&gt; of a monitor. In other words what would be returned (HTTP Status) as the 
&gt; client invokes a GET as the monitor moves through different states and 
&gt; is ultimately deleted?
&gt;  
&gt; POST is a straightforward example and I am specifically thinking of an 
&gt; asynchronous DELETE request where the client needs to know if its 
&gt; request has failed or not. Polling the original resource and expecting a 
&gt; 404 is obviously insufficient in the case that the DELETE has been 
&gt; attempted and failed as the client will poll indefintely.
&gt;  
&gt; Thanks and regards,
&gt; Phil
&gt;  
&gt; * Even if there is only one monitor per resource it will still be 
&gt; necessary to store per-request details so the storage requirements are 
&gt; effectively the same.
&gt; 
&gt; 
&gt; __
&gt; 
&gt; _www.mourant.com &lt;http://www.mourant.com/&gt;_
&gt; 
&gt; The information in this email (and any attachments) may contain 
&gt; privileged and confidential information and is intended solely for the 
&gt; use of the individual or organisation to whom it is addressed. The 
&gt; contents may not be disclosed or used by anyone other than the 
&gt; addressee(s). If you are not the intended recipient, please notify 
&gt; Mourant immediately at the above e-mail address or telephone +44 (0)1534 
&gt; 609 000 and delete all copies of the e-mail from your system.
&gt; 
&gt; Mourant cannot accept any responsibility for the accuracy, completeness 
&gt; or timely delivery of this message as it has been transmitted over a 
&gt; public network. If you suspect that the message may have been 
&gt; intercepted or amended, please call the sender.
&gt; 
&gt; Although Mourant scans e-mail and attachments for viruses, it does not 
&gt; guarantee that either are virus-free an d accepts no liability for any 
&gt; damage sustained as a result of viruses.
&gt; 
&gt; Replies to this e-mail may be monitored by Mourant Limited for business 
&gt; and operational reasons.
&gt; 
&gt; Mourant is not liable for any views or opinions expressed by the sender 
&gt; where this is a non-business e-mail.
&gt; 
&gt; Further information on the Mourant group of companies including their 
&gt; registered offices and where relevant, details of their local regulators 
&gt; can be accessed via the Mourant website _www.mourant.com 
&gt; &lt;http://www.mourant.com/&gt;_
&gt; 
&gt; __ &lt;www.mourant.com&gt; 

-- 
Claude

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6489<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-08-18 14:11:17<br>
Subject:Re: [rest-discuss] Status Monitor Lifecycle<br>
Message:<br><br>
<pre>On 18/08/06, Claude Montpetit &lt;claude@...&gt; wrote:
&gt;  When monitoring is necessary, the resource that we manipulate is an
&gt;  "Operation Request". For example, we can post a DeleteOperationRequest
&gt;  resource:
&gt;
&gt;  POST: http//example.com/deleteOperationRequest
&gt;
&gt;  passing the URI of the resource to be deleted.
&gt;
&gt;  This returns the URI of the new deleteOperationRequest resource.
&gt;
&gt;  GETting this resource will provide information on the operation: done,
&gt;  failed, cancelled, running (with % done), invoked by, started at, and so


&gt;  It is a little RPCish to use a "DeleteOperation", but the fact that this
&gt;  is an actual resource ("DeleteOperationRequest"), this seems RESTful
&gt;  enough to me. I'd like to hear cleaner solutions or comments on this
&gt;  approach though.

Another variant.
We PUT a file for processing.
GET on the same url for status.
Once the file has been processed a response
is loaded to the url providing status.
Clearly the GET fails until the response is available.

regards




-- 
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6490<br>
Sender:"Justin T. Sampson" &lt;justin@...&gt;<br>
Post Date/Time:2006-08-18 18:03:23<br>
Subject:Re: [rest-discuss] Status Monitor Lifecycle<br>
Message:<br><br>
<pre>The solutions mentioned when this comes up do usually sound to me like
RPC or API thinking -- "what prior agreements can the client and
server make for monitoring the status of a long-running process?" I
like instead to think of a Web service as just a machine-readable Web
application, so I would suggest looking to human-readable Web
applications for inspiration. In this case, there are a few ways that
Web applications tend to handle this kind of thing:

A. "Please wait..." page
    1. User presses button to initiate some operation, on a page at url1
    2. Browser does a POST to server, to some url2 specified in the
HTML form containing the button
    3. Server begins operation, and responds with a redirect to a
"Please wait..." page at some other url3
    4. The "Please wait..." page contains embedded instructions for
the browser to automatically refresh the page every few seconds
    5. When the operation is complete, the page at url3 changes to
"Operation complete! Please go _here_ to view the results." with a
link to some new url4.
    6. The user clicks on the link, etc.

B. "Operations in progress" page
    1 &amp; 2. As above.
    3. Server begins operation, and response with a redirect to an
"Operations in progress" page listing various operations in progress.
    4. User refreshes the page as desired, or comes back to it later.
    5. When operation is complete, entry for that operation on the
page changes to "Operation complete" with a link to a results page.

C. "Alerts" widget
    1 &amp; 2. As above.
    3. Server begins operation, and response with a page saying "Your
operation is in progress. You will see an alert on your _dashboard_
when it is complete." with a link to a common dashboard page that the
user is otherwise familiar with.
    4. Sometime later, the user checks an "Alerts" widget on their
dashboard page, which will contain a link to a results page when the
operation is complete.

The common feature of all of them is hypertext as the engine of
application state, including in some cases code on demand; the server
tells the user what's going on, and tells the browser how to help to
user navigate.

Cheers,
Justin


On 8/18/06, Dave Pawson &lt;dave.pawson@...&gt; wrote:

&gt; On 18/08/06, Claude Montpetit &lt;claude@...&gt; wrote:
&gt;
&gt;  &gt;  When monitoring is necessary, the resource that we manipulate is an
&gt;  &gt;  "Operation Request". For example, we can post a DeleteOperationRequest
&gt;  &gt;  resource:
&gt;  &gt;
&gt;  &gt;  POST: http//example.com/deleteOperationRequest
&gt;  &gt;
&gt;  &gt;  passing the URI of the resource to be deleted.
&gt;  &gt;
&gt;  &gt;  This returns the URI of the new deleteOperationRequest resource.
&gt;  &gt;
&gt;  &gt;  GETting this resource will provide information on the operation: done,
&gt;  &gt;  failed, cancelled, running (with % done), invoked by, started at, and so
&gt;
&gt;
&gt;  &gt;  It is a little RPCish to use a "DeleteOperation", but the fact that this
&gt;  &gt;  is an actual resource ("DeleteOperationRequest"), this seems RESTful
&gt;  &gt;  enough to me. I'd like to hear cleaner solutions or comments on this
&gt;  &gt;  approach though.
&gt;
&gt;
&gt;  Another variant.
&gt;  We PUT a file for processing.
&gt;  GET on the same url for status.
&gt;  Once the file has been processed a response
&gt;  is loaded to the url providing status.
&gt;  Clearly the GET fails until the response is available.
&gt;
&gt;  regards
&gt;
&gt;  --
&gt;  Dave Pawson
&gt;  XSLT XSL-FO FAQ.
&gt;  http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6491<br>
Sender:=?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;bill@...&gt;<br>
Post Date/Time:2006-08-18 22:50:10<br>
Subject:Re: [rest-discuss] Status Monitor Lifecycle<br>
Message:<br><br>
<pre>Philip Ruelle wrote:
&gt; 
&gt; 
&gt; Hi,
&gt;  
&gt; Looking through the archives of this group there have been numerous 
&gt; mentions of status monitor resources and several of those talk about 
&gt; status monitors only existing for the duration of a request. Whilst 
&gt; keeping hold of status monitor resources for eternity isn't a 
&gt; showstopper (they will just be a row in a DB) it is far from ideal 
&gt; requiring the server to store potentially huge numbers of monitor 
&gt; 'records'*.
&gt;  
&gt; Has anyone implemented status monitors with a limited lifecycle [...]

HTTPLR [1] defines a reliable messaging protocol, by giving the state of 
exchange its own URL. One reason for this is so third parties can 
monitor exchange state.

cheers
Bill

http://www.dehora.net/doc/httplr/draft-httplr-01.html#rfc.section.5.1


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6492<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2006-08-19 08:37:17<br>
Subject:Introductory article on REST (German)<br>
Message:<br><br>
<pre>In case anybody on this list reads German, I'd welcome feedback to  
this article:

http://www.sigs.de/publications/os/2006/05/tilkov_ghadir_OS_05_06.pdf

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6493<br>
Sender:Jonas Bengtsson &lt;jonas.b@...&gt;<br>
Post Date/Time:2006-08-21 22:32:26<br>
Subject:REST vs COM<br>
Message:<br><br>
<pre>Hi all,

On a 1000 feet level it seems to me that REST, COM, Corba etc solve a 
similar problem, namely how to componetize a system and how the 
components communicate. One main difference is that in REST 'dead' 
representations of objects are passed around, and in COM et al. live 
objects are passed around.

Has anyone here worked with both approaches? What are the strengths and 
weaknesses of the two?


I personally prefer REST from an architectural point of view since it 
more clearly separates the components. But I have problems formulating 
my opinion.

On the client side it seems like COM can be much easier to use. You just 
get your COM objects and use them like normal objects. When using REST 
you have to figure out the URI, parse the representation, and generate 
representations to send back to the server. But I haven't used COM that 
much so it might be trickier in practice (I've read that e.g. the 
reference counting used in some implementations is quite error prone; 
another problem might be versioning).

In COM you get some objects and then you make your operations directly 
on the objects. In REST, on the other hand, you have to go to one 
destination, the server, for all operations. That makes COM appear to 
follow object orientation more closely and easier to use, but I'm not 
sure that's the case.

Is REST inherently more inefficient, in terms of performance and memory 
consumption? Regarding performance I'm mainly thinking of generating / 
parsing the representations (XML or other format), but perhaps 
marshalling in COM is equally expensive? Regarding memory consumption 
I'm thinking of the real objects and the representations, i.e. the 
data's in two locations. Do you think REST can be used on a device with 
restricted resources, such as a mobile phone or PDA?

Is it possible to put a REST layer on top of a COM solution?

Sorry 'bout all the questions but this is a issue that I have hard times 
  figuring out myself and need some insight from folks with experience.

Cheers,
  Jonas

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6494<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2006-08-22 01:46:25<br>
Subject:Re: [rest-discuss] REST vs COM<br>
Message:<br><br>
<pre>On Mon, 2006-08-21 at 23:32 +0100, Jonas Bengtsson wrote:
&gt; On a 1000 feet level it seems to me that REST, COM, Corba etc solve a 
&gt; similar problem, namely how to componetize a system and how the 
&gt; components communicate. One main difference is that in REST 'dead' 
&gt; representations of objects are passed around, and in COM et al. live 
&gt; objects are passed around.

Funny... I'd put 'live' in quotes more so than 'dead'.  ;)  In both
cases, a copy of *something* is made.  In distributed object systems,
great pains are taken to have this notion of 'live' objects that have
the same identity.  For a particular system that expense might be
justified ... but it seems easier to me to think of separate things as
separate.


&gt; In COM you get some objects and then you make your operations directly 
&gt; on the objects. In REST, on the other hand, you have to go to one 
&gt; destination, the server, for all operations. That makes COM appear to 
&gt; follow object orientation more closely and easier to use, but I'm not 
&gt; sure that's the case.

(D)COM is the (Distributed) Component Object Model, whereas REST doesn't
put forth an object[-oriented] model in favor of resources,
representations and uniform interfaces.  It's pretty clearly the case
that COM follows object orientation more closely.


&gt; Is REST inherently more inefficient, in terms of performance and memory 
&gt; consumption? Regarding performance I'm mainly thinking of generating / 
&gt; parsing the representations (XML or other format), but perhaps 
&gt; marshalling in COM is equally expensive? Regarding memory consumption 
&gt; I'm thinking of the real objects and the representations, i.e. the 
&gt; data's in two locations. Do you think REST can be used on a device with 
&gt; restricted resources, such as a mobile phone or PDA?

Questions of efficiency -- especially between such different styles --
are hard to judge.  For the points you make, I'd say:

{Object,structure}&lt;-&gt;octet conversion can be fast or slow in any
environment, depending on bunches of things.  Neither approach here is
necessarily faster or slower for every application, though...

Don't forget about the efficiency of a set of fine-grained operations
vs. coarse-grained operations in the context of a high-latency network.
Also, consider the differences in the deployment scenarios of a bounded
intranet vs. a dynamic, intermediated topology such as the internet.


REST can definitely be used in a resource-restricted environment ...
consider an HTTP request to a server from a cell phone,
content-negotiating a more appropriate representation of the homepage of
a website.  Or that request being transparently proxied through a
transcoder that downsamples images to better suit the
resource-constrained device.


&gt; Is it possible to put a REST layer on top of a COM solution?

Maybe it's possible to put a "REST-like" layer on top of a COM solution
and vice-versa.   But it's always going to be a case of the solution not
really making full/appropriate use of the substrate protocol, treating
it as a transport layer.

-- 
...jsled
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6495<br>
Sender:"Jeoff Wilks" &lt;jeoffwilks@...&gt;<br>
Post Date/Time:2006-08-22 02:06:28<br>
Subject:Re: [rest-discuss] REST vs COM<br>
Message:<br><br>
<pre>On 8/21/06, Josh Sled &lt;jsled@...&gt; wrote:
&gt; On Mon, 2006-08-21 at 23:32 +0100, Jonas Bengtsson wrote:
&gt; &gt; In COM you get some objects and then you make your operations directly
&gt; &gt; on the objects. In REST, on the other hand, you have to go to one
&gt; &gt; destination, the server, for all operations. That makes COM appear to
&gt; &gt; follow object orientation more closely and easier to use, but I'm not
&gt; &gt; sure that's the case.
&gt;
&gt; (D)COM is the (Distributed) Component Object Model, whereas REST doesn't
&gt; put forth an object[-oriented] model in favor of resources,
&gt; representations and uniform interfaces.  It's pretty clearly the case
&gt; that COM follows object orientation more closely.

You can think of HTTP as object-oriented if you like; it just
leverages a very constrained *interface* so as to help clients
predictably handle different types of objects. That interface states
that all objects have a universally addressable location (the URL);
are serializable using a selectable protocol (the content-type or mime
type); and implement one or more of a constrained set of methods (GET,
POST, PUT, DELETE, HEAD, OPTIONS, etc.).

The constrained-ness of the interface is where REST (and HTTP in
particular) win over CORBA and DCOM. Furthermore, HTTP goes to great
pains to optimize the common case (the GET method) so as to minimize
delivery overhead. That's why it scales better.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6496<br>
Sender:"S. Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-08-22 03:52:24<br>
Subject:RE: [rest-discuss] REST vs COM<br>
Message:<br><br>
<pre>&gt; On a 1000 feet level it seems to me that REST, COM, Corba etc 
&gt; solve a similar problem, namely how to componetize a system 
&gt; and how the components communicate. One main difference is 
&gt; that in REST 'dead' 
&gt; representations of objects are passed around, and in COM et 
&gt; al. live objects are passed around.
Isn't 'passing' and being 'alive' sort of mutually exclusive? I mean, when a
person has died, people say that they have 'passed'. I think it's the same
for objects. If an object has passed, you can pretty much assume it's dead.

Okay, that was a weak attempt at humor. 
To appreciate any new dramatically different approach you have to avoid
direct comparison to previous approaches - REST is like that. Viewing things
as objects tends to obscure other aspects of REST (and HTTP) so that the two
are comparable. They really aren't evenly comparable - they are different
architectural styles.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6497<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2006-08-22 09:19:23<br>
Subject:Re: [rest-discuss] REST vs COM<br>
Message:<br><br>
<pre>&gt; On a 1000 feet level it seems to me that REST, COM, Corba etc solve a 
&gt; similar problem, namely how to componetize a system and how the 
&gt; components communicate. One main difference is that in REST 'dead' 
&gt; representations of objects are passed around, and in COM et al. live 
&gt; objects are passed around.

COM passes "dead" representations around. COM hides the "deadness", REST 
doesn't, though a RESTful system can.

Experience shows that hiding the reality of the network leads to poor 
decisions, but also that at some point you really do need to hide it 
some of the time to concentrate on can.

&gt; Has anyone here worked with both approaches? What are the strengths and 
&gt; weaknesses of the two?

I have. There's a bit of comparing apples and oranges here, or more 
accurately comparing apple pies and oranges (COM hides how the apples 
got into the pie - and maybe like McDonald's apple pie, it isn't as much 
apple as you're led to believe [take a look at the ingredients some day]).

&gt; On the client side it seems like COM can be much easier to use. You just 
&gt; get your COM objects and use them like normal objects.

Have you ever hand-hacked a COM object's marshalling code? Even just 
slighly hand-hacking the VTable like one had to do in VB6 to get certain 
things to happen is pretty hairy (even before considering that VB6 
really wasn't designed to let you do that). REST is way easier.

Again, COM is easy because there are toolkits that help you deal with 
them, but you're comparing REST with COM + toolkit.

 &gt; When using REST
&gt; you have to figure out the URI, parse the representation, and generate 
&gt; representations to send back to the server. But I haven't used COM that 
&gt; much so it might be trickier in practice (I've read that e.g. the 
&gt; reference counting used in some implementations is quite error prone; 
&gt; another problem might be versioning).

Reference counting in COM is pretty easy when it's handled for you, but 
yes once you have to deal with it yourself it's still pretty easy, but a 
nightmare to debug if you slipped up. Versioning is tricky too (though 
IMO, Microsoft have gone from understating the issue - when COM was 
their current baby - to overstating it - now that .NET is).

&gt; In COM you get some objects and then you make your operations directly 
&gt; on the objects. In REST, on the other hand, you have to go to one 
&gt; destination, the server, for all operations. That makes COM appear to 
&gt; follow object orientation more closely and easier to use, but I'm not 
&gt; sure that's the case.

In COM you get distribution, marshalling, serialisation and a few other 
things. In REST you get distribution - again the comparison isn't quite 
right.

&gt; Is REST inherently more inefficient, in terms of performance and memory 
&gt; consumption? Regarding performance I'm mainly thinking of generating / 
&gt; parsing the representations (XML or other format), but perhaps 
&gt; marshalling in COM is equally expensive? Regarding memory consumption 
&gt; I'm thinking of the real objects and the representations, i.e. the 
&gt; data's in two locations. Do you think REST can be used on a device with 
&gt; restricted resources, such as a mobile phone or PDA?

Serialisation is hard to compare (XML has some advantages over binary 
formats, and some disadvantages). That the data is in two locations is a 
misleading point - this is also happening with COM (some data may not be 
sent until needed, but you can do that with REST too).

Further a binary format can still be used with REST. I don't think those 
who favour REST would be often inclined towards binary formats for 
various reasons, but it's not an inherent part of the system - the 
serialisation of a COM object that referred to other objects by URIs 
(hence keeping hypertext, of a sort, as the engine) could be transferred 
by a RESTful protocol.

Where REST does offer some gains (sometimes massive gains) is in its 
caching model, which in some cases (i.e. when it is possible to tell 
when a resource was last meaningfully changed, possible to know it would 
never change, possible to know it won't change until a certain date, 
possible to know changes in the next x minutes won't be crucial to 
operations, etc.) offers huge reductions on network usage.

&gt; Is it possible to put a REST layer on top of a COM solution?

Yes, any well-built (that is, works well with the web's architecture, 
rather than fighting it) Classic ASP application is a REST application 
built on top of a COM application (Classic ASP used COM internally, and 
most used COM for e.g. data-access). I'm pretty sure this isn't what you 
mean though.

You can also (I have done so) build a COM client for RESTfully 
transmitted data that a COM (Classic ASP again) web application provides.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6498<br>
Sender:Chris Burdess &lt;dog@...&gt;<br>
Post Date/Time:2006-08-22 13:01:11<br>
Subject:Re: [rest-discuss] REST vs COM<br>
Message:<br><br>
<pre>Jon Hanna wrote:
&gt;&gt; In COM you get some objects and then you make your operations  
&gt;&gt; directly
&gt;&gt; on the objects. In REST, on the other hand, you have to go to one
&gt;&gt; destination, the server, for all operations. That makes COM appear to
&gt;&gt; follow object orientation more closely and easier to use, but I'm not
&gt;&gt; sure that's the case.
&gt;
&gt; In COM you get distribution, marshalling, serialisation and a few  
&gt; other
&gt; things. In REST you get distribution - again the comparison isn't  
&gt; quite
&gt; right.

The issue here is that the relationship between "operation on an  
object" and "operation on a remote resource" are not quite the same  
thing. You can retrieve a representation that incorporates many  
individual objects and/or associations between them and/or other  
remote objects (for instance, a weather feed that incorporates many  
individual timestep objects). You can perform multiple operations to  
manipulate the relationships between these objects, exclude some or  
add others, and submit a representation of the new state of affairs  
(or even a representation of the delta) back to the server. There's  
nothing "un-object-oriented" about this, but you can clearly see that  
there are many operations on the objects themselves, yet only two  
operations on the remote resource. You can design the system  
effectively to suit the granularity of the domain and the efficiency  
and timing requirements of the network-dependent operations. Data  
binding mechanisms like COM take this facility out of your hands.
-- 
犬 Chris Burdess
   "They that can give up essential liberty to obtain a little safety
   deserve neither liberty nor safety." - Benjamin Franklin




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6499<br>
Sender:=?UTF-8?B?QmlsbCBkZSBow5NyYQ==?= &lt;bill@...&gt;<br>
Post Date/Time:2006-08-22 16:59:05<br>
Subject:Re: [rest-discuss] REST vs COM<br>
Message:<br><br>
<pre>Jon Hanna wrote:
 &gt;
 &gt;  &gt;Jonas:
&gt;  &gt; Is it possible to put a REST layer on top of a COM solution?
&gt; 
&gt; Yes, any well-built (that is, works well with the web's architecture,
&gt; rather than fighting it) Classic ASP application is a REST application
&gt; built on top of a COM application (Classic ASP used COM internally, and
&gt; most used COM for e.g. data-access). I'm pretty sure this isn't what you
&gt; mean though.

I don't know. Isn't everything in COM basically a WSDL type thing due to 
  IUnknown::QueryInterface? So, with COM, there is no uniform interface 
except for the ability to list non-uniform interfaces.

Crap, why isn't Don Box subscribed?

cheers
Bill


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6500<br>
Sender:Jonas Bengtsson &lt;jonas.b@...&gt;<br>
Post Date/Time:2006-08-22 22:38:02<br>
Subject:Re: [rest-discuss] REST vs COM<br>
Message:<br><br>
<pre>Jon Hanna wrote:
&gt; COM passes "dead" representations around. COM hides the "deadness", REST 
&gt; doesn't, though a RESTful system can.

Is there any RESTful system out there that attempts this that you're 
aware of?

&gt; Experience shows that hiding the reality of the network leads to poor 
&gt; decisions, but also that at some point you really do need to hide it 
&gt; some of the time to concentrate on can.

I guess you're right.

&gt; Have you ever hand-hacked a COM object's marshalling code? Even just 
&gt; slighly hand-hacking the VTable like one had to do in VB6 to get certain 
&gt; things to happen is pretty hairy (even before considering that VB6 
&gt; really wasn't designed to let you do that). REST is way easier.

No I haven't. I thought that tools handled it for you, perhaps that you 
had to describe your COM objects in some IDL at most.

&gt; Again, COM is easy because there are toolkits that help you deal with 
&gt; them, but you're comparing REST with COM + toolkit.

I guess I am. But that's the developer's experience of the two 
architectures.

&gt; Reference counting in COM is pretty easy when it's handled for you, but 
&gt; yes once you have to deal with it yourself it's still pretty easy, but a 
&gt; nightmare to debug if you slipped up. Versioning is tricky too (though 
&gt; IMO, Microsoft have gone from understating the issue - when COM was 
&gt; their current baby - to overstating it - now that .NET is).

The experience I have of manual reference counting in non-COM contexts 
is that it requires much discipline. And it's hard to notice when you're 
not releasing resources.

How is versioning normally handled in a RESTful system? 
https://api.del.icio.us/v1/posts/update like del.icio.us?

&gt; In COM you get distribution, marshalling, serialisation and a few other 
&gt; things. In REST you get distribution - again the comparison isn't quite 
&gt; right.

So that means that you as a developer has to do the marshalling 
yourself, right? That seems to put require more work from the developer, 
at least in static languages.

&gt; Serialisation is hard to compare (XML has some advantages over binary 
&gt; formats, and some disadvantages). That the data is in two locations is a 
&gt; misleading point - this is also happening with COM (some data may not be 
&gt; sent until needed, but you can do that with REST too).

True. I'm probably mix COM intra process boundary (where you can share 
the data) and inter process boundary (where you cannot share the data). 
I've tried to read up on COM but it's still unclear to me exactly how it 
works.

&gt; Further a binary format can still be used with REST. I don't think those 
&gt; who favour REST would be often inclined towards binary formats for 
&gt; various reasons, but it's not an inherent part of the system - the 
&gt; serialisation of a COM object that referred to other objects by URIs 
&gt; (hence keeping hypertext, of a sort, as the engine) could be transferred 
&gt; by a RESTful protocol.

What I was thinking is that in COM you know in advance the exact format 
of the object. That means you can pack the data quite compactly. In REST 
you don't know the exact format of the representation so you need to 
send meta data describing the structure. I guess that you could use 
representations where the format is defined as a byte stream without any 
meta data, but that would make it harder to use.

&gt; Where REST does offer some gains (sometimes massive gains) is in its 
&gt; caching model, which in some cases (i.e. when it is possible to tell 
&gt; when a resource was last meaningfully changed, possible to know it would 
&gt; never change, possible to know it won't change until a certain date, 
&gt; possible to know changes in the next x minutes won't be crucial to 
&gt; operations, etc.) offers huge reductions on network usage.

Good point!

&gt; Yes, any well-built (that is, works well with the web's architecture, 
&gt; rather than fighting it) Classic ASP application is a REST application 
&gt; built on top of a COM application (Classic ASP used COM internally, and 
&gt; most used COM for e.g. data-access). I'm pretty sure this isn't what you 
&gt; mean though.
&gt; 
&gt; You can also (I have done so) build a COM client for RESTfully 
&gt; transmitted data that a COM (Classic ASP again) web application provides.

I meant a REST layer on top of a COM solution that automatically 
translated REST requests and responses into COM without any custom code 
for each COM object.

Cheers,
  Jonas


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6501<br>
Sender:Jonas Bengtsson &lt;jonas.b@...&gt;<br>
Post Date/Time:2006-08-22 23:08:08<br>
Subject:Re: [rest-discuss] REST vs COM<br>
Message:<br><br>
<pre>Josh Sled wrote:
&gt; Funny... I'd put 'live' in quotes more so than 'dead'.  ;)  In both
&gt; cases, a copy of *something* is made.  In distributed object systems,
&gt; great pains are taken to have this notion of 'live' objects that have
&gt; the same identity.  For a particular system that expense might be
&gt; justified ... but it seems easier to me to think of separate things as
&gt; separate.

What I meant with live objects was data with behavior, i.e. the objects 
have methods you can call which do things.

&gt; Don't forget about the efficiency of a set of fine-grained operations
&gt; vs. coarse-grained operations in the context of a high-latency network.
&gt; Also, consider the differences in the deployment scenarios of a bounded
&gt; intranet vs. a dynamic, intermediated topology such as the internet.

You mean that COM is normally more fine-grained? Or you mean that the 
fine-grainedness has a large impact no matter which architecture you're 
using?

&gt; REST can definitely be used in a resource-restricted environment ...
&gt; consider an HTTP request to a server from a cell phone,
&gt; content-negotiating a more appropriate representation of the homepage of
&gt; a website.  Or that request being transparently proxied through a
&gt; transcoder that downsamples images to better suit the
&gt; resource-constrained device.

I was thinking more of where you have both the server and client on the 
same device. But I agree that it's possible, I'm just wondering if COM 
or REST is better suited (or maybe there's no way to tell on a general 
level).

&gt; Maybe it's possible to put a "REST-like" layer on top of a COM solution
&gt; and vice-versa.   But it's always going to be a case of the solution not
&gt; really making full/appropriate use of the substrate protocol, treating
&gt; it as a transport layer.

After thinking a bit more about it I agree with you.

Cheers,
  Jonas




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6502<br>
Sender:Jonas Bengtsson &lt;jonas.b@...&gt;<br>
Post Date/Time:2006-08-22 23:20:40<br>
Subject:Re: [rest-discuss] REST vs COM<br>
Message:<br><br>
<pre>I stumbled upon NetKernel (http://www.1060.org/) today which is a 
"resource oriented microkernel and RESTful application server created 
from the convergence and unification of the powerful fundamental 
concepts found in the World Wide Web and Unix."

It seems relevant to the discussion of REST vs. COM. The way different 
services communicates in e.g. Windows using COM, seems to be the same 
problem as NetKernel uses REST to address.

Cheers,
  Jonas

Jonas Bengtsson wrote:
&gt; Hi all,
&gt; 
&gt; On a 1000 feet level it seems to me that REST, COM, Corba etc solve a 
&gt; similar problem, namely how to componetize a system and how the 
&gt; components communicate. One main difference is that in REST 'dead' 
&gt; representations of objects are passed around, and in COM et al. live 
&gt; objects are passed around.

 &gt; &lt;etc. /&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6503<br>
Sender:"Jeoff Wilks" &lt;jeoffwilks@...&gt;<br>
Post Date/Time:2006-08-23 11:53:51<br>
Subject:Re: [rest-discuss] REST vs COM<br>
Message:<br><br>
<pre>On 8/22/06, Jonas Bengtsson &lt;jonas.b@...&gt; wrote:
&gt; But from my point of view it's a very poor object orientation. A large
&gt; 'object' (server) with many 'methods' (URLs-methods) returning 'structs'
&gt; without behaviour (representations).

Think in terms of URLs (instead of servers): a small object (the data
returned by a particular URL) with very few methods (get(), post(),
and sometimes a few others). The fact that there are very few methods
and that they are well-defined is what makes it scalable. (Of course
each retrieved object has additional "methods" that are determined by
its mime-type).

Another fundamental difference between REST/HTTP and DCOM is that
REST/HTTP is meant to be entirely stateless. That's probably what you
were referring to earlier when you complared "live" vs. "dead"
objects. The "live" or stateful objects must be kept in sync between
client and server, which makes load-balancing and scalability a far
more difficult task.

"5.1.3 Stateless - [...] This constraint induces the properties of
visibility, reliability, and scalability. Visibility is improved
because a monitoring system does not have to look beyond a single
request datum in order to determine the full nature of the request.
Reliability is improved because it eases the task of recovering from
partial failures [133]. Scalability is improved because not having to
store state between requests allows the server component to quickly
free resources, and further simplifies implementation because the
server doesn't have to manage resource usage across requests."
 - Fielding, Roy Thomas. Architectural Styles and the Design of
Network-based Software Architectures. Doctoral dissertation,
University of California, Irvine, 2000.
http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm

&gt; Jeoff Wilks wrote:
&gt; &gt; You can think of HTTP as object-oriented if you like; it just
&gt; &gt; leverages a very constrained *interface* so as to help clients
&gt; &gt; predictably handle different types of objects. That interface states
&gt; &gt; that all objects have a universally addressable location (the URL);
&gt; &gt; are serializable using a selectable protocol (the content-type or mime
&gt; &gt; type); and implement one or more of a constrained set of methods (GET,
&gt; &gt; POST, PUT, DELETE, HEAD, OPTIONS, etc.).

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6504<br>
Sender:Jonas Bengtsson &lt;jonas.b@...&gt;<br>
Post Date/Time:2006-08-23 00:12:56<br>
Subject:Re: [rest-discuss] REST vs COM<br>
Message:<br><br>
<pre>Chris Burdess wrote:
&gt; The issue here is that the relationship between "operation on an object" 
&gt; and "operation on a remote resource" are not quite the same thing. You 
&gt; can retrieve a representation that incorporates many individual objects 
&gt; and/or associations between them and/or other remote objects (for 
&gt; instance, a weather feed that incorporates many individual timestep 
&gt; objects). You can perform multiple operations to manipulate the 
&gt; relationships between these objects, exclude some or add others, and 
&gt; submit a representation of the new state of affairs (or even a 
&gt; representation of the delta) back to the server. There's nothing 
&gt; "un-object-oriented" about this, but you can clearly see that there are 
&gt; many operations on the objects themselves, yet only two operations on 
&gt; the remote resource. You can design the system effectively to suit the 
&gt; granularity of the domain and the efficiency and timing requirements of 
&gt; the network-dependent operations. Data binding mechanisms like COM take 
&gt; this facility out of your hands.

Ah, that's probably what Josh was referring to [1] with fine vs 
coarse-grained operations. Sorry for being so dense :-)

[1] http://groups.yahoo.com/group/rest-discuss/message/6494


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6505<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2006-08-23 05:38:36<br>
Subject:Re: [rest-discuss] REST vs COM<br>
Message:<br><br>
<pre>On Aug 23, 2006, at 12:38 AM, Jonas Bengtsson wrote:

&gt; How is versioning normally handled in a RESTful system?
&gt; https://api.del.icio.us/v1/posts/update like del.icio.us?

That (http://del.icio.us/help/api/update) sounds like a bad re- 
invention of the If-Modified-Since mechanism.
Is there any justification for doing something like this?

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6506<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2006-08-24 00:09:50<br>
Subject:Re: [rest-discuss] REST vs COM<br>
Message:<br><br>
<pre>
On Wed, 23 Aug 2006, Stefan Tilkov wrote:

&gt; On Aug 23, 2006, at 12:38 AM, Jonas Bengtsson wrote:
&gt;
&gt;&gt; How is versioning normally handled in a RESTful system?
&gt;&gt; https://api.del.icio.us/v1/posts/update like del.icio.us?
&gt;
&gt; That (http://del.icio.us/help/api/update) sounds like a bad re-
&gt; invention of the If-Modified-Since mechanism.
&gt; Is there any justification for doing something like this?


Yes.  GET addressability is incredibly useful and powerful.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6507<br>
Sender:Jonas Bengtsson &lt;jonas.b@...&gt;<br>
Post Date/Time:2006-08-22 22:38:21<br>
Subject:Re: [rest-discuss] REST vs COM<br>
Message:<br><br>
<pre>Jeoff Wilks wrote:
&gt; You can think of HTTP as object-oriented if you like; it just
&gt; leverages a very constrained *interface* so as to help clients
&gt; predictably handle different types of objects. That interface states
&gt; that all objects have a universally addressable location (the URL);
&gt; are serializable using a selectable protocol (the content-type or mime
&gt; type); and implement one or more of a constrained set of methods (GET,
&gt; POST, PUT, DELETE, HEAD, OPTIONS, etc.).

But from my point of view it's a very poor object orientation. A large 
'object' (server) with many 'methods' (URLs-methods) returning 'structs' 
without behaviour (representations).

If REST is object oriented or follow some other programming paradigm 
doesn't say anything if it's good or bad. However, since COM appears to 
be more object oriented it ought to be easier to grok for object 
orientated programmers, and perhaps even fit better into object oriented 
programming languages.

&gt; The constrained-ness of the interface is where REST (and HTTP in
&gt; particular) win over CORBA and DCOM. Furthermore, HTTP goes to great
&gt; pains to optimize the common case (the GET method) so as to minimize
&gt; delivery overhead. That's why it scales better.

That's a very good point! In CORBA/DCOM all operations are equal, for 
REST there ought to be more possibilities for the infrastructure to 
optimize.

Cheers,
  Jonas


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6508<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-08-24 04:40:27<br>
Subject:Resources as Orange Apples<br>
Message:<br><br>
<pre>My friends have asked me to attempt to explain REST to them in terms they can 
understand.  Which means I can't use the word "semantics", basically.  ;)  I 
thought it best to use analogy instead of software-architecture examples, for 
starters my primary concern is explaining "Resource" in terms of basic set 
theory by sticking with apples and oranges.

I've come up with what I believe to be a good analogy to bridge the gap, and 
I have a friend or two willing to write the copy of the final result with 
vastly reduced usage of the word "semantics" in an effort to make me 
comprehensible to others.  :)  We'll have a running conversation between 
"Captain Obvious", who pulls an orange out of a box of apples and calls it an 
orange, and "Mr. Stubborn" who insists that since it comes from a box of 
apples it must be an apple.

I would like some feedback on the technical correctness of the analogy, 
hopefully without sidetracking into the possibility of orange, pine or even 
horse apples at every step of the way by remembering the intended audience -- 
lay terms is the goal.  I think everyone here is familiar with where the 
quotes come from, I hacked 'em up a bit though:

&gt;
&gt;    5.2.1.1 Resources and Resource Identifiers
&gt;
&gt;    The key abstraction of information in REST is a esource. Any information 
&gt;    that can be named can be a resource: a document or image, a temporal 
&gt;    service (e.g. "today's weather in Los Angeles"), a collection of other 
&gt;    resources, a non-virtual object (e.g. a person), and so on. In other 
&gt;    words, any concept that might be the target of an author's hypertext 
&gt;    reference must fit within the definition of a resource.
&gt;

The resource this example identifies is "a box of apples". Since a resource 
is a set (though it may have only one member) and since this set implies 
members must be apples, any dereferenceable target in the box must be an 
apple. Since this is only a conceptual mapping we don't need to specify what 
type of apples may be contained in the box.

&gt;
&gt;    A resource is a conceptual mapping to a set of entities, not the entity 
&gt;    that corresponds to the mapping at any particular point in time.
&gt;

The entities in this example are individual apples.  Older apples go bad or 
get eaten and newer apples take their place.  The resource is always "a box 
of apples", it does not become "a box of rotten apples" if a rotten apple is 
dereferenced.

&gt;
&gt;    More precisely, a resource R is a temporally varying membership function 
&gt;    MR(t), which for time t maps to a set of entities, or values, which are 
&gt;    equivalent.
&gt;

Over time, we may have all sorts of different apples coming into and going 
out of our box of apples. The set is limited to the apples in the box, but 
the number and types of apples represented in the box does not change the 
definition of "box of apples". If an object inside the box does not fit with 
the description of the contents of the box then that object simply does not 
belong inside that box -- oranges are not allowed.

&gt;
&gt;    The values in the set may be resource representations and/or resource 
&gt;    identifiers. A resource can map to the empty set, which allows 
&gt;    references to be made to a concept before any realization of that 
&gt;    concept exists...
&gt;

Just because we have a container we want to label "box of apples" does not 
imply that it must first contain any apples before we can label it. It may be 
empty. The "box of apples" might also just contain pictures of types of 
apples. So long as having a picture of an apple inside a "box of apples" 
doesn't change the meaning of "box of apples" we're OK, and we never said it 
was a "box of fresh apples".

&gt;
&gt;    Some resources are static in the sense that, when examined at any time 
&gt;    after their creation, they always correspond to the same value set.
&gt;

If we have a picture of an apple which identifies the bin within our box set 
aside for apples of that variety, we don't need to change it regardless of 
how often that type of apple comes and goes, even if we run out of stock.  
The picture of a Red Delicious apple inside our apple box is static.  It is 
not a Red Delicious apple, a resource identifier which corresponds to a 
different apple each time.

&gt;
&gt;    Others have a high degree of variance in their value over time... For 
&gt;    example, the "authors' preferred version" of an academic paper... These 
&gt;    are two distinct resources, even if they both map to the same value at 
&gt;    some point in time.
&gt;

The "Apple of the Month" resource is an identifier, much like a "picture of 
an apple" is an identifier, neither are actually apples. As long as the 
picture of which apple is featured varies no more or less than once each 
month, the semantics of this resource identifier are static because it is 
never equal to "a Red Delicious apple" even when that variant is the Apple of 
the Month, nor is it equal to "still January, 1998's Apple of the Month".

&gt;
&gt;    The only thing that is required to be static for a resource is the 
&gt;    semantics of the mapping, since the semantics is what distinguishes one 
&gt;    resource from another.
&gt;

-----------------
In the spirit of Chemistry's "Maxwell's Demon" and John Muir's "The Complete 
Idiot's Guide to Repairing Your Volkswagen":

Captain Obvious: Sir, this would appear to be an orange!

Mr. Stubborn: Why would you say that? It came out of an apple box!

...And so on and so forth a bit, the previous Fielding quote is repeated at 
the end with an explanation.  Under development...

[1] http://www.iwdn.net/images/smilies/paul_h_style/icon_obvious.gif
[2] http://www.iwdn.net/images/smilies/paul_h_style/icon_stubborn.gif

Those guys have been around for a while along with some others...
-----------------

&gt;
&gt;    This abstract definition of a resource enables key features of the Web 
&gt;    architecture. First, it provides generality by encompassing many sources 
&gt;    of information without artificially distinguishing them by type or 
&gt;    implementation.
&gt;

We don't have to limit our options by calling our box a "box of Red Delicious 
apples".  More importantly, we aren't actually prohibited from mixing apples 
with oranges, since some oranges can also be a type of apple there would be 
an artificial distinction imposed by excluding oranges from our box 
altogether. Good thing we didn't label our resource a "box of Apples -- no 
oranges allowed" or putting orange apples (even if they're just apples which 
happen to be orange-colored) inside the box would be a problem, instead we 
have provided generality with "box of apples".

http://en.wikipedia.org/wiki/Apples_and_oranges#Oranges_as_a_type_of_apple

&gt;
&gt;    Second, it allows late binding of the reference to a representation, 
&gt;    enabling content negotiation to take place based on characteristics of 
&gt;    the request.
&gt;

A guy walks into the apple bar, the waitress (Connie Neg) spots him and says, 
"Ya want the usual, hon?" and fetches him his preferred variety, a Golden 
Delicious apple. "You ready to order, sugar?" she asks the next patron. 
"Yeah, I think I'll just have your special." he gets a Red Delicious, since 
it's Apple of the Month. When you want an apple, you just have to go to the 
apple bar, you don't need to decide what type of apple you actually want (or 
even what you want to do with it once you have it -- I may wind up feeding it 
to my neighbor's horse) until you get there and see what they have.

(Also, for those following the orthogonally-related discussion, you can't 
send Connie down the street to Barney's house when Fred shows up and asks her 
for Barney's apple so why give Connie a key in the first place?  If Barney 
asks Connie to go get his apple instead of one she has at the apple bar she 
should say, "Get lost, I'm busy here."  Let Fred and Barney worry about 
hiding and finding any apples they don't intend for public consumption.  This 
is certainly beyond Connie's job description.  If Fred or Barney want a 
specific type of private apple they can negotiate with Wilma or Betty when 
they get home. -1 service doc.)

&gt;
&gt;    Finally, it allows an author to reference the concept rather than some 
&gt;    singular representation of that concept, thus removing the need to 
&gt;    change all existing links whenever the representation changes (assuming 
&gt;    the author used the right identifier).
&gt;

If we've designed the Apple of the Month function properly, we just change 
the picture of the apple on the placard. If we've designed it poorly, we need 
to move the old apples out of the special Apple of the Month bin at the end 
of each month to make way for the new variety and decide how to sort our 
newly-featured apple into two bins for one month, instead of just 
(re)directing people to the existing bin of the desired variety temporarily.

&gt;
&gt;    REST uses a resource identifier to identify the particular resource 
&gt;    involved in an interaction between components. REST connectors provide a 
&gt;    generic interface for accessing and manipulating the value set of a 
&gt;    resource, regardless of how the membership function is defined or the 
&gt;    type of software that is handling the request.
&gt;

The only thing anyone needs to manipulate an apple inside a box of apples is 
whatever they would normally pick up, deposit, bite or smash an apple with. 
Regardless of which employee is putting new apples into the box or which type 
of apples are involved, the interface is still manual labor.

&gt;
&gt;    The naming authority that assigned the resource identifier, making it 
&gt;    possible to reference the resource, is responsible for maintaining the 
&gt;    semantic validity of the mapping over time (i.e., ensuring that the 
&gt;    membership function does not change).
&gt;

If you label a placard "Apple of the Month" and you aren't responsible enough 
to change the picture and the bin it is on each month, or get a lackey 
(script) to do it, then you're a slacker and you have broken the semantic 
validity of your identifier (and most likely your website if you think you're 
implementing REST). If you tell people your box contains apples, don't fill 
it with oranges every third month and tell people that makes it temporarily a 
box of oranges.

&gt;
&gt;    The only thing that is required to be static for a resource is the 
&gt;    semantics of the mapping, since the semantics is what distinguishes one 
&gt;    resource from another.
&gt;

If you want people to be able to tell the difference between your apples and 
your oranges then don't mix your apples with your oranges. If someone wonders 
whether or not your orange apples are actually citrus fruits, you can point 
them to a box labeled "citrus fruit" which may not help if they're looking 
for oranges but certainly clarifies that you have a type of apple that is 
orange.  If nobody cares whether they dereference an apple or an orange then 
label it a "box of fruit".

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6509<br>
Sender:"rosnersharon" &lt;ciconia@...&gt;<br>
Post Date/Time:2006-08-23 09:10:24<br>
Subject:Reality: A Restful SCADA System<br>
Message:<br><br>
<pre>Hello,

I guess this might be of interest to the members of this group.
Reality is a SCADA system for the internet. The API is documented here:

http://dynamu.com/doc/dev_guide.odt.pdf

I present a some demos here:

http://scada2.blogspot.com/2006/08/first-reality-demos.html

This is still work in progress, but the system is basically functional
and is already in use by a few clients. I'd be happy to hear your
opinions of the API and the system in general. Please note that the
API documentation is incomplete.

Best
Sharon








</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6510<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2006-08-24 07:00:45<br>
Subject:Re: [rest-discuss] REST vs COM<br>
Message:<br><br>
<pre>On Aug 24, 2006, at 2:09 AM, Lucas Gonze wrote:

&gt;
&gt; On Wed, 23 Aug 2006, Stefan Tilkov wrote:
&gt;
&gt; &gt; On Aug 23, 2006, at 12:38 AM, Jonas Bengtsson wrote:
&gt; &gt;
&gt; &gt;&gt; How is versioning normally handled in a RESTful system?
&gt; &gt;&gt; https://api.del.icio.us/v1/posts/update like del.icio.us?
&gt; &gt;
&gt; &gt; That (http://del.icio.us/help/api/update) sounds like a bad re-
&gt; &gt; invention of the If-Modified-Since mechanism.
&gt; &gt; Is there any justification for doing something like this?
&gt;
&gt; Yes. GET addressability is incredibly useful and powerful.
&gt;
&gt;
&gt;

Either I'm missing something obvious, or we misunderstand each other.  
I'm aware of the usefulness of having URIs one can GET a  
representation from. I'm asking whether this del.icio.us API decision  
is reaonable from a RESTful HTTP point of view:
"https://api.del.icio.us/v1/posts/update

Returns the last update time for the user. Use this before calling  
https://api.del.icio.us/v1/posts/all? to see if the data has changed  
since the last fetch.

Example Response

&lt;update time="2005-11-29T20:31:52Z" /&gt;"

Stefan






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6511<br>
Sender:Chris Burdess &lt;dog@...&gt;<br>
Post Date/Time:2006-08-24 08:37:28<br>
Subject:Re: [rest-discuss] Resources as Orange Apples<br>
Message:<br><br>
<pre>Eric J. Bowman wrote:
&gt; ... a resource
&gt; is a set (though it may have only one member) ...

I think this is wrong.

A resource MAY or MAY NOT be a container. A container is a kind of  
resource that contains (aggregates) other resources:

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6512<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-08-24 08:46:03<br>
Subject:Re:  [rest-discuss] Resources as Orange Apples<br>
Message:<br><br>
<pre>Good catch.  How about this?

"Since a resource is a set (though it may have only one, or even zero, 
members) and..."

Yeah, that part needs some work, thanks.

-Eric

&gt;-----Original Message-----
&gt;From: Chris Burdess [mailto:dog@...]
&gt;Sent: Thursday, August 24, 2006 01:37 AM
&gt;To: eric@...
&gt;Cc: rest-discuss@yahoogroups.com
&gt;Subject: Re: [rest-discuss] Resources as Orange Apples
&gt;
&gt;Eric J. Bowman wrote:
&gt;&gt; ... a resource
&gt;&gt; is a set (though it may have only one member) ...
&gt;
&gt;I think this is wrong.
&gt;
&gt;A resource MAY or MAY NOT be a container. A container is a kind of  
&gt;resource that contains (aggregates) other resources:
&gt;
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6513<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2006-08-24 22:50:25<br>
Subject:Re: [rest-discuss] REST vs COM<br>
Message:<br><br>
<pre>On Thu, 24 Aug 2006, Stefan Tilkov wrote:
&gt; Either I'm missing something obvious, or we misunderstand each other. I'm 
&gt; aware of the usefulness of having URIs one can GET a representation from. I'm 
&gt; asking whether this del.icio.us API decision is reaonable from a RESTful HTTP 
&gt; point of view:
&gt; "https://api.del.icio.us/v1/posts/update

Hm.  Well, ok, what I intended to express is that it's not RESTful, but 
the difficulty lies in making a clear and simple case for why a RESTful 
design would be better.

The delicious API consistently trades off RESTful design for 
addressability via GET.  What it achieves with this is more ease of use 
for developers, and consequently more developer adoption.

I can't find fault in them for being focused on the end result.  If REST 
is really better, it should be easy to make a case that delicious' 
non-RESTful design does not actually create more ease of use for 
developers.

-Lucas


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6514<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2006-08-25 16:01:59<br>
Subject:Re: [rest-discuss] Resources as Orange Apples<br>
Message:<br><br>
<pre>Eric J. Bowman wrote:
&gt; Good catch.  How about this?
&gt; 
&gt; "Since a resource is a set (though it may have only one, or even zero, 
&gt; members) and..."
&gt; 
&gt; Yeah, that part needs some work, thanks.

A resource is not necessarily a set. It could be a set, it could also be 
something else (e.g., an apple).

Furhter, 
http://en.wikipedia.org/wiki/Apples_and_oranges#Oranges_as_a_type_of_apple
doesn't really make it okay to put oranges where "apples" is on the 
label, indeed it would be pushing it to put oranges where "pomum 
aurantium" is labelled.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6515<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-08-25 23:17:38<br>
Subject:Re:  [rest-discuss] Resources as Orange Apples<br>
Message:<br><br>
<pre>&gt;
&gt;A resource is not necessarily a set. It could be a set, it could also be 
&gt;something else (e.g., an apple).
&gt;

I think a resource, or a URI, is always a box (or set). The resource is never 
an apple, only the concept of an apple.  If there is no apple, the box is 
empty -- that's the null set i.e. a 404.  I think the actual apple itself is 
always a representation of the concept of an apple.

The analogy really breaks down if we insist that "an apple" is itself a 
resource, because we're dealing with the Internet here.  If we have a nonzero 
number of apples we can never be certain how many apples we have, and of 
course if someone were to eat an apple it wouldn't exactly deplete our stock.

If I'm doing version control I may also have some rotten apples in my box, 
otherwise all rotten apples are cached externally to my box until a fresh 
apple takes the place of each (revalidation).  As soon as the box contains 
one apple that apple multiplies like rabbits.  A resource is a concept not an 
object, an object is always a representation of its concept.

If my box isn't identifying the null set it must always contain either at 
least one (thing called an) apple, or one and only one pointer to some other 
box of apples.  If I want my box of apples to directly identify another box 
of apples (author's preferred version) then it may contain one redirection 
pointer.

If I want my box of apples to directly identify many other boxes of apples 
(reader's preferred versions) and it contains multiple redirection pointers, 
it has ceased to be a box of apples and has become a box of boxes.  The 
apples in those other boxes may be the same, but they are not equivalent as 
they are members of different sets.

&gt;
&gt;Furhter, 
&gt;http://en.wikipedia.org/wiki/Apples_and_oranges#Oranges_as_a_type_of_apple
&gt;doesn't really make it okay to put oranges where "apples" is on the 
&gt;label, indeed it would be pushing it to put oranges where "pomum 
&gt;aurantium" is labelled.
&gt;

I would agree, had I implied that my box contained apples-as-fruits, which 
maybe I did.  What if we call it "a box of things called apples" instead?  If 
the pictures inside are shown to a reasonable person who is asked, "what are 
these" the response would not be "photographs" it would be "apples" or 
"pictures of apples".

Either response satisfies "things called apples" and so does "pomum 
aurantium".

It's hard to illustrate the point that if I wanted to imply that my box was 
only full of what people commonly know as an apple but I also had some pomum 
aurantiums laying around, that those should go in a box labeled "oranges". 
I'm hoping my re-writer can do a better job.

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6516<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2006-08-26 00:41:01<br>
Subject:Re: [rest-discuss] Resources as Orange Apples<br>
Message:<br><br>
<pre>Eric,

I think this box of apples analogy is confusing.  An individual apple
may represent the "apples" concept, but this can't have much to do
with REST.  REST representations are bit streams.

In any event, if REST newbies want to understand resource as a
mapping of time to representations, it is probably more intuitive to
demonstrate that with www.weather.com.  I don't think of the weather
in my town as a box of anything.  It's just the weather.  I look again;
it has changed.

People who need to understand REST are going to be computer
scientists.  It is reasonable to expect them to understand mappings
whose domain is time and whose range is bit streams.

Anyway, if you do decide to pursue this, I hope you will find a way
to do it that does not begin by planting the idea that REST somehow
condones container-containee inconsistency.  There is really no
basis for that.

Walden

----- Original Message ----- 
From: "Eric J. Bowman" &lt;eric@...&gt;
To: "Jon Hanna" &lt;jon@...&gt;
Cc: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Friday, August 25, 2006 7:17 PM
Subject: Re: [rest-discuss] Resources as Orange Apples


: &gt;
: &gt;A resource is not necessarily a set. It could be a set, it could also be
: &gt;something else (e.g., an apple).
: &gt;
:
: I think a resource, or a URI, is always a box (or set). The resource is 
never
: an apple, only the concept of an apple.  If there is no apple, the box is
: empty -- that's the null set i.e. a 404.  I think the actual apple itself 
is
: always a representation of the concept of an apple.
:
: The analogy really breaks down if we insist that "an apple" is itself a
: resource, because we're dealing with the Internet here.  If we have a 
nonzero
: number of apples we can never be certain how many apples we have, and of
: course if someone were to eat an apple it wouldn't exactly deplete our 
stock.
:
: If I'm doing version control I may also have some rotten apples in my box,
: otherwise all rotten apples are cached externally to my box until a fresh
: apple takes the place of each (revalidation).  As soon as the box contains
: one apple that apple multiplies like rabbits.  A resource is a concept not 
an
: object, an object is always a representation of its concept.
:
: If my box isn't identifying the null set it must always contain either at
: least one (thing called an) apple, or one and only one pointer to some 
other
: box of apples.  If I want my box of apples to directly identify another 
box
: of apples (author's preferred version) then it may contain one redirection
: pointer.
:
: If I want my box of apples to directly identify many other boxes of apples
: (reader's preferred versions) and it contains multiple redirection 
pointers,
: it has ceased to be a box of apples and has become a box of boxes.  The
: apples in those other boxes may be the same, but they are not equivalent 
as
: they are members of different sets.
:
: &gt;
: &gt;Furhter,
: 
 &gt;http://en.wikipedia.org/wiki/Apples_and_oranges#Oranges_as_a_type_of_apple
: &gt;doesn't really make it okay to put oranges where "apples" is on the
: &gt;label, indeed it would be pushing it to put oranges where "pomum
: &gt;aurantium" is labelled.
: &gt;
:
: I would agree, had I implied that my box contained apples-as-fruits, which
: maybe I did.  What if we call it "a box of things called apples" instead? 
If
: the pictures inside are shown to a reasonable person who is asked, "what 
are
: these" the response would not be "photographs" it would be "apples" or
: "pictures of apples".
:
: Either response satisfies "things called apples" and so does "pomum
: aurantium".
:
: It's hard to illustrate the point that if I wanted to imply that my box 
was
: only full of what people commonly know as an apple but I also had some 
pomum
: aurantiums laying around, that those should go in a box labeled "oranges".
: I'm hoping my re-writer can do a better job.
:
: -Eric
:
:
:
:
:
: __________ NOD32 1.1725 (20060825) Information __________
:
: This message was checked by NOD32 antivirus system.
: http://www.eset.com
:
: 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6517<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-08-26 01:09:47<br>
Subject:Re:  [rest-discuss] Resources as Orange Apples<br>
Message:<br><br>
<pre>&gt;
&gt;I think this box of apples analogy is confusing.  An individual apple
&gt;may represent the "apples" concept, but this can't have much to do
&gt;with REST.  REST representations are bit streams.
&gt;

That point about representations is well-taken.  But I also think using 
varieties of apples is a good way to explain "variant".

&gt;
&gt;In any event, if REST newbies want to understand resource as a
&gt;mapping of time to representations, it is probably more intuitive to
&gt;demonstrate that with www.weather.com.  I don't think of the weather
&gt;in my town as a box of anything.  It's just the weather.  I look again;
&gt;it has changed.
&gt;

The basic concept I am trying to portray is that a resource is a set, in fact 
that is what Dr. Fielding's dissertation calls it:

"[A] resource... maps to a set of entities..."

A friend of mine brought up the notion of XML namespaces, how is that a set. 
Well, a 404 response may not make it a null set, because there still may be a 
description of that namespace out there even if the identifier doesn't locate 
it.  A namespace URI is still a set whose membership function is whatever 
document describes that namespace.

&gt;
&gt;People who need to understand REST are going to be computer
&gt;scientists.  It is reasonable to expect them to understand mappings
&gt;whose domain is time and whose range is bit streams.
&gt;

I couldn't disagree more.  "What is REST" and related questions are popping 
up more and more frequently amongst lay web developers who are increasingly 
standards-conscious.  After years spent un-learning a variety of bad habits 
(like table-based layouts instead of CSS) which were once mainstream many of 
us are asking, "OK, enough already, what is the right way?" I know lots of 
non-computer-scientist types who are experienced application developers using 
PHP and such, who are coming to understand that MVC isn't the best way, but 
need practical assistance designing URIs correctly.

Here's what Sleepycat Software has to say on the issue:

"[S]ites are maturing, becoming more complex and more flexible. This richness 
comes at a price; the data-model required to represent the dynamic nature of 
these next generation sites requires a computer science degree. As sites have 
grown in complexity, the number of programmers able to build the sites has 
decreased and site construction, infrastructure and maintenance costs have 
gone up."

[1] http://www.sleepycat.com/newsletters/0502/a14_FebProdPHP.shtml

I disagree that understanding REST should require a degree in Computer 
Science, but the reality described in that ad copy is motivating more 
developers to look at REST for solutions to rein in escalating hosting costs.

&gt;
&gt;Anyway, if you do decide to pursue this, I hope you will find a way
&gt;to do it that does not begin by planting the idea that REST somehow
&gt;condones container-containee inconsistency.  There is really no
&gt;basis for that.
&gt;

This is why I need a re-writer... That's exactly the notion I'm trying to 
dispel by explaining _why_ "The only thing that is required to be static for 
a resource is the semantics of the mapping, since the semantics is what 
distinguishes one resource from another."  I just thought "don't put oranges 
in a box of apples" was oversimplifying...

This is the real challenge.  I have trouble explaining this to my coder on a 
daily basis and he does have a degree in Computer Science, just no practical 
experience of anything but RPC-style development.  I find it helpful to 
abstract the REST concepts with him, too, particularly what is meant by "the 
semantics of the mapping must be static".

-Eric

&gt;
&gt;Walden
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6518<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-08-26 03:29:26<br>
Subject:Representations  (Was: Resources as Orange Apples)<br>
Message:<br><br>
<pre>&gt;
&gt;    5.2.1.2 Representations
&gt;
&gt;    REST components perform actions on a resource by using a representation 
&gt;    to capture the current or intended state of that resource and 
&gt;    transferring that representation between components. A representation 
&gt;    [includes] representation metadata to describe itself.
&gt;

If the resource is a box of apples and its state is Red Delicious then the 
representation is a Red Delicious apple.  When the representative apple is 
removed from the bin labeled "Red Delicious" for transferral from the box 
component to the human component, the human can still tell it's a Red 
Delicious by reading the little sticker of metadata.

&gt;
&gt;    Other commonly used but less precise names for a representation 
&gt;    include: document, file, and HTTP message entity, instance, or variant.
&gt;

In this example we sometimes use "variety", "varietal" or "variant" to 
describe the representative apples.

&gt;
&gt;    Response messages may include both representation metadata and resource 
&gt;    metadata: information about the resource that is not specific to the 
&gt;    supplied representation.
&gt;

The sticker on the apple may include both representation metadata indicating 
the variety of apple, and resource metadata indicating the name of the 
company the grocer obtains all apples from.

&gt;
&gt;    Control data defines the purpose of a message between components, such 
&gt;    as the action being requested or the meaning of a response. It is also 
&gt;    used to parameterize requests and override the default behavior of some 
&gt;    connecting elements. For example, cache behavior can be modified by 
&gt;    control data included in the request or response message.
&gt;

The grocer DELETEs apples from the bin before they go rotten, PUTs new apples 
in their place, and may POST an entirely new variety of apples not available 
the day before.  Customers GET their apples, some of which have an additional 
little sticker stating, "This apple is for PIES."  This is to override the 
customer's expected behavior of purchasing an apple to eat raw.  The apple 
may also have an "expiration date" sticker to control how long the apple may 
be cached in a fruit basket.  The customer may override that expiration date 
by eating the apple anyway after it's expired, or by throwing it out before 
it's expired and buying a new apple at the store.

&gt;
&gt;    Depending on the message control data, a given representation may 
&gt;    indicate the current state of the requested resource, the desired state 
&gt;    for the requested resource, or the value of some other resource, such as 
&gt;    a representation of the input data within a client's query form, or a 
&gt;    representation of some error condition for a response. 
&gt;

The customer might only be interested in a particular variety of apple, or 
may prefer one variety over another.  The given representation may not be an 
apple at all, it may be a picture of an apple with a message stating that the 
variety is out of stock (410 Gone).  If we're talking about an apple vending 
machine, a GET request includes a query for the desired variety of apple (D-
2), which yields either a representation of that apple in the vending slot or 
an error message stating, "Sorry, that RED DELICIOUS apple is past its 
expiration date."

&gt; 
&gt;    If the value set of a resource at a given time consists of multiple 
&gt;    representations, content negotiation may be used to select the best 
&gt;    representation for inclusion in a given message.
&gt;

The error response from the vending machine could also include, "Would you 
like a GOLDEN DELICIOUS apple instead?" Or even a list of other available 
apples to select from (300 Options) with their key combos (i.e. D-3 through D-
6).

&gt;
&gt;    The data format of a representation is known as a media type [48]. A 
&gt;    representation can be included in a message and processed by the 
&gt;    recipient according to the control data of the message and the nature of 
&gt;    the media type. Some media types are intended for automated processing, 
&gt;    some are intended to be rendered for viewing by a user, and a few are 
&gt;    capable of both. Composite media types can be used to enclose multiple 
&gt;    representations in a single message.
&gt;

Some apples are "Cider Apples", some could be designated as "Pie Apples" and 
of course there's always the good ol' "Eatin' Apple".  Some apples can go 
straight into the juicer, some are for making pies, and some apples used in 
both juice and pies are also tasty eaten raw.  If I go to the store looking 
for apples to both eat and bake in pies, and the only varietal they have in 
stock is good for both, I don't need the apples I buy put into separate bags. 
I might want separate bags if the store had one variety only good for eating 
and another variety only good for baking in pies, which happened to both be 
green, especially if the store didn't use "This apple is for PIES" stickers.

&gt;
&gt;    The design of a media type can directly impact the user-perceived 
&gt;    performance of a distributed hypermedia system. Any data that must be 
&gt;    received before the recipient can begin rendering the representation 
&gt;    adds to the latency of an interaction. A data format that places the 
&gt;    most important rendering information up front, such that the initial 
&gt;    information can be incrementally rendered while the rest of the 
&gt;    information is being received, results in much better user-perceived 
&gt;    performance than a data format that must be entirely received before 
&gt;    rendering can begin.
&gt;

Apples and Oranges simply won't do here.

Both HTML 4.01 and XHTML 1.1 follow the same table model.  To increase user-
perceived performance it is necessary to use the proper markup, and the CSS 
table-layout:fixed property.  This does not vary between the "text/html" and 
the "application/xhtml+xml" media types.  Both &lt;thead&gt; and &lt;tfoot&gt; must 
appear before &lt;tbody&gt; in HTML 4-based markup languages, for the purpose of 
incrementally rendering the table before the HTML file is fully parsed.  I 
have explained in much greater detail here:

[1] http://www.iwdn.net/showthread.php?t=4114

There's a really fine point to be made here.  If we are discussing a simple 
little table in an HTML page then the greatest user-perceived performance may 
be had from the "application/xhtml+xml" media type.  The effect of treating 
XML as XML is that new pages transfer completely before rendering, but on 
small pages this tends to make things look "snappier" to a user browsing the 
site.

If the page in question is a large data table with thousands of rows, the 
opposite is true -- treating XML as XML means an awful lot of latency for the 
end user because the entire table needs to run through the XML parser before 
rendering begins.  So a better choice for large data tables is "text/html" 
because that media type strictly allows user-agents to incrementally render 
the table before the document has finished SGML parsing.

The "application/xhtml+xml" media type overrides incremental table layout, 
even when the table is rendered in a single pass by virtue of using the &lt;col&gt;/
&lt;colgroup&gt; tags and table-layout:fixed, because the whole document must 
finish parsing before rendering begins.

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6519<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2006-08-26 07:31:07<br>
Subject:Re: [rest-discuss] REST vs COM<br>
Message:<br><br>
<pre>On Aug 25, 2006, at 12:50 AM, Lucas Gonze wrote:

&gt; On Thu, 24 Aug 2006, Stefan Tilkov wrote:
&gt;&gt; Either I'm missing something obvious, or we misunderstand each  
&gt;&gt; other. I'm aware of the usefulness of having URIs one can GET a  
&gt;&gt; representation from. I'm asking whether this del.icio.us API  
&gt;&gt; decision is reaonable from a RESTful HTTP point of view:
&gt;&gt; "https://api.del.icio.us/v1/posts/update
&gt;
&gt; Hm.  Well, ok, what I intended to express is that it's not RESTful,  
&gt; but the difficulty lies in making a clear and simple case for why a  
&gt; RESTful design would be better.
&gt;

Ah, I see.

&gt; The delicious API consistently trades off RESTful design for  
&gt; addressability via GET.  What it achieves with this is more ease of  
&gt; use for developers, and consequently more developer adoption.
&gt;

But more ease for developers results in their having to learn a  
del.icio.us-specific way to check for up-to-date-ness (is there a  
better word?) a resource, instead of relying on the one built into  
HTTP. Right?

&gt; I can't find fault in them for being focused on the end result.  If  
&gt; REST is really better, it should be easy to make a case that  
&gt; delicious' non-RESTful design does not actually create more ease of  
&gt; use for developers.
&gt;

Obviously not. But this is rest-discuss, after all ;-)

Stefan


&gt; -Lucas
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6520<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-08-26 12:33:55<br>
Subject:Biztalk vs REST?<br>
Message:<br><br>
<pre>Has anyone had to defend/offer a RESTful approach against
a proposed Biztalk setup for inter-system message passing.

We have 50+ disparate systems which need to talk one to  another.
A M$ gold partner is proposing to install Biztalk in 6 months (unlikely).
I'd like to contend that a RESTful approach would meet the comms
needs with advantages.


TIA

-- 
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6521<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2006-08-26 14:28:48<br>
Subject:Re: [rest-discuss] Representations  (Was: Resources as Orange	Apples)<br>
Message:<br><br>
<pre>On Sat, 2006-08-26 at 03:29 +0000, Eric J. Bowman wrote:
&gt; In this example we sometimes use "variety", "varietal" or "variant"
&gt; to 
&gt; describe the representative apples. 

I find this whole analogy rather forced.


Why so much of a focus on containers, sets and physical objects anyways?
There's very little -- on the HTTP web, anways -- that actually exploits
a "container" relationship; even Apache directory listings are done by
generating HTML, and simply following links.  The browser doesn't know.


What about focusing on URI's identifiying application states, and using
hyperlinks (and forms) in the media to transition between them?

http://airline.com/
http://airline.com/upcoming-flights
http://airline.com/booking/select
http://airline.com/booking/promotion
http://airline.com/booking/payment
[...]

This is obvious to CS types and non-CS webdevs ... pretty much anyone
who's booked a flight online.

-- 
...jsled
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6522<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2006-08-26 14:41:59<br>
Subject:Re: [rest-discuss] Representations  (Was: Resources as Orange	Apples)<br>
Message:<br><br>
<pre>On Sat, 2006-08-26 at 10:28 -0400, Josh Sled wrote:
&gt; generating HTML, and simply following links.  The browser doesn't
&gt; know. 

*ahem*

[...the browser doesn't know] that a particular thing is a `directory`
containing `files`.  There is only a link to another URI in the
hypermedia, and a known set of operations to apply.

-- 
...jsled
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6523<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2006-08-26 19:10:44<br>
Subject:Re: [rest-discuss] Biztalk vs REST?<br>
Message:<br><br>
<pre>This seems to be apples and oranges (again).

AFAICT, BizTalk is an EAI solution, offering out-of-the-box support  
and a graphical user interface for creating orchestrations,  
transformation pipelines and so on. It's even likely that it's able  
to connect to RESTful services (at least as long as they're using GET  
and POST only; but I'm just guessing). I'm pretty sure that it can  
e.g. also monitor a directory for incoming files.

Standardizing on RESTful HTTP alone will provide a collection of  
connectable resources, but how you actually do this is up to you.

So in other words: The two seem to be orthogonal to me.

Best regards,
Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/



On Aug 26, 2006, at 2:33 PM, Dave Pawson wrote:

&gt; Has anyone had to defend/offer a RESTful approach against
&gt; a proposed Biztalk setup for inter-system message passing.
&gt;
&gt; We have 50+ disparate systems which need to talk one to another.
&gt; A M$ gold partner is proposing to install Biztalk in 6 months  
&gt; (unlikely).
&gt; I'd like to contend that a RESTful approach would meet the comms
&gt; needs with advantages.
&gt;
&gt; TIA
&gt;
&gt; -- 
&gt; Dave Pawson
&gt; XSLT XSL-FO FAQ.
&gt; http://www.dpawson.co.uk
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6524<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-08-27 08:50:40<br>
Subject:Re: [rest-discuss] Biztalk vs REST?<br>
Message:<br><br>
<pre>Hi Stefan.

On 26/08/06, Stefan Tilkov &lt;stefan.tilkov@...&gt; wrote:
&gt; This seems to be apples and oranges (again).
&gt;
&gt;  AFAICT, BizTalk is an EAI solution, offering out-of-the-box support
&gt;  and a graphical user interface for creating orchestrations,
&gt;  transformation pipelines and so on.
...
&gt;  So in other words: The two seem to be orthogonal to me.

Or Biztalk is a stack of functionality on top of the basic connectivity?

OK, thanks for the perspective.

regards

-- 
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6525<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-08-27 09:22:53<br>
Subject:Re:  [rest-discuss] Representations  (Was: Resources as Orange     Apples)<br>
Message:<br><br>
<pre>&gt;
&gt;Why so much of a focus on containers, sets and physical objects anyways?
&gt;There's very little -- on the HTTP web, anways -- that actually exploits
&gt;a "container" relationship; even Apache directory listings are done by
&gt;generating HTML, and simply following links.  The browser doesn't know.
&gt;

Because the definition of resource in REST is built on the notion of set 
theory. REST leaves "equivalent" undefined, which it can get away with by 
leaving the responsibility for understanding set theory squarely on the 
shoulders of the reader.  I'm afraid this has led many to interpret 
"equivalent" to mean "anything I want it to mean".  REST also defines 
concepts like content negotiation and redirection without elaborating on 
them, requiring the reader to first understand equivalence as defined by set 
theory in order to properly implement a REST-based solution.

To me, this suggests that the best way to understand or explain REST concepts 
like content negotiation and redirection is to converse in terms of set 
theory, because understanding or explaining those concepts first requires a 
clear understanding of the semantics of "equivalent".  The problem is that 
"equivalent" may only be defined as it pertains to any given example, which 
is why I think there needs to be some sort of base vocabulary using non-
opaque URIs.

Otherwise, parties must first agree on the semantics of the example URIs 
before proceeding to discuss the issue at hand, even if both are well-versed 
in REST.  It can take days for a group to even understand that their 
disagreement comes down to the semantics of a URI's mapping, not the behavior 
of that URI when dereferenced, because one side thinks it's talking about 
apples and the other side thinks it's talking about oranges.

The semantics of a mapping can be made more obvious by restricting examples 
to sets whose membership and equivalency are inherent in their naming, 
regardless of URI allocation scheme, so I chose apples and oranges.  It 
provides a common-ground example, wholly unrelated to any specific service 
(flight reservations, weather etc.), which carries over to a wide variety of 
situations and possible URI allocation schemes.

This may allow examples to be more easily understood without having to first 
define the conceptual sets, and provide a means for parties who disagree 
about the semantics of a particular mapping to illustrate their positions. If 
not, hopefully some people besides me will find it useful to explain or 
understand REST or at least those parts of it which are wholly reliant on an 
understanding of set theory, like "resource".

&gt;
&gt;What about focusing on URI's identifiying application states, and using
&gt;hyperlinks (and forms) in the media to transition between them?
&gt;

I wish you hadn't asked me that, since I had planned to spend my Saturday 
differently, but it was cold and rainy so I spent it adding URI-based 
examples to what I already had.  ;-)  But it just didn't work.  Problem is, 
whatever URI allocation scheme is chosen for an example comes across as some 
sort of "preferred" method if it's an example of good practice, while those 
used as examples of bad practice look as though it results from the URI 
scheme itself instead of flawed conceptualization.

Some Venn diagrams in the narrative might prove useful, though.

If I've established the analogy correctly, it may be used as an example-
neutral "common notation" to illustrate the situational semantics of that 
pesky word "equivalent", and other REST concepts:

[1] http://example.com/apple/
[2] http://example.com/apple/red-delicious.apple
[3] http://example.com/apple/golden-delicious.apple

[1] http://example.com/apple
[2] http://example.com/apple.red-delicious
[3] http://example.com/apple.golden-delicious

[1] http://example.com/apples
[2] http://example.com/apples/red-delicious/apple.fruit
[3] http://example.com/apples/golden-delicious/apple.fruit

Considering any of the three URI allocation schemes above, resource [1] 
sometimes responds with a representation of resource [2] when dereferenced, 
while at other times the response is a representation of resource [3], 
depending upon user preference. This is a perfectly acceptable use of REST 
content negotiation, provided that resources [2] and [3] are "proper subsets" 
of set [1] (they must be both conceptual and hierarchical subsets), AND 
representations [1], [2] and [3] are all members of set [1]'s "Union of 
Complements".

The inverse of the Union of Complements is the "Intersection".  A basic Venn 
diagram consists of two overlapping circles, A and B, inside a rectangle U 
(for Universal set).  The area where the circles overlap is the Intersection, 
everything else inside the rectangle is the Union of Complements.  URIs [1], 
[2] and [3] so far, have all been in the Union of Complements.  If we 
conceptualize resource [1] as "fresh apples", this URI would be in the 
Intersection:

[4] http://example.com/apples/red-delicious/rotten.apple.fruit

The representation of a rotten apple is a member of the Red Delicious 
hierarchical subset, therefore it is a member of the Apples hierarchical 
subset.  But, if we've decided that [4] will never be a response 
representation when resource [1] is dereferenced, we have excluded [4] from 
membership in any conceptual subset of [1] without altering the URI 
allocation scheme.  REST does not care how you go about defining the 
semantics of your mappings (configuring your server) so long as they're 
valid, and static.

Resource [1]'s conceptual set is defined by its mapping, not by its members, 
so it is up to the server manager to ensure that all members belong by 
properly constraining the responses returned when resource [1] is 
dereferenced.  It is this constraint of the set which defines the resource 
concept in REST, not the semantics of its members, becasue the resource is 
the box -- not its contents at any given point in time.

A Venn diagram which expresses a hierarchical subset is a rectangle U 
containing one circle B completely enclosed within another circle A.  To 
express REST content negotiation for a given resource as a Venn diagram 
requires both the circle-in-a-circle diagram to constrain it to proper 
subsets, then the overlapping-circle diagram to constrain the resource set to 
its conceptual Union of Complements.

[1] http://example.com/fruit/
[2] http://example.com/apples/
[3] http://example.com/oranges/

[1] http://example.com/fruit
[2] http://example.com/apple
[3] http://example.com/orange

In either sequence above, if resource [1] sometimes responds with a 
representation of resource [2] when dereferenced and at other times, a 
representation of resource [3], it is a REST error (aka "URI collision") even 
though conceptually, [2] and [3] are equivalent subsets of [1]. This is 
because "Each origin server provides... a resource hierarchy", which means 
that [1], [2] and [3] are "disjoint sets" by definition of URIs as 
hierarchical sets.  URIs [2] and [3] cannot be seen as proper subsets of [1] 
unless they are also hierarchical subsets of [1]:

[1] http://example.com/fruit/
[2] http://example.com/fruit/apples/
[3] http://example.com/fruit/oranges/

[1] http://example.com/fruit
[2] http://example.com/fruit.apple
[3] http://example.com/fruit.orange

So far, the examples have assumed content-negotiation situations, where the 
response representation when resource [1] is dereferenced may be any 
equivalent member representation contained the Union of Complements with a 
response code of 200 OK. These are examples of the "late binding of a 
representation to a resource". Sometimes, we want to include an equivalent 
set in our conceptual set, which is NOT in the same hierarchical set. In such 
a case, the response when [1] is dereferenced is not a representation of the 
resource it identifies, instead the response representation "indicates the 
value of some other resource" by redirection.

This redirection serves the purpose of identifying a "disjoint set" as an 
equivalent resource, which could also be called the early binding of a 
resource to a request. This redirection must be the same for all users, 
regardless of the preference settings of their user-agents, in order for the 
semantics of the resource mapping to remain static. The "late binding of a 
representation to a resource" may only occur at the target of the 
redirection, not the dynamically-redirecting resource itself, because that 
set's only member representation "indicates an equivalent disjoint set" and 
nothing more.

[1] http://example.com/fruit-of-the-month
[2] http://example.com/apples/
[3] http://example.com/apples/red-delicious.apple
[4] http://example.com/oranges/

URI [1] indicates some other resource as being a disjoint set of temporarily-
equivalent value by responding to requests with a 307 redirect.  Let's assume 
this month's fruit is "apples". For this month, resource [2] is temporarily 
equivalent to resource [1], the fact that they have no overlapping membership 
despite their equivalence is the definition of disjoint sets. Next month, [2] 
should no longer be equivalent to [1].

The only member representation of set [1] above is a 307 redirect pointer. To 
express permanent instead of temporary equivalency, the only member 
representation of set [1] below would be a 301 redirect instead of a 307:

[1] http://example.com/2006-fruit-of-the-year
[2] http://example.com/apples/

Resource [1] may conceptually identify resource [2], but this does not make 
resource [2] or its members, members of set [1].  The Venn diagram for a 
disjoint set is a rectangle U containing two circles A and B which do not 
overlap, it is the only diagram required to express REST redirection.

To sum up: content negotiation is the late binding to a requested resource of 
some member representation which is equivalent, defined as the Union of 
Complements of the resource set and its proper subsets.  Redirection is the 
early binding to a request of some other resource which is equivalent, 
defined as a disjoint set.  These relationships may be modeled using simple 
Venn diagrams as visual aids when conceptualizing a website or web service.  
These Venn diagrams can be used to derive the URI allocation scheme, and be 
referred to when designing the function of the various components.

(My nutshell objection to the notion of a service document, is its Venn 
diagram consists of circles A and B on the outside of rectangle U, and I 
can't square that with REST.)

-Eric

&gt;-- 
&gt;...jsled
&gt;http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6526<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-08-27 12:03:48<br>
Subject:Re:   [rest-discuss] Representations  (Was: Resources as Orange     Apples)<br>
Message:<br><br>
<pre>Modeling the "orange apple" case:

[U] http://example.com/fruit/
[A] http://example.com/fruit/oranges/
[B] http://example.com/fruit/apples/
[A1] http://example.com/fruit/oranges/golden.apple
[A2] http://example.com/fruit/apples/orange.apple
[I] http://example.com/fruit/orange_apples/
[I1] http://example.com/fruit/orange_apples/golden.apple
[I2] http://example.com/fruit/orange_apples/orange.apple

The equivalent members of set [I] are in the Intersection (the white-
background region in the attached image), not the Union of Complements (the 
shaded-background region in venn.png).  The URIs which identify [I]'s member 
resources should be (but are not required to be) [I1] and [I2].  When 
dereferenced, these resources identify their equivalent disjoint sets [A1] 
and [A2] with 303 redirects.

The use case for [I1] and [I2] is only when [I] is required to return a 
directory listing when dereferenced.  Otherwise, we can just use:

[I] http://example.com/fruit/orange_apples

When dereferenced, the response is an HTML representation of a page 
describing orange apples, with links to [A1] and [A2].  If, when [I1] and 
[I2] are dereferenced, the responses are representations of apples instead of 
representations indicating the equivalent disjoint sets [A1] and [A2], [I1] 
and [I2] would be "URI aliases".

If the attached Venn diagram's background were entirely shaded, like it would 
be if we were referring to the set [U] instead of the set [I], its meaning 
would be the "Union of Subset and its Complement".  When dereferenced [U] 
could, using content negotiation, legitimately return any member URI (not 
just members of A and B) because we have specifically defined the 
Intersection as a member of the Universal set, and because we haven't ruled 
out any fruits which aren't apples or oranges.

[1] http://canuck.bisonsystesms.net/dev/rest/venn.png

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6527<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-08-27 12:07:56<br>
Subject:Re:    [rest-discuss] Representations  (Was: Resources as Orange     Apples)<br>
Message:<br><br>
<pre>Crap.  Sorry:

[1] http://canuck.bisonsystems.net/dev/rest/venn.png

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6528<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2006-08-27 18:31:40<br>
Subject:Re: [rest-discuss] Representations  (Was: Resources as Orange Apples)<br>
Message:<br><br>
<pre>Eric,

I think you are misinterpreting the significance of set theory, if there is
any, to REST.  It is not about resource containment; it's about
representation.

Given some resource, there is a set of representations for it, and the
following are all true:

1. The set may be empty for all time

2. The set may be broken into not necessarily disjoint subsets, each
    of which represents the resource at some distinct time.

3. Each of the subsets in 2 above may be empty or have any number
    of members.  The members are equivalent in that they all represent
    the same resource at the same time.

Further, to your URI examples and content negotiation discussion,
there is no need to implicate more than one resource (and therefore one
URI) in modeling content negotiation.  I think if you figure that out,
you'll be well on your way to some rest from this subject, no pun
intended.

Walden

----- Original Message ----- 
From: "Eric J. Bowman" &lt;eric@...&gt;
To: "Josh Sled" &lt;jsled@...&gt;
Cc: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Sunday, August 27, 2006 5:22 AM
Subject: Re: [rest-discuss] Representations (Was: Resources as Orange 
Apples)


: &gt;
: &gt;Why so much of a focus on containers, sets and physical objects anyways?
: &gt;There's very little -- on the HTTP web, anways -- that actually exploits
: &gt;a "container" relationship; even Apache directory listings are done by
: &gt;generating HTML, and simply following links.  The browser doesn't know.
: &gt;
:
: Because the definition of resource in REST is built on the notion of set
: theory. REST leaves "equivalent" undefined, which it can get away with by
: leaving the responsibility for understanding set theory squarely on the
: shoulders of the reader.  I'm afraid this has led many to interpret
: "equivalent" to mean "anything I want it to mean".  REST also defines
: concepts like content negotiation and redirection without elaborating on
: them, requiring the reader to first understand equivalence as defined by 
set
: theory in order to properly implement a REST-based solution.
:
: To me, this suggests that the best way to understand or explain REST 
concepts
: like content negotiation and redirection is to converse in terms of set
: theory, because understanding or explaining those concepts first requires 
a
: clear understanding of the semantics of "equivalent".  The problem is that
: "equivalent" may only be defined as it pertains to any given example, 
which
: is why I think there needs to be some sort of base vocabulary using non-
: opaque URIs.
:
: Otherwise, parties must first agree on the semantics of the example URIs
: before proceeding to discuss the issue at hand, even if both are 
well-versed
: in REST.  It can take days for a group to even understand that their
: disagreement comes down to the semantics of a URI's mapping, not the 
behavior
: of that URI when dereferenced, because one side thinks it's talking about
: apples and the other side thinks it's talking about oranges.
:
: The semantics of a mapping can be made more obvious by restricting 
examples
: to sets whose membership and equivalency are inherent in their naming,
: regardless of URI allocation scheme, so I chose apples and oranges.  It
: provides a common-ground example, wholly unrelated to any specific service
: (flight reservations, weather etc.), which carries over to a wide variety 
of
: situations and possible URI allocation schemes.
:
: This may allow examples to be more easily understood without having to 
first
: define the conceptual sets, and provide a means for parties who disagree
: about the semantics of a particular mapping to illustrate their positions. 
If
: not, hopefully some people besides me will find it useful to explain or
: understand REST or at least those parts of it which are wholly reliant on 
an
: understanding of set theory, like "resource".
:
: &gt;
: &gt;What about focusing on URI's identifiying application states, and using
: &gt;hyperlinks (and forms) in the media to transition between them?
: &gt;
:
: I wish you hadn't asked me that, since I had planned to spend my Saturday
: differently, but it was cold and rainy so I spent it adding URI-based
: examples to what I already had.  ;-)  But it just didn't work.  Problem 
is,
: whatever URI allocation scheme is chosen for an example comes across as 
some
: sort of "preferred" method if it's an example of good practice, while 
those
: used as examples of bad practice look as though it results from the URI
: scheme itself instead of flawed conceptualization.
:
: Some Venn diagrams in the narrative might prove useful, though.
:
: If I've established the analogy correctly, it may be used as an example-
: neutral "common notation" to illustrate the situational semantics of that
: pesky word "equivalent", and other REST concepts:
:
: [1] http://example.com/apple/
: [2] http://example.com/apple/red-delicious.apple
: [3] http://example.com/apple/golden-delicious.apple
:
: [1] http://example.com/apple
: [2] http://example.com/apple.red-delicious
: [3] http://example.com/apple.golden-delicious
:
: [1] http://example.com/apples
: [2] http://example.com/apples/red-delicious/apple.fruit
: [3] http://example.com/apples/golden-delicious/apple.fruit
:
: Considering any of the three URI allocation schemes above, resource [1]
: sometimes responds with a representation of resource [2] when 
dereferenced,
: while at other times the response is a representation of resource [3],
: depending upon user preference. This is a perfectly acceptable use of REST
: content negotiation, provided that resources [2] and [3] are "proper 
subsets"
: of set [1] (they must be both conceptual and hierarchical subsets), AND
: representations [1], [2] and [3] are all members of set [1]'s "Union of
: Complements".
:
: The inverse of the Union of Complements is the "Intersection".  A basic 
Venn
: diagram consists of two overlapping circles, A and B, inside a rectangle U
: (for Universal set).  The area where the circles overlap is the 
Intersection,
: everything else inside the rectangle is the Union of Complements.  URIs 
[1],
: [2] and [3] so far, have all been in the Union of Complements.  If we
: conceptualize resource [1] as "fresh apples", this URI would be in the
: Intersection:
:
: [4] http://example.com/apples/red-delicious/rotten.apple.fruit
:
: The representation of a rotten apple is a member of the Red Delicious
: hierarchical subset, therefore it is a member of the Apples hierarchical
: subset.  But, if we've decided that [4] will never be a response
: representation when resource [1] is dereferenced, we have excluded [4] 
from
: membership in any conceptual subset of [1] without altering the URI
: allocation scheme.  REST does not care how you go about defining the
: semantics of your mappings (configuring your server) so long as they're
: valid, and static.
:
: Resource [1]'s conceptual set is defined by its mapping, not by its 
members,
: so it is up to the server manager to ensure that all members belong by
: properly constraining the responses returned when resource [1] is
: dereferenced.  It is this constraint of the set which defines the resource
: concept in REST, not the semantics of its members, becasue the resource is
: the box -- not its contents at any given point in time.
:
: A Venn diagram which expresses a hierarchical subset is a rectangle U
: containing one circle B completely enclosed within another circle A.  To
: express REST content negotiation for a given resource as a Venn diagram
: requires both the circle-in-a-circle diagram to constrain it to proper
: subsets, then the overlapping-circle diagram to constrain the resource set 
to
: its conceptual Union of Complements.
:
: [1] http://example.com/fruit/
: [2] http://example.com/apples/
: [3] http://example.com/oranges/
:
: [1] http://example.com/fruit
: [2] http://example.com/apple
: [3] http://example.com/orange
:
: In either sequence above, if resource [1] sometimes responds with a
: representation of resource [2] when dereferenced and at other times, a
: representation of resource [3], it is a REST error (aka "URI collision") 
even
: though conceptually, [2] and [3] are equivalent subsets of [1]. This is
: because "Each origin server provides... a resource hierarchy", which means
: that [1], [2] and [3] are "disjoint sets" by definition of URIs as
: hierarchical sets.  URIs [2] and [3] cannot be seen as proper subsets of 
[1]
: unless they are also hierarchical subsets of [1]:
:
: [1] http://example.com/fruit/
: [2] http://example.com/fruit/apples/
: [3] http://example.com/fruit/oranges/
:
: [1] http://example.com/fruit
: [2] http://example.com/fruit.apple
: [3] http://example.com/fruit.orange
:
: So far, the examples have assumed content-negotiation situations, where 
the
: response representation when resource [1] is dereferenced may be any
: equivalent member representation contained the Union of Complements with a
: response code of 200 OK. These are examples of the "late binding of a
: representation to a resource". Sometimes, we want to include an equivalent
: set in our conceptual set, which is NOT in the same hierarchical set. In 
such
: a case, the response when [1] is dereferenced is not a representation of 
the
: resource it identifies, instead the response representation "indicates the
: value of some other resource" by redirection.
:
: This redirection serves the purpose of identifying a "disjoint set" as an
: equivalent resource, which could also be called the early binding of a
: resource to a request. This redirection must be the same for all users,
: regardless of the preference settings of their user-agents, in order for 
the
: semantics of the resource mapping to remain static. The "late binding of a
: representation to a resource" may only occur at the target of the
: redirection, not the dynamically-redirecting resource itself, because that
: set's only member representation "indicates an equivalent disjoint set" 
and
: nothing more.
:
: [1] http://example.com/fruit-of-the-month
: [2] http://example.com/apples/
: [3] http://example.com/apples/red-delicious.apple
: [4] http://example.com/oranges/
:
: URI [1] indicates some other resource as being a disjoint set of 
temporarily-
: equivalent value by responding to requests with a 307 redirect.  Let's 
assume
: this month's fruit is "apples". For this month, resource [2] is 
temporarily
: equivalent to resource [1], the fact that they have no overlapping 
membership
: despite their equivalence is the definition of disjoint sets. Next month, 
[2]
: should no longer be equivalent to [1].
:
: The only member representation of set [1] above is a 307 redirect pointer. 
To
: express permanent instead of temporary equivalency, the only member
: representation of set [1] below would be a 301 redirect instead of a 307:
:
: [1] http://example.com/2006-fruit-of-the-year
: [2] http://example.com/apples/
:
: Resource [1] may conceptually identify resource [2], but this does not 
make
: resource [2] or its members, members of set [1].  The Venn diagram for a
: disjoint set is a rectangle U containing two circles A and B which do not
: overlap, it is the only diagram required to express REST redirection.
:
: To sum up: content negotiation is the late binding to a requested resource 
of
: some member representation which is equivalent, defined as the Union of
: Complements of the resource set and its proper subsets.  Redirection is 
the
: early binding to a request of some other resource which is equivalent,
: defined as a disjoint set.  These relationships may be modeled using 
simple
: Venn diagrams as visual aids when conceptualizing a website or web 
service.
: These Venn diagrams can be used to derive the URI allocation scheme, and 
be
: referred to when designing the function of the various components.
:
: (My nutshell objection to the notion of a service document, is its Venn
: diagram consists of circles A and B on the outside of rectangle U, and I
: can't square that with REST.)
:
: -Eric
:
: &gt;-- 
: &gt;...jsled
: &gt;http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`
: &gt;
:
:
:
:
: __________ NOD32 1.1727 (20060826) Information __________
:
: This message was checked by NOD32 antivirus system.
: http://www.eset.com
:
: 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6529<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-08-27 22:26:30<br>
Subject:Re:  [rest-discuss] Representations  (Was: Resources as Orange     Apples)<br>
Message:<br><br>
<pre>&gt;
&gt;Further, to your URI examples and content negotiation discussion,
&gt;there is no need to implicate more than one resource (and therefore one
&gt;URI) in modeling content negotiation.  I think if you figure that out,
&gt;you'll be well on your way to some rest from this subject, no pun
&gt;intended.
&gt;

When implementing content negotiation, each alternate representation is also 
its own resource with its own URI, this URI is returned in Content-Location. 
I don't know how this is done without using multiple resources.

-Eric

&gt;
&gt;Walden
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6530<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2006-08-27 23:03:05<br>
Subject:Re: [rest-discuss] Representations  (Was: Resources as Orange Apples)<br>
Message:<br><br>
<pre>Eric,

That's the agent-driven form you are talking about, and not the only
way to do it.

I suggest that cases in which representations each have their own
URI are confusing when you are trying to understand the basic model
of the relationships among resources and representations.  This could be
why you are going off on containers.

That's why I am recommending you examine a content negotiation
case that does not involve more than one URI.  And see how you apply
set theory to that.

Try it.

Walden

----- Original Message ----- 
From: "Eric J. Bowman" &lt;eric@...&gt;
To: "Walden Mathews" &lt;waldenm@...&gt;
Cc: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Sunday, August 27, 2006 6:26 PM
Subject: Re: [rest-discuss] Representations (Was: Resources as Orange 
Apples)


: &gt;
: &gt;Further, to your URI examples and content negotiation discussion,
: &gt;there is no need to implicate more than one resource (and therefore one
: &gt;URI) in modeling content negotiation.  I think if you figure that out,
: &gt;you'll be well on your way to some rest from this subject, no pun
: &gt;intended.
: &gt;
:
: When implementing content negotiation, each alternate representation is 
also
: its own resource with its own URI, this URI is returned in 
Content-Location.
: I don't know how this is done without using multiple resources.
:
: -Eric
:
: &gt;
: &gt;Walden
: &gt;
:
:
:
: __________ NOD32 1.1727 (20060826) Information __________
:
: This message was checked by NOD32 antivirus system.
: http://www.eset.com
:
: 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6531<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-08-27 23:18:11<br>
Subject:Re:  [rest-discuss] Representations  (Was: Resources as Orange     Apples)<br>
Message:<br><br>
<pre>&gt;
&gt;Eric,
&gt;
&gt;That's the agent-driven form you are talking about, and not the only
&gt;way to do it.
&gt;

Server-driven negotiation attempts to assess the preferences set in the user-
agent and return the "most appropriate" representation.  If the user-agent 
prefers Red Delicious over Golden Delicious the server responds with Red 
Delicious.

Agent-driven negotiation is when the server responds with a list of options, 
or its best-guess representation plus a list of options.  All my examples 
assume a 200 OK response from the server, not 300 Options, I think that 
indicates server-driven negotiation.

&gt;
&gt;I suggest that cases in which representations each have their own
&gt;URI are confusing when you are trying to understand the basic model
&gt;of the relationships among resources and representations.  This could be
&gt;why you are going off on containers.
&gt;

I agree that it's confusing, which is why I use Venn diagrams when I'm 
figuring out content-negotiation scenarios.  All I can really say is it works 
for me.  Content negotiation introduces a certain ambiguity between resource 
and representation (one resource returns representations of other resources), 
diagrams help me keep my head above water.

&gt;
&gt;That's why I am recommending you examine a content negotiation
&gt;case that does not involve more than one URI.  And see how you apply
&gt;set theory to that.
&gt;
&gt;Try it.
&gt;

I'm all for constructive criticism here, I'm not trying to be stubborn, but I 
can't think of such a case.  The alternate representations can always be 
assigned their own URIs, which I always return in Content-Location because 
that URI is not the same as the one in the "location bar", i.e. the request 
URI.

-Eric

&gt;
&gt;Walden
&gt;
&gt;----- Original Message ----- 
&gt;From: "Eric J. Bowman" &lt;eric@...&gt;
&gt;To: "Walden Mathews" &lt;waldenm@...&gt;
&gt;Cc: &lt;rest-discuss@yahoogroups.com&gt;
&gt;Sent: Sunday, August 27, 2006 6:26 PM
&gt;Subject: Re: [rest-discuss] Representations (Was: Resources as Orange 
&gt;Apples)
&gt;
&gt;
&gt;: &gt;
&gt;: &gt;Further, to your URI examples and content negotiation discussion,
&gt;: &gt;there is no need to implicate more than one resource (and therefore one
&gt;: &gt;URI) in modeling content negotiation.  I think if you figure that out,
&gt;: &gt;you'll be well on your way to some rest from this subject, no pun
&gt;: &gt;intended.
&gt;: &gt;
&gt;:
&gt;: When implementing content negotiation, each alternate representation is 
&gt;also
&gt;: its own resource with its own URI, this URI is returned in 
&gt;Content-Location.
&gt;: I don't know how this is done without using multiple resources.
&gt;:
&gt;: -Eric
&gt;:
&gt;: &gt;
&gt;: &gt;Walden
&gt;: &gt;
&gt;:
&gt;:
&gt;:
&gt;: __________ NOD32 1.1727 (20060826) Information __________
&gt;:
&gt;: This message was checked by NOD32 antivirus system.
&gt;: http://www.eset.com
&gt;:
&gt;: 
&gt;
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6532<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-08-28 07:15:28<br>
Subject:Re: [rest-discuss] REST vs COM<br>
Message:<br><br>
<pre>
On Aug 26, 2006, at 9:31 AM, Stefan Tilkov wrote:

&gt; On Aug 25, 2006, at 12:50 AM, Lucas Gonze wrote:
&gt;
&gt; &gt; On Thu, 24 Aug 2006, Stefan Tilkov wrote:
&gt; &gt;&gt; Either I'm missing something obvious, or we misunderstand each
&gt; &gt;&gt; other. I'm aware of the usefulness of having URIs one can GET a
&gt; &gt;&gt; representation from. I'm asking whether this del.icio.us API
&gt; &gt;&gt; decision is reaonable from a RESTful HTTP point of view:
&gt; &gt;&gt; "https://api.del.icio.us/v1/posts/update
&gt; &gt;
&gt; &gt; Hm. Well, ok, what I intended to express is that it's not RESTful,
&gt; &gt; but the difficulty lies in making a clear and simple case for why a
&gt; &gt; RESTful design would be better.
&gt; &gt;
&gt;
&gt; Ah, I see.
&gt;
&gt; &gt; The delicious API consistently trades off RESTful design for
&gt; &gt; addressability via GET. What it achieves with this is more ease of
&gt; &gt; use for developers, and consequently more developer adoption.
&gt; &gt;
&gt;
&gt; But more ease for developers results in their having to learn a
&gt; del.icio.us-specific way to check for up-to-date-ness (is there a
&gt; better word?) a resource, instead of relying on the one built into
&gt; HTTP. Right?
Agreed. I fail to see why adding the If-Modified-Since header to the  
request is less easy or convenient compared to having to do an  
additional GET and having to implement an additional XML handler of  
some sort for the &lt;update&gt; element.
Furthermore, del.icio.us ties itself to the special way of checking  
cache freshness.

Jan



&gt;
&gt; &gt; I can't find fault in them for being focused on the end result. If
&gt; &gt; REST is really better, it should be easy to make a case that
&gt; &gt; delicious' non-RESTful design does not actually create more ease of
&gt; &gt; use for developers.
&gt; &gt;
&gt;
&gt; Obviously not. But this is rest-discuss, after all ;-)
&gt;
&gt; Stefan
&gt;
&gt; &gt; -Lucas
&gt; &gt;
&gt; &gt;
&gt;
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6533<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2006-08-28 07:13:31<br>
Subject:Re: [rest-discuss] Representations  (Was: Resources as Orange     Apples)<br>
Message:<br><br>
<pre>Eric J. Bowman schrieb:
&gt; 
&gt; 
&gt;  &gt;
&gt;  &gt;Further, to your URI examples and content negotiation discussion,
&gt;  &gt;there is no need to implicate more than one resource (and therefore one
&gt;  &gt;URI) in modeling content negotiation. I think if you figure that out,
&gt;  &gt;you'll be well on your way to some rest from this subject, no pun
&gt;  &gt;intended.
&gt;  &gt;
&gt; 
&gt; When implementing content negotiation, each alternate representation is 
&gt; also
&gt; its own resource with its own URI, this URI is returned in 
&gt; Content-Location.

No, it doesn't need to. It just can be that way.

&gt; I don't know how this is done without using multiple resources.

It doesn't need to be done that way in the first place.

Best regards, Julian



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6534<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-08-28 07:58:56<br>
Subject:Re:  [rest-discuss] Representations  (Was: Resources as Orange     Apples)<br>
Message:<br><br>
<pre>&gt;-----Original Message-----
&gt;From: Julian Reschke [mailto:julian.reschke@...]
&gt;Sent: Monday, August 28, 2006 12:13 AM
&gt;To: eric@...
&gt;Cc: 'Walden Mathews', rest-discuss@yahoogroups.com
&gt;Subject: Re: [rest-discuss] Representations  (Was: Resources as Orange     Apples)
&gt;
&gt;Eric J. Bowman schrieb:
&gt;&gt; 
&gt;&gt; 
&gt;&gt;  &gt;
&gt;&gt;  &gt;Further, to your URI examples and content negotiation discussion,
&gt;&gt;  &gt;there is no need to implicate more than one resource (and therefore one
&gt;&gt;  &gt;URI) in modeling content negotiation. I think if you figure that out,
&gt;&gt;  &gt;you'll be well on your way to some rest from this subject, no pun
&gt;&gt;  &gt;intended.
&gt;&gt;  &gt;
&gt;&gt; 
&gt;&gt; When implementing content negotiation, each alternate representation is 
&gt;&gt; also
&gt;&gt; its own resource with its own URI, this URI is returned in 
&gt;&gt; Content-Location.
&gt;
&gt;No, it doesn't need to. It just can be that way.
&gt;

Yes, I understand that Content-Location is optional, in fact that is why 
there's a VARY header.  Either way, multiple representations are associated 
with one URI.  It is my belief that in a REST system, these variants should 
be individually addressable as resources in their own right.  Even if those 
URIs are not sent in Content-Location when a system is deployed, that should 
certainly be a capability of any implementation.

&gt;
&gt;&gt; I don't know how this is done without using multiple resources.
&gt;
&gt;It doesn't need to be done that way in the first place.
&gt;

No, of course not, not according to RFC 3296 or RFC 2616 but we are talking 
about REST which is a best-practices subset of what is possible, aren't we? 
If you can't assign each of your variants a URI, how do you know your negotiated resource isn't an endpoint?

When I first designed my RMS I didn't provide for any means of overriding 
content negotiation, and I wasn't even worried about what URIs to assign the 
variants.  The VARY header did its job.  But since I often discuss Web 
Development I decided that I wanted to be able to link to back-compat 
HTML 4.01 variants so that even users whose browsers would normally negotiate 
for XHTML 1.1 could view them, without resorting to 300 Options.

In other words, I learned from experience several reasons not to forego the 
_ability_ to send Content-Location even in situations where I don't send that 
header.

My solution was to parameterize the URLs instead of using file extensions, or 
a variety of other options many of which are equally viable.  Even if I chose 
not to send Content-Location, or if I chose not to respond to the 
parameterized URLs by sending 404 errors, internally my system is based on 
the REST architectural style so it is critical that I be able to identify 
each of my variants with its own URI, at least in order to model the system.

I offer this proof of my RMS, based on the notation and diagrams I've been 
developing.  It's WIP.  Feel free to use the PNGs I made however you want:

[1] http://canuck.bisonsystems.net/dev/rest/

-Eric

&gt;
&gt;Best regards, Julian
&gt;
&gt;
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6535<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2006-08-28 09:08:01<br>
Subject:Re: [rest-discuss] Representations  (Was: Resources as Orange     Apples)<br>
Message:<br><br>
<pre>Eric J. Bowman schrieb:
&gt; Yes, I understand that Content-Location is optional, in fact that is why
&gt; there's a VARY header. Either way, multiple representations are associated
&gt; with one URI. It is my belief that in a REST system, these variants should
&gt; be individually addressable as resources in their own right. Even if those
&gt; URIs are not sent in Content-Location when a system is deployed, that 
&gt; should
&gt; certainly be a capability of any implementation.

I do agree that it's good to have a separate URI when there's a chance 
that that representation is authorable, or that people may want to 
bookmark it. It's not entirely clear to my why it's desirable in the 
general case (why does it matter?).

&gt; No, of course not, not according to RFC 3296 or RFC 2616 but we are talking
&gt; about REST which is a best-practices subset of what is possible, aren't we?
&gt; If you can't assign each of your variants a URI, how do you know your 
&gt; negotiated resource isn't an endpoint?

How is that relevant to the client? Also, what's the definition of an 
"endpoint"?

&gt; ...

Best regards, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6536<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-08-28 09:33:36<br>
Subject:Re:  [rest-discuss] Representations  (Was: Resources as Orange     Apples)<br>
Message:<br><br>
<pre>&gt;
&gt;I do agree that it's good to have a separate URI when there's a chance 
&gt;that that representation is authorable, or that people may want to 
&gt;bookmark it. It's not entirely clear to my why it's desirable in the 
&gt;general case (why does it matter?).
&gt;

It matters because there is another resource involved whether one 
acknowledges its presence by assigning it a URI, or not.  It does not matter 
to a user-agent, it matters to the definition of content negotiation.  When 
a resource is negotiated, it is not a box of apples containing a Red 
Delicious apple and a Golden Delicious apple.  It is a box of apples which 
has been divided into one container (bin) for Red Delicious apples and 
another container for Golden Delicious apples.  To dereference an apple one 
is reaching into a box of apples, yes, but one is reaching into one bin or 
the other, and those bins (boxes) should be identified with URIs in a REST 
system simply because they're resources.

&gt;
&gt;How is that relevant to the client? Also, what's the definition of an 
&gt;"endpoint"?
&gt;

Not sure where I said any of this is relevant to the client?  The semantics 
of the mapping for a REST resource is static, as can be shown using basic set 
theory and simple two-circle Venn diagrams. When the semantics of the mapping 
for a resource can't be defined in such fashion, I say that makes it non-
static and hence, an endpoint.

-Eric

&gt;
&gt;Best regards, Julian
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6537<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2006-08-28 10:22:10<br>
Subject:Re: [rest-discuss] Representations  (Was: Resources as Orange     Apples)<br>
Message:<br><br>
<pre>Eric J. Bowman schrieb:
&gt;  &gt;I do agree that it's good to have a separate URI when there's a chance
&gt;  &gt;that that representation is authorable, or that people may want to
&gt;  &gt;bookmark it. It's not entirely clear to my why it's desirable in the
&gt;  &gt;general case (why does it matter?).
&gt;  &gt;
&gt; 
&gt; It matters because there is another resource involved whether one
&gt; acknowledges its presence by assigning it a URI, or not. It does not matter

Well, no. There doesn't need to be "another" resource at all. Just 
because the representation varies on request parameters doesn't mean at 
all that there must be another resource involved. It could be that way, 
but it doesn't have to be that way.

&gt; to a user-agent, it matters to the definition of content negotiation. When
&gt; a resource is negotiated, it is not a box of apples containing a Red
&gt; Delicious apple and a Golden Delicious apple. It is a box of apples which
&gt; has been divided into one container (bin) for Red Delicious apples and
&gt; another container for Golden Delicious apples. To dereference an apple one
&gt; is reaching into a box of apples, yes, but one is reaching into one bin or
&gt; the other, and those bins (boxes) should be identified with URIs in a REST
&gt; system simply because they're resources.

So who says that a server should assign a URI to a resource even though 
it doesn't plan to make it accessible under that URI?

&gt;  &gt;How is that relevant to the client? Also, what's the definition of an
&gt;  &gt;"endpoint"?
&gt;  &gt;
&gt; 
&gt; Not sure where I said any of this is relevant to the client? The semantics

You said:

"If you can't assign each of your variants a URI, how do you know your 
negotiated resource isn't an endpoint?"

That's up to the server to decide, right? I don't think it makes sense 
to force URI assignment if a resource won't be accessible under it 
(actually, I would think that's a bad idea).

Of course that doesn't mean it's a good idea to expose as much of your 
system's internals as possible as separate resources. However, REST 
doesn't seem to require that (or if it does, please point me to the text 
section).

&gt; of the mapping for a REST resource is static, as can be shown using 
&gt; basic set
&gt; theory and simple two-circle Venn diagrams. When the semantics of the 
&gt; mapping
&gt; for a resource can't be defined in such fashion, I say that makes it non-
&gt; static and hence, an endpoint.

As I don't know what is meant by "endpoint", it's hard to argue with.

Roy says:

"More precisely, a resource R is a temporally varying membership 
function MR(t), which for time t maps to a set of entities, or values, 
which are equivalent. The values in the set may be resource 
representations and/or resource identifiers. A resource can map to the 
empty set, which allows references to be made to a concept before any 
realization of that concept exists -- a notion that was foreign to most 
hypertext systems prior to the Web [61]. Some resources are static in 
the sense that, when examined at any time after their creation, they 
always correspond to the same value set. Others have a high degree of 
variance in their value over time. The only thing that is required to be 
static for a resource is the semantics of the mapping, since the 
semantics is what distinguishes one resource from another."

(&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_2_1_1&gt;)


Could you clarify how this definition relates to your usage of the term 
"endpoint"?

Best regards, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6538<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2006-08-28 16:56:52<br>
Subject:Re: [rest-discuss] Representations  (Was: Resources as Orange  Apples)<br>
Message:<br><br>
<pre>: &gt; It matters because there is another resource involved whether one
: &gt; acknowledges its presence by assigning it a URI, or not. It does not 
matter
:
: Well, no. There doesn't need to be "another" resource at all. Just
: because the representation varies on request parameters doesn't mean at
: all that there must be another resource involved. It could be that way,
: but it doesn't have to be that way.
:

Right.  Maybe a better way to say it is that the server is not obliged to
identify variant representations with URI, thereby making them directly
addressable by the client.  In fact, from the POV of encapsulating the
original resource, it is undesirable to identify representations that don't
need individual addressability.

: &gt; to a user-agent, it matters to the definition of content negotiation. 
When
: &gt; a resource is negotiated, it is not a box of apples containing a Red
: &gt; Delicious apple and a Golden Delicious apple. It is a box of apples 
which
: &gt; has been divided into one container (bin) for Red Delicious apples and
: &gt; another container for Golden Delicious apples. To dereference an apple 
one
: &gt; is reaching into a box of apples, yes, but one is reaching into one bin 
or
: &gt; the other, and those bins (boxes) should be identified with URIs in a 
REST
: &gt; system simply because they're resources.
:
: So who says that a server should assign a URI to a resource even though
: it doesn't plan to make it accessible under that URI?
:

I think Eric does plan to make it accessible, so the question may be
moot.

In any case, I think Eric is mis-applying the advice "identify resources 
with
URI" in this particular cart of fruit.  That advice is targeted at a design 
problem
at the other end of the spectrum: applications written with a single 
"endpoint"
behind which resources are not identified and are therefore not available
elsewhere in the Web.

The reality check, Eric, is this: since everything you can conceptualize 
about
your application is a resource by definition, and because that definition 
allows
infinite recursion via resource-representation relation, it is obviously not 
feasible
to stamp every possible resource with a URI.  Ergo: we must be reading
the advice in the wrong context.

Walden


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6539<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-08-28 20:51:40<br>
Subject:Re:  [rest-discuss] Representations  (Was: Resources as Orange     Apples)<br>
Message:<br><br>
<pre>&gt;
&gt;So who says that a server should assign a URI to a resource even though 
&gt;it doesn't plan to make it accessible under that URI?
&gt;

I don't know, who?  I certainly didn't say that.  I said when designing a 
site the server manager should be able to define all resources with URIs 
even if there is no plan to make those URIs accessible.  How does one go 
about designing a REST application using "mystery resources" which have no 
URIs?

&gt;
&gt;"If you can't assign each of your variants a URI, how do you know your 
&gt;negotiated resource isn't an endpoint?"
&gt;
&gt;That's up to the server to decide, right? I don't think it makes sense 
&gt;to force URI assignment if a resource won't be accessible under it 
&gt;(actually, I would think that's a bad idea).
&gt;

I'm speaking of the conceptualization of a website, not the realization of a 
website.  The server decides nothing, it only does what the server manager 
tells it to do, nobody is suggesting the "forcing of URI assignments". I have 
a variety of URIs which are not available to the public, however, they have 
URIs so my system can address those resources internally.

&gt;
&gt;Of course that doesn't mean it's a good idea to expose as much of your 
&gt;system's internals as possible as separate resources. However, REST 
&gt;doesn't seem to require that (or if it does, please point me to the text 
&gt;section).
&gt;

A resource is a set, "the values in a set may be resource representations or 
resource identifiers".  How can you have a resource under this definition if 
you have no resource identifier?  Is it possible to access, or even generate, 
a representation of some resource which has no identifier?

&gt;
&gt;As I don't know what is meant by "endpoint", it's hard to argue with.
&gt;
&gt;Roy says:
&gt;
&gt;The only thing that is required to be 
&gt;static for a resource is the semantics of the mapping, since the 
&gt;semantics is what distinguishes one resource from another."
&gt;

You keep asking me this and I keep giving the same response.  _I_ define an 
endpoint to be some resource whose mapping semantics are variable.  Is this 
so wrong?  Should I stop?  Any suggestions of what else to call such a 
resource?

-Eric

&gt;
&gt;Best regards, Julian
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6540<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-08-28 21:11:03<br>
Subject:Re:  [rest-discuss] Representations  (Was: Resources as Orange      Apples)<br>
Message:<br><br>
<pre>&gt;
&gt;The reality check, Eric, is this: since everything you can conceptualize 
&gt;about
&gt;your application is a resource by definition, and because that definition 
&gt;allows
&gt;infinite recursion via resource-representation relation, it is obviously not 
&gt;feasible
&gt;to stamp every possible resource with a URI.  Ergo: we must be reading
&gt;the advice in the wrong context.
&gt;

If by infinite recursion you're referring to Russell's Paradox, I don't see 
how it applies here, where we are debating whether a box with two apples is 
one box or a box divided in two sections -- not whether it's one box or 
an infinite number of boxes.

From the user-agent perspective, one resource returns multiple 
representations, from the server perspective I see those variants as their 
own resources.  So I think it's important to model a system as if those were 
unique resources, whether or not those identifiers are opaque to the client.

-Eric

&gt;
&gt;Walden
&gt;
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6541<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-08-28 22:08:38<br>
Subject:Re:  [rest-discuss] Representations  (Was: Resources as Orange     Apples)<br>
Message:<br><br>
<pre>Is this what you guys have in mind?

http://canuck.bisonsystems.net/dev/rest/one_uri.html

-Eric

&gt;
&gt;That's why I am recommending you examine a content negotiation
&gt;case that does not involve more than one URI.  And see how you apply
&gt;set theory to that.
&gt;
&gt;Try it.
&gt;
&gt;Walden
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6542<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-08-28 23:27:58<br>
Subject:Re: [rest-discuss] Resources as Orange Apples<br>
Message:<br><br>
<pre>On Aug 25, 2006, at 6:09 PM, Eric J. Bowman wrote:
&gt; The basic concept I am trying to portray is that a resource is a  
&gt; set, in fact
&gt; that is what Dr. Fielding's dissertation calls it:
&gt;
&gt; "[A] resource... maps to a set of entities..."

The correct quote is

"a resource R is a temporally varying membership function MR(t), which
  for time t maps to a set of entities, or values, which are equivalent.
  The values in the set may be resource representations and/or resource
  identifiers."

A resource is a membership function. A membership function is not a set.
The value of that function for a given time t is a set.  The resource is
the continuity of those values over time, not the value at any given
instant in time.

Your analogy starts off on the wrong foot by talking about resources
in terms of how they might be implemented (a box of apples).

A better framework for an analogy is a double-sided wall of pigeon-hole
boxes, with doors, a button, and a label per box on each side.  The
client side of the wall can only see the labels on their own side.
The server side of the wall can only see the labels on their own side.
When the client pushes a button, the button on the opposite side  
lights up.
The server side then opens their door, places something corresponding to
their server-side label in the hole, and closes their door -- causing  
the
corresponding client-side button to light up. The client then opens the
door, grabs what was placed in the hole, and closes their door.   
Finally,
the client decides whether or not to change the label on their side of
the door based on what was received when the button was pushed.  The
client has no idea what is behind the door or how the holes get filled.

"client" and "server" are only used here for a directional sense, so
variations an be made for writing (e.g., the client could place
something in the hole first and then push the button, or there
could be more than one type of button, etc.).

Now you can add apples and oranges to that framework and make an
analogy.


....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6543<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2006-08-29 01:34:48<br>
Subject:Re: [rest-discuss] Representations  (Was: Resources as Orange Apples)<br>
Message:<br><br>
<pre>Speaking for myself, no.  You are modeling resources as sets, and
you seem overall to be losing the distinction between resources and
representations, although in some places you have it correct.

Also, you have this inconsistency where at one point you say
representations will not be identified with URI, then you go back on
that promise by referring to a representation as a URI (which would
be wrong even if you referred to a resource as a URI).

To me, your model sounds like this:

1. When you query a resource (via its URI) you will be given one
    out of a set of representations. (good so far)

2. It is convenient (why?) to conceptualize every representation, which
    causes me to view it as a resource in my model. (still true to REST,
    but beginning to lead you astray)

3. Therefore, when you query a resource, I will give you a resource
    from some set.  (technically true, but definitely obscuring the basic
    REST relation of resource to representation at this point)

4. As you can see from above, resources are containers for other
    resources.  Ask for the box and I will give you something from in the
    box, maybe what you wanted.  (misrepresents REST)

Is this helpful?

Walden

----- Original Message ----- 
From: "Eric J. Bowman" &lt;eric@...&gt;
To: "Walden Mathews" &lt;waldenm@...&gt;
Cc: "Julian Reschke" &lt;julian.reschke@...&gt;; &lt;rest-discuss@yahoogroups.com&gt;
Sent: Monday, August 28, 2006 6:08 PM
Subject: Re: [rest-discuss] Representations (Was: Resources as Orange 
Apples)


: Is this what you guys have in mind?
:
: http://canuck.bisonsystems.net/dev/rest/one_uri.html
:
: -Eric
:
: &gt;
: &gt;That's why I am recommending you examine a content negotiation
: &gt;case that does not involve more than one URI.  And see how you apply
: &gt;set theory to that.
: &gt;
: &gt;Try it.
: &gt;
: &gt;Walden
: &gt;
:
:
:
: __________ NOD32 1.1729 (20060828) Information __________
:
: This message was checked by NOD32 antivirus system.
: http://www.eset.com
:
: 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6544<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-08-29 06:44:16<br>
Subject:Re: [rest-discuss] Resources as Orange Apples<br>
Message:<br><br>
<pre>&gt;  A better framework for an analogy is a double-sided wall of pigeon-hole
&gt;  boxes, with doors, a button, and a label per box on each side.

Wonderful analogy Roy! Clear as water!



regards
-- 
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6545<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-08-29 08:09:41<br>
Subject:Re:  [rest-discuss] Representations  (Was: Resources as Orange     Apples)<br>
Message:<br><br>
<pre>&gt;
&gt;Also, you have this inconsistency where at one point you say
&gt;representations will not be identified with URI, then you go back on
&gt;that promise by referring to a representation as a URI (which would
&gt;be wrong even if you referred to a resource as a URI).
&gt;

That was just an editing oversight, it's been fixed now.

&gt;
&gt;2. It is convenient (why?) to conceptualize every representation, which
&gt;    causes me to view it as a resource in my model. (still true to REST,
&gt;    but beginning to lead you astray)
&gt;

This is the part of REST which gives me fits, I'll admit.  Sometimes, all I 
need is a real-world example, and sometimes a blatant and obvious one is 
right there in front of me and I miss it.  One resource with two 
representations which are not resources themselves, would be a case where an 
XHTML 1.0 page is served as "application/xhtml+xml" to some user-agents and 
"text/html" to others.

On the server, though, I count four resources:  One unzipped cached output 
stream and one zipped cached output stream in "application/xhtml+xml", one of 
each of those also for "text/html".  To a client those are representations, 
sometimes it takes a bit of bludgeoning me about the head to get me to step 
back from my implementation and see these things (also speak of them) in more 
general terms.

&gt;
&gt;3. Therefore, when you query a resource, I will give you a resource
&gt;    from some set.  (technically true, but definitely obscuring the basic
&gt;    REST relation of resource to representation at this point)
&gt;

I've been trying to say that I will give you a representation of some 
resource in the set.  Ultimately the user receives an apple in my example, 
though, and I have clearly called the apples themselves representations.

&gt;
&gt;Is this helpful?
&gt;

Yes and no.  Yes, it helps me to see where I'm a bit off in my understanding. 
No, it doesn't help me with the problem of coming up with a simplified 
explanation for any of this.  :(

-Eric

&gt;
&gt;Walden
&gt;
&gt;----- Original Message ----- 
&gt;From: "Eric J. Bowman" &lt;eric@...&gt;
&gt;To: "Walden Mathews" &lt;waldenm@...&gt;
&gt;Cc: "Julian Reschke" &lt;julian.reschke@...&gt;; &lt;rest-discuss@yahoogroups.com&gt;
&gt;Sent: Monday, August 28, 2006 6:08 PM
&gt;Subject: Re: [rest-discuss] Representations (Was: Resources as Orange 
&gt;Apples)
&gt;
&gt;
&gt;: Is this what you guys have in mind?
&gt;:
&gt;: http://canuck.bisonsystems.net/dev/rest/one_uri.html
&gt;:
&gt;: -Eric
&gt;:
&gt;: &gt;
&gt;: &gt;That's why I am recommending you examine a content negotiation
&gt;: &gt;case that does not involve more than one URI.  And see how you apply
&gt;: &gt;set theory to that.
&gt;: &gt;
&gt;: &gt;Try it.
&gt;: &gt;
&gt;: &gt;Walden
&gt;: &gt;
&gt;:
&gt;:
&gt;:
&gt;: __________ NOD32 1.1729 (20060828) Information __________
&gt;:
&gt;: This message was checked by NOD32 antivirus system.
&gt;: http://www.eset.com
&gt;:
&gt;: 
&gt;
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6546<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-08-29 10:36:40<br>
Subject:Re:  [rest-discuss] Resources as Orange Apples<br>
Message:<br><br>
<pre>&gt;&gt;
&gt;&gt; "[A] resource... maps to a set of entities..."
&gt;
&gt;The correct quote is
&gt;

I hope I haven't given offense by editing your words.  :-(

&gt;
&gt;A resource is a membership function. A membership function is not a set.
&gt;The value of that function for a given time t is a set.  The resource is
&gt;the continuity of those values over time, not the value at any given
&gt;instant in time.
&gt;

You know this, I know this, everyone here should know this, but my audience 
consists of people who do not know this.  The problem I have here, is how to 
lead into _any_ analogy in a way which doesn't stop people here at the first 
paragraph, yet also doesn't stop my intended audience at the very first 
paragraph.  Your dissertation and your analogy are "whole", but that's not 
always the best strategy for teaching difficult concepts to those with only 
an intermediate level of knowledge.

What I'm trying for is "whole-part-whole", since everyone's starting place is 
the dissertation.  I don't think those who fail to grasp it are incapable of 
learning REST, I think they need some help, by breaking resource/
representation down into a simplified "part" which may be modeled using Venn 
diagrams, which may then be used to build the knowledge level of the target 
audience back up to "whole".

All I know about teaching comes from teaching people to swim, and what I 
picked up as a student in my incomplete University education -- what formal 
training I have is in Chemistry, but one of my Professors was Tom Cech (had 
him when he won his Nobel), and I helped Igor Gamow test SUBA in CU's 
competitive diving well.  I managed rec centers back in those days and was 
responsible for maintaining CU's pools (and occasionally the Zamboni) while I 
was a student lifeguard.

Which is why I brought up Maxwell's Demon.  In teaching Chemistry and 
Physics, many advanced concepts are impossible to teach without having a 
means to decrease entropy, in violation of the Second Law of Thermodynamics.  
Maxwell's Demon is "allowed" to reduce entropy without being considered a 
part of the system -- he may be busy but he does no work.  Maxwell's Demon 
and the concept of entropy have been applied to a variety of other subjects, 
and I firmly believe that such a device is needed to teach REST, _because_ a 
resource is a temporally varying membership function not a set.

Here, I'm creating a Maxwell's Demon by considering only one instant in time, 
"removing entropy from the equation" so that the set being mapped by the 
resource may be used to help explain what the resource is.  What results, is 
calling the resource the set for the purpose of describing the semantics of 
its mapping.  The Venn diagrams serve this purpose even if my analogy is 
off.  I'm not concerned about doing this, as using such a Demon doesn't 
prevent any analogies, or explanations based on those analogies, from 
introducing the "temporally varying membership function" bit when it's time 
to work back to the "whole".

&gt;
&gt;Your analogy starts off on the wrong foot by talking about resources
&gt;in terms of how they might be implemented (a box of apples).
&gt;

Yes, it does, by design.  With a copy of "How to Keep Your Volkswagen Alive: 
A Manual of Step-by-Step Procedures for the Compleat Idiot", some tools and a 
VW Beetle I can teach a 16-year-old how to set the timing on any vehicle with 
a mechanical points-and-condenser ignition system, even a Zamboni.  He'd be 
helpless faced with a modern electronic ignition system with computer-
controlled variable timing -- that takes some advanced study.

The book I mention explains the concept of "internal-combustion automobile 
engine" by considering one simplistic implementation, an air-cooled VW boxer 
four.  The procedures and explanations fundamentally apply to modern internal-
combustion auto engines, even the ones which seem laughable by today's 
standards -- like setting the timing with a timing light, a wrench, and a 
feeler guage for the "points".  The marginalia cartoons are a classic touch.

Give me a Haynes manual, some tools, and a BMW V-12 and I can't teach a 16-
year-old a thing.  I see a need for keeping it simple when explaining REST by 
speaking of one simplistic implementation, which may be expanded upon in 
further study, as my box of apples changes into an apple bar and a vending 
machine in my examples.  I don't think my vending machine example and your 
double-sided wall of boxes are all that far apart that they couldn't be 
modified into something useful for explaining REST, but I think the important 
part is that the result be something familiar and recognizable to people.

&gt;
&gt;Now you can add apples and oranges to that framework and make an
&gt;analogy.
&gt;

Meaning no offense, but I could also teach someone how to use an adding 
machine by sitting them down at a UNIVAC.  ;-)  Your example is certainly 
superior to mine when considering this audience, but this audience is not my 
target.

-Eric  (AFK for a few days, sorry)

&gt;
&gt;....Roy
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6547<br>
Sender:"Matthew Stevens" &lt;matt@...&gt;<br>
Post Date/Time:2006-09-07 20:46:48<br>
Subject:verbs in a PUT request?<br>
Message:<br><br>
<pre>While I am sold on REST architecture (and feel like I have been
wasting years of my life in the SOAP rope-a-dope), I am only starting
to learn proper resource modeling especially within certain
application scenarios. The REST Wiki has been very helpful - thanks.
When it comes to identifying things which try to be or resemble REST
but they really are not, I am still green.

I am really keen on RIA/AJAX solutions which isolate the presentation
layer on the client/browser and integrate with resources the REST way.
 On the other hand, I am pretty sure I am not seeing REST in all these
sessioned, distributed presentation client-server sync solutions which
operate Http micro-middleware between AJAX engines and server-side
presentation frameworks.  As visually compelling as the Echo2 demos
are, this debuggable demo

http://demo.nextapp.com/InteractiveTest/ia?debug

shows the micro-middleware which is syncing the AJAX Engine with the
server and it doesn't strike me as being REST or web scale.  It looks
like traffic you might see trussing a socket between an X client and
server and its clearly stateful.

Sometimes I do find what I am looking for, a client side only
presentation solution

http://www.jitsu.org/jitsu/guide/approach.html

but I notice it says

"issues an AJAX XmlHttpRequest PUT to send the changes to the server.
The PUT request has a list of "commands" that the server should
perform to make the necessary modifications".

This is not REST (not that the site says it is). This is an RPC
protocol using JSON format. Correct?  








</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6548<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-09-08 01:47:37<br>
Subject:Re: [rest-discuss] verbs in a PUT request?<br>
Message:<br><br>
<pre>On 9/7/06, Matthew Stevens &lt;matt@...&gt; wrote:
&gt; This is not REST (not that the site says it is). This is an RPC
&gt; protocol using JSON format. Correct?

Looks that way, yes.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6549<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2006-09-08 14:20:19<br>
Subject:Re: [rest-discuss] verbs in a PUT request?<br>
Message:<br><br>
<pre>On Thu, 2006-09-07 at 20:46 +0000, Matthew Stevens wrote:
&gt; http://www.jitsu.org/jitsu/guide/approach.html
&gt; 
&gt; but I notice it says
&gt; 
&gt; "issues an AJAX XmlHttpRequest PUT to send the changes to the server.
&gt; The PUT request has a list of "commands" that the server should
&gt; perform to make the necessary modifications".
&gt; 
&gt; This is not REST (not that the site says it is). This is an RPC
&gt; protocol using JSON format. Correct?  

REST allows code-on-demand.  As such, I don't think it breaks REST for a
server to deliver code (here: XHR-calling javascript) that is tailored
to talk back to the source server in a specific media type (albeit and
ad-hoc RPC-in-JSON).  I'd constrast this with a public API that had the
similar form, but was only described as an RPC layer on top of POST or
PUT, and expected specialized clients to be written to that specific
protocol. 

In a similar way, it doesn't break REST to have a form include the
name-value "operation=reserve_ticket" ... the user-agent is still
executing a POST of content as dictated by the server and the shared
media types involved.

-- 
...jsled
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6550<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-09-10 05:26:30<br>
Subject:Re:  [rest-discuss] How to GET a  for editing in RESTful 	design?<br>
Message:<br><br>
<pre>Hello,

On Sun, 2006-08-06 at 02:40 +0000, Eric J. Bowman wrote:
&gt; &gt;-----Original Message-----
&gt; Nic James Ferrier wrote: 
&gt; &gt; You can do it that way as well. Just add a parameter, say editform,
&gt; to 
&gt; &gt; the url, eg: 
&gt; &gt; http://server/someresource?editform 
&gt; It is my understanding that you're not supposed to modify resource
&gt; URI's in 
&gt; this way. It's the simple answer but I understand it's not RESTful.
&gt; Can you 
&gt; who are more familiar with this please comment? 

The server is allowed to do anything it wants. As the operator of a
website I can construct my url-space in any way I choose. If I tell the
client that the http://server/someresource?editform url exists by way of
a hyperlink no web tenets are broken.

If the client sees the resource http://server/someresource and deduces
on its own that the http://server/someresource?editform must exist, then
tenets are being broken[1]. If the client application moved on to
someone elses server, it would have to follow my naming conventions or
the application would no longer work. REST separates the concerns of
nouns, verbs, and content types[2]. Although we are all expected to have
similarly-structured content, we are not all expected to have
similarly-structured urls. They work differently from each other in REST
and have different constraints.

Benjamin.
[1] http://rest.blueoxen.net/cgi-bin/wiki.pl?UrlConstruction
[2] http://rest.blueoxen.net/cgi-bin/wiki.pl?RestTriangle


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6551<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-09-10 05:52:56<br>
Subject:Re: [rest-discuss] Resources as Orange Apples<br>
Message:<br><br>
<pre>Eric,

On Thu, 2006-08-24 at 04:40 +0000, Eric J. Bowman wrote:
&gt; My friends have asked me to attempt to explain REST to them in terms
&gt; they can 
&gt; understand. Which means I can't use the word "semantics",
&gt; basically. ;) I 
&gt; thought it best to use analogy instead of software-architecture
&gt; examples, for 
&gt; starters my primary concern is explaining "Resource" in terms of basic
&gt; set 
&gt; theory by sticking with apples and oranges.

Resources are easy to explain. Resources are like objects. They
demarcate application state in the same way as objects. The web is full
of resources like a java program is full of objects. The main difference
is in how you interact with them.

First of all, resources have only one type. We don't need baseclasses or
interface classes. We only have resources. Resources can be found using
a single identifier scheme. Think pointers. Once you have a pointer to
the resource, you can call invoke methods on it. These methods might be
issued directly to the resource, or might go through a proxy of some
kind.

Resources only have a limited set of methods, and each of these methods
are based around transfering a document per invocation rather than a
parameter list. If you were to ascribe member variables (or state, or
just plain information) to your object, they would form the schema
behind the documents you transfer. This schema can be transferred in
several forms (representations). You could return a HTML document which
listed out information held in your object. You could return an image,
or some othe form of your state... but each representation conveys the
same information. Updates should take on one of these forms and update
the object atomically, rather than setting the value of one variable
after the other over several invocations.

All representations returned by a resource should be standard, ideally
understood by every relevant piece of software in the world.

So, you have a uniform resource locator scheme (a pointer). You have
uniform methods that accept and/or return a document and tell you which
encoding is used in the document. Each document is of a standard type.
Because everything looks the same, sometimes you need extra resources to
represent different facets of what might conceptually have been one
object in a less constrained environment.

That's REST without the oranges.

Concrete example?

Client -&gt; Server
GET http://example.com/lightbulb HTTP/1.1

Server -&gt; Client
HTTP/1.1 200 OK
Content-Type: text/plain

on

Client -&gt; Server
PUT http://example.com/lightbulb HTTP/1.1
Content-Type: text/plain

off

Server -&gt; Client
HTTP/1.1 200 OK

See also
http://en.wikipedia.org/wiki/Representational_State_Transfer
http://rest.blueoxen.net/cgi-bin/wiki.pl?FrontPage

Benjamin.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6552<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-09-10 06:27:21<br>
Subject:Re: [rest-discuss] verbs in a PUT request?<br>
Message:<br><br>
<pre>On Fri, 2006-09-08 at 10:20 -0400, Josh Sled wrote:
&gt; On Thu, 2006-09-07 at 20:46 +0000, Matthew Stevens wrote:
&gt; &gt; http://www.jitsu.org/jitsu/guide/approach.html
&gt; &gt; &gt; but I notice it says
&gt; &gt; &gt; "issues an AJAX XmlHttpRequest PUT to send the changes to the server.
&gt; &gt; The PUT request has a list of "commands" that the server should
&gt; &gt; perform to make the necessary modifications".
&gt; &gt; &gt; This is not REST (not that the site says it is). This is an RPC
&gt; &gt; protocol using JSON format. Correct?  
&gt; REST allows code-on-demand.  As such, I don't think it breaks REST for a
&gt; server to deliver code (here: XHR-calling javascript) that is tailored
&gt; to talk back to the source server in a specific media type (albeit and
&gt; ad-hoc RPC-in-JSON).  I'd constrast this with a public API that had the
&gt; similar form, but was only described as an RPC layer on top of POST or
&gt; PUT, and expected specialized clients to be written to that specific
&gt; protocol. 

Code-on-demand is included as an optional REST feature to provide
additional client-side features without explicit software roll-out.
Javascript allowing google maps to use my scroll-wheel as a zoom control
might be an example of this. REST's constraints should still apply to a
client upgraded in this way. Its interactions with the server should be
stateless, standard methods should be used, etc.

The REST Triangle separates nouns, verbs, and content types. I believe
we should be wary of crossovers between these vertices. Content that
contains verbs should be avoided. I would be wary of sending a list of
commands as content back to the server, myself. I don't think it cleanly
maps to the code-on-demand feature, as the server already has the all of
the features it needs. The client is effectively writing a program that
the server should execute as an alternative to a more standard
communication pattern.

&gt; In a similar way, it doesn't break REST to have a form include the
&gt; name-value "operation=reserve_ticket" ... the user-agent is still
&gt; executing a POST of content as dictated by the server and the shared
&gt; media types involved.

Well, "break REST" would be a strong statement. I would suggest however
that nouns with verbs in them should also set off warning bells.
Existing web forms technology doesn't really offer us a better
alternative mechanism, except to use multiple forms for different
operations. That doesn't mean it's the ideal approach :)

My advice: In all things, do what is practical... but keep an eye on
where you might like to be. Keep an eye on the ideal.

Benjamin.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6553<br>
Sender:"S. Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-09-10 06:28:03<br>
Subject:RE: [rest-discuss] Resources as Orange Apples<br>
Message:<br><br>
<pre>Most excellent. 
Add this to the REST Wiki, everybody will benefit. 

&gt; -----Original Message-----
&gt; From: rest-discuss@yahoogroups.com 
&gt; [mailto:rest-discuss@yahoogroups.com] On Behalf Of Benjamin Carlyle
&gt; Sent: Saturday, September 09, 2006 10:53 PM
&gt; To: eric@...
&gt; Cc: rest-discuss@yahoogroups.com
&gt; Subject: Re: [rest-discuss] Resources as Orange Apples
&gt; 
&gt; Eric,
&gt; 
&gt; On Thu, 2006-08-24 at 04:40 +0000, Eric J. Bowman wrote:
&gt; &gt; My friends have asked me to attempt to explain REST to them 
&gt; in terms 
&gt; &gt; they can understand. Which means I can't use the word "semantics", 
&gt; &gt; basically. ;) I thought it best to use analogy instead of 
&gt; &gt; software-architecture examples, for starters my primary concern is 
&gt; &gt; explaining "Resource" in terms of basic set theory by sticking with 
&gt; &gt; apples and oranges.
&gt; 
&gt; Resources are easy to explain. Resources are like objects. 
&gt; They demarcate application state in the same way as objects. 
&gt; The web is full of resources like a java program is full of 
&gt; objects. The main difference is in how you interact with them.
&gt; 
&gt; First of all, resources have only one type. We don't need 
&gt; baseclasses or interface classes. We only have resources. 
&gt; Resources can be found using a single identifier scheme. 
&gt; Think pointers. Once you have a pointer to the resource, you 
&gt; can call invoke methods on it. These methods might be issued 
&gt; directly to the resource, or might go through a proxy of some kind.
&gt; 
&gt; Resources only have a limited set of methods, and each of 
&gt; these methods are based around transfering a document per 
&gt; invocation rather than a parameter list. If you were to 
&gt; ascribe member variables (or state, or just plain 
&gt; information) to your object, they would form the schema 
&gt; behind the documents you transfer. This schema can be 
&gt; transferred in several forms (representations). You could 
&gt; return a HTML document which listed out information held in 
&gt; your object. You could return an image, or some othe form of 
&gt; your state... but each representation conveys the same 
&gt; information. Updates should take on one of these forms and 
&gt; update the object atomically, rather than setting the value 
&gt; of one variable after the other over several invocations.
&gt; 
&gt; All representations returned by a resource should be 
&gt; standard, ideally understood by every relevant piece of 
&gt; software in the world.
&gt; 
&gt; So, you have a uniform resource locator scheme (a pointer). 
&gt; You have uniform methods that accept and/or return a document 
&gt; and tell you which encoding is used in the document. Each 
&gt; document is of a standard type.
&gt; Because everything looks the same, sometimes you need extra 
&gt; resources to represent different facets of what might 
&gt; conceptually have been one object in a less constrained environment.
&gt; 
&gt; That's REST without the oranges.
&gt; 
&gt; Concrete example?
&gt; 
&gt; Client -&gt; Server
&gt; GET http://example.com/lightbulb HTTP/1.1
&gt; 
&gt; Server -&gt; Client
&gt; HTTP/1.1 200 OK
&gt; Content-Type: text/plain
&gt; 
&gt; on
&gt; 
&gt; Client -&gt; Server
&gt; PUT http://example.com/lightbulb HTTP/1.1
&gt; Content-Type: text/plain
&gt; 
&gt; off
&gt; 
&gt; Server -&gt; Client
&gt; HTTP/1.1 200 OK
&gt; 
&gt; See also
&gt; http://en.wikipedia.org/wiki/Representational_State_Transfer
&gt; http://rest.blueoxen.net/cgi-bin/wiki.pl?FrontPage
&gt; 
&gt; Benjamin.
&gt; 
&gt; 
&gt; 
&gt; 
&gt;  
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6554<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-09-10 07:56:10<br>
Subject:Re: [rest-discuss] Resources as Orange Apples<br>
Message:<br><br>
<pre>On Aug 29, 2006, at 3:36 AM, Eric J. Bowman wrote:
&gt; &gt;&gt;
&gt; &gt;&gt; "[A] resource... maps to a set of entities..."
&gt; &gt;
&gt; &gt;The correct quote is
&gt; &gt;
&gt;
&gt; I hope I haven't given offense by editing your words. :-(

Editing is fine if you don't change the meaning in the process.

&gt; &gt;A resource is a membership function. A membership function is not  
&gt; a set.
&gt; &gt;The value of that function for a given time t is a set. The  
&gt; resource is
&gt; &gt;the continuity of those values over time, not the value at any given
&gt; &gt;instant in time.
&gt; &gt;
&gt;
&gt; You know this, I know this, everyone here should know this, but my  
&gt; audience
&gt; consists of people who do not know this. The problem I have here,  
&gt; is how to
&gt; lead into _any_ analogy in a way which doesn't stop people here at  
&gt; the first
&gt; paragraph, yet also doesn't stop my intended audience at the very  
&gt; first
&gt; paragraph. Your dissertation and your analogy are "whole", but  
&gt; that's not
&gt; always the best strategy for teaching difficult concepts to those  
&gt; with only
&gt; an intermediate level of knowledge.
&gt;
&gt; What I'm trying for is "whole-part-whole", since everyone's  
&gt; starting place is
&gt; the dissertation. I don't think those who fail to grasp it are  
&gt; incapable of
&gt; learning REST, I think they need some help, by breaking resource/
&gt; representation down into a simplified "part" which may be modeled  
&gt; using Venn
&gt; diagrams, which may then be used to build the knowledge level of  
&gt; the target
&gt; audience back up to "whole".

I don't think you were even close.  If you want to teach someone about
web architecture, then you can give concrete examples that some people
may find easier to understand.  If you want to teach someone about REST,
then you have to at least be consistent with the principles of REST
as they have been defined.  All you are teaching people is a very
confused model of fruit placement, and there is zero chance that they
will learn anything meaningful about REST when your whole example
ignores time.

Time is the single most important aspect of REST as an architectural
style.  All of the constraints are designed to moderate the effects
of a changing environment over time, enable independent evolution,
and reduce latency.  All of the benefits from REST-based design can
only be seen when a system is exposed to change over time.

REST is not about design-in-the-small.  It can't be taught by looking
at a single implementation at an instant in time any more than you can
teach swimming without talking about the nature of water.  The analogy
has to be representative of the subject being taught.

&gt; Yes, it does, by design. With a copy of "How to Keep Your  
&gt; Volkswagen Alive:
&gt; A Manual of Step-by-Step Procedures for the Compleat Idiot", some  
&gt; tools and a
&gt; VW Beetle I can teach a 16-year-old how to set the timing on any  
&gt; vehicle with
&gt; a mechanical points-and-condenser ignition system, even a Zamboni.  
&gt; He'd be
&gt; helpless faced with a modern electronic ignition system with computer-
&gt; controlled variable timing -- that takes some advanced study.
&gt;
&gt; The book I mention explains the concept of "internal-combustion  
&gt; automobile
&gt; engine" by considering one simplistic implementation, an air-cooled  
&gt; VW boxer
&gt; four. The procedures and explanations fundamentally apply to modern  
&gt; internal-
&gt; combustion auto engines, even the ones which seem laughable by today's
&gt; standards -- like setting the timing with a timing light, a wrench,  
&gt; and a
&gt; feeler guage for the "points". The marginalia cartoons are a  
&gt; classic touch.

That's because a VW Beetle contains an implementation of an internal
combustion engine.  You can learn a lot by looking at an example of
an abstract concept.  However, as I was saying, a resource is not a
box of apples.  It isn't even close.  At most you could say that a
resource is a store where you can expect to buy apples.  At least then
the student will understand the value of it being a resource: a source
of future representations, not a specific set of representations at
any given instant in time.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6555<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-09-10 08:04:22<br>
Subject:Re: [rest-discuss] Resources as Orange Apples<br>
Message:<br><br>
<pre>On 10/09/06, Roy T. Fielding &lt;fielding@...&gt; wrote:

&gt;
&gt; Time is the single most important aspect of REST as an architectural
&gt; style.  All of the constraints are designed to moderate the effects
&gt; of a changing environment over time, enable independent evolution,
&gt; and reduce latency.  All of the benefits from REST-based design can
&gt; only be seen when a system is exposed to change over time.

&lt;snip/&gt;


....  However, as I was saying, a resource is not a
&gt; box of apples.  It isn't even close.  At most you could say that a
&gt; resource is a store where you can expect to buy apples.  At least then
&gt; the student will understand the value of it being a resource: a source
&gt; of future representations, not a specific set of representations at
&gt; any given instant in time.

I think I get that. Continuing this example,
although the store has apples today, it may not have any tomorrow.
The representation available from the resource changes over time
in the same way that a web page content changes over time and hence
the web page is a resource.
  Is that along the right lines?

regards




-- 
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6556<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-09-10 12:19:07<br>
Subject:Re:  [rest-discuss] Resources as Orange Apples<br>
Message:<br><br>
<pre>&gt;
&gt;I don't think you were even close.  If you want to teach someone about
&gt;web architecture, then you can give concrete examples that some people
&gt;may find easier to understand...  The analogy has to be representative of 
&gt;the subject being taught...  If you want to teach someone about REST,
&gt;then you have to at least be consistent with the principles of REST
&gt;as they have been defined.
&gt;

Fair enough.  Please realize that my understanding of resources and 
representations in REST came about through the application of set theory 
(using those diagrams) to my own projects, which make heavy use of content 
negotiation and redirection.  If the subject being taught is set theory, then 
apples and oranges are a consistent analogy.  I only intended for the analogy 
to apply to resources and representations, not REST as a whole.

&gt;
&gt;REST is not about design-in-the-small.  It can't be taught by looking
&gt;at a single implementation at an instant in time any more than you can
&gt;teach swimming without talking about the nature of water.
&gt;

If I understand your point, analogies which focus on one static set risk 
losing critical aspects of REST overall.  I've found a method/tool which 
helps me analyze the set-related issues I have trouble understanding.  It has 
nothing to do with software architecture, only URI design and response-code 
implementation.  So, _any_ analogy derived from this particular "part" would 
have limited value to the "whole".  OK, I can see that.  I'm done with 
attempts at REST analogies for the forseeable future.

&gt;
&gt;Time is the single most important aspect of REST as an architectural
&gt;style.  All of the constraints are designed to moderate the effects
&gt;of a changing environment over time, enable independent evolution,
&gt;and reduce latency.  All of the benefits from REST-based design can
&gt;only be seen when a system is exposed to change over time.
&gt;

I still have a Maxwell's Demon with my use of diagrams, but I'll just say it 
reduces entropy, rather than freezes time, which is a more apt description of 
any form of "site map".  The purpose is to model three "concrete" constraints 
I derived from "R is a temporally varying membership function MR(t), which 
for time t maps to a set of entities, or values, which are equivalent" which 
have proven extremely helpful to me over the past couple of years.

My aspirations to a degree in Chemistry were doomed from the start -- I 
always assumed I would be able to learn advanced Calculus but this proved 
false.  The final year of undergraduate study is Physical Chemistry, i.e. 
Kinetics, which is of course all Calculus.  But Organic Chemistry (not that I 
remember much of it) was a breeze for me.

There are multiple methods of writing an Organic Chem formula, depending on 
need, and molecules may be diagrammed on paper or snapped together with those 
3-D model sets (gumdrops and toothpicks, if you took Chem in High School).  
Yeah, I like to model stuff with diagrams, it's how I learn.  I'm a pen-and-
paper guy, though, so this is my first effort to describe what I'm up to with 
my REST modeling and publish it.

&gt;
&gt;That's because a VW Beetle contains an implementation of an internal
&gt;combustion engine.  You can learn a lot by looking at an example of
&gt;an abstract concept.
&gt;

Which is why I think there's some value in my modeling, aside from any 
analogy.  Using the document located at the last URL I posted (in response to 
input from this thread), I was able to determine why my analogy was a bit 
confused with some help from a few of you on-list, plus Walden Matthews and 
my friend Michaeljohn (who didn't like the apples and oranges analogy either) 
off-list.  I understand the mistake I was making and have learned from it.

We're using Resin Pro as our httpd.  Clients and intermediary caches only 
receive responses from the server connector if we bypass the response filter 
we use in our servlet's chain to set the cache-control headers.  Otherwise, 
all responses come from the cache connector located on the interface to the 
server connector.  I was erroneously seeing that cache connector as the 
"origin server" but it isn't.  Working that out led to this:

[1] http://canuck.bisonsystems.net/dev/rest/cache_alias.html

Nic Ferrier was asking me a while back what I meant by my notion of a "cache 
alias".  Simply put, from the perspective of the cache connector, in the 
presence of VARY and cache-control response headers each representation 
received from the server connector becomes a resource with its own set of 
representations, one for each combination of the varied request headers it 
encounters.  MJ reserved judgment on the technical merits, but said he did 
understand what I'm saying, albeit he has a better idea of the context.  I 
haven't shared [1] with anyone else yet.

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6557<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-09-10 19:16:35<br>
Subject:Re: [rest-discuss] Resources as Orange Apples<br>
Message:<br><br>
<pre>On Sep 10, 2006, at 1:04 AM, Dave Pawson wrote:
&gt; although the store has apples today, it may not have any tomorrow.
&gt; The representation available from the resource changes over time
&gt; in the same way that a web page content changes over time and hence
&gt; the web page is a resource.
&gt; Is that along the right lines?

Not exactly.  A resource is a conceptual mapping.  That mapping may be
as abstract as "the Apple Store" or as concrete as a single apple that
was at one time in a box at the Apple Store.  A resource is largely
defined by what you make of it.  So it is possible that the
representations of a given resource do not change over time.
A web site is a resource.  A web page (the conceptual page expected
by a user when they follow a hypertext link) is a resource.
So are each of the in-line elements that make up that page, as
are (at least for the server) all of the files/programs used to
construct the content of that page.  Each of those are separate
resources in their own right.

But knowing what the "resource" is does not teach much about REST,
since REST is designed to hide that information from clients.

Lots of people complain about the definition, largely because
it seems so nebulous and effectively anything could be a resource.
What they don't understand is that allowing anything to be a resource
is the goal, and REST describes how to build an architecture that
can effectively manipulate anything even when the client has no
idea what that thing actually may be.  That's the point.

If an application can accomplish the user's need of today in a
way that is reusable by others, and without revealing much of
anything about how it works, then there is a good chance that
the implementation of how it works can evolve independently of
the user and also that how the user makes use of that work can
evolve independently from what was anticipated by the resource
owner.  Those are two of the goals of REST: independent evolvability
and design-for-serendipity.  There are other goals (e.g., scalability).

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6558<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-09-10 19:45:28<br>
Subject:Re: [rest-discuss] Resources as Orange Apples<br>
Message:<br><br>
<pre>On 10/09/06, Roy T. Fielding &lt;fielding@...&gt; wrote:

&gt; Not exactly.  A resource is a conceptual mapping.  That mapping may be
&gt; as abstract as "the Apple Store" or as concrete as a single apple that
&gt; was at one time in a box at the Apple Store.  A resource is largely
&gt; defined by what you make of it.
Mapping? From my minimal maths, I think of mappings from
X to Y? How (if at all) do the range of resources in your examples
relate to mappings please? Is there a source &amp; destination?


&lt;snip/&gt;

&gt;
&gt; But knowing what the "resource" is does not teach much about REST,
From the above examples I'm glad of that :-)
&gt; since REST is designed to hide that information from clients.



&gt; Lots of people complain about the definition, largely because
&gt; it seems so nebulous and effectively anything could be a resource.

I could support that. You seem purposely to emphasise the
abstract nature of resources. Is that primarily to emphasise
the hiding of ...[information or resources] by an RESTful architecture?

&gt; What they don't understand is that allowing anything to be a resource
&gt; is the goal, and REST describes how to build an architecture that
&gt; can effectively manipulate anything even when the client has no
&gt; idea what that thing actually may be.  That's the point.

Does the software ideas of decoupling/data hiding have any place in such
a description? That's what it sounds like to me.

&gt;
&gt; If an application can accomplish the user's need of today in a
&gt; way that is reusable by others, and without revealing much of
&gt; anything about how it works, then there is a good chance that
&gt; the implementation of how it works can evolve independently of
&gt; the user and also that how the user makes use of that work can
&gt; evolve independently from what was anticipated by the resource
&gt; owner.
Again very much aligned with the ideas of data hiding? A consistant
interface enables design change on either side without impact
on the application.


Those are two of the goals of REST: independent evolvability
&gt; and design-for-serendipity.

:-) Design for serendipity (what-if programming?) tends to be expensive IMHO,
though  still a nice goal.

The evolvability is the benefit I find most attractive.



 There are other goals (e.g., scalability).


I do wish you'd do more of this plain English explanatory stuff Roy.

Very much appreciated.

regards
-- 
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6559<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-09-16 00:33:44<br>
Subject:Re: [rest-discuss] HTTP OPTIONS method for querying capabilities	of a resource.<br>
Message:<br><br>
<pre>On Thu, 2006-08-17 at 15:25 +0000, Andy wrote:
&gt; I see lots of discussion on the "GET", "POST", "PUT", and "DELETE"
&gt; HTTP methods when talking about REST, but I never see much about how
&gt; to discover what you can do with a resource. Wouldn't it make sense
&gt; to ask the resource what it is capable of?

The best way to discover what a resource is capable of is probably to
try the thing you need it to do, and see if it succeeds or fails. One of
the issues with WDSL and RPC in general is this concept of negotiation
with an object or resource before being able to carry on a conversation.
It doesn't yield information a machine can generally make use of. Most
clients will and should know what they need to do before initiating a
convesation. Discovery is mostly about and figuring out who they need to
do it with, and primarily comes in the form of preconfigured urls or
discovery via hyperlinks in the representations of other resources.

Doing an OPTIONS on a resource you already know you want to hold a
conversation with is not as useful in practical REST as it might seem,
unless perhaps you are a human being trying to debug a faulty
interaction.

Jerome Louvel &lt;contact@...&gt; writes:
&gt; Ideally frameworks should dynamically generate alternative
descriptions 
&gt; (WADL, HTML, etc.) based on some internal metadata about the
resources 
&gt; so the burden on developers would be minimal.

REST is a lesscode technology based on solid protocol-level agreements
between client and server, rather than generated code to make up the
difference. Tools for generating code to interact with RESTful resources
are scarce because there is typically very little code to generate. A
generic mechanism just as RESTlet is capable of getting, putting,
posting and deleting state associated with any resource. Little code
needs to be generated: just a url, method, and content provided. A
separate library can manage encoding of data into an appropriate content
type, and decoding on the other side.

A description of the URLs of a web server could be useful in
auto-completing and validating the set of urls used as initial
configuration. Such a map should not, however, be used for URL
Construction. Any such map will benefit the server much more than the
client, and is useful in that environment (eg routes). 

Benjamin.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6560<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-09-16 01:16:28<br>
Subject:Re: [rest-discuss] HTTP OPTIONS method for querying capabilities  of a resource.<br>
Message:<br><br>
<pre>Benjamin Carlyle &lt;benjamincarlyle@...&gt; writes:

&gt; On Thu, 2006-08-17 at 15:25 +0000, Andy wrote:
&gt;&gt; I see lots of discussion on the "GET", "POST", "PUT", and "DELETE"
&gt;&gt; HTTP methods when talking about REST, but I never see much about how
&gt;&gt; to discover what you can do with a resource. Wouldn't it make sense
&gt;&gt; to ask the resource what it is capable of?
&gt;
&gt; The best way to discover what a resource is capable of is probably to
&gt; try the thing you need it to do, and see if it succeeds or fails. 

That's not very good advice if the thing to try is "debit bankaccount"


&gt; Doing an OPTIONS on a resource you already know you want to hold a
&gt; conversation with is not as useful in practical REST as it might seem,
&gt; unless perhaps you are a human being trying to debug a faulty
&gt; interaction.

But we ought to be able to work towards completely automatic discovery
of services. OPTIONS does allow part of that.

For example, you might have a url of a service and do an OPTIONS and
see that it supports GET and POST so you GET it and it returns an HTML
FORM. The FORM is tagged up to POST back to the same URL. 

But what is supposed to go into the various fields? what will the
effect of the POST be? Are the fact that the url supports a GET and a
POST related?


This of course is a really hard problem and I don't think WSDL/SOAP
does it either.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6561<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-09-16 03:00:32<br>
Subject:Re: [rest-discuss] HTTP OPTIONS method for querying capabilities 	of a resource.<br>
Message:<br><br>
<pre>On Sat, 2006-09-16 at 02:16 +0100, Nic James Ferrier wrote:
&gt; Benjamin Carlyle &lt;benjamincarlyle@...&gt; writes:
&gt; &gt; On Thu, 2006-08-17 at 15:25 +0000, Andy wrote:
&gt; &gt;&gt; I see lots of discussion on the "GET", "POST", "PUT", and "DELETE"
&gt; &gt;&gt; HTTP methods when talking about REST, but I never see much about
&gt; how
&gt; &gt;&gt; to discover what you can do with a resource. Wouldn't it make sense
&gt; &gt;&gt; to ask the resource what it is capable of?
&gt; &gt;
&gt; &gt; The best way to discover what a resource is capable of is probably
&gt; to
&gt; &gt; try the thing you need it to do, and see if it succeeds or fails. 
&gt; That's not very good advice if the thing to try is "debit bankaccount"

Of course it is:

C-&gt;S: POST http://bank.example.com/transactions
C&lt;-S: 201 Created
C&lt;-S: Location: http://bank.example.com/transactions/1234
C-&gt;S: PUT http://bank.example.com/transactions/1234
C-&gt;S: Content-Type: application/bank-transaction
C-&gt;S: &lt;transaction&gt;
C-&gt;S: 	&lt;entry&gt;
C-&gt;S: 		&lt;account&gt;http://example.com/bank/accounts/1000&lt;/account&gt;
C-&gt;S: 		&lt;type&gt;debit&lt;/type&gt;
C-&gt;S: 		&lt;amount&gt;100.00&lt;/amount&gt;
C-&gt;S: 	&lt;/entry&gt;
C-&gt;S: 	&lt;entry&gt;
C-&gt;S: 		&lt;account&gt;http://example.com/bank/accounts/1001&lt;/account&gt;
C-&gt;S: 		&lt;type&gt;credit&lt;/type&gt;
C-&gt;S: 		&lt;amount&gt;100.00&lt;/amount&gt;
C-&gt;S: 	&lt;/entry&gt;
C-&gt;S: &lt;/transaction&gt;

I know what transaction I want to post (the content). I know which url
to send it to. I know which verb to use. I don't need to discover
anything more about the resource. I'll send the same kind of request to
any bank I talk to. The resource either responds indicating success,
failure, or a gateway or proxy failure (which is why we need the
double-request, to avoid duplicate submission).

A machine is only going to be able learn something from an OPTIONS
request if there are multiple ways of doing this transaction that it
already has code for and must decide between. There should not be
multiple ways. It is up to REST proponents and implementors to actively
develop standard approaches. This is lesscode by better agreements, so
multiple implementations and the negotiation that goes with them are not
required.

&gt; &gt; Doing an OPTIONS on a resource you already know you want to hold a
&gt; &gt; conversation with is not as useful in practical REST as it might
&gt; seem,
&gt; &gt; unless perhaps you are a human being trying to debug a faulty
&gt; &gt; interaction.
&gt; But we ought to be able to work towards completely automatic discovery
&gt; of services. OPTIONS does allow part of that.

We have completely automatic discovery of services today. The mechanism
is called hypertext. You navigate from one resource to another issuing
GET requests. The hyperlink should indicate what we can expect to do
with the resource. The context should determine it. We shouldn't need to
negotiate with the resource itself. It should accept data in any format
we happen to use, and we should accept responses in any format it
chooses. These should be standard formats. The methods should be
standard. Requiring machines to negotiate is a poor second cousin to
agreeing on a common approach to begin with. REST is not a purely
technical discipline. It is also a social one. Solving social problems
in the technical space leaves them unsovled.

&gt; For example, you might have a url of a service and do an OPTIONS and
&gt; see that it supports GET and POST so you GET it and it returns an HTML
&gt; FORM. The FORM is tagged up to POST back to the same URL. 

Whereas in the web of today, you would have a url of the service and
know from the context that it supports a GET. The form you get back also
contains a url, this time in the context of the form. From this context
you know that you can POST to this url. OPTIONS is unnecessary, and
increases both latency and complexity.

&gt; But what is supposed to go into the various fields? what will the
&gt; effect of the POST be? Are the fact that the url supports a GET and a
&gt; POST related?

If you don't have answers to these questions you are not yet ready to
build your applicication. You first need to negotiate with the people
who own the resource on appropriate urls, methods, and content types.
The method specification has theorietically been done for you in
REST[1]. Content type specficiation is an industry-wide or world-wide
concern, not an individual client to individual resource concern. The
only thing you should have to negotiate on an individual basis with the
supplier of the resource is its name. That name can either be configured
in your application (eg, by being your home page), or be discovered by
navigating from configured starting points.

&gt; This of course is a really hard problem and I don't think WSDL/SOAP
&gt; does it either.

The problem is not only hard, it is unsolvable as a technical problem.
It is a standardisation problem, and thus a social one.

Benjamin.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6562<br>
Sender:donald.strong@...<br>
Post Date/Time:2006-09-22 06:23:40<br>
Subject:Re: How to compromise when designing a RESTful API?<br>
Message:<br><br>
<pre>
Hi Vincent,

I have copied this to the rest-discuss list as well.

&gt; Sorry for the rather long post,but after reviewing all the available REST
&gt; literature, I still have no answer to my rather philosophical question.
&gt;
&gt; I understand that adopting a RESTful model means I have to think in terms
of
&gt; manipulating addressable resources instead of thinking in terms of
function
&gt; calls. Great, but what do you do with  operations you absolutely can't
refactor
&gt; according to this model?

&gt; Specifically, operations  that involve more than one resource, and
operations
&gt; that require some extra business logic (other than CRUD operation on the
&gt; resource itself).

REST is not just about CRUD operations on resources identified by a URI.

I have made some comments on this in a previous post to the rest-discuss
list.
http://tech.groups.yahoo.com/group/rest-discuss/message/4573

A few people give the impression that GET/PUT/DELETE/POST(a) is the "true
REST way"
and that GET/POST(p) is the dark side. This ignores the fact that the most
successful REST style Application framework (HTML over HTTP) uses
GET/POST(p)
almost exclusively.
/* POST(a) = append to the URI, POST(p) = process this. */

Now, you can think of POST as a "disguised RPC call" and in the trivial
case
it is similar, but that ignores other possibilities for the use of POST.

A Resource is not necessarily a discrete entity on the server (such as a
file).
It may be a view onto a number of entities on the server, similar to a
database
view over a number of tables.

Benjamin Carlyle gives an excellant description...

http://tech.groups.yahoo.com/group/rest-discuss/message/5972

So if you implement a resource as a view onto a set of related entities in
your
domain model, then updating or POSTing to that view can modify many
entities at
once, execute your business logic and wrap the whole lot up in a
transaction.
(by domain model I mean the business data and logic implemented on the
server)

Thinking of it another way, you are telling your domain model what you want
to
achieve, not how you want to do it.

&gt; An example of the first type of operations would be money transfer:  you
want to
&gt; transfer money from account A to account B. If I were to adhere strictly
to the
&gt; REST philosophy, I would either:
&gt; 1)decrement A, submit A with a PUT; increment B, submit B with a PUT; and
manage
&gt; the recovery process from the client should  one operation fail.
&gt; 2)Create a MoneyTransferOrder object (fromAccount, toAccount,amount)and
save it
&gt; with a POST.

3) POST an instruction to your account, represented by a URI, with
instructions
   to transfer an amount of money to another account, represented by a URI.
   This may create a new resource representing the transaction. The
success/failure
   of the operation will be returned in the response body along with the
URI to
   the transaction. There is no "REST says you must create a transaction"
but in
   this case it is probably a good idea.

&gt; The former is -of course- a non-starter. The latter is just a way of
disguising
&gt; an RPC call; I think it violates the REST principle in the sense that
the
&gt; MoneyTransferOrder resource is defined for the sole purpose of passing
&gt; parameters to server-side service,  and cannot be retrieved later (i.e.
it's not
&gt; really a resource).

Nothing, anywhere says that POST must create a resource.

&gt; An example of the second type of operations would be the closeAccount
operation.
&gt; Maybe I want to send a notification to a manager every time an account is
&gt; closed. Again, I see two options:
&gt; 1)set the isClosed proprty to True and save with a PUT. On the server, I
would
&gt; have to diff the account with the value in the database, this would allow
me to
&gt; detect that the account has been closed, and send the notification.
&gt; 2)Create a CancellationOrder object, and save it with a POST

When using a POST as a "process this" operation you can send a request to
your
account URI to close the account and the business logic that closes the
account
can send a notification to any other interested party by POSTing another
request to their URI. In this case your Account and the Manager may be on
opposite
sides of the world. You just don't care when you are using URIs to address
resources.

&gt; The problem with the first approach is that the server has to guess what
&gt; operation the client intended to complete. The second approach suffers
from the
&gt; same RPC-in-disguise problem mentioned before.

&gt; Conclusion?
&gt;
&gt; Well, my conclusion is that a RESTful architecture is particularly well
suited
&gt; for applications where the entire business logic is done on the client
and the
&gt; server acts only has a data repository (e.g. del.icio.us).
&gt; For other applications, you'll have to leave with the fact that you may
have
&gt; maybe 30% of your calls that are in fact RPC calls -i.e. a POST where you
pas
&gt; the operation's name parameters. That's -from what I saw- how the
upcoming.org
&gt; API is designed.
&gt;
&gt; What do you Restfarians think? Am I missing the boat on this one?
&gt;

I hope you can see that POST is a bit more that a substitute for RPC.

I have not commented on PUT/DELETE/POST(a) here but I do not diminish their
role either. As you have observed, they have limitations. They have similar
qualities to other Data Service mechanisms, like Relational Databases, in
that
you can store data and have the data checked for type correctness and
referential
integrity, but you cannot use them to implement business logic. At least,
not
without a lot more effort than is worthwhile.

I am not suggesting that there is a clear delineation between these groups
of HTTP methods. They can
be used intermixed, but I believe  it helps clarify your thinking to view
them in this way.

As far as HTTP is concerned there is absolutely no difference between
POST(p) and POST(a).
The transfer protocol does not care what you intend to do with the request.
The transfer protocol
only cares that the request is unsafe, not indempotent and that you cannot
cache the responses.

Part of the confusion about REST has been that people have taken an
Architectural Model for the
internet and tried to use it to evaluate distributed applications when it
was intended to evaluate
transfer protocols. The constraints that dictate the desired behaviour of
User Agents, Proxies
and Origin Servers don't always map well to Banking application and Wikis.

REST is not about the Atom protocol. That is an application protocol. But
the Atom protocol has
been designed with REST in mind. My understanding is that the Atom protocol
does not use
the "process this" version of POST. Thats fine. HTML does not use PUT or
DELETE. Both could
be described as RESTful applications but neither of them defines REST.

Regards
Donald.


National Australia Bank Ltd - ABN 12 004 044 937
This email may contain confidential information. If you are not the intended recipient, please immediately notify us at postmaster@... or by replying to the sender, and then destroy all copies of this email. Except where this email indicates otherwise, views expressed in this email are those of the sender and not of National Australia Bank Ltd. Advice in this email does not take account of your objectives, financial situation, or needs. It is important for you to consider these matters and, if the e-mail refers to a product(s), you should read the relevant Product Disclosure Statement(s)/other disclosure document(s) before making any decisions. If you do not want email marketing from us in future, forward this email with "unsubscribe" in the subject line to Unsubscriptions@... in order to stop marketing emails from this sender. National Australia Bank Ltd does not represent that this email is free of errors, viruses or interference.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6563<br>
Sender:"Scott Raymond" &lt;sco@...&gt;<br>
Post Date/Time:2006-09-26 05:15:07<br>
Subject:Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>I'm getting ready to release documentation for a REST-style API for
Blinksale.com, an online invoicing application. I'd be keen to get
this group's feedback on the design before formally announcing it to
the world. Any and all criticism or suggestions for improvement, both
of the documentation and the API itself, is welcome. Have a look:

   http://www.blinksale.com/api

And if the service is up your alley, feel free to start building on it!

Scott Raymond
Blinksale.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6564<br>
Sender:"S. Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-09-26 05:38:51<br>
Subject:RE: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>I think you've got a great HTTP based API. I didn't look in detail at the
XML, but having a simple and full featured API available, you can now spend
more time on the gnarly issues of representations, hyperlinking and
eventually resource versioning (eg if a resources can be edited - like an
Invoice - will the previous revision be maintained?)

Are you sure you want to do Basic auth over clear-text http? Even for free
accounts, and even with a warning, this sounds like it'll come back to haunt
you later.


&gt; -----Original Message-----
&gt; From: rest-discuss@yahoogroups.com 
&gt; [mailto:rest-discuss@yahoogroups.com] On Behalf Of Scott Raymond
&gt; Sent: Monday, September 25, 2006 10:15 PM
&gt; To: rest-discuss@yahoogroups.com
&gt; Subject: [rest-discuss] Seeking feedback on the Blinksale API
&gt; 
&gt; I'm getting ready to release documentation for a REST-style 
&gt; API for Blinksale.com, an online invoicing application. I'd 
&gt; be keen to get this group's feedback on the design before 
&gt; formally announcing it to the world. Any and all criticism or 
&gt; suggestions for improvement, both of the documentation and 
&gt; the API itself, is welcome. Have a look:
&gt; 
&gt;    http://www.blinksale.com/api
&gt; 
&gt; And if the service is up your alley, feel free to start 
&gt; building on it!
&gt; 
&gt; Scott Raymond
&gt; Blinksale.com
&gt; 
&gt; 
&gt;  
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6565<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2006-09-26 19:18:17<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>This looks positively great.

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/



On Sep 26, 2006, at 7:15 AM, Scott Raymond wrote:

&gt; I'm getting ready to release documentation for a REST-style API for
&gt; Blinksale.com, an online invoicing application. I'd be keen to get
&gt; this group's feedback on the design before formally announcing it to
&gt; the world. Any and all criticism or suggestions for improvement, both
&gt; of the documentation and the API itself, is welcome. Have a look:
&gt;
&gt; http://www.blinksale.com/api
&gt;
&gt; And if the service is up your alley, feel free to start building on  
&gt; it!
&gt;
&gt; Scott Raymond
&gt; Blinksale.com
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6566<br>
Sender:"Avi Flax" &lt;avif@...&gt;<br>
Post Date/Time:2006-09-26 19:04:50<br>
Subject:Re: Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>Scott, we here at Arc90 are really impressed by your API! It seems
like an excellent combination of REST theory and realistic
best-practices. (It doesn't hurt that our own internal REST APIs look
very similar.) I may have a few comments after a closer reading later,
but for now, after a quick scan, all I have to say is: Bravo!

Avi Flax
Arc90
New York

--- In rest-discuss@yahoogroups.com, "Scott Raymond" &lt;sco@...&gt; wrote:
&gt;
&gt; I'm getting ready to release documentation for a REST-style API for
&gt; Blinksale.com, an online invoicing application. I'd be keen to get
&gt; this group's feedback on the design before formally announcing it to
&gt; the world. Any and all criticism or suggestions for improvement, both
&gt; of the documentation and the API itself, is welcome. Have a look:
&gt; 
&gt;    http://www.blinksale.com/api
&gt; 
&gt; And if the service is up your alley, feel free to start building on it!
&gt; 
&gt; Scott Raymond
&gt; Blinksale.com
&gt;








</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6567<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-09-26 21:09:12<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>On Sep 25, 2006, at 10:15 PM, Scott Raymond wrote:
&gt; I'm getting ready to release documentation for a REST-style API for
&gt; Blinksale.com, an online invoicing application. I'd be keen to get
&gt; this group's feedback on the design before formally announcing it to
&gt; the world. Any and all criticism or suggestions for improvement, both
&gt; of the documentation and the API itself, is welcome. Have a look:
&gt;
&gt; http://www.blinksale.com/api

I am curious as to why it is using "application/xml" as the media
type instead of something more standardized.  Was something like the
Visa XML Invoice (or any of the other various attempts) considered?
If considered, were they rejected due to complexity or for some
other reason?  [Just curious because the network benefits of
automated invoice processing are enhanced by a standard invoice
format rather than a unique one for each customer.]

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6568<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-09-26 21:30:15<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>Looks really good, but two things stand out as unRESTful to me.

The first is the documentation for the URI structure, e.g.

http://example.blinksale.com/invoices/invoice_id/deliveries/delivery_id

Though I can't tell for sure, it appears to me as though you expect
clients to be hardcoded to use that structure, which would break the
"hypermedia" constraint.  You'd need to use a forms language in order
to be able to declare that URI structure for consumption by the
client, otherwise client and server would be more tightly coupled than
is necessary and this could hurt the evolvability of your application.

The other thing is the data formats and the use of application/xml.
For content negotiation (not to mention other uses), application/xml
is meaningless, because there's no way to distinguish between a
request for XHTML versus one for Atom (and moreover, no interop
defined between the two, unlike with RDF/XML vocabularies).  So you
should either reuse existing media types (e.g. text/html with the
hCard microformat for "person"), or mint media types such as
application/vnd.blinksale.person+xml.  Otherwise your messages won't
be self-descriptive.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6569<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-09-26 21:43:07<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>On 9/26/06, Mark Baker &lt;distobj@...&gt; wrote:
&gt;So you
&gt; should either reuse existing media types (e.g. text/html with the
&gt; hCard microformat for "person"), or mint media types such as
&gt; application/vnd.blinksale.person+xml.  Otherwise your messages won't
&gt; be self-descriptive.

That didn't come out right.  Even if you register a new media type,
messages won't be self-descriptive until the format is standardized.

And +1 to Roy on reuse.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6570<br>
Sender:"Phil Ruelle" &lt;Philip.Ruelle@...&gt;<br>
Post Date/Time:2006-09-27 11:09:05<br>
Subject:Media Type &amp; Data Format Best Practice<br>
Message:<br><br>
<pre>All,

The recent thread discussing the BlinkSale API has surfaced a 
question that's long been lurking at the back of mind - the usage of 
media types in a REST-based system.

Taking the desire to re-use existing types as read, what 
opinions/experience do people on this list have with using 'open' 
media types such as application/xml which then have namespaces to 
specify the actual 'type' versus creating a specific media type which 
explicitly defines the 'type'? Where do you draw the line between 
generic and specific such that your type is not meaningless but nor 
is is it so specific as to limit re-use?

And on a related note what strategies have people employed when 
defining data formats to make them extensible? Judicious use of 'any' 
and 'choice' elements in XSDs lead to a horrible mess (IMHO). Are 
people generally using Relax NG and Schematron to define data 
structures? Of course this assumes that people are using XML ...

I'd be extremely interested to hear any and all opinions on the 
subject(s).

Cheers,
Phil





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6571<br>
Sender:Leigh Dodds &lt;leigh@...&gt;<br>
Post Date/Time:2006-09-27 12:49:17<br>
Subject:Matrix URIs<br>
Message:<br><br>
<pre>Hi,

I'm curious about Matrix URIs [1]. Is anyone using them,
and if so, what the benefits?

I've read the TimBL note referenced below but am still
not 100% clear on the use of Matrix URIs as opposed
to query strings.

Thoughts or pointers much appreciated.

Cheers,

L.

[1]. http://www.w3.org/DesignIssues/MatrixURIs.html

-- 
Home: http://www.ldodds.com      | "Simplicity is the ultimate
Blog: http://www.ldodds.com/blog | sophistication" -- Leonardo da Vinci

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6572<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-09-27 13:30:41<br>
Subject:Re: [rest-discuss] Matrix URIs<br>
Message:<br><br>
<pre>The Matrix URI note is interesting, isn't it?  Back when it was written, RFC 
1808 distinguished between a query and a parameter.  RFC 2396 says this in 
appendix G.2:

"  Extensive testing of current client applications demonstrated that
   the majority of deployed systems do not use the ";" character to
   indicate trailing parameter information, and that the presence of a
   semicolon in a path segment does not affect the relative parsing of
   that segment.  Therefore, parameters have been removed as a separate
   component and may now appear in any path segment.  Their influence
   has been removed from the algorithm for resolving a relative URI
   reference.  The resolution examples in Appendix C have been modified
   to reflect this change.   "

&gt;
&gt;I'm curious about Matrix URIs [1]. Is anyone using them,
&gt;and if so, what the benefits?
&gt;

I'm using them in the spirit of RFC 1808, although its only example is the 
FTP protocol's use of the semicolon to toggle text/binary. I wanted to be 
able to distinguish between a parameter and a query in the semantics of my 
URI allocation scheme.

It's a preference, when you see a ? in my URIs it really does indicate a 
query.  On nytimes.com, ?pagewanted=print is a parameter, despite posing as a 
query, the semantics aren't as clear.

&gt;
&gt;I've read the TimBL note referenced below but am still
&gt;not 100% clear on the use of Matrix URIs as opposed
&gt;to query strings.
&gt;

RFC 2396 again, sec. 3.3:

"  The path may consist of a sequence of path segments separated by a
   single slash "/" character.  Within a path segment, the characters
   "/", ";", "=", and "?" are reserved.  Each path segment may include a
   sequence of parameters, indicated by the semicolon ";" character.
   The parameters are not significant to the parsing of relative
   references.    "

Compliant URI parsers recognize the parameter as a reserved character, but 
won't treat it any differently than a query string.  If you mix parameters 
and queries in a URI, the parser will break it down into just one array of 
name/value pairs. You can program your server to distinguish between the two.

&gt;
&gt;Thoughts or pointers much appreciated.
&gt;

I think much of what Tim was writing about ended up being more practical as 
part of the fragment.  The lat/long example is the sort of "parameter" SVG 
implements in the URI fragment, the client determines what portion of a 
larger map to display based on lat/long, zoom factor etc. instead of using 
the fragment in an HTML "named anchor" fashion.

If you have a bona-fide server-side parameter situation, I'm all for using 
the semicolon, particularly if you have multiple parameters to set i.e. a 
matrix.

-Eric

&gt;
&gt;Cheers,
&gt;
&gt;L.
&gt;
&gt;[1]. http://www.w3.org/DesignIssues/MatrixURIs.html
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6573<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-09-27 13:36:42<br>
Subject:Re: [rest-discuss] Matrix URIs<br>
Message:<br><br>
<pre>Leigh Dodds &lt;leigh@...&gt; writes:

&gt; I'm curious about Matrix URIs [1]. Is anyone using them,
&gt; and if so, what the benefits?
&gt;
&gt; I've read the TimBL note referenced below but am still
&gt; not 100% clear on the use of Matrix URIs as opposed
&gt; to query strings.
&gt;
&gt; Thoughts or pointers much appreciated.

Having used and developed webapis I can honestly say that I've found
the only difference between query parameters and rfc2616's uri
extensions to be that no one seems to support that latter in any
meaningfull sense.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6574<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-09-27 13:56:15<br>
Subject:Re: [rest-discuss] Media Type &amp; Data Format Best Practice<br>
Message:<br><br>
<pre>&gt; I'd be extremely interested to hear any and all opinions on the 
&gt; subject(s).

I've struggled with this as well.

My current practice is to use well-formed HTML and microformats as
much as possible, RSS or ATOM when it makes sense and other document
formats when and where they are relevant.

For example, the invoice format Roy mentioned earlier would be a good
candidate for a complex invoice system.... or a simple HTML based
microformat might be made to make-do.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6575<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2006-09-27 14:19:46<br>
Subject:Re: [rest-discuss] Media Type &amp; Data Format Best Practice<br>
Message:<br><br>
<pre>&gt; For example, the invoice format Roy mentioned earlier would be a good
&gt; candidate for a complex invoice system.... or a simple HTML based
&gt; microformat might be made to make-do.

Too many XML invoice formats for sure.  Besides the Visa one that Roy
mentioned, there's UBL:
http://www.oasis-open.org/committees/tc_home.php?wg_abbrev=ubl

Trying to become a "standard", but also has a rep for being way too
complex for its own good.

And I don't know if any of the existing invoice formats would work for
a 3-way match or a supply chain relationship...so it's like they are
over-engineered in one dimension and under-engineered in others.

Miles to go before we sleep?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6576<br>
Sender:Paul Downey &lt;paul.downey@...&gt;<br>
Post Date/Time:2006-09-27 20:05:24<br>
Subject:Re: [rest-discuss] Matrix URIs<br>
Message:<br><br>
<pre>Hi Leigh!
&gt; I'm curious about Matrix URIs [1]. Is anyone using them,
&gt; and if so, what the benefits?

mnot hinted that Yahoo! are using them:

http://lists.w3.org/Archives/Public/public-web-http-desc/2006Apr/0001

Paul
--
http://blog.whatfettle.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6577<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-09-27 21:58:25<br>
Subject:Re: [rest-discuss] Media Type &amp; Data Format Best Practice<br>
Message:<br><br>
<pre>Hi Phil,

On Sep 27, 2006, at 1:09 PM, Phil Ruelle wrote:
&gt;  Where do you draw the line between
&gt; generic and specific such that your type is not meaningless but nor
&gt; is is it so specific as to limit re-use?
I'd say the 80/20 rule is a good guide: design your media type in a  
way that
makes it possible to solve 80% of the envisioned problems at 20% of the
effort and you get a chance that your type attracts interest and gains
enough network effect that it eventually becomes a standard of some  
sort.

If that happens you gain all the benefits of being able to use what
most likely started in order to serve some specific intra- 
organisational purpose
in communicating with your clients or partners with standadized means.
Note that meanwhile you might have been cought by network effects of  
a 'competing'
type yourself causing you to adapt your system and abandon *your*  
format. The
outcome would be the same - more standardization.

I guess this is where the benefit of true document style integration  
really
is found: the above can happen (and in fact often did) if the  
interface is
already uniform and we only have to deal with the payloads. I doubt that
a similar (decentralized) process of 'natural selection' (excuse the
Darwinistic touch :-) can ever lead to API standardization as WS-*
proponents seem to think.

Jan
&gt;
&gt; And on a related note what strategies have people employed when
&gt; defining data formats to make them extensible? Judicious use of 'any'
&gt; and 'choice' elements in XSDs lead to a horrible mess (IMHO). Are
&gt; people generally using Relax NG and Schematron to define data
&gt; structures? Of course this assumes that people are using XML ...
&gt;
&gt; I'd be extremely interested to hear any and all opinions on the
&gt; subject(s).
&gt;
&gt; Cheers,
&gt; Phil
&gt;
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6578<br>
Sender:"Scott Raymond" &lt;sco@...&gt;<br>
Post Date/Time:2006-09-28 19:44:25<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>On 9/26/06, Roy T. Fielding &lt;fielding@...&gt; wrote:
&gt; I am curious as to why it is using "application/xml" as the media
&gt; type instead of something more standardized.

On 9/26/06, Mark Baker &lt;distobj@...&gt; wrote:
&gt; The other thing is the data formats and the use of application/xml.
&gt; For content negotiation (not to mention other uses), application/xml
&gt; is meaningless

Thanks Roy and Mark, that's exactly the kind of feedback I was hoping
for. I hadn't thought through the media type issue, but your arguments
make sense. I just changed the app and spec to use
"application/vnd.blinksale+xml". I understand that new media types are
supposed to be registered, but is there practical reason to bother,
for me or my customers?

Roy wrote:
&gt; Was something like the
&gt; Visa XML Invoice (or any of the other various attempts) considered?
&gt; If considered, were they rejected due to complexity or for some
&gt; other reason?

Yeah, I looked at Visa XML Invoice and UBL; my reasons for not going
that direction come down to complexity (and perhaps a pinch of NIH
syndrome.) At least for this first step, I want something that is very
simple and closely corresponds with the existing data model and UI.
None of our customers have ever requested Visa or any other invoice
format; if we targeted auto makers or something, it'd be a different
story.

Nonetheless, I'm grateful you suggested not using "application/xml"
for my media type, so that I can more easily dispatch against other
XML formats in the future, like perhaps the Visa format.

Mark wrote:
&gt; The first is the documentation for the URI structure, e.g.
&gt;
&gt; http://example.blinksale.com/invoices/invoice_id/deliveries/delivery_id
&gt;
&gt; Though I can't tell for sure, it appears to me as though you expect
&gt; clients to be hardcoded to use that structure, which would break the
&gt; "hypermedia" constraint.  You'd need to use a forms language in order
&gt; to be able to declare that URI structure for consumption by the
&gt; client, otherwise client and server would be more tightly coupled than
&gt; is necessary and this could hurt the evolvability of your application.

I'm not sure that I understand all the issues behind the hypermedia
constraint, but I think this one's okay. For example, the API never
just provides a delivery ID number and expects the client to construct
the URI; it uses the full URI of the delivery as the identifier. E.g.,
the XML representation of an invoice includes something like:

  &lt;deliveries uri="http://example.blinksale.com/invoices/1/deliveries"&gt;
    &lt;delivery uri="http://example.blinksale.com/invoices/1/deliveries/3"&gt;...&lt;/delivery&gt;
  &lt;/deliveries&gt;

Is that sufficient for the client to know that it should POST a new
delivery to "/invoices/1/deliveries", etc.?

Thanks again for the feedback!
Scott

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6579<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-09-30 07:00:33<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>Scott,

I have read through your document. I have a few comments that follow on
from those already made by Roy and Mark. Additionally, I'll make a few
more off the cuff.

You are using a single media type that appears to cover both invoices
and customers. Your standardisation efforts may be rewarded by
decoupling these ontologies from each other. I would try to derive an
XML version of the vcard spec to match the microformat derivation of the
same in order to describe a customer (or just use VCARD directly. You
already use its cousin iCalendar). You may need to add extra fields to
meet your specific requirements. I would also look towards existing
invoice descriptions languages for the invoicing.

What are you intending to return from successful PUT or DELETE requests?
204 No Content is appropriate if you are returning nothing.

400 is Bad Request, not bad resource.

I don't quite understand your use of the "uri" attribute in content. In
most case it looks like href is the commonly-understood term. I would be
tempted to replace the invoices block (for example) with a series of &lt;a
href="..." rel="invoice"/&gt; elements, or separate out queries for a
customer's invoices into a separate hyperlinked resource. In the root
node of your formats, however, uri appears to mean the same thing as
xml:base. I would leave those uris out, myself. The client knows where
they retrieved the data from. They can add the attribute themselves if
they need to perform further processing with it.

I'm not a fan of namespaces in xml documents, but I'll leave that
statement at that.

Your invoices are requiring uri construction for query. These parameters
should be supplied on the basis of a form document provided at a known
location rather than relying on clients to understand your URI-space.

I like your use of atom and icalendar for responses. Standards are
valuable.

To really head out of the REST sphere: Decimal currenices will work fine
for dollars, but you may find problems as you head outside North
America. This will also very likely have an effect on your customer
description format.

Additional responses inline.

Benjamin.

On Thu, 2006-09-28 at 14:44 -0500, Scott Raymond wrote:
&gt; On 9/26/06, Roy T. Fielding &lt;fielding@...&gt; wrote:
&gt; &gt; I am curious as to why it is using "application/xml" as the media
&gt; &gt; type instead of something more standardized.
&gt; On 9/26/06, Mark Baker &lt;distobj@...&gt; wrote:
&gt; &gt; The other thing is the data formats and the use of application/xml.
&gt; &gt; For content negotiation (not to mention other uses), application/xml
&gt; &gt; is meaningless
&gt; Thanks Roy and Mark, that's exactly the kind of feedback I was hoping
&gt; for. I hadn't thought through the media type issue, but your arguments
&gt; make sense. I just changed the app and spec to use
&gt; "application/vnd.blinksale+xml". I understand that new media types are
&gt; supposed to be registered, but is there practical reason to bother,
&gt; for me or my customers?

Well, you aren't really being RESTful unless your content type is
standard. Not only should it be registered, but it should be standard.
Inventing your own verbs is a REST no-no, but inventing your own content
types is also a no-no. If there is really no standard out there that you
can engage with, inventing your own is ok... so long as you start a long
and painful standardisation process on your new format.

Look at the REST triangle. The only thing you should be inventing when
you create a new application is a new set of urls and resources. Verbs
and content types should not be bespoke. Remember that computer
communication is primarily a human social problem. Your own content type
limits the network effects that REST can give you.

&gt; Roy wrote:
&gt; &gt; Was something like the
&gt; &gt; Visa XML Invoice (or any of the other various attempts) considered?
&gt; &gt; If considered, were they rejected due to complexity or for some
&gt; &gt; other reason?
&gt; Yeah, I looked at Visa XML Invoice and UBL; my reasons for not going
&gt; that direction come down to complexity (and perhaps a pinch of NIH
&gt; syndrome.) At least for this first step, I want something that is very
&gt; simple and closely corresponds with the existing data model and UI.
&gt; None of our customers have ever requested Visa or any other invoice
&gt; format; if we targeted auto makers or something, it'd be a different
&gt; story.

Fair enough while you are finding your feet. You really need to engage
with some kind of standards process soon, though. Don't leave it too
long.

&gt; Mark wrote:
&gt; &gt; The first is the documentation for the URI structure, e.g.
&gt; http://example.blinksale.com/invoices/invoice_id/deliveries/delivery_id
&gt; &gt; Though I can't tell for sure, it appears to me as though you expect
&gt; &gt; clients to be hardcoded to use that structure, which would break the
&gt; &gt; "hypermedia" constraint. You'd need to use a forms language in order
&gt; &gt; to be able to declare that URI structure for consumption by the
&gt; &gt; client, otherwise client and server would be more tightly coupled
&gt; than
&gt; &gt; is necessary and this could hurt the evolvability of your
&gt; application.
&gt; I'm not sure that I understand all the issues behind the hypermedia
&gt; constraint, but I think this one's okay. For example, the API never
&gt; just provides a delivery ID number and expects the client to construct
&gt; the URI; it uses the full URI of the delivery as the identifier. E.g.,
&gt; the XML representation of an invoice includes something like:
&gt; &lt;deliveries uri="http://example.blinksale.com/invoices/1/deliveries"&gt;
&gt; &lt;delivery
&gt; uri="http://example.blinksale.com/invoices/1/deliveries/3"&gt;...&lt;/delivery&gt;
&gt; &lt;/deliveries&gt;
&gt; Is that sufficient for the client to know that it should POST a new
&gt; delivery to "/invoices/1/deliveries", etc.?

The documentation you are currently providing should be for information
purposes only. It may be better not to publish it at all, treating the
information as an internal document. Consider publishing only a smaller
document that lists generic starting points for navigation (such as the
www.blinksale.com main page), or suppling a small set of URLs each time
you engage a new customer. The rest should be discovered by hyperlinks.

Also, the information looks a little internal-centric. For your user,
the client_id is this: &lt;http://example.blinksale.com/clients/0001&gt;. The
invoice id is &lt;http://example.blinksale.com/invoices/1234&gt;. Once you get
out on to the web, all of your identifiers are urls and vice versa.

Benjamin.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6580<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2006-09-30 08:02:53<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>On Sep 30, 2006, at 9:00 AM, Benjamin Carlyle wrote:

&gt; Well, you aren't really being RESTful unless your content type is
&gt; standard.

Mark made this argument to me as well (http://www.infoq.com/articles/ 
mark-baker-REST), and it still leaves me puzzled. If this is really  
accepted common wisdom, almost all examples of RESTful apps I'm aware  
of, and most articles (including e.g. the excellent one at http:// 
www.xml.com/pub/a/2004/12/01/restful-web.html from Joe Gregorio) do  
not, in fact, describe RESTful applications.

Or should we view REST as an ideal and a RESTful app as one that  
tries to come as close to it as possible?

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6581<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-10-01 06:32:00<br>
Subject:A community for REST Content Type deevelopment, Was:	[rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>On Sat, 2006-09-30 at 10:02 +0200, Stefan Tilkov wrote:
&gt; On Sep 30, 2006, at 9:00 AM, Benjamin Carlyle wrote:
&gt; &gt; Well, you aren't really being RESTful unless your content type is
&gt; &gt; standard.
&gt; Mark made this argument to me as well (http://www.infoq.com/articles/ 
&gt; mark-baker-REST), and it still leaves me puzzled. If this is really 
&gt; accepted common wisdom, almost all examples of RESTful apps I'm aware 
&gt; of, and most articles (including e.g. the excellent one at http:// 
&gt; www.xml.com/pub/a/2004/12/01/restful-web.html from Joe Gregorio) do 
&gt; not, in fact, describe RESTful applications.

Agreed. The most precient example of a RESTful application at the moment
is called the world-wide-web. If you have to write new client-side
software to deal with your new server-side software, you have failed the
REST test. A generic browser with sufficient knowledge of standard verbs
and content types should be able to access and interact with your
RESTful service. Special-purpose clients can still be written, but they
should never be required.

&gt; Or should we view REST as an ideal and a RESTful app as one that 
&gt; tries to come as close to it as possible?

We should leverage, replicate or integrate with the success of
microformats in defining standard content types. Tantek and his
collaborators have been very successful in developing a model for
standard-building and also the practice of standard building. The model
essentially amounts to:

* Looking for existing formats that overlap the subject area you are
attempting to standardise
* Looking for already-published data (or perhaps software that already
produces data) linked to the subject area

Find the closest match, and use that as your starting point. New ideas
or requirements are largely ignored. Cover the 80% case and evolve
rather than trying to dot every "i" all at once. Sort out an namespace
clashes with previously-ratified formats to ensure that terms line up as
much as possible and that namespaces do not have to be used. Allow
extensions to occur in the wild without forcing them into their own
namespaces.

Given the success that microformats have already achieved, I would
suggest that directly copying their standards back into the XML world
would also be a viable standardisation mechanism. I have certainly been
using them myself as the guideposts to content-type development when
humans are not involved in a conversation.

I don't know whether pure machine-to-machine information transfer is at
the tipping point that microformats have achieved yet. Microformats can
survey a huge amount of html-encoded information and genuine experince
in determining which existing formats are useful and which are chaff. To
develop pure machine-oriented formats in the same way we would need a
large base of nearly-restful services to look for commonality between.

If we are at the tipping point, a wiki, mailing list, instant messaging
channel, and community champions might be enough to get things going. It
might be useful to kick off such a community for problem domains that
fall between the microformat cracks (Are there enough invoices on the
web yet for the microformats crowd to standardise the format?).

Community-driven formats are probably the only real way to develop
useful ontology through content types. As such, the nearly-RESTful
services out there are still of benefit. So long as they migrate to a
standard once the industry they are part of starts to pick up, REST will
be the ultimate outcome. This outcome also has a name: The semantic web.
RDF really isn't the cornerstone of the semantic web. RDF is too closely
aligned to artificial intelligence and high ideals as to how information
can be reasoned with generically to be really useful as an information
exchange mechanism. The semantic web is here, however, today. A content
type is an ontology, and we already have good experience with some very
popular and useful ontologies. Perhaps there are already enough web
applications today with nearly-RESTful APIs that standardisation based
on actual use may be viable.

Benjamin.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6582<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-10-01 08:16:23<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>Stefan Tilkov &lt;stefan.tilkov@...&gt; writes:

&gt; On Sep 30, 2006, at 9:00 AM, Benjamin Carlyle wrote:
&gt;
&gt;&gt; Well, you aren't really being RESTful unless your content type is
&gt;&gt; standard.
&gt;
&gt; Mark made this argument to me as well (http://www.infoq.com/articles/ 
&gt; mark-baker-REST), and it still leaves me puzzled. If this is really  
&gt; accepted common wisdom, almost all examples of RESTful apps I'm aware  
&gt; of, and most articles (including e.g. the excellent one at http:// 
&gt; www.xml.com/pub/a/2004/12/01/restful-web.html from Joe Gregorio) do  
&gt; not, in fact, describe RESTful applications.

It's nonsense I'm affraid. Lots of REST applications are built with
simple XML; many examples are with simple XML; lots of other apps are
with twisted or simplified forms of other standards, eg: over
simplified HTML or RSS.

Most browsers display XML of course, so it's still possible to
interact with simple XML based services with a browser.


&gt; Or should we view REST as an ideal and a RESTful app as one that  
&gt; tries to come as close to it as possible?

I don't think is true at all.

But it's also well understood that reuse is better than reinvention so
it's a good idea to use existing formats.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6583<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-10-01 08:49:21<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>
On Sep 30, 2006, at 10:02 AM, Stefan Tilkov wrote:

&gt; On Sep 30, 2006, at 9:00 AM, Benjamin Carlyle wrote:
&gt;
&gt; &gt; Well, you aren't really being RESTful unless your content type is
&gt; &gt; standard.
&gt;
&gt; Mark made this argument to me as well (http://www.infoq.com/articles/
&gt; mark-baker-REST), and it still leaves me puzzled.
In the interview Mark does differentiate between a completely open  
system (where messages types *must* be standardized) and intra- 
organisational scenarios (where shared agreement between the  
participating parties is sufficient).

Also, the term 'standardized' is rather flexible, IMHO. I think you  
can achieve self-descriptive messages even if the media type isn't  
registered with IETF (or any other standards body like W3C or OASIS).  
If the publishing party (say a company) gains enough trust in it  
supporting the stability of the format, re-use by others becomes  
possible.
This approach is likely to be the only option for some time to come  
for many enterprise related domains, but at least REST emphasizes the  
point of message standardization and keeps us from dumping millions  
of specialized APIs onto the world.

Two issues:

- in the absence of a registered MIME type dispatching has to be done  
on the basis of for
   example the XML namespace of a given message's root element (UBL  
would be a good example,
   though I fail to see why we cannot just have a MIME type  
registered for it??)

- rolling your own format is hard and one should look for reuse  
wherever possible (the Atom
   extension mechanism appears to make things a bit easier in terms  
of writing the spec for
   the additions you need; in a the situation changed from 'roll your  
own MIME type' to 'roll
   your own Atom extension')

Jan

&gt; If this is really
&gt; accepted common wisdom, almost all examples of RESTful apps I'm aware
&gt; of, and most articles (including e.g. the excellent one at http://
&gt; www.xml.com/pub/a/2004/12/01/restful-web.html from Joe Gregorio) do
&gt; not, in fact, describe RESTful applications.
&gt;
&gt; Or should we view REST as an ideal and a RESTful app as one that
&gt; tries to come as close to it as possible?
&gt;
&gt; Stefan
&gt; --
&gt; Stefan Tilkov, http://www.innoq.com/blog/st/
&gt;
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6584<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-10-01 08:49:44<br>
Subject:Re: A community for REST Content Type deevelopment, Was:	[rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>
On Oct 1, 2006, at 8:32 AM, Benjamin Carlyle wrote:

&gt; We should leverage, replicate or integrate with the success of
&gt; microformats in defining standard content types.

I wonder if we shouldn't then have a new 'family' of media types, e.g.
'+xhtml' so clients can dispatch correctly or use the fall-back if the
compound type is not understood (as with \+xml').

E.g: text/calendar+xhtml

Jan


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6585<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-10-01 08:49:29<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>
On Oct 1, 2006, at 10:16 AM, Nic James Ferrier wrote:

&gt; Stefan Tilkov &lt;stefan.tilkov@...&gt; writes:
&gt;
&gt; &gt; On Sep 30, 2006, at 9:00 AM, Benjamin Carlyle wrote:
&gt; &gt;
&gt; &gt;&gt; Well, you aren't really being RESTful unless your content type is
&gt; &gt;&gt; standard.
&gt; &gt;
&gt; &gt; Mark made this argument to me as well (http://www.infoq.com/ 
&gt; articles/
&gt; &gt; mark-baker-REST), and it still leaves me puzzled. If this is really
&gt; &gt; accepted common wisdom, almost all examples of RESTful apps I'm  
&gt; aware
&gt; &gt; of, and most articles (including e.g. the excellent one at http://
&gt; &gt; www.xml.com/pub/a/2004/12/01/restful-web.html from Joe Gregorio) do
&gt; &gt; not, in fact, describe RESTful applications.
&gt;
&gt; It's nonsense I'm affraid.
Hmm...no, Mark is completely right about that. Message self- 
descriptiveness is an
architectural constraint of REST and thus, if your messages are not  
self-descriptive
(aka standardized all the way through) your system does not comply  
with REST.

Jan

&gt; Lots of REST applications are built with
&gt; simple XML; many examples are with simple XML; lots of other apps are
&gt; with twisted or simplified forms of other standards, eg: over
&gt; simplified HTML or RSS.
&gt;
&gt; Most browsers display XML of course, so it's still possible to
&gt; interact with simple XML based services with a browser.
&gt;
&gt; &gt; Or should we view REST as an ideal and a RESTful app as one that
&gt; &gt; tries to come as close to it as possible?
&gt;
&gt; I don't think is true at all.
&gt;
&gt; But it's also well understood that reuse is better than reinvention so
&gt; it's a good idea to use existing formats.
&gt;
&gt; -- 
&gt; Nic Ferrier
&gt; http://www.tapsellferrier.co.uk for all your tapsell ferrier needs
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6586<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-10-01 11:14:47<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>Jan Algermissen &lt;jalgermissen@...&gt; writes:

&gt; Hmm...no, Mark is completely right about that. Message self- 
&gt; descriptiveness is an
&gt; architectural constraint of REST and thus, if your messages are not  
&gt; self-descriptive
&gt; (aka standardized all the way through) your system does not comply  
&gt; with REST.

I strongly disagree with this assertion. I don't have a link to Mark's
article where he makes a claim that "self-descriptive" means
"standardized" so I can't really refute it. But I do refute the
assertion.


If REST requires that only "standardized" documents be used then as
fas as I can see, it has almost no utility at all.

As far as I can see, in the field, people are using mostly simple XML
based systems and HTML based systems.

HTML systems rely, to a greater or lesser extent on microformats which
are not "standardized"; they are simply recognized and
documented. They are highly flexible and would be the poorer for
standardization.

Arbitary XML can be acceptable for applications because it can rely on
microformats; say the A element or the FORM element or the ITEM
element (from RSS). There's nothing wrong with that.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6587<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-10-01 11:20:08<br>
Subject:Re: A community for REST Content Type deevelopment, Was:	[rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>Jan Algermissen &lt;jalgermissen@...&gt; writes:

&gt; E.g: text/calendar+xhtml

How would that describe an entity containing the calendars of a group?

Such an entity would be marked up with hcard and hcal uformats.

I really don't see that we need more entity level specification; we
need intra-entity specification forms which is what uformats and
formats like atom are about.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6588<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-10-01 11:57:33<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>Nic James Ferrier &lt;nferrier@...&gt; writes:

&gt; If REST requires that only "standardized" documents be used then as
&gt; fas as I can see, it has almost no utility at all.

That bit sounds a bit grumpy.

I just mean that REST is a home for fugitives from SOAP/WSDL where
specification has taken over all reason.

On of the reasons REST is succesfull, surely, is that it is lighter,
airier and within the constraints laid down, allows more scope for
developers than the RPC style.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6589<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-10-01 13:13:25<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>
On Oct 1, 2006, at 1:14 PM, Nic James Ferrier wrote:

&gt; Jan Algermissen &lt;jalgermissen@...&gt; writes:
&gt;
&gt; &gt; Hmm...no, Mark is completely right about that. Message self-
&gt; &gt; descriptiveness is an
&gt; &gt; architectural constraint of REST and thus, if your messages are not
&gt; &gt; self-descriptive
&gt; &gt; (aka standardized all the way through) your system does not comply
&gt; &gt; with REST.
&gt;
&gt; I strongly disagree with this assertion. I don't have a link to Mark's
&gt; article where he makes a claim that "self-descriptive" means
&gt; "standardized" so I can't really refute it.
Here is the quote:
"InfoQ: So to be clear about this - does this mean that if I want to  
develop a RESTful application, I can only use standardized message  
formats? Some custom XML format of my own would be ruled out?

MB: Strictly, yes, but remember that REST is an architectural style  
for very large scale systems. If you've got a proprietary data format  
that you need to use, say, behind your firewall, or even between two  
companies that long ago agreed to use this format, then you can still  
gain a lot by moving *towards* REST (by adopting the uniform  
interface, URIs for identification, etc..), but you won't quite reach  
it in this case because of the data. And there's nothing wrong with  
that per se. All it means, and all that REST is telling you, is that  
the data in these messages won't mean much to the outside world."

( http://www.infoq.com/articles/mark-baker-REST )
&gt; But I do refute the
&gt; assertion.
Well, self-descriptiveness is a constraint, so there isn't much point  
in refuting... :-)

Keep in mind though, that not being 100% RESTful isn't the same as  
'no utility at all'. Still better to use a proprietary format (or  
extension on top of a standardized one) than to fire up your IDE and  
create yet another API to yet another stock service object. When the  
API is uniform, the proprietary extensions are much more likely to  
come out as being similar enough to enable futire consolidation and  
eventually standardization.
&gt;
&gt; If REST requires that only "standardized" documents be used then as
&gt; fas as I can see, it has almost no utility at all.
Yeah, that sounded grumpy :-)
&gt;
&gt; As far as I can see, in the field, people are using mostly simple XML
&gt; based systems and HTML based systems.
But due to their lack of standardization, the evolvability benefits  
of REST are not guaranteed (because the self descriptiveness  
constraint is violated).
&gt;
&gt; HTML systems rely, to a greater or lesser extent on microformats which
&gt; are not "standardized"; they are simply recognized and
&gt; documented.
That might count as 'standardization' though. Thoughts?

&gt; They are highly flexible and would be the poorer for
&gt; standardization.
This puzzles me; flexibility is orthogonal to standardization, no?
&gt;
&gt; Arbitary XML can be acceptable for applications because it can rely on
&gt; microformats; say the A element or the FORM element or the ITEM
&gt; element (from RSS). There's nothing wrong with that.
Not exactly sure what you mean here.

Jan

&gt;
&gt; -- 
&gt; Nic Ferrier
&gt; http://www.tapsellferrier.co.uk for all your tapsell ferrier needs
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6590<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-10-01 14:25:29<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>Jan Algermissen &lt;jalgermissen@...&gt; writes:

&gt;&gt; Arbitary XML can be acceptable for applications because it can rely on
&gt;&gt; microformats; say the A element or the FORM element or the ITEM
&gt;&gt; element (from RSS). There's nothing wrong with that.
&gt;
&gt; Not exactly sure what you mean here.

Here's an entity:

 &lt;document&gt;
  &lt;item&gt;
     &lt;link&gt;http://www.tapsellferrier.co.uk/index.html&lt;/link&gt;
     &lt;description&gt;tapsell-ferrier's homepage with information
       about &lt;a href="http://www.thefeedstar.net"&gt;thefeedstar&lt;/a&gt;.
     &lt;/description&gt;
  &lt;/item&gt;
 &lt;/document&gt;

I think we have a pretty good idea what it means.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6591<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-10-01 14:48:25<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>
On Oct 1, 2006, at 4:25 PM, Nic James Ferrier wrote:

&gt; Jan Algermissen &lt;jalgermissen@...&gt; writes:
&gt;
&gt;&gt;&gt; Arbitary XML can be acceptable for applications because it can  
&gt;&gt;&gt; rely on
&gt;&gt;&gt; microformats; say the A element or the FORM element or the ITEM
&gt;&gt;&gt; element (from RSS). There's nothing wrong with that.
&gt;&gt;
&gt;&gt; Not exactly sure what you mean here.
&gt;
&gt; Here's an entity:
&gt;
&gt;  &lt;document&gt;
&gt;   &lt;item&gt;
&gt;      &lt;link&gt;http://www.tapsellferrier.co.uk/index.html&lt;/link&gt;
&gt;      &lt;description&gt;tapsell-ferrier's homepage with information
&gt;        about &lt;a href="http://www.thefeedstar.net"&gt;thefeedstar&lt;/a&gt;.
&gt;      &lt;/description&gt;
&gt;   &lt;/item&gt;
&gt;  &lt;/document&gt;
&gt;
&gt; I think we have a pretty good idea what it means.

That is exactly the problem: without the media type, I have  
absolutely no idea what it means

Jan

&gt;
&gt; -

&gt; -
&gt; Nic Ferrier
&gt; http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6592<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2006-10-01 15:27:47<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>On 9/26/06, Mark Baker &lt;distobj@...&gt; wrote:
&gt; On 9/26/06, Mark Baker &lt;distobj@...&gt; wrote:
&gt; &gt;So you
&gt; &gt; should either reuse existing media types (e.g. text/html with the
&gt; &gt; hCard microformat for "person"), or mint media types such as
&gt; &gt; application/vnd.blinksale.person+xml.  Otherwise your messages won't
&gt; &gt; be self-descriptive.
&gt;
&gt; That didn't come out right.  Even if you register a new media type,
&gt; messages won't be self-descriptive until the format is standardized.
&gt;
&gt; And +1 to Roy on reuse.

So, Mark, does that mean you have given up on RDF Forms?
http://www.markbaker.ca/2003/05/RDF-Forms/

And is a message sufficiently self-descriptive if it refers to a form
resource that describes it?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6593<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-10-01 21:47:28<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>On Sun, 2006-10-01 at 12:14 +0100, Nic James Ferrier wrote:
&gt; Jan Algermissen &lt;jalgermissen@...&gt; writes:
&gt; &gt; Hmm...no, Mark is completely right about that. Message self- 
&gt; &gt; descriptiveness is an
&gt; &gt; architectural constraint of REST and thus, if your messages are not 
&gt; &gt; self-descriptive
&gt; &gt; (aka standardized all the way through) your system does not comply 
&gt; &gt; with REST.
&gt; I strongly disagree with this assertion. I don't have a link to Mark's
&gt; article where he makes a claim that "self-descriptive" means
&gt; "standardized" so I can't really refute it. But I do refute the
&gt; assertion.

Well, standard and standardised are two different words. REST constrains
content types to be standard. Approximately, understood by everyone who
would want to understand it. In particular, not something you just made
up for your own application. There need to be a bounded number of
content types in the world relative to the number of applications. The
number of content types should not increase in proprortion to the number
of applications:

�REST enables intermediate processing by constraining messages to be
self-descriptive: interaction is stateless between requests, standard
methods and media types are used to indicate semantics and exchange
information, and responses explicitly indicate cacheability.�
        �Roy Fielding

&gt; As far as I can see, in the field, people are using mostly simple XML
&gt; based systems and HTML based systems.

I think that these nearly-RESTful implementations are an important
precursor to actual REST. They allow developers to get into the feel of
how RESTful systems will work and act as sampling points that can be
used as the basis for the definition of standards.

To take a leaf from my REST Tutorial[1], these implementations have
learned lesson three. Four is the hardest and most social lesson to
learn on the way to conforming to REST's constraints. A lot of value is
achieved without lesson four, but there is a difference between a lesson
three app and a lesson four app.

Benjamin
[1] 
http://rest.blueoxen.net/cgi-bin/wiki.pl?BenjaminsRESTTutorial




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6594<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-10-01 22:06:17<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>On Oct 1, 2006, at 4:14 AM, Nic James Ferrier wrote:
&gt; Jan Algermissen &lt;jalgermissen@...&gt; writes:
&gt;
&gt; &gt; Hmm...no, Mark is completely right about that. Message self-
&gt; &gt; descriptiveness is an
&gt; &gt; architectural constraint of REST and thus, if your messages are not
&gt; &gt; self-descriptive
&gt; &gt; (aka standardized all the way through) your system does not comply
&gt; &gt; with REST.
&gt;
&gt; I strongly disagree with this assertion. I don't have a link to Mark's
&gt; article where he makes a claim that "self-descriptive" means
&gt; "standardized" so I can't really refute it. But I do refute the
&gt; assertion.

Well, so do I.  Self-descriptive means that the type is registered and
the registry points to a specification and the specification explains
how to process the data according to its intent.  The specification does
not need to be a standard (a.k.a., a measure that everyone agrees to).
It would help, but most useful standards are defined through use.
Whoever starts sending the data first should define the specification
according to what is being sent, not try to get everyone to agree first.

My question about the API was one of practicality.  Given a space that
has been extensively explored, why do people choose to abandon the
available standards?  And the answer was the one I was expecting: the
standards are too complex and it seemed better to start with something
simple that is a better fit for the immediate need.  There is absolutely
nothing wrong with that choice when it is made with eyes wide open.
You never know what will become the next HTML.

....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6595<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-10-01 22:35:34<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>"Roy T. Fielding" &lt;fielding@...&gt; writes:

&gt; Well, so do I.  Self-descriptive means that the type is registered and
&gt; the registry points to a specification and the specification explains
&gt; how to process the data according to its intent.  The specification does
&gt; not need to be a standard (a.k.a., a measure that everyone agrees to).
&gt; It would help, but most useful standards are defined through use.
&gt; Whoever starts sending the data first should define the specification
&gt; according to what is being sent, not try to get everyone to agree
&gt; first.

Thanks for this clarification.

One point about this is that you can use a registered type such as
application/xml but that doesn't really specify anything about the
data does it? Only that it conforms to the simplest syntactic
constraints.

This is a really thorny issue I think. We've discussed here many times
before the problem of discoverability of intra-document types (such as
XML schemas and uformats).


&gt; My question about the API was one of practicality.  Given a space that
&gt; has been extensively explored, why do people choose to abandon the
&gt; available standards?  

&gt; And the answer was the one I was expecting: the standards are too
&gt; complex and it seemed better to start with something simple that is
&gt; a better fit for the immediate need.  There is absolutely nothing
&gt; wrong with that choice when it is made with eyes wide open.  You
&gt; never know what will become the next HTML.

Yes. It's one of my hopes that REST will cause some disruption in the
content declaration space   /8-&gt;

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6596<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-10-01 23:35:26<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>On Oct 1, 2006, at 3:35 PM, Nic James Ferrier wrote:
&gt; One point about this is that you can use a registered type such as
&gt; application/xml but that doesn't really specify anything about the
&gt; data does it? Only that it conforms to the simplest syntactic
&gt; constraints.

Right, I would not use "application/xml" for anything useful.
The argument that people can look inside at the root element
died a long time ago (shortly after the people making it tried
to build an intermediary).

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6597<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-10-02 10:58:18<br>
Subject:Re: A community for REST Content Type deevelopment, Was:	[rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>Benjamin Carlyle wrote:
&gt; If you have to write new client-side
&gt; software to deal with your new server-side software, you have failed the
&gt; REST test. A generic browser with sufficient knowledge of standard verbs
&gt; and content types should be able to access and interact with your
&gt; RESTful service. Special-purpose clients can still be written, but they
&gt; should never be required.
&gt; 

Would that that were true. Fact is, most (all?) existing web browsers 
implement only about half of what's necessary for a full REST 
implementation: GET and POST but not PUT and DELETE. HTML forms and 
XForms 1.0 don't even allow PUT and DELETE as actions. :-(

Of course, this all presupposes that you're sitting on top of HTTP. 
There are RESTful systems that use other, non-HTTP protocols though 
they're uncommon in practice. REST is an architecture. It is not limited 
to HTTP, though I've personally never found a need to use any other 
protocol for a REST system.

-- 
﻿Elliotte Rusty Harold  elharo@...
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6598<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-10-02 11:15:21<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>Roy T. Fielding wrote:

&gt; Well, so do I.  Self-descriptive means that the type is registered and
&gt; the registry points to a specification and the specification explains
&gt; how to process the data according to its intent.  

Data doesn't have intent. Producers may have intent and consumers may 
have intent, but those are by no means the same thing. There's certainly 
no intent in the data itself.

Or perhaps "its intent" meant the specification's intent? That's a 
little more reasonable, but I'm still very skeptical of systems that 
purport to tell me how I must process any given chunk of data absent an 
out-of-band agreement and contract wherein I promise to do that.

-- 
﻿Elliotte Rusty Harold  elharo@...
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6599<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-10-02 11:44:15<br>
Subject:Re: A community for REST Content Type deevelopment, Was:	[rest-discuss]  Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>Elliotte Harold &lt;elharo@...&gt; writes:

&gt; Of course, this all presupposes that you're sitting on top of HTTP. 
&gt; There are RESTful systems that use other, non-HTTP protocols though 
&gt; they're uncommon in practice. REST is an architecture. It is not limited 
&gt; to HTTP, though I've personally never found a need to use any other 
&gt; protocol for a REST system.

Before I had heard of REST I had written RESTfull-like systems with
SQL stored procs.

All data access is wrapped through get procs which either return
single values or structured "row" types (all predefined, a bit like
XML schema types).

New data is created (just like POST) and data to be change is edited
with update procs that look a lot like PUT handlers.

Sometimes the procs (get, create or update) take meta data in the proc
call as well as the data itself.


One of the things that has been in the back of my mind since I came
across REST is that some sort of mapping between SQL stored procs and
HTTP REST does not seem like it would be difficult. Furthermore, it
might be as natural and easy to use as WSDL/SOAP is for OO programming
(not that I am saying WSDL/SOAP is any good - but it is a good *fit*).

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6600<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-10-02 15:37:16<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>On 10/1/06, Roy T. Fielding &lt;fielding@...&gt; wrote:
&gt; Well, so do I.  Self-descriptive means that the type is registered and
&gt; the registry points to a specification and the specification explains
&gt; how to process the data according to its intent.

Ok, which one is it? 8-)

"REST enables intermediate processing by constraining messages to be
self-descriptive: interaction is stateless between requests, standard
methods and media types are used to indicate semantics and exchange
information, and responses explicitly indicate cacheability."

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6601<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-10-02 16:13:32<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>On 10/1/06, Bob Haugen &lt;bob.haugen@...&gt; wrote:
&gt; On 9/26/06, Mark Baker &lt;distobj@...&gt; wrote:
&gt; &gt; On 9/26/06, Mark Baker &lt;distobj@...&gt; wrote:
&gt; &gt; &gt;So you
&gt; &gt; &gt; should either reuse existing media types (e.g. text/html with the
&gt; &gt; &gt; hCard microformat for "person"), or mint media types such as
&gt; &gt; &gt; application/vnd.blinksale.person+xml.  Otherwise your messages won't
&gt; &gt; &gt; be self-descriptive.
&gt; &gt;
&gt; &gt; That didn't come out right.  Even if you register a new media type,
&gt; &gt; messages won't be self-descriptive until the format is standardized.
&gt; &gt;
&gt; &gt; And +1 to Roy on reuse.
&gt;
&gt; So, Mark, does that mean you have given up on RDF Forms?
&gt; http://www.markbaker.ca/2003/05/RDF-Forms/

Nope!  That reuses RDF/XML, which has a standard media type
(application/rdf+xml).  And by Roy's most recent definition, it is
self-descriptive because you can dereference (er, well I had some
Apache config troubles, but the intent was there 8-) all the URIs for
all the terms and get a description of their meaning (RDF/XML or
prose).

&gt;
&gt; And is a message sufficiently self-descriptive if it refers to a form
&gt; resource that describes it?

The intent was that the form would be returned by dereferencing the
URI of the form processor.  e.g. GET on http://example.org/foo/ could
return either a GET form for URIs like
http://example.org/foo/?a=b&amp;c=d, or a POST form for POSTing to
http://example.org/foo/.

So, no. 8-)

Mark.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6602<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2006-10-02 16:05:28<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>So what does "standard" mean again?  Can you be specific about which set 
  of bureaucrats I have to tithe to before my messages can be 
self-descriptive?

Mark Baker wrote:
&gt; 
&gt; 
&gt; On 10/1/06, Roy T. Fielding &lt;fielding@... 
&gt; &lt;mailto:fielding%40gbiv.com&gt;&gt; wrote:
&gt;  &gt; Well, so do I. Self-descriptive means that the type is registered and
&gt;  &gt; the registry points to a specification and the specification explains
&gt;  &gt; how to process the data according to its intent.
&gt; 
&gt; Ok, which one is it? 8-)
&gt; 
&gt; "REST enables intermediate processing by constraining messages to be
&gt; self-descriptive: interaction is stateless between requests, standard
&gt; methods and media types are used to indicate semantics and exchange
&gt; information, and responses explicitly indicate cacheability."


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6603<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2006-10-02 16:26:30<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>&gt; &gt; And is a message sufficiently self-descriptive if it refers to a form
&gt; &gt; resource that describes it?
&gt;
&gt; The intent was that the form would be returned by dereferencing the
&gt; URI of the form processor.  e.g. GET on http://example.org/foo/ could
&gt; return either a GET form for URIs like
&gt; http://example.org/foo/?a=b&amp;c=d, or a POST form for POSTing to
&gt; http://example.org/foo/.
&gt;
&gt; So, no. 8-)

Why not?  What diff does it make if the form came from the form
processing resource or was (for example) a standard invoice form, as
long as both client and server can handle it?

What I liked about the direction of RDF Forms was that the combination
of a media type and a form could pretty fully describe not only the
POST message but also the result of a GET on the resulting resource.
In other words, a 2-way resource type description.

(That's also the attraction of microformats, of course.)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6604<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-10-02 16:43:10<br>
Subject:RDF Forms &amp; media types<br>
Message:<br><br>
<pre>On 10/2/06, Bob Haugen &lt;bob.haugen@...&gt; wrote:
&gt; &gt; &gt; And is a message sufficiently self-descriptive if it refers to a form
&gt; &gt; &gt; resource that describes it?
&gt; &gt;
&gt; &gt; The intent was that the form would be returned by dereferencing the
&gt; &gt; URI of the form processor.  e.g. GET on http://example.org/foo/ could
&gt; &gt; return either a GET form for URIs like
&gt; &gt; http://example.org/foo/?a=b&amp;c=d, or a POST form for POSTing to
&gt; &gt; http://example.org/foo/.
&gt; &gt;
&gt; &gt; So, no. 8-)
&gt;
&gt; Why not?  What diff does it make if the form came from the form
&gt; processing resource or was (for example) a standard invoice form, as
&gt; long as both client and server can handle it?

I guess I don't understand what you're asking.  A standard invoice
form could be used, of course, as long as it had a media type.

&gt; What I liked about the direction of RDF Forms was that the combination
&gt; of a media type and a form could pretty fully describe not only the
&gt; POST message but also the result of a GET on the resulting resource.
&gt; In other words, a 2-way resource type description.

If I understand you, RDF Forms doesn't do the latter.  It just says
"Send this media type here".  If there's any "resulting resource"
(e.g. if a 201 response resulted from the POST of that media type),
the server may or may not choose to make representations of that
resource available using the input media type.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6605<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2006-10-02 17:17:24<br>
Subject:Re: RDF Forms &amp; media types<br>
Message:<br><br>
<pre>On 10/2/06, Mark Baker &lt;distobj@...&gt; wrote:
&gt; On 10/2/06, Bob Haugen &lt;bob.haugen@...&gt; wrote:
&gt; &gt; &gt; &gt; And is a message sufficiently self-descriptive if it refers to a form
&gt; &gt; &gt; &gt; resource that describes it?
&gt; &gt; &gt;
&gt; &gt; &gt; The intent was that the form would be returned by dereferencing the
&gt; &gt; &gt; URI of the form processor.  e.g. GET on http://example.org/foo/ could
&gt; &gt; &gt; return either a GET form for URIs like
&gt; &gt; &gt; http://example.org/foo/?a=b&amp;c=d, or a POST form for POSTing to
&gt; &gt; &gt; http://example.org/foo/.
&gt; &gt; &gt;
&gt; &gt; &gt; So, no. 8-)
&gt; &gt;
&gt; &gt; Why not?  What diff does it make if the form came from the form
&gt; &gt; processing resource or was (for example) a standard invoice form, as
&gt; &gt; long as both client and server can handle it?
&gt;
&gt; I guess I don't understand what you're asking.  A standard invoice
&gt; form could be used, of course, as long as it had a media type.

I sorta assumed that getting a media type adopted wd be more difficult
than a form.

So the combination of a media type and a form (which form cd just go
by less "formal" understanding) wd have some value.

(E.g. speaking to Lucas Gonze's concern about who he needs to tithe to...)

Do I misunderstand?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6606<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-10-02 20:35:46<br>
Subject:The REST information layer Was: A community for REST Content Type	development<br>
Message:<br><br>
<pre>Nic,

On Mon, 2006-10-02 at 12:44 +0100, Nic James Ferrier wrote:
&gt; One of the things that has been in the back of my mind since I came
&gt; across REST is that some sort of mapping between SQL stored procs and
&gt; HTTP REST does not seem like it would be difficult. Furthermore, it
&gt; might be as natural and easy to use as WSDL/SOAP is for OO programming
&gt; (not that I am saying WSDL/SOAP is any good - but it is a good *fit*).

I think what REST provides is an information layer that sits on top of
object-orientation, but also on top of relational data models. Just as
Object-Orientation relies on a functional or modular syntax for the
specification of functions within an object, REST typically relies on
some lower-level abstraction to implement its resources.

I sometimes wonder if the object/relational mapping problem could be
solved by not attempting to interact between the two directly. Each
could treat the other as a separate RESTful service and would not know
whether it was object-oriented or relational under the resource layer.

Benjamin



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6607<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-10-02 20:57:55<br>
Subject:Re: A community for REST Content Type deevelopment,	Was:	[rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>On Mon, 2006-10-02 at 06:58 -0400, Elliotte Harold wrote:
&gt; Benjamin Carlyle wrote:
&gt; &gt; If you have to write new client-side
&gt; &gt; software to deal with your new server-side software, you have failed
&gt; the
&gt; &gt; REST test. A generic browser with sufficient knowledge of standard
&gt; verbs
&gt; &gt; and content types should be able to access and interact with your
&gt; &gt; RESTful service. Special-purpose clients can still be written, but
&gt; they
&gt; &gt; should never be required.
&gt; Would that that were true. Fact is, most (all?) existing web browsers 
&gt; implement only about half of what's necessary for a full REST 
&gt; implementation: GET and POST but not PUT and DELETE. HTML forms and 
&gt; XForms 1.0 don't even allow PUT and DELETE as actions. :-(

Web browsers don't support the minimum methods[1] because the forms
standards don't permit them to. This is a fault of the forms standards
that needs to be rectified, but is something of nuisance issue in
discussing this case.

The important thing is that you shouldn't be defining new content types
for your new application, going no further, and thinking you are being
completely RESTful. You are on your way, but there are still steps to
take. Maybe someone else will take them for you by adopting your
standard and spreading it. However, if the number of content types in
the world was directly proportional to the number of applications in the
world we would be no closer to a RESTful world-wide architecture.

The power of the web is that we agree on common content types as well as
common methods. This agreement permits us to use a single family of web
browsers to access a range of websites across a range of industries. In
fact, a *huge* range of websites across a *huge* range of industries.
HTML is so flexible it affords humans unprecedented access to data
though a small set of technology.

Humans have minds that are able to interpret data written in natural
language, and often have other equipment that allows them to interpret
images and other content. Machines of the present day are not so
fortunate. The end goal of content type definition in REST is to define
content types to convey to a machine all of the semantics along with our
information a machine might want to act upon. In other circles this has
been tied to RDF and called the semantic web. RDF remains an unproven
technology for the transfer of information, but XML with a
human-readable specification and registered content type combined with
REST provides a known basis for building a semantic web[2].

If existing standards are too complex they should not be used. If no
useful standards can be found, inventing your own is the right thing to
do and should not be discouraged. However, if your web site is the only
one that produces content of a particular type you have not yet in my
opinion achieved a RESTful outcome. Ideally, all other sites that
publish similar information should do it using the same content type as
you are using. This gives a client with reasonable knowledge of common
content types to access diffent sites owned by different entities, and
still be able to interact with them.

I personally think the microformatters are right in their focus on
identity, time and date, and location. These are universal concepts that
can be applied across the world. I think that when asked, any
RESTafarian should be able to respond with the standard content type
that should be used to convey such information. The fact that we can't
suggests to me that we need more organisation on the content-type front.
I think we also need to be able to point to a particular place or
community that supports the standardisation of new content types along
the lines of the microformat community.

&gt; Of course, this all presupposes that you're sitting on top of HTTP. 
&gt; There are RESTful systems that use other, non-HTTP protocols though 
&gt; they're uncommon in practice. REST is an architecture. It is not
&gt; limited 
&gt; to HTTP, though I've personally never found a need to use any other 
&gt; protocol for a REST system.

I am only just starting to use HTTP in the RESTful migration I have been
performing on the software I work with professionally. The whole system
has used proprietary protocols in the past and large software bases
require small and careful steps to be taken on the way to architectural
improvement. My tutorial emerged from experiences in this migration.

I have integrated support for accessing HTTP services in the latest
release, and have included HTTP server software that is presently
unused. The migration to real HTTP should have been achieved in a couple
of releases time.

Benjamin.
[1] http://rest.blueoxen.net/cgi-bin/wiki.pl?MinimumMethods
[2] http://rest.blueoxen.net/cgi-bin/wiki.pl?ContentTypeAsOntology
[3] http://rest.blueoxen.net/cgi-bin/wiki.pl?BenjaminsRESTTutorial


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6608<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-10-02 21:08:45<br>
Subject:Re: A community for REST Content Type development,	Was:	[rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>On Sun, 2006-10-01 at 10:49 +0200, Jan Algermissen wrote:
&gt; On Oct 1, 2006, at 8:32 AM, Benjamin Carlyle wrote:
&gt; &gt; We should leverage, replicate or integrate with the success of
&gt; &gt; microformats in defining standard content types.
&gt; I wonder if we shouldn't then have a new 'family' of media types, e.g.
&gt; '+xhtml' so clients can dispatch correctly or use the fall-back if the
&gt; compound type is not understood (as with \+xml').
&gt; E.g: text/calendar+xhtml

I don't think we can successfully negotiate between different
microformatted documents, and even identifying whether a particular html
document is microformatted during negotiation is drawing a long bow.
Like rdf, microformats are hampered in our ability to negotiate by
capturing multiple standards within the one document. Multiple
ontologies are enclosed in an rdf, and nearly-so for microformats.

The saving grace for micformats may be the rigid control wielded by
Tantek to ensure that there is a single namespace for microformats and a
single recognised place where microformats are specified. If the
community split there may be more problems, but for now you could argue
that microformats are still describing a single ontology, though one
that is described in a modular fashion across multiple documents.

Microformats also have an edge over "straight" RESTafarianism. They have
a lot of source information to work from when devloping a standard. They
will only standardise encoding for information already widely published
on the web, and only when several attempts have already been made to
define content types for the information. Their process is then to
cherry-pick the best fits to examples in the wild.

A similar approach may be able to be taken by RESTafarians defining new
content types. Using information available on the web may still be a
viable way to collect samples. As to how these would fit with
applications that need to use the type, well that would still be
something of an unknown.

Benjamin.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6609<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-10-02 20:59:15<br>
Subject:Re: The REST information layer Was: A community for REST Content Type  development<br>
Message:<br><br>
<pre>Benjamin Carlyle &lt;benjamincarlyle@...&gt; writes:

&gt; I sometimes wonder if the object/relational mapping problem could be
&gt; solved by not attempting to interact between the two directly. Each
&gt; could treat the other as a separate RESTful service and would not know
&gt; whether it was object-oriented or relational under the resource
&gt; layer.

Note that I am not talking about the relational model. I am talking
about the common architectural practice of writing RESTfull stored
procs on top of the relational model.

Until Roy's thesis came along I'm not aware we had a name for this
practice but most of the people I know who hack on databases are aware
and happy with the pattern.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6610<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-10-02 21:23:13<br>
Subject:Re: A community for REST Content Type development, Was:	[rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>Benjamin,

On Oct 2, 2006, at 11:08 PM, Benjamin Carlyle wrote:

&gt; On Sun, 2006-10-01 at 10:49 +0200, Jan Algermissen wrote:
&gt;&gt; On Oct 1, 2006, at 8:32 AM, Benjamin Carlyle wrote:
&gt;&gt;&gt; We should leverage, replicate or integrate with the success of
&gt;&gt;&gt; microformats in defining standard content types.
&gt;&gt; I wonder if we shouldn't then have a new 'family' of media types,  
&gt;&gt; e.g.
&gt;&gt; '+xhtml' so clients can dispatch correctly or use the fall-back if  
&gt;&gt; the
&gt;&gt; compound type is not understood (as with \+xml').
&gt;&gt; E.g: text/calendar+xhtml
&gt;
&gt; I don't think we can successfully negotiate between different
&gt; microformatted documents, and even identifying whether a particular  
&gt; html
&gt; document is microformatted during negotiation is drawing a long bow.
&gt; Like rdf, microformats are hampered in our ability to negotiate by
&gt; capturing multiple standards within the one document. Multiple
&gt; ontologies are enclosed in an rdf, and nearly-so for microformats.

That is an excellent observation and comparision! 100% agreed.

&gt;
&gt; The saving grace for micformats may be the rigid control wielded by
&gt; Tantek to ensure that there is a single namespace for microformats  
&gt; and a
&gt; single recognised place where microformats are specified. If the
&gt; community split there may be more problems, but for now you could  
&gt; argue
&gt; that microformats are still describing a single ontology, though one
&gt; that is described in a modular fashion across multiple documents.

As long as one can usefully implement client software that has built-in
awareness of the various microformats the approach is fine. As allways,
time will tell what gets adopted and what not. Developers just do face
the burdon of tracking that process with implementations (that is not
so very different with 'real' standards, BTW)

&gt;
&gt; Microformats also have an edge over "straight" RESTafarianism. They  
&gt; have
&gt; a lot of source information to work from when devloping a standard.  
&gt; They
&gt; will only standardise encoding for information already widely  
&gt; published
&gt; on the web, and only when several attempts have already been made to
&gt; define content types for the information. Their process is then to
&gt; cherry-pick the best fits to examples in the wild.

Yes, and their symbiotic relationship with their host-format is next
to ideal. I wonder if/when Atom becomes a host for them. OTH, maybe
the relationship we see now with Atom/APP and Atom extensions is
conceptually equivalent to the one between HTML and microformats.
While Atom does the heavy work extension developers can focus on
hitting the 80/20 point with their semantics.

&gt;
&gt; A similar approach may be able to be taken by RESTafarians defining  
&gt; new
&gt; content types. Using information available on the web may still be a
&gt; viable way to collect samples. As to how these would fit with
&gt; applications that need to use the type, well that would still be
&gt; something of an unknown.

Jan


&gt;
&gt; Benjamin.
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6611<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-10-02 21:26:43<br>
Subject:Re: RDF as a self-descriptive content-type?<br>
Message:<br><br>
<pre>On Mon, 2006-10-02 at 17:38 +0200, Max Völkel wrote:
&gt; &gt; “REST enables intermediate processing by constraining messages to be
&gt; &gt; self-descriptive: interaction is stateless between requests, standard
&gt; &gt; methods and media types are used to indicate semantics and exchange
&gt; &gt; information, and responses explicitly indicate cacheability.”
&gt; &gt;         —Roy Fielding
&gt; Wouldn't  RDF  be  ideal to have self-described content? RDF Schema or
&gt; OWL  could  be  use to describe the data, all in one single RDF graph,
&gt; delivered as application/rdf+xml

At the moment I don't think there is strong evidence that RDF Schema or
OWL form useful descriptions of the semantics their corresponding
documents convey. I don't think there is strong evidence that RDF is a
good model or that its encodings are good formats for transferring
information. RDF is harder to process into internal representations than
XML, and it is the internal representations that programs work from: Not
the abstract RDF graph. Semantics (what the program will do with it) are
then described in program code that operates on the data. The best
schema will be one that the author of the program code understands. The
semantic meaning of particular content type data is transferred out of
band through that programmer.

My opinion is that best practice for content-type (i.e. ontology)
definition is to encode data in XML, and specify it through a
community-driven process as a human-oriented text.

Benjamin.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6612<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-10-02 21:47:45<br>
Subject:Re: A community for REST Content Type development,  Was:	[rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>Benjamin Carlyle &lt;benjamincarlyle@...&gt; writes:

&gt; Microformats also have an edge over "straight" RESTafarianism. They have
&gt; a lot of source information to work from when devloping a standard. They
&gt; will only standardise encoding for information already widely published
&gt; on the web, and only when several attempts have already been made to
&gt; define content types for the information. Their process is then to
&gt; cherry-pick the best fits to examples in the wild.
&gt;
&gt; A similar approach may be able to be taken by RESTafarians defining new
&gt; content types. Using information available on the web may still be a
&gt; viable way to collect samples. As to how these would fit with
&gt; applications that need to use the type, well that would still be
&gt; something of an unknown.

I think you're mistakenly overstating the importance of the data
format in a RESTfull system.

It is important that the data format be self-describing in as much as
you need to be able to find out, from an entity you have recieved,
what further entities you can get to and how. But no more than
that. REST is not for defining what an application does with data
outside of interactions.

A list of invoices might be represented in ATOM. But a list of
transactions might also be an ATOM list because ATOM can include
complex data in the content element. 

It's not a standard to represent invoices or transactions in this
way. But it would work right? And there is no standard for lists of
invoices as far as I'm aware (there probably is one for transactions).


Another advantage of REST (which Roy was drawing out) is that we don't
always need to rely on heavily standardized data formats. Often such
formats are invented for particular operations (say B2B conversations)
and are ill suited to the sort of light operations that many REST
interactions involve.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6613<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-10-02 22:09:30<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>On Oct 2, 2006, at 8:37 AM, Mark Baker wrote:
&gt; On 10/1/06, Roy T. Fielding &lt;fielding@...&gt; wrote:
&gt; &gt; Well, so do I. Self-descriptive means that the type is registered  
&gt; and
&gt; &gt; the registry points to a specification and the specification  
&gt; explains
&gt; &gt; how to process the data according to its intent.
&gt;
&gt; Ok, which one is it? 8-)
&gt;
&gt; "REST enables intermediate processing by constraining messages to be
&gt; self-descriptive: interaction is stateless between requests, standard
&gt; methods and media types are used to indicate semantics and exchange
&gt; information, and responses explicitly indicate cacheability."

Both.  That is just a summary.  The real constraint you are looking
for is under 5.2.1:

    REST provides a hybrid of all three options by focusing on a
    shared understanding of data types with metadata, but limiting
    the scope of what is revealed to a standardized interface.
    REST components communicate by transferring a representation of
    a resource in a format matching one of an evolving set of standard
    data types, selected dynamically based on the capabilities or
    desires of the recipient and the nature of the resource. Whether
    the representation is in the same format as the raw source, or is
    derived from the source, remains hidden behind the interface. ...

This is one of those gray areas of increasing RESTfulness that will
doubtless drive some people nuts.  The problem is that I can't say
"REST requires media types to be registered" because both Internet
media types and the registry controlled by IANA are a specific
architecture's instance of the style -- they could just as well be
replaced by some other mechanism for metadata description.

The broader question is what does it take to create an *evolving*
set of standard data types?  Obviously, I can't say that all data
types have to be *the* standard before they are used in a REST-based
architecture.  At the same time, I do require enough standardization
to allow the data format sent to be understood as such by the
recipient.  Hence, both sender and recipient agree to a common
registration authority (the standard) for associating media types
with data format descriptions.  The degree to which the format chosen
is a commonly accepted standard is less important than making sure
that the sender and recipient agree to the same thing, and that's
all I meant by an evolving set of standard data types.

Sure, it is easier to deploy the use of a commonly understood data
format.  However, it is also more efficient to use a format
that is more specifically intended for a given application.
Where those two trade-offs intersect is often dependent on the
application.  REST does not demand that everyone agree on a single
format for the exchange of data -- only that the participants in the
communication agree.  Beyond that, designers need to apply their
own common sense and choose/create the best formats for the job.

If we want to call one more RESTful than the other, then we have
to take the goal of evolution into account.  I would say it is more
RESTful to use a specific standard type when applicable or to define
a new type that is specific to a given purpose AND intended to be
standardized for that application type (i.e., proprietary types are
less RESTful than industry-wide standard types, but new standard
types are not less RESTful than old standard types).  But that is
really only my personal preference, since the style does not
constrain REST-based architectures to a single standard.

....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6614<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-10-02 22:45:45<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>Duncan Cragg &lt;duncan@...&gt; writes:

&gt; Indeed, what problems does it cause with a consumer of the XML, assuming 
&gt; they can spot the schema on the first line and/or figure out what 
&gt; they've got by a little scanning around the elements?

The trouble is the HEAD of the resource will tell you nothing.

And what if you're trying to do content-neg across 2 different
documents:

- a BPEL invoice description

- a simple XML based description of an invoice


If both are signified with application/xml you cannot content-neg
across them.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6615<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-10-02 23:00:33<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>
On Oct 2, 2006, at 4:15 AM, Elliotte Harold wrote:

&gt; Roy T. Fielding wrote:
&gt;
&gt; &gt; Well, so do I. Self-descriptive means that the type is registered  
&gt; and
&gt; &gt; the registry points to a specification and the specification  
&gt; explains
&gt; &gt; how to process the data according to its intent.
&gt;
&gt; Data doesn't have intent.

I meant the sender's intent, of course.

I explained it more concretely for the more concrete subject of
the web architecture:

    http://www.w3.org/2001/tag/doc/mime-respect.html

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6616<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-10-02 23:14:46<br>
Subject:Re: A community for REST Content Type deevelopment, Was:	[rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>On Oct 2, 2006, at 3:58 AM, Elliotte Harold wrote:
&gt; Would that that were true. Fact is, most (all?) existing web browsers
&gt; implement only about half of what's necessary for a full REST
&gt; implementation: GET and POST but not PUT and DELETE. HTML forms and
&gt; XForms 1.0 don't even allow PUT and DELETE as actions. :-(

It would have been nice if the W3C had used its influence in the
browser space to define standards for browser UI.  Things like
session logout, usable login dialogs, and the lack of standard
affordances for PUT, DELETE, etc., are all left undone because
"that's how Mosaic did it" was the only standard that mattered.

I thought that WHATWG was going to pick up the slack on some of
those undefined standards-in-waiting, but apparently not.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6617<br>
Sender:Duncan Cragg &lt;rest-discuss@...&gt;<br>
Post Date/Time:2006-10-02 23:33:42<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>
 &gt;&gt; One point about this is that you can use a registered type such as
 &gt;&gt; application/xml but that doesn't really specify anything about the

 &gt;&gt; data does it? Only that it conforms to the simplest syntactic
 &gt;&gt; constraints.

 &gt; Right, I would not use "application/xml" for anything useful.
 &gt; The argument that people can look inside at the root element
 &gt; died a long time ago (shortly after the people making it tried
 &gt; to build an intermediary).

Roy: I would very much like you to elaborate on this comment!

Clearly there's a difference between a header declaring the type of 
stuff being transferred and the schema of that stuff, but once you've 
got up to XML, surely it's safe to transfer over from Content-Type to 
(explicit or implicit) schema? 

What problems does it cause with intermediaries to only specify the 
low-level types (say, charset and the fact that it's XML)?

Indeed, what problems does it cause with a consumer of the XML, assuming 
they can spot the schema on the first line and/or figure out what 
they've got by a little scanning around the elements?

Sorry if this is a naive request!   =0)

Cheers!

Duncan Cragg

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6618<br>
Sender:"Robert Sayre" &lt;sayrer@...&gt;<br>
Post Date/Time:2006-10-03 01:16:19<br>
Subject:Re: A community for REST Content Type deevelopment, Was: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>On 10/2/06, Roy T. Fielding &lt;fielding@...&gt; wrote:
&gt;
&gt;  It would have been nice if the W3C had used its influence in the
&gt;  browser space to define standards for browser UI.  Things like
&gt;  session logout, usable login dialogs, and the lack of standard
&gt;  affordances for PUT, DELETE, etc., are all left undone because
&gt;  "that's how Mosaic did it" was the only standard that mattered.
&gt;
&gt;  I thought that WHATWG was going to pick up the slack on some of
&gt;  those undefined standards-in-waiting, but apparently not.

WHAT-WG specs are really big, so you have to look closely. It doesn't
help that they are breaking off chunks and taking them to W3C. For
example, here is what's they've done for PUT/DELETE in forms:

http://www.w3.org/TR/web-forms-2/#for-http

I'd be curious to hear the history on session logout, usable login
dialogs. Have any pointers or information?

-- 

Robert Sayre

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6619<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-10-03 02:22:19<br>
Subject:Re: A community for REST Content Type deevelopment, Was: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>On Oct 2, 2006, at 6:16 PM, Robert Sayre wrote:
&gt; On 10/2/06, Roy T. Fielding &lt;fielding@...&gt; wrote:
&gt; &gt;
&gt; &gt; It would have been nice if the W3C had used its influence in the
&gt; &gt; browser space to define standards for browser UI. Things like
&gt; &gt; session logout, usable login dialogs, and the lack of standard
&gt; &gt; affordances for PUT, DELETE, etc., are all left undone because
&gt; &gt; "that's how Mosaic did it" was the only standard that mattered.
&gt; &gt;
&gt; &gt; I thought that WHATWG was going to pick up the slack on some of
&gt; &gt; those undefined standards-in-waiting, but apparently not.
&gt;
&gt; WHAT-WG specs are really big, so you have to look closely. It doesn't
&gt; help that they are breaking off chunks and taking them to W3C. For
&gt; example, here is what's they've done for PUT/DELETE in forms:
&gt;
&gt; http://www.w3.org/TR/web-forms-2/#for-http

Yikes.  Looks like they need a clue-stick about security.

Standard UI affordances are like "hypertext = GET, button = POST,
fancy-red-X = DELETE, upload-arrow = PUT, ... basically, common idioms
that represent the action and allow the user to be aware of the type
of action being requested before it is selected.  (One of the more
commonly cited examples was a Boeing design for an airplane's
landing gear control, which is shaped like landing gear so that
it is distinguished from all of the other controls.  It doesn't
really matter what they are -- they just have to be different for
each one and used consistently within a given browser.  Such affordances
were actually required by HTML back when I was involved.

&gt; I'd be curious to hear the history on session logout, usable login
&gt; dialogs. Have any pointers or information?

Nothing specific off-hand.  All you need to logout of an HTTP session
is a UI for telling the browser to stop sending its cached credential,
which was obvious to everyone except the browser developers.  Likewise,
if the browser displayed the HTTP message sent with a 401 response, then
application developers could easily define their own custom login
dialogs.  That is all part of the design of URI+HTTP+HTML -- the only
bit missing was one implementation to show all the others how to do it.

....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6620<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-10-03 02:42:03<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>On Oct 2, 2006, at 4:33 PM, Duncan Cragg wrote:

&gt; Clearly there's a difference between a header declaring the type of  
&gt; stuff being transferred and the schema of that stuff, but once  
&gt; you've got up to XML, surely it's safe to transfer over from  
&gt; Content-Type to (explicit or implicit) schema?

No.  What is the content difference between an archived invoice and
an invoice that I expect you to pay right now?  There shouldn't be any.
The difference should be expressed in the action (method) and the
metadata (media type), not by changing the content.  That is only  
possible
in a system that alters the media type based on the reason the  
content is
being viewed (i.e., the resource), which in turn is only possible if
we don't rely on a single meaningless media type for message exchanges.

&gt; What problems does it cause with intermediaries to only specify the  
&gt; low-level types (say, charset and the fact that it's XML)?

Intermediaries cannot find the schema inside an XML body fast enough
to keep up with Internet-scale systems, and even if they could that
is not sufficient information to tell the system how the sender intended
the message to be interpreted.  The media type tells the recipient how
the sender expects it to be processed, not just what the format is.

&gt; Indeed, what problems does it cause with a consumer of the XML,  
&gt; assuming they can spot the schema on the first line and/or figure  
&gt; out what they've got by a little scanning around the elements?

Because if one component believes that "text/xml" messages are safe
and another component believes that "text/xml" messages should be
treated like a dynamic invocation interface, then the only way to
prevent a security hole is to block all XML content.  We have to all
agree that "text/xml" will be processed in a specific, safe manner,
and some dangerous stuff can be related to "application/flash+xml"
and other specific media types.

That way we can make a conscious decision to block dangerous content
only when it is used in a dangerous way.  (Some people will block all
dangerous content anyway, but that is a separate issue.)

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6621<br>
Sender:Seairth Jacobs &lt;seairth@...&gt;<br>
Post Date/Time:2006-10-03 03:06:44<br>
Subject:Authorize before or after making sure resource exists?<br>
Message:<br><br>
<pre>Suppose you have a URI that takes the form "http://example.com/foo/xxx" 
where "xxx" could be just about anything.  Now suppose further that any 
of the resources that begin with "http://example.com/foo" require 
authorization.  There are two ways this could be handled in code:

   1. look for the "http://example.com/foo" prefix, then send a 401
      response if the user has not given authentication information.
   2. look and make sure full URI is a valid resource, then send a 401
      response if the user has not given authentication information.

Each approach appears to have both advantages and disadvantages.

Approach 1 (look for prefix):

    * good: easy to implement
    * good: an entire range (read "nearly infinite") of URIs are
      obscured.  In other words, you don't even know if a resource
      exists if you haven't authenticated.
    * bad:  supposing that a 401 response implies that the referenced
      resource exists, then returning a 404 Not Found after
      authenticating would seem wrong.

Approach 2 (check for resource existence first):

    * good: ensures that you only return a 401 response for actual
      resources.
    * bad: it may be harder to implement
    * bad: this would potentially allow someone to map out the edges of
      restricted areas.  At least this seems like a bad thing to me,
      considering that many URIs tend to have (potentially valuable)
      information embedded in them (even if we state that they are to be
      treated as opaque strings by the client).

Admittedly, I may have overlooked some pros/cons for each side, but as 
it stands, the first approach looks more positive.  On the other hand, 
the second approach just feels more "proper".

So which should it be?

Seairth
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6622<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2006-10-03 13:20:15<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>On 10/2/06, Roy T. Fielding &lt;fielding@...&gt; wrote:
&gt; On Oct 2, 2006, at 4:33 PM, Duncan Cragg wrote:
&gt;
&gt; &gt; Clearly there's a difference between a header declaring the type of
&gt; &gt; stuff being transferred and the schema of that stuff, but once
&gt; &gt; you've got up to XML, surely it's safe to transfer over from
&gt; &gt; Content-Type to (explicit or implicit) schema?
&gt;
&gt; No.  What is the content difference between an archived invoice and
&gt; an invoice that I expect you to pay right now?  There shouldn't be any.
&gt; The difference should be expressed in the action (method) and the
&gt; metadata (media type), not by changing the content.  That is only
&gt; possible
&gt; in a system that alters the media type based on the reason the
&gt; content is
&gt; being viewed (i.e., the resource), which in turn is only possible if
&gt; we don't rely on a single meaningless media type for message exchanges.

Just to make sure I understand, you advocate a separate media type for
an invoice that the sender intends to be submitted for payment vs one
that is intended to be archived, correct?

Has anybody actually done anything like that?

And in the phrase "a system that alters the media type based on the reason the
content is being viewed (i.e., the resource)", do you mean that a
different media type goes with a different resource, or that a
different media type indicates a different reason for viewing the
content of the same resource?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6623<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-10-03 17:47:12<br>
Subject:Re: [rest-discuss] Authorize before or after making sure resource exists?<br>
Message:<br><br>
<pre>Seairth Jacobs &lt;seairth@...&gt; writes:

&gt;    1. look for the "http://example.com/foo" prefix, then send a 401
&gt;       response if the user has not given authentication information.
&gt;    2. look and make sure full URI is a valid resource, then send a 401
&gt;       response if the user has not given authentication information.

&lt;snip/&gt;

&gt; So which should it be?

1.

Because /foo is the bit you say you're protecting. Resources under
/foo might be quite dynamic. A resource might not exist until you
create it; eg:

  PUT /foo/nics-opinion-on-the-subject HTTP/1.1
  Host: example.com
 
  opinion=it+should+be+the+first



-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6624<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-10-03 18:33:45<br>
Subject:Re: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>On Oct 3, 2006, at 6:20 AM, Bob Haugen wrote:
&gt; On 10/2/06, Roy T. Fielding &lt;fielding@...&gt; wrote:
&gt; &gt; No. What is the content difference between an archived invoice and
&gt; &gt; an invoice that I expect you to pay right now? There shouldn't be  
&gt; any.
&gt; &gt; The difference should be expressed in the action (method) and the
&gt; &gt; metadata (media type), not by changing the content. That is only
&gt; &gt; possible
&gt; &gt; in a system that alters the media type based on the reason the
&gt; &gt; content is
&gt; &gt; being viewed (i.e., the resource), which in turn is only possible if
&gt; &gt; we don't rely on a single meaningless media type for message  
&gt; exchanges.
&gt;
&gt; Just to make sure I understand, you advocate a separate media type for
&gt; an invoice that the sender intends to be submitted for payment vs one
&gt; that is intended to be archived, correct?

It is just an example.  Think of it this way: your browser receives
two messages, one says it is application/quicken and the other says
it is application/logfile.  Both have identical content consisting
of an invoice.  Should your browser assume that both should be
processed as an invoice just because they have the same content?
Why should the browser behave any differently if the data format
happens to be an instance of XML?
&gt; Has anybody actually done anything like that?

Not that I know of.  It is a more extreme example of the "view source"
resource that I explained in the metadata finding.

&gt; And in the phrase "a system that alters the media type based on the  
&gt; reason the
&gt; content is being viewed (i.e., the resource)", do you mean that a
&gt; different media type goes with a different resource, or that a
&gt; different media type indicates a different reason for viewing the
&gt; content of the same resource?

I meant different resource: same body, different metadata.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6625<br>
Sender:"Robert Sayre" &lt;sayrer@...&gt;<br>
Post Date/Time:2006-10-03 19:00:29<br>
Subject:Re: A community for REST Content Type deevelopment, Was: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>On 10/2/06, Roy T. Fielding &lt;fielding@...&gt; wrote:
&gt;
&gt; Standard UI affordances are like "hypertext = GET, button = POST,
&gt; fancy-red-X = DELETE, upload-arrow = PUT, ... basically, common idioms
&gt; that represent the action and allow the user to be aware of the type
&gt; of action being requested before it is selected.

Hmm. I'm puzzled about how to present what it is they're going to
PUT/DELETE. Don't yet see an action here.

&gt;
&gt; Nothing specific off-hand.  All you need to logout of an HTTP session
&gt; is a UI for telling the browser to stop sending its cached credential,
&gt; which was obvious to everyone except the browser developers.

Oh... you mean stop sending HTTP authentication credentials (I was
thinking cookies). Yah, we need an HTML widget for that. Firefox
already has that functionality exposed in chrome. I'll see if I can
get that implemented... I can do the backend, but I might need help to
implement the widget.

-- 

Robert Sayre

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6626<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-10-03 19:33:39<br>
Subject:Re: A community for REST Content Type deevelopment, Was: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>On Oct 3, 2006, at 12:00 PM, Robert Sayre wrote:

&gt; On 10/2/06, Roy T. Fielding &lt;fielding@...&gt; wrote:
&gt;&gt;
&gt;&gt; Standard UI affordances are like "hypertext = GET, button = POST,
&gt;&gt; fancy-red-X = DELETE, upload-arrow = PUT, ... basically, common  
&gt;&gt; idioms
&gt;&gt; that represent the action and allow the user to be aware of the type
&gt;&gt; of action being requested before it is selected.
&gt;
&gt; Hmm. I'm puzzled about how to present what it is they're going to
&gt; PUT/DELETE. Don't yet see an action here.

That would depend on what was being deleted.  It could be a button
on the browser frame for "delete this resource", or it could be an
icon next to each entry on a page that looks like a folder tree, or
it could be a button on the bottom of a scrollable list of URI
references, or it could be a button next to the edit link on a blog
entry.  I am sure there are other URIs that could be deleted, so
basically anything for which the client has a URI could be a
potential target for a DELETE, though it would only be presented
as such when appropriate or when the current page requests it in the
form of an &lt;input method="DELETE"&gt; (or something like it).

Likewise for PUT.  Every MS application has the same icon for
"Save to disk" -- we should have one for "Save to Web" too.

&gt;&gt; Nothing specific off-hand.  All you need to logout of an HTTP session
&gt;&gt; is a UI for telling the browser to stop sending its cached  
&gt;&gt; credential,
&gt;&gt; which was obvious to everyone except the browser developers.
&gt;
&gt; Oh... you mean stop sending HTTP authentication credentials (I was
&gt; thinking cookies). Yah, we need an HTML widget for that. Firefox
&gt; already has that functionality exposed in chrome. I'll see if I can
&gt; get that implemented... I can do the backend, but I might need help to
&gt; implement the widget.

Yep, there's nothing we can do about cookie auth aside from removing
the reasons to use it.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6627<br>
Sender:Scott Chapman &lt;scott_list@...&gt;<br>
Post Date/Time:2006-10-03 20:50:24<br>
Subject:Re: A community for REST Content Type deevelopment, Was: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>Roy T. Fielding wrote:
&gt; Yep, there's nothing we can do about cookie auth aside from removing
&gt; the reasons to use it.

As I understand it, the reason to use cookie auth is the stateless nature of 
the protocol.  That's not going to change.

How will auth be handled in the future?

Scott


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6628<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-10-03 20:56:07<br>
Subject:Re: A community for REST Content Type deevelopment, Was: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>On Oct 3, 2006, at 1:50 PM, Scott Chapman wrote:

&gt; Roy T. Fielding wrote:
&gt;&gt; Yep, there's nothing we can do about cookie auth aside from removing
&gt;&gt; the reasons to use it.
&gt;
&gt; As I understand it, the reason to use cookie auth is the stateless  
&gt; nature of the protocol.  That's not going to change.

HTTP auth is every bit as stateful as cookie auth -- in both cases
the state is managed in the client.  The only real difference is that
the client doesn't know what it is managing when it comes to cookie
auth, and thus ends up leaking security credentials all over the place.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6629<br>
Sender:Scott Mohekey &lt;scott.mohekey@...&gt;<br>
Post Date/Time:2006-10-04 01:52:28<br>
Subject:PUT/POST Confusion<br>
Message:<br><br>
<pre>I've been researching REST for some weeks now and have come across many
different interpretations. In general, they all seem to agree on the
definition of what GET and DELETE should do, however they can vary
wildly in what the proper definition of PUT and POST are.

So, in an effort to clarify this, I have a number of use cases that I'd
like to present, and hopefully generate some discussion as to how they
would be implemented.

Firstly though, a description of the resources in the problem space:

Vehicle: A vehicle has a set of data associated with it, typically
license details, maintenance records etc. 

Fleet: A fleet is a collection of vehicles, it has a name and other
similar properties. A single vehicle can be in more than one fleet.

I have tentatively mapped these in the url space as follows:

/vehicles/{fleet}/{vehicle}

There is also an implicit All fleet that contains all of the vehicles.

So now we have that out of the way, we come to the use cases:

1. Creating a fleet.
2. Modifying a fleet.
3. Creating a vehicle.
4. Modifying a vehicle.
5. Moving a vehicle from one fleet to another.

My initial thoughts were that 1, and 3 should be handled via PUT, and 2,
and 4 with POST. I have no idea how 5 would be handled, a POST?

Anyway, I'd greatly appreciate any help on this as I'm totally confused.

Scott.






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6630<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-10-04 02:32:47<br>
Subject:Re: [rest-discuss] PUT/POST Confusion<br>
Message:<br><br>
<pre>Correction...

&gt; &gt; 3. Creating a vehicle.
&gt;
&gt; POST to the Location header returned in (1)
&gt;
&gt; &gt; 4. Modifying a vehicle.
&gt; PUT to the URI returned in the Location header in (2)

s/2/3/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6631<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-10-04 02:25:59<br>
Subject:Re: [rest-discuss] PUT/POST Confusion<br>
Message:<br><br>
<pre>&gt;
&gt; So now we have that out of the way, we come to the use cases:
&gt;
&gt; 1. Creating a fleet.

POST to the "All fleets" URI

&gt; 2. Modifying a fleet.
PUT to the URI returned in the Location header in (1)

&gt; 3. Creating a vehicle.

POST to the Location header returned in (1)

&gt; 4. Modifying a vehicle.
PUT to the URI returned in the Location header in (2)

&gt; 5. Moving a vehicle from one fleet to another.

You want to do this atomically so it's probably not good to do  a
DELETE followed by a POST. You would just have to POST an entity
describing the transfer to some special "transfer" URI.

Hugh

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6632<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-10-04 02:42:47<br>
Subject:Re: [rest-discuss] PUT/POST Confusion<br>
Message:<br><br>
<pre>Since this is a FAQ, perhaps pointing to the RESTwiki's RestFaq page
would be in order;

http://rest.blueoxen.net/cgi-bin/wiki.pl?RestFaq#nid1UP

I recommend Elliotte's explanation, linked there.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6633<br>
Sender:Paul Jimenez &lt;pj@...&gt;<br>
Post Date/Time:2006-10-04 02:38:19<br>
Subject:Re: [rest-discuss] PUT/POST Confusion<br>
Message:<br><br>
<pre>
My take in general is that: PUT does a 'replace' and POST does a 'modify'.
So 

PUT /vehicles/fleetname/   &lt;data that's a list of vehicle names&gt;

will both 1) create a fleet 'fleetname' described by the specifed
representation (the list of vehicle names) or, also, 2) replace an
existing fleet 'fleetname' with the one described by the specified
representation. Whether that fleetname existed or not is essentially
immaterial - doesn't matter at all ; the PUT says "it exists now and
here's exactly the entire state of it"

A POST on the other hand is for modification without replacement.
updates. POST /vehicles/fleetname &lt;one vehicle&gt; adds that vehicle to the
fleet, or alternately, replaces the existing vehicle with that name with
the specified representation. Again, it's really the same operation.

So that handles 1-4. 5 can be done a few ways: 
 1) multiple transactions: 
        GET the vehicle, 
        DELETE the vehicle from the current fleet, 
	POST the vehicle to the new fleet
 2) if the vehicle has a list of the fleets it's in, you could POST
    an update to that vehicle that changed that list - after which
    the URI you posted to might not exist, of course :)

Just my $0.02.  Hope it helped, or was at least food for thought.

  --pj

On Wednesday, Oct 4, 2006, Scott Mohekey writes:
&gt;I've been researching REST for some weeks now and have come across many
&gt;different interpretations. In general, they all seem to agree on the
&gt;definition of what GET and DELETE should do, however they can vary
&gt;wildly in what the proper definition of PUT and POST are.
&gt;
&gt;So, in an effort to clarify this, I have a number of use cases that I'd
&gt;like to present, and hopefully generate some discussion as to how they
&gt;would be implemented.
&gt;
&gt;Firstly though, a description of the resources in the problem space:
&gt;
&gt;Vehicle: A vehicle has a set of data associated with it, typically
&gt;license details, maintenance records etc. 
&gt;
&gt;Fleet: A fleet is a collection of vehicles, it has a name and other
&gt;similar properties. A single vehicle can be in more than one fleet.
&gt;
&gt;I have tentatively mapped these in the url space as follows:
&gt;
&gt;/vehicles/{fleet}/{vehicle}
&gt;
&gt;There is also an implicit All fleet that contains all of the vehicles.
&gt;
&gt;So now we have that out of the way, we come to the use cases:
&gt;
&gt;1. Creating a fleet.
&gt;2. Modifying a fleet.
&gt;3. Creating a vehicle.
&gt;4. Modifying a vehicle.
&gt;5. Moving a vehicle from one fleet to another.
&gt;
&gt;My initial thoughts were that 1, and 3 should be handled via PUT, and 2,
&gt;and 4 with POST. I have no idea how 5 would be handled, a POST?
&gt;
&gt;Anyway, I'd greatly appreciate any help on this as I'm totally confused.
&gt;
&gt;Scott.
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; 
&gt;Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; 
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6634<br>
Sender:Scott Mohekey &lt;scott.mohekey@...&gt;<br>
Post Date/Time:2006-10-04 03:15:36<br>
Subject:Re: [rest-discuss] PUT/POST Confusion<br>
Message:<br><br>
<pre>Some of the FAQ entry appears to be inconsistent. The last paragraph in
particular, seems out of place with the rest.

All of your answers have helped to clarify this all to me greatly,
however I still have a few vague points.

Lets say I a collection resource at /vehicles/fleet1 that I've created
by doing a POST to /vehicles, and a vehicle resource
at /vehicles/fleet1/vehicle1 which I've created by doing a POST
to /vehicles/fleet1. Now if I want to change a property of fleet1
(something in its content), then I should do a PUT to /vechicles/fleet1,
correct? Does this affect vehicle1? Should it?

(Sorry for the double post Mark.)
On Tue, 2006-10-03 at 22:42 -0400, Mark Baker wrote:
&gt; Since this is a FAQ, perhaps pointing to the RESTwiki's RestFaq page
&gt; would be in order;
&gt; 
&gt; http://rest.blueoxen.net/cgi-bin/wiki.pl?RestFaq#nid1UP
&gt; 
&gt; I recommend Elliotte's explanation, linked there.
&gt; 
&gt; Mark.
&gt; 
&gt; 
&gt; 
&gt;  


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6635<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-10-04 03:31:22<br>
Subject:Re: [rest-discuss] PUT/POST Confusion<br>
Message:<br><br>
<pre>&gt; Lets say I a collection resource at /vehicles/fleet1 that I've created
&gt; by doing a POST to /vehicles, and a vehicle resource
&gt; at /vehicles/fleet1/vehicle1 which I've created by doing a POST
&gt; to /vehicles/fleet1. Now if I want to change a property of fleet1
&gt; (something in its content), then I should do a PUT to /vechicles/fleet1,
&gt; correct?

You want to PUT a complete replacement representation for vehicle1 to
/vehicles/fleet1/vehicle1.

Hugh

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6636<br>
Sender:Scott Mohekey &lt;scott.mohekey@...&gt;<br>
Post Date/Time:2006-10-04 03:36:26<br>
Subject:Re: [rest-discuss] PUT/POST Confusion<br>
Message:<br><br>
<pre>This is where I'm confused. Are you saying that by modifying a property
of fleet1, as opposed to a member of it. I have to also create
replacements for all of the members?

On Tue, 2006-10-03 at 22:31 -0500, Hugh Winkler wrote:
&gt; &gt; Lets say I a collection resource at /vehicles/fleet1 that I've
&gt; created
&gt; &gt; by doing a POST to /vehicles, and a vehicle resource
&gt; &gt; at /vehicles/fleet1/vehicle1 which I've created by doing a POST
&gt; &gt; to /vehicles/fleet1. Now if I want to change a property of fleet1
&gt; &gt; (something in its content), then I should do a PUT
&gt; to /vechicles/fleet1,
&gt; &gt; correct?
&gt; 
&gt; You want to PUT a complete replacement representation for vehicle1 to
&gt; /vehicles/fleet1/vehicle1.
&gt; 
&gt; Hugh
&gt; 
&gt; 
&gt; 
&gt;  


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6637<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-10-04 04:36:46<br>
Subject:Re: [rest-discuss] PUT/POST Confusion<br>
Message:<br><br>
<pre>On 10/3/06, Scott Mohekey &lt;scott.mohekey@...&gt; wrote:
&gt; This is where I'm confused. Are you saying that by modifying a property
&gt; of fleet1, as opposed to a member of it. I have to also create
&gt; replacements for all of the members?
&gt;

Yup. You replace the whole resource at that URI with a new one. You
would PUT a document representing the new version of the fleet.

You are wondering whether you can or should update the collection
mebers just as you might update the name property. Answer: No,
usually.

Therre are two ways to represnt the fleet resource you're describing:
a bunch of properties, like 'name', and a collection of vehicle URIs;
or as a bunch of properties, and a single URI referencing the
collection of vehicle URIs.

Either way, at the application level, you would prohibit modifying the
individual vehicle  URIs or the collection reference URI. If the
client PUTs a representation that modifies the collection, the server
either returns 4xx, or ignores that part of the request.

In your application it would just be illegal to modify the vehicles
collection any way other than POST on the fleet URI, or  PUT or DELETE
on the vehicle URI.

So to modify a fleet, PUT a new representation of it, but that
representation is constrained.

Hugh

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6638<br>
Sender:"S. Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-10-04 05:12:49<br>
Subject:RE: [rest-discuss] PUT/POST Confusion<br>
Message:<br><br>
<pre>
A subtle distinction between PUT and POST is that for PUT, the client
already knows the identifier of the resource that will be created. With
POST, the client only starts out knowing the identity of the processor and
the server will return the identifier of any newly created resource. 
There are of course many other distinctions.

&gt; -----Original Message-----
&gt; From: rest-discuss@yahoogroups.com 
&gt; [mailto:rest-discuss@yahoogroups.com] On Behalf Of Scott Mohekey
&gt; Sent: Tuesday, October 03, 2006 6:52 PM
&gt; To: rest-discuss
&gt; Subject: [rest-discuss] PUT/POST Confusion
&gt; 
&gt; I've been researching REST for some weeks now and have come 
&gt; across many different interpretations. In general, they all 
&gt; seem to agree on the definition of what GET and DELETE should 
&gt; do, however they can vary wildly in what the proper 
&gt; definition of PUT and POST are.
&gt; 
&gt; So, in an effort to clarify this, I have a number of use 
&gt; cases that I'd like to present, and hopefully generate some 
&gt; discussion as to how they would be implemented.
&gt; 
&gt; Firstly though, a description of the resources in the problem space:
&gt; 
&gt; Vehicle: A vehicle has a set of data associated with it, 
&gt; typically license details, maintenance records etc. 
&gt; 
&gt; Fleet: A fleet is a collection of vehicles, it has a name and 
&gt; other similar properties. A single vehicle can be in more 
&gt; than one fleet.
&gt; 
&gt; I have tentatively mapped these in the url space as follows:
&gt; 
&gt; /vehicles/{fleet}/{vehicle}
&gt; 
&gt; There is also an implicit All fleet that contains all of the vehicles.
&gt; 
&gt; So now we have that out of the way, we come to the use cases:
&gt; 
&gt; 1. Creating a fleet.
&gt; 2. Modifying a fleet.
&gt; 3. Creating a vehicle.
&gt; 4. Modifying a vehicle.
&gt; 5. Moving a vehicle from one fleet to another.
&gt; 
&gt; My initial thoughts were that 1, and 3 should be handled via 
&gt; PUT, and 2, and 4 with POST. I have no idea how 5 would be 
&gt; handled, a POST?
&gt; 
&gt; Anyway, I'd greatly appreciate any help on this as I'm 
&gt; totally confused.
&gt; 
&gt; Scott.
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt;  
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6639<br>
Sender:Chris Burdess &lt;dog@...&gt;<br>
Post Date/Time:2006-10-04 07:39:58<br>
Subject:Re: A community for REST Content Type deevelopment, Was: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>Scott Chapman wrote:
&gt; As I understand it, the reason to use cookie auth is the stateless nature of 
&gt; the protocol.

No. The reason to use cookie auth is that IE5/6's implementation of
digest auth, the only sensible authentication scheme to work over plain
(non-TLS) sockets, is totally broken when it comes to query parameters.

Also the use case of being authenticated, then wanting to log out and
interact with the site anonymously, is not really supported by HTTP
authentication, so if you need that use case, you currently need cookie
auth.
-- 
Chris Burdess

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6640<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-10-04 09:45:26<br>
Subject:Re: [rest-discuss] PUT/POST Confusion<br>
Message:<br><br>
<pre>Scott Mohekey wrote:

&gt; So now we have that out of the way, we come to the use cases:
&gt; 
&gt; 1. Creating a fleet.
&gt; 2. Modifying a fleet.
&gt; 3. Creating a vehicle.
&gt; 4. Modifying a vehicle.
&gt; 5. Moving a vehicle from one fleet to another.
&gt; 
&gt; My initial thoughts were that 1, and 3 should be handled via PUT, and 2,
&gt; and 4 with POST. I have no idea how 5 would be handled, a POST?
&gt; 


No. PUT does not mean CREATE and POST does not mean modify. It's 
trickier than that. PUT means create or modify at a client specified 
URL. POST means create or modify at a server specified URL. See 
http://www.elharo.com/blog/software-development/web-development/2005/12/08/post-vs-put/

-- 
﻿Elliotte Rusty Harold  elharo@...
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6641<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-10-04 10:34:29<br>
Subject:Re: A community for REST Content Type deevelopment, Was: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>Chris Burdess wrote:
&gt; Scott Chapman wrote:
&gt;&gt; As I understand it, the reason to use cookie auth is the stateless nature of 
&gt;&gt; the protocol.
&gt; 
&gt; No. The reason to use cookie auth is that IE5/6's implementation of
&gt; digest auth, the only sensible authentication scheme to work over plain
&gt; (non-TLS) sockets, is totally broken when it comes to query parameters.
&gt; 

Modern Apache's can recognize IE and work around that.

Anyone know if Microsoft has fixed this in IE7?

-- 
﻿Elliotte Rusty Harold  elharo@...
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6642<br>
Sender:Scott Mohekey &lt;scott.mohekey@...&gt;<br>
Post Date/Time:2006-10-04 20:34:29<br>
Subject:Re: [rest-discuss] PUT/POST Confusion<br>
Message:<br><br>
<pre>What I'm mostly wondering is if my definition of a resource, and the
relationship between resources represented by parent and child uris is
correct.

My understanding is that a child uri represents a child resource, and
that a PUT to the parent uri modifies just the parent resource, leaving
the children resource in tact.

Therefore, changing the name of a fleet, in my eyes, should be a PUT to
the fleet uri, which will not  modify the children of the fleet.

However, from what you say, it sounds as if you advocate that child uris
represent part of a composite resource, in which case PUTing to the
parent will indeed replace all of the children. This doesn't seem to be
a very useful approach to me, as the uri space is essentially a tree,
and mapping composites to it in such a way seems to limit it's
usefulness.

I've had a look at the blinksale api that was recently submitted for
perusal to the rest-discuss list, and it seems to agree with me.

On Tue, 2006-10-03 at 23:36 -0500, Hugh Winkler wrote:
&gt; On 10/3/06, Scott Mohekey &lt;scott.mohekey@...&gt; wrote:
&gt; &gt; This is where I'm confused. Are you saying that by modifying a
&gt; property
&gt; &gt; of fleet1, as opposed to a member of it. I have to also create
&gt; &gt; replacements for all of the members?
&gt; &gt;
&gt; 
&gt; Yup. You replace the whole resource at that URI with a new one. You
&gt; would PUT a document representing the new version of the fleet.
&gt; 
&gt; You are wondering whether you can or should update the collection
&gt; mebers just as you might update the name property. Answer: No,
&gt; usually.
&gt; 
&gt; Therre are two ways to represnt the fleet resource you're describing:
&gt; a bunch of properties, like 'name', and a collection of vehicle URIs;
&gt; or as a bunch of properties, and a single URI referencing the
&gt; collection of vehicle URIs.
&gt; 
&gt; Either way, at the application level, you would prohibit modifying the
&gt; individual vehicle URIs or the collection reference URI. If the
&gt; client PUTs a representation that modifies the collection, the server
&gt; either returns 4xx, or ignores that part of the request.
&gt; 
&gt; In your application it would just be illegal to modify the vehicles
&gt; collection any way other than POST on the fleet URI, or PUT or DELETE
&gt; on the vehicle URI.
&gt; 
&gt; So to modify a fleet, PUT a new representation of it, but that
&gt; representation is constrained.
&gt; 
&gt; Hugh
&gt; 
&gt; 
&gt; 
&gt;  


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6643<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-10-04 21:00:58<br>
Subject:Re: [rest-discuss] PUT/POST Confusion<br>
Message:<br><br>
<pre>To be precise: you could define a different media type for PUTting
than you expect for GETing from a fleet. When GETting, you would want
the fleet document to give you links to find the vehicles. When
PUTting, you would send a different kind of representation that
doesn't enumerate vehicles.

Hugh


On 10/4/06, Hugh Winkler &lt;hughw@...&gt; wrote:
&gt; On 10/4/06, Scott Mohekey &lt;scott.mohekey@...&gt; wrote:
&gt; &gt; What I'm mostly wondering is if my definition of a resource, and the
&gt; &gt; relationship between resources represented by parent and child uris is
&gt; &gt; correct.
&gt; &gt;
&gt; &gt; My understanding is that a child uri represents a child resource, and
&gt; &gt; that a PUT to the parent uri modifies just the parent resource, leaving
&gt; &gt; the children resource in tact.
&gt; &gt;
&gt; &gt; Therefore, changing the name of a fleet, in my eyes, should be a PUT to
&gt; &gt; the fleet uri, which will not  modify the children of the fleet.
&gt;
&gt; Yes.
&gt;
&gt; &gt; However, from what you say, it sounds as if you advocate that child uris
&gt; &gt; represent part of a composite resource, in which case PUTing to the
&gt; &gt; parent will indeed replace all of the children.
&gt;
&gt;
&gt; Well I tried to go to great lengths to make exactly the opposite
&gt; point. I tried to indicate that you control the semantics of PUTting
&gt; to the resource, so you can define the PUT to update only the name,
&gt; and similar properties. Ordinarily, though, if you had some other
&gt; "flat" properties like date, comments, etc., then to modify the date
&gt; you would typically send over a whole representation of the resource
&gt; that has those other properties as well.
&gt;
&gt; My previous message was just pointing out that you are in control, so
&gt; you would probably NOT want to permit modifying the collection
&gt; contents this way. I guess I made an assumption that the fleet
&gt; representation would enumerate the vehicles, but I see now that's not
&gt; the case. So you can ignore that bit about what to do with the
&gt; vehicles when updating the fleet, if you don't make the vehicles, or a
&gt; reference to them, part of the representation of a fleet.
&gt;
&gt; However, typically, a representation of a collection would contain
&gt; links, either directly or indirectly, to the members. If you don't do
&gt; that, then it sounds like you are contemplating "constructed" URIs, so
&gt; that clients would have to understand how to construct a URI  given a
&gt; fleet id and vehicle id. You probably don't want to do that. It's more
&gt; robust and restlike to follow hyperlinks embedded in each
&gt; representation yoyu get from the server. That's why I assumed you had
&gt; a link to the vehicles in a fleet's representation. This way all the
&gt; state of the app is contained in the hypertext document the client
&gt; last obtained. You can prbly think of other ways to do that. But you
&gt; will want to stay away from constructing URIs in this case I believe.
&gt;
&gt;
&gt; Hugh
&gt;


-- 
Hugh Winkler
Wellstorm Development

http://www.wellstorm.com/
+1 512 694 4795 mobile (preferred)
+1 512 264 3998 office

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6644<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-10-04 20:55:44<br>
Subject:Re: [rest-discuss] PUT/POST Confusion<br>
Message:<br><br>
<pre>On 10/4/06, Scott Mohekey &lt;scott.mohekey@...&gt; wrote:
&gt; What I'm mostly wondering is if my definition of a resource, and the
&gt; relationship between resources represented by parent and child uris is
&gt; correct.
&gt;
&gt; My understanding is that a child uri represents a child resource, and
&gt; that a PUT to the parent uri modifies just the parent resource, leaving
&gt; the children resource in tact.
&gt;
&gt; Therefore, changing the name of a fleet, in my eyes, should be a PUT to
&gt; the fleet uri, which will not  modify the children of the fleet.

Yes.

&gt; However, from what you say, it sounds as if you advocate that child uris
&gt; represent part of a composite resource, in which case PUTing to the
&gt; parent will indeed replace all of the children.


Well I tried to go to great lengths to make exactly the opposite
point. I tried to indicate that you control the semantics of PUTting
to the resource, so you can define the PUT to update only the name,
and similar properties. Ordinarily, though, if you had some other
"flat" properties like date, comments, etc., then to modify the date
you would typically send over a whole representation of the resource
that has those other properties as well.

My previous message was just pointing out that you are in control, so
you would probably NOT want to permit modifying the collection
contents this way. I guess I made an assumption that the fleet
representation would enumerate the vehicles, but I see now that's not
the case. So you can ignore that bit about what to do with the
vehicles when updating the fleet, if you don't make the vehicles, or a
reference to them, part of the representation of a fleet.

However, typically, a representation of a collection would contain
links, either directly or indirectly, to the members. If you don't do
that, then it sounds like you are contemplating "constructed" URIs, so
that clients would have to understand how to construct a URI  given a
fleet id and vehicle id. You probably don't want to do that. It's more
robust and restlike to follow hyperlinks embedded in each
representation yoyu get from the server. That's why I assumed you had
a link to the vehicles in a fleet's representation. This way all the
state of the app is contained in the hypertext document the client
last obtained. You can prbly think of other ways to do that. But you
will want to stay away from constructing URIs in this case I believe.


Hugh

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6645<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-10-04 21:18:59<br>
Subject:Re: [rest-discuss] PUT/POST Confusion<br>
Message:<br><br>
<pre>Scott Mohekey wrote:

&gt; My understanding is that a child uri represents a child resource, and
&gt; that a PUT to the parent uri modifies just the parent resource, leaving
&gt; the children resource in tact.

I don't think the REST model defines any such thing as parent or child 
resources. Certainly URIs are supposed to be opaque. There may be a 
sensible hierarchy in your application, but that's not guaranteed or 
required by the architecture. The notions of parent and child are some 
thing you can use if they're helpful to you, but you're equally free to 
ignore them.

-- 
﻿Elliotte Rusty Harold  elharo@...
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6646<br>
Sender:Scott Mohekey &lt;scott.mohekey@...&gt;<br>
Post Date/Time:2006-10-04 21:12:37<br>
Subject:Re: [rest-discuss] PUT/POST Confusion<br>
Message:<br><br>
<pre>This sounds more inline with how I'm thinking.

I do want a GET to return a reference to all vehicles/children, but I
want to be able to do a partial PUT to only update certain properties of
the fleet/parent.

Looking at the blinksale api (www.blinksale.com/api) this appears to be
exactly what they do.

On Wed, 2006-10-04 at 16:00 -0500, Hugh Winkler wrote:
&gt; To be precise: you could define a different media type for PUTting
&gt; than you expect for GETing from a fleet. When GETting, you would want
&gt; the fleet document to give you links to find the vehicles. When
&gt; PUTting, you would send a different kind of representation that
&gt; doesn't enumerate vehicles.
&gt; 
&gt; Hugh
&gt; 
&gt; 
&gt; On 10/4/06, Hugh Winkler &lt;hughw@...&gt; wrote:
&gt; &gt; On 10/4/06, Scott Mohekey &lt;scott.mohekey@...&gt; wrote:
&gt; &gt; &gt; What I'm mostly wondering is if my definition of a resource, and the
&gt; &gt; &gt; relationship between resources represented by parent and child uris is
&gt; &gt; &gt; correct.
&gt; &gt; &gt;
&gt; &gt; &gt; My understanding is that a child uri represents a child resource, and
&gt; &gt; &gt; that a PUT to the parent uri modifies just the parent resource, leaving
&gt; &gt; &gt; the children resource in tact.
&gt; &gt; &gt;
&gt; &gt; &gt; Therefore, changing the name of a fleet, in my eyes, should be a PUT to
&gt; &gt; &gt; the fleet uri, which will not  modify the children of the fleet.
&gt; &gt;
&gt; &gt; Yes.
&gt; &gt;
&gt; &gt; &gt; However, from what you say, it sounds as if you advocate that child uris
&gt; &gt; &gt; represent part of a composite resource, in which case PUTing to the
&gt; &gt; &gt; parent will indeed replace all of the children.
&gt; &gt;
&gt; &gt;
&gt; &gt; Well I tried to go to great lengths to make exactly the opposite
&gt; &gt; point. I tried to indicate that you control the semantics of PUTting
&gt; &gt; to the resource, so you can define the PUT to update only the name,
&gt; &gt; and similar properties. Ordinarily, though, if you had some other
&gt; &gt; "flat" properties like date, comments, etc., then to modify the date
&gt; &gt; you would typically send over a whole representation of the resource
&gt; &gt; that has those other properties as well.
&gt; &gt;
&gt; &gt; My previous message was just pointing out that you are in control, so
&gt; &gt; you would probably NOT want to permit modifying the collection
&gt; &gt; contents this way. I guess I made an assumption that the fleet
&gt; &gt; representation would enumerate the vehicles, but I see now that's not
&gt; &gt; the case. So you can ignore that bit about what to do with the
&gt; &gt; vehicles when updating the fleet, if you don't make the vehicles, or a
&gt; &gt; reference to them, part of the representation of a fleet.
&gt; &gt;
&gt; &gt; However, typically, a representation of a collection would contain
&gt; &gt; links, either directly or indirectly, to the members. If you don't do
&gt; &gt; that, then it sounds like you are contemplating "constructed" URIs, so
&gt; &gt; that clients would have to understand how to construct a URI  given a
&gt; &gt; fleet id and vehicle id. You probably don't want to do that. It's more
&gt; &gt; robust and restlike to follow hyperlinks embedded in each
&gt; &gt; representation yoyu get from the server. That's why I assumed you had
&gt; &gt; a link to the vehicles in a fleet's representation. This way all the
&gt; &gt; state of the app is contained in the hypertext document the client
&gt; &gt; last obtained. You can prbly think of other ways to do that. But you
&gt; &gt; will want to stay away from constructing URIs in this case I believe.
&gt; &gt;
&gt; &gt;
&gt; &gt; Hugh
&gt; &gt;
&gt; 
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6647<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-10-04 21:53:46<br>
Subject:Re: [rest-discuss] PUT/POST Confusion<br>
Message:<br><br>
<pre>Scott Mohekey wrote:

&gt; So if there is no parent child relationship, why not use flat urls?
&gt; 

You can use flat URIs if you want to.

&gt; I can understand the concept of grouping via a tree like uri space, but
&gt; get confused when I try and apply this concept to REST. Do all uris in
&gt; REST apply to a resource? Take the following as an example:

Yes, all URIs apply to a resource (unless they're 404, and even then 
arguably they identify a non-existent resource)

&gt; Let's say we're 'grouping' vehicles into fleets, then each vehicle is
&gt; essentially a child of a fleet. What I have trouble understanding is
&gt; just how it would be useful to NOT use this parent child relationship.

You can use that if you want to, but there's nothing in REST about that; 
just like there's nothing in REST about cars or fleets. Some pieces are 
unique to your application.

&gt; I can understand, and fully agree with, mapping a tree of objects to a
&gt; tree of uris, and beyond that, a graph of objects to a tree of uris with
&gt; references. I can't see the need for anything else. I'm coming from a
&gt; rather object oriented background however, and am probably being
&gt; somewhat shortsighted.

REST is not OO. Resources are not objects. You won't truly grok REST 
until you take off the object colored glasses, and work with REST on its 
own terms. It takes a while. By nature we tend to try to understand new 
things by analogy with old things, but analogies don't always work.

-- 
﻿Elliotte Rusty Harold  elharo@...
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6648<br>
Sender:Scott Mohekey &lt;scott.mohekey@...&gt;<br>
Post Date/Time:2006-10-04 21:48:09<br>
Subject:Re: [rest-discuss] PUT/POST Confusion<br>
Message:<br><br>
<pre>On Wed, 2006-10-04 at 17:18 -0400, Elliotte Harold wrote:
&gt; Scott Mohekey wrote:
&gt; 
&gt; &gt; My understanding is that a child uri represents a child resource,
&gt; and
&gt; &gt; that a PUT to the parent uri modifies just the parent resource,
&gt; leaving
&gt; &gt; the children resource in tact.
&gt; 
&gt; I don't think the REST model defines any such thing as parent or
&gt; child 
&gt; resources. Certainly URIs are supposed to be opaque. There may be a 
&gt; sensible hierarchy in your application, but that's not guaranteed or 
&gt; required by the architecture. The notions of parent and child are
&gt; some 
&gt; thing you can use if they're helpful to you, but you're equally free
&gt; to 
&gt; ignore them.

So if there is no parent child relationship, why not use flat urls?

I can understand the concept of grouping via a tree like uri space, but
get confused when I try and apply this concept to REST. Do all uris in
REST apply to a resource? Take the following as an example:

Let's say we're 'grouping' vehicles into fleets, then each vehicle is
essentially a child of a fleet. What I have trouble understanding is
just how it would be useful to NOT use this parent child relationship.

I can understand, and fully agree with, mapping a tree of objects to a
tree of uris, and beyond that, a graph of objects to a tree of uris with
references. I can't see the need for anything else. I'm coming from a
rather object oriented background however, and am probably being
somewhat shortsighted.

I guess it comes down to using what works for you.

In any event, thanks for some very informative discussion.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6649<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-10-04 23:29:42<br>
Subject:Re: [rest-discuss] PUT/POST Confusion<br>
Message:<br><br>
<pre>Scott Mohekey &lt;scott.mohekey@...&gt; writes:

&gt; My understanding is that a child uri represents a child resource, and
&gt; that a PUT to the parent uri modifies just the parent resource, leaving
&gt; the children resource in tact.

It depends on what the definition of a resource is.

I don't see any reason why PUTing to a 'parent resource' couldn't
somehow affect child resources.

Maybe I could PUT a representation of an entire fleet of vehicles to
a 'fleet' resource. 

Maybe I could also PUT a simple representation of a fleet and that
would leave the vehicles within the fleet unchanged.


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6650<br>
Sender:"j_mckitrick" &lt;j_mckitrick@...&gt;<br>
Post Date/Time:2006-10-04 22:34:08<br>
Subject:Question about xlink:role<br>
Message:<br><br>
<pre>Hi all,

I'm new to REST, and I just ran across a slide presentation about how xlink:role could be the 
key to automating the selection of xlinks from an xml message to traverse to a new URI and 
therefore a new state.

There is not a lot of info out there on xlink:role.  How exactly would this be done?  Is this 
something done in javascript to extract the role info and then decide what URL to follow 
next?









</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6651<br>
Sender:Scott Chapman &lt;scott_list@...&gt;<br>
Post Date/Time:2006-10-06 02:46:41<br>
Subject:Re: A community for REST Content Type deevelopment, Was: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>Roy T. Fielding wrote:
&gt; On Oct 3, 2006, at 1:50 PM, Scott Chapman wrote:
&gt; 
&gt;&gt; Roy T. Fielding wrote:
&gt;&gt;&gt; Yep, there's nothing we can do about cookie auth aside from removing
&gt;&gt;&gt; the reasons to use it.
 &gt;&gt;
&gt;&gt; As I understand it, the reason to use cookie auth is the stateless  
&gt;&gt; nature of the protocol.  That's not going to change.
&gt; 
&gt; HTTP auth is every bit as stateful as cookie auth -- in both cases
&gt; the state is managed in the client.  The only real difference is that
&gt; the client doesn't know what it is managing when it comes to cookie
&gt; auth, and thus ends up leaking security credentials all over the place.

How do cookies end up leaking security credentials?  If you use a cookie to 
keep only a session id is this leakage possible?  What am I missing here?

Then what are "the reasons to use it [cookie auth]", currently?

I've heard that you can't "log out" of a HTTP auth session, but I think 
javascript could accomplish that for you.

I don't like the popup form for login so I make my own with cookie sessions 
which link to server authentication.  The popup form doesn't have a link for 
new users, etc.  But I'm thinking a person could probably use their own form 
and turn it into HTTP auth using javascript?

Two people logging in using the same username and password in separate 
locations would also be a big problem in HTTP auth?

One person with multiple windows/tabs would be a problem for HTTP auth also.

Is there a way around this (besides cookies to maintain sessions) that I'm not 
aware of?  What do you have in mind?

Scott

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6652<br>
Sender:Robert Cerny &lt;robert_cerny@...&gt;<br>
Post Date/Time:2006-10-06 09:44:54<br>
Subject:Re: [rest-discuss] Question about xlink:role<br>
Message:<br><br>
<pre>&gt; There is not a lot of info out there on xlink:role. How exactly would 
&gt; this be done? Is this
&gt; something done in javascript to extract the role info and then decide 
&gt; what URL to follow
&gt; next?

As specified in [1] xlink:role is the attempt to add typed associations 
to XML. At the moment the web is a net of resources connected by untyped 
associations. If you visit a resource that represents a person, stating 
and linking to his work and recommended readings, you as a human reader 
can figure out, which papers he wrote. A spider collecting information 
about people  and their work would not be able to distinguish between 
the links. The xlink:role attribute makes it possible for a computer 
program to make that distinction and enable it e.g. to walk up a family 
tree on the the female line.

I am having doubts that the role attribute and it's application are 
considered a *topic* on this list. The reasons why a client interacts 
with resources, the way he does is here of lesser interest than what 
happens if he does and how the communication between him and the server 
should look like. *But* by incorporating the xlink:role attribute one 
could probably write more generic consumers of a RESTful API.

Kind regards,
Robert Cerny

[1] http://www.w3.org/TR/2001/REC-xlink-20010627/#link-semantics

j_mckitrick wrote:
&gt;
&gt; Hi all,
&gt;
&gt; I'm new to REST, and I just ran across a slide presentation about how 
&gt; xlink:role could be the
&gt; key to automating the selection of xlinks from an xml message to 
&gt; traverse to a new URI and
&gt; therefore a new state.
&gt;
&gt; There is not a lot of info out there on xlink:role. How exactly would 
&gt; this be done? Is this
&gt; something done in javascript to extract the role info and then decide 
&gt; what URL to follow
&gt; next?
&gt;
&gt;  


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6653<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-10-06 23:00:57<br>
Subject:Re: [rest-discuss] PUT/POST Confusion<br>
Message:<br><br>
<pre>On Tue, 2006-10-03 at 21:25 -0500, Hugh Winkler wrote:
&gt; &gt; So now we have that out of the way, we come to the use cases:
&gt; &gt; 1. Creating a fleet.
&gt; POST to the "All fleets" URI
&gt; &gt; 2. Modifying a fleet.
&gt; PUT to the URI returned in the Location header in (1)
&gt; &gt; 3. Creating a vehicle.
&gt; POST to the Location header returned in (1)
&gt; &gt; 4. Modifying a vehicle.
&gt; PUT to the URI returned in the Location header in (2)

Agreed.

&gt; &gt; 5. Moving a vehicle from one fleet to another.
&gt; You want to do this atomically so it's probably not good to do a
&gt; DELETE followed by a POST. You would just have to POST an entity
&gt; describing the transfer to some special "transfer" URI.

Here, I think the answer is subtly wrong due to the question itself
containing a subtle bug. The question assumes that it is meaningful to
move a resource from one url to another: that the resource has one
canonical name at one time and another at another time. However, cool
urls don't change.

The question reveals a bug in the underlying URL-space. If it is
possible for a vehicle to move from one fleet to another, then its name
should not include the fleet it belongs to. The fleet it belongs to
should instead be part of the content. That way, changing the fleet is
the same kind of operation as changing any other attribute of the
vehicle.

Benjamin.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6654<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-10-06 23:10:23<br>
Subject:Re: [rest-discuss] PUT/POST Confusion<br>
Message:<br><br>
<pre>Scott,

On Thu, 2006-10-05 at 10:48 +1300, Scott Mohekey wrote:
&gt; On Wed, 2006-10-04 at 17:18 -0400, Elliotte Harold wrote:
&gt; &gt; Scott Mohekey wrote:
&gt; I can understand, and fully agree with, mapping a tree of objects to a
&gt; tree of uris, and beyond that, a graph of objects to a tree of uris
&gt; with
&gt; references. I can't see the need for anything else. I'm coming from a
&gt; rather object oriented background however, and am probably being
&gt; somewhat shortsighted.

When moving from Object-Orientation to REST, it is important to fix your
analogies to the right places. In REST, a URL is like a pointer or
reference in Object-Orientation. You aren't meant to understand it. It
isn't a tree, despite having structure. A smart person might be able
interpret the just pointer and figure out some sort of relationship of
this memory block to another, however it makes more sense to look at the
pointers and references that exist within the memory rather than looking
at the pointer itself.

The same goes for REST. URLs are usually structured to avoid naming
clashes and to make sense to the server owner. Human clients may be able
to make use of this structure, but at the machine level the only real
structure to a RESTful application is the graph of hyperlinks between
resources. When you look at a fleet, you should be able see or navigate
to the list of vehicles that form part of the fleet. That doesn't mean
that the vehicles urls should include the fleet urls, in fact they
definately shouldn't if the vehicle can ever change fleets. It is just a
list.

Part of the power of this decoupling is that I can maintain a list of
vehicles that from part of my fleet without containing them on the same
server, let alone within the same path structure. That means that I can
write an application solely dedicated to fleet management, and have it
simply refer off via hyperlinks to an appliation solely dedicated to
vehicle management. By trying to interpret the urls themselves as
structure you close yourself off to these kinds of important
capabilities.

Benjamin.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6655<br>
Sender:"Justin T. Sampson" &lt;justin@...&gt;<br>
Post Date/Time:2006-10-08 07:58:31<br>
Subject:Re: [rest-discuss] PUT/POST Confusion<br>
Message:<br><br>
<pre>Thanks Benjamin for the reminder of the power of decoupled URLs.
I find it interesting that hypertext wasn't mentioned at all until
more than halfway through this thread. Even now, it has so far
only been mentioned in reference to hyperlinks from one resource
to other resources. But "hypertext is the engine of application
state" for PUT &amp; POST (such as with forms) just as it is for GET
(such as with links). The client need not guess the request method
any more than it need guess the URL structure.

Elliotte said, "PUT means create or modify at a client specified
URL. POST means create or modify at a server specified URL." But I
believe that even with PUT, it's still the server's responsibility
to specify the URL. As far as I understand, the only semantic
difference between PUT and POST is simply that PUT is required to
be idempotent and POST is not. GET is both safe &amp; idempotent; PUT
&amp; DELETE are idempotent but not safe; and POST is neither
idempotent nor safe. If my desired state transfer is not
idempotent, or if my tools (such as HTML forms) don't support PUT
&amp; DELETE, or if the operation doesn't really feel like putting or
deleting something, I'll go ahead and use POST. Otherwise, I'll
pick the one that feels most suggestive of the desired effect.

Cheers,
Justin


Benjamin Carlyle wrote:

&gt; When moving from Object-Orientation to REST, it is important to
&gt; fix your analogies to the right places. In REST, a URL is like a
&gt; pointer or reference in Object-Orientation. You aren't meant to
&gt; understand it. It isn't a tree, despite having structure. A
&gt; smart person might be able interpret the just pointer and figure
&gt; out some sort of relationship of this memory block to another,
&gt; however it makes more sense to look at the pointers and
&gt; references that exist within the memory rather than looking at
&gt; the pointer itself.
&gt;
&gt; The same goes for REST. URLs are usually structured to avoid
&gt; naming clashes and to make sense to the server owner. Human
&gt; clients may be able to make use of this structure, but at the
&gt; machine level the only real structure to a RESTful application
&gt; is the graph of hyperlinks between resources. When you look at a
&gt; fleet, you should be able see or navigate to the list of
&gt; vehicles that form part of the fleet. That doesn't mean that the
&gt; vehicles urls should include the fleet urls, in fact they
&gt; definately shouldn't if the vehicle can ever change fleets. It
&gt; is just a list.
&gt;
&gt; Part of the power of this decoupling is that I can maintain a
&gt; list of vehicles that from part of my fleet without containing
&gt; them on the same server, let alone within the same path
&gt; structure. That means that I can write an application solely
&gt; dedicated to fleet management, and have it simply refer off via
&gt; hyperlinks to an appliation solely dedicated to vehicle
&gt; management. By trying to interpret the urls themselves as
&gt; structure you close yourself off to these kinds of important
&gt; capabilities.
&gt;
&gt; Benjamin.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6656<br>
Sender:"Stelios Eliakis" &lt;eliakis@...&gt;<br>
Post Date/Time:2006-10-09 11:27:12<br>
Subject:[rest-discuss] implementation best practises<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6657<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-10-09 15:04:46<br>
Subject:Re: [rest-discuss] implementation best practises<br>
Message:<br><br>
<pre>"Stelios Eliakis" &lt;eliakis@...&gt; writes:

&gt; Hi,
&gt; I'm new to Web Services and I would like to implement a rest web service.
&gt; Do you suggest me to start for exaple with JAX-WS or with a language such as
&gt; jsp - php.
&gt; I found this:
&gt; http://java.sun.com/developer/technicalArticles/WebServices/restful/ which
&gt; use JAX-WS bu it seems to me a little bit complicated.
&gt; I thought that I could write just a php/jsp page which takes for example 2
&gt; parameters.

Yes. The Sun example you give is excellent Java: big, overcomplicated
and massively longwinded.

A simpler way to do it would be to just have a PHP or a JSP page.

These can be quite limiting though, but for simple services like the
one you're talking about they're fine.


You might want to look through the list archives because there are
several people building RESTful frameworks and mostly they mention
them here.


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6658<br>
Sender:Berend de Boer &lt;berend@...&gt;<br>
Post Date/Time:2006-10-11 02:31:31<br>
Subject:Re: A community for REST Content Type deevelopment, Was: [rest-discuss] Seeking feedback on the Blinksale API<br>
Message:<br><br>
<pre>&gt;&gt;&gt;&gt;&gt; "Scott" == Scott Chapman &lt;scott_list@...&gt; writes:

    Scott&gt; I've heard that you can't "log out" of a HTTP auth session,
    Scott&gt; but I think javascript could accomplish that for you.

No JavaScript needed: http://www.pobox.com/~berend/rest/authentication.html

-- 
Regards,

Berend. (-:

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6659<br>
Sender:"Stelios Eliakis" &lt;eliakis@...&gt;<br>
Post Date/Time:2006-10-11 16:46:47<br>
Subject:virtual links<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6660<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-10-11 21:07:26<br>
Subject:Re: [rest-discuss] virtual links<br>
Message:<br><br>
<pre>Stelios,

On Wed, 2006-10-11 at 19:46 +0300, Stelios Eliakis wrote:
&gt; I would like to ask if I could use this www.mysite.com/products?id=345
&gt; or this  www.mysite.com/products/345
&gt; in order to take the information of the product with id=345.

It is up to your server to decide what your URL structure should look
like, and which part to interpret as the product id. If the only way you
will get to product 345 is via direct links from other web pages on your
site and the sites of others, then the second form is fine and preferred
by many. However, existing HTML forms technology prefers urls to have a
query part. As such, if you want your user to type "345" into a form and
get your URL you should use the first url.

As a guess, I would think that this won't be a constraint for this
particular case. It would usually only affect the URLs that a search
form looks up. These are more likely to be something like
&lt;http://example.com/search?terms=cuddly+bear+toys&amp;maxprice=15&gt;.

Benjamin


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6661<br>
Sender:"omarshariffdontlikeit" &lt;omarshariffdontlikeit@...&gt;<br>
Post Date/Time:2006-10-12 10:12:25<br>
Subject:Communication Between REST Services<br>
Message:<br><br>
<pre>Hello everybody! 

This is my first post to the list after lurking for quite a while.
I've generally been able to find the answers to my questions by
searching the history of the list, but this is the first time I've not
been able to find any answers.

Straight off the bat, I want to apologise for the length of this post :)

Anyway, let me set the scene:

I have two REST services. They are customer.ben.com and shop.ben.com. 

customer.ben.com is used to manage the customers details and purchase
history. For example, after authentication, GETting the URL
customer.ben.com/purchasehistory/ returns an XML message containing a
list of references to another REST service called library.ben.com
(which  manages the downloads and management of files).

shop.ben.com is used to manage purchase requests and integrates the
payment service gateway for billing etc;

So, two REST services: one manages a customers purchase history, the
other manages purchases.

When a purchase is made using shop.ben.com, shop.ben.com needs to
update the purchase history of customer.ben.com. My current plan is to
 create a new User Group called "SERVICE", and give each REST Service
a username and password. That way, they can use normal REST methods to
manipulate each other. For example:

For shop.ben.com to add a new item to the purchase history of the
customer, shop.ben.com does this:

POST
shopuser:password@.../[customer-name]/purchase-history/
&lt;XML-payload-here/&gt;

customer.ben.com then authenticates shop.ben.com, and allows it to 
access the script at that address using that method.

To allow the customer to download the file after purchasing, the
client requests:

GET user:password@.../purchase-history/

which returns a list of items they have purchased. Following the link
from one of the items points to:

GET user:password@.../files/file1

Which, in turn, calls:

GET
libuser:password@.../[customer-name]/purchase-history/[file1]

If the response is "200 OK", lib.ben.com begins the download. If the
response is "404 Not Found", we know that the user hasn't purchased
the file yet.


Whew!

My question (finally) is, this seems to me to be the REST way of
integrating different serices. Am I right? My main concern is scaling:
will this scale? I need to have the ability to horizontally scale each
of these seperate services by simply adding another node. 

I've thought that maybe replacing the overall user-group SERVICE with
specific user-groups based on specific service types, for example
LIB-SERVICE, CUSTOMER-SERVICE and SHOP-SERVICE, thus allowing me to
give each node a seperate username and password.This would allow me to
track which specific node connected and performed the transaction.

What are your thoughts? Has anyone had any experience in building a
network using REST to scale like this (aside from, obviously, the
internet itself :) )

Kinda an open question really: I've "got the REST religeon" big-time,
and want to actually implement something that illustrates the
possibilities.

I look forward to your replies!

Cheers,

Ben Davies




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6662<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-10-12 12:44:02<br>
Subject:Re: [rest-discuss] Communication Between REST Services<br>
Message:<br><br>
<pre>"omarshariffdontlikeit" &lt;omarshariffdontlikeit@...&gt; writes:

&gt; My question (finally) is, this seems to me to be the REST way of
&gt; integrating different serices. Am I right? My main concern is scaling:
&gt; will this scale? I need to have the ability to horizontally scale each
&gt; of these seperate services by simply adding another node. 

Scaling across servers with a single namespace can be achieved by
having a load balancer distribute requests to appropriate servers
based on some uri-&gt;server mapping. This is one of the advantages of
REST, or at least a RESTful approach to URLs. By exposing the data
model in URIs it's possible to abstract the handling of that data
model.

To give you a specific example of this you could use mod_rewrite to
load balance between 2 servers A and B such that:

  POST customer.ben.com/nic.ferrier/purchase-history/

went to server A and

  POST customer.ben.com/caroline.ferrier/purchase-history/

went to server B.

Because the data model is (at least partially) in the URI it's trivial
to parse and hand off elsewehere.

So, in terms of scale I can answer your question. Your system would
be massively scalable.


&gt; I've thought that maybe replacing the overall user-group SERVICE with
&gt; specific user-groups based on specific service types, for example
&gt; LIB-SERVICE, CUSTOMER-SERVICE and SHOP-SERVICE, thus allowing me to
&gt; give each node a seperate username and password.This would allow me to
&gt; track which specific node connected and performed the transaction.

Could you not do that by the client IP?


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6663<br>
Sender:"Stelios Eliakis" &lt;eliakis@...&gt;<br>
Post Date/Time:2006-10-12 13:43:23<br>
Subject:Re: [rest-discuss] virtual links<br>
Message:<br><br>
<pre>This is the approach that I am interested in.
Benjamin wrote:
"If the only way you
will get to product 345 is via direct links from other web pages on your
site and the sites of others, then the second form is fine and preferred
by many"


As I mention to my previous mail, I don't know how I can do that.
If I had  for example this request
http://www.mypage.com/search.jsp?query=java ,
a jsp page (search.jsp)  would handle this request and I would take
the query parameter (request.getparameter(query)).

If I had this request: www.mypage.com/search/java how could I handle
this in order to search for the word:"java"
Which page would take this request?

Generally how  could I handle logical links?Any reference?



On 10/12/06, Benjamin Carlyle &lt;benjamincarlyle@...&gt; wrote:
&gt; Stelios,
&gt;
&gt; On Wed, 2006-10-11 at 19:46 +0300, Stelios Eliakis wrote:
&gt; &gt; I would like to ask if I could use this www.mysite.com/products?id=345
&gt; &gt; or this  www.mysite.com/products/345
&gt; &gt; in order to take the information of the product with id=345.
&gt;
&gt; It is up to your server to decide what your URL structure should look
&gt; like, and which part to interpret as the product id. If the only way you
&gt; will get to product 345 is via direct links from other web pages on your
&gt; site and the sites of others, then the second form is fine and preferred
&gt; by many. However, existing HTML forms technology prefers urls to have a
&gt; query part. As such, if you want your user to type "345" into a form and
&gt; get your URL you should use the first url.
&gt;
&gt; As a guess, I would think that this won't be a constraint for this
&gt; particular case. It would usually only affect the URLs that a search
&gt; form looks up. These are more likely to be something like
&gt; &lt;http://example.com/search?terms=cuddly+bear+toys&amp;maxprice=15&gt;.
&gt;
&gt; Benjamin
&gt;
&gt;


-- 
Stelios Eliakis

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6664<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-10-12 14:27:11<br>
Subject:Re: [rest-discuss] virtual links<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6665<br>
Sender:"Stelios Eliakis" &lt;eliakis@...&gt;<br>
Post Date/Time:2006-10-12 16:37:39<br>
Subject:Re: [rest-discuss] virtual links<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6666<br>
Sender:Berend de Boer &lt;berend@...&gt;<br>
Post Date/Time:2006-10-12 22:10:59<br>
Subject:Re: [rest-discuss] Communication Between REST Services<br>
Message:<br><br>
<pre>&gt;&gt;&gt;&gt;&gt; "omarshariffdontlikeit" == omarshariffdontlikeit  &lt;omarshariffdontlikeit@...&gt; writes:

    omarshariffdontlikeit&gt; My main concern is scaling: will this
    omarshariffdontlikeit&gt; scale? I need to have the ability to
    omarshariffdontlikeit&gt; horizontally scale each of these seperate
    omarshariffdontlikeit&gt; services by simply adding another node.

They need to access a common database of course, so yes, given a
common datastore, REST is scalable.

But you need to do validation of the requests as well of course. So
you have a username/password lookup for every request. Each of your
nodes would have to hold all your 1 billion customers, so you'll have
to think about such issues as well.


As suggested, url partioning can help you here.

-- 
Regards,

Berend. (-:

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6667<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-10-12 22:36:38<br>
Subject:Re: [rest-discuss] Communication Between REST Services<br>
Message:<br><br>
<pre>
-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6668<br>
Sender:"keith_peters" &lt;keithpeters.26592230@...&gt;<br>
Post Date/Time:2006-10-17 09:18:31<br>
Subject:http accept header<br>
Message:<br><br>
<pre>I am writing a web application. I want to leave the door open to add
alternate representations of the resources in my app. To do this, I
need to write something that selects the mime type of the response
from the accept header of the request.

My question is which mime type should be selected when more than one
has the same quality value (i.e. q=1)? For example, below is the
accept header of a get request from a firefox browser to the messages
of this group (http://tech.groups.yahoo.com/group/rest-discuss/messages):

Accept:
    text/xml,
    application/xml,
    application/xhtml+xml,
    text/html;q=0.9,
    text/plain;q=0.8,
    image/png,
    */*;q=0.5

The mime types text/xml, application/xml, application/xhtml+xml and
image/png all have the same quality. Assuming the server has both
text/xml and application/xhtml+xml representations available. Which
one should be selected as the mime type of the response? If I take the
order of appearance into account (the spec doesn't mention anything
about this), then it will be text/xml but TBH a request coming from a
browser should really receive a application/xhtml+xml response if it
requested it?

Of course, the best solution is that the browser send a better accept
header; one would think it would prefer xhtml, html and xml in that
order. Pointless crying over spilt milk though.

Any info, advice or otherwise would be greatly appreciated.
Thanks, Keith.




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6669<br>
Sender:Scott Mohekey &lt;scott.mohekey@...&gt;<br>
Post Date/Time:2006-10-17 20:57:23<br>
Subject:Re: [rest-discuss] http accept header<br>
Message:<br><br>
<pre>I've recently written code to handle exactly this in the restian
framework I'm working on for .net.

I'm going to cut n paste the code in question below, and then you can
ask any questions that may crop up.

class AcceptType {
	public AcceptType(double quality, string mimeType) {
		Quality = quality;
		MimeType = mimeType;
	}

	public double Quality;
	public string MimeType;

	public static int Compare(AcceptType type1, AcceptType type2) {
		return type1.Quality.CompareTo(type2.Quality);
	}
}

protected void SerializeResponse(GeorgeContext context) {
	HttpContext httpContext = HttpContext.Current;
	// If the request header Accept does not contain a mime type that we know how 
	// to serialize to, we return a 406 (Not Acceptable).

	string acceptHeader = null;

	if (httpContext.Request.Headers["Accept"] == null || httpContext.Request.Headers["Accept"] == "") {
		acceptHeader = "*/*";
	} else {
		acceptHeader = httpContext.Request.Headers["Accept"];
	}

	string[] accepted = acceptHeader.Split(',');

	List&lt;AcceptType&gt; types = new List&lt;AcceptType&gt;();

	foreach (string accept in accepted) {
		string[] parts = accept.Split(';');

		string mimeType = parts[0].Trim();
		double q = 1.0;

		for (int i = 1; i &lt; parts.Length; i++) {
			if (parts[i].Trim().StartsWith("q")) {
				string[] keyValue = parts[i].Trim().Split('=');

				q = double.Parse(keyValue[1].Trim());
			}
		}

		types.Add(new AcceptType(q, mimeType));
	}

	types.Sort(new Comparison&lt;AcceptType&gt;(AcceptType.Compare));

	foreach (AcceptType acceptType in types) {
		bool def = false;

		if (0 == acceptType.MimeType.CompareTo("*/*")) {
			def = true;
		}

		foreach (IContentType contentType in ContentTypes) {
			if (contentType.Supports(context.Response.GetType()) &amp;&amp; (def || (contentType.Provides(acceptType.MimeType)))) {
				httpContext.Response.ContentType = def ? contentType.Name : acceptType.MimeType;
				httpContext.Response.AppendHeader("Last-Modified", DateTime.UtcNow.ToLongDateString());
				contentType.Serialize(context, httpContext.Response.OutputStream);

				return;
			}
		}
	}

	throw new HttpException(406, "Unable to provide resource for requested media types.");
}



Essentially, I parse all of the accept types, sort them by q, and then
iterate over available content types, until a suitable one is found.

So the order of preference for accept types is governed by the order in
which the content types are configured (not shown in the code above).



On Tue, 2006-10-17 at 09:18 +0000, keith_peters wrote:
&gt; I am writing a web application. I want to leave the door open to add
&gt; alternate representations of the resources in my app. To do this, I
&gt; need to write something that selects the mime type of the response
&gt; from the accept header of the request.
&gt; 
&gt; My question is which mime type should be selected when more than one
&gt; has the same quality value (i.e. q=1)? For example, below is the
&gt; accept header of a get request from a firefox browser to the messages
&gt; of this group
&gt; (http://tech.groups.yahoo.com/group/rest-discuss/messages):
&gt; 
&gt; Accept:
&gt; text/xml,
&gt; application/xml,
&gt; application/xhtml+xml,
&gt; text/html;q=0.9,
&gt; text/plain;q=0.8,
&gt; image/png,
&gt; */*;q=0.5
&gt; 
&gt; The mime types text/xml, application/xml, application/xhtml+xml and
&gt; image/png all have the same quality. Assuming the server has both
&gt; text/xml and application/xhtml+xml representations available. Which
&gt; one should be selected as the mime type of the response? If I take the
&gt; order of appearance into account (the spec doesn't mention anything
&gt; about this), then it will be text/xml but TBH a request coming from a
&gt; browser should really receive a application/xhtml+xml response if it
&gt; requested it?
&gt; 
&gt; Of course, the best solution is that the browser send a better accept
&gt; header; one would think it would prefer xhtml, html and xml in that
&gt; order. Pointless crying over spilt milk though.
&gt; 
&gt; Any info, advice or otherwise would be greatly appreciated.
&gt; Thanks, Keith.
&gt; 
&gt; 
&gt; 
&gt; 
&gt;  


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6670<br>
Sender:"Jeffrey Winter" &lt;JeffreyWinter@...&gt;<br>
Post Date/Time:2006-10-18 12:21:07<br>
Subject:Revise description of the POST method<br>
Message:<br><br>
<pre>
I'm glad to see this clarification is being considered:

 http://skrb.org/ietf/http_errata.html#post

referenced from:

 http://www.ietf.org/internet-drafts/draft-lafon-rfc2616bis-00.txt

referenced from:

 http://www.markbaker.ca/blog/2006/10/18/links-for-2006-10-18/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6671<br>
Sender:"nrmehta" &lt;nrmehta@...&gt;<br>
Post Date/Time:2006-10-19 00:15:25<br>
Subject:URL aliasing<br>
Message:<br><br>
<pre>What is the essential difference between

/something

and

/something/

I understand that the URI spec considers these as different
identifiers. Can someone illuminate the rationale behind this?

Thanks,
Nikunj Mehta




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6672<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-10-19 13:26:07<br>
Subject:Re: [rest-discuss] URL aliasing<br>
Message:<br><br>
<pre>On 10/18/06, nrmehta &lt;nrmehta@...&gt; wrote:
&gt; What is the essential difference between
&gt;
&gt; /something
&gt;
&gt; and
&gt;
&gt; /something/
&gt;
&gt; I understand that the URI spec considers these as different
&gt; identifiers. Can someone illuminate the rationale behind this?

I'd expect because it simplifies handling relative references if
hierarchy is explicitly indicated.  After all, "foo" resolved relative
to the former would-be-URI is "/foo", while "/something/foo" to the
latter.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6673<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-10-19 20:36:08<br>
Subject:Re: [rest-discuss] URL aliasing<br>
Message:<br><br>
<pre>On Oct 19, 2006, at 6:26 AM, Mark Baker wrote:
&gt; On 10/18/06, nrmehta &lt;nrmehta@...&gt; wrote:
&gt; &gt; What is the essential difference between
&gt; &gt;
&gt; &gt; /something
&gt; &gt;
&gt; &gt; and
&gt; &gt;
&gt; &gt; /something/
&gt; &gt;
&gt; &gt; I understand that the URI spec considers these as different
&gt; &gt; identifiers. Can someone illuminate the rationale behind this?
&gt;
&gt; I'd expect because it simplifies handling relative references if
&gt; hierarchy is explicitly indicated. After all, "foo" resolved relative
&gt; to the former would-be-URI is "/foo", while "/something/foo" to the
&gt; latter.

And access control might be different.  Note that access control
might be enforced anywhere in the request chain, not just at the
origin server (which might theoretically know what the difference
is between those two resources).  Even proxy choices can be based
on URI paths.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6674<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-10-20 20:40:55<br>
Subject:oBIX<br>
Message:<br><br>
<pre>Hi,

from the oBIX[1] specs:

&lt;quote&gt;
3.4 REST

Many savvy readers may be thinking that objects identified with URIs  
and passed around as XML documents is starting to sound a lot like  
REST  and you would be correct.  REST stands for REpresentational  
State Transfer and is an architectural style for web services that  
mimics how the World Wide Web works.  The WWW is basically a big web  
of HTML documents all hyperlinked together using URIs.  Likewise,  
oBIX is basically a big web of XML object documents hyperlinked  
together using URIs.


REST is really more of a design style, than a specification.  REST is  
resource centric as opposed to method centric - resources being oBIX  
objects.  The methods actually used tend to be a very small fixed set  
of verbs used to work generically with all resources.  In oBIX all  
network requests boil down to three request types:

     * Read: an object
     * Write: an object
     * Invoke: an operation

&lt;/quote&gt;

Oh my...

Jan


[1] http://www.oasis-open.org/committees/tc_home.php?wg_abbrev=obix


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6675<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-10-20 22:11:40<br>
Subject:Re: [rest-discuss] Revise description of the POST method<br>
Message:<br><br>
<pre>On Wed, 2006-10-18 at 08:21 -0400, Jeffrey Winter wrote:
&gt; I'm glad to see this clarification is being considered:
&gt; http://skrb.org/ietf/http_errata.html#post

The current definition is more useful than this altered one in building
RESTful applications. It is currently the "paste after" operation, as
compared to PUT's "paste over". The changed definition just means
"tunnel arbitrary stuff". As such, this changed definition of POST
introduces non-self-descriptive messages into the core HTTP.

In practice POST is usually used in this way. As such, the errata itself
makes a fair degree of sense. However, I see it as a step backwards as
far as REST is concerned.

Benjamin.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6676<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-10-20 22:23:59<br>
Subject:Re: [rest-discuss] oBIX<br>
Message:<br><br>
<pre>On Fri, 2006-10-20 at 22:40 +0200, Jan Algermissen wrote:
&gt; REST is really more of a design style, than a specification.  REST is  
&gt; resource centric as opposed to method centric - resources being oBIX  
&gt; objects.  The methods actually used tend to be a very small fixed set  
&gt; of verbs used to work generically with all resources.  In oBIX all  
&gt; network requests boil down to three request types:
&gt;      * Read: an object
&gt;      * Write: an object
&gt;      * Invoke: an operation

:)

It's the invoke where things fall down.

Benjamin.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6677<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-10-21 03:22:16<br>
Subject:Re: [rest-discuss] Revise description of the POST method<br>
Message:<br><br>
<pre>On 10/20/06, Benjamin Carlyle &lt;benjamincarlyle@...&gt; wrote:
&gt; On Wed, 2006-10-18 at 08:21 -0400, Jeffrey Winter wrote:
&gt; &gt; I'm glad to see this clarification is being considered:
&gt; &gt; http://skrb.org/ietf/http_errata.html#post
&gt;
&gt; The current definition is more useful than this altered one in building
&gt; RESTful applications. It is currently the "paste after" operation, as
&gt; compared to PUT's "paste over". The changed definition just means
&gt; "tunnel arbitrary stuff". As such, this changed definition of POST
&gt; introduces non-self-descriptive messages into the core HTTP.

Hmm, I don't see it that way.

POST(p) isn't tunneling, and its use is fully self-descriptive AFAICT.
 It's operational semantics are just that the client has no visibility
into what the server might do with the provided representation (other
than "process it"). Tunneling - let's call it POST(t) - isn't
self-descriptive because the effective operation isn't POST, it's
getStockQuote or whatever.

&gt; In practice POST is usually used in this way. As such, the errata itself
&gt; makes a fair degree of sense. However, I see it as a step backwards as
&gt; far as REST is concerned.

POST(p) is still uniform.  If you want POST(a), you'll need a new
method name ... or a new protocol - perhaps Waka will have a POST(a)
equivalent?

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6678<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-10-21 21:24:40<br>
Subject:Re: [rest-discuss] Revise description of the POST method<br>
Message:<br><br>
<pre>Mark,

On Fri, 2006-10-20 at 23:22 -0400, Mark Baker wrote:
&gt; On 10/20/06, Benjamin Carlyle &lt;benjamincarlyle@...&gt; wrote:
&gt; &gt; On Wed, 2006-10-18 at 08:21 -0400, Jeffrey Winter wrote:
&gt; &gt; &gt; I'm glad to see this clarification is being considered:
&gt; &gt; &gt; http://skrb.org/ietf/http_errata.html#post
&gt; &gt;&gt; The current definition is more useful than this altered one in
&gt; building
&gt; &gt; RESTful applications. It is currently the "paste after" operation,
&gt; as
&gt; &gt; compared to PUT's "paste over". The changed definition just means
&gt; &gt; "tunnel arbitrary stuff". As such, this changed definition of POST
&gt; &gt; introduces non-self-descriptive messages into the core HTTP.
&gt; POST(p) isn't tunneling, and its use is fully self-descriptive AFAICT.
&gt; It's operational semantics are just that the client has no visibility
&gt; into what the server might do with the provided representation (other
&gt; than "process it"). Tunneling - let's call it POST(t) - isn't
&gt; self-descriptive because the effective operation isn't POST, it's
&gt; getStockQuote or whatever.

I'm not sure what your definition of POST(p) is, here... or what you
mean by POST(a) below.

My summary of the common methods is as follows:
GET transfers the state demarcated by a particular resource to a client
PUT transfers state to replace that demarcated by a particular resource
POST transfers additional state to be included in the set demarcated by
a particular resource
DELETE transfers the null state to replace the set demarcated by a
particular resource

All client-&gt;server state transfer operations may impact other resources.
Resources may be created, destroyed, or changed. PUT and POST can
indicate direct creation semantics 

REST says that methods should be standard. We should have a common
understanding of what these methods do. Having a standard identifier
scheme and standard methods brings us one step closer to solving the
social problem of inter-agency communication (communication between
competing interests). The methods should be general enough to
encapsulate all forms of information transfer between client and server,
but specific enough to derive useful semantics from to do things like
performing access control. There should be no confusion when describing
what POST does to a new RESTafarian.

I believe my take on POST is both general and specific enough to be
useful.

&gt; &gt; In practice POST is usually used in this way. As such, the errata
&gt; itself
&gt; &gt; makes a fair degree of sense. However, I see it as a step backwards
&gt; as
&gt; &gt; far as REST is concerned.
&gt; POST(p) is still uniform. If you want POST(a), you'll need a new
&gt; method name ... or a new protocol - perhaps Waka will have a POST(a)
&gt; equivalent?

I believe that my summary of POST is consistent with the HTTP
specification. I would like to see a clear summary of any alternative
interpretation of POST before commenting further. I am wary of any
definition that permits the tunnelling of arbitrary methods. The changed
definition referred to in this thead's original post says:

"The actual function performed by the POST method is determined by the
server and is usually dependent on the Request-URI."

That reads to me as "we had better make sure that using POST for
transferring SOAP requests is clearly permitted by the standard". As I
indicated in my earlier post, I think that kind of languge is pratical
as far as current practice goes but is a step backwards for REST.

Benjamin.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6679<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-10-21 21:36:16<br>
Subject:Re: [rest-discuss] Revise description of the POST method<br>
Message:<br><br>
<pre>On Sun, 2006-10-22 at 07:24 +1000, Benjamin Carlyle wrote:
&gt; The changed
&gt; definition referred to in this thead's original post says:
&gt; "The actual function performed by the POST method is determined by the
&gt; server and is usually dependent on the Request-URI."
&gt; That reads to me as "we had better make sure that using POST for
&gt; transferring SOAP requests is clearly permitted by the standard". As I
&gt; indicated in my earlier post, I think that kind of languge is pratical
&gt; as far as current practice goes but is a step backwards for REST.

Err... just to clarify:
Yes, I realise this text is extracted directly from rfc2616. What I was
trying to say is that a clarification that narrows the definition would
be more RESTful than one that broadens it to the point of effectively
being "invoke".

Benjamin.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6680<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-10-22 00:19:26<br>
Subject:Re: [rest-discuss] Revise description of the POST method<br>
Message:<br><br>
<pre>On 10/21/06, Benjamin Carlyle &lt;benjamincarlyle@...&gt; wrote:
&gt; I'm not sure what your definition of POST(p) is, here... or what you
&gt; mean by POST(a) below.

Sorry, I thought I recalled you being around for those discussions.
Those names are Roy's;

http://tech.groups.yahoo.com/group/rest-discuss/message/4732

Cheers,

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6681<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-10-22 00:54:11<br>
Subject:Re: [rest-discuss] Revise description of the POST method<br>
Message:<br><br>
<pre>On Sat, 2006-10-21 at 20:19 -0400, Mark Baker wrote:
&gt; Sorry, I thought I recalled you being around for those discussions.
&gt; Those names are Roy's;
&gt; http://tech.groups.yahoo.com/group/rest-discuss/message/4732 

Ok, well based on that set of definitions...

I agree that there is little difference between POST(a) and POST(p) as
long as good content types are used. The instructions I give to my team
are that they should use PUT when they intend to replace some
server-side state, and POST when they want to add to the set of
server-side state. This effectively amounts to the resource recieving a
POST doing what it wants with the submitted data, but attempts to
exclude method invocations from being included in the data. The content
should follow the same rules as content you would use in a PUT and
likely use the same content types. In particular, verbs should not
appear. You wouldn't PUT a method invocation, thus it makes no more
sense to POST it.

Benjamin.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6682<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-10-22 02:00:01<br>
Subject:Re: [rest-discuss] Revise description of the POST method<br>
Message:<br><br>
<pre>On Oct 21, 2006, at 5:19 PM, Mark Baker wrote:
&gt; Sorry, I thought I recalled you being around for those discussions.
&gt; Those names are Roy's;
&gt;
&gt; http://tech.groups.yahoo.com/group/rest-discuss/message/4732

heh, that's what I get for using short-hand... it looks much better
in the fixed-width font

&lt;http://tech.groups.yahoo.com/group/rest-discuss/message/4732?var=0&gt;

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6683<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-10-22 02:07:41<br>
Subject:Re: [rest-discuss] Revise description of the POST method<br>
Message:<br><br>
<pre>On 10/21/06, Benjamin Carlyle &lt;benjamincarlyle@...&gt; wrote:
&gt; On Sat, 2006-10-21 at 20:19 -0400, Mark Baker wrote:
&gt; &gt; Sorry, I thought I recalled you being around for those discussions.
&gt; &gt; Those names are Roy's;
&gt; &gt; http://tech.groups.yahoo.com/group/rest-discuss/message/4732
&gt;
&gt; Ok, well based on that set of definitions...
&gt;
&gt; I agree that there is little difference between POST(a) and POST(p) as
&gt; long as good content types are used. The instructions I give to my team
&gt; are that they should use PUT when they intend to replace some
&gt; server-side state, and POST when they want to add to the set of
&gt; server-side state. This effectively amounts to the resource recieving a
&gt; POST doing what it wants with the submitted data, but attempts to
&gt; exclude method invocations from being included in the data.

Right.

&gt; The content
&gt; should follow the same rules as content you would use in a PUT and
&gt; likely use the same content types. In particular, verbs should not
&gt; appear. You wouldn't PUT a method invocation, thus it makes no more
&gt; sense to POST it.

I think it makes a lot more sense.  When you use PUT (successfully),
you're licensing intermediaries to conclude that the state of the
targetted resource was changed to that represented in the request -
something that's not true if you tunnel.  If you use POST (i.e.
POST(p)), intermediaries aren't licensed to conclude anything,
therefore it's the best choice from a correctness POV.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6684<br>
Sender:Richard Dunlap &lt;radunlap@...&gt;<br>
Post Date/Time:2006-10-25 03:40:55<br>
Subject:Why is Resource-Oriented better than Object-Oriented?<br>
Message:<br><br>
<pre>When I discuss the advantages of RESTful web services with web  
programmers, one fundamental question is frequently raised; "Why are  
Resource-Oriented web services superior to Object-Oriented web  
services?".

I am fairly-versed with the pro-REST arguments, I have read  
everything on the subject that I can find.  I codeveloped a non- 
trivial RESTful web service and saw first-hand the advantages of  
REST.   My job includes "selling" technology to other developers.   
Most developers  I encounter immediately grok the tactical advantages  
of REST (caching, scalability, stateless messages, firewall- 
friendly, ...),  but seem to zone-out over the strategic advantages  
of Resource-Oriented design over Objected-Oriented design.  To be  
honest, although I believe it,  I am weak in defending this  
assertion.  I don't have a firm enough grasp on the academics of the  
subject.

Anyone have some pearls of wisdom?  A link, or suggested reading  
perhaps?

TIA,

	Rick D.



"In a time of universal deceit, telling the truth becomes a  
revolutionary act"

-- George Orwell


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6685<br>
Sender:Etan Wexler &lt;ewexler@...&gt;<br>
Post Date/Time:2006-10-25 06:45:43<br>
Subject:"Casual Web Services" and Well Designed Urls [rest-discuss]<br>
Message:<br><br>
<pre>Mike Schinkel started a thread of discussion on the mailing list 
Microformats Discuss. The message that opens the thread is “[uf-discuss] 
"Casual Web Services" and Well Designed Urls” 
(&lt;http://microformats.org/discuss/mail/microformats-discuss/2006-October/006341.html&gt;). 


I am, in this message, replying to Mike Schinkel’s “[uf-discuss] "Casual 
Web Services" and Well Designed Urls[uf-rest]” 
(&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000300.html&gt;):

&gt; Etan Wexler wrote:
&gt; 
&gt;&gt; The structure of URLs is not important knowledge for any API for
&gt;&gt; applications of REST. In fact, the structure of URLs is totally irrelevant
&gt;&gt; to any such API.
&gt; 
&gt; [...] Can you please provide justification?

I gave the justification, albeit briefly, in a previous message 
(&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000292.html&gt;):

‘REST does not permit programmatic construction of URIs in which the 
construction uses of out-of-band knowledge and bits of data. Read 
sections 5.1.5 (“Uniform Interface”, 
&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_5&gt;) 

and 5.2.1 (“Data Elements”, 
&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_2_1&gt;) 
of “Architectural Styles and the Design of Network-based Software 
Architectures”. Particularly, REST relies on hypermedia as the engine of 
application state, while constructing URIs violates this constraint.’

Mike, you responded, “After reading your email and those sections of
Roy's paper I have absolutely no idea what you were trying to 
communicate to me. Roy's paper is written in such abstract language that 
I am unable to see the issues you bring up.” 
(&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000293.html&gt;)

I then stated my position 
(&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000296.html&gt;), 
for which you requested justification. Here we find ourselves.

In the meantime, I clarified “constructing URIs” as meaning “a computer 
program’s construction of URIs, as opposed to a human’s construction of 
URIs” 
(&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000297.html&gt;). 


I clarified my definition of “out-of-band knowledge” 
(&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000299.html&gt;).

&gt; [After you sent] your email someone else emailed contradicting you and he gave
&gt; copious references to support his point.

Yes, Nick Gall contradicted me 
(&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000294.html&gt;). 
   His references are to non-authoritative materials that do not 
contradict me.

&gt; So if your justification is [Tim Berners-Lee] saying that URLs need be
&gt; be opaque, I can provide links [...]

My justification has nothing to do with the statements of Tim Berners-Lee.

&gt;&gt; When a program implements an API for an application of REST, the program
&gt;&gt; relies on the presence of links in content. And when the program sifts 
&gt;&gt; content to discover links (rather than constructing URIs according to 
&gt;&gt; explanations)...
&gt; 
&gt; That is not necessarily true. It can be one valid use-case but is not all
&gt; valid use-cases.

What do you make of the following two passages?

“Hypermedia is defined by the presence of application control 
information embedded within, or as a layer above, the presentation of 
information.” 
(&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/web_arch_domain.htm#sec_4_1_3&gt;)

“REST is defined by four interface constraints: identification of 
resources; manipulation of resources through representations; 
self-descriptive messages; and, hypermedia as the engine of application 
state.” 
(&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_5&gt;)

&gt; The structure of the links are [relevant in] other use-cases.

I presume that “links” here means URLs or some other resource identifiers.

&gt; Take a look at the NING REST API [...]; it does exactly what I'm
&gt; describing (and I can give other examples which I will be doing on the
&gt; blog):
&gt; 
&gt; http://documentation.ning.com/sections/rest.php
&gt; 
&gt; Here's Eventful's EVDB api:
&gt; 
&gt; http://api.evdb.com/docs
&gt; 
&gt; Here's del.icio.us:
&gt; 
&gt; http://del.icio.us/help/api/posts

I read through the documentation that you cited. The subjects of the 
documentation (that is, the software systems and their APIs) break from 
REST in various ways. If these systems, their APIs, or their 
documentation do exactly what youre describing, then you’re describing 
something that does not fit within REST.

The key issue is that none of the cited materials are authoritative.

-- 



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6686<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-10-25 14:08:25<br>
Subject:Re: [rest-discuss] Why is Resource-Oriented better than Object-Oriented?<br>
Message:<br><br>
<pre>You need only look at the architectural properties that are gained and
lost relative to "resource oriented" (a known quantity, as Roy's
dissertation describes) in order to evaluate its suitability for your
needs.

FWIW though, I've always considered resource-oriented as a more highly
constrained form of object-oriented, which provides superior
scalability and simplicity ... which are, IME, desirable in the
general case for Internet-scale systems.

It's why I've stuck with "distobj" as my email address.

Mark.

On 10/24/06, Richard Dunlap &lt;radunlap@...&gt; wrote:
&gt; When I discuss the advantages of RESTful web services with web programmers,
&gt; one fundamental question is frequently raised; "Why are Resource-Oriented
&gt; web services superior to Object-Oriented web services?".
&gt;
&gt; I am fairly-versed with the pro-REST arguments, I have read everything on
&gt; the subject that I can find.  I codeveloped a non-trivial RESTful web
&gt; service and saw first-hand the advantages of REST.   My job includes
&gt; "selling" technology to other developers.  Most developers  I encounter
&gt; immediately grok the tactical advantages of REST (caching, scalability,
&gt; stateless messages, firewall-friendly, ...),  but seem to zone-out over the
&gt; strategic advantages of Resource-Oriented design over Objected-Oriented
&gt; design.  To be honest, although I believe it,  I am weak in defending this
&gt; assertion.  I don't have a firm enough grasp on the academics of the
&gt; subject.
&gt;
&gt;
&gt; Anyone have some pearls of wisdom?  A link, or suggested reading perhaps?
&gt;
&gt; TIA,
&gt;
&gt;  Rick D.
&gt;
&gt;
&gt;
&gt; "In a time of universal deceit, telling the truth becomes a revolutionary
&gt; act"
&gt;
&gt; -- George Orwell
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6687<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2006-10-25 15:43:51<br>
Subject:Re: "Casual Web Services" and Well Designed Urls [rest-discuss]<br>
Message:<br><br>
<pre>Hi Etan,

Having tried to follow the discussion uf-discuss, I'm not clear  
exactly why we're still arguing about it. Though, I'm glad we're  
discussing it here, where we have more REST experts.

In case it helps, here's how I summarized the "URL opacity"  
discussion over on uf-rest:

http://microformats.org/wiki/rest/opacity

Does that provide any insight?

-- Ernie P.


On Oct 24, 2006, at 11:45 PM, Etan Wexler wrote:

&gt; Mike Schinkel started a thread of discussion on the mailing list
&gt; Microformats Discuss. The message that opens the thread is [uf- 
&gt; discuss]
&gt; "Casual Web Services" and Well Designed Urls
&gt; (&lt;http://microformats.org/discuss/mail/microformats-discuss/2006- 
&gt; October/006341.html&gt;).
&gt;
&gt; I am, in this message, replying to Mike Schinkels [uf-discuss]  
&gt; "Casual
&gt; Web Services" and Well Designed Urls[uf-rest]
&gt; (&lt;http://microformats.org/discuss/mail/microformats-rest/2006- 
&gt; October/000300.html&gt;):
&gt;
&gt; &gt; Etan Wexler wrote:
&gt; &gt;
&gt; &gt;&gt; The structure of URLs is not important knowledge for any API for
&gt; &gt;&gt; applications of REST. In fact, the structure of URLs is totally  
&gt; irrelevant
&gt; &gt;&gt; to any such API.
&gt; &gt;
&gt; &gt; [...] Can you please provide justification?
&gt;
&gt; I gave the justification, albeit briefly, in a previous message
&gt; (&lt;http://microformats.org/discuss/mail/microformats-rest/2006- 
&gt; October/000292.html&gt;):
&gt;
&gt; REST does not permit programmatic construction of URIs in which the
&gt; construction uses of out-of-band knowledge and bits of data. Read
&gt; sections 5.1.5 (Uniform Interface,
&gt; &lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/ 
&gt; rest_arch_style.htm#sec_5_1_5&gt;)
&gt;
&gt; and 5.2.1 (Data Elements,
&gt; &lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/ 
&gt; rest_arch_style.htm#sec_5_2_1&gt;)
&gt; of Architectural Styles and the Design of Network-based Software
&gt; Architectures. Particularly, REST relies on hypermedia as the  
&gt; engine of
&gt; application state, while constructing URIs violates this constraint.
&gt;
&gt; Mike, you responded, After reading your email and those sections of
&gt; Roy's paper I have absolutely no idea what you were trying to
&gt; communicate to me. Roy's paper is written in such abstract language  
&gt; that
&gt; I am unable to see the issues you bring up.
&gt; (&lt;http://microformats.org/discuss/mail/microformats-rest/2006- 
&gt; October/000293.html&gt;)
&gt;
&gt; I then stated my position
&gt; (&lt;http://microformats.org/discuss/mail/microformats-rest/2006- 
&gt; October/000296.html&gt;),
&gt; for which you requested justification. Here we find ourselves.
&gt;
&gt; In the meantime, I clarified constructing URIs as meaning a  
&gt; computer
&gt; programs construction of URIs, as opposed to a humans  
&gt; construction of
&gt; URIs
&gt; (&lt;http://microformats.org/discuss/mail/microformats-rest/2006- 
&gt; October/000297.html&gt;).
&gt;
&gt; I clarified my definition of out-of-band knowledge
&gt; (&lt;http://microformats.org/discuss/mail/microformats-rest/2006- 
&gt; October/000299.html&gt;).
&gt;
&gt; &gt; [After you sent] your email someone else emailed contradicting  
&gt; you and he gave
&gt; &gt; copious references to support his point.
&gt;
&gt; Yes, Nick Gall contradicted me
&gt; (&lt;http://microformats.org/discuss/mail/microformats-rest/2006- 
&gt; October/000294.html&gt;).
&gt; His references are to non-authoritative materials that do not
&gt; contradict me.
&gt;
&gt; &gt; So if your justification is [Tim Berners-Lee] saying that URLs  
&gt; need be
&gt; &gt; be opaque, I can provide links [...]
&gt;
&gt; My justification has nothing to do with the statements of Tim  
&gt; Berners-Lee.
&gt;
&gt; &gt;&gt; When a program implements an API for an application of REST, the  
&gt; program
&gt; &gt;&gt; relies on the presence of links in content. And when the program  
&gt; sifts
&gt; &gt;&gt; content to discover links (rather than constructing URIs  
&gt; according to
&gt; &gt;&gt; explanations)...
&gt; &gt;
&gt; &gt; That is not necessarily true. It can be one valid use-case but is  
&gt; not all
&gt; &gt; valid use-cases.
&gt;
&gt; What do you make of the following two passages?
&gt;
&gt; Hypermedia is defined by the presence of application control
&gt; information embedded within, or as a layer above, the presentation of
&gt; information.
&gt; (&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/ 
&gt; web_arch_domain.htm#sec_4_1_3&gt;)
&gt;
&gt; REST is defined by four interface constraints: identification of
&gt; resources; manipulation of resources through representations;
&gt; self-descriptive messages; and, hypermedia as the engine of  
&gt; application
&gt; state.
&gt; (&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/ 
&gt; rest_arch_style.htm#sec_5_1_5&gt;)
&gt;
&gt; &gt; The structure of the links are [relevant in] other use-cases.
&gt;
&gt; I presume that links here means URLs or some other resource  
&gt; identifiers.
&gt;
&gt; &gt; Take a look at the NING REST API [...]; it does exactly what I'm
&gt; &gt; describing (and I can give other examples which I will be doing  
&gt; on the
&gt; &gt; blog):
&gt; &gt;
&gt; &gt; http://documentation.ning.com/sections/rest.php
&gt; &gt;
&gt; &gt; Here's Eventful's EVDB api:
&gt; &gt;
&gt; &gt; http://api.evdb.com/docs
&gt; &gt;
&gt; &gt; Here's del.icio.us:
&gt; &gt;
&gt; &gt; http://del.icio.us/help/api/posts
&gt;
&gt; I read through the documentation that you cited. The subjects of the
&gt; documentation (that is, the software systems and their APIs) break  
&gt; from
&gt; REST in various ways. If these systems, their APIs, or their
&gt; documentation do exactly what youre describing, then youre describing
&gt; something that does not fit within REST.
&gt;
&gt; The key issue is that none of the cited materials are authoritative.
&gt;
&gt; -- 
&gt;
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6688<br>
Sender:"Dave Orchard" &lt;orchard@...&gt;<br>
Post Date/Time:2006-10-25 16:16:40<br>
Subject:RE: "Casual Web Services" and Well Designed Urls [rest-discuss]<br>
Message:<br><br>
<pre>And so we go on the opaqueness of URIs.  Notwithstanding that all HTML FORM
GETs create URIs on the client.  
 
Constructing URIs is absolutely allowed.  
 
Here's an authoritative document:
http://www.w3.org/2001/tag/doc/metaDataInURI-31.html
 
Here's a constraint from it: 

Constraint: Web software MUST NOT depend on the correctness of metadata
inferred from a URI, except when the encoding of such metadata is documented
by applicable standards and specifications. 

Applicable standards and specifications is fancy term for "out of band
data".  

Now the finding is in a DRAFT state, but it is about .0001% away from being
complete.

Cheers,

Dave


  _____  

From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On
Behalf Of Etan Wexler
Sent: Tuesday, October 24, 2006 11:46 PM
To: rest-discuss@yahoogroups.com
Subject: "Casual Web Services" and Well Designed Urls [rest-discuss]



Mike Schinkel started a thread of discussion on the mailing list 
Microformats Discuss. The message that opens the thread is "[uf-discuss] 
"Casual Web Services" and Well Designed Urls" 
(&lt;http://microformats
&lt;http://microformats.org/discuss/mail/microformats-discuss/2006-October/0063
41.html&gt; .org/discuss/mail/microformats-discuss/2006-October/006341.html&gt;). 

I am, in this message, replying to Mike Schinkel's "[uf-discuss] "Casual 
Web Services" and Well Designed Urls[uf-rest]" 
(&lt;http://microformats
&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000300.
html&gt; .org/discuss/mail/microformats-rest/2006-October/000300.html&gt;):

&gt; Etan Wexler wrote:
&gt; 
&gt;&gt; The structure of URLs is not important knowledge for any API for
&gt;&gt; applications of REST. In fact, the structure of URLs is totally
irrelevant
&gt;&gt; to any such API.
&gt; 
&gt; [...] Can you please provide justification?

I gave the justification, albeit briefly, in a previous message 
(&lt;http://microformats
&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000292.
html&gt; .org/discuss/mail/microformats-rest/2006-October/000292.html&gt;):

'REST does not permit programmatic construction of URIs in which the 
construction uses of out-of-band knowledge and bits of data. Read 
sections 5.1.5 ("Uniform Interface", 
&lt;http://www.ics.
&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_
5_1_5&gt; uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_5&gt;) 

and 5.2.1 ("Data Elements", 
&lt;http://www.ics.
&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_
5_2_1&gt; uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_2_1&gt;) 
of "Architectural Styles and the Design of Network-based Software 
Architectures". Particularly, REST relies on hypermedia as the engine of 
application state, while constructing URIs violates this constraint.'

Mike, you responded, "After reading your email and those sections of
Roy's paper I have absolutely no idea what you were trying to 
communicate to me. Roy's paper is written in such abstract language that 
I am unable to see the issues you bring up." 
(&lt;http://microformats
&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000293.
html&gt; .org/discuss/mail/microformats-rest/2006-October/000293.html&gt;)

I then stated my position 
(&lt;http://microformats
&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000296.
html&gt; .org/discuss/mail/microformats-rest/2006-October/000296.html&gt;), 
for which you requested justification. Here we find ourselves.

In the meantime, I clarified "constructing URIs" as meaning "a computer 
program's construction of URIs, as opposed to a human's construction of 
URIs" 
(&lt;http://microformats
&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000297.
html&gt; .org/discuss/mail/microformats-rest/2006-October/000297.html&gt;). 

I clarified my definition of "out-of-band knowledge" 
(&lt;http://microformats
&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000299.
html&gt; .org/discuss/mail/microformats-rest/2006-October/000299.html&gt;).

&gt; [After you sent] your email someone else emailed contradicting you and he
gave
&gt; copious references to support his point.

Yes, Nick Gall contradicted me 
(&lt;http://microformats
&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000294.
html&gt; .org/discuss/mail/microformats-rest/2006-October/000294.html&gt;). 
His references are to non-authoritative materials that do not 
contradict me.

&gt; So if your justification is [Tim Berners-Lee] saying that URLs need be
&gt; be opaque, I can provide links [...]

My justification has nothing to do with the statements of Tim Berners-Lee.

&gt;&gt; When a program implements an API for an application of REST, the program
&gt;&gt; relies on the presence of links in content. And when the program sifts 
&gt;&gt; content to discover links (rather than constructing URIs according to 
&gt;&gt; explanations)...
&gt; 
&gt; That is not necessarily true. It can be one valid use-case but is not all
&gt; valid use-cases.

What do you make of the following two passages?

"Hypermedia is defined by the presence of application control 
information embedded within, or as a layer above, the presentation of 
information." 
(&lt;http://www.ics.
&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/web_arch_domain.htm#sec_
4_1_3&gt; uci.edu/~fielding/pubs/dissertation/web_arch_domain.htm#sec_4_1_3&gt;)

"REST is defined by four interface constraints: identification of 
resources; manipulation of resources through representations; 
self-descriptive messages; and, hypermedia as the engine of application 
state." 
(&lt;http://www.ics.
&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_
5_1_5&gt; uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_5&gt;)

&gt; The structure of the links are [relevant in] other use-cases.

I presume that "links" here means URLs or some other resource identifiers.

&gt; Take a look at the NING REST API [...]; it does exactly what I'm
&gt; describing (and I can give other examples which I will be doing on the
&gt; blog):
&gt; 
&gt; http://documentatio &lt;http://documentation.ning.com/sections/rest.php&gt;
n.ning.com/sections/rest.php
&gt; 
&gt; Here's Eventful's EVDB api:
&gt; 
&gt; http://api.evdb. &lt;http://api.evdb.com/docs&gt; com/docs
&gt; 
&gt; Here's del.icio.us:
&gt; 
&gt; http://del.icio. &lt;http://del.icio.us/help/api/posts&gt; us/help/api/posts

I read through the documentation that you cited. The subjects of the 
documentation (that is, the software systems and their APIs) break from 
REST in various ways. If these systems, their APIs, or their 
documentation do exactly what youre describing, then you're describing 
something that does not fit within REST.

The key issue is that none of the cited materials are authoritative.

-- 



 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6689<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2006-10-25 16:31:25<br>
Subject:Re: [rest-discuss] Why is Resource-Oriented better than Object-Oriented?<br>
Message:<br><br>
<pre>I also think it is something of a disjoint comparison.

In my admittedly naive view, Resource-Oriented is about *invocation*  
semantics, whereas Object-Oriented is about *implementation*.   It is  
easy (perhaps even preferable) to use an OO language to implement  
your REST structure.  However, the REST argument is that you should  
NOT expose your internal method invocation stack as a web service,  
because you'll lose all those wonderful RESTful scalability advantages.

-- Ernie P.

On Oct 25, 2006, at 7:08 AM, Mark Baker wrote:

&gt; You need only look at the architectural properties that are gained and
&gt; lost relative to "resource oriented" (a known quantity, as Roy's
&gt; dissertation describes) in order to evaluate its suitability for your
&gt; needs.
&gt;
&gt; FWIW though, I've always considered resource-oriented as a more highly
&gt; constrained form of object-oriented, which provides superior
&gt; scalability and simplicity ... which are, IME, desirable in the
&gt; general case for Internet-scale systems.
&gt;
&gt; It's why I've stuck with "distobj" as my email address.
&gt;
&gt; Mark.
&gt;
&gt; On 10/24/06, Richard Dunlap &lt;radunlap@...&gt; wrote:
&gt; &gt; When I discuss the advantages of RESTful web services with web  
&gt; programmers,
&gt; &gt; one fundamental question is frequently raised; "Why are Resource- 
&gt; Oriented
&gt; &gt; web services superior to Object-Oriented web services?".
&gt; &gt;
&gt; &gt; I am fairly-versed with the pro-REST arguments, I have read  
&gt; everything on
&gt; &gt; the subject that I can find. I codeveloped a non-trivial RESTful web
&gt; &gt; service and saw first-hand the advantages of REST. My job includes
&gt; &gt; "selling" technology to other developers. Most developers I  
&gt; encounter
&gt; &gt; immediately grok the tactical advantages of REST (caching,  
&gt; scalability,
&gt; &gt; stateless messages, firewall-friendly, ...), but seem to zone-out  
&gt; over the
&gt; &gt; strategic advantages of Resource-Oriented design over Objected- 
&gt; Oriented
&gt; &gt; design. To be honest, although I believe it, I am weak in  
&gt; defending this
&gt; &gt; assertion. I don't have a firm enough grasp on the academics of the
&gt; &gt; subject.
&gt; &gt;
&gt; &gt;
&gt; &gt; Anyone have some pearls of wisdom? A link, or suggested reading  
&gt; perhaps?
&gt; &gt;
&gt; &gt; TIA,
&gt; &gt;
&gt; &gt; Rick D.
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; "In a time of universal deceit, telling the truth becomes a  
&gt; revolutionary
&gt; &gt; act"
&gt; &gt;
&gt; &gt; -- George Orwell
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6690<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-10-25 17:41:52<br>
Subject:"Lightweight Data Access Services" and Well Designed Urls [rest-discuss]<br>
Message:<br><br>
<pre>Etan (and everyone else):
 
Hi everyone, nice to meet you all. I've been reading the list archives for
the past week so I think I know some of you already. :)
 
As for my intro to this group, Etan unfortunately picked up on an earlier
email that had an earlier subject line when he forwarded this message on.
I've since realized that something like "Lightweight Data Access Services"
might be more appropriate so I changed the subject line in this email.
 
That said, hello to everyone on this list, and I hope you don't mind me
introducing myself. I am currently running a one man consultancy &amp;
publishing business called Giuides, Inc.  For 12 years prior I ran a company
called Xtras, Inc. which started in 1994 as VBxtras: a catalog-based
reseller of VBX &amp; ActiveX components and tools for Visual Basic, and evolved
to be named Xtras.Net as an Internet-based reseller of component and tools
for .NET developers. I grew tired of the need to focus on razor thin margins
and on promoting products that in recent days hurt the development process
more than helped it.  Prior to that I ran a programming training business
and was the chief trainer teaching people how to program in Clipper, the old
dBase compiler and I also wrote a book on Clipper. Per small chance you are
*really* interested in knowing more about me these two post should sum it
up:
 
http://www.mikeschinkel.com/blog/ALittleBackgroundIsInOrder.aspx 
http://www.mikeschinkel.com/blog/StartingANewChapterInLife.aspx 
 
I left Xtras to a partner so I could focus on the things I am passionate
about and quit worrying about managing employees and negotiating better
margins, and hopefully find a way to pay my bills at the same time (I'm
still working on the latter one! :)  One of the several areas I'm passionate
about is "open data" and making the web a more usable and programmable
space. On area that needs improvement IMO is URL structure, especially is
commericial web applications for CMS and eCommerce, web development tools
and plaforms, and large company's corporate websites hence my creating of
WellDesignedUrls.org.  
 
That said, I hope that I am able to contribute to this group (and the web at
large) in some meaningful way.
 
-Mike Schinkel 
President; Guides, Inc. 
http://www.guidesinc.com 
(404) 474-8948 
(404) 276-1276 cell 
(404) 474-8949 fax 
skype: mike.schinkel 
mikes@... 
http://www.mikeschinkel.com/blog 
http://www.welldesignedurls.org/ 
http://www.linkedin.com/in/mikeschinkel 
 

________________________________

From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On
Behalf Of Etan Wexler
Sent: Wednesday, October 25, 2006 2:46 AM
To: rest-discuss@yahoogroups.com
Subject: "Casual Web Services" and Well Designed Urls [rest-discuss]



Mike Schinkel started a thread of discussion on the mailing list 
Microformats Discuss. The message that opens the thread is "[uf-discuss] 
"Casual Web Services" and Well Designed Urls" 
(&lt;http://microformats.org/discuss/mail/microformats-discuss/2006-October/006
341.html
&lt;http://microformats.org/discuss/mail/microformats-discuss/2006-October/0063
41.html&gt; &gt;). 

I am, in this message, replying to Mike Schinkel's "[uf-discuss] "Casual 
Web Services" and Well Designed Urls[uf-rest]" 
(&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000300
.html
&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000300.
html&gt; &gt;):

&gt; Etan Wexler wrote:
&gt; 
&gt;&gt; The structure of URLs is not important knowledge for any API for
&gt;&gt; applications of REST. In fact, the structure of URLs is totally
irrelevant
&gt;&gt; to any such API.
&gt; 
&gt; [...] Can you please provide justification?

I gave the justification, albeit briefly, in a previous message 
(&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000292
.html
&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000292.
html&gt; &gt;):

'REST does not permit programmatic construction of URIs in which the 
construction uses of out-of-band knowledge and bits of data. Read 
sections 5.1.5 ("Uniform Interface", 
&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_
5_1_5
&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_
5_1_5&gt; &gt;) 

and 5.2.1 ("Data Elements", 
&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_
5_2_1
&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_
5_2_1&gt; &gt;) 
of "Architectural Styles and the Design of Network-based Software 
Architectures". Particularly, REST relies on hypermedia as the engine of 
application state, while constructing URIs violates this constraint.'

Mike, you responded, "After reading your email and those sections of
Roy's paper I have absolutely no idea what you were trying to 
communicate to me. Roy's paper is written in such abstract language that 
I am unable to see the issues you bring up." 
(&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000293
.html
&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000293.
html&gt; &gt;)

I then stated my position 
(&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000296
.html
&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000296.
html&gt; &gt;), 
for which you requested justification. Here we find ourselves.

In the meantime, I clarified "constructing URIs" as meaning "a computer 
program's construction of URIs, as opposed to a human's construction of 
URIs" 
(&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000297
.html
&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000297.
html&gt; &gt;). 

I clarified my definition of "out-of-band knowledge" 
(&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000299
.html
&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000299.
html&gt; &gt;).

&gt; [After you sent] your email someone else emailed contradicting you and he
gave
&gt; copious references to support his point.

Yes, Nick Gall contradicted me 
(&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000294
.html
&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000294.
html&gt; &gt;). 
His references are to non-authoritative materials that do not 
contradict me.

&gt; So if your justification is [Tim Berners-Lee] saying that URLs need be
&gt; be opaque, I can provide links [...]

My justification has nothing to do with the statements of Tim Berners-Lee.

&gt;&gt; When a program implements an API for an application of REST, the program
&gt;&gt; relies on the presence of links in content. And when the program sifts 
&gt;&gt; content to discover links (rather than constructing URIs according to 
&gt;&gt; explanations)...
&gt; 
&gt; That is not necessarily true. It can be one valid use-case but is not all
&gt; valid use-cases.

What do you make of the following two passages?

"Hypermedia is defined by the presence of application control 
information embedded within, or as a layer above, the presentation of 
information." 
(&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/web_arch_domain.htm#sec
_4_1_3
&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/web_arch_domain.htm#sec_
4_1_3&gt; &gt;)

"REST is defined by four interface constraints: identification of 
resources; manipulation of resources through representations; 
self-descriptive messages; and, hypermedia as the engine of application 
state." 
(&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec
_5_1_5
&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_
5_1_5&gt; &gt;)

&gt; The structure of the links are [relevant in] other use-cases.

I presume that "links" here means URLs or some other resource identifiers.

&gt; Take a look at the NING REST API [...]; it does exactly what I'm
&gt; describing (and I can give other examples which I will be doing on the
&gt; blog):
&gt; 
&gt; http://documentation.ning.com/sections/rest.php
&lt;http://documentation.ning.com/sections/rest.php&gt; 
&gt; 
&gt; Here's Eventful's EVDB api:
&gt; 
&gt; http://api.evdb.com/docs &lt;http://api.evdb.com/docs&gt; 
&gt; 
&gt; Here's del.icio.us:
&gt; 
&gt; http://del.icio.us/help/api/posts &lt;http://del.icio.us/help/api/posts&gt; 

I read through the documentation that you cited. The subjects of the 
documentation (that is, the software systems and their APIs) break from 
REST in various ways. If these systems, their APIs, or their 
documentation do exactly what youre describing, then you're describing 
something that does not fit within REST.

The key issue is that none of the cited materials are authoritative.

-- 



 



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6691<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-10-25 19:43:37<br>
Subject:RE: "Casual Web Services" and Well Designed Urls [rest-discuss]<br>
Message:<br><br>
<pre>Thanks for the input Dave.
 
I haven't read the document yet (though I've printed it and will read it
later today) but I think I'm understanding your points as:
 
It's okay to design and even construct URLs, but here are some constraints:
 
-- Clients cannot *assume* construction rules
-- Is a specific website/domain/abstract entity defines the construction
rules, then client can use it.
 
Also, can you define better define the "out of band" part of "out of band
data"?  Thanks in advance.
-Mike Schinkel 
 &lt;http://www.mikeschinkel.com/blog&gt; http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/ 



  _____  

From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On
Behalf Of Dave Orchard
Sent: Wednesday, October 25, 2006 12:17 PM
To: 'Etan Wexler'; rest-discuss@yahoogroups.com
Subject: RE: "Casual Web Services" and Well Designed Urls [rest-discuss]




And so we go on the opaqueness of URIs.  Notwithstanding that all HTML FORM
GETs create URIs on the client.  
 
Constructing URIs is absolutely allowed.  
 
Here's an authoritative document: http://www.w3.
&lt;http://www.w3.org/2001/tag/doc/metaDataInURI-31.html&gt;
org/2001/tag/doc/metaDataInURI-31.html
 
Here's a constraint from it: 

Constraint: Web software MUST NOT depend on the correctness of metadata
inferred from a URI, except when the encoding of such metadata is documented
by applicable standards and specifications. 

Applicable standards and specifications is fancy term for "out of band
data".  

Now the finding is in a DRAFT state, but it is about .0001% away from being
complete.

Cheers,

Dave


  _____  

From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On
Behalf Of Etan Wexler
Sent: Tuesday, October 24, 2006 11:46 PM
To: rest-discuss@yahoogroups.com
Subject: "Casual Web Services" and Well Designed Urls [rest-discuss]



Mike Schinkel started a thread of discussion on the mailing list 
Microformats Discuss. The message that opens the thread is "[uf-discuss] 
"Casual Web Services" and Well Designed Urls" 
(&lt;http://microformats
&lt;http://microformats.org/discuss/mail/microformats-discuss/2006-October/0063
41.html&gt; .org/discuss/mail/microformats-discuss/2006-October/006341.html&gt;). 

I am, in this message, replying to Mike Schinkel's "[uf-discuss] "Casual 
Web Services" and Well Designed Urls[uf-rest]" 
(&lt;http://microformats
&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000300.
html&gt; .org/discuss/mail/microformats-rest/2006-October/000300.html&gt;):

&gt; Etan Wexler wrote:
&gt; 
&gt;&gt; The structure of URLs is not important knowledge for any API for
&gt;&gt; applications of REST. In fact, the structure of URLs is totally
irrelevant
&gt;&gt; to any such API.
&gt; 
&gt; [...] Can you please provide justification?

I gave the justification, albeit briefly, in a previous message 
(&lt;http://microformats
&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000292.
html&gt; .org/discuss/mail/microformats-rest/2006-October/000292.html&gt;):

'REST does not permit programmatic construction of URIs in which the 
construction uses of out-of-band knowledge and bits of data. Read 
sections 5.1.5 ("Uniform Interface", 
&lt;http://www.ics.
&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_
5_1_5&gt; uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_5&gt;) 

and 5.2.1 ("Data Elements", 
&lt;http://www.ics.
&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_
5_2_1&gt; uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_2_1&gt;) 
of "Architectural Styles and the Design of Network-based Software 
Architectures". Particularly, REST relies on hypermedia as the engine of 
application state, while constructing URIs violates this constraint.'

Mike, you responded, "After reading your email and those sections of
Roy's paper I have absolutely no idea what you were trying to 
communicate to me. Roy's paper is written in such abstract language that 
I am unable to see the issues you bring up." 
(&lt;http://microformats
&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000293.
html&gt; .org/discuss/mail/microformats-rest/2006-October/000293.html&gt;)

I then stated my position 
(&lt;http://microformats
&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000296.
html&gt; .org/discuss/mail/microformats-rest/2006-October/000296.html&gt;), 
for which you requested justification. Here we find ourselves.

In the meantime, I clarified "constructing URIs" as meaning "a computer 
program's construction of URIs, as opposed to a human's construction of 
URIs" 
(&lt;http://microformats
&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000297.
html&gt; .org/discuss/mail/microformats-rest/2006-October/000297.html&gt;). 

I clarified my definition of "out-of-band knowledge" 
(&lt;http://microformats
&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000299.
html&gt; .org/discuss/mail/microformats-rest/2006-October/000299.html&gt;).

&gt; [After you sent] your email someone else emailed contradicting you and he
gave
&gt; copious references to support his point.

Yes, Nick Gall contradicted me 
(&lt;http://microformats
&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000294.
html&gt; .org/discuss/mail/microformats-rest/2006-October/000294.html&gt;). 
His references are to non-authoritative materials that do not 
contradict me.

&gt; So if your justification is [Tim Berners-Lee] saying that URLs need be
&gt; be opaque, I can provide links [...]

My justification has nothing to do with the statements of Tim Berners-Lee.

&gt;&gt; When a program implements an API for an application of REST, the program
&gt;&gt; relies on the presence of links in content. And when the program sifts 
&gt;&gt; content to discover links (rather than constructing URIs according to 
&gt;&gt; explanations)...
&gt; 
&gt; That is not necessarily true. It can be one valid use-case but is not all
&gt; valid use-cases.

What do you make of the following two passages?

"Hypermedia is defined by the presence of application control 
information embedded within, or as a layer above, the presentation of 
information." 
(&lt;http://www.ics.
&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/web_arch_domain.htm#sec_
4_1_3&gt; uci.edu/~fielding/pubs/dissertation/web_arch_domain.htm#sec_4_1_3&gt;)

"REST is defined by four interface constraints: identification of 
resources; manipulation of resources through representations; 
self-descriptive messages; and, hypermedia as the engine of application 
state." 
(&lt;http://www.ics.
&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_
5_1_5&gt; uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_5&gt;)

&gt; The structure of the links are [relevant in] other use-cases.

I presume that "links" here means URLs or some other resource identifiers.

&gt; Take a look at the NING REST API [...]; it does exactly what I'm
&gt; describing (and I can give other examples which I will be doing on the
&gt; blog):
&gt; 
&gt; http://documentatio &lt;http://documentation.ning.com/sections/rest.php&gt;
n.ning.com/sections/rest.php
&gt; 
&gt; Here's Eventful's EVDB api:
&gt; 
&gt; http://api.evdb. &lt;http://api.evdb.com/docs&gt; com/docs
&gt; 
&gt; Here's del.icio.us:
&gt; 
&gt; http://del.icio. &lt;http://del.icio.us/help/api/posts&gt; us/help/api/posts

I read through the documentation that you cited. The subjects of the 
documentation (that is, the software systems and their APIs) break from 
REST in various ways. If these systems, their APIs, or their 
documentation do exactly what youre describing, then you're describing 
something that does not fit within REST.

The key issue is that none of the cited materials are authoritative.

-- 



 
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6692<br>
Sender:Etan Wexler &lt;ewexler@...&gt;<br>
Post Date/Time:2006-10-25 21:04:12<br>
Subject:Re: "Casual Web Services" and Well Designed Urls [rest-discuss]<br>
Message:<br><br>
<pre>Ernie Prabhakar (Dr. Ernie Prabhakar) wrote to rest-discuss:

&gt; Having tried to follow the discussion uf-discuss, I'm not clear exactly 
&gt; why we're still arguing about it.

I prefer to say that I’m discussing, not arguing. Now, let us argue 
about whether the thread is an argument or a discussion. (That 
imperative was a joke.)

I’m continuing the discussion because of the combination of my desire to 
clarify my knowledge of REST, my desire to evangelize REST to others, 
and the discussion’s lack of conclusion.

&gt; In case it helps, here's how I summarized the "URL opacity" discussion 
&gt; over on uf-rest:
&gt; 
&gt; http://microformats.org/wiki/rest/opacity
&gt; 
&gt; Does that provide any insight?

I had, prior to reading the compiled and annotated discussion, read each 
of the messages from which the compilation came. The compilation may 
(likely will) provide insight for some reader, but it did not add to my 
insight. (Readers of the compilation 
[&lt;http://microformats.org/wiki/rest/opacity&gt;] would benefit from a link 
to the treatment of URI opacity on the RestWiki 
[&lt;http://rest.blueoxen.net/cgi-bin/wiki.pl?RestAndUriOpacity&gt;].)

-- 
Please do not copy replies to me. I read the mailing lists to which I 
subscribe and will find replies in that way.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6693<br>
Sender:Etan Wexler &lt;ewexler@...&gt;<br>
Post Date/Time:2006-10-25 23:36:39<br>
Subject:Re: "Casual Web Services" and Well Designed Urls [rest-discuss]<br>
Message:<br><br>
<pre>Dave Orchard wrote to rest-discuss:

&gt; And so we go on [about] the opaqueness of URIs.  Notwithstanding that all HTML FORM
&gt; GETs create URIs on the client.

I wrote in a previous message to Microformats REST 
(&lt;http://microformats.org/discuss/mail/microformats-rest/2006-October/000299.html&gt;):

“Hypermedia includes rules of construction where the rules find
expression in a resource representation of a standard content type and
where the content type indicates how to interpret the rules. HTML forms
count.”

If my contributions to the current thread of discussion are unclear, 
please give me a chance to clarify them. If you have not read the 
contributions to the current thread of discussion, please do so before 
evaluating or describing my position.

&gt; Constructing URIs is absolutely allowed.

Sometimes, as when a human constructs a URI, REST has no bearing on the 
construction of the URI.

Sometimes, as when software relies on hypermedia to inform and restrict 
the construction of a URI, REST permits the construction of the URI.

Sometimes, as when software relies on resource representations to inform 
the construction of a URI and those resource representations are not 
hypermedia, REST forbids the construction of the URI.

&gt; Here's an authoritative document:
&gt; http://www.w3.org/2001/tag/doc/metaDataInURI-31.html

That document is (or will soon be) authoritative over Web architecture, 
but it is not authoritative over REST.

The document that is authoritative over REST is “Architectural Styles 
and the Design of Network-based Software Architectures” 
(&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm&gt; as a start).

-- 
Please do not copy replies to me. I read the mailing lists to which I
subscribe and will find replies in that way.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6694<br>
Sender:"Dave Orchard" &lt;orchard@...&gt;<br>
Post Date/Time:2006-10-26 00:15:52<br>
Subject:RE: "Casual Web Services" and Well Designed Urls [rest-discuss]<br>
Message:<br><br>
<pre>I don't get the set of URIs that you are concerned with.  It seems to be the
set of URIs that are outside of web architecture (because the finding covers
those inside) and have representations that are not hypermedia (which is
kind of funny because by definition such "things" are not in REST).  Seems
like a fairly uninteresting set to me.  

You seem to have your own internal definition of REST that doesn't map to
one that I'm familiar with.  We've established that you think that Roy and
the TAG aren't any kind of authorities wrt REST - because if you did you'd
know that Roy would have a "Roy stern comment"(tm) on any W3C TAG finding
that contradicted his view of REST and he's also contributed to that
finding.  FWIW, one of the underlying philosophical aspects of REST is that
resources and their representations change, and that includes REST itself.
The spoon is there if we all agree it's there.

Cheers,
Dave


&gt; -----Original Message-----
&gt; From: Etan Wexler [mailto:ewexler@...] 
&gt; Sent: Wednesday, October 25, 2006 4:37 PM
&gt; To: Dave Orchard; rest-discuss@yahoogroups.com
&gt; Subject: Re: "Casual Web Services" and Well Designed Urls 
&gt; [rest-discuss]
&gt; 
&gt; Dave Orchard wrote to rest-discuss:
&gt; 
&gt; &gt; And so we go on [about] the opaqueness of URIs.  
&gt; Notwithstanding that 
&gt; &gt; all HTML FORM GETs create URIs on the client.
&gt; 
&gt; I wrote in a previous message to Microformats REST
&gt; (&lt;http://microformats.org/discuss/mail/microformats-rest/2006-
&gt; October/000299.html&gt;):
&gt; 
&gt; "Hypermedia includes rules of construction where the rules 
&gt; find expression in a resource representation of a standard 
&gt; content type and where the content type indicates how to 
&gt; interpret the rules. HTML forms count."
&gt; 
&gt; If my contributions to the current thread of discussion are 
&gt; unclear, please give me a chance to clarify them. If you have 
&gt; not read the contributions to the current thread of 
&gt; discussion, please do so before evaluating or describing my position.
&gt; 
&gt; &gt; Constructing URIs is absolutely allowed.
&gt; 
&gt; Sometimes, as when a human constructs a URI, REST has no 
&gt; bearing on the construction of the URI.
&gt; 
&gt; Sometimes, as when software relies on hypermedia to inform 
&gt; and restrict the construction of a URI, REST permits the 
&gt; construction of the URI.
&gt; 
&gt; Sometimes, as when software relies on resource 
&gt; representations to inform the construction of a URI and those 
&gt; resource representations are not hypermedia, REST forbids the 
&gt; construction of the URI.
&gt; 
&gt; &gt; Here's an authoritative document:
&gt; &gt; http://www.w3.org/2001/tag/doc/metaDataInURI-31.html
&gt; 
&gt; That document is (or will soon be) authoritative over Web 
&gt; architecture, but it is not authoritative over REST.
&gt; 
&gt; The document that is authoritative over REST is 
&gt; "Architectural Styles and the Design of Network-based 
&gt; Software Architectures" 
&gt; (&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm&gt; 
&gt; as a start).
&gt; 
&gt; --
&gt; Please do not copy replies to me. I read the mailing lists to 
&gt; which I subscribe and will find replies in that way.
&gt; 
&gt; 



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6695<br>
Sender:Duncan Cragg &lt;rest-discuss@...&gt;<br>
Post Date/Time:2006-10-26 00:42:05<br>
Subject:Re: [rest-discuss] Why is Resource-Oriented better than Object-Oriented?<br>
Message:<br><br>
<pre>
&gt; When I discuss the advantages of RESTful web services with web 
&gt; programmers, one fundamental question is frequently raised; "Why are 
&gt; Resource-Oriented web services superior to Object-Oriented web 
&gt; services?".
&gt; Most developers I encounter immediately grok the tactical advantages 
&gt; of REST (caching, scalability, stateless messages, firewall-friendly, 
&gt; ...),  but seem to zone-out over the strategic advantages of 
&gt; Resource-Oriented design over Objected-Oriented design.


Neither 'Resource-Oriented web services' nor 'Object-Oriented web 
services' makes any sense!

If 'Resource-Oriented' means REST, then you can't have a 
'Resource-Oriented web service' because REST is not about web services, 
it's about Resources.  You know: URIs not 'service endpoints'.

If 'Object-Oriented web service' means SOA, then you're about 10 years 
out of date and back to CORBA: most SOA-ites and Web Service-ites have 
long given up the idea that it makes sense to map the object model onto 
the distributed systems world. They kinda went back to RPC for a bit, 
and are now floating around the message-passing paradigm.

Sorry to be so destructive of your email.   =0/

Let me try to be constructive - if they get the 'tactical' advantages of 
REST over SOA, try selling them on the biggest strategic advantage of 
all: interoperability!  See all the voluminous literature on REST vs 
SOA(P) to back you up on this.

Once they get that, I would start to explain the benefits of declarative 
over imperative architectures - but that's my own crusade and I'm 
straying from REST orthodoxy a bit with that...  =0)

Good luck!

Duncan




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6696<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-10-26 00:50:35<br>
Subject:Re: [rest-discuss] Why is Resource-Oriented better than Object-Oriented?<br>
Message:<br><br>
<pre>Duncan Cragg &lt;rest-discuss@...&gt; writes:

&gt; Let me try to be constructive - if they get the 'tactical' advantages of 
&gt; REST over SOA, try selling them on the biggest strategic advantage of 
&gt; all: interoperability!  See all the voluminous literature on REST vs 
&gt; SOA(P) to back you up on this.

Indeed. In order to teach my grandmother to suck eggs I'll have a
little rant on the subject if I may. 

I am hacking on the python SOAP/WSDL stuff right now and it's a
shining example of why that paradigm is so appalling.

Programmers like SOAP/WSDL because they are told by the tool makers
that they can trivially publish and consume their code as webservices
without changing the way they write code.

But it's *so* not true. As soon as you want to do something a little
bit unusual (in my case get at the ws from python) all sorts of things
start to break.

Programmers need to learn you don't get anything for nothing and that
it's better to be honest with your customers and your boss and do the
thing correctly in the first place.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6697<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-10-26 08:27:48<br>
Subject:RE: "Lightweight Data Access Services" and Well Designed Urls [rest-discuss]<br>
Message:<br><br>
<pre>Dave:
 
Since this discussion started at microformats-discuss it is a bit confusing.
So I'll ask; was your reply for Etan, or indirectly for me who originated
this email thread? At this point I'm terribly confused but I would really
like to discuss the merits of my original idea, the one that Etan quickly
came to debate me one.
-Mike Schinkel 
http://www.mikeschinkel.com/blog 
http://www.welldesignedurls.org/ 



  _____  

From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On
Behalf Of Dave Orchard
Sent: Wednesday, October 25, 2006 8:16 PM
To: rest-discuss@yahoogroups.com
Subject: RE: "Casual Web Services" and Well Designed Urls [rest-discuss]



I don't get the set of URIs that you are concerned with. It seems to be the
set of URIs that are outside of web architecture (because the finding covers
those inside) and have representations that are not hypermedia (which is
kind of funny because by definition such "things" are not in REST). Seems
like a fairly uninteresting set to me. 

You seem to have your own internal definition of REST that doesn't map to
one that I'm familiar with. We've established that you think that Roy and
the TAG aren't any kind of authorities wrt REST - because if you did you'd
know that Roy would have a "Roy stern comment"(tm) on any W3C TAG finding
that contradicted his view of REST and he's also contributed to that
finding. FWIW, one of the underlying philosophical aspects of REST is that
resources and their representations change, and that includes REST itself.
The spoon is there if we all agree it's there.

Cheers,
Dave

&gt; -----Original Message-----
&gt; From: Etan Wexler [mailto:ewexler@stickdog.
&lt;mailto:ewexler%40stickdog.com&gt; com] 
&gt; Sent: Wednesday, October 25, 2006 4:37 PM
&gt; To: Dave Orchard; rest-discuss@ &lt;mailto:rest-discuss%40yahoogroups.com&gt;
yahoogroups.com
&gt; Subject: Re: "Casual Web Services" and Well Designed Urls 
&gt; [rest-discuss]
&gt; 
&gt; Dave Orchard wrote to rest-discuss:
&gt; 
&gt; &gt; And so we go on [about] the opaqueness of URIs. 
&gt; Notwithstanding that 
&gt; &gt; all HTML FORM GETs create URIs on the client.
&gt; 
&gt; I wrote in a previous message to Microformats REST
&gt; (&lt;http://microformats
&lt;http://microformats.org/discuss/mail/microformats-rest/2006-&gt;
.org/discuss/mail/microformats-rest/2006-
&gt; October/000299.html&gt;):
&gt; 
&gt; "Hypermedia includes rules of construction where the rules 
&gt; find expression in a resource representation of a standard 
&gt; content type and where the content type indicates how to 
&gt; interpret the rules. HTML forms count."
&gt; 
&gt; If my contributions to the current thread of discussion are 
&gt; unclear, please give me a chance to clarify them. If you have 
&gt; not read the contributions to the current thread of 
&gt; discussion, please do so before evaluating or describing my position.
&gt; 
&gt; &gt; Constructing URIs is absolutely allowed.
&gt; 
&gt; Sometimes, as when a human constructs a URI, REST has no 
&gt; bearing on the construction of the URI.
&gt; 
&gt; Sometimes, as when software relies on hypermedia to inform 
&gt; and restrict the construction of a URI, REST permits the 
&gt; construction of the URI.
&gt; 
&gt; Sometimes, as when software relies on resource 
&gt; representations to inform the construction of a URI and those 
&gt; resource representations are not hypermedia, REST forbids the 
&gt; construction of the URI.
&gt; 
&gt; &gt; Here's an authoritative document:
&gt; &gt; http://www.w3. &lt;http://www.w3.org/2001/tag/doc/metaDataInURI-31.html&gt;
org/2001/tag/doc/metaDataInURI-31.html
&gt; 
&gt; That document is (or will soon be) authoritative over Web 
&gt; architecture, but it is not authoritative over REST.
&gt; 
&gt; The document that is authoritative over REST is 
&gt; "Architectural Styles and the Design of Network-based 
&gt; Software Architectures" 
&gt; (&lt;http://www.ics.
&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm&gt;
uci.edu/~fielding/pubs/dissertation/top.htm&gt; 
&gt; as a start).
&gt; 
&gt; --
&gt; Please do not copy replies to me. I read the mailing lists to 
&gt; which I subscribe and will find replies in that way.
&gt; 
&gt; 



 
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6698<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2006-10-26 09:59:18<br>
Subject:Re: [rest-discuss] Why is Resource-Oriented better than Object-Oriented?<br>
Message:<br><br>
<pre>Richard Dunlap wrote:
&gt; When I discuss the advantages of RESTful web services with web 
&gt; programmers, one fundamental question is frequently raised; "Why are 
&gt; Resource-Oriented web services superior to Object-Oriented web services?".

Resource oriented is good because it's actually possible.

Object-oriented is bad, because it's not actually possible - you just 
have something pretending to be object oriented but it's still sending a 
representation of an object rather than an object itself.

Being object oriented, but admitting that you're sending representations 
rather than objects and developing that part of the system appropriately 
is good too.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6699<br>
Sender:Etan Wexler &lt;ewexler@...&gt;<br>
Post Date/Time:2006-10-26 11:38:04<br>
Subject:Defining and revising REST [rest-discuss]<br>
Message:<br><br>
<pre>Dave Orchard wrote to rest-discuss:

&gt; I don't get the set of URIs that you are concerned with.  It seems to be the 
&gt; set of URIs that are outside of web architecture (because the finding covers 
&gt; those inside) and have representations that are not hypermedia (which is 
&gt; kind of funny because by definition such "things" are not in REST).

I’m concerned with all URIs used as URIs. I’m not concerned with URIs
that are not used (as when a person thinks of a URI, perhaps writes it,
but neither maps the URI to a set representations nor divulges the URI
to any agent). I’m not concerned with any URI (per RFC 3986, “a compact
sequence of characters that identifies an abstract or physical
resource”) that, although used, is not used as a URI (as with the string
"Jifty::DBI", which meets the syntactic requirements for URIs per RFC
3986 and which identifies a resource [a module for the Perl programming
language]).

The draft finding on metadata in URIs
(&lt;http://www.w3.org/2001/tag/doc/metaDataInURI-31-20061016.html&gt;) covers
URIs in Web architecture. The draft finding and the finding which will
obsolete it do not define REST. Web architecture and REST are distinct.
There is no problem here, and I’m still concerned with the URIs in Web
architecture.

The resources &lt;http://www.w3.org/Icons/w3c_main.png&gt; and
&lt;http://www.rfc-editor.org/rfc/rfc3986.txt&gt; have representations that
are not hypermedia. Are the resources
&lt;http://www.w3.org/Icons/w3c_main.png&gt; and
&lt;http://www.rfc-editor.org/rfc/rfc3986.txt&gt; in REST? Are the resources
&lt;http://www.w3.org/Icons/w3c_main.png&gt; and
&lt;http://www.rfc-editor.org/rfc/rfc3986.txt&gt; in the Web?

&gt; You seem to have your own internal definition of REST that doesn't map to 
&gt; one that I'm familiar with.

I have an interpretation of the definition of REST, yes.

&gt; We've established that you think that Roy and the TAG aren't any kind of 
&gt; authorities [with regard to] REST

Do you mean “authorities” as agents with great knowledge of a subject?
(“Michael Jackson is an authority on beer.”)

I mean “authorities” as agents which decide what is and what is not.
(“Authorities of the Saudi government detained Michael Jackson for
sneaking a beer into the kingdom.”)

Certainly Roy Fielding and the members of the W3C TAG have great
knowledge of REST. In cases where “Architectural Styles and the Design
of Network-based Software Architectures” (starting at
&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm&gt;) uses
undefined terms or contradicts itself, Roy Fielding is the authority for
clarifications.

If it comes to a conflict between what Roy Fielding wrote in his
dissertation and what he intended, then what he wrote is authoritative
(that is, defines REST) and what he intended is not authoritative.

&gt; One of the underlying philosophical aspects of REST is that
&gt; resources and their representations change, and that includes REST itself.

Some resources change. Resources like &lt;data:,Static.&gt; do not and cannot 
change: “a resource R is a temporally varying membership
function MR(t), which for time t maps to a set of entities, or values,
which are equivalent.” ... “Some resources are static in the sense that,
when examined at any time after their creation, they always correspond
to the same value set. Others have a high degree of variance in their
value over time. The only thing that is required to be static for a
resource is the semantics of the mapping, since the semantics is what
distinguishes one resource from another.”
(&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_2_1_1&gt;)

Representations do not and cannot change: “A representation is a
sequence of bytes, plus representation metadata to describe those
bytes.” ... “Metadata is in the form of name-value pairs, where the name
corresponds to a standard that defines the value's structure and
semantics.”
(&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_2_1_2&gt;) 

Any attempt to change a representation creates a distinction and
therefore a separate representation. (See also the discussion on
www-tag, starting with
&lt;http://lists.w3.org/Archives/Public/www-tag/2006Oct/0007.html&gt;)

There can be successors to REST — even with the phrase “Representational
State Transfer” in their names — but REST does not change. There can be 
architectural styles with the name “Representational State Transfer”. 
Reusing the name would not make those architectural styles be REST.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6700<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-10-27 01:08:08<br>
Subject:RE: "Lightweight Data Access Services" and Well Designed Urls [rest-discuss]<br>
Message:<br><br>
<pre>Eran:

I was getting the feeling of wasting time which is why I said what I said,
but after contemplation the original idea is actually moot. The original
idea was to piggy back on a proposed campaign to promote Microformats and
several other things. But Tantek shot down the idea of a promo campaign, so
that made the idea moot.

However, my reasons for wanting to piggyback on the campaign was because I
felt that Microformats and Well Designed Urls were synergistic.  In my view,
I envision Microformats with my understanding of REST to be a combination
which could give us what I am now calling "Lightweight Data Access Services"
(or possibly "Lightweight Web Services") I felt that for Microformats+REST
to be provide usable "lightweight" web services would require that people be
able to understand the URLs.  

My view for how LDAS/LWS would be used is that someone could, for example,
go to a Barne's &amp; Noble (BN.COM) web page and notice that they had a button
that indicated the page supported LDAS/LWS (I actually have a meme for it,
but I'm not making that public until the concept it fleshed out.)  They
would then be able use a bookmarklet to grab the data, or even then write a
simple program to grab the data from multiple files on their website, which
would be possibly documented at http://www.bn.com/ldas/ (this is not a "well
known name"; every website would choose how they document on their own.)

You however debated my use of REST before I could even begin to discuss the
benefits of the concept.  You brought up the issue of URI Opacity, which I
was unaware of but have since studied significantly. I now realize it is a
principle that has become misunderstood and misapplied as if it were a
"religious doctrine" with true believers as fervent as any religion and
little debate on the subject that does not contain strong emotion with few
willing to even consider other's positions.  Just like religion.  But
fortunately, Roy clarified it to say that (essentially) there is nothing
wrong with humans contructing URIs and guessing, but client's just can't
depending on that behavior unless documented by the URI authority (i.e
website.)

The next issue you debated with me was whether REST required hypermedia. I
am still unclear as to what hypermedia exactly looks like (I've seen zero
real world examples in anything I've read online) but there does seem to be
less debate on the subject in the mail list archives and it seem that it is
generally agreed that "hypermedia" is a requirement for REST (although I
reserve the right to revise my opinion on that.)   Further, after reading I
do understand the proposed benefits of REST; i.e. it is easier and faster to
redirect one URL than all of them, and it is (very arguably) easier to
define "selectors" (my term) for the different services that will not change
than it is to define URIs for the different services that will not change,
right?

However, ALL of the examples of web services implementations I have seen
that claim to be REST-based DO NOT incorporate a "hypermedia" aspect.
Further, all the articles I have read about REST including on XML.com do not
say anything at all about a hypermedia requirement.  What that tells me is
that, besides the irovy tower academics, almost nobody in industry has any
idea at all that REST requires hypermedia and as such most if not almost all
implements of http-based web services that will be labeled REST will not be
REST according to the strick sense of this groups definition.  Most on this
REST-DISCUSS list will know this requirement, but the vast majority of
developers in the world are not on this list.

So that then begs the following questions in my mind: If people are
implementing http-based web services that are like REST except for the
hypermedia constraint:

1.) Is it really a _requirement_, or is it just to incorporate hypermedia
into the implementation?
2.) What happens when Real World implementations don't implement a
requirement?  Is it possible that would call into question if it is a
_requirement_ or just a recommendation?
3.) Why is it a requirement?  Is it possible that in hindsight it isn't
really a requirement?
4.) If hypermedia is an absolutely a requirement, then about all those
http-based web services that don't incorporate hypermedia but that are doing
real world legitimate work? Are they invalid?
5.) And if everyone uses the term REST for something this group says in not
REST, where does that leave us?  

Note that for many years there were Relational Databases that did not
incorporate all the requirements to be considered a "Relational Database"
(I'm actually not sure any commercial product has ever implement 100% of the
requirements.)  So does that not call into question what is a "requirement?"


That said, here is my take on it given what I know today:

* I believe a hypermedia requirement raises the bar with respect to the
requirements to use.  

* I believe in certain contexts, the benefits of hypermedia are absolutely
essential such as when implementing a mission critical system where downtime
has signficant costs.

* I believe in other contexts, the costs of hypermedia far outweight its
benefits, i.e. that is too much must be learned and/or too much code must be
written. Consider "occupational programmers" that struggle to do the
simplest programming task because they only program 5% or 10% of their time.
When they use a web service (downloading credit card transactions, for
example) they are just trying to streamline their work processes. If it
breaks, oh well they'll go fix it. But the benefits they get from having it
working most of the time are far beyond NOT having the implementation, and
it implementing the hypermedia interface was too difficult they never would.

* Finally I believe that REST-based systems within a corporation or between
trading partners is a very different prospect than http-based web services
that are published by a company on a publicly accessible website, i.e.
Amazon, eBay, Google, Yahoo, Flickr, etc. etc.  Intra-company or
Inter-company it is much more likely people will need to move resources. In
a publicly accessible API, they are pretty brain-dead if they publish a URL
that needs to be moved.

Anyway, so what would I like us to focus on to begin with?  Let's focus on
any one of the following:

* URI Opacity - Is it okay to construct URI assuming the URI authority
published specifications?
* Hypermedia - Does REST *require* it, and if so WHY? Should we erect
fences, or pave the footpaths?
* Then, is LDAS/LSW REST?
* Regardless of whether my LDAS/LWS proposal is REST or not, I think it
makes tons of sense (actually, I think it's codifying the benefits of
Microformats); do you disagree?

I look forward to your reply and other people's input.

-Mike Schinkel
http://www.mikeschinkel.com/blog
http://www.welldesignedurls.org/


-----Original Message-----
From: Etan Wexler [mailto:ewexler@...] 
Sent: Thursday, October 26, 2006 7:05 AM
To: Mike Schinkel
Subject: Re: "Lightweight Data Access Services" and Well Designed Urls
[rest-discuss]

Mike, you wrote:

&gt; I can't debate three things at once.

Three things at once would be an improvement!

There are so many issues that have risen from the discussion.

&gt; We need to stick to one at a time or it just become mental masturbation.

I read that you would really like to discuss the merits of your original
idea.

What was your original idea?

It seems like you advanced several ideas in that first message to
Microformats Discuss
(&lt;http://microformats.org/discuss/mail/microformats-discuss/2006-October/006
341.html&gt;).

Sincerely,
Etan.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6701<br>
Sender:Etan Wexler &lt;ewexler@...&gt;<br>
Post Date/Time:2006-10-27 11:59:37<br>
Subject:Re: "Lightweight Data Access Services" and Well Designed Urls [rest-discuss]<br>
Message:<br><br>
<pre>Mike Schinkel wrote to rest-discuss:

&gt; I felt that for Microformats+REST to [...] provide usable "lightweight" 
&gt; web services would require that people be able to understand the URLs.

Understandable URLs can be great.

Understandable URLs won’t cover all cases. When understandability 
requires a long URL, overall usability suffers. Language barriers and 
localizations introduce a set of problems. Consider the following three 
IRIs. Which most understandable? Which is most usable? Do the answers 
vary based on the context?

"http://el.wikipedia.org/wiki/%CE%A7%CE%B5%CE%B9%CF%81%CF%8C%CE%B3%CF%81%CE%B1%CF%86%CE%B1_%CF%84%CE%B7%CF%82_%CE%9D%CE%B5%CE%BA%CF%81%CE%AC%CF%82_%CE%98%CE%AC%CE%BB%CE%B1%CF%83%CF%83%CE%B1%CF%82"

"http://el.wikipedia.org/wiki/Χειρόγραφα_της_Νεκράς_Θάλασσας"

"http://tinyurl.com/wwr23"

&gt; I am still unclear as to what hypermedia exactly looks like

HTML is a form of hypermedia. There are other forms: Atom, XHTML, 
RDF/XML, N3, SVG, ...

&gt; (I've seen zero real world examples in anything I've read online)

If you’ve seen a Web page, you’ve seen hypermedia.

&gt; I do understand the proposed benefits of REST; i.e. it is easier and faster
&gt; to redirect one URL than all of them

I’m uncertain of your meaning. It is indeed easier and faster to manage 
one redirection than it is to manage more than one redirection. How does 
REST affect the number of redirections that managers must manage?

&gt; it is (very arguably) easier to
&gt; define "selectors" (my term) for the different services that will not change
&gt; than it is to define URIs for the different services that will not change,
&gt; right?

I’m uncertain of your meaning. However, REST requires identification of 
resources. Applied to the Web, the constraint requires allocating at 
least one URI for each service. (Having multiple URIs for a given 
service is probably lousy practice.)

&gt; Further, all the articles I have read about REST[,] including 
&gt; [those] on XML.com[,] do not
&gt; say anything at all about a hypermedia requirement.

XML.com published Joe Gregorio’s “Constructing or Traversing URIs?” 
(&lt;http://www.xml.com/pub/a/2005/04/06/restful.html&gt;).

&gt; If people are
&gt; implementing http-based web services that are like REST except for the
&gt; hypermedia constraint:
&gt; 
&gt; 1.) Is it really a _requirement_, or is it just to incorporate hypermedia
&gt; into the implementation?

Is the use of hypermedia as the engine of application state a 
requirement? Yes. Is it a requirement that every representation be 
hypermedia? No. A resource representation that is not hypermedia does 
not offer state transitions. A resource representation that is not 
hypermedia is like a dead-end road. Dead-end roads are fine as part of a 
larger system of linked roads and pathways.

&gt; 2.) What happens when Real World implementations don't implement a
&gt; requirement?

That which happens depends on the requirement and on the implementation 
choices. If the requirement is sound, the violation of the requirement 
has a negative effect.

&gt; Is it possible that would call into question if it is a
&gt; _requirement_ or just a recommendation?

It is not possible that a lack of implementation would call into 
question the status of a requirement. A lack of implementation would 
call into question the merit of the requirement. A lack of 
implementation would call into question the evangelical skill of people 
who believe that the requirement has merit.

&gt; 3.) Why is it a requirement? 

If you’re asking about what Roy Fielding was thinking when he wrote his 
dissertation, I’ll leave the answering to him.

If you’re asking about the benefits of using hypermedia as the engine of 
application state, I’ll give a thin answer: using hypermedia as the 
engine of application state induces desirable architectural properties. 
I hope that somebody will present a fuller answer, but I’ll work on a 
fuller answer if nobody presents one.

&gt; Is it possible that in hindsight it isn't really a requirement?

It is not possible, with hindsight or without, that the constraint is 
not a requirement. It is possible that hindsight question the merit of a 
the requirement. It is possible that hindsight inform the development of 
new requirements. It is possible that hindsight inform a choice to 
abandon an architectural style.

&gt; 4.) If hypermedia is an [absolute] requirement, then [what] about all those
&gt; http-based web services that don't incorporate hypermedia but that are doing
&gt; real world legitimate work? Are they invalid?

HTTP-based services that don’t incorporate hypermedia but that are doing 
real-world, legitimate work do not conform to REST. I think that 
conforming to REST is not a requirement for validity (in the lay sense).

&gt; 5.) And if everyone uses the term REST for something this group says in not
&gt; REST, where does that leave us?

I don’t know where common misuse of the term “REST” leaves us.

&gt; * I believe a hypermedia requirement raises the bar with respect to the
&gt; requirements to use.
[...]
&gt; * I believe [that,] in other contexts, the costs of hypermedia far
&gt; [outweigh] its benefits, [...] too much must be learned and/or too
&gt; much code must be written.

Is there too much to learn or too much code to write in order to use 
HTML, Atom, XHTML, RDF/XML, N3, or SVG? I think that (to varying 
degrees, respectively) these forms of hypermedia are known and that 
there exist software libraries to manipulate hypermedia of these forms.

What is an alternative to hypermedia?

&gt; * URI Opacity - Is it okay to construct URI assuming the URI authority
&gt; published specifications?

Consider an agent constructing a URI.

If the agent is not a piece of software, then REST has no bearing. REST 
is an architectural style for software. If the agent is a person, then 
the agent can construct any URI for any use without violating REST. For 
some URIs, some uses are okay. As an example, I have just constructed 
the URI "http://example.net/explanation" to use as an explanatory aid.

If the agent is a piece of software doing nothing more than hastening a 
person’s construction of the URI, then the situation is tantamount to 
the situation just described and REST has no bearing. As an example, I 
enter “rfc 3986” in my Web browser, the browser constructs the URI 
"http://www.ietf.org/rfc/rfc3986.txt", and the browser sends a “GET” 
request with the constructed URI as the Request-URI.

If the agent is a piece of software doing something more than hastening 
a person’s construction of the URI, then REST has a bearing.

Suppose that the agent is a piece of software doing something more than 
hastening a person’s construction of the URI.

If the agent relies on hypermedia of a standard media type to provide 
rules for the construction, then the agent is within REST. As an 
example, consider the following hypothetical transcript of HTTP exchanges.

GET / HTTP/1.1
Host: example.org

HTTP/1.1 200 OK
Date: Fri, 20 Oct 2006 17:12:31 GMT
Content-Type: text/html; charset=UTF-8
Content-Length: 154

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"&gt;
&lt;html&gt;&lt;head&gt;&lt;title&gt;Example&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;div&gt;&lt;a href="books"&gt;Books&lt;/a&gt;&lt;/div&gt;&lt;/body&gt;&lt;html&gt;

GET /books HTTP/1.1
Host: example.org

HTTP/1.1 200 OK
Date: Fri, 20 Oct 2006 17:12:32 GMT
Content-Type: text/html; charset=UTF-8
Content-Length: 425

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"&gt;
&lt;html&gt;&lt;head&gt;&lt;title&gt;Books&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;form method="GET" action="status"&gt;
&lt;label&gt;&lt;input type="radio" checked="checked"
name="book" value="1"&gt; Teach Yourself Representational
State Transfer in an Hour&lt;/label&gt;
&lt;label&gt;&lt;input type="radio"
name="book" value="2"&gt; Web 3.14: A Fond History&lt;/label&gt;
&lt;input type="submit"
value="Check status"&gt;&lt;/form&gt;&lt;/body&gt;&lt;html&gt;

GET /status?book=1 HTTP/1.1
Host: example.org

HTTP/1.1 200 OK
Date: Fri, 20 Oct 2006 17:12:33 GMT
Connection: close
Content-Type: text/html; charset=UTF-8
Content-Length: 271

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"&gt;
&lt;html&gt;&lt;head&gt;&lt;title&gt;Status of "Teach Yourself
Representational State Transfer in an Hour"&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;p&gt;There are 4 copies of "Teach Yourself
Representational State Transfer in an Hour".&lt;/p&gt;&lt;/body&gt;&lt;html&gt;

Implicit in the transcript is the agent’s use of the HTML form. This use 
is both URI construction and using hypermedia as the engine of 
application state.

The other construction, also obedient to the constraint of hypermedia as 
the engine of application state, stems from the representation of 
&lt;http://example.org/&gt;. Yes, resolving a URI-reference against a base URI 
is URI construction.

If the agent is not an origin server and relies on anything other than 
hypermedia of a standard media type to provide rules for the 
construction, then the agent does not conform to REST. Examples include 
relying on hypermedia of a nonstandard media type, relying on resource 
representations that are not hypermedia, and relying on transition rules 
the agent’s creator programmed into the agent’s code.

If the agent is an origin server, then the agent can construct any URI 
within the agent’s scope of authority and still conform to REST. As an 
example, consider the following hypothetical transcript of HTTP exchanges.

GET / HTTP/1.1
Host: example.org

HTTP/1.1 200 OK
Date: Fri, 20 Oct 2006 17:12:31 GMT
Content-Type: text/html; charset=UTF-8
Content-Length: 155

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"&gt;
&lt;html&gt;&lt;head&gt;&lt;title&gt;Web site&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;div&gt;&lt;a href="Alice"&gt;Alice&lt;/a&gt;&lt;/div&gt;&lt;/body&gt;&lt;html&gt;

PUT /Alice HTTP/1.1
Host: example.org
Content-Type: text/html; charset=UTF-8
Content-Length: 283

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"&gt;
&lt;html&gt;&lt;head profile=
"http://www.w3.org/2006/03/hcard"&gt;&lt;title&gt;Alice's
stuff&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;p&gt;I make &lt;a href="/"&gt;Web site&lt;/a&gt;.&lt;/p&gt;
&lt;address class="vcard"&gt;&lt;span class="fn n"&gt;Alice
McWebby&lt;/span&gt;&lt;/address&gt;&lt;/body&gt;&lt;html&gt;

HTTP/1.1 200 OK
Date: Fri, 20 Oct 2006 17:12:32 GMT
Content-Type: text/html; charset=UTF-8
Content-Length: 283

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"&gt;
&lt;html&gt;&lt;head profile=
"http://www.w3.org/2006/03/hcard"&gt;&lt;title&gt;Alice's
stuff&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;p&gt;I make &lt;a href="/"&gt;Web site&lt;/a&gt;.&lt;/p&gt;
&lt;address class="vcard"&gt;&lt;span class="fn n"&gt;Alice
McWebby&lt;/span&gt;&lt;/address&gt;&lt;/body&gt;&lt;html&gt;

GET / HTTP/1.1
Host: example.org

HTTP/1.1 200 OK
Date: Fri, 20 Oct 2006 17:12:33 GMT
Content-Type: text/html; charset=UTF-8
Content-Length: 202

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"&gt;
&lt;html&gt;&lt;head&gt;&lt;title&gt;Web site&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;div&gt;&lt;a href="Alice"&gt;Alice&lt;/a&gt; has a &lt;a href=
"Alice/card"&gt;business card&lt;/a&gt;&lt;/div&gt;&lt;/body&gt;&lt;html&gt;

GET /Alice/card HTTP/1.1
Host: example.org

HTTP/1.1 200 OK
Date: Fri, 20 Oct 2006 17:12:34 GMT
Content-Type: text/directory; profile=VCARD; charset=UTF-8
Content-Length: 77

BEGIN:VCARD
VERSION:3.0
FN:Alice McWebby
N:McWebby;Alice;;;
END:VCARD

Entry into a system of hypermedia is outside the scope of REST. REST 
doesn’t forbid any points of entry. REST doesn’t mandate any points of 
entry. REST doesn’t constrain whether or how people pass URIs for points 
of entry to other people or to software. REST doesn’t constrain whether 
or how software stores URIs for points of entry (bookmarks, history).

Navigation within the system is what REST would constrain. Even at that, 
if a person discovers a URI during the course of navigation, the person 
can enter the system anew using the discovered URI.

-- 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6702<br>
Sender:Richard Dunlap &lt;radunlap@...&gt;<br>
Post Date/Time:2006-10-27 14:05:05<br>
Subject:Re: [rest-discuss] Why is Resource-Oriented better than Object-Oriented?<br>
Message:<br><br>
<pre>So if a resource is just an object which is constrained to the same  
four (at most) methods, then how does this fact effect the modeling  
process?  The answer is it completely and utterly changes it!

It changes how you go from use-cases, to actors, to classes, to  
messages, etc.  I contend that any modeling acumen that you may  
possess goes out the window when you attempt to model resources.

Ciao,

	Rick


On Oct 25, 2006, at 9:08 AM, Mark Baker wrote:

&gt; You need only look at the architectural properties that are gained and
&gt; lost relative to "resource oriented" (a known quantity, as Roy's
&gt; dissertation describes) in order to evaluate its suitability for your
&gt; needs.
&gt;
&gt; FWIW though, I've always considered resource-oriented as a more highly
&gt; constrained form of object-oriented, which provides superior
&gt; scalability and simplicity ... which are, IME, desirable in the
&gt; general case for Internet-scale systems.
&gt;
&gt; It's why I've stuck with "distobj" as my email address.
&gt;
&gt; Mark.
&gt;
&gt; On 10/24/06, Richard Dunlap &lt;radunlap@...&gt; wrote:
&gt;&gt; [snip]
&gt;&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6703<br>
Sender:Richard Dunlap &lt;radunlap@...&gt;<br>
Post Date/Time:2006-10-27 14:51:55<br>
Subject:Re: [rest-discuss] Why is Resource-Oriented better than Object-Oriented?<br>
Message:<br><br>
<pre>I understand that there are no resource-oriented development tools,  
et al.  In fact the lack these types of tool is a major stumbling- 
block in minds of many developers, but that's another topic.   What I  
am trying to elucidate to other developers is that a resource-modeled  
web application is inherently more "internet scalable" than what they  
are used to.  And what they are used to is modeling their web  
services with UML tools.  Clearly, at the moment there are no  
equivalent RESTful tools.

The first question out of mouths of developers is "How does REST (and  
therefore resource-oriented design) make my job easier?".  And I  
think that the answer is;  it doesn't.  But it does make your  
application lighter, faster, easier to federate, and operate across  
multiple trust domains.

Ciao,

	Rick


On Oct 25, 2006, at 11:31 AM, Dr. Ernie Prabhakar wrote:

&gt; I also think it is something of a disjoint comparison.
&gt;
&gt; In my admittedly naive view, Resource-Oriented is about  
&gt; *invocation* semantics, whereas Object-Oriented is about  
&gt; *implementation*.   It is easy (perhaps even preferable) to use an  
&gt; OO language to implement your REST structure.  However, the REST  
&gt; argument is that you should NOT expose your internal method  
&gt; invocation stack as a web service, because you'll lose all those  
&gt; wonderful RESTful scalability advantages.
&gt;
&gt; -- Ernie P.
&gt;
[snip]
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6704<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2006-10-27 16:59:16<br>
Subject:Re: [rest-discuss] Why is Resource-Oriented better than Object-Oriented?<br>
Message:<br><br>
<pre>Hi Richard,

On Oct 27, 2006, at 7:51 AM, Richard Dunlap wrote:
&gt; The first question out of mouths of developers is "How does REST  
&gt; (and therefore resource-oriented design) make my job easier?".  And  
&gt; I think that the answer is;  it doesn't.  But it does make your  
&gt; application lighter, faster, easier to federate, and operate across  
&gt; multiple trust domains.

For what its worth (which again, may not be much), I tend to think of  
"resource-oriented design" (which may or may not be the right term)  
as more like designing a database schema, rather than than object  
model. It really is a completely different formulation of the  
problem, which makes some problems much easier to solve (cf. Amazon's  
RESTful vs. SOAPy interfaces), but isn't necessarily appropriate for  
*all* problems.

Personally, I think framing the discussion as Resource-Oriented vs.  
Object-Oriented is not the best way to look at it, but that is  
perhaps another discussion.

-- Ernie P.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6705<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-10-27 20:53:17<br>
Subject:RE: [rest-discuss] Why is Resource-Oriented better than Object-Oriented?<br>
Message:<br><br>
<pre>Rick:

Thanks an interesting perspective. Rick, what kind of REST tools would you
like to see, exactly?

-Mike 

-----Original Message-----
From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On
Behalf Of Richard Dunlap
Sent: Friday, October 27, 2006 10:52 AM
To: Dr. Ernie Prabhakar; rest-discuss@yahoogroups.com
Subject: Re: [rest-discuss] Why is Resource-Oriented better than
Object-Oriented?

I understand that there are no resource-oriented development tools, et al.
In fact the lack these types of tool is a major stumbling- 
block in minds of many developers, but that's another topic.   What I  
am trying to elucidate to other developers is that a resource-modeled web
application is inherently more "internet scalable" than what they are used
to.  And what they are used to is modeling their web services with UML
tools.  Clearly, at the moment there are no equivalent RESTful tools.

The first question out of mouths of developers is "How does REST (and
therefore resource-oriented design) make my job easier?".  And I think that
the answer is;  it doesn't.  But it does make your application lighter,
faster, easier to federate, and operate across multiple trust domains.

Ciao,

	Rick


On Oct 25, 2006, at 11:31 AM, Dr. Ernie Prabhakar wrote:

&gt; I also think it is something of a disjoint comparison.
&gt;
&gt; In my admittedly naive view, Resource-Oriented is about
&gt; *invocation* semantics, whereas Object-Oriented is about  
&gt; *implementation*.   It is easy (perhaps even preferable) to use an  
&gt; OO language to implement your REST structure.  However, the REST 
&gt; argument is that you should NOT expose your internal method invocation 
&gt; stack as a web service, because you'll lose all those wonderful 
&gt; RESTful scalability advantages.
&gt;
&gt; -- Ernie P.
&gt;
[snip]


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6706<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2006-10-27 20:48:46<br>
Subject:Re: "Casual Web Services" and Well Designed Urls [rest-discuss]<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, Etan Wexler &lt;ewexler@...&gt; wrote:
&gt; The key issue is that none of the cited materials are authoritative.


I'm sorry but this is absurd. As I said in my original response to Etan
in the other mailing list, there is NOTHING in Roy's thesis that
directly addresses URI opacity. I even quoted a posting from Roy himself
saying this! Nonetheless, Etan insists that he interprets the thesis as
requiring URI opacity.

In support of his "interpretation" he cites two sections of the thesis
(5.1.5 and 5.2.1), but fails to quote ANY specific language  in either
section that a reasonable person could interpret as requiring URI
opacity. He also asserts that "REST relies on hypermedia as the engine
of application state, while constructing URIs violates this constraint."
Again, he fails to provide any specific language in the thesis to
support his interpretation that the "hypermedia as the engine of
application state" [HEAS] constraint entails URI opacity.

The HEAS constraint is one of the more cryptic  constraints discussed in
the thesis. The only sentence discussing HEAS that appears relevant to
the issue of URI opacity is the following: "The model application is
therefore an engine that moves from one state to the next by examining
and choosing from among the alternative state transitions in the current
set of representations" [emphasis added]. The only way in which HEAS
could be interpreted as entailing URI opacity is to interpret this
sentence as follows: "The model application [MUST] move[] from one
stateto the next by examining and choosing from among [ONLY] the
alternative statetransitions in the current set of representations."

In other words, the client can ONLY execute state transition by
dereferencing a URI that is in the set of URIs that have been embedded
in the current set of representations. Note that the issue isn't whether
the URI is a composite URI in a FORM element or not. The issue is
whether the agent is forbidden from dereferencing any URI that isn't in
the current page or in the agent's page history. Etan appears to believe
that the REST state machine must make only certain state transitions ,
not directly  GOTO any "state" at any time by simply using a bookmarked
or composed URI. If this were truly a constraint imposed by HEAS, then a
client's attempt to dereference  a URI that it had composed but that
wasn't already present in the current set (history) of HTML
representations (even if authorized by documentation such as URI
templates) would be illegal.

For example, imagine an Ohio weather service that had a landing page
(weather.ohio.gov) that had links to all the major cities in Ohio. And
assume on each city page there were three links for today, tomorrow, and
the day after tomorrow (eg. weather.ohio.gov/dayton/tomorrow). This
strict interpretation of HEAS would say that it is illegal for an agent
to traverse from weather.ohio.gov directly to
weather.ohio.gov/dayton/tomorrow (even if the service documented the
site structure) because the agent is only allowed to traverse the URIs
contained in the landing page (eg weather.ohio.gov/dayton).

While such a strict interpretation of HEAS has some merit (it prevents
the agent from hard-coding any URI structure into its traversal
logic--all URI structure metadata is [dynamically] generated with each
representation returned), there is no basis in the thesis or in ANY REST
or Web specifications or discussions for such a restrictive view of the
"state machine" model of REST. For example, such a restriction would
effectively  make most forms of bookmarking illegal. If an agent visits
a site and bookmarks some page that is 3-4 traversals in, and then
revisits the site a couple months later and goes from the landing page
straight to the deep page using the bookmark, then the agent has
violated the requirement that the URI be in the set of representations
for the current session.

So to summarize: Etan has provided no specific language in the REST
thesis to support his contention that REST requires opaque
(non-agent-composable) URIs. His vague allusions to two sections of the
thesis and the HEAS constraint  are insufficient support. So unless Etan
can persuasively base his conclusion ("constructing URIs violates [the
HEAS] constraint") to specific language in the thesis, I consider this
discussion over.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6707<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-10-29 21:18:23<br>
Subject:Re: [rest-discuss] Revise description of the POST method<br>
Message:<br><br>
<pre>On Sat, 2006-10-21 at 22:07 -0400, Mark Baker wrote:
&gt; On 10/21/06, Benjamin Carlyle &lt;benjamincarlyle@...&gt; wrote:
&gt; &gt; The content
&gt; &gt; should follow the same rules as content you would use in a PUT and
&gt; &gt; likely use the same content types. In particular, verbs should not
&gt; &gt; appear. You wouldn't PUT a method invocation, thus it makes no more
&gt; &gt; sense to POST it.
&gt; I think it makes a lot more sense. When you use PUT (successfully),
&gt; you're licensing intermediaries to conclude that the state of the
&gt; targetted resource was changed to that represented in the request -
&gt; something that's not true if you tunnel. If you use POST (i.e.
&gt; POST(p)), intermediaries aren't licensed to conclude anything,
&gt; therefore it's the best choice from a correctness POV.

Having had a few more days to claify my thoughts, I thought I would have
a second stab at this subject:

I think that having a simple, complete, and closed mental model of what
the classic four methods mean is useful for developers hoping to write
RESTful server-side software. I think this is primarily a social, rather
than a technical consideration. I have already summarised what I think
this mental model should be on restwiki:

http://rest.blueoxen.net/cgi-bin/wiki.pl?MinimumMethods

In particular, POST follows the semantics of rfc2616. The content should
be filed either as part of the identified resource or as a newly-created
resource.

It is easy for someone who is new to REST to assume that POST means "do
anything I want". I think that the boundary between POST(p) and POST(t)
is probably not clear enough to jump right into as a new RESTafarian.
Instead, a new RESTafarian should be presented with a simple mental
model of REST services:

REST services consist of set of letter boxes. A client interacts with
the services only through the letter box, so doesn't know how they are
really being managed behind the scenes.

The letter boxes are a virtualisation of the state of multiple services,
not as arbitrary objects with arbitrary methods on them but as simpler
objects with uniform methods and a well-known set of content types.

The generally-accepted identifier scheme for REST is a URI. The
generally-accepted verb set is GET, PUT, POST, DELETE. GET grabs data
from a particular letter box. PUT puts data into the letter box,
replacing any existing data. POST adds another letter to the letter box
without replacing the previous one. The service may choose to file this
letter elsewhere, and will let you know where it has done so. DELETE
removes the letter from the letter box.

All communication is information transfer. REST swims along with this
current rather than trying to fight against it. These verbs acting on
virtualised state can achieve any interaction you want from a service.
No other kind of interaction should be required. REST allows for the
evolution of verbs, identifier schemes, and content types... but most of
the innovation in the former two areas has probably already occured.
There is still a lot of innovation left to play out in the content-type
arena.

This teaching is the beginning of wisdom, rather than the end of it. As
such, a client should use the looser "process this" definition of POST
and make no assumptions about where its content ended up. However, I
think that focusing only on the technical implications of treating POST
a particular way is only half of the story. I think that just as
important as the technical engineering involved with REST is the social
engineering. I think that REST actually helps us (and thus, our
software) communicate.

Separating out the noun, verb, and content-type spaces and solving each
problem domain indivdually helps us start from a more complete and
consistent common ground. I think we are at a stage in the development
of REST where we should be able offer a conceptually simple yet complete
definition of the verb space. To me, "process this" still feels like a
statement that constrained methods don't work.. that you need an escape
hatch. At the moment I'm too curious about how the ideal plays out to
delve into something that feels like compromise.

Benjamin.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6708<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-10-29 22:42:18<br>
Subject:Re: "Casual Web Services" and Well Designed Urls [rest-discuss]<br>
Message:<br><br>
<pre>On Oct 25, 2006, at 5:15 PM, Dave Orchard wrote:
&gt; You seem to have your own internal definition of REST that doesn't  
&gt; map to
&gt; one that I'm familiar with. We've established that you think that  
&gt; Roy and
&gt; the TAG aren't any kind of authorities wrt REST - because if you  
&gt; did you'd
&gt; know that Roy would have a "Roy stern comment"(tm) on any W3C TAG  
&gt; finding
&gt; that contradicted his view of REST and he's also contributed to that
&gt; finding.

Er, not since it was completely rewritten -- I haven't even reviewed it.
The first sentence, for example, is problematic.

&gt; FWIW, one of the underlying philosophical aspects of REST is that
&gt; resources and their representations change, and that includes REST  
&gt; itself.

No, it is that representations can change if that is how the resource
is defined.  A resource does not change -- what changes are the
perceptions of the users of a resource (hence, "do not try to bend
the spoon, for that would be impossible ...").  That is where I and
the semantic web part ways, since someone decided that the semantic
web would assume a world that does not change its own perceptions.

My dissertation will not change.  Whether or not the style changes is
debatable -- other people's perceptions are guaranteed to change
(I've already seen multiple papers claiming to "add" features to REST
that were already in the style to begin with, as well as plenty of
arguments about "REST fundamentals" that are not even close
to what I wrote).  Personally, I've got better things to do.

I think that this thread is seriously missing the point of my
dissertation.  All of the REST constraints exist for a reason.
The first thing you should do is determine what that reason is,
and then see if it still applies to the system being designed.
Use the old noggin -- that is the point.

FYI, the reason, in this case, is independent evolution of components.
And hypermedia is a defined term (that does not mean just HTML).

....Roy  [and, yes, I am not answering the question, on purpose]

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6709<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-10-29 23:41:07<br>
Subject:Re: "Casual Web Services" and Well Designed Urls [rest-discuss]<br>
Message:<br><br>
<pre>"Roy T. Fielding" &lt;fielding@...&gt; writes:

&gt; FYI, the reason, in this case, is independent evolution of components.
&gt; And hypermedia is a defined term (that does not mean just HTML).

So this thread was worth it.

Because now we have archived proof of Roy using the word "noggin".

/8-&gt;


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6710<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-10-30 01:12:25<br>
Subject:RE: "Lightweight Data Access Services" and Well Designed Urls [rest-discuss]<br>
Message:<br><br>
<pre>&gt;&gt; I think that this thread is seriously missing the point 
&gt;&gt; of my dissertation. All of the REST constraints exist 
&gt;&gt; for a reason. The first thing you should do is determine 
&gt;&gt; what that reason is, and then see if it still applies to 
&gt;&gt; the system being designed. Use the old noggin -- that 
&gt;&gt; is the point.
 
My god, you definitely are a breath of fresh air!  As I think you are
saying, there's no room for dogma in a pragmatic world; instead analyze the
circumstances to determine the best solution.  IOW, think!  :)
 
As someone who has achieve great notoriety for your disseration regarding
REST, I bet you find it frustrating to have so many people "intrepret" you
work and then apply the quality of gospel to their interpretation?  Sheesh;
politics, religion, and technical recommendations; they're all the same! ;)

 
Reminds me of the story about a man and his wife's pot roast:
 

A newly-wed husband noticed that every time his wife cooked a pot roast she
would first cut off an inch off either end before putting it in the over.
When he asked her why she said "Because that's how you are supposed to cook
pot roast."   Unsatisfied with the answer he pushed until she admitted that
she learned it from her mother.
 
So he waiting until the visit with her mother and asked "Your daughter tells
me you taught her to cook pot roast by first cutting an inch off each end?"
to which the mother replied "Well of course, that's how pot roast is
cooked."  But the man husband was not to be deterred, and after pressing his
mother-in-law on the subject she finally admitted that she'd learned if from
*her* mother.
 
His next mission became to ask his wife's grandmother.  He finally gets the
chance and asks the grandmother: "Your daughter told me you taught her to
cook pot roast by cutting an inch off either end. She *swore* that that was
a requirement for cooking pot roast and I'm dying to know why? Is there some
reason to throw away two inches of perfectly good meat in order to cook a
pot roast?!?" 
 
Laughing, the grandmother said "Oh, heaven's no!  You see, in those days we
were very poor. I cut the ends off so the pot roast would fit in the only
pan we owned!"   
 
And so ends the story...


 

BTW, great book on the subject on "followers of dogma," if you are ever
interested: The True Believer: http://www.amazon.com/dp/0060505915/


&gt;&gt; No, it is that representations can change if that is how 
&gt;&gt; the resource is defined. A resource does not change -- 
&gt;&gt; what changes are the perceptions of the users of a resource 
&gt;&gt; (hence, "do not try to bend the spoon, for that would be 
&gt;&gt; impossible ..."). That is where I and the semantic web part 
&gt;&gt; ways, since someone decided that the semantic web would 
&gt;&gt; assume a world that does not change its own perceptions.
&gt;&gt;
&gt;&gt; FYI, the reason, in this case, is independent evolution of 
&gt;&gt; components. And hypermedia is a defined term (that does 
&gt;&gt; not mean just HTML).

Roy, I've read that statement at least three times now, and I still can't
understand what you were trying to say. This is probably because I'm still
not that familiar with the rigorous language you and others use for defining
specifications. I'm a mostly self-taught entreprenuer with significant
development experience who tries to learn by inspection and analysis. And I
tend to have an easier time with more common albeit less exacting language
especially if when examples are included.
 
May I impose on your to help me by clarifying those statments in more common
terms, and if possible give me some examples so I can wrap my head around
them?  Specifically what did you mean when you said:

*	

	A resource does not change.
*	

	What does change are the perceptions of the users of a resource.
*	

	The semantic web assumes a world that does not change its own
perceptions.
*	

	The reason is independent evolution of components. (The reason for
what?)
*	

	And hypermedia is a defined term (Can you {point to a} definition?
I'm trying to understand what point you were trying to make by including
this statement.)

FYI, with these questions I'm just trying to learn (i.e. I don't have some
some alternate set of theories I'm trying to advance.)  Many thanks in
advance.  
-Mike Schinkel 
http://www.mikeschinkel.com/blog &lt;http://www.mikeschinkel.com/blogs/&gt; s/ 
http://www.welldesignedurls.org/ 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6711<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-10-30 22:42:20<br>
Subject:RE: "Lightweight Data Access Services" and Well Designed Urls	[rest-discuss]<br>
Message:<br><br>
<pre>On Sun, 2006-10-29 at 20:12 -0500, Mike Schinkel wrote:
&gt; &gt;&gt; I think that this thread is seriously missing the point 
&gt; &gt;&gt; of my dissertation. All of the REST constraints exist 
&gt; &gt;&gt; for a reason. The first thing you should do is determine 
&gt; &gt;&gt; what that reason is, and then see if it still applies to 
&gt; &gt;&gt; the system being designed. Use the old noggin -- that 
&gt; &gt;&gt; is the point.
...
&gt; As someone who has achieve great notoriety for your disseration
&gt; regarding REST, I bet you find it frustrating to have so many people
&gt; "intrepret" you work and then apply the quality of gospel to their
&gt; interpretation?  Sheesh; politics, religion, and technical
&gt; recommendations; they're all the same! ;)   

But beware as a newcomer to REST that what you see as religious dogma
may in fact be based soundly in ideas that you haven't come to grasp
with, yet. The constraints of REST exist for specific reasons. I have
seen many people come through this list arguing about whether one thing
was more restful than another, when both were RESTful and the one being
touted as "more" RESTful was also sillier. However, to assume that there
is no opacity constraint at all or to assume that new content types
should be devised for each new service on the Internet would also be
faulty.

Constraints do exist for specific reasons, and those reasons should be
thought out and understood before reacting too badly against them. REST
is about building an information architecture that scales to the size of
the Internet, both at a technical and a social level. It is about
creating a practical web of semantics. If it isn't your goal to
participate in such a web not all of the constraints will apply. However
keeping those constraints and the reasons for them in mind will help you
if you ever find yourself needing to participate.

I'll have a crack at some of this (with apologies to Roy).

&gt;         A resource does not change.

A resource is like an object, and a url is like a pointer to that
object. If I have the same pointer, it will be the same object at the
other end of that pointer. Over time the state of that object may
change, so when I GET it i'll retreive different results. It still means
the same thing.

&gt;         What does change are the perceptions of the users of a
&gt;         resource.
&gt;         The semantic web assumes a world that does not change its own
&gt;         perceptions.

I'll leave this one to Roy :)

&gt;         The reason is independent evolution of components. (The reason
&gt;         for what?)

I believe you'll find that this is the reason for URL opacity. If I
assume without being told that particular URL constructions exist, then
I may be forcing the same web site provider over time or different web
site providers at the same time to construct their URI spaces the same
way. This limits evolution of the noun-space. If I follow hyperlinks or
fill out server-provided forms to discover the urls of particular
resources then different servers or the same server over time have
greater opportunity to evolve differently.

&gt;         And hypermedia is a defined term (Can you {point to a}
&gt;         definition? I'm trying to understand what point you were
&gt;         trying to make by including this statement.)

Hypermedia is data (media) plus hyperlinks. I think it is reasonable to
consider forms and other devices that clients can use to construct urls
(hyperlinks) are part of hypermedia.

Ideally, hypermedia would be used whenever a resource is being
discovered. Obviously you have to start somewhere, but by finding
hyperlinks in Location headers and documents and by filling out
server-provided forms to locate more resources you should be able to get
from point A to point B with a minimum of hassle. It is contingent on
the service provider to ensure that navagability is considered. There
should be a map on someone's whiteboard somewhere showing which
resources a client is expected to find by out of band means, and how
they get to everything they need to find from that point.

Consider the Web. You start from a home page plus bookmarks, and
navigate out from there. You will often use a search engine form to
construct a search url. When you go to that url you will hopefully find
resources that are of use to you. Machines can follow similar patterns.
They start at a particular resource, then use the semantics attached to
particular hyperlinks to determine where to go next. URL templating of
the kind specified in [1] can be used as a machine-readable forms
technology. Particular resources can represent searches.

See also:
http://rest.blueoxen.net/cgi-bin/wiki.pl?BenjaminsRESTTutorial
http://rest.blueoxen.net/cgi-bin/wiki.pl?RESTfulDesign

Benjamin.
[1]
http://www.ietf.org/internet-drafts/draft-gregorio-uritemplate-00.txt



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6712<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-10-31 07:07:43<br>
Subject:RE: "Lightweight Data Access Services" and Well Designed Urls[rest-discuss]<br>
Message:<br><br>
<pre>Benjamin:

Thanks for the email. (Note, my response is REALLY LONG. Sorry in advance.)

&gt;&gt; But beware as a newcomer to REST that what you see as religious dogma may
in fact be based soundly in ideas that you haven't come to grasp with, yet. 

I appreciate your comment, but I think you misunderstand my meaning and how
I was using the term "religious dogma."  In the manner I was using the term,
by its very nature it would have no basis in sound ideas. And I don't mean
to say there are not sound ideas, I'm absolute certain there are. But what
so often happens is that some people have a tendency to become zealots and
elevate certain ideas to mythic proportion while at the same time perverting
them.  They both preach there "gospel" and follow it while not accepting the
potential that there may be caveats for it's application. They resist
allowing anyone to objectively analyze the applicability to alternate
use-cases. Logic and reason are no longer acceptable and replaced only by a
strict adherence to the dogma in verbatim form.  And usually, as appears to
be true in the case of URI opacity, the originator of the idea (Fielding)
objects to this dogmification!

But of course dogmification happens even more in the realm of politics and
religion, and I'm probably just hypersensitive to it given the world events
of the six years or so....  :)

So in summary, I'm very interested in exploring the reasons behind the ideas
so I can gain a firm grasp of their value. However I will strenuously object
if people tell me the ideas can't be questioned, especially if the
justifications I'm given for the ideas are circular in definition.

&gt;&gt; The constraints of REST exist for specific reasons. 

And I would assume that that would be true.  Certainly the people involved
in defining REST (Fielding, et. al.) are both visionary and briliant so it
was foolishly arrogant for me to think otherwise, which I don't.

The problem I have been having on the lists is that many people constantly
argue this point without ever actually defining what those actual
constraints are and without giving reasons why each constraints exist.
Further, I have had a very hard time finding actual clear and concise
definitions of exactly what are the constraints for REST in terms that are
easy to understand. What I have found are rigorous definitions like Fielding
provided in his dissertation which I struggle to follow.  

I also have not been able to find clear and concise explanation of why each
constraint is important. This is probably because if I can't find an easy to
understand list of constraint then I'm certainly no going to find an easy to
understand list of reasons for those constraint because the latter requires
the former!

And I think this is partly why there is so much fruitless debate; few people
really do understand the constraints of REST and reasons for those
constraints. If more people did, there would be a lot more written about
REST in layman's terms on the web, and there is not.

Understanding them is equally important to be able to understand in what
contexts and for what use-cases the constraints do and do not apply. It made
be perfectly valid to relax one or more constraints in certain use-cases and
I think this is what Fielding implied in his late email to the list. But
without understanding the constraints and reasons, how will we ever figure
out when we can safely ignore them?

Further, it's clear that time often reveals that certain aspects of software
architecture are important whereas other aspects are unimportant. Aspects
for which much effort is applied get little significant use, and other
aspects that amazingly became critical. One of more of REST's constraints
may fit into this category. For example there is content negotiation
capability in HTTP but it is almost never used on the web. And I know there
are other examples, but since we no longer really utilize features that were
ignored it is hard for me to think of another example at the moment.) And
for things becoming critical TBL said in Weaving the Web Chapter 4 page 42
"...the human readability of HTML was an unexpected boon. To my surprise,
people quickly became familiar with the tags and started writing their own
HTML documents directly."  

So I have an intuition that, in some contexts and some use-cases, some of
the constraints of REST are not that important.  But without being able to
truly understand the constraints and the reasons for the constraints, and
without having people willing to discuss constraints and the reasons for the
constraints I cannot confirm or lay to rest (no pun intended) my intuition
on this matter.  Instead I get debate in support of and blind adherence to
the dogma.  After all, this isn't really a religion; we *can* apply logic
and reason to it and not have to just accept it on faith.

Does that not make sense?  (and sorry for rambling; I'm still myself trying
to clarify my thoughts on the matter.)

As an aside, from TBL's Weaving the Web Chapter 4 page 39 he says "...if I
had insisted everyone use HTTP, this would also have been against the
principle of minimal constraint. If the Web were to be universal, it should
be as unconstraining as possible."  This would seem to imply that relaxing
the constraints of REST whenever reasonable would be a good idea, no?

&gt;&gt; I have seen many people come through this list arguing about whether one
thing was more restful than another, when both were RESTful and the one
being touted as "more" RESTful was also sillier. 

I concur on that point.

&gt;&gt; However, to assume that there is no opacity constraint at all or 

I have actually spent the past week or so studying this issue of "URI
opacity."  I have searched for, found, and printed *almost*literally* every
reference to the term URI Opacity on the web (I have a stack of printouts
literally three reams high on the subject.) After some pretty intense study
I can say that, without hesitation, more than 90% of the people who discuss
and debate URI opacity do not fully understand the concept and are either
treating it as dogma or attempting being heretical regarding the dogma.

Yes, there is a constraint of URI opacity. But it applies in far fewer cases
than most people arguing on its behalf seem to believe.  One reason for the
URI opacity constraint is to ensure that agents such as proxies and routers
do not inspect certain parts of the URI's metadata and make modifying
assumptions before forwarding the URI. In addition, URI opacity is important
to decouple the meaning of an extension from the URL (i.e. .JPG may or may
not be an image file using the JPEG format), and to keep user agents from
making assumptions about a resource based on a it's URI path, fragment, or
query string (they can make assumptions based on scheme and domain.) This
latter constraint can be restated as "don't create or use 'well-known
names.'"

But the principle of URI opacity DOES NOT forbid the following:

* To organize a website's URL structure with meaningful metadata
* To publish the meaning of a website's URL metadata 
* For a client to utilize knowledge of a website's URL metadata 

As a matter of fact, I have found several references where each of TBL, Roy
Fielding, Noah Mendelson, Dan Connally, etc. have recommended that
webmasters and web developers DO structure their URLs in human
understandable manners. 

And back to the subject of REST, it has no constraint of URI opacity per se
(and if Fielding contradicts me, I'll go spend the time to dig up the
references to where he has said otherwise. :)

&gt;&gt; to assume that new content types should be devised for each new service
on the Internet would also be faulty.
 
Hopefully nothing I said would have implied that because, at this point in
my understanding if seems very foolish to add new content types unless the
is an overwhelming reason to do so.

&gt;&gt; &gt;&gt; a resource does not change.
&gt;&gt; A resource is like an object, and a url is like a pointer to 
&gt;&gt; that object. If I have the same pointer, it will be the same 
&gt;&gt; object at the other end of that pointer. Over time the state 
&gt;&gt; of that object may change, so when I GET it i'll retrieve 
&gt;&gt; different results. It still means the same thing.

Okay, let me take a stab at it. Can we say "A resource does not change its
identity?"  

An analogy might be a human:  They have a name and in the USA a social
security number which are both analogous to a URL.  And over time they might
get fat or loose weight and they will definitely get older, but they are
still the same person (I'm ignoring that people unfortunately die and
resources are not supposed to. :)

&gt;&gt;&gt;&gt;&gt;&gt; The reason is independent evolution of components. 
&gt;&gt;&gt;&gt; (The reason for what?)
&gt;&gt; I believe you'll find that this is the reason for URL opacity.... 

Thanks, but that didn't answer my question.  You clarified his answer, but
you didn't answer my question which is "What was the question?"  (If that's
still not clear, think about the game show Jeopardy where they give you the
answer and you are supposed to guess the question.  I was asking: "What was
the question?")

That said, your explanation brought up some other thoughts on the subject.  

&gt;&gt; If I assume without being told that particular URL constructions 
&gt;&gt; exist, then I may be forcing the same web site provider over 
&gt;&gt; time or different web site providers at the same time to 
&gt;&gt; construct their URI spaces the same way. This limits evolution 
&gt;&gt; of the noun-space. 

This makes the assumption that the "I" doing the assuming is a machine
(client or user-agent.) It also assumes an arbitrary (set of) URI(s) for
which the URI authority (i.e. website, etc.) has given no guidance regarding
URI metadata.  If the URI authority chooses to, it is perfectly okay for it
to publish the meaning of its URI metadata. And if a consortium of URI
authorities choose to do so, it is not wrong for all of them to publish URIs
with the same metadata structure.  The only prohibition is that the machine
should not simply "assume" without first being given specific knowledge of
URI metadata by the URI authority.

Also, if the "I" in your statement is instead human there's no problem
humans have a built in error recovery mechanism called "intelligence." The
human will see that the URL is not there and then be able to decide what to
do next based on whatever is their goal.

&gt;&gt; If I follow hyperlinks or fill out server-provided forms to 
&gt;&gt; discover the urls of particular resources then different 
&gt;&gt; servers or the same server over time have greater 
&gt;&gt; opportunity to evolve differently.
&gt;&gt;
&gt;&gt; Ideally, hypermedia would be used whenever a resource 
&gt;&gt; is being discovered. Obviously you have to start somewhere, 
&gt;&gt; but by finding hyperlinks in Location headers and documents 
&gt;&gt; and by filling out server-provided forms to locate more resources 
&gt;&gt; you should be able to get from point A to point B with a 
&gt;&gt; minimum of hassle. It is contingent on the service provider to 
&gt;&gt; ensure that navagability is considered. There should be a map 
&gt;&gt; on someone's whiteboard somewhere showing which resources 
&gt;&gt; a client is expected to find by out of band means, and how they 
&gt;&gt; get to everything they need to find from that point.

And this begs questions I have that I have not seen anyone else asking, and
they are:

1.) How does my machine figure out where the URL is that allows me to follow
these hyperlinks?  My machine has to find it somewhere, so we have a
chicken-&amp;-egg problem; once that first URL is published and then machines
start using it, it can no longer evolved without breaking the software
running on the machines.  Right?

2.) If machine retrieves the resource which contains a list of URLs that
represent services (we are discussing REST here not end user content,
right?) it must somehow know how to figure out which of those URLs represent
which services.  Which means that there needs to be conventions for names
embedded in that list of URLs, right?  (This is where I have *yet* to see or
have anyone provide me with an example of a hypermedia system for invoking
REST web services.  Since I haven't been given any examples, I'm going to
simply dream one up so I can discuss this issue.)  

Let's assume my machine called http://rest.foo.com/v1.0/ and it returned a
resource with an representation in XML like so:

	&lt;?xml version="1.0"?&gt;
	&lt;Services&gt;
		&lt;Add&gt;http://rest.foo.com/v1.0/cryptic-path-for-add&lt;/Add&gt;
	
&lt;Update&gt;http://rest.foo.com/v1.0/cryptic-path-for-update&lt;/Update&gt;
	
&lt;Insert&gt;http://rest.foo.com/v1.0/cryptic-path-for-insert&lt;/Insert&gt;
	
&lt;Delete&gt;http://rest.foo.com/v1.0/cryptic-path-for-delete&lt;/Delete&gt;
	&lt;/Services&gt;

Now my machine could look for "Services\Add" to get the URL for the "Add"
service and that would follow the REST hypermedia constraint, right?  But
don't I have to know to look for a hard-coded "Services\Add" in order to
find the "Add" service?  Given that, I really see only a few significant
differences between that and just know to add the metadata "add/" to the end
of the same URL that needed to be published anyway:

	http://rest.foo.com/v1.0/add/

There are only two things I lose by doing this:

1.) Inflexibility regarding what resources can be placed within the URL
hierarchy below http://rest.foo.com/v1.0/   Frankly, I don't see as problem.
If you want to put other things under *that* URL then I'll put the services
API at a different URL.

2.) Inability to have the services hosted on other domains or in other paths
of the same domain.  Yes I can see this as a potential problem, but I would
argue that it is as much a problem of routers and proxies and web server
software as it is of URI design because given the right systems a URL can be
virtualized and hosted anywhere; just because it appears in a subdirectory
in the hierarchy the physical implementation doesn't require that it be.
Said another way, have the map to where each of your services physically
resides be located behind the firewall not inside of a resource delivered to
every client that requests it.

OTOH, if you implement the service simply by tagging the verbs onto the end
of the main URL you gain significant simplicity and increase the ease of
implementation by going straight to the hard-coded URL
http://rest.foo.com/v1.0/add/  People can test it in any browser I am
already using (assuming the service provides a test form), and any software
that can do a POST can call it; no extra code required.  IMO this is NO
SMALL SHAKES in a world that is now looking for collaborative intelligence
and is interested in empowering people to implement mashups.  

Sure the browser vendors and programming library vendors could ALL start
offering improved functionality to make it transparent and/or easy to see
and call and test REST services based on hypermedia as I'm describing, but
the likelihood of that happening in a reasonable timeframe is slim to none,
and it doesn't address all the browsers and programming libraries that are
currently in use today.  And even if it did, we still don't know how long it
would take to identify a UI metaphor that would be effective in exposing
those new capabilities in a simple and easy to use manner.

Which brings me to my assertion regard my current understanding of REST and
hypermedia: 

For systems that need to be 100% robust and that are implemented by
professional programmers and are typically for internal use or use with
business partners, REST should be deployed using hypermedia for the benefits
it brings.  But for Internet-published APIs that occupational programmers
and hobbyists will probably make use of in far greater percentages than
professional programmers hypermedia is far too great a burden to impose and
the responsibility should instead be on the URI/API authority to correctly
design and version their URLs such that they do not need to move or change
them over time. This will make it much easier for occupational programmers
and hobbyists to build services, and significant improve adoption.

That said, I'd love for you or anyone to shoot holes in my assertion if
there are holes in it.

&gt;&gt; Consider the Web. You start from a home page plus bookmarks, 
&gt;&gt; and navigate out from there. You will often use a search engine 
&gt;&gt; form to construct a search url. When you go to that url you will 
&gt;&gt; hopefully find resources that are of use to you. Machines can 
&gt;&gt; follow similar patterns.

Personally, I often type in the URLs myself. For example, whenever I go to
Wikipedia now I type in "en" to get me to the dropdown to my life of recent
Wikipedia URLs ("en" for "English") and then I remove the topic and replace
with whatever topic I want. And I fo straight to the page I want probably
90% of the time.  That is FAR faster than using hypermedia to get there
because I don't have to wait for intermediate pages to load.

What's more, when I post to my blog and need to hyperlink, I am constantly
constructing URLs such as references to Flickr pictures, searching specific
terms on Google, referencing books on Amazon, and so on. The more I am aware
of the URL structure, the more quickly I can get my blog post done.  And if
I can learn a URL structure I am FAR MORE LIKELY to reference a given
resource on such a site.

So I think that the hypermedia navigation metaphor is great and valuable,
clearly. I just don't think that it is the only viable and valid navigation
metaphor.

At this point two "constraints" occur to me for which I feel the need to be
heretical:

1.) The constraint that URI paths, fragments, and query strings need to be
opaque: Well, the academics in ivory tower of standards may decree this, and
the clergy within the church of web architecture may preach this, but only
specialist technical professionals are even aware of this requirement!  On
the other hand, the reality is that many orders of magnitude more people are
out there on the web using and interacting and assuming and programming and
constructing URLs than they are professionals who know they "shouldn't" be
doing so.  

And the fundamental reasons those entrepreneurs and business people and
hobbyist and occupational programmers are committing blasphemy is because:

a.) URLs are visible, 
b.) URLs frequently contain coherent metadata, and 
c.) There is great benefit to utilizing the metadata within URLs (see
http://weblog.infoworld.com/udell/LibraryLookup/ for an example)

So we can argue and debate on this list all we want about how URIs should be
opaque, but the VAST MAJORIT of people are going to ignore this advice
because they've never even heard it.  And even if they do hear it, they
still may ignore it because they won't get the benefits they want if they
follow the advice (see again the LibraryLookup project.) So in my opinion,
FOR THE CASE OF THOSE WHO ARE NOT PROFESSIONAL PROTOCOL SPECIALIST
PROGRAMMERS, we should embrace this reality instead of pedantically saying
"It should not happen" or "They should not do this" and instead look to
promote best practices to minimize the harm of URI transparency and instead
leverage its benefits among the "prols." :)   

Of course router and proxy programmers should still follow the axiom of URI
opacity because there are strong benefits for everyone if they do, and also
because they should know better. ;)

2.) The constraint that most users don't understand URLs anyway:  This may
be true, but every year it becomes less so because of both learning and the
processes of aging, and if we instead proactively educated people about URLs
by giving URLs greater profile on websites and in browsers then people would
more quickly learn their benefits and be able to use them even more
effectively then they will if no action taken of this sort. BTW, education
and advocacy regarding Url usage and design is why I started
http://www.welldesignedurls.org/ in the first place.

&gt;&gt; See also:
&gt;&gt; http://rest.blueoxen.net/cgi-bin/wiki.pl?BenjaminsRESTTutorial
&gt;&gt; http://rest.blueoxen.net/cgi-bin/wiki.pl?RESTfulDesign
&gt;&gt; [1] http://www.ietf.org/internet-drafts/draft-gregorio-uritemplate-00.txt

Thanks.  Those are all in my three ream stack of printouts. I've read the
first two but not yet the thrid (I will read it next, thanks.)

WHEW!  I didn't mean to write so much; I hope I didn't fill up anyone's
email inbox. :) 

And hope I didn't come across as attacking the messenger.  But I did need to
get some of these things off my chest as I've seen so much discussed about
these subjects yet I haven't seen anyone make the points I made.  

I will also probably repurpose some of what I wrote above for future blog
posts (with much editing and after sleeping on it and incorporating any
feedback.) 

That said, I look forward to your input.

-Mike Schinkel
http://www.mikeschinkel.com/blog
http://www.welldesignedurls.org/

P.S. Did you know that Firefox prints out the content on the REST wiki one
page per line?  http://rest.blueoxen.net/cgi-bin/wiki.pl?RESTfulDesign
generates 117 pages!



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6713<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-11-01 22:14:03<br>
Subject:RE: "Lightweight Data Access Services" and Well Designed	Urls[rest-discuss]<br>
Message:<br><br>
<pre>On Tue, 2006-10-31 at 02:07 -0500, Mike Schinkel wrote:
&gt; Thanks for the email. (Note, my response is REALLY LONG. Sorry in
&gt; advance.)

Ok, I'll try to address as much of the content as I can :)

&gt; &gt;&gt; But beware as a newcomer to REST that what you see as religious
&gt; dogma may
&gt; in fact be based soundly in ideas that you haven't come to grasp with,
&gt; yet. 
&gt; I appreciate your comment, but I think you misunderstand my meaning
&gt; and how
&gt; I was using the term "religious dogma."

I don't think there is any misunderstanding. I am confident we are
saying the same thing. Sometimes there are reasons and arguments,
sometimes there aren't. When there aren't reasons or the arguments
aren't understood we are in the realm of religious dogma. When there are
reasons and arguments it is contingent on proponents to clearly spell
out those reasons and arguments.

&gt; I also have not been able to find clear and concise explanation of why
&gt; each
&gt; constraint is important. This is probably because if I can't find an
&gt; easy to
&gt; understand list of constraint then I'm certainly no going to find an
&gt; easy to
&gt; understand list of reasons for those constraint because the latter
&gt; requires
&gt; the former!

Good comment. The current REST wikipedia article[1] contains a very
brief summary, but certainly nothing that completely answers this point.

&gt; But the principle of URI opacity DOES NOT forbid the following:
&gt; * To organize a website's URL structure with meaningful metadata
&gt; * To publish the meaning of a website's URL metadata 
&gt; * For a client to utilize knowledge of a website's URL metadata 

Forbid is a strong word. I agree with point 1. I would personally lean
away from point 2 and 3, but that is in my programmer hat rather than my
user hat. If 2 is a means of mass-publishing urls, that is fine. That is
just hypermedia. If a human interprets this server-provided document as
a form that can be filled out and enters urls into a machine, that is
all kosher. If a human encodes the form into a computer program that
only uses it for as long as the page says it is valid, that is all good.
If the computer uses the form for longer than it is valid, or uses it
for sites other than the one that it was authored for then you run into
problems. In my opinion, by the time you have encoded site-specific
information into your program you have already stepped outside of the
REST envelope.

REST is not an architecture that considers any single client or any
single server. REST is about making a generic browser work across all
service on the Internet (Well, strictly generic components of which the
browser is one). It is an assumption of the REST architectural style
that while the uniform interface will evolve over time and browser
software will evolve with it, the creation of a new set of resources
should not imply the authoring of new client-side code. Certainly you
can create a specific Amazon browser, or ebay bidder program. However, I
see these special-case applications as being outside of REST. REST is
about making the generic browser possible.

REST separates the concerns of nouns, verbs, and content types and
creates a uniform interface across them. Verbs are standard. Content
types are widely-understood. Nouns are up to the particular service
provider to design. In my opinion noun-spaces and the structure of URLs
within a particular service do not form part of the uniform interface.
Individual URLs serve to identify particular instances of the uniform
interface to interact with. They each serve to identify a resource. Once
you have identified a resource you can interact with it using a
constrained set of verbs and content types that generic browsers can be
expected to understand. Many of the content types will contain
hypermedia of one form or another, allowing new nouns to be discovered.

Encoding knowledge of a particular server-side URI-space into a client
is not wrong if it is a special case application. However, as I
suggested a moment ago I see such an app as outside of REST. Inside the
constraints of REST, a generic browser should have minimal or no
hard-coded knowledge of the structure of resources based on the one it
has in hand. It shouldn't assume that it can navigate one level down by
putting the city name at the end of the url.

If a popular general purpose app did that, then all service providers
would have to follow that convention. It is better to use hyperlinks,
forms, and uri-templates within the content (ie, hypermedia). Hypermedia
is the accepted way to navigate from one resoruce to another as part of
the uniform interface. It allows site A to design its url space one way,
and site B to design it another way. In particular, site B may decide to
put the url under another domain name or delegate it to some other
service provider. URL construction does not allow the freedoms available
to users of hypermedia.

Hypermedia also allows site A to change its organisation over time by
publishing different hyperlinks as changes take place. Site A is a more
constrained environment, however, as once a hyperlink has been published
that URL should continue to exist for the lifetime of the service.

My quick off-the-top-of-my-head URI rules:
URI opactity definiately does not imply that URLs should be
machine-readable only. URIs SHOULD be human-friendly. URIs SHOULD
contain metadata relevant to the identity of the resource. URIs SHOULD
NOT contain metadata that can change over the lifetime of the resource.
The structure between URLs SHOULD be communicated to client programs by
hypermedia, rather than being communicated out of band and encoded in
client program code. Generic client software SHOULD avoid interpreting
metadata from the url, as different sites may use different conventions.
URLs SHOULD be valid from the time of their publication to the end of
life of the service.

&gt; And back to the subject of REST, it has no constraint of URI opacity
&gt; per se
&gt; (and if Fielding contradicts me, I'll go spend the time to dig up the
&gt; references to where he has said otherwise. :)

Probably true, but REST is specifically an architectural style for
hypermedia systems. Hard-coding the structure of the Web's URLs into
firefox just isn't the way to do it. It may be fine for a very specific
application, but isn't a general-purpose solution.

&gt; &gt;&gt; If I assume without being told that particular URL constructions 
&gt; &gt;&gt; exist, then I may be forcing the same web site provider over 
&gt; &gt;&gt; time or different web site providers at the same time to 
&gt; &gt;&gt; construct their URI spaces the same way. This limits evolution 
&gt; &gt;&gt; of the noun-space. 
&gt; This makes the assumption that the "I" doing the assuming is a machine
&gt; (client or user-agent.)
...
&gt; Also, if the "I" in your statement is instead human there's no problem
&gt; humans have a built in error recovery mechanism called
&gt; "intelligence." 

Sorry: "I, Programmer". "I, System Architect". :)

&gt; 1.) How does my machine figure out where the URL is that allows me to
&gt; follow
&gt; these hyperlinks? My machine has to find it somewhere, so we have a
&gt; chicken-&amp;-egg problem; once that first URL is published and then
&gt; machines
&gt; start using it, it can no longer evolved without breaking the software
&gt; running on the machines. Right?

You always start with a configuration of at least one url. Most
software-only REST architectures will find themselves with a lot of
configured urls. The configuration itself is hypermedia, so all is
good :)

And yes, once a URL is published you don't want to try and unpublish it.
Just like when you create a primary key in a database you don't want to
change it. Evolution in REST is more about different services developing
in different directions would being constrained. A single service is
still likely to be constrained by its own history.

&gt; 2.) If machine retrieves the resource which contains a list of URLs
&gt; that
&gt; represent services (we are discussing REST here not end user content,
&gt; right?) it must somehow know how to figure out which of those URLs
&gt; represent
&gt; which services. Which means that there needs to be conventions for
&gt; names
&gt; embedded in that list of URLs, right? (This is where I have *yet* to
&gt; see or
&gt; have anyone provide me with an example of a hypermedia system for
&gt; invoking
&gt; REST web services. Since I haven't been given any examples, I'm going
&gt; to
&gt; simply dream one up so I can discuss this issue.) 

Well, URLs represent resources rather than services. Services are a
server-side concept really. Clients don't know where one service ends
and another begins. All they see are the resources, a virtualisation of
the state of all services on the Web. I think you are heading off into a
strange direction when you talk about invoking REST services. REST verbs
are primarily about modifying the virtualised state. ie. you find the
information you want to change, and you PUT your new information to it.
Hyperlinks/forms/url-templates are about locating that information.

&gt; Let's assume my machine called http://rest.foo.com/v1.0/ and it
&gt; returned a
&gt; resource with an representation in XML like so:
&gt; &lt;?xml version="1.0"?&gt;
&gt; &lt;Services&gt;
&gt; &lt;Add&gt;http://rest.foo.com/v1.0/cryptic-path-for-add&lt;/Add&gt;
&gt; &lt;Update&gt;http://rest.foo.com/v1.0/cryptic-path-for-update&lt;/Update&gt;
&gt; &lt;Insert&gt;http://rest.foo.com/v1.0/cryptic-path-for-insert&lt;/Insert&gt;
&gt; &lt;Delete&gt;http://rest.foo.com/v1.0/cryptic-path-for-delete&lt;/Delete&gt;
&gt; &lt;/Services&gt;

So this example probably just could be collapsed down to a single
hyperlink: http://rest.example.com/myresource

&gt; Now my machine could look for "Services\Add" to get the URL for the
&gt; "Add"
&gt; service and that would follow the REST hypermedia constraint, right?
&gt; But
&gt; don't I have to know to look for a hard-coded "Services\Add" in order
&gt; to
&gt; find the "Add" service?

Exactly, this is the separation of concerns between nouns and content
types. Different services with opposing interests (yahoo, google) are
supposed to agree on their content types, but are free to evolve their
uri-spaces independently. Verbs and content types are things that
everyone has to agree on. Because they are each fairly constrained
spaces it is easier to agree on them than it would be to agree on
arbitrary WSDL-style base-classes. The verb-space is probably well
enough defined that you don't even have to think about it. The
content-type space is still undergoing significant evolution.

Content type definition is an intensively social process and a difficult
one. Noun-space definition is supposed to avoid the challenges of this
space and allow individual freedom to reign.

&gt;  Given that, I really see only a few significant
&gt; differences between that and just know to add the metadata "add/" to
&gt; the end
&gt; of the same URL that needed to be published anyway:
&gt; http://rest.foo.com/v1.0/add/

Yep. The only issue here is how the solution scales. In particular, how
it scales across thousands of service providers who are at commercial
war with each other over who will serve the users of your application.
If you have already chosen the site you want your software to work with
there is little difference. If you want it to work across sites without
tieing their uri-spaces together, hypermedia is the go. REST is not
about the small-scale problem you are talking about here. It is about an
information layer that works across the scale of the Internet as a
whole.

&gt; OTOH, if you implement the service simply by tagging the verbs onto
&gt; the end
&gt; of the main URL you gain significant simplicity and increase the ease
&gt; of
&gt; implementation by going straight to the hard-coded URL
&gt; http://rest.foo.com/v1.0/add/ People can test it in any browser I am
&gt; already using (assuming the service provides a test form), and any
&gt; software
&gt; that can do a POST can call it; no extra code required. IMO this is NO
&gt; SMALL SHAKES in a world that is now looking for collaborative
&gt; intelligence
&gt; and is interested in empowering people to implement mashups. 

Well, the crossover between verb and noun-space aside:

This is absolutely fine. This is hyperlinking. If you send the add url
to someone via email or any other means, that is a hyperlink. It is only
when someone writes software that given the v1.0 url appends "/add/" to
the end and expects that software to work across multiple web sites that
you end up with any problem at all.

&gt; That said, I'd love for you or anyone to shoot holes in my assertion
&gt; if
&gt; there are holes in it.

I think that the main hole is that you assume you are not using
hypermedia when you really are using it. This is common for newcomers to
REST who are familiar with the web. They are prone to wonder what REST
gives them on top of what they already have, but the answer is that REST
and its predecessors gave you what you have today.

Whenever you have a url in a document either machine or human-readable,
you are using hypermedia and conforming to REST's architectural
assumptions. When a human follows flickr guidelines about how to
construct urls and feeds these urls to a computer they are using the
document that mass-publishes these urls as a hypermedia document. The
only problem is when client-side software assumes it can build other
uris or interpret the uris it has, and that is only a problem when the
client-side software starts having to deal with multiple service
providers :)

Benjamin.
[1]
http://en.wikipedia.org/wiki/Representational_State_Transfer#Principles


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6714<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2006-11-02 10:52:40<br>
Subject:Re: "Lightweight Data Access Services" and Well Designed	Urls[rest-discuss]<br>
Message:<br><br>
<pre>&gt;&gt;But the principle of URI opacity DOES NOT forbid the following:
&gt;&gt;* To organize a website's URL structure with meaningful metadata
&gt;&gt;* To publish the meaning of a website's URL metadata 
&gt;&gt;* For a client to utilize knowledge of a website's URL metadata 
&gt; 
&gt; 
&gt; Forbid is a strong word. I agree with point 1. I would personally lean
&gt; away from point 2 and 3, but that is in my programmer hat rather than my
&gt; user hat. If 2 is a means of mass-publishing urls, that is fine. That is
&gt; just hypermedia. If a human interprets this server-provided document as
&gt; a form that can be filled out and enters urls into a machine, that is
&gt; all kosher. If a human encodes the form into a computer program that
&gt; only uses it for as long as the page says it is valid, that is all good.

It's worth noting that no part of the process except for the human 
and/or program constructing the URIs and the server application 
responding to the need understand the principles upon which they are 
constructed.

As far as everything else (browsers, webserver, proxies) are concerned 
the URIs are strings conforming to certain RFCs and being comparable for 
identity using a direct string comparison - they are opaque identifiers.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6715<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-11-02 22:52:45<br>
Subject:Re: [rest-discuss] Why is Resource-Oriented better than Object-Oriented?<br>
Message:<br><br>
<pre>Richard Dunlap wrote:

&gt; The first question out of mouths of developers is "How does REST (and 
&gt; therefore resource-oriented design) make my job easier?".  And I think 
&gt; that the answer is;  it doesn't.  

- it's easier to test.

- it's easier to deal with sessions/state (they'll be explicit).

- it's easier to operate (you'll get less support calls)

- it's easier/cheaper to make a site performant (you can choose caching 
over code optimisation)

- it's much more like the OOAD/UML design stuff you use to design 
everything else.


Here's what I find hard practically speaking, when it comes to doing the 
right thing:

a) working with cookies.

b) i18n and translated content (links v conneg)

c) providing alternative media/views  (links v conneg again)

d) managing logged in/logged out page states for caches

e) dealing with designers and devs who insist on side-effected GETs.

f) not having PUT/DELETE in HTML.

g) designing for collections.

h) working around bogus design decisions in web frameworks.

i) dealing with people who talk about static v dynamic sites.

a, d, e, f are due to spec, implementation and infrastructure cruft from 
the 90s; h is simply that any framework will suck along some dimension 
or other, it can't be helped; i is down to a misconceived mental models 
that affect how sites are to be classified architecturally (I seem to 
expend a lot of time on this one for some reason, but it's intensely 
annoying);  b and c are more to do with the HTTP/MIME specs than REST 
(I'm never really sure);

g, collections, I suspect is the only only that points at a bona fide 
architectural matter in REST.

cheers
Bill

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6716<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-02 23:36:46<br>
Subject:Re: [rest-discuss] Why is Resource-Oriented better than Object-Oriented?<br>
Message:<br><br>
<pre>Bill de hOra &lt;bill@...&gt; writes:

&gt; g, collections, I suspect is the only only that points at a bona fide 
&gt; architectural matter in REST.

Can you expand on this? I _think_ I know what you mean but I can't
recall every having had a problem with it.



The rest of your list was about right I reckon. I spend a lot of my
time fighting various web servers to make them do REST the way I want
to do it. But that's just me  /8-&gt;


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6717<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-11-05 04:21:07<br>
Subject:Language Negotiation<br>
Message:<br><br>
<pre>I have a question to pose regarding language negotiation in a RESTful 
service.

When using PUT or DELETE you can specify the entity language using 
the Content-Language header. Looking at the following example, I 
would expect a 404 Not Found error if the DELETE targeted a non-
existent language representation even if a default representation has 
been created:

    PUT /foo.rdf HTTP/1.1
    Content-Language: *

    HTTP/1.1 201 Created

    PUT /foo.rdf HTTP/1.1
    Content-Language: fr-CA

    HTTP/1.1 201 Created

    DELETE /foo.rdf HTTP/1.1
    Content-Language: fr-FR

    HTTP/1.1 404 Not Found

All well and good.

However, when it comes to a GET or HEAD request then the situation 
seems more muddled. Looking at the following example, I would expect 
to see a 200 OK on a GET with Accept-Language (because there is a 
default representation available):

    PUT /foo.rdf HTTP/1.1
    Content-Language: *

    HTTP/1.1 201 Created

    PUT /foo.rdf HTTP/1.1
    Content-Language: fr-CA

    HTTP/1.1 201 Created

    GET /foo.rdf HTTP/1.1
    Accept-Language: fr-FR

    HTTP/1.1 200 OK

Now for a browser-based user experience, this is good. But if the 
client is a robot then the situation is not as clear. Assuming that 
the response has the Content-Language value set, then I suppose that 
the robot could invalidate the response if it is only actually 
interested in the fr-FR representation. This doesn't really feel 
right to me though.

So, reading the owners manual at 
http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.12 , I 
am considering a scenario where a GET or HEAD request that specifies 
a Content-Language will respond with the 404 Not Found explicitly:

    PUT /foo.rdf HTTP/1.1
    Content-Language: *

    HTTP/1.1 201 Created

    PUT /foo.rdf HTTP/1.1
    Content-Language: fr-CA

    HTTP/1.1 201 Created

    GET /foo.rdf HTTP/1.1
    Content-Language: fr-FR

    HTTP/1.1 404 Not Found

This feels much better to me, but although the HTTP spec does not 
prohibit this (Content-Language is an entity header) I cannot find 
any references to any implementation of such behaviour.

What do you think?

Alan Dean



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6718<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-06 07:58:22<br>
Subject:RE: "Lightweight Data Access Services" and Well Designed Urls [rest-discuss]<br>
Message:<br><br>
<pre>Dave,
 
Sorry, your response got lost in my spam folder and I didn't see it until
now.  Thanks for the reply.
 
&gt;&gt; As for well-designed-uris, I have long been a champion that we need a
"URI Template" aka "URI Query Language" language to make it easier to
read/write/rewrite URIs.  
 
For the past several weeks I've been making intense efforts to study the
details about REST and URIs (and many other aspects like the specs on HTTP)
that I was previously unaware so that I can be very educated when I start
blogging on the subject.  I ran across that proposal at
&lt;http://www.ietf.org/internet-drafts/draft-gregorio-uritemplate-00.txt&gt;
http://www.ietf.org/internet-drafts/draft-gregorio-uritemplate-00.txt and
read it late last week.  I can't tell you how excited I was by it, and
wished I had been able to be involved with it. I had also planned to contact
the author(s) and ask it's status?
 
I also found these blog posts about it:

*	

	http://bitworking.org/news/URI_Templates
*	

	http://www.snellspace.com/wp/?p=467
*	

	http://blog.unto.net/work/uri-templates-draft/
*	

	
&lt;http://www.mail-archive.com/gcs-pcs-list@.../msg00015.html&gt;
http://www.mail-archive.com/gcs-pcs-list@.../msg00015.html

&gt;&gt; Regex for URIs is far too complicated IMO
 
I COMPLETELY agree with you, and had plans to start advocating for something
simplier, like your proposal and was glad to see you had already done it.
Trying to configure mod_rewrite for clean URLs on my wiki was very difficult
and I wasn't even trying to do anything really complicated.  I think the
requirement for RegEx greatly retards use of good URLs.  
 
Take a look at what the Ruby On Rails has done for making clean Urls easy
via a very similar template language. Look at all the RoR sites; they all
have nice Urls.
 
That said, I have two comments on the proposal:
 
1.) Section 4.1 was very unclear to me. Specifically I didn't understand
what this mean:
    template-char = unreserved

    template-name  = 1*template-char

    template-var  = "{" template-name "}"
2.) As much as I like your proposal and how clean and clear it is (making me
this is will be useful and easy for people to implement), I can't help but
think that was incomplete as I don't believe that simple string replacement
will allow it to be usable in 100% of cases. Because of that, I'd like to
ask why you didn't include something like the following three ways to extend
it (even though I otherwise dislike regex, if only required in rare cases
they can be a huge boon):
 
    pathId= "ABC-123"
     &lt;http://www.foo.com/{substring(pathId,3,3)}/&gt;
http://www.foo.com/{substring(pathId,3,3)}/                   -&gt; /C-1/ 
     &lt;http://www.foo.com/{regex(pathId):^.*-(.*)$|xyz-$1}/&gt;
http://www.foo.com/{regex(pathId):^.*-(.*)$|xyz-$1}/    -&gt; /xyz-123/ 
     &lt;http://www.foo.com/{javascript:DbLookupPath(pathId)}/&gt;
http://www.foo.com/{javascript:DbLookupPath(pathId)}/   -&gt; /whatever/ 
 
In this I'm suggesting 
 

1.) a set of builtin functions for extracting substrings, etc.
2.) support for scoped regex, and 
3.) support for javascript

 
I'm anxious to hear your reply.
 
-Mike Schinkel 
http://www.mikeschinkel.com/blogs/ 
http://www.welldesignedurls.org/ 



  _____  

From: Dave Orchard [mailto:orchard@...] 
Sent: Thursday, October 26, 2006 1:14 PM
To: 'Mike Schinkel'; rest-discuss@yahoogroups.com
Subject: RE: "Lightweight Data Access Services" and Well Designed Urls
[rest-discuss]


Hi Mike,
 
My response was limited to asserting that client-side URI construction is
permitted under REST unofficially and under Web Architecture officially.  I
think this a core part of your position point.
 
As for well-designed-uris, I have long been a champion that we need a "URI
Template" aka "URI Query Language" language to make it easier to
read/write/rewrite URIs.  One reason why folks seem to love the SOAP world
is the simplicity of using XML tools for accessing portions of the input, as
simple as an XPath or even QName matching.  Regex for URIs is far too
complicated IMO, let alone something that would add in stuff like QNames
into URIs.  I've written a fair bit about the various difficulties of
mapping QNames to URIs.  
 
Cheers,
Dave


  _____  

From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On
Behalf Of Mike Schinkel
Sent: Thursday, October 26, 2006 1:28 AM
To: rest-discuss@yahoogroups.com
Subject: RE: "Lightweight Data Access Services" and Well Designed Urls
[rest-discuss]





Dave:
 
Since this discussion started at microformats-discuss it is a bit confusing.
So I'll ask; was your reply for Etan, or indirectly for me who originated
this email thread? At this point I'm terribly confused but I would really
like to discuss the merits of my original idea, the one that Etan quickly
came to debate me one.
-Mike Schinkel 
http://www.mikeschi &lt;http://www.mikeschinkel.com/blog&gt; nkel.com/blog 
http://www.welldesi &lt;http://www.welldesignedurls.org/&gt; gnedurls.org/ 



  _____  

From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On
Behalf Of Dave Orchard
Sent: Wednesday, October 25, 2006 8:16 PM
To: rest-discuss@yahoogroups.com
Subject: RE: "Casual Web Services" and Well Designed Urls [rest-discuss]



I don't get the set of URIs that you are concerned with. It seems to be the
set of URIs that are outside of web architecture (because the finding covers
those inside) and have representations that are not hypermedia (which is
kind of funny because by definition such "things" are not in REST). Seems
like a fairly uninteresting set to me. 

You seem to have your own internal definition of REST that doesn't map to
one that I'm familiar with. We've established that you think that Roy and
the TAG aren't any kind of authorities wrt REST - because if you did you'd
know that Roy would have a "Roy stern comment"(tm) on any W3C TAG finding
that contradicted his view of REST and he's also contributed to that
finding. FWIW, one of the underlying philosophical aspects of REST is that
resources and their representations change, and that includes REST itself.
The spoon is there if we all agree it's there.

Cheers,
Dave

&gt; -----Original Message-----
&gt; From: Etan Wexler [mailto:ewexler@stickdog.
&lt;mailto:ewexler%40stickdog.com&gt; com] 
&gt; Sent: Wednesday, October 25, 2006 4:37 PM
&gt; To: Dave Orchard; rest-discuss@ &lt;mailto:rest-discuss%40yahoogroups.com&gt;
yahoogroups.com
&gt; Subject: Re: "Casual Web Services" and Well Designed Urls 
&gt; [rest-discuss]
&gt; 
&gt; Dave Orchard wrote to rest-discuss:
&gt; 
&gt; &gt; And so we go on [about] the opaqueness of URIs. 
&gt; Notwithstanding that 
&gt; &gt; all HTML FORM GETs create URIs on the client.
&gt; 
&gt; I wrote in a previous message to Microformats REST
&gt; (&lt;http://microformats
&lt;http://microformats.org/discuss/mail/microformats-rest/2006-&gt;
.org/discuss/mail/microformats-rest/2006-
&gt; October/000299.html&gt;):
&gt; 
&gt; "Hypermedia includes rules of construction where the rules 
&gt; find expression in a resource representation of a standard 
&gt; content type and where the content type indicates how to 
&gt; interpret the rules. HTML forms count."
&gt; 
&gt; If my contributions to the current thread of discussion are 
&gt; unclear, please give me a chance to clarify them. If you have 
&gt; not read the contributions to the current thread of 
&gt; discussion, please do so before evaluating or describing my position.
&gt; 
&gt; &gt; Constructing URIs is absolutely allowed.
&gt; 
&gt; Sometimes, as when a human constructs a URI, REST has no 
&gt; bearing on the construction of the URI.
&gt; 
&gt; Sometimes, as when software relies on hypermedia to inform 
&gt; and restrict the construction of a URI, REST permits the 
&gt; construction of the URI.
&gt; 
&gt; Sometimes, as when software relies on resource 
&gt; representations to inform the construction of a URI and those 
&gt; resource representations are not hypermedia, REST forbids the 
&gt; construction of the URI.
&gt; 
&gt; &gt; Here's an authoritative document:
&gt; &gt; http://www.w3. &lt;http://www.w3.org/2001/tag/doc/metaDataInURI-31.html&gt;
org/2001/tag/doc/metaDataInURI-31.html
&gt; 
&gt; That document is (or will soon be) authoritative over Web 
&gt; architecture, but it is not authoritative over REST.
&gt; 
&gt; The document that is authoritative over REST is 
&gt; "Architectural Styles and the Design of Network-based 
&gt; Software Architectures" 
&gt; (&lt;http://www.ics.
&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm&gt;
uci.edu/~fielding/pubs/dissertation/top.htm&gt; 
&gt; as a start).
&gt; 
&gt; --
&gt; Please do not copy replies to me. I read the mailing lists to 
&gt; which I subscribe and will find replies in that way.
&gt; 
&gt; 





 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6719<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-11-06 20:51:32<br>
Subject:Re: [rest-discuss] Language Negotiation<br>
Message:<br><br>
<pre>On 11/4/06, Alan Dean &lt;alan.dean@...&gt; wrote:
&gt; I have a question to pose regarding language negotiation in a RESTful
&gt; service.
&gt;
&gt; When using PUT or DELETE you can specify the entity language using
&gt; the Content-Language header.

You realize that "entity language" means the language of the
representation in the message, right?  It makes no sense to use it
with GET/HEAD/DELETE because none of those methods define what it
means for them to include a representation in a request.

&gt; All well and good.
&gt;
&gt; However, when it comes to a GET or HEAD request then the situation
&gt; seems more muddled.
[snip]

You seem to be talking about negotiation (ala Accept-Language)
behaviour there, but I really can't make much sense of it.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6720<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-11-06 21:12:06<br>
Subject:Re: Language Negotiation<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, "Mark Baker" &lt;distobj@...&gt; wrote:

&gt; You realize that "entity language" means the language of the
&gt; representation in the message, right?  It makes no sense to use it
&gt; with GET/HEAD/DELETE because none of those methods define what it
&gt; means for them to include a representation in a request.

&gt; You seem to be talking about negotiation (ala Accept-Language)
&gt; behaviour there, but I really can't make much sense of it.
&gt; 
&gt; Mark.

Yes, I am aware that Content-Language refers to the entity language. 
My discussion centers on localized representations of a resource, not 
the content MIME formatting.

I will elaborate with a simplistic example of a resource containing a 
greeting message:

PUT /foo.txt HTTP/1.1
Content-Type: text/plain
Content-Language: fr
Bonjour

HTTP/1.1 201 Created

PUT /foo.txt HTTP/1.1
Content-Type: text/plain
Content-Language: en
Hello

HTTP/1.1 201 Created

A more advanced example could be translated versions of a blog entry.

Alan



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6721<br>
Sender:Paul Sandoz &lt;Paul.Sandoz@...&gt;<br>
Post Date/Time:2006-11-06 21:28:38<br>
Subject:Re: [rest-discuss] Language Negotiation<br>
Message:<br><br>
<pre>Alan Dean wrote:
&gt; I have a question to pose regarding language negotiation in a RESTful 
&gt; service.
&gt; 
&gt; When using PUT or DELETE you can specify the entity language using 
&gt; the Content-Language header. Looking at the following example, I 
&gt; would expect a 404 Not Found error if the DELETE targeted a non-
&gt; existent language representation even if a default representation has 
&gt; been created:
&gt; 
&gt;     PUT /foo.rdf HTTP/1.1
&gt;     Content-Language: *
&gt;

AFAICT '*' is not a valid value for a language tag.

 From the 'owners manual' section 3.10 Language Tags [1]:

         language-tag  = primary-tag *( "-" subtag )
         primary-tag   = 1*8ALPHA
         subtag        = 1*8ALPHA

Paul.

[1] http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.10

&gt;     HTTP/1.1 201 Created
&gt; 
&gt;     PUT /foo.rdf HTTP/1.1
&gt;     Content-Language: fr-CA
&gt; 
&gt;     HTTP/1.1 201 Created
&gt; 
&gt;     DELETE /foo.rdf HTTP/1.1
&gt;     Content-Language: fr-FR
&gt; 
&gt;     HTTP/1.1 404 Not Found
&gt; 
&gt; All well and good.
&gt; 
&gt; However, when it comes to a GET or HEAD request then the situation 
&gt; seems more muddled. Looking at the following example, I would expect 
&gt; to see a 200 OK on a GET with Accept-Language (because there is a 
&gt; default representation available):
&gt; 
&gt;     PUT /foo.rdf HTTP/1.1
&gt;     Content-Language: *
&gt; 
&gt;     HTTP/1.1 201 Created
&gt; 
&gt;     PUT /foo.rdf HTTP/1.1
&gt;     Content-Language: fr-CA
&gt; 
&gt;     HTTP/1.1 201 Created
&gt; 
&gt;     GET /foo.rdf HTTP/1.1
&gt;     Accept-Language: fr-FR
&gt; 
&gt;     HTTP/1.1 200 OK
&gt; 
&gt; Now for a browser-based user experience, this is good. But if the 
&gt; client is a robot then the situation is not as clear. Assuming that 
&gt; the response has the Content-Language value set, then I suppose that 
&gt; the robot could invalidate the response if it is only actually 
&gt; interested in the fr-FR representation. This doesn't really feel 
&gt; right to me though.
&gt; 
&gt; So, reading the owners manual at 
&gt; http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.12 , I 
&gt; am considering a scenario where a GET or HEAD request that specifies 
&gt; a Content-Language will respond with the 404 Not Found explicitly:
&gt; 
&gt;     PUT /foo.rdf HTTP/1.1
&gt;     Content-Language: *
&gt; 
&gt;     HTTP/1.1 201 Created
&gt; 
&gt;     PUT /foo.rdf HTTP/1.1
&gt;     Content-Language: fr-CA
&gt; 
&gt;     HTTP/1.1 201 Created
&gt; 
&gt;     GET /foo.rdf HTTP/1.1
&gt;     Content-Language: fr-FR
&gt; 
&gt;     HTTP/1.1 404 Not Found
&gt; 
&gt; This feels much better to me, but although the HTTP spec does not 
&gt; prohibit this (Content-Language is an entity header) I cannot find 
&gt; any references to any implementation of such behaviour.
&gt; 
&gt; What do you think?
&gt; 
&gt; Alan Dean
&gt; 
&gt; 
&gt; 
&gt; 
&gt;  
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 

-- 
| ? + ? = To question
----------------\
    Paul Sandoz
         x38109
+33-4-76188109


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6722<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-11-06 21:52:20<br>
Subject:Re: Language Negotiation<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, Paul Sandoz &lt;Paul.Sandoz@...&gt; 
wrote:
&gt; &gt;     PUT /foo.rdf HTTP/1.1
&gt; &gt;     Content-Language: *
&gt; &gt;
&gt; 
&gt; AFAICT '*' is not a valid value for a language tag.
&gt; 
&gt;  From the 'owners manual' section 3.10 Language Tags [1]:
&gt; 
&gt;          language-tag  = primary-tag *( "-" subtag )
&gt;          primary-tag   = 1*8ALPHA
&gt;          subtag        = 1*8ALPHA
&gt; 
&gt; Paul.
&gt; 
&gt; [1] http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.10
&gt; 

I know that * is permitted in Accept-Language, so I assume that is it 
acceptable in Content-Language too. If not, then I think that the 
absence of a Content-Language header would be equivalent.

FYI: I am collating my language negotiation links on del.icio.us at 
http://del.icio.us/alan.dean/accept-language 

Alan

(sorry to Paul for the accidental direct response.)



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6723<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-11-06 22:35:02<br>
Subject:Re: [rest-discuss] Re: Language Negotiation<br>
Message:<br><br>
<pre>On 11/6/06, Alan Dean &lt;alan.dean@...&gt; wrote:
&gt; Yes, I am aware that Content-Language refers to the entity language.
&gt; My discussion centers on localized representations of a resource, not
&gt; the content MIME formatting.
&gt;
&gt; I will elaborate with a simplistic example of a resource containing a
&gt; greeting message:
&gt;
&gt; PUT /foo.txt HTTP/1.1
&gt; Content-Type: text/plain
&gt; Content-Language: fr
&gt; Bonjour
&gt;
&gt; HTTP/1.1 201 Created
&gt;
&gt; PUT /foo.txt HTTP/1.1
&gt; Content-Type: text/plain
&gt; Content-Language: en
&gt; Hello
&gt;
&gt; HTTP/1.1 201 Created

Ah, ok.  In that case I think the earlier discussions we've had here
about media types, conneg, and the use of PUT.  Much of this is
covered in the TAG finding on authoritative metadata;

http://www.w3.org/2001/tag/doc/mime-respect

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6724<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-06 22:50:57<br>
Subject:Re: [rest-discuss] Re: Language Negotiation<br>
Message:<br><br>
<pre>"Alan Dean" &lt;alan.dean@...&gt; writes:

&gt; Yes, I am aware that Content-Language refers to the entity language. 
&gt; My discussion centers on localized representations of a resource, not 
&gt; the content MIME formatting.
&gt;
&gt; I will elaborate with a simplistic example of a resource containing a 
&gt; greeting message:
&gt;
&gt; PUT /foo.txt HTTP/1.1
&gt; Content-Type: text/plain
&gt; Content-Language: fr
&gt; Bonjour
&gt;
&gt; HTTP/1.1 201 Created
&gt;
&gt; PUT /foo.txt HTTP/1.1
&gt; Content-Type: text/plain
&gt; Content-Language: en
&gt; Hello
&gt;
&gt; HTTP/1.1 201 Created
&gt;
&gt; A more advanced example could be translated versions of a blog
&gt; entry.

I'm confused too. I understand the example above... but what's the
problem?


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6725<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-11-06 23:10:26<br>
Subject:Re: [rest-discuss] Re: Language Negotiation<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6726<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-11-07 01:55:39<br>
Subject:Re: [rest-discuss] Re: Language Negotiation<br>
Message:<br><br>
<pre>On Nov 6, 2006, at 3:10 PM, Alan Dean wrote:
&gt; It's not a problem, per se - I just wanted to get feedback from the  
&gt; group about my proposed use of Content-Language to target a  
&gt; specified translation of a resource rather than the use of Accept- 
&gt; Language which has language negotiation behaviour.

PUT replaces all representations of the identified resource with the
representation provided. PUT does not selectively replace the
representations that happen to match a given language header field.
Negotiated resources either disallow PUT or redirect to the
more appropriate (localized) resource that corresponds to the
language-specific variant.

In other words, resources don't have translations. Each resource has
a given meaning.  When that meaning includes content negotiation, remote
authoring has to be managed as a set of subsidiary/specific resources
that indirectly change the set of variant representations of the
negotiated resource.  Authoring whole sets through a single resource
is not supported by the protocol because it is more efficient to have
the server provide individual identifiers for the members of the
current set and also more likely that such identifiers will help
the author retain the sameness of the resource across edits.

....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6727<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-07 04:00:10<br>
Subject:InstallPad - Apt-Get for Windows<br>
Message:<br><br>
<pre>Here's an interesting software product that I learned about from SDTimes.com
"News on Monday" email newsletter.
It's called InstallPad and their callout was "Apt-Get for Windows":
http://installpad.com/ 
 
The reason I mention it is because of one of it's features:
&lt;DownloadLatestVersion/&gt;  

From http://installpad.com/applists.php  it says:
 
    InstallPad parses the url string of &lt;FileUrl&gt;, 
    tries to infer what the program's version is 
    from the url, and then increments the version 
    (both major and minor numbers), until the 
    server returns file not found. This works for 
    urls with well defined versions in them, 
    like synergy. For example, Synergy's url looks 
    like this: 

 
http://superb-west.dl.sourceforge.net/sourceforge/synergy2/SynergyInstaller-
1.2.0.exe 

    InstallPad would try 1.2.0, 1.3.0, and then
    1.3.1 (which is the latest version). This can 
    only work with URLs that have some version 
    information in them; InstallPad does not 
    maintain a central online database, nor is it 
    omniscient, and cannot therefore find the 
    latest version of a program any other way.  

I guess the developer of InstallPad (like myself until just recently) has
never heard of the requirement for "Opaque URIs?"   

I guess it also begs the questions of "How should he be doing it if he
shouldn't look into the URI?"

-Mike Schinkel 
http://www.mikeschinkel.com/blogs/ 
http://www.welldesignedurls.org/ 

 



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6728<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-07 04:15:47<br>
Subject:RFC for REST?<br>
Message:<br><br>
<pre>I'm relatively new to studying REST and related topics on a *rigorous*
basis, so forgive me if I'm asking foolish questions.
 
But I'm curious; is there an RFC or some other "standard" that defines REST,
or is the only authoritative reference Roy's dissertation?
 
-Mike Schinkel 
http://www.mikeschinkel.com/blogs/ 
http://www.welldesignedurls.org/ 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6729<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-11-07 11:19:13<br>
Subject:Re: [rest-discuss] Re: Language Negotiation<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6730<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-07 11:58:50<br>
Subject:Re: [rest-discuss] RFC for REST?<br>
Message:<br><br>
<pre>"Mike Schinkel" &lt;mikeschinkel@...&gt; writes:

&gt; I'm relatively new to studying REST and related topics on a *rigorous*
&gt; basis, so forgive me if I'm asking foolish questions.
&gt;  
&gt; But I'm curious; is there an RFC or some other "standard" that defines REST,
&gt; or is the only authoritative reference Roy's dissertation?

REST is like the prirate code; it's more like guidlines than your
actual rules... ARR!


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6731<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2006-11-07 13:57:16<br>
Subject:Re: [rest-discuss] RFC for REST?<br>
Message:<br><br>
<pre>P-p-p....parlay?

----- Original Message ----- 
From: "Nic James Ferrier" &lt;nferrier@...&gt;
To: "Mike Schinkel" &lt;mikeschinkel@...&gt;
Cc: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Tuesday, November 07, 2006 6:58 AM
Subject: Re: [rest-discuss] RFC for REST?


: "Mike Schinkel" &lt;mikeschinkel@...&gt; writes:
:
: &gt; I'm relatively new to studying REST and related topics on a *rigorous*
: &gt; basis, so forgive me if I'm asking foolish questions.
: &gt;
: &gt; But I'm curious; is there an RFC or some other "standard" that defines 
REST,
: &gt; or is the only authoritative reference Roy's dissertation?
:
: REST is like the prirate code; it's more like guidlines than your
: actual rules... ARR!
:
:
: -- 
: Nic Ferrier
: http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs
:
:
: __________ NOD32 1.1856 (20061106) Information __________
:
: This message was checked by NOD32 antivirus system.
: http://www.eset.com
:
: 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6732<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-07 15:01:11<br>
Subject:RE: [rest-discuss] RFC for REST?<br>
Message:<br><br>
<pre>Thanks Nic:

&gt;&gt; REST is like the prirate code; it's more like guidlines than your actual
rules... ARR!

I think that is one of the key problems with REST, and why so many urban
legend have grown up to surround it.  Without an authoritative document that
explains REST in work-a-day developer terms in addition to the rigorous
language required by such authoritative documents, untold hours are wasted
in debate and by people simply trying to grok it all. Publishing such a
document as an RFC or the equivalent for the IETF, with significant examples
would go a long way to avoid so much needless thrashing. Especially when you
consider how passionate many people on this list are in their beliefs that
strict adherence to the tenents of REST are essential.

So I guess I'm calling the question! Can we create an RFC, or some other
authoritative document that defines REST written in a language
understandable by those not accustomed to reading and interpreting
specifications?

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



-----Original Message-----
From: Nic James Ferrier [mailto:nferrier@...] 
Sent: Tuesday, November 07, 2006 6:59 AM
To: Mike Schinkel
Cc: rest-discuss@yahoogroups.com
Subject: Re: [rest-discuss] RFC for REST?

"Mike Schinkel" &lt;mikeschinkel@...&gt; writes:

&gt; I'm relatively new to studying REST and related topics on a *rigorous* 
&gt; basis, so forgive me if I'm asking foolish questions.
&gt;  
&gt; But I'm curious; is there an RFC or some other "standard" that defines 
&gt; REST, or is the only authoritative reference Roy's dissertation?

REST is like the prirate code; it's more like guidlines than your actual
rules... ARR!


--
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6733<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-11-07 17:08:32<br>
Subject:Re: [rest-discuss] RFC for REST?<br>
Message:<br><br>
<pre>On 11/7/06, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:

&gt;
&gt; So I guess I'm calling the question! Can we create an RFC, or some other
&gt; authoritative document that defines REST written in a language
&gt; understandable by those not accustomed to reading and interpreting
&gt; specifications?
&gt;

Not sure how you could have an RFC for an architectural style.

RFC 2616 specifies the most well known implementation of REST.

A document that is authoritative will pretty much have to be written
like a spec. Sounds like you're asking more for a popularization,
which would be a good thing. A lot of people on this list have done
some pretty good jobs of it: Paul Prescod, Joe Gregorio come to
mind... have a look at their writings and see what you think.

Hugh

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6734<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-07 17:52:33<br>
Subject:RE: [rest-discuss] RFC for REST?<br>
Message:<br><br>
<pre>Hugh:

Thanks for the reply.

&gt;&gt; A document that is authoritative will pretty much have to be written like
a spec. Sounds like you're asking more for a popularization, which would be
a good thing. 

One of the things I plan to blog about soon is what I think would help see
standards get used more, and that is to follow the Creative Commons model of
specifications:

http://creativecommons.org/licenses/by/2.5/
	Vs.
http://creativecommons.org/licenses/by/2.5/legalcode
 
&gt;&gt; A lot of people on this list have done some pretty good jobs of it: Paul
Prescod, Joe Gregorio come to mind... have a look at their writings and see
what you think.

I've researched REST issues exhaustively for the past three weeks!  I think
I've read everything there is on the web about REST and related topics (at
least everything Google can see.) 
Paul's articles were written for someone who already understands REST, IMO,
or at least who understands how to figure things out from an abstract
discussion. I think Paul just doesn't know how to not understand the
subject, and his writing shows that.  (Sorry to be critical Paul, but I
gotta call em like I see em.)

Joe's writings were actually pretty good, if long-winded. Joe's were the
*only* writings from anyone that I found that gave concrete examples and
thus the only ones where I was able to really start understanding.  And I
don't mean the "long-winded" as a criticism; it was appropriate for the
context of an article on XML.com, but they are not the best if for trying to
get someone to understand REST who is not willing to make a several hour
commitment to reading.  Again, I point to:
http://creativecommons.org/licenses/by/2.5/

And while a "two hour commitment" may not seem like much, it took me 40-60
hours finding and reading documents about REST to come to understand that
Joe's articles were the only ones I really needed to read; most people won't
be that diligent (and I normally wouldn't either, but I really needed to get
this right.)   If Joe's articles were the only articles available anywhere
on the subject, this wouldn't be an issue. But these days any a**hole can
write a blog post, and you never know who is actually "authoritative" on the
subject.  And Joe's article was one person's opinion; there is no known
consensus surrounding it.  

And I guess what is the BIGGEST problem with REST is all the contentious
debate I've found on the list and in the archives.  When I see so much
unresolved debate it makes me wonder who actually knows what they are
talking about and who is wrong, hence I questione Joe's articles.

But Joe's articles have been for the most part the ONLY articles on REST
that make any sense. What's more, I had to look pretty hard to *find* his
articles. Sure, they were easy to find once I knew they existed and that I
should look for them, but just googling for REST didn't find them.  Going
through five Google result pages on REST and I still don't find Joe's
articles.  I only found them because someone on one of the lists referenced
one of them.

So I guess what I'm looking for is a peer-reviewed and
as-concise-as-possible document with examples that everyone can point to and
say "Yes, that is REST and it addresses 99% of questions people ask" and
that everyone will then point to and just say "Yes, that is REST."
Otherwise it will just be the ongoing debate about what is and what isn't
REST hence wasting many people's time. And based on the list archives, it
appears the debate has continued for quite some time.  Hell, I'll write the
document assuming I can get it peer-reviewed and ultimately approved by all
the generally respected authorities on REST 

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/

P.S. Regaring RFC 2616, the average person isn't going to think to grab a
176 page standards document on HTTP when they think to themselves "I want to
learn REST."


-----Original Message-----
From: hwinkler@... [mailto:hwinkler@...] On Behalf Of Hugh
Winkler
Sent: Tuesday, November 07, 2006 12:09 PM
To: Mike Schinkel
Cc: rest-discuss@yahoogroups.com
Subject: Re: [rest-discuss] RFC for REST?

On 11/7/06, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:

&gt;
&gt; So I guess I'm calling the question! Can we create an RFC, or some 
&gt; other authoritative document that defines REST written in a language 
&gt; understandable by those not accustomed to reading and interpreting 
&gt; specifications?
&gt;

Not sure how you could have an RFC for an architectural style.

RFC 2616 specifies the most well known implementation of REST.

A document that is authoritative will pretty much have to be written like a
spec. Sounds like you're asking more for a popularization, which would be a
good thing. A lot of people on this list have done some pretty good jobs of
it: Paul Prescod, Joe Gregorio come to mind... have a look at their writings
and see what you think.

Hugh


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6735<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-11-07 18:57:03<br>
Subject:Re: [rest-discuss] RFC for REST?<br>
Message:<br><br>
<pre>On Nov 7, 2006, at 7:01 AM, Mike Schinkel wrote:
&gt; I think that is one of the key problems with REST, and why so many  
&gt; urban
&gt; legend have grown up to surround it. Without an authoritative  
&gt; document that
&gt; explains REST in work-a-day developer terms in addition to the  
&gt; rigorous
&gt; language required by such authoritative documents, untold hours are  
&gt; wasted
&gt; in debate and by people simply trying to grok it all.

To the extent that such a document is possible for an architectural  
style,
that document is my dissertation.  Anyone who claims that REST is  
something
other than what is in my dissertation is just babbling nonsense -- the
dissertation defined the term (and other people making it a buzzword  
won't
change that).  People are free to claim that there is more to
"web architecture" than what I included in REST, and that perhaps some
of that should have been included in REST, but REST itself is just a  
name
chosen for a specific style that I defined as characteristic of the best
designed parts of the Web.

The only way that REST changes over time is in the sense that I  
sometimes
need to expand on the terse explanations provided in the dissertation,
because I was in a hurry when I wrote it.  In most cases, such expansion
is merely pointing people to other stuff I wrote ten years ago, or about
the entire topic of media type design which I left out because I ran out
of time.  There are also other styles that build upon REST, but they are
*other styles*.

In regards to "untold hours wasted in debate", that is close to the goal
of my dissertation -- to introduce a way of thinking about software
architecture that promotes honest debate about the properties that are
desired and actual thought applied to the constraints chosen to achieve
them (and their resulting trade-offs).  It is almost never wasted, even
when it is poorly informed.

Most people spend six months or so butting their preconceived notions
of what's "important" against the REST constraints before realizing the
benefits of REST.  I am not surprised at all by that, since almost all
of the design behind REST is focused on applications that need to
survive for decades of independent evolution.  We all know that our
software industry rarely sees beyond today's build.  Expecting
"workaday developer teams" to quickly understand REST, no matter how
carefully it is described, is just beyond reasonable expectations.

&gt; Publishing such a
&gt; document as an RFC or the equivalent for the IETF, with significant  
&gt; examples
&gt; would go a long way to avoid so much needless thrashing. Especially  
&gt; when you
&gt; consider how passionate many people on this list are in their  
&gt; beliefs that
&gt; strict adherence to the tenents of REST are essential.
&gt;
&gt; So I guess I'm calling the question! Can we create an RFC, or some  
&gt; other
&gt; authoritative document that defines REST written in a language
&gt; understandable by those not accustomed to reading and interpreting
&gt; specifications?

No, at best all you will get is a committee that has some vague notion
of what they consider to be design to write down the least common
denominator of misinformed "best practice" based upon whatever Microsoft
chose to implement in its last release.  The IETF has made a habit of
that recently.

I might write another book some day, assuming I ever get in the swing of
writing on a regular basis (and ignoring email).  I doubt that I would
call it a REST book, though it would contain REST.  I am sure the  
publisher
would try to market it that way anyway.

....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6736<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-11-07 19:06:55<br>
Subject:Re: [rest-discuss] RFC for REST?<br>
Message:<br><br>
<pre>On 11/7/06, Roy T. Fielding &lt;fielding@...&gt; wrote:

&gt; I might write another book some day, assuming I ever get in the swing of
&gt; writing on a regular basis (and ignoring email).  I doubt that I would
&gt; call it a REST book, though it would contain REST.  I am sure the
&gt; publisher
&gt; would try to market it that way anyway.
&gt;

Just put together the definitive REST book, Roy. Ride this wave. Then
start picking out the upholstery for your new Gulfstream.

Hugh

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6737<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2006-11-07 19:17:24<br>
Subject:Re: [rest-discuss] RFC for REST - Leonard's book?<br>
Message:<br><br>
<pre>Hi all,

On Nov 7, 2006, at 10:57 AM, Roy T. Fielding wrote:
&gt; I might write another book some day, assuming I ever get in the  
&gt; swing of
&gt; writing on a regular basis (and ignoring email). I doubt that I would
&gt; call it a REST book, though it would contain REST. I am sure the
&gt; publisher would try to market it that way anyway.

So this is perhaps a good (if dangerous :-) time to ask what Roy and  
the rest of you (no pun intended) think of Leonard's new book proposal:

http://www.crummy.com/2006/11/03/1
&gt; I got the idea for a REST book when I started seriously trying to  
&gt; figure out what was and wasn't REST. I noticed that though certain  
&gt; best practices showed up repeatedly in REST folklore, they never  
&gt; really progressed beyond that point. I decided to write a book that  
&gt; would set down the folklore and hopefully create some new canon,  
&gt; some common ground.
http://www.crummy.com/writing/REST-Web-Services/

&gt; This is the book that puts the "web" back into "web services". You  
&gt; can design a web service that uses HTTP, XHTML, and URIs. You just  
&gt; need to understand REST, the architecture of the web. REST Web  
&gt; Services gives you the tools you need to argue for sensible web  
&gt; services, and the strategies and code you need to create them.
Leonard is may be overly-self-congratulatory (perhaps with deliberate  
irony), but it sounds like there is a lot of demand for such a  
thing.  Whether there is a "need" for this book in particular is  
perhaps a more difficult question. :-)

Still, Leonard is actively soliciting feedback, so this is a chance  
for y'all to put your money where your mouth is...

-- Ernie P.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6738<br>
Sender:"Dave Orchard" &lt;orchard@...&gt;<br>
Post Date/Time:2006-11-07 19:32:10<br>
Subject:RE: "Casual Web Services" and Well Designed Urls [rest-discuss]<br>
Message:<br><br>
<pre>1.  Roy, you really really ought to review the MetadataInURI finding.  You
were on the TAG, it's about URIs and metadata, you don't like the first
sentence, you know everbody..  'nuff said.
 
2.  There are at least a few obvious questions you didn't answer, fair
enough.  The "think for yourself" line is always good advice.  But I want to
poke a little more at the question of representations of REST and
versioning. Is REST fully completely captured for all time in your thesis,
or is your thesis a representation of REST at a point in time?  That is, is
the REST resource immutable or mutable?  Obviously your dissertation will
not change but I have thought that the dissertation was a capture at a point
in time.  
 
Cheers,
Dave


  _____  

From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On
Behalf Of Roy T. Fielding
Sent: Sunday, October 29, 2006 2:42 PM
To: orchard@...
Cc: rest-discuss@yahoogroups.com
Subject: Re: "Casual Web Services" and Well Designed Urls [rest-discuss]



On Oct 25, 2006, at 5:15 PM, Dave Orchard wrote:
&gt; You seem to have your own internal definition of REST that doesn't 
&gt; map to
&gt; one that I'm familiar with. We've established that you think that 
&gt; Roy and
&gt; the TAG aren't any kind of authorities wrt REST - because if you 
&gt; did you'd
&gt; know that Roy would have a "Roy stern comment"(tm) on any W3C TAG 
&gt; finding
&gt; that contradicted his view of REST and he's also contributed to that
&gt; finding.

Er, not since it was completely rewritten -- I haven't even reviewed it.
The first sentence, for example, is problematic.

&gt; FWIW, one of the underlying philosophical aspects of REST is that
&gt; resources and their representations change, and that includes REST 
&gt; itself.

No, it is that representations can change if that is how the resource
is defined. A resource does not change -- what changes are the
perceptions of the users of a resource (hence, "do not try to bend
the spoon, for that would be impossible ..."). That is where I and
the semantic web part ways, since someone decided that the semantic
web would assume a world that does not change its own perceptions.

My dissertation will not change. Whether or not the style changes is
debatable -- other people's perceptions are guaranteed to change
(I've already seen multiple papers claiming to "add" features to REST
that were already in the style to begin with, as well as plenty of
arguments about "REST fundamentals" that are not even close
to what I wrote). Personally, I've got better things to do.

I think that this thread is seriously missing the point of my
dissertation. All of the REST constraints exist for a reason.
The first thing you should do is determine what that reason is,
and then see if it still applies to the system being designed.
Use the old noggin -- that is the point.

FYI, the reason, in this case, is independent evolution of components.
And hypermedia is a defined term (that does not mean just HTML).

....Roy [and, yes, I am not answering the question, on purpose]


 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6739<br>
Sender:Richard Dunlap &lt;radunlap@...&gt;<br>
Post Date/Time:2006-11-07 19:41:46<br>
Subject:How Ubiquitous is WS-* ?<br>
Message:<br><br>
<pre>One of the chief benefits of RESTful Web applications  is low  
coordination cost.  This assertion assumes RESTful Web applications  
are built upon more generic interfaces that are more widely deployed  
and understood.

Now, clearly HTTP is generic, ubiquitous and well understood, but the  
question remains, how does WS-* measure up in these terms?   
Obviously,  WS-* loses the "generic interface battle", but WS-*  
proponents would argue that WSDL obviates the benefits of a generic  
interface (you just click a button to create the API glue).  So  
ignoring that point,  what about WS-* ubiquity?   How many  
developers?  How many toolkits?  How many languages?  How many  
platforms?  etc.

Ciao,

	Rick




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6740<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-11-07 19:43:57<br>
Subject:Re: [rest-discuss] RFC for REST - Leonard's book?<br>
Message:<br><br>
<pre>Personal viewpoint.

On 07/11/06, Dr. Ernie Prabhakar &lt;drernie@...&gt; wrote:

&gt;  So this is perhaps a good (if dangerous :-) time to ask what Roy and
&gt;  the rest of you (no pun intended) think of Leonard's new book proposal:
&gt;
&gt;  http://www.crummy.com/2006/11/03/1

&gt;  irony), but it sounds like there is a lot of demand for such a
&gt;  thing.  Whether there is a "need" for this book in particular is
&gt;  perhaps a more difficult question. :-)

I'll second the 'need' for such a book. Yes, I'd love to read a
pragmatic version.
I will question the accuracy, perhaps backing up what Roy and one or two
others keep pointing out. REST isn't easy to grasp for the typical
web monkey / casual user.
REST for dummies (IMHO) sounds like a non starter.
Hitting the right level will be hard.

There are enough clever people on this list making mistakes
to guarantee that mistakes will be made.

Roy as a tech editor would drive me nuts, I'm far too sloppy, but
it sounds like that's what is needed (unless Roy makes time himself to write
a REST book).

I might suggest an OSS book as per Eric Van der Vlists Relax NG book.
Up on the web for a few months prior to publication, for critique and
feedback. Great idea.

Whether it hurt the book sales I don't know. Three people who've done
that believe it not to be the case.

I guess it depends on the motives for writing the book?


HTH
-- 
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6741<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-07 19:44:21<br>
Subject:Re: [rest-discuss] RFC for REST - Leonard's book?<br>
Message:<br><br>
<pre>&gt; So this is perhaps a good (if dangerous :-) time to ask what Roy and  
&gt; the rest of you (no pun intended) think of Leonard's new book
&gt; proposal:

I think I preferred it when the code was just, you know, guidelines.


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6742<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-07 20:03:02<br>
Subject:RE: [rest-discuss] RFC for REST?<br>
Message:<br><br>
<pre>&gt;&gt; To the extent that such a document is possible for an architectural
style, that document is my dissertation. 

The problem is your PhD requires someone to have a PhD to understand it.  Of
course I exaggerate, but I don't think you can understand what it's like not
being able to understand what the heck your disseration is saying without
weeks of studying just the part about REST.  99% of people aren't going to
do that.

&gt;&gt; The only way that REST changes over time...

I didn't say anything about it changing over time. I instead was saying that
it is not very approachable for the average developer.

&gt;&gt; In regards to "untold hours wasted in debate", ...  It is almost never
wasted, even when it is poorly informed.

Time debating is almost always wasted when it could have been avoided by
other more efficient means.

&gt;&gt; Expecting "workaday developer teams" to quickly understand REST, no
matter how carefully it is described, is just beyond reasonable
expectations.

I completely disagree with you, respectfully.  I think it is possible for
people to understand it, if presented in an easier to consume fashion.  It's
not rocket science, after all, it's just currently made to seem that way.

&gt;&gt; No, at best all you will get is...

So that would by requirement happen if you reviewed it?

FYI, I was a programming instructor for seven years, I developed all my
training materials during those seven years, and also I attended numerous
courses on how to teach.  I also wrote a 1000 page programming book and
working in conjunction with a developmental editor from whom I learned a ton
about how to present information in an understandable manner. I know a
little bit about the subject of how to present information in an
understandable manner.

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/




-----Original Message-----
From: Roy T. Fielding [mailto:fielding@...] 
Sent: Tuesday, November 07, 2006 1:57 PM
To: Mike Schinkel
Cc: REST Discuss
Subject: Re: [rest-discuss] RFC for REST?

On Nov 7, 2006, at 7:01 AM, Mike Schinkel wrote:
&gt; I think that is one of the key problems with REST, and why so many 
&gt; urban legend have grown up to surround it. Without an authoritative 
&gt; document that explains REST in work-a-day developer terms in addition 
&gt; to the rigorous language required by such authoritative documents, 
&gt; untold hours are wasted in debate and by people simply trying to grok 
&gt; it all.

To the extent that such a document is possible for an architectural style,
that document is my dissertation.  Anyone who claims that REST is something
other than what is in my dissertation is just babbling nonsense -- the
dissertation defined the term (and other people making it a buzzword won't
change that).  People are free to claim that there is more to "web
architecture" than what I included in REST, and that perhaps some of that
should have been included in REST, but REST itself is just a name chosen for
a specific style that I defined as characteristic of the best designed parts
of the Web.

The only way that REST changes over time is in the sense that I sometimes
need to expand on the terse explanations provided in the dissertation,
because I was in a hurry when I wrote it.  In most cases, such expansion is
merely pointing people to other stuff I wrote ten years ago, or about the
entire topic of media type design which I left out because I ran out of
time.  There are also other styles that build upon REST, but they are *other
styles*.

In regards to "untold hours wasted in debate", that is close to the goal of
my dissertation -- to introduce a way of thinking about software
architecture that promotes honest debate about the properties that are
desired and actual thought applied to the constraints chosen to achieve them
(and their resulting trade-offs).  It is almost never wasted, even when it
is poorly informed.

Most people spend six months or so butting their preconceived notions of
what's "important" against the REST constraints before realizing the
benefits of REST.  I am not surprised at all by that, since almost all of
the design behind REST is focused on applications that need to survive for
decades of independent evolution.  We all know that our software industry
rarely sees beyond today's build.  Expecting "workaday developer teams" to
quickly understand REST, no matter how carefully it is described, is just
beyond reasonable expectations.

&gt; Publishing such a
&gt; document as an RFC or the equivalent for the IETF, with significant 
&gt; examples would go a long way to avoid so much needless thrashing. 
&gt; Especially when you consider how passionate many people on this list 
&gt; are in their beliefs that strict adherence to the tenents of REST are 
&gt; essential.
&gt;
&gt; So I guess I'm calling the question! Can we create an RFC, or some 
&gt; other authoritative document that defines REST written in a language 
&gt; understandable by those not accustomed to reading and interpreting 
&gt; specifications?

No, at best all you will get is a committee that has some vague notion of
what they consider to be design to write down the least common denominator
of misinformed "best practice" based upon whatever Microsoft chose to
implement in its last release.  The IETF has made a habit of that recently.

I might write another book some day, assuming I ever get in the swing of
writing on a regular basis (and ignoring email).  I doubt that I would call
it a REST book, though it would contain REST.  I am sure the publisher would
try to market it that way anyway.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6743<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2006-11-07 20:07:38<br>
Subject:Re: [rest-discuss] RFC for REST?<br>
Message:<br><br>
<pre>On Tue, 7 Nov 2006, Roy T. Fielding wrote:
&gt; that document is my dissertation.  Anyone who claims that REST is
&gt; something
&gt; other than what is in my dissertation is just babbling nonsense

I was under the impression that REST was a formalization of the 
architectural design that the HTTP 1.1 group developed, the thing formerly 
known as "the web object model."  Logically, REST really had to predate 
HTTP 1.1 in order for HTTP 1.1 to be so RESTful.

No?

-Lucas


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6744<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-07 20:05:15<br>
Subject:RE: [rest-discuss] RFC for REST - Leonard's book?<br>
Message:<br><br>
<pre>A book on REST will be great and helpful!
But it's not the same thing I was proposing. I'm proposing a 1-3 page
concise description, with examples.

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



-----Original Message-----
From: Dr. Ernie Prabhakar [mailto:drernie@...] 
Sent: Tuesday, November 07, 2006 2:17 PM
To: Roy T. Fielding
Cc: Mike Schinkel; REST Discuss
Subject: Re: [rest-discuss] RFC for REST - Leonard's book?

Hi all,

On Nov 7, 2006, at 10:57 AM, Roy T. Fielding wrote:
&gt; I might write another book some day, assuming I ever get in the swing 
&gt; of writing on a regular basis (and ignoring email). I doubt that I 
&gt; would call it a REST book, though it would contain REST. I am sure the 
&gt; publisher would try to market it that way anyway.

So this is perhaps a good (if dangerous :-) time to ask what Roy and the
rest of you (no pun intended) think of Leonard's new book proposal:

http://www.crummy.com/2006/11/03/1
&gt; I got the idea for a REST book when I started seriously trying to 
&gt; figure out what was and wasn't REST. I noticed that though certain 
&gt; best practices showed up repeatedly in REST folklore, they never 
&gt; really progressed beyond that point. I decided to write a book that 
&gt; would set down the folklore and hopefully create some new canon, some 
&gt; common ground.
http://www.crummy.com/writing/REST-Web-Services/

&gt; This is the book that puts the "web" back into "web services". You can 
&gt; design a web service that uses HTTP, XHTML, and URIs. You just need to 
&gt; understand REST, the architecture of the web. REST Web Services gives 
&gt; you the tools you need to argue for sensible web services, and the 
&gt; strategies and code you need to create them.
Leonard is may be overly-self-congratulatory (perhaps with deliberate
irony), but it sounds like there is a lot of demand for such a thing.
Whether there is a "need" for this book in particular is perhaps a more
difficult question. :-)

Still, Leonard is actively soliciting feedback, so this is a chance for
y'all to put your money where your mouth is...

-- Ernie P.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6745<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2006-11-07 20:15:35<br>
Subject:Re: [rest-discuss] RFC for REST?<br>
Message:<br><br>
<pre>&gt; &gt; In regards to "untold hours wasted in debate", ...  It is almost never
&gt; &gt; wasted, even when it is poorly informed.
&gt;
&gt; Time debating is almost always wasted when it could have been avoided by
&gt; other more efficient means.

I learned almost everything I know about REST from the debates.  It
was more a matter of unlearning preconceptions, which is why debates
worked better for me than the straightforward how-to-do-its.

Socratic method.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6746<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-07 20:10:54<br>
Subject:RE: [rest-discuss] RFC for REST - Leonard's book?<br>
Message:<br><br>
<pre>&gt;&gt; REST isn't easy to grasp for the typical web monkey / casual user. REST
for dummies (IMHO) sounds like a non starter.
 
I will repeat what I said to Roy; I see no reason why it's can't be made
clear.  Roy's articles were approachable, just long.  Or is there just a
desire for it to remain a black art?

&gt;&gt; I guess it depends on the motives for writing the book?
 
I'm not talking a book (although a book would be helpful too.)  I'm talking
about a clear overview that doesn't use unclear terms like "Hypermedia as
the engine of application state."  If you are not very well versed in
rigorous use of terminology like 99% of developers, that flys right over the
head.
 
-Mike
 
 
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6747<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-07 20:33:50<br>
Subject:Re: [rest-discuss] RFC for REST - Leonard's book?<br>
Message:<br><br>
<pre>"Mike Schinkel" &lt;mikeschinkel@...&gt; writes:

&gt; A book on REST will be great and helpful!
&gt; But it's not the same thing I was proposing. I'm proposing a 1-3 page
&gt; concise description, with examples.

The trouble is REST isn't just one implemented thing. Because it's an
archtitectural style you need a myriad of examples.

I wish the REST wiki was better and could collect the various articles
that people write (I wrote one for example:
http://www.onlamp.com/pub/a/python/2006/02/23/using-rest-with-ajax.html)


Maybe the thing to do is contribute yourself, to the REST wiki, a
description of REST as you understand it and then we can all help you
edit it.

I might add a few ARRs for example.


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6748<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-07 20:41:32<br>
Subject:RE: [rest-discuss] RFC for REST?<br>
Message:<br><br>
<pre>&gt;&gt; Actually, the dissertation is very accessible (especially when you take
into account that *is* a scientific piece of writing).
&gt;&gt; What takes so long is to unlearn what we've learned.

Respectfully, I disagree.  For me, there was nothing I needed to unlearn.
What I needed was something written that easier to understand than complex
prose.  And in my seven experience in teaching programmers, I'm certain most
would have the same problems.  

Why is it hardest to get the "aha" is because the writing about REST is so
obtuse.

-Mike
P.S. My I ask you background Jan?


-----Original Message-----
From: Jan Algermissen [mailto:algermissen1971@...] 
Sent: Tuesday, November 07, 2006 3:20 PM
To: Mike Schinkel
Cc: REST Discuss
Subject: Re: [rest-discuss] RFC for REST?


On Nov 7, 2006, at 9:03 PM, Mike Schinkel wrote:

&gt; The problem is your PhD requires someone to have a PhD to understand 
&gt; it.

I think that is incorrect. 


Despite being pro-REST from the beginning and not really an OO-head it took
me about two years to experience the major aha-moments. Then I needed three
real client projects to gain a vague understanding of how to communicate the
essentials to development teams.

Jan





&gt; Of
&gt; course I exaggerate, but I don't think you can understand what it's 
&gt; like not being able to understand what the heck your disseration is 
&gt; saying without weeks of studying just the part about REST. 99% of 
&gt; people aren't going to do that.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6749<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-07 20:44:52<br>
Subject:RE: [rest-discuss] RFC for REST?<br>
Message:<br><br>
<pre>&gt;&gt; I learned almost everything I know about REST from the debates. It
was more a matter of unlearning preconceptions, which is why debates
worked better for me than the straightforward how-to-do-its.
 
I'm hearing this "unlearn" a lot.  I haven't experienced the need to unlearn
anything (maybe I still don't understand it?)
Can you explain for me what you had to unlearn?
 
-Mike Schinkel 
http://www.mikeschinkel.com/blogs/ 
http://www.welldesignedurls.org/ 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6750<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-07 20:42:32<br>
Subject:RE: [rest-discuss] RFC for REST - Leonard's book?<br>
Message:<br><br>
<pre>&gt;&gt; Maybe the thing to do is contribute yourself, to the REST wiki, a
description of REST as you understand it and then we can all help you edit
it.

I'll plan on making a writing on REST and I'll present it to the list when
I'm done.

-Mike


-----Original Message-----
From: Nic James Ferrier [mailto:nferrier@...] 
Sent: Tuesday, November 07, 2006 3:34 PM
To: Mike Schinkel
Cc: 'REST Discuss'
Subject: Re: [rest-discuss] RFC for REST - Leonard's book?

"Mike Schinkel" &lt;mikeschinkel@...&gt; writes:

&gt; A book on REST will be great and helpful!
&gt; But it's not the same thing I was proposing. I'm proposing a 1-3 page 
&gt; concise description, with examples.

The trouble is REST isn't just one implemented thing. Because it's an
archtitectural style you need a myriad of examples.

I wish the REST wiki was better and could collect the various articles that
people write (I wrote one for example:
http://www.onlamp.com/pub/a/python/2006/02/23/using-rest-with-ajax.html)


Maybe the thing to do is contribute yourself, to the REST wiki, a
description of REST as you understand it and then we can all help you edit
it.

I might add a few ARRs for example.


--
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6751<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-07 20:46:56<br>
Subject:RE: [rest-discuss] RFC for REST?<br>
Message:<br><br>
<pre>&gt;&gt; Actually, the dissertation is very accessible (especially when you take
into account that *is* a scientific piece of writing).

And accessibility, for any given person, is absolute and doesn't matter if
something is scientific or not. A person can either understand it or they
cannot.

BTW, I'm not saying it can't be understood, but it requires a *lot* of other
studying and a lot of other sources to understand it.

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6752<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-11-07 20:50:23<br>
Subject:Re: [rest-discuss] RFC for REST - Leonard's book?<br>
Message:<br><br>
<pre>
On Nov 7, 2006, at 9:10 PM, Mike Schinkel wrote:

&gt;   I'm talking about a clear overview that doesn't use unclear terms  
&gt; like "Hypermedia as the engine of application state."

Besides its lyrical beauty (IMHO), how else would you name that  
constraint? Also, I really doubt that more verbose explanations help  
in understanding. After all, if you suddenly realize you do  
understand what "Hypermedia as the engine of application state."  
means and implies in terms of changeability you are at least sure you  
got it :-)

Jan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6753<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-11-07 21:07:06<br>
Subject:Re: [rest-discuss] RFC for REST - Leonard's book?<br>
Message:<br><br>
<pre>&gt;  &gt;   I'm talking about a clear overview that doesn't use unclear terms
&gt;  &gt; like "Hypermedia as the engine of application state."
&gt;
&gt;  Besides its lyrical beauty (IMHO), how else would you name that
&gt;  constraint? Also, I really doubt that more verbose explanations help
&gt;  in understanding.

Probably a good example. How to find the language to balance
precision (exactitude?) with clarity.

I think I'd support Nic's position that lots of smaller, clear examples
would help back up explanations. PIcking the right ones is the challenge.

regards




-- 
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6754<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-07 21:16:14<br>
Subject:Re: [rest-discuss] RFC for REST?<br>
Message:<br><br>
<pre>"Mike Schinkel" &lt;mikeschinkel@...&gt; writes:

&gt; BTW, I'm not saying it can't be understood, but it requires a *lot* of other
&gt; studying and a lot of other sources to understand it.

Apart from anything it requires a lot of downloading. It's a very
large dissertation.

I agree that it's not that good to have this conversation:

RESTafrian:  hey people, all that ws-* is crap. REST is better.
people:  hey! that's cool. I'd like to learn REST how do I do that?
RESTafrian: [mumbles] read roy's dissertation... listen to everyone
argue...  


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6755<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-11-07 20:42:11<br>
Subject:Re: [rest-discuss] RFC for REST?<br>
Message:<br><br>
<pre>
On Nov 7, 2006, at 9:03 PM, Mike Schinkel wrote:

&gt; The problem is your PhD requires someone to have a PhD to  
&gt; understand it.

I think that is incorrect. Actually, the dissertation is very  
accessible (especially when you
take into account that *is* a scientific piece of writing).

What takes so long is to unlearn what we've learned.

Despite being pro-REST from the beginning and not really an OO-head  
it took me about two years
to experience the major aha-moments. Then I needed three real client  
projects to gain a
vague understanding of how to communicate the essentials to  
development teams.

Jan





&gt; Of
&gt; course I exaggerate, but I don't think you can understand what it's  
&gt; like not
&gt; being able to understand what the heck your disseration is saying  
&gt; without
&gt; weeks of studying just the part about REST. 99% of people aren't  
&gt; going to
&gt; do that.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6756<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2006-11-07 21:55:55<br>
Subject:Re: [rest-discuss] RFC for REST?<br>
Message:<br><br>
<pre>On 11/7/06, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt; &gt;&gt; I learned almost everything I know  about REST from the debates. It
&gt; was more a matter of unlearning  preconceptions, which is why debates
&gt; worked better for me than the  straightforward how-to-do-its.
&gt;
&gt; I'm hearing this "unlearn" a lot.  I haven't experienced the need to  unlearn anything (maybe I still don't understand it?)
&gt; Can you explain for me what you had to unlearn?

In my case:
1. Object-oriented programming with different methods for every object.
2. Distributed objects and distributed transactions using MOM.
3. EDI and ebXML (I contributed to the specs).
3. WS-* (I worked on WS-BPEL and WS-CDL for a distributed transaction
software company).

Almost like going to confession...

Might be different for different people.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6757<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-11-07 22:06:38<br>
Subject:Re: [rest-discuss] RFC for REST?<br>
Message:<br><br>
<pre>On Nov 7, 2006, at 12:07 PM, Lucas Gonze wrote:
&gt; On Tue, 7 Nov 2006, Roy T. Fielding wrote:
&gt;&gt; that document is my dissertation.  Anyone who claims that REST is
&gt;&gt; something
&gt;&gt; other than what is in my dissertation is just babbling nonsense
&gt;
&gt; I was under the impression that REST was a formalization of the  
&gt; architectural design that the HTTP 1.1 group developed, the thing  
&gt; formerly known as "the web object model."

Yes, but keep in mind that this was early in the process of HTTP/1.1.
It is the "HTTP object model" that I developed in 1994-95 as part of
the early HTTP/1.0 spec authoring and HTTP/1.1 design process, back
when Henrik Frystyk Nielsen and I were the "HTTP 1.1 group" (i.e.,
before the IETF WG was even initiated).  The model was not developed
by consensus -- only the results after applying it were subjected to
consensus.

We would discuss various proposals for HTTP (including our own) and
I would try to figure out why each fit (or didn't fit) the model, and
use that to either change the proposal or change the model.  I don't
even remember sharing that with Henrik -- we just talked things out,
tried a few examples on the whiteboard and in various implementations,
and came to a general understanding of the model through that process.
[I am probably oversimplifying that process -- we each had our own
implementations (CERN libwww and httpd on the one hand, libwww-perl
and NCSA httpd on the other) and were friends with most of the major
Web developers at the time, so everything we did was influenced by a
larger cast of characters, most of whom were probably amused by our
attempts to standardize the Web while they were busy with startups.]

Later, in the summer of 95 when I was at MIT, I had a discussion
with TimBL about the Web architecture and the software engineering
principles that he applied during its first few years of development.
This was four years into my Ph.D. research in Software (UCI avoided
calling it SE research, since our group has a very broad perspective
on software development) and my interest in the Web was only indirectly
related to my studies at the time (a.k.a., my Phase II drift).
He suggested that I study the software engineering principles that
influenced him during the early Web development, and the role of
simplicity in particular.  I was far too busy with the standards
effort by that point, but the idea got stuck in the back of my mind.

Throughout the HTTP standardization process, I was called on to defend
the design choices of the Web.  That is an extremely difficult thing
to do within a process that accepts proposals from anyone on a topic
that was rapidly becoming the center of an entire industry.  I had
comments from well over 500 developers, many of whom were distinguished
engineers with decades of experience, and I had to explain everything
from the most abstract notions of Web interaction to the finest details
of HTTP syntax.  That process honed my model down to a core set of
principles, properties, and constraints that are now called REST.

I didn't consider that to be my dissertation topic until some point
during the WebDAV discussions, when Larry Masinter said something along
the lines that the model itself was worthy of a dissertation focus.

&gt; Logically, REST really had to predate HTTP 1.1 in order for HTTP  
&gt; 1.1 to be so RESTful.
&gt;
&gt; No?

No.  That is more of a philosophical question than a logical one.
HTTP/1.1 is a specific architecture that, to the extent I succeeded
in applying REST-based design, allows people to deploy RESTful
network-based applications in a mostly efficient way, within the
constraints imposed by legacy implementations.  The design principles
certainly predated HTTP, most of them were already applied to the
HTTP/1.0 family, and I chose which constraints to apply during the
pre-proposal process of HTTP/1.1, yet HTTP/1.1 was finished long before
I had the available time to write down the entire model in a form
that other people could understand.  All of my products are developed
iteratively, so what you see as a chicken and egg problem is more
like a dinosaur-to-chicken evolution than anything so cut and dried
as the conceptual form pre-existing the form.  HTTP as we know it
today is just as dependent on the conceptual notion of REST as the
definition of REST is dependent on what I wanted HTTP to be today.

I guess a better question is: if Roy hadn't bothered to develop
the model and was not the one editing the specification, would HTTP
be RESTful today?  *shrug*  Looking at what happened to WebDAV after
I stopped participating, and then versioning, ACLs, and now CalDAV,
I know what my biased answer would be.  Contrast those to APP, which
was consciously developed according to the style (mostly without
need of my participation).


....Roy  [who still remembers people saying publicly that any serious
           standardization of the Web should be based on IIOP, not HTTP]


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6758<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-07 21:37:19<br>
Subject:Re: [rest-discuss] RFC for REST - Leonard's book?<br>
Message:<br><br>
<pre>"Dave Pawson" &lt;dave.pawson@...&gt; writes:

&gt;&gt;  &gt;   I'm talking about a clear overview that doesn't use unclear terms
&gt;&gt;  &gt; like "Hypermedia as the engine of application state."
&gt;&gt;
&gt;&gt;  Besides its lyrical beauty (IMHO), how else would you name that
&gt;&gt;  constraint? Also, I really doubt that more verbose explanations help
&gt;&gt;  in understanding.
&gt;
&gt; Probably a good example. How to find the language to balance
&gt; precision (exactitude?) with clarity.
&gt;
&gt; I think I'd support Nic's position that lots of smaller, clear examples
&gt; would help back up explanations. PIcking the right ones is the
&gt; challenge.

Which is why you need editorial input.

And why the wiki is a good place to collect stuff.

But the wiki seems to have fallen into disuse.

I tried it this eve. and it's very slow. Can it be hosted somewhere
faster? Who looks after it?


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6759<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-11-07 22:41:42<br>
Subject:Re: "Casual Web Services" and Well Designed Urls [rest-discuss]<br>
Message:<br><br>
<pre>On Nov 7, 2006, at 11:32 AM, Dave Orchard wrote:

&gt; 1.  Roy, you really really ought to review the MetadataInURI  
&gt; finding.  You were on the TAG, it's about URIs and metadata, you  
&gt; don't like the first sentence, you know everbody..  'nuff said.

Yeah, but I left the TAG in order to get some important work done, and
that isn't going to get done if I try to stick my head back into the
TAG editorial process.

&gt; 2.  There are at least a few obvious questions you didn't answer,  
&gt; fair enough.  The "think for yourself" line is always good advice.   
&gt; But I want to poke a little more at the question of representations  
&gt; of REST and versioning. Is REST fully completely captured for all  
&gt; time in your thesis, or is your thesis a representation of REST at  
&gt; a point in time?  That is, is the REST resource immutable or  
&gt; mutable?  Obviously your dissertation will not change but I have  
&gt; thought that the dissertation was a capture at a point in time.

Heh, I deserve a little wishful thinking.  REST is an architectural  
style.
If people can explain the style better, then yes the representation will
change even if the dissertation doesn't.  Note, however, that the first
thing anyone (other than me) does when they start describing REST is
come up with some extremely lame excuse for why the style should change
to fit their latest pet example, as opposed to just being honest about
it and describing a new style that fits their new constraints.

The habit of glomming onto the REST name, as opposed to doing what I ask
and thinking about each new architecture as an opportunity to define a
new style when the existing ones don't fit, is particularly annoying.
It is possible to completely lose most of REST's beneficial properties
by adding a single contrary constraint or relaxing one that doesn't
seem as "important" as the others, and very few people are capable of
recognizing that because the interrelationships in trade-offs are
actually very complex (even with a simple style).

At the same time that I encourage people to follow the design thinking
in my dissertation to discover their own styles, I would prefer that
people not use the REST name to associate those different styles with
what I defined.  Wishful thinking, perhaps, but that is what I prefer.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6760<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-07 22:24:34<br>
Subject:Re: [rest-discuss] RFC for REST?<br>
Message:<br><br>
<pre>"Roy T. Fielding" &lt;fielding@...&gt; writes:

&gt; I guess a better question is: if Roy hadn't bothered to develop
&gt; the model and was not the one editing the specification, would HTTP
&gt; be RESTful today?  *shrug*  Looking at what happened to WebDAV after
&gt; I stopped participating, and then versioning, ACLs, and now CalDAV,
&gt; I know what my biased answer would be.  Contrast those to APP, which
&gt; was consciously developed according to the style (mostly without
&gt; need of my participation).

What is "APP"?


&gt; ....Roy  [who still remembers people saying publicly that any serious
&gt;            standardization of the Web should be based on IIOP, not HTTP]
&gt;

Don't worry. People still say those things.

I work for a big british telco at the moment. It's full of idiots like
that. I have to carry a machine gun with me.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6761<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2006-11-07 23:28:53<br>
Subject:Re: [rest-discuss] RFC for REST - Leonard's book?<br>
Message:<br><br>
<pre>Why stop at that?  Why not one short paragraph...and a video?
:-)
----- Original Message ----- 
From: "Mike Schinkel" &lt;mikeschinkel@...&gt;
To: "'REST Discuss'" &lt;rest-discuss@yahoogroups.com&gt;
Sent: Tuesday, November 07, 2006 3:05 PM
Subject: RE: [rest-discuss] RFC for REST - Leonard's book?


:A book on REST will be great and helpful!
: But it's not the same thing I was proposing. I'm proposing a 1-3 page
: concise description, with examples.
: 
: -Mike Schinkel
: http://www.mikeschinkel.com/blogs/
: http://www.welldesignedurls.org/
: 
: 
: 
: -----Original Message-----
: From: Dr. Ernie Prabhakar [mailto:drernie@...] 
: Sent: Tuesday, November 07, 2006 2:17 PM
: To: Roy T. Fielding
: Cc: Mike Schinkel; REST Discuss
: Subject: Re: [rest-discuss] RFC for REST - Leonard's book?
: 
: Hi all,
: 
: On Nov 7, 2006, at 10:57 AM, Roy T. Fielding wrote:
: &gt; I might write another book some day, assuming I ever get in the swing 
: &gt; of writing on a regular basis (and ignoring email). I doubt that I 
: &gt; would call it a REST book, though it would contain REST. I am sure the 
: &gt; publisher would try to market it that way anyway.
: 
: So this is perhaps a good (if dangerous :-) time to ask what Roy and the
: rest of you (no pun intended) think of Leonard's new book proposal:
: 
: http://www.crummy.com/2006/11/03/1
: &gt; I got the idea for a REST book when I started seriously trying to 
: &gt; figure out what was and wasn't REST. I noticed that though certain 
: &gt; best practices showed up repeatedly in REST folklore, they never 
: &gt; really progressed beyond that point. I decided to write a book that 
: &gt; would set down the folklore and hopefully create some new canon, some 
: &gt; common ground.
: http://www.crummy.com/writing/REST-Web-Services/
: 
: &gt; This is the book that puts the "web" back into "web services". You can 
: &gt; design a web service that uses HTTP, XHTML, and URIs. You just need to 
: &gt; understand REST, the architecture of the web. REST Web Services gives 
: &gt; you the tools you need to argue for sensible web services, and the 
: &gt; strategies and code you need to create them.
: Leonard is may be overly-self-congratulatory (perhaps with deliberate
: irony), but it sounds like there is a lot of demand for such a thing.
: Whether there is a "need" for this book in particular is perhaps a more
: difficult question. :-)
: 
: Still, Leonard is actively soliciting feedback, so this is a chance for
: y'all to put your money where your mouth is...
: 
: -- Ernie P.
: 
: 
: 
: __________ NOD32 1.1857 (20061107) Information __________
: 
: This message was checked by NOD32 antivirus system.
: http://www.eset.com
: 
:

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6762<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2006-11-07 23:36:22<br>
Subject:Re: [rest-discuss] RFC for REST - Leonard's book?<br>
Message:<br><br>
<pre>+1, Jan, on the lyrical beauty and all.

Some concepts are not available to lazy minds; you have to think
about them...hard.  Use your dictionary.  Draw pictures.  Thimk.

On the other hand, if I squint I think I can see a market for the
audio version of the dissertation, in a nice boxed set.

Walden

----- Original Message ----- 
From: "Jan Algermissen" &lt;jalgermissen@...&gt;
To: "Mike Schinkel" &lt;mikeschinkel@...&gt;
Cc: "'REST Discuss'" &lt;rest-discuss@yahoogroups.com&gt;
Sent: Tuesday, November 07, 2006 3:50 PM
Subject: Re: [rest-discuss] RFC for REST - Leonard's book?


: 
: On Nov 7, 2006, at 9:10 PM, Mike Schinkel wrote:
: 
: &gt;   I'm talking about a clear overview that doesn't use unclear terms  
: &gt; like "Hypermedia as the engine of application state."
: 
: Besides its lyrical beauty (IMHO), how else would you name that  
: constraint? Also, I really doubt that more verbose explanations help  
: in understanding. After all, if you suddenly realize you do  
: understand what "Hypermedia as the engine of application state."  
: means and implies in terms of changeability you are at least sure you  
: got it :-)
: 
: Jan
: 
: 
: __________ NOD32 1.1858 (20061107) Information __________
: 
: This message was checked by NOD32 antivirus system.
: http://www.eset.com
: 
:

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6763<br>
Sender:"Daniel Hardman" &lt;daniel.hardman@...&gt;<br>
Post Date/Time:2006-11-07 23:53:00<br>
Subject:Implications of the Content-Range header<br>
Message:<br><br>
<pre>A lot of the discussions about the RESTfulness of HTTP and the opacity 
of URLs seem to ignore the Content-Range header, as if the only GET 
you can do on a resource is a complete GET, and the same for 
PUT/POST/DELETE. In practice, most operations omit this header, but 
partial GETs are commonly supported.

Using this header to get only half a file implies that you know 
something about the internal structure of the resource. It torpedoes 
content negotiation and the "URL opacity" constraint that many 
advocate. It frustrates many caching schemes. It opens up the system 
for "tunneling," something which Roy pointed out was ultimately doomed 
to failure. Therefore I assume many would characterize the header as 
unRESTful. (Am I right?)

And yet I believe partial GET/PUT/POST/DELETE are all necessary if you 
are dealing with truly massive resources (e.g., video archives, 
virtual machine backing storage -- individual files easily in the 
100GB+ size range). Does that mean I have to choose between massive 
resources and being RESTful?



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6764<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-08 00:24:53<br>
Subject:Re: [rest-discuss] Implications of the Content-Range header<br>
Message:<br><br>
<pre>"Daniel Hardman" &lt;daniel.hardman@...&gt; writes:

&gt; And yet I believe partial GET/PUT/POST/DELETE are all necessary if you 
&gt; are dealing with truly massive resources (e.g., video archives, 
&gt; virtual machine backing storage -- individual files easily in the 
&gt; 100GB+ size range). Does that mean I have to choose between massive 
&gt; resources and being RESTful?

Can you split large files across a namespace?

After all, that is what content-range is doing. Making a resource,
which we normally consider atomically, addressable at a lower level.

But another way is to make a video (or a VM fs) accessible over the
uri namespace.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6765<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-11-08 00:32:00<br>
Subject:RESTwiki<br>
Message:<br><br>
<pre>On 11/7/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:
&gt; But the wiki seems to have fallen into disuse.
&gt;
&gt; I tried it this eve. and it's very slow. Can it be hosted somewhere
&gt; faster? Who looks after it?

Eugene Kim of Blueoxen hosts and maintains it, and helps me (and
others) with spam cleanup.

He mentioned to me that he might upgrade our software this week, but I
haven't heard any more.  I don't know if that will help with the speed
problems you mention.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6766<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-11-08 00:37:52<br>
Subject:Re: [rest-discuss] RFC for REST?<br>
Message:<br><br>
<pre>On 11/7/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:
&gt; What is "APP"?

Atom Publishing Protocol.

&gt;
&gt;
&gt; &gt; ....Roy  [who still remembers people saying publicly that any serious
&gt; &gt;            standardization of the Web should be based on IIOP, not HTTP]
&gt; &gt;
&gt;
&gt; Don't worry. People still say those things.

They just moved from IIOP to SOAP.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6767<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-08 00:51:43<br>
Subject:Re: [rest-discuss] RFC for REST?<br>
Message:<br><br>
<pre>"Mark Baker" &lt;distobj@...&gt; writes:

&gt; On 11/7/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:
&gt; They just moved from IIOP to SOAP.

Trust me... not all of them.


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6768<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-11-08 01:15:01<br>
Subject:Re: [rest-discuss] Re: Language Negotiation<br>
Message:<br><br>
<pre>Roy T. Fielding wrote:
language-specific variant.
&gt; 
&gt; In other words, resources don't have translations. Each resource has
&gt; a given meaning. When that meaning includes content negotiation, remote
&gt; authoring has to be managed as a set of subsidiary/specific resources
&gt; that indirectly change the set of variant representations of the
&gt; negotiated resource. 

Great ;) cos here's a nuts and bolts issue in HTTP/Web design that I'm 
never quite sure on. If I do have a translation t of a resource r, is 
the right thing to

  a) give t and r distinct URLs (make t and r distinct resources)

  b) use the language headers to give the UA the variant it asked for 
(make t a representation of r)

  c) some combination/ladder/mishmash that involves both

  d) none of the above/it depends

I'm prone to leaning towards "a" for two reasons. First and to be 
honest, most frameworks seem to push me into it ("?lang=xx"). Second it 
supports a case where the user can "read this in klingon" via hypertext.

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6769<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-11-08 01:54:44<br>
Subject:Re: [rest-discuss] RFC for REST?<br>
Message:<br><br>
<pre>Mike Schinkel wrote:
&gt; 
&gt; 
&gt;&gt; &gt; I learned almost everything I know about REST from the debates. It
&gt; was more a matter of unlearning preconceptions, which is why debates
&gt; worked better for me than the straightforward how-to-do-its.
&gt;  
&gt; I'm hearing this "unlearn" a lot.  I haven't experienced the need to 
&gt; unlearn anything (maybe I still don't understand it?)
&gt; Can you explain for me what you had to unlearn?

For me, not much to nothing. I guess I was lucky in that my first paid 
job involved lots of HTTP and understand caching and my boss was strong 
on me reading RFCs and source code. Good OO design and implementation 
was what you did to get all the HTTP based stuff to function well.

Chances are I understand neither, but I have to say, I don't see the 
gaping void between OOAD and REST insofar as you have to unlearn between 
the two. This idea of "unlearning" or "getting it" bugs me a bit, it 
makes a slice of software engineering sound like mysticism, or worse, 
mathematical insight.

Here's the thing - it's a question of emphasis and of context. Most 
developers are working procedurally or with objects; also they by 
necessity have a very narrow and deep focus relative to Internet scale 
architectures. So, it's not always going to make sense contextually why 
they shouldn't just drill a convenience method through POST, manage 
state with cookies, or use a controller URL to manage a whole load of 
resources. They're on a clock and don't have time for architectural 
handwaving; and if handwaving is all you can provide you're actually 
stopping them from working. It's not any different from explaining why 
they need to write maintainable code because their involvement with the 
system only comprises the first 20% of its lifespan (if even). 
Developers aren't idiots, they can and do understand long/wide term 
issues if ithey're laid out properly. Jesus knows the DBAs on the other 
end of the wire seem to be able to spell things out for them.

If there is a problem it's in teaching students and new hires. Object 
modeling (fashionably called domain driven design these days), and 
design patterns don't come with caveats saying the design principles and 
techniques are only appropriate in a certain context.

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6770<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-11-08 02:12:23<br>
Subject:Re: [rest-discuss] RFC for REST?<br>
Message:<br><br>
<pre>Roy T. Fielding wrote:

&gt; [...] Contrast those to APP, which
&gt; was consciously developed according to the style (mostly without
&gt; need of my participation).

We do like it when you chip in over there ;)

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6771<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-08 03:58:51<br>
Subject:RE: "Casual Web Services" and Well Designed Urls [rest-discuss]<br>
Message:<br><br>
<pre>RTF&gt;&gt; I would prefer that people not use the REST name to associate those
different styles with what I defined. Wishful thinking, perhaps, but that is
what I prefer.
 
Usually people apply a little "tm" after the name to achieve those
objectives. ;-)

-Mike Schinkel 
http://www.mikeschinkel.com/blogs/ 
http://www.welldesignedurls.org/ 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6772<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-08 04:52:53<br>
Subject:RE: [rest-discuss] RFC for REST?<br>
Message:<br><br>
<pre>NF&gt;&gt; RESTafrian:  hey people, all that ws-* is crap. REST is better.
NF&gt;&gt; people:  hey! that's cool. I'd like to learn REST how do I do that?
NF&gt;&gt; RESTafrian: [mumbles] read roy's dissertation... listen to everyone
argue...   

EXACTLY!  (BTW, I *love* that meme: RESTafrian. LOL!!!)

BdhO&gt;&gt; Chances are I understand neither, but I have to say, I don't 
BdhO&gt;&gt; see the gaping void between OOAD and REST insofar as you 
BdhO&gt;&gt; have to unlearn between the two. This idea of "unlearning" 
BdhO&gt;&gt; or "getting it" bugs me a bit, it makes a slice of software 
BdhO&gt;&gt; engineering sound like mysticism, or worse,  mathematical 
BdhO&gt;&gt; insight.

I definitely agree with the "bugs-me" part, unless there is a desire by some
to keep it obtuse (which would also bug me.)

BdhO&gt;&gt; why they shouldn't just drill a convenience method 
BdhO&gt;&gt; through POST, manage state with cookies, or use a 
BdhO&gt;&gt; controller URL to manage a whole load of resources. 
BdhO&gt;&gt; They're on a clock and don't have time for architectural 
BdhO&gt;&gt; handwaving; and if handwaving is all you can provide 
BdhO&gt;&gt; you're actually stopping them from working. 

I completely agree. To solve that problem will take two things: 

1.) Make it easy for them to educate themselves, including some outreach
2.) Make it easy for them to implement.

I have ideas for both 1. &amp; 2., but I've only commented on #1 thus far
(trying not to pick too many battles at once. :)

BdhO&gt;&gt; Developers aren't idiots, they can and do understand 
BdhO&gt;&gt; long/wide term issues if ithey're laid out properly. Jesus 
BdhO&gt;&gt; knows the DBAs on the other end of the wire seem to be 
BdhO&gt;&gt; able to spell things out for them.

Sounds like you are agreeing with me that it can be documented more clearly
such that they will understand?

BdhO&gt;&gt; If there is a problem it's in teaching students and new hires. 
BdhO&gt;&gt; Object modeling (fashionably called domain driven design these 
BdhO&gt;&gt; days), and design patterns don't come with caveats saying the 
BdhO&gt;&gt; design principles and techniques are only appropriate in a certain 
BdhO&gt;&gt; context.

Sounds like we need to get the disciple of "Web Science" started in colleges
and universities, like TBL talks about. 

That said, is there anyone on the list from the Atlanta Georgia area (Ga
Tech maybe?)

BTW, this to Roy: my interest in wanting to explain it more clearly is not
to introduce new ideas or to change the model; my intention was to reflect
your principles faithly, just make it a little easier to understand.  

That said, I realized after thinking about the response I got earlier today
that I had made assumptions that none of you are aware of, and so in
hindsight it's clear to me why I got the response I got.  Let me explain
those assumptions.

To date mostly only serious professional programmers have used REST (but if
that's a wrong assumption, don't attack it, it's just background and not my
main point.) However, the concept of Mashups has arrived on the scene
recently and many people are excited because they believe (what I call)
occupational programmers and power users will soon be able to build their
own Mashups. That has a ton of mostly entreprenuers without rigorous
development background diving in to build tools for Mashups. And Mashups are
based on two core "technologies": AJAX and REST. Yet almost none of those
people will be able to read Roy's dissertation and make heads nor tails of
it.

Which means, unless we make it easy for these occupational programmers,
power users, and entreprenuers to both 1.) understand REST and 2.) implement
REST they are going to butcher the hell out of it, and your wonderful
architectural design will become invisible to all the things that call
themselves REST that, according to you (Roy) are not.

So I'm actually trying to help you all to head off this bastardization of
REST before the Mashup crowd obliterates it because, after spending time
learning it, I see that it has a lot of true value.  Capisce? 

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6773<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-08 06:00:53<br>
Subject:RE: [rest-discuss] RFC for REST - Leonard's book?<br>
Message:<br><br>
<pre>See my other email about Mashups &amp; REST.  As to what else I'd call it, I'd
have to sit down with all my research and write it out (which I plan to do,
but not before mid next week as I'm in a seminar this long weekend.)  Trying
to give you a quick alternate will just have me getting it wrong and further
waste time in debate.

-----Original Message-----
From: Jan Algermissen [mailto:algermissen1971@...] 
Sent: Tuesday, November 07, 2006 3:50 PM
To: Mike Schinkel
Cc: 'REST Discuss'
Subject: Re: [rest-discuss] RFC for REST - Leonard's book?


On Nov 7, 2006, at 9:10 PM, Mike Schinkel wrote:

&gt;   I'm talking about a clear overview that doesn't use unclear terms 
&gt; like "Hypermedia as the engine of application state."

Besides its lyrical beauty (IMHO), how else would you name that constraint?
Also, I really doubt that more verbose explanations help in understanding.
After all, if you suddenly realize you do understand what "Hypermedia as the
engine of application state."  
means and implies in terms of changeability you are at least sure you got it
:-)

Jan


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6774<br>
Sender:Eugene Eric Kim &lt;eekim@...&gt;<br>
Post Date/Time:2006-11-08 06:09:50<br>
Subject:Re: [rest-discuss] RESTwiki<br>
Message:<br><br>
<pre>On Tue, Nov 07, 2006 at 07:32:00PM -0500, Mark Baker wrote:

&gt; Eugene Kim of Blueoxen hosts and maintains it, and helps me (and
&gt; others) with spam cleanup.
&gt; 
&gt; He mentioned to me that he might upgrade our software this week, but I
&gt; haven't heard any more.  I don't know if that will help with the speed
&gt; problems you mention.

I've had to delay the upgrade, as some other things have cropped up,
but it will definitely happen this month.  Thanks for your patience.

=Eugene

-- 
+=== Eugene Eric Kim ===== eekim@... ===== http://www.eekim.com/ ===+
|       "Writer's block is a fancy term made up by whiners so they        |
+=====  can have an excuse to drink alcohol."  --Steve Martin  ===========+

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6775<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-08 06:11:49<br>
Subject:RE: [rest-discuss] RFC for REST - Leonard's book?<br>
Message:<br><br>
<pre>WM&gt;&gt; Some concepts are not available to lazy minds; you have to think about
them...hard.  Use your dictionary.  Draw pictures.  Thimk.

This is not about saying "Sorry you dimwits, if you can't understand it,
tough!" 
This is about trying to educate the masses to guard against chaos (i.e.
keeping there from being a flood of non-REST marketed and implemented as
REST simply because they didn't know any better.)

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6776<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-08 06:07:36<br>
Subject:RE: [rest-discuss] Implications of the Content-Range header<br>
Message:<br><br>
<pre>Nic&gt;&gt; Can you split large files across a namespace?
Nic&gt;&gt; After all, that is what content-range is doing. Making a 
Nic&gt;&gt; resource, which we normally consider atomically, 
Nic&gt;&gt; addressable at a lower level. But another way is to 
Nic&gt;&gt; make a video (or a VM fs) accessible over the uri 
Nic&gt;&gt; namespace.

For example?  (Just curious)

-Mike Schinkel 
http://www.mikeschinkel.com/blogs/ 
http://www.welldesignedurls.org/ 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6777<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-11-08 08:48:48<br>
Subject:Re: [rest-discuss] Re: Language Negotiation<br>
Message:<br><br>
<pre>On 08/11/06, Bill de hOra &lt;bill@...&gt; wrote:

&gt;
&gt;  Great ;) cos here's a nuts and bolts issue in HTTP/Web design that I'm
&gt;  never quite sure on. If I do have a translation t of a resource r, is
&gt;  the right thing to
&gt;
&gt;  a) give t and r distinct URLs (make t and r distinct resources)

&gt;
&gt;  I'm prone to leaning towards "a" for two reasons. First and to be
&gt;  honest, most frameworks seem to push me into it ("?lang=xx"). Second it
&gt;  supports a case where the user can "read this in klingon" via hypertext.

Another pro for 'a' Bill, it follows the KISS approach of REST?


regards
-- 
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6778<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-08 09:27:45<br>
Subject:Re: [rest-discuss] RFC for REST?<br>
Message:<br><br>
<pre>"Mike Schinkel" &lt;mikeschinkel@...&gt; writes:

&gt; So I'm actually trying to help you all to head off this bastardization of
&gt; REST before the Mashup crowd obliterates it because, after spending time
&gt; learning it, I see that it has a lot of true value.  Capisce? 

I still think it's more like, you know, guidelines. ARR.

Shut up now and write some documentation.


I would offer to write some documentation myself... but I am busy
working on an exciting new REST enabling development tool and it's
taking all my time.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6779<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-08 09:56:42<br>
Subject:Re: [rest-discuss] Implications of the Content-Range header<br>
Message:<br><br>
<pre>"Mike Schinkel" &lt;mikeschinkel@...&gt; writes:

&gt; Nic&gt;&gt; Can you split large files across a namespace?
&gt; Nic&gt;&gt; After all, that is what content-range is doing. Making a 
&gt; Nic&gt;&gt; resource, which we normally consider atomically, 
&gt; Nic&gt;&gt; addressable at a lower level. But another way is to 
&gt; Nic&gt;&gt; make a video (or a VM fs) accessible over the uri 
&gt; Nic&gt;&gt; namespace.
&gt;
&gt; For example?  (Just curious)

Ah... sorry I was being conceptual.

I have no concrete implementation of such a thing. But that's because
I don't have an application for it.

What I was saying is that, with REST you could easily do the kind of
things you do with content-ranges at a higher level.

Content-range is still useful in very low level transfer
applications. For example... curl or wget (or browsers) can employ
content-range tricks to make sure that they only retrieve bits of a
file after an interrupted transfer.

But any higher level app might want to implement a resource space over
the top of a large object.

Imagine a DVD of Pirates of the Carribean for example (although I
guess it might be an offence to even talk about downloading such a
thing).

You might be able to download the whole file like this:

   http://piratebay/pirates-of-the-carribean

but you might be able to get the first section of the DVD (are these
called "chapters"?) like this:

  http://piratebay/pirates-of-the-carribean/section1

or to find the bit where Keira Knightley is talking about the pirate
code like this:

  http://piratebay/pirates-of-the-carribean?actor=Knightely&amp;says=more%20like%20guidelines%20anyway

It's up to the application.

Now some of these things could also be done with content-range. But I
wouldn't advocate it because that's a low level tool with a specific
purpose.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6780<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2006-11-08 12:16:25<br>
Subject:Re: [rest-discuss] RFC for REST?<br>
Message:<br><br>
<pre>&gt; Chances are I understand neither, but I have to say, I don't see the
&gt; gaping void between OOAD and REST insofar as you have to unlearn between
&gt; the two.

Mostly, I agree.  Just grok uniform methods.  Most of my unlearning
was of distributed objects using MOM, EDI and distributed
transactions.  Even there, I find a lot still applies, but I do need
to think about all of them differently, including OOP.

&gt; This idea of "unlearning" or "getting it" bugs me a bit, it
&gt; makes a slice of software engineering sound like mysticism, or worse,
&gt; mathematical insight.

So why do so many experienced people report "aha" moments where they
didn't get REST and then they did?

E.g.
http://www.xent.com/pipermail/fork/2001-August/002801.html

I spent many saloon hours in WS-* circles arguing for REST with people
who really knew MOM, EDI and/or distributed transactions.  Once in
awhile somebody got it, but always only after a long time thinking
about it. I never saw anybody who was deep in a different architecture
get it right away.

That's no mysticism, that's how minds work.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6781<br>
Sender:"Stelios Eliakis" &lt;eliakis@...&gt;<br>
Post Date/Time:2006-11-08 12:54:31<br>
Subject:asynchronous http<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6782<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-08 13:23:09<br>
Subject:Re: [rest-discuss] asynchronous http<br>
Message:<br><br>
<pre>"Stelios Eliakis" &lt;eliakis@...&gt; writes:

&gt; Hi,
&gt;
&gt; I am interested in asynchronous http in order to implement a rest web
&gt; service.
&gt; I do not know exactly what I want to do ;)
&gt; I want to show that rest is not only synchroouns and SOAP is not the only
&gt; solution for asynchronous web services.
&gt; Is Ajax a solution?

I've just been talking about this with a colleague.

Here are the links I sent him:

  http://goopen.org/confluence/display/ACTIVEMQ/REST
  http://hjb.berlios.de/


But one interesting thing came out of our discssion. I suggested that
the simplest solution was simply polling. My colleague stated that it
wouldn't work because of scalablity concerns.

The thing about a REST app is that scalability of polling is really,
really good. A RESTfull poll is probably just a conditional GET, eg:

   GET /someeventstatus
   If-modified-since: LASTDATEOFCHANGE

conditional GETs are mostly _really_ cheap to implement.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6783<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2006-11-08 14:26:23<br>
Subject:Re: [rest-discuss] RFC for REST - Leonard's book?<br>
Message:<br><br>
<pre>I wasn't saying anything like that.  I was saying not all things
can be reduced the way you might like.

That idea of guarding against chaos sounds unrealistic to me,
and ironically, REST is an architectural style for surviving in
a chaotic place.

Walden

----- Original Message ----- 
From: "Mike Schinkel" &lt;mikeschinkel@...&gt;
To: "'REST Discuss'" &lt;rest-discuss@yahoogroups.com&gt;
Sent: Wednesday, November 08, 2006 1:11 AM
Subject: RE: [rest-discuss] RFC for REST - Leonard's book?


: WM&gt;&gt; Some concepts are not available to lazy minds; you have to think 
about
: them...hard.  Use your dictionary.  Draw pictures.  Thimk.
:
: This is not about saying "Sorry you dimwits, if you can't understand it,
: tough!"
: This is about trying to educate the masses to guard against chaos (i.e.
: keeping there from being a flood of non-REST marketed and implemented as
: REST simply because they didn't know any better.)
:
: -Mike Schinkel
: http://www.mikeschinkel.com/blogs/
: http://www.welldesignedurls.org/
:
:
:
:
: __________ NOD32 1.1858 (20061107) Information __________
:
: This message was checked by NOD32 antivirus system.
: http://www.eset.com
:
: 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6784<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2006-11-08 14:23:05<br>
Subject:Re: [rest-discuss] RFC for REST?<br>
Message:<br><br>
<pre>Hi Mike,

On Nov 7, 2006, at 8:52 PM, Mike Schinkel wrote:
&gt; Which means, unless we make it easy for these occupational  
&gt; programmers,
&gt; power users, and entreprenuers to both 1.) understand REST and 2.)  
&gt; implement
&gt; REST they are going to butcher the hell out of it, and your wonderful
&gt; architectural design will become invisible to all the things that call
&gt; themselves REST that, according to you (Roy) are not.
&gt;
&gt; So I'm actually trying to help you all to head off this  
&gt; bastardization of
&gt; REST before the Mashup crowd obliterates it because, after spending  
&gt; time
&gt; learning it, I see that it has a lot of true value. Capisce?

I get it, and I agree.  There needs to be a "REST for the REST of  
us."  Obviously, we'd want those Ph.D.s who *do* understand REST at a  
deep level to vet it for accuracy, but I'd love to see something  
concise that captured the key points that the people doing the  
"engineering" could work from.

The tricky questions are:

a) Can you write something like that for a "general" audience, or  
does each subgroup need something tailored for its needs in order for  
it to make actionable sense?

b) Can REST really be compressed to 1-3 pages without becoming a  
marketing brochure? :-)

I don't know the answers -- which perhaps explains some of the  
skepticism you received -- but I for one think any attempt to move in  
that direction would be worthwhile.

Good luck!

-- Ernie P.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6785<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2006-11-08 15:36:36<br>
Subject:Re: [rest-discuss] RFC for REST?<br>
Message:<br><br>
<pre>&gt; I get it, and I agree.  There needs to be a "REST for the REST of us."  Obviously, we'd want those Ph.D.s who *do* understand REST at a deep level to vet it for accuracy, but I'd love to see something concise that captured the key points that the people doing the "engineering" could work from.
&gt;

Haven't many people already tried this?
Can we list the candidate "simple stories"?
Which do you like?
Which are the best?

I mean, does this really need to start from scratch?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6786<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-08 20:47:13<br>
Subject:RE: [rest-discuss] RFC for REST?<br>
Message:<br><br>
<pre>BH&gt;&gt; I mean, does this really need to start from scratch?
 
Nobody suggested starting from scratch. ;-)
After all, I've already done a ton of research and found many of those
examples, hoping to incorporate.
I'll get back to you on it.
 
-Mike Schinkel 
http://www.mikeschinkel.com/blogs/ 
http://www.welldesignedurls.org/ 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6787<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-08 20:46:10<br>
Subject:RE: [rest-discuss] RFC for REST?<br>
Message:<br><br>
<pre>&gt;&gt; I get it, and I agree. There needs to be a "REST for the REST of us." ...
 
Well, there are clearly issues, but I plan to try.  I'll get back to the
list on it.
 
-Mike Schinkel 
http://www.mikeschinkel.com/blogs/ 
http://www.welldesignedurls.org/ 

 


  _____  

From: Dr. Ernie Prabhakar [mailto:drernie@...] 
Sent: Wednesday, November 08, 2006 9:23 AM
To: Mike Schinkel
Cc: 'REST Discuss'
Subject: Re: [rest-discuss] RFC for REST?


Hi Mike, 


On Nov 7, 2006, at 8:52 PM, Mike Schinkel wrote:

Which means, unless we make it easy for these occupational programmers,
power users, and entreprenuers to both 1.) understand REST and 2.) implement
REST they are going to butcher the hell out of it, and your wonderful
architectural design will become invisible to all the things that call
themselves REST that, according to you (Roy) are not.

So I'm actually trying to help you all to head off this bastardization of
REST before the Mashup crowd obliterates it because, after spending time
learning it, I see that it has a lot of true value. Capisce? 



I get it, and I agree. There needs to be a "REST for the REST of us."
Obviously, we'd want those Ph.D.s who *do* understand REST at a deep level
to vet it for accuracy, but I'd love to see something concise that captured
the key points that the people doing the "engineering" could work from.

The tricky questions are:

a) Can you write something like that for a "general" audience, or does each
subgroup need something tailored for its needs in order for it to make
actionable sense?

b) Can REST really be compressed to 1-3 pages without becoming a marketing
brochure? :-)

I don't know the answers -- which perhaps explains some of the skepticism
you received -- but I for one think any attempt to move in that direction
would be worthwhile.

Good luck!

-- Ernie P.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6788<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-11-09 01:44:11<br>
Subject:Re: [rest-discuss] Implications of the Content-Range header<br>
Message:<br><br>
<pre>On 11/8/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:

&gt; But any higher level app might want to implement a resource space over
&gt; the top of a large object.
&gt;
&gt; Imagine a DVD of Pirates of the Carribean for example (although I
&gt; guess it might be an offence to even talk about downloading such a
&gt; thing).
&gt;
&gt; You might be able to download the whole file like this:
&gt;
&gt;    http://piratebay/pirates-of-the-carribean
&gt;
&gt; but you might be able to get the first section of the DVD (are these
&gt; called "chapters"?) like this:
&gt;
&gt;   http://piratebay/pirates-of-the-carribean/section1
&gt;
&gt; or to find the bit where Keira Knightley is talking about the pirate
&gt; code like this:
&gt;
&gt;   http://piratebay/pirates-of-the-carribean?actor=Knightely&amp;says=more%20like%20guidelines%20anyway
&gt;
&gt; It's up to the application.
&gt;
&gt; Now some of these things could also be done with content-range. But I
&gt; wouldn't advocate it because that's a low level tool with a specific
&gt; purpose.
&gt;


I think I agree with you. Nevertheless here is work Bryan Thompson did
on XPointer and range headers -- I've been meaning to drill down on
this when the time came; it hasn't come yet, but it always is just
around the corner:

http://wiki.cognitiveweb.org/HttpRangeAndXPointer

Hugh

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6789<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-09 09:17:57<br>
Subject:Re: [rest-discuss] Implications of the Content-Range header<br>
Message:<br><br>
<pre>"Hugh Winkler" &lt;hughw@...&gt; writes:

&gt;&gt; Now some of these things could also be done with content-range. But I
&gt;&gt; wouldn't advocate it because that's a low level tool with a specific
&gt;&gt; purpose.
&gt;
&gt; I think I agree with you. Nevertheless here is work Bryan Thompson did
&gt; on XPointer and range headers -- I've been meaning to drill down on
&gt; this when the time came; it hasn't come yet, but it always is just
&gt; around the corner:
&gt;
&gt; http://wiki.cognitiveweb.org/HttpRangeAndXPointer

It is interesting (even without a pirate reference) but my point
still stands. REST allows you to create the operations that work on an
object and it does it through the verbs acting on resources. You can
turn anything into as few or as many resources as you want by
drawing the resource space differently.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6790<br>
Sender:"Stelios Eliakis" &lt;eliakis@...&gt;<br>
Post Date/Time:2006-11-09 13:50:49<br>
Subject:orchestration - choreography<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6791<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2006-11-09 14:38:25<br>
Subject:Re: [rest-discuss] orchestration - choreography<br>
Message:<br><br>
<pre>On 11/9/06, Stelios Eliakis &lt;eliakis@...&gt; wrote:
&gt; I was talking with a colleague about web services and orchestration - choreography.
&gt; He told me that with rest you cannot orchestrate your web services.
&gt; Is it wrong?

It's not only wrong, but BS.  That's what "hypermedia as the engine of
application state" means.

I say that as one of the contributors to WS-CDL (Web Services
Choreography Description Language)
http://www.w3.org/TR/ws-cdl-10/
and a participant in WS-BPEL (Web Services Business Process
http://docs.oasis-open.org/wsbpel/2.0/wsbpel-specification-draft.html
- neither of which I would try to use on the World Wide Web.

&gt; Can you give me any resources or explain me the way that someone
&gt; could orchestrate his web services with REST?

For starters:

From Roy's dissertation
http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm
"The model application is therefore an engine that moves from one
state to the next by examining and choosing from among the alternative
state transitions in the current set of representations."

http://people.csail.mit.edu/gregs/ll1-discuss-archive-html/msg01848.html
http://www.prescod.net/rest/state_transition.html
http://rest.blueoxen.net/cgi-bin/wiki.pl?KindsOfCoordination
http://rest.blueoxen.net/cgi-bin/wiki.pl?StateMachineAsHypertext

(The last two are very incomplete discussions from some years ago, not
how-to-do-it articles.)

I don't know off hand of anybody who has a running example of state
machines as hypertext where you can look at code etc.  But you could
consider any shopping site (e.g. Amazon) or any travel broker site as
examples where you can't look at the code.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6792<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2006-11-09 14:37:56<br>
Subject:Re: [rest-discuss] orchestration - choreography<br>
Message:<br><br>
<pre>It depends on what you really mean by "choreography" and
"orchestration".  These are obviously metaphors for some kind
of coordination.  Like "Service Oriented Architecture" they
seem hard to pin down, because different authors
have different ideas of what they mean.

For example, http://www.middlewarespectra.com/abstracts/2003_08_03.htm :

"In an ideal world, business professionals and managers will be able to 
specify these reactions and responses themselves, without having to bring 
programmers into the picture. This ambition has come to be known as 
'orchestration' or 'choreography': the analogy with the way in which skilled 
musicians and dancers co-ordinate their actions while carrying out 
predetermined instructions is entirely deliberate. The possibilities are 
entrancing... but at this very moment new difficulties appear."

Above, the author treats the two terms as synonymous.  But here:

http://searchwebservices.techtarget.com/qna/0,289202,sid26_gci1066118,00.html

"Choreography is completely complementary to that [orchestration]. WS-CDL is 
an unambiguous way of describing the relationships between the services in a 
peer-to-peer collaboration without necessitating any orchestration at all. 
That's very important because if my business and your business are talking 
together, I can guarantee you that neither of us would accept orchestrating 
the other's services."

This author seems to have made a (somewhat arbitrary, IMO) distinction 
between
the two.

So I think if you really want to get an answer to your question, you might
want to drag a real use case in here and see how the REST style treats it. 
I surmise
we would then soon be talking about "hypertext as the engine of application
state", but let's see...

Walden

----- Original Message ----- 
From: "Stelios Eliakis" &lt;eliakis@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Thursday, November 09, 2006 8:50 AM
Subject: [rest-discuss] orchestration - choreography


: Hi,
: I was talking with a colleague about web services and orchestration -
: choreography.
: He told me that with rest you cannot orchestrate your web services.
: Is it wrong?
:
: Can you give me any resources or explain me the way that someone could
: orchestrate his web services with REST?
:
: -- 
: Stelios Eliakis
:
:
: __________ NOD32 1.1859 (20061108) Information __________
:
: This message was checked by NOD32 antivirus system.
: http://www.eset.com
:
: 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6793<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-11-09 14:54:14<br>
Subject:Re: [rest-discuss] orchestration - choreography<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6794<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-09 14:23:53<br>
Subject:Re: [rest-discuss] orchestration - choreography<br>
Message:<br><br>
<pre>"Stelios Eliakis" &lt;eliakis@...&gt; writes:

&gt; I was talking with a colleague about web services and orchestration -
&gt; choreography.
&gt; He told me that with rest you cannot orchestrate your web services.
&gt; Is it wrong?

Errr... what do you think?


&gt; Can you give me any resources or explain me the way that someone could
&gt; orchestrate his web services with REST?

Every mashup you've ever seen?

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6795<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-09 15:24:02<br>
Subject:Re: [rest-discuss] orchestration - choreography<br>
Message:<br><br>
<pre>Walden Mathews &lt;waldenm@...&gt; writes:

&gt; "In an ideal world, business professionals and managers will be able to 
&gt; specify these reactions and responses themselves, without having to bring 
&gt; programmers into the picture. This ambition has come to be known as 
&gt; 'orchestration' or 'choreography': the analogy with the way in which skilled 
&gt; musicians and dancers co-ordinate their actions while carrying out 
&gt; predetermined instructions is entirely deliberate. The possibilities are 
&gt; entrancing... but at this very moment new difficulties appear."

The idea that programmers won't be involved spawns the idea that
programming won't be involved and that's obvious nonsense.

But clearly there is scope, given our discoverable world, for a webapp
to build process based webapps. Personally, I think that's much more
likely with REST based services than it is with WS-*.

Or perhaps I should say that I believe a reliable system that doesn't
cost the earth to fix when it does fail, is more likely with REST than
with WS-*.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6796<br>
Sender:"Stelios Eliakis" &lt;eliakis@...&gt;<br>
Post Date/Time:2006-11-09 15:50:10<br>
Subject:Re: [rest-discuss] orchestration - choreography<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6797<br>
Sender:"Jeffrey Winter" &lt;JeffreyWinter@...&gt;<br>
Post Date/Time:2006-11-09 16:12:47<br>
Subject:RE: [rest-discuss] orchestration - choreography<br>
Message:<br><br>
<pre>
I doesn't use them because nothing like them is necessary in 
any way.

I was going to forward this same link, but I see it
was already provided:

http://people.csail.mit.edu/gregs/ll1-discuss-archive-html/msg01848.html


I found it to be the bste analysis of why choreography is
unnecessary.  Read it thoroughly.

The key line for me is:

"You *cannot* execute those steps in the wrong order so there is no need
to define a choreography for this API."

-----Original Message-----
From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com]
On Behalf Of Stelios Eliakis
Sent: Thursday, November 09, 2006 10:50 AM
To: rest-discuss@yahoogroups.com
Subject: Re: [rest-discuss] orchestration - choreography


Thanks for your response and your resources.
I'll change my question ;)

Soap web services use BPEL4WS or WS-CDL.(I'm not familiar with them)
Does Rest use any standard or something else? 

Orchestration can be achieved only with  conditional statements? 
For example 
****************************************
if( this resource has not change) do this 
else wait
*****************************************

I am confused and I really apologize for that ;)



On 11/9/06, Alan Dean &lt;alan.dean@... &lt;mailto:alan.dean@...&gt;
&gt; wrote:

	
	On 09/11/06, Stelios Eliakis &lt; eliakis@...
&lt;mailto:eliakis@...&gt; &gt; wrote:
	&gt; Can you give me any resources or explain me the way that
someone could orchestrate his web services with REST? 
	


	Here are some links that you may find informative:
	
	 
	
http://people.csail.mit.edu/gregs/ll1-discuss-archive-html/msg01848.html
&lt;http://people.csail.mit.edu/gregs/ll1-discuss-archive-html/msg01848.htm
l&gt; 
	http://www.prescod.net/rest/state_transition.html
&lt;http://www.prescod.net/rest/state_transition.html&gt; 
	http://www.prescod.net/reliable_http.html
&lt;http://www.prescod.net/reliable_http.html&gt; 
	 
	Regards,
	Alan Dean

	

	




-- 
Stelios Eliakis 

 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6798<br>
Sender:waldenm@...<br>
Post Date/Time:2006-11-09 17:38:38<br>
Subject:Re: [rest-discuss] orchestration - choreography<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6799<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-09 19:06:02<br>
Subject:Re: [rest-discuss] orchestration - choreography<br>
Message:<br><br>
<pre>"Stelios Eliakis" &lt;eliakis@...&gt; writes:

&gt; Thanks for your response and your resources.
&gt; I'll change my question ;)
&gt;
&gt; Soap web services use BPEL4WS or WS-CDL.(I'm not familiar with them)
&gt; Does Rest use any standard or something else?

Well (wait for it) REST is not so much rules, it's more like
guidlines... ARR

(look back through the recent list archive to see why I couldn't
resist saying that).


There is no _standard_ governing REST per se. There is RFC2616 about
how HTTP works and REST is a subset of that.

But RESTful applications don't really need standards for orchestration
since the techniques are obvious.

I was serious about mashups. Most mashups are examples of
orchectration of REST services.


&gt; Orchestration can be achieved only with  conditional statements?
&gt; For example
&gt; ****************************************
&gt; if( this resource has not change) do this
&gt; else wait
&gt; *****************************************

orchestration is surely more complex than that. It is the meeting of
many web services to achieve some business process.

It's really a nonsense term. It's just another form of
programming. But a form of programming that deals with very high level
concepts rather than the nitty gritty that programmers usually deal
with.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6800<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-09 19:07:15<br>
Subject:Re: [rest-discuss] orchestration - choreography<br>
Message:<br><br>
<pre>waldenm@... writes:

&gt; Nic, Fine, as long as folks realize there is a set of quotes
&gt; aroundthat first paragraph

Yes, apologies if that was not clear.

I was responding to a quotation that Walden made, not Walden himself.


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6801<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-09 22:37:10<br>
Subject:Re: [rest-discuss] orchestration - choreography<br>
Message:<br><br>
<pre>Jan Algermissen &lt;jalgermissen@...&gt; writes:

&gt; I think that when you approach the topic of processes from a REST  
&gt; POV, the processes should become applications (in the REST sense). To  
&gt; create a new process instance you POST to the process container and  
&gt; get back the URI of the instance. A GET on that URI will provide you  
&gt; with some hypermedia that tells you what state transitions are  
&gt; possible from the current state of the process. Depending on who does  
&gt; the GET the application can present different sets of possible  
&gt; transitions. That way the application (the process instance) serves  
&gt; as a coordinator for the various process participants.

Well that's true. But the point I was trying to get to is that
"orchestration" is a bit like macro programming. It is high level and
therefore it's supposed to be simple but that's a misconception.

But it's not about building a new REST service in the same way we
build the current ones (though it would be *really* interesting if you
could genericisize it like that) but about a method of mashing up
existing REST services with an extra bit of logic in some manager
friendly way.

I think it would be possible to come up with nice, gui tools to do
this. And I think it would be easier to do it with REST based ws than
WS-* based ws (where amusingly they have to invent even more protocols
and data formats!)


&gt; When you do a purchase at Amazon, you do not memorize the transitions  
&gt; you did once and do the same transitions every time; you start from  
&gt; the beginning each time and let the application take you through the  
&gt; state machine. If it changes from one purchase to the next (e.g. they  
&gt; might bring in an extra click-here-to-get-a-discount step), you will  
&gt; still be able to carry out your purchase as desired.
&gt;
&gt; This form of loose coupling is simply impossible if the client has to  
&gt; know (aka hard-coded) the call sequence of the API methods.

That's a really good point.


But it does lack pirate jokes.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6802<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-11-09 22:03:08<br>
Subject:Re: [rest-discuss] orchestration - choreography<br>
Message:<br><br>
<pre>
On Nov 9, 2006, at 8:06 PM, Nic James Ferrier wrote:

&gt; orchestration is surely more complex than that. It is the meeting of
&gt; many web services to achieve some business process.
&gt;
&gt; It's really a nonsense term. It's just another form of
&gt; programming.

Exactly, it is entirely procedural.

I think that when you approach the topic of processes from a REST  
POV, the processes should become applications (in the REST sense). To  
create a new process instance you POST to the process container and  
get back the URI of the instance. A GET on that URI will provide you  
with some hypermedia that tells you what state transitions are  
possible from the current state of the process. Depending on who does  
the GET the application can present different sets of possible  
transitions. That way the application (the process instance) serves  
as a coordinator for the various process participants.

Trouble ticket systems are a very nice example of that, I think.  
Every individual ticket (==process instance) coordinates stakeholders  
of the incident represented by the ticket.

What makes REST so special is that the clients need not know anything  
about the application flow (the state machine), they just need to  
understand link semantics. This enables the application to change the  
state machine without beaking client code.

When you do a purchase at Amazon, you do not memorize the transitions  
you did once and do the same transitions every time; you start from  
the beginning each time and let the application take you through the  
state machine. If it changes from one purchase to the next (e.g. they  
might bring in an extra click-here-to-get-a-discount step), you will  
still be able to carry out your purchase as desired.

This form of loose coupling is simply impossible if the client has to  
know (aka hard-coded) the call sequence of the API methods.

Jan

&gt; But a form of programming that deals with very high level
&gt; concepts rather than the nitty gritty that programmers usually deal
&gt; with.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6803<br>
Sender:"Daniel Hardman" &lt;daniel.hardman@...&gt;<br>
Post Date/Time:2006-11-07 21:50:47<br>
Subject:automated translation to REST style?<br>
Message:<br><br>
<pre>It seems to me that it ought to be possible to translate from an RPC-
centric worldview to a more RESTful style in an automated fashion. 
Input = .wsdl or .class or .php or .net assemblies, output = URL 
schema.

The REST doctrine of starting by classifying resources into a URL 
hierarchy is not a big conceptual departure from the OOP notion of 
carefully elaborating an object model. Class names become containers 
(URL segments), with instances tagged by name/id as subfolders, and 
their subobjects as further appendages to the URLs. Properties 
become sub-resources with canonical operations. The expected 
responses to GET, PUT, POST, and DELETE at a given resource are 
likely to be mappable with some occasionally customized regular 
expression tests. (SWIG?)

Automatically translating to REST might solve the following problems:

1. Make migration to a better architectural style easier.
2. Allow existing RPC-centric tools to be used while REST-oriented 
tool sets mature.
3. Force us to be more disciplined in distinguishing between 
theory/impl and major/minor aspects of REST's worldview.

Now, before somebody admonishes me that I haven't really grok'ed 
REST if I believe a simplistic conversion will make these two idioms 
interchangeable, let me be clear. I don't think this simplistic 
conversion could be fully functional. There would be warts and 
problematic non-equivalence. An RPC model manages state, 
identifiers, factories, and various other patterns differently from 
REST. But if we could eliminate the "noise" in the differences 
automatically, what we'd be left with are the nuggets that really 
matter. And casual experimenters with REST would quickly get some 
key benefits -- no more stateful sessions, looser coupling between 
two ends of a comm pipe, and an end to the proliferation of methods 
and structures that have to be versioned.

Does something like this already exist? If no, is it because I'm 
being bone-headed? If I'm not crazy, is anybody interested in 
collaborating on such a tool?




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6804<br>
Sender:Chris Grindstaff &lt;chris@...&gt;<br>
Post Date/Time:2006-11-10 04:12:30<br>
Subject:REST design question<br>
Message:<br><br>
<pre>Hello all,
I have a design question for those who are more familiar with the REST
style.

Here are the resources I've identified in my sample app:
person
location

A person has a location. How should I move an existing person to an existing location?
Originally I did a POST on location like so:
curl -d "bob" -H "Content-Type: text/plain" -X POST
http://localhost:8182/location/virginia

This says move person "bob" to location virginia.

Now I'm thinking it would be more "resource-ful" to PUT the person
with the updated location?

Appreciate your thoughts,
Chris

[Thanks MB for the subject head's up]
-- 
Chris Grindstaff | http://gstaff.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6805<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-11-10 04:48:52<br>
Subject:Re: [rest-discuss] automated translation to REST style?<br>
Message:<br><br>
<pre>On 11/7/06, Daniel Hardman &lt;daniel.hardman@...&gt; wrote:
&gt; Now, before somebody admonishes me that I haven't really grok'ed
&gt; REST if I believe a simplistic conversion will make these two idioms
&gt; interchangeable, let me be clear. I don't think this simplistic
&gt; conversion could be fully functional. There would be warts and
&gt; problematic non-equivalence. An RPC model manages state,
&gt; identifiers, factories, and various other patterns differently from
&gt; REST. But if we could eliminate the "noise" in the differences
&gt; automatically, what we'd be left with are the nuggets that really
&gt; matter. And casual experimenters with REST would quickly get some
&gt; key benefits -- no more stateful sessions, looser coupling between
&gt; two ends of a comm pipe, and an end to the proliferation of methods
&gt; and structures that have to be versioned.
&gt;
&gt; Does something like this already exist? If no, is it because I'm
&gt; being bone-headed? If I'm not crazy, is anybody interested in
&gt; collaborating on such a tool?

I don't believe it's practical.  Taking an arbitrary RPC system and
putting it on the Web is a very difficult task.  But more than
"difficult", it's *design*, and machines aren't very good at design.
For example, the URIs the tool would generate (e.g. if it found a
getFoo() method) would suck, because there's typically no way (and
definitely no general way) to identify resources and their naming
structure via RPC interfaces (you're actually better off going
straight to the data).  As another example, the granularity of data
access normally needs to be designed, IME; getFoo() and getBar() on
the same object might be better off as two URIs, or as a single URI
which returns both kinds of data (ala
&lt;root&gt;&lt;Foo&gt;foo&lt;/Foo&gt;&lt;Bar&gt;bar&lt;/Bar&gt;&lt;/root&gt;).  There's many many other
considerations.

As with any process though, you could certainly automate it.  But it
would be a *very* complex tool, requiring an exhorbitant amount of
user input ... which you'd need a Web architect for, which kinda
defeats the purpose of the tool.

Besides, if it worked, it would steal a good chunk of my business;
that makes it evil 8-)

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6806<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-10 06:11:59<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>&gt;&gt; A person has a location. How should I move an existing 
&gt;&gt; person to an existing location? 
&gt;&gt; Originally I did a POST on location like so:
&gt;&gt; curl -d "bob" -H "Content-Type: text/plain" -X POST
&gt;&gt; http://localhost: &lt;http://localhost:8182/location/virginia&gt;
8182/location/virginia
&gt;&gt; This says move person "bob" to location virginia.
&gt;&gt; Now I'm thinking it would be more "resource-ful" to PUT 
&gt;&gt; the person with the updated location?
 
Oooh! Interesting question.  From a database design perspective it might be
a POST if Bob could have multiple locations (i.e. a linking table like
"tblPersonLocation.PersonID &amp; tblPersonLocation.LocationID") but it would be
a PUT if Bob could have only one location (i.e. "tblPerson.Location").  (I'm
assuming that this isn't Bob's current physical location which would of
course eliminate the former option.)
 
However, and this I'd like to know: Shouldn't that level of database design
detail be hidden by the REST services?
 
&gt;&gt; Here are the resources I've identified in my sample app:
&gt;&gt; person
&gt;&gt; location

Question to the RESTerati on the list: is that how the term "resources" are
generally used in REST, or would the term "resource" normally be used in
different contexts?  The reason I ask is "person" and "location" sound more
like objects to me.  (BTW, I in no way mean to slight Mr Grindstaff, I'm
trying to understand REST well enough that I can write a concise description
of it for the layperson.)
 
-Mike Schinkel 
http://www.mikeschinkel.com/blogs/ 
http://www.welldesignedurls.org/ 

 
  _____  

From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On
Behalf Of Chris Grindstaff
Sent: Thursday, November 09, 2006 11:13 PM
To: rest-discuss@yahoogroups.com
Subject: [rest-discuss] REST design question



Hello all,
I have a design question for those who are more familiar with the REST
style.

Here are the resources I've identified in my sample app:
person
location

A person has a location. How should I move an existing person to an existing
location?
Originally I did a POST on location like so:
curl -d "bob" -H "Content-Type: text/plain" -X POST
http://localhost: &lt;http://localhost:8182/location/virginia&gt;
8182/location/virginia

This says move person "bob" to location virginia.

Now I'm thinking it would be more "resource-ful" to PUT the person
with the updated location?

Appreciate your thoughts,
Chris

[Thanks MB for the subject head's up]
-- 
Chris Grindstaff | http://gstaff. &lt;http://gstaff.org&gt; org



 
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6807<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-10 06:31:52<br>
Subject:RE: [rest-discuss] automated translation to REST style?<br>
Message:<br><br>
<pre>DH&gt;&gt; It seems to me that it ought to be possible to translate from an RPC-
centric worldview to a more RESTful style in an automated fashion. 
Input = .wsdl or .class or .php or .net assemblies, output = URL schema.
...
DH&gt;&gt; If I'm not crazy, is anybody interested in collaborating on such a
tool?

I love the idea!  And I would be very interested in collaborating.
 
It would allow people to get a lot of REST services *working* without a lot
of initial effort and.ir, and then iteratively clean up their design.  That
would provide something that I think has often been missing from software
and that is a concept of "transitionality."  Transitionality was probably
the most important concept I learned from Dr. Albert Badre of Georgia Tech
while in college.  I wrote about it here:
http://www.mikeschinkel.com/blog/DevelopmentToolsNeedTransitionality.aspx  I
later referenced transitionality in many other blog posts:
http://www.mikeschinkel.com/blog/CategoryView,category,Transitionality.aspx
 
I think it could be especially valuable if it flagged the potential issues
to look at and provided some "best practices" for dealing with those
problems.  For example, using Mark's example of getFoo() and getBar(), it
could provide suggestions from when two URIs or one would be better, and
even automate the regeneration.
 
And it would never be perfect, but it could lead people to REST using
examples they are familiar with. Chances are they'd end up rewriting form
scratch many times after they saw it didn't do an optimal job, but it would
greatly lower the barrier to entry for people to move.  We sold translators
at Xtras from VB6 to VB.NET and VB6 to C# offer many developers the same
ease of entry into the newer languages.
 
 
MB&gt;&gt; Besides, if it worked, it would steal a good chunk of 
MB&gt;&gt; my business;that makes it evil 8-)
 
Mark, I can *promise* you such a tool as this would only lead you to having
a LOT MORE REST business as it would make REST a lot more popular. If you
lower the barrier to entry across the board on a technology that has
significant business value, businesses will end up spending more money
utilizing it because their can get a greater return on their investment.
When long distance phone calls cost $1/minute, the telcom industry made a
lot less revenue and profit than when the cost of calls came down to $5
cents/minute. 
Funny, I blogged about that concept too:
http://www.mikeschinkel.com/blog/PricingAndTheEconomicsOfValueCreation.aspx
;-)

-Mike Schinkel 
http://www.mikeschinkel.com/blogs/ 
http://www.welldesignedurls.org/ 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6808<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-10 06:39:32<br>
Subject:RE: [rest-discuss] orchestration - choreography<br>
Message:<br><br>
<pre>Jan&gt;&gt; This form of loose coupling is simply impossible 
Jan&gt;&gt; if the client has to know (aka hard-coded) the 
Jan&gt;&gt; call sequence of the API methods.
 
Here's what I haven't figured out. Yes, hypermedia can provide the ability
to go from link to link to link in an automated fashion, but how can the
knowledge of what parameters to pass and why to do with the return values to
arranged in a chained-automated hypermedia fashion (and does how I worked my
question make sense? :-)
 
It seems to me your code has to understand the specific APIs in order to do
anything useful...?
 
-Mike Schinkel 
http://www.mikeschinkel.com/blogs/ 
http://www.welldesignedurls.org/ 


  _____  

From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On
Behalf Of Jan Algermissen
Sent: Thursday, November 09, 2006 5:03 PM
To: Nic James Ferrier
Cc: Stelios Eliakis; rest-discuss@yahoogroups.com
Subject: Re: [rest-discuss] orchestration - choreography




On Nov 9, 2006, at 8:06 PM, Nic James Ferrier wrote:

&gt; orchestration is surely more complex than that. It is the meeting of
&gt; many web services to achieve some business process.
&gt;
&gt; It's really a nonsense term. It's just another form of
&gt; programming.

Exactly, it is entirely procedural.

I think that when you approach the topic of processes from a REST 
POV, the processes should become applications (in the REST sense). To 
create a new process instance you POST to the process container and 
get back the URI of the instance. A GET on that URI will provide you 
with some hypermedia that tells you what state transitions are 
possible from the current state of the process. Depending on who does 
the GET the application can present different sets of possible 
transitions. That way the application (the process instance) serves 
as a coordinator for the various process participants.

Trouble ticket systems are a very nice example of that, I think. 
Every individual ticket (==process instance) coordinates stakeholders 
of the incident represented by the ticket.

What makes REST so special is that the clients need not know anything 
about the application flow (the state machine), they just need to 
understand link semantics. This enables the application to change the 
state machine without beaking client code.

When you do a purchase at Amazon, you do not memorize the transitions 
you did once and do the same transitions every time; you start from 
the beginning each time and let the application take you through the 
state machine. If it changes from one purchase to the next (e.g. they 
might bring in an extra click-here-to-get-a-discount step), you will 
still be able to carry out your purchase as desired.

This form of loose coupling is simply impossible if the client has to 
know (aka hard-coded) the call sequence of the API methods.

Jan

&gt; But a form of programming that deals with very high level
&gt; concepts rather than the nitty gritty that programmers usually deal
&gt; with.



 
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6809<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-11-10 06:51:47<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>http://example.org/places/{place}
http://example.org/people/{person}

http://example.org/places/virginia

&lt;people&gt;
	&lt;person&gt;bob&lt;/person&gt;
	&lt;person&gt;jane&lt;/person&gt;
&lt;/people&gt;

http://example.org/people/bob

&lt;place&gt;virginia&lt;/place&gt;

---------

GET the representation /places/virginia
edit it to remove &lt;person&gt;bob&lt;/person&gt;
PUT the representation back
GET the representation /maryland
edit it to include &lt;person&gt;bob&lt;/person&gt;
PUT the representation back
GET the representation /bob
edit &lt;place&gt; to contain "maryland"
PUT the representation back

POST to http://example.org/places/
to create a new placename
POST to http://example.org/people/
to create a new person

DELETE either /virginia or /bob

Hope this isn't too brief,
Eric

&gt;-----Original Message-----
&gt;From: Chris Grindstaff [mailto:chris@...]
&gt;Sent: Thursday, November 9, 2006 09:12 PM
&gt;To: rest-discuss@yahoogroups.com
&gt;Subject: (UCE) [rest-discuss] REST design question
&gt;
&gt;Hello all,
&gt;I have a design question for those who are more familiar with the REST
&gt;style.
&gt;
&gt;Here are the resources I've identified in my sample app:
&gt;person
&gt;location
&gt;
&gt;A person has a location. How should I move an existing person to an existing location?
&gt;Originally I did a POST on location like so:
&gt;curl -d "bob" -H "Content-Type: text/plain" -X POST
&gt;http://localhost:8182/location/virginia
&gt;
&gt;This says move person "bob" to location virginia.
&gt;
&gt;Now I'm thinking it would be more "resource-ful" to PUT the person
&gt;with the updated location?
&gt;
&gt;Appreciate your thoughts,
&gt;Chris
&gt;
&gt;[Thanks MB for the subject head's up]
&gt;-- 
&gt;Chris Grindstaff | http://gstaff.org
&gt;
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6810<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-10 07:07:10<br>
Subject:Singular vs. Plural?<br>
Message:<br><br>
<pre>Eric:
 
&gt;&gt;  &lt;http://example.org/places/&gt; http://example.org/places/{place}
&gt;&gt;  &lt;http://example.org/people/&gt; http://example.org/people/{person}
 
In your example, you used the plural of "place/places" and "person/people."
Can you example why you chose plural, and the pros and cons for singular vs.
plural?
 
Thanks in advance.
 
-Mike Schinkel 
http://www.mikeschinkel.com/blogs/ 
http://www.welldesignedurls.org/ 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6811<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-10 07:16:13<br>
Subject:RE: (UCE) [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>Eric&gt;&gt; My only purpose was to give a clear example.  ;-)  There is literally
no difference between using /places/ or /place/ and /people/ or /person/.

Darn. It is an issue I'm wrestling with and I was hoping for some well
considered guidance. :)

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6812<br>
Sender:"Justin T. Sampson" &lt;justin@...&gt;<br>
Post Date/Time:2006-11-10 07:18:48<br>
Subject:Re: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>On 11/9/06, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:

&gt; &gt;&gt; http://example.org/places/{place}
&gt; &gt;&gt; http://example.org/people/{person}
&gt;
&gt; In your example, you used the plural of "place/places" and
&gt; "person/people." Can you example why you chose plural, and the
&gt; pros and  cons for singular vs. plural?

I'm not Eric, but I use plurals myself to maintain the
hierarchical relationship -- the collection is /places/, a
particular place is /places/xyz. Similar to files in a directory
(though I emphatically don't think of the Web as a filesystem).

Cheers,
Justin

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6813<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-11-10 07:14:03<br>
Subject:Re: (UCE) [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>My only purpose was to give a clear example.  ;-)  There is literally no 
difference between using /places/ or /place/ and /people/ or /person/.

-Eric

&gt;-----Original Message-----
&gt;From: Mike Schinkel [mailto:mikeschinkel@...]
&gt;Sent: Friday, November 10, 2006 12:07 AM
&gt;To: rest-discuss@yahoogroups.com
&gt;Subject: (UCE) [rest-discuss] Singular vs. Plural?
&gt;
&gt;Eric:
&gt; 
&gt;&gt;&gt;  &lt;http://example.org/places/&gt; http://example.org/places/{place}
&gt;&gt;&gt;  &lt;http://example.org/people/&gt; http://example.org/people/{person}
&gt; 
&gt;In your example, you used the plural of "place/places" and "person/people."
&gt;Can you example why you chose plural, and the pros and cons for singular vs.
&gt;plural?
&gt; 
&gt;Thanks in advance.
&gt; 
&gt;-Mike Schinkel 
&gt;http://www.mikeschinkel.com/blogs/ 
&gt;http://www.welldesignedurls.org/ 
&gt;
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6814<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-11-10 07:21:55<br>
Subject:Re: (UCE) RE: (UCE) [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>Sorry if that was glib, but I do consider it well-considered guidance.  That 
issue can be argued either way based on the merits of personal preference. As 
regards proper REST architectural style I think it's a non-issue because
architecturally, both are correct and that's all that matters.

-Eric

&gt;-----Original Message-----
&gt;From: Mike Schinkel [mailto:mikeschinkel@...]
&gt;Sent: Friday, November 10, 2006 12:16 AM
&gt;To: eric@...
&gt;Cc: rest-discuss@yahoogroups.com
&gt;Subject: (UCE) RE: (UCE) [rest-discuss] Singular vs. Plural?
&gt;
&gt;Eric&gt;&gt; My only purpose was to give a clear example.  ;-)  There is literally
&gt;no difference between using /places/ or /place/ and /people/ or /person/.
&gt;
&gt;Darn. It is an issue I'm wrestling with and I was hoping for some well
&gt;considered guidance. :)
&gt;
&gt;-Mike Schinkel
&gt;http://www.mikeschinkel.com/blogs/
&gt;http://www.welldesignedurls.org/
&gt;
&gt;
&gt;
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6815<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-10 07:40:50<br>
Subject:RE: (UCE) RE: (UCE) [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>Eric,

&gt;&gt; That issue can be argued either way based on 
&gt;&gt; the merits of personal preference. As regards 
&gt;&gt; proper REST architectural style I think it's a 
&gt;&gt; non-issue because architecturally, both are 
&gt;&gt; correct and that's all that matters. 

I respect that.  

OTOH, I think maybe what I'm looking for is to find a layer of constraints
that can be placed on top of REST. 

Although I really hate quoting 37 Signals as I think they've been overhyped,
I do think they have a point about embracing constraints:
http://gettingreal.37signals.com/ch03_Embrace_Constraints.php  I think
providing some some guidance on constraints would make it easier and quicker
to implement REST systems and minimize the time required to come up to speed
on REST. Constraints such as:

* Eliminate the need to make arbitrary decisions,
* Recognize patterns that are beneficial in a large percentage of cases, and
* Offer Best Practices, and reference implementations.

Now I don't mean IN ANY WAY TO CONSTRAIN _REST_ IN GENERAL, just to provide
a conceptual layer on top of REST like AJAX was a conceptual layer on top of
JavaScript, XML, and the HTML DOM. (I call that my "lots of little layers"
principle:
http://www.mikeschinkel.com/blog/MonolithicComplexityVsLotsOfLittleLayers.as
px)

So I was trying to find a good reason to choose singular vs. plural.

And didn't mean any slight to you when I guess I implied yours wasn't
"well-considered guidance" but instead am looking for well-considered
guidance that does recommend one over the other.

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/

P.S. Regarding a constraint model on REST, maybe *that* could transcend
"just an architecture style" and move into being a recommendation.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6816<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-10 07:44:12<br>
Subject:RE: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>Justin,
 
&gt;&gt; I'm not Eric, 
 
I didn't mean to accidentally constrain responses to be from Eric, I'd love
to hear from everyone on this.
 
&gt;&gt; but I use plurals myself to 
&gt;&gt; maintain the hierarchical relationship -- 
&gt;&gt; the collection is /places/, a particular 
&gt;&gt; place is /places/xyz. Similar to files in 
&gt;&gt; a directory (though I emphatically don't 
&gt;&gt; think of the Web as a filesystem).
 
Thanks.  Can you give me reasons (pros and cons) for choosing plural over
singular?
 
-Mike Schinkel 
http://www.mikeschinkel.com/blogs/ 
http://www.welldesignedurls.org/ 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6817<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-11-10 07:50:02<br>
Subject:RE: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>Sorry about my spam-tagged subjects, everyone.  -1 me.

Mike, I think my response to Justin may help answer your last question:

&gt;
&gt;I'm not Eric, but I use plurals myself to maintain the
&gt;hierarchical relationship -- the collection is /places/, a
&gt;particular place is /places/xyz. Similar to files in a directory
&gt;(though I emphatically don't think of the Web as a filesystem).
&gt;

While I agree with Justin, the counterargument is this:  A URI is by its 
nature singular, xyz is never a places and bob is never a people.  Expressing 
metadata relationships in URIs is an interesting discussion, but I don't 
think it's within the scope of REST.

What I do think is within REST, is separating out the person names from the 
place names by using hierarchical URIs.  In other words, I don't think it's 
correct to use:

[1] http://example.org/bob
[2] http://example.org/virginia

If /bob and /virginia are not equivalent resources, i.e. aren't the same 
type, or as I prefer to say, not in the same set.  But the subdirectories, 
as far as I'm concerned that REST is concerned, could be named /xyzzy/ and 
/yxzzx/.

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6818<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-10 07:56:58<br>
Subject:Singular vs. Plural?<br>
Message:<br><br>
<pre>Eric, 

&gt;&gt;  Expressing metadata relationships in URIs is an interesting discussion,
but I don't think it's within the scope of REST-discuss.

Fair.  Given that, would you be able to suggest a place where it would be
appropriate to discuss?

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/

P.S.  If you can't suggest a place, I could do it here
http://tech.groups.yahoo.com/group/welldesignedurls/ but there are very few
active members at the moment (so I'm going to crosspost in hopes some of
them will chime in.)


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6819<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-11-10 08:09:04<br>
Subject:RE: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>&gt;
&gt;OTOH, I think maybe what I'm looking for is to find a layer of constraints
&gt;that can be placed on top of REST.
&gt;

But like Roy was saying the other day, once you've done that the result can't 
be called REST.  I am developing an architecture with its own name which is a 
subset of the constraints in REST, with further constraint, and applied to a 
single use case.  Which makes it REST-derived or REST-inspired but not REST.

Which brings us to the same frustration I recently experienced with trying to 
put part of REST in lay terms, the result is a lay explanation of something 
which isn't REST.  I'm stuck on that problem myself, sorry I can't be of any 
help to you with it...

&gt;
&gt;P.S. Regarding a constraint model on REST, maybe *that* could transcend
&gt;"just an architecture style" and move into being a recommendation.
&gt;

If you look at the uri@... list archive, there has been discussion about 
creating a URI templating standard, which can serve as the basis of 
describing (somehow) a site's URI structure.  I think this approach, of 
figuring out a way to define a site's URI structure which is machine-
readable, is what should be standardized rather than standardizing any one 
"reference implementation" of REST.

Or, for that matter, defining either singular or plural pathnames as a best 
practice.  You are most certainly welcome to research and create a body of 
work regarding that issue, and the usage of metadata in URI allocation 
schemes in general, and I would be greatly interested in reading the result. 
But that result would be your system of "wellformedurls" as defined at 
wellformedurls.org, not REST as defined in Roy's thesis.

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6820<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-10 08:25:22<br>
Subject:RE: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>&gt;&gt; Which makes it REST-derived or REST-inspired but not REST.

I don't care if it's called REST or "Walla-Walla-Hoo-Hoo."  I'm looking
pragmatically for something that adds a layer of value on REST; Frankly I
don't care what it's called.

&gt;&gt; Which brings us to the same frustration I recently experienced with
trying to put part of REST in lay terms

Looking from "the outside", respectfully speaking I think that is one of the
problems with that which is called "REST."  If you can't really describe it
in anything other than abstract terms, and you can't really implement it
without making it not REST, than does it really exist other than to stir up
endless debate?    Sorry if I'm being pedantic, but jeesh.

&gt;&gt; If you look at the uri@... list archive, there has been discussion
about creating a URI templating standard, which can serve as the basis of
describing (somehow) a site's URI structure.  

I have studied everything I could find regarding URI Template, and I think
it is (in part) exactly what is needed! I just wasn't aware it had it's own
list; thanks for pointing that out to me.

&gt;&gt; I think this approach, of figuring out a way to define a site's URI
structure which is machine- readable

Oh, but that is where I was headed; using URI Template (in conjunction with
other ideas.)  I just decided not to include in my first message so as to
simplify my message.

&gt;&gt; Or, for that matter, defining either singular or plural pathnames as a
best practice...

Cool.  Wanna at least be a lurker in the discussions?  Join
http://tech.groups.yahoo.com/group/welldesignedurls/

&gt;&gt; But that result would be your system of "wellformedurls" as defined at
wellformedurls.org, not REST as defined in Roy's thesis.

Like I said; "A rose by any other name..."   Given how much resistance there
is to consider REST as something tangible, having another name would
probably be a great thing. :)

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6821<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-10 08:30:56<br>
Subject:RE: [rest-discuss] orchestration - choreography<br>
Message:<br><br>
<pre>&gt;&gt; There is no specific APIs - the API is uniform and ever HTTP client is
expected to understand it.
 
In an abstract sense, you are correct. But when implemented the REST service
has to do _something_, and interfacing to that something in a meaningful way
is going to require specific code, no?
 
&gt;&gt;  Keep in mind that clients will usually also use some kind of procedural
code because there
is some intention the client carries out. So itis not the Web application
that drives the client's
program counter but it is the Web application that offers the next steps
through itself.


&gt;&gt; The client still needs to make the choices what hyperlinks to traverse
and for those choices to be
made, it needs to understand the links.
 
Yes, but to me unless I can always treat following a link in the same way as
a web browser does when a user clicks a link is seems to obviate the
benefits of hypermedia for web services.
 
Maybe it would help me if you give a specific example?
 
-Mike Schinkel 
http://www.mikeschinkel.com/blogs/ 
http://www.welldesignedurls.org/ 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6822<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-11-10 08:48:58<br>
Subject:RE: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>&gt;
&gt;I don't care if it's called REST or "Walla-Walla-Hoo-Hoo." I'm looking
&gt;pragmatically for something that adds a layer of value on REST; Frankly I
&gt;don't care what it's called.
&gt;

But my advice still stands, choosing singular vs. plural comes down to a 
matter of preference and not one of pragmatism.  I consider it pragmatic to 
use /people/ and /places/ instead of /xyzzy/ and /zyxxz/, vouching for the 
former over the latter is one of common sense pragmatism IMHO.  The same goes 
for using separate directories for separate types of resources, instead of 
something like /webapp/index.php?q=bob and /webapp/index.php?q=virginia -- 
that is directly a matter of architecture and common-sense pragmatism.

&gt;
&gt;Looking from "the outside", respectfully speaking I think that is one of the
&gt;problems with that which is called "REST." If you can't really describe it
&gt;in anything other than abstract terms, and you can't really implement it
&gt;without making it not REST, than does it really exist other than to stir up
&gt;endless debate? Sorry if I'm being pedantic, but jeesh.
&gt;

I'm hardly on "the inside", heheh.  I've given a couple of concrete examples 
of architectural differences in URIs which are hardly abstract notions.  I 
further believe that singular vs. plural is an abstract notion since they 
have no architectural difference.  What I'm implementing is REST-derived, but 
I believe it would be doing me an injustice to call that *not* REST.  The app 
I'm developing implements discrete programmatic constraints within a set of 
abstract architectural constraints known as REST.

Although, since I haven't published a working example for people to tear 
into, it's still open for debate that I haven't stepped outside the REST 
constraints in some way or another.  In which case, I would be REST-inspired 
not REST-derived, and it would be accurate to say that my results are *not* 
REST.

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6823<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-10 08:58:37<br>
Subject:RE: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>&gt;&gt; But my advice still stands, choosing singular vs. plural comes down to a
matter of preference and not one of pragmatism.  

We are going in circles.  If it doesn't matter which you choose, then in
order to get consistancy I'm trying to pick one.  It's like saying the team
can have any color on their jerseys they want, but not specifying a color
would make the team look all tutti-frutti.

&gt;&gt; since they have no architectural difference.  

Again, I'm trying to say if at the "architecture" level you can't specify
then I'm asking about a different level.  You know, choosing not to decide
is a decision itself. ;)

&gt;&gt; REST / not REST / REST-inspired / REST-derived

This whole set of distinctions feels much like a way to avoid allowing
anyone to actually implement anything! :)  And I don't mean your
implementations, but in terms of the general guidance offered.  It's NO
WONDER more people are implementing SOAP vs. REST.  ;-)

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6824<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-10 09:30:50<br>
Subject:Re: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>"Mike Schinkel" &lt;mikeschinkel@...&gt; writes:

&gt; We are going in circles.  If it doesn't matter which you choose, then in
&gt; order to get consistancy I'm trying to pick one.  It's like saying the team
&gt; can have any color on their jerseys they want, but not specifying a color
&gt; would make the team look all tutti-frutti.

It depends on the application.

But I mostly use the approach used in SQL which is to be singular.

But then again, that's hardly a convention at all. Lot's of people
don't follow it.


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6825<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-10 10:03:39<br>
Subject:RE: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>Nic&gt;&gt; But I mostly use the approach used in SQL which is to be singular.

I guess what I'm looking for is "why?"  Just because in SQL?

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6826<br>
Sender:Chris Burdess &lt;dog@...&gt;<br>
Post Date/Time:2006-11-10 10:36:07<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Chris Grindstaff wrote:
&gt; I have a design question for those who are more familiar with the REST
&gt; style.
&gt; 
&gt; Here are the resources I've identified in my sample app:
&gt; person
&gt; location
&gt; 
&gt; A person has a location. How should I move an existing person to an existing location?
&gt; Originally I did a POST on location like so:
&gt; curl -d "bob" -H "Content-Type: text/plain" -X POST
&gt; http://localhost:8182/location/virginia
&gt; 
&gt; This says move person "bob" to location virginia.
&gt; 
&gt; Now I'm thinking it would be more "resource-ful" to PUT the person
&gt; with the updated location?

I think you're getting confused. First you say you have a person
resource, then you're POSTing to a location resource with a data
payload, "bob". The text "bob" is not a resource.

If you want to model relationships between resources then you need to
use an appropriate modelling metaphor such as RDF (perhaps in this
simple case you could use WebDAV bindings instead). Thus, you would have
resources:

  http://foo/person/bob
  http://foo/location/catalonia
  http://foo/location/virginia

You would have an initial state of affairs at t1:

  @prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
  @prefix world: &lt;http://foo/&gt; .

  world:person/bob world:has_location world:location/catalonia .

You would then PUT the new representation of the world at t2 (to
whatever resource handles the ontology of your world:

  @prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
  @prefix world: &lt;http://foo/&gt; .

  world:person/bob world:has_location world:location/virginia .
-- 
Chris Burdess

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6827<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-10 10:45:40<br>
Subject:RE: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>Nic&gt;&gt; In SQL the why is because you're really talking about each individual
record.

Just FYI, I'm really familiar with the reason in SQL and agree with it.  

&gt;&gt; If you're going to say:
&gt;&gt; 
&gt;&gt;    /person/nic_ferrier
&gt;&gt; 
&gt;&gt; a lot then maybe you should choose singular.
&gt;&gt; 
&gt;&gt; But if you're going to use:
&gt;&gt; 
&gt;&gt;   /people/
&gt;&gt; 
&gt;&gt; a lot then maybe you should use that.
&gt;&gt; 
&gt;&gt; Don't ignore the fact that you could do both: we've got redirects after
all!

That is actually exactly what I was looking for.  Thank you!

&gt;&gt; It really doesn't matter to your users which style you decide on and
you'll never get everyone to agree with you.

I'm not looking for everyone.  Just most. :)  

Similarly, look at the success of Ruby On Rails *because* they decided to
set stakes in the ground. Certainly not everyone agrees with all their
choices, but that hardly kept it from become very successful.

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6828<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-10 10:58:50<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Chris Burdess said

&gt;&gt; If you want to model relationships between resources 
&gt;&gt; then you need to use an appropriate modelling metaphor 
&gt;&gt; such as RDF (perhaps in this simple case you could use 
&gt;&gt; WebDAV bindings instead). Thus, you would have
&gt;&gt; resources:

Aw. I so totally didn't follow that. Why do you need RDF.  Why can't he PUT
to  &lt;http://foo/person/bob&gt; http://foo/person/bob or
&lt;http://foo/location/virginia&gt; http://foo/location/virginia (whichever would
be more approriate?)
 

-Mike Schinkel 
http://www.mikeschinkel.com/blogs/ 
http://www.welldesignedurls.org/ 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6829<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-10 11:23:05<br>
Subject:RE: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>Nic&gt;&gt; That says more about other frameworks than it does about R&amp;R I think.

So, you must really be liking SOAP right about now? ;-)

Nic&gt;&gt; It doesn't mean their arbritary decisions are popular.

I didn't say they were popular.  I said they were *successful.*  :)  And
people are using them to launch websites at a rapid pace. IOW, they are
getting work done and are being productive. Isn't that what it's all about?
Technology for technology's sake doesn't pay anyone's salary.

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6830<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-10 11:13:54<br>
Subject:Re: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>"Mike Schinkel" &lt;mikeschinkel@...&gt; writes:

&gt; Similarly, look at the success of Ruby On Rails *because* they decided to
&gt; set stakes in the ground. Certainly not everyone agrees with all their
&gt; choices, but that hardly kept it from become very successful.

That says more about other frameworks than it does about R&amp;R I think.

It doesn't mean their arbritary decisions are popular.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6831<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-10 10:28:33<br>
Subject:Re: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>"Mike Schinkel" &lt;mikeschinkel@...&gt; writes:

&gt; Nic&gt;&gt; But I mostly use the approach used in SQL which is to be singular.
&gt;
&gt; I guess what I'm looking for is "why?"  Just because in SQL?

In SQL the why is because you're really talking about each individual
record.

So you might select a record thus:

  select * from user where id = 72;

clearly if you do that you are talking about one individual user.


If we're talking about resources then we could also choose plural or
singular based on what the common context is.

If you're going to say:

   /person/nic_ferrier

a lot then maybe you should choose singular.

But if you're going to use:

  /people/

a lot then maybe you should use that.

Don't ignore the fact that you could do both: we've got redirects
after all!


And at the end of the day remember that this is angels dancing on pin
heads. It really doesn't matter to your users which style you decide
on and you'll never get everyone to agree with you.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6832<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2006-11-10 12:48:39<br>
Subject:Re: (UCE) RE: (UCE) [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>[snip]:
: So I was trying to find a good reason to choose singular vs. plural.
: 
: And didn't mean any slight to you when I guess I implied yours wasn't
: "well-considered guidance" but instead am looking for well-considered
: guidance that does recommend one over the other.
: 
[snip]

Mike,

I've heard Roy give the following advice many times
on this list and elsewhere, and I think it would be useful
to you now also:

Try to answer your own questions by implementing *what
you need to* and draw your own conclusions from that.

Then, if you're stuck, consult the group.

Walden


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6833<br>
Sender:Chris Burdess &lt;dog@...&gt;<br>
Post Date/Time:2006-11-10 13:40:09<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Mike Schinkel wrote:
&gt; &gt;&gt; If you want to model relationships between resources 
&gt; &gt;&gt; then you need to use an appropriate modelling metaphor 
&gt; &gt;&gt; such as RDF (perhaps in this simple case you could use 
&gt; &gt;&gt; WebDAV bindings instead). Thus, you would have
&gt; &gt;&gt; resources:
&gt; 
&gt; Aw. I so totally didn't follow that. Why do you need RDF.  Why can't he PUT
&gt; to  &lt;http://foo/person/bob&gt; http://foo/person/bob or
&gt; &lt;http://foo/location/virginia&gt; http://foo/location/virginia (whichever would
&gt; be more approriate?)

Because if you PUT to http://foo/person/bob you are changing the nature
of bob, if you PUT to http://foo/location/virginia you are changing the
nature of virginia. You aren't changing the relationship between these
two resources.
-- 
Chris Burdess

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6834<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-11-10 14:13:49<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>On 10/11/06, Chris Burdess &lt;dog@...&gt; wrote:

&gt;  &gt; Aw. I so totally didn't follow that. Why do you need RDF.  Why can't he PUT
&gt;  &gt; to  &lt;http://foo/person/bob&gt; http://foo/person/bob or
&gt;  &gt; &lt;http://foo/location/virginia&gt; http://foo/location/virginia (whichever would
&gt;  &gt; be more approriate?)
&gt;
&gt;  Because if you PUT to http://foo/person/bob you are changing the nature
&gt;  of bob, if you PUT to http://foo/location/virginia you are changing the
&gt;  nature of virginia. You aren't changing the relationship between these
&gt;  two resources.

So is it reasonable to have a resource mapping the relationship
between the two entities?

foo/whereis
    who = Bob
    where = Virginia
which provides the connection information?

regards




-- 
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6835<br>
Sender:Chris Grindstaff &lt;chris@...&gt;<br>
Post Date/Time:2006-11-10 15:53:38<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Friday, November 10, 2006, 1:51:47 AM, you wrote:

EJB&gt; http://example.org/places/{place}
EJB&gt; http://example.org/people/{person}

EJB&gt; http://example.org/places/virginia

EJB&gt; &lt;people&gt;
EJB&gt; 	&lt;person&gt;bob&lt;/person&gt;
EJB&gt; 	&lt;person&gt;jane&lt;/person&gt;
EJB&gt; &lt;/people&gt;

EJB&gt; http://example.org/people/bob

EJB&gt; &lt;place&gt;virginia&lt;/place&gt;

EJB&gt; ---------

EJB&gt; GET the representation /places/virginia
EJB&gt; edit it to remove &lt;person&gt;bob&lt;/person&gt;
EJB&gt; PUT the representation back
EJB&gt; GET the representation /maryland
EJB&gt; edit it to include &lt;person&gt;bob&lt;/person&gt;
EJB&gt; PUT the representation back
EJB&gt; GET the representation /bob
EJB&gt; edit &lt;place&gt; to contain "maryland"
EJB&gt; PUT the representation back

EJB&gt; POST to http://example.org/places/
EJB&gt; to create a new placename
EJB&gt; POST to http://example.org/people/
EJB&gt; to create a new person

EJB&gt; DELETE either /virginia or /bob

EJB&gt; Hope this isn't too brief,
EJB&gt; Eric

Nope not too brief at all.

I understand your approach. The implication I read from this is that
"typical" REST should not have side-effects on the server.

By that I mean, it's easy to code the server-side to change the
relationship between "place" and "person" on the first PUT which would
have the advantage of eliminating the subsequent GET/PUTs.

But I'm guessing that's not RESTful since the state transition would
be implemented in the server component ?

-Chris
-- 
Chris Grindstaff | http://gstaff.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6836<br>
Sender:Chris Grindstaff &lt;chris@...&gt;<br>
Post Date/Time:2006-11-10 15:58:41<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Friday, November 10, 2006, 5:36:07 AM, you wrote:

CB&gt; Chris Grindstaff wrote:
&gt;&gt; I have a design question for those who are more familiar with the REST
&gt;&gt; style.
&gt;&gt; 
&gt;&gt; Here are the resources I've identified in my sample app:
&gt;&gt; person
&gt;&gt; location
&gt;&gt; 
&gt;&gt; A person has a location. How should I move an existing person to an existing location?
&gt;&gt; Originally I did a POST on location like so:
&gt;&gt; curl -d "bob" -H "Content-Type: text/plain" -X POST
&gt;&gt; http://localhost:8182/location/virginia
&gt;&gt; 
&gt;&gt; This says move person "bob" to location virginia.
&gt;&gt; 
&gt;&gt; Now I'm thinking it would be more "resource-ful" to PUT the person
&gt;&gt; with the updated location?

CB&gt; I think you're getting confused. First you say you have a person
CB&gt; resource, then you're POSTing to a location resource with a data
CB&gt; payload, "bob". The text "bob" is not a resource.

CB&gt; If you want to model relationships between resources then you need to
CB&gt; use an appropriate modelling metaphor such as RDF (perhaps in this
CB&gt; simple case you could use WebDAV bindings instead). Thus, you would have
CB&gt; resources:

[snip]

I was thinking the "bob" payload was my plain/text representation of a
person, not the resource. The server will use the representation to
find the correct resource. Is this not the RESTful way to think?

RDF feels like overkill for such a simple example.

-Chris
-- 
Chris Grindstaff | http://gstaff.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6837<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-11-10 16:37:19<br>
Subject:Re:  [rest-discuss] REST design question<br>
Message:<br><br>
<pre>&gt;
&gt;By that I mean, it's easy to code the server-side to change the
&gt;relationship between "place" and "person" on the first PUT which would
&gt;have the advantage of eliminating the subsequent GET/PUTs.
&gt;

Yes, those changes can be done entirely on the server without using GET/PUT.  
I get locked into my way of thinking, which is that such snippets are stored 
in an XML database, and accessed using GET/PUT.  Sorry, I start off trying to 
be concise...

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6838<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-11-10 16:33:25<br>
Subject:Re:  [rest-discuss] REST design question<br>
Message:<br><br>
<pre>&gt;
&gt;By that I mean, it's easy to code the server-side to change the
&gt;relationship between "place" and "person" on the first PUT which would
&gt;have the advantage of eliminating the subsequent GET/PUTs.
&gt;

Let's change the order a bit, and start here:

GET the representation /maryland
edit it to include &lt;person&gt;bob&lt;/person&gt;
PUT the representation back

Now your server logic can search for /people/bob, and edit &lt;place&gt; to 
reflect this change.  Since Bob can only be in one place under this scheme, 
the server logic can also search /places/* (except /maryland) and remove any 
&lt;person&gt;bob&lt;/person&gt; construct it finds.

You aren't eliminating the subsequent GETs and PUTs but they can be automated.

&gt;
&gt;But I'm guessing that's not RESTful since the state transition would
&gt;be implemented in the server component ?
&gt;

REST does not care about your server logic, i.e. it's only the state transfer 
which matters to REST, not the actual state transition within your app.

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6839<br>
Sender:Chris Burdess &lt;dog@...&gt;<br>
Post Date/Time:2006-11-10 18:21:33<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Dave Pawson wrote:
&gt; &gt; &gt; Aw. I so totally didn't follow that. Why do you need RDF.  Why can't he 
&gt; &gt; PUT
&gt; &gt; &gt; to  &lt;http://foo/person/bob&gt; http://foo/person/bob or
&gt; &gt; &gt; &lt;http://foo/location/virginia&gt; http://foo/location/virginia (whichever 
&gt; &gt; would
&gt; &gt; &gt; be more approriate?)
&gt; &gt;
&gt; &gt; Because if you PUT to http://foo/person/bob you are changing the nature
&gt; &gt; of bob, if you PUT to http://foo/location/virginia you are changing the
&gt; &gt; nature of virginia. You aren't changing the relationship between these
&gt; &gt; two resources.
&gt; 
&gt; So is it reasonable to have a resource mapping the relationship
&gt; between the two entities?
&gt; 
&gt; foo/whereis
&gt;    who = Bob
&gt;    where = Virginia
&gt; which provides the connection information?

Absolutely. And in the case where the relationship is composite and/or
unidirectional, the resource that manages the relationship could be the
subject of the relation, using resource metadata e.g. DAV collections
and DAV properties.
-- 
Chris Burdess

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6840<br>
Sender:Chris Burdess &lt;dog@...&gt;<br>
Post Date/Time:2006-11-10 18:38:52<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Chris Grindstaff wrote:
&gt; I was thinking the "bob" payload was my plain/text representation of a
&gt; person, not the resource. The server will use the representation to
&gt; find the correct resource. Is this not the RESTful way to think?

Generally I find it helpful to represent things with URIs. These URIs
can be in the payload, so you could e.g.

GET http://foo/location/virginia

&lt;people&gt;
	&lt;person ref='http://foo/people/sheila'/&gt;
	&lt;person ref='http://foo/people/wilbur'/&gt;
&lt;/people&gt;

PUT http://foo/location/virginia

&lt;people&gt;
	&lt;person ref='http://foo/people/sheila'/&gt;
	&lt;person ref='http://foo/people/wilbur'/&gt;
	&lt;person ref='http://foo/people/bob'/&gt;
&lt;/people&gt;

As I mentioned elsewhere in the thread, this may be appropriate for
composite relationships. But you have to define the semantics of people
and person and ref, whereas RDF does a lot of that for you.

At the back end there is nothing to stop you saying that as a result of
this PUT you now have

GET http://foo/people/bob

&lt;person&gt;
	&lt;name&gt;bob&lt;/name&gt;
	&lt;location&gt;virginia&lt;/location&gt;
&lt;/person&gt;

where prior to the PUT you had

GET http://foo/people/bob

&lt;person&gt;
	&lt;name&gt;bob&lt;/name&gt;
	&lt;location&gt;catalonia&lt;/location&gt;
&lt;/person&gt;

These are implementation details. Or you could manage all "where"
relationships with a "where" resource. But I would still recommend
identifying stuff with URIs instead of arbitrary text representations.
-- 
Chris Burdess

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6841<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2006-11-10 19:26:00<br>
Subject:Re: [rest-discuss] orchestration - choreography<br>
Message:<br><br>
<pre>This makes me wonder: whatever happened to Paul Prescod? Some of the  
best writing about REST seems to be by him, but it seems he's no  
longer active in any way (with regards to REST, that is).

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/



On Nov 9, 2006, at 5:12 PM, Jeffrey Winter wrote:

&gt;
&gt; I doesn't use them because nothing like them is necessary in
&gt; any way.
&gt;
&gt; I was going to forward this same link, but I see it
&gt; was already provided:
&gt;
&gt; http://people.csail.mit.edu/gregs/ll1-discuss-archive-html/ 
&gt; msg01848.html
&gt;
&gt; I found it to be the bste analysis of why choreography is
&gt; unnecessary. Read it thoroughly.
&gt;
&gt; The key line for me is:
&gt;
&gt; "You *cannot* execute those steps in the wrong order so there is no  
&gt; need
&gt; to define a choreography for this API."
&gt;
&gt; -----Original Message-----
&gt; From: rest-discuss@yahoogroups.com [mailto:rest- 
&gt; discuss@yahoogroups.com]
&gt; On Behalf Of Stelios Eliakis
&gt; Sent: Thursday, November 09, 2006 10:50 AM
&gt; To: rest-discuss@yahoogroups.com
&gt; Subject: Re: [rest-discuss] orchestration - choreography
&gt;
&gt; Thanks for your response and your resources.
&gt; I'll change my question ;)
&gt;
&gt; Soap web services use BPEL4WS or WS-CDL.(I'm not familiar with them)
&gt; Does Rest use any standard or something else?
&gt;
&gt; Orchestration can be achieved only with conditional statements?
&gt; For example
&gt; ****************************************
&gt; if( this resource has not change) do this
&gt; else wait
&gt; *****************************************
&gt;
&gt; I am confused and I really apologize for that ;)
&gt;
&gt; On 11/9/06, Alan Dean &lt;alan.dean@...  
&gt; &lt;mailto:alan.dean@...&gt;
&gt; &gt; wrote:
&gt;
&gt;
&gt; On 09/11/06, Stelios Eliakis &lt; eliakis@...
&gt; &lt;mailto:eliakis@...&gt; &gt; wrote:
&gt; &gt; Can you give me any resources or explain me the way that
&gt; someone could orchestrate his web services with REST?
&gt;
&gt;
&gt; Here are some links that you may find informative:
&gt;
&gt;
&gt;
&gt; http://people.csail.mit.edu/gregs/ll1-discuss-archive-html/ 
&gt; msg01848.html
&gt; &lt;http://people.csail.mit.edu/gregs/ll1-discuss-archive-html/ 
&gt; msg01848.htm
&gt; l&gt;
&gt; http://www.prescod.net/rest/state_transition.html
&gt; &lt;http://www.prescod.net/rest/state_transition.html&gt;
&gt; http://www.prescod.net/reliable_http.html
&gt; &lt;http://www.prescod.net/reliable_http.html&gt;
&gt;
&gt; Regards,
&gt; Alan Dean
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; -- 
&gt; Stelios Eliakis
&gt;
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6842<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-11-10 20:21:52<br>
Subject:Re: [rest-discuss] automated translation to REST style?<br>
Message:<br><br>
<pre>On Nov 9, 2006, at 8:48 PM, Mark Baker wrote:
&gt; I don't believe it's practical. Taking an arbitrary RPC system and
&gt; putting it on the Web is a very difficult task. But more than
&gt; "difficult", it's *design*, and machines aren't very good at design.
&gt; For example, the URIs the tool would generate (e.g. if it found a
&gt; getFoo() method) would suck, because there's typically no way (and
&gt; definitely no general way) to identify resources and their naming
&gt; structure via RPC interfaces (you're actually better off going
&gt; straight to the data). As another example, the granularity of data
&gt; access normally needs to be designed, IME; getFoo() and getBar() on
&gt; the same object might be better off as two URIs, or as a single URI
&gt; which returns both kinds of data (ala
&gt; &lt;root&gt;&lt;Foo&gt;foo&lt;/Foo&gt;&lt;Bar&gt;bar&lt;/Bar&gt;&lt;/root&gt;). There's many many other
&gt; considerations.

Right, it is often harmful to REST design to start with an RPC-style
interface and work backwards from functionality.  If a group already
has an RPC implementation, then presumably there is something wrong
with the architecture if they want to change it to the REST style.
Architectural change isn't like changing door knobs or painting
the garage a different color -- it is fundamental.  That is, unless
the RPC is already architected as a data-oriented interface, in which
case the translation is easy to automate (though extremely rare in
practice).

An interesting idea would be to look at the back-end of a working
system and try to anticipate a REST architecture on the basis of
the observed data flow.  And yet, that too is filled with risk,
since the existing RPC may be causing the data-flow to be unnatural,
which in turn is why the system needs to be redesigned.  JCR,
for example, forces the front-end to be data-oriented and then
allows the back-end to be adjusted for storage-efficiency.

I have yet to see an acceptable building that was designed by a
computer, even with extensive rule-based systems.  I see no reason
to believe a network-based application would be any different.
Sounds like a good research area, though.

Maybe I am showing my age, but there used to be a great deal of
debate about the proper way to analyze customer requirements and
design accordingly.  Much of that was suppressed by the rise of
OOD consulting.  It would be interesting to see what would happen
if someone were to dredge up Jackson System Design (JSD) methodology
and customize it specifically for REST-like architectures.

....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6843<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-10 20:51:21<br>
Subject:a webapp with ACLs: HTTP 403<br>
Message:<br><br>
<pre>I'm implementing a website and it will have ACLs in it.

An ACL (access control list) is a user configurable security
constraint. The controller of resource can say:

  nicferrier can READ this resource

  jonnydepp can READ and WRITE this resource 

  keiraknightley can READ, WRITE and FLOUNCE with this resource

This obviously requires authentication.

But there's also the possibility that you could say:

  EVERYONE can READ this resource


Because this is more complex than normal authentication I'm
considering using 403 (Forbidden) instead of 401 to signal resource
access failure.

What are people's reactions to that?

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6844<br>
Sender:waldenm@...<br>
Post Date/Time:2006-11-10 21:24:01<br>
Subject:Re: [rest-discuss] automated translation to REST style?<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6845<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-11-10 21:50:40<br>
Subject:Re: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>On Nov 10, 2006, at 12:25 AM, Mike Schinkel wrote:
&gt; Looking from "the outside", respectfully speaking I think that is  
&gt; one of the
&gt; problems with that which is called "REST." If you can't really  
&gt; describe it
&gt; in anything other than abstract terms, and you can't really  
&gt; implement it
&gt; without making it not REST, than does it really exist other than to  
&gt; stir up
&gt; endless debate? Sorry if I'm being pedantic, but jeesh.

No, that isn't being pedantic -- it is being superficial.

What do you think abstractions are for?  When your parents told
you that the leaves of a given tree are "green", did you have a
hissy fit over colors?  Did you grab a leaf and demand that everyone
consider it to be the one true "green"?  Did you declare it heresy
when the grass was also called green?  Did you complain when the
crayon package came with various shades of "green"?  Were you the
kid who stuck all the green crayons in his pocket, so that only
he could be the one true creator of the green fuzz-balls that made
brown rectangles look like trees?  No?

Then why is it so hard to accept that an ARCHITECTURAL STYLE
cannot itself be implemented, just as there is no implementation
of green (only examples)?  And that not being implementable in its
style form does not mean that an architecture cannot be constructed
in such a way as to fit our agreed style?  And that being abstract
doesn't mean it is worthless to be able to talk about the style,
examine its characteristics, debate which ones are "best" for a
given application, and generally enjoy learning something that you
might not have known last week?

We can talk about green, various shades of green, and all the
other colors that, when combined, do not come out green.  Children
have no problem understanding such things, though they might not
yet understand the properties of light and vision that make it all
work.  Software architectural styles are much more complex, which
means you need to spend a lot more time thinking about the subject
(and drawing experiments) before it finally becomes clear.  And
at that point you won't be complaining about abstractions: you'll
start looking for other colors.

....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6846<br>
Sender:waldenm@...<br>
Post Date/Time:2006-11-10 21:56:28<br>
Subject:Re: [rest-discuss] a webapp with ACLs: HTTP 403<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6847<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-11-10 23:07:23<br>
Subject:Re: [rest-discuss] a webapp with ACLs: HTTP 403<br>
Message:<br><br>
<pre>On 11/10/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:
&gt;   jonnydepp can READ and WRITE this resource

Where "READ" and "WRITE" are aliases for GET and PUT?

&gt; What are people's reactions to that?

If the answer to the question above is in the affirmative, then
firewalls and other filtering proxies have been doing that for ages,
so you're in good company.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6848<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-11-10 23:26:57<br>
Subject:Re: [rest-discuss] automated translation to REST style?<br>
Message:<br><br>
<pre>On Nov 10, 2006, at 1:24 PM, waldenm@... wrote:
&gt; Otherwise, entities that remember things as the result of having  
&gt; events fired
&gt; at them...sounds a lot like object design.

Yes, JSD is mostly a precursor of OOD with various other flavors
thrown in that are symptomatic of the times in which it was taught.
I meant more of a dredging up the past and creating a design
methodology that would lead to REST-based architectures, not
necessarily JSD itself.

&gt; I'm not sure where you got your data on the suppression of deep  
&gt; analysis in correlation with the rise of OOD.  That's a bit of a  
&gt; slap, which might warrant a reference or two.

Eh?  I didn't say it was suppressed, nor did I say that deep analysis
isn't present in OOD.  I meant that debates about which methodology
to use for a given system have essentially disappeared, replaced
with so-called "uniform" methodologies that assume OOD.  The reason
for that is not technical at all -- the software industry changed,
and analysts went with the money.  This is a very old topic in
software engineering.

   &lt;http://www.google.com/search?q=software+engineering+fad&gt;

and I am sure that some people will list REST among them too,
eventually.  Hopefully, some people will look beyond the fad aspect
and start asking the right questions.

   &lt;http://www-03.ibm.com/developerworks/blogs/page/gradybooch? 
entry=snake_oil_oriented_architecture&gt;

....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6849<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-11 09:51:47<br>
Subject:Re: [rest-discuss] a webapp with ACLs: HTTP 403<br>
Message:<br><br>
<pre>"Mark Baker" &lt;distobj@...&gt; writes:

&gt; On 11/10/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:
&gt;&gt;   jonnydepp can READ and WRITE this resource
&gt;
&gt; Where "READ" and "WRITE" are aliases for GET and PUT?

More or less.


&gt;&gt; What are people's reactions to that?
&gt;
&gt; If the answer to the question above is in the affirmative, then
&gt; firewalls and other filtering proxies have been doing that for ages,
&gt; so you're in good company.

/8-&gt;


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6850<br>
Sender:Chris Burdess &lt;dog@...&gt;<br>
Post Date/Time:2006-11-11 09:53:12<br>
Subject:Re: [rest-discuss] a webapp with ACLs: HTTP 403<br>
Message:<br><br>
<pre>Nic James Ferrier wrote:
&gt; I'm implementing a website and it will have ACLs in it.
&gt; 
&gt; An ACL (access control list) is a user configurable security
&gt; constraint. The controller of resource can say:
&gt; 
&gt;   nicferrier can READ this resource
&gt; 
&gt;   jonnydepp can READ and WRITE this resource 
&gt; 
&gt;   keiraknightley can READ, WRITE and FLOUNCE with this resource
&gt; 
&gt; This obviously requires authentication.
&gt; 
&gt; But there's also the possibility that you could say:
&gt; 
&gt;   EVERYONE can READ this resource
&gt; 
&gt; 
&gt; Because this is more complex than normal authentication I'm
&gt; considering using 403 (Forbidden) instead of 401 to signal resource
&gt; access failure.
&gt; 
&gt; What are people's reactions to that?

401 allows the client to recover by specifying new credentials that do
have the required access; 403 doesn't.

Note that ACLs describe authorisation, not authentication...
-- 
Chris Burdess

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6851<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-11 10:47:50<br>
Subject:Re: [rest-discuss] a webapp with ACLs: HTTP 403<br>
Message:<br><br>
<pre>Chris Burdess &lt;dog@...&gt; writes:

&gt; 401 allows the client to recover by specifying new credentials that do
&gt; have the required access; 403 doesn't.

True.

And if I sent 401 it would give the client an opportunity to
authenticate as someone else in order to establish whether they are
authorized...

But in my system there is one user per person.

I will be able to write an authentication system that allows people to
"login" if they haven't already based on the 403.

The thing that concerns me is the RESTfull WS aspect.


And 401 is _unauthorized_ not unauthenticated. So I'm in two minds.


&gt; Note that ACLs describe authorisation, not authentication...

But you have to be authenticated before you can be authorized.

Oh. It's tricky.


I just hate the 401 behaviour of the automatic login box. Which
suggests that's why I'm doing it. Which suggests that I shouldn't do
it.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6852<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-11 14:04:23<br>
Subject:RE: (UCE) RE: (UCE) [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>Walden:

&gt;&gt; Try to answer your own questions by implementing *what you need to* and
draw your own conclusions from that.
&gt;&gt; Then, if you're stuck, consult the group.

I have been implementing what I need to do and got stuck, and that is why I
was asking. 
Further, what I'm trying to implement is not something I can change later if
I get it wrong.

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6853<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-11 14:17:01<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Chris Burdess wrote:
&gt;&gt; Because if you PUT to http://foo/person/bob you are changing the nature
of bob, 
&gt;&gt; if you PUT to http://foo/location/virginia you are changing the nature of
virginia. 
&gt;&gt; You aren't changing the relationship between these two resources. 

So from that is seems that you can never PUT any information to a resource?
Bob has a "location", but you can't PUT "Virginia" there.  Similarly,
Virgina has "population" but you can't PUT to it but instead have to create
a relationship between http://foo/location/virginia and http://foo/people?  

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6854<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-11 19:54:58<br>
Subject:AGH! I hate what browsers do with 401!!!<br>
Message:<br><br>
<pre>Why can't we have an authentication scheme that doesn't cause cruddy
user interface?

Are there any people from browser development teams here?

If so can you explain why you can't support a non-UI authentication
scheme?

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6855<br>
Sender:"Robert Sayre" &lt;sayrer@...&gt;<br>
Post Date/Time:2006-11-11 21:09:59<br>
Subject:Re: [rest-discuss] AGH! I hate what browsers do with 401!!!<br>
Message:<br><br>
<pre>On 11/11/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:
&gt;
&gt; Why can't we have an authentication scheme that doesn't cause cruddy
&gt;  user interface?

Because we don't want you to have nice things. ;)

&gt;
&gt;  Are there any people from browser development teams here?

Yes. But Mozilla and WebKit are open source. So, why aren't more
people on this list part of the teams? :)

Mozilla's authentication facilities are pluggable. It's easy to add
your own schemes as extensions.

&gt;
&gt;  If so can you explain why you can't support a non-UI authentication
&gt;  scheme?
&gt;

No real reason. It's a chicken/egg situation. FWIW, I'm working on
several HTTP authentication issues right now. I hope some of that work
will make into Firefox 3. There's also a W3C group working on UI
issues, and it seems like they have a clue. That will probably miss
Fx3, unless they happen to finish quickly AND produce something
useful... but it is a standards body, so that is a tall order.

-- 

Robert Sayre

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6856<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-11 21:38:39<br>
Subject:Re: [rest-discuss] AGH! I hate what browsers do with 401!!!<br>
Message:<br><br>
<pre>"Robert Sayre" &lt;sayrer@...&gt; writes:

&gt; On 11/11/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:
&gt;&gt;
&gt;&gt; Why can't we have an authentication scheme that doesn't cause cruddy
&gt;&gt;  user interface?
&gt;
&gt; Because we don't want you to have nice things. ;)

/8-&gt;

Apologies. I'm just frustrated at having to choose between my own UI
and playing RESTfully.



&gt;&gt;  Are there any people from browser development teams here?
&gt;
&gt; Yes. But Mozilla and WebKit are open source. So, why aren't more
&gt; people on this list part of the teams? :)

Because we're too busy building apps?


&gt; Mozilla's authentication facilities are pluggable. It's easy to add
&gt; your own schemes as extensions.

Could it be done through extensions?


&gt; No real reason. It's a chicken/egg situation. FWIW, I'm working on
&gt; several HTTP authentication issues right now. I hope some of that work
&gt; will make into Firefox 3. There's also a W3C group working on UI
&gt; issues, and it seems like they have a clue. That will probably miss
&gt; Fx3, unless they happen to finish quickly AND produce something
&gt; useful... but it is a standards body, so that is a tall order.

I just want the existing authentication system but without the UI.


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6857<br>
Sender:"Robert Sayre" &lt;sayrer@...&gt;<br>
Post Date/Time:2006-11-11 22:20:13<br>
Subject:Re: [rest-discuss] AGH! I hate what browsers do with 401!!!<br>
Message:<br><br>
<pre>On 11/11/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:
&gt;
&gt; &gt; Mozilla's authentication facilities are pluggable. It's easy to add
&gt; &gt; your own schemes as extensions.
&gt;
&gt; Could it be done through extensions?
&gt;

Yes, probably. I don't think there are any huge obstacles.

&gt;
&gt; I just want the existing authentication system but without the UI.
&gt;

The way Mozilla's system works is by routing based on scheme name. So
"Basic" is always routed to the icky dialog implementation. You would
probably want to make up a scheme name, like "BasicNoDialog", that is
otherwise identical.

Of course, the existing schemes are not worth using, so you might as
well improve security and scalability and internationalization while
you're at it. (just my opinion)

-- 

Robert Sayre

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6858<br>
Sender:"Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-11-12 00:51:54<br>
Subject:Re: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>&gt; What I do think is within REST, is separating out the person names from the
&gt; place names by using hierarchical URIs.  In other words, I don't think it's
&gt; correct to use:
&gt;
&gt; [1] http://example.org/bob
&gt; [2] http://example.org/virginia
&gt;
&gt; If /bob and /virginia are not equivalent resources, i.e. aren't the same
&gt; type, or as I prefer to say, not in the same set.  But the subdirectories,
&gt; as far as I'm concerned that REST is concerned, could be named /xyzzy/ and
&gt; /yxzzx/.
&gt;
How about rather than assessing an approach being a boolean REST or
not-REST, we just assign points based on how many aspects of an
approach are commonly seen as being useful around the Web?
So in your example, using identifiers for resources gets you one
point, and if you add a document pointing to each resource with
metadata on those pointers that hint at the 'type' of resource you
would have gotten another point. In this case, some XML (or other
format) like the following would help indicate how to interact with
that resource.
 &lt;stuff&gt;
  &lt;person href="/bob" /&gt;
  &lt;location href="/virginia" /&gt;
&lt;/stuff&gt;

Which means that we should not be so worried about "being REST" as we
should about solving the actual problems with reasonably well
demonstrated approaches.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6859<br>
Sender:"Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-11-12 01:07:44<br>
Subject:Fwd: [rest-discuss] AGH! I hate what browsers do with 401!!!<br>
Message:<br><br>
<pre>&gt;
&gt; The way Mozilla's system works is by routing based on scheme name. So
&gt; "Basic" is always routed to the icky dialog implementation. You would
&gt; probably want to make up a scheme name, like "BasicNoDialog", that is
Making up new names within a network protocol to work around
yesterday's implementation of one applications UI is double plus
ungood.
Change "is always" to "was previously" and you've got a better approach.

I'm all for going into Mozilla source and making changes - I had tried
to do that a while ago. I became concerned when I saw the WHAT-WG
approach for 'event sources' and went into sketching out a different
approach and got the source code, but got stuck in trying to make it
compile and run. Then got distracted. The WHAT-WG (well, the only
vocal person involved) didn't really respond to this and spun out
somewhere else for a while so I dropped it.

See http://www.dierken.com/xmlrouter/events/
and
http://www.dierken.com/xmlrouter/events/chat.html?topic=rest-discuss

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6860<br>
Sender:"Robert Sayre" &lt;sayrer@...&gt;<br>
Post Date/Time:2006-11-12 01:23:30<br>
Subject:Re: [rest-discuss] AGH! I hate what browsers do with 401!!!<br>
Message:<br><br>
<pre>On 11/11/06, Mike Dierken &lt;dierken@...&gt; wrote:
&gt;
&gt;  Making up new names within a network protocol to work around
&gt;  yesterday's implementation of one applications UI is double plus
&gt;  ungood.

All browsers have the same UI. Besides, we'll never run out of scheme
names, so I don't see what the benefit of sticking with one scheme
name would be.

&gt;
&gt;  Change "is always" to "was previously" and you've got a better approach.

Nope. Breaks backwards compatibility. People don't like that, even
when the old behavior sucks, so it should only be done where
absolutely necessary. So, if IE and Safari and Opera all agreed to
change, you'd have a better approach.

-- 

Robert Sayre

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6861<br>
Sender:"Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-11-12 01:33:45<br>
Subject:Re: [rest-discuss] AGH! I hate what browsers do with 401!!!<br>
Message:<br><br>
<pre>&gt; &gt;  Making up new names within a network protocol to work around
&gt; &gt;  yesterday's implementation of one applications UI is double plus
&gt; &gt;  ungood.
&gt;
&gt; All browsers have the same UI. Besides, we'll never run out of scheme
&gt; names, so I don't see what the benefit of sticking with one scheme
&gt; name would be.
I was thinking outside of just browsers but it's not that important.
I suppose auth scheme names are not as consistely used as something
like method names so having a larger than necessary set isn't a total
catastrophe.

&gt;
&gt; &gt;
&gt; &gt;  Change "is always" to "was previously" and you've got a better approach.
&gt;
&gt; Nope. Breaks backwards compatibility. People don't like that, even
&gt; when the old behavior sucks, so it should only be done where
&gt; absolutely necessary. So, if IE and Safari and Opera all agreed to
&gt; change, you'd have a better approach.
&gt;
How so? Is it the case that sometimes a 401 has a response body but it
isn't desired to show it since it probably doesn't have an HTML form
or something?
Maybe since you are adding some user interface, the scheme name could
change from "Basic" to "VisualBasic" ? ;)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6862<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-11-12 02:19:43<br>
Subject:Re: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>On 12/11/06, Mike Dierken &lt;dierken@...&gt; wrote:
&gt; How about rather than assessing an approach being a boolean REST or
&gt; not-REST, we just assign points based on how many aspects of an
&gt; approach are commonly seen as being useful around the Web?

This is approximately the stance taken by Don Box on the issue, where
he differentiates between "Hi-REST" and "Lo-REST":
http://pluralsight.com/blogs/dbox/archive/2006/03/18/20235.aspx

Alan Dean

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6863<br>
Sender:Chris Burdess &lt;dog@...&gt;<br>
Post Date/Time:2006-11-12 09:35:24<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Mike Schinkel wrote:
&gt; &gt;&gt; Because if you PUT to http://foo/person/bob you are changing the nature
&gt; of bob, 
&gt; &gt;&gt; if you PUT to http://foo/location/virginia you are changing the nature of
&gt; virginia. 
&gt; &gt;&gt; You aren't changing the relationship between these two resources. 
&gt; 
&gt; So from that is seems that you can never PUT any information to a resource?
&gt; Bob has a "location", but you can't PUT "Virginia" there.  Similarly,
&gt; Virgina has "population" but you can't PUT to it but instead have to create
&gt; a relationship between http://foo/location/virginia and http://foo/people?  

Not at all. You can do anything you like. But recall that PUT defines
the entire state of the resource.
-- 
Chris Burdess

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6864<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-11-12 11:13:31<br>
Subject:Re: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>Alan Dean wrote:

&gt; This is approximately the stance taken by Don Box on the issue, where
&gt; he differentiates between "Hi-REST" and "Lo-REST":
&gt; http://pluralsight.com/blogs/dbox/archive/2006/03/18/20235.aspx

Bleah. Box's definition of "Hi-REST" is essentially WebDAV, which says
to me he really doesn't get it (or at least didn't six months ago. Maybe
since then he's seen the light.)

-- 
﻿Elliotte Rusty Harold  elharo@...
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6865<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-11-12 11:20:40<br>
Subject:Re: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>On 12/11/06, Elliotte Harold &lt;elharo@...&gt; wrote:
&gt; Alan Dean wrote:
&gt;
&gt; &gt; This is approximately the stance taken by Don Box on the issue, where
&gt; &gt; he differentiates between "Hi-REST" and "Lo-REST":
&gt; &gt; http://pluralsight.com/blogs/dbox/archive/2006/03/18/20235.aspx
&gt;
&gt; Bleah. Box's definition of "Hi-REST" is essentially WebDAV, which says
&gt; to me he really doesn't get it (or at least didn't six months ago. Maybe
&gt; since then he's seen the light.)
&gt;

I agree that he doesn't get what REST really is - I simply quoted the
reference on the basis that there is a real division between hi- and
lo- REST(-like) implementations. I am in the process of writing a
fully compliant REST-engine (hence my occasional questions to the
group about certain protocol specifics) but being hi-REST is
non-trivial (at least it is when developing in .NET - I can't speak of
other environments).

Alan Dean

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6866<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-12 11:47:22<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Eric Bowman: 
&gt;&gt; REST does not care about your server logic, i.e. it's only the state
transfer which matters to REST, not the actual state transition within your
app.

Are you saying that if there is server logic, it is not RESTful?

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6867<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-12 11:53:00<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Chris Burdess:
&gt;&gt; Not at all. You can do anything you like. But recall that PUT defines the
entire state of the resource.

So are you saying that I can't update only one field in a resource using PUT
but I have to have the "entire" resource passed back on forth?  

If so, how then does one define the "entire" resource?  In some enterprise
systems, I can envision an entire resource being HUGE and often not easily
definable because of all the interrelationships it has.

I guess I'm still very unclear.

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6868<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-12 11:54:00<br>
Subject:RE: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>&gt;&gt; I agree that he doesn't get what REST really is
 
What about REST does he get "wrong", specifically?
-Mike Schinkel 
http://www.mikeschinkel.com/blogs/ 
http://www.welldesignedurls.org/ 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6869<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-12 11:58:18<br>
Subject:RE: [rest-discuss] a webapp with ACLs: HTTP 403<br>
Message:<br><br>
<pre>&gt;&gt; What are people's reactions to that?

I like the bit about "keiraknightley" and "FLOUNCEing."  ;-)

-Mike Schinkel 
http://www.mikeschinkel.com/blogs/ 
http://www.welldesignedurls.org/ 

 
&lt;http://geo.yahoo.com/serv?s=97359714/grpId=4319255/grpspId=1705701014/msgId
=6843/stime=1163193254/nc1=3848643/nc2=2/nc3=3&gt; 
 
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6870<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-12 11:53:00<br>
Subject:RE: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>Roy T. Fielding said 
RTF&gt;&gt; No, that isn't being pedantic -- it is being superficial.

To-may-to, To-mah-to.

RTF&gt;&gt; Then why is it so hard to accept that an ARCHITECTURAL STYLE cannot
itself be implemented, just as there is no implementation of green (only
examples)?  And that not being implementable in its style form does not mean
that an architecture cannot be constructed in such a way as to fit our
agreed style?  

It's not hard to accept, until when asking for guidance there is torrent of
condescension about "people who don't get it" and how it is not possible to
do this and how it is not implementable to do that, and little if any
guidance or open-mindedness about how to use it in a practical manner.  Joe
Gregorio's articles on XML.com are still the *only* thing to date I've seen
that approaches practicality, and believe me I've searched for practical
examples. But maybe you'll say practicality isn't goal, but then what good
is something that has no practical use (without getting philisophical, of
course?)

Your analogy for "green" leaves is not applicable because I wasn't asking
for the "one true REST," I was asking for an *implementable* REST; one that
could gain wide usage so as to see tools developed for it and a body of
practical knowledge around its use.  In the case of leaves, there are
billions of "implementations" and also no need to get trees to "adopt"
producing them. 

It's as if TBL had sat around and talked about URIs, HTML, and HTTP but
whenever anyone asked him how to implement it he did his best to make them
feel as if they were beneath him for asking. Instead TBL helped them
implement in a standard way so that it would be as universally compatible as
possible.  Clearly many people before and since have used condescension to
discuss their ideas but I dare say nobody else in history has seen the level
of success TLB saw based on their ideas, at least not as rapidly. I see
people on this list lament how the industry has taken to SOAP and not REST
and the backhanded jabs at those who use SOAP, but it's becoming pretty
clear to me at least one good reason why REST has remained still-borne and
SOAP has reined supreme.

Tell you what; my venting isn't going to change your or anyone else's
approach on this list. I'll still participate to try and learn more, but I
give up on trying to inject any practicality into the discussions.

Respectfully,

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6871<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-12 13:07:19<br>
Subject:Is del.icio.us' API REST?<br>
Message:<br><br>
<pre>To all:

Reading Joe Gregorio 's article[1] "Constructing or Traversing URIs?" I find
him referring to del.icio.us' API[2]. My question is, outside the scope of
Joe's article, is del.icio.us' API RESTful?  If not, can I ask for an
explanation of each of the reasons why it is not? This will help me in the
article I am writing. 

Thanks in advance.

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/
P.S. Note that Programmable Web denotes del.icio.us' API as using the "REST
Protocol."

[1] http://www.xml.com/pub/a/2005/04/06/restful.html
[2] http://del.icio.us/help/api/
[3] http://www.programmableweb.com/api/del.icio.us


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6872<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-11-12 13:13:57<br>
Subject:Re: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>On 12/11/06, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt; What about REST does he get "wrong", specifically?

Here is a quote of Roy's analysis of why WebDAV conflicts with REST:

http://www.mail-archive.com/microformats-rest@.../msg00189.html

I rest my statement that Don doesn't 'get' REST on the basis that
WebDAV != REST when he correlates support for WebDAV in IIS with
hi-REST.

Alan Dean

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6873<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-12 13:06:44<br>
Subject:Re: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>"Mike Schinkel" &lt;mikeschinkel@...&gt; writes:

&gt; It's not hard to accept, until when asking for guidance there is torrent of
&gt; condescension about "people who don't get it" and how it is not possible to
&gt; do this and how it is not implementable to do that, and little if any
&gt; guidance or open-mindedness about how to use it in a practical manner.  Joe
&gt; Gregorio's articles on XML.com are still the *only* thing to date I've seen
&gt; that approaches practicality, and believe me I've searched for practical
&gt; examples. But maybe you'll say practicality isn't goal, but then what good
&gt; is something that has no practical use (without getting philisophical, of
&gt; course?)

This is just not so. I wrote an article for onlamp about REST and
AJAX.

I *know* that other people have written similarly good
articles (Prescod's stuff is good, as previously stated). You're not
looking hard enough.

You're point about implementation details is a good one - we need more
and more articles explaining how to do something (say content
negotiation) and why we do it RESTfully and why that's better than any
other way.


But we're not going to get those articles by arguing about singular vs
plural here.

You should pick singular or plural and then let somebody change your
mind later if they feel strongly about it.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6874<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-12 13:21:13<br>
Subject:Definition of "Architectural Style?"<br>
Message:<br><br>
<pre>Does anyone know where I can get a definitive definition of "architectural
style"  as in "REST is an architectural style?"

Wikipedia's entry is not relevent:
http://en.wikipedia.org/wiki/Architectural_style

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6875<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-11-12 13:28:37<br>
Subject:Re: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>On 12/11/06, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt; Roy T. Fielding said
&gt; RTF&gt;&gt; No, that isn't being pedantic -- it is being superficial.
&gt;
&gt; To-may-to, To-mah-to.
&gt;
&gt; RTF&gt;&gt; Then why is it so hard to accept that an ARCHITECTURAL STYLE cannot
&gt; itself be implemented, just as there is no implementation of green (only
&gt; examples)? And that not being implementable in its style form does not mean
&gt; that an architecture cannot be constructed in such a way as to fit our
&gt; agreed style?

[snip]

&gt; Tell you what; my venting isn't going to change your or anyone else's
&gt; approach on this list. I'll still participate to try and learn more, but I
&gt; give up on trying to inject any practicality into the discussions.

Ordinarily, I don't participate so much in the list discussions - and
I think it is worth my discussing why, in light of your statement
above.

I am a full-time professional developer, but in my private time I am
writing a REST engine / framework in .NET and I can appreciate why
someone seeking illumination of REST may feel a certain level of
frustration in the list discussions. I think that the list has a
natural tendency to carry out discussions at a higher level of
abstraction than an implementer needs.

Why is this so? Well, for a start, the putative implementer is dealing
with the REST concepts at a coding level and there are many possible
languages from which to choose to implement. Any language-specific
discussion is liable to leave a greater or lesser part of the list
behind (we don't all know all languages). Secondly, by definition, the
implementer is dealing with the internal implementation of an endpoint
- whereas REST isn't about endpoint internals, it's about HTTP
messaging.

Thus the discussions often end up revolving around conceptual HTTP
message sets and, as I say, this can prove very frustrating when you
are wanting to 'get to the meat'.

For my part, I am not too far away from getting my REST engine running
on thoughtpad.net (don't all rush off there - there's nothing to see
yet). When I do, I shall ask the list for feedback on the HTTP
messages supported for 'compliance' with REST. Following that, I shall
be documenting the site and probably writing articles too.

But until I get to that point, I personally find it hard to be
'practical' (as you observe) as I do not have something functional to
which to refer.

Hope that this illuminates :-)

Alan Dean

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6876<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-12 13:03:25<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>"Mike Schinkel" &lt;mikeschinkel@...&gt; writes:

&gt; Chris Burdess:
&gt;&gt;&gt; Not at all. You can do anything you like. But recall that PUT defines the
&gt; entire state of the resource.
&gt;
&gt; So are you saying that I can't update only one field in a resource using PUT
&gt; but I have to have the "entire" resource passed back on forth?  
&gt;
&gt; If so, how then does one define the "entire" resource?  In some enterprise
&gt; systems, I can envision an entire resource being HUGE and often not easily
&gt; definable because of all the interrelationships it has.

You can partition data however you want across a URI space.

Remember the film example?

If you wanted to add a bit; say where Keira Knightley drinks too much
rum and... (well, let's not get carried away) then you could POST to:

   /piratesofthevcarribean/chapter17

Or you could change the whole film, recode it and PUT to:

  /piratesofthecarribean

It also depends on what you want to do.


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6877<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-11-12 14:34:57<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>&gt;&gt;
&gt;&gt; REST does not care about your server logic, i.e. it's only the state 
&gt;&gt; transfer which matters to REST, not the actual state transition within
&gt;&gt; your app.
&gt;&gt;
&gt;
&gt; Are you saying that if there is server logic, it is not RESTful?
&gt;

Not at all.  I'm saying that application logic is beyond the scope of REST, 
which is concerned with pretty much everything else _but_ when it comes to 
distributed application design.

&gt;
&gt; Does anyone know where I can get a definitive definition of "architectural 
&gt; style" as in "REST is an architectural style?"
&gt;

Books have been written about architectural styles, Roy's thesis is actually 
a nice concise rundown of the relevant styles which make up REST, like client-
server, code-on-demand and layered systems.  Client-server architecture is 
(mostly) WAN related, layered systems are (mostly) LAN related while code-on-
demand is definitely application related.

But there's a very clear line drawn by REST in that it does not consider the 
application logic at all.  For example, 32-bit vs. 64-bit, threaded vs. not 
threaded, procedural vs. object-oriented are all beyond the scope of the REST 
architectural style.  Which, I think, is why there is no "implementation" of 
REST possible.  As soon as you start talking about the nuts and bolts of any 
implementation your examples go beyond the scope of the architectural style.

REST is specifically concerned with constraining the interactions between 
components in a system, exhibit A being the limited number of verbs.  REST is 
also specifically concerned with the payload of those interactions.  Does the 
payload describe a resource, or does the payload contain server instructions?

[1] http://technorati.com/developers/ping/

What is the payload of the POST operation described?  A representation of a 
resource, or a stored procedure?  If it's a procedure, then the payload of 
the transfer is not a representation of application state, but instead 
represents the state transition itself.

It doesn't matter if the application logic is based on the server or the 
client.  What does matter is that state transition remain within the 
application logic without being transferred between components.  In REST, 
only a representation may be transferred.  If &lt;person&gt;bob&lt;/person&gt; is removed 
from /maryland, the server logic is based on a DIFF between the old and new 
version when the PUT occurs.

The server can take any number of actions based on the fact that there's a 
"missing person" in maryland, so long as those actions are inherent in the 
application logic and not encapsulated within the message payload like in 
XML-RPC.

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6878<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-11-12 14:44:18<br>
Subject:Re: [rest-discuss] Definition of "Architectural Style?"<br>
Message:<br><br>
<pre>It's in the oft-overlooked section of Roy's dissertation;

http://www.ics.uci.edu/~fielding/pubs/dissertation/software_arch.htm#sec_1_5

Mark.

On 11/12/06, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt; Does anyone know where I can get a definitive definition of "architectural
&gt; style"  as in "REST is an architectural style?"
&gt;
&gt; Wikipedia's entry is not relevent:
&gt; http://en.wikipedia.org/wiki/Architectural_style
&gt;
&gt; -Mike Schinkel
&gt; http://www.mikeschinkel.com/blogs/
&gt; http://www.welldesignedurls.org/
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6879<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-11-12 14:49:05<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>&gt;
&gt; If so, how then does one define the "entire" resource? In some enterprise
&gt; systems, I can envision an entire resource being HUGE and often not easily
&gt; definable because of all the interrelationships it has.
&gt;

Let's say I have a resource /bighugefile.xml but only one line gets updated 
regularly, and for some reason I can't break the resource down into smaller 
segments (or get drunk with Keira Knightley).  I can program the server to 
expose that line of text using XPATH at the URL /bighugefile.xml/root/chapter/
verse/h1/text() when I GET, and alter bighugefile.xml accordingly when I 
PUT to /bighugefile.xml/root/chapter/verse/h1/text().

The representation of state that gets transferred is just a line of text.

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6880<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-11-12 15:13:16<br>
Subject:Status Code Priority<br>
Message:<br><br>
<pre>Is there an accepted standard to resolve the order of status codes?

A request may qualify for multiple status codes. For example:

--&gt;
PUT /foo.rdf
Content-Language: en
Content-Type: application/rdf+xml
&lt;rdf:RDF/&gt;

&lt;--
201 Created

--&gt;
GET /foo.rdf
Accept: text/xml
Accept-Language: fr
If-Match: "xyzzy"

the GET might qualify for the following status codes:

404 Not Found
406 Not Acceptable
412 Precondition Failed

so, which to choose?

Regards, Alan Dean



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6881<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-11-12 15:52:36<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Mike Schinkel wrote:

&gt; Are you saying that if there is server logic, it is not RESTful?
&gt; 

No. Just that any server logic that may exist is external to REST 
concerns. I think of REST as the Copenhagen model of the Web. We don't 
try to imagine what's going on inside the server/atom; only measure the 
results of experiments.

-- 
﻿Elliotte Rusty Harold  elharo@...
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6882<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-12 17:48:59<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Paul James &lt;paul@...&gt; writes:

&gt; Why would I POST it to /piratesofthecarribean/chapter17? Surely that is 
&gt; a resource of it's own, one that represents chapter 17, so if I wanted 
&gt; to update chapter 17 I should PUT my new representation of it.
&gt;
&gt; Similarly, if I wanted to dub the film into Spanish, I could GET 
&gt; /piratesofthecarribean/dialogue, get my voice actors to record a new 
&gt; version in Spanish, and then PUT it back to 
&gt; /piratesofthecarribean/dialogue. The fact that it is a part of a larger 
&gt; whole is irrelevant from an API standpoint. Correct?

Correct.

My point was about the management of large resources.

If you are concerned about the efficiencies of passing large
representations around when you edit them you can simply construct
another set of resources over the existing resource that allows finer
grained editing.


Splitting a film into chapters (like a DVD) is one way of doing
it. But of course there are millions of others, one of them being the
way you suggest.


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6883<br>
Sender:Chris Burdess &lt;dog@...&gt;<br>
Post Date/Time:2006-11-12 18:33:07<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Mike Schinkel wrote:
&gt; &gt;&gt; Not at all. You can do anything you like. But recall that PUT defines the
&gt; entire state of the resource.
&gt; 
&gt; So are you saying that I can't update only one field in a resource using PUT
&gt; but I have to have the "entire" resource passed back on forth?  

Correct

&gt; If so, how then does one define the "entire" resource?  In some enterprise
&gt; systems, I can envision an entire resource being HUGE and often not easily
&gt; definable because of all the interrelationships it has.

Indeed. So you tend to keep the representation of the resource (the
information that can be transferred using GET and PUT) relatively small,
and manage its relationship with other resources using means external to
the resource (e.g. RDF).
-- 
Chris Burdess

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6884<br>
Sender:"Justin T. Sampson" &lt;justin@...&gt;<br>
Post Date/Time:2006-11-12 18:32:33<br>
Subject:Re: [rest-discuss] a webapp with ACLs: HTTP 403<br>
Message:<br><br>
<pre>On 11/11/06, Nic James Ferrier wrote:

&gt; And 401 is _unauthorized_ not unauthenticated. So I'm in two
&gt; minds.

Actually not -- 401 is really the unauthenticated response, and
403 is really the unauthorized response. The HTTP spec doesn't use
the terminology correctly. Notice that the header required with
the 401 response is WWW-Authenticate and the corresponding request
header is Authorization -- the terminology is inconsistent even
within one mechanism. So ignore it. :)

&gt; I just hate the 401 behaviour of the automatic login box. Which
&gt; suggests that's why I'm doing it. Which suggests that I
&gt; shouldn't do it.

I've noticed that browsers (at least some) will display the
content of a 401 response if there's no WWW-Authenticate header,
so sometimes I do that, though it violates the spec, and it
doesn't support Basic auth, just custom form/cookie auth. That's
all ugly and non-standard but seems to work. Sometimes I do the
same thing using 403, though, in contradiction to what I wrote in
the first paragraph above.

Cheers,
Justin

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6885<br>
Sender:"Justin T. Sampson" &lt;justin@...&gt;<br>
Post Date/Time:2006-11-12 19:11:32<br>
Subject:Re: [rest-discuss] Is del.icio.us' API REST?<br>
Message:<br><br>
<pre>On 11/12/06, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:

&gt; Reading Joe Gregorio's article "Constructing or Traversing
&gt; URIs?" I find him referring to del.icio.us' API. My question is,
&gt; outside the scope of Joe's article, is del.icio.us' API RESTful?
&gt; If not, can I ask for an explanation of each of the reasons why
&gt; it is not? This will help me in the article I am writing.

A quick reading of http://del.icio.us/help/api/ says NO. The worst
problem is that it looks like they're using GET for unsafe
operations. Another problem, which Joe's article gets at, is that
they don't take advantage of hypertext; the API documentation just
tells you how to construct URIs.

Cheers,
Justin

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6886<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-12 19:16:19<br>
Subject:Re: [rest-discuss] a webapp with ACLs: HTTP 403<br>
Message:<br><br>
<pre>"Justin T. Sampson" &lt;justin@...&gt; writes:

&gt; Actually not -- 401 is really the unauthenticated response, and
&gt; 403 is really the unauthorized response. The HTTP spec doesn't use
&gt; the terminology correctly. Notice that the header required with
&gt; the 401 response is WWW-Authenticate and the corresponding request
&gt; header is Authorization -- the terminology is inconsistent even
&gt; within one mechanism. So ignore it. :)

This is a good point and resolves the issue for me (unless someone who
was involved in the spec can explain this inconsistency).


&gt; I've noticed that browsers (at least some) will display the
&gt; content of a 401 response if there's no WWW-Authenticate header,
&gt; so sometimes I do that, though it violates the spec, and it
&gt; doesn't support Basic auth, just custom form/cookie auth. That's
&gt; all ugly and non-standard but seems to work. Sometimes I do the
&gt; same thing using 403, though, in contradiction to what I wrote in
&gt; the first paragraph above.

But the point of using 401 is that it is discoverable. We all know
what the spec'd behaviour is and can act accordingly.

A command like client, for example, could query my service and supply
a username and password if it gets a 401. But if I send it a 403 the
client has to be specifically coded with knowledge of my service.

Shame. Still, if the W3C are working on it at least a start has been
made.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6887<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2006-11-12 19:18:31<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Mike,

as a rule of thumb I like the following approach:

Include all 'items' into the representation of a resource that  
constitute it and point to all other items with references.
IOW: let the aggregate boundary[1] define your representation  
circumference.

Example: if you model a car, the tires go in, the driver does not.

Jan

[1 http://codebetter.com/blogs/scott.bellware/archive/ 
2006/01/03/136105.aspx

On 12.11.2006, at 19:33, Chris Burdess wrote:

&gt; Mike Schinkel wrote:
&gt; &gt; &gt;&gt; Not at all. You can do anything you like. But recall that PUT  
&gt; defines the
&gt; &gt; entire state of the resource.
&gt; &gt;
&gt; &gt; So are you saying that I can't update only one field in a  
&gt; resource using PUT
&gt; &gt; but I have to have the "entire" resource passed back on forth?
&gt;
&gt; Correct
&gt;
&gt; &gt; If so, how then does one define the "entire" resource? In some  
&gt; enterprise
&gt; &gt; systems, I can envision an entire resource being HUGE and often  
&gt; not easily
&gt; &gt; definable because of all the interrelationships it has.
&gt;
&gt; Indeed. So you tend to keep the representation of the resource (the
&gt; information that can be transferred using GET and PUT) relatively  
&gt; small,
&gt; and manage its relationship with other resources using means  
&gt; external to
&gt; the resource (e.g. RDF).
&gt; -- 
&gt; Chris Burdess
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6888<br>
Sender:"Justin T. Sampson" &lt;justin@...&gt;<br>
Post Date/Time:2006-11-12 19:57:31<br>
Subject:Re: [rest-discuss] a webapp with ACLs: HTTP 403<br>
Message:<br><br>
<pre>On 11/12/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:

&gt; "Justin T. Sampson" &lt;justin@...&gt; writes:
&gt;
&gt; &gt; Actually not -- 401 is really the unauthenticated response, and
&gt; &gt; 403 is really the unauthorized response. The HTTP spec doesn't use
&gt; &gt; the terminology correctly. Notice that the header required with
&gt; &gt; the 401 response is WWW-Authenticate and the corresponding request
&gt; &gt; header is Authorization -- the terminology is inconsistent even
&gt; &gt; within one mechanism. So ignore it. :)
&gt;
&gt; This is a good point and resolves the issue for me (unless someone who
&gt; was involved in the spec can explain this inconsistency).

Well, in deference to the spec maintainers, I should correct myself:
The text of the spec actually uses the terminology correctly and
consistently, only the header names get it wrong. :) In the same boat
as Referer remaining misspelled, I suppose.

Cheers,
Justin

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6889<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-11-12 19:58:06<br>
Subject:Re: [rest-discuss] Is del.icio.us' API REST?<br>
Message:<br><br>
<pre>Yikes! I just had a look... renaming an item on a GET... euch!

http://del.icio.us/help/api/tags

Alan

On 12/11/06, Justin T. Sampson &lt;justin@...&gt; wrote:
&gt; A quick reading of http://del.icio.us/help/api/ says NO. The worst
&gt; problem is that it looks like they're using GET for unsafe
&gt; operations.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6890<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-11-12 20:48:24<br>
Subject:Re: [rest-discuss] a webapp with ACLs: HTTP 403<br>
Message:<br><br>
<pre>On Nov 12, 2006, at 11:57 AM, Justin T. Sampson wrote:
&gt; Well, in deference to the spec maintainers, I should correct myself:
&gt; The text of the spec actually uses the terminology correctly and
&gt; consistently, only the header names get it wrong. :) In the same boat
&gt; as Referer remaining misspelled, I suppose.

Yep, same boat -- the header names come from the period when the spec
was hypertext that anyone at CERN could modify, which is also why
the "WWW-" prefix exists on only one field.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6891<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-11-12 20:48:13<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>On 12/11/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:
&gt; Paul James &lt;paul@...&gt; writes:

&gt; &gt; Similarly, if I wanted to dub the film into Spanish, I could GET
&gt; &gt; /piratesofthecarribean/dialogue, get my voice actors to record a new
&gt; &gt; version in Spanish, and then PUT it back to
&gt; &gt; /piratesofthecarribean/dialogue. The fact that it is a part of a larger
&gt; &gt; whole is irrelevant from an API standpoint. Correct?
&gt;
&gt; Correct.

As an observation - according to Roy, the PUT of spanish dialogue
would overwrite the previous dialogue. If you didn't want that, then
you would PUT to /piratesofthecarribean/dialogue/es (or some other
language-specific URI).

Alan Dean

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6892<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-11-12 21:11:02<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>On 12/11/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:
&gt; Or maybe what you PUT included the spanish, english, and mandarin.

Thanks for correction Nic - I just assumed that he was PUTting
separate language dialogues.

Alan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6893<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-12 21:05:35<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>"Alan Dean" &lt;alan.dean@...&gt; writes:

&gt; On 12/11/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:
&gt;&gt; Paul James &lt;paul@...&gt; writes:
&gt;
&gt;&gt; &gt; Similarly, if I wanted to dub the film into Spanish, I could GET
&gt;&gt; &gt; /piratesofthecarribean/dialogue, get my voice actors to record a new
&gt;&gt; &gt; version in Spanish, and then PUT it back to
&gt;&gt; &gt; /piratesofthecarribean/dialogue. The fact that it is a part of a larger
&gt;&gt; &gt; whole is irrelevant from an API standpoint. Correct?
&gt;&gt;
&gt;&gt; Correct.
&gt;
&gt; As an observation - according to Roy, the PUT of spanish dialogue
&gt; would overwrite the previous dialogue. If you didn't want that, then
&gt; you would PUT to /piratesofthecarribean/dialogue/es (or some other
&gt; language-specific URI).

Or maybe what you PUT included the spanish, english, and mandarin.


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6894<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-12 21:26:28<br>
Subject:Re: [rest-discuss] a webapp with ACLs: HTTP 403<br>
Message:<br><br>
<pre>"Roy T. Fielding" &lt;fielding@...&gt; writes:

&gt; On Nov 12, 2006, at 11:57 AM, Justin T. Sampson wrote:
&gt;&gt; Well, in deference to the spec maintainers, I should correct myself:
&gt;&gt; The text of the spec actually uses the terminology correctly and
&gt;&gt; consistently, only the header names get it wrong. :) In the same boat
&gt;&gt; as Referer remaining misspelled, I suppose.
&gt;
&gt; Yep, same boat -- the header names come from the period when the spec
&gt; was hypertext that anyone at CERN could modify, which is also why
&gt; the "WWW-" prefix exists on only one field.

So who altered it?

Name and shame them.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6895<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-11-12 22:16:36<br>
Subject:Re: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>On Nov 12, 2006, at 3:53 AM, Mike Schinkel wrote:
&gt; Your analogy for "green" leaves is not applicable because I wasn't  
&gt; asking
&gt; for the "one true REST," I was asking for an *implementable* REST;  
&gt; one that
&gt; could gain wide usage so as to see tools developed for it and a  
&gt; body of
&gt; practical knowledge around its use. In the case of leaves, there are
&gt; billions of "implementations" and also no need to get trees to "adopt"
&gt; producing them.

No, you just don't understand the terminology yet.  You asked a bunch
of gardeners for help implementing green, or at least an easy-to-read
guide on doing so.  If you want an implementation guide for leaves,
that is a different story.

If you want to know how to implement an HTTP and URI-based service
in accordance with REST, then you should search for web architecture
and things like Apache modular design.  There are plenty of opinions
out there.  Most of the "simple guides" are just plain wrong, but
that's because they take the "shortest path for the programmer is best"
mentality of software engineering.  Hence, CGI, servlets, etc.
Great for prototypes, lousy in real (scalable) practice.

Yes, those guides could be improved -- the W3C webarch document,
for example, has a number of good ideas sprinkled around a tangled
discourse of a committee's long-term agenda.  That document could
benefit from a clean sweep driven by a single editorial viewpoint.

&gt; It's as if TBL had sat around and talked about URIs, HTML, and HTTP  
&gt; but
&gt; whenever anyone asked him how to implement it he did his best to  
&gt; make them
&gt; feel as if they were beneath him for asking. Instead TBL helped them
&gt; implement in a standard way so that it would be as universally  
&gt; compatible as
&gt; possible. Clearly many people before and since have used  
&gt; condescension to
&gt; discuss their ideas but I dare say nobody else in history has seen  
&gt; the level
&gt; of success TLB saw based on their ideas, at least not as rapidly. I  
&gt; see
&gt; people on this list lament how the industry has taken to SOAP and  
&gt; not REST
&gt; and the backhanded jabs at those who use SOAP, but it's becoming  
&gt; pretty
&gt; clear to me at least one good reason why REST has remained still- 
&gt; borne and
&gt; SOAP has reined supreme.

Huh?  Please, find a clue.  TBL stopped implementing URI, HTML, and
HTTP back in 1993.  Yes, 1993.  Since then he has spent an enormous
amount of time creating an organization that can, essentially, talk
about them, with the hopes of doing something more in the form of
the semantic web at some point in the future.

But perhaps you are right -- maybe I should have shown people how to
create an architecture based on REST, instead of just talking about it.
Usually, creating a network-based architecture means protocol design,
like in RFCs 1808, 1866, 1945, 2068, 2145, 2396, 2616, and 3986.
Maybe I should have written an extensible client library that could
show people how to manipulate the Web programmatically without assuming
a human is at the wheel; like, maybe, libwww-perl and MOMspider.
Maybe I should have spent more time teaching people how to build
service frameworks for scalable (real) Web sites, like Apache httpd.

Maybe I did, and you still have no clue what you are talking about.
REST is still-born?  Get a life.  You haven't even figured out what
the Web is yet and you want to lecture me on teaching.

Nobody on this list laments about SOAP.  SOAP was known to be a bad
idea in 1999 and, in spite of our comments to that effect, the industry
still insisted on proving that for themselves.  That was expected
given the money behind SOAP and is still an ongoing process, but we
don't need to lament it because this list is for discussing REST.

&gt; Tell you what; my venting isn't going to change your or anyone else's
&gt; approach on this list. I'll still participate to try and learn  
&gt; more, but I
&gt; give up on trying to inject any practicality into the discussions.

All you have injected so far is whining.  If you want a different
approach, first figure out what people are talking about and then
try a new approach yourself.  I don't understand why you are venting,
because everything we have done so far has succeeded pretty well.
REST is catching on just fine, without a dime spent on marketing.
I don't measure success by the number of people who attend training
courses because their boss told them to.  If you want to measure
success that way, then that's your problem.

....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6896<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-12 21:39:31<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>"Alan Dean" &lt;alan.dean@...&gt; writes:

&gt; On 12/11/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:
&gt;&gt; Or maybe what you PUT included the spanish, english, and mandarin.
&gt;
&gt; Thanks for correction Nic - I just assumed that he was PUTting
&gt; separate language dialogues.

Well he could be.

It's not like there are any rules - more like... guidelines.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6897<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-13 09:40:25<br>
Subject:RE: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>Nic&gt;&gt; This is just not so. I wrote an article for onlamp about REST and
AJAX. 

Wow. How do I say this w/o offending...  Because of the organization you
chose, I found the article extremely hard to follow.  And it discussed AJAX
and issues related to REST, but not a complete overview of decisions
required to implement a service which Joe's series of articles did, IMO.

Nc&gt;&gt; But we're not going to get those articles by arguing about singular vs
plural here.

I wasn't arguing about singular vs plural; I asked the question and then, as
typical on mailing lists and forums, someone either told me the question was
essentially stupid or disagreed that I should be asking here (honestly, by
now I can't remember exactly) so the thread veered of on a different course.

Besides, didn't you see my last comment in that email?  "Tell you what; my
venting isn't going to change your or anyone else's approach on this list.
I'll still participate to try and learn more, but I give up on trying to
inject any practicality into the discussions."

-Mike

-----Original Message-----
From: Nic James Ferrier [mailto:nferrier@...] 
Sent: Sunday, November 12, 2006 8:07 AM
To: Mike Schinkel
Cc: rest-discuss@yahoogroups.com; welldesignedurls@yahoogroups.com
Subject: Re: [rest-discuss] Singular vs. Plural?

"Mike Schinkel" &lt;mikeschinkel@...&gt; writes:

&gt; It's not hard to accept, until when asking for guidance there is 
&gt; torrent of condescension about "people who don't get it" and how it is 
&gt; not possible to do this and how it is not implementable to do that, 
&gt; and little if any guidance or open-mindedness about how to use it in a 
&gt; practical manner.  Joe Gregorio's articles on XML.com are still the 
&gt; *only* thing to date I've seen that approaches practicality, and 
&gt; believe me I've searched for practical examples. But maybe you'll say 
&gt; practicality isn't goal, but then what good is something that has no 
&gt; practical use (without getting philisophical, of
&gt; course?)

This is just not so. I wrote an article for onlamp about REST and AJAX.

I *know* that other people have written similarly good articles (Prescod's
stuff is good, as previously stated). You're not looking hard enough.

You're point about implementation details is a good one - we need more and
more articles explaining how to do something (say content
negotiation) and why we do it RESTfully and why that's better than any other
way.


But we're not going to get those articles by arguing about singular vs
plural here.

You should pick singular or plural and then let somebody change your mind
later if they feel strongly about it.

--
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6898<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-13 09:44:40<br>
Subject:RE: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>Alan Dead&gt;&gt; Hope that this illuminates :-)

Yes, very helpful.

I'll be interested in seeing what you offer.

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6899<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-11-13 10:32:42<br>
Subject:Re:  [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>&gt;
&gt;I wasn't arguing about singular vs plural; I asked the question and then, as
&gt;typical on mailing lists and forums, someone either told me the question was
&gt;essentially stupid or disagreed that I should be asking here (honestly, by
&gt;now I can't remember exactly) so the thread veered of on a different course.
&gt;

The bluntness of my response is typical of me, myself and I -- as was the 
politeness of my response.  It was not rude, nor was it meant as a flame, nor 
was it ill-considered -- those are "typical" behaviors I abhor as well.

Had I thought your question stupid, I would not have said that it was an 
interesting point, nor would I have engaged in further discussion about it.  
Nor did I chastise you for asking that question on this list.

What I did was point out the essential fact, which is that you were asking 
about an issue which was not architectural in nature, and as such is not 
covered by REST.

It helps to learn what REST is by learning what REST is not, IMHO, so what 
honest response could I give without pointing out that your question fell 
under what REST is not?

You've read some hostility into my response, where none existed.

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6900<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-13 11:16:25<br>
Subject:RE: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>Eric J. Bowman said:

&gt;&gt; You've read some hostility into my response, where none existed.

And I didn't reference your email specifically either. :)  Numerous people
replied and my comments were about the cumulative, not any one in specific
(at that point I couldn't remember you specifically said what w/o going back
to review.)

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6901<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-13 11:29:38<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Eric J. Bowman wrote:

&gt;&gt; REST is also specifically concerned with the payload of those
interactions.  Does the payload describe a resource, or does the payload
contain server instructions?

Can you give me an two examples illustrating the difference? i.e. one
payload that describes the resource and the other that contains server
instructions?  I'm struggling to envision the second.

&gt;&gt; What does matter is that state transition remain within the application
logic without being transferred between components.  

I'm not following this.  How would a state transition be transferred between
components?

&gt;&gt; If &lt;person&gt;bob&lt;/person&gt; is removed from /maryland, the server logic is
based on a DIFF between the old and new version when the PUT occurs.  The
server can take any number of actions based on the fact that there's a
"missing person" in maryland, 

I'm not following this either.  What do you mean by "the server logic is
based on a DIFF" and "the fact there's a missing person in maryland?"

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6902<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-13 11:09:36<br>
Subject:RE: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>Roy:

I'm not here to attack you; I've got a tons of respect for you and what REST
offers. Please read on...

&gt;&gt; Huh?  Please, find a clue.  TBL stopped implementing URI, HTML, and HTTP
back in 1993.  Yes, 1993.  Since then he has spent an enormous amount of
time creating an organization that can, essentially, talk about them, with
the hopes of doing something more in the form of the semantic web at some
point in the future. 

It is irrelevent that he stopped in 1993.  By then, he had momentum, but he
first had to create it.  Quoting from Weaving the Web p 75: "I no longer had
to push the bobsled. It was time to jump in and steer."

&gt;&gt; If you want to know how to implement an HTTP and URI-based service in
accordance with REST...

I'm doing a lousy job of getting my fundamental point across. 

It's not that I want to know how to implement REST, it's that I want the
average web developer to know how to implement REST.  

Have you looked at at the public APIs that are claiming to be REST?
http://www.google.com/search?q=site:programmableweb.com+protocols+REST   For
example:

* http://webjay.org/api/help - API design follows the REST architectural
style. Webjay URIs almost always look like /[foo]/[username]/[short-name].

* http://akismet.com/development/api/ - All calls to Akismet (at
rest.akismet.com) are POST requests much like a web form would send.  

* http://dev.hotornot.com/wiki/RESTFormat - REST is a simple request format
using HTTP GET or POST actions (verifyUserPassword, getProfile,
getRandomProfile, submitVote)

* http://www.feedburner.com/fb/a/developers/feedapi - FeedBurner web
services use the REST protocol to receive requests and return data over
HTTP. (Find Feeds, Get Feed, Add Feed, Modify Feed, Delete Feed, Resync
Feed)

* http://developers.facebook.com/documentation.php - All methods are
available over the public REST-based interface. Facebook API (beta)
currently supports the following methods: auth.createToken, auth.getSession,
events.getInWindow, friends.get, friends.getAppUsers, friends.getRequests,
friends.getTyped, friends.areFriends, messages.getCount, photos.getAlbums,
photos.getCommentCount, photos.getFromAlbum, photos.getOfUser,
pokes.getCount, session.ping, users.getInfo

* http://weblogs.com/api.html - Weblogs.com accepts form-based HTTP POST and
GET requests for non-extended pings. For example, the following is a valid
HTTP GET ping request: http://rpc.weblogs.com/pingSiteForm

* http://soundtoys.net/contribute/api - Soundtoys uses a so called REST API
to communicate using XML. ... Every URI can either be read or written(*) to
by using HTTP GET or POST requests to identify the direction of the data
transfer.

* http://cafespot.net/api/v1/ - CafeSpot's API is a simple REST API. API
Functions: place/find-near-address, place/find-near-point,
place/find-user-favorites, tag/find-all

Do those look like they follow the full precepts of REST? (some may, but I
don't think they do. And there's a LOT more where these came from.)  Chaos
in the industry around REST does not do you or (almost) anyone any good.
Without easy to follow guidance for the average web developer, things are
just going to get messier and messier and I know you and the rest of the
RESTafarians here don't want to see "REST" co-oped by a bunch of techniques
that are not REST.  Am I right or wrong on that?

I'm trying to say that if the RESTafarians as a group don't shepherd the
meaning of REST it will come to mean nothing good in the eyes of the average
web developer. And then you all will sit back and lament how people "just
didn't get it."

&gt;&gt; But perhaps you are right -- maybe I should have shown people how to
create an architecture based on REST, instead of just talking about it.

I don't know if you are being serious or sarcastic.

&gt;&gt; REST is still-born?  Get a life.  You haven't even figured out what the
Web is yet and you want to lecture me on teaching.

Sorry, I should have worded that differently.  What I meant by that was that
I don't think that the principles you and the RESTafarians hold dear are
being implemented properly on a broad scale in the wild.  I'm not lecturing
you, I'm tugging on your coat tails trying to point out the riot that is
brewing outside the cathedral.

&gt;&gt; Nobody on this list laments about SOAP....

I said that because I remembered reading repeated jabs about people "who
don't get REST" and I remembered (maybe wrongly) that they often referenced
SOAP.  It was really based on a feeling I got from reading the list, that
people here feel like they "have seen the light" while lamenting or
condescending other's who hadn't (for example, comments like this:
http://tech.groups.yahoo.com/group/rest-discuss/message/6864) Also, I
scanned through many years of archives on the list too, so my feeling came
not just from recent posts but over the past several years. I can point it
out in the future when I see again, if you like.

&gt;&gt; All you have injected so far is whining.  If you want a different
approach, first figure out what people are talking about and then try a new
approach yourself.  I don't understand why you are venting, because
everything we have done so far has succeeded pretty well.

As I said at the end of my prior email, I'm going to stop bringing up these
issues on the list (except for my reply to your email.) I'll instead just
ask factual questions to improve my understanding.

&gt;&gt; I don't measure success by the number of people who attend training
courses because their boss told them to.  If you want to measure success
that way, then that's your problem.

When did I say anything about people attending training courses?!?  That's
not how developers building Web 2.0 sites are learning.  

&gt;&gt; REST is catching on just fine, without a dime spent on marketing. 

IN SUMMARY, I'm not saying REST is not catching on, I'm saying IT IS, and
THAT is the problem. With great power comes great responsibility. The
problem is REST is catching on in a manner that does not follow your
precepts; the precepts that the RESTafarians are so adamant about.  If that
is okay with you, that people call things REST that are not, then fine; I
won't say another word.  

I was really only trying to help; please don't shoot the messenger.

Respectfully,

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6903<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-13 11:42:35<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>&gt;&gt; I can program the server to expose that line of text using XPATH at the
URL /bighugefile.xml/root/chapter/
verse/h1/text() when I GET, and alter bighugefile.xml accordingly when I PUT
to /bighugefile.xml/root/chapter/verse/h1/text().

Okay, that helps.  Let me restate to see if I have it.

Whatever the resource is (described by a noun), the entire resource must be
returned by a GET, the entire resource must by POSTed during an add, and the
entire resource must be provided via PUT for an update.  It is not possible
to GET/POST/PUT a partial/subset of a resource using the resource. If a
partial or subset of a resource is needed then it is a resource itself and
hence must have it's own URI.

Is that correct?

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6904<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2006-11-13 11:51:45<br>
Subject:Re: Singular vs. Plural?<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, "Roy T. Fielding" &lt;fielding@...&gt;
wrote:
&gt;
&gt; On Nov 12, 2006, at 3:53 AM, Mike Schinkel wrote:
&gt; &gt; ... I was asking for an *implementable* REST;  
&gt; &gt; one that
&gt; &gt; could gain wide usage so as to see tools developed for it and a  
&gt; &gt; body of
&gt; &gt; practical knowledge around its use.
&gt; 
&gt; If you want an implementation guide for leaves,
&gt; that is a different story.

I agree with RTF that an "implementation guide" is a 
"different story" from the "architectural style" story that Roy told
so well in his dissertation.

So in the hope of helping Mike reframe his question in order to get
the type of "story" or "guide" he is seeking, let me ask this question:

Which "in production" Web API implementation provides the best example
of a REST "implementation guide"? Considerations for "best" include
not only the implementation that most adheres to the REST
architectural style, but also the implementation that is best
documented and most popular.

With such considerations in mind (feel free to add others in
justifying your candidates), I nominate ATOM and GDATA as my examples
of reasonable REST "implementation guides", ie, if you follow the ATOM
and GDATA implementation requirements and guidelines when creating
"web APIs", you will stray closer to REST than if you use other
implementation guides.

Mike, are the ATOM and GDATA specs and implementation guides closer to
what you are looking for?

Everyone else, can you think of better implementation guides that
"lead to REST"?

-- Nick



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6905<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-13 12:07:49<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Chris Burdess wrote:

&gt;&gt; Indeed. So you tend to keep the representation of the resource (the
information that can be transferred using GET and PUT) relatively small, and
manage its relationship with other resources using means external to the
resource (e.g. RDF).

And you do this with hypermedia, not construction of URLs?  If yes, I'm
trying to envision how such complexity gets coded into hypermedia in a way
that is actionable by machine. I can envision how to manage the complexity
with URL construction but not hypermedia.

 -Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6906<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-13 12:26:01<br>
Subject:Is Feedburner's API RESTful?<br>
Message:<br><br>
<pre>Thanks for the feedback on del.icio.us' API.

Next I'd like to ask: Is Feedburner's API RESTful?

http://www.feedburner.com/fb/a/developers/feedapi

Again, looking at specific APIs and diagnosing what's right and wrong with
them helps my understanding.

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6907<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-11-13 12:18:47<br>
Subject:Re:  [rest-discuss] REST design question<br>
Message:<br><br>
<pre>&gt;
&gt;&gt;&gt; I can program the server to expose that line of text using XPATH at the
&gt;URL /bighugefile.xml/root/chapter/
&gt;verse/h1/text() when I GET, and alter bighugefile.xml accordingly when I PUT
&gt;to /bighugefile.xml/root/chapter/verse/h1/text().
&gt;
&gt;Okay, that helps.  Let me restate to see if I have it.
&gt;
&gt;Whatever the resource is (described by a noun), the entire resource must be
&gt;returned by a GET, the entire resource must by POSTed during an add, and the
&gt;entire resource must be provided via PUT for an update.
&gt;

That's correct, the resource is described by a URI taken as a whole -- it's 
opaque because while /bighugefile.xml is a resource with its own URI, 
/bighugefile.xml/(etc.) is identifying an abstract resource which happens to 
be a data fragment derived from another concrete (file) resource.

Because URIs are opaque, it is incorrect to assume that the XPATH URI has 
anything to do with /bighugefile.xml, but in this example I'm adhering to 
good practice and it's easy to describe what I'm doing using uri-template 
and referring to XPATH to describe this service.

I'm also using hypermedia as the engine of application state, even if it's 
just a snippet of text/plain. 

&gt;
&gt;It is not possible
&gt;to GET/POST/PUT a partial/subset of a resource using the resource. If a
&gt;partial or subset of a resource is needed then it is a resource itself and
&gt;hence must have it's own URI.
&gt;
&gt;Is that correct?
&gt;

We-eelll, you're not gonna like this, but it isn't that simple. There's such 
a thing as HTTP range requests:

[1] http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.16
[2] http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35

Depending on the nature of the resource, particularly if it's a binary media 
type instead of text, it may be preferable to use HTTP range requests in 
which case /bighugefile.bin never needs to be transferred to a client in its 
entirety, but may be manipulated remotely nonetheless.

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6908<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-13 12:31:35<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Eric J. Bowman wrote:

&gt;&gt; We-eelll, you're not gonna like this, but it isn't that simple. There's
such a thing as HTTP range requests:
&gt;&gt; 
&gt;&gt; [1] http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.16
&gt;&gt; [2] http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35
&gt;&gt; 
&gt;&gt; Depending on the nature of the resource, particularly if it's a binary
media type instead of text, it may be preferable to use HTTP range requests
in which case /bighugefile.bin never &gt;&gt; needs to be transferred to a client
in its entirety, but may be manipulated remotely nonetheless. 

But doesn't that then violate a prinicple of REST as you just defined it?
IOW, not making it wrong, just making it not REST?

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6909<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-13 12:32:39<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Nic Ferrier wrote:
&gt;&gt; Not quite. As previously discussed it is possible to use content-ranges
to restrict the data intra-resource.
&gt;&gt; However, it's not advisable to use them because of caching problems.
&gt;&gt; And infact, content-ranges are quite difficult to use. 

Again, what I asked Eric: "It's possible, but is it RESTful?"

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6910<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-13 12:46:16<br>
Subject:RE: [rest-discuss] Definition of "Architectural Style?"<br>
Message:<br><br>
<pre>Mark Baker wrote: 

&gt;&gt; It's in the oft-overlooked section of Roy's dissertation;
&gt;&gt;
http://www.ics.uci.edu/~fielding/pubs/dissertation/software_arch.htm#sec_1_5

Perfect. Thanks. 

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/

P.S. As an aside, your link reminding me of something I've been pondering;
how a fragment identifier is like a bookmark to a position a larger
resource, but is actually not an identifier for the specific resource. That
means the following:

* Pointing at it doesn't constrain that to which I point. In this case "1.6
Patterns and Pattern Languages" come next, which are not part of 1.5 Styles.
A human may (or may not) be able to tell that, but can a machine?

* If I want to print it, I cannot print just that fragment (I have this
problem with Tantek elik's blog, and other's blogs.)

Any thoughts (or prior art) on this point?


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6911<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-13 12:39:34<br>
Subject:RE: [rest-discuss] Re: Singular vs. Plural?<br>
Message:<br><br>
<pre>Nick:
 
&gt;&gt; Mike, are the ATOM and GDATA specs and implementation 
&gt;&gt; guides closer to what you are looking for?
 
Kind of, but not quite.  They seem to be good examples but both seem to be a
bit specific (i.e. not general purpose.) And they don't really seem to
address hypermedia (or do they?)
 
-Mike Schinkel 
http://www.mikeschinkel.com/blogs/ 
http://www.welldesignedurls.org/ 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6912<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-13 12:11:43<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>"Mike Schinkel" &lt;mikeschinkel@...&gt; writes:

&gt; Whatever the resource is (described by a noun), the entire resource must be
&gt; returned by a GET, the entire resource must by POSTed during an add, and the
&gt; entire resource must be provided via PUT for an update.  It is not possible
&gt; to GET/POST/PUT a partial/subset of a resource using the resource. If a
&gt; partial or subset of a resource is needed then it is a resource itself and
&gt; hence must have it's own URI.
&gt;
&gt; Is that correct?

Not quite. As previously discussed it is possible to use
content-ranges to restrict the data intra-resource.

However, it's not advisable to use them because of caching problems.

And infact, content-ranges are quite difficult to use.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6913<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-11-13 13:05:42<br>
Subject:Re: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>Roy T. Fielding wrote:

&gt; Then why is it so hard to accept that an ARCHITECTURAL STYLE
&gt; cannot itself be implemented, just as there is no implementation
&gt; of green (only examples)? And that not being implementable in its
&gt; style form does not mean that an architecture cannot be constructed
&gt; in such a way as to fit our agreed style? And that being abstract
&gt; doesn't mean it is worthless to be able to talk about the style,
&gt; examine its characteristics, debate which ones are "best" for a
&gt; given application, and generally enjoy learning something that you
&gt; might not have known last week?
&gt; 
&gt; We can talk about green, various shades of green, and all the
&gt; other colors that, when combined, do not come out green. Children
&gt; have no problem understanding such things, though they might not
&gt; yet understand the properties of light and vision that make it all
&gt; work. Software architectural styles are much more complex, which
&gt; means you need to spend a lot more time thinking about the subject
&gt; (and drawing experiments) before it finally becomes clear. And
&gt; at that point you won't be complaining about abstractions: you'll
&gt; start looking for other colors.

All that needs to be said is that REST is a design style by which 
implementations can be evaluated and system behaviours can be predicted. 
I can't evaluate or critique a shade of green via the concept of green, 
not in any way that isn't crashingly trivial or tautological. I can 
evaluate a system's propsed design or post-facto design via the concepts 
of REST in non-trivial ways. I can also use REST to make predictions 
about how an implementation will behave - and, most important -  if I 
can induce similar behaviors without resorting to REST, then I know the 
REST theory isn't entirely adequate as an explanatory tool. Software as 
science, not witchcraft.

cheers
Bill


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6914<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-13 13:03:58<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>"Mike Schinkel" &lt;mikeschinkel@...&gt; writes:

&gt; Nic Ferrier wrote:
&gt;&gt;&gt; Not quite. As previously discussed it is possible to use content-ranges
&gt; to restrict the data intra-resource.
&gt;&gt;&gt; However, it's not advisable to use them because of caching problems.
&gt;&gt;&gt; And infact, content-ranges are quite difficult to use. 
&gt;
&gt; Again, what I asked Eric: "It's possible, but is it RESTful?"

It depends what you're doing.

The pirate bit of "it's just guidelines" is a joke. But it's still
just guidelines.

If you've got a need to get 500 bytes from the middle of
Pirates-of-the-Carribean.dvdimage and you don't care about caches (for
500 bytes do you care?) than range requests would be good.

But if you want to get 20Mb at different times then you care about
caching probably and you might want to implement a set of resources
over the top of the main one to allow you to address each one
separately.


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6915<br>
Sender:Chris Burdess &lt;dog@...&gt;<br>
Post Date/Time:2006-11-13 13:24:46<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Mike Schinkel wrote:
&gt; &gt;&gt; We-eelll, you're not gonna like this, but it isn't that simple. There's
&gt; such a thing as HTTP range requests:
&gt; &gt;&gt; 
&gt; &gt;&gt; [1] http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.16
&gt; &gt;&gt; [2] http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35
&gt; &gt;&gt; 
&gt; &gt;&gt; Depending on the nature of the resource, particularly if it's a binary
&gt; media type instead of text, it may be preferable to use HTTP range requests
&gt; in which case /bighugefile.bin never &gt;&gt; needs to be transferred to a client
&gt; in its entirety, but may be manipulated remotely nonetheless. 
&gt; 
&gt; But doesn't that then violate a prinicple of REST as you just defined it?
&gt; IOW, not making it wrong, just making it not REST?

Good question.
-- 
Chris Burdess

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6916<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-11-13 13:59:29<br>
Subject:Re:  [rest-discuss] REST design question<br>
Message:<br><br>
<pre>&gt;
&gt;&gt;&gt; REST is also specifically concerned with the payload of those
&gt;interactions. Does the payload describe a resource, or does the payload
&gt;contain server instructions?
&gt;
&gt;Can you give me an two examples illustrating the difference? i.e. one
&gt;payload that describes the resource and the other that contains server
&gt;instructions? I'm struggling to envision the second.
&gt;

Of course, because the whole notion of such a ping is a bit backwards.  What 
Technorati should do, is have people submit their feed URLs, then do a HEAD 
request or a conditional GET to determine if any changes have been made.

Another way, is to make a URI for each subscriber to PUT a new &lt;updated&gt; 
value to.  This could be automated and password protected.

&gt;
&gt;&gt;&gt; What does matter is that state transition remain within the application
&gt;logic without being transferred between components.
&gt;
&gt;I'm not following this. How would a state transition be transferred between
&gt;components?
&gt;

The Technorati ping isn't really manipulating a resource using POST, it's 
submitting program logic to an endpoint.  The payload is not a representation 
of any resource (try to GET that URL).  The verb isn't really POST either, 
for that matter.  It's "Call method weblogUpdates.ping with the following 
parameters."  A remote procedure call involves the transfer of a state 
transition request, not a representation of a resource.

&gt;
&gt;&gt;&gt; If &lt;person&gt;bob&lt;/person&gt; is removed from /maryland, the server logic is
&gt;based on a DIFF between the old and new version when the PUT occurs. The
&gt;server can take any number of actions based on the fact that there's a
&gt;"missing person" in maryland,
&gt;
&gt;I'm not following this either. What do you mean by "the server logic is
&gt;based on a DIFF" and "the fact there's a missing person in maryland?"
&gt;

Well, the server can do anything in response to a PUT.  In this case, it runs 
a simple diff() function to see what, if anything, has changed before it does 
the actual write to the resource.  In the example we're discussing, the 
result of the diff() function call will be some indication that the person 
"Bob" has been removed from the place "Maryland."

Since Bob is no longer in Maryland, the server should also change Bob's 
location to "unspecified."  In another PUT request, Bob could be added to 
Virginia.  The result of the diff() would show this, and the server could 
change Bob's location from "unspecified" to "Virginia."

In each case, the request simply updates a resource, it doesn't tell the 
server "oh by the way, also change the value of some other resource."  That 
there is a consequence of the PUT for some other resource is opaque to the 
transfer of the representation that triggers it -- that transfer doesn't 
contain instructions.

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6917<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-11-13 14:20:49<br>
Subject:Re:  [rest-discuss] REST design question<br>
Message:<br><br>
<pre>&gt;
&gt;&gt;&gt; We-eelll, you're not gonna like this, but it isn't that simple. There's
&gt;such a thing as HTTP range requests:
&gt;&gt;&gt; 
&gt;&gt;&gt; [1] http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.16
&gt;&gt;&gt; [2] http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35
&gt;&gt;&gt; 
&gt;&gt;&gt; Depending on the nature of the resource, particularly if it's a binary
&gt;media type instead of text, it may be preferable to use HTTP range requests
&gt;in which case /bighugefile.bin never &gt;&gt; needs to be transferred to a client
&gt;in its entirety, but may be manipulated remotely nonetheless. 
&gt;
&gt;But doesn't that then violate a prinicple of REST as you just defined it?
&gt;IOW, not making it wrong, just making it not REST?
&gt;

Hmmm... what principle of REST did I define?  The issue raised was how to 
deal with very large files without requiring them to be passed back and forth 
in their entirety, I offered two examples of how this could be done.  One 
involves assigning a URI to the fragment in question, and while that makes 
more sense to me and seems to be in line with _other_ best-practice 
conventions, I don't believe one way is more RESTful than the other.

Really, it depends on the media type involved.  My preferred method is just 
not relevant to a large binary file, while an HTTP delta is.

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6918<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-11-13 14:25:45<br>
Subject:Re: (UCE) Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>&gt;
&gt;However, it's not advisable to use them because of caching problems.
&gt;
&gt;And infact, content-ranges are quite difficult to use.
&gt;

Ah, difficult to use *on the web* definitely (ok, and in general), but what 
about an intranet, where cacheing intermediaries are not a concern, and all 
clients are homogenous?  A proprietary implementation on a closed system can 
still follow the REST architectural style.

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6919<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-11-13 14:56:18<br>
Subject:Re: [rest-discuss] Is del.icio.us' API REST?<br>
Message:<br><br>
<pre>On 11/12/06, Justin T. Sampson &lt;justin@...&gt; wrote:
&gt; Another problem, which Joe's article gets at, is that
&gt; they don't take advantage of hypertext; the API documentation just
&gt; tells you how to construct URIs.

Right.  A good example of that is this;

&lt;bundles&gt;
  &lt;bundle name="music" tags="ipod mp3 music" /&gt;
&lt;/bundles&gt;

 -- http://del.icio.us/help/api/bundles

The tags have their own URIs, but they're not used there.  This would
mean, amoungst other things, that generic clients like spiders
wouldn't be able to discover that those tags are actually sources of
data (unless they're advertised by other means, which thankfully they
are in this case), because the spider doesn't know the
del.icio.us-specific URI rules.

I don't remember which came first, but both the Flickr and
del.icio.us' APIs have exactly the same problems.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6920<br>
Sender:Paul Jimenez &lt;pj@...&gt;<br>
Post Date/Time:2006-11-13 15:19:49<br>
Subject:RESTful login API?<br>
Message:<br><br>
<pre>
Give than auth is a bit of a tricky issue to deal with in a RESTful
manner, are there standard recommendations on how to do so?  Even
a standard API, perhaps?  Anyone have pointers?  If not, should
there be?  Or at least a list of the common pitfalls and how to
avoid them?

  --pj


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6921<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-11-13 15:30:30<br>
Subject:Re: [rest-discuss] Is Feedburner's API RESTful?<br>
Message:<br><br>
<pre>No, though it's not as bad as del.icio.us or Flickr.  It at least
requires POST for add/delete/modify, so will avoid problems of doing
so with GET (with caches and accelerators[1]).  But it's putting the
real operation name in the URI, which means that resource
identification isn't being done properly, and that makes it unRESTful.
 Hypermedia doesn't seem to apply to this API though (AFAICT) because
there doesn't seem to be much of an application there; but I might not
be looking closely enough.

 [1] http://www.37signals.com/svn/archives2/google_web_accelerator_hey_not_so_fast.php

Mark.

On 11/13/06, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt;
&gt;
&gt;
&gt; Thanks for the feedback on del.icio.us' API.
&gt;
&gt; Next I'd like to ask: Is Feedburner's API RESTful?
&gt;
&gt; http://www.feedburner.com/fb/a/developers/feedapi
&gt;
&gt; Again, looking at specific APIs and diagnosing what's right and wrong with them helps my understanding.
&gt;
&gt; -Mike Schinkel
&gt; http://www.mikeschinkel.com/blogs/
&gt; http://www.welldesignedurls.org/
&gt;    

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6922<br>
Sender:Chris Burdess &lt;dog@...&gt;<br>
Post Date/Time:2006-11-13 15:55:36<br>
Subject:Re: [rest-discuss] RESTful login API?<br>
Message:<br><br>
<pre>Paul Jimenez wrote:
&gt; Give than auth is a bit of a tricky issue to deal with in a RESTful
&gt; manner, are there standard recommendations on how to do so?  Even
&gt; a standard API, perhaps?  Anyone have pointers?  If not, should
&gt; there be?  Or at least a list of the common pitfalls and how to
&gt; avoid them?

It's not a tricky issue. Basically you want to be using HTTP digest
auth. Your primary blockers are:

1. Your graphical designer. She wants to have a funky login screen with
pictures of your product and links to the offer of the day. It's
possible to mitigate this:

	http://www.peej.co.uk/articles/http-auth-with-html-forms.html

This only works for browsers with JavaScript turned on, but other
browsers will not care that they only get served the standard auth
dialog, and your graphical designer doesn't know that JavaScript *can*
be turned off.

2. You can't log out. Design your app to deal with this.

3. MSIE has bugs using digest auth to retrieve URLs with query
parameters. Apache httpd (and possibly other servers) has a workaround
for this, see

	http://httpd.apache.org/docs/2.0/mod/mod_auth_digest.html
-- 
Chris Burdess

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6923<br>
Sender:Yohanes Santoso &lt;yahoo-rest-discuss@...&gt;<br>
Post Date/Time:2006-11-13 15:49:53<br>
Subject:Re: [rest-discuss] Status Code Priority<br>
Message:<br><br>
<pre>"Alan Dean" &lt;alan.dean@...&gt; writes:

&gt; GET /foo.rdf
&gt; Accept: text/xml
&gt; Accept-Language: fr
&gt; If-Match: "xyzzy"
&gt;
&gt; the GET might qualify for the following status codes:
&gt;
&gt; 404 Not Found
&gt; 406 Not Acceptable
&gt; 412 Precondition Failed
&gt;
&gt; so, which to choose?

In your case above, it does not matter, because no matter which one is
returned, there are still two other independent failure conditions.

I would return the first failure condition I encounter (fail
immediately!).

YS.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6924<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-11-13 17:07:45<br>
Subject:Re: [rest-discuss] Is Feedburner's API RESTful?<br>
Message:<br><br>
<pre>On 11/13/06, Mark Baker &lt;distobj@...&gt; wrote:
&gt; No, though it's not as bad as del.icio.us or Flickr.  It at least
&gt; requires POST for add/delete/modify, so will avoid problems of doing
&gt; so with GET (with caches and accelerators[1]).  But it's putting the
&gt; real operation name in the URI, which means that resource
&gt; identification isn't being done properly, and that makes it unRESTful.
&gt;  Hypermedia doesn't seem to apply to this API though (AFAICT) because
&gt; there doesn't seem to be much of an application there; but I might not
&gt; be looking closely enough.
&gt;
&gt;  [1] http://www.37signals.com/svn/archives2/google_web_accelerator_hey_not_so_fast.php


Wow -- that post has no clue they've done anything wrong, and what may
be worse, is that all the commenters think GWA is "a bad net citizen":

http://blogsearch.google.com/blogsearch?scoring=d&amp;hl=en&amp;lr=lang_en&amp;q=http://www.37signals.com/svn/archives2/google_web_accelerator_hey_not_so_fast.php

I hope in the 18 months since that post we've raised consciousness a little.

Hugh

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6925<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-11-13 19:59:57<br>
Subject:Re: [rest-discuss] Is Feedburner's API RESTful?<br>
Message:<br><br>
<pre>Mark Baker wrote:
&gt; 
&gt; 
&gt; No, though it's not as bad as del.icio.us or Flickr. It at least
&gt; requires POST for add/delete/modify, so will avoid problems of doing
&gt; so with GET (with caches and accelerators[1]). But it's putting the
&gt; real operation name in the URI, which means that resource
&gt; identification isn't being done properly, and that makes it unRESTful.
&gt; Hypermedia doesn't seem to apply to this API though (AFAICT) because
&gt; there doesn't seem to be much of an application there; but I might not
&gt; be looking closely enough.

Hmm:

POST http://api.feedburner.com/management/1.0/ModifyFeed
POST http://api.feedburner.com/management/1.0/DeleteFeed
POST http://api.feedburner.com/management/1.0/ResyncFeed
POST http://api.feedburner.com/management/1.0/AddFeed

are problematic (but I could take or leave ResyncFeed).

I don't see a big deal with:

GET http://api.feedburner.com/management/1.0/GetFeed?*

as it's nothing more than redundant.

The thing to bear in mind is the Feedburner API design falls naturally 
out of HTML forms. I'm utterly convinced HTML forms is the most damaging 
Web technology standard ever conceived - it demands. Nothing else is 
remotely close. It's confused maybe half a dozen web technologies (cgi, 
browsers, SOAP/WS, xml-rpc, web-mvc, Web2.0 apis). It coerces developers 
to the do the wrong thing; either with apps or framework designs.

As the W3C are looking at their HTML strategy I hope this is on top of 
the pile. People learn web programming via forms, not theses.

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6926<br>
Sender:Leigh Dodds &lt;leigh@...&gt;<br>
Post Date/Time:2006-11-13 20:33:29<br>
Subject:Re: [rest-discuss] Is Feedburner's API RESTful?<br>
Message:<br><br>
<pre>
&gt; Again, looking at specific APIs and diagnosing what's right and wrong 
&gt; with them helps my understanding.

I deconstructed a bunch of APIs here:

http://www.idealliance.org/proceedings/xtech05/papers/02-07-04/

I always meant to go through this exercise again with a bunch
more, but well, there are so many these days :)

Cheers,

L.

-- 
Home: http://www.ldodds.com      | "Simplicity is the ultimate
Blog: http://www.ldodds.com/blog | sophistication" -- Leonardo da Vinci

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6927<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-11-13 20:45:10<br>
Subject:HTML forms considered harmful?<br>
Message:<br><br>
<pre>On 11/13/06, Bill de hOra &lt;bill@...&gt; wrote:
&gt; Hmm:
&gt;
&gt; POST http://api.feedburner.com/management/1.0/ModifyFeed
&gt; POST http://api.feedburner.com/management/1.0/DeleteFeed
&gt; POST http://api.feedburner.com/management/1.0/ResyncFeed
&gt; POST http://api.feedburner.com/management/1.0/AddFeed
&gt;
&gt; are problematic (but I could take or leave ResyncFeed).

Right, but from a REST POV only problematic (AFAICT) from the POV of
resource identification.

&gt; I don't see a big deal with:
&gt;
&gt; GET http://api.feedburner.com/management/1.0/GetFeed?*
&gt;
&gt; as it's nothing more than redundant.

Sure.

&gt;
&gt; The thing to bear in mind is the Feedburner API design falls naturally
&gt; out of HTML forms. I'm utterly convinced HTML forms is the most damaging
&gt; Web technology standard ever conceived - it demands. Nothing else is
&gt; remotely close. It's confused maybe half a dozen web technologies (cgi,
&gt; browsers, SOAP/WS, xml-rpc, web-mvc, Web2.0 apis). It coerces developers
&gt; to the do the wrong thing; either with apps or framework designs.

It's not ideal, sure, but one could argue that it was the place of the
*browsers* to support PUT and DELETE functionality from the menu bar,
not forms per se, i.e. "File -&gt; Save to Web" and "File -&gt; Delete from
Web".

It would also be useful to support them from forms when that was
needed, but IMO, 99.9% of forms use POST properly from this POV
(ignoring the POST(a) vs. POST(p) distinction).  Wiki editing is the
obvious exception, but that's best done from the browser (WYSIWYG
editing), not via PUT in a form IMO.

Ideally, we'd have both though.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6928<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-13 21:00:17<br>
Subject:slamming all the REST APIs<br>
Message:<br><br>
<pre>It seems that hardly anyone has something that we can be satisfied
calling REST.

I am not the keeper of REST by any means, but this is a word of
caution. All of these APIs, thought more or less RESTfull in
themselves, have been informed by REST.

In itself that seems like a universally good thing. 

It would be nice if they all adhered to RESTfull principles a little
better but I would rather use a non-idempotent GET than SOAP any day
of the week.

At least, by doing APIs like this, these people are showing that the
main architecture of the web (verbs and resources) are all that is
really needed to build APIs.

After all, as a client, many of the advantages that would accrue from
RESTfull design (scalability for example) simply don't apply to me. If
Flickr want to spend more money on hosting because of their silly API
design then so be it.


If we get really upset by these things we can always fix them by
writing RESTful wrappers around existing APIs. Maybe we should do
that.

But I am convinced that we shouldn't spend too much time worrying
about the purity of individual APIs.


And I'm not going to say the guidelines thing again. I'm just not.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6929<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-11-13 20:52:05<br>
Subject:Re: [rest-discuss] Is Feedburner's API RESTful?<br>
Message:<br><br>
<pre>On 11/13/06, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt; Again, looking at specific APIs and diagnosing what's right and wrong with them helps my understanding.

BTW, there's already some on the RESTwiki, though focused on taking
RPC interfaces and putting them on the Web.  See;

http://www.google.com/search?q=site%3Arest.blueoxen.net+restifying&amp;start=0&amp;ie=utf-8&amp;oe=utf-8

FWIW, working on those is what motivated me to setup the RESTwiki,
because a bunch of people wanted to collaborate on them with me, as
well as contribute their own.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6930<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-13 21:15:03<br>
Subject:Re: [rest-discuss] HTML forms considered harmful?<br>
Message:<br><br>
<pre>"Mark Baker" &lt;distobj@...&gt; writes:

&gt; It's not ideal, sure, but one could argue that it was the place of the
&gt; *browsers* to support PUT and DELETE functionality from the menu bar,
&gt; not forms per se, i.e. "File -&gt; Save to Web" and "File -&gt; Delete from
&gt; Web".
&gt;
&gt; It would also be useful to support them from forms when that was
&gt; needed, but IMO, 99.9% of forms use POST properly from this POV
&gt; (ignoring the POST(a) vs. POST(p) distinction).  Wiki editing is the
&gt; obvious exception, but that's best done from the browser (WYSIWYG
&gt; editing), not via PUT in a form IMO.
&gt;
&gt; Ideally, we'd have both though.

Thing is, isn't what we have: ie support through Javascript, actually
the ideal situation?

REST acknowledges the role of client side code. Without it the browser
has to be generic enough to support all possible UI scenarios, or
constrain to one, which means those features just get ignored.

Better to make a user agent with rich, adaptable, behaviour.


It's the same problem with authentication... fixed behaviour gets
ignored. Scriptable behaviour wouldn't be.


The only thing wrong with this picture is the poor support for
Javascript in non-graphical browsers. I'm not sure why that is... but
it is changing, just very slowly.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6931<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2006-11-13 22:01:01<br>
Subject:Re: [rest-discuss] slamming all the REST APIs<br>
Message:<br><br>
<pre>On Nov 13, 2006, at 10:00 PM, Nic James Ferrier wrote:

&gt; It seems that hardly anyone has something that we can be satisfied
&gt; calling REST.

I believe the Blinksale API (http://www.blinksale.com/api) comes very  
close (check the archives for some criticism).

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6932<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-11-13 22:11:40<br>
Subject:Re: slamming all the REST APIs<br>
Message:<br><br>
<pre>Nic James Ferrier wrote:
&gt; It seems that hardly anyone has something that we can be satisfied
&gt; calling REST.

Funny: in my draft folders re delicious:

"the counterargment is that delicious is ridiculously useful"

I'm after root causes not symptoms, and the APIs aren't the problem. 
My criticism is very specifically to do with html forms - it drives 
mistake after mistake after mistake. In operational terms - remove html 
forms, and you'll see the rounded APIs down the line.

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6933<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2006-11-13 22:23:46<br>
Subject:Rails RESTful?<br>
Message:<br><br>
<pre>The current "edge" (SVN) version of the Ruby on Rails framework  
contains support for RESTful controllers (or so it claims).
I'd be very interested in opinions about how RESTful this is in the  
group's opinion.

Without going into detail, this means that if you set up a default  
route like this

map.resources :employees

the result is a set of routing rules like this

GET    /employees/                               
{:action=&gt;"index", :controller=&gt;"employees"}
GET    /employees.:format/                       
{:action=&gt;"index", :controller=&gt;"employees"}
POST   /employees/                               
{:action=&gt;"create", :controller=&gt;"employees"}
POST   /employees.:format/                       
{:action=&gt;"create", :controller=&gt;"employees"}
GET    /employees/new/                           
{:action=&gt;"new", :controller=&gt;"employees"}
GET    /employees/new.:format/                   
{:action=&gt;"new", :controller=&gt;"employees"}
GET    /employees/:id;edit/                      
{:action=&gt;"edit", :controller=&gt;"employees"}
GET    /employees/:id.:format;edit/              
{:action=&gt;"edit", :controller=&gt;"employees"}
GET    /employees/:id/                           
{:action=&gt;"show", :controller=&gt;"employees"}
GET    /employees/:id.:format/                   
{:action=&gt;"show", :controller=&gt;"employees"}
PUT    /employees/:id/                           
{:action=&gt;"update", :controller=&gt;"employees"}
PUT    /employees/:id.:format/                   
{:action=&gt;"update", :controller=&gt;"employees"}
DELETE /employees/:id/                           
{:action=&gt;"destroy", :controller=&gt;"employees"}
DELETE /employees/:id.:format/                   
{:action=&gt;"destroy", :controller=&gt;"employees"}

In other words, replacing :id, :format with values of your choice,  
this yields

(1) GET    /employees/	
returns a list of employees in the default "format" (i.e., in HTML)

(2) GET    /employees.:format/
(for example, GET /employees.xml) gets an XML representation (an HTTP  
Accept header can be used instead)

(3) POST   /employees/
POSTs form-encoded values, creates a new employee and returns its URL

(4) POST   /employees.:format/
similar to (3), with another format

(5) GET    /employees/new/
returns an HTML form for creating a new employee, with the action URL  
set to /employees and the method set to POST

(6) GET    /employees/new.:format/
by default, does nothing

(7) GET    /employees/:id;edit/
returns an HTML form for editing the employee at /employees/...,  
action URL set to the /employees/... URI, with a hidden field _method  
set to PUT (the server routes a submit to the same method as (11)

(8) GET    /employees/:id.:format;edit/
by default, does nothing

(9) GET    /employees/:id/
returns the HTML representation of the employee

(10) GET    /employees/:id.:format/
returns the :format representation of the employee

(11) PUT    /employees/:id/                           
{:action=&gt;"update", :controller=&gt;"employees"}
updates the employee using HTML form encoded data

(12) PUT    /employees/:id.:format/                   
{:action=&gt;"update", :controller=&gt;"employees"}
updates the employee using another format

(13) DELETE /employees/:id/                           
{:action=&gt;"destroy", :controller=&gt;"employees"}

(14) DELETE /employees/:id.:format/                   
{:action=&gt;"destroy", :controller=&gt;"employees"}
maps to the same action as (13)

IMHO, both the hidden _method field (to get around the missing PUT  
and DELETE support and browsers), as well as the .format URL suffix  
are pretty ugly, but I can perfectly understand why they are there  
and don't see any obvious improvement. I'm not sure at all about the  
"new" URL (5) and the ";edit" suffix (8).

Thanks,
Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6934<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-13 22:54:11<br>
Subject:Re: [rest-discuss] Rails RESTful?<br>
Message:<br><br>
<pre>Stefan Tilkov &lt;stefan.tilkov@...&gt; writes:

&gt; (5) GET    /employees/new/
&gt; returns an HTML form for creating a new employee, with the action URL  
&gt; set to /employees and the method set to POST

Seems like a good convention.

&gt; (11) PUT    /employees/:id/                           
&gt; {:action=&gt;"update", :controller=&gt;"employees"}
&gt; updates the employee using HTML form encoded data
&gt;
&gt; (12) PUT    /employees/:id.:format/                   
&gt; {:action=&gt;"update", :controller=&gt;"employees"}
&gt; updates the employee using another format

Very reasonable. I couldn't persuade the mod_python people that they
needed to support PUT for FORM data.


All in all it looks good. Better than it was anyway.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6935<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-13 23:13:41<br>
Subject:RE: slamming all the REST APIs<br>
Message:<br><br>
<pre>Bill de hOra wrote:
&gt;&gt; My criticism is very specifically to do with html forms 
&gt;&gt; it drives mistake after mistake after mistake. 
&gt;&gt; In operational terms - remove html forms, and you'll 
&gt;&gt; see the rounded APIs down the line. 

Mind if I ask for an example? (...honest question, still learning.)

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6936<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2006-11-13 23:40:53<br>
Subject:Are Atom/GData good examples of REST Impl Guides? (was Re: Singular vs. Plural?)<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, "Mike Schinkel"
&lt;mikeschinkel@...&gt; wrote:
&gt;
&gt; Nick:
&gt;  
&gt; &gt;&gt; Mike, are the ATOM and GDATA specs and implementation 
&gt; &gt;&gt; guides closer to what you are looking for?
&gt;  
&gt; Kind of, but not quite.  They seem to be good examples but both seem
to be a
&gt; bit specific (i.e. not general purpose.) And they don't really seem to
&gt; address hypermedia (or do they?)
&gt;  

Both claim to be quite general purpose: "The Google data APIs ('GData'
for short) provide a simple standard protocol for reading and writing
data on the web." See http://code.google.com/apis/gdata/index.html .
In fact, Google seems to be heading toward using the GData API for ALL
future Google web services: "There's a huge move within Google away
from SOAP and even REST-style ad hoc APIs and towards GData instead".
See http://www.furl.net/item.jsp?id=12879797 . If GData can be used
for ALL Google APIs, I'd say it's pretty general purpose. It's already
being used for services as diverse as GCalendar and GBase.

As for "addressing bypermedia", both address some aspects of
standardizing the URIs contained in XML representations returned from
HTTP operations--the essence of "hypermedia".

What I especially like about GData is it's focus on even more
uniformity of interfaces than "ad hoc REST" interfaces. Rather than
provide an "implementation guide" for designing ad hoc interfaces
based on the REST architectural style, it would be better to help
developers understand how to reuse an interface "framework" (and I use
that term reluctantly &lt;grin&gt;) like Atom or GData.

-- Nick



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6937<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-11-13 23:47:24<br>
Subject:Re: [rest-discuss] slamming all the REST APIs<br>
Message:<br><br>
<pre>On 11/13/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:

&gt; It would be nice if they all adhered to RESTfull principles a little
&gt; better but I would rather use a non-idempotent GET than SOAP any day
&gt; of the week.
&gt;

Not me... you picked the single most harmful antipattern, the one that
can cause caches to delete things, order things, etc. without your
active participation.

Hugh

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6938<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-14 00:40:44<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Nic Ferrier wrote:

&gt;&gt; If you've got a need to get 500 bytes from the middle of 
&gt;&gt; Pirates-of-the-Carribean.dvdimage and you don't care about 
&gt;&gt; caches (for 500 bytes do you care?) than range requests 
&gt;&gt; would be good.
&gt;&gt;
&gt;&gt; But if you want to get 20Mb at different times then you care 
&gt;&gt; about caching probably and you might want to implement a 
&gt;&gt; set of resources over the top of the main one to allow you to 
&gt;&gt; address each one separately. 

I had assumed the concern about caching was that something might be cached
that you don't want to be cached. But what you are saying implies the
opposite.  Am I reading you correctly?

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6939<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-14 00:49:29<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Chris Burdess wrote:

&gt;&gt;&gt; &gt;&gt; We-eelll, you're not gonna like this, but it isn't that simple. 
&gt;&gt;&gt; &gt;&gt; There's
&gt;&gt;&gt; such a thing as HTTP range requests:
&gt;&gt;&gt; &gt;&gt; 
&gt;&gt;&gt; &gt;&gt; [1] http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.16
&gt;&gt;&gt; &gt;&gt; [2] http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35
&gt;&gt;&gt; &gt;&gt; 
&gt;&gt;&gt; &gt;&gt; Depending on the nature of the resource, particularly if it's a 
&gt;&gt;&gt; &gt;&gt; binary
&gt;&gt;&gt; media type instead of text, it may be preferable to use HTTP range 
&gt;&gt;&gt; requests in which case /bighugefile.bin never &gt;&gt; needs to be 
&gt;&gt;&gt; transferred to a client in its entirety, but may be manipulated remotely
nonetheless.
&gt;&gt; But doesn't that then violate a prinicple of REST as you just defined it?
&gt;&gt; IOW, not making it wrong, just making it not REST?
&gt; Good question.

And then answer is...? ;-)

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6940<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-11-14 01:02:17<br>
Subject:Re: [rest-discuss] RE: slamming all the REST APIs<br>
Message:<br><br>
<pre>Mike Schinkel wrote:
&gt; 
&gt; 
&gt; Bill de hOra wrote:
&gt;  &gt;&gt; My criticism is very specifically to do with html forms
&gt;  &gt;&gt; it drives mistake after mistake after mistake.
&gt;  &gt;&gt; In operational terms - remove html forms, and you'll
&gt;  &gt;&gt; see the rounded APIs down the line.
&gt; 
&gt; Mind if I ask for an example? (...honest question, still learning.)

Of a mistake?

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6941<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-14 01:10:12<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Eric J. Bowman wrote: 
&gt;&gt; What Technorati should do, is have people submit their feed URLs, 
&gt;&gt; then do a HEAD request or a conditional GET to determine if any 
&gt;&gt; changes have been made.

Looking at my Technorati ping page, I see the following:

http://www.technorati.com/ping/http%3A%2F%2Fwww.mikeschinkel.com%2Fblog?url=
http%3A%2F%2Fwww.mikeschinkel.com%2Fblog&amp;ip=1

Is that not submitting my URL?  I'm confused still.

&gt;&gt; Another way, is to make a URI for each subscriber to PUT a new 
&gt;&gt; &lt;updated&gt; value to.  

An updated value of what?  The content in my RSS feed?  If yes, then that
puts the responsibility for correctness on the blog owner whereas Technorati
would wants to improve the chances of it being done correctly.  Does that
mean in REST the client is given responsibility for data quality?

&gt;&gt; The Technorati ping isn't really manipulating a resource using 
&gt;&gt; POST, it's submitting program logic to an endpoint.  The payload 
&gt;&gt; is not a representation of any resource (try to GET that URL).  

GET which URL?  The Technorati URL, or the one I pass to Techorati (I assume
the former?)  If the former, does that mean all resources must return a
represenation for GET?  Are there no "write-only" semantics in REST?

&gt;&gt; It's "Call method weblogUpdates.ping with the following parameters."  
&gt;&gt; A remote procedure call involves the transfer of a state transition 
&gt;&gt; request, not a representation of a resource.

Okay, at least that part's now understandable.  But since you mentioned it,
other than it not being RESTful, what's the downside of doing it this way?

&gt;&gt; Since Bob is no longer in Maryland, the server should also change Bob's 
&gt;&gt; location to "unspecified."  In another PUT request, Bob could be added 
&gt;&gt; to Virginia.  The result of the diff() would show this, and the server 
&gt;&gt; could change Bob's location from "unspecified" to "Virginia."

That sounds a lot like a database trigger.  So it is RESTful to update a
second resource when you PUT to a first one?

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/

 



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6942<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-11-14 01:12:05<br>
Subject:Re: [rest-discuss] Rails RESTful?<br>
Message:<br><br>
<pre>Stefan Tilkov wrote:
&gt; The current "edge" (SVN) version of the Ruby on Rails framework contains 
&gt; support for RESTful controllers (or so it claims).
&gt; I'd be very interested in opinions about how RESTful this is in the 
&gt; group's opinion.

It looks way better than it used to be. This would be cool:

   (5) GET    /employees/{key}

Fwiw, I don't like the way rails exposes pks in URLs, so {key} above 
would be any identifier that can survives a db wreck. If you don't use 
the db pk generator, it means you don't need to create an employee 
object speculatively while providing a unique URL  - for example, 
premature object creation is a problem with Plone's portal_factory that 
means you can't sanely use GET to serve the creation form. Above idiom 
can also help deal with double posting.

cheers
Bill



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6943<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-14 01:26:49<br>
Subject:RE: [rest-discuss] Is Feedburner's API RESTful?<br>
Message:<br><br>
<pre>Mark Baker wrote:
&gt;&gt; problems of doing so with GET (with caches and accelerators[1]).  
&gt;&gt; [1]
http://www.37signals.com/svn/archives2/google_web_accelerator_hey_not_so_fas
t.php

Thanks.  Looking at your example, it seems that the golden boys of 37
Signals are still violating the rule that GETs should be safe and idempotent
by "fixing" the problem by returning a 403 when HTTP_X_MOZ="prefetch"
instead of rewriting their API, correct?

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6944<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-14 01:19:00<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>&gt;&gt; Hmmm... what principle of REST did I define?  

Not sure if it was you or someone else, so sorry if someone else. I thought
I heard that to be RESTful you needed to PUT/POST an entire representation,
not just part of it. So using fragments would theoretically not give you the
entire resource and thus be non RESTful?

Also on the web isn't a fragment just a bookmark (a pointer) as opposed to a
portion of a resource where the URI sans fragment points to the entire
resource?  If so, wouldn't that make it invalid it use a fragment to get at
just a small part of a resource? And don't clients process fragments as
opposed to servers too?
 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6945<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-14 01:42:07<br>
Subject:RE: [rest-discuss] Is Feedburner's API RESTful?<br>
Message:<br><br>
<pre>Hugh Winkler wrote:

&gt;&gt; Wow -- that post has no clue they've done anything 
&gt;&gt; wrong, and what may be worse, is that all the 
&gt;&gt; commenters think GWA is "a bad net citizen":
&gt;&gt; 
&gt;&gt; I hope in the 18 months since that post we've raised 
&gt;&gt; consciousness a little. 

That was the point I was trying to make earlier when Roy said I was whining.
My belief is that most of the world outside REST-discuss doesn't have a clue
what REST really means, especially when you have a "web rock star" like
Jason Fried writing posts like[1].  A whole ton of people read his stuff as
if he were the messiah, and clearly from that article he doesn't understand
REST and that GETs should be safe and idempotent (or at least he didn't.)

Anyway, I'm working on an article targeted at the same demographic who read
his stuff that will hopefully be able good enough (after everyone here beats
on it who wants to) to educate people on REST who aren't going to spend
months hanging out on REST-discuss.  (After which I'll just have to get my
readership up. :)

[1]
http://www.37signals.com/svn/archives2/google_web_accelerator_hey_not_so_fas
t.php

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6946<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-14 01:47:36<br>
Subject:RE: [rest-discuss] Is Feedburner's API RESTful?<br>
Message:<br><br>
<pre>Bill de hOra wrote:
&gt;&gt; The thing to bear in mind is the Feedburner API design 
&gt;&gt; falls naturally out of HTML forms. I'm utterly convinced 
&gt;&gt; HTML forms is the most damaging Web technology 
&gt;&gt; standard ever conceived - it demands. Nothing else is 
&gt;&gt; remotely close. It's confused maybe half a dozen web 
&gt;&gt; technologies (cgi, browsers, SOAP/WS, xml-rpc, 
&gt;&gt; web-mvc, Web2.0 apis). It coerces developers to the 
&gt;&gt; do the wrong thing; either with apps or framework designs.

Had you, with a clean slate and knowning what you know today, been given the
privledge of designing the functionalty that HTML forms provides, how would
you have designed them/what would you have done differently?  In addition,
given legacy constraints, what would you do to fix them if you were to write
the spec?

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6947<br>
Sender:Berend de Boer &lt;berend@...&gt;<br>
Post Date/Time:2006-11-14 02:24:02<br>
Subject:Re: [rest-discuss] RESTful login API?<br>
Message:<br><br>
<pre>&gt;&gt;&gt;&gt;&gt; "Chris" == Chris Burdess &lt;dog@...&gt; writes:

    Chris&gt; 2. You can't log out. Design your app to deal with this.

Actually you can:

  http://www.pobox.com/~berend/rest/authentication.html


-- 
Regards,

Berend. (-:

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6948<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-14 02:50:21<br>
Subject:RE: [rest-discuss] RE: slamming all the REST APIs<br>
Message:<br><br>
<pre>Bill de hOra wrote:
&gt; &gt; &gt;&gt; My criticism is very specifically to do with html forms
&gt; &gt; &gt;&gt; it drives mistake after mistake after mistake.
&gt; &gt; &gt;&gt; In operational terms - remove html forms, and you'll
&gt; &gt; &gt;&gt; see the rounded APIs down the line.
&gt; &gt; 
&gt; &gt; Mind if I ask for an example? (...honest question, still learning.)
&gt; 
&gt; Of a mistake?
 
How about an example of a mistake. ;-)


-Mike Schinkel 
http://www.mikeschinkel.com/blogs/ 
http://www.welldesignedurls.org/ 




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6949<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-14 03:14:27<br>
Subject:RE: [rest-discuss] Rails RESTful?<br>
Message:<br><br>
<pre>Bill de hOra wrote:
&gt;&gt; Fwiw, I don't like the way rails exposes pks in URLs, so {key} 
&gt;&gt; above would be any identifier that can survives a db wreck. 
 
STRONGLY AGREE!!!  I like the way WordPress uses "slugs" instead (but I hate
the name "slug!")
 

-Mike Schinkel 
http://www.mikeschinkel.com/blogs/ 
http://www.welldesignedurls.org/ 

 
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6950<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-14 03:26:00<br>
Subject:RE: [rest-discuss] Are Atom/GData good examples of REST Impl Guides? (was Re: Singular vs. Plural?)<br>
Message:<br><br>
<pre>Nick Gall wrote:
&gt;&gt; Google seems to be heading toward using the GData API 
&gt;&gt; for ALL future Google web services: "There's a huge move 
&gt;&gt; within Google away from SOAP and even REST-style ad hoc 
&gt;&gt; APIs and towards GData instead".
&gt;&gt; See  &lt;http://www.furl.net/item.jsp?id=12879797&gt;
http://www.furl.net/item.jsp?id=12879797 . If GData 
&gt;&gt; can be used for ALL Google APIs, I'd say it's pretty general 
&gt;&gt; purpose. It's already being used for services as diverse as 
&gt;&gt; GCalendar and GBase.

I applaud that, but I'll be curious to see if they actually can use GData
for everything w/o have to extend and evolve it significantly for new use
cases.
 
&gt;&gt; Rather than provide an "implementation guide" for designing 
&gt;&gt; ad hoc interfaces based on the REST architectural style, it 
&gt;&gt; would be better to help developers understand how to reuse 
&gt;&gt; an interface "framework" 
 
You have been reading my mind! &lt;big grin&gt;  Either that, or great minds like
alike. ;-)
 

-Mike Schinkel 
http://www.mikeschinkel.com/blogs/ 
http://www.welldesignedurls.org/ 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6951<br>
Sender:"Lucas Gonze" &lt;lucas.gonze@...&gt;<br>
Post Date/Time:2006-11-14 03:43:57<br>
Subject:Re: [rest-discuss] RE: slamming all the REST APIs<br>
Message:<br><br>
<pre>On 11/13/06, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt; How about an example of a mistake. ;-)

You slagging on all the REST APIs, when you just fell off the turnip
truck last week.  Ba-doomp.


But seriously, folks, here is a bit of practical wisdom I picked up by
doing the Webjay APIs, all two of them.  Developers prefer GET by a
huge margin, and any mashup API which uses other methods will barely
get used.  That doesn't mean you have to go to non-idempotent GETs,
though.  What it means is that you have to try to model your API
around idempotent interactions.

For example, if you have an input object which affects the
interaction, have the client pass its URI in a query argument and let
the request handler fetch the URI.  The end result is always something
along the lines of transforming a representation in some  useful way.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6952<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-11-14 04:16:36<br>
Subject:Re: [rest-discuss] Is Feedburner's API RESTful?<br>
Message:<br><br>
<pre>Yup.  AIUI though, DHH has fixed this in the new version of Rails.  He
understands the problems of the old approach.

On 11/13/06, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt; Mark Baker wrote:
&gt; &gt;&gt; problems of doing so with GET (with caches and accelerators[1]).
&gt; &gt;&gt; [1]
&gt; http://www.37signals.com/svn/archives2/google_web_accelerator_hey_not_so_fas
&gt; t.php
&gt;
&gt; Thanks.  Looking at your example, it seems that the golden boys of 37
&gt; Signals are still violating the rule that GETs should be safe and idempotent
&gt; by "fixing" the problem by returning a 403 when HTTP_X_MOZ="prefetch"
&gt; instead of rewriting their API, correct?
&gt;
&gt; -Mike Schinkel
&gt; http://www.mikeschinkel.com/blogs/
&gt; http://www.welldesignedurls.org/
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6953<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-11-14 04:26:56<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>&gt;
&gt;&gt;&gt; What Technorati should do, is have people submit their feed URLs, 
&gt;&gt;&gt; then do a HEAD request or a conditional GET to determine if any 
&gt;&gt;&gt; changes have been made.
&gt; (...)
&gt;Is that not submitting my URL?  I'm confused still.
&gt;
&gt;&gt;&gt; Another way, is to make a URI for each subscriber to PUT a new 
&gt;&gt;&gt; &lt;updated&gt; value to.  
&gt;

Sorry, my wording is a bit confusing.  The ambiguous semantics of "submit" in 
this context don't help.  When I said "have people submit their feed URLs" 
I did not mean to imply that doesn't already happen.  The point I was making 
is that the feed URL is more or less constant, so what is the point of 
submitting it every time you post to or edit your weblog?

In the REST example I'm describing here (I'll call it Technoresti), when the 
user subscribes, they set up (using an HTML form) their account and "submit" 
their feed URL or URLs once, with the ability to make changes later.  They 
are assigned an URL like http://technoresti.com/users/{username} which 
identifies a resource containing an arbitrary XML snippet like so:

&lt;ul&gt;
   &lt;li&gt;
      &lt;a title='{feed title}'
         href='{feed URL}'
         type='application/atom+xml'
         charset='utf-8'&gt;
         &lt;updated&gt;2006-11-13T19:24:05-06:00&lt;/updated&gt;
      &lt;/a&gt;
   &lt;/li&gt;
&lt;/ul&gt;

Instead of making an XML-RPC POST to Technorati, WordPress (etc.) could just 
as easily make a REST PUT to Technoresti.

&gt;
&gt;An updated value of what?  The content in my RSS feed?
&gt;

Your feed should get a new timestamp whenever it's updated with new content.  
The value of that timestamp may be PUT to the user's URL to change the value 
in &lt;updated&gt; concurrently with your feed's timestamp being updated.  
Actually, as you'll see, REST allows the timestamp in the PUT to be an 
arbitrary static value, i.e. "1999-12-31T24:59:59Z", not that it's good 
practice to do so.

&gt;
&gt;If yes, then that
&gt;puts the responsibility for correctness on the blog owner whereas Technorati
&gt;would wants to improve the chances of it being done correctly.  Does that
&gt;mean in REST the client is given responsibility for data quality?
&gt;

REST is not concerned with application logic, only information architecture.  
There is no constraint in REST regarding data quality, so no of course you 
can't jump to any general conclusions about REST based on the implementation 
specifics of this example.

What improved chance of correctness is there from the RPC ping?  In both 
Technorati and Technoresti, the subscriber makes a claim which may deploy a 
spider.  Technoresti would have an easier time filtering out DoS attacks than 
Technorati by implementing access control on the assigned /{username} URL, 
whereas Technorati uses one URL for everybody to POST to.

Technoresti would have a far better chance of being "done correctly," since 
there's no timestamp in the XML-RPC ping other than the POST submission 
time.  Technoresti would allow batch updates of multiple weblogs with one 
PUT, on a once-per-day for all weblogs schedule, instead of once per post.  
The spidering would be smarter with reliable timestamps to use as a baseline 
which the application logic can refer to.

&gt;
&gt;&gt;&gt; The Technorati ping isn't really manipulating a resource using 
&gt;&gt;&gt; POST, it's submitting program logic to an endpoint.  The payload 
&gt;&gt;&gt; is not a representation of any resource (try to GET that URL).  
&gt;
&gt;GET which URL?  The Technorati URL, or the one I pass to Techorati (I assume
&gt;the former?)  If the former, does that mean all resources must return a
&gt;represenation for GET?  Are there no "write-only" semantics in REST?
&gt;

Again, you can no more infer what REST is by looking at an example than you 
can create an example which implements REST.  The source for what 
constraints are in REST is Dr. Fielding's dissertation, and a quick glance at 
RFC 2616 will suggest the answer with "405 Method Not Allowed".

The difference here is, with an RPC endpoint no dereferenceable 
representation may be retrieved with a GET because none exists.  With the 
REST resource I describe, GET could easily be constrained to only those users 
who are allowed to PUT.

As to a write-only constraint, yes one could implement such in a REST-derived 
system.  But it does bring up a good question:  If GET is disallowed, must 
PUT also be disallowed?  Restricting a resource to the HEAD, POST and DELETE 
methods doesn't raise any red flags with me, though, and that's write-only.

There is a difference between a web resource, and a REST resource.  The 
Technorati URL I refer to appears to have the GET method firewalled.  A REST 
resource must have a URI, but a URI does not necessarily identify a REST 
resource.  With an RPC endpoint, the POSTed data is never a representation of 
any resource with a URI.  But, since an RPC endpoint has an URL, it is a web 
resource.

&gt;
&gt;&gt;&gt; It's "Call method weblogUpdates.ping with the following parameters."  
&gt;&gt;&gt; A remote procedure call involves the transfer of a state transition 
&gt;&gt;&gt; request, not a representation of a resource.
&gt;
&gt;Okay, at least that part's now understandable.  But since you mentioned it,
&gt;other than it not being RESTful, what's the downside of doing it this way?
&gt;

What not being RESTful means to me, is wasting a lot of bandwidth and CPU 
unnecessarily.  Converting Technorati to Technoresti, if I may hazard a 
guess, could decrease bandwidth requirements by as much as 90% -- similar to 
the gains achievable by distributing large multimedia files via BitTorrent 
(I do wonder if the BT protocol is RESTful, but I haven't torn into it).

&gt;
&gt;That sounds a lot like a database trigger.  So it is RESTful to update a
&gt;second resource when you PUT to a first one?
&gt;

Of course.  It's RESTful to do whatever it takes to make the entire 
application represent the newly-transferred state.  This is handled by the 
application logic -- REST does not care how, so long as it's done.  In other 
words, if a user changes their handle on a web forum where they have tens of 
thousands of posts, that one change potentially updates tens of thousands of 
resources.  Forum apps all work that way now, but that doesn't make a single 
one of 'em RESTful.

The timestamp PUT to the &lt;updated&gt; tag in this example could be anything at 
all, it's really just a hint.  The action of making a PUT which changes the 
&lt;updated&gt; value from what it was before, can trigger the server application 
to make a HEAD or conditional GET request to the resource feed.  For all I 
know this is how Technorati does it already.

The Last-Modified HTTP header for the resource (the feed) has either changed 
since it was last spidered, or it hasn't.  If it hasn't then the PUT request 
is refused with a response code of 406 Not Acceptable.  If it has changed, 
Technoresti can schedule a spidering, and change the &lt;updated&gt; value it has 
on file for that resource.

Which brings us to the issue of authoritative metadata.  Technoresti would 
always use the Last-Modified HTTP header's value as the new &lt;updated&gt; value, 
not that which was PUT by the client.  So unless the value is an exact match 
with what's already there, it triggers the application logic, which in turn 
ignores the value.

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6954<br>
Sender:Ryan Tomayko &lt;rtomayko@...&gt;<br>
Post Date/Time:2006-11-14 04:57:11<br>
Subject:Re: [rest-discuss] Rails RESTful?<br>
Message:<br><br>
<pre>Stefan Tilkov wrote:
&gt; The current "edge" (SVN) version of the Ruby on Rails framework  
&gt; contains support for RESTful controllers (or so it claims).
&gt; I'd be very interested in opinions about how RESTful this is in the  
&gt; group's opinion.

I'm running quite a bit on edge rails but haven't had a chance to take a deep
look into the enhancements. I'm encouraged by what I have seen. The routing
DSL is now oriented toward creating multi-verb resources, there seems to be good
support for content negotiation, and I believe they're experimenting with
best-practices for making forms more RESTful using XmlHttpRequest with
fall-backs for legacy browsers.

I was able to hack Rails' front-end stuff to be RESTful enough for my needs a
long time ago and just haven't had a chance to migrate to the new stuff on
edge. The 1.2 release is nearing and I expect we'll see the first real 
wave of documentation on REST related enhancements included; it seems to be
one of the major additions for this release.

I've also been planning on putting an article together on how well Rails,
Django, and TurboGears support concepts that ought to be provided by a modern
high-level HTTP framework. For an idea of what I'd like to look at
specifically, see the section "To Hell With Bad Web Frameworks" in:

http://naeblis.cx/articles/2005/04/22/on-http-abuse

I'd like to elaborate on each of the bullets and try to evaluate how well
each of the aforementioned frameworks stack up.

I've had good conversations specifically related to REST and HTTP with both 
David Hansson (Rails) and Adrian Holovaty (Django). In general, I feel pretty 
good about the direction and leadership behind each of these environments, even 
if the current state of these implementations aren't quite up to snuff.

--
Ryan Tomayko
http://naeblis.cx/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6955<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-11-14 05:10:32<br>
Subject:idempotent != safe<br>
Message:<br><br>
<pre>Just wanted to point that out, because a bunch of recent messages
seemed to be confusing the two.

Safety is what's important in the discussions about using GET to make
state changes.  All safe operations are also idempotent, but not all
idempotent operations are safe (PUT, DELETE).

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6956<br>
Sender:Ryan Tomayko &lt;rtomayko@...&gt;<br>
Post Date/Time:2006-11-14 05:16:48<br>
Subject:Re: [rest-discuss] Rails RESTful?<br>
Message:<br><br>
<pre>Mike Schinkel wrote:
&gt; Bill de hOra wrote:
&gt; &gt;&gt; Fwiw, I don't like the way rails exposes pks in URLs, so {key} 
&gt; &gt;&gt; above would be any identifier that can survives a db wreck. 
&gt;  
&gt; STRONGLY AGREE!!!  I like the way WordPress uses "slugs" instead (but I hate
&gt; the name "slug!")
 
You can use slugs just as easily as you can use surrogate integer keys in
Rails. The integer PK is used by default when new models and controllers are
generated because the integer PK is the only unique identifier we can make
assumptions about. But if your model has a slug attribute, using it instead
of the PK for generated URLs and routing is usually as easy as overriding
ActiveRecord::Base##to_param:

    class Foo &lt; ActiveRecord::Base
      def to_param
        slug
      end
    end

You may also have to tweak your controller:

    class FoosController &lt; ActionController::Base
      def show
        # the following resembles what is generated by default:
        @foo = Foo.find(params[:id])
        # change it to this:
        @foo = Foo.find_by_slug(params[:id])
      end
    end

Most everything else should be taken care of. Using the `url_for` and
`link_to` helper methods should automatically use the slug instead of the
integer PK and routing should Just Work as well.

It's swell.

I've had more trouble trying to create sane slugs for my models than I have
getting Rails to use them. In fact, I tend to just use the integer PK in all
but the most highly trafficked areas of an applications because slugification
can be a bit of a PITA. It can help URIs stay cool, though, so I try to use
them when that's important.

--
Ryan Tomayko
http://naeblis.cx/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6957<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-11-14 05:12:32<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>&gt;
&gt;&gt;&gt; Hmmm... what principle of REST did I define?
&gt;
&gt;Not sure if it was you or someone else, so sorry if someone else. I thought
&gt;I heard that to be RESTful you needed to PUT/POST an entire representation,
&gt;not just part of it. So using fragments would theoretically not give you the
&gt;entire resource and thus be non RESTful?
&gt;

A representation of a fragment of a resource is a resource in its own right.

&gt;
&gt;Also on the web isn't a fragment just a bookmark (a pointer) as opposed to a
&gt;portion of a resource where the URI sans fragment points to the entire
&gt;resource? If so, wouldn't that make it invalid it use a fragment to get at
&gt;just a small part of a resource? And don't clients process fragments as
&gt;opposed to servers too?
&gt;

Semantics rears its ugly head again.  A fragment of a resource is just that, 
a fragment of a resource.  Don't confuse that with a *URI fragment*, which is 
a client-side implementation and opaque to the server, i.e. not part of the 
HTTP request.  User-agents may render a resource differently based on the 
value of the URI fragment, in HTML they are bookmarks but they are used 
differently in other media types so you really can't generalize a URI 
fragment as synonymous with a resource fragment.

If I implement XPATH on the server to break out a nodeset from a larger 
document and assign it an URL as I have described in this example, the 
resulting resource is a fragment of the original resource, this has 
absolutely nothing to do with any fragment identifiers within the document 
because the XPATH I gave in this example was clearly based on &lt;element&gt; names 
not id='attributes', and nothing to do with URI fragments since clearly there 
were none presented in the examples I gave.

So yes, you're right, there is such a thing as URI fragment identifiers and 
they are indeed client-side.  But we aren't talking about them at all in 
this example.

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6958<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-14 06:43:42<br>
Subject:RE: [rest-discuss] Is Feedburner's API RESTful?<br>
Message:<br><br>
<pre>&gt; Mark Baker wrote:
&gt;&gt;  DHH has fixed this in the new version of Rails.  He understands the
problems of the old approach.

Cool!
 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6959<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-14 06:35:36<br>
Subject:RE: [rest-discuss] Rails RESTful?<br>
Message:<br><br>
<pre>Ryan Tomayko said:
 
&gt;&gt; You can use slugs just as easily as you can use surrogate 
&gt;&gt; integer keys in Rails. You can use slugs just as easily as 
&gt;&gt; you can use surrogate integer keys in Rails. The integer PK 
&gt;&gt; is used by default when new models and controllers are
&gt;&gt; generated because the integer PK is the only unique identifier 
&gt;&gt; we can make assumptions about. But if your model has a 
&gt;&gt; slug attribute, using it instead of the PK for generated URLs 
&gt;&gt; and routing is usually as easy as overriding 
&gt;&gt; ActiveRecord::Base##to_param:

 
Actually, it is no where near as easy.  The default generates code that you
have to manually modify and maintain which is a lot of work for a large
system. If I could configure how it generated the code (which, btw, I see
code generation as a real downside to the RoR architecture[1]) then I'd
agree it would be (almost) as easy; you still have to custom configure the
routing.
 
Additionally, I tried for several days to get a system working with URLs
modeled like I wanted using Rails, and I finally put it aside rather
frustrated with a plan to one day get back to it.  
 
BTW, RoR *could* make assumptions about a "slug" fields if chosen to do so.
 
-Mike Schinkel 
http://www.mikeschinkel.com/blogs/ 
http://www.welldesignedurls.org/ 
P.S. If it really is that easy, maybe you'll want to help me with it
off-list? If so, then maybe I'll come back here and beg for mea cupla. ;-)
 
[1] I can explain this off list if you care.
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6960<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-14 06:54:50<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Eric J. Bowman write:

&gt;&gt; So yes, you're right, there is such a thing as URI fragment 
&gt;&gt; identifiers and they are indeed client-side.  But we aren't 
&gt;&gt; talking about them at all in this example. 

Uh, beg to differ (and I do appreciate your help and I'm sorry for being
pedantic, but...); these were the URLs we had as an example:

 http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.16
 http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35

Those follow the semantics of http fragments (i.e. id='attributes', not
XPATH to element) AFAIU.  But my reason for being pedantic is to get to the
bottom of understanding what can be done with HTTP given it's current
impementations?  According to WebArch[1], HTTP can't use fragment
identifiers for other than bookmarks.  Right?

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/

[1] http://www.w3.org/TR/webarch/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6961<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-11-14 08:00:57<br>
Subject:Re: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>On 13/11/06, Bill de hOra &lt;bill@...&gt; wrote:

&gt;  All that needs to be said is that REST is a design style by which
&gt;  implementations can be evaluated and system behaviours can be predicted.

Nice and straightforward, but it does bring forward a clear question Bill.
What tests would you apply to a system to assess it?

Anyone?

regards


-- 
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6962<br>
Sender:Chris Burdess &lt;dog@...&gt;<br>
Post Date/Time:2006-11-14 09:01:43<br>
Subject:Re: [rest-discuss] RESTful login API?<br>
Message:<br><br>
<pre>Berend de Boer wrote:
&gt;     Chris&gt; 2. You can't log out. Design your app to deal with this.
&gt; 
&gt; Actually you can:
&gt; 
&gt;   http://www.pobox.com/~berend/rest/authentication.html

As you point out in this (albeit useful) resource, this technique is
client dependent. Also:

  "Popping up a dialog box is OK. It helps the user to understand that he
  is really logged off and can walk away from the public terminal now"

In fact for a professional site I would argue that popping up a dialog
box is NOT ok, the punter is probably going to do one of the following:

1. WTF?
2. try and log in again
3. walk away

None of these are acceptable scenarios.
-- 
Chris Burdess

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6963<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-14 09:47:22<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>"Mike Schinkel" &lt;mikeschinkel@...&gt; writes:

&gt; I had assumed the concern about caching was that something might be cached
&gt; that you don't want to be cached. But what you are saying implies the
&gt; opposite.  Am I reading you correctly?

Content-range requests can't be cached.

I guess in theory they could... by a really clever proxy. But I'm not
aware of any implementations.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6964<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-11-14 11:00:39<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>&gt;
&gt;&gt;&gt; So yes, you're right, there is such a thing as URI fragment
&gt;&gt;&gt; identifiers and they are indeed client-side. But we aren't
&gt;&gt;&gt; talking about them at all in this example.
&gt;
&gt;Uh, beg to differ (and I do appreciate your help and I'm sorry for being
&gt;pedantic, but...); these were the URLs we had as an example:
&gt;
&gt;http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.16
&gt;http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35
&gt;
&gt;Those follow the semantics of http fragments (i.e. id='attributes', not
&gt;XPATH to element) AFAIU. But my reason for being pedantic is to get to the
&gt;bottom of understanding what can be done with HTTP given it's current
&gt;impementations? According to WebArch[1], HTTP can't use fragment
&gt;identifiers for other than bookmarks. Right?
&gt;

Oh good grief.  Those two URLs were not presented within the context of my 
_example_, they were presented as _reference_ URLs in a sidebar discussion 
which was not even referring to my example.  If you're getting confused 
between hypothetical URLs using example.org and _references_ to specific 
sections of well-known standards on w3.org, then perhaps you're in over your 
head as far as writing any articles is concerned?  The _example_ URLs are 
easily recognized by their example.org domain, the pathnames /people/ and 
/places/, and the resource identifiers /bob, /virginia, /maryland, 
/bighugefile.xml and /bighugefile.xml/root/chapter/verse/h1/text().

At no point in my _example_ are URI fragment identifiers used, and at no 
point in the discussion did my _example_ include the use of HTTP range 
requests.  I'm not sure how you're confusing the fragment identifier 
associated with a hypertext anchor in a linked representation of RFC 2616 
covering HTTP range requests, with section 3.5 of RFC 3986 which defines URI 
fragment identifiers, or section 12.2.3 of HTML 4.01 covering hypertext 
anchors -- or applying any of the three to the _example_ I've given.  They 
are not the same thing, HTTP couldn't restrict the use of fragment 
identifiers only to bookmarks because URI fragments have nothing to do with 
HTTP, even if it does say that in the nonnormative WebArch document.

I would say *HTML* can't use URI fragment identifiers for other than 
bookmarks.  The only thing *HTTP* says about the fragment identifier is... 
nothing.  It's a client-side implementation not a network issue, URI 
fragments simply are not transferred as part of HTTP requests.  URI fragments 
are an issue of media type design, so they're taken into consideration under 
the REST style, but not as a direct issue of architecture.  REST describes 
the concept of representations and media types, and explains that these 
considerations impact user-perceived performance.  So media types are 
architectural in REST, except for how URI fragment identifiers are handled 
which is pure user-agent logic which REST could care less about.

So the URI fragment rarely if ever comes into play in the context of 
architectural design.  If I use hypertext anchors to enumerate posts on a 
weblog in such a way that they may have URI fragment identifiers, I am not 
making those bookmarks separate resources.  How they factor in to permalink 
design and site usability is a good discussion for welldesignedurls.org, 
Mike, but like singular vs. plural this whole discussion is beyond the scope 
of REST as an architectural style.  At this point, I can only wish I had 
linked like so:

http://www.ietf.org/rfc/rfc2616.txt (see sections 14.16 and 14.35)

;-)

URI fragments are client-side application logic on the user agent, just as 
query strings are server-side application logic on the origin server and 
(sometimes) intermediary caches.  Provided URI opacity is understood, REST 
doesn't care about application logic, only the interactions between 
components.  The guideline is to choose the most efficient media type for 
transferring application state on any given request/response, or to use 
content negotiation to choose the most efficient media type available for the 
requesting client -- the quality of those representations varies, not the 
content contained within since they're all representations of the same 
resource.

In 'application/svg+xml', the fragment identifies the X, Y and Z coordinates 
of a particular item within a resource.  For example, latitude longitude and 
zoom for a map.  The entire map, or fragment of a map as a standalone 
resource with its own URI (/maps/united_states/colorado.svg could be a 
fragment derived from /maps/united_states.svg, either way the fragment would 
refer to the same geographical point), gets transferred to the client.  The 
client worries about centering the map on the target, which is bookmarking, 
and the zoom factor -- which isn't a bookmark so much as a parameter.

When a fragment identifier is used in a URI, it is unambiguously and 
explicitly understood that it is referring to the same resource identified if 
the fragment is removed.  URI opacity ends at the octothorpe.  No inference 
may be drawn that two URIs identify the same resource, unless they are 
character-for-character equivalent, but the first step in determining 
equivalence is removing any fragment identifiers.

So a URI fragment is not anything remotely like a range request, or a request 
for a partial resource.  Since the URI fragment is not transferred with the 
request, it is not actually possible to use it as the basis to retrieve a 
document fragment in a server application, REST or not.  You don't get a 
document which contains _just_ section #14.16 or _just_ section #14.35 from 
w3c.org when you dereference those reference links.

&gt;
&gt;Those follow the semantics of http fragments (i.e. id='attributes', not
&gt;XPATH to element)
&gt;

Those transfer the entire document, not a fragment of the document.  The 
problem under discussion here remains the case of "how do we avoid 
transferring the entire document to scale the application more efficiently?"  
My example suggests implementing XPATH as a design pattern for a URI 
allocation scheme, for the purpose of exposing a document fragment at its own 
unique URL as a possible solution to the problem at hand.

This is hardly an inherent property in URI or a common design pattern, and 
the w3c isn't attempting to only serve a partial document, so we wouldn't 
expect w3c.org's URI allocation scheme to follow the semantics of XPATH when 
id attributes (HTML's hypertext anchors) and URI fragment identifiers provide 
an ideal solution to the bookmarking problem they *are* trying to solve 
(which is why I like to post links to w3c instead of ietf for hyperlinked 
versions of key specs).

Now that you've taken a simple, concise example thoroughly off-topic and 
required me to use ever-longer replies to straighten out your conflation 
between range requests, document fragments and URI fragment identifiers it 
seems to me that my explanations are beginning to exceed the length of the 
RFCs you don't appear to be reading.  I have to stop replying now out of 
sheer exhaustion, I did try, but if anyone has questions regarding the 
specific example I gave and not any of this other off-topic discussion of 
singular vs. plural or fragments vs. fragments etc. I'm always happy to 
clarify (or bore you to tears trying).

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6965<br>
Sender:"omarshariffdontlikeit" &lt;omarshariffdontlikeit@...&gt;<br>
Post Date/Time:2006-11-14 12:50:11<br>
Subject:REST and ATOM<br>
Message:<br><br>
<pre>Hello everyone

I've reached the point in my own development where my attention is
focused on the actual content of my Resources, specifically what the
content-type of the documents being passed around should be.

I initially started by creating my own content type/mime-type, but
after being reminded that I should reuse an existing content type
where possible, I have been looking into ATOM.

One of the features of ATOM is the ability to use name spaces, so that
if my service has any particular details that are specific to this
service, I don't need to create a whole new content type. Which is great.

Okay, to the point. Has anyone else had any experience in using ATOM,
specifically the ATOM API in their own REST based sites? It appears on
the surface to be very REST friendly and I was wondering if any other
had any success with it? Is it as generically useful as it appears to
be (in the context of content types and REST)?





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6966<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2006-11-14 14:47:12<br>
Subject:Re: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>Dave,

The question strikes me as very abstract.  What might you
be assessing for?

Say you are interested in scaleability.  You should be able to
evaluate that by inspecting the interactions of the system, looking
for instances where the server must store conversational
state in order to satisfy certain subsequent requests.  Finding
none of that is an indicator, but not a guarantee, of scaleability,
because the application may have poorly scaleable aspects
not visible in the client interactions.

Bill didn't say "test"; he said "evaluate".  I think the above is an
example of the latter.

Between the lines, I thought I read in your question whether
or not there could be such a thing as a REST Test Suite, and I
think the answer is 'no'.

Walden

----- Original Message ----- 
From: "Dave Pawson" &lt;dave.pawson@...&gt;
To: "Bill de hOra" &lt;bill@...&gt;
Cc: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Tuesday, November 14, 2006 3:00 AM
Subject: Re: [rest-discuss] Singular vs. Plural?


: On 13/11/06, Bill de hOra &lt;bill@...&gt; wrote:
:
: &gt;  All that needs to be said is that REST is a design style by which
: &gt;  implementations can be evaluated and system behaviours can be 
predicted.
:
: Nice and straightforward, but it does bring forward a clear question Bill.
: What tests would you apply to a system to assess it?
:
: Anyone?
:
: regards
:
:
: -- 
: Dave Pawson
: XSLT XSL-FO FAQ.
: http://www.dpawson.co.uk
:
:
: __________ NOD32 1864 (20061113) Information __________
:
: This message was checked by NOD32 antivirus system.
: http://www.eset.com
:
: 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6967<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-11-14 15:22:50<br>
Subject:Re: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>On 14/11/06, Walden Mathews &lt;waldenm@...&gt; wrote:
&gt; Dave,
&gt;
&gt; The question strikes me as very abstract.  What might you
&gt; be assessing for?
&gt;
&gt; Say you are interested in scaleability.  You should be able to
&gt; evaluate that by inspecting the interactions of the system, looking
&gt; for instances where the server must store conversational
&gt; state in order to satisfy certain subsequent requests.  Finding
&gt; none of that is an indicator, but not a guarantee, of scaleability,
&gt; because the application may have poorly scaleable aspects
&gt; not visible in the client interactions.

Which seemingly resolves to a subjective assessment?
Fine, identify it as such, perhaps give it a low weighting.
I've seen systems pointed to with clearer 'this is bad' marks assigned.


&gt;
&gt; Bill didn't say "test"; he said "evaluate".  I think the above is an
&gt; example of the latter.

Wow. subtle!
I won't go there, my English isn't good enough.
Perhaps different shades of gray?

&gt;
&gt; Between the lines, I thought I read in your question whether
&gt; or not there could be such a thing as a REST Test Suite, and I
&gt; think the answer is 'no'.

Then how about a graded set of tests which anyone might
apply to gain some form of measure of the alignment
of the system with the REST ideas?


Is there such a ruler I could use to examine a system?


No is a perfectly valid answer to this question.


regards

-- 
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6968<br>
Sender:Todd W Lainhart &lt;lainhart@...&gt;<br>
Post Date/Time:2006-11-14 13:43:13<br>
Subject:Re: [rest-discuss] REST and ATOM<br>
Message:<br><br>
<pre>Doesn't Google use the Atom Publishing Protocol (APP) for it's content?

I've been thinking along similar lines.  While I've used/written Atom for 
GETs, I've not yet used it for PUTs.  It seems like as good a fit as 
others, however, Atom requires the publishing of some elements that make 
not make sense to your application domain, thus it's better suited for 
some domains than others.  There doesn't seem to be many generic clients 
yet, and the Atom/RSS clients that I use probably wouldn't make good use 
of the custom elements that you probably insert in the response.

There's APP mailing list (majordomo) somewhere other there that I can't 
get my hands on.




Todd Lainhart
Rational software
IBM Corporation
781.676.2643
lainhart@...




"omarshariffdontlikeit" &lt;omarshariffdontlikeit@...&gt; 
Sent by: rest-discuss@yahoogroups.com
11/14/2006 07:50 AM

To
rest-discuss@yahoogroups.com
cc

Subject
[rest-discuss] REST and ATOM






Hello everyone

I've reached the point in my own development where my attention is
focused on the actual content of my Resources, specifically what the
content-type of the documents being passed around should be.

I initially started by creating my own content type/mime-type, but
after being reminded that I should reuse an existing content type
where possible, I have been looking into ATOM.

One of the features of ATOM is the ability to use name spaces, so that
if my service has any particular details that are specific to this
service, I don't need to create a whole new content type. Which is great.

Okay, to the point. Has anyone else had any experience in using ATOM,
specifically the ATOM API in their own REST based sites? It appears on
the surface to be very REST friendly and I was wondering if any other
had any success with it? Is it as generically useful as it appears to
be (in the context of content types and REST)?






 
Yahoo! Groups Links





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6969<br>
Sender:Ryan Tomayko &lt;rtomayko@...&gt;<br>
Post Date/Time:2006-11-14 16:16:29<br>
Subject:Re: [rest-discuss] Rails RESTful?<br>
Message:<br><br>
<pre>Mike Schinkel wrote:
&gt; Actually, it is no where near as easy.  The default generates code that you
&gt; have to manually modify and maintain which is a lot of work for a large
&gt; system.

I'm not sure what you're referring to here. The alternative to generating
that code is hand-coding the exact same code, which is a fine option too. The
code is generated once when you create the controller or model and then you
own it. How does this code generation cause any harm? I did my time back in
the day writing Windows apps with MFC and ATL so I know what bad code
generation looks like :)

&gt; P.S. If it really is that easy, maybe you'll want to help me with it
&gt; off-list? If so, then maybe I'll come back here and beg for mea cupla. ;-)

Feel free.

--
Ryan Tomayko
http://naeblis.cx/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6970<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2006-11-14 16:19:44<br>
Subject:Re: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>: &gt; Say you are interested in scaleability.  You should be able to
: &gt; evaluate that by inspecting the interactions of the system, looking
: &gt; for instances where the server must store conversational
: &gt; state in order to satisfy certain subsequent requests.  Finding
: &gt; none of that is an indicator, but not a guarantee, of scaleability,
: &gt; because the application may have poorly scaleable aspects
: &gt; not visible in the client interactions.
: 
: Which seemingly resolves to a subjective assessment?
: Fine, identify it as such, perhaps give it a low weighting.
: I've seen systems pointed to with clearer 'this is bad' marks assigned.

It's not so much a matter of subjective as it is of availability of
data and what can be inferred from it.  This is definitely not as
simple as writing JUnit "positive" and "negative" functional tests.
The properties induced by an architecture tend to be less
observable, and exist relative to local constraints.  For example,
scaleability only means something relative to the resources
actually available.

As far as "clear 'this is bad' marks, there is more clarity (negative)
in finding counterexamples than there is clarity (positive) in not
finding any.  This is like Alloy analysis where the best we can do
is fail to find an inconsistency in a reasonably large scope: that's still 
not a proof, although it's reason to have confidence.
: 
: 
: &gt;
: &gt; Bill didn't say "test"; he said "evaluate".  I think the above is an
: &gt; example of the latter.
: 
: Wow. subtle!
: I won't go there, my English isn't good enough.
: Perhaps different shades of gray?

Well, think about how you (never mind REST) would go about
testing the scaleability of your application.  Now contrast that with
how you would evaluate the same thing based on an inspection
of application artifacts.  Is that subtle?

: Then how about a graded set of tests which anyone might
: apply to gain some form of measure of the alignment
: of the system with the REST ideas?

Similar to CMM assessments, I think it would be possible to
put together a set of evaluation areas, based on the REST
constraints, and to write up guidelines on how to inspect systems
to determine their "REST maturity".  But I wouldn't call that testing
anymore than the SEI calls the CMM assessments tests (they
don't).

"Ruler" is too simplistic a metaphor for this.

Walden



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6971<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-11-14 16:59:09<br>
Subject:Re: [rest-discuss] idempotent != safe<br>
Message:<br><br>
<pre>Mark Baker wrote:
&gt; 
&gt; 
&gt; Just wanted to point that out, because a bunch of recent messages
&gt; seemed to be confusing the two.
&gt; 
&gt; Safety is what's important in the discussions about using GET to make
&gt; state changes. All safe operations are also idempotent, but not all
&gt; idempotent operations are safe (PUT, DELETE).

I thought PUT was idempotent for one UA only. Two UAs introduce a race 
condition on PUT order, unless clients agree to synchronize, or servers 
force them to (as is the case with subversion/dav).

cheers
Bill


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6972<br>
Sender:"Ben Davies" &lt;omarshariffdontlikeit@...&gt;<br>
Post Date/Time:2006-11-14 16:43:30<br>
Subject:Re: [rest-discuss] REST and ATOM<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6973<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-11-14 17:36:36<br>
Subject:Re: [rest-discuss] Is Feedburner's API RESTful?<br>
Message:<br><br>
<pre>Mike Schinkel wrote:

&gt; Had you, with a clean slate and knowning what you know today, been given the
&gt; privledge of designing the functionalty that HTML forms provides, how would
&gt; you have designed them/what would you have done differently? In addition,
&gt; given legacy constraints, what would you do to fix them if you were to write
&gt; the spec?

Allowing PUT and DELETE as method options would have been enough.

Legacy: non-problem on tss, since forms are generated by servers anyway; 
they can send down PUT if they know who to deal with it. I guess the 
browsers could be service-packed, to support the calls.

cheers
Bill


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6974<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-11-14 17:33:16<br>
Subject:Sprayed Web Monkeys [was slamming all the REST APIs]<br>
Message:<br><br>
<pre>Mike Schinkel wrote:
&gt; 
&gt; 
&gt; Bill de hOra wrote:
&gt;  &gt; &gt; &gt;&gt; My criticism is very specifically to do with html forms
&gt;  &gt; &gt; &gt;&gt; it drives mistake after mistake after mistake.
&gt;  &gt; &gt; &gt;&gt; In operational terms - remove html forms, and you'll
&gt;  &gt; &gt; &gt;&gt; see the rounded APIs down the line.
&gt;  &gt; &gt;
&gt;  &gt; &gt; Mind if I ask for an example? (...honest question, still learning.)
&gt;  &gt;
&gt;  &gt; Of a mistake?
&gt; 
&gt; How about an example of a mistake. ;-)

Here's an entire spec:

  http://java.sun.com/javaee/javaserverfaces/

the culmination of 5 years worth of controller based designs in Java? 
Use POST for everything. More on contollers in a minute.

Here's another:

  http://www.w3.org/TR/2000/NOTE-SOAP-20000508/

and everything that came after which we now know as WS-*.

Back to feedburner:

   POST http://api.feedburner.com/management/1.0/ModifyFeed

which is representative of a number of Web API approaches. The thing is 
that this translates in OO-speak to:

  manager.modifyFeed(id, args)

the problem is, people competent in OO don't write code like that. 
They'd only write code like that if they weren't allow ctors or 
factories to begin with, so everything would have to go through a 
manager. Managers are a sign of a design problem; it's almost standard 
material for tech interviewing.

In the place where the Web and OO meet this design problem is called a 
Controller. Except in that world, Controllers are a hailed as a top 
drawer idea - think MVC or Model2 patterns.

Here's an entire enterprise platform's architectural premise for the web:

http://java.sun.com/blueprints/guidelines/designing_enterprise_applications_2e/web-tier/web-tier5.html

The common strand is GET for clicks, and POST for everything else. Forms 
really /are/ everything else for most server side web developers. .NET 
is much different. I've met at least 3/4 ASP devs who thought *not* 
putting everything through a single URL was a bad idea.

Here's why I can't figure out what's on telly without buying a copy of 
the Sunday Times:

http://www.rte.ie/arts/tvradio.html



You're talking about web stars like jfried not getting it. I'm talking 
about repeated generations keying off html forms as the primary usecase 
to have to deal with. That gets baked into frameworks in the form of 
action controllers. The biases of web frameworks heavily influence how 
server side apps get written, how they are designed and what gets put 
into books and articles...

...a million sprayed web monkeys later...

...in turn that bleeds into specs like SOAP and XML-RPC. And most 
recently web apis.

And then there's all the clients that don't support other than GET/POST. 
Like maybe 100-500M mobile phones. We went through that with APP, two 
years ago it must be - how to deal with J2ME. Because J2ME implemented 
html forms support instead of HTTP support.


Ok. Sometimes you need controllers as a place to start the app state 
machine. For example the Rails "/thing/new" idiom is a reasonable place 
to create new things. APP kind of has them in the form of service 
documents, but thereafter you deal with the resources themselves.

cheers
Bill


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6975<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-11-14 17:38:33<br>
Subject:Re: [rest-discuss] Is Feedburner's API RESTful?<br>
Message:<br><br>
<pre>Mark Baker wrote:
&gt; 
&gt; 
&gt; Yup. AIUI though, DHH has fixed this in the new version of Rails. He
&gt; understands the problems of the old approach.


DHH understood it before accelerators shipped. It's in big letters in 
the original Rails book (the only bigger letters are on the cover).

Which I'll confees left me somewhat mystified at the outrage by the 
Rails community.

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6976<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-11-14 17:42:05<br>
Subject:Re: Sprayed Web Monkeys [was slamming all the REST APIs]<br>
Message:<br><br>
<pre>Bill de hOra wrote:

&gt; Here's an entire enterprise platform's architectural premise for the web:
&gt; 
&gt; http://java.sun.com/blueprints/guidelines/designing_enterprise_applications_2e/web-tier/web-tier5.html 
&gt; 
&gt; 
&gt; The common strand is GET for clicks, and POST for everything else. Forms 
&gt; really /are/ everything else for most server side web developers. .NET 
&gt; is much different. [...]

I meant to say - ".NET isn't much different"

cheers
Bill


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6977<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-11-14 17:45:01<br>
Subject:Re: [rest-discuss] REST and ATOM<br>
Message:<br><br>
<pre> &gt; omarshariffdontlikeit wrote:

Dude, that's like, the best gmail address *ever*.

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6978<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-11-14 17:44:16<br>
Subject:Re: [rest-discuss] Is Feedburner's API RESTful?<br>
Message:<br><br>
<pre>On 11/14/06, Bill de hOra &lt;bill@...&gt; wrote:

&gt; Legacy: non-problem on tss, since forms are generated by servers anyway;
&gt; they can send down PUT if they know who to deal with it. I guess the
&gt; browsers could be service-packed, to support the calls.
&gt;

I have no idea what this paragraph means!

Hugh

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6979<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-11-14 17:48:31<br>
Subject:Re: [rest-discuss] Rails RESTful?<br>
Message:<br><br>
<pre>Ryan Tomayko wrote:

&gt; 
&gt; I've had more trouble trying to create sane slugs for my models than I have
&gt; getting Rails to use them. In fact, I tend to just use the integer PK in all
&gt; but the most highly trafficked areas of an applications because 
&gt; slugification
&gt; can be a bit of a PITA. It can help URIs stay cool, though, so I try to use
&gt; them when that's important.

Django has a SlugField type that can be autopopulated from other fields 
on creation. It wouldn't be so hard to clone for Rails...

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6980<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-11-14 18:10:04<br>
Subject:Re: [rest-discuss] idempotent != safe<br>
Message:<br><br>
<pre>On 11/14/06, Bill de hOra &lt;bill@...&gt; wrote:
&gt; Mark Baker wrote:
&gt; &gt;
&gt; &gt;
&gt; &gt; Just wanted to point that out, because a bunch of recent messages
&gt; &gt; seemed to be confusing the two.
&gt; &gt;
&gt; &gt; Safety is what's important in the discussions about using GET to make
&gt; &gt; state changes. All safe operations are also idempotent, but not all
&gt; &gt; idempotent operations are safe (PUT, DELETE).
&gt;
&gt; I thought PUT was idempotent for one UA only.

No, what PUT means is, by definition, idempotent...

&gt; Two UAs introduce a race
&gt; condition on PUT order, unless clients agree to synchronize, or servers
&gt; force them to (as is the case with subversion/dav).

Sure, but that's an implementation detail and irrelevant to the
interface.  If a server isn't able to meet the expectations of a
client sending a PUT message, then they shouldn't respond with a 2xx,
e.g. http://www.w3.org/1999/04/Editing/

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6981<br>
Sender:"Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-11-14 18:19:12<br>
Subject:Re: [rest-discuss] Is del.icio.us' API REST?<br>
Message:<br><br>
<pre>I see this approach to data references within XML quite a lot.
An alternative to the tags="ipod mp3 music" style is to use URI
references something like tags="/tags/ipod /tags/mp3 /tags/music".
Relative references would work as well, as those URI construction
rules are more generalized and well known.

I think this style of putting raw data in XML and shipping it out over
the Web comes from a programming point of view that "XML is just a
data structure", whereas putting URI style addresses in the XML is an
"XML as hypertetxt' point of view. My opinion is that building Web
applications should use expose data not as 'data structures' but
should make visible the links between data - hyperlinks.

On 11/13/06, Mark Baker &lt;distobj@...&gt; wrote:
&gt; On 11/12/06, Justin T. Sampson &lt;justin@...&gt; wrote:
&gt; &gt; Another problem, which Joe's article gets at, is that
&gt; &gt; they don't take advantage of hypertext; the API documentation just
&gt; &gt; tells you how to construct URIs.
&gt;
&gt; Right.  A good example of that is this;
&gt;
&gt; &lt;bundles&gt;
&gt;   &lt;bundle name="music" tags="ipod mp3 music" /&gt;
&gt; &lt;/bundles&gt;
&gt;
&gt;  -- http://del.icio.us/help/api/bundles
&gt;
&gt; The tags have their own URIs, but they're not used there.  This would
&gt; mean, amoungst other things, that generic clients like spiders
&gt; wouldn't be able to discover that those tags are actually sources of
&gt; data (unless they're advertised by other means, which thankfully they
&gt; are in this case), because the spider doesn't know the
&gt; del.icio.us-specific URI rules.
&gt;
&gt; I don't remember which came first, but both the Flickr and
&gt; del.icio.us' APIs have exactly the same problems.
&gt;
&gt; Mark.
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6982<br>
Sender:"Ben Davies" &lt;omarshariffdontlikeit@...&gt;<br>
Post Date/Time:2006-11-14 18:31:05<br>
Subject:Re: [rest-discuss] REST and ATOM<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6983<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-11-14 18:33:02<br>
Subject:Re: [rest-discuss] Is Feedburner's API RESTful?<br>
Message:<br><br>
<pre>Hugh Winkler wrote:
&gt; On 11/14/06, Bill de hOra &lt;bill@...&gt; wrote:
&gt; 
&gt;&gt; Legacy: non-problem on tss, since forms are generated by servers anyway;
&gt;&gt; they can send down PUT if they know who to deal with it. I guess the
&gt;&gt; browsers could be service-packed, to support the calls.
&gt;&gt;http
&gt; 
&gt; I have no idea what this paragraph means!


1: server frameworks handling PUT and DELETE in forms isn't a problem, 
since they are generating the forms  (a framework that can't deal with 
PUT won't generate method=PUT in the first place).

2: browsers might need to be patched to use PUT and DELETE methods when 
submitting form data.

cheers
Bill


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6984<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-11-14 18:11:50<br>
Subject:Re: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>On 14/11/06, Walden Mathews &lt;waldenm@...&gt; wrote:

&gt;
&gt; It's not so much a matter of subjective as it is of availability of
&gt; data and what can be inferred from it.  This is definitely not as
&gt; simple as writing JUnit "positive" and "negative" functional tests.
&gt; The properties induced by an architecture tend to be less
&gt; observable, and exist relative to local constraints.  For example,
&gt; scaleability only means something relative to the resources
&gt; actually available.

Or, looking for a metric, I can hack n users now without falling over,
scalability for this app means hacking n*1000 users without falling over.
Now scalability (this definition) is objective. And useful.


&gt;
&gt; As far as "clear 'this is bad' marks, there is more clarity (negative)
&gt; in finding counterexamples than there is clarity (positive) in not
&gt; finding any.

I really don't think Bills idea was a total load of codswallop.
Do you?
I guess we can all put forward negative views.



&gt; :
&gt; : &gt;
&gt; : &gt; Bill didn't say "test"; he said "evaluate".  I think the above is an
&gt; : &gt; example of the latter.
&gt; :
&gt; : Wow. subtle!
&gt; : I won't go there, my English isn't good enough.
&gt; : Perhaps different shades of gray?
&gt;
&gt; Well, think about how you (never mind REST) would go about
&gt; testing the scaleability of your application.  Now contrast that with
&gt; how you would evaluate the same thing based on an inspection
&gt; of application artifacts.  Is that subtle?

I defined a metric above. I'm sure others could define one
matching their needs.


&gt;
&gt; : Then how about a graded set of tests which anyone might
&gt; : apply to gain some form of measure of the alignment
&gt; : of the system with the REST ideas?
&gt;
&gt; Similar to CMM assessments,
I don't know what CMM assessments are.


 I think it would be possible to
&gt; put together a set of evaluation areas, based on the REST
&gt; constraints, and to write up guidelines on how to inspect systems
&gt; to determine their "REST maturity".  But I wouldn't call that testing
&gt; anymore than the SEI calls the CMM assessments tests (they
&gt; don't).

Neither acronym is meaningful to me.



&gt;
&gt; "Ruler" is too simplistic a metaphor for this.

OK. your view.
It's the most promising start I've seen that might allow the REST of us
to view a system.

regards

-- 
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6985<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-11-14 18:43:12<br>
Subject:Re: [rest-discuss] idempotent != safe<br>
Message:<br><br>
<pre>Mark Baker wrote:
&gt; On 11/14/06, Bill de hOra &lt;bill@...&gt; wrote:
&gt;&gt; I thought PUT was idempotent for one UA only.
&gt; 
&gt; No, what PUT means is, by definition, idempotent...
&gt; 
&gt;&gt; Two UAs introduce a race
&gt;&gt; condition on PUT order, unless clients agree to synchronize, or servers
&gt;&gt; force them to (as is the case with subversion/dav).
&gt; 
&gt; Sure, but that's an implementation detail and irrelevant to the
&gt; interface. 

Sure, but that's an interface detail and entirely irrelevant to the 
implementation ;)  The point is, resources and the code in front of them 
do need to consider the order of PUT operations.

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6986<br>
Sender:Berend de Boer &lt;berend@...&gt;<br>
Post Date/Time:2006-11-14 18:48:31<br>
Subject:Re: [rest-discuss] RESTful login API?<br>
Message:<br><br>
<pre>&gt;&gt;&gt;&gt;&gt; "Chris" == Chris Burdess &lt;dog@...&gt; writes:

    Chris&gt; In fact for a professional site I would argue that popping
    Chris&gt; up a dialog box is NOT ok, the punter is probably going to
    Chris&gt; do one of the following:

    Chris&gt; 1. WTF?  2. try and log in again 3. walk away

I doubt if you wanted to log-off, you would try 2 again. Both 1 and 3
lead to safe results.

But your statement was that you could not log-off. You can and it does
not depend on the particular client. Logging-off without dialog box is
client dependent.


    Chris&gt; None of these are acceptable scenarios.

The only scenario that is acceptable is that the customer is really,
really logged off. Custom dialogs, non-standard interfaces, etc. make
that unclear. A single dialog box that is the same accross all sites
is the best solution.

The login again dialog box is perhaps suboptimal, but it also covers
the scenario where people want to logoff in order to logon as a
different user.

It is exactly the same when people log-off there desktop, they also
get a login prompt again.

So I quite disagree.

-- 
Regards,

Berend. (-:

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6987<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-11-14 19:01:34<br>
Subject:Re: [rest-discuss] idempotent != safe<br>
Message:<br><br>
<pre>On 11/14/06, Bill de hOra &lt;bill@...&gt; wrote:
&gt; Mark Baker wrote:
&gt; &gt; On 11/14/06, Bill de hOra &lt;bill@...&gt; wrote:
&gt; &gt;&gt; I thought PUT was idempotent for one UA only.
&gt; &gt;
&gt; &gt; No, what PUT means is, by definition, idempotent...
&gt; &gt;
&gt; &gt;&gt; Two UAs introduce a race
&gt; &gt;&gt; condition on PUT order, unless clients agree to synchronize, or servers
&gt; &gt;&gt; force them to (as is the case with subversion/dav).
&gt; &gt;
&gt; &gt; Sure, but that's an implementation detail and irrelevant to the
&gt; &gt; interface.
&gt;
&gt; Sure, but that's an interface detail and entirely irrelevant to the
&gt; implementation ;)  The point is, resources and the code in front of them
&gt; do need to consider the order of PUT operations.

8-)  Sure - but just to clear up any confusion, my initial post was
just discussing interface semantics.

Stay on topic, damnit! 8-)

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6988<br>
Sender:"Peter Madziak" &lt;peter.madziak@...&gt;<br>
Post Date/Time:2006-11-14 18:12:22<br>
Subject:Seeking some clarification around some aspects of REST<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6989<br>
Sender:"Dave Orchard" &lt;orchard@...&gt;<br>
Post Date/Time:2006-10-26 17:13:55<br>
Subject:RE: "Lightweight Data Access Services" and Well Designed Urls [rest-discuss]<br>
Message:<br><br>
<pre>[Oops, so sorry Dave - this was caught by the group spam filter, and I just discovered it.  I don't know why I didn't receive a notice.  I'll look into it.  Mark.]

Hi Mike,
 
My response was limited to asserting that client-side URI construction is
permitted under REST unofficially and under Web Architecture officially.  I
think this a core part of your position point.
 
As for well-designed-uris, I have long been a champion that we need a "URI
Template" aka "URI Query Language" language to make it easier to
read/write/rewrite URIs.  One reason why folks seem to love the SOAP world
is the simplicity of using XML tools for accessing portions of the input, as
simple as an XPath or even QName matching.  Regex for URIs is far too
complicated IMO, let alone something that would add in stuff like QNames
into URIs.  I've written a fair bit about the various difficulties of
mapping QNames to URIs.  
 
Cheers,
Dave


  _____  

From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On
Behalf Of Mike Schinkel
Sent: Thursday, October 26, 2006 1:28 AM
To: rest-discuss@yahoogroups.com
Subject: RE: "Lightweight Data Access Services" and Well Designed Urls
[rest-discuss]





Dave:
 
Since this discussion started at microformats-discuss it is a bit confusing.
So I'll ask; was your reply for Etan, or indirectly for me who originated
this email thread? At this point I'm terribly confused but I would really
like to discuss the merits of my original idea, the one that Etan quickly
came to debate me one.
-Mike Schinkel 
http://www.mikeschi &lt;http://www.mikeschinkel.com/blog&gt; nkel.com/blog 
http://www.welldesi &lt;http://www.welldesignedurls.org/&gt; gnedurls.org/ 



  _____  

From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On
Behalf Of Dave Orchard
Sent: Wednesday, October 25, 2006 8:16 PM
To: rest-discuss@yahoogroups.com
Subject: RE: "Casual Web Services" and Well Designed Urls [rest-discuss]



I don't get the set of URIs that you are concerned with. It seems to be the
set of URIs that are outside of web architecture (because the finding covers
those inside) and have representations that are not hypermedia (which is
kind of funny because by definition such "things" are not in REST). Seems
like a fairly uninteresting set to me. 

You seem to have your own internal definition of REST that doesn't map to
one that I'm familiar with. We've established that you think that Roy and
the TAG aren't any kind of authorities wrt REST - because if you did you'd
know that Roy would have a "Roy stern comment"(tm) on any W3C TAG finding
that contradicted his view of REST and he's also contributed to that
finding. FWIW, one of the underlying philosophical aspects of REST is that
resources and their representations change, and that includes REST itself.
The spoon is there if we all agree it's there.

Cheers,
Dave

&gt; -----Original Message-----
&gt; From: Etan Wexler [mailto:ewexler@stickdog.
&lt;mailto:ewexler%40stickdog.com&gt; com] 
&gt; Sent: Wednesday, October 25, 2006 4:37 PM
&gt; To: Dave Orchard; rest-discuss@ &lt;mailto:rest-discuss%40yahoogroups.com&gt;
yahoogroups.com
&gt; Subject: Re: "Casual Web Services" and Well Designed Urls 
&gt; [rest-discuss]
&gt; 
&gt; Dave Orchard wrote to rest-discuss:
&gt; 
&gt; &gt; And so we go on [about] the opaqueness of URIs. 
&gt; Notwithstanding that 
&gt; &gt; all HTML FORM GETs create URIs on the client.
&gt; 
&gt; I wrote in a previous message to Microformats REST
&gt; (&lt;http://microformats
&lt;http://microformats.org/discuss/mail/microformats-rest/2006-&gt;
.org/discuss/mail/microformats-rest/2006-
&gt; October/000299.html&gt;):
&gt; 
&gt; "Hypermedia includes rules of construction where the rules 
&gt; find expression in a resource representation of a standard 
&gt; content type and where the content type indicates how to 
&gt; interpret the rules. HTML forms count."
&gt; 
&gt; If my contributions to the current thread of discussion are 
&gt; unclear, please give me a chance to clarify them. If you have 
&gt; not read the contributions to the current thread of 
&gt; discussion, please do so before evaluating or describing my position.
&gt; 
&gt; &gt; Constructing URIs is absolutely allowed.
&gt; 
&gt; Sometimes, as when a human constructs a URI, REST has no 
&gt; bearing on the construction of the URI.
&gt; 
&gt; Sometimes, as when software relies on hypermedia to inform 
&gt; and restrict the construction of a URI, REST permits the 
&gt; construction of the URI.
&gt; 
&gt; Sometimes, as when software relies on resource 
&gt; representations to inform the construction of a URI and those 
&gt; resource representations are not hypermedia, REST forbids the 
&gt; construction of the URI.
&gt; 
&gt; &gt; Here's an authoritative document:
&gt; &gt; http://www.w3. &lt;http://www.w3.org/2001/tag/doc/metaDataInURI-31.html&gt;
org/2001/tag/doc/metaDataInURI-31.html
&gt; 
&gt; That document is (or will soon be) authoritative over Web 
&gt; architecture, but it is not authoritative over REST.
&gt; 
&gt; The document that is authoritative over REST is 
&gt; "Architectural Styles and the Design of Network-based 
&gt; Software Architectures" 
&gt; (&lt;http://www.ics.
&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm&gt;
uci.edu/~fielding/pubs/dissertation/top.htm&gt; 
&gt; as a start).
&gt; 
&gt; --
&gt; Please do not copy replies to me. I read the mailing lists to 
&gt; which I subscribe and will find replies in that way.
&gt; 
&gt; 





 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6990<br>
Sender:Bruno Harbulot &lt;Bruno.Harbulot@...&gt;<br>
Post Date/Time:2006-11-14 18:06:49<br>
Subject:Re: [rest-discuss] idempotent != safe<br>
Message:<br><br>
<pre>Hello,

Bill de hOra wrote:
&gt; Mark Baker wrote:
&gt;  &gt; Just wanted to point that out, because a bunch of recent messages
&gt;  &gt; seemed to be confusing the two.
&gt;  &gt;
&gt;  &gt; Safety is what's important in the discussions about using GET to make
&gt;  &gt; state changes. All safe operations are also idempotent, but not all
&gt;  &gt; idempotent operations are safe (PUT, DELETE).
&gt; 
&gt; I thought PUT was idempotent for one UA only. Two UAs introduce a race
&gt; condition on PUT order, unless clients agree to synchronize, or servers
&gt; force them to (as is the case with subversion/dav).

I think distinguishing the fact that two distinct requests come from the 
same UA or from two distinct UAs breaks the principle of stateless 
interactions. The way I understand REST, the server should never have to 
know whether-or-not two requests come from the same UA.
The point you raise is certainly related to Section 9.1.2 of RFC 2616, 
in particular to this sentence: "However, it is possible that a sequence 
of several requests is non-idempotent, even if all of the methods 
executed in that sequence are idempotent."
However, I think one of the main point about idempotent methods is to be 
more robust to network failures which would cause the duplication of a 
single request. I don't think it is meant to deal with the problems due 
to concurrent, distinct requests. Using an "If-modified-since" header in 
a PUT request, for example, would probably help solve some concurrency 
issues.

Cheers,

Bruno.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6991<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-11-14 18:59:11<br>
Subject:Re: [rest-discuss] HTML forms considered harmful?<br>
Message:<br><br>
<pre>On 11/13/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:
&gt; "Mark Baker" &lt;distobj@...&gt; writes:
&gt;
&gt; &gt; It's not ideal, sure, but one could argue that it was the place of the
&gt; &gt; *browsers* to support PUT and DELETE functionality from the menu bar,
&gt; &gt; not forms per se, i.e. "File -&gt; Save to Web" and "File -&gt; Delete from
&gt; &gt; Web".
&gt; &gt;
&gt; &gt; It would also be useful to support them from forms when that was
&gt; &gt; needed, but IMO, 99.9% of forms use POST properly from this POV
&gt; &gt; (ignoring the POST(a) vs. POST(p) distinction).  Wiki editing is the
&gt; &gt; obvious exception, but that's best done from the browser (WYSIWYG
&gt; &gt; editing), not via PUT in a form IMO.
&gt; &gt;
&gt; &gt; Ideally, we'd have both though.
&gt;
&gt; Thing is, isn't what we have: ie support through Javascript, actually
&gt; the ideal situation?

Not by itself, IMO.  Common practice with script based solutions
require associating the HTML pages with the script, meaning that users
only realize the benefit if publishers let them have it.

A viable script based solution to this problem would resemble plugins, I think.

A former client of mine has a WYSIWYG Web authoring environment which
has its own XSLT-like scripting environment.  The scripts could either
be associated with the content by the publisher, or installed locally
on the client as a plugin, and activated as required (by media type &amp;
XML namespace).  http://www.xfytec.com

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6992<br>
Sender:Ryan Tomayko &lt;rtomayko@...&gt;<br>
Post Date/Time:2006-11-14 19:28:22<br>
Subject:Re: [rest-discuss] Is Feedburner's API RESTful?<br>
Message:<br><br>
<pre>Bill de hOra wrote:
&gt; Mark Baker wrote:
&gt; &gt; Yup. AIUI though, DHH has fixed this in the new version of Rails. He
&gt; &gt; understands the problems of the old approach.
&gt; 
&gt; DHH understood it before accelerators shipped. It's in big letters in 
&gt; the original Rails book (the only bigger letters are on the cover).

IIRC, that book was still being written when the first GWA fiasco hit.
I think the chapter on dangerous GET/POST use was the result of it. In
fact, Rails as a whole seemed to begin a sharp turn toward embracing
the constraints laid down by HTTP almost immediately after that.

GWA has to be one of the most important educational events in recent
web history. I remember having a long debate with DHH and Simon
Willison shortly after the first wave of Tada items got deleted :) I
argued heavily from the web arch side and tried to give examples of
how proxy/spider type systems like GWA should be encouraged. They
both had a good understanding of the letter of the law as laid out by
RFC 2616 but that doesn't provide a whole lot of solace when you have
customers pissed because their stuff is being randomly deleted. To
this day I don't completely buy in to our own BS on that matter. The
web is a living thing - you have to consider the formal constraints of
the specifications but you're fooling yourself if you think you can
disregard the constraints created by the way the web has evolved on
its own.

&gt; Which I'll confees left me somewhat mystified at the outrage by the 
&gt; Rails community.

Well, a lot of that is echo chamber. Rails has a fairly large one.
Fortunately, there seems to be more good practice being echoed than
bad but in this case I think everyone was wrong.

--
Ryan Tomayko
http://naeblis.cx/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6993<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2006-11-14 19:20:28<br>
Subject:Re: [rest-discuss] idempotent != safe<br>
Message:<br><br>
<pre>Sounds like the old "sequences of idempotent operations are
idempotent" conundrum.

----- Original Message ----- 
From: "Bill de hOra" &lt;bill@...&gt;
To: "REST Discuss" &lt;rest-discuss@yahoogroups.com&gt;
Sent: Tuesday, November 14, 2006 1:43 PM
Subject: Re: [rest-discuss] idempotent != safe


: Mark Baker wrote:
: &gt; On 11/14/06, Bill de hOra &lt;bill@...&gt; wrote:
: &gt;&gt; I thought PUT was idempotent for one UA only.
: &gt;
: &gt; No, what PUT means is, by definition, idempotent...
: &gt;
: &gt;&gt; Two UAs introduce a race
: &gt;&gt; condition on PUT order, unless clients agree to synchronize, or servers
: &gt;&gt; force them to (as is the case with subversion/dav).
: &gt;
: &gt; Sure, but that's an implementation detail and irrelevant to the
: &gt; interface.
:
: Sure, but that's an interface detail and entirely irrelevant to the
: implementation ;)  The point is, resources and the code in front of them
: do need to consider the order of PUT operations.
:
: cheers
: Bill
:
:
: __________ NOD32 1865 (20061114) Information __________
:
: This message was checked by NOD32 antivirus system.
: http://www.eset.com
:
: 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6994<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2006-11-14 19:16:35<br>
Subject:Re: [rest-discuss] Singular vs. Plural?<br>
Message:<br><br>
<pre>Dave,

: Or, looking for a metric, I can hack n users now without falling over,
: scalability for this app means hacking n*1000 users without falling over.
: Now scalability (this definition) is objective. And useful.

That's fine, but it's off topic.  We were talking about how you
can use REST to evaluate a system.  What you describe above
would not be an instance of that.  Even if you operationally demonstrate
you system scales as you would like it to, it implies nothing about
its architecture or REST.
: 
: 
: &gt;
: &gt; As far as "clear 'this is bad' marks, there is more clarity (negative)
: &gt; in finding counterexamples than there is clarity (positive) in not
: &gt; finding any.
: 
: I really don't think Bills idea was a total load of codswallop.
: Do you?
: I guess we can all put forward negative views.

No, and I have no idea why you're saying that.  Maybe I wasn't
clear enough.  Let me try again:  It is very hard if not impossible
to prove that a given system uses stateless interactions only.  However,
it is possible to catch the system in an instance of a stateful one.
It is also possible to spend a lot of time probing a system in search
of a stateful exchange, and to not find one.  That would be a good
sign, for sure, but it would not be a proof.  This is about the best
we can do, as far as I know.

It's not a negative view; it's just the laws of physics.

: &gt; Similar to CMM assessments,
: I don't know what CMM assessments are.

Assessments of software capability maturity, based on examination
of artifacts of the process.


: &gt; anymore than the SEI calls the CMM assessments tests (they
: &gt; don't).
: 
: Neither acronym is meaningful to me.

Then my analogy must not have been very useful to you.  This won't
help that much, but at least for the record:

CMM = capability maturity model
SEI = software engineering institute

: &gt; "Ruler" is too simplistic a metaphor for this.
: 
: OK. your view.
: It's the most promising start I've seen that might allow the REST of us
: to view a system.
: 

As long as you are viewing the system through REST, fine, but
I haven't seen a proposal from you on that.

Walden

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6995<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-11-14 20:20:53<br>
Subject:[admin] delayed posting<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6996<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2006-11-14 20:31:46<br>
Subject:Re: [rest-discuss] Rails RESTful?<br>
Message:<br><br>
<pre>Point taken, but that doesn't seem to be related to REST, more  
towards got (or bad) implementation practice.

(I don't really mind, as long as the framework does not force me to  
accept this as the only possible convention, just as the default one.)

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/


On Nov 14, 2006, at 2:12 AM, Bill de hOra wrote:

&gt; Stefan Tilkov wrote:
&gt; &gt; The current "edge" (SVN) version of the Ruby on Rails framework  
&gt; contains
&gt; &gt; support for RESTful controllers (or so it claims).
&gt; &gt; I'd be very interested in opinions about how RESTful this is in the
&gt; &gt; group's opinion.
&gt;
&gt; It looks way better than it used to be. This would be cool:
&gt;
&gt; (5) GET /employees/{key}
&gt;
&gt; Fwiw, I don't like the way rails exposes pks in URLs, so {key} above
&gt; would be any identifier that can survives a db wreck. If you don't use
&gt; the db pk generator, it means you don't need to create an employee
&gt; object speculatively while providing a unique URL - for example,
&gt; premature object creation is a problem with Plone's portal_factory  
&gt; that
&gt; means you can't sanely use GET to serve the creation form. Above idiom
&gt; can also help deal with double posting.
&gt;
&gt; cheers
&gt; Bill
&gt;
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6997<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-11-14 20:56:26<br>
Subject:Re: [rest-discuss] HTML forms considered harmful?<br>
Message:<br><br>
<pre>On 11/14/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:
&gt; "Mark Baker" &lt;distobj@...&gt; writes:
&gt;
&gt; &gt; Not by itself, IMO.  Common practice with script based solutions
&gt; &gt; require associating the HTML pages with the script, meaning that users
&gt; &gt; only realize the benefit if publishers let them have it.
&gt;
&gt; Sorry... not sure I grok this.
&gt;
&gt; Do you mean "users only get the benefits of scripts that publishers
&gt; write for them"
&gt;
&gt; or do you mean something else?

Not necessarily write for them, but at least link/include in their own
documents.

&gt; If you mean that users only get the benefits of scripts that
&gt; publishers write for them I say to you: what about greasemonkey?

Good point.  Can you extend the browser menu bar with it (to add "File
-&gt; Save to Web"), and get access to the information you'd need to
construct a correct PUT request?

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6998<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-14 20:20:21<br>
Subject:Re: [rest-discuss] Seeking some clarification around some aspects of REST<br>
Message:<br><br>
<pre>"Peter Madziak" &lt;peter.madziak@...&gt; writes:

&gt; 1. An implementation question: how do I handle things when I want my
&gt; OrderManagement system (or service) to "push" information out to the world.
&gt; For instance, say my OrderManagement system has processed an order and it
&gt; may be useful for other systems in the enterprise to be notified. At an
&gt; architectural level, this relates to how well REST aligns with an EDA
&gt; (event-driven architecture). At a more mechanical/implementation level it
&gt; relates to my confusion around how REST might or might not (or is it better
&gt; to say, "should or should not") relate to tings like:
&gt; * Atom Publishing Protocol (APP) used as a means of publishing notifictions
&gt; * Simply having notifications being POST'ed back to some pre-configured URI;
&gt; just as Google does in their checkout API (e.g. see
&gt; http://code.google.com/apis/checkout/developer/index.html)
&gt; * Something like HTTP Events as presented here
&gt; http://rest.blueoxen.net/cgi-bin/wiki.pl?HttpEvents and here
&gt; http://http-events.sourceforge.net/.

You can do this RESTfully or not. It is not affected by the
architecural nature of the webapp recieving the request from which the
notify originates.

In other words, you could have a REST webapp which recieves an order
but sends out notification of order completion by email.

The web isn't very good right now at callbacks. This is because
browsers don't have webservers in them, users have firewalls and
dynamic IP addresses and there are other, better ways to do
asynchronous notification than HTTP (SMTP being the prime delivery
mechanism).

As you point out, syndication is one option for asynchronous
notification. But it's not really asynchronous. It's just client
polling.


&gt; 2. A conceptual question: should I even think in terms of "a service" when
&gt; it comes to REST? Is there necessarily always a "service" behind the RESTful
&gt; interface that is processing the HTTP messages that are being sent to/from
&gt; the RESTful system? I know that opening up the whole SOA versus REST
&gt; question is a huge can of worms but I am trying to get down to even the most
&gt; basic of questions: is the mental construct of a "service" a useful one when
&gt; it comes to architecting my distributed systems using the principles of
&gt; REST? Or is it better to say that the Resource is the conceptual primitive
&gt; that I should be focusing on and that, as such, I should let go of any
&gt; notion of service lingering from a numbers of years of being immersed in
&gt; this thing called SOA? Having said that, if you look at the Google checkout
&gt; API I mentioned previously (or my hypothetical OrderManagement system for
&gt; that matter), there seems to be a clear "service" being offered there from
&gt; the business perspective. So, is it fair to simply say that the "service" is
&gt; the unit processing the HTTP requests being sent its way?

I think of a service in so much as it defines (to some extent) the
boundaries of the things that I need to look at. To me a "service" is
simply a collection of related resources, some of which don't exist
yet.


&gt; This is not just an exercise in philosopy because, at the end of the day, I
&gt; think that what I am after here is some insight into how REST (as an
&gt; architectural style) affects your analysis of what needs to be built? In
&gt; other words, when the pure RESTifarian is trying to talk to the business to
&gt; figure out what needs to be built, is the notion of service a part of their
&gt; lexicon when talking to the business stakeholders?

That's a different question.

Yes, you have to talk about services when you're talking to business
people because they deal at a higher level of abstraction than
programmers.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:6999<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-14 21:14:02<br>
Subject:Re: [rest-discuss] HTML forms considered harmful?<br>
Message:<br><br>
<pre>"Mark Baker" &lt;distobj@...&gt; writes:

&gt;&gt; If you mean that users only get the benefits of scripts that
&gt;&gt; publishers write for them I say to you: what about greasemonkey?
&gt;
&gt; Good point.  Can you extend the browser menu bar with it (to add "File
&gt; -&gt; Save to Web"), 

No. But you can't with a normal Javascript script either.


&gt; and get access to the information you'd need to
&gt; construct a correct PUT request?

I think so. You could do everything a browser could do. AJAX is
available to GM. And GM is not restircted to the originating site
(because the GM script has no originating site).


So I think this does show that markup language + scripting language is
really powerful and what we need from the markup language is more pure
UI and less declarative web interaction.

Maybe Hyperlink information is good... but embedding in the markup
language implementation details about the hyperlink is bad. So Forms
shouldn't have a method attribute - they should just hand off to a
script).

This would be ok if everything else were fixed. If scripts only ever
behaved themselves and did so RESTfully.


In other words the current model is a bit broken... but only by
letting us shoot ourselves in the head if we want to.
-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7000<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-14 20:26:03<br>
Subject:Re: [rest-discuss] HTML forms considered harmful?<br>
Message:<br><br>
<pre>"Mark Baker" &lt;distobj@...&gt; writes:

&gt; Not by itself, IMO.  Common practice with script based solutions
&gt; require associating the HTML pages with the script, meaning that users
&gt; only realize the benefit if publishers let them have it.

Sorry... not sure I grok this.

Do you mean "users only get the benefits of scripts that publishers
write for them"

or do you mean something else?


If you mean that users only get the benefits of scripts that
publishers write for them I say to you: what about greasemonkey?

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7001<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-14 20:44:37<br>
Subject:Re: [rest-discuss] RESTful login API?<br>
Message:<br><br>
<pre>Berend de Boer &lt;berend@...&gt; writes:

&gt; I doubt if you wanted to log-off, you would try 2 again. Both 1 and 3
&gt; lead to safe results.
&gt;
&gt; But your statement was that you could not log-off. You can and it does
&gt; not depend on the particular client. Logging-off without dialog box is
&gt; client dependent.

You can't de-authenticate. You simply force the browser to
re-authenticate. Not the same thing surely? Even if it has the same
result.


&gt; The only scenario that is acceptable is that the customer is really,
&gt; really logged off. Custom dialogs, non-standard interfaces, etc. make
&gt; that unclear. A single dialog box that is the same accross all sites
&gt; is the best solution.

No it isn't. Hardly anyone uses it because they don't like it. No
amount of architectural justification is going to work with the people
who hold the purse strings in development shops.

How many times have you sold browser based authentication to a client?


&gt; It is exactly the same when people log-off there desktop, they also
&gt; get a login prompt again.

Yes. But at least it looks nice.


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7002<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-11-15 03:02:48<br>
Subject:zefrank tells a REST joke<br>
Message:<br><br>
<pre>Warning -- not suitable for workplace viewing:

http://www.zefrank.com/theshow/archives/2006/11/110906.html

Enjoy,
Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7003<br>
Sender:"Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-11-15 03:37:21<br>
Subject:Re: [rest-discuss] Is Feedburner's API RESTful?<br>
Message:<br><br>
<pre>&gt; To this day I don't completely buy in to our own BS on that matter. The
&gt; web is a living thing - you have to consider the formal constraints of
&gt; the specifications but you're fooling yourself if you think you can
&gt; disregard the constraints created by the way the web has evolved on
&gt; its own.
I think the act of fixing the design bug with early Rails apps not
playing well with others is the actual evolotion of the Web that you
mention. Survival of the fittest and all that - clearly the deletion
of content due to the faulty Rails design wasn't a successful mutation
and it has died on it's own so I don't think it's fair to say the 'web
evolved' when really just one application was born that couldn't
survive in the wild. Now it can.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7004<br>
Sender:"Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-11-15 03:57:09<br>
Subject:Re: [rest-discuss] HTML forms considered harmful?<br>
Message:<br><br>
<pre>&gt; &gt; If you mean that users only get the benefits of scripts that
&gt; &gt; publishers write for them I say to you: what about greasemonkey?
&gt;
&gt; Good point.  Can you extend the browser menu bar with it (to add "File
&gt; -&gt; Save to Web"), and get access to the information you'd need to
&gt; construct a correct PUT request?
&gt;
Well, with a Firefox extension you could (I've been doing a bunch of
Firefox extension work recently). But I don't think a script within a
page would have the security to muck with the menus. Not sure though.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7005<br>
Sender:"Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-11-15 03:54:55<br>
Subject:Re: [rest-discuss] Seeking some clarification around some aspects of REST<br>
Message:<br><br>
<pre>&gt;
&gt; The web isn't very good right now at callbacks.
Sometimes I wonder if there is something fundamental in that.

&gt; This is because
&gt; browsers don't have webservers in them, users have firewalls and
&gt; dynamic IP addresses and there are other, better ways to do
&gt; asynchronous notification than HTTP (SMTP being the prime delivery
&gt; mechanism).
&gt;
&gt; As you point out, syndication is one option for asynchronous
&gt; notification. But it's not really asynchronous. It's just client
&gt; polling.
I think an order processing system wouldn't be sending data to a user
interface client like a browser. Without a browser involved, then
sending a notification is almost equivalent to simply transfering the
state of a resource. With HTTP you could just use the known verbs and
the 'notification sender' would be an http client sending
put/post/delete and the 'subscribers' are the http servers handling
those messages. There is no common approach to indicating these
callbacks (setting up subscriptions), but there have been several
informal proposals over the years. I'm guessing hypertext is at the
heart of any real solution.

And if you truly want to get notifications to a web browser, there are
several mechanisms - commonly called "Comet" (you know, like Ajax, but
a differnt cleanser...).
There are different approaches with browser based notifications
regarding polling, piggybacking other requests, etc. Essentially these
put a 'server on the client'.

I did a simple example that took the approach of having the server
holding the connection open until a message arrives at the 'server' -
when that happens the server sends the message to the client (some
javascript xmlhttprequest running in the background). Easy to bang out
in a couple hours or days and gives very low latency delivery. Making
it scale would be most interesting though (for example, keeping many
connections open would probably require a special server or using
erlang).

Here's a running example:
http://www.dierken.com/xmlrouter/events/chat.html?topic=rest-discuss

The same approach would work for non-browser applications too.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7006<br>
Sender:Ryan Tomayko &lt;rtomayko@...&gt;<br>
Post Date/Time:2006-11-15 05:17:16<br>
Subject:Re: [rest-discuss] Is Feedburner's API RESTful?<br>
Message:<br><br>
<pre>Mike Dierken wrote:
&gt; Ryan Tomayko wrote:
&gt; &gt; To this day I don't completely buy in to our own BS on that matter. The
&gt; &gt; web is a living thing - you have to consider the formal constraints of
&gt; &gt; the specifications but you're fooling yourself if you think you can
&gt; &gt; disregard the constraints created by the way the web has evolved on
&gt; &gt; its own.
&gt;
&gt; I think the act of fixing the design bug with early Rails apps not
&gt; playing well with others is the actual evolotion of the Web that you
&gt; mention. Survival of the fittest and all that - clearly the deletion
&gt; of content due to the faulty Rails design wasn't a successful mutation
&gt; and it has died on it's own so I don't think it's fair to say the 'web
&gt; evolved' when really just one application was born that couldn't
&gt; survive in the wild. Now it can.

There was no design bug with Rails the framework. The issue was bad
application design and was (and is still) fairly widespread. You'll
find the same issue in web applications built with anything. I don't
know of any environment that can enforce safe GET; it doesn't seem
possible.

But if we broaden out the scope of your statement and say that GWA was
a kind of agent for positive change that removed a lot of icky stuff
from the gene pool, I concur. 

I guess what I was trying to say is that you ought to learn as much as
possible about the "principled design" [1] of the web and strive to
meet it, but always have your nose in the goings on of the
ViewSourceClan [2].

Over time, things like GWA have a compounding positive effect on the
web but they come at the price of severe short-term compatibility
problems. It's just one more thing you have to weigh with an overall
design and there's no silver bullet.

[1] http://www.dehora.net/journal/2006/11/here_we_go_again_1.html
[2] http://www.intertwingly.net/wiki/pie/ViewSourceClan

--
Ryan Tomayko
http://naeblis.cx/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7007<br>
Sender:Jonathan Arkell &lt;yahoo@...&gt;<br>
Post Date/Time:2006-11-15 05:24:35<br>
Subject:Re: [rest-discuss] RESTful login API?<br>
Message:<br><br>
<pre>
On 14-Nov-06, at 11:48 AM, Berend de Boer wrote:
&gt;
&gt; The only scenario that is acceptable is that the customer is really,
&gt; really logged off. Custom dialogs, non-standard interfaces, etc. make
&gt; that unclear.

I think that really depends on the custom dialog/non-standard  
interface.  However, I would bet donuts that the designer makes it a  
lot clearer that you have logged out then the dialog box that no-one  
is really expecting.

&gt; A single dialog box that is the same accross all sites
&gt; is the best solution

For whom?  The user?  The developer?  The (developers) client?

&gt;
&gt; It is exactly the same when people log-off there desktop, they also
&gt; get a login prompt again.

The modal log-off -&gt; log on box is a common desktop idiom. Not so  
with the web. Not only would it be confusing to a typical user, but I  
would find it confusing.  A computer needs to be logged into again.   
A website? not so much.  A computer that you can use anonymously  
(generally) doesn't have a log-in box.

Jonathan Arkell
jonnay@...




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7008<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-15 13:02:53<br>
Subject:RE: [rest-discuss] Rails RESTful?<br>
Message:<br><br>
<pre>&gt;&gt; I'm not sure what you're referring to here. The alternative to generating
that code is hand-coding the exact same code, which is a fine option too. 

Not true.  There are at least two other alternates (one of which is code
generation, but in a confined context):

1.) But the logic into the object and process metadata.  Slower and coding
is more abstract, but the code is in the framework.  Also, not as flexible
as code that is generated which can then be hand modified.  Good for certain
types of functionality.

2.) Do "behind the scenes" code generation. Don't require developer to
generate standard code. Instead, generate it on demand behind the scenes.
This approach forces a discipline to architecture that I think is
preferrable.

&gt;&gt; The code is generated once when you create the controller or model and
then you own it.

Unless I start refactoring...

&gt;&gt;  How does this code generation cause any harm? 

You can't round-trip the generated code during refactoring and if you regen,
you can loose modifications.

&gt;&gt; Feel free.

Thanks. I'll email offline.

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



-----Original Message-----
From: Ryan Tomayko [mailto:rtomayko@...] 
Sent: Tuesday, November 14, 2006 11:16 AM
To: Mike Schinkel
Cc: rest-discuss@yahoogroups.com
Subject: Re: [rest-discuss] Rails RESTful?

Mike Schinkel wrote:
&gt; Actually, it is no where near as easy.  The default generates code 
&gt; that you have to manually modify and maintain which is a lot of work 
&gt; for a large system.

I'm not sure what you're referring to here. The alternative to generating
that code is hand-coding the exact same code, which is a fine option too.
The code is generated once when you create the controller or model and then
you own it. How does this code generation cause any harm? I did my time back
in the day writing Windows apps with MFC and ATL so I know what bad code
generation looks like :)

&gt; P.S. If it really is that easy, maybe you'll want to help me with it 
&gt; off-list? If so, then maybe I'll come back here and beg for mea cupla. 
&gt; ;-)

Feel free.

--
Ryan Tomayko
http://naeblis.cx/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7009<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-15 14:02:05<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Eric J. Bowman wrote:

&gt;&gt; Those two URLs were not presented within the context of my _example_,
they were presented as _reference_ URLs in a sidebar discussion which was
not even referring to my example.  

I guess I scanned the email too quickly. Email overload. Sorry.

&gt;&gt; I would say *HTML* can't use URI fragment identifiers for other than
bookmarks.  

Good correction. I meant HTML and I mis-spoke.

&gt;&gt; So a URI fragment is not anything remotely like a range request, or a
request for a partial resource.  

As an aside, I see that as a shame for usability even though I understand
your explanation regarding the intentions. Unless I miss my guess, there is
no way just using a browser (i.e. w/o writing a program) to be able retrieve
a segment of a page.  IOW, I can't include such a link on a blog nor can I
send such a link in an email.  The shame is that the combination of
URI+HTTP+HTML doesn't provide any way to do that.

&gt;&gt; The problem under discussion here remains the case of "how do we avoid
transferring the entire document to scale the application more efficiently?"


Please let me clarify that statement by tacking on "...and do in a manner
that is RESTful where "RESTful" was previously stated by someone to require
the transfer of the entire resource defined by a URI."  (Yes it would be a
run-on sentence. :)  One person suggestion is another URI, but someone else
stated that in some cases it was okay to use a fragement identifier, and I
questioned that because it seemed inconsistent and possibly not even
workable.

&gt;&gt; Now that you've taken a simple, concise example thoroughly off-topic and
required me to use ever-longer replies to straighten out your conflation
between range requests, document fragments and URI fragment identifiers it
seems to me that my explanations are beginning to exceed the length of the
RFCs you don't appear to be reading.  

Please do not assume that I am not reading them.  By now I have (literally)
an 8" stack of documents printed 2-up, front &amp; back (using Fineprint) that I
have all read and marked up during the past month (and a few I have read
several times.) But, as I hope you can appreciate, I don't have photographic
memory so there are parts I don't remember and there are parts I didn't
understand for lack of examples and for poor writing (i.e. passive voice.)  

 I headed down this road taking this crash course in REST, W3C specs, IETF
specs, etc. so I don't end up looking like an ignorant ass when I start
publishing articles about URLs *and* I'm about three weeks behind where I'd
hoped to be by now.  Please forgive me that I can't learn in a few day the
fine details of specifications and theory that have been developed over more
than they past 15 years. I'm good, but I'm not that good.  

So, sorry if I frustrated you. :)

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7010<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-15 14:33:04<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Eric J. Bowman wrote 

&gt;&gt; The point I was making is that the feed URL is more or less constant, so
what is the point of submitting it (to Technorati) every time you post to or
edit your weblog?

Well, isn't a URL a URI, or identifier, so isn't it appropriate to tell
Technorati the identifier of the blog to ping?  That the identifer also
happens to be a locator is just convenient.  

OTOH, this would not be RESTful because it is sending the logic, not the
representation (right?)

&gt;&gt; Your feed should get a new timestamp whenever it's updated with new
content.  The value of that timestamp may be PUT to the user's URL to change
the value in &lt;updated&gt; concurrently with your feed's timestamp being
updated.  

But doesn't that violate REST by posting the logic not the representation?
Isn't the &lt;updated&gt; field considered logic in this case?

&gt;&gt; REST is not concerned with application logic, only information
architecture.  There is no constraint in REST regarding data quality, so no
of course you can't jump to any general conclusions about REST based on the
implementation specifics of this example.

Your answer leads me to a question that I hadn't even begun to ask on the
list: Is REST always appropriate and if not, why and why not?  Feel free to
defer that answer to later.

&gt;&gt; Technoresti would have an easier time filtering out DoS attacks than
Technorati by implementing access control on the assigned /{username} URL,
whereas Technorati uses one URL for everybody to POST to.

Sounds good.

&gt;&gt; Technoresti would have a far better chance of being "done correctly,"
since there's no timestamp in the XML-RPC ping other than the POST
submission time.  Technoresti would allow batch updates of multiple weblogs
with one PUT, on a once-per-day for all weblogs schedule, instead of once
per post.  The spidering would be smarter with reliable timestamps to use as
a baseline which the application logic can refer to.

But are those benefits of REST over XML-RPC, or simply the fact that the
currect implementation didn't attempt to solve those problems?

&gt;&gt; if a user changes their handle on a web forum where they have tens of
thousands of posts, that one change potentially updates tens of thousands of
resources.  Forum apps all work that way now, but that doesn't make a single
one of 'em RESTful.

Good example, thanks.

One final thing to clarify.  If http://technoresti.com/users/{username} is
the resource and "&lt;updated&gt;2006-12-31T24:59:59Z&lt;/updated&gt;" is the
representation, what is the name of the resource; i.e. what's it's noun?  I
can see having a profile at http://technoresti.com/users/{username} and then
submitting a respresentation of my profile (name, email, blog urls), but the
&lt;updated&gt; element doesn't seem right for a resource.  Doesn't this seem more
correct? http://technoresti.com/users/{username}/{blog-id}/updated

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/

P.S. I do very much appreciate your help.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7011<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-15 14:53:44<br>
Subject:Is AddToCart RESTful?<br>
Message:<br><br>
<pre>A long time ago I wrote a web shopping cart for my former company, and it is
still in use today.  Here is an example product page:
 
    http://www.xtras.net/products/janusgridexdotnet/
 
If you'll notice that you can click on any [Add To Cart] button and the
method I used was a GET, i.e. 
 
    https://www.xtras.net/weborderCart.asp?Action=AddItem
&lt;https://www.xtras.net/weborderCart.asp?Action=AddItem&amp;Quantity=1&amp;InventoryI
D=22091&gt; &amp;Quantity=1&amp;InventoryID=22091
 
I really like that approach because I could send a link in an email to a
customer when they were asking for a product recommendation.  I even created
a shortcut that wouldn't wrap in email that looked like this (though it
doesn't appear to be working anymore): 
 
    https://www.xtras.net/Cart.asp?a=Add
&lt;https://www.xtras.net/Cart.asp?a=Add&amp;i=22091&gt; &amp;i=22091
 
Since the GWA fiasco I learned that that approach was considered bad, and
I've heard that sentiment echoed loudly and often here on the list.  I have
since come to accept that it was wrong; forgive me for I have sinned. ;)
 
But I would still like to explore the concept to fully understand how to
achieve "correctness" and also the same levels of usability that I had being
able to email the links.  So here are my questions:
 
1.) Revisiting my design; it *is* idempotent; i.e. it doesn't add a new item
to the cart with multiple GETS as I incorporated logic to ensure it only
added one. It was also "safe" in a manner of speaking; adding to the cart
did not obligate a person to buy but it did leave an item in the shopping
cart (making it impossible for us to truly understand abandon rates; can you
tell we didn't pay attention to that metric?)
 
2.) What if there was a url I could have emailed to customers that instead
took them to a screen that asked them to click a button on a form that used
POST to add the identified item into the shopping cart?  That would be more
RESTful then?
 
3.) If #2 is no good, what alternate would you suggest?
 
Obviously I don't need this anymore since I'm not part of that company, but
I've often pondered that design since GWA. Thanks in advance.
-Mike Schinkel 
http://www.mikeschinkel.com/blogs/ 
http://www.welldesignedurls.org/ 

 
 
 
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7012<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-11-15 16:10:09<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>[1] http://www.25hoursaday.com/weblog/PermaLink.aspx?guid=75a5975d-ca85-452a-94cb-46cfcf0ad67f

So Microsoft couldn't figure out how to scale their app without making 
everyone's personal directory, a hostname?  WTF?  I mean, this problem's as 
old as the web, distributing named userspace directories /~someuser/ across 
multiple servers has long been a problem *with a solution* that doesn't 
inconvenience users like this!

[[So we have developed a DNS (Domain Name System) based solution that allows 
us to redirect requests to the right data center and allows us to keep a 
better looking URL. Moving the Space name into the domain name is a 
requirement of that.]]

Here we are in 2006, and the best M$ can come up with is to make usernames 
_hostnames_ which enables them to resort to an oh-so-stuck-in-1994 DNS round-
robin with a copy of each user's directory on each server in the farm.  LAME!

[[We needed to deliver a system that allows for Spaces to be distributed 
across multiple data centers without requiring a URL that included the data 
center name. How unkewl would that be? Can you imagine telling your friends 
and family that the URL to your space was http://cluster25.dc1.spaces.msn.com/
gphipps?]]

What kind of ludicrous excuse is that?  It's as if Microsoft thinks they're 
innovating a new solution to distributing a web app based on the mistaken 
assumption that nobody has ever accomplished this without putting the DC name 
in the URL.

Microsoft, the only "unkewl" thing is that you have yet to figure out that 
the URI and the application layer are separate, i.e. they're only 
_orthogonally_ related.  What's particularly galling, is that you believe 
this is a necessary middle step in order to accomplish the objective of 
converting http://spaces.msn.com/user/* to http://spaces.live.com/user/*.

[[Doing the rearchitecture work and making the move to Live Spaces was not 
possible for a number of technical reasons. This is why we can?t move 
straight to the spaces.live.com name.]]

How is it even *possible* that Microsoft can't figure out a way to abstract 
this, instead of building it into the architecture?  Instead they expect 
kudos for inconveniencing their customers in the name of "innovating" DNS 
round-robin load balancing.  :-0  That is so, like, totally last century!

Seriously, here's the solution they missed:

http://www.iwdn.net/showthread.php?t=4288

Yeah, okay, my solution is also like, totally last century, but one which is 
still valid today in a way DNS round-robin isn't.

[[However, we believe that when we do move to Live Spaces that will be the 
last time we have to change the URL.]]

I'll bet you anything, not. Microsoft has just proven that they have 
absolutely no grasp of web architecture whatsoever, particularly when it 
comes to URI design, and the separation of concerns. If they understood these 
things, changing a domain name wouldn't cause them so many fits. Since they 
don't understand how the web works, they'll likely "need" to change their 
URLs again in the future.  How on Earth did Microsoft fail to "innovate" 
dynamic mirror for this oh-so-difficult &lt;/snark&gt; domain-name change?  Whining 
about how large the service is is not an excuse for screwing up the 
architecture in the first place.

This sort of change should have been possible to do, regardless of how many 
users Microsoft (has | makes claim to), by flipping a switch without any 
temporary URIs, or hassle to their users.  Talk about making a mountain out 
of a molehill.  Pointing to the mountain you've created and saying "but can't 
you see there's a mountain there" just isn't, you know, "kewl."

[2] http://www.w3.org/Provider/Style/URI

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7013<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-15 16:21:58<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>&gt;&gt; Well, part of the problem is I don't know where you're coming from on any
of this.

I'm going to take off list.

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7014<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-11-15 15:49:08<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>&gt;
&gt;Please do not assume that I am not reading them.  By now I have (literally)
&gt;an 8" stack of documents printed 2-up, front &amp; back (using Fineprint) that I
&gt;have all read and marked up during the past month (and a few I have read
&gt;several times.) But, as I hope you can appreciate, I don't have photographic
&gt;memory so there are parts I don't remember and there are parts I didn't
&gt;understand for lack of examples and for poor writing (i.e. passive voice.)  
&gt;

Float to the top, your printout of HTTP response codes.  If there is a 
response code for something, it is inherently RESTful to implement, like 
"method not allowed".  That's a quick-reference answer that yes, a resource 
can be restricted by HTTP method.  Keep that close at hand.

&gt;
&gt; I headed down this road taking this crash course in REST, W3C specs, IETF
&gt;specs, etc. so I don't end up looking like an ignorant ass when I start
&gt;publishing articles about URLs *and* I'm about three weeks behind where I'd
&gt;hoped to be by now.  Please forgive me that I can't learn in a few day the
&gt;fine details of specifications and theory that have been developed over more
&gt;than they past 15 years. I'm good, but I'm not that good.  
&gt;

Well, part of the problem is I don't know where you're coming from on any of 
this.  If you were a tech journalist looking to give a rundown on the 
benefits of REST in terms an executive can understand, then I wouldn't expect 
you to even attempt to learn what REST is.  Finding some lay-term 
understanding of REST as some sort of a press kit is needed, IMHO.

So if you're taking that approach then the rough idea certainly suffices, but 
you're coming across _exactly_ how you just described -- like you're trying 
to pick up the fine details in just a few days.  That, or like you think that 
it should be possible in a few short days to grasp everything about REST you 
need to know for your problem area of URI design.

There's nothing wrong with admitting in your writings that you are not an 
expert, but a pragmatic advanced user.  Think along the lines of Jerry 
Pournelle's "Chaos Manor" column.  Jerry likes to understand the technologies 
he is implementing well enough to explain them, and man enough to admit when 
feedback has shown that he was wrong.  He isn't interested in explaining why 
things don't work, so much as explaining how something can be made to work 
through trial and error, common sense and determination.  Once he's learned 
how to implement something well by making mistakes, that is when he writes 
about the experience.  He passes on his learning, not his expertise.

Really, I don't think you can understand how REST should guide the design of 
URI allocation schemes without actually understanding REST.  You certainly 
can't learn or teach REST by focusing on URIs.  As I've mentioned, much of 
what you want to talk about isn't actually REST-related anyway.  There is no 
ideal URI scheme, there is only the URI scheme which is ideal for the 
situation at hand.

Maybe you shouldn't worry about what is and isn't REST in your writings.  
Focus on design choices and why they are made for a particular 
implementation.  One thing Pournelle never does, outside the realm of his 
science fiction writing, is speculate about technologies he isn't actually 
implementing hands-on.  He reports on his experiences, including both his 
successes and failures.  You only come across as an ass when you claim to be 
an authority about something when you aren't, so don't claim to write about 
RESTful URI design.

Write about learning as you go, nothing wrong with that.  Issues like URI 
fragment identifiers, or singular vs. plural, are excellent subjects for your 
writing just don't claim that everything URI-related has REST implications.  
Focus on a problem area.  Find some examples.  Compare and contrast them.  
Solicit outside opinions on the relative merits of your samples, particularly 
as regards the RESTfulness of these example implementations.  Summarize your 
findings in an article wherein you are the journalist, not the authority.

For example.  Have you ever visited salon.com and seen an article, which 
consists of a summary plus a link to a sponsor such that one must view a 
Flash advertisement before proceeding to the complete article?  Have you ever 
noticed what a mess that implementation is, URI-wise?  Now there's a problem 
space in which devising a RESTful solution consists almost entirely of URI 
allocation scheme design.  (A URI scheme is like http:// or file://, the 
design pattern for a set of URIs is called a URI allocation scheme.  I use 
"URL" to mean a URI which has been allocated and is meant to be dereferenced.)

Such arrangements are quite common on the web, it isn't hard to isolate out 
a brief-but-interesting example article from several different sites which 
implement such advertwalls and write about the differences in their 
functionality and URI allocations.  Can the resource be bookmarked, or only 
the summary?  Is the advertising requirement a one-time thing, or is there a 
time limit to read the article like on salon.com before another ad must be 
loaded?

Here's the important concept, if those application requirements change over 
time, or don't exist for some pages (not all of salon.com's content is 
advertwalled, but their URI allocation scheme is inconsistent), does the URI 
allocation scheme need to be changed?  If an article is moved from premium to 
non-premium or vice-versa, will bookmark links to it from other websites 
break as a result?  Not if the URLs are well designed, in which case the 
status change happens in the server logic where it belongs not in the URLs.

Also, if an ad strikes me as funny and I want to share it with my friends, 
can I bookmark it, or will 99.9% of the web keep missing out on this viral 
marketing opportunity by allowing these advertwall ads to be bookmarked?

Do you see where I'm going with this?  Focus your writings on developing 
pragmatic URI-based solutions to problems, by soliciting outside advice on 
REST rather than trying to focus on REST, and you'll be providing a "REST by 
example" service without needing to know REST yourself.  I'll post a followup 
message in a minute, first read this link:

http://www.25hoursaday.com/weblog/PermaLink.aspx?guid=75a5975d-ca85-452a-94cb-46cfcf0ad67f

Writing a recurring column about any particular topic is tough, the writer 
needs a "well to draw from often" or "whipping post".  I like Dare Obasanjo 
just fine, but Microsoft's URLs need some serious help.  They have so many 
different URI allocation schemes, and not one of 'em is RESTful.  But just 
about anything you come up with, even if it isn't REST, will likely be an 
improvement.

-Eric



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7015<br>
Sender:Ryan Tomayko &lt;rtomayko@...&gt;<br>
Post Date/Time:2006-11-15 17:37:39<br>
Subject:Re: [rest-discuss] Is AddToCart RESTful?<br>
Message:<br><br>
<pre>Mike Schinkel wrote:
&gt; If you'll notice that you can click on any [Add To Cart] button and
&gt; the method I used was a GET, i.e. 
&gt;  
&gt; [snip]
&gt;  
&gt; I really like that approach because I could send a link in an email
&gt; to a customer when they were asking for a product recommendation.

Paul Prescod used to refer to the ability to send links around as
"GET's superpowers" :)

&gt; Since the GWA fiasco I learned that that approach was considered
&gt; bad, and I've heard that sentiment echoed loudly and often here on
&gt; the list.  I have since come to accept that it was wrong; forgive me
&gt; for I have sinned. ;)

The basic idea is solid and sending links around is absolutely one of
the greatest benefits afforded a system based on hypermedia...

&gt; But I would still like to explore the concept to fully understand
&gt; how to achieve "correctness" and also the same levels of usability
&gt; that I had being able to email the links.  So here are my questions:
&gt;  
&gt; 1.) Revisiting my design; it *is* idempotent; i.e. it doesn't add a
&gt; new item to the cart with multiple GETS as I incorporated logic to
&gt; ensure it only added one. It was also "safe" in a manner of
&gt; speaking; adding to the cart did not obligate a person to buy but it
&gt; did leave an item in the shopping cart (making it impossible for us
&gt; to truly understand abandon rates; can you tell we didn't pay
&gt; attention to that metric?)
&gt;  
&gt; 2.) What if there was a url I could have emailed to customers that
&gt; instead took them to a screen that asked them to click a button on a
&gt; form that used POST to add the identified item into the shopping
&gt; cart?  That would be more RESTful then?

You got it.

&gt; Obviously I don't need this anymore since I'm not part of that
&gt; company, but I've often pondered that design since GWA.

This is such a frequent design technique that I'd be surprised if you
didn't need it at some other point in time.

--
Ryan Tomayko
http://naeblis.cx/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7016<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-15 18:18:53<br>
Subject:RE: [rest-discuss] Is AddToCart RESTful?<br>
Message:<br><br>
<pre>Ryan Tomayko wrote:

&gt;&gt; Paul Prescod used to refer to the ability to send links around as "GET's
superpowers" :)

	Hehe. :)

&gt;&gt; The basic idea is solid and sending links around is absolutely one of the
greatest benefits afforded a system based on hypermedia...

Along those lines, this is one of my most hated web pages (I'm sure you can
figure out why):

	http://www.cycletrader.com/adsearch.html

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7017<br>
Sender:Kevin Mitchell &lt;kjmitchell9@...&gt;<br>
Post Date/Time:2006-11-15 18:37:37<br>
Subject:Re: [rest-discuss] Is AddToCart RESTful?<br>
Message:<br><br>
<pre>I've been reading this list for a long time now, and
this is my first post. So hello everyone! I designed a
set of REST services back in 2002 and did a couple
papers based on the experience at XML 2002. Then the
project got cancelled... Since then have not had much
opportunity/reason to apply REST but hopefully that
will change...

--- Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt; 1.) Revisiting my design; it *is* idempotent; i.e.
&gt; it doesn't add a new item
&gt; to the cart with multiple GETS as I incorporated
&gt; logic to ensure it only
&gt; added one. It was also "safe" in a manner of
&gt; speaking; adding to the cart
&gt; did not obligate a person to buy but it did leave an
&gt; item in the shopping
&gt; cart (making it impossible for us to truly
&gt; understand abandon rates; can you
&gt; tell we didn't pay attention to that metric?)
&gt;  

I think maybe there is more to "safe" than not
obligating the user. From RFC 2616 (HTTP), Section
9.1.1

"  In particular, the convention has been established
that the GET and HEAD methods SHOULD NOT have the
significance of taking an action other than retrieval.
These methods ought to be considered "safe". "

Basically a GET should do nothing but retrieve.

&gt; 2.) What if there was a url I could have emailed to
&gt; customers that instead
&gt; took them to a screen that asked them to click a
&gt; button on a form that used
&gt; POST to add the identified item into the shopping
&gt; cart?  That would be more
&gt; RESTful then?
&gt;  

Yes indeed it would be RESTful (actually I think it is
more about complying with HTTP in this case), assuming
the "add to the shopping cart" part was RESTful as
well. Something like the form directing the POST at a
resource for the user's carts or the set of all carts,
or whatever, as long as you have distinct resources
with distinct URI for distinct things. E.g. there
should be a resource for the cart, with its own URI,
and likely a GET on that URI would show you the
contents of the cart presuming you have the authority
to see it. Also have a distinct resource for the item.


 
____________________________________________________________________________________
Sponsored Link

Rates near historic lows - 
$200,000 mortgage for $660/ month - 
http://yahoo.ratemarketplace.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7018<br>
Sender:"Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-11-15 18:42:18<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>&gt; So Microsoft couldn't figure out how to scale their app without making
&gt; everyone's personal directory, a hostname?  WTF?  I mean, this problem's as
&gt; old as the web, distributing named userspace directories /~someuser/ across
&gt; multiple servers has long been a problem *with a solution* that doesn't
&gt; inconvenience users like this!
I noticed that Amazon's S3 storage system recently did something
similar. However, there is more to 'user directories' than
partitioning the URI across back end machines. Another name for
'domain' is 'authority'. When you host web applications, many security
considerations are based on the 'authority' of content within that
application - the domain name. Cookies and script for example both are
constrained by the browser to operate within the originating
authority. By using the same host name for all applications from all
organizations, this partitioning by authority isn't possible.
I haven't seen any reports of cross-site scripting attacks or cookie
peeking, but I'm pretty sure that's what is possible when many
application authors are put into the same authority/domain.

I agree with you though that routing to multiple back-end hosts for
scale and availability doesn't require additional DNS names. It may be
simple and effective in many situations, but it isn't the only strong
approach.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7019<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-11-15 18:58:39<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>&gt;
&gt;&gt;&gt; The point I was making is that the feed URL is more or less constant, so
&gt;what is the point of submitting it (to Technorati) every time you post to or
&gt;edit your weblog?
&gt;
&gt;Well, isn't a URL a URI, or identifier, so isn't it appropriate to tell
&gt;Technorati the identifier of the blog to ping? That the identifer also
&gt;happens to be a locator is just convenient.
&gt;

Of course it's appropriate to tell Technorati this.  An application has logic 
which is identical whether the implementation is XML-RPC or REST, because 
application logic is beyond the scope of distributed networking architectural 
styles.  Making a PUT to Technoresti directly identifies the weblog in 
question in my example, just like the XML-RPC ping, except it does so by 
transferring a fraction of the bytes of the XML-RPC solution and does not 
impose the requirement of one ping per post imposed by the XML-RPC solution, 
reducing not only bandwidth requirements but TCP/IP overhead and therefore 
CPU cycles are freed up to service application logic instead of inefficient 
redundancies.

Architecturally, Technoresti has a different submission URL for each user.  
In Technorati all users make submissions to the same URL.  "It's just 
convenient" is hardly a defense for an inherently inefficient approach which 
goes against proper web architecture.  Which doesn't mean it won't work, like 
I said before, it means they don't mind wasting bandwidth but I can't relate 
to that attitude.  The goal in REST is to scale, which typically means going 
against the notion of "convenience" prevalent amongst those who favor MVC 
design patterns and spend a small fortune on server farms they don't really 
need.  And the electricity to power them.  And more electricity to cool it 
all down.  And more datacenter space.  I can't afford convenience, besides, 
the number-one all-time user complaint about the web is it's slow so it seems 
to me that focusing on proper architecture, scaling and efficiency is a no-
brainer.

&gt;
&gt;OTOH, this would not be RESTful because it is sending the logic, not the
&gt;representation (right?)
&gt;

No, there's nothing inherently un-RESTful about an URL like this:

[1] http://example.com/service?query=www.example.org

That's sending an identifier, not logic or a representation.  I can GET, PUT, 
POST or DELETE the above URL [1].  In REST, the application logic defines how 
/service responds to these methods, not the contents of the message body.

&gt;
&gt;&gt;&gt; Your feed should get a new timestamp whenever it's updated with new
&gt;content. The value of that timestamp may be PUT to the user's URL to change
&gt;the value in &lt;updated&gt; concurrently with your feed's timestamp being
&gt;updated.
&gt;
&gt;But doesn't that violate REST by posting the logic not the representation?
&gt;Isn't the &lt;updated&gt; field considered logic in this case?
&gt;

That is not posting logic.  The value posted is not an instruction.  The 
value posted is a value in a node on an XML tree.  The application state is 
represented by the values in that node tree.  Posting _logic_ would instruct 
the server what calculations it needs to perform to arrive at the desired new 
value for that node.  The instructions would be posted to the server, then 
executed, before the state of the node would be updated to reflect the new, 
computed value.

In REST the new state of the application gets posted, the action of making a 
PUT updates the application state by first updating the value of the node.  
The application then executes retroactively, to make whatever changes are 
required elsewhere to support the new value in that node.  The node tree's 
state is transferred in a representation in response to a GET, the node 
tree's representation is altered and this new application state is PUT back.

That's using hypermedia representations to transfer application state, there 
is no program logic in a timestamp, it is just the value of a particular node 
in a data tree.

&gt;
&gt;&gt;&gt; REST is not concerned with application logic, only information
&gt;architecture. There is no constraint in REST regarding data quality, so no
&gt;of course you can't jump to any general conclusions about REST based on the
&gt;implementation specifics of this example.
&gt;
&gt;Your answer leads me to a question that I hadn't even begun to ask on the
&gt;list: Is REST always appropriate and if not, why and why not? Feel free to
&gt;defer that answer to later.
&gt;

Yes, of course REST is appropriate.  If the goal is to build a distributed 
hypermedia application, individual technologies and application logic and 
protocols may be chosen based on any criteria desired so long as the result 
is within the constraints of REST.  There is no architectural style which has 
been shown to be more efficient on the Internet than the one the Internet is 
natively designed to support.

Why would it ever be inappropriate to evaluate any distributed hypermedia 
Internet application except by considering it against the constraints which 
have been defined as native to the idiom?  Is there some other set of 
criteria I don't know about which has been shown to be superior?  Not more 
popular, more efficient.

&gt;
&gt;&gt;&gt; Technoresti would have a far better chance of being "done correctly,"
&gt;since there's no timestamp in the XML-RPC ping other than the POST
&gt;submission time. Technoresti would allow batch updates of multiple weblogs
&gt;with one PUT, on a once-per-day for all weblogs schedule, instead of once
&gt;per post. The spidering would be smarter with reliable timestamps to use as
&gt;a baseline which the application logic can refer to.
&gt;
&gt;But are those benefits of REST over XML-RPC, or simply the fact that the
&gt;currect implementation didn't attempt to solve those problems?
&gt;

When you're sending application logic in the message body you open up many 
cans of worms.  Presumably, the XML-RPC approach could be made to function 
the same way as the REST approach.  The bandwidth requirements could even 
be brought under control.  But aside from the implementation-specific 
examples I gave of scheduling, etc. which have nothing to do with REST since 
it's application logic, the other advantages of REST still stand.

If you want to update your application logic, would you prefer that this was 
transparent to your users, or would you prefer sending everyone an e-mail who 
has ever implemented your XML-RPC Ping informing them that it will no longer 
work unless they re-code their applications?  When you do update your code, 
and a bunch of websites that utilized your previous version now show errors, 
you'll perhaps get that lightbulb over your head which says, "Ah!  Now I know 
why transferring application logic is a bad idea."

A truly RESTful API could be entirely re-coded on the back end to change the 
implementation without affecting the functionality.  With XML-RPC, without 
changing the functionality, changing the implementation would require 
changing the API.  Since the API is "out there" instead of contained within 
the application logic this is no small feat.

&gt;
&gt;One final thing to clarify. If http://technoresti.com/users/{username} is
&gt;the resource and "&lt;updated&gt;2006-12-31T24:59:59Z&lt;/updated&gt;" is the
&gt;representation,
&gt;

No, the URI is not the resource.  A resource is a conceptualization, a 
resource identifier assigns a name to that concept which may be a location as 
well.  The resource in this case is "a list of weblogs with titles, 
descriptions and updated times."  The representation is the entire list of 
weblogs, their titles, descriptions and updated times populated with the 
current values for those list items which gets transferred over the network.

Don't get this confused with the earlier example regarding document 
fragments.  I have defined the URI pattern /{username} as the entire list of 
weblogs and their metadata in this example.  GET the list of weblogs.  Edit 
the &lt;updated&gt; value corresponding to the weblog in question, or more than one 
weblog if it's a batch update.  PUT the list back where it came from.

&gt;
&gt;what is the name of the resource; i.e. what's it's noun? I
&gt;can see having a profile at http://technoresti.com/users/{username} and then
&gt;submitting a respresentation of my profile (name, email, blog urls), but the
&gt;&lt;updated&gt; element doesn't seem right for a resource. Doesn't this seem more
&gt;correct? http://technoresti.com/users/{username}/{blog-id}/updated
&gt;

A URI is a resource identifier.  In REST a resource is referred to as a 
"noun" but I think that's just the local dialect on this list, not a formal 
definition in REST.  A name is a resource identifier.  A name is a proper 
noun.  Call it whatever you want.  The resource is defined in this example as 
having the name http://technoresti.com/users/{username}.

My example used a &lt;ul&gt; because I wanted it to indicate that the /{username} 
resource could contain a list of multiple weblogs, and it's that list of 
weblogs that I've identified as the resource.

I didn't say that /{username} was a profile page.  To extend my example let's 
say the profile resource is /{username}/profile and leave /{username} exactly 
how I've defined it, which is a list of weblogs the user wants to have 
spidered by the Technoresti service when those weblogs are updated.  Nothing 
more, nothing less -- don't read anything into the examples which isn't there.

If I want to change my profile, aside from my list of weblogs, then I would 
PUT the new values to the /profile resource.  Don't ask me what "seems more 
correct," there is no silver-bullet "correct" URI solution.  If you want to 
put the blog ID in the URL and make &lt;updated&gt; a standalone resource, you 
could do that, I suppose -- but you'd better have good reason for it.

But there's no reason for it.  Why add complexity by making each item in a 
short, logical list of identical small items its own resource with its own 
URL?  That would seem to go against the precept of scaling, because a batch 
update of several weblogs would require multiple HTTP requests instead of one 
PUT, which is why I gave the example of a list of weblogs instead of giving 
an example of one resource per weblog.

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7020<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-11-15 19:03:28<br>
Subject:Re: [rest-discuss] Is AddToCart RESTful?<br>
Message:<br><br>
<pre>On the topic of shopping carts, you might also be interested in this;

http://tech.groups.yahoo.com/group/rest-discuss/message/4832

Also, in that system you described, it doesn't seem to be *that* much
different from a GET that safely returns a representation of a
shopping cart pre-filled with that item.  I'll leave it to you to
figure out the details of the difference.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7021<br>
Sender:"Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-11-15 18:57:36<br>
Subject:Re: [rest-discuss] Is AddToCart RESTful?<br>
Message:<br><br>
<pre>&gt;
&gt; &gt; Since the GWA fiasco I learned that that approach was considered
&gt; &gt; bad, and I've heard that sentiment echoed loudly and often here on
&gt; &gt; the list.  I have since come to accept that it was wrong; forgive me
&gt; &gt; for I have sinned. ;)
(We all have... I built a service framework many years ago that made
it trivally easy to create links that would delete data... oops.)

&gt;
&gt; The basic idea is solid and sending links around is absolutely one of
&gt; the greatest benefits afforded a system based on hypermedia...
In my opinion, this benefit is not so much about technology, but all
about psychology. By removing the fear of what might happen if a
person interacts with a web application we enable more users to jump
in and try that application.
Let's pretend somebody came up with a slick way to craft a URI that
could be emailed, bookmarked, etc. and that user agents (email,
browsers) knew to use POST or DELETE. Now if the display of the URI
still appeared as a blue underlined piece of text, and no
prompt/warning occured - the end user will not know now which links
obligate them or do unexpected things. The technology may have been
worked out, but the user experience (psychology) has been trashed.

Is that part of REST? You decide.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7022<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-15 20:16:00<br>
Subject:Re: [rest-discuss] Seeking some clarification around some aspects of REST<br>
Message:<br><br>
<pre>"Mike Dierken" &lt;dierken@...&gt; writes:

&gt;&gt; As you point out, syndication is one option for asynchronous
&gt;&gt; notification. But it's not really asynchronous. It's just client
&gt;&gt; polling.

&gt; I think an order processing system wouldn't be sending data to a user
&gt; interface client like a browser. 

Well, that's exactly my point. It can't really send notification to a
browser because that's not what a browser _is_.


&gt; There is no common approach to indicating these
&gt; callbacks (setting up subscriptions), but there have been several
&gt; informal proposals over the years. I'm guessing hypertext is at the
&gt; heart of any real solution.

There is a common callback approach though and it's done by sending an
http uri in an email.

Seems good enough to me. The Internet isn't just the web.


Mind you. I get the same feeling when people start talking about JMS
or MQ. Good as those systems are I can't help wondering why people
just don't use SMTP.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7023<br>
Sender:Yohanes Santoso &lt;yahoo-rest-discuss@...&gt;<br>
Post Date/Time:2006-11-15 23:58:10<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>"Mike Dierken" &lt;dierken@...&gt; writes:

&gt;&gt; So Microsoft couldn't figure out how to scale their app without making
&gt;&gt; everyone's personal directory, a hostname? WTF? I mean, this problem's as
&gt;&gt; old as the web, distributing named userspace directories /~someuser/ across
&gt;&gt; multiple servers has long been a problem *with a solution* that doesn't
&gt;&gt; inconvenience users like this!
&gt; I noticed that Amazon's S3 storage system recently did something
&gt; similar. However, there is more to 'user directories' than
&gt; partitioning the URI across back end machines. 

[... example of partitioning authority by domains ...]


Perhaps the biggest reason to having personalised domain is
psychological, not technical.

Which one appeals more to you?
http://yourbigcorporate.com/~yourname --OR--
http://yourname.yourbigcorporate.com  ?

"What's in a name?" is an apt question here. Vanity is the game, and
millions of dollars have been spent playing it (how much did sex.com
sell for?).

http://tinyurl.com/4j9e                (free)       --OR--
http://somehostingcompany.com/biz/sex  ($20/month)  --OR--
http://sex.com                         (some six-digit figure)




There is another benefit to having personalised domain. In my previous
company, each employee gets his own domain. I got
ysantoso.company.net.

Along with it, I have control over the subdomains:

My homepage was http://ysantoso.company.com instead of 
http://company.com/employee/ysantoso.

I could FTP directly to ftp.ysantoso.company.com instead of
ftp-ing to company.com and issuing a "cd ysantoso".

I also had many mailboxes:
urgent@... -- forwards messages to my pager
friend@... -- what I gave to friends
junk@...   -- what I entered for various website registrations
office@... -- I hand this out in business card
todo@...   -- piped to my TODO program
rest-discuss@...  -- mails from rest-discuss group.

Why stop personalising at employee, why not give softwares
personalised domain too?

bug@...    -- automatically file bug for a software titled "vaporware".



In short, personalisation is an effective and attractive
gimmick. Microsoft's excuse for going to personalised domain may be
lame. But the end product, personalised domain, is far from being lame
and has yet to be taken advantage of by public.



YS.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7024<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-11-16 01:28:32<br>
Subject:Zimbra REST interface<br>
Message:<br><br>
<pre>This REST-based API actually looks pretty good.

    http://wiki.zimbra.com/index.php?title=User_Migration#REST_overview

though I don't think much of the name.  It certainly would make me much
more inclined to use a Zimbra server than other collaboration servers.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7025<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-11-16 05:22:49<br>
Subject:Re:  [rest-discuss] REST design question<br>
Message:<br><br>
<pre>&gt;
&gt; In short, personalisation is an effective and attractive
&gt; gimmick. Microsoft's excuse for going to personalised domain may be
&gt; lame. But the end product, personalised domain, is far from being lame
&gt; and has yet to be taken advantage of by public.
&gt;

Yes, I do seem to have come across as advocating against personalized 
domains in my anti-M$ rant... but I only meant to criticise their use of a 
migration-to-temporary-URI strategy to accomplish a simple rebranding. Their 
end result wasn't personalized domains, it was personalized pathnames, just 
like before.

I can't see how following the tenets of the REST architectural style 
would ever lead to such a ridiculous requirement regardless of the scale of 
the service.  My point being that if you're backed into a corner where that 
procedure really *is* a requirement and not just ignorance, it's a result of 
past screwups wherein deviations from best practices have obviously occurred, 
likely out of ignorance.

Sorry to self-promote, but I have an upcoming service offering on my groo.vi 
domain.  Personalized subdomains of {user}.is.groo.vi and {group}.are.groo.vi 
are under discussion, so yeah I'm all in favor!

-eric.is[at]groo.vi




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7026<br>
Sender:"Rob Evans" &lt;objectiveous@...&gt;<br>
Post Date/Time:2006-11-17 03:46:16<br>
Subject:Sharing ReST via Games<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7027<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-11-17 09:49:20<br>
Subject:"The S stands for simple"<br>
Message:<br><br>
<pre>An entry on Peter Lacey's blog:

http://wanderingbarque.com/nonintersecting/2006/11/15/the-s-stands-for-
simple/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7028<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-11-17 10:01:15<br>
Subject:"The REST Dialogs"<br>
Message:<br><br>
<pre>http://duncan-cragg.org/blog/post/getting-data-rest-dialogues/

"In an exclusive nine-part dialogue with an imaginary eBay Architect, 
we present an accessible discussion of the REST vs. SOA issue. 

Although eBay have what they call a 'REST' interface, it is, in fact, a 
STREST interface, and only works for one of the many function calls 
that they make available via SOAP (GetSearchResults). 

In this dialogue series, I argue the case for eBay to adopt a truly 
REST approach to their integration API."



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7029<br>
Sender:"Daniel Hardman" &lt;daniel.hardman@...&gt;<br>
Post Date/Time:2006-11-17 16:40:22<br>
Subject:transactions and complex updating<br>
Message:<br><br>
<pre>What is the group's view on a restful way to perform complex updates? 
Suppose I have an object that has 3 properties (not simple ints or 
strings, but complex values in their own right, like a schedule or a 
policy) that all interrelate, and I want my updates to either all go 
or all be rejected in a single atomic operation. Getting the 
properties is easy. Putting them individually is easy but broken.

Do I POST to the parent resource and use multipart MIME to embed the 
update info for all three properties as three conceptually separate 
xml docs?

--Daniel Hardman
Advisory Engineer, Symantec Corporation



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7030<br>
Sender:Richard Dunlap &lt;radunlap@...&gt;<br>
Post Date/Time:2006-11-17 16:47:55<br>
Subject:Re: [rest-discuss] "The S stands for simple"<br>
Message:<br><br>
<pre>That was great!

But I wonder...   how accurately does it portray the state of WS  
affairs?  And conversely, how much does it overstate the flux and  
confusion?

This much seems clear, the WS folks  seem to making it up as they  
go.  And it seems that it's too easy to change things, they need  
"fewer cooks".  It underlines the assertion that WS is descriptive  
and REST is prescriptive.

Ciao,

	Rick

On Nov 17, 2006, at 3:49 AM, Alan Dean wrote:

&gt; An entry on Peter Lacey's blog:
&gt;
&gt; http://wanderingbarque.com/nonintersecting/2006/11/15/the-s-stands- 
&gt; for-
&gt; simple/
&gt;
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7031<br>
Sender:Paul Jimenez &lt;pj@...&gt;<br>
Post Date/Time:2006-11-17 17:42:48<br>
Subject:Re: [rest-discuss] transactions and complex updating<br>
Message:<br><br>
<pre>
If it's an object, it should have its own representation, which
includes the representation of its properties; I would favor
a new higher-level representation over multipart MIME. So if
you have properties &lt;a&gt; &lt;b&gt; and &lt;c&gt; of object &lt;x&gt;, why not
POST something like &lt;x&gt;&lt;a/&gt; &lt;b/&gt; &lt;c/&gt;&lt;/x&gt; ?

  --pj

On Friday, Nov 17, 2006, "Daniel Hardman" writes:
&gt;What is the group's view on a restful way to perform complex updates? 
&gt;Suppose I have an object that has 3 properties (not simple ints or 
&gt;strings, but complex values in their own right, like a schedule or a 
&gt;policy) that all interrelate, and I want my updates to either all go 
&gt;or all be rejected in a single atomic operation. Getting the 
&gt;properties is easy. Putting them individually is easy but broken.
&gt;
&gt;Do I POST to the parent resource and use multipart MIME to embed the 
&gt;update info for all three properties as three conceptually separate 
&gt;xml docs?
&gt;
&gt;--Daniel Hardman
&gt;Advisory Engineer, Symantec Corporation
&gt;
&gt;
&gt;
&gt;
&gt; 
&gt;Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7032<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-11-17 18:16:20<br>
Subject:Re: [rest-discuss] transactions and complex updating<br>
Message:<br><br>
<pre>Daniel Hardman wrote:
&gt; 
&gt; 
&gt; What is the group's view on a restful way to perform complex updates?
&gt; Suppose I have an object that has 3 properties (not simple ints or
&gt; strings, but complex values in their own right, like a schedule or a
&gt; policy) that all interrelate, and I want my updates to either all go
&gt; or all be rejected in a single atomic operation. Getting the
&gt; properties is easy. Putting them individually is easy but broken.

Take a look at GData's batch mode

http://code.google.com/apis/gdata/batch.html

Extension: if the op is very expensive or you want to run a job 
asynchronously, return 201+Location and allow the client to poll the 
location to see if the op completed.

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7033<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2006-11-17 19:16:28<br>
Subject:Re: [rest-discuss] transactions and complex updating<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7034<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-17 19:46:12<br>
Subject:Re: [rest-discuss] transactions and complex updating<br>
Message:<br><br>
<pre>"Bob Haugen" &lt;bob.haugen@...&gt; writes:

&gt; Another possibility we have discussed previously on this list is to make a
&gt; resource of the transaction itself.
&gt;
&gt; At that point, you could do some variation on 2-phase commit where the
&gt; transaction resource is the coordinator.
&gt;

Which is actually a common pattern I find.

If you have something that seems tricky to model on a single resource
you simply explode the resource into multiple resources and define the
operations there.

Applications of this pattern have been mentioned at least twice in the
last two weeks (the "transaction" representation and the "bits of a
large file" representation).


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7035<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-11-17 20:49:29<br>
Subject:Re: [rest-discuss] transactions and complex updating<br>
Message:<br><br>
<pre>Bob Haugen wrote:
&gt; 
&gt; 
&gt; Another possibility we have discussed previously on this list is to make 
&gt; a resource of the transaction itself.
&gt; 
&gt; At that point, you could do some variation on 2-phase commit where the 
&gt; transaction resource is the coordinator.

That's what I did for httplr. The message exchange is a resource. it's 
nice for management purposes:

http://www.dehora.net/doc/httplr/draft-httplr-01.html

I should make time to send that into the RFC Editor. Some day.

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7036<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-11-18 00:33:28<br>
Subject:"URL Access"<br>
Message:<br><br>
<pre>this post on blogs.msdn.com is interesting:

http://blogs.msdn.com/jgalla/archive/2006/11/17/transitioning-between-
soap-and-url-access.aspx

I wonder if some at MS are starting to see the RESTful light? Although 
they are referring to a regular GET as "URL Access", it sits there 
right next to the SOAP alternative.

What is more, he clearly demonstrates a performance advantage from 
being able to stream (in .NET WS- clients you have to load the whole 
response into memory).

Alan Dean



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7037<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-20 13:58:09<br>
Subject:proxy's and PUT<br>
Message:<br><br>
<pre>So I'm developing this application and I've done it the *right*
way. There's a RESTfull API (GET, POST, PUT, DELETE, resources mean
things, etc...) and an AJAX client dealing with this API.

One of my developers comes to me and says "I can't commit from inside
this big coproration that I happen to be sitting in"

I investigate and it seems the only access to the web from inside this
well known large british communications company is via a proxy server
that does not support PUT.


Oh dear.

I wonder how many other large organizations have ancient proxy servers
(or not so ancient) that don't support PUT.


What is a RESTafarian to do in such a situation? Should I add a
non-RESTfull (POST based) gateway API ? Is there another solution?


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

PS I feel empty not putting a pirate gag in here but I don't have the
time to think of one. I promise I'll put 2 in my next post.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7038<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-11-20 14:35:14<br>
Subject:Re: [rest-discuss] proxy's and PUT<br>
Message:<br><br>
<pre>Nic James Ferrier wrote:

&gt; What is a RESTafarian to do in such a situation? Should I add a
&gt; non-RESTfull (POST based) gateway API ? Is there another solution?

What would stop you allowing POST to the URI instead of PUT?

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7039<br>
Sender:"Joe Gregorio" &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2006-11-20 14:50:39<br>
Subject:Re: "Lightweight Data Access Services" and Well Designed Urls [rest-discuss]<br>
Message:<br><br>
<pre>On 10/26/06, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt;  The next issue you debated with me was whether REST required hypermedia. I
&gt;  am still unclear as to what hypermedia exactly looks like (I've seen zero
&gt;  real world examples in anything I've read online)

I would have thought a web browser consuming HTML would be pretty hard to miss.

&gt;  However, ALL of the examples of web services implementations I have seen
&gt;  that claim to be REST-based DO NOT incorporate a "hypermedia" aspect.

You might want to look at feed auto-discovery:

  http://philringnalda.com/rfc/draft-ietf-atompub-autodiscovery-01.html

Or the service document of the Atom Publishing Protocol:

  http://bitworking.org/projects/atom/draft-ietf-atompub-protocol-11.html#appdocs

Or the Open Search description document:
    http://www.opensearch.org/Specifications/OpenSearch/1.1#OpenSearch_description_document

   -joe

-- 
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7040<br>
Sender:Yohanes Santoso &lt;yahoo-rest-discuss@...&gt;<br>
Post Date/Time:2006-11-20 15:09:07<br>
Subject:Re: [rest-discuss] proxy's and PUT<br>
Message:<br><br>
<pre>Nic James Ferrier &lt;nferrier@...&gt; writes:

&gt; What is a RESTafarian to do in such a situation? Should I add a
&gt; non-RESTfull (POST based) gateway API ? Is there another solution?

Tunneling one method through another. This is an ugly hack, but is
necessary at times (as your example shows) and when dealing with
browsers (which are not capable of doing PUT and DELETE). 

The restlet library fro www.restlet.org allows for this hack too
(tunneling through POST method).

YS.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7041<br>
Sender:"Joe Gregorio" &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2006-11-20 14:36:32<br>
Subject:Re: [rest-discuss] REST and ATOM<br>
Message:<br><br>
<pre>On 11/14/06, Ben Davies &lt;omarshariffdontlikeit@...&gt; wrote:
&gt;
&gt; "While I've used/written Atom for GETs, I've not yet used it for PUTs."
&gt;
&gt; The following article illustrates the use of ATOM with REST principles to facilitate CRUD functions (page 2 specifically):
&gt;
&gt; http://www.xml.com/pub/a/2003/10/15/dive.html

This article is a little more recent and up to date on where
the APP is today:

http://www.xml.com/pub/a/2006/07/19/implementing-atom-publishing-protocol-python-wsgi.html

   -joe

-- 
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7042<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-11-20 15:46:54<br>
Subject:Re: [rest-discuss] proxy's and PUT<br>
Message:<br><br>
<pre>Nic James Ferrier wrote:
&gt; Bill de hOra &lt;bill@...&gt; writes:
&gt; 
&gt;&gt; Nic James Ferrier wrote:
&gt;&gt;
&gt;&gt;&gt; What is a RESTafarian to do in such a situation? Should I add a
&gt;&gt;&gt; non-RESTfull (POST based) gateway API ? Is there another solution?
&gt;&gt; What would stop you allowing POST to the URI instead of PUT?
&gt; 
&gt; POST is already allowed, but with a RESTfull semantic.
&gt; 
&gt; My question is what is the best way to RESTfully allow this, or the
&gt; least worst way to do it not RESTfully.

I'm trying to answer, but I need to know first why/whether POST can't be 
used as an alternate for PUT in your app. That's the most 
straightforward approach. If they have to be distinct for implementation 
reasons the next step is to look at distinct URLs or qualifying headers.

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7043<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-11-20 16:03:17<br>
Subject:Re: [rest-discuss] proxy's and PUT<br>
Message:<br><br>
<pre>On 11/20/06, Bill de hOra &lt;bill@...&gt; wrote:
&gt; I'm trying to answer, but I need to know first why/whether POST can't be
&gt; used as an alternate for PUT in your app. That's the most
&gt; straightforward approach. If they have to be distinct for implementation
&gt; reasons the next step is to look at distinct URLs or qualifying headers.

Hmmm... I can see how POST can stand in for PUT with relative ease,
but how do you replace DELETE if a proxy only permits GET / POST?

Alan Dean

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7044<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-11-20 15:13:04<br>
Subject:Re: [rest-discuss] proxy's and PUT<br>
Message:<br><br>
<pre>If the firewall has blacklisted PUT, but allows extension methods,
create an alias method for PUT, e.g. SET.

Otherwise, if you don't use POST (and don't forsee it being used in
the future) on the same resource to which you're PUTting, use POST as
the alias.  If that's a problem, use a header on POST to change the
meaning to PUT.  Another alternative would be to use a subordinate URI
(e.g. POST http://example.org/foo/bar does the equivalent of PUT to
http://example.org/foo), but that screw up caches.

Mark.

On 11/20/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:
&gt; So I'm developing this application and I've done it the *right*
&gt; way. There's a RESTfull API (GET, POST, PUT, DELETE, resources mean
&gt; things, etc...) and an AJAX client dealing with this API.
&gt;
&gt; One of my developers comes to me and says "I can't commit from inside
&gt; this big coproration that I happen to be sitting in"
&gt;
&gt; I investigate and it seems the only access to the web from inside this
&gt; well known large british communications company is via a proxy server
&gt; that does not support PUT.
&gt;
&gt;
&gt; Oh dear.
&gt;
&gt; I wonder how many other large organizations have ancient proxy servers
&gt; (or not so ancient) that don't support PUT.
&gt;
&gt;
&gt; What is a RESTafarian to do in such a situation? Should I add a
&gt; non-RESTfull (POST based) gateway API ? Is there another solution?
&gt;
&gt;
&gt; --
&gt; Nic Ferrier
&gt; http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs
&gt;
&gt; PS I feel empty not putting a pirate gag in here but I don't have the
&gt; time to think of one. I promise I'll put 2 in my next post.
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7045<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-20 15:06:54<br>
Subject:Re: [rest-discuss] proxy's and PUT<br>
Message:<br><br>
<pre>Bill de hOra &lt;bill@...&gt; writes:

&gt; Nic James Ferrier wrote:
&gt;
&gt;&gt; What is a RESTafarian to do in such a situation? Should I add a
&gt;&gt; non-RESTfull (POST based) gateway API ? Is there another solution?
&gt;
&gt; What would stop you allowing POST to the URI instead of PUT?

POST is already allowed, but with a RESTfull semantic.

My question is what is the best way to RESTfully allow this, or the
least worst way to do it not RESTfully.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7046<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2006-11-20 17:26:34<br>
Subject:Re: [rest-discuss] proxy's and PUT<br>
Message:<br><br>
<pre>On Mon, 2006-11-20 at 13:58 +0000, Nic James Ferrier wrote:
&gt; What is a RESTafarian to do in such a situation? Should I add a
&gt; non-RESTfull (POST based) gateway API ? Is there another solution?

I've seen similar bad proxying behavior with svn http (webdav); using
https sometimes seems to help.  Ymmv.

-- 
...jsled
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7047<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-11-20 17:46:23<br>
Subject:Re: [rest-discuss] proxy's and PUT<br>
Message:<br><br>
<pre>Alan Dean wrote:
&gt; 
&gt; 
&gt; On 11/20/06, Bill de hOra &lt;bill@... &lt;mailto:bill%40dehora.net&gt;&gt; 
&gt; wrote:
&gt;  &gt; I'm trying to answer, but I need to know first why/whether POST can't be
&gt;  &gt; used as an alternate for PUT in your app. That's the most
&gt;  &gt; straightforward approach. If they have to be distinct for implementation
&gt;  &gt; reasons the next step is to look at distinct URLs or qualifying headers.
&gt; 
&gt; Hmmm... I can see how POST can stand in for PUT with relative ease,
&gt; but how do you replace DELETE if a proxy only permits GET / POST?

   POST /myresource/delete
   ...

or
   POST /myresourceform/
   ...
   [crlf]
     resource details in here somewhere

or

   POST /myresource
   TUNNEL-METHOD: DELETE

the first two are how htmlforms based apps usually work, the latter is 
what SOAPAction wants to be when it grows up.

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7048<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-11-20 18:24:02<br>
Subject:Re: [rest-discuss] proxy's and PUT<br>
Message:<br><br>
<pre>On 11/20/06, Bill de hOra &lt;bill@...&gt; wrote:
&gt; POST /myresource
&gt; TUNNEL-METHOD: DELETE
&gt;
&gt; the first two are how htmlforms based apps usually work, the latter is
&gt; what SOAPAction wants to be when it grows up.

Shouldn't that be X-TUNNEL-METHOD, or am I missing part of the HTTP
specification?

Alan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7049<br>
Sender:"Craig Overend" &lt;craig.overend@...&gt;<br>
Post Date/Time:2006-11-20 17:34:33<br>
Subject:HTTP URI Methods Extension &amp; REST?<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7050<br>
Sender:Jonathan Arkell &lt;yahoo@...&gt;<br>
Post Date/Time:2006-11-20 18:17:48<br>
Subject:Re: [rest-discuss] proxy's and PUT<br>
Message:<br><br>
<pre>I've been a fan of Bill deo hOra's method of using a TUNNEL-METHOD  
header. In my Meditation framework, I allow either a HTTP Header to  
be sent, a variable on the query string, or a variable inside of the  
form. In this case I call it X-REST-METHOD.

Truth be told, I like TUNNEL-METHOD as a header rather then REST-METHOD.

Jonathan Arkell
jonnay@...




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7051<br>
Sender:"Ben Davies" &lt;omarshariffdontlikeit@...&gt;<br>
Post Date/Time:2006-11-20 18:40:35<br>
Subject:Re: [rest-discuss] REST and ATOM<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7052<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-11-20 18:48:57<br>
Subject:Re: [rest-discuss] HTTP URI Methods Extension &amp; REST?<br>
Message:<br><br>
<pre>Regarding grounding method names in URI space, see PEP;
http://www.w3.org/TR/WD-http-pep

On 11/20/06, Craig Overend &lt;craig.overend@...&gt; wrote:
&gt;
&gt;    I'm throwing this half-baked idea out there for some feedback to see how feasible it might be.
&gt; It's basically extending HTTP with directional URI-namespace methods. URI specfic methods could be looked up by a client with HTTPs OPTION method. The returned Allow: response then used to determine what API methods can be performed on any particular resource. URI Namespacing them would allow anyone to create their own documented API that could be looked up manually or auto-discovered and documented with crawlers.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7053<br>
Sender:Chris Dent &lt;cdent@...&gt;<br>
Post Date/Time:2006-11-20 18:29:14<br>
Subject:Re: [rest-discuss] proxy's and PUT<br>
Message:<br><br>
<pre>On Mon, 20 Nov 2006, Nic James Ferrier wrote:
 &gt; Bill de hOra &lt;bill@...&gt; writes:
 &gt; &gt; Nic James Ferrier wrote:
 &gt; &gt;&gt; What is a RESTafarian to do in such a situation? Should I add a
 &gt; &gt;&gt; non-RESTfull (POST based) gateway API ? Is there another solution?
 &gt; &gt;
 &gt; &gt; What would stop you allowing POST to the URI instead of PUT?
 &gt; 
 &gt; POST is already allowed, but with a RESTfull semantic.
 &gt; 
 &gt; My question is what is the best way to RESTfully allow this, or the
 &gt; least worst way to do it not RESTfully.

The in progress socialtext REST(-ish?) API provides both header and
query-string workarounds to allow PUT and DELETE in those places where
only GET and POST are allowed.

    https://www.socialtext.net/st-rest-docs/index.cgi?http_tunneling

Which appears to be what most other people (here) are saying is the okay
way to go. The issue arose for us not with proxies but with AJAX
requests in Safari silently becoming GETs. Sadly client code will now be
all nasty and unclean.

We've been refering to our efforts to stick to principles as "staying in
the museum". It's not going as well as we would like. We knew such
adaptations were going to be necessary but it's still sad.

-- 
Chris Dent                      http://burningchrome.com/~cdent/mt
                              [...]


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7054<br>
Sender:"Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-11-20 21:16:39<br>
Subject:Re: [rest-discuss] HTTP URI Methods Extension &amp; REST?<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7055<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-20 21:53:31<br>
Subject:Re: [rest-discuss] proxy's and PUT<br>
Message:<br><br>
<pre>Chris Dent &lt;cdent@...&gt; writes:

&gt; We've been refering to our efforts to stick to principles as "staying in
&gt; the museum". It's not going as well as we would like. We knew such
&gt; adaptations were going to be necessary but it's still sad.

It's very depressing.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7056<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-21 04:42:49<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Eric J. Bowman wrote: 

&gt;&gt; "It's just convenient" is hardly a defense for an inherently inefficient
approach which goes against proper web architecture.  Which doesn't mean it
won't work, like I said before, it means they don't mind wasting bandwidth
but I can't relate to that attitude.  The goal in REST is to scale, which
typically means going against the notion of "convenience" prevalent amongst
those who favor MVC design patterns and spend a small fortune on server
farms they don't really need.  And the electricity to power them.  And more
electricity to cool it all down.  And more datacenter space.  I can't afford
convenience, besides, the number-one all-time user complaint about the web
is it's slow so it seems to me that focusing on proper architecture, scaling
and efficiency is a no- brainer.

I won't disagree or overtly agree, but I would like to make an observation.
The past several years I've been thinking a lot about what makes people have
significant disagreements primarily because of the political polarization in
the US and the escalating tensions outside the US.  I've come to the
conclusion that disagreements are either about resource contention (water,
oil, land, etc.) or differing values.  The former is straightforward (though
I don't think it applies here, your bandwidth comment notwithstanding), but
when people have differing values that 1.) often don't even make that clear
and 2.) they often view their values as non-negotiable and the only values
that matter (can you say "rock &amp; a hard place?")

Anyway, I see that you value scalability and view using more resources than
necessary as inherently wrong.  Someone else might value optimizing for
another factor, such as maybe adoption, and that may cause them to implement
differently.  I'm not saying that applies in Technorati's case; I haven't
considering their sitatuation that closely.  Anyway, my point is simply that
since people basing their decisions on their own value system, if there is a
desire to find common ground then it's good to understand what each person's
value system is.

JMTCW.

&gt;&gt; &gt;
&gt;&gt; &gt;OTOH, this would not be RESTful because it is sending the logic, not 
&gt;&gt; &gt;the representation (right?)
&gt;&gt; &gt;
&gt;&gt; No, there's nothing inherently un-RESTful about an URL like this:
&gt;&gt; 
&gt;&gt; [1] http://example.com/service?query=www.example.org
&gt;&gt; 
&gt;&gt; That's sending an identifier, not logic or a representation.  I can GET,
PUT, 
&gt;&gt; POST or DELETE the above URL [1].  In REST, the application logic defines

&gt;&gt; how /service responds to these methods, not the contents of the message 
&gt;&gt; body.

I'm still confused. I though REST requests me to transfer representations.
Since it doesn't appear that URL is transfering a representation isn't it
non-RESTful?  (sorry I'm being so dense.)


&gt;&gt; &gt;&gt;&gt; Your feed should get a new timestamp whenever it's updated with new
&gt;&gt; &gt;content. The value of that timestamp may be PUT to the user's URL to
change
&gt;&gt; &gt;the value in &lt;updated&gt; concurrently with your feed's timestamp being
&gt;&gt; &gt;updated.
&gt;&gt; &gt;
&gt;&gt; &gt;But doesn't that violate REST by posting the logic not the
representation?
&gt;&gt; &gt;Isn't the &lt;updated&gt; field considered logic in this case?
&gt;&gt; &gt;
&gt;&gt; That is not posting logic.  The value posted is not an instruction.  The 
&gt;&gt; value posted is a value in a node on an XML tree.  The application state 
&gt;&gt; is represented by the values in that node tree.  Posting _logic_ would 
&gt;&gt; instruct the server what calculations it needs to perform to arrive at
the 
&gt;&gt; desired new value for that node.  The instructions would be posted to 
&gt;&gt; the server, then executed, before the state of the node would be updated 
&gt;&gt; to reflect the new, computed value.

Okay, then I got the wrong impression regard posting logic from some other
discussion on this list. Can you give me a simple but realistic example of
posting logic, in this context or any other?

&gt;&gt; &gt;&gt;&gt; REST is not concerned with application logic, only information
&gt;&gt; &gt;architecture. There is no constraint in REST regarding data quality,
&gt;&gt; &gt;so no of course you can't jump to any general conclusions about 
&gt;&gt; &gt;REST based on the implementation specifics of this example.
&gt;&gt; &gt;
&gt;&gt; &gt;Your answer leads me to a question that I hadn't even begun to ask
&gt;&gt; &gt;on the list: Is REST always appropriate and if not, why and why not?
&gt;&gt; &gt;Feel free to defer that answer to later.
&gt;&gt; &gt;
&gt;&gt; Yes, of course REST is appropriate.  If the goal is to build a
distributed 
&gt;&gt; hypermedia application, individual technologies and application logic 
&gt;&gt; and protocols may be chosen based on any criteria desired so long as 
&gt;&gt; the result is within the constraints of REST.  There is no architectural 
&gt;&gt; style which has been shown to be more efficient on the Internet than 
&gt;&gt; the one the Internet is natively designed to support.

Which beings me to another question I have been pondering. :)  Would it be
appropriate to develop a Window desktop application using a REST
architecture?  And please don't think it is a silly question.  I've long
lamented the fact that desktop applications don't have a URL for their
various states (except for File Manager which has a psuedo-URL, i.e a
filepath). Whenever someone has told my they had a bug on my website I ask
for the URL.  But when they've had a bug in a Windows app I wrote, what do I
ask for?  So it seems that a REST model would be appropriate for a desktop
application, and it would also more easily facilitate moving components of
the application to a LAN server when there is a need to scale, yes?

That said, the problem is development tools, or at least I don't think there
are good tools for developing desktop apps in this manner. Clearly object
interactions native to Java/C#/C++/etc. are more performant than message
passing and almost none make interacting with XML easy (except Microsoft's
Powershell; have you seen?) So it seems there would be a need to model
aggregations of resources as objects and then implement a web server
dispatcher that can receive HTTP messages and dispatch to the approriate
objects.   Does that make sense?

&gt;&gt; If you want to update your application logic, would you prefer that 
&gt;&gt; this was transparent to your users, or would you prefer sending 
&gt;&gt; everyone an e-mail who has ever implemented your XML-RPC Ping 
&gt;&gt; informing them that it will no longer work unless they re-code their 
&gt;&gt; applications?  When you do update your code, and a bunch of websites 
&gt;&gt; that utilized your previous version now show errors, you'll perhaps get 
&gt;&gt; that lightbulb over your head which says, "Ah!  Now I know why 
&gt;&gt; transferring application logic is a bad idea."

I don't see why there is any requirement via XML-RPC to chance an existing
service and I don't see why logic needs to be sent.  Just create a new
service (ver 2.0) and send a list of URLs, not just one.  

Anyway, I'm not advocating for XML-RPC. I've never used it but what I've
seen of it is not compelling. I was just debating your assertion that you'd
have to change an existing service and have to send logic because I don't
see why that would be a requirement (but maybe my not understanding about
sending logic is why...)

&gt;&gt; A truly RESTful API could be entirely re-coded on the back end to 
&gt;&gt; change the implementation without affecting the functionality.  
&gt;&gt; With XML-RPC, without changing the functionality, changing the 
&gt;&gt; implementation would require changing the API.  Since the API is 
&gt;&gt; "out there" instead of contained within the application logic this 
&gt;&gt; is no small feat.

I don't see how REST allows not changing the API either.  If you originally
allowed posting only one website and not you are going to allow posting of
multiple, wouldn't you need to create another URI to PUT to?

&gt;&gt; &gt;
&gt;&gt; &gt;One final thing to clarify. If http://technoresti.com/users/{username}
is
&gt;&gt; &gt;the resource and "&lt;updated&gt;2006-12-31T24:59:59Z&lt;/updated&gt;" is the
&gt;&gt; &gt;representation,
&gt;&gt; &gt;
&gt;&gt; No, the URI is not the resource.  A resource is a conceptualization, 
&gt;&gt; a resource identifier assigns a name to that concept which may be 
&gt;&gt; a location as well.  The resource in this case is "a list of weblogs 
&gt;&gt; with titles, descriptions and updated times."  The representation is 
&gt;&gt; the entire list of weblogs, their titles, descriptions and updated 
&gt;&gt; times populated with the current values for those list items which 
&gt;&gt; gets transferred over the network.

As a point of note, I find that confusing. I would find this much less
confusing for your stated resource:
http://technoresti.com/users/{username}/weblogs/ 

&gt;&gt; If you want to put the blog ID in the URL and make &lt;updated&gt; 
&gt;&gt; a standalone resource, you could do that, I suppose -- but you'd 
&gt;&gt; better have good reason for it.

But who gets to define if my reason is good or not? 
That's a rhetorical question, if it's not obvious. ;-)

Anyway, thanks for the continued discussion.

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7057<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-21 04:49:18<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Yohanes Santoso wrote:
 
&gt;&gt; In short, personalisation is an effective and attractive
&gt;&gt; gimmick. Microsoft's excuse for going to personalised domain may be
&gt;&gt; lame. But the end product, personalised domain, is far from being lame
&gt;&gt; and has yet to be taken advantage of by public.
 
Does anyone know how to implement this in a web app?  IOW, user goes to a
page, types in their desired subdomain, and... then what?  How does a web
app get the DNS updated?  (My experience trying to do this has all been on
Windows Servers in the past, so it might be easy on *nix, I dunno.)
 
OTOH, can you imagine the size of MSN's DNS zone transfer to secondary
servers, oh my!
 

-Mike Schinkel 
http://www.mikeschinkel.com/blogs/ 
http://www.welldesignedurls.org/ 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7058<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-21 04:45:06<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>&gt;&gt; Mike Dierken wrote:
 
&gt;&gt; I agree with you though that routing to multiple back-end hosts for
&gt;&gt; scale and availability doesn't require additional DNS names. It may be
&gt;&gt; simple and effective in many situations, but it isn't the only strong
&gt;&gt; approach.
 
Can anyone suggest specific solutions (products?) for this?
-Mike Schinkel 
http://www.mikeschinkel.com/blogs/ 
http://www.welldesignedurls.org/ 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7059<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-21 04:56:03<br>
Subject:RE: [rest-discuss] proxy's and PUT<br>
Message:<br><br>
<pre>Mark Baker wrote:
&gt;&gt; Another alternative would be to use a subordinate URI
&gt;&gt; (e.g. POST  &lt;http://example.org/foo/bar&gt; http://example.org/foo/bar does
the equivalent of PUT to
&gt;&gt;  &lt;http://example.org/foo&gt; http://example.org/foo), but that screw up
caches.
 
Why does that screw up caches?  I thought only GET was cachable?

-Mike Schinkel 
http://www.mikeschinkel.com/blogs/ 
http://www.welldesignedurls.org/ 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7060<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-11-21 05:54:31<br>
Subject:Re: [rest-discuss] proxy's and PUT<br>
Message:<br><br>
<pre>On 11/20/06, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt;
&gt;
&gt; Mark Baker wrote:
&gt; &gt;&gt; Another alternative would be to use a subordinate URI
&gt; &gt;&gt; (e.g. POST http://example.org/foo/bar does the equivalent of PUT to
&gt; &gt;&gt; http://example.org/foo), but that screw up caches.
&gt;
&gt; Why does that screw up caches?  I thought only GET was cachable?

Sure, but a POST to /foo/bar wouldn't invalidate a cached
representation of /foo, meaning that the cache may provide bad data to
clients asking for a representation of /foo.  Using POST to /foo
invalidates the proper cache entry.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7061<br>
Sender:"Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-11-21 06:02:35<br>
Subject:Re: [rest-discuss] proxy's and PUT<br>
Message:<br><br>
<pre>I'm going to guess that a cache that sees a PUT will be able to return
that data, and when it sees a DELETE it can remove the entry.
If you use a different method with a different resource ID, I doubt
the cache can do it's thing.

But maybe not - caching is always more subtle than I think.


 On 11/20/06, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt;
&gt;
&gt; Mark Baker  wrote:
&gt; &gt;&gt; Another alternative would be to use a subordinate URI
&gt;  &gt;&gt;  (e.g. POST http://example.org/foo/bar  does the equivalent of PUT  to
&gt; &gt;&gt;  http://example.org/foo), but that screw up  caches.
&gt;
&gt; Why does that screw up  caches?  I thought only GET was cachable?
&gt;
&gt;
&gt; -Mike Schinkel
&gt; http://www.mikeschinkel.com/blogs/
&gt; http://www.welldesignedurls.org/    

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7062<br>
Sender:"Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-11-21 06:12:25<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Do you mean the DNS naming approach, or the non-DNS naming approach?

I think Apache (the web server) has a "reverse proxy" mode that can
forward requests to a bunch of other internal hosts. Search for Squid
and reverse proxy: http://www.google.com/search?q=squid+reverse+proxy

For small to medium scale, if you use Java servlets you can use
connect an Apache web server to a number of hosts running a servlet
engine (Tomcat, Resin, JBoss etc).

At some point you will saturate a single host with network traffic
(not to mention the single point of failure), so you then buy
specialized hardware - F5 load balancers or Cisco load balancers.
I'm not sure what to do when you run out of room with those hardware solutions.

Let us know what you find if you do more research in the area.

On 11/20/06, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt;
&gt;
&gt; &gt;&gt; Mike Dierken wrote:
&gt;
&gt; &gt;&gt; I agree with you though that routing to multiple back-end hosts for
&gt; &gt;&gt; scale and availability doesn't require additional DNS names. It may be
&gt; &gt;&gt; simple and effective in many situations, but it isn't the only strong
&gt; &gt;&gt; approach.
&gt; 
&gt; Can anyone suggest specific solutions (products?) for this?
&gt;
&gt;
&gt; -Mike Schinkel
&gt; http://www.mikeschinkel.com/blogs/
&gt; http://www.welldesignedurls.org/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7063<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-11-21 09:41:16<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>On 11/21/06, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt; Which beings me to another question I have been pondering. :) Would it be
&gt; appropriate to develop a Window desktop application using a REST
&gt; architecture? And please don't think it is a silly question. I've long
&gt; lamented the fact that desktop applications don't have a URL for their
&gt; various states (except for File Manager which has a psuedo-URL, i.e a
&gt; filepath). Whenever someone has told my they had a bug on my website I ask
&gt; for the URL. But when they've had a bug in a Windows app I wrote, what do I
&gt; ask for? So it seems that a REST model would be appropriate for a desktop
&gt; application, and it would also more easily facilitate moving components of
&gt; the application to a LAN server when there is a need to scale, yes?

Not a silly question at all, I think.

Yes, developing a Windows app on top of a RESTful architecture makes
eminent sense. It is simply a (better) version of the "Smart Client"
drive from MS that builds desktop apps on top of WS-*.

A couple of extant examples:
- Windows Live Writer fits the bill, insofar as the chosen blog API is
RESTful (the Blogger API is nearly RESTful)
- Outlook. Yes, everything in Outlook is actually a locally rendered
representation of a server resource using a specialized form engine.

Alan Dean

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7064<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-21 09:38:33<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>"Mike Dierken" &lt;dierken@...&gt; writes:

&gt; Do you mean the DNS naming approach, or the non-DNS naming approach?
&gt;
&gt; I think Apache (the web server) has a "reverse proxy" mode that can
&gt; forward requests to a bunch of other internal hosts. Search for Squid
&gt; and reverse proxy: http://www.google.com/search?q=squid+reverse+proxy
&gt;
&gt; For small to medium scale, if you use Java servlets you can use
&gt; connect an Apache web server to a number of hosts running a servlet
&gt; engine (Tomcat, Resin, JBoss etc).
&gt;
&gt; At some point you will saturate a single host with network traffic
&gt; (not to mention the single point of failure), so you then buy
&gt; specialized hardware - F5 load balancers or Cisco load balancers.
&gt; I'm not sure what to do when you run out of room with those hardware
&gt; solutions.

You don't really need those. 

If you have a RESTfull app it will be simpler to make it horizontally
scalable. So you just add more webservers and have DNS roundrobin.


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7065<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2006-11-21 11:17:12<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>I know next to nothing about DNS, but in our company's setup,  
&lt;anything&gt;.innoq.com will resolve to the same host - just try  
mike.schinkel.innoq.com. A browser will send a "Host" HTTP header  
that can easily be used to distinguish between subdomains (or  
rewritten using mod_rewrite or whatever) -- I'm not sure whether  
that's typically done in RESTful clients (but I doubt it)?

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/



On Nov 21, 2006, at 5:49 AM, Mike Schinkel wrote:

&gt;
&gt; Yohanes Santoso wrote:
&gt;
&gt; &gt;&gt; In short, personalisation is an effective and attractive
&gt; &gt;&gt; gimmick. Microsoft's excuse for going to personalised domain may be
&gt; &gt;&gt; lame. But the end product, personalised domain, is far from  
&gt; being lame
&gt; &gt;&gt; and has yet to be taken advantage of by public.
&gt;
&gt; Does anyone know how to implement this in a web app?  IOW, user  
&gt; goes to a page, types in their desired subdomain, and... then  
&gt; what?  How does a web app get the DNS updated?  (My experience  
&gt; trying to do this has all been on Windows Servers in the past, so  
&gt; it might be easy on *nix, I dunno.)
&gt;
&gt; OTOH, can you imagine the size of MSN's DNS zone transfer to  
&gt; secondary servers, oh my!
&gt;
&gt; -Mike Schinkel
&gt; http://www.mikeschinkel.com/blogs/
&gt; http://www.welldesignedurls.org/
&gt;
&gt;
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7066<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-21 11:46:51<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Mike Schinkel writes

&gt; Does anyone know how to implement this in a web app?  IOW, user  
&gt; goes to a page, types in their desired subdomain, and... then  
&gt; what?  How does a web app get the DNS updated?  (My experience  
&gt; trying to do this has all been on Windows Servers in the past, so  
&gt; it might be easy on *nix, I dunno.)

This is not a REST question. It's a DNS question.

For a DNS name to be resolvable it must be in DNS (ta daa!)

So you can either have a DNS that knows it always has to respond with
details if the name matches a certain pattern; eg:

   mike.schinkel.somedomain.com  CNAME  www.somedomain.com

or you have a registration process where you create a record.

Either is possible with one of the programmatic DNS servers such as
pdns. 

Which you use depends, you need some guideliness, ARR!


Also, it's unrelated to what operating system you're using. This is a
DNS issue not a unix or windoze issue.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7067<br>
Sender:"Daniel Hardman" &lt;daniel.hardman@...&gt;<br>
Post Date/Time:2006-11-21 15:47:45<br>
Subject:Re: proxy's and PUT<br>
Message:<br><br>
<pre>So is there a good way to handle this situation (bad proxys in the 
loop) automatically?

For example:

1. A REST API provides a resource which can be PUT in some sort of a 
test mode, with the agreed-upon behavior being that the PUT always 
succeeds.

2. Clients try to PUT to it; on failure they know they need to revert 
to POST /resource with X-TUNNEL-METHOD: PUT or DELETE?

Is it correct to reason from http://host/put_test not being PUT-able 
(even though the API on the other end advertises it as such) to the 
extrapolation that http://host/some_other_resource isn't PUT-able 
either?

--Daniel Hardman



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7068<br>
Sender:John Panzer &lt;jpanzer@...&gt;<br>
Post Date/Time:2006-11-21 15:59:04<br>
Subject:Re: [rest-discuss] Re: proxy's and PUT<br>
Message:<br><br>
<pre>Wouldn't the Allow: header in general be the appropriate way to 
advertise allowed methods on a resource?  (But if there are bad proxies, 
would they mess with that header too?)

Daniel Hardman wrote:

&gt;So is there a good way to handle this situation (bad proxys in the 
&gt;loop) automatically?
&gt;
&gt;For example:
&gt;
&gt;1. A REST API provides a resource which can be PUT in some sort of a 
&gt;test mode, with the agreed-upon behavior being that the PUT always 
&gt;succeeds.
&gt;
&gt;2. Clients try to PUT to it; on failure they know they need to revert 
&gt;to POST /resource with X-TUNNEL-METHOD: PUT or DELETE?
&gt;
&gt;Is it correct to reason from http://host/put_test not being PUT-able 
&gt;(even though the API on the other end advertises it as such) to the 
&gt;extrapolation that http://host/some_other_resource isn't PUT-able 
&gt;either?
&gt;
&gt;--Daniel Hardman
&gt;
&gt;
&gt;
&gt;
&gt; 
&gt;Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;  
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7069<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-21 16:08:16<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Mike Dierken wrote:
&gt;&gt; Do you mean the DNS naming approach, or the non-DNS naming approach?

I meant the ability to dynamically add subdomains to a DNS.
 

-Mike Schinkel 
http://www.mikeschinkel.com/blogs/ 
http://www.welldesignedurls.org/ 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7070<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-21 16:01:33<br>
Subject:RE: [rest-discuss] proxy's and PUT<br>
Message:<br><br>
<pre>&gt;&gt; Bill de hOra
&gt;&gt; Alan Dean wrote:
&gt;&gt; &gt; On 11/20/06, Bill de hOra &lt;bill@dehora. &lt;mailto:bill%40dehora.net&gt; net
&lt;mailto:bill%40dehora.net&gt;&gt; 
&gt;&gt; &gt; wrote:
&gt;&gt; &gt; &gt; I'm trying to answer, but I need to know first why/whether POST can't
be
&gt;&gt; &gt; &gt; used as an alternate for PUT in your app. That's the most
&gt;&gt; &gt; &gt; straightforward approach. If they have to be distinct for
implementation
&gt;&gt; &gt; &gt; reasons the next step is to look at distinct URLs or qualifying
headers.
&gt;&gt; &gt; 
&gt;&gt; &gt; Hmmm... I can see how POST can stand in for PUT with relative ease,
&gt;&gt; &gt; but how do you replace DELETE if a proxy only permits GET / POST?
&gt;&gt; 
&gt;&gt; POST /myresource/delete
&gt;&gt; ...
&gt;&gt; or
&gt;&gt; POST /myresourceform/
&gt;&gt; ...
&gt;&gt; [crlf]
&gt;&gt; resource details in here somewhere
&gt;&gt; 
&gt;&gt; or
&gt;&gt; 
&gt;&gt; POST /myresource
&gt;&gt; TUNNEL-METHOD: DELETE
&gt;&gt; 
&gt;&gt; the first two are how htmlforms based apps usually work, the latter is 
&gt;&gt; what SOAPAction wants to be when it grows up.

Hmm. This seems like it would be a very common problem when working with
REST.  It also seems that among the recommended solutions that the selection
of one vs. another would be someone arbitrary.  Is there a reason not to
look at the pros and cons for solutions to this (and other) use-cases and
decide on and document (on the REST-wiki?) a recommended Best Practice so
that most people can chose the same arbitrary solution?  After all, if one
of the benefits of REST is compatibility, wouldn't getting people to decide
on a the same arbitrary solution increase potential compatibility down the
line?
 
(he says bracing for the firestorm he expects... ;-)
-Mike Schinkel 
http://www.mikeschinkel.com/blogs/ 
http://www.welldesignedurls.org/ 

 

  _____  

From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On
Behalf Of Bill de hOra
Sent: Monday, November 20, 2006 12:46 PM
To: rest-discuss@yahoogroups.com
Subject: Re: [rest-discuss] proxy's and PUT



Alan Dean wrote:
&gt; 
&gt; 
&gt; On 11/20/06, Bill de hOra &lt;bill@dehora. &lt;mailto:bill%40dehora.net&gt; net
&lt;mailto:bill%40dehora.net&gt;&gt; 
&gt; wrote:
&gt; &gt; I'm trying to answer, but I need to know first why/whether POST can't be
&gt; &gt; used as an alternate for PUT in your app. That's the most
&gt; &gt; straightforward approach. If they have to be distinct for implementation
&gt; &gt; reasons the next step is to look at distinct URLs or qualifying headers.
&gt; 
&gt; Hmmm... I can see how POST can stand in for PUT with relative ease,
&gt; but how do you replace DELETE if a proxy only permits GET / POST?

POST /myresource/delete
...

or
POST /myresourceform/
...
[crlf]
resource details in here somewhere

or

POST /myresource
TUNNEL-METHOD: DELETE

the first two are how htmlforms based apps usually work, the latter is 
what SOAPAction wants to be when it grows up.

cheers
Bill


 
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7071<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-21 16:10:20<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Alan Dean wrote:
&gt;&gt; Yes, developing a Windows app on top of a RESTful 
&gt;&gt; architecture makes eminent sense. It is simply a 
&gt;&gt; (better) version of the "Smart Client" drive from MS 
&gt;&gt; that builds desktop apps on top of WS-*.

So what tools and language enhancements would be need to be able to do that
efficiently?  It seems like a good desktop HTTP host components and the
ability for URIs and XML to be first class language elements.  Would you
agree?

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7072<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-21 16:07:10<br>
Subject:RE: [rest-discuss] proxy's and PUT<br>
Message:<br><br>
<pre>Mike Dierken wrote:
 
&gt;&gt; I'm going to guess that a cache that sees a PUT will be able to 
&gt;&gt; return that data, and when it sees a DELETE it can remove the 
&gt;&gt; entry. If you use a different method with a different resource 
&gt;&gt; ID, I doubt the cache can do it's thing.
&gt;&gt; But maybe not - caching is always more subtle than I think.
 
Isn't one of the problems with caching is that caching behavior is dependent
upon numerous independent implementations for which few if any shared the
exact same implementation criteria and thus many made independent
engineering decisions?  
 
In other words, a bit like the Tower of Babble?
-Mike Schinkel 
http://www.mikeschinkel.com/blogs/ 
http://www.welldesignedurls.org/ 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7073<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-11-21 16:18:21<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>On 11/21/06, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt; Alan Dean wrote:
&gt; &gt;&gt; Yes, developing a Windows app on top of a RESTful
&gt; &gt;&gt; architecture makes eminent sense. It is simply a
&gt; &gt;&gt; (better) version of the "Smart Client" drive from MS
&gt; &gt;&gt; that builds desktop apps on top of WS-*.
&gt;
&gt; So what tools and language enhancements would be need to be able to do that
&gt; efficiently?  It seems like a good desktop HTTP host components and the
&gt; ability for URIs and XML to be first class language elements.  Would you
&gt; agree?

Oh yes, I certainly would. From the .NET perspective, we really need
some "Remote Reference" support as easy as the WS-* support to win
over developers to the cause. For thoughtpad, I am having to write
client classes myself to wrap up the complexity of fully-fledged HTTP
requests (including If-Modified-Since and so on). Maybe that is a
project for me to consider in 2007 ...

Funnily enough, I was thinking about this general area the other day
and a little bird was twittering at the back of my brain that maybe,
just maybe, the LINQ additions to the .NET Framework can be bent to
this purpose.

Alan Dean

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7074<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-21 16:21:28<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Nic James Ferrier wrote:

&gt;&gt; &gt; Does anyone know how to implement this in a web app? 
&gt;&gt; &gt; IOW, user goes to a page, types in their desired subdomain, 
&gt;&gt; &gt; and... then what? How does a web app get the DNS 
&gt;&gt; &gt; updated? (My experience trying to do this has all been on 
&gt;&gt; &gt; Windows Servers in the past, so  it might be easy on 
&gt;&gt; &gt; *nix, I dunno.
&gt;&gt; This is not a REST question. It's a DNS question.
&gt;&gt; For a DNS name to be resolvable it must be in DNS (ta daa!)

I know it's a DNS question. So does that make it inappropriate to ask on
REST-discuss?

&gt;&gt; So you can either have a DNS that knows it always has to 
&gt;&gt; respond with details if the name matches a certain pattern; eg:
&gt;&gt; mike.schinkel.somedomain.com CNAME www.somedomain.com
&gt;&gt; or you have a registration process where you create a record.
&gt;&gt; Either is possible with one of the programmatic DNS servers 
&gt;&gt; such as pdns. 

So my question was really "How to you programmatically update the DNS?"

So I guess PowerDNS it to what you refer?
http://packages.debian.org/unstable/net/pdns
That probably means hosting your own DNS.  I was hoping to find reasonable
priced services that provided a REST intereface for updating DNS.

&gt;&gt; Also, it's unrelated to what operating system you're using. 
&gt;&gt; This is a DNS issue not a unix or windoze issue.

It is a Unix vs. Windows issue if the only DNS you can find for Windows in
non-programmable.

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7075<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-21 17:27:40<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>"Mike Schinkel" &lt;mikeschinkel@...&gt; writes:

&gt; I know it's a DNS question. So does that make it inappropriate to ask on
&gt; REST-discuss?

Not particularly.

But we are getting down an alley.


&gt; So my question was really "How to you programmatically update the DNS?"
&gt;
&gt; So I guess PowerDNS it to what you refer?
&gt; http://packages.debian.org/unstable/net/pdns
&gt; That probably means hosting your own DNS.  I was hoping to find reasonable
&gt; priced services that provided a REST intereface for updating DNS.

Ah I see. I wasn't clear about that.

I can setup a programmatic DNS for you if you really want one (based
on pdns).

Let's sketch out an API right now:

Endpoint: domains.tfnet.co.uk


Create a new domain:

  POST /
  content: form-urlencoded
  name:          the domain name (required)
  hostmaster:    hostmaster email address (required, validated)
  default-ttl:   what it says (optional)

  responses:

  201 with Location: domain...
  500 with error message

(note I don't do updating DNS so you'd have to register the domain
with someone else and then create it in my db)


Get the domain records:

  GET /&lt;domain&gt;
  where &lt;domain&gt; comes from the Location header response to the domain
  creation.

  responses:
  404 if the domain doesn't exist

  200 with HTML UL list of records, eg:
  &lt;ul&gt;
    &lt;div class="cname"&gt;somehost&lt;/div&gt;
  &lt;/ul&gt;


Create a new record:

  POST /&lt;domain&gt;
  where &lt;domain&gt; comes from the Location header response to the domain
  creation.

  content: form-urlencoded
  name:         the record reference
  type:         CNAME, A, etc...
  content:      the record data

  responses:
  404 if the domain doesn't exist

  201 if the host was created, Location header points to a domain page
  with fragment id pointing to the record


Edit record:


  PUT /&lt;domain&gt;/&lt;recordname&gt;
  where &lt;domain&gt; comes from the Location header response to the domain
  creation
  and &lt;recordname&gt; is the, errr... record name

  same content as for the record creation.

  responses:
  404 if the record/domain doesn't exist.
  200 on success.


Delete a record:

  DELETE /&lt;domain&gt;/&lt;recordname&gt;

  responses:
  404 if the record/domain doesn't exist.
  200 on success.


I could knock this up for you quite quickly if you want it.


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7076<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-21 16:42:01<br>
Subject:Re: [rest-discuss] Re: proxy's and PUT<br>
Message:<br><br>
<pre>John Panzer &lt;jpanzer@...&gt; writes:

&gt; Wouldn't the Allow: header in general be the appropriate way to 
&gt; advertise allowed methods on a resource?  (But if there are bad proxies, 
&gt; would they mess with that header too?)

I think the allow header will come from the origin server.


&gt; Daniel Hardman wrote:
&gt;
&gt;&gt;So is there a good way to handle this situation (bad proxys in the 
&gt;&gt;loop) automatically?
&gt;&gt;
&gt;&gt;For example:
&gt;&gt;
&gt;&gt;1. A REST API provides a resource which can be PUT in some sort of a 
&gt;&gt;test mode, with the agreed-upon behavior being that the PUT always 
&gt;&gt;succeeds.
&gt;&gt;
&gt;&gt;2. Clients try to PUT to it; on failure they know they need to revert 
&gt;&gt;to POST /resource with X-TUNNEL-METHOD: PUT or DELETE?
&gt;&gt;
&gt;&gt;Is it correct to reason from http://host/put_test not being PUT-able 
&gt;&gt;(even though the API on the other end advertises it as such) to the 
&gt;&gt;extrapolation that http://host/some_other_resource isn't PUT-able 
&gt;&gt;either?

The only good way to do it seems to me is to try PUT (or DELETE) and
fall back to the other on failure.

I guess a proxy will send 405.

I'll send some Javascript to the list coz I need to implement this
trick.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7077<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-11-21 20:41:00<br>
Subject:Re: [rest-discuss] proxy's and PUT<br>
Message:<br><br>
<pre>On 11/20/06, Mark Baker &lt;distobj@...&gt; wrote:
&gt; On 11/20/06, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt; &gt;
&gt; &gt;
&gt; &gt; Mark Baker wrote:
&gt; &gt; &gt;&gt; Another alternative would be to use a subordinate URI
&gt; &gt; &gt;&gt; (e.g. POST http://example.org/foo/bar does the equivalent of PUT to
&gt; &gt; &gt;&gt; http://example.org/foo), but that screw up caches.
&gt; &gt;
&gt; &gt; Why does that screw up caches?  I thought only GET was cachable?
&gt;
&gt; Sure, but a POST to /foo/bar wouldn't invalidate a cached
&gt; representation of /foo, meaning that the cache may provide bad data to
&gt; clients asking for a representation of /foo.  Using POST to /foo
&gt; invalidates the proper cache entry.
&gt;

*Iff* you happen to go through the same cache.

Hugh

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7078<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-11-21 21:05:43<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>&gt;
&gt;&gt;&gt; No, there's nothing inherently un-RESTful about an URL like this:
&gt;&gt;&gt;
&gt;&gt;&gt; [1] http://example.com/service?query=www.example.org
&gt;&gt;&gt;
&gt;&gt;&gt; That's sending an identifier, not logic or a representation. I can GET,
&gt;PUT,
&gt;&gt;&gt; POST or DELETE the above URL [1]. In REST, the application logic defines
&gt;
&gt;&gt;&gt; how /service responds to these methods, not the contents of the message
&gt;&gt;&gt; body.
&gt;
&gt;I'm still confused. I though REST requests me to transfer representations.
&gt;Since it doesn't appear that URL is transfering a representation isn't it
&gt;non-RESTful? (sorry I'm being so dense.)
&gt;

That's an URL.  You can't tell by looking at an URL what its representation 
may be.  URLs are opaque.  Look again at the URL I gave as an example, and 
stop assuming the query string is a query string.  Taken character-for-
character that URL identifies a resource, and that's all it does.

In this case it is a query string.  Let's make a different example, a State 
Capitol service.  The URL:

[1] http://example.com/capitol

Consists of a form (method=GET) which is a simple drop-down list containing 
the names of all fifty states.  When I select my State from the list and 
click "submit" what happens?  A GET is sent to dereference this URL:

[2] http://example.com/capitol?query=CO

When this URL is dereferenced it returns a representation which contains the 
word "Denver" in an HTML page.  No representation needs to be sent to that 
URL, it just needs to be dereferenced.  When URL 1 is dereferenced, the 
representation it returns is a form which may be filled out and returned to 
the server.

When interacting with a web application, URLs are dereferenced which transfer 
representations of application state.  When the service URL is dereferenced, 
that one application state contains a list of fifty other application states, 
with a submit button.  That is an HTML representation, i.e. hypermedia.

[3] http://example.com/capitol?query={state_abbreviation}

Selecting one item and returning the representation of the form to the server 
(either as a message body, or urlencoded) results in the retrieval of one of 
the other application states, which are also each individually 
dereferenceable at their own RESTful URLs.

Let's say I want to move the capitol of Colorado to Oak Creek.  I can design 
a service which accepts a PUT at [2] containing the same representation 
returned by a GET at [2], with "Denver" replaced by "Oak Creek" such that 
subsequent GET requests at [2] return a representation containing the words 
"Oak Creek."  Application state has changed as a result of a representational 
state transfer, i.e. a PUT.

&gt;
&gt;As a point of note, I find that confusing. I would find this much less
&gt;confusing for your stated resource:
&gt;http://technoresti.com/users/{username}/weblogs/
&gt;
&gt;&gt;&gt; If you want to put the blog ID in the URL and make &lt;updated&gt;
&gt;&gt;&gt; a standalone resource, you could do that, I suppose -- but you'd
&gt;&gt;&gt; better have good reason for it.
&gt;
&gt;But who gets to define if my reason is good or not?
&gt;That's a rhetorical question, if it's not obvious. ;-)
&gt;

MY stated resource is just what I said it was.  YOU expanded the example to 
include "profiles" which I hadn't mentioned.  Now you're confused because my 
response to that doesn't conform to _your_ stated resource, not _mine_.  You 
are imagining in your head some expanded version of the example I wrote down 
and finding that you would prefer a different URI allocation scheme for that 
expanded version that I am not privvy to.  Good, more power to you, but again 
we're in the realm of preference, where all pragmatic considerations are only 
specific to the use case at hand.

It seems to me my examples are confusing you because you keep attempting to 
apply them either globally, or to some other use case than that for which 
they were intended.  Try to understand the examples as they are given, then 
ask how to apply the lesson contained to some other use case, instead of 
trying to understand the examples given in terms of some other use case.

You can indeed come up with your own reasons and define whether they are good 
ones or not, but in the context of the example I gave (and the fact that you 
are here asking for enlightenment), I get to define if your reason is good 
within the context of my example.  But you are coming up with a URI pattern 
that applies to something which is _not_ my example then asking who gets to 
define if the reason is good or not.  Well, you do, but only for your own 
examples -- not mine -- because the use cases may be in the same ballpark but 
they are evidently dissimilar.

&gt;
&gt;Okay, then I got the wrong impression regard posting logic from some other
&gt;discussion on this list. Can you give me a simple but realistic example of
&gt;posting logic, in this context or any other?
&gt;

Aside from the very simple and definitely realistic Technorati example?  Or 
explain exactly which part of my explanation of exactly why that amounted to 
posting logic to the server you did not understand.  Is it not clear that 
when application logic is posted, that representation which is POSTed does 
not resemble any representation which may be retrieved with a GET?  In REST, 
the contents of a PUT are different representations (which may be identical) 
of the same resource each way.

OK, here's another simple but realistic example, within the context of my 
above example:

Let's redefine URL [1] (forget about [2] and [3] for a bit) above as a non-
RESTful service which returns a different response depending on the contents 
of the request, i.e. if the message body (instead of the URL) contains 
"?query=CO" then a POST to URL [1] returns "Denver."  There is no GET method 
on [1] in such a setup because [1] could be one of fifty options -- making 
the landing URL uncacheable and not very scalable.  A POST which contains 
"?query=CO" and "&lt;method_call type='change_capitol'&gt;Oak Creek&lt;/method_call&gt;" 
does what's expected of it.

Now, we have two different use cases, one REST the other not.  Let's apply a 
change to the URL format such that we have:

[4] http://example.com/{state_abbreviation}/capitol

How do we change the RESTful service?  By changing the application logic on 
the server.  There's nothing about the old URI allocation scheme which keeps 
those URLs from being 301-redirected to the new URI allocation scheme.  The 
service is no longer limited to just the capitol, /state_bird could also be a 
resource.  A PUT to [3] gets silently redirected to [4] using mod_rewrite 
(for example), [4] would also accept the PUT directly, since the message body 
is the same as it was before the only thing different about the PUT request 
is the URL.

Try changing the non-REST service to some other URI format.  The message body 
of each POST request would have to be parsed and analyzed by the application 
to determine where to redirect, it can't be done with DNS or mod_rewrite 
which act on the request URI.  This middleware layer would also need to 
reformat the request so that it can be understood by the new application 
logic.  In the REST example, there is no logic to interpret embedded within 
the message body, only a name-value pair expressed as &lt;name&gt;value&lt;/name&gt; like 
&lt;h1 class='capitol'&gt;Denver&lt;/h1&gt;, so the entire application may be rewritten 
without needing a middleware layer to interpret any old application logic 
contained in the message body.

This way, changing the URI allocation scheme is separated from changing the 
contents of the hypermedia.  I can always recode my HTML such that it's 
&lt;dl&gt;&lt;dt&gt;capitol&lt;/dt&gt;&lt;dd&gt;Denver&lt;/dd&gt;&lt;/dl&gt;.  A PUT with the old HTML style 
using &lt;h1&gt; can be rejected with a 406 error, while a PUT which contains
 ...&lt;dd&gt;Oak Creek&lt;/dd&gt;... is handled exactly the same way the application 
logic handled a PUT which changed the contents of the &lt;h1&gt; tag before.  It's 
just the content of the message body is interpreted a little differently.  
The architecture of the site hasn't changed, only the structure of the 
hypermedia, which is no big deal -- the state change still updates the name/
value pair from capitol='Denver' to capitol='Oak Creek' regardless of how 
that's expressed, or in what media type.

If you never put application logic out there for clients to transfer in 
requests, you never have to account for it later because you haven't locked 
yourself in to any one approach.  Clients which are built around the previous 
non-REST logic need to be rewritten to fit the new logic, otherwise the 
legacy format must continue to be supported by introspecting every request, 
whereas with REST the volume of requests resulting in a 301-redirect (which 
requires no introspection of the request body) steadily decreases with time 
since there is no legacy code residing on any client.

Since making a change as I described doesn't break anything previously 
implemented, previously-cached pages which aren't due to expire don't need to 
be expired, so what if the old URLs are still responding without redirection 
for a couple of weeks.  No worries.  With the other approach, if caching were 
implemented (it could be, but it would be neither easy nor reliable) any 
cached pages would be broken, so everything would need to expire and such a 
change to the application logic would have a real impact on server 
availability/performance when implemented.

I disagree that these are considerations which boil down to "personal 
values."  Adhering to proper web architecture is the most pragmatic of 
concerns for a wide variety of reasons, moral repugnance at the thought of 
unnecessarily wasting bytes may not factor into some peoples' consideration 
of architecture but that is still no argument against REST.  I find REST 
intuitive and easy to grasp because I've been maintaining websites since 1993 
and cleaning up after others' messes.  Sanity, reason, rationale and logic 
are in favor of REST, and are born of lessons learned from years of 
experience, not values or evangelicalism based on faith -- although every 
belief system has its fanboys.

&gt;
&gt;I don't see why there is any requirement via XML-RPC to chance an existing
&gt;service and I don't see why logic needs to be sent. Just create a new
&gt;service (ver 2.0) and send a list of URLs, not just one.
&gt;

You don't see how any service would ever need to change over time?  Oh, I 
see, for you it just isn't a big deal that all the old URLs go 404 when 
scrapping the old version in favor of ver 2.0.  Well, that's not RESTful at 
all.  In REST, designs don't need to anticipate every possible contingency 
for the future, because the architectural style is inherently amenable to 
sane evolution over time.  You may not be arguing for XML-RPC but it sounds 
like you're arguing in favor of scrapping an entire architecture and starting 
over from scratch, as being "no big deal" and like avoiding that situation 
isn't somehow a valid, if not key, point in favor of adhering to the REST 
architectural style.

REST is a sane alternative to the willy-nilly scrapping of entire 
architectures every couple of years in light of the latest fad.  I'd much 
rather implement AJAX as an enhancement to a RESTful system than as a hackish 
solution to the performance problems inherent in an architecturally-borked 
MVC CMS because it's trendy.  Or, have you noticed how slow live.com is?  All 
flash, no substance.  Microsoft is big enough to get away with this, but for 
most companies trying to grow on the web slow=death.  Also, look what Dare 
has to go through to make sure that the non-RESTful AJAX-widget architectural 
style works for a smattering of (the most popular desktop-browser) user-
agents:

[5] http://www.25hoursaday.com/weblog/PermaLink.aspx?guid=e6090fb8-97a3-4607-bbf3-140c3d11d6c4

There's another example of entirely too much application logic on the client 
side, particularly when all sorts of hacks must be implemented in the code, 
which won't even begin to work on a handheld... just some of the things I 
never need to worry about, because starting from a REST standpoint means 
having a platform that works as a fallback for *all* user-agents which 
understand HTML, URI and HTTP, so a widget failure isn't nonrecoverable.  If 
my application logic doesn't depend on my widgets, I can change my widgets 
from JavaScript to OpenLaszlo so my enhancements-on-top-of-REST are in Flash -
- without worrying about breaking the entire functionality of the site in 
general, or for those without JavaScript _and_ Flash.

http://weblogs.asp.net/bleroy/archive/2006/11/06/DOM-events-in-the-Microsoft-AJAX-Library.aspx

That page makes as good an argument as I've seen to avoid coding application 
logic into the client regardless of implementation, and is a great argument 
in favor of REST without even mentioning the concept.  Making HTML/CSS work 
cross-browser is hard enough without trying to achieve cross-platform 
portability of client-side non-RESTful application logic.

&gt;
&gt;I don't see how REST allows not changing the API either. If you originally
&gt;allowed posting only one website and not you are going to allow posting of
&gt;multiple, wouldn't you need to create another URI to PUT to?
&gt;

Where did I or anyone else claim that changing the API is not allowed?  No, I 
don't need to create another URL to PUT to if I have multiple values, it's 
just a form and forms, of course, are not limited to a single field.  I never 
limited my example to one website in the first place, which is why I used a 
list in the example, and why I pointed out that I had used a list in the 
example, I'm not sure how you ever got the idea that I was restricting 
anything to one website.  That's what the XML-RPC Technorati ping example 
does, and that is a specific limitation I took pains to say did not apply to 
my example, and was what made the XML-RPC approach inferior to the example I 
was giving. So in fact, I'm not even changing the API, I'm defining a 
resource to contain one or more of something.

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7079<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-21 21:43:29<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>"Eric J. Bowman" &lt;eric@...&gt; writes:

&gt; That's an URL.  You can't tell by looking at an URL what its representation 
&gt; may be.  URLs are opaque.  Look again at the URL I gave as an example, and 
&gt; stop assuming the query string is a query string.  Taken character-for-
&gt; character that URL identifies a resource, and that's all it does.
&gt;
&gt; In this case it is a query string.  Let's make a different example, a State 
&gt; Capitol service.  The URL:
&gt;
&gt; [1] http://example.com/capitol
&gt;
&gt; Consists of a form (method=GET) which is a simple drop-down list containing 
&gt; the names of all fifty states.  When I select my State from the list and 
&gt; click "submit" what happens?  A GET is sent to dereference this URL:
&gt;
&gt; [2] http://example.com/capitol?query=CO
&gt;
&gt; When this URL is dereferenced it returns a representation which contains the 
&gt; word "Denver" in an HTML page.  No representation needs to be sent to that 
&gt; URL, it just needs to be dereferenced.  When URL 1 is dereferenced, the 
&gt; representation it returns is a form which may be filled out and returned to 
&gt; the server.
&gt;
&gt; When interacting with a web application, URLs are dereferenced which transfer 
&gt; representations of application state.  When the service URL is dereferenced, 
&gt; that one application state contains a list of fifty other application states, 
&gt; with a submit button.  That is an HTML representation, i.e. hypermedia.
&gt;
&gt; [3] http://example.com/capitol?query={state_abbreviation}
&gt;
&gt; Selecting one item and returning the representation of the form to the server 
&gt; (either as a message body, or urlencoded) results in the retrieval of one of 
&gt; the other application states, which are also each individually 
&gt; dereferenceable at their own RESTful URLs.
&gt;
&gt; Let's say I want to move the capitol of Colorado to Oak Creek.  I can design 
&gt; a service which accepts a PUT at [2] containing the same representation 
&gt; returned by a GET at [2], with "Denver" replaced by "Oak Creek" such that 
&gt; subsequent GET requests at [2] return a representation containing the words 
&gt; "Oak Creek."  Application state has changed as a result of a representational 
&gt; state transfer, i.e. a PUT.

And people complain because they say they can't find clear
descriptions.

Eric, you should reformat this on the REST wiki and we can point new
people to it in future.


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

PS That means I thought it was a really good explanation.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7080<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2006-11-21 18:03:34<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>On Nov 21, 2006, at 5:21 PM, Mike Schinkel wrote:

&gt; So my question was really "How to you programmatically update the  
&gt; DNS?"

You don't need to, as I've tried to point out.

(I've since learned that the Host: header is mandatory.)

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7081<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2006-11-22 00:01:22<br>
Subject:URI Opacity  (was: RE: [rest-discuss] REST design question)<br>
Message:<br><br>
<pre>My mantra is, "The Web only works because we allow it to be broken."  I apply 
this to 404 errors and URI opacity.  I am definitely in favor of semantically-
rich, hierarchical URI allocation schemes.  But I'd like to give a real-world 
example of the implications of URI opacity.  While there are some excellent 
writeups on the REST wiki I'd like to pick on one of my favorite magazines -- 
because with over 150 years of experience archiving scientific articles 
they're as inexcusably wide of the mark on the Web as anybody.  Case in point:

[1] http://www.scientificamerican.com/2001/0501issue/0501berners-lee.html
[1a] http://web.archive.org/web/*/http://www.scientificamerican.com/2001/0501issue/0501berners-lee.html

Most folks have updated their bookmarks, it's been a couple of years since 
they changed their Content Management System and invalidated all previous 
URLs.  For the majority of that stretch, [1] would return a representation of 
a custom 404 error page with a search interface for the new site, with a 200 
OK response.  Which makes [1] entirely opaque as it no longer has any meaning 
whatsoever.

This is unfortunate, because there is enough metadata in that URL for the 
server to infer that the request is for the May, 2001 article written by 
author Berners-Lee and respond with a 301 redirect to the new URL.  Actually, 
it would be better if the server just returned the article we're looking for 
and the new CMS with its new URI allocation scheme weren't applied 
retroactively to existing articles.

But alas, no matter what values we enter for what appear to be path segments 
for year, month and author we cannot use this semantic URI allocation to 
dereference articles on the site.  All possible values which were once valid 
now (until recently) return the same 404/search page with a 200 OK, so this 
CMS upgrade immediately relegated all existing URLs to the 404 scrapheap by 
treating them as opaque and meaningless.

Particularly so, since the one response to any request made to 
scientificamerican.com was being redirected from sciam.com, a domain which 
had not previously been in use, confusing the issue of naming authority.  But 
at least the 301 redirect identified the proper domain to access for any data 
from the Scientific American magazine's website, sciam.com.  For the last few 
months, the response is what you see today -- an infinite recursion leading 
to a 413 response.  Which doesn't feel right, shouldn't it be a 414?

In this case, the user who encounters an old-style URL on the Web doesn't 
even glean the information that the correct domain is now sciam.com, let 
alone any hint that the article is now located here:

[2] http://www.sciam.com/article.cfm?articleID=00048144-10D2-1C70-84A9809EC588EF21&amp;sc=I100322

Now *that's* an opaque URI!  But I consider it an error from an architectural 
standpoint.  From the client-side perspective of inferring anything from a 
URI, URIs must be considered opaque as [1] clearly demonstrates.  But from an 
application-design perspective it's obviously an error to treat URIs as 
opaque, as [1] and [2] clearly demonstrate.

This is an example of a major website abandoning a RESTful architecture in 
favor of something entirely different.  See how smoothly it went?

There's also no way to alter the URI to change issues, like by changing the 
year and leaving off any filename should bring up an archive page.  Which 
means not only is there no mapping from [1] to [2], but also no mapping from 
[2] to [1].  Definitely outside the realm of best-practice constraints.

I understand that "Cool URIs Don't Change" but I also understand that 
sometimes, it turns out that the URIs weren't so cool.  As in the case of [1] 
-- it's really not easy for a machine to infer "May" from "0501issue", the 
"01" is actually double-redundant whereas the 05 is merely single-redundant.  
In weblogs, I prefer to use the full date and a serial number to identify 
posts as opposed to titles or slugs, because titles or slugs are mutable 
(i.e. may be changed) whereas publication time is not.

For a magazine, however, the article title or a slug thereof makes more sense 
than using the author name, since one author may have multiple articles and 
since the article titles are tied to a print publication they are immutable.  
So what I would have done, when it came time to change the application logic 
for this magazine's website, is chosen the following URI pattern, where 
"issue" is implied and "article ID" is opaque, all lowercase with no filename 
extension:

[3] http://{www.?}{scientificamerican.com | sciam.com}/{YYYY?}/{MM?}/{articles | columns?}/{slug?}
[4] http://sciam.com/2001/05/articles/the_semantic_web

I'm using "?" to denote optional segments.  There may be more than one 
article titled "The Semantic Web" in this scheme, in which case they're 
distinguished by date.  However, since this is a magazine, a further semantic 
distinction is needed in the URI because a monthly feature or column will 
always have the same slug.  This URI allocation scheme is both human and 
machine readable/inferrable, so URI [4] is _not_ opaque, just good URI design 
practice with the potential to be used in a RESTful application architecture.

From the application design perspective URI opacity is a bad thing, but 
sometimes, so are transparent URIs -- it really depends on the use case.  My 
goal is semantically-rich-yet-immutable.  Also, what's more meaningful, an 
article's title/subject or the hyphenated surname of its author?  My rule of 
thumb is to only use the bare minimum of metadata required to achieve my goal 
because I also want to keep my URIs short.

An argument may be made that [2] is a transparent, or at least a semi-
transparent, URL.  And, gasp, ugh, an argument may be made that it's even a 
good design practice which I hope I have shown it is not:

"...authorities may choose to base URIs on database keys..."

[5] http://www.w3.org/2001/tag/doc/metaDataInURI-31

Well, maybe not _never_ but i certainly can't think of many good examples, 
tinyurl.com comes to mind but isn't entirely convincing.  If you have a 
database key, say "00048144-10D2-1C70-84A9809EC588EF21&amp;sc=I100322" which maps 
to a resource with other metadata which would make more sense in an URL then 
for heaven's sakes, use it!

Now, to tie up a loose end.  I've shown how messy it is to transition from 
[1] to [2], or rather, Scientific American has provided a textbook example of 
how easy it apparently isn't.  But the same problem lies in going from [1] to 
[4] -- that isn't exactly a regular expression implemented in mod_rewrite 
either.  Well, like I said before, just respond 200 OK on [1] for all time 
because Cool URIs Don't Change (particularly when they're articles about the 
Semantic Web).

Under the new URI allocation scheme [3], archive requests are rewritten on 
the server end.  In other words, this URL:

[6] http://sciam.com/2001/05/articles/

Would return a list of articles from that issue.  Except the link to the 
archived article would point to [1], not [4], and directly accessing the new-
style URL [4] would be a 301 redirect to [1].  The new URI allocation scheme 
takes over from the old when implemented, whether it's [2] or [4], with the 
difference being that [4] is capable of layering over the legacy URI 
allocation scheme whereas [2] is not.  Therefore, a change to [2] treats the 
old URLs as opaque while a change to [4] treats them transparently.

Anyway, you can't look at [3] and infer a RESTful architecture behind it, 
because even though it's transparent it's still opaque.  ;-)

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7082<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-11-22 00:41:29<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Alan Dean wrote:

&gt; Oh yes, I certainly would. From the .NET perspective, we really need
&gt; some "Remote Reference" support as easy as the WS-* support to win
&gt; over developers to the cause. 

Bleah. No.

RPC has been tried again and again and again. Like Bullwinkle pulling a 
rabbit out of a hat, that trick never works. Anyone remember CORBA? 
DCOM? RMI? Sprinkling a little magic HTTP pixie dust over a bad idea 
doesn't fix it.

REST is an alternative to the WS-splat insanity. It is *not* yet another 
a way to do distributed objects. It is an alternative to distributed 
objects and tightly coupling interfaces to implementations.

If Windows developers insist on tightly coupling their services to their 
object interfaces, then Unix developers will continue to code circles 
around them.

-- 
﻿Elliotte Rusty Harold  elharo@...
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7083<br>
Sender:"Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-11-22 01:28:23<br>
Subject:Re: [rest-discuss] proxy's and PUT<br>
Message:<br><br>
<pre>Not really. Any interaction between components is susceptible to
independent implementations - which gives rise to the need for all of
us to learn how to play well with each other.
When the caching behavior is described by a protocol specification,
then the 'independence' of the implementations is reduced.
The specifications in these cases usually was derived from the
commonality of already working software, but as new software is built
there is always a risk that it isn't interoperable.

Talking about 'not being RESTful' is one way to educate implementors
to the issues and keep honest people honest.

On 11/21/06, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt;
&gt;
&gt; Mike Dierken wrote:
&gt;
&gt; &gt;&gt; I'm going to guess that a cache that sees a PUT will be able to
&gt; &gt;&gt; return that data, and when it sees a DELETE it can remove the
&gt; &gt;&gt; entry. If you use a different method with a different resource
&gt; &gt;&gt; ID, I doubt the cache can do it's thing.
&gt; &gt;&gt; But maybe not - caching is always more subtle than I think.
&gt;
&gt; Isn't one of the problems with caching is that caching behavior is dependent
&gt; upon numerous independent implementations for which few if any shared the
&gt; exact same implementation criteria and thus many made independent
&gt; engineering decisions?
&gt;
&gt; In other words, a bit like the Tower of Babble?
&gt;
&gt;
&gt; -Mike Schinkel
&gt; http://www.mikeschinkel.com/blogs/
&gt; http://www.welldesignedurls.org/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7084<br>
Sender:"Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-11-22 01:44:23<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>I think someone already replied - there does appear to be DNS servers
that can add subdomains in a programmable fashion, as well as DNS
configurations that are pattern-based so sub-domains don't need to be
registered or stored at all.
The HTTP server sees the specific Host: request header and can take
action based on that.


On 11/21/06, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt;
&gt;
&gt; Mike Dierken wrote:
&gt; &gt;&gt; Do you mean the DNS naming approach, or the non-DNS naming approach?
&gt;
&gt; I meant the ability to dynamically add subdomains to a DNS.
&gt;
&gt;
&gt;
&gt; -Mike Schinkel
&gt; http://www.mikeschinkel.com/blogs/
&gt; http://www.welldesignedurls.org/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7085<br>
Sender:"Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-11-22 01:45:55<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Yes, you are right I was being silly.
A single DNS entry can have multiple IP addresses and if those hosts
are designed to be equivalent then this is a very reasonable approach.

Gotta love systems that just work.

On 11/21/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:
&gt; "Mike Dierken" &lt;dierken@...&gt; writes:
&gt;
&gt; &gt; Do you mean the DNS naming approach, or the non-DNS naming approach?
&gt; &gt;
&gt; &gt; I think Apache (the web server) has a "reverse proxy" mode that can
&gt; &gt; forward requests to a bunch of other internal hosts. Search for Squid
&gt; &gt; and reverse proxy: http://www.google.com/search?q=squid+reverse+proxy
&gt; &gt;
&gt; &gt; For small to medium scale, if you use Java servlets you can use
&gt; &gt; connect an Apache web server to a number of hosts running a servlet
&gt; &gt; engine (Tomcat, Resin, JBoss etc).
&gt; &gt;
&gt; &gt; At some point you will saturate a single host with network traffic
&gt; &gt; (not to mention the single point of failure), so you then buy
&gt; &gt; specialized hardware - F5 load balancers or Cisco load balancers.
&gt; &gt; I'm not sure what to do when you run out of room with those hardware
&gt; &gt; solutions.
&gt;
&gt; You don't really need those.
&gt;
&gt; If you have a RESTfull app it will be simpler to make it horizontally
&gt; scalable. So you just add more webservers and have DNS roundrobin.
&gt;
&gt;
&gt; --
&gt; Nic Ferrier
&gt; http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7086<br>
Sender:"Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-11-22 01:38:48<br>
Subject:Re: URI Opacity (was: RE: [rest-discuss] REST design question)<br>
Message:<br><br>
<pre>&gt;
&gt; Now *that's* an opaque URI!  But I consider it an error from an architectural
&gt; standpoint.  From the client-side perspective of inferring anything from a
&gt; URI, URIs must be considered opaque as [1] clearly demonstrates.  But from an
&gt; application-design perspective it's obviously an error to treat URIs as
&gt; opaque, as [1] and [2] clearly demonstrate.
It is not necessary or desirable for the origin server to treat their
own URIs as opaque. Your detailed example shows what happens when the
owner and manager of a set of resources forgets what it's purpose in
life is - to servic the clients requests.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7087<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-11-22 09:40:14<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>On 11/22/06, Elliotte Harold &lt;elharo@...&gt; wrote:
&gt; Alan Dean wrote:
&gt;
&gt; &gt; Oh yes, I certainly would. From the .NET perspective, we really need
&gt; &gt; some "Remote Reference" support as easy as the WS-* support to win
&gt; &gt; over developers to the cause.
&gt;
&gt; Bleah. No.
&gt;
&gt; RPC has been tried again and again and again. Like Bullwinkle pulling a
&gt; rabbit out of a hat, that trick never works. Anyone remember CORBA?
&gt; DCOM? RMI? Sprinkling a little magic HTTP pixie dust over a bad idea
&gt; doesn't fix it.
&gt;
&gt; REST is an alternative to the WS-splat insanity. It is *not* yet another
&gt; a way to do distributed objects. It is an alternative to distributed
&gt; objects and tightly coupling interfaces to implementations.
&gt;
&gt; If Windows developers insist on tightly coupling their services to their
&gt; object interfaces, then Unix developers will continue to code circles
&gt; around them.

You misunderstand my point, methinks.

I was referring to the simplicity of use, not the model. I agree that
tightly coupled interfaces are bad and that is part of the reason why
I prefer REST to WS-*. I am simply trying to make the point hat so
long as it takes a few minutes to bind to a WS-* endpoint, but there
is nothing similar to bind to a REST endpoint, we will find it hard to
win jobbing developers to our cause.

Alan Dean

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7088<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-11-22 10:45:00<br>
Subject:Re: [rest-discuss] proxy's and PUT<br>
Message:<br><br>
<pre>Mike Schinkel wrote:
&gt;&gt; &gt; Bill de hOra
&gt;&gt; &gt; the first two are how htmlforms based apps usually work, the latter is
&gt;&gt; &gt; what SOAPAction wants to be when it grows up.
 &gt;
&gt; Hmm. This seems like it would be a very common problem when working with 
&gt; REST.  

("Hmm"?)

No it's not - it's a very common problem dealing with deployed HTTP 
technology. If a design/spec says use uniform methods, and people who 
implement it ignore it, that's not a design problem.


&gt; It also seems that among the recommended solutions that the 
&gt; selection of one vs. another would be someone arbitrary.  

That's correct.

&gt; Is there a 
&gt; reason not to look at the pros and cons for solutions to this (and 
&gt; other) use-cases and decide on and document (on the REST-wiki?) a 
&gt; recommended Best Practice so that most people can chose the same 
&gt; arbitrary solution?  

Not really. The best practice is to fix code that subsets HTTP. HTTP 
itself is the least arbitrary solution.

&gt; After all, if one of the benefits of REST is 
&gt; compatibility, wouldn't getting people to decide on a the same arbitrary 
&gt; solution increase potential compatibility down the line?
&gt;  
&gt; (he says bracing for the firestorm he expects... ;-)

No firestorm - tho' you're using REST interchangeably with HTTP 
interchangeably with deployed HTTP systems. I'll assume that's not a 
deliberate debating tactic unless I keep seeing you do it.

http://www.mikeschinkel.com/blog/WhatIsARESTafarian.aspx

from where I'm standing people are doing their level best here to answer 
your questions. That doesn't help, at all.

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7089<br>
Sender:Jonathan Arkell &lt;yahoo@...&gt;<br>
Post Date/Time:2006-11-22 15:38:04<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Why does HTTP have to even be involved?  I mean, maybe it makes sense  
for your application, but maybe it doesn't.  (Good) HTTP happens to  
be an implementation of REST principles, but you do not need them to  
be RESTful.

I'll bet one could use Erlang or Termite as your base language and  
end up being just as RESTful.  (In actual fact, the choice of  
language is probably not as important, but some languages would make  
it easier to express RESTful principles then others)

Same with XML. If your application needs to work with XML, great.  If  
it doesn't, why make it?  There is very little inherently RESTful  
about XML.

On 21-Nov-06, at 9:10 AM, Mike Schinkel wrote:

&gt; Alan Dean wrote:
&gt;&gt;&gt; Yes, developing a Windows app on top of a RESTful
&gt;&gt;&gt; architecture makes eminent sense. It is simply a
&gt;&gt;&gt; (better) version of the "Smart Client" drive from MS
&gt;&gt;&gt; that builds desktop apps on top of WS-*.
&gt;
&gt; So what tools and language enhancements would be need to be able to  
&gt; do that
&gt; efficiently?  It seems like a good desktop HTTP host components and  
&gt; the
&gt; ability for URIs and XML to be first class language elements.   
&gt; Would you
&gt; agree?

Jonathan Arkell
jonnay@...






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7090<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2006-11-22 16:30:21<br>
Subject:Re: [rest-discuss] HTTP URI Methods Extension &amp; REST?<br>
Message:<br><br>
<pre>On Tue, 2006-11-21 at 04:34 +1100, Craig Overend wrote:

&gt; Allow: GET, POST, OPTIONS, xmlns.com/foaf/0.1/Person.GET,
&gt; xmlns.com/foaf/0.1/Person.name.POST

How is a foaf:Person.GET different from GET?  Why is
foaf:Person.name.POST better than POST?   It seems like what you're
really after is a forms language that lets the client understand which
{GET,PUT,POST,DELETE} transitions are reasonable for a given
resource ... which won't result in a 4xx, what fields will (not) be
modified by a PUT, &amp;c.


The actually new operations (e.g., SUBSCRIBE) are more tricky. The PEP
stuff is interesting, by basically making every new operation "subclass"
one of the set of uniform operations ... I thought POST(p) was an escape
hatch until seeing the "PEP" method! ;)

At the same time, it strikes me that if you don't require intermediaries
to understand the new semantics ({strength may}), then you're fine just
using the original method, and if you *do* require them {strength must},
then you really do have a different protocol; though PEP does make HTTP
extensible to those new protocols without *as much* re-tooling, you
still need to upgrade servers, intermediaries and UAs ... no small task.

I also find it interesting that WebDAV -- while used as the example
there -- is not implemented using PEP, maybe for the same reason...  if
you have only a small set of "change" (a revision of an existing method
or a new method of limited utility) you can get away with using an
existing method.  At the point you have a critical mass of new methods
you can just have a new protocol and you have to write new libraries and
server components anyways (even if they integrate well with existing
implementations).

-- 
...jsled
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7091<br>
Sender:Ryan Tomayko &lt;rtomayko@...&gt;<br>
Post Date/Time:2006-11-23 16:25:51<br>
Subject:Re: [rest-discuss] Rails RESTful?<br>
Message:<br><br>
<pre>Looks like the first round of information on Rails's enhancements are
coming out:

http://weblog.rubyonrails.com/2006/11/23/rails-1-2-release-candidate-1

I still haven't had a chance to look into any of this but I'm starting
to get excited :)

--
Ryan Tomayko
http://naeblis.cx/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7092<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-11-23 21:51:41<br>
Subject:REST wiki: editing<br>
Message:<br><br>
<pre>Is wiki editing turned off? Or am I being really dense? How do I edit
it?

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7093<br>
Sender:"Ernst, Matthias" &lt;matthias.ernst@...&gt;<br>
Post Date/Time:2006-11-25 19:33:07<br>
Subject:Composite Resources / individual and entire update<br>
Message:<br><br>
<pre>Hi,

one of the cornerstones of RESTful design is the concept of
hierarchy and containment - such as POST in the sense of "insert new child".

I'm trying to make use of this for the configuration of a hierarchical
service container about as follows:

GET /container  :  answer a representation of the container's configuration (port, max threads, ...) including links to all services
PUT /container :   reconfigure the container

POST /container:   add service
GET /container/{service}:  answer service configuration
PUT /container/{service}:  add/reconfigure service
DELETE /container/{service}: remove service

So far so good. However, I'm unsure about the significance of the service configuration links in the container resource. PUTting to the container resource with fewer service links, should that indicate the deletion of a service? Or should I ignore those?

Also, I'd like to GET/PUT the _entire_ configuration (container + services) in one representation, i.e. one that contains the service configurations in the container configuration instead of links.
PUTting that representation to /container would then also create, reconfigure or delete services.

How would you represent that? A different URI? A different MIME-Type? GET /container with accept: application/entireconfiguration+xml vs application/containerconfiguration+xml

Or I could use the same mime type but make the child representations optional in the schema: GET /container always includes the service configurations including their individual links, embedded in a &lt;services&gt; element. PUTting a representation that does not include said &lt;services&gt; element would only update the container resource. Including the &lt;services&gt; element would indicate that I want to configure all services at once, too.

Does that make sense to you?

Thanks
Matthias
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7094<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-11-25 21:20:18<br>
Subject:Re: [rest-discuss] Composite Resources / individual and entire update<br>
Message:<br><br>
<pre>Ernst,

On Nov 25, 2006, at 8:33 PM, Ernst, Matthias wrote:

&gt;
&gt; Hi,
&gt;
&gt; one of the cornerstones of RESTful design is the concept of
&gt; hierarchy and containment - such as POST in the sense of "insert  
&gt; new child".
No, not really. POST and its partial meaning of 'add to collection'  
are HTTP specific,
they have no relation to the architectural style 'REST'.

HTTP would be just as RESTful if it did not define POST at all.
&gt;
&gt; I'm trying to make use of this for the configuration of a hierarchical
&gt; service container about as follows:
&gt;
&gt; GET /container  :  answer a representation of the container's  
&gt; configuration (port, max threads, ...) including links to all services
Right.
(You do plan to do this as an Atom feed I hope :-)

&gt; PUT /container :   reconfigure the container
What does 'reconfigure' mean here?
(As a rule of thumb, let the server deal with the 'isness' of the  
collections and not bother the clients with needing to have knowledge  
about
such things)
&gt;
&gt; POST /container:   add service

Yes
&gt; GET /container/{service}:  answer service configuration
Yes (set aside what you mean by 'service').

&gt; PUT /container/{service}:  add/reconfigure service
No, add is not PUT. PUT is 'set state to'


&gt; DELETE /container/{service}: remove service

Yes
&gt;
&gt; So far so good. However, I'm unsure about the significance of the  
&gt; service configuration links in the container resource. PUTting to  
&gt; the container resource with fewer service links, should that  
&gt; indicate the deletion of a service? Or should I ignore those?

I'd say ignore. If you really have to PUT to collections, make sure  
you use Etags (to avoid lost updates) and if the collections are  
large, consider using PATCH which you could use with a delta. (Not  
sure about the standardization issues related to PATCH - I think it  
is HTTP 1.0 but 'd have to look that up.)
&gt;
&gt; Also, I'd like to GET/PUT the _entire_ configuration (container +  
&gt; services) in one representation, i.e. one that contains the service  
&gt; configurations in the container configuration instead of links.
&gt; PUTting that representation to /container would then also create,  
&gt; reconfigure or delete services.
&gt;
&gt; How would you represent that?
This is primarily a question of the media type. Which one do you  
intend to use or do you want to roll your own?

&gt; A different URI? A different MIME-Type? GET /container with accept:  
&gt; application/entireconfiguration+xml vs application/ 
&gt; containerconfiguration+xml
What is your requirement...and remember to keep it simple :-)
&gt;
&gt; Or I could use the same mime type but make the child  
&gt; representations optional in the schema: GET /container always  
&gt; includes the service configurations including their individual  
&gt; links, embedded in a &lt;services&gt; element. PUTting a representation  
&gt; that does not include said &lt;services&gt; element would only update the  
&gt; container resource. Including the &lt;services&gt; element would indicate  
&gt; that I want to configure all services at once, too.
&gt;
&gt; Does that make sense to you?
I have found that rolling your own media type is too much of an  
effort. I think that one of the major promises of Atom is that you  
can use Atom to do the bulk load of your integration solution and  
Atom extensions to handle the particularities. Specifying an Atom  
extension is just the right granularity of work a usual design/ 
development team can cope with. Media types are not.

Atom lets you focus on the essentials or your domain specifics.

But hearing about your use cases would definitely help.

Jan

&gt;
&gt; Thanks
&gt; Matthias
&gt;
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7095<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-11-25 21:33:02<br>
Subject:Re: [rest-discuss] Composite Resources / individual and entire update<br>
Message:<br><br>
<pre>
On Nov 25, 2006, at 10:20 PM, Jan Algermissen wrote:

&gt; Atom lets you focus on the essentials or your domain specifics.

That was supposed to read "Atom lets you focus on the essentials *of*  
your domain specifics"

Sorry,
Jan


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7096<br>
Sender:"Ernst, Matthias" &lt;matthias.ernst@...&gt;<br>
Post Date/Time:2006-11-26 19:17:10<br>
Subject:RE: [rest-discuss] Composite Resources / individual and entire update<br>
Message:<br><br>
<pre>Jan, thanks.

&gt;&gt; PUT /container :   reconfigure the container
&gt; What does 'reconfigure' mean here?

For example: resize the thread pool, or listen to a different port.

&gt;&gt; PUT /container/{service}:  add/reconfigure service
&gt;No, add is not PUT. PUT is 'set state to'

fuzzyBSc (Benjamin S Carlyle?) does not agree with you here: "PUT can even implicitly create new resources, either by storing to a url that returned "404 Not Found" before the request and now returns "200 OK" (http://rest.blueoxen.net/cgi-bin/wiki.pl?MinimumMethods)

As an example, let's say I want to create a configuration interface for a servlet container.
On the one hand, I want to PUT to /container, and just change the port, leaving all servlets intact.

PUT /container
&lt;container port="8000" threads="50"/&gt;

On the other hand I would like to enable people to init the container with exactly one PUT: the whole shebang including all servlets:

PUT /container
&lt;container port="8000" threads="50"&gt;
  &lt;servlet class="my.Servlet" uri="/servlet1/*"/&gt;
  &lt;servlet class="my.other.Servlet" uri="/servlet2/*"/&gt;
&lt;/container&gt;

How do I know in the first case that I don't want to delete all servlets? 
Likewise with GET. I would like people to GET the whole thing at once and PUT it
somewhere else instead of 3 operations.

In terms of Atom, if a server allowed a PUT to a collection URI, how to determine whether
to change the list of entries !?

Matthias
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7097<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-11-26 19:55:29<br>
Subject:Re: [rest-discuss] Composite Resources / individual and entire update<br>
Message:<br><br>
<pre>Ernst,

I wonder: is the kind of configuration use cases really something you  
need to do as a networked system and with an architecural
style that is optimized for decentralized evolution?

On Nov 26, 2006, at 8:17 PM, Ernst, Matthias wrote:

&gt; Jan, thanks.
&gt;
&gt; &gt;&gt; PUT /container :   reconfigure the container
&gt; &gt; What does 'reconfigure' mean here?
&gt;
&gt; For example: resize the thread pool, or listen to a different port.
&gt;
&gt; &gt;&gt; PUT /container/{service}:  add/reconfigure service
&gt; &gt;No, add is not PUT. PUT is 'set state to'
&gt;
&gt; fuzzyBSc (Benjamin S Carlyle?) does not agree with you here: "PUT  
&gt; can even implicitly create new resources, either by storing to a  
&gt; url that returned "404 Not Found" before the request and now  
&gt; returns "200 OK" (http://rest.blueoxen.net/cgi-bin/wiki.pl? 
&gt; MinimumMethods)
PUTting to a resource that formerly returned 404 is not creating that  
resource! 404 does not mean the resource is not there, just that  
there are no representations (currently). When you PUT, there is no  
HTTP licensed expectation that a resource be created!


&gt;
&gt; As an example, let's say I want to create a configuration interface  
&gt; for a servlet container.
&gt; On the one hand, I want to PUT to /container, and just change the  
&gt; port, leaving all servlets intact.
&gt;
&gt; PUT /container
&gt; &lt;container port="8000" threads="50"/&gt;
fine (if there are really no other properties of the container
&gt;
&gt; On the other hand I would like to enable people to init the  
&gt; container with exactly one PUT: the whole shebang including all  
&gt; servlets:
&gt;
&gt; PUT /container
&gt; &lt;container port="8000" threads="50"&gt;
&gt;   &lt;servlet class="my.Servlet" uri="/servlet1/*"/&gt;
&gt;   &lt;servlet class="my.other.Servlet" uri="/servlet2/*"/&gt;
&gt; &lt;/container&gt;
&gt;
&gt; How do I know in the first case that I don't want to delete all  
&gt; servlets?
You can't. The payload of PUT is exactly the state you want the  
resource to be in after the PUT. You cannot provide a delta. But you
can simply make up resources for the individual properties and PUT to  
those (e.g. to change the port PUT some appropriate representation
of 8000 to /container/port


&gt; Likewise with GET. I would like people to GET the whole thing at  
&gt; once and PUT it
&gt; somewhere else instead of 3 operations.

So thenm GET the whole thing and PUT it afterwards.
&gt;
&gt; In terms of Atom, if a server allowed a PUT to a collection URI,  
&gt; how to determine whether
&gt; to change the list of entries !?

Atom has no notion of collections implementing PUT. In terms of HTTP,  
PUTting to a collection
would mean to set the collection to exactly the state represented by  
the PUT payload.

PUT is defined in a certain way by HTTP and the semantics do not  
provide for delta updates in
any way.

(The server need not blindly take and 'store' the recevied state, it  
can change it. But PUT does not
provide for any partial update-like expectations by the client)

HTH,
Jan
&gt;
&gt; Matthias
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7098<br>
Sender:Chris Burdess &lt;dog@...&gt;<br>
Post Date/Time:2006-11-27 13:02:31<br>
Subject:REST confused with webtwenny<br>
Message:<br><br>
<pre> From http://www.regdeveloper.co.uk/2006/11/25/ 
forward_to_the_distributed_revolution/

"If we can unlearn the lessons of the old Web and transcend its  
stateless protocols to achieve real distributed processing over a  
managed, trustworthy network then the possibilities truly are  
remarkable."

It seems that some, in their haste to reject anything webtwenny, are  
harking back to the (as yet unfulfilled) promises of CORBA and J2EE.
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7099<br>
Sender:Jerome Louvel &lt;contact@...&gt;<br>
Post Date/Time:2006-11-27 19:38:46<br>
Subject:Feed-back on Restlet<br>
Message:<br><br>
<pre>Hi all,

The Restlet project, a lightweight REST framework for Java, has just 
released version 1.0 beta 21 which will soon be followed by the first 
release candidate.

This is your last opportunity to influence the content of the 1.0 
branch. We are actively looking for feed-back and will make sure that 
all comments are answered, as always, in our discussion list:
http://www.restlet.org/discuss

Here is an overview of some features recently added:
  - full virtual host support (similar to Apache HTTP server)
  - new HTTP client connector based on Jakarta Commons HTTP Client
  - support for latest Jetty 6.1 HTTP server
  - extension for the Spring framework 2.0
  - new Transformer to apply XSLT on XML representations
  - unique routing based on URI templates
  - support for JSON representations
  - support for Amazon Web Services authentication
  - support dynamic representations based on Jakarta Velocity
  - tunnel service to let browsers invoke all HTTP methods

http://www.restlet.org

Thanks,
Jerome



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7100<br>
Sender:Mark Nottingham &lt;mnot@...&gt;<br>
Post Date/Time:2006-11-27 20:41:35<br>
Subject:Re: [rest-discuss] REST confused with webtwenny<br>
Message:<br><br>
<pre>Wow, that was hard going; once you get over the opprobrium he heaps  
on just about everything that he doesn't like, there's not much left.

Maybe the register is trying to stir up some traffic?


On 2006/11/27, at 5:02 AM, Chris Burdess wrote:

&gt; From http://www.regdeveloper.co.uk/2006/11/25/ 
&gt; forward_to_the_distributed_revolution/
&gt;
&gt; "If we can unlearn the lessons of the old Web and transcend its  
&gt; stateless protocols to achieve real distributed processing over a  
&gt; managed, trustworthy network then the possibilities truly are  
&gt; remarkable."
&gt;
&gt; It seems that some, in their haste to reject anything webtwenny,  
&gt; are harking back to the (as yet unfulfilled) promises of CORBA and  
&gt; J2EE.


--
Mark Nottingham     http://www.mnot.net/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7101<br>
Sender:"David Heinemeier Hansson" &lt;david.heinemeier@...&gt;<br>
Post Date/Time:2006-11-28 01:13:54<br>
Subject:Re: Re: [rest-discuss] Rails RESTful?<br>
Message:<br><br>
<pre>&gt; Looks like the first round of information on Rails's enhancements are
&gt;  coming out:
&gt;
&gt;  http://weblog.rubyonrails.com/2006/11/23/rails-1-2-release-candidate-1
&gt;
&gt;  I still haven't had a chance to look into any of this but I'm starting
&gt;  to get excited :)

Thanks, Ryan. We've definitely drunk the kool-aid at this point.
Building resource-oriented applications will be the Rails default
before too long. By Rails 2.0, we'll have the new scaffold_resource be
the default scaffolder. Indoctrinate good RESTful practices to people
even before they know or care as to why it matters.

So I'm eager to hear more from you guys here on what we could do
better. Another neat short-cut we recently added is the head command,
used like this:

respond_to do |format|
  format.html { redirect_to post_url(post) }
  format.xml { head :created, :location =&gt; post_url(post) }
end

When making a XML request, you'll get a 201 Created with the URL for
the new resource in the Location header. And of course no content is
being returned.
-- 
David Heinemeier Hansson
http://www.loudthinking.com -- Broadcasting Brain
http://www.basecamphq.com   -- Online project management
http://www.backpackit.com   -- Personal information manager
http://www.rubyonrails.com  -- Web-application framework

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7102<br>
Sender:"Claude Montpetit" &lt;claude@...&gt;<br>
Post Date/Time:2006-11-28 12:37:25<br>
Subject:Re: [rest-discuss] Seeking some clarification around some aspects of REST<br>
Message:<br><br>
<pre>&gt; [...]
&gt; There is a common callback approach though and it's done by sending an
&gt; http uri in an email.
&gt;
&gt; Seems good enough to me. The Internet isn't just the web.
&gt;
&gt; Mind you. I get the same feeling when people start talking about JMS
&gt; or MQ. Good as those systems are I can't help wondering why people
&gt; just don't use SMTP.

Interesting idea. I think I read somewhere that there is even an
implementation of JMS over SMTP. Maybe there will eventuually be a
RESmTp writup some day that simplifies JMS, like we had for SOAP over
HTTP...  :)

-- 
Claude

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7103<br>
Sender:"Tim Emiola" &lt;tbetbe@...&gt;<br>
Post Date/Time:2006-11-28 10:20:23<br>
Subject:[ANN] HJB (HTTP JMS Bridge) 0.9.1 released<br>
Message:<br><br>
<pre>Hi rest-discuss,

HJB &lt;http://hjb.berlios.de&gt;, the HTTP JMS Bridge, provides a REST
version of the JMS
&lt;http://java.sun.com/products/jms&gt; API.

This API allows programs any language with a good HTTP library to access
**ANY** messaging systems that provide a JMS interface.  E.g, PyHJB
&lt;http://hjb.python-hosting.com&gt;, is a pure python JMS client.  Its
distribution includes
demos of using python to access JBoss Messaging, Websphere MQ, SwiftMQ
and ActiveMQ via HJB.

HJB 0.9.0 was released last week, but HJB 0.9.1 has been released very
quickly afterwards to fix an important bug.

For a list of changes in the 0.9x series of releases, please look at
the online SVN copy of the HJB ChangeLog:

http://svn.berlios.de/wsvn/hjb/trunk/ChangeLog?op=file&amp;rev=0&amp;sc=0

HJB is pretty much feature complete, in terms of its coverage of the
JMS API.  Future efforts will involve correcting some existing design
issues, e.g,

http://hjb.python-hosting.com/ticket/58#preview

and further refining the REST interface.

Tim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7104<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2006-11-28 15:37:11<br>
Subject:Re: [rest-discuss] [ANN] HJB (HTTP JMS Bridge) 0.9.1 released<br>
Message:<br><br>
<pre>On Tue, 2006-11-28 at 10:20 +0000, Tim Emiola wrote: 
&gt; HJB &lt;http://hjb.berlios.de&gt;, the HTTP JMS Bridge, provides a REST
&gt; version of the JMS
[...]
&gt; JMS API. Future efforts will involve correcting some existing design
&gt; issues, e.g,
&gt; 
&gt; http://hjb.python-hosting.com/ticket/58#preview
&gt; 
&gt; and further refining the REST interface.

Using POST to retreive messages (as there is a side-effect of doing so)
isn't really a problem, though you might want to provide a URL for the
message/resource to the POSTer so they can subsequently GET it (and get
the concomitant benefits).  Using GET for things like registering and
starting/stopping all these things doesn't seem great, though.

While the API here makes good use of Location headers in response to
POSTs, it seems like there could be a more extensive use of hypermedia.
Right now, it appears clients are going to be hard-coded to build urls
based on this documentation, rather than through a dialog with the
server.


But that strikes me as true of all of these "REST" APIs ... even if they
follow all the constraints, APIs for other software are still APIs that
are hard-coded into clients. :/

-- 
...jsled
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7105<br>
Sender:"Tim Emiola" &lt;tbetbe@...&gt;<br>
Post Date/Time:2006-11-28 15:59:56<br>
Subject:Re: [rest-discuss] [ANN] HJB (HTTP JMS Bridge) 0.9.1 released<br>
Message:<br><br>
<pre>On 28/11/06, Josh Sled &lt;jsled@...&gt; wrote:
&gt; On Tue, 2006-11-28 at 10:20 +0000, Tim Emiola wrote:
&gt; &gt; HJB &lt;http://hjb.berlios.de&gt;, the HTTP JMS Bridge, provides a REST
&gt; &gt; version of the JMS
&gt; [...]
&gt; &gt; JMS API. Future efforts will involve correcting some existing design
&gt; &gt; issues, e.g,
&gt; &gt;
&gt; &gt; http://hjb.python-hosting.com/ticket/58#preview
&gt; &gt;
&gt; &gt; and further refining the REST interface.
&gt;
&gt; Using POST to retreive messages (as there is a side-effect of doing so)
&gt; isn't really a problem, though you might want to provide a URL for the
&gt; message/resource to the POSTer so they can subsequently GET it (and get
&gt; the concomitant benefits).  Using GET for things like registering and
&gt; starting/stopping all these things doesn't seem great, though.
&gt;

Messages are never stored by HJB - it acts a pure gateway translating
requests into actions in the JMS messaging system.  Once a message is
retrieved, only the next is available so providing a GET URL is not an
option.

I could not see any distinct advantage in using either GET or POST for
start and stop things.  I decided to go with GET with stop/start/other
operations, because for nearly all them, re-requesting the URL without
any other intermediate state changes leaves 'system' in the same
state.  Although all client interaction with a messaging system is
inherently transient, these operations 'felt' as idempotent within the
lifetime of any given client - hence the use of GET.

&gt; While the API here makes good use of Location headers in response to
&gt; POSTs, it seems like there could be a more extensive use of hypermedia.
&gt; Right now, it appears clients are going to be hard-coded to build urls
&gt; based on this documentation, rather than through a dialog with the
&gt; server.
&gt;

What could be done to fix this? E.g., would it be worth adding
something similar to the /list command that shows all the possible
sub-URLs that can be obtained on any given resource?

E.g. At the moment, there is no action when you try to GET any of the
actual URIs that represent JMS resources. Or maybe a further sub-url
could be added: /commands...

&gt;
&gt; But that strikes me as true of all of these "REST" APIs ... even if they
&gt; follow all the constraints, APIs for other software are still APIs that
&gt; are hard-coded into clients. :/
&gt;

&gt; --
&gt; ...jsled
&gt; http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7106<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-11-28 17:26:33<br>
Subject:constraints and loose coupling<br>
Message:<br><br>
<pre>Hi,

[sorry, this is slightly OT, but the best place I know for it]

"The more a system is constrained, the looser coupled are the  
components"

(because coupling between components is induced by non-pervasive  
semantics shared between components).

Would you agree?

Thanks,
Jan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7107<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-11-28 17:33:47<br>
Subject:constraints and loose coupling<br>
Message:<br><br>
<pre>Hmm,...in the context of WS-* this could then be said:

Since WS-* does not impose any application layer constraints,
(application layer -) coupling between components is total.

Jan


&gt; From: Jan Algermissen &lt;algermissen1971@...&gt;
&gt;
&gt; Hi,
&gt;
&gt; [sorry, this is slightly OT, but the best place I know for it]
&gt;
&gt; "The more a system is constrained, the looser coupled are the  
&gt; components"
&gt;
&gt; (because coupling between components is induced by non-pervasive  
&gt; semantics shared between components).
&gt;
&gt; Would you agree?
&gt;
&gt; Thanks,
&gt; Jan


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7108<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2006-11-28 16:41:40<br>
Subject:Re: [rest-discuss] [ANN] HJB (HTTP JMS Bridge) 0.9.1 released<br>
Message:<br><br>
<pre>Tim Emiola wrote:
&gt; I could not see any distinct advantage in using either GET or POST for
&gt; start and stop things.  I decided to go with GET with stop/start/other
&gt; operations, because for nearly all them, re-requesting the URL without
&gt; any other intermediate state changes leaves 'system' in the same
&gt; state.  Although all client interaction with a messaging system is
&gt; inherently transient, these operations 'felt' as idempotent within the
&gt; lifetime of any given client - hence the use of GET.

I'm confused, but how can "start" or "stop" of anything be side-effect free?


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7109<br>
Sender:"Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-11-28 18:16:37<br>
Subject:Re: [rest-discuss] [ANN] HJB (HTTP JMS Bridge) 0.9.1 released<br>
Message:<br><br>
<pre>Nifty. I started something like that a long time ago
(http://sourceforge.net/projects/destiny/) but never kept working on
it. I hope you find success with your project and keep it going.

&gt; Messages are never stored by HJB - it acts a pure gateway translating
&gt; requests into actions in the JMS messaging system.  Once a message is
&gt; retrieved, only the next is available so providing a GET URL is not an
&gt; option.
How do you know that the retrieval was succesful?
You may want to consider explicit message acknowledgement, possibly
via DELETE where the URI contains the message id.


&gt;
&gt; I could not see any distinct advantage in using either GET or POST for
&gt; start and stop things.  I decided to go with GET with stop/start/other
&gt; operations, because for nearly all them, re-requesting the URL without
&gt; any other intermediate state changes leaves 'system' in the same
&gt; state.  Although all client interaction with a messaging system is
&gt; inherently transient, these operations 'felt' as idempotent within the
&gt; lifetime of any given client - hence the use of GET.
Although start/stop may be idempotent (predictibly repeatable) they
don't seem safe - they do change how the system will behave after that
point.

&gt;
&gt; &gt; While the API here makes good use of Location headers in response to
&gt; &gt; POSTs, it seems like there could be a more extensive use of hypermedia.
&gt; &gt; Right now, it appears clients are going to be hard-coded to build urls
&gt; &gt; based on this documentation, rather than through a dialog with the
&gt; &gt; server.
&gt; &gt;
&gt;
&gt; What could be done to fix this? E.g., would it be worth adding
&gt; something similar to the /list command that shows all the possible
&gt; sub-URLs that can be obtained on any given resource?
That would be very nice.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7110<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-11-28 18:43:14<br>
Subject:Re: [rest-discuss] [ANN] HJB (HTTP JMS Bridge) 0.9.1 released<br>
Message:<br><br>
<pre>Right.  Once again, I have to point out that the important feature of
GET from this POV is not idempotence, it's safety.

I wonder where this misconception came from?

Mark.

On 11/28/06, Jon Hanna &lt;jon@...&gt; wrote:
&gt; Tim Emiola wrote:
&gt; &gt; I could not see any distinct advantage in using either GET or POST for
&gt; &gt; start and stop things.  I decided to go with GET with stop/start/other
&gt; &gt; operations, because for nearly all them, re-requesting the URL without
&gt; &gt; any other intermediate state changes leaves 'system' in the same
&gt; &gt; state.  Although all client interaction with a messaging system is
&gt; &gt; inherently transient, these operations 'felt' as idempotent within the
&gt; &gt; lifetime of any given client - hence the use of GET.
&gt;
&gt; I'm confused, but how can "start" or "stop" of anything be side-effect free?
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7111<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-11-29 15:25:56<br>
Subject:Re: [rest-discuss] constraints and loose coupling<br>
Message:<br><br>
<pre>Fascinating question!

Many constraints are intended to separate concerns and therefore
provide loose coupling, but do all constraints do so?  Off the top of
my head I would have said "No", but a quick thought exercise failed to
turn up any counter examples.

Several of REST's constraints separate concerns, which Roy's
dissertation explicitly mentions, but others that he doesn't describe
as separating concerns, IMO, do.  For example, the uniform interface
separates concerns of interface (connector) from component
implementation, allowing implementations to vary without the interface
needing to change.  Also, "hypermedia" further separates (beyond that
provided by the client/server constraint) the concerns of
independently evolving client and server implementations.
Statelessness could also be described, I think, as separating the
concerns of message semantics from server or network state.

Luckily, it would only take one counter-example to disprove the
conjecture.  Can anybody think of one; a constraint on the
relationship of architectural elements which does *not* separate any
concerns?

Mark.

On 11/28/06, Jan Algermissen &lt;algermissen1971@...&gt; wrote:
&gt; Hi,
&gt;
&gt; [sorry, this is slightly OT, but the best place I know for it]
&gt;
&gt; "The more a system is constrained, the looser coupled are the
&gt; components"
&gt;
&gt; (because coupling between components is induced by non-pervasive
&gt; semantics shared between components).
&gt;
&gt; Would you agree?
&gt;
&gt; Thanks,
&gt; Jan
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7112<br>
Sender:"Daniel Hardman" &lt;daniel.hardman@...&gt;<br>
Post Date/Time:2006-11-29 15:49:30<br>
Subject:Re: constraints and loose coupling<br>
Message:<br><br>
<pre>&gt; Jan: "The more a system is constrained, the looser coupled are the
&gt; components"

&gt; Mark: Many constraints are intended to separate concerns and
&gt; therefore provide loose coupling, but do all constraints do so?

I can't think of any good reason to constrain a system *except* to 
separate concerns and thus promote loose coupling. Even if some 
counter examples are found, I think Jan's statement is a useful 
insight. I wish more designers understood it.

--Daniel Hardman


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7113<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2006-11-29 16:20:48<br>
Subject:Re: [rest-discuss] Re: constraints and loose coupling<br>
Message:<br><br>
<pre>Well, y'all are making it sound like "loose coupling" is the
only design quality we design for.  But what about scaleability,
performance, security, transactional stuff (atomicity, integrity,
durability, etc.)?

And in terms of tradeoffs, you may see constraints intended
to induce some of the latter (above) interfering with the former,
right?  Think of schema denormalization, for example.

Walden


----- Original Message ----- 
From: "Daniel Hardman" &lt;daniel.hardman@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Wednesday, November 29, 2006 10:49 AM
Subject: [rest-discuss] Re: constraints and loose coupling


:&gt; Jan: "The more a system is constrained, the looser coupled are the
: &gt; components"
: 
: &gt; Mark: Many constraints are intended to separate concerns and
: &gt; therefore provide loose coupling, but do all constraints do so?
: 
: I can't think of any good reason to constrain a system *except* to 
: separate concerns and thus promote loose coupling. Even if some 
: counter examples are found, I think Jan's statement is a useful 
: insight. I wish more designers understood it.
: 
: --Daniel Hardman
: 
: 
: 
: __________ NOD32 1889 (20061129) Information __________
: 
: This message was checked by NOD32 antivirus system.
: http://www.eset.com
: 
:

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7114<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-30 12:02:39<br>
Subject:RE: [rest-discuss] proxy's and PUT<br>
Message:<br><br>
<pre>&gt;&gt; Bill de hOra
&gt;&gt; Mike Schinkel wrote:
&gt;&gt; &gt;&gt; &gt; Bill de hOra
&gt;&gt; &gt;&gt; &gt; the first two are how htmlforms based apps usually work, the latter
is
&gt;&gt; &gt;&gt; &gt; what SOAPAction wants to be when it grows up.
&gt;&gt; &gt;
&gt;&gt; &gt; Hmm. This seems like it would be a very common problem when working
with 
&gt;&gt; &gt; REST. 
&gt;&gt; No it's not - it's a very common problem dealing with deployed HTTP 
&gt;&gt; technology. If a design/spec says use uniform methods, and people who 
&gt;&gt; implement it ignore it, that's not a design problem.

Now Bill, no need to get defensive on REST's account. I wasn't saying it was
REST's fault, just that it seems a common problem with REST. That fact that
it is also a problem for a superset doesn't mean that it's not a problem for
the subset.  And if Toyota builds a great SUV that requires special tools to
balance its tires correctly yet almost nobody every uses that special tool
then I can still say it is a common problem with Toyota 4Runners even though
the numnuts balancing the tires are really the ones at fault (can you tell
I've had the problem w/my 4Runner for the 7 years I've owned it? ;-)

&gt;&gt; No firestorm - tho' you're using REST interchangeably with 
&gt;&gt; HTTP interchangeably with deployed HTTP systems. I'll assume 
&gt;&gt; that's not a deliberate debating tactic unless I keep seeing you 
&gt;&gt; do it.

It certainly is not a deliberate debating tactic, it is me trying to make
sense of things and to also figure out why the state of REST has been
bugging me so much. But I've been doing a lot of reading and work offline
and I think I'm getting a handle on what's been bugging me and how to
resolve it.

&gt;&gt; http://www.mikeschinkel.com/blog/WhatIsARESTafarian.aspx 
&gt;&gt; from where I'm standing people are doing their level best here 
&gt;&gt; to answer your questions. That doesn't help, at all.

I'm not sure where you are going with this. I do appreciate all the help,
and I am here with the best of intentions, I can assure you of that.

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7115<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-30 12:02:39<br>
Subject:RE: [rest-discuss] proxy's and PUT<br>
Message:<br><br>
<pre>&gt;&gt; &gt; Mike Dierken wrote:
&gt;&gt; &gt;
&gt;&gt; &gt; &gt;&gt; I'm going to guess that a cache that sees a PUT will be able to
&gt;&gt; &gt; &gt;&gt; return that data, and when it sees a DELETE it can remove the
&gt;&gt; &gt; &gt;&gt; entry. If you use a different method with a different resource
&gt;&gt; &gt; &gt;&gt; ID, I doubt the cache can do it's thing.
&gt;&gt; &gt; &gt;&gt; But maybe not - caching is always more subtle than I think.
&gt;&gt; &gt;
&gt;&gt; &gt; Isn't one of the problems with caching is that caching behavior is
dependent
&gt;&gt; &gt; upon numerous independent implementations for which few if any shared
the
&gt;&gt; &gt; exact same implementation criteria and thus many made independent
&gt;&gt; &gt; engineering decisions?
&gt;&gt; Not really. Any interaction between components is susceptible to
&gt;&gt; independent implementations - which gives rise to the need for all of
&gt;&gt; us to learn how to play well with each other.
&gt;&gt; When the caching behavior is described by a protocol specification,
&gt;&gt; then the 'independence' of the implementations is reduced.
&gt;&gt; The specifications in these cases usually was derived from the
&gt;&gt; commonality of already working software, but as new software is built
&gt;&gt; there is always a risk that it isn't interoperable.

Hehe. Tell that to my friend who runs /n software (www.nsoftware.com)! He's
spent well over a decade listening to customers complain about his internet
protocol components not working in weird special cases only to end up fine
tuning them for all the ever so subtle inconsistencies between server
implementations, even on protocols as common as SMTP and HTTP.  It's one
reason why you want to get your internet protocol components from someone
who's been in the business for a long time. :-)

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7116<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-30 12:02:39<br>
Subject:RE: URI Opacity (was: RE: [rest-discuss] REST design question)<br>
Message:<br><br>
<pre>Mike Dierken wrote:
&gt;&gt;&gt; Now *that's* an opaque URI! But I consider it an error from an
architectural
&gt;&gt;&gt; standpoint. From the client-side perspective of inferring anything from
a
&gt;&gt;&gt; URI, URIs must be considered opaque as [1] clearly demonstrates. But
from an
&gt;&gt;&gt; application-design perspective it's obviously an error to treat URIs as
&gt;&gt;&gt; opaque, as [1] and [2] clearly demonstrate.
&gt;&gt;It is not necessary or desirable for the origin server to treat their
&gt;&gt;own URIs as opaque. Your detailed example shows what happens when the
&gt;&gt;owner and manager of a set of resources forgets what it's purpose in
&gt;&gt;life is - to servic the clients requests. 

I agree with your assertion &gt;100%. :)

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7117<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-30 12:02:39<br>
Subject:RE: "Lightweight Data Access Services" and Well Designed Urls [rest-discuss]<br>
Message:<br><br>
<pre>&gt;&gt; &gt;  The next issue you debated with me was whether REST required 
&gt;&gt; &gt; hypermedia. I  am still unclear as to what hypermedia exactly looks 
&gt;&gt; &gt; like (I've seen zero  real world examples in anything I've read 
&gt;&gt; &gt; online)
&gt;&gt; I would have thought a web browser consuming HTML would be pretty hard to
miss.

I was referring to web services, not web browsers.

&gt;&gt; &gt;  However, ALL of the examples of web services implementations I have 
&gt;&gt; &gt; seen  that claim to be REST-based DO NOT incorporate a "hypermedia"
aspect.
&gt;&gt; You might want to look at feed auto-discovery:...

That new job kept you away for a while? ;-)  You were replying to a really
old message. I've since found many of your articles and I praised them in
later emails as the only ones that I had found that were clear to a
REST-newbie.  Also in the past month I've been reading A LOT about REST and
RFCs, and have a much better handle on things. 

OTOH, thanks for the links; one of them was new to me.

Also, I'm a huge fan of the URI Template spec.

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/

P.S. One more thing; wouldn't you say that the Atom Feed Autodiscovery and
the OpenSearch, from a web services perspective, fairly trivial with
essentially one operation each?  I mean they are not at the level of
something like placing a purchase order or anything.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7118<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-30 12:02:39<br>
Subject:RE: Re: [rest-discuss] Rails RESTful?<br>
Message:<br><br>
<pre>David:

&gt;&gt; Thanks, Ryan. We've definitely drunk the kool-aid at this point.
&gt;&gt; Building resource-oriented applications will be the Rails default
&gt;&gt; before too long. By Rails 2.0, we'll have the new scaffold_resource be
&gt;&gt; the default scaffolder. Indoctrinate good RESTful practices to people
&gt;&gt; even before they know or care as to why it matters.

Have you considered supporting the new URI Template[1] format for URL
configuration?


-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/

[1] http://www.ietf.org/internet-drafts/draft-gregorio-uritemplate-00.txt 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7119<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-11-30 12:02:39<br>
Subject:RE: URI Opacity  (was: RE: [rest-discuss] REST design question)<br>
Message:<br><br>
<pre>Eric Bowman wrote:
&gt;&gt; My mantra is, "The Web only works because we allow it to be broken."  I
apply this to 404 errors and URI opacity.   

WOW. That was a *really* good writeup.  But I'm going to have to print it
out and reread it a few times to really digest it.

That said, it would also be a *perfect* article to run at
http;//blog.welldesignedurls.org/ once I get it going in full, assuming you
are amenable?  

BTW, I've been doing research and writing for that blog for the better part
of two months now, but feel the need to cover topics in a particular order
(i.e. so that I can refer to more fundament topics in higher level topics
instead of having to provide the same background over and over) and I'm
still researching some of those core topics.  I hope to launch the blog by
the end of the year, and once I do I will hopefully have enough content to
post consistently for a long time.

So if you are amenable, I'll come back to you when I'm ready to use it and
give you a chance to post it to the blog yourself?


-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7120<br>
Sender:"algermissen1971" &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-11-30 12:44:00<br>
Subject:Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>Hi,

HTTP defines the semantics of POST (roughly speaking) as 'add to collection' and 'process 
this', the latter being the case where the POSTed data is only processed and no resource is 
created.

I have just come to think that the Atom Publishing Protocol[1] not only uses HTTP but also 
constrains it further by excluding the 'process this' semantic of POST (at least when 
interacting with an APP collection). Resource creation upon POST is mandatory for an APP 
collection.

When designing a system using HTTP *and* APP (meaning: assuming them both to be 
pervasive) this has an (IMO) interesting effect on the options you have when designing how 
to 'get stuff done'. If I want to launch a rocket for example, I can only do this through 
manipulation of resource state and not through having a rocket-launcher-processor 
process some rocket-launch-control data. I either need to set the state of a given rocket-
resource to 'launch' or I need to ceate a rocket-resource, maybe with some appropriate 
control data (which is IMHO equivalent to intended-resource-state-after-creation - see 
app:draft[2][).

Actually, I wonder if actions that are performed through 'process this'-POST (and not 
through manipulation of resuorce state) aren't in fact hidden RPC anyhow and thus are 
against REST's architectural principles. In which case APP would rather be setting matters 
straight as opposed to adding an additional constraint.

Practically, I think that having less design options for how to get an action done in a 
system helps people understand how to approch systems design with REST.

Now, if that does make any sense at all, I'd be very interested in comments on this.

Jan



[1] http://bitworking.org/projects/atom/draft-ietf-atompub-protocol-11.html
[2] http://bitworking.org/projects/atom/draft-ietf-atompub-
protocol-11.html#rfc.section.12.1.1



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7121<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2006-11-30 13:09:02<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>
----- Original Message ----- 
From: "algermissen1971" &lt;algermissen1971@...&gt;
:
: Actually, I wonder if actions that are performed through 'process 
this'-POST (and not
: through manipulation of resuorce state) aren't in fact hidden RPC anyhow 
and thus are
: against REST's architectural principles.


I don't think so.

'process this'-POST can be thought of as "implicit invocation".  Another
way of thinking of it is event delivery.  In RPC, the client requests a 
remote
method invocation.  In Implicit Invocation (event delivery), the server
decides what internal method, if any, to apply in response to the delivered
event.

Note the loose coupling of the II style. :-)

Walden 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7122<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-11-30 14:38:12<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>+1

On 11/30/06, Walden Mathews &lt;waldenm@...&gt; wrote:
&gt;
&gt; ----- Original Message -----
&gt; From: "algermissen1971" &lt;algermissen1971@...&gt;
&gt; :
&gt; : Actually, I wonder if actions that are performed through 'process
&gt; this'-POST (and not
&gt; : through manipulation of resuorce state) aren't in fact hidden RPC anyhow
&gt; and thus are
&gt; : against REST's architectural principles.
&gt;
&gt;
&gt; I don't think so.
&gt;
&gt; 'process this'-POST can be thought of as "implicit invocation".  Another
&gt; way of thinking of it is event delivery.  In RPC, the client requests a
&gt; remote
&gt; method invocation.  In Implicit Invocation (event delivery), the server
&gt; decides what internal method, if any, to apply in response to the delivered
&gt; event.
&gt;
&gt; Note the loose coupling of the II style. :-)
&gt;
&gt; Walden
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7123<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2006-11-30 17:15:12<br>
Subject:Re: RESTful IPC? (WAS: process-this)<br>
Message:<br><br>
<pre>Hi all,

I've recently been wondering about this as well.  What exactly is the  
"RESTful" way to handle side-effects?  Is the goal to define  
resources for everything in the (relevant) known universe, so there  
is no such thing as a 'side effect'? Or am I asking the wrong question?

As one specific example, I've been wondering if there's a way to  
replace (or more likely, proxy) Apple Events with some sort of  
RESTful web service.  Getters and setters are easy, but what is the  
"right" way to replace "commands"?  Is it really just a matter of  
defining appropriate state variables, and GETting resources that have  
the appropriate end-state properties? Can RESTful principles scale  
all the way down to replace inter-process IPC? Am I supposed to know  
this already?

http://en.wikipedia.org/wiki/Apple_events

-- Ernie P.

On Nov 30, 2006, at 5:09 AM, Walden Mathews wrote:

&gt;
&gt; ----- Original Message -----
&gt; From: "algermissen1971" &lt;algermissen1971@...&gt;
&gt; :
&gt; : Actually, I wonder if actions that are performed through 'process
&gt; this'-POST (and not
&gt; : through manipulation of resuorce state) aren't in fact hidden RPC  
&gt; anyhow
&gt; and thus are
&gt; : against REST's architectural principles.
&gt;
&gt; I don't think so.
&gt;
&gt; 'process this'-POST can be thought of as "implicit invocation".  
&gt; Another
&gt; way of thinking of it is event delivery. In RPC, the client requests a
&gt; remote
&gt; method invocation. In Implicit Invocation (event delivery), the server
&gt; decides what internal method, if any, to apply in response to the  
&gt; delivered
&gt; event.
&gt;
&gt; Note the loose coupling of the II style. :-)
&gt;
&gt; Walden
&gt;
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7124<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-11-30 18:15:50<br>
Subject:Re: [rest-discuss] Re: RESTful IPC? (WAS: process-this)<br>
Message:<br><br>
<pre>Dr. Ernie Prabhakar wrote:

&gt; I've recently been wondering about this as well.  What exactly is the 
&gt; "RESTful" way to handle side-effects?  Is the goal to define resources 
&gt; for everything in the (relevant) known universe, so there is no such 
&gt; thing as a 'side effect'? Or am I asking the wrong question?


There can easily be side effects in a REST system (though I'd certainly 
try to minimize them, just as I would in an OOP system). The key is to 
make sure that anything with a serious side effect occurs through POST 
rather than GET. GET should never have side effects. POST may.


-- 
﻿Elliotte Rusty Harold  elharo@...
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7125<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2006-11-30 18:21:29<br>
Subject:Re: [rest-discuss] Re: RESTful IPC? (WAS: process-this)<br>
Message:<br><br>
<pre>Hi Elliote,

Is there any guideline on "what" side effects are allowable?  For  
example, should it only impact resources that are either i) named by  
the request or ii) returned by the response? Is the key that the  
*primary* effect must be on the resource named by the POST?

Otherwise, how is "side effects with POST" any different than  
"tunneling RPC through POST"?

-enp


On Nov 30, 2006, at 10:15 AM, Elliotte Harold wrote:

&gt; Dr. Ernie Prabhakar wrote:
&gt;
&gt;&gt; I've recently been wondering about this as well.  What exactly is  
&gt;&gt; the "RESTful" way to handle side-effects?  Is the goal to define  
&gt;&gt; resources for everything in the (relevant) known universe, so  
&gt;&gt; there is no such thing as a 'side effect'? Or am I asking the  
&gt;&gt; wrong question?
&gt;
&gt;
&gt; There can easily be side effects in a REST system (though I'd  
&gt; certainly try to minimize them, just as I would in an OOP system).  
&gt; The key is to make sure that anything with a serious side effect  
&gt; occurs through POST rather than GET. GET should never have side  
&gt; effects. POST may.
&gt;
&gt;
&gt; -- 
&gt; Elliotte Rusty Harold  elharo@...
&gt; Java I/O 2nd Edition Just Published!
&gt; http://www.cafeaulait.org/books/javaio2/
&gt; http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/ 
&gt; cafeaulaitA/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7126<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2006-11-30 18:39:20<br>
Subject:Re: [rest-discuss] Re: RESTful IPC? (WAS: process-this)<br>
Message:<br><br>
<pre>On 11/30/06, Dr. Ernie Prabhakar &lt;drernie@...&gt; wrote:
&gt;  Is there any guideline on "what" side effects are allowable?  For
&gt;  example, should it only impact resources that are either i) named by
&gt;  the request or ii) returned by the response? Is the key that the
&gt;  *primary* effect must be on the resource named by the POST?

If in handling a POST, the server cannot affect resources other than
the one named, how would orders cause deliveries and charges to credit
card accounts?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7127<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2006-11-30 19:05:12<br>
Subject:Re: [rest-discuss] Re: RESTful IPC? (WAS: process-this)<br>
Message:<br><br>
<pre>Hi Bob,

A fair question.  My assumption is that to do this, the POST should  
-- at some level -- *include* the resources it is affecting, such as  
"address" and "credit card".   That is, the system should have well- 
defined (if opaque) URIs for each of those resources, and they should  
be "named" by the POST, even if they aren't the "destination."

At least, that's what I'm trying to find out: is that the most  
"RESTful" way to solve that problem, or is that just being silly?

-enp

On Nov 30, 2006, at 10:39 AM, Bob Haugen wrote:

&gt; On 11/30/06, Dr. Ernie Prabhakar &lt;drernie@...&gt; wrote:
&gt; &gt; Is there any guideline on "what" side effects are allowable? For
&gt; &gt; example, should it only impact resources that are either i) named by
&gt; &gt; the request or ii) returned by the response? Is the key that the
&gt; &gt; *primary* effect must be on the resource named by the POST?
&gt;
&gt; If in handling a POST, the server cannot affect resources other than
&gt; the one named, how would orders cause deliveries and charges to credit
&gt; card accounts?
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7128<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2006-11-30 19:16:41<br>
Subject:Re: [rest-discuss] Re: RESTful IPC? (WAS: process-this)<br>
Message:<br><br>
<pre>The side effects are not part of what the client intends.

For example, PUTting to resource X may cause resource
Y to cease to have a representation, but this outcome cannot be
something the client intends; it's just server autonomy.

Walden

----- Original Message ----- 
From: "Dr. Ernie Prabhakar" &lt;drernie@...&gt;
To: "Elliotte Harold" &lt;elharo@...&gt;
Cc: "REST Discuss" &lt;rest-discuss@yahoogroups.com&gt;
Sent: Thursday, November 30, 2006 1:21 PM
Subject: Re: [rest-discuss] Re: RESTful IPC? (WAS: process-this)


: Hi Elliote,
: 
: Is there any guideline on "what" side effects are allowable?  For  
: example, should it only impact resources that are either i) named by  
: the request or ii) returned by the response? Is the key that the  
: *primary* effect must be on the resource named by the POST?
: 
: Otherwise, how is "side effects with POST" any different than  
: "tunneling RPC through POST"?
: 
: -enp
: 
: 
: On Nov 30, 2006, at 10:15 AM, Elliotte Harold wrote:
: 
: &gt; Dr. Ernie Prabhakar wrote:
: &gt;
: &gt;&gt; I've recently been wondering about this as well.  What exactly is  
: &gt;&gt; the "RESTful" way to handle side-effects?  Is the goal to define  
: &gt;&gt; resources for everything in the (relevant) known universe, so  
: &gt;&gt; there is no such thing as a 'side effect'? Or am I asking the  
: &gt;&gt; wrong question?
: &gt;
: &gt;
: &gt; There can easily be side effects in a REST system (though I'd  
: &gt; certainly try to minimize them, just as I would in an OOP system).  
: &gt; The key is to make sure that anything with a serious side effect  
: &gt; occurs through POST rather than GET. GET should never have side  
: &gt; effects. POST may.
: &gt;
: &gt;
: &gt; -- 
: &gt; Elliotte Rusty Harold  elharo@...
: &gt; Java I/O 2nd Edition Just Published!
: &gt; http://www.cafeaulait.org/books/javaio2/
: &gt; http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/ 
: &gt; cafeaulaitA/
: 
: 
: 
: __________ NOD32 1893 (20061130) Information __________
: 
: This message was checked by NOD32 antivirus system.
: http://www.eset.com
: 
:

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7129<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2006-11-30 19:09:39<br>
Subject:Re: [rest-discuss] Re: RESTful IPC? (WAS: process-this)<br>
Message:<br><br>
<pre>On 11/30/06, Dr. Ernie Prabhakar &lt;drernie@...&gt; wrote:
&gt; A fair question.  My assumption is that to do this, the POST should -- at
&gt; some level -- *include* the resources it is affecting, such as "address" and
&gt; "credit card".   That is, the system should have well-defined (if opaque)
&gt; URIs for each of those resources, and they should be "named" by the POST,
&gt; even if they aren't the "destination."

Practically speaking, how would the ordering agent know the URI for
e.g. Amazon's credit card processor?  All the ordering agent knows is
their credit card type  and number.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7130<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-11-30 20:16:45<br>
Subject:Re: [rest-discuss] Re: RESTful IPC? (WAS: process-this)<br>
Message:<br><br>
<pre>Dr. Ernie Prabhakar wrote:
&gt; Hi Elliote,
&gt; 
&gt; Is there any guideline on "what" side effects are allowable?  For 
&gt; example, should it only impact resources that are either i) named by the 
&gt; request or ii) returned by the response? Is the key that the *primary* 
&gt; effect must be on the resource named by the POST?

Any side effects are allowable with POST. GET is what shouldn't have 
side effects, aside from the trivial (e.g. updating a hit counter), Now 
in general side effects are a bad design, irrespective of REST 
principles, so try to avoid them where possible.

&gt; Otherwise, how is "side effects with POST" any different than "tunneling 
&gt; RPC through POST"?

The problem with tunneling RPC through POST is something completely 
different. It gives every service a unique interface and makes proxies 
and firewalls very hard to implement. REST is about many nouns and four 
verbs. RPC is usually about many verbs and just a few nouns (int, 
string, double, etc.).

There is one side-effect related problem with POST-tunneling, though 
it's the reverse. Since RPC solutions use POST for everything, even 
side-effect free, safe operations can't be cached, bookmarked, repeated, 
and so forth. REST separates safe and idempotent operations from 
non-safe and non-idempotent ones. RPC doesn't. :-(

-- 
﻿Elliotte Rusty Harold  elharo@...
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7131<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-12-01 06:00:51<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>&gt;&gt; Why does HTTP have to even be involved? I mean, maybe it 
&gt;&gt; makes sense for your application, but maybe it doesn't. 
&gt;&gt; (Good) HTTP happens to be an implementation of REST 
&gt;&gt; principles, but you do not need them to be RESTful. 

It doesn't, but methinks w/o HTTP you loose the network-effect benefit of
all the code out there written that understands URIs, HTTP, and
Content-Types.

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7132<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-12-01 06:00:51<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Stefan Tilkov wrote:
&gt;&gt; Mike Schinkel wrote:
&gt;&gt; &gt; So my question was really "How to you programmatically 
&gt;&gt; &gt; update the DNS?"
&gt;&gt; You don't need to, as I've tried to point out.

Thanks.  I was so wrapped up on what I already "knew" to be true about DNS
that I wasn't even able to even hear you. That is until just now when I went
to prove you wrong and found out that you were right! ;-)  Here is my test.

	Microsoft Windows XP [Version 5.1.2600]
	(C) Copyright 1985-2001 Microsoft Corp.

	C:\Documents and Settings\mikes&gt;nslookup
	Default Server:  dns.guidesinc.local
	Address:  192.168.0.143

	&gt; guidesinc.com
	Server:  dns.guidesinc.local
	Address:  192.168.0.143

	Name:    guidesinc.com
	Address:  208.101.32.104

	&gt; notthere.guidesinc.com
	Server:  dns.guidesinc.local
	Address:  192.168.0.143

	Name:    notthere.guidesinc.com
	Address:  208.101.32.104

This is totally awesome! I had no idea this was possible and have always
wanted to implement subdomains in that fashion (Damn, ignorance sux!) This
opens up a whole world for me! Thank you.

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7133<br>
Sender:"Teo Hui Ming" &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2006-12-01 06:54:18<br>
Subject:Re: [rest-discuss] Seeking some clarification around some aspects of REST<br>
Message:<br><br>
<pre>Hi Peter,

On 11/15/06, Peter Madziak &lt;peter.madziak@...&gt; wrote:
&gt; 2. A conceptual question: should I even think in terms of "a service" when it comes to REST? Is there necessarily always a "service" behind the RESTful interface that is processing the HTTP messages that are being sent to/from the RESTful system? I know that opening up the whole SOA versus REST question is a huge can of worms but I am trying to get down to even the most basic of questions: is the mental construct of a "service" a useful one when it comes to architecting my distributed systems using the principles of REST? Or is it better to say that the Resource is the conceptual primitive that I should be focusing on and that, as such, I should let go of any notion of service lingering from a numbers of years of being immersed in this thing called SOA?

I try to think in this way.

You have interesting data/functions that people want, so you start up
a service, provide an interface (hiding all complexity behind it) to
allow users to access your data/functions in a simple way.

*Interface* is like an abstraction of your service. So, how do you
model your service abstraction? E.g. to provide a web searching
service,

If model it as a procedure call, your are thinking "I want to perform
a search, so I doGoogleSearch".

If model it in data-centric way, your thinking is "I want to get that
search results." Which search results? "The search results of
'beatles'! I have its identifier, here:
http://www.google.com/search?q=beatles".


Recently I started to sense the HTTP resource abstraction model [1] is
like a network-based cousin of Unix file system (Container/directory,
readonly, read-writable file, Processor/executable file).

[1] http://www.markbaker.ca/2001/09/draft-baker-http-resource-state-model

--
Teo Hui Ming

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7134<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-01 08:55:59<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>"Mike Schinkel" &lt;mikeschinkel@...&gt; writes:

&gt; Stefan Tilkov wrote:
&gt;&gt;&gt; Mike Schinkel wrote:
&gt;&gt;&gt; &gt; So my question was really "How to you programmatically 
&gt;&gt;&gt; &gt; update the DNS?"
&gt;&gt;&gt; You don't need to, as I've tried to point out.
&gt;
&gt; Thanks.  I was so wrapped up on what I already "knew" to be true about DNS
&gt; that I wasn't even able to even hear you. That is until just now when I went
&gt; to prove you wrong and found out that you were right! ;-)  Here is my test.
&gt;
&gt; 	Microsoft Windows XP [Version 5.1.2600]
&gt; 	(C) Copyright 1985-2001 Microsoft Corp.
&gt;
&gt; 	C:\Documents and Settings\mikes&gt;nslookup
&gt; 	Default Server:  dns.guidesinc.local
&gt; 	Address:  192.168.0.143
&gt;
&gt; 	&gt; guidesinc.com
&gt; 	Server:  dns.guidesinc.local
&gt; 	Address:  192.168.0.143
&gt;
&gt; 	Name:    guidesinc.com
&gt; 	Address:  208.101.32.104
&gt;
&gt; 	&gt; notthere.guidesinc.com
&gt; 	Server:  dns.guidesinc.local
&gt; 	Address:  192.168.0.143
&gt;
&gt; 	Name:    notthere.guidesinc.com
&gt; 	Address:  208.101.32.104
&gt;
&gt; This is totally awesome! I had no idea this was possible and have always
&gt; wanted to implement subdomains in that fashion (Damn, ignorance sux!) This
&gt; opens up a whole world for me! Thank you.

Note that this is a feature of the DNS configuration. It's not always
the case.


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7135<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-12-01 12:55:05<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>Yeah, POST is the protocol equivalent pointing at something and grunting 
at someone. Who knows what will happen in that language game [1]. What 
you do know is the success criteria are undefined - unlike PUT and 
DELETE, POST is degenerate.

As for APP, the most important contraints its adding aren't around POST; 
they're around semantically relating resources to each other (either via 
collections or media links). It's subtle but it's a big deal.

cheers
Bill

[1] http://www-csli.stanford.edu/~john/APA/apa/node2.html

Walden Mathews wrote:
&gt; 
&gt; 
&gt; 
&gt; ----- Original Message -----
&gt; From: "algermissen1971" &lt;algermissen1971@... 
&gt; &lt;mailto:algermissen1971%40mac.com&gt;&gt;
&gt; :
&gt; : Actually, I wonder if actions that are performed through 'process
&gt; this'-POST (and not
&gt; : through manipulation of resuorce state) aren't in fact hidden RPC anyhow
&gt; and thus are
&gt; : against REST's architectural principles.
&gt; 
&gt; I don't think so.
&gt; 
&gt; 'process this'-POST can be thought of as "implicit invocation". Another
&gt; way of thinking of it is event delivery. In RPC, the client requests a
&gt; remote
&gt; method invocation. In Implicit Invocation (event delivery), the server
&gt; decides what internal method, if any, to apply in response to the delivered
&gt; event.
&gt; 
&gt; Note the loose coupling of the II style. :-)
&gt; 
&gt; Walden
&gt; 
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7136<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-12-01 12:59:14<br>
Subject:Re: [rest-discuss] Re: RESTful IPC? (WAS: process-this)<br>
Message:<br><br>
<pre>Walden Mathews wrote:
&gt; 
&gt; 
&gt; The side effects are not part of what the client intends.
&gt; 
&gt; For example, PUTting to resource X may cause resource
&gt; Y to cease to have a representation, but this outcome cannot be
&gt; something the client intends; it's just server autonomy.

See my point elsewhere about APP. It introduces these kinds of 
side-effects, but in a predictable fashion. You can't always work with a 
collection/iterator or what is collected without inducing a side-effect.

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7137<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2006-12-01 13:43:15<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>
: Yeah, POST is the protocol equivalent pointing at something and grunting 
: at someone. 

Except for the grunting part, yes.  The entity in a POST can be
a lot more elaborate and formal (and therefore more expressive)
than a grunt, though.  However, from the client POV, it may be
utterly meaningless.

: Who knows what will happen in that language game [1].

Fine, fine question if taken at face value.  So, what is the answer?

: What 
: you do know is the success criteria are undefined

The server will respond with a status code indicating the level
of success, so how is it undefined?

: - unlike PUT and 
: DELETE, POST is degenerate.

Or misunderstood.

--Walden

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7138<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-12-01 14:21:07<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>Walden Mathews wrote:
&gt; : Yeah, POST is the protocol equivalent pointing at something and grunting 
&gt; : at someone. 
&gt; 
&gt; Except for the grunting part, yes.  The entity in a POST can be
&gt; a lot more elaborate and formal (and therefore more expressive)
&gt; than a grunt, though.  However, from the client POV, it may be
&gt; utterly meaningless.

It's still grunting. Elaborate here would means two fingers.

&gt; : Who knows what will happen in that language game [1].
&gt; 
&gt; Fine, fine question if taken at face value.  So, what is the answer?

Apply Grice's maxims. Don't grunt when you have a better way of saying 
things.

&gt; : What 
&gt; : you do know is the success criteria are undefined
&gt; 
&gt; The server will respond with a status code indicating the level
&gt; of success, so how is it undefined?

What were we trying to do?

&gt; : - unlike PUT and 
&gt; : DELETE, POST is degenerate.
&gt; 
&gt; Or misunderstood.

Nope. POST is different.

cheers
Bill


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7139<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-12-01 15:21:27<br>
Subject:Re: [rest-discuss] Re: constraints and loose coupling<br>
Message:<br><br>
<pre>On 11/29/06, Walden Mathews &lt;waldenm@...&gt; wrote:
&gt; Well, y'all are making it sound like "loose coupling" is the
&gt; only design quality we design for.  But what about scaleability,
&gt; performance, security, transactional stuff (atomicity, integrity,
&gt; durability, etc.)?

The hypothesis is that all constraints are expressible as a separation
of concerns, and therefore that all architectural properties derive
from some form of loose coupling.

&gt; And in terms of tradeoffs, you may see constraints intended
&gt; to induce some of the latter (above) interfering with the former,
&gt; right?  Think of schema denormalization, for example.

Sure.  Any constraint has tradeoffs, just as any separation of concerns does.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7140<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-12-01 16:08:13<br>
Subject:Re: [rest-discuss] proxy's and PUT<br>
Message:<br><br>
<pre>Mike Schinkel wrote:

&gt; Now Bill, no need to get defensive on REST's account. [..]
&gt;
&gt; It certainly is not a deliberate debating tactic, it is me trying to make
&gt; sense of things and to also figure out why the state of REST has been
&gt; bugging me so much. But I've been doing a lot of reading and work offline
&gt; and I think I'm getting a handle on what's been bugging me and how to
&gt; resolve it.
&gt; 
&gt;&gt;&gt; http://www.mikeschinkel.com/blog/WhatIsARESTafarian.aspx 
&gt;&gt;&gt; from where I'm standing people are doing their level best here 
&gt;&gt;&gt; to answer your questions. That doesn't help, at all.
&gt; 
&gt; I'm not sure where you are going with this. I do appreciate all the help,
&gt; and I am here with the best of intentions, I can assure you of that.

When I read that blog post about RESTafarians, and when you start this 
response with "now Bill, no need to get defensive", I'm not sure what to 
think about your assurances.

Confusing HTTP and REST results technical gibberish, it's not something 
to encourage or equivocate about. If you were on comp.lang.object and 
mixed up a JVM  implementation detail and object oriention, or confusing 
Xerces bug with XML on xml-dev, it would hardly be reasonable to 
describe a clarification as "defensive".

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7141<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2006-12-01 16:16:16<br>
Subject:Re: [rest-discuss] Re: constraints and loose coupling<br>
Message:<br><br>
<pre>: The hypothesis is that all constraints are expressible as a separation
: of concerns

Referring to the dissertation, I see Roy identifies separation of
concerns as the principle behind the client-server constraint.  How
would you express the Stateless constraint as separation of
concerns...without undue contrivance?

How about Cache?

Walden

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7142<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2006-12-01 16:19:43<br>
Subject:Re: constraints and loose coupling<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7143<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-12-01 17:12:40<br>
Subject:Re: [rest-discuss] Re: constraints and loose coupling<br>
Message:<br><br>
<pre>Hi,

as a clarification: I only meant to talk about application layer constraints - sorry if that was unclear.

Jan

On Friday, December 01, 2006, at 06:00PM, "Nick Gall" &lt;nick.gall@...&gt; wrote:
&gt;--- In rest-discuss@yahoogroups.com, "Mark Baker" &lt;distobj@...&gt; wrote:
&gt;&gt;
&gt;&gt; Fascinating question!
&gt;&gt;
&gt;&gt; conjecture.  Can anybody think of one; a constraint on the
&gt;&gt; relationship of architectural elements which does *not* separate any
&gt;&gt; concerns?
&gt;
&gt;Fascinating indeed. Here's a potential counterexample: a latency
&gt;constraint. Suppose a protocol coupling two components imposes a
&gt;severe latency constraint, eg a reply must be received within 50ms.
&gt;This is more constrained than a protocol without a latency constraint,
&gt;but the components are now more tightly coupled, eg they must be
&gt;spatially closer.
&gt;
&gt;More generally I have problems with the assertion that more
&gt;constraints on a protocol means looser coupling of the components
&gt;coupled by the protocol. If this were true, wouldn't the massive
&gt;number of constraints imposed by CORBA and DCOM mean that the
&gt;components coupled by these architectures were the MOST loosely
&gt;coupled? Yet no one thinks of such components as loosely coupled.
&gt;
&gt;I think the invalid step in Jan's logic is in assuming that highly
&gt;constrained protocols can be pervasive. Here's how I see his logic
&gt;
&gt;1. The more components that share common semantics in the protocol
&gt;that interfaces among them, the more loosely coupled the component are
&gt;("because coupling between components is induced by non-pervasive
&gt;semantics shared between components"). [This I agree with.]
&gt;
&gt;2. Therefore, push as much (unshared) component semantics into the
&gt;(shared) protocol as possible. [The problem with this strategy is that
&gt;the very act of pushing more semantics into the protocol makes the
&gt;protocol less generic (aka general purpose), which means that fewer
&gt;components will use it, which means the shared semantics are now not
&gt;very pervasive.]
&gt;
&gt;In general, I think loose coupling is an incredibly subtle concept,
&gt;which unfortunately can not be reduced to something as simplistic as
&gt;"maximize shared constraints". There is much more of a "balance"
&gt;required between the degree of constraint and the pervasiveness of
&gt;such constraints.
&gt;
&gt;A concept from economics seems relevant in this context -- Stigler's
&gt;general specialties (now known as General Purpose Technologies):
&gt;
&gt;"This coupling of specialization of function with generalization of
&gt;capabilities recalls the generalist merchants of the early republic.
&gt;It is in fact a typical feature of the Smithian process. In his famous
&gt;analysis of that process, George Stigler (1951, p. 192) referred to
&gt;what he called 'general specialties.' He had in mind activities like
&gt;railroads, shipping, and banking that can benefit a variety of
&gt;industries; but contract suppliers are clearly examples in the small ?
&gt;microcosmic instances of what economists now call general-purpose
&gt;technologies (Helpman 1998)." "The Vanishing Hand"
&gt;http://www.sp.uconn.edu/~langlois/Vanishing.html.
&gt;
&gt;See Wikipedia for a (too) short entry on GPTs:
&gt;http://en.wikipedia.org/wiki/General_Purpose_Technology .
&gt;
&gt;Thus I would change Jan's conjecture to: "The more a system is general
&gt;purpose and broadly adopted, the more the components are loosely coupled."
&gt;How many constraints a purpose system should have will be more subtle
&gt;balance than "as many as possible", since too many constraints will
&gt;cause it to be less general and therefore less broadly adopted. The
&gt;80/20 rule is appropriate here: design protocols in which a small number of
&gt;constraints can address a large (and diverse) set of needs.
&gt;
&gt;My favorite example of the relaxation of constraints causing even looser
&gt;coupling (besides the Internet and the Web protocols) is the invention of
&gt;the intermodal shipping container. See
&gt;http://en.wikipedia.org/wiki/Containerization ("Containerization has
&gt;revolutionized cargo shipping.")
&gt;
&gt;-- Nick
&gt;
&gt;-- 
&gt;Nick Gall
&gt;Phone: +1.781.608.5871
&gt;AOL IM: Nicholas Gall
&gt;Yahoo IM: nick_gall_1117
&gt;MSN IM: (same as email)
&gt;Google Talk: (same as email)
&gt;Email: nick.gall AT-SIGN gmail DOT com
&gt;Weblog: http://ironick.typepad.com/ironick/
&gt;Furl: http://www.furl.net/members/ngall
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7144<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-12-01 17:17:18<br>
Subject:Re: [rest-discuss] Re: constraints and loose coupling<br>
Message:<br><br>
<pre>On 12/1/06, Walden Mathews &lt;waldenm@...&gt; wrote:
&gt; : The hypothesis is that all constraints are expressible as a separation
&gt; : of concerns
&gt;
&gt; Referring to the dissertation, I see Roy identifies separation of
&gt; concerns as the principle behind the client-server constraint.  How
&gt; would you express the Stateless constraint as separation of
&gt; concerns...without undue contrivance?

Statelessness separates message semantics from server state.

&gt; How about Cache?

You stumped me.  Come to think of it, even self-description in general
isn't expressible as a separation of concerns, though some of the
subordinate constraints are (uniform interface, statelessness).  Oh
well, I think you have your answer, Jan. 8-)

Still, the hypothesis had longer legs than I expected.  That might
make it useful as a tool for describing some aspects of software
architecture to those that aren't familiar with what's described in
chapter 1 of Roy's dissertation, but are familiar with the concept of
"loose coupling".

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7145<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2006-12-01 18:09:23<br>
Subject:Re: [rest-discuss] Seeking some clarification around some aspects of REST<br>
Message:<br><br>
<pre>Hi Teo,

On Nov 30, 2006, at 10:54 PM, Teo Hui Ming wrote:
&gt; is the mental construct of a "service" a useful one when it comes  
&gt; to architecting my distributed systems using the principles of  
&gt; REST? Or is it better to say that the Resource is the conceptual  
&gt; primitive that I should be focusing on and that, as such, I should  
&gt; let go of any notion of service lingering from a numbers of years  
&gt; of being immersed in this thing called SOA?

That's an excellent question, and one I've wondered about as well.

My answer (as usual) is "it depends" -- on what you mean by  
"service".  If you think of  a service as a purely abstract entity  
intended to *obscure* any concept of resources behind it, then that's  
probably an idea worth jettisoning. :-)

If, on the other hand, you think of a service as "a collection of  
resources whose state can be manipulated", then I don't see any harm.

-- Ernie P.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7146<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-12-01 19:43:33<br>
Subject:Re: [rest-discuss] Re: constraints and loose coupling<br>
Message:<br><br>
<pre>On 12/1/06, Jan Algermissen &lt;algermissen1971@...&gt; wrote:
&gt; Hi,
&gt;
&gt; as a clarification: I only meant to talk about application layer constraints - sorry if that was unclear.

What do you mean by "application layer constraint", Jan?

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7147<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-12-01 20:20:18<br>
Subject:Re: [rest-discuss] Re: constraints and loose coupling<br>
Message:<br><br>
<pre>
On Dec 1, 2006, at 8:43 PM, Mark Baker wrote:

&gt; On 12/1/06, Jan Algermissen &lt;algermissen1971@...&gt; wrote:
&gt; &gt; Hi,
&gt; &gt;
&gt; &gt; as a clarification: I only meant to talk about application layer  
&gt; constraints - sorry if that was unclear.
&gt;
&gt; What do you mean by "application layer constraint", Jan?

Hmm....I had no idea that phrase did not exist already...felt so  
natural. Sorry.

I mean a constraint that applies to the application semantics of a  
system. A uniform API
is such a constraint, pervasively understood media types would be  
another.

Thinking about it, in terms of REST I should maybe have said  
'interface constraint' and
'data element constraint'?

This was partially inspired by your 'axiom blog posting'[1]; it  
suddenly struck me that what
distiguishes REST from SOA the most is that REST includes  
'application layer axioms' and
SOA does not.

IOW, I wanted to point out that constraints that apply to the  
application semantic are fundamentally
different from other constraints.

Jan


&gt;
&gt; Mark.
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7148<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-12-01 20:24:51<br>
Subject:Re: [rest-discuss] Re: constraints and loose coupling<br>
Message:<br><br>
<pre>(sorry, forgot the reference)

[...] This was partially inspired by your 'axiom blog posting'[1]; [...]

Jan

[1] http://www.markbaker.ca/blog/2006/07/19/standards-as-axioms/





&gt;
&gt; Mark.
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7149<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-12-01 20:38:37<br>
Subject:Re: [rest-discuss] Re: constraints and loose coupling<br>
Message:<br><br>
<pre>On 12/1/06, Jan Algermissen &lt;algermissen1971@...&gt; wrote:
&gt;
&gt; On Dec 1, 2006, at 8:43 PM, Mark Baker wrote:
&gt;
&gt; &gt; On 12/1/06, Jan Algermissen &lt;algermissen1971@...&gt; wrote:
&gt; &gt; &gt; Hi,
&gt; &gt; &gt;
&gt; &gt; &gt; as a clarification: I only meant to talk about application layer
&gt; &gt; constraints - sorry if that was unclear.
&gt; &gt;
&gt; &gt; What do you mean by "application layer constraint", Jan?
&gt;
&gt; Hmm....I had no idea that phrase did not exist already...felt so
&gt; natural. Sorry.
&gt;
&gt; I mean a constraint that applies to the application semantics of a
&gt; system. A uniform API
&gt; is such a constraint, pervasively understood media types would be
&gt; another.

Hmm, I'm not sure that term makes sense.  Constraints are on data,
components, and connectors, which are all "application layer" AFAICT.

Can you give an example of a constraint that isn't application layer?

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7150<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-12-01 20:45:59<br>
Subject:Re: [rest-discuss] Re: constraints and loose coupling<br>
Message:<br><br>
<pre>
On Dec 1, 2006, at 9:38 PM, Mark Baker wrote:

&gt; On 12/1/06, Jan Algermissen &lt;algermissen1971@...&gt; wrote:
&gt;&gt;
&gt;&gt;
&gt;&gt; I mean a constraint that applies to the application semantics of a
&gt;&gt; system. A uniform API
&gt;&gt; is such a constraint, pervasively understood media types would be
&gt;&gt; another.
&gt;
&gt; Hmm, I'm not sure that term makes sense.  Constraints are on data,
&gt; components, and connectors, which are all "application layer" AFAICT.
&gt;
&gt; Can you give an example of a constraint that isn't application layer?

Sockets. They enable communication to happen, but do not affect  
(constrain) the
application layer.

Maybe 'constraint' is the wrong word?

&gt;
&gt; Mark.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7151<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2006-12-01 20:56:32<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>Bill,

I once had an unaltered tomcat as a pet who hunted quite well
and on more than one occasion POSTed a dead rabbit on my
back doorstep.  He didn't use HTTP, but I recognize the POST
method nonetheless.

Had he been required to issue the correct command, I'm
sure communication would have broken down.  He knew I
would know how best to dispose of the rabbit.  More
accurately, and more importantly, he knew no such thing, and
yet his POST action was still the right one.

Pet lesson in interop #1.

Walden

----- Original Message ----- 
From: "Bill de hOra" &lt;bill@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Friday, December 01, 2006 9:21 AM
Subject: Re: [rest-discuss] Atom, 'process-this'-POST and rockets


: Walden Mathews wrote:
: &gt; : Yeah, POST is the protocol equivalent pointing at something and 
grunting
: &gt; : at someone.
: &gt;
: &gt; Except for the grunting part, yes.  The entity in a POST can be
: &gt; a lot more elaborate and formal (and therefore more expressive)
: &gt; than a grunt, though.  However, from the client POV, it may be
: &gt; utterly meaningless.
:
: It's still grunting. Elaborate here would means two fingers.
:
: &gt; : Who knows what will happen in that language game [1].
: &gt;
: &gt; Fine, fine question if taken at face value.  So, what is the answer?
:
: Apply Grice's maxims. Don't grunt when you have a better way of saying
: things.
:
: &gt; : What
: &gt; : you do know is the success criteria are undefined
: &gt;
: &gt; The server will respond with a status code indicating the level
: &gt; of success, so how is it undefined?
:
: What were we trying to do?
:
: &gt; : - unlike PUT and
: &gt; : DELETE, POST is degenerate.
: &gt;
: &gt; Or misunderstood.
:
: Nope. POST is different.
:
: cheers
: Bill
:
:
:
: __________ NOD32 1895 (20061201) Information __________
:
: This message was checked by NOD32 antivirus system.
: http://www.eset.com
:
: 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7152<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-12-01 21:10:30<br>
Subject:Re: [rest-discuss] Re: constraints and loose coupling<br>
Message:<br><br>
<pre>
On Dec 1, 2006, at 10:00 PM, Mark Baker wrote:

&gt; On 12/1/06, Jan Algermissen &lt;algermissen1971@...&gt; wrote:
&gt;&gt; &gt; Can you give an example of a constraint that isn't application  
&gt;&gt; layer?
&gt;&gt;
&gt;&gt; Sockets. They enable communication to happen, but do not affect
&gt;&gt; (constrain) the
&gt;&gt; application layer.
&gt;&gt;
&gt;&gt; Maybe 'constraint' is the wrong word?
&gt;
&gt; I think so.  Sockets aren't a constraint.  They're not even a
&gt; connector (just a part of one).

Ok, seems like I was trying to point out a distinction that inherently
has been made already by focusing on connector, component and data.

So, using your term 'axiom': would you agree that SOA/WS-* does not
use *any* axiom?


Thanks,

Jan




&gt;
&gt; Mark.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7153<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-12-01 21:00:24<br>
Subject:Re: [rest-discuss] Re: constraints and loose coupling<br>
Message:<br><br>
<pre>On 12/1/06, Jan Algermissen &lt;algermissen1971@...&gt; wrote:
&gt; &gt; Can you give an example of a constraint that isn't application layer?
&gt;
&gt; Sockets. They enable communication to happen, but do not affect
&gt; (constrain) the
&gt; application layer.
&gt;
&gt; Maybe 'constraint' is the wrong word?

I think so.  Sockets aren't a constraint.  They're not even a
connector (just a part of one).

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7154<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-12-01 21:06:13<br>
Subject:Re: [rest-discuss] Re: constraints and loose coupling<br>
Message:<br><br>
<pre>
On Dec 1, 2006, at 9:38 PM, Mark Baker wrote:
&gt;
&gt;
&gt; Hmm, I'm not sure that term makes sense. Constraints are on data,
&gt; components, and connectors, which are all "application layer" AFAICT.
Let's try the other way round: does SOA (or WS-*) use any constraint on
any of those three?

I'd say 'no'.

Does WS-*'s constraining the data to SOAP count as a constraint on
data in the software architectural sense? IMHO it does not, because it
is just transport (below the application layer).

But maybe we are talking past each other. Will check back with Roy's
disertation (though not today).

Jan




&gt;
&gt; Can you give an example of a constraint that isn't application layer?
&gt;
&gt; Mark.
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7155<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-12-01 21:13:08<br>
Subject:Re: [rest-discuss] Re: constraints and loose coupling<br>
Message:<br><br>
<pre>
On Dec 1, 2006, at 10:09 PM, Nick Gall wrote:

&gt; "The more a system is constrained [without limiting the generality  
&gt; of the system], the more loosely coupled are the components."
&gt;
&gt; A good example of this ATOM/GData, which constrains "ad hoc REST",  
&gt; but is effectively just as general purpose.

This sounds like what I was trying to say, but let's check: what do  
you mean by

'ad hoc REST'

and in what way do you think Atom constrains it?


Jan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7156<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2006-12-01 21:09:09<br>
Subject:Re: [rest-discuss] Re: constraints and loose coupling<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7157<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-12-02 01:08:51<br>
Subject:Re: [rest-discuss] Re: constraints and loose coupling<br>
Message:<br><br>
<pre>On 12/1/06, Jan Algermissen &lt;algermissen1971@...&gt; wrote:
&gt;
&gt; On Dec 1, 2006, at 9:38 PM, Mark Baker wrote:
&gt; &gt;
&gt; &gt;
&gt; &gt; Hmm, I'm not sure that term makes sense. Constraints are on data,
&gt; &gt; components, and connectors, which are all "application layer" AFAICT.
&gt; Let's try the other way round: does SOA (or WS-*) use any constraint on
&gt; any of those three?
&gt;
&gt; I'd say 'no'.

It's hard to tell for certain of course, since SOA isn't defined.  But
if you look at what people are doing in its name, you can pick out at
least a couple of constraints; client/server, and layered (just as
with REST).

&gt; Does WS-*'s constraining the data to SOAP count as a constraint on
&gt; data in the software architectural sense? IMHO it does not, because it
&gt; is just transport (below the application layer).

WS-* might be SOAP-specific, but we're talking about the architectural
style which is (so I'm told) SOA.  SOA does not require SOAP, nor
should it if it's an architectural style.

&gt; But maybe we are talking past each other. Will check back with Roy's
&gt; disertation (though not today).

Good idea.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7158<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-12-02 01:35:54<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>
Nice try. The rabbit's not a communication act, it's an indexical - you 
infer in passing the tomcat left the rabbit - it's not as though the 
tomcat told you it left a rabbit. But until I see computers with the 
capabilities of tomcats, this will not matter either way.

cheers
Bill

Walden Mathews wrote:
&gt; Bill,
&gt; 
&gt; I once had an unaltered tomcat as a pet who hunted quite well
&gt; and on more than one occasion POSTed a dead rabbit on my
&gt; back doorstep.  He didn't use HTTP, but I recognize the POST
&gt; method nonetheless.
&gt; 
&gt; Had he been required to issue the correct command, I'm
&gt; sure communication would have broken down.  He knew I
&gt; would know how best to dispose of the rabbit.  More
&gt; accurately, and more importantly, he knew no such thing, and
&gt; yet his POST action was still the right one.
&gt; 
&gt; Pet lesson in interop #1.
&gt; 
&gt; Walden
&gt; 
&gt; ----- Original Message ----- 
&gt; From: "Bill de hOra" &lt;bill@...&gt;
&gt; To: &lt;rest-discuss@yahoogroups.com&gt;
&gt; Sent: Friday, December 01, 2006 9:21 AM
&gt; Subject: Re: [rest-discuss] Atom, 'process-this'-POST and rockets
&gt; 
&gt; 
&gt; : Walden Mathews wrote:
&gt; : &gt; : Yeah, POST is the protocol equivalent pointing at something and 
&gt; grunting
&gt; : &gt; : at someone.
&gt; : &gt;
&gt; : &gt; Except for the grunting part, yes.  The entity in a POST can be
&gt; : &gt; a lot more elaborate and formal (and therefore more expressive)
&gt; : &gt; than a grunt, though.  However, from the client POV, it may be
&gt; : &gt; utterly meaningless.
&gt; :
&gt; : It's still grunting. Elaborate here would means two fingers.
&gt; :
&gt; : &gt; : Who knows what will happen in that language game [1].
&gt; : &gt;
&gt; : &gt; Fine, fine question if taken at face value.  So, what is the answer?
&gt; :
&gt; : Apply Grice's maxims. Don't grunt when you have a better way of saying
&gt; : things.
&gt; :
&gt; : &gt; : What
&gt; : &gt; : you do know is the success criteria are undefined
&gt; : &gt;
&gt; : &gt; The server will respond with a status code indicating the level
&gt; : &gt; of success, so how is it undefined?
&gt; :
&gt; : What were we trying to do?
&gt; :
&gt; : &gt; : - unlike PUT and
&gt; : &gt; : DELETE, POST is degenerate.
&gt; : &gt;
&gt; : &gt; Or misunderstood.
&gt; :
&gt; : Nope. POST is different.
&gt; :
&gt; : cheers
&gt; : Bill
&gt; :
&gt; :
&gt; :
&gt; : __________ NOD32 1895 (20061201) Information __________
&gt; :
&gt; : This message was checked by NOD32 antivirus system.
&gt; : http://www.eset.com
&gt; :
&gt; : 
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7159<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2006-12-02 01:59:13<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>Of course not, the rabbit is the entity.

But I can see this is going nowhere.  Did you have a point to make
about POST being degenerate (whatever you mean by that)?  Is
this something we need to care about?

Walden

----- Original Message ----- 
From: "Bill de hOra" &lt;bill@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Friday, December 01, 2006 8:35 PM
Subject: Re: [rest-discuss] Atom, 'process-this'-POST and rockets


:
: Nice try. The rabbit's not a communication act, it's an indexical - you
: infer in passing the tomcat left the rabbit - it's not as though the
: tomcat told you it left a rabbit. But until I see computers with the
: capabilities of tomcats, this will not matter either way.
:
: cheers
: Bill
:
: Walden Mathews wrote:
: &gt; Bill,
: &gt;
: &gt; I once had an unaltered tomcat as a pet who hunted quite well
: &gt; and on more than one occasion POSTed a dead rabbit on my
: &gt; back doorstep.  He didn't use HTTP, but I recognize the POST
: &gt; method nonetheless.
: &gt;
: &gt; Had he been required to issue the correct command, I'm
: &gt; sure communication would have broken down.  He knew I
: &gt; would know how best to dispose of the rabbit.  More
: &gt; accurately, and more importantly, he knew no such thing, and
: &gt; yet his POST action was still the right one.
: &gt;
: &gt; Pet lesson in interop #1.
: &gt;
: &gt; Walden
: &gt;
: &gt; ----- Original Message ----- 
: &gt; From: "Bill de hOra" &lt;bill@...&gt;
: &gt; To: &lt;rest-discuss@yahoogroups.com&gt;
: &gt; Sent: Friday, December 01, 2006 9:21 AM
: &gt; Subject: Re: [rest-discuss] Atom, 'process-this'-POST and rockets
: &gt;
: &gt;
: &gt; : Walden Mathews wrote:
: &gt; : &gt; : Yeah, POST is the protocol equivalent pointing at something and
: &gt; grunting
: &gt; : &gt; : at someone.
: &gt; : &gt;
: &gt; : &gt; Except for the grunting part, yes.  The entity in a POST can be
: &gt; : &gt; a lot more elaborate and formal (and therefore more expressive)
: &gt; : &gt; than a grunt, though.  However, from the client POV, it may be
: &gt; : &gt; utterly meaningless.
: &gt; :
: &gt; : It's still grunting. Elaborate here would means two fingers.
: &gt; :
: &gt; : &gt; : Who knows what will happen in that language game [1].
: &gt; : &gt;
: &gt; : &gt; Fine, fine question if taken at face value.  So, what is the answer?
: &gt; :
: &gt; : Apply Grice's maxims. Don't grunt when you have a better way of saying
: &gt; : things.
: &gt; :
: &gt; : &gt; : What
: &gt; : &gt; : you do know is the success criteria are undefined
: &gt; : &gt;
: &gt; : &gt; The server will respond with a status code indicating the level
: &gt; : &gt; of success, so how is it undefined?
: &gt; :
: &gt; : What were we trying to do?
: &gt; :
: &gt; : &gt; : - unlike PUT and
: &gt; : &gt; : DELETE, POST is degenerate.
: &gt; : &gt;
: &gt; : &gt; Or misunderstood.
: &gt; :
: &gt; : Nope. POST is different.
: &gt; :
: &gt; : cheers
: &gt; : Bill
: &gt; :
: &gt; :
: &gt; :
: &gt; : __________ NOD32 1895 (20061201) Information __________
: &gt; :
: &gt; : This message was checked by NOD32 antivirus system.
: &gt; : http://www.eset.com
: &gt; :
: &gt; :
: &gt;
:
:
:
: __________ NOD32 1897 (20061201) Information __________
:
: This message was checked by NOD32 antivirus system.
: http://www.eset.com
:
: 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7160<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-12-02 05:05:28<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Nic James Ferrier wrote:
&gt;&gt; Note that this is a feature of the DNS configuration. It's not always the
case. 

What would be the DNS configuration option that would disable this, and can
it be controlled by the authoritative DNS?  Also, is the existence of said
configuration option specific to DNS server or a general capability of DNS?

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7161<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-12-02 05:05:28<br>
Subject:RE: [rest-discuss] proxy's and PUT<br>
Message:<br><br>
<pre>Bill de HOra:
 
&gt;&gt; it would hardly be reasonable to 
&gt;&gt; describe a clarification as "defensive".
 
I was commenting on your tone, not the clarification.

I come in peace.  Honest.

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7162<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-02 12:33:20<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>"Mike Schinkel" &lt;mikeschinkel@...&gt; writes:

&gt; Nic James Ferrier wrote:
&gt;&gt;&gt; Note that this is a feature of the DNS configuration. It's not always the
&gt; case. 
&gt;
&gt; What would be the DNS configuration option that would disable this, and can
&gt; it be controlled by the authoritative DNS?  

Depends on the server of course.

It's about how the names are resolved... not the policy of the zone.


&gt; Also, is the existence of said
&gt; configuration option specific to DNS server or a general capability
&gt; of DNS?

I don't think a server is required to implement this
behaviour. Indeed, it might not work all the time in certain
situations. If you were behind (in terms of DNS queries) a very
restrictive DNS cache you might not be able to do dynamic names.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7163<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-12-02 15:05:52<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>Walden Mathews wrote:
&gt; 
&gt; 
&gt; Of course not, the rabbit is the entity.
&gt; 
&gt; But I can see this is going nowhere. Did you have a point to make
&gt; about POST being degenerate (whatever you mean by that)? Is
&gt; this something we need to care about?

I think it is. HTTP without POST is an interesting gedanken experiment. 
It's like having English without "just do it".

POST is uniformly devoid of meaning; anything will fit into it, which is 
why it's degenerate (aka grunting) compared to the other methods. Which 
is why approaches from html forms to WS to MEST like using it, they can 
defer protocol decision making, or make point to point decisions that 
don't have to be globally consistent.

In a two verb web with that kind of thinking, all GET provides over POST 
is a switch for caches and form handlers.

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7164<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-12-02 15:52:08<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>
On Dec 2, 2006, at 4:05 PM, Bill de hOra wrote:

&gt; Walden Mathews wrote:
&gt; &gt;
&gt; &gt;
&gt; &gt; Of course not, the rabbit is the entity.
&gt; &gt;
&gt; &gt; But I can see this is going nowhere. Did you have a point to make
&gt; &gt; about POST being degenerate (whatever you mean by that)? Is
&gt; &gt; this something we need to care about?
&gt;
&gt; I think it is. HTTP without POST is an interesting gedanken  
&gt; experiment.
&gt; It's like having English without "just do it".
IMO, POST adds to the game the ability to request a resource creation  
from a specific server. When I only have PUT, I can find out whether  
a PUT succeeds, but I have no way of creating my resource 'as a  
subordinate' of another resource. IOW, I have no idea how or if the  
server is managing my new resource.

With the availability of POST, a server can tell me: "This resource  
accepts data submission; it accepts this and that media type *and*  
the server can tell me that the accepting resource has "certain  
abstract behaviour"[1]. It is a difference to store (PUT) information  
on a server that does versioning vs on one that does not. POST gives  
me the ability to store stuff 'under the management' of a certain  
resource.

Jan

[1] To use the term from the app-features draft:
       http://tools.ietf.org/wg/atompub/draft-snell-atompub- 
feature-01.txt





&gt;
&gt; POST is uniformly devoid of meaning; anything will fit into it,  
&gt; which is
&gt; why it's degenerate (aka grunting) compared to the other methods.  
&gt; Which
&gt; is why approaches from html forms to WS to MEST like using it, they  
&gt; can
&gt; defer protocol decision making, or make point to point decisions that
&gt; don't have to be globally consistent.
&gt;
&gt; In a two verb web with that kind of thinking, all GET provides over  
&gt; POST
&gt; is a switch for caches and form handlers.
&gt;
&gt; cheers
&gt; Bill
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7165<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-12-02 16:25:52<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>Jan Algermissen wrote:
&gt; 
&gt; On Dec 2, 2006, at 4:05 PM, Bill de hOra wrote:
&gt; 
&gt;&gt; Walden Mathews wrote:
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; Of course not, the rabbit is the entity.
&gt;&gt; &gt;
&gt;&gt; &gt; But I can see this is going nowhere. Did you have a point to make
&gt;&gt; &gt; about POST being degenerate (whatever you mean by that)? Is
&gt;&gt; &gt; this something we need to care about?
&gt;&gt;
&gt;&gt; I think it is. HTTP without POST is an interesting gedanken experiment.
&gt;&gt; It's like having English without "just do it".
&gt; IMO, POST adds to the game the ability to request a resource creation 
&gt; from a specific server. When I only have PUT, I can find out whether a 
&gt; PUT succeeds, but I have no way of creating my resource 'as a 
&gt; subordinate' of another resource. IOW, I have no idea how or if the 
&gt; server is managing my new resource.
&gt; 
&gt; With the availability of POST, a server can tell me: "This resource 
&gt; accepts data submission; it accepts this and that media type *and* the 
&gt; server can tell me that the accepting resource has "certain abstract 
&gt; behaviour"[1]. It is a difference to store (PUT) information on a server 
&gt; that does versioning vs on one that does not. POST gives me the ability 
&gt; to store stuff 'under the management' of a certain resource.

Sure, but are storage (to store) and creation (to create) always the 
motivating reasons? And aren't they different methods?

It often seems to me that POST is a catchall for "do it". I guess the 
reason I'm pushing on this is to figure out why the 2 verb web is a 
runaway success. What's driving that? Is it because of the design 
principles? Or because POST is so decoupled from meaning? Or would 
things simply be much better even we had a broader vocabulary deployed 
under the design principles?

[I understand the idea that the web's success is intrinsically tied to 
POST being a free for all (and often onto gateways) is not an orthodox 
view.]

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7166<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-12-02 18:40:00<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>
On Dec 2, 2006, at 5:25 PM, Bill de hOra wrote:

&gt; j
&gt;
&gt; It often seems to me that POST is a catchall for "do it".
I guess so, yes. My view is that POST, by totally generalizing  
operation semantics, moves all the emphasis on abstract resource  
behaviour or capability. It moves all the semantics into the client  
making a choice for exactly that resource that behaves as desired  
upon POST. Thus, binding is on resource 'type' (e.g. 'order  
processor') as opposed to method semantics. That seems to decrease  
coupling (though I admitedly lack the proof of why this is so).

Jan



&gt; I guess the
&gt; reason I'm pushing on this is to figure out why the 2 verb web is a
&gt; runaway success. What's driving that? Is it because of the design
&gt; principles? Or because POST is so decoupled from meaning? Or would
&gt; things simply be much better even we had a broader vocabulary deployed
&gt; under the design principles?
&gt;
&gt; [I understand the idea that the web's success is intrinsically tied to
&gt; POST being a free for all (and often onto gateways) is not an orthodox
&gt; view.]
&gt;
&gt; cheers
&gt; Bill
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7167<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2006-12-02 19:47:38<br>
Subject:Has anybody implemented a RESTful C2C order process?<br>
Message:<br><br>
<pre>By C2C I mean computer-to-computer, no humans in the loop.

We've discussed it here, but I haven't heard anybody claim an
implementation of much more than receiving a purchase order.

A goods order processing procedure might go something like:
1. Buyer: propose offer to buy (e.g. a purchase order)
2. Seller: checks availability
3. Seller: reserves credit
4. Seller: accepts offer (e.g. Amazon's order confirmation)
5. Seller: ships goods
6. Seller: draws down payment
7. Buyer: receives goods
8: Buyer: confirms receipt

I know, that will seem like a stateful conversation which goes against
all REST principles, but Paul Prescod and others have sketched out how
to do it without violating those principles.

Been done to some extent using EDI and ebXML, but those
implementations usually cover propose-accept or ship-receive
separately, not wholistically (e.g. all 8 steps above).  both of those
use messages to endpoints which are not resources in any RESTian
sense.

WS-BPEL uses half of processes like that as examples, and
WS-Choreography uses the whole of processes like that as examples, but
I don't know anybody who has implemented any of those example
processes in real life.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7168<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-12-02 21:17:18<br>
Subject:Re: [rest-discuss] Has anybody implemented a RESTful C2C order process?<br>
Message:<br><br>
<pre>Bob,


On Dec 2, 2006, at 8:47 PM, Bob Haugen wrote:

&gt; By C2C I mean computer-to-computer, no humans in the loop.
&gt;
&gt; We've discussed it here, but I haven't heard anybody claim an
&gt; implementation of much more than receiving a purchase order.
&gt;
&gt; A goods order processing procedure might go something like:
&gt; 1. Buyer: propose offer to buy (e.g. a purchase order)
&gt; 2. Seller: checks availability
&gt; 3. Seller: reserves credit
&gt; 4. Seller: accepts offer (e.g. Amazon's order confirmation)
&gt; 5. Seller: ships goods
&gt; 6. Seller: draws down payment
&gt; 7. Buyer: receives goods
&gt; 8: Buyer: confirms receipt

Sorry, no - I have not implemented such a thing. But here is a  
comment anyhow:

The way to do it (as Paul and other described) is to have a  
hypermedia application guide the participants (actors) through the  
process by offering certain state transitions (links) depending on  
the current state of the process. An online purchase at Amazon or a  
trouble ticket are examples of this.

In the above example, it should be differentiated between the case  
where the seller owns the application and just guides the buyer  
(Amazon purchase) and the acse where the application guides both,  
seller and buyer (Amazon's 'non-Amazon' seller functionality or an  
online auction).

I really like the letter case as it shows so nicely how hypermedia  
can be used to coordinate process participants without coupling them  
to the actual process flow (when or in what order things happen). The  
state machine remains hidden[1].

Jan

[1] This is where I understand pi-calculus to be entering the scene.  
Unfortunately, I can so far only see this being covered by the pi- 
calculus' predecessor CCS (Calculus of Communicating Systems, also by  
Milner) and have no idea what the pi-calc actually adds to that. If  
anyone can shed some light on this, I'd be really thankful.


&gt;
&gt; I know, that will seem like a stateful conversation which goes against
&gt; all REST principles, but Paul Prescod and others have sketched out how
&gt; to do it without violating those principles.
&gt;
&gt; Been done to some extent using EDI and ebXML, but those
&gt; implementations usually cover propose-accept or ship-receive
&gt; separately, not wholistically (e.g. all 8 steps above). both of those
&gt; use messages to endpoints which are not resources in any RESTian
&gt; sense.
&gt;
&gt; WS-BPEL uses half of processes like that as examples, and
&gt; WS-Choreography uses the whole of processes like that as examples, but
&gt; I don't know anybody who has implemented any of those example
&gt; processes in real life.
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7169<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2006-12-02 21:23:10<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>Jan,

You are discussing Implicit Invocation.  POST is not a
"do it" verb.  Do It is a command, although generalized to
the max.

POST says "here is some information; you know best what
to do (or not to do) with it".

That may seem degenerate, from a command orientation,
i.e., where the client has a clue about what operation should
be performed.  Sometimes though, the client may be
handling a piece of opaque data that only the server knows
what to do with.

In some context, a client may be POSTing a piece of data
which it understands perfectly well, but simply does not
know what should be done with it on the server side.  For
example, in a blackboard architecture, an agent pulls down
a piece of an overall problem, solves it, and posts back
the solution.  The client does not know how to integrate its
solution with the overall one, so POST is as specific an
instruction as it can give.  Perhaps its solution does not fit
with the overall emergent strategy, and will simply be
discarded.  Either way.

PS - don't say 'semantic'.  Please.

Walden

----- Original Message ----- 
From: "Jan Algermissen" &lt;algermissen1971@...&gt;
To: "Bill de hOra" &lt;bill@...&gt;
Cc: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Saturday, December 02, 2006 1:40 PM
Subject: Re: [rest-discuss] Atom, 'process-this'-POST and rockets


: 
: On Dec 2, 2006, at 5:25 PM, Bill de hOra wrote:
: 
: &gt; j
: &gt;
: &gt; It often seems to me that POST is a catchall for "do it".
: I guess so, yes. My view is that POST, by totally generalizing  
: operation semantics, moves all the emphasis on abstract resource  
: behaviour or capability. It moves all the semantics into the client  
: making a choice for exactly that resource that behaves as desired  
: upon POST. Thus, binding is on resource 'type' (e.g. 'order  
: processor') as opposed to method semantics. That seems to decrease  
: coupling (though I admitedly lack the proof of why this is so).
: 
: Jan
: 
: 
: 
: &gt; I guess the
: &gt; reason I'm pushing on this is to figure out why the 2 verb web is a
: &gt; runaway success. What's driving that? Is it because of the design
: &gt; principles? Or because POST is so decoupled from meaning? Or would
: &gt; things simply be much better even we had a broader vocabulary deployed
: &gt; under the design principles?
: &gt;
: &gt; [I understand the idea that the web's success is intrinsically tied to
: &gt; POST being a free for all (and often onto gateways) is not an orthodox
: &gt; view.]
: &gt;
: &gt; cheers
: &gt; Bill
: &gt;
: &gt; 
: 
: 
: 
: __________ NOD32 1897 (20061201) Information __________
: 
: This message was checked by NOD32 antivirus system.
: http://www.eset.com
: 
:

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7170<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-12-02 22:08:29<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>
On Dec 2, 2006, at 10:23 PM, Walden Mathews wrote:

&gt; Jan,
&gt;
&gt; You are discussing Implicit Invocation. POST is not a
&gt; "do it" verb. Do It is a command, although generalized to
&gt; the max.
&gt;
&gt; POST says "here is some information; you know best what
&gt; to do (or not to do) with it".
Hmm...that is what I thought I said. Anyhow: agreed.

&gt;
&gt; That may seem degenerate, from a command orientation,
&gt; i.e., where the client has a clue about what operation should
&gt; be performed. Sometimes though, the client may be
&gt; handling a piece of opaque data that only the server knows
&gt; what to do with.
&gt;
&gt; In some context, a client may be POSTing a piece of data
&gt; which it understands perfectly well, but simply does not
&gt; know what should be done with it on the server side. For
&gt; example, in a blackboard architecture, an agent pulls down
&gt; a piece of an overall problem, solves it, and posts back
&gt; the solution. The client does not know how to integrate its
&gt; solution with the overall one, so POST is as specific an
&gt; instruction as it can give. Perhaps its solution does not fit
&gt; with the overall emergent strategy, and will simply be
&gt; discarded. Either way.
Yes, ok. But how does what Isaid contradict what you said?
Sorry for being so unclear.

&gt;
&gt; PS - don't say 'semantic'. Please.
Then, what should I use??  For example: When one says: "GET is an  
application semantic" what would you use instead of 'semantic'?


Jan



&gt;
&gt; Walden
&gt;
&gt; ----- Original Message -----
&gt; From: "Jan Algermissen" &lt;algermissen1971@...&gt;
&gt; To: "Bill de hOra" &lt;bill@...&gt;
&gt; Cc: &lt;rest-discuss@yahoogroups.com&gt;
&gt; Sent: Saturday, December 02, 2006 1:40 PM
&gt; Subject: Re: [rest-discuss] Atom, 'process-this'-POST and rockets
&gt;
&gt; :
&gt; : On Dec 2, 2006, at 5:25 PM, Bill de hOra wrote:
&gt; :
&gt; : &gt; j
&gt; : &gt;
&gt; : &gt; It often seems to me that POST is a catchall for "do it".
&gt; : I guess so, yes. My view is that POST, by totally generalizing
&gt; : operation semantics, moves all the emphasis on abstract resource
&gt; : behaviour or capability. It moves all the semantics into the client
&gt; : making a choice for exactly that resource that behaves as desired
&gt; : upon POST. Thus, binding is on resource 'type' (e.g. 'order
&gt; : processor') as opposed to method semantics. That seems to decrease
&gt; : coupling (though I admitedly lack the proof of why this is so).
&gt; :
&gt; : Jan
&gt; :
&gt; :
&gt; :
&gt; : &gt; I guess the
&gt; : &gt; reason I'm pushing on this is to figure out why the 2 verb web  
&gt; is a
&gt; : &gt; runaway success. What's driving that? Is it because of the design
&gt; : &gt; principles? Or because POST is so decoupled from meaning? Or would
&gt; : &gt; things simply be much better even we had a broader vocabulary  
&gt; deployed
&gt; : &gt; under the design principles?
&gt; : &gt;
&gt; : &gt; [I understand the idea that the web's success is intrinsically  
&gt; tied to
&gt; : &gt; POST being a free for all (and often onto gateways) is not an  
&gt; orthodox
&gt; : &gt; view.]
&gt; : &gt;
&gt; : &gt; cheers
&gt; : &gt; Bill
&gt; : &gt;
&gt; : &gt;
&gt; :
&gt; :
&gt; :
&gt; : __________ NOD32 1897 (20061201) Information __________
&gt; :
&gt; : This message was checked by NOD32 antivirus system.
&gt; : http://www.eset.com
&gt; :
&gt; :
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7171<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2006-12-02 23:02:55<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>: &gt; PS - don't say 'semantic'. Please.
: Then, what should I use??  For example: When one says: "GET is an  
: application semantic" what would you use instead of 'semantic'?
: 

You should use "meaning", unless it doesn't sound right,
in which case, you should think some more and say something
else altogether, maybe.

GET isn't an application semantic, it's a verb.

WM

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7172<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2006-12-02 23:24:37<br>
Subject:Re: [rest-discuss] Has anybody implemented a RESTful C2C order process?<br>
Message:<br><br>
<pre>On 12/2/06, Jan Algermissen &lt;algermissen1971@...&gt; wrote:
&gt; In the above example, it should be differentiated between the case
&gt; where the seller owns the application and just guides the buyer
&gt; (Amazon purchase) and the acse where the application guides both,
&gt; seller and buyer (Amazon's 'non-Amazon' seller functionality or an
&gt; online auction).
&gt;
&gt; I really like the letter case as it shows so nicely how hypermedia
&gt; can be used to coordinate process participants without coupling them
&gt; to the actual process flow (when or in what order things happen).

That's the case I had in mind.  I think you need it from computer to
computer because things will go wrong at both ends and there not be
any human intelligence to figure it out.

&gt; The
&gt; state machine remains hidden[1].

Or is it visibly expressed in the hyperlinks?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7173<br>
Sender:"Teo Hui Ming" &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2006-12-03 00:34:28<br>
Subject:Re: [rest-discuss] Has anybody implemented a RESTful C2C order process?<br>
Message:<br><br>
<pre>On 12/3/06, Bob Haugen &lt;bob.haugen@...&gt; wrote:
&gt; [..] but Paul Prescod and others have sketched out how
&gt; to do it without violating those principles.

Hi Bob, could you please share the links as well?

-- 
Teo Hui Ming

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7174<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2006-12-03 01:47:47<br>
Subject:Re: [rest-discuss] Has anybody implemented a RESTful C2C order process?<br>
Message:<br><br>
<pre>On 12/2/06, Teo Hui Ming &lt;teohuiming.work@...&gt; wrote:
&gt; On 12/3/06, Bob Haugen &lt;bob.haugen@...&gt; wrote:
&gt; &gt; [..] but Paul Prescod and others have sketched out how
&gt; &gt; to do it without violating those principles.
&gt;
&gt; Hi Bob, could you please share the links as well?

http://www.prescod.net/rest/state_transition.html
http://people.csail.mit.edu/gregs/ll1-discuss-archive-html/msg01848.html

Neither deals explicitly with order processing, just sketches of ideas.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7175<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-12-03 03:09:55<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>&gt;
&gt; GET isn't an application semantic, it's a verb.

I tried, but that doesn't help, because it's only certain verbs we're
interested in talking about.  What makes that a bad description (other
than the fact that it *is* an application semantic 8-) is that "send"
is also a verb.  "application verb" doesn't work, IMO.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7176<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-12-03 03:22:08<br>
Subject:Re: [rest-discuss] Has anybody implemented a RESTful C2C order process?<br>
Message:<br><br>
<pre>Yep.  I implemented software for an international scale seismic data
distribution network.  The only thing that resembled that sort of
"choreography" was the discovery process for new hubs/stations (data
sinks and sources); all data included an http URI up front which
identified the source.  A GET on that would return an RDF/XML document
describing the capabilities of the service, the available data
channels, and the data collection services and what data they
accepted, etc.. (using RDF Forms)  Then the discoverer could GET the
data it wanted, submit its own data for processing, and submit (POST)
its own document describing its capabilities and/or those of other
services it had previously discovered.

Mark.

On 12/2/06, Bob Haugen &lt;bob.haugen@...&gt; wrote:
&gt; By C2C I mean computer-to-computer, no humans in the loop.
&gt;
&gt; We've discussed it here, but I haven't heard anybody claim an
&gt; implementation of much more than receiving a purchase order.
&gt;
&gt; A goods order processing procedure might go something like:
&gt; 1. Buyer: propose offer to buy (e.g. a purchase order)
&gt; 2. Seller: checks availability
&gt; 3. Seller: reserves credit
&gt; 4. Seller: accepts offer (e.g. Amazon's order confirmation)
&gt; 5. Seller: ships goods
&gt; 6. Seller: draws down payment
&gt; 7. Buyer: receives goods
&gt; 8: Buyer: confirms receipt
&gt;
&gt; I know, that will seem like a stateful conversation which goes against
&gt; all REST principles, but Paul Prescod and others have sketched out how
&gt; to do it without violating those principles.
&gt;
&gt; Been done to some extent using EDI and ebXML, but those
&gt; implementations usually cover propose-accept or ship-receive
&gt; separately, not wholistically (e.g. all 8 steps above).  both of those
&gt; use messages to endpoints which are not resources in any RESTian
&gt; sense.
&gt;
&gt; WS-BPEL uses half of processes like that as examples, and
&gt; WS-Choreography uses the whole of processes like that as examples, but
&gt; I don't know anybody who has implemented any of those example
&gt; processes in real life.
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7177<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-12-03 04:00:06<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Nic James Ferrier wrote:
&gt;&gt; I don't think a server is required to implement this 
&gt;&gt; behaviour. Indeed, it might not work all the time in 
&gt;&gt; certain situations. If you were behind (in terms of 
&gt;&gt; DNS queries) a very restrictive DNS cache you might 
&gt;&gt; not be able to do dynamic names. 

Is this like the "Some routers don't handle unreserved URL characters
correctly when unencoded, so best to URL encode *everything*" (but in
reality there's no problem because those routers are so old that 99.9% of
them have died or been upgraded or replaced.) 

Or is it a significant enough concern not to ever depend on unknown
subdomains being passed through the public internet so the web server can
handle them using host headers?  Do you (or does anyone) know for sure on
this, or is it a hypothetical problem? 

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7178<br>
Sender:"Teo Hui Ming" &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2006-12-03 07:14:06<br>
Subject:Re: [rest-discuss] Has anybody implemented a RESTful C2C order process?<br>
Message:<br><br>
<pre>Bob, thanks for the links!

On 12/3/06, Bob Haugen &lt;bob.haugen@...&gt; wrote:
&gt; A goods order processing procedure might go something like:
&gt; 1. Buyer: propose offer to buy (e.g. a purchase order)
&gt; 2. Seller: checks availability
&gt; 3. Seller: reserves credit
&gt; 4. Seller: accepts offer (e.g. Amazon's order confirmation)
&gt; 5. Seller: ships goods
&gt; 6. Seller: draws down payment
&gt; 7. Buyer: receives goods
&gt; 8: Buyer: confirms receipt

Does it mean that we need to carefully design the business workflow
right into each document and.. the workflow will flow in naturally?

I try to sketch out this example with assumption that asynchronous
interaction at business-level is a requirement. Is this the right
direction?

1. Buyer submit a &lt;PurchaseOrder&gt; to Seller
2. Seller submit an &lt;OrderConfirmation&gt; to Buyer at the URL in &lt;ReplyTo&gt;
3. Buyer submit a &lt;PaymentDetails&gt; to Buyer at the URL in &lt;ConfirmToPayAt&gt;
4. Seller submit another document to Bank at the URL in &lt;ChargePaymentAt&gt;

&lt;PurchaseOrder&gt;
      &lt;ReplyTo href="/order-confirmation-acceptor" /&gt;
      &lt;Items&gt; ... &lt;/Items&gt;
&lt;/PurchaseOrder&gt;

&lt;OrderConfirmation&gt;
      &lt;OrderID&gt;111&lt;OrderID&gt;
      &lt;Status&gt; .. &lt;/Status&gt;
      &lt;ConfirmToPayAt href="/payment-acceptor" /&gt;
&lt;/OrderConfirmation&gt;

&lt;PaymentDetails&gt;
    &lt;OrderID&gt;123&lt;/OrderID&gt;
    &lt;ChargePaymentAt href="http://bank/charging-acceptor" /&gt;
&lt;/PaymentDetails&gt;

Thanks,
-- 
Teo Hui Ming

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7179<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2006-12-03 11:56:20<br>
Subject:Re: [rest-discuss] Has anybody implemented a RESTful C2C order process?<br>
Message:<br><br>
<pre>On 12/3/06, Teo Hui Ming &lt;teohuiming.work@...&gt; wrote:
&gt; Does it mean that we need to carefully design the business workflow
&gt; right into each document and.. the workflow will flow in naturally?
&gt;
&gt; I try to sketch out this example with assumption that asynchronous
&gt; interaction at business-level is a requirement. Is this the right
&gt; direction?

I think so.

&gt; 1. Buyer submit a &lt;PurchaseOrder&gt; to Seller
&gt; 2. Seller submit an &lt;OrderConfirmation&gt; to Buyer at the URL in &lt;ReplyTo&gt;
&gt; 3. Buyer submit a &lt;PaymentDetails&gt; to Buyer at the URL in &lt;ConfirmToPayAt&gt;
&gt; 4. Seller submit another document to Bank at the URL in &lt;ChargePaymentAt&gt;

Anybody disagree?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7180<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2006-12-03 11:59:32<br>
Subject:Re: [rest-discuss] Has anybody implemented a RESTful C2C order process?<br>
Message:<br><br>
<pre>On 12/2/06, Mark Baker &lt;distobj@...&gt; wrote:
&gt; Yep.  I implemented software for an international scale seismic data
&gt; distribution network.  The only thing that resembled that sort of
&gt; "choreography" was the discovery process for new hubs/stations (data
&gt; sinks and sources); all data included an http URI up front which
&gt; identified the source.  A GET on that would return an RDF/XML document
&gt; describing the capabilities of the service, the available data
&gt; channels, and the data collection services and what data they
&gt; accepted, etc.. (using RDF Forms)  Then the discoverer could GET the
&gt; data it wanted, submit its own data for processing, and submit (POST)
&gt; its own document describing its capabilities and/or those of other
&gt; services it had previously discovered.

Fascinating! Were the RDF/XML documents interpreted and further
interaction decisions made by computer programs or humans or a
combination of both?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7181<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2006-12-03 16:04:28<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>On Sat, 2006-12-02 at 16:25 +0000, Bill de hOra wrote:
&gt; [I understand the idea that the web's success is intrinsically tied to
&gt; POST being a free for all (and often onto gateways) is not an orthodox
&gt; view.]

Aye. As much as people like to talk about the 4 Holy Operations, it
pretty clear that only 2 are in practical use, and I don't think that is
because HTML Forms don't allow for PUT and DELETE.

-- 
...jsled
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7182<br>
Sender:"Robert Sayre" &lt;sayrer@...&gt;<br>
Post Date/Time:2006-12-04 03:24:44<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>On 12/2/06, Bill de hOra &lt;bill@...&gt; wrote:
&gt;
&gt;  It often seems to me that POST is a catchall for "do it". I guess the
&gt;  reason I'm pushing on this is to figure out why the 2 verb web is a
&gt;  runaway success. What's driving that? Is it because of the design
&gt;  principles? Or because POST is so decoupled from meaning? Or would
&gt;  things simply be much better even we had a broader vocabulary deployed
&gt;  under the design principles?

There are people who think the important distinction is safe vs.
unsafe, and the rest of it is nitpicking. Sometimes I'm one of them.

-- 

Robert Sayre

"I would have written a shorter letter, but I did not have the time."

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7183<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-12-04 05:13:21<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>On 12/3/06, Josh Sled &lt;jsled@...&gt; wrote:
&gt; Aye. As much as people like to talk about the 4 Holy Operations, it
&gt; pretty clear that only 2 are in practical use, and I don't think that is
&gt; because HTML Forms don't allow for PUT and DELETE.

+1.  If you itemized all the possible state-changing things that one
might want to do via a form, I bet the vast majority would be
non-idempotent.  Most interesting things are.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7184<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-04 09:22:47<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>"Mike Schinkel" &lt;mikeschinkel@...&gt; writes:

&gt; Nic James Ferrier wrote:
&gt;&gt;&gt; I don't think a server is required to implement this 
&gt;&gt;&gt; behaviour. Indeed, it might not work all the time in 
&gt;&gt;&gt; certain situations. If you were behind (in terms of 
&gt;&gt;&gt; DNS queries) a very restrictive DNS cache you might 
&gt;&gt;&gt; not be able to do dynamic names. 
&gt;
&gt; Is this like the "Some routers don't handle unreserved URL characters
&gt; correctly when unencoded, so best to URL encode *everything*" (but in
&gt; reality there's no problem because those routers are so old that 99.9% of
&gt; them have died or been upgraded or replaced.) 
&gt;
&gt; Or is it a significant enough concern not to ever depend on unknown
&gt; subdomains being passed through the public internet so the web server can
&gt; handle them using host headers?  Do you (or does anyone) know for sure on
&gt; this, or is it a hypothetical problem? 

It's not hypothetical. It is a real problem.

But I have no imperical evidence to qualify the size of the problem.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7185<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-12-04 11:25:00<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Nic Ferrier wrote:
&gt;&gt; It's not hypothetical. It is a real problem.

Bummer.  So this technique really should be used... ;-(

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7186<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-12-04 11:25:00<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Nic James Ferrier wrote:
&gt;&gt; I can setup a programmatic DNS for you if you really want one (based on
pdns).

Thanks for the offer, but not necessary.

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7187<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-04 11:48:07<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>"Mike Schinkel" &lt;mikeschinkel@...&gt; writes:

&gt; Nic James Ferrier wrote:
&gt;&gt;&gt; I can setup a programmatic DNS for you if you really want one (based on
&gt;&gt;&gt; pdns).
&gt;
&gt; Thanks for the offer, but not necessary.

Thought so.

I was mostly doing it just to show a REST API being designed and how
simple it was.


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7188<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-12-04 14:08:00<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>Mark Baker wrote:
&gt; On 12/3/06, Josh Sled &lt;jsled@...&gt; wrote:
&gt;&gt; Aye. As much as people like to talk about the 4 Holy Operations, it
&gt;&gt; pretty clear that only 2 are in practical use, and I don't think that is
&gt;&gt; because HTML Forms don't allow for PUT and DELETE.
&gt; 
&gt; +1.  If you itemized all the possible state-changing things that one
&gt; might want to do via a form, I bet the vast majority would be
&gt; non-idempotent.  Most interesting things are.

Even only one op ("thing"?) was state changing, the point here is that 
forms are where people are deriving their notion of uniformity from. 
So, sorry to disagree, but I do think we have a 2 verb web 
infrastructure due to forms.

cheers
Bill


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7189<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2006-12-04 18:22:17<br>
Subject:Mark Baker article<br>
Message:<br><br>
<pre>FYI, I've published an article by Mark on InfoQ at

	http://www.infoq.com/articles/separation-of-concerns

"The practice of 'separating concerns' is a critically important tool  
for software architects, as it helps us introduce loose coupling  
where we need it in the systems we design. Unfortunately, it seems  
we're not as collectively proficient with that practice as we need to  
be, at least in the context of Web services and SOA." ...

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7190<br>
Sender:Jim Ancona &lt;jim@...&gt;<br>
Post Date/Time:2006-12-04 19:16:50<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>I'm late to the party on this long running thread, but please humor me.

Nic James Ferrier wrote:
&gt; "Mike Schinkel" &lt;mikeschinkel@...&gt; writes:
&gt; 
&gt;&gt; Nic James Ferrier wrote:
&gt;&gt;&gt;&gt; I don't think a server is required to implement this 
&gt;&gt;&gt;&gt; behaviour. Indeed, it might not work all the time in 
&gt;&gt;&gt;&gt; certain situations. If you were behind (in terms of 
&gt;&gt;&gt;&gt; DNS queries) a very restrictive DNS cache you might 
&gt;&gt;&gt;&gt; not be able to do dynamic names. 

As I understand it, you're discussing the ability to wildcard subdomain 
names, so the I can say *.anconafamily.com resolves to a particular IP 
address. (If that's not the case, please ignore this message!) I 
understand that a particular DNS server implementation might not provide 
that functionality. What I don't get is how an intermediate cache could 
break it. I would think that the wildcarding would be invisible from the 
cache's perspective. Can you fill me in on what I'm missing?

Thanks,

Jim



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7191<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-04 19:39:41<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>Jim Ancona &lt;jim@...&gt; writes:

&gt; I'm late to the party on this long running thread, but please humor
&gt; me.

Ok Jim.


&gt;&gt;&gt; Nic James Ferrier wrote:
&gt;&gt;&gt;&gt;&gt; I don't think a server is required to implement this 
&gt;&gt;&gt;&gt;&gt; behaviour. Indeed, it might not work all the time in 
&gt;&gt;&gt;&gt;&gt; certain situations. If you were behind (in terms of 
&gt;&gt;&gt;&gt;&gt; DNS queries) a very restrictive DNS cache you might 
&gt;&gt;&gt;&gt;&gt; not be able to do dynamic names. 

&gt; As I understand it, you're discussing the ability to wildcard subdomain 
&gt; names, so the I can say *.anconafamily.com resolves to a particular IP 
&gt; address. (If that's not the case, please ignore this message!) I 
&gt; understand that a particular DNS server implementation might not provide 
&gt; that functionality. What I don't get is how an intermediate cache could 
&gt; break it. I would think that the wildcarding would be invisible from the 
&gt; cache's perspective. Can you fill me in on what I'm missing?

It's tricky coz we're talking about implementation stuff here. The way
network admins implement stuff, not the way people implement specs.

You could have a DNS server secondarying a zone and not supporting
wildcard zones.

I've got in the back of my mind that I've seen this on someone's
network but I can't think whose.


Anyway... we're quite off topic.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7192<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-04 19:32:54<br>
Subject:Re: [rest-discuss] Mark Baker article<br>
Message:<br><br>
<pre>Stefan Tilkov &lt;stefan.tilkov@...&gt; writes:

&gt; FYI, I've published an article by Mark on InfoQ at
&gt;
&gt; 	http://www.infoq.com/articles/separation-of-concerns
&gt;
&gt; "The practice of 'separating concerns' is a critically important tool  
&gt; for software architects, as it helps us introduce loose coupling  
&gt; where we need it in the systems we design. Unfortunately, it seems  
&gt; we're not as collectively proficient with that practice as we need to  
&gt; be, at least in the context of Web services and SOA." ...

I'd like to comment on that but your registration and login procedure
does not support my authentication methods.

I'd like to be rude about them but in deference to you I won't.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7193<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-12-04 20:40:41<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>On 12/4/06, Bill de hOra &lt;bill@...&gt; wrote:
&gt; Mark Baker wrote:
&gt; &gt; On 12/3/06, Josh Sled &lt;jsled@...&gt; wrote:
&gt; &gt;&gt; Aye. As much as people like to talk about the 4 Holy Operations, it
&gt; &gt;&gt; pretty clear that only 2 are in practical use, and I don't think that is
&gt; &gt;&gt; because HTML Forms don't allow for PUT and DELETE.
&gt; &gt;
&gt; &gt; +1.  If you itemized all the possible state-changing things that one
&gt; &gt; might want to do via a form, I bet the vast majority would be
&gt; &gt; non-idempotent.  Most interesting things are.
&gt;
&gt; Even only one op ("thing"?) was state changing,

I was assuming the utility in GET was apparent; that of all the things
one might want to do over the Internet, the bulk are requests for data
(and the bulk of those, safe).

&gt; the point here is that
&gt; forms are where people are deriving their notion of uniformity from.
&gt; So, sorry to disagree, but I do think we have a 2 verb web
&gt; infrastructure due to forms.

So of all the uses of forms, what percentage would be PUT or DELETE
based forms if HTML forms had supported that from day one?  Let's even
assume that developers used the methods properly (i.e. no idempotent
updates via POST).

I bet it would be well under 10%.  Why?  Because I suspect that there
are a lot more non-idempotent things one might want to do, than
idempotent things.

And if you assume *realistic* developer use, I think we're almost back
to where we are today.

That's not to suggest I don't think the GET/POST restriction should be
lifted (thanks WHAT WG), but my argument in favour of doing so is
because restricting extensibility unnecessarily is daft, and can come
back to bite you in the ass.  I just don't think it has (that much) in
this case.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7194<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-12-04 22:57:02<br>
Subject:Dynamic Evolvability<br>
Message:<br><br>
<pre>Hi,

Roy writes in his dissertation:

"2.3.4.1 Evolvability

Evolvability represents the degree to which a component  
implementation can be changed without negatively impacting other  
components. Static evolution of components generally depends on how  
well the architectural abstraction is enforced by the implementation,  
and thus is not something unique to any particular architectural  
style. Dynamic evolution, however, can be influenced by the style if  
it includes constraints on the maintenance and location of  
application state. The same techniques used to recover from partial  
failure conditions in a distributed system [133] can be used to  
support dynamic evolution."[1]

While trying to flesh out the argument that REST does increase  
dynamic evolvability (and that  SOA (whatever it really is) does not,  
if so) I realized that I am not entirely clear what architectral  
constraint of REST increases dynamic evolvability and why it does so.

The reference to Waldo's "Note on Disributed Computing" suggests -if  
I understand correctly- that one of the problems of dynamic evolution  
is to leave the calling component in a consistent state if the  
interface of the called component unexpectedly changes. IOW, making a  
call to a remote object should either succeed or fail with a clear  
error indication that tells the caller that the interface changed and  
how.

Regarding REST I understand this:

While REST's uniform interface constraint cannot prevent a remote  
component from changing its interface as part of an evolution (e.g.  
it could remove former support for PUT) the client will know exactly  
what happened since it knows the method semantics (they are uniform)  
and the error code ("405 Method Not Allowed") indicates the reason  
for the failure. IOW, dynamic evolvability is increased because the  
called component can change without brealing the client (because the  
client is required to understand and expect a 405).

Is this understanding correct?


Assuming it is correct, does WS-* (being a SOA implementation) pass  
the test or not?
(Without interface uniformity, all the server can really tell the  
client upon an interface change is: "Interface changed". This IMHO  
violates the constraint that the client must be in a consistent state  
after the failed call).


Can anyone explain to me, how the location of application state  
affects dynamic evolvability? I am honsetly missing a clue here (or  
do not see the forrest for the trees).

Thanks.

Jan


[1]http://www.ics.uci.edu/~fielding/pubs/dissertation/ 
net_app_arch.htm#sec_2_3_4_1
[133] http://research.sun.com/techrep/1994/abstract-29.html

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7195<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-12-05 01:26:37<br>
Subject:Re: [rest-discuss] Dynamic Evolvability<br>
Message:<br><br>
<pre>On Dec 4, 2006, at 2:57 PM, Jan Algermissen wrote:
&gt; Roy writes in his dissertation:
&gt;
&gt; "2.3.4.1 Evolvability
&gt;
&gt; Evolvability represents the degree to which a component
&gt; implementation can be changed without negatively impacting other
&gt; components. Static evolution of components generally depends on how
&gt; well the architectural abstraction is enforced by the implementation,
&gt; and thus is not something unique to any particular architectural
&gt; style. Dynamic evolution, however, can be influenced by the style if
&gt; it includes constraints on the maintenance and location of
&gt; application state. The same techniques used to recover from partial
&gt; failure conditions in a distributed system [133] can be used to
&gt; support dynamic evolution."[1]
&gt;
&gt; While trying to flesh out the argument that REST does increase
&gt; dynamic evolvability (and that SOA (whatever it really is) does not,
&gt; if so) I realized that I am not entirely clear what architectral
&gt; constraint of REST increases dynamic evolvability and why it does so.

I am "pretty sure" that I was thinking of the constraint that  
application
state be kept on the user agent.  It is dynamic evolution in the  
sense that
an old origin server can be replaced with a new one in the middle of one
browser's ongoing conversation with a website (aside from the current
message streams, which are presumed to complete before the origin server
is replaced). Likewise, servers don't need to remember clients, so  
replacing
a piece of client software does not affect other clients or servers.
Use of URIs also helps in that regard (as opposed to using something
that is less portable during evolution, like UUIDs).

It is difficult for me to remember the exact origin of what I was  
thinking
at the time because architectural properties were the first parts of the
dissertation written down (part of the survey paper) and I changed the
categories around several times.  Most software research calls them
"qualities" (mostly because that is what Boehm called them in early
studies, IIRC), though some other sources refer to them as principles,
requirements, or a host of other disturbing things.

My first thought today was that I must have picked that definition up
from some conversation with my apartment-mate (Peyman Oreizy).  His
dissertation on decentralized software evolution can be found at

    http://www.ics.uci.edu/~peymano/

but he seems to have settled on a different set of terms from the
ones that I used.  It is worth reading anyway if you are interested
in software evolution (or adaptability).

&gt; The reference to Waldo's "Note on Disributed Computing" suggests -if
&gt; I understand correctly- that one of the problems of dynamic evolution
&gt; is to leave the calling component in a consistent state if the
&gt; interface of the called component unexpectedly changes. IOW, making a
&gt; call to a remote object should either succeed or fail with a clear
&gt; error indication that tells the caller that the interface changed and
&gt; how.

Er, possible, but more likely I was just thinking of partial failure
conditions being the result of evolution-in-situ.

&gt; Regarding REST I understand this:
&gt;
&gt; While REST's uniform interface constraint cannot prevent a remote
&gt; component from changing its interface as part of an evolution (e.g.
&gt; it could remove former support for PUT) the client will know exactly
&gt; what happened since it knows the method semantics (they are uniform)
&gt; and the error code ("405 Method Not Allowed") indicates the reason
&gt; for the failure. IOW, dynamic evolvability is increased because the
&gt; called component can change without brealing the client (because the
&gt; client is required to understand and expect a 405).
&gt;
&gt; Is this understanding correct?

I think it is more accurate to say that a resource cannot change
its interface as part of an evolution because all resources have
the same interface.  (405 doesn't change the interface -- it is an
answer to the request via the same interface.)  But REST does not
require use of a single interface protocol, so in that sense the
interface could change dynamically (e.g., HTTP Upgrade).

&gt; Assuming it is correct, does WS-* (being a SOA implementation) pass
&gt; the test or not?
&gt; (Without interface uniformity, all the server can really tell the
&gt; client upon an interface change is: "Interface changed". This IMHO
&gt; violates the constraint that the client must be in a consistent state
&gt; after the failed call).

WS-* doesn't *do* anything, and thus doesn't qualify for any test.
You would have to test an application architecture that happens to
use WS-* in a specific way that is testable.  HTTP doesn't
"pass" the test in isolation either -- it only passes when a
REST-based application makes use of HTTP in a RESTful way.

&gt; Can anyone explain to me, how the location of application state
&gt; affects dynamic evolvability? I am honsetly missing a clue here (or
&gt; do not see the forrest for the trees).

Consider what happens when a stateful server is replaced in the
middle of a conversation with a client by a new server which seems
just like the old one but has no idea what stage the client is
within its application.

....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7196<br>
Sender:"Dave Orchard" &lt;orchard@...&gt;<br>
Post Date/Time:2006-12-05 05:35:14<br>
Subject:RE: [rest-discuss] Dynamic Evolvability<br>
Message:<br><br>
<pre>Roy asks about a stateful server evolving when the new server has no idea
what stage the client is at.  This is a great question, but most stateful
servers today do the right thing.  They provide for the old version and the
new version, with a mapping between them.  Thus stateful server evolution is
fine if the server has been built for evolution, and most of the "real"
systems do.   Heck, we do side-by-side deployment too with a ton of
variables to control how to direct.  

Properly built stateful servers are often higher user-perceived performance
in versioning when the server side state is migrated to a new version in
between client requests, rather than at run-time as the client request with
the old state comes in.  

The question can be turned around a bit, and consider what happens when a
stateful client is replaced in the middle of a conversation with a server by
a new client which is just like the old one but has no idea what state the
server is within its application.  

I think the question of location of client vs server state and
versioning/evolvability is a very complicated decision, and some of the
factors include how much the client is "trusted", how much
time/processing/resource usage is on the client vs the server, the data set
between the two, etc.  The Web works in many ways because the time on the
client is long compared to on the server (sub x second response time for
those humans), the client can go away at any time (ie not trusted to do
garbage collection properly), and the data sets are small (typically you
just need to handle the amount of data that the client has entered to
reconstruct the state).  The more you change those (and other) factors, the
more you lean towards server-side state.  There's trade-offs in network
performance, user-perceived performance, and other network and application
properties that get adjusted.  There's just no way that large data sets on
the server communicating a small data set to well behaved (from a gcol
perspective) clients where the server does most of the computing are going
to be made client-side stateful.   

To paraphrase somebody, you've got to do the analysis for yourself and
figure out which architectural style makes sense given your applications
requirements.

Cheers,
Dave

________________________________

	From: rest-discuss@yahoogroups.com
[mailto:rest-discuss@yahoogroups.com] On Behalf Of Roy T. Fielding
	Sent: Monday, December 04, 2006 5:27 PM
	To: Jan Algermissen
	Cc: rest-discuss@yahoogroups.com
	Subject: Re: [rest-discuss] Dynamic Evolvability
	
	&gt; Can anyone explain to me, how the location of application state
	&gt; affects dynamic evolvability? I am honsetly missing a clue here
(or
	&gt; do not see the forrest for the trees).
	
	Consider what happens when a stateful server is replaced in the
	middle of a conversation with a client by a new server which seems
	just like the old one but has no idea what stage the client is
	within its application.
	
	....Roy
	



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7197<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-12-05 09:07:34<br>
Subject:Re: [rest-discuss] Dynamic Evolvability<br>
Message:<br><br>
<pre>On Dec 4, 2006, at 9:35 PM, Dave Orchard wrote:

&gt; Roy asks about a stateful server evolving when the new server has  
&gt; no idea
&gt; what stage the client is at.  This is a great question, but most  
&gt; stateful
&gt; servers today do the right thing.  They provide for the old version  
&gt; and the
&gt; new version, with a mapping between them.  Thus stateful server  
&gt; evolution is
&gt; fine if the server has been built for evolution, and most of the  
&gt; "real"
&gt; systems do.   Heck, we do side-by-side deployment too with a ton of
&gt; variables to control how to direct.

Er, sometimes they do, yes, and other times they are just a checkbox
on a marketing pamphlet.  I have yet to see an instance of one
vendor's server be replaced with a different vendor's server and
not have the whole house of cards collapse.  That is, except on
the Web, which handles that change without any problem whatsoever
if the identifiers do not change.

In any case, the kind of evolution you are talking about there is
very restricted and well planned.  The statefulness, for example, has
to be limited to session tickets or pointers to back-end systems
that remain available during the process, and a bunch of money has
to be thrown at the system to make even that possible.

The kind of evolution I was talking about includes both small-scale
planned evolution on the server and the wild whack-a-mole style of
evolution that happens when one company absorbs another or an entire
service shifts from a centralized architecture to edge-based Akamai.

The important thing is not just that stateful-client architecture
is evolvable, but that it is evolvable for free.  We can indeed
deploy an evolvable stateful system, but only if it is planned and
budgeted as such by the likes of Bill Gates.  A poor snot-nose
grad student doesn't have that option, so in order for the vast
multitude of services to be evolvable the solution has to be cheap
and on by default.  That is what we hope for when we architect the
system for independent evolvability across multiple organizations.

&gt; Properly built stateful servers are often higher user-perceived  
&gt; performance
&gt; in versioning when the server side state is migrated to a new  
&gt; version in
&gt; between client requests, rather than at run-time as the client  
&gt; request with
&gt; the old state comes in.
&gt;
&gt; The question can be turned around a bit, and consider what happens  
&gt; when a
&gt; stateful client is replaced in the middle of a conversation with a  
&gt; server by
&gt; a new client which is just like the old one but has no idea what  
&gt; state the
&gt; server is within its application.

A better example is a user operating on the same server with two  
different
clients (e.g., desktop and blackberry) and expecting the state on both
to remain synchronized.  That is much easier to implement with a  
stateful
server and that may be the more appropriate architecture to choose after
considering all of the other requirements.  Yep, there are lots of  
tradeoffs.
Likewise, real-time monitoring systems are usually better architected
as a distributed object or event-based system, with only the management
console projecting a simpler interface.

&gt; I think the question of location of client vs server state and
&gt; versioning/evolvability is a very complicated decision, and some of  
&gt; the
&gt; factors include how much the client is "trusted", how much
&gt; time/processing/resource usage is on the client vs the server, the  
&gt; data set
&gt; between the two, etc.

And let's not forget the question of how much money you are willing
to spend on server complexity to make up for the other trade-offs.

&gt; The Web works in many ways because the time on the
&gt; client is long compared to on the server (sub x second response  
&gt; time for
&gt; those humans), the client can go away at any time (ie not trusted  
&gt; to do
&gt; garbage collection properly), and the data sets are small  
&gt; (typically you
&gt; just need to handle the amount of data that the client has entered to
&gt; reconstruct the state).  The more you change those (and other)  
&gt; factors, the
&gt; more you lean towards server-side state.  There's trade-offs in  
&gt; network
&gt; performance, user-perceived performance, and other network and  
&gt; application
&gt; properties that get adjusted.  There's just no way that large data  
&gt; sets on
&gt; the server communicating a small data set to well behaved (from a gcol
&gt; perspective) clients where the server does most of the computing  
&gt; are going
&gt; to be made client-side stateful.

Yeah, that's why stored procedures exist, and also why one thing a
resource can be is (effectively) a stored procedure.  But it's also
interesting to consider other architectures that have more flexibility,
such as mobile code.

It is core to the Web design principles that the clients cannot be
trusted, but that certainly isn't true of every system.  Most times.
Postscript printing, for example, is an excellent case study in the
use of mostly-safe mobile code to enable independent evolution of
printing applications from printer hardware.

&gt; To paraphrase somebody, you've got to do the analysis for yourself and
&gt; figure out which architectural style makes sense given your  
&gt; applications
&gt; requirements.

Yep, that's the key.  And there is usually more than one valid
architecture for any given application, with both positive and
negative trade-offs in the short term and long.  In the end, though,
simplicity usually works better.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7198<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-12-05 11:30:15<br>
Subject:RE: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>&gt;&gt; Thought so.
&gt;&gt; I was mostly doing it just to show a REST API being designed and how
simple it was. 

I was more interested in wildcard DNS issues for my planned writing about
Well Designed URLs as I was for my own use.  Obviously you can't set up a
DNS server for everyone who reads my future writings that touch on the
subject.

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7199<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-05 11:43:53<br>
Subject:Re: [rest-discuss] REST design question<br>
Message:<br><br>
<pre>"Mike Schinkel" &lt;mikeschinkel@...&gt; writes:

&gt;&gt;&gt; Thought so.
&gt;&gt;&gt; I was mostly doing it just to show a REST API being designed and how
&gt; simple it was. 
&gt;
&gt; I was more interested in wildcard DNS issues for my planned writing about
&gt; Well Designed URLs as I was for my own use.  Obviously you can't set up a
&gt; DNS server for everyone who reads my future writings that touch on the
&gt; subject.

All those potential clients... [drools]

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7200<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-12-05 20:03:22<br>
Subject:Re: [rest-discuss] Dynamic Evolvability<br>
Message:<br><br>
<pre>Roy,

thanks a lot, that was very helpful.

On Dec 5, 2006, at 2:26 AM, Roy T. Fielding wrote:

&gt; I think it is more accurate to say that a resource cannot change
&gt; its interface as part of an evolution because all resources have
&gt; the same interface.  (405 doesn't change the interface -- it is an
&gt; answer to the request via the same interface.)

Ok. Would it then be reasonable to say that a style that constrains the
interface (to be uniform) increases evolvabiliy because changes
resulting from evolution are only visible as data element changes and
such changes are easier to cope with than interface changes?

That has actually been my thinking over the past years, but admitedly
I still lack a compelling reasoning why for example an incompatible
data element change is less complex than an incopatible inerface change.
(Hence I though the question of the caller being in a defined state  
after
an evolution induced faulure would be the answer).

Or is it as simple as "the complexity with data elements is inherently
lower, e.g. because there are never issues like method call sequences or
because it is easier to standardize a data element type than to  
standardize
an interface, etc")?
Intuitively I have no problem really, but as said, it is the  
reasoning that
I find to be incomplete (in my head).


Jan



&gt; But REST does not
&gt; require use of a single interface protocol, so in that sense the
&gt; interface could change dynamically (e.g., HTTP Upgrade).


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7201<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-12-05 20:48:13<br>
Subject:Re: [rest-discuss] Dynamic Evolvability<br>
Message:<br><br>
<pre>Correction:

Sorry, my use of the term 'data element' below is imprecise. I was  
refering to representations only, not the other data elements of REST  
(headers, URIs,...).
Jan

On Dec 5, 2006, at 9:03 PM, Jan Algermissen wrote:

&gt; Roy,
&gt;
&gt; thanks a lot, that was very helpful.
&gt;
&gt; On Dec 5, 2006, at 2:26 AM, Roy T. Fielding wrote:
&gt;
&gt; &gt; I think it is more accurate to say that a resource cannot change
&gt; &gt; its interface as part of an evolution because all resources have
&gt; &gt; the same interface. (405 doesn't change the interface -- it is an
&gt; &gt; answer to the request via the same interface.)
&gt;
&gt; Ok. Would it then be reasonable to say that a style that constrains  
&gt; the
&gt; interface (to be uniform) increases evolvabiliy because changes
&gt; resulting from evolution are only visible as data element changes and
&gt; such changes are easier to cope with than interface changes?
&gt;
&gt; That has actually been my thinking over the past years, but admitedly
&gt; I still lack a compelling reasoning why for example an incompatible
&gt; data element change is less complex than an incopatible inerface  
&gt; change.
&gt; (Hence I though the question of the caller being in a defined state
&gt; after
&gt; an evolution induced faulure would be the answer).
&gt;
&gt; Or is it as simple as "the complexity with data elements is inherently
&gt; lower, e.g. because there are never issues like method call  
&gt; sequences or
&gt; because it is easier to standardize a data element type than to
&gt; standardize
&gt; an interface, etc")?
&gt; Intuitively I have no problem really, but as said, it is the
&gt; reasoning that
&gt; I find to be incomplete (in my head).
&gt;
&gt; Jan
&gt;
&gt; &gt; But REST does not
&gt; &gt; require use of a single interface protocol, so in that sense the
&gt; &gt; interface could change dynamically (e.g., HTTP Upgrade).
&gt;
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7202<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-12-06 17:43:03<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>Mark Baker wrote:
&gt; On 12/4/06, Bill de hOra &lt;bill@...&gt; wrote:
&gt; 
&gt;&gt; the point here is that
&gt;&gt; forms are where people are deriving their notion of uniformity from.
&gt;&gt; So, sorry to disagree, but I do think we have a 2 verb web
&gt;&gt; infrastructure due to forms.
&gt; 
&gt; So of all the uses of forms, what percentage would be PUT or DELETE
&gt; based forms if HTML forms had supported that from day one?  Let's even
&gt; assume that developers used the methods properly (i.e. no idempotent
&gt; updates via POST).
&gt; 
&gt; I bet it would be well under 10%.  Why?  Because I suspect that there
&gt; are a lot more non-idempotent things one might want to do, than
&gt; idempotent things.

By definition, this isn't a design approach based on uniformity unless 
html is the definition of what uniformity is. Which is my point - it has 
been.



&gt; That's not to suggest I don't think the GET/POST restriction should be
&gt; lifted (thanks WHAT WG), but my argument in favour of doing so is
&gt; because restricting extensibility unnecessarily is daft, and can come
&gt; back to bite you in the ass.  I just don't think it has (that much) in
&gt; this case.

Then we're in agreement. Having restricted extensibility unnecessarily 
isn't just daft; it's been harmful, as evidenced by the current web 
infrastructure. People clearly have been keying off the wrong spec.

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7203<br>
Sender:"careed76" &lt;careed76@...&gt;<br>
Post Date/Time:2006-12-07 02:37:17<br>
Subject:Implementing Multiple Filters<br>
Message:<br><br>
<pre>I was wondering if anyone could offer some advice regarding how to
implement a REST web service that needs to support multiple filters. 
For example, if I want to make the data in a parts database accessible
through a web service, I could develop a web service that is accessed
like the following:

All Parts:
http://www.example.com/parts

Single Part:
http://www.example.com/parts/00123

How could I provide filters that would only return parts that are a
certain color, weight, cost, etc.  For example, I may want to return
all parts that are blue, weigh less than 1 pound and cost more than
$100.  I am currently using querystring parameters to specify the
filter values, but it seems like there should be a better method.   


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7204<br>
Sender:"omarshariffdontlikeit" &lt;omarshariffdontlikeit@...&gt;<br>
Post Date/Time:2006-12-07 13:51:51<br>
Subject:Re: Implementing Multiple Filters<br>
Message:<br><br>
<pre>In my own system, I filter results like so:

http://benssite.com/parts/filterby:colour=red

and additionally:

http://benssite.com/parts/filterby:colour=red&amp;filterby:size=small

When read, it kinda makes sense.

Hope that helps!



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7205<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2006-12-07 14:33:31<br>
Subject:Re: [rest-discuss] Implementing Multiple Filters<br>
Message:<br><br>
<pre>On Thu, 2006-12-07 at 02:37 +0000, careed76 wrote:
&gt; How could I provide filters that would only return parts that are a
&gt; certain color, weight, cost, etc. For example, I may want to return
&gt; all parts that are blue, weigh less than 1 pound and cost more than
&gt; $100. I am currently using querystring parameters to specify the
&gt; filter values, but it seems like there should be a better method. 

It sounds to me like you exactly want to query a parameter space.

Matrix URLs [1] are sometimes suggested as an alternative, but they
don't have the same pervasiveness or tooling support as query params.


I could guess at why you find query params less than ideal, but ... why
do you think there's a better method?  What should it look like?  What
features should it have?


[1] http://www.w3.org/DesignIssues/MatrixURIs.html

-- 
...jsled
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7206<br>
Sender:Kevin Mitchell &lt;kjmitchell9@...&gt;<br>
Post Date/Time:2006-12-07 15:57:51<br>
Subject:Re: [rest-discuss] Implementing Multiple Filters<br>
Message:<br><br>
<pre>
--- Josh Sled &lt;jsled@...&gt; wrote:

&gt; On Thu, 2006-12-07 at 02:37 +0000, careed76 wrote:
&gt; &gt; How could I provide filters that would only return
&gt; parts that are a
&gt; &gt; certain color, weight, cost, etc. For example, I
&gt; may want to return
&gt; &gt; all parts that are blue, weigh less than 1 pound
&gt; and cost more than
&gt; &gt; $100. I am currently using querystring parameters
&gt; to specify the
&gt; &gt; filter values, but it seems like there should be a
&gt; better method. 
&gt; 
&gt; It sounds to me like you exactly want to query a
&gt; parameter space.
&gt; 
&gt; Matrix URLs [1] are sometimes suggested as an
&gt; alternative, but they
&gt; don't have the same pervasiveness or tooling support
&gt; as query params.
&gt; 
&gt; 
&gt; I could guess at why you find query params less than
&gt; ideal, but ... why
&gt; do you think there's a better method?  What should
&gt; it look like?  What
&gt; features should it have?
&gt; 
&gt; 
&gt; [1] http://www.w3.org/DesignIssues/MatrixURIs.html
&gt; 

One idea is to provide for the creation of a query
resource. Allow the user to compose a query, and
perhaps name it, and then POST/PUT it to establish it
as a resource. Something like:

POST http://example.org/query

which would answer with a Location header containing
something like

[1] http://example.org/query/myquery

then one would GET [1] to retrieve the results of the
query.

I think somewhere in there should be two resources -
the "query definition" and "the current results of the
query". [1] would identify the query definition and
you'd have to do something like provide the URL to the
results resource in the definition of the query itself
- something like

[2] http://example.org/query/myquery/results

And of course the results should provide a link back
the definition resource. One nice thing about this
design is that one can cache, secure, etc... the
definition and results separately.

I thought of this when contemplating how to offer more
complex queries - like with boolean ops. and
precedence. In this way it is sort of like creating a
view in a database. It may very well be more than you
need but I thought I'd throw it out there...

- Kevin


 
____________________________________________________________________________________
Do you Yahoo!?
Everyone is raving about the all-new Yahoo! Mail beta.
http://new.mail.yahoo.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7207<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-12-07 18:26:02<br>
Subject:MindTouch Dream<br>
Message:<br><br>
<pre>Has anyone looked at Dream yet to see how RESTful it actually is?

    http://www.opengarden.org/dream

"MindTouch Dream is a REST-based distributed application framework  
developed in Mono/.NET. With Dream, a Web service is similar to an  
object, and features interact through standard HTTP verbs. This  
design allows the developer to assume an "idealized" world where  
everything a service comes into contact with is accessed through Web  
requests. The Dream service library addresses common problems, and  
the Dream runtime orchestrates all interactions without requiring a  
Web server to be pre-installed on a target machine."

....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7208<br>
Sender:Berend de Boer &lt;berend@...&gt;<br>
Post Date/Time:2006-12-07 20:17:10<br>
Subject:Re: [rest-discuss] MindTouch Dream<br>
Message:<br><br>
<pre>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

&gt;&gt;&gt;&gt;&gt; "Roy" == Roy T Fielding &lt;fielding@...&gt; writes:

    Roy&gt; Has anyone looked at Dream yet to see how RESTful it actually
    Roy&gt; is?

It still requires cookies...

I would say it is on the right track, but I would prefer a more
declarative approach.

- -- 
All the best,

Berend de Boer


PS: This email has been digitally signed if you wonder what the strange
characters are that your outdated email client displays.
PGP public key: http://www.pobox.com/~berend/berend-public-key.txt
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.3 (GNU/Linux)
Comment: Processed by Mailcrypt 3.5.8 &lt;http://mailcrypt.sourceforge.net/&gt;

iD8DBQFFeHbGIyuuaiRyjTYRAvIeAKCHGxNPC/xCmqfsE7YHI+5X2qmScgCcDDj2
tIi7yPYHLBGevj0y2lc3WOc=
=R21u
-----END PGP SIGNATURE-----


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7209<br>
Sender:Paul Downey &lt;paul.downey@...&gt;<br>
Post Date/Time:2006-12-08 22:09:12<br>
Subject:REST Validation Service [was MindTouch Dream]<br>
Message:<br><br>
<pre>
On 7 Dec 2006, at 18:26, Roy T. Fielding wrote:

&gt; Has anyone looked at Dream yet to see how RESTful it actually is?
&gt;
&gt; http://www.opengarden.org/dream
&gt;
Is it possible to write an agent or service to determine if
a given "Web API" is RESTful? Does such a thing exist?

I guess you'd at least need meta-data to describe the bounds
of the "API", no?

It seems the best we have is to publish something claim it's
RESTful and wait to see how big and pointy the stones people
throw on this list, no?

Paul
--
http://blog.whatfettle.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7210<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-08 23:07:00<br>
Subject:Re: [rest-discuss] REST Validation Service<br>
Message:<br><br>
<pre>Paul Downey &lt;paul.downey@...&gt; writes:

&gt; On 7 Dec 2006, at 18:26, Roy T. Fielding wrote:
&gt;
&gt;&gt; Has anyone looked at Dream yet to see how RESTful it actually is?
&gt;&gt;
&gt;&gt; http://www.opengarden.org/dream
&gt;&gt;
&gt; Is it possible to write an agent or service to determine if
&gt; a given "Web API" is RESTful? Does such a thing exist?
&gt;
&gt; I guess you'd at least need meta-data to describe the bounds
&gt; of the "API", no?
&gt;
&gt; It seems the best we have is to publish something claim it's
&gt; RESTful and wait to see how big and pointy the stones people
&gt; throw on this list, no?

REST is not a standard. It's an architectural style. Things can be
more or less RESTfull and that's more or less ok with people here.

[Insert Pirate Code joke here]


Having said that, maybe there are metrics we could come up with to
describe RESTfullness. But that's tied to tooled discovery and I don't
think we do that very well yet.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7211<br>
Sender:"Andrzej Jan Taramina" &lt;andrzej@...&gt;<br>
Post Date/Time:2006-12-09 14:00:09<br>
Subject:Pirate code?<br>
Message:<br><br>
<pre>&gt; [Insert Pirate Code joke here]

May you be touched by His Noodly Appendage.  RESTfully of course.

;-)


Andrzej Jan Taramina
Chaeron Corporation: Enterprise System Solutions
http://www.chaeron.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7212<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-09 21:35:54<br>
Subject:Re: [rest-discuss] Pirate code?<br>
Message:<br><br>
<pre>"Andrzej Jan Taramina" &lt;andrzej@...&gt; writes:

&gt;&gt; [Insert Pirate Code joke here]
&gt;
&gt; May you be touched by His Noodly Appendage.  RESTfully of course.

I had not, till now, considered the implications of the clear
connection between Davey Jones and the Giant Spaghetti Monster.

I sense a religous conspiracy greater than anything documented in the
Da Vinci Rubbish.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7213<br>
Sender:"Andrzej Jan Taramina" &lt;andrzej@...&gt;<br>
Post Date/Time:2006-12-10 01:58:49<br>
Subject:Re: [rest-discuss] Pirate code?<br>
Message:<br><br>
<pre>Nic:

&gt; I had not, till now, considered the implications of the clear
&gt; connection between Davey Jones and the Giant Spaghetti Monster.

The connections are obvious!  Pastafarian versus Restafarian?  They are so 
close as to be synonymous, so it's quite obvious that His Noodlyness is a 
huge fan of REST.

Which makes sense, for what do you need more after a large pasta dinner than 
rest.  Soap?  Heck, spaghetti is supposed to be messy and fun!

&gt; I sense a religous conspiracy greater than anything documented in the
&gt; Da Vinci Rubbish.

REST = FSM

SOAP = DaVinci Code.

I like it....just about sums it all up, doesn't it? ;-)


Andrzej Jan Taramina
Chaeron Corporation: Enterprise System Solutions
http://www.chaeron.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7214<br>
Sender:"Teo Hui Ming" &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2006-12-11 12:20:42<br>
Subject:Re: [rest-discuss] constraints and loose coupling<br>
Message:<br><br>
<pre>On 11/29/06, Mark Baker &lt;distobj@...&gt; wrote:
&gt; Many constraints are intended to separate concerns and therefore
&gt; provide loose coupling, but do all constraints do so?  Off the top of
&gt; my head I would have said "No", but a quick thought exercise failed to
&gt; turn up any counter examples.

Insightful. Now I can clearly see the difference between
doc/literal-style messaging protocol and HTTP protocol from this
angle.

Quoted from the OASIS's SOA Reference Model 1.0 [1]:
"The primary task of any communication infrastructure is to facilitate
the exchange of information and the exchange of intent. For example, a
purchase order combines two somewhat orthogonal aspects: the
description of the items being purchased and the fact that one party
intends to purchase those items from another party.[..]"

HTTP is designed to separate the concern of "information exchange"
(e.g. PurchaseOrder document payload) and "intent exchange" (e.g. POST
message to a specific URI), so that both concerns may evolve
independently, encourage the document reuse. While many
doc/literal-style message schemas (e.g. a PurchaseOrderRequest
message) do not.


[1] http://www.oasis-open.org/committees/tc_home.php?wg_abbrev=soa-rm

--
Teo Hui Ming

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7215<br>
Sender:Bill Humphries &lt;whump@...&gt;<br>
Post Date/Time:2006-12-10 02:13:42<br>
Subject:Re: [rest-discuss] Pirate code?<br>
Message:<br><br>
<pre>
On Dec 9, 2006, at 5:58 PM, Andrzej Jan Taramina wrote:

&gt; REST = FSM
&gt;
&gt; SOAP = DaVinci Code.

So JSON would be the Unitarian Jihad? :)

-- whump

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7216<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-12-11 20:05:48<br>
Subject:Re: [rest-discuss] Has anybody implemented a RESTful C2C order process?<br>
Message:<br><br>
<pre>On 12/11/06, Yves Raimond &lt;yves.raimond@...&gt; wrote:
&gt; It seems great! Do you have any pointers (links, code, publications,
&gt; ...) for this?

All the information that's available publicly, AFAIK, is here (which
doesn't discuss discovery);

http://www.nanometrics.ca/index.php?option=com_content&amp;task=view&amp;id=123&amp;Itemid=140

I don't know if any of their customers who use that software have
published anymore information though.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7217<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-12-12 07:02:36<br>
Subject:RE: [rest-discuss] MindTouch Dream<br>
Message:<br><br>
<pre>&gt;&gt; Has anyone looked at Dream yet to see how RESTful it actually is?

Below is their hypermedia file.  It shows verb-based methods for services
and multiple GETs to the same resource for different methods.  Sounds like
POX to me.

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/


&lt;?xml version="1.0"?&gt;
&lt;blueprint&gt;
	&lt;assembly&gt;dream.tutorial.8ball, Version=1.0.0.0, Culture=neutral,
PublicKeyToken=null&lt;/assembly&gt;
	&lt;type&gt;MindTouch.Dream.Tutorial.EightBallService&lt;/type&gt;
	&lt;name&gt;Dream Tutorial 8-Ball&lt;/name&gt;
	&lt;copyright&gt;Copyright (c) MindTouch, Inc. 2006&lt;/copyright&gt;
	&lt;info&gt;http://doc.opengarden.org/Dream_SDK/Tutorials/8-Ball&lt;/info&gt;
	&lt;feature&gt;
		&lt;path&gt;answer&lt;/path&gt;
		&lt;signature&gt;/&lt;/signature&gt;
		&lt;verb&gt;GET&lt;/verb&gt;
		&lt;description&gt;Returns a random 8-ball message&lt;/description&gt;
	
&lt;info&gt;http://doc.opengarden.org/Dream_SDK/Tutorials/8-Ball&lt;/info&gt;
		&lt;method&gt;GetAnswer&lt;/method&gt;
	&lt;/feature&gt;
	&lt;feature&gt;
		&lt;path&gt;@inspect&lt;/path&gt;
		&lt;signature&gt;/&lt;/signature&gt;
		&lt;verb&gt;GET&lt;/verb&gt;
		&lt;description&gt;Retrieve service description&lt;/description&gt;
		&lt;info&gt;http://www.mindtouch.com&lt;/info&gt;
		&lt;method&gt;GetServiceInfo&lt;/method&gt;
	&lt;/feature&gt;
	&lt;feature&gt;
		&lt;path/&gt;
		&lt;signature&gt;/&lt;/signature&gt;
		&lt;verb&gt;DELETE&lt;/verb&gt;
		&lt;description&gt;Stop service&lt;/description&gt;
		&lt;info&gt;http://www.mindtouch.com&lt;/info&gt;
		&lt;method&gt;DeleteService&lt;/method&gt;
	&lt;/feature&gt;
	&lt;feature&gt;
		&lt;path&gt;@config&lt;/path&gt;
		&lt;signature&gt;/&lt;/signature&gt;
		&lt;verb&gt;GET&lt;/verb&gt;
		&lt;description&gt;Retrieve service configuration&lt;/description&gt;
		&lt;info&gt;http://www.mindtouch.com&lt;/info&gt;
		&lt;method&gt;GetConfiguration&lt;/method&gt;
	&lt;/feature&gt;
&lt;/blueprint&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7218<br>
Sender:"Stelios Eliakis" &lt;eliakis@...&gt;<br>
Post Date/Time:2006-12-12 17:06:05<br>
Subject:wadl<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7219<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-12-12 20:07:01<br>
Subject:Re: [rest-discuss] wadl<br>
Message:<br><br>
<pre>As long as you don't generate code from it, you should be all set;
just treat it like you would an HTML form.

Mark.

On 12/12/06, Stelios Eliakis &lt;eliakis@...&gt; wrote:
&gt;
&gt;    I have to mention Web application description language (WADL)
&gt; https://wadl.dev.java.net/
&gt;
&gt; I do not know if you have seen it but I think that it is a restFull approach of describing resources.
&gt; It helps me a lot!
&gt;
&gt; --
&gt; Stelios Eliakis  

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7220<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-12 20:08:08<br>
Subject:Re: [rest-discuss] wadl<br>
Message:<br><br>
<pre>"Stelios Eliakis" &lt;eliakis@...&gt; writes:

&gt; I have to mention Web application description language (WADL)
&gt; https://wadl.dev.java.net/
&gt;
&gt; I do not know if you have seen it but I think that it is a restFull approach
&gt; of describing resources.
&gt; It helps me a lot!

I've been WADLing as well.

WADL is quite good but I have one specific HTTP/REST
complaint. Writing a WADL file means that you're duplicating the
discovery process provided by HTTP itself.

I would like to develop more tools based on the HTTP discovery process
and the patterns that are being developed around REST. It would rely
on a sort of duck-REST (if it looks like REST - it must be) approach
but it would be interesting.

The sorts of tools that I am thinking about are code generation tools
such as there are in the WS-* world. Point a tool at an endpoint press
a button and out comes skeleton Python, Perl, Java or C#.

Of course... that's only the client side and one of the nice things
about WSDL (did I just say "nice"? must be slipping) is that you can
define a WSDL somewhere (by transformation from somewhere else say)
and then generate service implementation code from that.

WADL could do that and I'm also looking at that.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7221<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-12-13 08:59:10<br>
Subject:Programming Model for REST Clients<br>
Message:<br><br>
<pre>Hi,

the following is only half-cooked, but I'd like to share it anyhow;  
maybe it inspires somebody.

One of the strengths of RESTful systems is that the server can change  
the state machine of an application at runtime because the client  
does not rely on its own assumption about the sequence of  
interactions but is guided through the application by the server.

This works perfectly well for humans interacting with an application  
because we can dynamically change our behaviour depending on the how  
the application proceeds. For non-human clients, I see a mismatch  
between the "hypermedia as engine of application state" model and the  
traditional (sequential) way clients would actually carry out their  
tasks.

IOW, if clients are implemented as a sequence of HTTP requests, the  
whole idea of the servers being able to change the state machine at  
runtime breaks.

I used to think that a possible solution could be found in the area  
of event based programming models (such as those models that GUI  
libraries use) but there has allways been a problem with the client  
being an actor, not just a passive part of the interaction being  
called upon.

Now, what about this:

At the most granular level, a software client's purpose is to carry  
out some interaction to reach an overall goal ("buy a book at an  
online store").  To achive this goal, a number of sub-goals are known  
("process/browse offers" , "accept an offer (== pich a book)", "make  
payment") have to be completed. These subgoals depend on each other  
in  a certain way. These dependencies are what is inherent to the  
business process semantics; while the sequence of operations can be  
romed from the design time decisions (which REST successfully did)  
the dependencies cannot - they need to be built into the client logic.

In addition, sub-goals can be given a priority (browsing for other  
offers is independent of performing a purchase, but there definitely  
is a priority that determines what to do if two subgoals are possible  
to follow at a given point).

This I think is a rather accurate picture of how humans actually  
proceed through a Web application.

I think, the aboive can be formalized sufficiently to form the basis  
for a more suitable programming model for REST clients.

Thoughts greatly apprechiated....

Jan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7222<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-13 09:21:01<br>
Subject:Re: [rest-discuss] Programming Model for REST Clients<br>
Message:<br><br>
<pre>Jan Algermissen &lt;algermissen1971@...&gt; writes:

&gt; This works perfectly well for humans interacting with an application  
&gt; because we can dynamically change our behaviour depending on the how  
&gt; the application proceeds. For non-human clients, I see a mismatch  
&gt; between the "hypermedia as engine of application state" model and the  
&gt; traditional (sequential) way clients would actually carry out their  
&gt; tasks.
&gt;
&gt; IOW, if clients are implemented as a sequence of HTTP requests, the  
&gt; whole idea of the servers being able to change the state machine at  
&gt; runtime breaks.

Yes. I've always thought this was just analagous to dynamic language
contracts. They are what the program says they are in the
documentation... if the server side changes them then the contract is
broken and the code has to be remade.

Let's be honest, this problem isn't just about REST, it's the old
versioning of APIs problem and is the same in just about everything
with a disconnect between client and server. With typed languages
(including WS-*) there's a type checking stage that can tell you the
contract changed before code runs. But no more than that. It's still
broken.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7223<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-12-13 09:54:04<br>
Subject:Re: [rest-discuss] Programming Model for REST Clients<br>
Message:<br><br>
<pre>[does this new Yahoo-groups HTML format screw up the mail clients of  
other's too or is it just me? I could have sworn I changed the  
settings to 'normal' but I keep receiving these anoyingly enhanced  
versions of emails]


Here is a follow up on the general client model:

LOOP:
- receive representation
- process and keep all state traversal options (links)
- discard those not understood
- discard those that are irrelevant to the current overall goal
- use the state/state transition dependency table to pick the most  
relevant transition
   - maybe spawn thread to follow lower priority but independent  
transitions in the
     background
- if no transiotion is suitable, abort proceeding through application  
(there is
   obviously a mismatch in the understanding of the process between  
client and
   server)
- do the state transition and repeat LOOP


Jan




On 13.12.2006, at 09:59, Jan Algermissen wrote:

&gt; Hi,
&gt;
&gt; the following is only half-cooked,

&gt; but I'd like to share it anyhow;
&gt; maybe it inspires somebody.
&gt;
&gt; One of the strengths of RESTful systems is that the server can change
&gt; the state machine of an application at runtime because the client
&gt; does not rely on its own assumption about the sequence of
&gt; interactions but is guided through the application by the server.
&gt;
&gt; This works perfectly well for humans interacting with an application
&gt; because we can dynamically change our behaviour depending on the how
&gt; the application proceeds. For non-human clients, I see a mismatch
&gt; between the "hypermedia as engine of application state" model and the
&gt; traditional (sequential) way clients would actually carry out their
&gt; tasks.
&gt;
&gt; IOW, if clients are implemented as a sequence of HTTP requests, the
&gt; whole idea of the servers being able to change the state machine at
&gt; runtime breaks.
&gt;
&gt; I used to think that a possible solution could be found in the area
&gt; of event based programming models (such as those models that GUI
&gt; libraries use) but there has allways been a problem with the client
&gt; being an actor, not just a passive part of the interaction being
&gt; called upon.
&gt;
&gt; Now, what about this:
&gt;
&gt; At the most granular level, a software client's purpose is to carry
&gt; out some interaction to reach an overall goal ("buy a book at an
&gt; online store"). To achive this goal, a number of sub-goals are known
&gt; ("process/browse offers" , "accept an offer (== pich a book)", "make
&gt; payment") have to be completed. These subgoals depend on each other
&gt; in a certain way. These dependencies are what is inherent to the
&gt; business process semantics; while the sequence of operations can be
&gt; romed from the design time decisions (which REST successfully did)
&gt; the dependencies cannot - they need to be built into the client logic.
&gt;
&gt; In addition, sub-goals can be given a priority (browsing for other
&gt; offers is independent of performing a purchase, but there definitely
&gt; is a priority that determines what to do if two subgoals are possible
&gt; to follow at a given point).
&gt;
&gt; This I think is a rather accurate picture of how humans actually
&gt; proceed through a Web application.
&gt;
&gt; I think, the aboive can be formalized sufficiently to form the basis
&gt; for a more suitable programming model for REST clients.
&gt;
&gt; Thoughts greatly apprechiated....
&gt;
&gt; Jan
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7224<br>
Sender:Jerome Louvel &lt;contact@...&gt;<br>
Post Date/Time:2006-12-13 09:35:03<br>
Subject:Re: wadl<br>
Message:<br><br>
<pre>
Nic James Ferrier :
&gt; 
&gt; WADL is quite good but I have one specific HTTP/REST
&gt; complaint. Writing a WADL file means that you're duplicating the
&gt; discovery process provided by HTTP itself.

What about returning/generating a WADL document upon an OPTIONS request? 
That would help combine the HTTP discovery process and the WADL 
expressiveness.

&gt; I would like to develop more tools based on the HTTP discovery process
&gt; and the patterns that are being developed around REST. It would rely
&gt; on a sort of duck-REST (if it looks like REST - it must be) approach
&gt; but it would be interesting.

Could you elaborate a bit more on these ideas?

&gt; The sorts of tools that I am thinking about are code generation tools
&gt; such as there are in the WS-* world. Point a tool at an endpoint press
&gt; a button and out comes skeleton Python, Perl, Java or C#.

The WADL project already contains a wadl2java tools to generate client 
stubs: https://wadl.dev.java.net/wadl2java.html

&gt; Of course... that's only the client side and one of the nice things
&gt; about WSDL (did I just say "nice"? must be slipping) is that you can
&gt; define a WSDL somewhere (by transformation from somewhere else say)
&gt; and then generate service implementation code from that.

For the Restlet project, we also plan to add similar tools to generate 
both client stubs and server skeletons:
http://restlet.tigris.org/issues/show_bug.cgi?id=59

&gt; WADL could do that and I'm also looking at that.

Absolutely, it seems like a useful path to explore!

-- 
Jerome Louvel
http://www.restlet.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7225<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-13 10:56:43<br>
Subject:Re: [rest-discuss] Re: wadl<br>
Message:<br><br>
<pre>Jerome Louvel &lt;contact@...&gt; writes:

&gt; What about returning/generating a WADL document upon an OPTIONS request? 
&gt; That would help combine the HTTP discovery process and the WADL 
&gt; expressiveness.

It could. But unless you can generate the WADL from the HTTP you would
still be saying things twice.

I guess if the WADL could generate server stubs (including OPTIONS
returning itself) that would be a good approach.


&gt;&gt; I would like to develop more tools based on the HTTP discovery process
&gt;&gt; and the patterns that are being developed around REST. It would rely
&gt;&gt; on a sort of duck-REST (if it looks like REST - it must be) approach
&gt;&gt; but it would be interesting.
&gt;
&gt; Could you elaborate a bit more on these ideas?

Sure.

If RESTfull patterns are used then the whole of a service can be
exposed RESTfully.

We know that GET can be exposed. POST is a bit more tricky and
requires the pattern:

  POST to a resource
  =&gt; get a new skeleton resource back

  PUT updated state of resource back to new resource
  =&gt; get your updated resource back

In effect it's like a 2 stage commit.

If this pattern is used then a discovery agent can walk through a
RESTfull service learning about the interface and that knowledge can
then be used to derive a client (or another server).


&gt; The WADL project already contains a wadl2java tools to generate client 
&gt; stubs: https://wadl.dev.java.net/wadl2java.html

Yep. But I'm talking about generating from the interface itself.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7226<br>
Sender:"Jerome Louvel" &lt;contact@...&gt;<br>
Post Date/Time:2006-12-13 12:55:50<br>
Subject:RE: [rest-discuss] Re: wadl<br>
Message:<br><br>
<pre>
Nic Ferrier wrote:
&gt; &gt; What about returning/generating a WADL document upon an 
&gt; &gt; OPTIONS request? That would help combine the HTTP discovery 
&gt; &gt; process and the WADL expressiveness.
&gt; 
&gt; It could. But unless you can generate the WADL from the HTTP you would
&gt; still be saying things twice.
&gt; 
&gt; I guess if the WADL could generate server stubs (including OPTIONS
&gt; returning itself) that would be a good approach.

Exactly, this is the idea, model the application once using WADL, then
generate the server stubs while automatically serving the original WADL (or
parts of it) via the OPTIONS method.

&gt; If RESTfull patterns are used then the whole of a service can be
&gt; exposed RESTfully.
&gt; 
&gt; We know that GET can be exposed. POST is a bit more tricky and
&gt; requires the pattern:
&gt; 
&gt;   POST to a resource
&gt;   =&gt; get a new skeleton resource back
&gt; 
&gt;   PUT updated state of resource back to new resource
&gt;   =&gt; get your updated resource back
&gt; 
&gt; In effect it's like a 2 stage commit.

If you are certain of the pattern this could work but most of the time this
won't be guaranteed at all. Also there is a lot of extra info carried by
WADL (like URI patterns) that simply can't be introspected from HTTP.

&gt; If this pattern is used then a discovery agent can walk through a
&gt; RESTfull service learning about the interface and that knowledge can
&gt; then be used to derive a client (or another server).
&gt; 
&gt; 
&gt; &gt; The WADL project already contains a wadl2java tools to 
&gt; generate client 
&gt; &gt; stubs: https://wadl.dev.java.net/wadl2java.html
&gt; 
&gt; Yep. But I'm talking about generating from the interface itself.

IMHO you can probably learn a little more than what web spiders already do,
by assuming some RESTful patterns and fully leveraging HTTP (like reading
the Allow headers), but I think that you will never be able to
fully/accurately describe the application. 

Most of the time (ie. browsable applications) you don't need this
description in the first place, but what about Web Services? Every REST API
out there has some kind of HTML description document listing how to generate
the URIs, the allowed methods, etc. It seems so much easier to generate
those docs from an authoritative WADL document.

Best regards,
Jerome Louvel
http://www.restlet.org



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7227<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2006-12-13 13:16:27<br>
Subject:Re: [rest-discuss] Programming Model for REST Clients<br>
Message:<br><br>
<pre>On 12/13/06, Jan Algermissen &lt;algermissen1971@...&gt; wrote:
&gt; Here is a follow up on the general client model:
&gt;
&gt; LOOP:
&gt; - receive representation
&gt; - process and keep all state traversal options (links)
&gt; - discard those not understood
&gt; - discard those that are irrelevant to the current overall goal
&gt; - use the state/state transition dependency table to pick the most relevant transition
&gt;   - maybe spawn thread to follow lower priority but independent transitions in the
&gt;     background
&gt; - if no transiotion is suitable, abort proceeding through application (there is
&gt;   obviously a mismatch in the understanding of the process between client and
&gt;   server)
&gt; - do the state transition and repeat LOOP

That's promising, but what if the action is interactive, as in a
purchase process with some problems?  E.g.
Buyer posts offer to buy with link for seller to post acceptance or
rejection, receives acknowledgement.
Seller posts partial acceptance (one item available, another not) with
link for buyer to advise on whether to continue or not.
Etc.

Both agents are both clients and servers.  As servers, don't they want
to be stateless?
So maybe it's not a loop but a step at a time.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7228<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-12-13 13:39:42<br>
Subject:Re: [rest-discuss] Programming Model for REST Clients<br>
Message:<br><br>
<pre>On Wednesday, December 13, 2006, at 02:16PM, "Bob Haugen" &lt;bob.haugen@...&gt; wrote:

&gt;Both agents are both clients and servers.  

Hmm...I think that the Web application is always acting as the coordinator. If the seller is not the Web-app but an actor (independent process) then the Web app is responsible for coordinating both (as eBay does for sellers and bidders or Amazon with non-Amazon sellers and buyers).

But as I said, this needs to be cooked.


Jan

As servers, don't they want
&gt;to be stateless?
&gt;So maybe it's not a loop but a step at a time.
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7229<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2006-12-13 13:47:41<br>
Subject:Re: [rest-discuss] Programming Model for REST Clients<br>
Message:<br><br>
<pre>On 12/13/06, Jan Algermissen &lt;algermissen1971@...&gt; wrote:
&gt; On Wednesday, December 13, 2006, at 02:16PM, "Bob Haugen" &lt;bob.haugen@...&gt; wrote:
&gt;
&gt; &gt;Both agents are both clients and servers.
&gt;
&gt; Hmm...I think that the Web application is always acting as the coordinator. If the seller is not the Web-app but an actor (independent process) then the Web app is responsible for coordinating both (as eBay does for sellers and bidders or Amazon with non-Amazon sellers and buyers).
&gt;

Does that idea require a 3rd party for automated buyers and automated
sellers to do business?

(I agree that a 3rd party is almost a necessity to coordinate
multi-party interactions like auctions, but I'm still thinking 2-party
interaction.)

I think that's too much to require.  I think some 2-phase commit
transaction protocols figured out how to pass the coordinator role
back and forth between agents. (Will search for reference when I get
time.)  I suspect REST can do likewise.

&gt; But as I said, this needs to be cooked.

For sure.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7230<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-12-13 14:04:44<br>
Subject:Re: [rest-discuss] Programming Model for REST Clients<br>
Message:<br><br>
<pre>
On Wednesday, December 13, 2006, at 02:51PM, "Bob Haugen" &lt;bob.haugen@...&gt; wrote:
&gt;On 12/13/06, Jan Algermissen &lt;algermissen1971@...&gt; wrote:
&gt;&gt; On Wednesday, December 13, 2006, at 02:16PM, "Bob Haugen" &lt;bob.haugen@...&gt; wrote:
&gt;&gt;
&gt;&gt; &gt;Both agents are both clients and servers.
&gt;&gt;
&gt;&gt; Hmm...I think that the Web application is always acting as the coordinator. If the seller is not the Web-app but an actor (independent process) then the Web app is responsible for coordinating both (as eBay does for sellers and bidders or Amazon with non-Amazon sellers and buyers).
&gt;&gt;
&gt;
&gt;Does that idea require a 3rd party for automated buyers and automated
&gt;sellers to do business?
&gt;
&gt;(I agree that a 3rd party is almost a necessity to coordinate
&gt;multi-party interactions like auctions, but I'm still thinking 2-party
&gt;interaction.)
&gt;
&gt;I think that's too much to require.  I think some 2-phase commit
&gt;transaction protocols figured out how to pass the coordinator role
&gt;back and forth between agents. 

That is a very good point. Passing the coordinator role would mean both peers have to be clients and servers running the same web app (each one running the portion of the app that corresponds to its role). The state that is transferred back and force not only puts the client component(s) in a certain state, it is also used to align the two running web apps. That's mind blowing - need to chew on that one. Seems to bear interesting possibilities regarding process alignment and from there on to distributed transactions.

"State alignment transactions" come to mind.

Wonder at what point this is breaking REST....?


Thanks,

Jan

(Will search for reference when I get
&gt;time.)  I suspect REST can do likewise.
&gt;
&gt;&gt; But as I said, this needs to be cooked.
&gt;
&gt;For sure.
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7231<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-13 13:31:27<br>
Subject:Re: [rest-discuss] Re: wadl<br>
Message:<br><br>
<pre>"Jerome Louvel" &lt;contact@...&gt; writes:

&gt; IMHO you can probably learn a little more than what web spiders already do,
&gt; by assuming some RESTful patterns and fully leveraging HTTP (like reading
&gt; the Allow headers), but I think that you will never be able to
&gt; fully/accurately describe the application. 

I think you would... in a pure-REST system, presuming the constraint
of the 2 stage commit.


&gt; Most of the time (ie. browsable applications) you don't need this
&gt; description in the first place, but what about Web Services? Every REST API
&gt; out there has some kind of HTML description document listing how to generate
&gt; the URIs, the allowed methods, etc.

As you know... allowed methods is supposed to be exposed by an HTTP
resource.


How to generate URIs? Well that's defined in a POST right? And the
POST should be declared in an HTML FORM which you've read with a GET
on the parent resource. It doesn't have to be HTML... though you could
possibly use content-negotiation to force an HTML representation. A
FORM is also a microformat, so I'd expect to see one in XML sometimes.

The input to a POST should either be a bunch of parameters (defined in
the FORM with INPUTs) or some mime type that makes it obvious what to
send.

I agree the latter is a bit of fudge. But some of the time it would be
obvious; imagine:

   &lt;FORM method="POST" action="/somerestws/" enctype="image/jpg"/&gt;

Other times it's not so obvious:

   &lt;FORM method="POST" action="/somerestws/" enctype="application/xml"/&gt;

But then maybe that should use the 2 stage commit pattern as well. Or
just not be done.

Note also that once the URI relationships have been understood an
application could simply just PUT the new URI.


So what I'm saying is that an implementation of REST on top of HTTP
and with the patterns that have been shown on this list (like 2 stage
commit) would be constrained enough that a client application could
understand everything it needed.

Clearly, an implementation not constrained enough wouldn't offer
that.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7232<br>
Sender:"Jeffrey Winter" &lt;JeffreyWinter@...&gt;<br>
Post Date/Time:2006-12-13 14:28:13<br>
Subject:RE: [rest-discuss] Re: wadl<br>
Message:<br><br>
<pre> 
&gt;&gt; WADL is quite good but I have one specific HTTP/REST
&gt;&gt; complaint. Writing a WADL file means that you're duplicating the
&gt;&gt; discovery process provided by HTTP itself.
&gt;
&gt; What about returning/generating a WADL document upon an OPTIONS
request? 
&gt; That would help combine the HTTP discovery process and the WADL 
&gt; expressiveness.

The notion of using OPTIONS to return some form of a metadata document
came up here 3 or 4 years ago.  

Ultimately I don't think it makes sense because any such document
should be viewed as a standalone resource and therefor deserves 
to have its own URI.

See: http://www.xfront.com/dist-reg/distributed-registry.html

The header described there could be returned only on the OPTIONS
method so that it doesn't need to be included with each response.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7233<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2006-12-13 14:32:51<br>
Subject:Re: [rest-discuss] Programming Model for REST Clients<br>
Message:<br><br>
<pre>On 12/13/06, Jan Algermissen &lt;algermissen1971@...&gt; wrote:
&gt; Passing the coordinator role would mean both peers have to be clients and servers running the same web app (each one running the portion of the app that corresponds to its role). The state that is transferred back and force not only puts the client component(s) in a certain state, it is also used to align the two running web apps. That's mind blowing - need to chew on that one. Seems to bear interesting possibilities regarding process alignment and from there on to distributed transactions.
&gt;
&gt; "State alignment transactions" come to mind.
&gt;
&gt; Wonder at what point this is breaking REST....?

Peter Furniss, one of the authors of
http://www.oasis-open.org/committees/tc_home.php?wg_abbrev=business-transaction
,
once did a head design for a RESTified distributed transaction protocol.

He thought it was possible, altho at that stage, had no customers who wanted it.

It was similar to some of the head designs for RESTful transactions
that have been floated on this list.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7234<br>
Sender:Jerome Louvel &lt;contact@...&gt;<br>
Post Date/Time:2006-12-13 15:16:20<br>
Subject:Re: wadl<br>
Message:<br><br>
<pre>Hi Jeffrey,

&gt; The notion of using OPTIONS to return some form of a metadata document
&gt; came up here 3 or 4 years ago.
&gt; 
&gt; Ultimately I don't think it makes sense because any such document
&gt; should be viewed as a standalone resource and therefor deserves
&gt; to have its own URI.

Maybe we can have both ways to expose such metadata at the same time if 
necessary?

I don't necessarily think about exposing a single/extensive WADL 
document for a complete URI space. Each URI/resource could also expose a 
chunk of related WADL metadata. This would work well with OPTIONS which 
can specify an URI.

Of course, this approach requires some support from the server/framework 
used in order to transparently expose these metadata, otherwise it can 
become quite cumbersome.

&gt; See: http://www.xfront.com/dist-reg/distributed-registry.html 
&gt; &lt;http://www.xfront.com/dist-reg/distributed-registry.html&gt;
&gt; 
&gt; The header described there could be returned only on the OPTIONS
&gt; method so that it doesn't need to be included with each response.

Interesting, I will have a closer look at this previous effort. Thanks 
for the pointer.

-- 
Jerome Louvel
http://www.restlet.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7235<br>
Sender:"Jerome Louvel" &lt;contact@...&gt;<br>
Post Date/Time:2006-12-13 16:12:36<br>
Subject:RE: [rest-discuss] Re: wadl<br>
Message:<br><br>
<pre>
Nic James Ferrier wrote:
[...]
&gt; But 2616 doesn't say anything about not sending it at any other time.

Sure, but you won't be able to assume that any RESTful application follows
this additional constraint. OTOH, the spec does say that for OPTIONS: "A 200
response SHOULD include any header fields that indicate optional features
implemented by the server and applicable to that resource (e.g., Allow)".
 
&gt; &gt; I was also thinking of URIs with dynamics segments, URIs 
&gt; with query strings
&gt; &gt; not encoded like HTML Forms 
&gt; (application/x-www-form-urlencoded), URIs using
&gt; &gt; matrix-style encoding for parameters, etc.
&gt; 
&gt; You can expose those through links. But URIs should be opaque yada
&gt; yada.

I'm not buying this opaque URI argument in the context of introspecting an
application. It's like saying that you can't describe how an URI is
generated by an HTML Form (GET) by encoding the parameters. What about
listing of the potential queries of an HTML Form as links? ;-)

&gt; &gt; Personally, I prefer to rely on WADL rather than HTML Forms 
&gt; to provide such
&gt; &gt; metadata. It's easier to process, allows any HTTP method 
&gt; (HTML Form are
&gt; &gt; currently limited) and supports more URI formatting styles.
&gt; 
&gt; HTML FORM as a microformat is not limited in what it can describe.

Sure, that's a good approach, maybe WADL could also be embedded as a
microformat as well?

Best regards,
Jerome Louvel
http://www.restlet.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7236<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-13 15:56:33<br>
Subject:Re: [rest-discuss] Re: wadl<br>
Message:<br><br>
<pre>"Jerome Louvel" &lt;contact@...&gt; writes:

&gt; AFAIK, the Allow header must only be exposed with a 405 status and may be
&gt; exposed after a PUT. For normal introspection purpose, it seems recommended
&gt; to use OPTIONS to get Allow header with changing the application
&gt; state. 

Allow MUST be exposed with a 405.

A PUT request MAY send an ALLOW. If it is then the server should
respond with ALLOW saying what method it has agreed to allow.

But 2616 doesn't say anything about not sending it at any other time.


&gt; I was also thinking of URIs with dynamics segments, URIs with query strings
&gt; not encoded like HTML Forms (application/x-www-form-urlencoded), URIs using
&gt; matrix-style encoding for parameters, etc.

You can expose those through links. But URIs should be opaque yada
yada.


&gt; Personally, I prefer to rely on WADL rather than HTML Forms to provide such
&gt; metadata. It's easier to process, allows any HTTP method (HTML Form are
&gt; currently limited) and supports more URI formatting styles.

HTML FORM as a microformat is not limited in what it can describe.

Which is what a ws cares about.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7237<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-13 16:56:58<br>
Subject:Re: [rest-discuss] Re: wadl<br>
Message:<br><br>
<pre>"Jerome Louvel" &lt;contact@...&gt; writes:

&gt; Sure, that's a good approach, maybe WADL could also be embedded as a
&gt; microformat as well?

The problem with WADL is that it describes the WHOLE webapp. But
because resources can be part of many different webservices they have
to carry their own meta information and be implemented in a RESTfull
manner (ie: with 2 stage commit on POST). Given that, why have WADL?


This is an interesting point. I considered what I wrote above and
thought "why not just have multiple WADLs?"

But the trouble is then you're constraining people to think about the
whole contiguous webapp. Not just small pieces. 

REST on HTTP (without WADL) describes only each resource and the
connections between immediate resources.

WADL describes whole webservices.


I have to reiterate. I don't believe WADL to be evil. I just think it
should be possible to write something that just uses what's in HTTP
(and it has to be there anyway).

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7238<br>
Sender:"Jerome Louvel" &lt;contact@...&gt;<br>
Post Date/Time:2006-12-13 15:31:03<br>
Subject:RE: [rest-discuss] Re: wadl<br>
Message:<br><br>
<pre>
Nic James Ferrier wrote:

&gt; As you know... allowed methods is supposed to be exposed by an HTTP
&gt; resource.

AFAIK, the Allow header must only be exposed with a 405 status and may be
exposed after a PUT. For normal introspection purpose, it seems recommended
to use OPTIONS to get Allow header with changing the application state. 

&gt; How to generate URIs? Well that's defined in a POST right? And the
&gt; POST should be declared in an HTML FORM which you've read with a GET
&gt; on the parent resource. It doesn't have to be HTML... though you could
&gt; possibly use content-negotiation to force an HTML representation. A
&gt; FORM is also a microformat, so I'd expect to see one in XML sometimes.

I was also thinking of URIs with dynamics segments, URIs with query strings
not encoded like HTML Forms (application/x-www-form-urlencoded), URIs using
matrix-style encoding for parameters, etc.
 
&gt; The input to a POST should either be a bunch of parameters (defined in
&gt; the FORM with INPUTs) or some mime type that makes it obvious what to
&gt; send.

Personally, I prefer to rely on WADL rather than HTML Forms to provide such
metadata. It's easier to process, allows any HTTP method (HTML Form are
currently limited) and supports more URI formatting styles.

[...]
 
Best regards,
Jerome Louvel
http://www.restlet.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7239<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2006-12-13 18:57:13<br>
Subject:Re: [rest-discuss] Re: wadl -&gt; HTML<br>
Message:<br><br>
<pre>Jerome &amp; Nic,

On Dec 13, 2006, at 8:12 AM, Jerome Louvel wrote:
&gt; &gt; HTML FORM as a microformat is not limited in what it can describe.
&gt;
&gt; Sure, that's a good approach, maybe WADL could also be embedded as a
&gt; microformat as well?

That's more-or-less what we've been working on via the microformats- 
rest process:

http://microformats.org/wiki/rest/description

The basic premise is that we need *conventions* constraining:
	a) how the service is architected
	b) how the HTML forms are annotated
	    (cf. http://microformats.org/wiki/rest/datatypes)

such that these "REST Service Description Conventions" would be  
sufficient for "some" level of autodiscovery, perhaps in combination  
with an Introspection document a la APP.

Of course, it is unlikely this would be as general-purpose as WADL,  
but the hypothesis is that it would be "good enough" for some  
interesting class of RESTful protocols.

Unfortunately, all we have right now is "hope + examples".  If  
anybody would like to take a stab at formalizing that into a concrete  
proposal, we'd love to have you join in at:

		http://microformats.org/discuss/mail/microformats-rest/

Cheers,
-- Ernie P.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7240<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-13 20:45:36<br>
Subject:Re: [rest-discuss] Re: wadl -&gt; HTML<br>
Message:<br><br>
<pre>"Dr. Ernie Prabhakar" &lt;drernie@...&gt; writes:

&gt; The basic premise is that we need *conventions* constraining:
&gt; 	a) how the service is architected
&gt; 	b) how the HTML forms are annotated
&gt; 	    (cf. http://microformats.org/wiki/rest/datatypes)

You see I think we already have a lot of this given HTTP's existing
facilities and the POST then PUT pattern of resource creation.

I have a few problems remaining:

1. to what extent can I "force" the use of the 2 stage commit for
resource creation?

2. could wadl be transformed to create a the skeleton of a service
like this?

3. is additional meta-information required to link things like FORM
parameters to parts of the resulting representation? WADL does do this
well.


&gt; Unfortunately, all we have right now is "hope + examples".

Me too.

I did have a gig that was letting me work some of this stuff out but I
just got de-resourced. Most unfortunate  /8-&gt;

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7241<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-12-13 23:15:22<br>
Subject:Question about Mailing List Software<br>
Message:<br><br>
<pre>Question about the list management software:  Does anyone know if there is
there any way that the URL into the list archive for an email message could
be appended to that email message before it goes out?  I'm constantly
wanting to refer to an email across lists with a URL but that requires me to
spend 5 minutes each time trying to track down that URL! 

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7242<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2006-12-14 00:27:52<br>
Subject:Re: [rest-discuss] Re: wadl -&gt; HTML<br>
Message:<br><br>
<pre>Hi Nic,

On Dec 13, 2006, at 12:45 PM, Nic James Ferrier wrote:

&gt; "Dr. Ernie Prabhakar" &lt;drernie@...&gt; writes:
&gt;&gt; The basic premise is that we need *conventions* constraining:
&gt;&gt; 	a) how the service is architected
&gt;&gt; 	b) how the HTML forms are annotated
&gt;&gt; 	    (cf. http://microformats.org/wiki/rest/datatypes)
&gt;
&gt; You see I think we already have a lot of this given HTTP's existing
&gt; facilities and the POST then PUT pattern of resource creation.
&gt;
&gt; I have a few problems remaining:
&gt;
&gt; 1. to what extent can I "force" the use of the 2 stage commit for
&gt; resource creation?

I suspect we need something like Atom introspection.  While we can't  
"force" anything, we can at least point people to the "right" mechanism.

&gt; 2. could wadl be transformed to create a the skeleton of a service
&gt; like this?

Probably, but I suspect only a subset of WADL would be so mappable.

&gt; 3. is additional meta-information required to link things like FORM
&gt; parameters to parts of the resulting representation? WADL does do this
&gt; well.

Good question.  I've been assuming that class="datatype" would get us  
the basics, but I'm not sure if that's sufficient.

&gt; I did have a gig that was letting me work some of this stuff out but I
&gt; just got de-resourced. Most unfortunate  /8-&gt;

Bummer. Here's hoping you get un-de-resourced soon!

-enp



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7243<br>
Sender:"Andrzej Jan Taramina" &lt;andrzej@...&gt;<br>
Post Date/Time:2006-12-14 01:16:48<br>
Subject:URI design for resources with multiple identifiers...<br>
Message:<br><br>
<pre>Looking for some advice here.  I'm designing a URL scheme for resources in a 
REST based architecture.

However, these resources can have different identifiers.  They have a 
physical ID that is unique, a logical id which can identify bunch of versions 
of a resource, and other id's like name.

Typically, you see RESTian urls of the form:

	http://mydomain.com/resource/id

which works well for the physical id situation.

But what if I want to get the resource with alternate id's?  Let's use the 
logical id as an example.  Would this be reasonable:

	http://mydomain.com/resource/(LID)lid/version

where lid is the logical id and LID is just an identifier, and version is an 
optional version specifier (latest version returned if missing)?

Or is having two URL's identify the same resource a no-no, which would make 
sense to me?  In which case, that would prompt me to look towards a more 
query oriented structure such as

	http://mydomain.com/resource?idType=LID&amp;lid=mylid&amp;version=1.1

Just wondering what the consensus might be on this.

I'm leaning towards a single unique URL for each resource, based on id, with 
alternate references using the query syntax.




Andrzej Jan Taramina
Chaeron Corporation: Enterprise System Solutions
http://www.chaeron.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7244<br>
Sender:"Andrzej Jan Taramina" &lt;andrzej@...&gt;<br>
Post Date/Time:2006-12-14 01:21:17<br>
Subject:Versioning and URLs<br>
Message:<br><br>
<pre>Building on my prior post, has anyone worked through URL design and HTTP 
methods for situations where you are versioning resources?

Typically the versioning would be enforced on the back end, so that you can't 
update a resource, only create a new version.

It's not clear to me whether Put or Post would be the better choice, or 
whether to allow both and make them identical in the versioning scenario?

My thought is that this should be a Post, since a new URL will be created for 
the new versioned resource and that Put should not be allowed.

I'm thinking that the version information should be included in any returned 
representation of the resource.

Any thoughts from the group?

Thx!

Andrzej Jan Taramina
Chaeron Corporation: Enterprise System Solutions
http://www.chaeron.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7245<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2006-12-14 01:36:45<br>
Subject:Re: [rest-discuss] URI design for resources with multiple	identifiers...<br>
Message:<br><br>
<pre>On Wed, 2006-12-13 at 20:16 -0500, Andrzej Jan Taramina wrote:
&gt; However, these resources can have different identifiers. They have a 
&gt; physical ID that is unique, a logical id which can identify bunch of
&gt; versions of a resource, and other id's like name.
[deletia]
&gt; Or is having two URL's identify the same resource a no-no, which would
&gt; make sense to me? In which case, that would prompt me to look towards
&gt; a more query oriented structure such as

Multiple URIs can identify the same resource. A URI shouldn't identify
more than one resource, however.

There's no requirement anywhere that there be only one non-paramaterized
URI, and the rest have to use the query-string.  (There's no requirement
that there be *any* non-paramaterized URIs identifying a resource, in
fact.)


It ventures into the realm of general design, but why does your system
need more than one type of identifier, anyways?  That's a design smell,
to me.

-- 
...jsled
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7246<br>
Sender:"Andrzej Jan Taramina" &lt;andrzej@...&gt;<br>
Post Date/Time:2006-12-14 01:54:01<br>
Subject:Re: [rest-discuss] URI design for resources with multiple identifiers...<br>
Message:<br><br>
<pre>Josh:

&gt; Multiple URIs can identify the same resource. A URI shouldn't identify
&gt; more than one resource, however.
&gt; 
&gt; There's no requirement anywhere that there be only one non-paramaterized
&gt; URI, and the rest have to use the query-string.  (There's no requirement
&gt; that there be *any* non-paramaterized URIs identifying a resource, in
&gt; fact.)

That's good to know.

&gt; It ventures into the realm of general design, but why does your system
&gt; need more than one type of identifier, anyways?  That's a design smell,
&gt; to me.

In fact, there is only one unique physical id.  The other "id's" are more 
like query parameters that interact with the versioning requirement, so in 
reality, a Logical ID denotes a collection of versions of a specific 
resource, where each such "version" has a unique physical id.

MIght be an idea to use something like this for a specific resource:

	 a) http://mydomain.com/resource/12345

where 12345 is the physical (and unique) id, and have related collection URLs 
for versions such as:

	b) http://mydomain.com/resource/versions/314159
	c) http://mydomain.com/resource/versions/314159/1.2
	d) http://mydomain.com/resource/versions/314159/all

where 314159 is a logical id and 1.2 is a version.  If the version is 
missing, then you return the most current/latest, and if the version = "all" 
you return all versions.

In this scenario a specific resource could have two different urls, a) and c) 
pointing at the same resource.

That works well for GETs and seems quite clean.

But it still begs the question of what you do with respect to creating new 
versions.  Put or Post?  

Upon reflection, a Post to http://mydomain.com/resource/versions/314159 in my 
example above, could create a new version, and return both the version (1.3 
perhaps) and the alternate URL with the new physical id.

Some background for where this is coming from.....it has to do with design of 
a REST binding for the OASIS ebXML Registry/Repository specification.  
Objects in the reg/rep have a unique physical id, but also have a logical id 
and version info as well (if versioning is used/turned on).

Just trying to get my head around how to model the underlying resources given 
that we don't want to change the underlying Registry Information Model (RIM) 
that is prescribed by the current spec.



Andrzej Jan Taramina
Chaeron Corporation: Enterprise System Solutions
http://www.chaeron.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7247<br>
Sender:"Teo Hui Ming" &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2006-12-14 02:23:28<br>
Subject:Re: [rest-discuss] Programming Model for REST Clients<br>
Message:<br><br>
<pre>On 12/13/06, Bob Haugen &lt;bob.haugen@...&gt; wrote:
&gt; On 12/13/06, Jan Algermissen &lt;algermissen1971@...&gt; wrote:
&gt; &gt; Here is a follow up on the general client model:
&gt; &gt;
&gt; &gt; LOOP: [..]
&gt;
&gt; That's promising, but what if the action is interactive, as in a
&gt; purchase process with some problems? [..]
&gt;
&gt; So maybe it's not a loop but a step at a time.

Jan, as you mentioned hypermedia as engine of application state, a
hypermedia will contain links to other hypermedia. If a receiver
understand the received XHTML document, it should also understand the
purpose of each link (&lt;script&gt;,&lt;img&gt;) within the document and what it
can do next (e.g. to retrieve scripts, images).

If that's true, to traverse an application state, a receiver may just
need a set of media-type modules, and dispatch a received document to
the appropriate module each time separately. If the module understand
PurchaseOrder, it must know what it can do next, users may just
configure it on decision making.

I feel that it may be similar to how a web browser deal with different
media type, only the decision making in web browser is by human. What
do you think?

Cheers,
-- 
Teo Hui Ming

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7248<br>
Sender:"S. Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-12-14 06:25:18<br>
Subject:RE: [rest-discuss] Versioning and URLs<br>
Message:<br><br>
<pre>
If the resource is conceptually the 'latest version' (or at least, the
latest known to the client), then a PUT indicates a full replacement of
data, whereas a POST could be a partial update or delta and the server is to
compute the new state.
In both cases, if you are dealing with versions then it's a good idea to
ensure you are using ETags and conditional requests to detect, but not
necessarily deal with, the lost update problem. There was some ranting by
Yaron G a while ago about that attitude -
http://www.goland.org/optimisticconcurrency/

So to me it seems acceptable to use PUT to update a 'latest version'
resource that happens to be related to other resources that are previous
(and possibly future) versions of that underlying resource. I wouldn't allow
updates to resources that are the actual versions though - but that's just
me, as I don't want to figure out branching and merging strategies.

Something like
 PUT /resource
 request.content =&gt; /resource;v1 

 PUT /resource
 request.content =&gt; /resource;v2 

 POST /resource
 request.content + /resource;v2 =&gt; /resource-a;v3




&gt; -----Original Message-----
&gt; From: rest-discuss@yahoogroups.com 
&gt; [mailto:rest-discuss@yahoogroups.com] On Behalf Of Andrzej 
&gt; Jan Taramina
&gt; Sent: Wednesday, December 13, 2006 5:21 PM
&gt; To: rest-discuss@yahoogroups.com
&gt; Subject: [rest-discuss] Versioning and URLs
&gt; 
&gt; Building on my prior post, has anyone worked through URL 
&gt; design and HTTP methods for situations where you are 
&gt; versioning resources?
&gt; 
&gt; Typically the versioning would be enforced on the back end, 
&gt; so that you can't update a resource, only create a new version.
&gt; 
&gt; It's not clear to me whether Put or Post would be the better 
&gt; choice, or whether to allow both and make them identical in 
&gt; the versioning scenario?
&gt; 
&gt; My thought is that this should be a Post, since a new URL 
&gt; will be created for the new versioned resource and that Put 
&gt; should not be allowed.
&gt; 
&gt; I'm thinking that the version information should be included 
&gt; in any returned representation of the resource.
&gt; 
&gt; Any thoughts from the group?
&gt; 
&gt; Thx!
&gt; 
&gt; Andrzej Jan Taramina
&gt; Chaeron Corporation: Enterprise System Solutions 
&gt; http://www.chaeron.com
&gt; 
&gt; 
&gt; 
&gt;  
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7249<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-12-14 10:05:11<br>
Subject:Re: [rest-discuss] Versioning and URLs<br>
Message:<br><br>
<pre>

S. Mike Dierken wrote:

&gt; So to me it seems acceptable to use PUT to update a 'latest version'
&gt; resource that happens to be related to other resources that are previous
&gt; (and possibly future) versions of that underlying resource. I wouldn't allow
&gt; updates to resources that are the actual versions though - but that's just
&gt; me, as I don't want to figure out branching and merging strategies.
&gt; 
&gt; Something like
&gt; PUT /resource
&gt; request.content =&gt; /resource;v1
&gt; 
&gt; PUT /resource
&gt; request.content =&gt; /resource;v2
&gt; 
&gt; POST /resource
&gt; request.content + /resource;v2 =&gt; /resource-a;v3

Subversion over WebDav solves this today.

cheers
Bill


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7250<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-12-14 10:10:56<br>
Subject:Re: [rest-discuss] Programming Model for REST Clients<br>
Message:<br><br>
<pre>Jan Algermissen wrote:
&gt; 
&gt; 
&gt; 
&gt; On Wednesday, December 13, 2006, at 02:51PM, "Bob Haugen" 
&gt; &lt;bob.haugen@... &lt;mailto:bob.haugen%40gmail.com&gt;&gt; wrote:
&gt;
&gt;  &gt;I think that's too much to require. I think some 2-phase commit
&gt;  &gt;transaction protocols figured out how to pass the coordinator role
&gt;  &gt;back and forth between agents.
&gt; 
&gt; That is a very good point. Passing the coordinator role would mean both 
&gt; peers have to be clients and servers running the same web app (each one 
&gt; running the portion of the app that corresponds to its role). The state 
&gt; that is transferred back and force not only puts the client component(s) 
&gt; in a certain state, it is also used to align the two running web apps. 
&gt; That's mind blowing - need to chew on that one. Seems to bear 
&gt; interesting possibilities regarding process alignment and from there on 
&gt; to distributed transactions.

That's kind of what BizTalk servers do. I think most (all?) of the WS rm 
specs assume both parties are peers/full-duplex - in http terms, both 
sides have a client and a server. The challenge for deployed systems is 
closing a transaction between a client and a server.

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7251<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2006-12-14 11:59:28<br>
Subject:Re: [rest-discuss] Programming Model for REST Clients<br>
Message:<br><br>
<pre>On 12/14/06, Bill de hOra &lt;bill@...&gt; wrote:
&gt; Jan Algermissen wrote:
&gt; &gt;  Passing the coordinator role would mean both
&gt;  &gt; peers have to be clients and servers running the same web app (each one
&gt;  &gt; running the portion of the app that corresponds to its role). The state
&gt;  &gt; that is transferred back and force not only puts the client component(s)
&gt;  &gt; in a certain state, it is also used to align the two running web apps.
&gt;  &gt; That's mind blowing - need to chew on that one. Seems to bear
&gt;  &gt; interesting possibilities regarding process alignment and from there on
&gt;  &gt; to distributed transactions.
&gt;
&gt;  That's kind of what BizTalk servers do. I think most (all?) of the WS rm
&gt;  specs assume both parties are peers/full-duplex - in http terms, both
&gt;  sides have a client and a server. The challenge for deployed systems is
&gt;  closing a transaction between a client and a server.

WS-BPEL assumes both parties are peers but models each half of the
process separately and cannot close transactions.

WS-Choreography tries to model the whole process and started out
trying to use pi-calculus (stateless) but compromised in the end.  It
can close transactions.

WS-TX (can't remember latest acronym) is all about distributed transactions.

None of them will work on the open Web.  They all require a lot of
upfront configuration before any agents can communicate, and will
break under change.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7252<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2006-12-14 12:27:13<br>
Subject:Re: [rest-discuss] Versioning and URLs<br>
Message:<br><br>
<pre>Andrzej Jan Taramina wrote:
&gt; Building on my prior post, has anyone worked through URL design and HTTP 
&gt; methods for situations where you are versioning resources?
&gt; 
&gt; Typically the versioning would be enforced on the back end, so that you can't 
&gt; update a resource, only create a new version.

Of course you can update a resource in a versioned system.

Resources need neither any less than a cow in a field nor any less 
conceptual than the 30th of February 1987.

The latest version of your procurement procedure documentation is a 
resource.

Version 1.34 of your procurement procedure documentation is a resource.

You can't update version 1.34 of your procurement procedure 
documentation, but if that happens to be your latest version you 
certainly can update your latest version, it just won't be version 1.34 
any more.

This can me modelled easily in HTTP:

http://example.net/documents/procurement/procedure/version1.34 returns 
1.34 and refuses to be PUT to.

http://example.net/documents/procurement/procedure returns version 1.34, 
whether directly or by redirecting to the above URI. PUTting to it can 
create http://example.net/documents/procurement/procedure/version1.35 
and make that the document you GET from that URI.

Doesn't have to be done this way but:

http://example.net/documents/procurement/procedure/version1.34 behaves 
correctly for GET (returning the document) and PUT (refusing the operation).

http://example.net/documents/procurement/procedure behaves correctly for 
GET (returning the document) and PUT (updating the resource that the 
next GET will return a representation of).

http://example.net/documents/procurement/procedure/version1.35 behaves 
correctly for GET (returning the document once it's created, 404ing 
before) and PUT (refusing or 404ing as appropriate).

The relationship between 
http://example.net/documents/procurement/procedure, 
http://example.net/documents/procurement/procedure/version1.34 and
http://example.net/documents/procurement/procedure/version1.35 may be 
explicitly stated in metadata, a hypermedia document, out-of-band 
information, or not at all.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7253<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2006-12-15 08:58:20<br>
Subject:Re: [rest-discuss] Versioning and URLs<br>
Message:<br><br>
<pre>Andrzej Jan Taramina schrieb:
&gt; 
&gt; 
&gt; Building on my prior post, has anyone worked through URL design and HTTP
&gt; methods for situations where you are versioning resources?
&gt; 
&gt; Typically the versioning would be enforced on the back end, so that you 
&gt; can't
&gt; update a resource, only create a new version.
&gt; 
&gt; It's not clear to me whether Put or Post would be the better choice, or
&gt; whether to allow both and make them identical in the versioning scenario?
&gt; 
&gt; My thought is that this should be a Post, since a new URL will be 
&gt; created for
&gt; the new versioned resource and that Put should not be allowed.
&gt; 
&gt; I'm thinking that the version information should be included in any 
&gt; returned
&gt; representation of the resource.
&gt; 
&gt; Any thoughts from the group?
&gt; 
&gt; Thx!

How about &lt;http://www.webdav.org/specs/rfc3253.html&gt;?

Best regards, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7254<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-12-15 10:16:16<br>
Subject:Re: [rest-discuss] URI design for resources with multiple identifiers...<br>
Message:<br><br>
<pre>Andrzej,

I favor this approach:

Whenever you try to update (PUT) a resource that is versioned, the server mints a URI for the new version and redirects the PUT to that URI.


PUT /docs/67.3

307 Moved Temporarily HTTP/1.1
Location: /docs/67.4

[Client Re-PUTs to new URI]

That way the client sees what's going on without needing additional hypermedia to state the relationship (IMHO).

GET could then return a Link header indicating the source relationship between the two:


GET /docs/67.4 HTTP/1.1

200 Ok HTTP/1.1
Link: /docs/67.3; rel="Source"


(Can't find the RFC that defines or drafts the Source relationship, but IIRC there is one.)

HTH,

Jan

On Thursday, December 14, 2006, at 03:10AM, "Andrzej Jan Taramina" &lt;andrzej@...&gt; wrote:
&gt;Josh:
&gt;
&gt;&gt; Multiple URIs can identify the same resource. A URI shouldn't identify
&gt;&gt; more than one resource, however.
&gt;&gt; 
&gt;&gt; There's no requirement anywhere that there be only one non-paramaterized
&gt;&gt; URI, and the rest have to use the query-string.  (There's no requirement
&gt;&gt; that there be *any* non-paramaterized URIs identifying a resource, in
&gt;&gt; fact.)
&gt;
&gt;That's good to know.
&gt;
&gt;&gt; It ventures into the realm of general design, but why does your system
&gt;&gt; need more than one type of identifier, anyways?  That's a design smell,
&gt;&gt; to me.
&gt;
&gt;In fact, there is only one unique physical id.  The other "id's" are more 
&gt;like query parameters that interact with the versioning requirement, so in 
&gt;reality, a Logical ID denotes a collection of versions of a specific 
&gt;resource, where each such "version" has a unique physical id.
&gt;
&gt;MIght be an idea to use something like this for a specific resource:
&gt;
&gt;	 a) http://mydomain.com/resource/12345
&gt;
&gt;where 12345 is the physical (and unique) id, and have related collection URLs 
&gt;for versions such as:
&gt;
&gt;	b) http://mydomain.com/resource/versions/314159
&gt;	c) http://mydomain.com/resource/versions/314159/1.2
&gt;	d) http://mydomain.com/resource/versions/314159/all
&gt;
&gt;where 314159 is a logical id and 1.2 is a version.  If the version is 
&gt;missing, then you return the most current/latest, and if the version = "all" 
&gt;you return all versions.
&gt;
&gt;In this scenario a specific resource could have two different urls, a) and c) 
&gt;pointing at the same resource.
&gt;
&gt;That works well for GETs and seems quite clean.
&gt;
&gt;But it still begs the question of what you do with respect to creating new 
&gt;versions.  Put or Post?  
&gt;
&gt;Upon reflection, a Post to http://mydomain.com/resource/versions/314159 in my 
&gt;example above, could create a new version, and return both the version (1.3 
&gt;perhaps) and the alternate URL with the new physical id.
&gt;
&gt;Some background for where this is coming from.....it has to do with design of 
&gt;a REST binding for the OASIS ebXML Registry/Repository specification.  
&gt;Objects in the reg/rep have a unique physical id, but also have a logical id 
&gt;and version info as well (if versioning is used/turned on).
&gt;
&gt;Just trying to get my head around how to model the underlying resources given 
&gt;that we don't want to change the underlying Registry Information Model (RIM) 
&gt;that is prescribed by the current spec.
&gt;
&gt;
&gt;
&gt;Andrzej Jan Taramina
&gt;Chaeron Corporation: Enterprise System Solutions
&gt;http://www.chaeron.com
&gt;
&gt;
&gt;
&gt; 
&gt;Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7255<br>
Sender:Chris Burdess &lt;dog@...&gt;<br>
Post Date/Time:2006-12-15 11:23:42<br>
Subject:Re: [rest-discuss] URI design for resources with multiple identifiers...<br>
Message:<br><br>
<pre>Jan Algermissen wrote:
&gt; I favor this approach:
&gt; 
&gt; Whenever you try to update (PUT) a resource that is versioned, the server mints a URI for the new version and redirects the PUT to that URI.
&gt; 
&gt; 
&gt; PUT /docs/67.3
&gt; 
&gt; 307 Moved Temporarily HTTP/1.1
&gt; Location: /docs/67.4
&gt; 
&gt; [Client Re-PUTs to new URI]

RFC 2616 suggests an alternative approach which is less wasteful of
bandwidth:

Client: PUT /docs/67.3

Server: 201 Created HTTP/1.1
        Location: /docs/67.4

-- 
Chris Burdess

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7256<br>
Sender:"Andrzej Jan Taramina" &lt;andrzej@...&gt;<br>
Post Date/Time:2006-12-15 17:43:35<br>
Subject:Re: [rest-discuss] URI design for resources with multiple identifiers...<br>
Message:<br><br>
<pre>Chris:

&gt; RFC 2616 suggests an alternative approach which is less wasteful of
&gt; bandwidth:
&gt; 
&gt; Client: PUT /docs/67.3
&gt; 
&gt; Server: 201 Created HTTP/1.1
&gt;         Location: /docs/67.4

I like it!  Clean, simple and only one HTTP round trip required.


Andrzej Jan Taramina
Chaeron Corporation: Enterprise System Solutions
http://www.chaeron.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7257<br>
Sender:"Andrzej Jan Taramina" &lt;andrzej@...&gt;<br>
Post Date/Time:2006-12-15 17:43:35<br>
Subject:Re: [rest-discuss] Versioning and URLs<br>
Message:<br><br>
<pre>&gt; How about &lt;http://www.webdav.org/specs/rfc3253.html&gt;?

Not my cup of tea, I'm afraid.  I'm trying to stick to the standard HTTP 
methods typically used by REST:  Get, Post, Put and Delete.  WebDAV defines a 
lot of other ones and is typically intended to support a full source code 
control scenari, rather than object versioning which is a much simpler 
situation and one more akin with what I'm trying to do.


Andrzej Jan Taramina
Chaeron Corporation: Enterprise System Solutions
http://www.chaeron.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7258<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2006-12-15 19:01:53<br>
Subject:Re: [rest-discuss] Versioning and URLs<br>
Message:<br><br>
<pre>Andrzej Jan Taramina schrieb:
&gt; 
&gt; 
&gt;  &gt; How about &lt;http://www.webdav. org/specs/ rfc3253.html 
&gt; &lt;http://www.webdav.org/specs/rfc3253.html&gt;&gt;?
&gt; 
&gt; Not my cup of tea, I'm afraid. I'm trying to stick to the standard HTTP
&gt; methods typically used by REST: Get, Post, Put and Delete. WebDAV defines a
&gt; lot of other ones and is typically intended to support a full source code
&gt; control scenari, rather than object versioning which is a much simpler
&gt; situation and one more akin with what I'm trying to do.
&gt; 
&gt; Andrzej Jan Taramina
&gt; Chaeron Corporation: Enterprise System Solutions
&gt; http://www.chaeron. com &lt;http://www.chaeron.com&gt;

Well, I think that ignoring WebDAV versioning just because you don't 
like extension methods would be short-sighted. I really recommend 
looking at the various definitions nevertheless, they may be useful even 
if you decide to use a different kind of marshalling.

Best regards, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7259<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-12-15 19:35:29<br>
Subject:Re: [rest-discuss] URI design for resources with multiple identifiers...<br>
Message:<br><br>
<pre>
On 15.12.2006, at 12:23, Chris Burdess wrote:

&gt;
&gt; Client: PUT /docs/67.3
&gt;
&gt; Server: 201 Created HTTP/1.1
&gt;         Location: /docs/67.4


Thought about that, but I am not sure it is correct. The 201  
definition says "The request has been fulfilled..." and clearly, in  
the above case, the requested resource has not been updated while the  
201 suggests that it has.

Depends on the interpretation of  "The request has been  
fulfilled...", maybe...?

Jan



&gt;
&gt; -- 
&gt; Chris Burdess
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7260<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-12-15 19:54:27<br>
Subject:Re: [rest-discuss] URI design for resources with multiple identifiers...<br>
Message:<br><br>
<pre>Agreed, I don't think a client has license to assume that the state of
the resource identified by /docs/67.4 was changed to that represented
in the request.  It can assume that for /docs/67.3 though by virtue of
the request being successful though.

I think a better solution would be to redirect the client on the first
PUT to /docs/67.4 via 302 or 307.  It's an extra round trip, but
unambiguous AFAICT.

Mark.

On 12/15/06, Jan Algermissen &lt;algermissen1971@...&gt; wrote:
&gt;
&gt; On 15.12.2006, at 12:23, Chris Burdess wrote:
&gt;
&gt; &gt;
&gt; &gt; Client: PUT /docs/67.3
&gt; &gt;
&gt; &gt; Server: 201 Created HTTP/1.1
&gt; &gt;         Location: /docs/67.4
&gt;
&gt;
&gt; Thought about that, but I am not sure it is correct. The 201
&gt; definition says "The request has been fulfilled..." and clearly, in
&gt; the above case, the requested resource has not been updated while the
&gt; 201 suggests that it has.
&gt;
&gt; Depends on the interpretation of  "The request has been
&gt; fulfilled...", maybe...?
&gt;
&gt; Jan
&gt;
&gt;
&gt;
&gt; &gt;
&gt; &gt; --
&gt; &gt; Chris Burdess
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; Yahoo! Groups Links
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7261<br>
Sender:"Teo Hui Ming" &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2006-12-16 00:07:20<br>
Subject:Re: [rest-discuss] URI design for resources with multiple identifiers...<br>
Message:<br><br>
<pre>On 12/16/06, Jan Algermissen &lt;algermissen1971@...&gt; wrote:
&gt;
&gt; On 15.12.2006, at 12:23, Chris Burdess wrote:
&gt;
&gt; &gt;
&gt; &gt; Client: PUT /docs/67.3
&gt; &gt;
&gt; &gt; Server: 201 Created HTTP/1.1
&gt; &gt;         Location: /docs/67.4
&gt;
&gt;
&gt; Thought about that, but I am not sure it is correct. The 201
&gt; definition says "The request has been fulfilled..." and clearly, in
&gt; the above case, the requested resource has not been updated while the
&gt; 201 suggests that it has.
&gt;
&gt; Depends on the interpretation of  "The request has been
&gt; fulfilled...", maybe...?

What if when the POST is used instead of PUT?

-- 
Teo Hui Ming

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7262<br>
Sender:Chris Burdess &lt;dog@...&gt;<br>
Post Date/Time:2006-12-16 09:06:42<br>
Subject:Re: [rest-discuss] URI design for resources with multiple identifiers...<br>
Message:<br><br>
<pre>Jan Algermissen wrote:
&gt; &gt;Client: PUT /docs/67.3
&gt; &gt;
&gt; &gt;Server: 201 Created HTTP/1.1
&gt; &gt;        Location: /docs/67.4
&gt; 
&gt; Thought about that, but I am not sure it is correct. The 201  
&gt; definition says "The request has been fulfilled..." and clearly, in  
&gt; the above case, the requested resource has not been updated while the  
&gt; 201 suggests that it has.

When in doubt, refer to the spec. RFC 2616 section 9.6:

   If a
   new resource is created, the origin server MUST inform the user agent
   via the 201 (Created) response. If an existing resource is modified,
   either the 200 (OK) or 204 (No Content) response codes SHOULD be sent
   to indicate successful completion of the request.

Therefore 201 does NOT mean that the existing resource was modified.
-- 
Chris Burdess

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7263<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-12-16 17:36:59<br>
Subject:Re: [rest-discuss] URI design for resources with multiple identifiers...<br>
Message:<br><br>
<pre>Chris,

returning a success code (2xx) upon PUT is incorrect when the PUT did  
not succeed. Since the
resource the PUT is applied to is not changed in your example, the  
PUT does not succeed.

Jan


On Dec 16, 2006, at 10:06 AM, Chris Burdess wrote:

&gt; Jan Algermissen wrote:
&gt;&gt;&gt; Client: PUT /docs/67.3
&gt;&gt;&gt;
&gt;&gt;&gt; Server: 201 Created HTTP/1.1
&gt;&gt;&gt;        Location: /docs/67.4
&gt;&gt;
&gt;&gt; Thought about that, but I am not sure it is correct. The 201
&gt;&gt; definition says "The request has been fulfilled..." and clearly, in
&gt;&gt; the above case, the requested resource has not been updated while the
&gt;&gt; 201 suggests that it has.
&gt;
&gt; When in doubt, refer to the spec. RFC 2616 section 9.6:
&gt;
&gt;    If a
&gt;    new resource is created, the origin server MUST inform the user  
&gt; agent
&gt;    via the 201 (Created) response. If an existing resource is  
&gt; modified,
&gt;    either the 200 (OK) or 204 (No Content) response codes SHOULD be  
&gt; sent
&gt;    to indicate successful completion of the request.
&gt;
&gt; Therefore 201 does NOT mean that the existing resource was modified.
&gt; -- 
&gt; Chris Burdess


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7264<br>
Sender:"Andrzej Jan Taramina" &lt;andrzej@...&gt;<br>
Post Date/Time:2006-12-16 19:30:04<br>
Subject:Re: [rest-discuss] URI design for resources with multiple identifiers...<br>
Message:<br><br>
<pre>Jan:

&gt; returning a success code (2xx) upon PUT is incorrect when the PUT did  
&gt; not succeed. Since the
&gt; resource the PUT is applied to is not changed in your example, the  
&gt; PUT does not succeed.

I disagree.....the Put succeeded based on the definition of what the 
application expected to happen.  Which is to create a new version of the 
resource, in the scenario we've been discussing.

I think you are reading the specs a bit too literally.




Andrzej Jan Taramina
Chaeron Corporation: Enterprise System Solutions
http://www.chaeron.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7265<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-12-16 19:56:04<br>
Subject:Re: [rest-discuss] URI design for resources with multiple identifiers...<br>
Message:<br><br>
<pre>
On Dec 16, 2006, at 8:30 PM, Andrzej Jan Taramina wrote:

&gt; Jan:
&gt;
&gt;&gt; returning a success code (2xx) upon PUT is incorrect when the PUT did
&gt;&gt; not succeed. Since the
&gt;&gt; resource the PUT is applied to is not changed in your example, the
&gt;&gt; PUT does not succeed.
&gt;
&gt; I disagree.....the Put succeeded based on the definition of what the
&gt; application expected to happen.

Doh..., be careful: PUT means what HTTP defines it to mean, there are  
no application specific semantics.

Besides:

"[...] the URI in a PUT request identifies the entity enclosed with  
the request -- the user agent knows what URI is intended and the  
server MUST NOT attempt to apply the request to some other resource.  
If the server desires that the request be applied to a different URI,  
it MUST send a 301 (Moved Permanently) response; the user agent MAY  
then make its own decision regarding whether or not to redirect the  
request." (RFC2616 section 9.6)

That basucally says it all, or?

Jan

&gt; Which is to create a new version of the
&gt; resource, in the scenario we've been discussing.
&gt;
&gt; I think you are reading the specs a bit too literally.
&gt;
&gt;
&gt;
&gt;
&gt; Andrzej Jan Taramina
&gt; Chaeron Corporation: Enterprise System Solutions
&gt; http://www.chaeron.com
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7266<br>
Sender:"Andrzej Jan Taramina" &lt;andrzej@...&gt;<br>
Post Date/Time:2006-12-16 20:14:35<br>
Subject:Re: [rest-discuss] URI design for resources with multiple identifiers...<br>
Message:<br><br>
<pre>&gt; "[...] the URI in a PUT request identifies the entity enclosed with  
&gt; the request -- the user agent knows what URI is intended and the  
&gt; server MUST NOT attempt to apply the request to some other resource.  
&gt; If the server desires that the request be applied to a different URI,  
&gt; it MUST send a 301 (Moved Permanently) response; the user agent MAY  
&gt; then make its own decision regarding whether or not to redirect the  
&gt; request." (RFC2616 section 9.6)
&gt; 
&gt; That basucally says it all, or?

Depends on how you define "resource".  In the versioning scenario you apply 
an update to a specific URI, which succeeds.  However, we define success as 
having defined a new version at a new URI which is returned in the response.

Nothing moved, so a 301 is not correct.  In fact, you can craft your URI's so 
that the version specific info is not required.

For example:

	GET mydomain.com/resource - returns most current version
	PUT mydomain.com/resource - updates the resource by creating a new version

Optionally, you could allow GETs for specific versions:

	GET mydomain.com/resource/version/1.1 - returns version 1.1

This would seem to be compliant with your rather narrow minded view of the 
spec. ;-)



Andrzej Jan Taramina
Chaeron Corporation: Enterprise System Solutions
http://www.chaeron.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7267<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-12-16 20:20:40<br>
Subject:Re: [rest-discuss] URI design for resources with multiple identifiers...<br>
Message:<br><br>
<pre>On 12/16/06, Andrzej Jan Taramina &lt;andrzej@...&gt; wrote:
&gt; Jan:
&gt;
&gt; &gt; returning a success code (2xx) upon PUT is incorrect when the PUT did
&gt; &gt; not succeed. Since the
&gt; &gt; resource the PUT is applied to is not changed in your example, the
&gt; &gt; PUT does not succeed.
&gt;
&gt; I disagree.....the Put succeeded based on the definition of what the
&gt; application expected to happen. Which is to create a new version of the
&gt; resource, in the scenario we've been discussing.
&gt;
&gt; I think you are reading the specs a bit too literally.

That depends: if the versioning is visible on the URI, then you must
be strict with the HTTP specs - that is to say, if the client is
expected to provide /foo{version-number}

If however, the versioning is private and thus not visible on the URI
then you can send a 201 and be correct.

I suspect that your problems lie in not being clear about the URI
semantics of what you provide.

My vote goes for:

--&gt;
PUT /foo

&lt;--
302 Found
Location: /foo{version-number}

--&gt;
PUT /foo{version-number}

&lt;--
201 Created

Yes, I know it involves an extra roundtrip, but it preserves the HTTP
semantics - therefore the client can choose if the follow the 302 and
can use the If-xxx headers as desired.

Alan Dean

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7268<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-12-16 20:33:04<br>
Subject:Re: [rest-discuss] URI design for resources with multiple identifiers...<br>
Message:<br><br>
<pre>On 12/16/06, Andrzej Jan Taramina &lt;andrzej@...&gt; wrote:
&gt; [snip]
&gt; PUT mydomain.com/resource - updates the resource by creating a new version

Seems that what you want is a 'fuzzy' create, whereby the versioning
happens silently. If that is what you want then it's probably best to
use POST as HTTP is more lenient with this verb than the others -
basically it allows the server to do whatever it wants.

"The actual function performed by the POST method is determined by the
server and is usually dependent on the Request-URI ... The action
performed by the POST method might not result in a resource that can
be identified by a URI"
http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.5

&gt; This would seem to be compliant with your rather narrow minded view of the
&gt; spec. ;-)

Hmmm ... bear-baiting was banned here in 1835 ...

Seriously though; one of the fundamentals of REST is to be as
HTTP-compliant as possible, so you can expect folks around here to be
somewhat strict in their interpretations.

Alan Dean

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7269<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-12-16 20:47:05<br>
Subject:Re: [rest-discuss] URI design for resources with multiple identifiers...<br>
Message:<br><br>
<pre>
On Dec 16, 2006, at 9:33 PM, Alan Dean wrote:

&gt; On 12/16/06, Andrzej Jan Taramina &lt;andrzej@...&gt; wrote:
&gt;
&gt;&gt; This would seem to be compliant with your rather narrow minded  
&gt;&gt; view of the
&gt;&gt; spec. ;-)
&gt;
&gt; Hmmm ... bear-baiting was banned here in 1835 ...
&gt;
&gt; Seriously though; one of the fundamentals of REST is to be as
&gt; HTTP-compliant as possible,

I wouldn't say that being HTTP compliant is a fundamental of REST  
(because
HTTP is just *one* architecture of the REST style), I'd simply say  
that specs
usually are not meant to be 'interpreted' and definitely not to be  
interpreted
in an open minded way (which Andrzej seems to think).

Specs are intended to leave as little room for interpretation as  
possible (which
HTTP is a particulary good example of, IMHO) and make explicit all  
aspects that
are undefined and thus suitable for interpretation.

PUT is not such a case.


(Besides: where is the point in this discussion given that there are  
already
a couple of definitely-100% compliant ways to get the versioning done?)

Jan


&gt; so you can expect folks around here to be
&gt; somewhat strict in their interpretations.
&gt;
&gt; Alan Dean
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7270<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2006-12-16 21:31:24<br>
Subject:Re: [rest-discuss] URI design for resources with multiple identifiers...<br>
Message:<br><br>
<pre>On Dec 16, 2006, at 9:47 PM, Jan Algermissen wrote:

&gt; Besides: where is the point in this discussion given that there are
&gt; already a couple of definitely-100% compliant ways to get the  
&gt; versioning done?

Can you provide some references?

Thanks,
Stefan

--
Stefan Tilkov, http://www.innoq.com/blog/st/





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7271<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-12-16 21:40:05<br>
Subject:Re: [rest-discuss] URI design for resources with multiple identifiers...<br>
Message:<br><br>
<pre>Hi Stefan,


On Dec 16, 2006, at 10:31 PM, Stefan Tilkov wrote:

&gt; On Dec 16, 2006, at 9:47 PM, Jan Algermissen wrote:
&gt;
&gt;&gt; Besides: where is the point in this discussion given that there are
&gt;&gt; already a couple of definitely-100% compliant ways to get the  
&gt;&gt; versioning done?
&gt;
&gt; Can you provide some references?
&gt;

I meant those mentioned in this thread (except PUT/201-with-PUTted-to- 
resource-remaining-unchanged which is wrong, IMO).

Jan



&gt; Thanks,
&gt; Stefan
&gt;
&gt; --
&gt; Stefan Tilkov, http://www.innoq.com/blog/st/
&gt;
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7272<br>
Sender:Chris Burdess &lt;dog@...&gt;<br>
Post Date/Time:2006-12-17 09:45:38<br>
Subject:Re: [rest-discuss] URI design for resources with multiple identifiers...<br>
Message:<br><br>
<pre>Jan Algermissen wrote:
&gt; returning a success code (2xx) upon PUT is incorrect when the PUT did  
&gt; not succeed. Since the
&gt; resource the PUT is applied to is not changed in your example, the  
&gt; PUT does not succeed.

If the resource /had/ changed in my example, it would be incorrect to
return 201. But I don't believe that the resource changing is the only
criterion for success.

I take your point about "the server MUST NOT attempt to apply the request
to some other resource", although in this case the target resource
doesn't exist yet, it's not as if we're overwriting some existing
resource.

I think this is a weak area of the spec, since the PUT-&gt;201 is exactly what
you want to do: have a single request and response that covers the
entire transaction. In the case of the PUT-&gt;301-&gt;PUT-&gt;201 the
possibility of resource contention is introduced: multiple clients
updating the same resource can lead to arbitrarily long 301 loops. It
starts to look less and less stateless, and in any case it will be at least
twice as inefficient.

Anyway, perhaps we have our answer as to why browsers are loath to
introduce PUT/DELETE functionality in forms - nothing is ever as clear
cut as you think.
-- 
Chris Burdess

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7273<br>
Sender:"Joe Gregorio" &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2006-12-18 04:14:15<br>
Subject:Re: [rest-discuss] URI design for resources with multiple identifiers...<br>
Message:<br><br>
<pre>On 12/13/06, Andrzej Jan Taramina &lt;andrzej@...&gt; wrote:
&gt;
&gt; Looking for some advice here.  I'm designing a URL scheme for resources in a
&gt;  REST based architecture.
&gt;
&gt;  However, these resources can have different identifiers.  They have a
&gt;  physical ID that is unique, a logical id which can identify bunch of versions
&gt;  of a resource, and other id's like name.
&gt;
&gt;  Typically, you see RESTian urls of the form:
&gt;
&gt;  	http://mydomain.com/resource/id
&gt;
&gt;  which works well for the physical id situation.
&gt;
&gt;  But what if I want to get the resource with alternate id's?  Let's use the
&gt;  logical id as an example.  Would this be reasonable:

Versioning of a resource is a good example, where the latest
version of the resource is available at:

   /resource/id/

and historical versions of that resource are available at:

   /resource/id/version

Note that the URIs don't necessarily have to be hierarchical, nor
do they even have to be on the same server. We could have the following:

  http://main.example.org/blog/id/
  http://archive.example.com/blog/id/version

Note that I changed resource to 'blog' to make the discussion
more concrete. The URIs can be at different location because
they are all different resources,

    http://main.example.org/blog/1/

is the most recent version of the first post on this blog. While

  http://archive.example.com/blog/1/3

is the third revision of the first post on http://main.example.org/blog.

Putting them on separate domains should make it readily clear
that any sort of PUTing or POSTing to archive.example.com
really has no business updating main.example.org. For the case
of updating the resource you should PUT a new representation
to

   http://main.exaple.org/blog/1/

which will create a new version resource:

  http://archive.example.com/blog/1/{N+1}

If you want to do this and avoid the lost update problem
then use ETags:  http://www.w3.org/1999/04/Editing/

If you want to find the versioned resource from main.example.org
then return that in a Content-Location: header.

   -joe

-- 
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7274<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2006-12-18 15:05:14<br>
Subject:Re: [rest-discuss] URI design for resources with multiple identifiers...<br>
Message:<br><br>
<pre>Might want to consider whether PUT is idempotent
in the current application.

Walden

----- Original Message ----- 
From: "Chris Burdess" &lt;dog@...&gt;
To: "Jan Algermissen" &lt;algermissen1971@...&gt;
Cc: &lt;andrzej@...&gt;; &lt;rest-discuss@yahoogroups.com&gt;
Sent: Sunday, December 17, 2006 4:45 AM
Subject: Re: [rest-discuss] URI design for resources with multiple 
identifiers...


: Jan Algermissen wrote:
: &gt; returning a success code (2xx) upon PUT is incorrect when the PUT did
: &gt; not succeed. Since the
: &gt; resource the PUT is applied to is not changed in your example, the
: &gt; PUT does not succeed.
:
: If the resource /had/ changed in my example, it would be incorrect to
: return 201. But I don't believe that the resource changing is the only
: criterion for success.
:
: I take your point about "the server MUST NOT attempt to apply the request
: to some other resource", although in this case the target resource
: doesn't exist yet, it's not as if we're overwriting some existing
: resource.
:
: I think this is a weak area of the spec, since the PUT-&gt;201 is exactly 
what
: you want to do: have a single request and response that covers the
: entire transaction. In the case of the PUT-&gt;301-&gt;PUT-&gt;201 the
: possibility of resource contention is introduced: multiple clients
: updating the same resource can lead to arbitrarily long 301 loops. It
: starts to look less and less stateless, and in any case it will be at 
least
: twice as inefficient.
:
: Anyway, perhaps we have our answer as to why browsers are loath to
: introduce PUT/DELETE functionality in forms - nothing is ever as clear
: cut as you think.
: -- 
: Chris Burdess
:
:
: __________ NOD32 1925 (20061218) Information __________
:
: This message was checked by NOD32 antivirus system.
: http://www.eset.com
:
: 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7275<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2006-12-18 20:45:59<br>
Subject:Re: [rest-discuss] URI design for resources with multiple identifiers...<br>
Message:<br><br>
<pre>
On Dec 18, 2006, at 4:05 PM, Walden Mathews wrote:

&gt; Might want to consider whether PUT is idempotent
&gt; in the current application.

Not sure what solution you refer to, but I'd say that the PUT 
+redirect is pretty ok, since the
side effect of the server minting a new URI upon each PUT-to-existing- 
resource is unproblematic. The
server can just throw the URI away if no subsequent PUT is received  
within a certain timeframe.

Actually, there is the nice benefit of the server allowing exactly  
one PUT on the new URI that results in
a 200, thereby providing the mechanics for relaible PUT (re-PUT until  
you receive 2xx or 3xx, In case of
3xx do not follow the redirect.)

Jan


&gt;
&gt; Walden
&gt;
&gt; ----- Original Message -----
&gt; From: "Chris Burdess" &lt;dog@...&gt;
&gt; To: "Jan Algermissen" &lt;algermissen1971@...&gt;
&gt; Cc: &lt;andrzej@...&gt;; &lt;rest-discuss@yahoogroups.com&gt;
&gt; Sent: Sunday, December 17, 2006 4:45 AM
&gt; Subject: Re: [rest-discuss] URI design for resources with multiple
&gt; identifiers...
&gt;
&gt;
&gt; : Jan Algermissen wrote:
&gt; : &gt; returning a success code (2xx) upon PUT is incorrect when the  
&gt; PUT did
&gt; : &gt; not succeed. Since the
&gt; : &gt; resource the PUT is applied to is not changed in your example, the
&gt; : &gt; PUT does not succeed.
&gt; :
&gt; : If the resource /had/ changed in my example, it would be  
&gt; incorrect to
&gt; : return 201. But I don't believe that the resource changing is the  
&gt; only
&gt; : criterion for success.
&gt; :
&gt; : I take your point about "the server MUST NOT attempt to apply the  
&gt; request
&gt; : to some other resource", although in this case the target resource
&gt; : doesn't exist yet, it's not as if we're overwriting some existing
&gt; : resource.
&gt; :
&gt; : I think this is a weak area of the spec, since the PUT-&gt;201 is  
&gt; exactly
&gt; what
&gt; : you want to do: have a single request and response that covers the
&gt; : entire transaction. In the case of the PUT-&gt;301-&gt;PUT-&gt;201 the
&gt; : possibility of resource contention is introduced: multiple clients
&gt; : updating the same resource can lead to arbitrarily long 301  
&gt; loops. It
&gt; : starts to look less and less stateless, and in any case it will  
&gt; be at
&gt; least
&gt; : twice as inefficient.
&gt; :
&gt; : Anyway, perhaps we have our answer as to why browsers are loath to
&gt; : introduce PUT/DELETE functionality in forms - nothing is ever as  
&gt; clear
&gt; : cut as you think.
&gt; : --
&gt; : Chris Burdess
&gt; :
&gt; :
&gt; : __________ NOD32 1925 (20061218) Information __________
&gt; :
&gt; : This message was checked by NOD32 antivirus system.
&gt; : http://www.eset.com
&gt; :
&gt; :
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7276<br>
Sender:Chris Burdess &lt;dog@...&gt;<br>
Post Date/Time:2006-12-19 08:57:51<br>
Subject:Re: [rest-discuss] URI design for resources with multiple identifiers...<br>
Message:<br><br>
<pre>Jan Algermissen wrote:
&gt; On Dec 18, 2006, at 4:05 PM, Walden Mathews wrote:
&gt; &gt;Might want to consider whether PUT is idempotent
&gt; &gt;in the current application.
&gt; 
&gt; Not sure what solution you refer to, but I'd say that the PUT 
&gt; +redirect is pretty ok, since the
&gt; side effect of the server minting a new URI upon each PUT-to-existing- 
&gt; resource is unproblematic.

Yes, the redirect approach is idempotent, the direct approach is not.
-- 
Chris Burdess

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7277<br>
Sender:"Steve G. Bjorg" &lt;steveb@...&gt;<br>
Post Date/Time:2006-12-19 10:52:21<br>
Subject:Re: MindTouch Dream<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, "Mike Schinkel"
&lt;mikeschinkel@...&gt; wrote:
&gt;
&gt; &gt;&gt; Has anyone looked at Dream yet to see how RESTful it actually is?
&gt; 
&gt; Below is their hypermedia file.  It shows verb-based methods for
services
&gt; and multiple GETs to the same resource for different methods. 
Sounds like
&gt; POX to me.
&gt; 
&gt; -- 
&gt; -Mike Schinkel
&gt; http://www.mikeschinkel.com/blogs/
&gt; http://www.welldesignedurls.org/

Hi Mike,

I'm the author of MindTouch Dream.  Could you give me some pointers as
to why this looked like POX to you?  I'll gladly try to clarify the
design why I believe it to be RESTish, but I'm just as eager to learn
from my mistakes as well.  Thanks.


Cheers,

- Steve


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7278<br>
Sender:"Jerome Louvel" &lt;contact@...&gt;<br>
Post Date/Time:2006-12-19 19:56:24<br>
Subject:Search engine for REST<br>
Message:<br><br>
<pre>
Hi all,

I'd like to announce a new search engine dedicated to REST: 
http://search.restlet.org 

It is based on Google's Co-op platform and contains a selection of Web sites
(see below) primarily focused on REST. If you think that a great resource is
missing from the list, please send me your suggestions.

Best regards,
Jerome 
--

Predefined list of Web sites searched in:
 - *.xml.com/pub/a/*rest*
 - cpan.uwinnipeg.ca/htdocs/REST-Application/ 
 - en.wikipedia.org/wiki/Representational_State_Transfer 
 - gomba.sourceforge.net/*
 - microformats.org/wiki/rest/
 - phprestsql.sourceforge.net
 - restlet.tigris.org  
 - rest-art.sourceforge.net 
 - rest.blueoxen.net
 - tech.groups.yahoo.com/group/rest-discuss/*
 - tonic.sourceforge.net   
 - wadl.dev.java.net 
 - www.1060.org
 - www.acsinet-solutions.com/en/cetia4
 - www.crummy.com/writing/REST-Web-Services/
 - www.peej.co.uk/articles/*rest*
 - www.prescod.net/rest/* 
 - www.restlet.org
 - www.w3.org/Protocols/rfc2616/*
 - www.webdav.org/specs/rfc2518.html  
 - www.xfront.com/*REST*


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7279<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-12-19 21:34:32<br>
Subject:RE: [rest-discuss] Re: MindTouch Dream<br>
Message:<br><br>
<pre>Steve Borg wrote:
&gt; I'm the author of MindTouch Dream. Could you give me some pointers 
&gt; as to why this looked like POX to you? I'll gladly try to clarify the
&gt; design why I believe it to be RESTish, but I'm just as eager to learn
&gt; from my mistakes as well. Thanks.

Steve, thanks for your courteous question. 

I don't know why it didn't occur to me that you might be on the list.
Anyway, as I am relatively new to learning the rigor of REST, my assertion
that it was more like Plain Old XML was as much to verify I was viewing it
correctly as it as a statement I believed to be fact.  So I hope that others
such as Roy Fielding, Mark Baker, Jan Algermissen, Bill de hOra, Nic
Ferrier, or others  verify that my evaluation.  But the following is why I
believed it to not be exactly RESTful:

-- You list methods such as GetAnswer and GetServiceInfo.  In REST, the only
valid methods are GET, POST, PUT, and DELETE.

-- You use the same (root) URL for GetServiceInfo, DeleteService, and
GetConfiguration but you should be using different resources for the third
from the first two. Instead, each resource should have it's own URL and then
you would perform one of the four operations on the resource, depending on
what operation you wanted.

BTW, use GET to retrieve, POST to add/insert, PUT to update, and DELTE to,
well, delete.

I have updated your response XML taking some liberties in my update, to show
you what I would have expect to see a REST service hypermedia mapping file
look like:

&lt;?xml version="1.0"?&gt;
&lt;blueprint&gt;
	&lt;assembly&gt;
		dream.tutorial.8ball, Version=1.0.0.0, Culture=neutral,
PublicKeyToken=null
         &lt;/assembly&gt;
	&lt;type&gt;MindTouch.Dream.Tutorial.EightBallService&lt;/type&gt;
	&lt;name&gt;Dream Tutorial 8-Ball&lt;/name&gt;
	&lt;info&gt;http://doc.opengarden.org/Dream_SDK/Tutorials/8-Ball&lt;/info&gt;
	&lt;feature&gt;
		&lt;description&gt;Returns a random 8-ball message&lt;/description&gt;
	
&lt;info&gt;http://doc.opengarden.org/dream_sdk/tutorials/8-ball/answer/&lt;/info&gt;
		&lt;method&gt;GET&lt;/method&gt;
	&lt;/feature&gt;
	&lt;feature&gt;
		&lt;description&gt;Retrieve service description&lt;/description&gt;
		&lt;info&gt;http://www.mindtouch.com/service/&lt;/info&gt;
		&lt;method&gt;GET&lt;/method&gt;
	&lt;/feature&gt;
	&lt;feature&gt;
		&lt;description&gt;Stop service&lt;/description&gt;
		&lt;info&gt;http://www.mindtouch.com/service/&lt;/info&gt;
		&lt;method&gt;DELETE&lt;/method&gt;
	&lt;/feature&gt;
	&lt;feature&gt;
		&lt;description&gt;Retrieve service configuration&lt;/description&gt;
		&lt;info&gt;http://www.mindtouch.com/service/configuration/&lt;/info&gt;
		&lt;method&gt;GET&lt;/method&gt;
	&lt;/feature&gt;
&lt;/blueprint&gt;

Of course, I might be 100% wrong since, as I said, I'm still learning this.
Hopefully someone else on the list more knowledgeable than me will either
verify that I am correct or explain where I went wrong.

HTH.

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7280<br>
Sender:"Steve G. Bjorg" &lt;steveb@...&gt;<br>
Post Date/Time:2006-12-20 05:27:18<br>
Subject:Re: MindTouch Dream<br>
Message:<br><br>
<pre>Mike Schinkel wrote: 
&gt; -- You list methods such as GetAnswer and GetServiceInfo.  In REST,
the only
&gt; valid methods are GET, POST, PUT, and DELETE.
&gt; 
&gt; -- You use the same (root) URL for GetServiceInfo, DeleteService, and
&gt; GetConfiguration but you should be using different resources for the
third
&gt; from the first two. Instead, each resource should have it's own URL
and then
&gt; you would perform one of the four operations on the resource,
depending on
&gt; what operation you wanted.

Ok, that makes sense.  It seems the confusion is due to some 
poor naming choices on my part.

So, here is the original blueprint in question (I took out 
the &lt;name&gt;, &lt;info&gt;, &lt;copyright&gt;, and &lt;description&gt; tags since 
those have no semantic value):
&lt;blueprint&gt;
    &lt;assembly&gt;dream.tutorial.8ball&lt;/assembly&gt;
    &lt;class&gt;MindTouch.Dream.Tutorial.EightBallService&lt;/class&gt;
    &lt;feature&gt;
        &lt;signature&gt;answer/&lt;/signature&gt;
        &lt;verb&gt;GET&lt;/verb&gt;
        &lt;method&gt;GetAnswer&lt;/method&gt;
    &lt;/feature&gt;
    &lt;feature&gt;
        &lt;signature&gt;@config/&lt;/signature&gt;
        &lt;verb&gt;GET&lt;/verb&gt;
        &lt;method&gt;GetConfiguration&lt;/method&gt;
    &lt;/feature&gt;
    &lt;feature&gt;
        &lt;signature&gt;@inspect/&lt;/signature&gt;
        &lt;verb&gt;GET&lt;/verb&gt;
        &lt;method&gt;GetServiceInfo&lt;/method&gt;
    &lt;/feature&gt;
    &lt;feature&gt;
        &lt;signature&gt;/&lt;/signature&gt;
        &lt;verb&gt;DELETE&lt;/verb&gt;
        &lt;method&gt;DeleteService&lt;/method&gt;
    &lt;/feature&gt;
&lt;/blueprint&gt;

For the benefit of others, let me quickly explain the purpose 
of the blueprint and associated terminology.
* A blueprint describes the relationship between URIs + HTTP 
methods with the methods of a class.
* A service is an instance of a blueprint.  In Dream, a 
service is to a blueprint what an instance is to a class in 
OOP.  In general, the relationship is 1-to-1 in that each 
service is manifested by an instance, but this is neither 
enforced, nor mandated.
* A feature is a relative URI + HTTP method that has 
behavior.  The OOP equivalent would be an instance method.
* A signature is the relative URI identifying the feature. A 
signature can also contain wildcards for path-parameters.
* A verb is the HTTP method used on the URI.
* A method is an instance method.


A blueprint is registered with a host so that services of its 
kind can be created.  The blueprint describes the features of 
the service in terms of relative URIs since it can't know 
where a service will be anchored.

So, let's assume we create an instance of the 
EightBallService at http://myserver/8ball.

The above blueprint now states that you can do the following 
operations.

GET http://myserver/8ball/answer
-&gt; returns an answer

GET http://myserver/8ball/@config
-&gt; returns configuration information about this service (who is the
host, what is the blueprint, etc.)

GET http://myserver/8ball/@inspect
-&gt; uses the service blueprint to show a human readable description of
all the features on the service with links to additional documentation

DELETE http://myserver/8ball
-&gt; stops and deletes the service


So, in essence, the parts in between the &lt;method&gt; tags don't 
matter to outside consumers since they represent 
implementation details just like the &lt;class&gt; tag, but I can 
certainly see how they can cause confusion.  Unfortunately 
the host needs these details and splitting them across 
interface and implementation sub-sections felt overkill.

I hope the above explanation makes sense.  Let me know what 
your thoughts are.  I'm eager to learn how to make this 
better or explain it better.


Cheers,

- Steve


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7281<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-12-20 20:39:58<br>
Subject:RE: [rest-discuss] Re: MindTouch Dream<br>
Message:<br><br>
<pre>Steve,

Thanks for the clarification.  Here are my initial reactions:

1.) The Blueprint file "feels" like it's too tightly bound to the class and
might be better if it were more loosly bound allowing a lot more
flexibility. My caveat is that this is just my subjective impression and I
may be misinterpretting.

2.) Given how so many people evidently misunderstand REST principles (this
from what others on REST-discuss have told me recently) I think the
"verb/method" syntax might confuse people that don't yet understand REST.
May I propose, assuming similar syntax w/o incorporating any of my comments
from #1:

     &lt;feature&gt;
         &lt;signature&gt;answer/&lt;/signature&gt;
         &lt;HttpMethod&gt;GET&lt;/HttpMethod&gt;
         &lt;InstanceMethod&gt;GetAnswer&lt;/InstanceMethod&gt;
     &lt;/feature&gt;

3.) I was confused by your use of "@" for "@config" and "@inspect."  May I
ask why you chose to use them instead of just "config" and "inspect?"
According to RFC 3986, the "@" sign is a reserved character [1]  in a URL
and thus it's not really a good idea to use them because them much be URL
encoded, and they might even conflict with potential future usage

Again, I'm not a REST expert (yet :) so I look forward to the others here
weighing in on both of our comments.

--
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/

[1] http://www.gbiv.com/protocols/uri/rfc/rfc3986.html#reserved


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7282<br>
Sender:Jerome Louvel &lt;contact@...&gt;<br>
Post Date/Time:2006-12-20 17:31:38<br>
Subject:Re: Search engine for REST<br>
Message:<br><br>
<pre>Thanks for those who sent me updates for the list. There is also a home 
page on Google where you can request to become a contributor if you 
would like:
http://www.google.com/coop/cse?cx=008198164249920937180%3Apxuorqbcv3k

Also, the current implementation redirects requests from 
http://search.restlet.org to a lengthy Google URI, but the redirection 
service accepts queries too, for example to search documents containing 
the "WADL" word, just enter:
http://search.restlet.org?q=wadl

This can be useful for link sharing and dynamic Firefox bookmarks.

Cheers,
Jerome


&gt; Hi all,
&gt; 
&gt; I'd like to announce a new search engine dedicated to REST:
&gt; http://search.restlet.org &lt;http://search.restlet.org&gt;
&gt; 
&gt; It is based on Google's Co-op platform and contains a selection of Web sites
&gt; (see below) primarily focused on REST. If you think that a great resource is
&gt; missing from the list, please send me your suggestions.
&gt; 
&gt; Best regards,
&gt; Jerome


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7283<br>
Sender:"Jerome Louvel" &lt;contact@...&gt;<br>
Post Date/Time:2006-12-21 12:09:03<br>
Subject:RE: Search engine for REST<br>
Message:<br><br>
<pre>I have updated the service with those changes:
 - the "REST" logo now points back to http://search.restlet.org
 - a list of indexed sites is available at http://search.restlet.org/sites
 - queries can be bookmarked like http://search.restlet.org?q=wadl

Cheers,
Jerome

&gt; -----Message d'origine-----
&gt; De : Jerome Louvel 
&gt; Envoy : mardi 19 dcembre 2006 20:56
&gt;  : rest-discuss@yahoogroups.com
&gt; Objet : Search engine for REST
&gt; 
&gt; 
&gt; Hi all,
&gt; 
&gt; I'd like to announce a new search engine dedicated to REST: 
&gt; http://search.restlet.org 
&gt; 
&gt; It is based on Google's Co-op platform and contains a 
&gt; selection of Web sites (see below) primarily focused on REST. 
&gt; If you think that a great resource is missing from the list, 
&gt; please send me your suggestions.
&gt; 
&gt; Best regards,
&gt; Jerome 
&gt; --
&gt; 
&gt; Predefined list of Web sites searched in:
&gt;  - *.xml.com/pub/a/*rest*
&gt;  - cpan.uwinnipeg.ca/htdocs/REST-Application/ 
&gt;  - en.wikipedia.org/wiki/Representational_State_Transfer 
&gt;  - gomba.sourceforge.net/*
&gt;  - microformats.org/wiki/rest/
&gt;  - phprestsql.sourceforge.net
&gt;  - restlet.tigris.org  
&gt;  - rest-art.sourceforge.net 
&gt;  - rest.blueoxen.net
&gt;  - tech.groups.yahoo.com/group/rest-discuss/*
&gt;  - tonic.sourceforge.net   
&gt;  - wadl.dev.java.net 
&gt;  - www.1060.org
&gt;  - www.acsinet-solutions.com/en/cetia4
&gt;  - www.crummy.com/writing/REST-Web-Services/
&gt;  - www.peej.co.uk/articles/*rest*
&gt;  - www.prescod.net/rest/* 
&gt;  - www.restlet.org
&gt;  - www.w3.org/Protocols/rfc2616/*
&gt;  - www.webdav.org/specs/rfc2518.html  
&gt;  - www.xfront.com/*REST*
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7284<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-12-22 16:53:04<br>
Subject:An apocryphal example of why GET should be safe ...<br>
Message:<br><br>
<pre>I thought that this post on The Daily WTF was amusing as well as 
cautionary:

"Best of 2006: The Spider of Doom"

http://thedailywtf.com/forums/thread/108487.aspx

Alan Dean


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7285<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-12-22 18:01:06<br>
Subject:Re: [rest-discuss] An apocryphal example of why GET should be safe ...<br>
Message:<br><br>
<pre>That darn Google... breaking the web again.

On 12/22/06, Alan Dean &lt;alan.dean@...&gt; wrote:
&gt; I thought that this post on The Daily WTF was amusing as well as
&gt; cautionary:
&gt;
&gt; "Best of 2006: The Spider of Doom"
&gt;
&gt; http://thedailywtf.com/forums/thread/108487.aspx
&gt;
&gt; Alan Dean
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;


-- 
Hugh Winkler
Wellstorm Development

http://www.wellstorm.com/
+1 512 694 4795 mobile (preferred)
+1 512 264 3998 office

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7286<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2006-12-22 21:04:15<br>
Subject:Re: [rest-discuss] An apocryphal example of why GET should be safe ...<br>
Message:<br><br>
<pre>Reminds me of the story Roy tells about - IIRC - how a guy complained
to him that MOMspider had initiated a bunch of print jobs on his
printers. 8-)

On 12/22/06, Alan Dean &lt;alan.dean@...&gt; wrote:
&gt; I thought that this post on The Daily WTF was amusing as well as
&gt; cautionary:
&gt;
&gt; "Best of 2006: The Spider of Doom"
&gt;
&gt; http://thedailywtf.com/forums/thread/108487.aspx
&gt;
&gt; Alan Dean

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7287<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2006-12-22 22:49:24<br>
Subject:Re: [rest-discuss] An apocryphal example of why GET should be safe ...<br>
Message:<br><br>
<pre>On Dec 22, 2006, at 1:04 PM, Mark Baker wrote:

&gt; Reminds me of the story Roy tells about - IIRC - how a guy complained
&gt; to him that MOMspider had initiated a bunch of print jobs on his
&gt; printers. 8-)

Not MOMspider -- it was a discussion on the robots list in 1996:

&lt;http://webdoc.gwdg.de/ebook/aw/1999/webcrawler/mailing-lists/robots/ 
0964.html&gt;
&lt;http://webdoc.gwdg.de/ebook/aw/1999/webcrawler/mailing-lists/robots/ 
1014.html&gt;
&lt;http://webdoc.gwdg.de/ebook/aw/1999/webcrawler/mailing-lists/robots/ 
1015.html&gt;

IIRC, the system was written by Rob Hartill when he was a post-doc
at LANL.  I don't think he ever accepted that it was a bad design,
no matter how many times I reinforced the standard on GET = safe.

....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7288<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-12-23 06:34:20<br>
Subject:Re: [rest-discuss] Re: Search engine for REST<br>
Message:<br><br>
<pre>On 12/20/06, Jerome Louvel &lt;contact@...&gt; wrote:
[snip]
&gt; Also, the current implementation redirects requests from
&gt; http://search.restlet.org to a lengthy Google URI, but the redirection
&gt; service accepts queries too, for example to search documents containing
&gt; the "WADL" word, just enter:
&gt; http://search.restlet.org?q=wadl
&gt;
&gt; This can be useful for link sharing and dynamic Firefox bookmarks.

Also good to set up as an IE7 search provider :-)

See http://www.microsoft.com/windows/ie/searchguide/en-en/default.mspx

Alan Dean

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7289<br>
Sender:=?iso-8859-1?B?Suly9G1lIExvdXZlbA==?= &lt;contact@...&gt;<br>
Post Date/Time:2006-12-26 10:32:08<br>
Subject:Re: Search engine for REST<br>
Message:<br><br>
<pre>Hi Alan,

Good idea! To make the addition of this search engine to your browser,
I've added an OpenSearch descriptor linked from
http://search.restlet.org Web page. It is automatically discovered by
IE7 and FF2 (at least).

Also, the list of indexed sites has been extended with:
 - URI Templates
 - IANA media types
 - OpenGarden Dream docs

Thanks,
Jerome

--- In rest-discuss@yahoogroups.com, "Alan Dean" &lt;alan.dean@...&gt; wrote:
&gt;
&gt; On 12/20/06, Jerome Louvel &lt;contact@...&gt; wrote:
&gt; [snip]
&gt; &gt; Also, the current implementation redirects requests from
&gt; &gt; http://search.restlet.org to a lengthy Google URI, but the redirection
&gt; &gt; service accepts queries too, for example to search documents
containing
&gt; &gt; the "WADL" word, just enter:
&gt; &gt; http://search.restlet.org?q=wadl
&gt; &gt;
&gt; &gt; This can be useful for link sharing and dynamic Firefox bookmarks.
&gt; 
&gt; Also good to set up as an IE7 search provider :-)
&gt; 
&gt; See http://www.microsoft.com/windows/ie/searchguide/en-en/default.mspx
&gt; 
&gt; Alan Dean
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7290<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-12-27 08:16:26<br>
Subject:Re: [rest-discuss] RESTwiki<br>
Message:<br><br>
<pre>Hello all,

On Tue, 2006-11-07 at 19:32 -0500, Mark Baker wrote:
&gt; On 11/7/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:
&gt; &gt; But the wiki seems to have fallen into disuse.
&gt; &gt; I tried it this eve. and it's very slow. Can it be hosted somewhere
&gt; &gt; faster? Who looks after it?
&gt; Eugene Kim of Blueoxen hosts and maintains it, and helps me (and
&gt; others) with spam cleanup.
&gt; He mentioned to me that he might upgrade our software this week, but I
&gt; haven't heard any more. I don't know if that will help with the speed
&gt; problems you mention.

On the whole I think that RESTwiki is an underutilised valuable
resource. I think that the current implementation is admirable and
already very important, but could do with some tweaking. I hope I am not
too direct in listing a few issues i have the current implementation on
technical and social fronts. I don't think I can solve any of the
technical problems, but perhaps the social ones could be minimised by a
bit more discusison and consensus among contributors.

On the technical side I see problems of
* Availability from time to time (for example, it is timing out for me
as I write this email),
* Bugs and esoterica in the wiki software
* An inability to upload images
* No support for non-english users?
* Doesn't look as good as wikipedia :)

On the social side I see problems of
* A lack of overall structure and accessibility of information
* Lack of separation between important concepts and side issues,
generally a lack of focus for the wiki
* Difficulty in coordinating users of the wiki
* Overuse of jargon to introduce wiki linking
* Lack of consistent editorial style
* Unclear licencing. Is this all CC?

Personally, I like mediawiki. Whether a transition to that technology is
feasible or appropriate is I suppose a matter for Eugene. I think it
would solve some of the technical problems, and also assist in one or
two of the social problems. Perhaps the biggest social advantage of
mediawiki is the separate discussion tab available for each page. The
current editorial style reads far too much like a discussion between
contributors and far too little like straightforward practical advice.

I would like to brainstorm a few functions of the wiki to help clarify
its structure:
* To establish the problem statement of REST, and why the problem domain
that REST applies to are not appropriately addressed in other
approaches. ie, that REST is about defining a protocol environment that
will last for decades across loosely integrated components and scale
both technically and socially to the size of the Internet.
* To explain the style through example and practical experience. This
contrasts with the from-first-principles view of REST that Fielding's
thesis describes. I have put a few pages together on this front in
latter months of 2006.
* To clarify common misunderstandings and elaborate on the dissertation
where required.
* To introduce and form a reference site for a small vocabulary that can
be used when talking about REST. For example the "REST Triangle" of
nouns, verbs, and content types.
* To help develop the style, for example by experimenting with new nouns
or content types. In this way the wiki can act as a preliminary
standards organisation, especially for odd content types for which no
obvious body exists.
* To make clear that REST is backed by professionals who know what they
are doing and can put together a wiki that gives users confidence in the
style.

I suggest that these purposes be reflected on the front page as
subheadings linking to relevant articles. The wiki contributors should
be prepared to cull old material that doesn't reflect the purpose of the
wiki and produce new material as required to fill the gaps. Discussion
and unnecessary jargon should be culled. All material should be
user-focused and relevant. All pages should be proof-read with the user
in mind.

REST shouldn't be an exclusive club, and I think the RESTwiki is the
best tool we have to make REST more accessible. As a wiki, it is easy to
keep up to date and wide-ranging. However as a wiki, it is hard to keep
correct and focused. I think with a little more bold reviewing the wiki
could help us make some great headway.

Benjamin.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7291<br>
Sender:"Jerome Louvel" &lt;contact@...&gt;<br>
Post Date/Time:2006-12-27 14:39:05<br>
Subject:[Ann] Restlet 1.0 RC1 released<br>
Message:<br><br>
<pre>
Hi all,

The first release candidate for Restlet version 1.0 is available. It
provides a lightweight REST framework for Java and is now considered to be
feature complete, without any known bug pending and with a stabilized API.

We encourage anyone interested in the technology to download and test the
software to help us improve its quality before the final release:
http://www.restlet.org/downloads/restlet-1.0rc1.zip

Best regards,
Jerome Louvel
--
http://www.restlet.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7292<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-28 10:57:06<br>
Subject:AOL and REST?<br>
Message:<br><br>
<pre>I got an email from someone at a well known publishing house asking me
to write articles about AOL stuff.

AOL have this strategy - they're going to be more open. They've
developed a bunch of APIs that they think make this happen. 

Said publishing house has been hired to put editorial on this
together.


So I looked at one of AOLs offerings:

  http://dev.aol.com/aol_video/index.html

There's a REST API!

  http://dev.aol.com/aol_video/index.html

Except this isn't REST. It isn't even HTTP for God's sake. It's just
stupid. There are methods embedded in the URIs. Everything is done
with GET. We were just talking about how stupid that was.


I looked at the other APIs. Most of them incomplete, too locked down
or just not very useful.


This has prompted a delicate exchange between me and the publishing
house (clearly they will take money from anyone to do anything) as I
try to justify writing an article for them that calls their clients'
stuff rubbish.


But it also prompts me to think:

  Who the **** is getting paid to come up with this stuff for AOL? Why
  didn't they hire someone with a brain to do this?

If anyone knows a senior AOL manager please tell them I'm available. I
don't have a brain but at least I can always borrow someone else's.


The last thing it makes me think is:

  I wish Roy could protect the word REST in some way to stop companies
  like this just being evil with it.


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7293<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-12-28 13:16:44<br>
Subject:Re: [rest-discuss] AOL and REST?<br>
Message:<br><br>
<pre>On 12/28/06, Nic James Ferrier &lt;nferrier@...&gt; wrote:
....
&gt;
&gt; There's a REST API!
&gt;
&gt;   http://dev.aol.com/aol_video/index.html
&gt;
&gt; Except this isn't REST.
&gt;It isn't even HTTP for God's sake. It's just
&gt; stupid. There are methods embedded in the URIs. Everything is done
&gt; with GET.


Heheh. Nope. It pretty much violates every principle of goodness.
Here's a good one. Build an URL such that when you GET it, it will
remove a video from your favorites list...
http://developer.searchvideo.com/method.php?name=truveo.users.removeFavorite

Surprise!

&gt; We were just talking about how stupid that was.
&gt;
&gt;
&gt; I looked at the other APIs. Most of them incomplete, too locked down
&gt; or just not very useful.
&gt;
&gt;
&gt; This has prompted a delicate exchange between me and the publishing
&gt; house (clearly they will take money from anyone to do anything) as I
&gt; try to justify writing an article for them that calls their clients'
&gt; stuff rubbish.
&gt;
&gt; &gt; But it also prompts me to think:
&gt;
&gt;   Who the **** is getting paid to come up with this stuff for AOL? Why
&gt;   didn't they hire someone with a brain to do this?
&gt;
&gt; If anyone knows a senior AOL manager please tell them I'm available. I
&gt; don't have a brain but at least I can always borrow someone else's.
&gt;
&gt;

Maybe the publisher has a direct line to the AOL people.

&gt; The last thing it makes me think is:
&gt;
&gt;   I wish Roy could protect the word REST in some way to stop companies
&gt;   like this just being evil with it.
&gt;

I understand the sentiment, but I'm glad I have the freedom use the
term REST a little loosely.
&gt;
&gt; --
&gt; Nic Ferrier
&gt; http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;


-- 
Hugh Winkler
Wellstorm Development

http://www.wellstorm.com/
+1 512 694 4795 mobile (preferred)
+1 512 264 3998 office

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7294<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-28 14:57:02<br>
Subject:Re: [rest-discuss] AOL and REST?<br>
Message:<br><br>
<pre>"Hugh Winkler" &lt;hughw@...&gt; writes:

&gt; Nic Ferrier wrote:
&gt;&gt;   I wish Roy could protect the word REST in some way to stop companies
&gt;&gt;   like this just being evil with it.
&gt;&gt;
&gt;
&gt; I understand the sentiment, but I'm glad I have the freedom use the
&gt; term REST a little loosely.

But *that* loosely?

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7295<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-12-28 20:57:55<br>
Subject:Atompub missed opportunity<br>
Message:<br><br>
<pre>I think Atompub is missing the chance to drive web services in the
right direction.  An Atompub server should drive interaction with
clients using forms, to indicate to the client what data the server
needs, and can accept.

Atom entry documents were originally designed to deliver information
to clients. Using them to introduce information to the server raises
some issues that working group has mostly resolved; but these issues
wouldn't be issues if Atom servers behaved like web servers serving
HTML forms to humans.

Example: the group spent some cycles deciding, Who sets atom:id? Must
the server preserve it if the client submits it? Hey -- it's a
required element... should we require clients to submit invalid
documents? etc. etc. This wouldn't be much of an issue if the client
first retrieved a form from the server, and the server either
requested that information or didn't.

Another one: Any feature of the Atom "data model" that doesn't exactly
conform to the server's model. My server knows about exactly one
author for a document. What do I do if you POST me an entry  having
multiple authors and some contributors too? And how can I tell you I
don't support those extra authors, so you can display the proper UI?
If you had initially requested the form from me, I would have only
permitted you to submit one author and no contributors. In your UI you
would gray out the extra fields my server doesn't support.

A forms pattern would also permit us to evolve the document format safely.

The forms here would be Xform models. Basically they are empty XML
templates for the client to fill out. They're not perfect, but good
enough for this job, standardized, and XML friendly. You would GET the
form from the link rel="edit" URI.

I am airing this out on this list because I recognize it's late in the
day for Atompub, and because I also think a reaction to this idea on
the WG would be, Huh? And then, You mean parse a form programatically?
Seriously? Dude, I have some blog software to finish.

(This mail mostly just embellishes on [1].)

Interested to hear what you all think, esp. the lurking Atompubbers.
(Don't see any history of this idea on the Wiki)

Hugh

[1] http://hughw.blogspot.com/2006/12/is-atompub-superfluous.html

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7296<br>
Sender:"S. Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-12-29 04:53:54<br>
Subject:RE: [rest-discuss] AOL and REST?<br>
Message:<br><br>
<pre>
&gt; But it also prompts me to think:
&gt; 
&gt;   Who the **** is getting paid to come up with this stuff for AOL? Why
&gt;   didn't they hire someone with a brain to do this?
It's called marketecture. Most people (developers, managers, executives)
I've talked with in the past few years regarding REST just think of it as a
label like all other techno-marketing-babble. It doesn't occur to them that
there actually is something to learn here. The engineering teams are too
busy making legacy systems accessible via the Web that they don't think
about designing /for/ the Web.

Most places are simply trying to do /something/ to get developers involved -
they really have no notion of 'good' or 'thoughtful', merely getting others
involved is sufficient. They also are trying to deliver what they think
developers want or are asking for. If developers call this rubbish and ask
for something better, then it'll change. Otherwise, it'll stay and only the
most broken bits will change - slowly. The weird part is that this is
version 3 of their 'REST' API.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7297<br>
Sender:"Dave Pawson" &lt;dave.pawson@...&gt;<br>
Post Date/Time:2006-12-29 09:18:50<br>
Subject:Re: [rest-discuss] AOL and REST?<br>
Message:<br><br>
<pre>On 29/12/06, S. Mike Dierken &lt;dierken@...&gt; wrote:

&gt;  It's called marketecture. Most people (developers, managers, executives)
&gt;  I've talked with in the past few years regarding REST just think of it as a
&gt;  label like all other techno-marketing-babble. It doesn't occur to them that
&gt;  there actually is something to learn here. The engineering teams are too
&gt;  busy making legacy systems accessible via the Web that they don't think
&gt;  about designing /for/ the Web.
&gt;
&gt;  Most places are simply trying to do /something/ to get developers involved -
&gt;  they really have no notion of 'good' or 'thoughtful', merely getting others
&gt;  involved is sufficient. They also are trying to deliver what they think
&gt;  developers want or are asking for. If developers call this rubbish and ask
&gt;  for something better, then it'll change. Otherwise, it'll stay and only the
&gt;  most broken bits will change - slowly.

That's a scarily accurate description of my experience with publishers
moving over to soft publishing methods. They are so far behind, and so
ill informed, that *any* information is taken on board.

As for future thinking... No chance.

regards


-- 
Dave Pawson
XSLT XSL-FO FAQ.
http://www.dpawson.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7298<br>
Sender:"wahbedahbe" &lt;andrew.wahbe@...&gt;<br>
Post Date/Time:2006-12-29 04:54:30<br>
Subject:Re: Atompub missed opportunity<br>
Message:<br><br>
<pre>Interesting... I've been coming up to speed on REST for a few weeks,
lurking on this list and reading anything I can find on the topic, and
the xforms idea is something that occurred to me as well -- though I
wasn't thinking specifically about Atompub.

I was thinking about an alternative approach to WSDL (and WADL) that
was more in line with what you get from HTML forms. For example, you
can GET a resource and receive an HTML representation of the
resource's state along with one or more forms that "describe" how to
interact with the resource you just "GOT" or with other
related/subordinate resources. In short, GETting a resource tells you
how to interact with it using other methods. 

If you'd rather provide (or _also_ provide -- through content neg.) an
XML representation of your resource, then you could embed xforms in
your data. You would need an xforms processor on the client that
allowed code to tweak form controls and submit the form through an API.

So instead of publishing URIs (or URI templates) and schemas in a
description of your resources/service you embed forms in the resource
content. The client of the form just has a few simple controls to
interact with. The form itself contains the logic of how to build the
XML payload based on the control settings. When the controls are set
to the client's liking, you submit the form. The form itself knows the
URI it needs to GET/PUT/POST/DELETE to.

Note that this mechanism would supplement, not replace, simple links
embedded in the content... there's no reason to do anything different
there.

You get the simplicity and resilience of the "human focused" HTML web
brought to the "machine focused" XML web. All you need is an xforms
processor that can be driven via an API... know of any? ;-)

--- In rest-discuss@yahoogroups.com, "Hugh Winkler" &lt;hughw@...&gt; wrote:
&gt;
&gt; I think Atompub is missing the chance to drive web services in the
&gt; right direction.  An Atompub server should drive interaction with
&gt; clients using forms, to indicate to the client what data the server
&gt; needs, and can accept.
&gt; 
&gt; Atom entry documents were originally designed to deliver information
&gt; to clients. Using them to introduce information to the server raises
&gt; some issues that working group has mostly resolved; but these issues
&gt; wouldn't be issues if Atom servers behaved like web servers serving
&gt; HTML forms to humans.
&gt; 
&gt; Example: the group spent some cycles deciding, Who sets atom:id? Must
&gt; the server preserve it if the client submits it? Hey -- it's a
&gt; required element... should we require clients to submit invalid
&gt; documents? etc. etc. This wouldn't be much of an issue if the client
&gt; first retrieved a form from the server, and the server either
&gt; requested that information or didn't.
&gt; 
&gt; Another one: Any feature of the Atom "data model" that doesn't exactly
&gt; conform to the server's model. My server knows about exactly one
&gt; author for a document. What do I do if you POST me an entry  having
&gt; multiple authors and some contributors too? And how can I tell you I
&gt; don't support those extra authors, so you can display the proper UI?
&gt; If you had initially requested the form from me, I would have only
&gt; permitted you to submit one author and no contributors. In your UI you
&gt; would gray out the extra fields my server doesn't support.
&gt; 
&gt; A forms pattern would also permit us to evolve the document format
safely.
&gt; 
&gt; The forms here would be Xform models. Basically they are empty XML
&gt; templates for the client to fill out. They're not perfect, but good
&gt; enough for this job, standardized, and XML friendly. You would GET the
&gt; form from the link rel="edit" URI.
&gt; 
&gt; I am airing this out on this list because I recognize it's late in the
&gt; day for Atompub, and because I also think a reaction to this idea on
&gt; the WG would be, Huh? And then, You mean parse a form programatically?
&gt; Seriously? Dude, I have some blog software to finish.
&gt; 
&gt; (This mail mostly just embellishes on [1].)
&gt; 
&gt; Interested to hear what you all think, esp. the lurking Atompubbers.
&gt; (Don't see any history of this idea on the Wiki)
&gt; 
&gt; Hugh
&gt; 
&gt; [1] http://hughw.blogspot.com/2006/12/is-atompub-superfluous.html
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7299<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-12-29 14:28:44<br>
Subject:Re: [rest-discuss] Re: Atompub missed opportunity<br>
Message:<br><br>
<pre>On 12/28/06, wahbedahbe &lt;andrew.wahbe@...&gt; wrote:
...
&gt; I was thinking about an alternative approach to WSDL (and WADL) that
&gt; was more in line with what you get from HTML forms. For example, you
&gt; can GET a resource and receive an HTML representation of the
&gt; resource's state along with one or more forms that "describe" how to
&gt; interact with the resource you just "GOT" or with other
&gt; related/subordinate resources. In short, GETting a resource tells you
&gt; how to interact with it using other methods.
&gt;

Yes. But keep in mind when you GET a HTML&lt; form from some URL, it
doesn't necessarily tell you how to interact with that resource -- it
can tell you to POST the form to some other URI. So let me rephrase
your statement: GETting a resource tells you how to interact with the
web application.

&gt; If you'd rather provide (or _also_ provide -- through content neg.) an
&gt; XML representation of your resource, then you could embed xforms in
&gt; your data. You would need an xforms processor on the client that
&gt; allowed code to tweak form controls and submit the form through an API.
&gt;
&gt; So instead of publishing URIs (or URI templates) and schemas in a
&gt; description of your resources/service you embed forms in the resource
&gt; content.

Yep. No WSDL needed. Schemas for the XML documents you plan to
exchange: you do need some shared understanding of the meanings of
elements. But no, you don't need to declare that a certain URI accepts
POST of documents of a certain type. The application itself will tell
you what to POST.

&gt;The client of the form just has a few simple controls to
&gt; interact with. The form itself contains the logic of how to build the
&gt; XML payload based on the control settings. When the controls are set
&gt; to the client's liking, you submit the form. The form itself knows the
&gt; URI it needs to GET/PUT/POST/DELETE to.
&gt;

Sure. I think the UI portion of Xforms is not all that relevant,
though. If the form tells the client he needs to collect the Author
data from the user, let the client do it however it likes.

&gt; Note that this mechanism would supplement, not replace, simple links
&gt; embedded in the content... there's no reason to do anything different
&gt; there.
&gt;
&gt; You get the simplicity and resilience of the "human focused" HTML web
&gt; brought to the "machine focused" XML web. All you need is an xforms
&gt; processor that can be driven via an API... know of any? ;-)
&gt;

There is FormsPlayer of course, but I would just use a SAX parser to
parse the Xform model and construct the filled in XML document.

Hugh

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7300<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-29 14:16:03<br>
Subject:Re: [rest-discuss] AOL and REST?<br>
Message:<br><br>
<pre>"S. Mike Dierken" &lt;dierken@...&gt; writes:

&gt; Most places are simply trying to do /something/ to get developers involved -
&gt; they really have no notion of 'good' or 'thoughtful', merely getting others
&gt; involved is sufficient. They also are trying to deliver what they think
&gt; developers want or are asking for. If developers call this rubbish and ask
&gt; for something better, then it'll change. Otherwise, it'll stay and only the
&gt; most broken bits will change - slowly. The weird part is that this is
&gt; version 3 of their 'REST' API.

Is anyone using it? It's appallingly bad.

But I guess it's only an appallingly bad example. If they can cope
with all the stupid stuff it's doing then they can cope.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7301<br>
Sender:"Steve G. Bjorg" &lt;steveb@...&gt;<br>
Post Date/Time:2006-12-29 20:57:53<br>
Subject:Re: MindTouch Dream<br>
Message:<br><br>
<pre>&lt;mikeschinkel@...&gt; wrote:
&gt; 1.) The Blueprint file "feels" like it's too tightly bound to the
class and
&gt; might be better if it were more loosly bound allowing a lot more
&gt; flexibility. My caveat is that this is just my subjective impression
and I
&gt; may be misinterpretting.

You are quite right.  For now, the blueprint's primary use is to
describe how to map the instance methods to URIs.  Should the format
outgrow this initial use, then I'd certainly need to revise it to
create greater separation in concerns: one for specifying the service
definition and another for the binding.

 
&gt; 2.) Given how so many people evidently misunderstand REST principles
(this
&gt; from what others on REST-discuss have told me recently) I think the
&gt; "verb/method" syntax might confuse people that don't yet understand
REST.
&gt; May I propose, assuming similar syntax w/o incorporating any of my
comments
&gt; from #1:
&gt; 
&gt;      &lt;feature&gt;
&gt;          &lt;signature&gt;answer/&lt;/signature&gt;
&gt;          &lt;HttpMethod&gt;GET&lt;/HttpMethod&gt;
&gt;          &lt;InstanceMethod&gt;GetAnswer&lt;/InstanceMethod&gt;
&gt;      &lt;/feature&gt;

Wow, that's going to be hard for me! :)  I started using the term
'verb' for HTTP methods way back.  I think it was Henrik that
introduced me to it.  Also, I like keeping two distinct vocabularies
around: blueprint vs. class, service vs. instance, verb+signature vs.
method.  It reduces confusion when talking about both concepts
simultaneously.


&gt; 3.) I was confused by your use of "@" for "@config" and "@inspect."
 May I
&gt; ask why you chose to use them instead of just "config" and "inspect?"
&gt; According to RFC 3986, the "@" sign is a reserved character [1]  in
a URL
&gt; and thus it's not really a good idea to use them because them much
be URL
&gt; encoded, and they might even conflict with potential future usage.

Ah yes, the ugly '@' prefix. It's to avoid naming clashes between
built-in and custom URIs.  Maybe we should have used '.'. 


&gt; Again, I'm not a REST expert (yet :) so I look forward to the others
here
&gt; weighing in on both of our comments.

Same here.  I really appreciate any and all feedback.  Thanks.


Cheers,

- Steve


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7302<br>
Sender:"Steve G. Bjorg" &lt;steveb@...&gt;<br>
Post Date/Time:2006-12-29 21:25:50<br>
Subject:Re: Atompub missed opportunity<br>
Message:<br><br>
<pre>"Hugh Winkler" &lt;hughw@...&gt; wrote:
&gt; 
&gt; &gt; If you'd rather provide (or _also_ provide -- through content neg.) an
&gt; &gt; XML representation of your resource, then you could embed xforms in
&gt; &gt; your data. You would need an xforms processor on the client that
&gt; &gt; allowed code to tweak form controls and submit the form through an
API.
&gt; &gt;
&gt; &gt; So instead of publishing URIs (or URI templates) and schemas in a
&gt; &gt; description of your resources/service you embed forms in the resource
&gt; &gt; content.
&gt; 
&gt; Yep. No WSDL needed. Schemas for the XML documents you plan to
&gt; exchange: you do need some shared understanding of the meanings of
&gt; elements. But no, you don't need to declare that a certain URI accepts
&gt; POST of documents of a certain type. The application itself will tell
&gt; you what to POST.

I find this idea very intriguing and it has been slushing around my
mind for a few weeks.  It's simple to imagine a form with a few fields
that either need to be filled out or selected.  But what about
services that support submissions of variable length (i.e. multiple
records).  How would the form express that?

In other words, I can see how the form can be generated from the
schema (modulo input field descriptions), but I'm not sure how to
infer the complete schema from a form.  Are there examples of this?

While I'm at it, has someone already created a RelaxNG-to-Form
converter?  I have it currently on my drawing board for our Dream
service infrastructure.


Cheers,

- Steve


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7303<br>
Sender:"Stelios Eliakis" &lt;eliakis@...&gt;<br>
Post Date/Time:2006-12-29 23:09:15<br>
Subject:405 Method Not Allowed<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7304<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-29 23:56:52<br>
Subject:Re: [rest-discuss] 405 Method Not Allowed<br>
Message:<br><br>
<pre>"Stelios Eliakis" &lt;eliakis@...&gt; writes:

&gt; Hi,
&gt; I try to implement my first RestFull application and I have a problem.
&gt; I'm using apache 2.2.3 and when I try to make a DELETE request I take the
&gt; following error:
&gt;
&gt; Method failed: HTTP/1.1 405 Method Not Allowed
&gt;
&gt; How can I overcome this problem? What I have to change in
&gt; httpd.conf?

You need an apache request handler that implements DELETE.

Apache does not implement DELETE for files.

You could write a CGI script or use PHP, mod_perl, mod_python or any
of those sorts of tools to implement DELETE.


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7305<br>
Sender:"Stelios Eliakis" &lt;eliakis@...&gt;<br>
Post Date/Time:2006-12-30 09:02:28<br>
Subject:Re: [rest-discuss] 405 Method Not Allowed<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7306<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-30 10:57:21<br>
Subject:Re: [rest-discuss] 405 Method Not Allowed<br>
Message:<br><br>
<pre>"Stelios Eliakis" &lt;eliakis@...&gt; writes:

&gt; Thanks for your reply!
&gt;
&gt; I have already written a php function that handles DELETE ( I suppose).
&gt; for example:
&gt;
&gt; if ($_SERVER['REQUEST_METHOD'] = DELETE )
&gt; {
&gt;            whatever
&gt; }
&gt;
&gt; I do not know how can I integrate this function with apache so as 405 error
&gt; do not appear.
&gt; Do you know any module or something else because I try to Google it but I
&gt; didn't find any resource.

If you have that called via mod_php then you should be fine.

This is not an Apache support list but you could send your apache
config and I'll take a look.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7307<br>
Sender:"Stelios Eliakis" &lt;eliakis@...&gt;<br>
Post Date/Time:2006-12-30 11:43:41<br>
Subject:Re: [rest-discuss] 405 Method Not Allowed<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7308<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-30 12:15:48<br>
Subject:Re: [rest-discuss] 405 Method Not Allowed<br>
Message:<br><br>
<pre>"Stelios Eliakis" &lt;eliakis@...&gt; writes:

&gt; # Customizable error responses come in three flavors:
&gt; # 1) plain text 2) local redirects 3) external redirects
&gt; #
&gt; # Some examples:
&gt; #ErrorDocument 500 "The server made a boo boo."
&gt; #ErrorDocument 404 /missing.html
&gt; #ErrorDocument 404 "/cgi-bin/missing_handler.pl"
&gt; &lt;IfModule mod_php5.c&gt;
&gt;     AddType application/x-httpd-php .php
&gt;     AddType application/x-httpd-php .php3
&gt;     AddType application/x-httpd-php-source .phps
&gt; &lt;/IfModule&gt;

This is the pertinent bit and looks fine.

And your PHP script is not getting the request at all?

Is Apache getting it? Can you see a 405 in the access log for that
apache? (in other words make sure you're not getting 405 from an
intermediary like a proxy).

Do you know how to use a packet tracer like ngrep?

   ngrep -d eth0 -W byline port 80

on the apache server will show what is coming and going from the
normal apache port.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7309<br>
Sender:John Panzer &lt;jpanzer@...&gt;<br>
Post Date/Time:2006-12-30 16:25:53<br>
Subject:Re: [rest-discuss] AOL and REST?<br>
Message:<br><br>
<pre>Nic James Ferrier wrote:

&gt;I got an email from someone at a well known publishing house asking me
&gt;to write articles about AOL stuff.
&gt;
&gt;AOL have this strategy - they're going to be more open. They've
&gt;developed a bunch of APIs that they think make this happen. 
&gt;
&gt;Said publishing house has been hired to put editorial on this
&gt;together.
&gt;
&gt;
&gt;So I looked at one of AOLs offerings:
&gt;
&gt;  http://dev.aol.com/aol_video/index.html
&gt;
&gt;There's a REST API!
&gt;
&gt;  http://dev.aol.com/aol_video/index.html
&gt;
&gt;Except this isn't REST. It isn't even HTTP for God's sake. It's just
&gt;stupid. There are methods embedded in the URIs. Everything is done
&gt;with GET. We were just talking about how stupid that was.
&gt;  
&gt;
I work for AOL, and believe me I've mentioned that this isn't a REST 
API.  (It's an RPC-over-http API.)  I think that for you to provide this 
feedback to the publishing house would be good.  It's unhelpful to 
mislabel things.

I'd be happy to hear about specific issues that we could bring back to 
the development team in question.  A general suggestion to use REST 
style interfaces could be helpful; demand from the developer community 
is important.  At the moment a big focus is on making things available 
via in-browser JSON calls (which I just noticed they amusingly call the 
'AJAX' API). 

The APIs are definitely incomplete and only a portion of them are 
documented on dev.aol.com.  Please consider it a work in progress.

-John

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7310<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-12-30 18:13:07<br>
Subject:Re: [rest-discuss] AOL and REST?<br>
Message:<br><br>
<pre>On 12/30/06, John Panzer &lt;jpanzer@...&gt; wrote:

&gt; The APIs are definitely incomplete and only a portion of them are
&gt; documented on dev.aol.com.  Please consider it a work in progress.
&gt;
&gt; -John

I can't help thinking APIs like this are going to converge on GData.
Of course, you can call yours AData.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7311<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-30 16:17:08<br>
Subject:Re: [rest-discuss] 405 Method Not Allowed<br>
Message:<br><br>
<pre>"Stelios Eliakis" &lt;eliakis@...&gt; writes:

&gt; This is from my log file
&gt;
&gt; 127.0.0.1 - - [30/Dec/2006:14:11:34 +0200] "DELETE /RestFull/in_user/1/
&gt; HTTP/1.1" 405 276
&gt;
&gt; so there is a 405 error
&gt;
&gt; My php script runs when I do a request in /localhost/RestFull/users/1/
&gt; (there is an rest.php file) and says that
&gt; if you do GET do this
&gt; if you do POST do this
&gt; if you do PUT do this
&gt; if you do DELETE do this
&gt;
&gt; is that a correct approach?

Seems you've got everything correct.

We haven't seen the enirety of your php page. If you can, simplify the
php to the point where the decision over the method is really
obvious. Maybe you've got a logic error that is causing the method
decision not to happen?

If it doesn't work in those circumstances then send us a copy?


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7312<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-30 19:54:16<br>
Subject:Re: [rest-discuss] AOL and REST?<br>
Message:<br><br>
<pre>John Panzer &lt;jpanzer@...&gt; writes:

&gt; I work for AOL, and believe me I've mentioned that this isn't a REST 
&gt; API.  (It's an RPC-over-http API.)  I think that for you to provide this 
&gt; feedback to the publishing house would be good.  It's unhelpful to 
&gt; mislabel things.

AOL do call it a REST API.

The publishing house didn't seem interested in taking AOLs money to
pay me to write articles rubbishing them.


&gt; I'd be happy to hear about specific issues that we could bring back to 
&gt; the development team in question.  A general suggestion to use REST 
&gt; style interfaces could be helpful; 

I think the main problem with what AOL is doing is the example. I'm
not sure how many people follow that example... but it is a bad one.

There is also the threat to your internal systems upon which these
APIs reside. Having unsafe GETs can cause terrible problems as has
been documented here recently.


&gt; is important.  At the moment a big focus is on making things available 
&gt; via in-browser JSON calls (which I just noticed they amusingly call the 
&gt; 'AJAX' API). 

I believe this is a foolish trend as well. If you build a decent REST
interface then writing AJAX librarys is a doddle.

I am doing this right now for my REST web-based development
environment. It's so much easier because the foundations of all stuff
are REST.


&gt; The APIs are definitely incomplete and only a portion of them are 
&gt; documented on dev.aol.com.  Please consider it a work in progress.

Yes. I may have been unduly harsh. Mainly coz I would like to be paid
to do this stuff. 

There are plenty of other companies making exactly the same mistakes.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7313<br>
Sender:"Mike Dierken" &lt;dierken@...&gt;<br>
Post Date/Time:2006-12-30 20:13:34<br>
Subject:Re: [rest-discuss] AOL and REST?<br>
Message:<br><br>
<pre>First, it looks like some folks spent a good deal of time writing
extensive documentation - that's very nice.
Here are a couple comments:

1 Application ID
The application-id is placed in the URI, but it does not appear to
actually change what data is being accessed - it's not part of a data
identifier. An alternative would be to use the Authorization request
header (where username/passwords normally go) in order to specify the
application ID.
 Pro: closer to protocol specification for authentication
 Pro: common URI for a resource across applications provide more
chances for caching, hyperlink references, etc.
 Con: logging/processing of requests on the server would need to
examine more than just the URI (hopefully this isn't a challenge for
your framework)

2 API reference documentation

2.1 Requests
The details of a request do not specify important details of the HTTP
message. Showing a full request message with all headers would be
useful - merely showing the URI and calling it a 'request' is
incorrect.
For example: http://developer.searchvideo.com/method.php?name=truveo.videos.getVideos
 A) What is the the HTTP method - is it GET, POST, etc? Requests that
modify data should never use GET. Requests that are safely repeatable
can use DELETE - this allows the method to be re-submitted in case of
a network failure or if the response fails to be returned.
 B) What kind of conditional requests are supported (if-modified-since, etc)?
 C) What Accept request headers are supported - for example, does
"Accept: text/javascript" work?
 D) Details about authentication, or a pointer to an appropriate
section on authentication would be helpful.

In addition, it's important to separate concept of 'resource' from
'method'. You can send several methods to a single resource - GET,
POST, etc. Often it helps to think of resources as collections that
can be retrieved, added to or removed completely.
Most of the documented requests have 'get', 'add', 'modify' or
'remove' in their name - these should be phrased as HTTP methods (GET,
POST, DELETE) and the method= parameter turned into 'type=' or
something.
Here is an example where one resource (one URI) could have several
supported methods (there would be additional query terms on these
particular resources):
 getRecentVideos() : /apiv3?method=truveo.users.getRecentVideos -&gt; GET
/apiv3?type=RecentVideos
 addRecentVideo() : /apiv3?method=truveo.users.addRecentVideo -&gt; POST
/apiv3?type=RecentVideos
 clearRecentVideos() : /apiv3?method=truveo.users.clearRecentVideos -&gt;
DELETE /apiv3?type=RecentVideos


2.2 Responses
The details of a response are not fully specified. For example, this
page http://developer.searchvideo.com/method.php?name=truveo.videos.getVideos
lists a set of error codes, but there is no description of how the
error codes are returned.
Other aspects of an HTTP response that should be described:
 A) status codes - describe error situations and what response code
will be returned. For example, many internal error codes listed should
result in a status code of "404 Resource Not Found" along with a
response body with details (perhaps containing those internal error
codes), others may result in "401 Unauthorized". See
http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html for details.
(Note - you probably could simplify the set of internal error codes if
you didn't use numbers but returned the actual name of the parameter
that was invalid.)
 B) content type - what MIME type will be returned (I assume it's
"application/xml", but it could be something else).
 C) cache control - what caching support is provided?

3 User Sign In
Considering security and privacy of end-users is very good. However,
the approach of 'signing in' seems odd, complex and not at all a
service API. Specifically, the authentication specification describes
only how to redirect a user's web browser to a particular page. For
non-browser based applications, this would be unhelpful.
Essentially, the user's username/password is submitted via HTTPS and a
response has a Location: header with a URI with an auth=[something]
query term. That auth value is then used to generate a token that
(temporarily) identifies the user, which is then later used in other
user-specific requests.



On 12/30/06, John Panzer &lt;jpanzer@...&gt; wrote:
&gt; Nic James Ferrier wrote:
&gt;
&gt; &gt;I got an email from someone at a well known publishing house asking me
&gt; &gt;to write articles about AOL stuff.
&gt; &gt;
&gt; &gt;AOL have this strategy - they're going to be more open. They've
&gt; &gt;developed a bunch of APIs that they think make this happen.
&gt; &gt;
&gt; &gt;Said publishing house has been hired to put editorial on this
&gt; &gt;together.
&gt; &gt;
&gt; &gt;
&gt; &gt;So I looked at one of AOLs offerings:
&gt; &gt;
&gt; &gt;  http://dev.aol.com/aol_video/index.html
&gt; &gt;
&gt; &gt;There's a REST API!
&gt; &gt;
&gt; &gt;  http://dev.aol.com/aol_video/index.html
&gt; &gt;
&gt; &gt;Except this isn't REST. It isn't even HTTP for God's sake. It's just
&gt; &gt;stupid. There are methods embedded in the URIs. Everything is done
&gt; &gt;with GET. We were just talking about how stupid that was.
&gt; &gt;
&gt; &gt;
&gt; I work for AOL, and believe me I've mentioned that this isn't a REST
&gt; API.  (It's an RPC-over-http API.)  I think that for you to provide this
&gt; feedback to the publishing house would be good.  It's unhelpful to
&gt; mislabel things.
&gt;
&gt; I'd be happy to hear about specific issues that we could bring back to
&gt; the development team in question.  A general suggestion to use REST
&gt; style interfaces could be helpful; demand from the developer community
&gt; is important.  At the moment a big focus is on making things available
&gt; via in-browser JSON calls (which I just noticed they amusingly call the
&gt; 'AJAX' API).
&gt;
&gt; The APIs are definitely incomplete and only a portion of them are
&gt; documented on dev.aol.com.  Please consider it a work in progress.
&gt;
&gt; -John
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7314<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2006-12-30 22:23:40<br>
Subject:Re: [rest-discuss] Atompub missed opportunity<br>
Message:<br><br>
<pre>Hugh Winkler wrote:
&gt; 
&gt; 
&gt; I think Atompub is missing the chance to drive web services in the
&gt; right direction. An Atompub server should drive interaction with
&gt; clients using forms, to indicate to the client what data the server
&gt; needs, and can accept.
&gt; 
&gt; Atom entry documents were originally designed to deliver information
&gt; to clients. Using them to introduce information to the server raises
&gt; some issues that working group has mostly resolved; but these issues
&gt; wouldn't be issues if Atom servers behaved like web servers serving
&gt; HTML forms to humans.
&gt; 
&gt; Example: the group spent some cycles deciding, Who sets atom:id? Must
&gt; the server preserve it if the client submits it? Hey -- it's a
&gt; required element... should we require clients to submit invalid
&gt; documents? etc. etc. This wouldn't be much of an issue if the client
&gt; first retrieved a form from the server, and the server either
&gt; requested that information or didn't.

Atom Format can assume that atom:id already exist and doesn't have to 
consider the entry lifecycle; Atom Protocol conversely has to consider 
how entries come to be and how ids are minted.

There's more to this than you suggest; it's not just about issuance, 
it's also about permanency. One usecase/gedanken to chew on is migrating 
entries from one system or server to another. Another is manipulating 
atom:id+atom:updated to spam/hijack entries. Another is enabling 
multiple entries to be created (as will be the case in APP with photos 
or podcasts) in a forms based approach.

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7315<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-12-30 22:45:24<br>
Subject:Re: [rest-discuss] Atompub missed opportunity<br>
Message:<br><br>
<pre>On Thu, 2006-12-28 at 14:57 -0600, Hugh Winkler wrote:
&gt; I think Atompub is missing the chance to drive web services in the
&gt; right direction. An Atompub server should drive interaction with
&gt; clients using forms, to indicate to the client what data the server
&gt; needs, and can accept.
...
&gt; A forms pattern would also permit us to evolve the document format
&gt; safely.
&gt; The forms here would be Xform models. Basically they are empty XML
&gt; templates for the client to fill out. They're not perfect, but good
&gt; enough for this job, standardized, and XML friendly. You would GET the
&gt; form from the link rel="edit" URI.

I'm not sure who you think will interpret this form on the client side.
You see, the thing is that the atom document format is already a form. A
client has already received the form by being programmed in a particular
way, and is now submitting the form. It knows what information should be
placed in each of the named fields. It knows how to construct the end
document.

One might argue that the client and server should communicate online
before the client submits data that the server might not accept. In one
of the examples you mentioned earlier the server might not support the
full atom protocol, in that multiple authors may not be supported. As
such, the server might be able to publish a document that indicated a
subset of the atom format that is usable. I suggest that while a
document format could be produced to communicate which subset is
important, the cost would likely outweigh the value. Certainly, allowing
for additional elements in the form would not be meaningful to a client
without further specificaiton as to what those elements mean. Any
additions of this kind would likely require code changes to the client.

In general, the client should provide the information it has in the form
of a subset of the atom specification. The server should read and
understand as much as it can of any input documents, filling out missing
elements (such as id) with default or generated values if necessary. If
the server doesn't understand parts of the document they should be
discarded. Where the server partially understands the input format (for
example, supporting only one author) it should have an algorithm for
determining which information it will keep and which it will discard.
Negotiation of capabilities ahead of time just complicates matters, and
doesn't change the fact that both sides must have new code written for
them to support a new feature deployment.

Benjamin.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7316<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-12-31 01:08:29<br>
Subject:Re: [rest-discuss] Atompub missed opportunity<br>
Message:<br><br>
<pre>On 12/30/06, Benjamin Carlyle &lt;benjamincarlyle@...&gt; wrote:
&gt; On Thu, 2006-12-28 at 14:57 -0600, Hugh Winkler wrote:
&gt; &gt; I think Atompub is missing the chance to drive web services in the
&gt; &gt; right direction. An Atompub server should drive interaction with
&gt; &gt; clients using forms, to indicate to the client what data the server
&gt; &gt; needs, and can accept.
&gt; ...
&gt; &gt; A forms pattern would also permit us to evolve the document format
&gt; &gt; safely.
&gt; &gt; The forms here would be Xform models. Basically they are empty XML
&gt; &gt; templates for the client to fill out. They're not perfect, but good
&gt; &gt; enough for this job, standardized, and XML friendly. You would GET the
&gt; &gt; form from the link rel="edit" URI.
&gt;
&gt; I'm not sure who you think will interpret this form on the client side.
&gt; You see, the thing is that the atom document format is already a form. A
&gt; client has already received the form by being programmed in a particular
&gt; way, and is now submitting the form. It knows what information should be
&gt; placed in each of the named fields. It knows how to construct the end
&gt; document.

Ah, but it is a standard form for all servers -- not for my particular
server app. And to know what kind of form to submit, you read a spec
-- you did not GET the description from the server. It's all baked in
at design time.

What I proposed is that the form delivered by a server have just the
elements that make sense for the server. My server might not know what
to do with a &lt;source&gt; element. Using the standard "form", my server
has to have handling in place if you submit a &lt;source&gt; element, and it
has to describe to you the problem if you do submit &lt;source&gt; and my
server rejects it.

&gt;
&gt; One might argue that the client and server should communicate online
&gt; before the client submits data that the server might not accept. In one
&gt; of the examples you mentioned earlier the server might not support the
&gt; full atom protocol, in that multiple authors may not be supported.

To be clear -- whether a server has a model supporting multiple
authors is a modeling, not a message exchange protocol, issue.

&gt; As
&gt; such, the server might be able to publish a document that indicated a
&gt; subset of the atom format that is usable.
&gt;I suggest that while a
&gt; document format could be produced to communicate which subset is
&gt; important, the cost would likely outweigh the value. Certainly, allowing
&gt; for additional elements in the form would not be meaningful to a client
&gt; without further specificaiton as to what those elements mean. Any
&gt; additions of this kind would likely require code changes to the client.

Well I was focusing on what clients POST to servers, but it seemed
like you began that para talking about what servers publish?

In the case of servers describing what clients can send to them, that
would just be the Xform, so I'm not clear how the cost outweighs the
value --  it seems simple enough in this case.

&gt;
&gt; In general, the client should provide the information it has in the form
&gt; of a subset of the atom specification. The server should read and
&gt; understand as much as it can of any input documents, filling out missing
&gt; elements (such as id) with default or generated values if necessary. If
&gt; the server doesn't understand parts of the document they should be
&gt; discarded. Where the server partially understands the input format (for
&gt; example, supporting only one author) it should have an algorithm for
&gt; determining which information it will keep and which it will discard.

You are describing just what APP servers have do under draft 12. I am
saying that is not great, and it is avoidable if the server describes
to the client, via a form, just what it needs to know to create a new
entry.


&gt; Negotiation of capabilities ahead of time just complicates matters, and
&gt; doesn't change the fact that both sides must have new code written for
&gt; them to support a new feature deployment.
&gt;

Unclear what you mean here... there's no negotiation going on, and
nothing happens "ahead of time", or needs to. Client GETs from the
URI, receives a form, fills it out, and POSTs it to a URI described in
that form. Hypertext the engine of application state.

If client supports a new feature introduced later, and server fails to
request that element in its form, no problem... plus, the client can
tell that the server does not support that feature. Good, right?

If the server supports a new feature the client doesn't know about,
well it's unlikely that will be a required feature for the server to
honor the request. But if it is, the client cannot supply that
information, but it's no worse in the forms approach I propose, than
it would be under the present scheme.

Hugh

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7317<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-12-31 01:49:14<br>
Subject:Re: [rest-discuss] Atompub missed opportunity<br>
Message:<br><br>
<pre>On 12/30/06, Bill de hOra &lt;bill@...&gt; wrote:
&gt; Hugh Winkler wrote:
&gt; &gt;
&gt; &gt;
&gt; &gt; I think Atompub is missing the chance to drive web services in the
&gt; &gt; right direction. An Atompub server should drive interaction with
&gt; &gt; clients using forms, to indicate to the client what data the server
&gt; &gt; needs, and can accept.
&gt; &gt;
&gt; &gt; Atom entry documents were originally designed to deliver information
&gt; &gt; to clients. Using them to introduce information to the server raises

&gt; &gt; some issues that working group has mostly resolved; but these issues
&gt; &gt; wouldn't be issues if Atom servers behaved like web servers serving
&gt; &gt; HTML forms to humans.
&gt; &gt;
&gt; &gt; Example: the group spent some cycles deciding, Who sets atom:id? Must
&gt; &gt; the server preserve it if the client submits it? Hey -- it's a
&gt; &gt; required element... should we require clients to submit invalid
&gt; &gt; documents? etc. etc. This wouldn't be much of an issue if the client
&gt; &gt; first retrieved a form from the server, and the server either
&gt; &gt; requested that information or didn't.
&gt;
&gt; Atom Format can assume that atom:id already exist and doesn't have to
&gt; consider the entry lifecycle; Atom Protocol conversely has to consider
&gt; how entries come to be and how ids are minted.

Yes.

&gt;
&gt; There's more to this than you suggest; it's not just about issuance,
&gt; it's also about permanency. One usecase/gedanken to chew on is migrating
&gt; entries from one system or server to another. Another is manipulating
&gt; atom:id+atom:updated to spam/hijack entries. Another is enabling
&gt; multiple entries to be created (as will be the case in APP with photos
&gt; or podcasts) in a forms based approach.
&gt;

Yes... Atompub addressed the issue that only way it can. It says
servers are free to change atom:id. It's acknowledging that there are
different kinds of servers out there. Some are designed to generate
their own ids, some are designed to allow or even require the client
to generate atom:id. And there's a corollary: clients have to submit
atom:id because they don't know whether the server is the one kind or
the other, do they?

The WG had to spell out that the server can change the atom:id only
because it has inadvertently taken on the task of describing server
models and capturing all of the possible reasonable behavior in this
spec. It did so the minute it decided all servers would accept Atom
entry documents. In doing so it had to describe as many exceptional
cases as it could predict.

Good on Atompub for capturing all the use cases you outlined in a
description of the meaning of atom:id. Servers and clients need to
share that understanding of its meaning. My comments were off the mark
in implying that that discussion was unnecessary. I should have said,
the spec would not have had to prescribe allow behavior around
atom:id, if the server were allowed to tell the client just what data
it needs using a form.


Hugh

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7318<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-12-31 02:55:37<br>
Subject:Re: [rest-discuss] Re: Atompub missed opportunity<br>
Message:<br><br>
<pre>On 12/29/06, Steve G. Bjorg &lt;steveb@...&gt; wrote:
&gt; "Hugh Winkler" &lt;hughw@...&gt; wrote:
&gt; &gt;
&gt; &gt; &gt; If you'd rather provide (or _also_ provide -- through content neg.) an
&gt; &gt; &gt; XML representation of your resource, then you could embed xforms in
&gt; &gt; &gt; your data. You would need an xforms processor on the client that
&gt; &gt; &gt; allowed code to tweak form controls and submit the form through an
&gt; API.
&gt; &gt; &gt;
&gt; &gt; &gt; So instead of publishing URIs (or URI templates) and schemas in a
&gt; &gt; &gt; description of your resources/service you embed forms in the resource
&gt; &gt; &gt; content.
&gt; &gt;
&gt; &gt; Yep. No WSDL needed. Schemas for the XML documents you plan to
&gt; &gt; exchange: you do need some shared understanding of the meanings of
&gt; &gt; elements. But no, you don't need to declare that a certain URI accepts
&gt; &gt; POST of documents of a certain type. The application itself will tell
&gt; &gt; you what to POST.
&gt;
&gt; I find this idea very intriguing and it has been slushing around my
&gt; mind for a few weeks.  It's simple to imagine a form with a few fields
&gt; that either need to be filled out or selected.  But what about
&gt; services that support submissions of variable length (i.e. multiple
&gt; records).  How would the form express that?

There's a constraint language in Xforms that I won't pretend to  be fluent in:
http://www.w3.org/TR/xforms/slice2.html#concepts-model

&gt;
&gt; In other words, I can see how the form can be generated from the
&gt; schema (modulo input field descriptions), but I'm not sure how to
&gt; infer the complete schema from a form.  Are there examples of this?
&gt;

Unsure I'm understanding you: Why would you want to infer a complete
schema from a form?

&gt; While I'm at it, has someone already created a RelaxNG-to-Form
&gt; converter?  I have it currently on my drawing board for our Dream
&gt; service infrastructure.
&gt;
&gt;
&gt; Cheers,
&gt;
&gt; - Steve
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;


-- 
Hugh Winkler
Wellstorm Development

http://www.wellstorm.com/
+1 512 694 4795 mobile (preferred)
+1 512 264 3998 office

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7319<br>
Sender:John Panzer &lt;jpanzer@...&gt;<br>
Post Date/Time:2006-12-31 03:09:25<br>
Subject:Re: [rest-discuss] AOL and REST?<br>
Message:<br><br>
<pre>Nic James Ferrier wrote:

&gt;John Panzer &lt;jpanzer@...&gt; writes:
&gt;  
&gt;
&gt;&gt;I work for AOL, and believe me I've mentioned that this isn't a REST 
&gt;&gt;API.  (It's an RPC-over-http API.)  I think that for you to provide this 
&gt;&gt;feedback to the publishing house would be good.  It's unhelpful to 
&gt;&gt;mislabel things.
&gt;&gt;    
&gt;&gt;
&gt;
&gt;AOL do call it a REST API.
&gt;  
&gt;
Just to be clear, I agree with you; AOL's documentation is mislabeling 
this API to call it REST.  It's also doubly confusing because there are 
some real REST APIs coming down the pike from AOL too, and not having a 
way to distinguish one from the other is going to be a real issue.  When 
I get back from vacation I'll see if I can bend a few ears.

&gt;The publishing house didn't seem interested in taking AOLs money to
&gt;pay me to write articles rubbishing them.
&gt;  
&gt;
Well, we've filled our quota for those kinds of articles, you see.  
Don't seem to need to pay for them either :).

But seriously, hopefully we can take this feedback and work on improving 
the APIs.

-- 
Abstractioneer &lt;http://feeds.feedburner.com/aol/SzHO&gt;John Panzer
System Architect
http://abstractioneer.org
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7320<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-12-31 11:03:46<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>ROn 12/2/06, Bill de hOra &lt;bill@...&gt; wrote:
 &gt; &gt;
 &gt; &gt;  It often seems to me that POST is a catchall for "do it". I guess the
 &gt; &gt;  reason I'm pushing on this is to figure out why the 2 verb web is a
 &gt; &gt;  runaway success. What's driving that? Is it because of the design
 &gt; &gt;  principles? Or because POST is so decoupled from meaning? Or would
 &gt; &gt;  things simply be much better even we had a broader vocabulary deployed
 &gt; &gt;  under the design principles?

I just did an interview with Bill Venners on exactly this:

http://www.artima.com/lejava/articles/why_put_and_delete.html


-- 
﻿Elliotte Rusty Harold  elharo@...
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7321<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-12-31 13:24:48<br>
Subject:Determining the equality of two URLs<br>
Message:<br><br>
<pre>How would one determine the deep equality of two URLs? That is, it is 
possible for two URLs to identify the same resource, but how can one 
know this? (aside from trivial cases like http://www.oreilly.com and 
http://www.oreilly.com:80/ )

Is there anyway to ask a server whether it considers two URLs to be the 
same? Should there be?

You could certainly implement this as a GET to a special URL on the 
server, but I'm beginning to wonder if this is a special case like HEAD 
where an additional verb might actually make sense.

-- 
﻿Elliotte Rusty Harold  elharo@...
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7322<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-31 13:37:46<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>Elliotte Harold &lt;elharo@...&gt; writes:

&gt; ROn 12/2/06, Bill de hOra &lt;bill@...&gt; wrote:
&gt;  &gt; &gt;
&gt;  &gt; &gt;  It often seems to me that POST is a catchall for "do it". I guess the
&gt;  &gt; &gt;  reason I'm pushing on this is to figure out why the 2 verb web is a
&gt;  &gt; &gt;  runaway success. What's driving that? Is it because of the design
&gt;  &gt; &gt;  principles? Or because POST is so decoupled from meaning? Or would
&gt;  &gt; &gt;  things simply be much better even we had a broader vocabulary deployed
&gt;  &gt; &gt;  under the design principles?
&gt;
&gt; I just did an interview with Bill Venners on exactly this:
&gt;
&gt; http://www.artima.com/lejava/articles/why_put_and_delete.html

Also see REST-AHAH by estemeed members of this list at:

 http://microformats.org/wiki/rest/ahah

I think the reason GET and POST are succesfull is nothing to do with
REST or good design principles. It's to do with
implementation. Programmers of my acquitance would use GET for
everything. One can always get them to use POST by explaining that the
user sees what is put in the GET (in the form of query parameters
etc...). Use of POST is really just a bit of tuning to these sort of
people.

Many programmers (of my acquintance anyway) don't care at all about
architectural principles or anything to do with the science of what
they do. They have a bizarre warped view of "what works" and they
refuse to educate themselves about the right way.

One reason why WS-* has taken hold is because it doesn't challenge
anyone to change their way of thinking of behaving. They can carry on
writing the same old crud.

A cheery new year thought.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7323<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2006-12-31 14:37:41<br>
Subject:Re: [rest-discuss] Determining the equality of two URLs<br>
Message:<br><br>
<pre>On 12/31/06, Elliotte Harold &lt;elharo@...&gt; wrote:
&gt; [snip] ... (aside from trivial cases like http://www.oreilly.com and
&gt; http://www.oreilly.com:80/ )

AFAIK, you cannot assume that port 80 is the default port - isn't that
just a convention that an admin can amend at will? Therefore, you
can't say that they are the same resource.

Off the cuff, I would guess that the only way that you can check that
the resources are the same is to either:

1) GET both resources and compare, or
2) if the server implements ETag support (not all do), you could
compare two HEAD requests.

To the best of my knowledge, there is no HTTP specification for
resource equivalence checking.

Alan Dean

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7324<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2006-12-31 16:25:16<br>
Subject:Re: [rest-discuss] Determining the equality of two URLs<br>
Message:<br><br>
<pre>On 12/31/06, Elliotte Harold &lt;elharo@...&gt; wrote:
&gt; How would one determine the deep equality of two URLs? That is, it is
&gt; possible for two URLs to identify the same resource, but how can one
&gt; know this? (aside from trivial cases like http://www.oreilly.com and
&gt; http://www.oreilly.com:80/ )

"Because URIs exist to identify resources, presumably they should be
considered equivalent when they identify the same resource. However,
this definition of equivalence is not of much practical use, as there
is no way for an implementation to compare two resources unless it has
full knowledge or control of them. For this reason, determination of
equivalence or difference of URIs is based on string comparison,
perhaps augmented by reference to additional rules provided by URI
scheme definitions."

http://www.gbiv.com/protocols/uri/rfc/rfc3986.html#comparison

tells you how to normalize two urls for comparison.


&gt;
&gt; Is there anyway to ask a server whether it considers two URLs to be the
&gt; same? Should there be?
&gt;

owl:sameAs?
http://www.w3.org/TR/owl-ref/#sameAs-def

&gt; You could certainly implement this as a GET to a special URL on the
&gt; server, but I'm beginning to wonder if this is a special case like HEAD
&gt; where an additional verb might actually make sense.
&gt;
&gt; --
&gt; Elliotte Rusty Harold  elharo@...
&gt; Java I/O 2nd Edition Just Published!
&gt; http://www.cafeaulait.org/books/javaio2/
&gt; http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;


-- 
Hugh Winkler
Wellstorm Development

http://www.wellstorm.com/
+1 512 694 4795 mobile (preferred)
+1 512 264 3998 office

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7325<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-12-31 18:06:25<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>Paul Downey wrote:

&gt; 1) POST is often a nicer way to create resources than PUT URI
&gt;    a POST to a http://../photos 'factory' returning
&gt;    http://../photos/1234567 created resource

That's reasonable, though it's something people keep missing. POST 
should be used to create a resource at a server-chosen URL. PUT should 
be used to create a resource at a client-supplied URL. REST is not CRUD. See

http://www.elharo.com/blog/software-development/web-development/2005/12/08/post-vs-put/


&gt; 2) DELETE isn't always what you want, I might want to remove
&gt;    a photo, but not all record of it ever existing.
&gt;    POST to http://../photos/1234567/ is seen as a good way to
&gt;    drop an image, but not its metadata

If what you want to do is zero a file, you should PUT a zero length 
request to the file's URL. I'm not completely clear that that's what 
you're doing here.

&gt; 3) as essential as PUT and DELETE are, they're blocked by many
&gt;    firewall/proxies and it's a brave API developer who
&gt;    depends upon them ..

Yes, that's a problem, though I really don't think that tunneling PUT 
and DELETE through GET and POST is the solution. I tend to believe that 
firewall preferences should be respected. If someone has chosen to block 
the functionality of PUT and DELETE, then that's there decision and we 
should respect it.

-- 
﻿Elliotte Rusty Harold  elharo@...
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7326<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2006-12-31 19:00:49<br>
Subject:RE: [rest-discuss] Re: MindTouch Dream<br>
Message:<br><br>
<pre>Steve G. Bjorg wrote:
&gt;&gt; &lt;feature&gt;
&gt;&gt; &lt;signature&gt;answer/&lt;/signature&gt;
&gt;&gt; &lt;HttpMethod&gt;GET&lt;/HttpMethod&gt;
&gt;&gt; &lt;InstanceMethod&gt;GetAnswer&lt;/InstanceMethod&gt;
&gt;&gt; &lt;/feature&gt;
&gt;
&gt; Wow, that's going to be hard for me! :) I started using the term
&gt; 'verb' for HTTP methods way back. I think it was Henrik that
&gt; introduced me to it. Also, I like keeping two distinct vocabularies
&gt; around: blueprint vs. class, service vs. instance, verb+signature vs.
&gt; method. It reduces confusion when talking about both concepts
&gt; simultaneously.

My preference would be to have one shared vocabulary, especially since they
are so synergistic.  It would seem that a smaller volcabulary would be less
confusing, but to each his own.

&gt; Ah yes, the ugly '@' prefix. It's to avoid naming clashes between
&gt; built-in and custom URIs. Maybe we should have used '.'. 

I definitely wouldn't use something that requires encoding.

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7327<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2006-12-31 18:56:56<br>
Subject:Re: [rest-discuss] Determining the equality of two URLs<br>
Message:<br><br>
<pre>Maintaining multiple URIs for the same resource is not
best practice.  For the same reason you want uniformity in
methods, you want one preferred URI for identifying a
resource.  The server should redirect requests for other
equivalent URIs to the preferred one.  Althought that's not
quite what you are asking, I think it is the answer.

Walden

----- Original Message ----- 
From: "Elliotte Harold" &lt;elharo@...&gt;
To: "REST Discuss" &lt;rest-discuss@yahoogroups.com&gt;
Sent: Sunday, December 31, 2006 8:24 AM
Subject: [rest-discuss] Determining the equality of two URLs


: How would one determine the deep equality of two URLs? That is, it is
: possible for two URLs to identify the same resource, but how can one
: know this? (aside from trivial cases like http://www.oreilly.com and
: http://www.oreilly.com:80/ )
:
: Is there anyway to ask a server whether it considers two URLs to be the
: same? Should there be?
:
: You could certainly implement this as a GET to a special URL on the
: server, but I'm beginning to wonder if this is a special case like HEAD
: where an additional verb might actually make sense.
:
: -- 
: ﻿Elliotte Rusty Harold  elharo@...
: Java I/O 2nd Edition Just Published!
: http://www.cafeaulait.org/books/javaio2/
: http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/
:
:
: __________ NOD32 1949 (20061230) Information __________
:
: This message was checked by NOD32 antivirus system.
: http://www.eset.com
:
: 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7328<br>
Sender:"Justin T. Sampson" &lt;justin@...&gt;<br>
Post Date/Time:2006-12-31 19:26:53<br>
Subject:Re: [rest-discuss] Determining the equality of two URLs<br>
Message:<br><br>
<pre>On 12/31/06, Alan Dean &lt;alan.dean@...&gt; wrote:

&gt; On 12/31/06, Elliotte Harold &lt;elharo@...&gt; wrote:
&gt;
&gt;  &gt; [snip] ... (aside from trivial cases like http://www.oreilly.com and
&gt;  &gt; http://www.oreilly.com:80/ )
&gt;
&gt;  AFAIK, you cannot assume that port 80 is the default port - isn't that
&gt;  just a convention that an admin can amend at will? Therefore, you
&gt;  can't say that they are the same resource.

Nope -- the client has to know the port before connecting to the
server! An http: URI without a port is definitely equivalent to the
same URI with :80 added. That's one of the rules for textual
comparison of URIs.

&gt;  Off the cuff, I would guess that the only way that you can check that
&gt;  the resources are the same is to either:
&gt;
&gt;  1) GET both resources and compare, or

Of course, you'd be getting and comparing representations, not resources...

&gt;  2) if the server implements ETag support (not all do), you could
&gt;  compare two HEAD requests.

ETags are per-resource; the "same" ETag may be returned in requests to
different resources.

&gt;  To the best of my knowledge, there is no HTTP specification for
&gt;  resource equivalence checking.

Yep. You might get some implicit information from the Location or
Content-Location headers returned by the server, but those still don't
tell you it's the "same" resource. I suppose a more direct question
for Elliotte is, what would this information be used for?

Cheers,
Justin

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7329<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-31 20:50:30<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>Elliotte Harold &lt;elharo@...&gt; writes:

&gt;&gt; 3) as essential as PUT and DELETE are, they're blocked by many
&gt;&gt;    firewall/proxies and it's a brave API developer who
&gt;&gt;    depends upon them ..
&gt;
&gt; Yes, that's a problem, though I really don't think that tunneling PUT 
&gt; and DELETE through GET and POST is the solution. I tend to believe that 
&gt; firewall preferences should be respected. If someone has chosen to block 
&gt; the functionality of PUT and DELETE, then that's there decision and we 
&gt; should respect it.

I think we probably shouldn't respect it because it's probably not
been done for the right reasons.

However, for the forseeable future many resource interactions are very
modellable with POST if you look at them right.

Resources can be created with POST. You can then consider your
resource as something versioned. Editing the resource involves POSTing
new data to the resource (which alters the resource which you're
POSTing to).

Deleting the resource is much more problematic. But you can do as
Elliotte suggests and POST null data to the resource (causing the
resource to be updated with nothing).

This is REST-AHAH essentially. It's not as good as REST, but it is
very portable indeed. If I were an API designer it's what I'd be
using.


Happy New Year everyone.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7330<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-12-31 22:02:54<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>Nic James Ferrier wrote:

&gt; However, for the forseeable future many resource interactions are very
&gt; modellable with POST if you look at them right.
&gt; 

POST is pretty much do-anything, including everything you can do with 
GET, PUT, and DELETE. However, if you use GET, PUT, and DELETE for what 
they're intended for a lot of good things happen. For instance, you can 
build editing and upload support right into the server and client 
without requiring custom scripts. The lack of this is one reason web 
editing didn't become really possible for many end users until blogs 
came along, and still isn't possible for many in a non-blog context.

-- 
﻿Elliotte Rusty Harold  elharo@...
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7331<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-12-31 21:58:13<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>Nic James Ferrier wrote:

&gt; I think we probably shouldn't respect it because it's probably not
&gt; been done for the right reasons.

And you know that how? It is not your place to say that I have 
configured my firewall improperly. Perhaps I have. perhaps I haven't, 
but don't be trying to sneak through it just because you think you know 
what's best for me.

-- 
﻿Elliotte Rusty Harold  elharo@...
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7332<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-12-31 22:20:26<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>Nic James Ferrier wrote:

&gt; Deleting the resource is much more problematic. But you can do as
&gt; Elliotte suggests and POST null data to the resource (causing the
&gt; resource to be updated with nothing).

That's not at all what I suggested. Using POST to delete requires a 
special POST handler for the resource, just like using POST to UPDATE.

You can PUT an empty message body to zero out the message while still 
allowing it to exist. It just has empty content.

-- 
﻿Elliotte Rusty Harold  elharo@...
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7333<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-31 22:17:58<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>Elliotte Harold &lt;elharo@...&gt; writes:

&gt; Nic James Ferrier wrote:
&gt;
&gt;&gt; However, for the forseeable future many resource interactions are very
&gt;&gt; modellable with POST if you look at them right.
&gt;&gt; 
&gt;
&gt; POST is pretty much do-anything, including everything you can do with 
&gt; GET, PUT, and DELETE. However, if you use GET, PUT, and DELETE for what 
&gt; they're intended for a lot of good things happen. For instance, you can 
&gt; build editing and upload support right into the server and client 
&gt; without requiring custom scripts. The lack of this is one reason web 
&gt; editing didn't become really possible for many end users until blogs 
&gt; came along, and still isn't possible for many in a non-blog context.

Yep. I agree. Trouble is if you happen to be behind one of the
firewalls you're out.

If you're making a public API right now and you're trying to get
coverage you can get round the problems by using REST-AHAH.


Of course... I'd prefer that stupid firewalls didn't filter these
methods.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7334<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-12-31 22:41:03<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>Nic James Ferrier wrote:

&gt; Yep. I agree. Trouble is if you happen to be behind one of the
&gt; firewalls you're out.

No, if you're behind the firewall, then you can change its rules (if you 
want to). It's those in front of the firewall that are blocked out, as 
they should be if the firewall owners don't choose to let them in.


-- 
﻿Elliotte Rusty Harold  elharo@...
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7335<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-31 22:27:02<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>Elliotte Harold &lt;elharo@...&gt; writes:

&gt; Nic James Ferrier wrote:
&gt;
&gt;&gt; I think we probably shouldn't respect it because it's probably not
&gt;&gt; been done for the right reasons.
&gt;
&gt; And you know that how? 

Omniscience.


&gt; but don't be trying to sneak through it just because you think you know 
&gt; what's best for me.

If I want to sneak round any firewalls I will (as Paul knows).


Joking aside: remember that this is mostly about people going out
through the firewall. I'm not sneaking round it, people inside the
firewalled zone are being prevented from doing DELETE or PUT.

What reason can there be for preventing ones users from sending PUT or
DELETE?

I can't see one.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7336<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-12-31 22:46:49<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>Nic James Ferrier wrote:

&gt; What reason can there be for preventing ones users from sending PUT or
&gt; DELETE?
&gt; 
&gt; I can't see one.
&gt; 

Irrelevant. If the firewall admins see one, that's good enough. It's 
their firewall, not yours. If the internal users are inconvenienced then 
they are free to lobby to change their organization's firewall policy, 
through whatever means are available within their organization. However 
it is not the place of external users to help the internal users subvert 
their organizations' policies, ill-considered or otherwise.

Indeed if the firewall policies are really brain-damaged then the most 
effective way to convince people of this is to let things break rather 
than working around their brain damage.

-- 
﻿Elliotte Rusty Harold  elharo@...
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7337<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2006-12-31 22:43:18<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>Nic James Ferrier wrote:

&gt; If you're making a public API right now and you're trying to get
&gt; coverage you can get round the problems by using REST-AHAH.

I fail to see how that solves this problem. Perhaps you can elaborate? 
As far as I see, REST-AHAH just means you send HTML into browsers 
instead of XML. Seems reasonable if trivial assuming all you want to do 
is update a the HTML of a page, and considerably limited if you want to 
more than that.




-- 
﻿Elliotte Rusty Harold  elharo@...
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7338<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-31 23:07:37<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>Elliotte Harold &lt;elharo@...&gt; writes:

&gt; Nic James Ferrier wrote:
&gt;
&gt;&gt; Yep. I agree. Trouble is if you happen to be behind one of the
&gt;&gt; firewalls you're out.
&gt;
&gt; No, if you're behind the firewall, then you can change its rules (if you 
&gt; want to). It's those in front of the firewall that are blocked out, as 
&gt; they should be if the firewall owners don't choose to let them in.

What I'm complaining about and what I think the general problem is, is
green side users who are firewalled off (or often just proxy-ed since
there are so many crappy proxies around) sending PUT or DELETE.

A big company I worked at recently did this. There was no particular
reason for it except the firewall administrators consider that sending
PUT or DELETE is insecure.

There was no possibility of getting it changed just because it was a
BIG company and the security guys were, how shall we say, detached.

I did some research with friends and relations in other big corporates
and in most of them (7 out of the 9) the situation was the same.


This is a big problem for API designers I think. We can use hacks on
the client side to resend a PUT as a POST with a marker if one gets a
405 from a local proxy or something... but it's not perfect.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7339<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-31 23:14:57<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>Elliotte Harold &lt;elharo@...&gt; writes:

&gt; Nic James Ferrier wrote:
&gt;
&gt;&gt; If you're making a public API right now and you're trying to get
&gt;&gt; coverage you can get round the problems by using REST-AHAH.
&gt;
&gt; I fail to see how that solves this problem. Perhaps you can elaborate? 
&gt; As far as I see, REST-AHAH just means you send HTML into browsers 
&gt; instead of XML. Seems reasonable if trivial assuming all you want to do 
&gt; is update a the HTML of a page, and considerably limited if you want to 
&gt; more than that.

REST-AHAH cuts the methods down to GET and POST (and OPTIONS and HEAD
too I guess).

They talk explicitly about the styles I was talking about: using POST
to update a resource by creating subsidiary resources.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7340<br>
Sender:Nic James Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2006-12-31 23:11:14<br>
Subject:Re: [rest-discuss] Atom, 'process-this'-POST and rockets<br>
Message:<br><br>
<pre>Elliotte Harold &lt;elharo@...&gt; writes:

&gt; Indeed if the firewall policies are really brain-damaged then the most 
&gt; effective way to convince people of this is to let things break rather 
&gt; than working around their brain damage.

I have a lot of sympathy with this view. But I bet the product
managers for the various RESTfull APIs out there don't think the same
way. They think bums on seats, no?


btw we keep talking about firewalls but I think that the problem here
is more to do with old or just dumb proxy servers. The problem will go
away eventually... because people will upgrade their proxy
servers. But there are still proxy servers being written which don't
support PUT and DELETE.

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk   for all your tapsell ferrier needs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7341<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2006-12-31 23:36:36<br>
Subject:Re: [rest-discuss] Atompub missed opportunity<br>
Message:<br><br>
<pre>On Sat, 2006-12-30 at 19:08 -0600, Hugh Winkler wrote:
&gt; On 12/30/06, Benjamin Carlyle &lt;benjamincarlyle@...&gt; wrote:
&gt; &gt; I'm not sure who you think will interpret this form on the client
&gt; side.
&gt; &gt; You see, the thing is that the atom document format is already a
&gt; form. A
&gt; &gt; client has already received the form by being programmed in a
&gt; particular
&gt; &gt; way, and is now submitting the form. It knows what information
&gt; should be
&gt; &gt; placed in each of the named fields. It knows how to construct the
&gt; end
&gt; &gt; document.
&gt; Ah, but it is a standard form for all servers -- not for my particular
&gt; server app. And to know what kind of form to submit, you read a spec
&gt; -- you did not GET the description from the server. It's all baked in
&gt; at design time.

Exactly. It has been agreed ahead of time. Now, I can just send my POST
request and know that the server understands a useful subset of what I
am sending them.

What you are suggesting is that I first need to obtain a schema document
(which you are calling a form) to see if the server is actually
understanding only a subset of the atom vocabulary. Then I need to
customize my content to conform to this subset. As a machine, I don't
have any good way of doing that. If I come up to a server that has
support for an unexpectedly small subset of atom, I then have to
customize my content in an unexpected way. That is to say, I way that
noone programmed me to customise my content in :)

The server, on the other hand, is in a good position to customise the
content. It knows which subset of atom it understands, and it knows what
atom is generally. It knows multiple authors might be required, so is in
a position to either model those multiple authors or use an algorithm to
select an author for its model from the available list.

&gt; What I proposed is that the form delivered by a server have just the
&gt; elements that make sense for the server. My server might not know what
&gt; to do with a &lt;source&gt; element. Using the standard "form", my server
&gt; has to have handling in place if you submit a &lt;source&gt; element, and it
&gt; has to describe to you the problem if you do submit &lt;source&gt; and my
&gt; server rejects it.

All atom elements make sense to the server, even if they don't fit the
server's internal model. The server implements atom, after all. What you
are suggesting is adding an extra message exchange to move the
complexity of fitting atom into the server's model back to the client.
Neither side is going to be great at solving a model mismatch problem,
but the client is likely to be downright incapable. If you really want
to be able to sensibly deal with this class of server you need to encode
how that class of server behaves into the atom specifications (as you
suggested was already being done). Then the server will use a
generally-accepted algorithm to select which author it will use from the
ones available, and the client will know to put the most important
author first.

&gt; &gt; One might argue that the client and server should communicate online
&gt; &gt; before the client submits data that the server might not accept. In
&gt; one
&gt; &gt; of the examples you mentioned earlier the server might not support
&gt; the
&gt; &gt; full atom protocol, in that multiple authors may not be supported.
&gt; To be clear -- whether a server has a model supporting multiple
&gt; authors is a modeling, not a message exchange protocol, issue.

The server's model doesn't allow for a full fidelity translation of the
atom protocol. The model doesn't allow the full protocol to be
understood.

&gt; &gt; As
&gt; &gt; such, the server might be able to publish a document that indicated
&gt; a
&gt; &gt; subset of the atom format that is usable.
&gt; &gt;I suggest that while a
&gt; &gt; document format could be produced to communicate which subset is
&gt; &gt; important, the cost would likely outweigh the value. Certainly,
&gt; allowing
&gt; &gt; for additional elements in the form would not be meaningful to a
&gt; client
&gt; &gt; without further specificaiton as to what those elements mean. Any
&gt; &gt; additions of this kind would likely require code changes to the
&gt; client.
&gt; 
&gt; Well I was focusing on what clients POST to servers, but it seemed
&gt; like you began that para talking about what servers publish?
&gt; 
&gt; In the case of servers describing what clients can send to them, that
&gt; would just be the Xform, so I'm not clear how the cost outweighs the
&gt; value -- it seems simple enough in this case.

Hrrm... why not xml schema? Why not relax ng? Why not another format?

Naming a particular specification doesn't really help. A standardisation
process still has to take place to achieve widespread acceptance.

Your server can still offer an xform or a HTML form to allow new atom
entries to be created by humans. That needs no further standardisation
to occur. However, machine to machine communications is best and
simplest when the specification can be treated as the form that needs to
be filled out and understood. Additional negotiation between client and
server reduces the value of the standard and increases complexity
everwhere.

Benjamin.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:7370<br>
Sender:"Stelios Eliakis" &lt;eliakis@...&gt;<br>
Post Date/Time:2006-12-30 12:36:45<br>
Subject:Re: [rest-discuss] 405 Method Not Allowed<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
