<style>pre {white-space: pre-wrap;}</style>
-----------------------------------------------------------------------------------<br>
Post ID:4744<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-01-01 19:20:20<br>
Subject:Re: [rest-discuss] REST and the design of HTTP methods<br>
Message:<br><br>
<pre>Julian Reschke wrote:

[...]

&gt;Let's stick with a 
&gt;very simple example such as:
&gt;
&gt;HEAD /foo HTTP/1.1
&gt;Host: example.com
&gt;
&gt;vs
&gt;
&gt;PROPFIND /foo HTTP/1.1
&gt;Host: example.com
&gt;Depth: 0
&gt;Content-Type: application/xml
&gt;
&gt;&lt;propfind xmlns="DAV:"&gt;
&gt;   &lt;prop&gt;&lt;getcontenttype/&gt;&lt;getcontentlength&gt;&lt;/prop&gt;
&gt;&lt;/propfind&gt;
&gt;
&gt;At least in this case, PROPFIND doesn't seem to be more than a different 
&gt;way of getting the same information.
&gt;  
&gt;
Does anyone happen to know why the functionality of PROPFIND has not 
simply been enabled by
the definition of a set of additional headers, e.g.

HEAD /foo HTTP/1.1
Host: example.com
DAV-GetProps: ContentType; ContentLength

???

Or would this use of headers be unRESTful anyhow?

Jan


&gt;So is your concern about cases such as custom properties on a resource?
&gt;
&gt;Best regards, Julian
&gt;
&gt;  
&gt;


-- 
Jan Algermissen
Consultant &amp; Programmer
http://jalgermissen.com



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4745<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2005-01-01 21:06:08<br>
Subject:Re: [rest-discuss] REST and the design of HTTP methods<br>
Message:<br><br>
<pre>Jan Algermissen wrote:
&gt; Does anyone happen to know why the functionality of PROPFIND has not 
&gt; simply been enabled by
&gt; the definition of a set of additional headers, e.g.
&gt; 
&gt; HEAD /foo HTTP/1.1
&gt; Host: example.com
&gt; DAV-GetProps: ContentType; ContentLength
&gt; 
&gt; ???
&gt; 
&gt; Or would this use of headers be unRESTful anyhow?
&gt; 
&gt; Jan

Extensibility of header names? Internationalization considerations? 
Namespace operations? Updates of properties?

Anyway, this:

	"WebDAV and the Birth of Properties" 
&lt;http://lists.w3.org/Archives/Public/w3c-dist-auth/1998OctDec/0074.html&gt;

may also be an interesting read...

Julian

-- 
&lt;green/&gt;bytes GmbH -- http://www.greenbytes.de -- tel:+492512807760

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4746<br>
Sender:Roy T. Fielding &lt;fielding@...&gt;<br>
Post Date/Time:2005-01-01 22:32:50<br>
Subject:Re: [rest-discuss] REST and the design of HTTP methods<br>
Message:<br><br>
<pre>On Jan 1, 2005, at 1:06 PM, Julian Reschke wrote:
&gt; Extensibility of header names? Internationalization considerations?
&gt; Namespace operations? Updates of properties?
&gt;
&gt; Anyway, this:
&gt;
&gt; 	"WebDAV and the Birth of Properties"
&gt; &lt;http://lists.w3.org/Archives/Public/w3c-dist-auth/1998OctDec/ 
&gt; 0074.html&gt;
&gt;
&gt; may also be an interesting read...

Yeah, Yaron's twisted little view of history.  It would be more  
accurate to say
that some people insisted HTTP could not carry internationalized data in
header fields (which is blatantly false -- it is only inconveniently  
encoded),
and thus spawned an incredibly convoluted XML format for properties,  
which
later got boiled down to name-value pairs (like all metadata systems).   
DASL
got invented because an XML search interface was needed to deal with  
the complex
properties, but was later dropped due to lack of interest in a  
half-assed
variation of what the real database people were working on with XQuery.

The issue of identification started because of a really bad paper tiger  
design
for munging URIs that was proposed by someone else, rejected, and then  
replaced
by me during a meeting at Xerox PARC with the imagemap-style URI  
provided
by the server.  Larry did not object to that style of munging.  The  
design was
not used by WebDAV because the editors chose not to for some unknown  
reason,
not because there was any objection from the working group (on the  
contrary,
both Henrik and I objected to the extra methods).  All of that nonsense
about extra round-trips is just bullshit invented by Yaron --  
Microsoft's own
implementations had no such concern for round-trips and actually made  
two
unnecessary requests prior to each WebDAV resource action just to check  
if it
was actually WebDAV-enabled.

WebDAV is stuck with that design because we let Microsoft dominate the
working group as the only significant implementation.  Apache's mod_dav
didn't come along until much later.  Henrik's implementation in libwww,
completed during the HTTP/1.1 design, was ignored because it didn't use  
XML.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4747<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2005-01-02 13:34:44<br>
Subject:Re: [rest-discuss] REST and the design of HTTP methods<br>
Message:<br><br>
<pre>Roy T. Fielding wrote:
&gt; ...
&gt; Yeah, Yaron's twisted little view of history.  It would be more  
&gt; accurate to say
&gt; that some people insisted HTTP could not carry internationalized data in
&gt; header fields (which is blatantly false -- it is only inconveniently  
&gt; encoded),
&gt; and thus spawned an incredibly convoluted XML format for properties,  
&gt; which
&gt; later got boiled down to name-value pairs (like all metadata systems).   
&gt; DASL
&gt; got invented because an XML search interface was needed to deal with  
&gt; the complex
&gt; properties, but was later dropped due to lack of interest in a  
&gt; half-assed
&gt; variation of what the real database people were working on with XQuery.

OK, another interesting read is in Jim Whitehead's and Yaron Goland's 
"The WebDAV Property Design" 
"&lt;http://www.cs.ucsc.edu/~ejw/papers/spe-whitehead.pdf&gt;.

I came to WebDAV only in early 2001 (when all design decisions were 
already made and DeltaV was nearing completion). However, I do agree 
with some of the points made about using HTTP headers for properties, in 
particular:

HTTP header values can use non-ASCII characters (RFC2231), but the 
header names itself can't (or am I missing something)? So if it is a 
requirement that property *names* can use arbitrary characters, they 
can't be mapped to header names.

It would be an interesting exercise to define a new request header for 
GET/HEAD that would basically transport PROPFIND (depth=0) information 
in headers. Anybody interested?

&gt; The issue of identification started because of a really bad paper tiger  
&gt; design
&gt; for munging URIs that was proposed by someone else, rejected, and then  
&gt; replaced
&gt; by me during a meeting at Xerox PARC with the imagemap-style URI  
&gt; provided
&gt; by the server.  Larry did not object to that style of munging.  The  
&gt; design was
&gt; not used by WebDAV because the editors chose not to for some unknown  
&gt; reason,
&gt; not because there was any objection from the working group (on the  
&gt; contrary,
&gt; both Henrik and I objected to the extra methods).  All of that nonsense

I'd really like to see that proposal, however I haven't been able to 
find it in the mailing list archives so far. Unfortunately, the other 
archive that's supposed to have it 
(&lt;http://ftp.ics.uci.edu/pub/ietf/webdav/&gt;) seems to be 
misconfigured/down right down.

&gt; about extra round-trips is just bullshit invented by Yaron --  
&gt; Microsoft's own
&gt; implementations had no such concern for round-trips and actually made  
&gt; two
&gt; unnecessary requests prior to each WebDAV resource action just to check  
&gt; if it
&gt; was actually WebDAV-enabled.
&gt; 
&gt; WebDAV is stuck with that design because we let Microsoft dominate the
&gt; working group as the only significant implementation.  Apache's mod_dav
&gt; didn't come along until much later.  Henrik's implementation in libwww,
&gt; completed during the HTTP/1.1 design, was ignored because it didn't use  
&gt; XML.

Although I'm not happy with many parts of the WebDAV design, there 
doesn't seem to be a lot of competition, probably because it's "good 
enough". However, that doesn't mean that it wouldn't be a good thing to 
actually document an alternate design -- maybe it could get traction 
outside the Microsoft world (such as Apache/mod_dav and Apache Slide).

Best regards, Julian

-- 
&lt;green/&gt;bytes GmbH -- http://www.greenbytes.de -- tel:+492512807760

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4748<br>
Sender:"elseielstad" &lt;elseielstad@...&gt;<br>
Post Date/Time:2005-01-13 03:33:36<br>
Subject:missing REST<br>
Message:<br><br>
<pre>

 
  Ok, I haven't made it through the original disertation -- but I've
gone through some of the posts here -- and read up on the wiki -- I
think I grok the basics of the REST concepts.

   Am I correct in assuming that, the existing web-browser/web-server
model are too limited to produce a real REST app -- because there is
no mechanism available for resources to communicate...

except through the client --and basic web-browsers don't have any mechanism to handle 
that sort of transaction.  ( that's not a bad thing - it just means that you need to 
understand that a "RESTful" client is not a typical web-browser-- but the REST resources 
can be talked to using web-protocols )

   --erik







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4749<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-01-13 09:59:37<br>
Subject:Re: [rest-discuss] missing REST<br>
Message:<br><br>
<pre>elseielstad wrote:

&gt;
&gt; 
&gt;  Ok, I haven't made it through the original disertation -- 
&gt;
Do it! And do it with passion :o) It takes time because it is dense 
(==value in every sentence), but it pays off very well.

&gt;but I've
&gt;gone through some of the posts here -- and read up on the wiki -- I
&gt;think I grok the basics of the REST concepts.
&gt;
&gt;   Am I correct in assuming that, the existing web-browser/web-server
&gt;model are too limited to produce a real REST app -- because there is
&gt;no mechanism available for resources to communicate...
&gt;  
&gt;
No, that'snot true. Resources do not communicate. User agents invoke 
methods on resources and receive hypermedia representations. By 
traversing the links contained in that hypermedia, a user agent proceeds 
through a RESTful application (e.g. a Web search in Google, a purchase 
at Amazon or a ticket in a trouble ticket system.

The Web is full of RESTful applications.

&gt;except through the client --and basic web-browsers don't have any mechanism to handle 
&gt;that sort of transaction.  ( that's not a bad thing - it just means that you need to 
&gt;understand that a "RESTful" client is not a typical web-browser-- but the REST resources 
&gt;can be talked to using web-protocols )
&gt;  
&gt;
The Browser is a perfect REST client.

Maybe rephrase your question, I feel I am missing something.

HTH,

Jan

&gt;   --erik
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; 
&gt;Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt; 
&gt;
&gt;
&gt;
&gt;
&gt;  
&gt;


-- 
Jan Algermissen
Consultant &amp; Programmer
http://jalgermissen.com



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4750<br>
Sender:Justin Sampson &lt;justin@...&gt;<br>
Post Date/Time:2005-01-13 07:34:54<br>
Subject:Re: [rest-discuss] missing REST<br>
Message:<br><br>
<pre>The Web is *the* "real REST app". REST is a description of the principles
that made the Web architecture so successful, and guidelines for keeping
it that way. As we build more and more dynamic Web sites (that is, "Web
applications" and "Web services") we should keep in mind why the Web works
in the first place. Too many Web applications and Web services are
implemented in total ignorance of the architecture of the Web itself,
resulting in awkward, unscalable systems.

That's my take on it, anyway.

Justin


On Thu, 13 Jan 2005, elseielstad wrote:

&gt;   Ok, I haven't made it through the original disertation -- but I've
&gt; gone through some of the posts here -- and read up on the wiki -- I
&gt; think I grok the basics of the REST concepts.
&gt; 
&gt;    Am I correct in assuming that, the existing web-browser/web-server
&gt; model are too limited to produce a real REST app -- because there is no
&gt; mechanism available for resources to communicate...
&gt; 
&gt; except through the client --and basic web-browsers don't have any
&gt; mechanism to handle that sort of transaction.  ( that's not a bad thing
&gt; - it just means that you need to understand that a "RESTful" client is
&gt; not a typical web-browser-- but the REST resources can be talked to
&gt; using web-protocols )
&gt; 
&gt;    --erik


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4751<br>
Sender:"John Coe" &lt;jcoe18@...&gt;<br>
Post Date/Time:2005-01-13 16:50:53<br>
Subject:Re: [rest-discuss] missing REST<br>
Message:<br><br>
<pre> The place that I have found REST most interesting, is in assembiling content from many web source using client side XSL processing, here is a snip that uses google's REST interface, the select=document( ) line performs the google search.

-&lt;!--  Obtain the first 6 items from the search criteria =========================  --&gt;
f(clean);
 

- &lt;xsl:template name="six-pack"&gt;

  &lt;xsl:param name="search-term" /&gt; - &lt;!--  Build the query string   --&gt;
f(clean);
 
- &lt;xsl:variable name="google-query-string"&gt;

- &lt;xsl:variable name="base-query"&gt;

- &lt;xsl:call-template name="google-request"&gt;

  &lt;xsl:with-param name="search-term" select="$search-term" /&gt;   &lt;/xsl:call-template&gt;  &lt;/xsl:variable&gt;
  &lt;xsl:value-of select="concat($base-query, '&amp;maxResults=6')" /&gt;   &lt;/xsl:variable&gt;
  &lt;xsl:variable name="google-results" select="document($google-query-string)" /&gt; - &lt;xsl:for-each select="$google-results//xoomle:item"&gt;.......&lt;/xsl:for-each &gt;here is my Wiki page that uses REST in this way. HTHJohn--- On Thu 01/13, Jan Algermissen &lt; jalgermissen@... &gt; wrote:From: Jan Algermissen [mailto: jalgermissen@...]To: elseielstad@...: rest-discuss@yahoogroups.comDate: Thu, 13 Jan 2005 10:59:37 +0100Subject: Re: [rest-discuss] missing RESTelseielstad wrote:&gt;&gt; &gt;  Ok, I haven't made it through the original disertation -- &gt;Do it! And do it with passion :o) It takes time because it is dense (==value in every sentence), but it pays off very well.&gt;but I've&gt;gone through some of the posts here -- and read up on the wiki -- I&gt;think I grok the basics of the REST concepts.&gt;&gt;   Am I correct in assuming that, the existing web-browser/web-server&gt;model are too limited to produce a real REST app -- because there is&gt;no mechanism available for resources to communicate...&gt;  &gt;No, that'snot true. Resources do not communicate. User agents invoke methods on resources and receive hypermedia representations. By traversing the links contained in that hypermedia, a user agent proceeds through a RESTful application (e.g. a Web search in Google, a purchase at Amazon or a ticket in a trouble ticket system.The Web is full of RESTful applications.&gt;except through the client --and basic web-browsers don't have any mechanism to handle &gt;that sort of transaction.  ( that's not a bad thing - it just means that you need to &gt;understand that a "RESTful" client is not a typical web-browser-- but the REST resources &gt;can be talked to using web-protocols )&gt;  &gt;The Browser is a perfect REST client.Maybe rephrase your question, I feel I am missing something.HTH,Jan&gt;   --erik&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; &gt;Yahoo! Groups Links&gt;&gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;  &gt;-- Jan AlgermissenConsultant &amp; Programmerhttp://jalgermissen.com

Yahoo! Groups Links

To visit your group on the web, go to:http://groups.yahoo.com/group/rest-discuss/  
To unsubscribe from this group, send an email to:rest-discuss-unsubscribe@yahoogroups.com  
Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 


_______________________________________________
Join Excite! - http://www.excite.com
The most personalized portal on the Web!
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4752<br>
Sender:"elseielstad" &lt;elseielstad@...&gt;<br>
Post Date/Time:2005-01-14 05:17:13<br>
Subject:Re: missing REST<br>
Message:<br><br>
<pre>
&gt; elseielstad wrote:
&gt; &gt;   Am I correct in assuming that, the existing 
&gt; &gt; web-browser/web-server model are too limited 
&gt; &gt; to produce a real REST app -- because there
&gt; &gt; is no mechanism available for resources to communicate...

 Jan Algermissen &lt;jalgermissen@t...&gt; wrote:
&gt; Maybe rephrase your question, I feel I am missing something.

     perhaps I'm giving the REpresentational State Transfer theory
too much credit -- the "current" http-server/http-client model for
doing a "GET" -- follow links, or fill out a form,  "POST", the
server 
generates a new page...the "application" flows along (blah, blah...)

    but my impression (and this is where I could be giving the whole
idea too much credit) is that the concept behind the REST model is 
advance web technology by building network  "resources" that can
be used ((and re-used), and linked together) to form distributed
client 
applications.

    Debating the finer points of human-readable formats versus binary
API's, or the semantic difference in RFC2616 between a http PUT and
a POST does not effect people looking to build something truely new.

    I can see some benefit to breaking a web applications into
resource manipulations -- you're buying a new iPod on a 
commerce-site, and it wants a mailing address -- so your 
client queries your network address-book resource (say,
http://addresses.yahoo.com/ ) and ships the appropriate
information to the shipping-address resource on the commerce 
site.

    I don't see how you can make a web-browser talk to distributed
resources (especially when part of the power of the internet is 
that *I* may use address.yahoo.com, you may use your .mac address
book -- someone else may have their own apache server at home 
to provide that resource.)

    build me a distributed set of resources (and a client-application
that can query/integrate the results from each)   -- and then you're 
on to something...I want to send a book to my dad, so I type in part
of the title -- ship that to a search-resource on Amazon, 
get the ISBN number, query my address-book for my dad's mailing
address...push that to the Barnes and Noble web-site order 
resource...plug in my credit card number and BOOM 
-- sale pending.

    --erik





     




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4753<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-01-14 10:53:01<br>
Subject:Re: [rest-discuss] Re: missing REST<br>
Message:<br><br>
<pre>elseielstad wrote:

&gt; I don't see how you can make a web-browser talk to distributed
&gt;
&gt;resources (especially when part of the power of the internet is 
&gt;that *I* may use address.yahoo.com, you may use your .mac address
&gt;book -- someone else may have their own apache server at home 
&gt;to provide that resource.)
&gt;  
&gt;
Hmm...I don't understand what you are up to here. What do you mean by 
'talk to distributed resources'?

&gt;    build me a distributed set of resources (and a client-application
&gt;that can query/integrate the results from each)   -- and then you're 
&gt;on to something...I want to send a book to my dad, so I type in part
&gt;of the title -- ship that to a search-resource on Amazon, 
&gt;get the ISBN number, query my address-book for my dad's mailing
&gt;address...push that to the Barnes and Noble web-site order 
&gt;resource...plug in my credit card number and BOOM 
&gt;-- sale pending.
&gt;  
&gt;
Besides the question wheather your address book is on the Web or not 
(could do this in a bunch of ways) all of what you request can be done 
easily with any scripting labguage that provides an HTTP implementation. 
It is actually one of the easiest use cases, because it does not involve 
the need for any form of transaction (there is only one order-request at 
the end). Given JavaScrips's emerging capability to issue arbitrary HTTP 
requests, the whole flow could also be done as a JS function (that's 
propably worthwhile investigating).

Hmm....using RDF (or Topic Maps) as an integration data model you could 
propably fill in an HTML form and hit an 'order' button that will 
triggger the following JS functionality: read title form field and send 
to Amazon to get ISBN -&gt; read 'receiver name' field and go to your 
address book to find address -&gt; integrate both answers (using RDF) and 
export as B&amp;N's accepted MIME type for POSTing the order. GET on the 201 
order-URI response header of the POST and fill in your credit card 
number in the received form. POST back to B&amp;N and do an additional 
MONITOR on the order URI, supplying your email address as the 
notification target.

Makes sense?

Jan

&gt;    --erik
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;     
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; 
&gt;Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt; 
&gt;
&gt;
&gt;
&gt;
&gt;  
&gt;


-- 
Jan Algermissen
Consultant &amp; Programmer
http://jalgermissen.com



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4754<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-01-14 11:04:21<br>
Subject:Re: [rest-discuss] Re: missing REST<br>
Message:<br><br>
<pre>Jan Algermissen wrote:

&gt; Hmm....using RDF (or Topic Maps) as an integration data model you could
&gt;
&gt;propably fill in an HTML form and hit an 'order' button that will 
&gt;triggger the following JS functionality: read title form field and send 
&gt;to Amazon to get ISBN -&gt; read 'receiver name' field and go to your 
&gt;address book to find address -&gt; integrate both answers (using RDF) and 
&gt;export as B&amp;N's accepted MIME type for POSTing the order. GET on the 201 
&gt;order-URI response header of the POST and fill in your credit card 
&gt;number in the received form. POST back to B&amp;N and do an additional 
&gt;MONITOR on the order URI, supplying your email address as the 
&gt;notification target.
&gt;
&gt;Makes sense?
&gt;  
&gt;
In addition, it would be interesting to show that/how REST reduces the 
need to know about the specific semantics of the interaction up front. 
That is: how can a script as the one above decide how to step through 
the application at runtime (by traversing links) without knowing 
everything about the involved steps up-front. With  an RPC style 
approach, the components would not be able to *talk* to each other at 
all, but it needs to be demonstrated how 'moving the semantics from the 
API to the message format' solves this problem. Hmm...

Jan

&gt;Jan
&gt;
&gt;  
&gt;
&gt;&gt;   --erik
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;    
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;Yahoo! Groups Links
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; 
&gt;&gt;
&gt;&gt;    
&gt;&gt;
&gt;
&gt;
&gt;  
&gt;


-- 
Jan Algermissen
Consultant &amp; Programmer
http://jalgermissen.com



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4755<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-01-14 11:36:38<br>
Subject:Re: [rest-discuss] Re: missing REST<br>
Message:<br><br>
<pre>Jan Algermissen wrote:

&gt; Given JavaScrips's emerging capability to issue arbitrary HTTP 
&gt;requests, the whole flow could also be done as a JS function (that's 
&gt;propably worthwhile investigating).
&gt;  
&gt;

Autsch....forgot about JS's security issue: no cross site scripting.....

Seems one needs a server-based app for that sort of integration.

Jan


-- 
Jan Algermissen
Consultant &amp; Programmer
http://jalgermissen.com



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4756<br>
Sender:"elseielstad" &lt;elseielstad@...&gt;<br>
Post Date/Time:2005-01-15 04:07:26<br>
Subject:Re: missing REST<br>
Message:<br><br>
<pre>

&gt; elseielstad wrote:
&gt; &gt; I don't see how you can make a web-browser talk 
&gt; &gt; to distributed resources 
    [ to which I added - to do a good RESTful apps we may
      need a better client platform ]

Jan Algermissen &lt;jalgermissen@t...&gt; replied:
&gt; Hmm...I don't understand what you are up to here. What do
&gt; you mean by 'talk to distributed resources'?

    the premise behind all the REST discussions revolve around
dealing with "resources" (which should be nouns) using a small 
set of methods (get, put, post, delete), instead of 
hap-hazard forms submitted to random cgi or servlets...( and I am
to think of resources and not services...) 

    I then tried a pie-in-the-sky example:

&gt; &gt;    build me a distributed set of resources (and a client-application
&gt; &gt;that can query/integrate the results from each)   -- and then you're 
&gt; &gt;on to something...I want to send a book to my dad, so I type in part
&gt; &gt;of the title -- ship that to a search-resource on Amazon, 
&gt; &gt;get the ISBN number, query my address-book for my dad's mailing
&gt; &gt;address...push that to the Barnes and Noble web-site order 
&gt; &gt;resource...plug in my credit card number and BOOM 
&gt; &gt;-- sale pending.

    If I scale-back the ambition -- I still see problems with 
using the web-browser...the REST-process would be something like:

   1.  GET the  B&amp;N order resource http://www.bn.com/order
     [ I get back a list of things I need -- say it provides an order number (say o99)  
      (which I can use to PUT my result), I need a "bill-to" address,
      a "ship-to" address, and a list of items I would like to purchase ]

   2.  GET the B&amp;N address resource http://www.bn.com/address
      [ I get back a unique address ID number (say a10) (for when I PUT the resource)
        and a list of things I need (address, city, state, zip-code...blah blah) ]

   3.  PUT my bill-to address back to B&amp;N   http://www.bn.com/address/a10
      [ hopefully I get back a 201 (created) ... ]  (note -- I need to keep this
        ID on my client (somewhere) to plug in when I PUT my order) ]

   4.  GET the B&amp;N address resource http://www.bn.com/address
      [ to get my UID for the shipping address ... ( say a22 ) -- I need to keep 
        this ID somewhere on the client...for when I PUT my order ]

   5.  GET the B&amp;N catalog resource http://www.bn.com/catalog
       [ and I'll assume there is some easy way to pick what I want ]

   6.  [magically take the collection of resource-identifiers and build the
         order form ]  then PUT http://www.bn.com/order/o10


now, keeping each of the Unique identifiers on the client between 
interactions with each resource may be an issue using existing 
web-browsers ( I suppose you could use cookies...) 

I suppose you could have a state-machine on the server
that walks the user through each if these steps -- but if you do
that I'm not sure where the REST architecture is any better than 
building a complicated "POST" form.

--erik
[disclaimer:  I am not affiliated with any of the multi-billion dollar 
corporations which I use in my examples ]




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4757<br>
Sender:"elseielstad" &lt;elseielstad@...&gt;<br>
Post Date/Time:2005-01-15 04:45:48<br>
Subject:Re: missing REST<br>
Message:<br><br>
<pre>

&gt; Jan Algermissen wrote:
&gt; In addition, it would be interesting to show that/how REST reduces the 
&gt; need to know about the specific semantics of the interaction up front. 

    I'd like to see that as well -- I just am not sure how that would work.

&gt; That is: how can a script as the one above decide how to step through 
&gt; the application at runtime (by traversing links) without knowing 
&gt; everything about the involved steps up-front.

    that's the part I'm still missing -- if I talk to an "address" resource 
and an "order" resource..when I get behind the scenes -- all that
data has to verified and linked back together.  (when I submit an 
order -- how does my order resource know that the 
address-resources I submitted are valid?) 

&gt; an RPC style approach, the components would not be able
&gt; to *talk* to each other at all,

   I'm not sure I would say that -- you may need to say that developers
would need to understand the RPC API's for the given protocol, and build
it into a client...X11, nettrek, doom, and probably even the P2P clients 
all demonstrate you can build traditional client-server applications using 
RPC.

   just because you're communicating in plain-text.. your resources still
need to know that a specific tag is refering to the zip-code ( which will make
interacting with differenent resources more challenging. )

   but I digress... I like the idea of distributed resources...I'm even OK with 
building a better client to make it happen...but I wanted to make sure I'm 
not completely out in left field.

       --erik  




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4758<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-01-15 04:53:30<br>
Subject:Re: [rest-discuss] Re: missing REST<br>
Message:<br><br>
<pre>On Sat, 15 Jan 2005, elseielstad wrote:
&gt; now, keeping each of the Unique identifiers on the client between
&gt; interactions with each resource may be an issue using existing
&gt; web-browsers ( I suppose you could use cookies...)

The trick is that you model interactions differently in a RESTful design. 
You have to learn to collapse the state into a single URI which expresses 
everything a resource needs to generate a representation.  (modulo HTTP 
headers used for things like content type negotiation).

- Lucas



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4759<br>
Sender:"ataramina" &lt;andrzej@...&gt;<br>
Post Date/Time:2005-01-15 17:13:37<br>
Subject:Testing RESTful services....<br>
Message:<br><br>
<pre>

I've always liked the REST approach over SOAP (have used both), but 
I've had an issue with REST when developing new applications.

That is, if you use POST/PUT/DELETE then you can't easily test your 
application using a browser alone.

One way is to allow GETs to substituted for POST/PUT/DELETEs during 
development, thought that breaks the REST paradigm (not to mention
GET 
semantics of being side-effect free and idempotent), and doesn't help 
you once the app goes into production.

So....I'm curious as to how other developers have dealt with this 
issue?  Any good tools out there that are simple, but allow you to 
issue HTTP POST/PUT/DELETEs easily?  Or have you written your own 
testing framework/tools or custom HTML pages to do this when you are 
testing your invocations?

Appreciate any insight...

....Andrzej







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4760<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2005-01-15 19:02:38<br>
Subject:Re: [rest-discuss] Testing RESTful services....<br>
Message:<br><br>
<pre>ataramina wrote:
&gt; 
&gt; 
&gt; I've always liked the REST approach over SOAP (have used both), but 
&gt; I've had an issue with REST when developing new applications.
&gt; 
&gt; That is, if you use POST/PUT/DELETE then you can't easily test your 
&gt; application using a browser alone.
&gt; 
&gt; One way is to allow GETs to substituted for POST/PUT/DELETEs during 
&gt; development, thought that breaks the REST paradigm (not to mention
&gt; GET 
&gt; semantics of being side-effect free and idempotent), and doesn't help 
&gt; you once the app goes into production.
&gt; 
&gt; So....I'm curious as to how other developers have dealt with this 
&gt; issue?  Any good tools out there that are simple, but allow you to 
&gt; issue HTTP POST/PUT/DELETEs easily?  Or have you written your own 
&gt; testing framework/tools or custom HTML pages to do this when you are 
&gt; testing your invocations?
&gt; 
&gt; Appreciate any insight...
&gt; 
&gt; ....Andrzej

I'm usually testing (my WebDAV server code) with non-interactive 
clients, but if you need to, you can use *any* method name through 
client-side scripting in "both" Internet Explorer and Mozilla/Firefox 
(see &lt;http://www.mozilla.org/xmlextras/&gt;).

Best regards, Julian

-- 
&lt;green/&gt;bytes GmbH -- http://www.greenbytes.de -- tel:+492512807760

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4761<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-01-15 20:08:58<br>
Subject:Re: [rest-discuss] Re: missing REST<br>
Message:<br><br>
<pre>elseielstad wrote:

&gt;
&gt;  
&gt;
&gt;&gt;Jan Algermissen wrote:
&gt;&gt;In addition, it would be interesting to show that/how REST reduces the 
&gt;&gt;need to know about the specific semantics of the interaction up front. 
&gt;&gt;    
&gt;&gt;
&gt;
&gt;    I'd like to see that as well -- I just am not sure how that would work.
&gt;  
&gt;
Mostly through standardisation of the message type (MIME type). When you 
use RDF, you enter the wonderful world of partial understanding: 
Although a user agent or intermediary might not understand *all* RDF 
schemas used in an RDF message, it can still use the statements that it 
*does* understand.


&gt;&gt;That is: how can a script as the one above decide how to step through 
&gt;&gt;the application at runtime (by traversing links) without knowing 
&gt;&gt;everything about the involved steps up-front.
&gt;&gt;    
&gt;&gt;
&gt;
&gt;    that's the part I'm still missing -- if I talk to an "address" resource 
&gt;and an "order" resource..when I get behind the scenes -- all that
&gt;data has to verified and linked back together.  (when I submit an 
&gt;order -- how does my order resource know that the 
&gt;address-resources I submitted are valid?) 
&gt;  
&gt;

What do you mean by 'valid' here? Valid in terms of a DTD/schema?

&gt;  
&gt;
&gt;&gt;an RPC style approach, the components would not be able
&gt;&gt;to *talk* to each other at all,
&gt;&gt;    
&gt;&gt;
&gt;
&gt;   I'm not sure I would say that -- 
&gt;
&gt;you may need to say that developers
&gt;would need to understand the RPC API's for the given protocol, and build
&gt;it into a client...X11, nettrek, doom, and probably even the P2P clients 
&gt;all demonstrate you can build traditional client-server applications using 
&gt;RPC.
&gt;  
&gt;
Yes, but you have to *know* *all* the APIs up front, otherwise you 
cannot build the apps. OTH, if you use a uniform API, your apps can 
allways communicate  (e.g. to negotiate  a  representation type they 
both understand  -  see HTTP content negitiation).

&gt;   just because you're communicating in plain-text.. 
&gt;
But REST is not about communicating in plain text (text/plain?) it is 
about making the message type explicit (Content-Type HTTP header).

&gt;your resources still
&gt;need to know that a specific tag is refering to the zip-code ( which will make
&gt;interacting with differenent resources more challenging. )
&gt;  
&gt;
Challanging - sure, but if I use RDF and use a 
standardized/well-known/company-wide schema for the ZIP property, 
all/most of the apps can at least see it is a ZIP, even if they do not 
understand the rest of the message. To me this is a whole lot better 
than not being able to engage in a conversation at all because the RPC 
APIs are not equal, e.g. getStockQuote("IBM") vs getStockQuoteIBM().


 &gt; but I digress... I like the idea of distributed resources...I'm even 
OK with

&gt;building a better client to make it happen...but I wanted to make sure I'm 
&gt;not completely out in left field.
&gt;  
&gt;
Make sure you look at Mark Baker's work regarding RDFForms and Resource 
State:

http://www.markbaker.ca/2001/09/draft-baker-http-resource-state-model-01.txt
http://www.markbaker.ca/2003/05/RDF-Forms/

Jan

&gt;       --erik  
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; 
&gt;Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt; 
&gt;
&gt;
&gt;
&gt;
&gt;  
&gt;


-- 
Jan Algermissen
Consultant &amp; Programmer
http://jalgermissen.com



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4762<br>
Sender:"leighdodds2001" &lt;ldodds@...&gt;<br>
Post Date/Time:2005-01-15 19:44:06<br>
Subject:Re: Testing RESTful services....<br>
Message:<br><br>
<pre>

--- In rest-discuss@yahoogroups.com, "ataramina" &lt;andrzej@c...&gt; wrote:

&gt; That is, if you use POST/PUT/DELETE then you can't easily test your 
&gt; application using a browser alone.

For any non-trivial web application you're likely to want some 
kind of automated testing anyway, and once you're going down this 
route browser limitations aren't really a problem.

&gt; So....I'm curious as to how other developers have dealt with this 
&gt; issue?  Any good tools out there that are simple, but allow you to 
&gt; issue HTTP POST/PUT/DELETEs easily?

Anteater is pretty good:

http://aft.sourceforge.net/

Easy use of HTTP, regexps and XPaths to make assertions on the
results. Integrates nicely with Ant, so if you're building apps in
Java it's a doddle to add the tests to your normal build process.

And then there's Grinder for load testing:

http://grinder.sourceforge.net/

Scales very well across machines, and you can script interactions
using Python.

Cheers,

L.
--
http://www.ldodds.com/blog







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4763<br>
Sender:Paul James &lt;yahoogroups@...&gt;<br>
Post Date/Time:2005-01-17 19:54:46<br>
Subject:Re: [rest-discuss] Testing RESTful services....<br>
Message:<br><br>
<pre>
I use the Mozilla Firefox LiveHTTPHeaders extention 
http://livehttpheaders.mozdev.org/ which allows you to craft your own 
HTTP request for Firefox to send. I wrote something about it at 
http://phprestsql.sourceforge.net/tutorial.html#rest-browser if you're 
interested.

ataramina wrote:
&gt; 
&gt; 
&gt; I've always liked the REST approach over SOAP (have used both), but 
&gt; I've had an issue with REST when developing new applications.
&gt; 
&gt; That is, if you use POST/PUT/DELETE then you can't easily test your 
&gt; application using a browser alone.
&gt; 
&gt; One way is to allow GETs to substituted for POST/PUT/DELETEs during 
&gt; development, thought that breaks the REST paradigm (not to mention
&gt; GET 
&gt; semantics of being side-effect free and idempotent), and doesn't help 
&gt; you once the app goes into production.
&gt; 
&gt; So....I'm curious as to how other developers have dealt with this 
&gt; issue?  Any good tools out there that are simple, but allow you to 
&gt; issue HTTP POST/PUT/DELETEs easily?  Or have you written your own 
&gt; testing framework/tools or custom HTML pages to do this when you are 
&gt; testing your invocations?
&gt; 
&gt; Appreciate any insight...
&gt; 
&gt; ....Andrzej
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt;  
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt;  
&gt; 
&gt; 
&gt; 
&gt; 




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4764<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-01-18 13:11:36<br>
Subject:Re: [rest-discuss] Testing RESTful services....<br>
Message:<br><br>
<pre>On Mon, 17 Jan 2005 19:54:46 +0000, "Paul James"
&lt;yahoogroups@...&gt; said:
&gt; I use the Mozilla Firefox LiveHTTPHeaders extention 
&gt; http://livehttpheaders.mozdev.org/ which allows you to craft your own 
&gt; HTTP request for Firefox to send. I wrote something about it at 
&gt; http://phprestsql.sourceforge.net/tutorial.html#rest-browser if you're 
&gt; interested.

Wow. phprestsql is a nice piece of work. Thanks.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4765<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2005-01-19 00:17:50<br>
Subject:Semantics of WS vs REST<br>
Message:<br><br>
<pre>
Nobody asked me, but I want to throw out one simple observation in the
question over the relative value of an architecture based on uniform
semantics and URIs (REST) vs. one based on service specific interfaces (WS).
It's really just a conjecture.

Describing the semantics of resources using RDF + OWL is a LOT easier than
describing the semantics of a soap interface using, well, whatever they use.
Ergo automatically composing REST services is a lot more tractable than
composing WSs.

I send this conjecture to the list in case anyone has a nice reference on
the topic, or can show me how the WS guys do it, or just can shed more light
on the issue.

thx
Hugh








</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4766<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-01-19 16:35:48<br>
Subject:Re: [rest-discuss] Semantics of WS vs REST<br>
Message:<br><br>
<pre>I think you're looking too hard, Hugh.

Without getting into the "semantics" thing, the value in REST - and in
Internet scale styles in general - derives from the simple fact that
it's quantifiably less work to integrate components when those
components share the same interface.

Mark.

On Tue, Jan 18, 2005 at 06:17:50PM -0600, Hugh Winkler wrote:
&gt; Nobody asked me, but I want to throw out one simple observation in the
&gt; question over the relative value of an architecture based on uniform
&gt; semantics and URIs (REST) vs. one based on service specific interfaces (WS).
&gt; It's really just a conjecture.
&gt; 
&gt; Describing the semantics of resources using RDF + OWL is a LOT easier than
&gt; describing the semantics of a soap interface using, well, whatever they use.
&gt; Ergo automatically composing REST services is a lot more tractable than
&gt; composing WSs.
&gt; 
&gt; I send this conjecture to the list in case anyone has a nice reference on
&gt; the topic, or can show me how the WS guys do it, or just can shed more light
&gt; on the issue.
&gt; 
&gt; thx
&gt; Hugh
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt;  
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt;  
&gt; 
&gt; 
&gt; 

-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4767<br>
Sender:"terrywbrady" &lt;terrywbrady@...&gt;<br>
Post Date/Time:2005-01-19 18:31:12<br>
Subject:Question about passing XML in a POST request<br>
Message:<br><br>
<pre>

Please let me know if I need to redirect this question to a different 
group.

I am implementing what I believe to be a REST-compliant servlet.

I am also writing a Java client to send messages to this servlet.  
This client creates an HttpUrlConnection and sets the method on the 
connection (get, put, delete, post). 

For a put/post, the client is setting the content type (text/xml) and 
writing to the connection's output stream.

What would happen if I wanted to send both an xml document AND I 
wanted to supply name/value parameters on a POST call?  Since a 
servlet by default grab's name/value pairs from the message body, how 
does it know no to look for name/value pairs?  Is there an implicit 
content type on a post request that says the message body will 
contain name/value pairs?

Here is a second challenge that I have.

As I have been testing this application, I am realizing that it will 
be more difficult to test from an html page since html does not allow 
put/delete to be specified on a form.  Also, a form will always write 
parameters as name/value pairs.  

Does it sound like I am approaching this problem correctly?

Thanks for your help!







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4768<br>
Sender:"Donald Strong" &lt;dstrong@...&gt;<br>
Post Date/Time:2005-01-19 23:00:53<br>
Subject:RE: [rest-discuss] Question about passing XML in a POST request<br>
Message:<br><br>
<pre>Hi Terry,

You can probably kill two birds with one stone here.

If your client's request contains multipart/form-data in the entity body
then all of the data sent will be in the form of name/value pairs.
(As an aside: the value can be any type including binary GIFs etc.)
There are probably libraries that will do all this for you so
you may not even have to write any additional code, apart from
associating the name/value pairs in the request of course.

The xml then becomes just another name/value pair. 

You can then write a simple HTML form to test your interface.
The xml can appear in a TEXTAREA for your viewing pleasure and 
aribitarty modification. 
I am sure there are a number of testing tools that will simulate
requests from forms so you can use those as well.

The HTML spec contains a section on form data and the spec is here.
http://www.faqs.org/rfcs/rfc2388.html

For more, just remember that Google is your friend.

Donald.

&gt; -----Original Message-----
&gt; From: terrywbrady [mailto:terrywbrady@...]
&gt; Sent: Thursday, 20 January 2005 5:31 AM
&gt; To: rest-discuss@yahoogroups.com
&gt; Subject: [rest-discuss] Question about passing XML in a POST request
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; Please let me know if I need to redirect this question to a different 
&gt; group.
&gt; 
&gt; I am implementing what I believe to be a REST-compliant servlet.
&gt; 
&gt; I am also writing a Java client to send messages to this servlet.  
&gt; This client creates an HttpUrlConnection and sets the method on the 
&gt; connection (get, put, delete, post). 
&gt; 
&gt; For a put/post, the client is setting the content type (text/xml) and 
&gt; writing to the connection's output stream.
&gt; 
&gt; What would happen if I wanted to send both an xml document AND I 
&gt; wanted to supply name/value parameters on a POST call?  Since a 
&gt; servlet by default grab's name/value pairs from the message body, how 
&gt; does it know no to look for name/value pairs?  Is there an implicit 
&gt; content type on a post request that says the message body will 
&gt; contain name/value pairs?
&gt; 
&gt; Here is a second challenge that I have.
&gt; 
&gt; As I have been testing this application, I am realizing that it will 
&gt; be more difficult to test from an html page since html does not allow 
&gt; put/delete to be specified on a form.  Also, a form will always write 
&gt; parameters as name/value pairs.  
&gt; 
&gt; Does it sound like I am approaching this problem correctly?
&gt; 
&gt; Thanks for your help!
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt;  
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt;  
&gt; 
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4769<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-01-20 06:12:55<br>
Subject:Re: [rest-discuss] Question about passing XML in a POST request<br>
Message:<br><br>
<pre>&gt;
&gt; For a put/post, the client is setting the content type (text/xml) and
&gt; writing to the connection's output stream.
You probably should use 'application/xml' - I vaguely remember that
'text/xml' was frowned upon and is not to be used.

&gt;
&gt; What would happen if I wanted to send both an xml document AND I
&gt; wanted to supply name/value parameters on a POST call?
Do you want to supply name/value pairs in the URI (used to identify the
resource), or in the body of the message (used to modify the resource)?


&gt; Since a servlet by default grab's name/value pairs from the message body,
how
&gt; does it know no to look for name/value pairs?
Servlets behavior is ambigous with respect to URIs with query terms and url
encoded body content (as is many other web server frameworks). Unless
someone specified the exact behavior more recently than four years ago. I
would enjoy being corrected on this point though.

You can check the content-type request header and parse the data yourself.
Most modern servlets will not actually consume the input stream until you
ask for 'parameters'. If you check the request headers for the content-type,
and if it's 'application/xml' you can send the inputstream to an appropriate
xml parser.


&gt; Is there an implicit content type on a post request that says the message
body will
&gt; contain name/value pairs?
Yes - 'application/x-www-urlencoded' indicates the body content is name
value pairs encoded according to the appropriate (but not immediately handy)
spec.

&gt;
&gt; Here is a second challenge that I have.
&gt;
&gt; As I have been testing this application, I am realizing that it will
&gt; be more difficult to test from an html page since html does not allow
&gt; put/delete to be specified on a form.
You can use javascript and XMLHTTPRequest object - the greatest thing to
come out of microsoft since I don't know when.

&gt; Also, a form will always write parameters as name/value pairs.
Depends on the encoding specified for the form. But if you bypass the plain
vanilla html forms and use xmlhttprequest objects then you can format anyway
you want.

&gt;
&gt; Does it sound like I am approaching this problem correctly?
&gt;
Yes.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4770<br>
Sender:"Andrzej Jan Taramina" &lt;andrzej@...&gt;<br>
Post Date/Time:2005-01-20 16:18:02<br>
Subject:Re: Question about passing XML in a POST request<br>
Message:<br><br>
<pre>Terry:

&gt; This client creates an HttpUrlConnection and sets the method on the 
&gt; connection (get, put, delete, post). 

You might want to consider using the Apache commons-httpClient library 
instead of the native Java http methods.  Much cleaner, nicer, easier.

But to answer your questions, try using a multi-part POST instead, with 
appropriate content-types set for the parameters (application/x-www-
urlencoded) and the xml (text/xml).

Easy to do with commons-httpClient.


Andrzej Jan Taramina
Chaeron Corporation: Enterprise System Solutions
http://www.chaeron.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4771<br>
Sender:Dave Pawson &lt;davep@...&gt;<br>
Post Date/Time:2005-01-20 19:16:30<br>
Subject:Star shaped.<br>
Message:<br><br>
<pre>I've been  thinking about REST for some time now,
with an idea that I still think is reasonable.

Since I've very little experience with http, I'd like to try
it out here for comments if I may.

Scenario.

My organisation (www.rnib.org.uk) has around 23 systems,
few of which communicate effectively with each other.

Of the interconnects that we've investigated from a user
view, less than 10 percent provide the automated connections
that meet user needs.

Some of these are basically legacy systems with limited
life and high maint costs. 
  Many are reasonably modern with access to good software
dev facilities.
I.e. not all could provide an http server. 

Idea: 

Provide a communications hub.
With each system being satellites a...z and hub H.

Messages are posted to H with the target system
embedded in the address.
E.g. a =&gt; z
the message resides at http://H/a/z1

The message bodies are XML whose semantics are shared
between sender and recipient systems.

System z then polls round H url's for appropriately
targeted transactions.

Question.

Does the idea make any sense please?


regards DaveP 





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4772<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-01-20 19:31:52<br>
Subject:Re: [rest-discuss] Star shaped.<br>
Message:<br><br>
<pre>On Thu, 2005-01-20 at 14:16, Dave Pawson wrote:

&gt; Does the idea make any sense please?

It sounds like you want to do message-queueing or blackboarding,
incidentally with an HTTP interface.  It makes a lot of sense; MQ
systems can be quite handy.  I don't know quite what's RESTful about it,
though.

...jsled

-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4773<br>
Sender:"Robert Leftwich" &lt;digital_rtl@...&gt;<br>
Post Date/Time:2005-01-20 21:46:57<br>
Subject:Re: Star shaped.<br>
Message:<br><br>
<pre>

--- In rest-discuss@yahoogroups.com, Dave Pawson &lt;davep@d...&gt; wrote:
&gt; Idea: 
&gt; 
&gt; Provide a communications hub.
&gt; With each system being satellites a...z and hub H.
&gt; ...
&gt; Does the idea make any sense please?
&gt; 

It makes plenty of sense. 

For a robust, real world implementation see the PSB (Public Services
Broker) project from the Irish government (a good starting point is
the documentation found at http://www.reach.ie/publications/#psb).
Sean McGrath is heavily involved and has mentioned it and its 
underlying approach numerous times on his blog
(http://seanmcgrath.blogspot.com/ - look for reach, SOA,
messaging, decoupling). 

While it is not a full HTTP-based REST implementation (i.e. PUT and
DELETE are not utilised AFAIK), it does appear to meet the REST
architectural style criteria.

Robert







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4774<br>
Sender:Dave Pawson &lt;davep@...&gt;<br>
Post Date/Time:2005-01-22 09:07:24<br>
Subject:Re: [rest-discuss] Re: Star shaped.<br>
Message:<br><br>
<pre>On Thu, 2005-01-20 at 21:46 +0000, Robert Leftwich wrote:

&gt; &gt; Does the idea make any sense please?
&gt; &gt; 
&gt; 
&gt; It makes plenty of sense. 
&gt; 
&gt; For a robust, real world implementation see the PSB (Public Services
&gt; Broker) project from the Irish government (a good starting point is
&gt; the documentation found at http://www.reach.ie/publications/#psb).
&gt; Sean McGrath is heavily involved and has mentioned it and its 
&gt; underlying approach numerous times on his blog
&gt; (http://seanmcgrath.blogspot.com/ - look for reach, SOA,
&gt; messaging, decoupling). 

Thanks Robert/Josh.

And for the reference.



-- 
Regards, 

Dave Pawson
XSLT + Docbook FAQ
http://www.dpawson.co.uk


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4775<br>
Sender:"kendallgclark" &lt;kendall@...&gt;<br>
Post Date/Time:2005-01-25 19:47:51<br>
Subject:SPARQL Protocol for RDF<br>
Message:<br><br>
<pre>

(Slightly off-topic, but sent to this list in the interests of
assuring that the final protocol described below, or, rather, the HTTP
bindings of that protocol, are not incompatible with the REST
architectural style. -- Kendall Clark)

The W3C RDF Data Access Working Group (DAWG)[1] is working on a
query language and protocol called SPARQL[2,3] for querying RDF
graphs.  As part of that work, we needed a protocol to convey
queries and query results.  I've edited a document that describes
such an abstract protocol as well as an HTTP binding:

  SPARQL Protocol for RDF
  W3C Working Draft 14 January 2004
  http://w3.org/TR/2005/WD-rdf-sparql-protocol-20050114/

We're looking for feedback and comments -- sent either to
kendall@... or to public-rdf-dawg-comments@....

An editor's working draft is also available, if you're interested
in the document's most current status.

Best,
Kendall Clark

[1] http://www.w3.org/2001/sw/DataAccess/
[2] http://www.w3.org/TR/rdf-sparql-query/
[3] http://w3.org/TR/2005/WD-rdf-sparql-protocol-20050114/







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4776<br>
Sender:"adamratcliffe2004" &lt;adamratcliffe2004@...&gt;<br>
Post Date/Time:2005-01-29 05:20:55<br>
Subject:[newbie] URI Design Questions<br>
Message:<br><br>
<pre>
I'm new to REST and have come up with a few questions while 
designing the URI space of an XML interface to a location based 
services application.  It would be nice to get some clarity on the 
better approach for each of these cases.

I have a resource type, a geographic location that can be uniquely 
identified both by its position in a coordinate system and also by a 
unique identifer assigned to it when it was created in the database. 
I would like a requestor to be able to retrieve a resource instance 
using either form of identification.

Looking at examples of RESTful URIs it would seem that I could 
represent a location request like this:

GET /location/12345 where '12345' is the location's primary key.

Now lets say that I want to retrieve this location by its geographic 
position, I now have 2 pieces of information that, together, 
uniquely identify the resource.  Because neither the x or the y 
coordinate is subordinate to the other it seems this information 
should be passed in the query string rather than the URI part, for 
example:

GET /location?x=110022&amp;y=220033

Then maybe for uniformity I should change the first URI so it also 
passes the identifier in the query string:

GET /location?id=12345

I also want to track who's requesting the resource for billing 
purposes so my options would seem to be:

GET /location/12345?customerId=6789

or

GET /location/?id=12345&amp;customerId=6789

In either case I'm not sure if I like the mixing of metadata, who 
requested the resource, with the query data.

Cheers
Adam




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4777<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-01-29 05:59:47<br>
Subject:Re: [rest-discuss] [newbie] URI Design Questions<br>
Message:<br><br>
<pre>
&gt; I also want to track who's requesting the resource for billing
&gt; purposes so my options would seem to be:
&gt;
&gt; GET /location/12345?customerId=6789

That kind of resource doesn't tell you who is requesting the resource. It is
a new resource. The resource identifier consists of all the data in the URI,
including the query terms.

Tracking who is sending requests to the server about resources might be
better done via authorization headers in HTTP. Separating the resource from
the authorization is a good approach in general and applies here as well.
Some forms of tracking could use IP address, but only if you don't need to
correlate the gathered data with the actual responsible party at the other
end of the line.
If this is truly for billing, then you probably could justify requiring a
login. Unfortunately HTML and current Web browsers don't provide much
functionality to the application designer in the realm of http
authentication - the user experience sucks. There is some hope from the
WHAT-WG and other discussions over the years. Maybe some clever soul will
finally add the functionality to Firefox or create a Firefox extension and
we can be closer to ridding the world of cookies.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4778<br>
Sender:"Jon Hanna" &lt;jon@...&gt;<br>
Post Date/Time:2005-01-29 09:13:51<br>
Subject:RE: [rest-discuss] [newbie] URI Design Questions<br>
Message:<br><br>
<pre>&gt; Looking at examples of RESTful URIs it would seem that I could 
&gt; represent a location request like this:
&gt; 
&gt; GET /location/12345 where '12345' is the location's primary key.
&gt; 
&gt; Now lets say that I want to retrieve this location by its geographic 
&gt; position, I now have 2 pieces of information that, together, 
&gt; uniquely identify the resource.  Because neither the x or the y 
&gt; coordinate is subordinate to the other it seems this information 
&gt; should be passed in the query string rather than the URI part, for 
&gt; example:
&gt; 
&gt; GET /location?x=110022&amp;y=220033

There is nothing wrong with /location/110022/220033 (this hints that there
is a "parent" resource at /location/110022 but doesn't guarantee it - URIs
are opaque to everything except those processes that know how they are built
in a given application, which ideally means only the server [or only the
server and only the client in a limited set of cases]) or
/location/110022_22033

&gt; Then maybe for uniformity I should change the first URI so it also 
&gt; passes the identifier in the query string:
&gt; 
&gt; GET /location?id=12345

Query strings are best avoided, but not a big bad. (Most of the reasons for
avoiding query strings aren't really valid, but a matter of assumptions made
elsewhere by others making query strings somewhat disadvantaged).

&gt; I also want to track who's requesting the resource for billing 
&gt; purposes so my options would seem to be:
&gt; 
&gt; GET /location/12345?customerId=6789
&gt; 
&gt; or
&gt; 
&gt; GET /location/?id=12345&amp;customerId=6789
&gt; 
&gt; In either case I'm not sure if I like the mixing of metadata, who 
&gt; requested the resource, with the query data.

This is valid only in the case of something like "the location that client
6789 put into her list of 'favourite locations'" or such, and even then:

A. Only really useful if it makes sense to let other customers see that list
(sometimes it does, c.f. wishlists, often it doesn't).
B. Ideally it would redirect from there to a URI that would return the
resource in isolation from the details of specific customers.

Tracking who is actually using the application should be done through other
means, RFC 2617 authentication gives one way even cookies have something in
their favour over user identification in URIs (that should in no way be read
as my justifying the use of cookies, they suck big time but userids in URIs
suck more).

Regards,
Jon Hanna
Work: &lt;http://www.selkieweb.com/&gt;
Play: &lt;http://www.hackcraft.net/&gt;
Chat: &lt;irc://irc.freenode.net/selkie&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4779<br>
Sender:"adamratcliffe2004" &lt;adamratcliffe2004@...&gt;<br>
Post Date/Time:2005-01-29 11:56:23<br>
Subject:Re: [newbie] URI Design Questions<br>
Message:<br><br>
<pre>
Hi Mike

&gt; a new resource. The resource identifier consists of all the data 
in the URI,
&gt; including the query terms.

Sounds like I need to read up on URIs a little more, would RFC 2396, 
Uniform Resource Identifiers (URI): Generic Syntax, be a good place 
to begin?

&gt; 
&gt; Tracking who is sending requests to the server about resources 
might be
&gt; better done via authorization headers in HTTP. Separating the 
resource from
&gt; the authorization is a good approach in general and applies here 
as well.

Yes, that sounds like a good idea, I'll look into HTTP authorization 
headers.

&gt; If this is truly for billing, then you probably could justify 
requiring a
&gt; login. 

As this is a web service interface and the requestor is likely to be 
another application, not a browser, the header-based authorization 
might still be the best option.

Thanks very much for your help :)

Cheers
Adam




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4780<br>
Sender:"adamratcliffe2004" &lt;adamratcliffe2004@...&gt;<br>
Post Date/Time:2005-01-29 12:02:30<br>
Subject:Re: [newbie] URI Design Questions<br>
Message:<br><br>
<pre>
Hi Jon

Thanks for your reply, that really helped clarify things. If the use 
of query strings in GET requests is generally considered undesirable 
what are the appropriate circumstances in which a query string might 
be used?

Cheers
Adam




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4781<br>
Sender:"leighdodds2001" &lt;ldodds@...&gt;<br>
Post Date/Time:2005-01-29 20:13:47<br>
Subject:Re: [newbie] URI Design Questions<br>
Message:<br><br>
<pre>
&gt; &gt; GET /location?id=12345
&gt; 
&gt; Query strings are best avoided, but not a big bad. 
&gt; (Most of the reasons for avoiding query strings aren't really 
&gt; valid, but a matter of assumptions made elsewhere by others 
&gt; making query strings somewhat disadvantaged).

Did you mean "query strings are best avoided" as a blanket statement,
or "query strings are best avoided for resource identification"? I'm
assuming the latter, but maybe I'm missing something fundamental,
because query strings certainly seem useful to me! 

GET /location/12345 is certainly preferable to use of
/location?id=12345 though.

For the co-ordinate based lookup, I'd personally favour:

GET /location?x=110022&amp;y=220033

Mainly because it seems more like a search, which may return a single
resource (assuming there is only one resource at a given position).
Or, if the x/y co-ordinates are imprecise or incorrect, a list of
suggested matches (i.e. urls of the form /location/xyz).

Cheers,

L.






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4782<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2005-01-29 21:20:31<br>
Subject:Re: [rest-discuss] Re: [newbie] URI Design Questions<br>
Message:<br><br>
<pre>adamratcliffe2004 wrote:
&gt; ...
&gt; Sounds like I need to read up on URIs a little more, would RFC 2396, 
&gt; Uniform Resource Identifiers (URI): Generic Syntax, be a good place 
&gt; to begin?
&gt; ...

Not really. You should begin with RFC3986 (which is the successor to 
RFC2396).

Best regards, Julian

-- 
&lt;green/&gt;bytes GmbH -- http://www.greenbytes.de -- tel:+492512807760

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4783<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-01-29 21:24:47<br>
Subject:Re: [rest-discuss] Re: [newbie] URI Design Questions<br>
Message:<br><br>
<pre>On Sat, 29 Jan 2005 20:13:47 -0000, "leighdodds2001"
&lt;ldodds@...&gt; said:
&gt; GET /location?x=110022&amp;y=220033

Or /location/x=110022;y=220033

This is in the URI spec, it lets you use name value
pairs within a path segment.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4784<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-01-29 21:33:56<br>
Subject:Re: [rest-discuss] [newbie] URI Design Questions<br>
Message:<br><br>
<pre>Jon,

On Sat, Jan 29, 2005 at 09:13:51AM -0000, Jon Hanna wrote:
&gt; &gt; GET /location?x=110022&amp;y=220033
&gt; 
&gt; There is nothing wrong with /location/110022/220033 (this hints that there
&gt; is a "parent" resource at /location/110022 but doesn't guarantee it - URIs
&gt; are opaque to everything except those processes that know how they are built
&gt; in a given application, which ideally means only the server [or only the
&gt; server and only the client in a limited set of cases]) or
&gt; /location/110022_22033

Not exactly, IMO.  If you use "/110022/220033", this implies that there
are two resources, one "owned" (i.e. controls the lifecycle of) by the
other.  For example, one of the consequences of this implication is that
a successful DELETE on /110022 would be expected to also remove
"/110022/220033".

URI hierarchy is for, well, hierarchical relationships, and x/y isn't.
You could certainly do it, but I think you'd eventually run into
problems.  Relative URI semantics would certainly be weird.

&gt; &gt; GET /location?id=12345
&gt; 
&gt; Query strings are best avoided, but not a big bad. (Most of the reasons for
&gt; avoiding query strings aren't really valid, but a matter of assumptions made
&gt; elsewhere by others making query strings somewhat disadvantaged).

I think that's a bit strong.  I try to avoid using them, but only
because you only get to use one per URI, and you never know when you
might need to add some parameters to one.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4785<br>
Sender:Laurian Gridinoc &lt;laurian@...&gt;<br>
Post Date/Time:2005-01-29 21:47:56<br>
Subject:Re: [rest-discuss] Re: [newbie] URI Design Questions<br>
Message:<br><br>
<pre>Hello,

&gt; For the co-ordinate based lookup, I'd personally favour:
&gt; 
&gt; GET /location?x=110022&amp;y=220033
&gt; 
&gt; Mainly because it seems more like a search, which may return a single
&gt; resource (assuming there is only one resource at a given position).
&gt; Or, if the x/y co-ordinates are imprecise or incorrect, a list of
&gt; suggested matches (i.e. urls of the form /location/xyz).
&gt; 

BTW, there is an old personal point of view by Tim Berners Lee about
coordinates and URI, matrix URIs:
http://www.w3.org/DesignIssues/MatrixURIs.html

Example:
/moremaps.com/map/color;lat=50;long=20;scale=32000

I wonder how parameters like this, which are not query parameters, how
RESTful they are...
 
Cheers,
-- 
Laurian Gridinoc, www.grapefruit.ro

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4786<br>
Sender:"adamratcliffe2004" &lt;adamratcliffe2004@...&gt;<br>
Post Date/Time:2005-01-29 22:14:51<br>
Subject:Re: [newbie] URI Design Questions<br>
Message:<br><br>
<pre>
--- In rest-discuss@yahoogroups.com, "Vincent D Murphy" &lt;vdm@v...&gt; 
wrote:
&gt; On Sat, 29 Jan 2005 20:13:47 -0000, "leighdodds2001"
&gt; &lt;ldodds@i...&gt; said:
&gt; &gt; GET /location?x=110022&amp;y=220033
&gt; 
&gt; Or /location/x=110022;y=220033
&gt; 
&gt; This is in the URI spec, it lets you use name value
&gt; pairs within a path segment.

Thanks Vincent, that syntax exactly expresses the meaning that I 
wanted, that the x and y coordinates taken together are a composite 
key identifying the resource.

Cheers
Adam




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4787<br>
Sender:"Jon Hanna" &lt;jon@...&gt;<br>
Post Date/Time:2005-01-29 23:28:09<br>
Subject:RE: [rest-discuss] [newbie] URI Design Questions<br>
Message:<br><br>
<pre>I don't have time to comment fully right now, but I didn't get the balance
where I was aiming earlier with "Query strings are best avoided, but not a
big bad".

URIs with query strings aren't cacheable by default, but you can always be
explicit. They aren't often as easy to manipulate through relative URIs,
only slightly, and they are slightly off-putting to search engine bots.

Beyond that they're grand.

Regards,
Jon Hanna
Work: &lt;http://www.selkieweb.com/&gt;
Play: &lt;http://www.hackcraft.net/&gt;
Chat: &lt;irc://irc.freenode.net/selkie&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4788<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-01-30 01:56:26<br>
Subject:Re: [rest-discuss] Re: [newbie] URI Design Questions<br>
Message:<br><br>
<pre>&gt;
&gt; BTW, there is an old personal point of view by Tim Berners Lee about
&gt; coordinates and URI, matrix URIs:
&gt; http://www.w3.org/DesignIssues/MatrixURIs.html
&gt;
&gt; Example:
&gt; /moremaps.com/map/color;lat=50;long=20;scale=32000
&gt;
&gt; I wonder how parameters like this, which are not query parameters, how
&gt; RESTful they are...
&gt;
My opinion is that query terms and path-segment parameters are both RESTful.
The URI is opaque to clients, so it doesn't really matter what goes inside.
If your piece of the Web application requires constructing URIs, then you'll
need to know what goes inside and again it doesn't matter what it looks
like, you are stuck with having to know something that isn't uniform across
all resources - a disturbance in the force.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4789<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-01-30 02:11:25<br>
Subject:Re: [rest-discuss] Re: [newbie] URI Design Questions<br>
Message:<br><br>
<pre>&gt; &gt; &lt;ldodds@i...&gt; said:
&gt; &gt; &gt; GET /location?x=110022&amp;y=220033
&gt; &gt;
&gt; &gt; Or /location/x=110022;y=220033
&gt; &gt;
&gt; &gt; This is in the URI spec, it lets you use name value
&gt; &gt; pairs within a path segment.
&gt;
&gt; Thanks Vincent, that syntax exactly expresses the meaning that I
&gt; wanted, that the x and y coordinates taken together are a composite
&gt; key identifying the resource.
&gt;
Remember, URI comparison is a bit tricky, so the sequence of x and y might
be significant to some application and might imply two separate resources.
Clients should treat /location/x=110022;y=220033 and
/location/y=220033;x=110022 as two different resources. The RFC doesn't say
much about sequencing of possible subcomponents of a URI path segment.

Also, it's interesting to note that the RFC uses 'parameter' to talk about
subcomponents of path segments (the stuff between slashes) but most
programmers use the term 'parameter' to talk about the query terms (the
stuff after the question mark).

Also, RFC3986 is a well done document and provides great value to the
community.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4790<br>
Sender:"adamratcliffe2004" &lt;adamratcliffe2004@...&gt;<br>
Post Date/Time:2005-01-30 05:44:48<br>
Subject:Re: [newbie] URI Design Questions<br>
Message:<br><br>
<pre>
Hi Mike

&gt; Remember, URI comparison is a bit tricky, so the sequence of x and 
y might
&gt; be significant to some application and might imply two separate 
resources.
&gt; Clients should treat /location/x=110022;y=220033 and
&gt; /location/y=220033;x=110022 as two different resources. The RFC 
doesn't say
&gt; much about sequencing of possible subcomponents of a URI path 
segment.

From an implementation point of view I have control over the 
behaviour of the URI parser and could therefore normalize paths that 
differ only in the order of parameters contained in a path segment. 

In defining an implementation-specific rule for how to handle this 
unspecified behaviour would I be doing something inherently un-
RESTful?

&gt; 
&gt; Also, it's interesting to note that the RFC uses 'parameter' to 
talk about
&gt; subcomponents of path segments (the stuff between slashes) but most
&gt; programmers use the term 'parameter' to talk about the query terms 
(the
&gt; stuff after the question mark).

I feel that your point about most programmers thinking 
of 'parameters' in URIs in terms of what goes into the query string 
is an important one as consumers of the web service I'm designing 
may not be familiar with REST.  For a widely-used, public interface 
might the URI: /location?x=00001&amp;y=00002 be more sociable?

Regards
Adam




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4791<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-01-30 06:07:07<br>
Subject:Re: [rest-discuss] Re: [newbie] URI Design Questions<br>
Message:<br><br>
<pre>&gt;
&gt; &gt; Remember, URI comparison is a bit tricky, so the sequence of x and  y
might
&gt; &gt; be significant to some application and might imply two separate
resources.
&gt; &gt; Clients should treat /location/x=110022;y=220033 and
&gt; &gt; /location/y=220033;x=110022 as two different resources. The RFC doesn't
say
&gt; &gt; much about sequencing of possible subcomponents of a URI path segment.
&gt;
&gt; From an implementation point of view I have control over the
&gt; behaviour of the URI parser and could therefore normalize paths that
&gt; differ only in the order of parameters contained in a path segment.
&gt;
&gt; In defining an implementation-specific rule for how to handle this
&gt; unspecified behaviour would I be doing something inherently un-
&gt; RESTful?
If the rule is hidden behind the server's implementation, it's not a
problem. Introducing a requirement that all clients understand this in order
to even retrieve a representation of that resource  would be a problem. But
that's not what you are doing.

&gt; &gt;
&gt; &gt; Also, it's interesting to note that the RFC uses 'parameter' to talk
about
&gt; &gt; subcomponents of path segments (the stuff between slashes) but most
&gt; &gt; programmers use the term 'parameter' to talk about the query terms (the
&gt; &gt; stuff after the question mark).
&gt;
&gt; I feel that your point about most programmers thinking
&gt; of 'parameters' in URIs in terms of what goes into the query string
&gt; is an important one as consumers of the web service I'm designing
&gt; may not be familiar with REST.  For a widely-used, public interface
&gt; might the URI: /location?x=00001&amp;y=00002 be more sociable?
I think it would be, yes. There is also an existing format that specifies
how to construct a URI based on data that a client might already know
about - the HTML FORM element.
If your application would benefit from clients constructing the URI, rather
then discovering them purely via hypertext links, this extra capability may
be useful.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4792<br>
Sender:"Donald Strong" &lt;dstrong@...&gt;<br>
Post Date/Time:2005-01-30 22:45:50<br>
Subject:RE: [rest-discuss] Re: [newbie] URI Design Questions<br>
Message:<br><br>
<pre>This is the idea I was going to suggest. I'm glad someone else likes it.
B^)

&gt; &gt; GET /location?x=110022&amp;y=220033
&gt;
&gt; Or /location/x=110022;y=220033
&gt;
&gt; This is in the URI spec, it lets you use name value
&gt; pairs within a path segment.

It also leaves the former URI available for searching., ie.
  GET /location?x=110022&amp;y=220033
could mean return a list of locations near the given coordinates.

&gt; I also want to track who's requesting the resource for billing
&gt; purposes ...

I suggest a completely different URI. A GET should not have side
effects that are detectable to the requester. If you are keeping
audit information it should not be stored with the items being
tracked.

The access log for an HTTP server is a good analogy. The resources
being accessed are not aware that the log exists but if you know
where to look you can get a list of all the requests made to the server.

Regards
Donald.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4793<br>
Sender:"adamratcliffe2004" &lt;adamratcliffe2004@...&gt;<br>
Post Date/Time:2005-01-31 04:29:39<br>
Subject:URIs with path and query parameters<br>
Message:<br><br>
<pre>
Thanks everybody who replied to my earlier post on URI design 
issues: http://groups.yahoo.com/group/rest-discuss/message/4776 I 
feel like I'm starting to "get it" now.

I have a couple of other resource types that are slightly more 
complex to address. I've described them and defined URIs for each 
type below. Any comment would be much appreciated!

1) Get a map showing a route from a source location to a destination 
with optional intermediate locations:

GET /map?
srcx=00001&amp;srcy=00002&amp;dest1x=00003&amp;dest1y=00004&amp;centerAbout=route&amp;sca
le=6000

or alternatively using path parameters:

GET /map/srcx=00001;srcy=00002;dest1x=00003;dest1y=00004;centerAbout=
route;scale=6000

2) Get a map displaying all features of a given type within a 
specified radius of the source location (proximity search):

GET /map/x=00001;y=00002;centerAbout=src;scale=6000?
radius=5000&amp;filter1=restaurants&amp;filter2=licensed

With an arbitrary number of destination locations possible in case 
1) and an unbounded number of filters in case 2) these URIs could 
get quite lengthy.  Are there any rules of thumb for determining 
when a query has become too long to be conveniently handled by a GET 
operation, and if so what are the alternatives?

Cheers
Adam






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4794<br>
Sender:Sandeep Shetty &lt;sandeep.shetty@...&gt;<br>
Post Date/Time:2005-01-31 15:44:51<br>
Subject:Re: [rest-discuss] [newbie] URI Design Questions<br>
Message:<br><br>
<pre>Hey Adam,

I've posted earlier about my views on query parameters here:
http://groups.yahoo.com/group/rest-discuss/message/4680

As for identifying the consumers of your service, I agree with the
others on HTTP Auth and its limitations but I also think that it is
okay to put the customerid in a cookie, as long as it does not return
a different representation for the same resource for different
customers. Cookies, IMO, are evil when you use them for something like
preferences, where they affect the representation of a resource, which
in turn breaks caches.

Sandeep Shetty

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4795<br>
Sender:scottgregory@...<br>
Post Date/Time:2005-02-01 19:03:38<br>
Subject:Computation and PUT vs GET<br>
Message:<br><br>
<pre>

Hello

Thinking of a REST interface to a trading system.

I can get my head around
GET /trades
to get a list of trades
GET /trade/123
to retrieve a specific trade, and even
PUT /trade/987
to create a new trade, assuming user has appropriate permissions.

What about providing a 'remote' pricing facility?  Using SOAP, we 
would have a 'service' which returned a value upon accepting a trade
 Value priceMe(SomeTrade)

How to do this RESTfully?
Presuming that the pricing engine is stateless, a GET with a payload 
would work?
What else am I missing - how better to do this?

Thanks!
sdg







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4796<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2005-02-01 20:12:40<br>
Subject:RE: [rest-discuss] Computation and PUT vs GET<br>
Message:<br><br>
<pre>

&gt;What about providing a 'remote' pricing facility? Using SOAP, we 
&gt;would have a 'service' which returned a value upon accepting a trade
&gt;Value priceMe(SomeTrade)

&gt;How to do this RESTfully?
&gt;Presuming that the pricing engine is stateless, a GET with a payload 
&gt;would work?

Gack! You ought not send an entity in a GET. 

How about POSTing your trade to some URI, and the server returns the 
URI of the resource containing your price in the response Location
 



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4797<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-02-01 20:17:47<br>
Subject:Re: [rest-discuss] Computation and PUT vs GET<br>
Message:<br><br>
<pre>Scott,

scottgregory@... wrote:

&gt;
&gt;Hello
&gt;
&gt;Thinking of a REST interface to a trading system.
&gt;
&gt;I can get my head around
&gt;GET /trades
&gt;to get a list of trades
&gt;GET /trade/123
&gt;to retrieve a specific trade, and even
&gt;PUT /trade/987
&gt;to create a new trade, assuming user has appropriate permissions.
&gt;
&gt;What about providing a 'remote' pricing facility?  Using SOAP, we 
&gt;would have a 'service' which returned a value upon accepting a trade
&gt; Value priceMe(SomeTrade)
&gt;  
&gt;
What about

GET /pricingService?trade=http://example.org/trade/123

or

POST /pricingService

&lt;pricing&gt;
  &lt;trade&gt;&lt;!-- representation of trade goes here --&gt;&lt;/trade&gt;
  &lt;value/&gt;
&lt;/prcing&gt;

Reply:

HTTP 200 OK

&lt;pricing&gt;
  &lt;trade&gt;&lt;!-- representation of trade goes here --&gt;&lt;/trade&gt;
  &lt;value&gt;VALUE FILLED IN BY SERVICE&lt;/value&gt;
&lt;/prcing&gt;


Jan


&gt;How to do this RESTfully?
&gt;Presuming that the pricing engine is stateless, a GET with a payload 
&gt;would work?
&gt;What else am I missing - how better to do this?
&gt;
&gt;Thanks!
&gt;sdg
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; 
&gt;Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt; 
&gt;
&gt;
&gt;
&gt;
&gt;  
&gt;


-- 
Jan Algermissen
Consultant &amp; Programmer
http://jalgermissen.com



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4798<br>
Sender:Jason Diamond &lt;jason@...&gt;<br>
Post Date/Time:2005-02-01 21:43:32<br>
Subject:"Editable" Resources<br>
Message:<br><br>
<pre>
Hi.

I'm working on an application that exposes some kind of "item" to its 
users (the actual kind of item isn't important). I want users to be able 
to interact with the application using their browsers (representations 
in HTML) or programmatically (representations in XML).

I'd like the interaction "pattern" to be similar for both types of 
access. (Or maybe that's not something I should want?)

The application has a unique URL for each item it exposes to its users. 
Using a browser, users can GET a URL and see a representation of the 
item. If they want to edit the item, they click the "Edit" button which 
would POST back to the same URL. After modifying the values, they click 
the "Submit" button which POST-s back to the same URL again.

Something seems fishy with this design when compared with how it would 
be done programmatically. A user would GET the URL and receive XML. They 
would then PUT the modified XML to the same URL which would update the item.

Browsers don't support PUT-ing XML, of course. So we have to POST 
multipart/form-data. I don't have a problem with implementing code that 
can extract the necessary bits from XML or multipart/form-data.

It's the intermediate step of POST-ing to the URL to get an editable 
HTML representation of the item that I'm not happy with.

An alternative would be to include a link with a query string parameter 
like "?mode=edit" but that doesn't strike me as being very REST-ful, either.

I know it's possible, but I'm trying to avoid returning HTML containing 
the necessary JavaScript to dynamically transform the initial 
representation into an editable HTML form at the click of a button 
(without making another request).

Thanks in advance.

-- Jason




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4799<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-02-02 00:17:57<br>
Subject:Re: [rest-discuss] "Editable" Resources<br>
Message:<br><br>
<pre>On Tue, 1 Feb 2005, Jason Diamond wrote:
&gt; I'm working on an application that exposes some kind of "item" to its
&gt; users (the actual kind of item isn't important). I want users to be able
&gt; to interact with the application using their browsers (representations
&gt; in HTML) or programmatically (representations in XML).
...
&gt; Browsers don't support PUT-ing XML, of course. So we have to POST
&gt; multipart/form-data.

I've run up against the same problem.  I think that we're up for a few 
years of hacking better REST support into browsers, e.g by creating 
plugins to allow browser apps to specify HTTP details like Accept headers, 
PUTting XML, invoking DELETE, etc.

That's not a helpful answer in the short term, I realize.

- Lucas


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4800<br>
Sender:Jason Diamond &lt;jason@...&gt;<br>
Post Date/Time:2005-02-02 00:25:24<br>
Subject:Re: [rest-discuss] "Editable" Resources<br>
Message:<br><br>
<pre>turingart - Sales wrote:

&gt;  Am 1. Feb 2005 um 22:43 schrieb Jason Diamond:
&gt;
&gt; &gt; Browsers don't support PUT-ing XML, of course. So we have to POST
&gt; &gt; multipart/form-data. I don't have a problem with implementing code
&gt; &gt; that can extract the necessary bits from XML or
&gt; &gt; multipart/form-data.
&gt;
&gt;  Really? It shouldn't be a problem to POST your XML as text/html. This
&gt;  is what we do each day (to access eBay's XML API).

Did you mean text/xml?

I wasn't implying, since browsers can't do anything except POST 
application/x-www-form-urlencoded or multipart/form-data, that I needed 
to restrict developers from using their favorite HTTP library to doing 
the same thing.

I want developers to be able to do exactly that. But I also want users 
to be able to use their browsers to accomplish the same thing. The only 
difference would be the content types. Browsers would GET text/html and 
POST multipart/form-data. Developers would probably prefer to GET 
text/xml and POST the same.

-- Jason

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4801<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-02-02 00:28:00<br>
Subject:Re: [rest-discuss] "Editable" Resources<br>
Message:<br><br>
<pre>Lucas Gonze wrote:

&gt;I've run up against the same problem.  I think that we're up for a few 
&gt;years of hacking better REST support into browsers, e.g by creating 
&gt;plugins to allow browser apps to specify HTTP details like Accept headers, 
&gt;PUTting XML, invoking DELETE, etc.
&gt;  
&gt;
Hmm...could it really be that I am *not* the last person on earth having 
heard about XMLHTTP in JavaScript??

http://www.google.de/search?q=xmlhttp

HTH,

Jan


&gt;That's not a helpful answer in the short term, I realize.
&gt;
&gt;- Lucas
&gt;
&gt;
&gt;
&gt; 
&gt;Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt; 
&gt;
&gt;
&gt;
&gt;
&gt;  
&gt;


-- 
Jan Algermissen
Consultant &amp; Programmer
http://jalgermissen.com



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4802<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-02-02 00:30:53<br>
Subject:Re: [rest-discuss] "Editable" Resources<br>
Message:<br><br>
<pre>Lucas Gonze &lt;lgonze@...&gt; writes:

&gt; On Tue, 1 Feb 2005, Jason Diamond wrote:
&gt;&gt; I'm working on an application that exposes some kind of "item" to its
&gt;&gt; users (the actual kind of item isn't important). I want users to be able
&gt;&gt; to interact with the application using their browsers (representations
&gt;&gt; in HTML) or programmatically (representations in XML).
&gt; ...
&gt;&gt; Browsers don't support PUT-ing XML, of course. So we have to POST
&gt;&gt; multipart/form-data.
&gt;
&gt; I've run up against the same problem.  I think that we're up for a few 
&gt; years of hacking better REST support into browsers, e.g by creating 
&gt; plugins to allow browser apps to specify HTTP details like Accept headers, 
&gt; PUTting XML, invoking DELETE, etc.
&gt;
&gt; That's not a helpful answer in the short term, I realize.

Do you know about this:

   http://www.mozilla.org/xmlextras/

I'm fairly sure I remember doing a PUT with this.

It's not platform neutral but IE has something very similar.


Client side code seems pretty fundamental to REST so it makes sense
to use these tools.

An XML wrapping for JSON anyone? (http://www.json.org)

-- 
Nic Ferrier
http://www.tapsellferrier.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4803<br>
Sender:Jason Diamond &lt;jason@...&gt;<br>
Post Date/Time:2005-02-02 00:33:08<br>
Subject:Re: [rest-discuss] "Editable" Resources<br>
Message:<br><br>
<pre>Lucas Gonze wrote:

&gt; &gt; Browsers don't support PUT-ing XML, of course. So we have to POST
&gt; &gt; multipart/form-data.
&gt;
&gt;  I've run up against the same problem. I think that we're up for a
&gt;  few years of hacking better REST support into browsers, e.g by
&gt;  creating plugins to allow browser apps to specify HTTP details like
&gt;  Accept headers, PUTting XML, invoking DELETE, etc.
&gt;
&gt;  That's not a helpful answer in the short term, I realize.

This will probably elicit mention of XMLHttpRequest. It is possible to 
use it in the browser to make PUT and DELETE reuests, of course. But I'm 
looking for a solution that doesn't rely on JavaScript, if possible.

-- Jason

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4804<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-02-02 00:37:22<br>
Subject:Re: [rest-discuss] "Editable" Resources<br>
Message:<br><br>
<pre>On Wed, 2 Feb 2005, Jan Algermissen wrote:
&gt; Lucas Gonze wrote:
&gt; 
&gt; &gt;I've run up against the same problem.  I think that we're up for a few
&gt; &gt;years of hacking better REST support into browsers, e.g by creating
&gt; &gt;plugins to allow browser apps to specify HTTP details like Accept headers,
&gt; &gt;PUTting XML, invoking DELETE, etc.
&gt; &gt; 
&gt; &gt;
&gt; Hmm...could it really be that I am *not* the last person on earth having
&gt; heard about XMLHTTP in JavaScript??

It might be, but I can't help you with that.  :)

XMLHTTP is getting there but not there yet.  It does you no good for older 
browsers, browsers without Javascript or browsers that don't implement it, 
and it's a very fragile way to do things as important as setting a request 
header.

- Lucas


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4805<br>
Sender:"Robert Leftwich" &lt;digital_rtl@...&gt;<br>
Post Date/Time:2005-02-02 01:56:30<br>
Subject:Re: "Editable" Resources<br>
Message:<br><br>
<pre>
--- In rest-discuss@yahoogroups.com, Jason Diamond &lt;jason@i...&gt; wrote:
&gt; This will probably elicit mention of XMLHttpRequest. It is possible
to 
&gt; use it in the browser to make PUT and DELETE reuests, of course. But
I'm 
&gt; looking for a solution that doesn't rely on JavaScript, if possible.
&gt; 

For completeness and if you do decide to use Javascript then I
recommend looking at Sarissa (http://sarissa.sourceforge.net/doc/)
"... a cross-browser ECMAScript library for client side XML
manipulation, including XML loading from URLs or strings, XSLT
transformations, XPath queries and more. Supported: Gecko (Mozilla,
Firefox etc), IE, KHTML (Konqueror, Safari)."

It includes, among other things, a portable implementation of
XMLHttpRequest which works well.

Robert




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4806<br>
Sender:"Donald Strong" &lt;dstrong@...&gt;<br>
Post Date/Time:2005-02-03 03:06:47<br>
Subject:RE: [rest-discuss] URIs with path and query parameters<br>
Message:<br><br>
<pre>&gt; I have a couple of other resource types that are slightly more
&gt; complex to address. I've described them and defined URIs for each
&gt; type below. Any comment would be much appreciated!
&gt;
&gt; 1) Get a map showing a route from a source location to a destination
&gt; with optional intermediate locations:
&gt;
&gt; GET /map?
&gt; srcx=00001&amp;srcy=00002&amp;dest1x=00003&amp;dest1y=00004&amp;centerAbout=route&amp;sca
&gt; le=6000
&gt;
&gt; or alternatively using path parameters:
&gt;
&gt; GET /map/srcx=00001;srcy=00002;dest1x=00003;dest1y=00004;centerAbout=
&gt; route;scale=6000
&gt;
&gt; 2) Get a map displaying all features of a given type within a
&gt; specified radius of the source location (proximity search):
&gt;
&gt; GET /map/x=00001;y=00002;centerAbout=src;scale=6000?
&gt; radius=5000&amp;filter1=restaurants&amp;filter2=licensed
&gt;

One way of looking at this issue, and its not the only way, is that
your URIs identify items of interest and by adding a query to the URI
you ask a question of that item of interest.

Put another way, the absolute path before the question mark is always
specified by the server and the query part after the question mark
may be specified by the client.

So, if you are currently at a location the client might ask how to get
to another location:

 GET
/map/x=00001;y=00002?destx=00003&amp;desty=00004;centerAbout=route;scale=6000

or find local restaurants:

 GET
/map/x=00001;y=00002?scale=6000;radius=5000&amp;filter1=restaurants&amp;filter2=lice
nsed

Determining whether the parameter belongs with the path or the query is then
a matter of deciding whether the client should be able to modify it.

&gt; With an arbitrary number of destination locations possible in case
&gt; 1) and an unbounded number of filters in case 2) these URIs could
&gt; get quite lengthy.  Are there any rules of thumb for determining
&gt; when a query has become too long to be conveniently handled by a GET
&gt; operation, and if so what are the alternatives?

There are no rules but some implementations of proxy and origin servers have
physical limits on the number of characters in a URI.

The alternative is then to use POST. This has the drawback that it cannot be
bookmarked.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4807<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-02-03 05:57:02<br>
Subject:Re: [rest-discuss] "Editable" Resources<br>
Message:<br><br>
<pre>&gt;
&gt; I'd like the interaction "pattern" to be similar for both types of
&gt; access. (Or maybe that's not something I should want?)
My belief is that these will always diverge, due to the different access
patterns.
However, with more advanced clients (rather than older browsers) that can
programmatically access resources, this might change.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4808<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-02-03 05:59:39<br>
Subject:Re: [rest-discuss] "Editable" Resources<br>
Message:<br><br>
<pre>&gt; 
&gt; Do you know about this:
&gt; 
&gt;    http://www.mozilla.org/xmlextras/
&gt; 
&gt; I'm fairly sure I remember doing a PUT with this.
&gt; 
&gt; It's not platform neutral but IE has something very similar.
Actually, IE invented it. But Mozilla has something sort of similar. ;)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4809<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-02-03 06:13:23<br>
Subject:Re: [rest-discuss] "Editable" Resources<br>
Message:<br><br>
<pre>&gt;
&gt; It's the intermediate step of POST-ing to the URL to get an editable
&gt; HTML representation of the item that I'm not happy with.
You shouldn't need to POST, you should be able to just GET.

I think this is the crux of the issue that causes me to believe that the set
of resources for a browser-based interface will always be different than the
set of resources for an automation-based interface. And by resource, I
strictly mean the set of URIs used (and where 'URI' is defined to include
the query terms), not the fuzzy concepts behind the URIs.

This difference is a temporary state of affairs, until Web browsers grow up.
But other user-agents don't have this problem. For example media players can
use the full REST approach for things such as editing playlists, doing
decent caching, etc. without worrying about HTML pages and a user's
page-by-page workflow. It's the Web v2.0

&gt; An alternative would be to include a link with a query string parameter
&gt; like "?mode=edit" but that doesn't strike me as being very REST-ful,
either.
This is mostly RESTful. Just don't mistake 'mode' to mean 'method'. You
might want to use 'mode=author' and 'mode=reader' or some noun-based word.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4810<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-02-03 08:42:28<br>
Subject:Re: [rest-discuss] "Editable" Resources<br>
Message:<br><br>
<pre>On Wed, 2 Feb 2005 22:13:23 -0800, "S. Mike Dierken"
&lt;mdierken@...&gt; said:
&gt; &gt; An alternative would be to include a link with a query string parameter
&gt; &gt; like "?mode=edit" but that doesn't strike me as being very REST-ful,
&gt; either.
&gt; This is mostly RESTful. Just don't mistake 'mode' to mean 'method'. You
&gt; might want to use 'mode=author' and 'mode=reader' or some noun-based
&gt; word.

I have found it helpful to think of the editable representation as being
a subordinate resource of the resource you are editing.

For example, take a wiki page:
/wiki/MyPage/

The HTML representation of this can include a "Edit me" hyperlink, which
href's ./html_form (or ./editor or whatever). This gives you a
representation the source text of the page in a HTML textarea.

The submit button is a POST to /wiki/MyPage. I just interpret that POST
as a PUT (by pre-processing the request on the server) whenever the
Content-type of the request is 'application/www-urlencoded' (sp).

Remember that having to use forms this way is basically papering over
the
fact that most HTML browsers are read-only. Bearing this in mind, mozile
is worth consideration; it's a Mozilla/Firefox plugin which lets you
edit
a designated &lt;div&gt; area in the browser, and supports PUT.

http://mozile.mozdev.org/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4811<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-02-03 15:55:04<br>
Subject:RESTful Shopping Cart -- Client Side Implementation<br>
Message:<br><br>
<pre>Panic Software (makers of fine Mac software) have an apparel
store. It has a very impressive drag and drop shopping cart
done with Javascript/DHTML.

The shopping cart is an area at the bottom of the screen and
you drag the pictures of the items for sale in to it.

The point though, is that this thing is completely RESTful.
The browser manages all the state on the client-side, so you
don't need to use cookies (for the shopping cart).

All you have to do is a single POST with the contents of the
shopping cart (that's the 'Check Out' button).

If anybody asks on rest-discuss about how to do a shopping
cart in future, this is the URL to show them:

http://www.panic.com/goods/
(found at http://del.icio.us/url/894a7a9e057590ca902ce9b266f3802c )

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4812<br>
Sender:Sandeep Shetty &lt;sandeep.shetty@...&gt;<br>
Post Date/Time:2005-02-03 16:09:41<br>
Subject:Re: [rest-discuss] "Editable" Resources<br>
Message:<br><br>
<pre>On Thu, 03 Feb 2005 08:42:28 +0000, Vincent D Murphy &lt;vdm@...&gt; wrote:
&gt; I have found it helpful to think of the editable representation as being
&gt; a subordinate resource of the resource you are editing.
&gt; 
&gt; For example, take a wiki page:
&gt; /wiki/MyPage/
&gt; 
&gt; The HTML representation of this can include a "Edit me" hyperlink, which
&gt; href's ./html_form (or ./editor or whatever). This gives you a
&gt; representation the source text of the page in a HTML textarea.
 
&gt; The submit button is a POST to /wiki/MyPage. I just interpret that POST
&gt; as a PUT (by pre-processing the request on the server) whenever the
&gt; Content-type of the request is 'application/www-urlencoded' (sp).
&gt; 
&gt; Remember that having to use forms this way is basically papering over
&gt; the
&gt; fact that most HTML browsers are read-only.


This is similar to how I do it. Say you have a resource:
some-uri-space/sub-space/xyz
I would have another resource (some-uri-space/edit/xyz) that would
give me a editable representation of the above resource.

Note that this resource exists only for browsers and GETting it
returns a From that is POSTed to some-uri-space/edit/xyz, which is
then interpreted as a PUT to some-uri-space/xyz on the server. I
achieve this by using some hidden Form fields that have a URI and a
method.

Once we have browsers/plugins that support PUT/DELETE, I can simply
take out the browser specific resources and the hacks to convert
POST's to PUT's. The major chunk of my code remains intact.

Sandeep Shetty

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4813<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-02-03 17:23:34<br>
Subject:Re: [rest-discuss] RESTful Shopping Cart -- Client Side Implementation<br>
Message:<br><br>
<pre>On Thu, Feb 03, 2005 at 03:55:04PM +0000, Vincent D Murphy wrote:
&gt; http://www.panic.com/goods/
&gt; (found at http://del.icio.us/url/894a7a9e057590ca902ce9b266f3802c )

Gorgeous!

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4814<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-02-03 17:18:48<br>
Subject:Re: [rest-discuss] RESTful Shopping Cart -- Client Side Implementation<br>
Message:<br><br>
<pre>Mark Baker wrote:

&gt;On Thu, Feb 03, 2005 at 03:55:04PM +0000, Vincent D Murphy wrote:
&gt;  
&gt;
&gt;&gt;http://www.panic.com/goods/
&gt;&gt;(found at http://del.icio.us/url/894a7a9e057590ca902ce9b266f3802c )
&gt;&gt;    
&gt;&gt;
&gt;
&gt;Gorgeous!
&gt;  
&gt;
Yes....I just noticed that the cart state is persistent even when I 
close the page's window.... I am impressed.
When I open the page twice and add items to the cart in the second one, 
then reload the first one the items appear
there, too. Unfortunately no time to look at the Javascript...

Is that a firefox effect or does this work in other browsers, too?

Jan


&gt;Mark.
&gt;  
&gt;


-- 
Jan Algermissen
Consultant &amp; Programmer
http://jalgermissen.com



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4815<br>
Sender:Diego Sevilla Ruiz &lt;dsevilla@...&gt;<br>
Post Date/Time:2005-02-03 16:12:20<br>
Subject:Re: [rest-discuss] RESTful Shopping Cart -- Client Side Implementation<br>
Message:<br><br>
<pre>
Hi Vincent and REST list:

On Thu, Feb 03, 2005 at 03:55:04PM +0000, Vincent D Murphy wrote:

| 
| Panic Software (makers of fine Mac software) have an apparel
| store. It has a very impressive drag and drop shopping cart
| done with Javascript/DHTML.
| 
| The shopping cart is an area at the bottom of the screen and
| you drag the pictures of the items for sale in to it.
| 
| The point though, is that this thing is completely RESTful.
| The browser manages all the state on the client-side, so you
| don't need to use cookies (for the shopping cart).
| 

Excuse my misunderstandings, I'm new to REST, but what does REST 
principles have to do with state being maintained in the server 
or the client? RESTful servers (take for instance a simple Web
Server) have an internal state. You even can modify it via POSTs and
GETs.

	Am I wrong?

| [snip]

	Best regards,
	diego

-- 
Diego Sevilla Ruiz -- http://ditec.um.es/~dsevilla/ -- dsevilla@... _.___
Dep. Ingeniera y Tecnologa de Computadores, Facultad de Informtica D|TEC
Univ.de Murcia,Campus Espinardo,30080 Murcia (SPAIN),Tel.+34968367571




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4816<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-02-03 18:51:44<br>
Subject:Re: [rest-discuss] RESTful Shopping Cart -- Client Side Implementation<br>
Message:<br><br>
<pre>On Thu, Feb 03, 2005 at 05:12:20PM +0100, Diego Sevilla Ruiz wrote:

| Excuse my misunderstandings, I'm new to REST, but what does REST 
| principles have to do with state being maintained in the server 
| or the client? RESTful servers (take for instance a simple Web
| Server) have an internal state. You even can modify it via POSTs and
| GETs.

REST has a whole lot to do with appropriate state management.  Specifically,
see Secs 5.1.3 and 5.1.4 of Dr. Fielding's Dissertation [1].

Certainly, servers have state -- REST is REprestational _State_ Transfer,
after all -- but the state mentioned here is ususally of the connection.
I.e., I have to do a GET, then POST that I want an item, which sets up
a cookie, which then modifies future interactions GETs, POSTs, &amp;c. with
the site ... not because of a resource change on the server or anything
mentioned in subsequent requests [GETs], but because of some magic cookie
which is going alongside the connection.

The key statelessness desired in a RESTful [or most large-scale distributed
] architecture is one of connection: each request should be able to be
processed by looking _only_ at the contents of the request.

One doesn't _require_ client-side state-management to do a shopping cart.
Another option, as you say, is to add things to the cart via a POST,
which creates a resource identifier for the shopping cart on the server.
The user can then interact with it; I'd argue that most sites do this,
these days.  When cookies and un-identified application-side session
state are used, a set of undesirable properites creep in.

It's pretty cool that one doesn't need either server-side
state-mangement or cookies in order to do something that's fundamentally a
client-side operation [remembering a simple list of items].  Since browsers
and servers never came to a good agreement on how to do that, this is an
excellent example of the Code-On-Demand constraint [2] coming into play.

MarkB's State FAQ [3] has more information about state.


[1] http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_3
[2] http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_7
[3] http://rest.blueoxen.net/cgi-bin/wiki.pl?StateFaq

...jsled

-- 
http://asynchronous.org/jsled/ ; a=jsled; b=asynchronous.org; echo ${a}@${b}

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4817<br>
Sender:Berend de Boer &lt;berend@...&gt;<br>
Post Date/Time:2005-02-03 19:19:30<br>
Subject:Re: [rest-discuss] RESTful Shopping Cart -- Client Side Implementation<br>
Message:<br><br>
<pre>&gt;&gt;&gt;&gt;&gt; "Vincent" == Vincent D Murphy &lt;vdm@...&gt; writes:

    Vincent&gt; The point though, is that this thing is completely
    Vincent&gt; RESTful.  The browser manages all the state on the
    Vincent&gt; client-side, so you don't need to use cookies (for the
    Vincent&gt; shopping cart).

Really? I've got three cookies for panic.com and the contents looks particularly
like the shopping cart.

-- 
Regards,

Berend. (-:


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4818<br>
Sender:Berend de Boer &lt;berend@...&gt;<br>
Post Date/Time:2005-02-03 19:22:24<br>
Subject:Re: [rest-discuss] RESTful Shopping Cart -- Client Side Implementation<br>
Message:<br><br>
<pre>&gt;&gt;&gt;&gt;&gt; "Vincent" == Vincent D Murphy &lt;vdm@...&gt; writes:

    Vincent&gt; The point though, is that this thing is completely
    Vincent&gt; RESTful.  The browser manages all the state on the
    Vincent&gt; client-side, so you don't need to use cookies (for the
    Vincent&gt; shopping cart).

Just checked: removing the cookies empties your shopping cart...

-- 
Regards,

Berend. (-:


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4819<br>
Sender:Jason Diamond &lt;jason@...&gt;<br>
Post Date/Time:2005-02-03 20:46:46<br>
Subject:Re: [rest-discuss] "Editable" Resources<br>
Message:<br><br>
<pre>S. Mike Dierken wrote:

&gt; &gt; It's the intermediate step of POST-ing to the URL to get an
&gt; &gt; editable HTML representation of the item that I'm not happy with.
&gt;
&gt;  You shouldn't need to POST, you should be able to just GET.

I was initially POST-ing because GET-ing was returning the non-editable 
representation of the resource. I needed something to help my server 
code distinguish between the when it should return the resource as 
non-editable HTML or as an editable HTML form.

I've since decided this wasn't the best approach as that means the code 
that handles POST-s for that URL needs to distinguish between the 
"initial" POST when the HTML form is returned and the subsequent POST 
when the form data is submitted. Seeing the code get messy made it 
obvious that it wasn't a good design.

&gt; &gt; An alternative would be to include a link with a query string
&gt; &gt; parameter like "?mode=edit" but that doesn't strike me as being
&gt; &gt; very REST-ful, either.
&gt;
&gt;  This is mostly RESTful. Just don't mistake 'mode' to mean
&gt;  'method'. You might want to use 'mode=author' and 'mode=reader' or
&gt;  some noun-based word.

This is what I switched to using but instead of traditional query string 
parameters, the query string looks like "?edit" or "?delete". I might be 
abusing the query string by doing that, though. I could just as easily 
use an extra path segment.

Here's some possibilities (with delete thrown into the mix):

- GET example.org/foo - returns representation of foo (HTML or XML 
depending on Accept header)
- PUT, POST example.org/foo - accepts XML
- DELETE example.org/foo - deletes foo resource
- GET example.org/foo?edit - returns HTML form to edit foo
- GET example.org/foo/edit - using path segment instead of query
- GET example.org/foo/edit-form - using noun
- POST example.org/foo/edit-form - accepts multipart/form-data, updates 
foo resource (parent)
- GET example.org/foo?delete - returns HTML form to confirm delete operation
- GET example.org/foo/delete - using path segment instead of query
- GET example.org/foo/delete-form - using noun
- POST example.org/foo/delete-form - deletes foo resource (parent)

I'm not sure I like how POST-ing to a subordinate resource (when using 
path segments instead of query strings) updates and/or deletes the 
parent resource even if it's just a hack to get around the browser's 
limitations. Maybe that's an argument in favor of query strings.

Any suggestions?

Thanks.

-- Jason

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4820<br>
Sender:Jason Diamond &lt;jason@...&gt;<br>
Post Date/Time:2005-02-03 20:52:38<br>
Subject:Re: [rest-discuss] "Editable" Resources<br>
Message:<br><br>
<pre>Sandeep Shetty wrote:

&gt;  This is similar to how I do it. Say you have a resource:
&gt;  some-uri-space/sub-space/xyz I would have another resource
&gt;  (some-uri-space/edit/xyz) that would give me a editable
&gt;  representation of the above resource.

Interesting. Your edit form resources are not subordinates to the actual 
resources you're editing.

This has the advantage that it makes it easy to exclude those resources 
using /robots.txt.

&gt;  Note that this resource exists only for browsers and GETting it
&gt;  returns a From that is POSTed to some-uri-space/edit/xyz, which is
&gt;  then interpreted as a PUT to some-uri-space/xyz on the server. I
&gt;  achieve this by using some hidden Form fields that have a URI and a
&gt;  method.

I like it. Do you have corresponding URI spaces for delete, rename, and 
other operations?

-- Jason

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4821<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-02-03 21:02:21<br>
Subject:Re: [rest-discuss] RESTful Shopping Cart -- Client Side Implementation<br>
Message:<br><br>
<pre>On Fri, 04 Feb 2005 08:22:24 +1300, "Berend de Boer" &lt;berend@...&gt;
said:
&gt; Just checked: removing the cookies empties your shopping cart...

OK, maybe I should have added the caveat "in principle"
to the statement that this is RESTful.

I didn't have time to fully reverse-engineer this
before posting it to rest-discuss, because my day
job has nothing to do with REST (or even computing).

I don't believe in a "cookies are bad" dogma, I just
believe that its useful to know the consequences of
using them from an architecture point of view.

For example, I think its pretty much impossible to do
useful authentication/authorisation and login/logout
functionality without cookies, because of useless
browser support for HTTP auth. But that doesn't mean
there aren't ways you can win by keeping the rest of
your app RESTful in its design.

Still, reading the code, I think the cookie is there so
the shopping cart can be repopulated after quitting the
browser, or a reload. Pretty orthogonal to maintaining
connection state. A *good* use of cookies, dare I say?

I'll probably study this properly over the weekend to
find out for sure, but I have a hard time seeing how
you couldn't POST a representation of the array of
ordered items.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4822<br>
Sender:"Elias Sinderson" &lt;elias@...&gt;<br>
Post Date/Time:2005-02-03 21:06:00<br>
Subject:Re: "Editable" Resources<br>
Message:<br><br>
<pre>
--- In rest-discuss@yahoogroups.com, Jason Diamond &lt;jason@i...&gt; wrote:
&gt; Sandeep Shetty wrote:
&gt; 
&gt; &gt;  This is similar to how I do it. Say you have a resource:
&gt; &gt;  some-uri-space/sub-space/xyz I would have another resource
&gt; &gt;  (some-uri-space/edit/xyz) that would give me a editable
&gt; &gt;  representation of the above resource.
[...]
&gt; I like it. Do you have corresponding URI spaces for delete, rename,
and other operations?


As interesting an approach as this may be, it is a Bad Idea [TM] to
reify HTTP / WebDAV methods, such as DELETE and MOVE, within resource
URIs. This fundamentally subverts the reason for having different HTTP
methods in the first place...

REST as realized by the Web is (thankfully) about more than GET and POST.


Regards,
Elias




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4823<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-02-03 21:13:56<br>
Subject:Re: [rest-discuss] Conneg for MIME type variations? was: "Editable" Resources<br>
Message:<br><br>
<pre>Jason Diamond wrote:

&gt; Here's some possibilities (with delete thrown into the mix):
&gt;
&gt;- GET example.org/foo - returns representation of foo (HTML or XML 
&gt;depending on Accept header)
&gt;- PUT, POST example.org/foo - accepts XML
&gt;- DELETE example.org/foo - deletes foo resource
&gt;- GET example.org/foo?edit - returns HTML form to edit foo
&gt;- GET example.org/foo/edit - using path segment instead of query
&gt;- GET example.org/foo/edit-form - using noun
&gt;  
&gt;
&gt;Any suggestions?
&gt;  
&gt;
This actually relates to a question I have been having in my head for 
some time:

IMHO the form is just another representation of the resource and conneg 
would be the appropriate
way to tell the server to GET me the form instead of the non-form, or am 
I completely wrong?

The issue with this is that there are no standard headers that allow for 
negotiations of variations on
MIME types, just for negotiations of the MIME type as such. I would 
actually also need such a
capability for RDF representations: sometimes I want all statements 
about the GETed resource, sometimes
I only want for example the statements that tell me what rdfs:label the 
resource has.

As I am doing this in a controlled and closed environment, I 
experimented with additional proprietary
headers such as

GET /foo HTTP 1.0

Accept: application/rdf+xml
Limit-Schema: http://www.w3.org/2000/01/rdf-schema#

I am having trouble figuring out what the right (intended) way for 
definitions of extension headers is,
when I want to take this approach out into the wilde.

If someone could direct me to *the* specs for doing this, that would be 
of great help.

Or is that an inappropriate use of conneg anyhow?

Thanks,

Jan



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4824<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-02-03 21:21:51<br>
Subject:Re: [rest-discuss] "Editable" Resources<br>
Message:<br><br>
<pre>On Thu, 03 Feb 2005 12:46:46 -0800, "Jason Diamond"
&lt;jason@...&gt; said:
&gt; I was initially POST-ing because GET-ing was returning the non-editable 
&gt; representation of the resource. I needed something to help my server 
&gt; code distinguish between the when it should return the resource as 
&gt; non-editable HTML or as an editable HTML form.

Well, URIs are cheap, so maybe you should distinguish between
two URIs rather than two methods. This is muddying the semantics
of GET and POST in my opinion.

&gt; I've since decided this wasn't the best approach as that means the code 
&gt; that handles POST-s for that URL needs to distinguish between the 
&gt; "initial" POST when the HTML form is returned and the subsequent POST 
&gt; when the form data is submitted.

Agreed.

&gt; Seeing the code get messy made it 
&gt; obvious that it wasn't a good design.

Agreed, with the qualification that sometimes code is messy
because your language or environment are inadequate.
e.g. trying to use higher-order procedures in Visual Basic.

&gt; &gt; &gt; An alternative would be to include a link with a query string
&gt; &gt; &gt; parameter like "?mode=edit" but that doesn't strike me as being
&gt; &gt; &gt; very REST-ful, either.
&gt; &gt;
&gt; &gt;  This is mostly RESTful. Just don't mistake 'mode' to mean
&gt; &gt;  'method'. You might want to use 'mode=author' and 'mode=reader' or
&gt; &gt;  some noun-based word.
&gt; 
&gt; This is what I switched to using but instead of traditional query string 
&gt; parameters, the query string looks like "?edit" or "?delete". I might be 
&gt; abusing the query string by doing that, though. I could just as easily 
&gt; use an extra path segment.

I think the distinction between putting the verb in a
path segment or a query string segment matters less than
whether you put it in the entity body.

Ideally, you would just put it in the HTTP method field,
if you have tools that let you read and write this value
at either end. Failing that, you have to compromise.
I think putting it in a POSTed entity body (e.g. as a form
field) is less evil than putting it in the URI.

Another option could be using XMLHttpRequest to just
send the correct verb in the HTTP method field, but
I haven't researched that yet.

&gt; Here's some possibilities (with delete thrown into the mix):
&gt; 
&gt; - GET example.org/foo - returns representation of foo (HTML or XML 
&gt; depending on Accept header)
&gt; - PUT, POST example.org/foo - accepts XML
&gt; - DELETE example.org/foo - deletes foo resource
&gt; - GET example.org/foo?edit - returns HTML form to edit foo
&gt; - GET example.org/foo/edit - using path segment instead of query
&gt; - GET example.org/foo/edit-form - using noun
&gt; - POST example.org/foo/edit-form - accepts multipart/form-data, updates 
&gt; foo resource (parent)
&gt; - GET example.org/foo?delete - returns HTML form to confirm delete
&gt; operation
&gt; - GET example.org/foo/delete - using path segment instead of query
&gt; - GET example.org/foo/delete-form - using noun
&gt; - POST example.org/foo/delete-form - deletes foo resource (parent)
&gt; 
&gt; I'm not sure I like how POST-ing to a subordinate resource (when using 
&gt; path segments instead of query strings) updates and/or deletes the 
&gt; parent resource even if it's just a hack to get around the browser's 
&gt; limitations. Maybe that's an argument in favor of query strings.

I agree, which is why I have the HTML form in ./html_form POST to ../
(the parent resource). I only ever GET the subordinate resource.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4825<br>
Sender:Jason Diamond &lt;jason@...&gt;<br>
Post Date/Time:2005-02-03 21:19:19<br>
Subject:Re: [rest-discuss] Re: "Editable" Resources<br>
Message:<br><br>
<pre>Elias Sinderson wrote:

&gt;  As interesting an approach as this may be, it is a Bad Idea [TM] to
&gt;  reify HTTP / WebDAV methods, such as DELETE and MOVE, within resource
&gt;  URIs. This fundamentally subverts the reason for having different
&gt;  HTTP methods in the first place...
&gt;
&gt;  REST as realized by the Web is (thankfully) about more than GET and
&gt;  POST.

These resources would *only* be used by crippled HTML browsers. 
Programmatic access by developers not using a browser could use the 
appropriate HTTP methods on the actual resources.

Sandeep said that he "interpreted" POST-s to these "browser specific 
resources" as PUT-s to the actual resources. In fact, theres' no reason 
why you can't actually implement code that does an actual PUT or DELETE 
or whatever to the "real" resource when a POST is made to one of the 
"fake" resources.

This isn't a limitation of the REST architectural style but a limitation 
of some of the tools we have to deal with (I'm considering the browser a 
tool).

-- Jason

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4826<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-02-03 21:30:19<br>
Subject:Re: [rest-discuss] Conneg for MIME type variations? was: "Editable"   Resources<br>
Message:<br><br>
<pre>On Thu, 03 Feb 2005 22:13:56 +0100, "Jan Algermissen"
&lt;jalgermissen@...&gt; said:
&gt; This actually relates to a question I have been having in my head for 
&gt; some time:
&gt; 
&gt; IMHO the form is just another representation of the resource and conneg 
&gt; would be the appropriate
&gt; way to tell the server to GET me the form instead of the non-form, or am 
&gt; I completely wrong?

I agree with your statement that the form is just another
representation.

I'm not so sure that you need conneg. I think it would be
enough to split resource metadata in to its own resource.

&gt; The issue with this is that there are no standard headers that allow for 
&gt; negotiations of variations on
&gt; MIME types, just for negotiations of the MIME type as such. I would 
&gt; actually also need such a
&gt; capability for RDF representations: sometimes I want all statements 
&gt; about the GETed resource, sometimes
&gt; I only want for example the statements that tell me what rdfs:label the 
&gt; resource has.

Continuing from above, maybe 'Variations on MIME types' here
basically constitutes variation on the resources involved,
because there is a difference between the resource data and
the resource metadata.

I find it easier to cope with this problem by just sticking
resource metadata in a subordinate resource.

Paul James described a similar thought process recently;
you might find it helpful:
http://www.peej.co.uk/thinking/2005/01/restification

&gt; Or is that an inappropriate use of conneg anyhow?

I haven't needed conneg so far, because I make every
representation a resource with its own URI. e.g.

/foo/html
/foo/html_form
/foo/pdf
/foo/xml

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4827<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-02-03 21:37:16<br>
Subject:Re: [rest-discuss] Re: "Editable" Resources<br>
Message:<br><br>
<pre>On Thu, 03 Feb 2005 13:19:19 -0800, "Jason Diamond"
&lt;jason@...&gt; said:
&gt; Sandeep said that he "interpreted" POST-s to these "browser specific 
&gt; resources" as PUT-s to the actual resources. In fact, theres' no reason 
&gt; why you can't actually implement code that does an actual PUT or DELETE 
&gt; or whatever to the "real" resource when a POST is made to one of the 
&gt; "fake" resources.

Why not just do a PUT on the real resource whenever you
receive a POST on the real resource? Having the fake resource
in the middle seems superfuous to me. All you need is an
if-then on the server, before you dispatch on the HTTP method
field.

Also, consider that POST encompasses 'processThis' semantics,
which are more general-purpose than GET/PUT/DELETE. I think
that makes for a more natural fit.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4828<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-02-03 21:54:10<br>
Subject:Re: [rest-discuss] Conneg for MIME type variations? was: "Editable"   Resources<br>
Message:<br><br>
<pre>On Thu, 3 Feb 2005, Vincent D Murphy wrote:
&gt; I haven't needed conneg so far, because I make every
&gt; representation a resource with its own URI. e.g.
&gt; 
&gt; /foo/html
&gt; /foo/html_form
&gt; /foo/pdf
&gt; /foo/xml

I use the same workaround and am reasonably happy with it.  It often makes 
good RESTful sense by accident, because depending on content negotiation 
makes the URL slightly less useful.






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4829<br>
Sender:Jason Diamond &lt;jason@...&gt;<br>
Post Date/Time:2005-02-03 22:20:44<br>
Subject:Re: [rest-discuss] Re: "Editable" Resources<br>
Message:<br><br>
<pre>Vincent D Murphy wrote:

&gt;  On Thu, 03 Feb 2005 13:19:19 -0800, "Jason Diamond"
&gt;
&gt; &gt; Sandeep said that he "interpreted" POST-s to these "browser
&gt; &gt; specific resources" as PUT-s to the actual resources. In fact,
&gt; &gt; theres' no reason why you can't actually implement code that does
&gt; &gt; an actual PUT or DELETE or whatever to the "real" resource when a
&gt; &gt; POST is made to one of the "fake" resources.
&gt;
&gt;  Why not just do a PUT on the real resource whenever you receive a
&gt;  POST on the real resource? Having the fake resource in the middle
&gt;  seems superfuous to me. All you need is an if-then on the server,
&gt;  before you dispatch on the HTTP method field.
&gt;
&gt;  Also, consider that POST encompasses 'processThis' semantics, which
&gt;  are more general-purpose than GET/PUT/DELETE. I think that makes for
&gt;  a more natural fit.

I guess you're right. I think I was just trying to justify creating the 
extra resources by giving them more to do. One if-then on the server 
wouldn't be bad (and in the web framework I'm using, I wouldn't even 
need that).

I was just worried about the "conceptual" overhead of each resource. If 
a resource only returned (for GET) and only accepted (for PUT/POST) one 
content type, that seems like it would be easier to reason about.

You said in another message that you expose your resources like this:

&gt; /foo/html
&gt; /foo/html_form
&gt; /foo/pdf
&gt; /foo/xml

So you *never* do a GET on /foo? You only PUT, POST, DELETE to it?

-- Jason

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4830<br>
Sender:Paul James &lt;yahoogroups@...&gt;<br>
Post Date/Time:2005-02-03 23:12:37<br>
Subject:Re: [rest-discuss] "Editable" Resources<br>
Message:<br><br>
<pre>Hi Jason,

You've had plenty of great responses, but I thought I'd give my 2 cents.

You appear to be forgetting that a HTML form, the form you want to use 
to edit your resources in the browser, is itself a unique Web resource.

So I'd say that a RESTful way to edit resources through POST and a 
browser is to have an edit resource that takes a URL as a querystring 
and has a representation of an editable version of your URL resource.

  view - GET http://example.org/myresource
  edit - GET http://example.org/edit?url=/myresource
  save - POST http://example.org/edit?url=/myresource

Whether your edit resource should be POSTable to or your resource 
itself, I'm not sure and I don't think it really matters, since POST is 
the workhorse of HTTP and left mostly to the author to use as they need.

This method also allows you to return different representations for 
editing your resources (for example a HTML form, an XFORMs form, or a 
XUL form) by using conneg on your edit resource.

Paul.

Jason Diamond wrote:
&gt; 
&gt; Hi.
&gt; 
&gt; I'm working on an application that exposes some kind of "item" to its
&gt; users (the actual kind of item isn't important). I want users to be able
&gt; to interact with the application using their browsers (representations
&gt; in HTML) or programmatically (representations in XML).
&gt; 
&gt; I'd like the interaction "pattern" to be similar for both types of
&gt; access. (Or maybe that's not something I should want?)
&gt; 
&gt; The application has a unique URL for each item it exposes to its users.
&gt; Using a browser, users can GET a URL and see a representation of the
&gt; item. If they want to edit the item, they click the "Edit" button which
&gt; would POST back to the same URL. After modifying the values, they click
&gt; the "Submit" button which POST-s back to the same URL again.
&gt; 
&gt; Something seems fishy with this design when compared with how it would
&gt; be done programmatically. A user would GET the URL and receive XML. They
&gt; would then PUT the modified XML to the same URL which would update the item.
&gt; 
&gt; Browsers don't support PUT-ing XML, of course. So we have to POST
&gt; multipart/form-data. I don't have a problem with implementing code that
&gt; can extract the necessary bits from XML or multipart/form-data.
&gt; 
&gt; It's the intermediate step of POST-ing to the URL to get an editable
&gt; HTML representation of the item that I'm not happy with.
&gt; 
&gt; An alternative would be to include a link with a query string parameter
&gt; like "?mode=edit" but that doesn't strike me as being very REST-ful, either.
&gt; 
&gt; I know it's possible, but I'm trying to avoid returning HTML containing
&gt; the necessary JavaScript to dynamically transform the initial
&gt; representation into an editable HTML form at the click of a button
&gt; (without making another request).
&gt; 
&gt; Thanks in advance.
&gt; 
&gt; -- Jason
&gt; 
&gt; 
&gt; 
&gt; 
&gt; ------------------------------------------------------------------------
&gt; *Yahoo! Groups Links*
&gt; 
&gt;     * To visit your group on the web, go to:
&gt;       http://groups.yahoo.com/group/rest-discuss/
&gt;        
&gt;     * To unsubscribe from this group, send an email to:
&gt;       rest-discuss-unsubscribe@yahoogroups.com
&gt;       &lt;mailto:rest-discuss-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;
&gt;        
&gt;     * Your use of Yahoo! Groups is subject to the Yahoo! Terms of
&gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;. 
&gt; 
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4831<br>
Sender:Berend de Boer &lt;berend@...&gt;<br>
Post Date/Time:2005-02-03 23:49:21<br>
Subject:Re: [rest-discuss] RESTful Shopping Cart -- Client Side Implementation<br>
Message:<br><br>
<pre>&gt;&gt;&gt;&gt;&gt; "Vincent" == Vincent D Murphy &lt;vdm@...&gt; writes:

    Vincent&gt; I don't believe in a "cookies are bad" dogma, I just
    Vincent&gt; believe that its useful to know the consequences of using
    Vincent&gt; them from an architecture point of view.

No disagreement here. It's the only thing you can use. 

That said, this example's use of cookies is pretty bad.

    Vincent&gt; For example, I think its pretty much impossible to do
    Vincent&gt; useful authentication/authorisation and login/logout
    Vincent&gt; functionality without cookies, because of useless browser
    Vincent&gt; support for HTTP auth. But that doesn't mean there aren't
    Vincent&gt; ways you can win by keeping the rest of your app RESTful
    Vincent&gt; in its design.

There has been a thread on this with some very convincing code that it
is possible. Next time I've to do HTTP auth, I will definitively give
this a try.


    Vincent&gt; Still, reading the code, I think the cookie is there so
    Vincent&gt; the shopping cart can be repopulated after quitting the
    Vincent&gt; browser, or a reload. Pretty orthogonal to maintaining
    Vincent&gt; connection state. A *good* use of cookies, dare I say?

No IMO. If you use a cookie, you would need only one. A session state
identifier. Rest of session variables are stored at the server.


    Vincent&gt; I'll probably study this properly over the weekend to
    Vincent&gt; find out for sure, but I have a hard time seeing how you
    Vincent&gt; couldn't POST a representation of the array of ordered
    Vincent&gt; items.

From an HTTML form and browser? Impossible I would say.

-- 
Regards,

Berend. (-:


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4832<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2005-02-04 03:25:59<br>
Subject:Re: [rest-discuss] RESTful Shopping Cart -- Client Side Implementation<br>
Message:<br><br>
<pre>On Feb 3, 2005, at 7:55 AM, Vincent D Murphy wrote:

&gt; If anybody asks on rest-discuss about how to do a shopping
&gt; cart in future, this is the URL to show them:
&gt;
&gt; http://www.panic.com/goods/
&gt; (found at http://del.icio.us/url/894a7a9e057590ca902ce9b266f3802c )

Heh, well, it's a nice example even with the cookies -- sometimes
just having the UI to show is enough.  I was asked the question
(for the 100th time) a few weeks ago --- how to build a shopping
cart that follows REST constraints --- and was a bit surprised
that I couldn't find any of my old e-mails on the subject.  I used
it as one the primary examples in talks about the style.

&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/ 
evaluation.htm#sec_6_3_4_2&gt;

I did find a related discussion on www-talk

&lt;http://www.webhistory.org/www.lists/www-talk.1995q3/0348.html&gt;

and, lo and behold, there is a response from James Gosling
that is very close

&lt;http://www.webhistory.org/www.lists/www-talk.1995q3/0354.html&gt;

     - behaviour and state needs to be pushed out. Things like
       shopping baskets are easy to do as Java applets. Since
       there's no shared state between the client and server,
       everything is cacheable. The server gets one "put"
       when the customer pushes "buy".

And the message I sent about it here:

&lt;http://groups.yahoo.com/group/rest-discuss/message/3583&gt;


Cheers,

Roy T. Fielding                            &lt;http://roy.gbiv.com/&gt;
Chief Scientist, Day Software              &lt;http://www.day.com/&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4833<br>
Sender:Sandeep Shetty &lt;sandeep.shetty@...&gt;<br>
Post Date/Time:2005-02-04 06:51:01<br>
Subject:Re: [rest-discuss] "Editable" Resources<br>
Message:<br><br>
<pre>On Thu, 03 Feb 2005 12:52:38 -0800, Jason Diamond &lt;jason@...&gt; wrote:
&gt; Interesting. Your edit form resources are not subordinates to the actual
&gt; resources you're editing.
&gt; 
&gt; This has the advantage that it makes it easy to exclude those resources
&gt; using /robots.txt.


That and it cleanly separates the hack from the rest of my code on the
server side.
Let me explain:
I've mapped URI-spaces to resource-handlers on the server side. So a
PUT to some-uri-space/resource-type-a/xyz means that I want to either
create  or update a resource xyz of type resource-type-a. So i can
discern that anything in the URI-space after
some-uri-space/resource-type-a is a resource of that type. If I have a
resource some-uri-space/resource-type-a/xyz/edit then from what I've
said earlier, I now have to assume that I have a resource /xyz/edit of
type resource-type-a which I think is a pollution of the URI-space
some-uri-space/resource-type-a/. Also, later I can just remove the
mapping to the specific CREATE/EDIT/DELETE resource without touching
the URI-spaces that behave RESTfully. Thats why the CREATE/EDIT/DELETE
Form resources are not subordinates of the actual resource.
 
&gt; I like it. Do you have corresponding URI spaces for delete, rename, and
&gt; other operations?

Yep. I have something similar for CREATE and DELETE as well, along
with EDIT. RENAME  I don't have.

Sandeep Shetty

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4834<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-02-04 06:52:46<br>
Subject:Re: [rest-discuss] Re: "Editable" Resources<br>
Message:<br><br>
<pre>&gt; &gt; &gt;  This is similar to how I do it. Say you have a resource:
&gt; &gt; &gt;  some-uri-space/sub-space/xyz I would have another resource
&gt; &gt; &gt;  (some-uri-space/edit/xyz) that would give me a editable
&gt; &gt; &gt;  representation of the above resource.
&gt; [...]
&gt; &gt; I like it. Do you have corresponding URI spaces for delete, rename,
&gt; and other operations?
&gt;
&gt;
&gt; As interesting an approach as this may be, it is a Bad Idea [TM] to
&gt; reify HTTP / WebDAV methods, such as DELETE and MOVE, within resource
&gt; URIs. This fundamentally subverts the reason for having different HTTP
&gt; methods in the first place...
&gt;
These resources aren't modelling the methods, but I believe they are meant
to access user interface artifacts related to the activity of deleting or
moving - like a confirmation page, or selecting a destination, etc. There
are 'ui resources' separate from the 'data resources'.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4835<br>
Sender:Sandeep Shetty &lt;sandeep.shetty@...&gt;<br>
Post Date/Time:2005-02-04 06:59:47<br>
Subject:Re: [rest-discuss] Re: "Editable" Resources<br>
Message:<br><br>
<pre>On Thu, 03 Feb 2005 21:37:16 +0000, Vincent D Murphy &lt;vdm@...&gt; wrote:
&gt; Why not just do a PUT on the real resource whenever you
&gt; receive a POST on the real resource? Having the fake resource
&gt; in the middle seems superfuous to me. All you need is an
&gt; if-then on the server, before you dispatch on the HTTP method
&gt; field.
 
Which is why I don't have it like this. If in the future I have to
remove the hack I have to go remove all the If-then's in my code or
leave it in there in which case I cannot use the POST method on the
real resource because I'm using it for a hack!

I need the fake resource to cleanly separate the hack from the core of my code.

Sandeep Shetty

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4836<br>
Sender:Sandeep Shetty &lt;sandeep.shetty@...&gt;<br>
Post Date/Time:2005-02-04 07:28:31<br>
Subject:Re: [rest-discuss] Conneg for MIME type variations? was: "Editable" Resources<br>
Message:<br><br>
<pre>On Thu, 03 Feb 2005 22:13:56 +0100, Jan Algermissen
&gt; IMHO the form is just another representation of the resource and conneg
&gt; would be the appropriate
&gt; way to tell the server to GET me the form instead of the non-form, or am
&gt; I completely wrong?

This is exactly the same conclusion that I arrived at before I came up
with the hack I mentioned in the other thread. The reason I din't go
with conneg is that the problem would not exist when we have
structured data with proper semantics and REST clients that understand
them and till we get there we have WYSIWYE:
Edithttp://www.oreillynet.com/pub/a/mozilla/2003/10/03/mozile.html

I am currently working on a REST GUI client along the lines of
LiveHTTPheaders for testing and trying out REST based web-services.
Say you have a resource /some-uri-space/xyz and you perform a GET on
it using the REST client and it sent a XML or RDF representation which
you could edit and PUT back to the same resource, similar to how web
services would communicate with each other. I know this is a
simplistic example but this is how I think the semantic web should
work. Where the representations themselves have structure and
semantics and you don't need a Form to create/edit/delete them.

Conneg would play a role here in getting me the representation that my
REST GUI client can provide a editable interface for.

Sandeep Shetty

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4837<br>
Sender:Sandeep Shetty &lt;sandeep.shetty@...&gt;<br>
Post Date/Time:2005-02-04 07:47:29<br>
Subject:Re: [rest-discuss] Re: "Editable" Resources<br>
Message:<br><br>
<pre>On Thu, 03 Feb 2005 13:19:19 -0800, Jason Diamond &lt;jason@...&gt; wrote:
&gt; Elias Sinderson wrote:
&gt; &gt;  As interesting an approach as this may be, it is a Bad Idea [TM] to
&gt; &gt;  reify HTTP / WebDAV methods, such as DELETE and MOVE, within resource
&gt; &gt;  URIs. This fundamentally subverts the reason for having different
&gt; &gt;  HTTP methods in the first place...
&gt; &gt;
&gt; &gt;  REST as realized by the Web is (thankfully) about more than GET and
&gt; &gt;  POST.
&gt; 
&gt; These resources would *only* be used by crippled HTML browsers.
&gt; Programmatic access by developers not using a browser could use the
&gt; appropriate HTTP methods on the actual resources.

&gt; Sandeep said that he "interpreted" POST-s to these "browser specific
&gt; resources" as PUT-s to the actual resources. In fact, theres' no reason
&gt; why you can't actually implement code that does an actual PUT or DELETE
&gt; or whatever to the "real" resource when a POST is made to one of the
&gt; "fake" resources.
&gt; 
&gt; This isn't a limitation of the REST architectural style but a limitation
&gt; of some of the tools we have to deal with (I'm considering the browser a
&gt; tool).


Exactly! You can PUT/GET/POST/DELETE on the real resource and this is
what programmatic clients would do and depending on conneg they would
get the appropriate representation. This means that the handling on
the server side is based on uniform semantics and the hacks can be
taken out anytime without affecting its behaviour which is RESTful. I
arrived at this solution after seeing countless implementation when a
web-based server would need new wrapper code around it to make it a
web-service. With my approach (that uses conneg appropraitely) there
is just one codebase that is based on uniform semantics and as a
web-service developer/modeller you think only in terms of REST.

Sandeep Shetty

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4838<br>
Sender:"adamratcliffe2004" &lt;adamratcliffe2004@...&gt;<br>
Post Date/Time:2005-02-04 09:59:38<br>
Subject:Re: URIs with path and query parameters<br>
Message:<br><br>
<pre>
&gt; One way of looking at this issue, and its not the only way, is that
&gt; your URIs identify items of interest and by adding a query to the 
URI
&gt; you ask a question of that item of interest.

Yes, that feels right to me too :)

&gt; 
&gt; So, if you are currently at a location the client might ask how to 
get
&gt; to another location:
&gt; 
&gt;  GET
&gt; /map/x=00001;y=00002?
destx=00003&amp;desty=00004;centerAbout=route;scale=6000

Forgive me for asking what may appear to be a self-evident question 
concerning the generation of URIs.

Does the concept of being 'at a location' imply that the client has 
already issued a request to retrieve a resource such as:

GET /map/x=00001;y=00002

and that the retrieved resource provides a mechanism, such as an 
HTML form, that has an action that has the value of the resource's 
URI, and allows the client to append query parameters to retrieve 
further resources relative to that location?

In this way the path section of the URI would be generated by the 
server, and the query string by the client.

If this same URI was completely generated by the client, not 
relative to another resource within the path hierarchy, would it be 
more 'correct' to put all parameters including the source location 
coordinates within the query string?

Cheers
Adam








</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4839<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-02-04 13:20:52<br>
Subject:Re: [rest-discuss] Re: URIs with path and query parameters<br>
Message:<br><br>
<pre>adamratcliffe2004 wrote:

&gt;Forgive me for asking what may appear to be a self-evident question 
&gt;concerning the generation of URIs.
&gt;
&gt;Does the concept of being 'at a location' imply that the client has 
&gt;already issued a request [...]
&gt;
[...]

&gt;If this same URI was completely generated by the client, 
&gt;
Adam,

not sure how much this addresses your needs, but maybe it is helpful in 
this context to point out that in a RESTful application (e.g. a Google 
search or a purchase at Amazon) the user agent must not (be forced to) 
make expectations about previous state changes in the application flow 
nor must it (be forced to) have any knowledge about how to generate URIs 
for subsequent state changes.

RESTs concept of 'hypertext is the engine of application state' means 
that the client advances through the application by traversing 
hyperlinks that the server 'offers' in the form of hypertext. IOW, the 
server provides options for state changes and now knowledge beyond the 
'understanding' of the message MIME type is required of the client.

HTH,

Jan

&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; 
&gt;Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt; 
&gt;
&gt;
&gt;
&gt;
&gt;  
&gt;


-- 
Jan Algermissen
Consultant &amp; Programmer
http://jalgermissen.com



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4840<br>
Sender:"Donald Strong" &lt;dstrong@...&gt;<br>
Post Date/Time:2005-02-07 02:55:34<br>
Subject:RE: [rest-discuss] Re: URIs with path and query parameters<br>
Message:<br><br>
<pre>&gt; &gt; So, if you are currently at a location the client might ask how to 
&gt; get
&gt; &gt; to another location:
&gt; &gt; 
&gt; &gt;  GET
&gt; &gt; /map/x=00001;y=00002?
&gt; destx=00003&amp;desty=00004;centerAbout=route;scale=6000
&gt; 
&gt; Forgive me for asking what may appear to be a self-evident question 
&gt; concerning the generation of URIs.
&gt; 
&gt; Does the concept of being 'at a location' imply that the client has 
&gt; already issued a request to retrieve a resource such as:
&gt; 
&gt; GET /map/x=00001;y=00002

Yes. It assumes that you are navigating through the data in the same
way that you navigate through linked HTML pages.

&gt; and that the retrieved resource provides a mechanism, such as an 
&gt; HTML form, that has an action that has the value of the resource's 
&gt; URI, and allows the client to append query parameters to retrieve 
&gt; further resources relative to that location?
&gt; 
&gt; In this way the path section of the URI would be generated by the 
&gt; server, and the query string by the client.
&gt; If this same URI was completely generated by the client, not 
&gt; relative to another resource within the path hierarchy, would it be 
&gt; more 'correct' to put all parameters including the source location 
&gt; coordinates within the query string?

Another way to find a route might be to have a URI for routes.

  GET /route

This resource contains a potentially infinite number of routes from all
sources to all destinations. You then provide parameters to it to
limit the number of routes displayed. Perhaps the source and destination
appear as dropdowns.

  GET /route?source=tadwell&amp;destination=norwich

The URI for a particular route may just be a hierarchy of locations.

  /route/tadwell/bairnsdale/norwich

(The place names are arbitrary and for demonstration only as
 they are more understandable than the XY coords. )

Just an idea,
Donald.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4841<br>
Sender:"Jon Hanna" &lt;jon@...&gt;<br>
Post Date/Time:2005-02-07 03:12:39<br>
Subject:RE: [rest-discuss] Re: URIs with path and query parameters<br>
Message:<br><br>
<pre>&gt; Does the concept of being 'at a location' imply that the client has 
&gt; already issued a request to retrieve a resource such as:
&gt; 
&gt; GET /map/x=00001;y=00002
&gt; 
&gt; and that the retrieved resource provides a mechanism, such as an 
&gt; HTML form, that has an action that has the value of the resource's 
&gt; URI, and allows the client to append query parameters to retrieve 
&gt; further resources relative to that location?

It implies it, but it's important to note that this is not necessarily the
case.

http://www.google.com/search?q=REST implies that you searched for REST on
google, but obviously if you just go to that URI (e.g. if your mail reader
makes that "clickable") you didn't.

Whatever the server does with the URI must be independent of how it came to
be used.

Regards,
Jon Hanna
Work: &lt;http://www.selkieweb.com/&gt;
Play: &lt;http://www.hackcraft.net/&gt;
Chat: &lt;irc://irc.freenode.net/selkie&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4842<br>
Sender:Jason May &lt;jmay@...&gt;<br>
Post Date/Time:2005-02-08 01:12:27<br>
Subject:Resource that only supports POST?<br>
Message:<br><br>
<pre>I am contemplating a resource that only supports POST, e.g.:

http://www.mysite.com/xyz/activate

POSTing to this resource would return a 201 Created with a link to the 
new resource.  Multiple POSTs are expected; each will create another 
resource.

Doing a GET from the /activate URI makes no sense, since there's 
nothing there.  What's an appropriate error response if a GET is 
attempted?  403 Forbidden?

Is this a reasonable approach at all?

Thanks,
-Jason


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4843<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2005-02-08 01:28:39<br>
Subject:RE: [rest-discuss] Resource that only supports POST?<br>
Message:<br><br>
<pre>I think you want 405 Method Not Supported? 

 

This is a reasonable approach if the POST really does conform to
http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.5. I mean you
probably wouldn't want to use POST where GET is the real semantic and could
be satisfied with a 302 or 303.

 

 

Hugh

 

 

 

  _____  

From: Jason May [mailto:jmay@...] 
Sent: Monday, February 07, 2005 7:12 PM
To: rest-discuss@yahoogroups.com
Subject: [rest-discuss] Resource that only supports POST?

 

I am contemplating a resource that only supports POST, e.g.:

http://www.mysite.com/xyz/activate

POSTing to this resource would return a 201 Created with a link to the 
new resource.  Multiple POSTs are expected; each will create another 
resource.

Doing a GET from the /activate URI makes no sense, since there's 
nothing there.  What's an appropriate error response if a GET is 
attempted?  403 Forbidden?

Is this a reasonable approach at all?

Thanks,
-Jason






Yahoo! Groups Sponsor



ADVERTISEMENT
 
&lt;http://us.ard.yahoo.com/SIG=12949nb1n/M=298184.6018725.7038619.3001176/D=gr
oups/S=1705701014:HM/EXP=1107911572/A=2532114/R=2/SIG=12k8svp3h/*http:/clk.a
tdmt.com/NFX/go/yhxxxnfx0020000014nfx/direct/01/&amp;time=1107825172499179&gt; 

 
&lt;http://view.atdmt.com/NFX/view/yhxxxnfx0020000014nfx/direct/01/&amp;time=110782
5172499179&gt; 


 
&lt;http://us.adserver.yahoo.com/l?M=298184.6018725.7038619.3001176/D=groups/S=
:HM/A=2532114/rand=820620880&gt; 

 

  _____  

Yahoo! Groups Links

*	To visit your group on the web, go to:
http://groups.yahoo.com/group/rest-discuss/
  
*	To unsubscribe from this group, send an email to:
rest-discuss-unsubscribe@yahoogroups.com
&lt;mailto:rest-discuss-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt; 
  
*	Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service
&lt;http://docs.yahoo.com/info/terms/&gt; . 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4844<br>
Sender:"Jon Hanna" &lt;jon@...&gt;<br>
Post Date/Time:2005-02-08 01:32:57<br>
Subject:RE: [rest-discuss] Resource that only supports POST?<br>
Message:<br><br>
<pre>&gt; I am contemplating a resource that only supports POST, e.g.:
&gt; 
&gt; http://www.mysite.com/xyz/activate
&gt; 
&gt; POSTing to this resource would return a 201 Created with a 
&gt; link to the 
&gt; new resource.  Multiple POSTs are expected; each will create another 
&gt; resource.
&gt; 
&gt; Doing a GET from the /activate URI makes no sense, since there's 
&gt; nothing there.  What's an appropriate error response if a GET is 
&gt; attempted?  403 Forbidden?
&gt; 
&gt; Is this a reasonable approach at all?

While I'll admit to often returning a 500 (by allowing the attempt to
retreive the POSTed data that wasn't POSTed to fail and trigger an error)
one should return 405 Method Not Supported. The accompanying messsage could
describe what the resource does, if that's at all likely to be of use.

Regards,
Jon Hanna
Work: &lt;http://www.selkieweb.com/&gt;
Play: &lt;http://www.hackcraft.net/&gt;
Chat: &lt;irc://irc.freenode.net/selkie&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4845<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-02-08 02:18:05<br>
Subject:Re: [rest-discuss] Resource that only supports POST?<br>
Message:<br><br>
<pre>On Mon, Feb 07, 2005 at 05:12:27PM -0800, Jason May wrote:
&gt; I am contemplating a resource that only supports POST, e.g.:
&gt; 
&gt; http://www.mysite.com/xyz/activate
&gt; 
&gt; POSTing to this resource would return a 201 Created with a link to the 
&gt; new resource.  Multiple POSTs are expected; each will create another 
&gt; resource.
&gt; 
&gt; Doing a GET from the /activate URI makes no sense, since there's 
&gt; nothing there.

If there's something accepting POSTs, then that's something I'd say.

There's probably lots of different things that could be returned.
Is what's POSTed application/x-www-form-urlencoded or
multipart/form-data?  If so, an HTML form would seem a sensible thing
to return.  If not, and you're dealing with automata, you might consider
an RDF Form[1] like so;

&lt;Container xmlns="http://www.markbaker.ca/2003/rdfforms/"
           xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
           rdf:about=""&gt;
  &lt;acceptedMediaType&gt;application/whatever-it-is-you-accept&lt;/acceptedMediaType&gt;
&lt;/Container&gt;

Worst case, some prose saying "This is a processor of foobar documents"
or some-such, so if somebody finds that URI in the wild they can figure
out what it is.

 [1] http://www.markbaker.ca/2003/05/RDF-Forms/

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4846<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-02-08 11:02:45<br>
Subject:Re: [rest-discuss] Resource that only supports POST?<br>
Message:<br><br>
<pre>Jason May &lt;jmay@...&gt; writes:

&gt; I am contemplating a resource that only supports POST, e.g.:
&gt;
&gt; http://www.mysite.com/xyz/activate
&gt;
&gt; POSTing to this resource would return a 201 Created with a link to the 
&gt; new resource.  Multiple POSTs are expected; each will create another 
&gt; resource.
&gt;
&gt; Doing a GET from the /activate URI makes no sense, since there's 
&gt; nothing there.  What's an appropriate error response if a GET is 
&gt; attempted?  403 Forbidden?

405.


&gt; Is this a reasonable approach at all?

Yes.


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4847<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-02-08 11:22:45<br>
Subject:Re: [rest-discuss] Resource that only supports POST?<br>
Message:<br><br>
<pre>On Mon, 7 Feb 2005 21:18:05 -0500, "Mark Baker" &lt;distobj@...&gt; said:
&gt; If there's something accepting POSTs, then that's something I'd say.

I agree. Try to think whether there isn't any state that
could be usefully returned in response to the GET.

Maybe it would make sense to consider that the thing
you are activating could be a resource, which could have
an boolean 'activated' attribute resource; then you could

PUT /resource/activated
Content-Type: text/plain

t

But maybe you can think of better alternatives yourself.
 
&gt; There's probably lots of different things that could be returned.
&gt; Is what's POSTed application/x-www-form-urlencoded or
&gt; multipart/form-data?  If so, an HTML form would seem a sensible thing
&gt; to return.

Something I have found to work well is have a resource whose
representation is a 'blank slate' for a particular resource
'class'.

Say you're talking about sales. You have a 'container' or
'category' resource for all the sales resources, e.g. /sales

The HTML representation of /sales links to /sales/new.

The HTML representation of /sales/new would be a form,
which POSTs to /sales .

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4848<br>
Sender:"adamratcliffe2004" &lt;adamratcliffe2004@...&gt;<br>
Post Date/Time:2005-02-14 04:18:24<br>
Subject:Securing a RESTful Web Service<br>
Message:<br><br>
<pre>
I need to restrict access to a web service interface to subscribed 
users of the service.

Many of the posts I looked at on this list and the REST wiki refer 
to RFC 2617 for further information on implementing http 
authentication which, while clarifying my understanding of basic and 
digest authentication schemes, does not address their specific usage 
in a RESTful application.

Basic authentication seems to be out unless used in conjuction with 
SSL, and I'm concerned that use of SSL could hurt scalability of the 
application.

Digest authentication looks good, but if I understand correctly, 
doesn't appear to be well supported across browsers thereby placing 
restrictions on browser-based access (not that this is likely to be 
the primary kind of client accessing the service).

Ideally whichever security mechanism is selected to secure the 
service it should be relatively easy for developers to work 
with.

Would anyone care to share their views/experiences in implementing 
security for RESTful web services?

Cheers
Adam




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4849<br>
Sender:"Hendy Irawan" &lt;ceefour666@...&gt;<br>
Post Date/Time:2005-02-17 22:54:51<br>
Subject:REST Service Description Language Proposal<br>
Message:<br><br>
<pre>

Hi!

I wanted to propose a *very truly dead simple* REST service
description language and I want it standardized fast ("standard" and
"fast" are two things in different ends, I guess), that's why
simplicity is a must.

Since I can't make changes to the REST Wiki, I've posted it to my web
site. Please visit my site:

http://dev.gauldong.net/

Click on the "Gado-gado" link and see what I have to offer. I joined
the REST mailing lists of yahoo groups to discuss this publicly.
Hopefully a solution will have already been here. But I've searched
google for that and have found nothing which is similar to what I'm
proposing. I also have searched REST mailing lists archives and found
nothing of interest.

Is rest-explore still active? It seems to have been dead for a very
long time.

Hendy Irawan
-- 
GaulDong - http://www.gauldong.net







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4850<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-02-18 05:39:57<br>
Subject:Re: [rest-discuss] REST Service Description Language Proposal<br>
Message:<br><br>
<pre>This looks like a description language for specifying available procedures
that can be called remotely. Is that what the description language is trying
to simplify and make available?

----- Original Message ----- 
From: "Hendy Irawan" &lt;ceefour666@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Thursday, February 17, 2005 2:54 PM
Subject: [rest-discuss] REST Service Description Language Proposal


&gt;
&gt;
&gt;
&gt; Hi!
&gt;
&gt; I wanted to propose a *very truly dead simple* REST service
&gt; description language and I want it standardized fast ("standard" and
&gt; "fast" are two things in different ends, I guess), that's why
&gt; simplicity is a must.
&gt;
&gt; Since I can't make changes to the REST Wiki, I've posted it to my web
&gt; site. Please visit my site:
&gt;
&gt; http://dev.gauldong.net/
&gt;
&gt; Click on the "Gado-gado" link and see what I have to offer. I joined
&gt; the REST mailing lists of yahoo groups to discuss this publicly.
&gt; Hopefully a solution will have already been here. But I've searched
&gt; google for that and have found nothing which is similar to what I'm
&gt; proposing. I also have searched REST mailing lists archives and found
&gt; nothing of interest.
&gt;
&gt; Is rest-explore still active? It seems to have been dead for a very
&gt; long time.
&gt;
&gt; Hendy Irawan
&gt; -- 
&gt; GaulDong - http://www.gauldong.net
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4851<br>
Sender:Sandeep Shetty &lt;sandeep.shetty@...&gt;<br>
Post Date/Time:2005-02-18 07:05:18<br>
Subject:Re: [rest-discuss] REST Service Description Language Proposal<br>
Message:<br><br>
<pre>Hey Hendy,

This might help:

Web Resource Description Language
http://www.prescod.net/rest/wrdl/wrdl.html

Sandeep Shetty

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4852<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-02-18 15:12:08<br>
Subject:Re: [rest-discuss] REST Service Description Language Proposal<br>
Message:<br><br>
<pre>On Fri, 2005-02-18 at 00:39, S. Mike Dierken wrote:

&gt; This looks like a description language for specifying available procedures
&gt; that can be called remotely. Is that what the description language is trying
&gt; to simplify and make available?

For a variety of reasons, there seems to be two different things calling
themselves REST: GET html form + POST / Fielding's dissertation / the
Web as we know it... and "a Simple HTTP API via RPC and Encoded data
(usually XML)" or "SHARE".  I've been bothered [1] that there hasn't
been a distinct name for it, so I made one up.  I like it because:

1/ It doesn't confuse things.
2/ It's sympathetic to what these services want to do -- share data- 
   and service- with the net and their callers.
3/ Maybe it's even marketing/friendly enough to get wide adoption.

 
In any case, RSDL seems to straddle the fence...

Hendy:

1/ defining and invoking the methods of interfaces really looks like 
   RPC, to me.  Why do you claim it's not?


2/ Let's say I have the example file, and want to call the 
   "MyInterface#GetYou" operation ... how do I do that?  What HTTP 
   request should then occur?  Is it something like:

   POST http://some.server/rest/1.0?rpcProcedure=GetYou
   &lt;...content...&gt;


3/ 3 of the 4 "may be useful" things in the last unordered list of Sec 
   1.1.1 are provided natively by HTTP.  You may do better to embrace 
   HTTP more completely rather than trying to be distinct from it.


4/ How do you handle method arguments, return-values and data-types?  I 
   don't think you can have RSDL without having RIDL; in fact I think  
   they're really one-in-the-same.


5/ The variability introduced by spec language like that of the bullet 
   point beginning with "Listing a method that isn't..." is a Bad 
   Thing; it only makes life more complicated.  I'd propose:
   "The &lt;interface&gt; attribute of the &lt;method&gt; element is required."

You make a vague slight against RDF in 1.1.2, but you should really take
a deeper look at it; you're sharing a lot with it, both in semantics and
syntax.

You should also look at RDF Forms [2], which does something similar.

[1] http://asynchronous.org/blog/archives/2005/02/11/amazons_restless_ws_api.html
[2] http://www.markbaker.ca/2003/05/RDF-Forms/

...jsled

-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4853<br>
Sender:Dave Pawson &lt;davep@...&gt;<br>
Post Date/Time:2005-02-18 16:52:42<br>
Subject:REST playground for beginners?<br>
Message:<br><br>
<pre>http://norman.walsh.name/2005/02/16/witw-part-1

Norm Walsh has started to look at REST
and so far, it makes good sense.

My version of linux was missing the 
--post-file attribute to wget
which makes it harder.

Anyone know of a nice alternative please?

The provided command is

wget -q -O - --http-user ndw --http-passwd PASSWORD \
--post-file /tmp/loc.xml \
     http://norman.walsh.name/2005/02/witw/ami/now



regards DaveP


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4854<br>
Sender:"Jeffrey Winter" &lt;JeffreyWinter@...&gt;<br>
Post Date/Time:2005-02-18 17:10:27<br>
Subject:RE: [rest-discuss] REST playground for beginners?<br>
Message:<br><br>
<pre>
You'd be able to do the same thing with curl
have you tried that?

 http://curl.haxx.se



-----Original Message-----
From: Dave Pawson [mailto:davep@...] 
Sent: Friday, February 18, 2005 11:53 AM
To: Rest List
Subject: [rest-discuss] REST playground for beginners?


http://norman.walsh.name/2005/02/16/witw-part-1

Norm Walsh has started to look at REST
and so far, it makes good sense.

My version of linux was missing the
--post-file attribute to wget
which makes it harder.

Anyone know of a nice alternative please?

The provided command is

wget -q -O - --http-user ndw --http-passwd PASSWORD \ --post-file
/tmp/loc.xml \
     http://norman.walsh.name/2005/02/witw/ami/now



regards DaveP



 
Yahoo! Groups Links



 




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4855<br>
Sender:myren &lt;thefowle@...&gt;<br>
Post Date/Time:2005-02-18 23:54:05<br>
Subject:object serialization<br>
Message:<br><br>
<pre>
Good evening Rest List!;

I'm looking to build a REST middleware to unify a bunch of disjoint 
systems, and I've settled on a lot of my design.

I'm still looking for a clean XML object serialization format to unify 
how objects are represented.  I've looked at XStreams, xmlBlaster, wddx, 
xbind and xmlbeans to unify my design, but havent really been stirred by 
anything (except the sheer simplicity of XStreams).  I dont particularly 
care what the native implementation is in, so long as the standard is 
well defined enough and "simple" enough to be rebuilt.

In my quest for object serialization, I'm hoping REST List might provide 
some feedback, and perhaps some good pointers into the RESTWiki (which 
I've plumbed but found little info in).

REST is about resources, but how do we represent these resources?  I'm 
sure I'm about to cross an electric fense, but resources in modern 
computing are often representable as objects; collections of other 
objects.




I realize that to define this as a standard would go above the very 
nature of REST as a principle rather than a standard, but all good 
principles have standards underlying them.  Paul Prescod has a good 
article on "why not" I've linked below, but somewhere behind why not 
lies a coder trying to make a choice:
http://www.prescod.net/rest/encoding/

I'm hoping this is not too off topic, I knew of no better place to turn 
to in this conundrum.

Many thanks,
Myren





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4856<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-02-19 19:52:12<br>
Subject:Re: [rest-discuss] object serialization<br>
Message:<br><br>
<pre>Myren,

myren wrote:

&gt;REST is about resources, but how do we represent these resources?  
&gt;
If you use HTTP, representations come as MIME type instances.

&gt;I'm 
&gt;sure I'm about to cross an electric fense, but resources in modern 
&gt;computing are often representable as objects; collections of other 
&gt;objects.
&gt;  
&gt;
In a restful system, the resources *are* the objects. In a restful 
system, the objects are identified
by identifiers of a unique addressing space and all objects have a 
uniform API (all objects have the
same methods).

If you use HTTP,  the addressing spacxe is URI and the uniform API is 
the collection of HTTP methods
(GET,POST,PUT,DELETE,HEAD..)

GET http://www.foo.org/persons/bugsbunny HTTP/1.1
Host: www.foo.org

is 'just' the invocation of the method 'GET' on the object 
'http://www.foo.org/persons/bugsbunny'

I have the impression that you understand 'resource' to mean 'document' 
(and the like). If so,
that is not how REST is defining 'resource'.

If you have an OO background, thinking of 'resource' as 'object' gives 
you the correct notion.

&gt;I realize that to define this as a standard would go above the very 
&gt;nature of REST as a principle rather than a standard, but all good 
&gt;principles have standards underlying them.  Paul Prescod has a good 
&gt;article on "why not" I've linked below, but somewhere behind why not 
&gt;lies a coder trying to make a choice:
&gt;http://www.prescod.net/rest/encoding/
&gt;  
&gt;
Here is my suggestion:

- if you build a system that is to interoperate with systems 'on the 
internet' (systems that you cannot control) try to use standardized MIME 
types for your representations. This will make interoperability more 
likely. An example woul be to use NITF for news articles.

- if you build a system solely ment for a domain you control (e.g. a 
particular enterprise application), define your own 
(company-standardized) MIME types and documeent them well, to ease 
future integration with other systems (in the enterpise). Rely on public 
formats as much as possible

- the best choice is maybe to use RDF, which offers the benefit that 
consumers of the representations (the RDF messages)  can make use of 
those portions of a message they understand as opposed to discarding the 
complete message if they do not understand the MIME type in the first 
place. This benefit is called 'partial understanding'.

Please make sure you look at Mark Baker's explanation[1], which is far 
superior to mine.

I hope this helps to get you some entry points into REST space.

Jan

[1] http://www.markbaker.ca/2002/09/Blog/2002/11/17#2002-11-rdf

&gt;I'm hoping this is not too off topic, I knew of no better place to turn 
&gt;to in this conundrum.
&gt;
&gt;Many thanks,
&gt;Myren
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; 
&gt;Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt; 
&gt;
&gt;
&gt;
&gt;
&gt;  
&gt;


-- 
Jan Algermissen
Consultant &amp; Programmer
http://jalgermissen.com



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4857<br>
Sender:Jeoff Wilks &lt;jeoffwilks@...&gt;<br>
Post Date/Time:2005-02-20 04:02:58<br>
Subject:Re: [rest-discuss] REST Service Description Language Proposal<br>
Message:<br><br>
<pre>
Every URI on the web can be thought of as a service, though most only
implement the GET method. However, for more complex services, the HTTP
OPTIONS method would seem to be a viable candidate for providing
information about what verbs are available for the resource, what
parameters are required, and what other URIs provide related services.

From HTTP RFC 9.2 :
"If the OPTIONS request includes an entity-body (as indicated by the
presence of Content-Length or Transfer-Encoding), then the media type
MUST be indicated by a Content-Type field. Although this specification
does not define any use for such a body, future extensions to HTTP
might use the OPTIONS body to make more detailed queries on the
server. A server that does not support such an extension MAY discard
the request body."
 - http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html

If something like a RSDL really is necessary, the response body of an
OPTIONS request seems like the place for it. The OPTIONS response
could also point you to related resources, either using extended
headers or something in the response body. For example:

OPTIONS /queue
 - returns available methods: GET, POST
 - notifies of related resource: /queue/[id] with methods GET, PUT, DELETE

Has something like this been explored previously?


On Fri, 18 Feb 2005 10:12:08 -0500, Josh Sled &lt;jsled@...&gt; wrote:
&gt; 
&gt; On Fri, 2005-02-18 at 00:39, S. Mike Dierken wrote:
&gt; 
&gt; &gt; This looks like a description language for specifying available procedures
&gt; &gt; that can be called remotely. Is that what the description language is trying
&gt; &gt; to simplify and make available?
&gt; 
&gt; For a variety of reasons, there seems to be two different things calling
&gt; themselves REST: GET html form + POST / Fielding's dissertation / the
&gt; Web as we know it... and "a Simple HTTP API via RPC and Encoded data
&gt; (usually XML)" or "SHARE".  I've been bothered [1] that there hasn't
&gt; been a distinct name for it, so I made one up.  I like it because:
&gt; 
&gt; 1/ It doesn't confuse things.
&gt; 2/ It's sympathetic to what these services want to do -- share data-
&gt;    and service- with the net and their callers.
&gt; 3/ Maybe it's even marketing/friendly enough to get wide adoption.
&gt; 
&gt; In any case, RSDL seems to straddle the fence...
&gt; 
&gt; Hendy:
&gt; 
&gt; 1/ defining and invoking the methods of interfaces really looks like
&gt;    RPC, to me.  Why do you claim it's not?
&gt; 
&gt; 2/ Let's say I have the example file, and want to call the
&gt;    "MyInterface#GetYou" operation ... how do I do that?  What HTTP
&gt;    request should then occur?  Is it something like:
&gt; 
&gt;    POST http://some.server/rest/1.0?rpcProcedure=GetYou
&gt;    &lt;...content...&gt;
&gt; 
&gt; 3/ 3 of the 4 "may be useful" things in the last unordered list of Sec
&gt;    1.1.1 are provided natively by HTTP.  You may do better to embrace
&gt;    HTTP more completely rather than trying to be distinct from it.
&gt; 
&gt; 4/ How do you handle method arguments, return-values and data-types?  I
&gt;    don't think you can have RSDL without having RIDL; in fact I think
&gt;    they're really one-in-the-same.
&gt; 
&gt; 5/ The variability introduced by spec language like that of the bullet
&gt;    point beginning with "Listing a method that isn't..." is a Bad
&gt;    Thing; it only makes life more complicated.  I'd propose:
&gt;    "The &lt;interface&gt; attribute of the &lt;method&gt; element is required."
&gt; 
&gt; You make a vague slight against RDF in 1.1.2, but you should really take
&gt; a deeper look at it; you're sharing a lot with it, both in semantics and
&gt; syntax.
&gt; 
&gt; You should also look at RDF Forms [2], which does something similar.
&gt; 
&gt; [1] http://asynchronous.org/blog/archives/2005/02/11/amazons_restless_ws_api.html
&gt; [2] http://www.markbaker.ca/2003/05/RDF-Forms/
&gt; 
&gt; ...jsled
&gt; 
&gt; --
&gt; http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`
&gt; 
&gt; 
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 
&gt;




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4858<br>
Sender:"jalateras" &lt;jalateras@...&gt;<br>
Post Date/Time:2005-02-20 23:51:13<br>
Subject:Recommendation on URIs for Web Service<br>
Message:<br><br>
<pre>
Hi Folks,

I have been going through the REST mailing during the last couple of
days to get some pointers on deigning URI for a work manager style
application. I have identified the following resources

workItems - collection of all workItems
workLists - collection of work item lists for role or participant
roles - list of all roles in a domain
participants - list of all participants in a domain.

I am in the process of identifying appropriate URIs for the systems
and have come up with the following.

create a work item:            post /workItems
get a work item:               get /workItems/&lt;workItemId&gt;
edit a work item:              post /workItems/&lt;workItemId&gt;
accept work item:              put /workItems/workItemId&gt;/state
abort work item:               put /workItems/&lt;workItemId&gt;/state
complete work item:            put /workItems/&lt;workItemId&gt;/state
restart work item:             put /workItems/&lt;workItemId&gt;/state
reassign work item:            put /workItems/&lt;workItemId&gt;/state
save work item:                put /workItems/&lt;workItemId&gt;/data
get work item history:         get /workItems/&lt;workItemId&gt;/history
get my work list:              get /workLists/myWorkList
get work list for participant: get /workLists/&lt;participantName&gt;
get work list for role:        get /workLists/&lt;roleName&gt;

Can anyone provide feedback on the URIs since this is my first
iteration and I have struggled whether to use POST or PUT for
subsequent modifications to a resource. From my understanding I should
be using POST for partial representations and PUT for complete
representation. In the case of 'edit work item' i use a post because I
will not be passing back the complete representation of the resource.
Is this correct or am I whistling in the wind?


cheers
&lt;/jima&gt;




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4859<br>
Sender:Berend de Boer &lt;berend@...&gt;<br>
Post Date/Time:2005-02-21 01:49:13<br>
Subject:Re: [rest-discuss] Recommendation on URIs for Web Service<br>
Message:<br><br>
<pre>&gt;&gt;&gt;&gt;&gt; "jalateras" == jalateras  &lt;jalateras@...&gt; writes:

    jalateras&gt; Can anyone provide feedback on the URIs since this is
    jalateras&gt; my first iteration and I have struggled whether to use
    jalateras&gt; POST or PUT for subsequent modifications to a
    jalateras&gt; resource. From my understanding I should be using POST
    jalateras&gt; for partial representations and PUT for complete
    jalateras&gt; representation. In the case of 'edit work item' i use a
    jalateras&gt; post because I will not be passing back the complete
    jalateras&gt; representation of the resource.  Is this correct or am
    jalateras&gt; I whistling in the wind?

As I understand it, POST is for new stuff (creation), PUT is for
editing stuff (update).

But usually when someone here claims to have understood something
bout REST, there are many gurus claiming he completely failed to
understand everything. REST is a bit like ZEN...

All I'm saying is, I'm certainly not the last word :-)

-- 
Regards,

Berend. (-:


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4860<br>
Sender:Joe Gregorio &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2005-02-21 02:19:04<br>
Subject:Re: [rest-discuss] Recommendation on URIs for Web Service<br>
Message:<br><br>
<pre>On Sun, 20 Feb 2005 23:51:13 -0000, jalateras &lt;jalateras@...&gt; wrote:
&gt; Can anyone provide feedback on the URIs since this is my first
&gt; iteration and I have struggled whether to use POST or PUT for
&gt; subsequent modifications to a resource. From my understanding I should
&gt; be using POST for partial representations and PUT for complete
&gt; representation. In the case of 'edit work item' i use a post because I
&gt; will not be passing back the complete representation of the resource.
&gt; Is this correct or am I whistling in the wind?

That isn't really correct. 

The first thing you should do, though, is ask 
yourself *why* aren't you passing back the complete
represenation of a resource.

    -joe

-- 
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4861<br>
Sender:Jim Alateras &lt;jalateras@...&gt;<br>
Post Date/Time:2005-02-21 03:01:01<br>
Subject:Re: [rest-discuss] Recommendation on URIs for Web Service<br>
Message:<br><br>
<pre>&gt; &gt; Can anyone provide feedback on the URIs since this
&gt; is my first
&gt; &gt; iteration and I have struggled whether to use POST
&gt; or PUT for
&gt; &gt; subsequent modifications to a resource. From my
&gt; understanding I should
&gt; &gt; be using POST for partial representations and PUT
&gt; for complete
&gt; &gt; representation. In the case of 'edit work item' i
&gt; use a post because I
&gt; &gt; will not be passing back the complete
&gt; representation of the resource.
&gt; &gt; Is this correct or am I whistling in the wind?
&gt; 
&gt; That isn't really correct. 

can you please elaborate.
&gt; 
&gt; The first thing you should do, though, is ask 
&gt; yourself *why* aren't you passing back the complete
&gt; representation of a resource.
&gt; 

I was thinking of only passing the modified attributes
of the resource back although I see what you mean. If
I am to pass the complete representation then would I
do it through a post to the resource

Find local movie times and trailers on Yahoo! Movies.
http://au.movies.yahoo.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4862<br>
Sender:Joe Gregorio &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2005-02-21 03:13:57<br>
Subject:Re: [rest-discuss] Recommendation on URIs for Web Service<br>
Message:<br><br>
<pre>On Mon, 21 Feb 2005 14:01:01 +1100 (EST), Jim Alateras
&lt;jalateras@...&gt; wrote:
&gt; &gt; understanding I should
&gt; &gt; &gt; be using POST for partial representations and PUT
&gt; &gt; for complete
&gt; &gt; &gt; representation. In the case of 'edit work item' i
&gt; &gt; use a post because I
&gt; &gt; &gt; will not be passing back the complete
&gt; &gt; representation of the resource.
&gt; &gt; &gt; Is this correct or am I whistling in the wind?
&gt; &gt;
&gt; &gt; That isn't really correct.
&gt; 
&gt; can you please elaborate.

POST has a number of meanings, including creating a 
subordinate resource, or just a generic "process this 
block of data". Paraphrased from [1]

PUT is used to update existing resources or to 
create a new resource if the URI given doesn't 
exist. Paraphrased from [2]

&gt; &gt;
&gt; &gt; The first thing you should do, though, is ask
&gt; &gt; yourself *why* aren't you passing back the complete
&gt; &gt; representation of a resource.
&gt; &gt;
&gt; 
&gt; I was thinking of only passing the modified attributes
&gt; of the resource back although I see what you mean. If
&gt; I am to pass the complete representation then would I
&gt; do it through a post to the resource

Passing back a complete representation though a PUT would
be better, given the definition of PUT[2].

    -joe

[1] http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.5
[2] http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.6

-- 
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4863<br>
Sender:Jim Alateras &lt;jalateras@...&gt;<br>
Post Date/Time:2005-02-21 03:21:08<br>
Subject:Re: [rest-discuss] Recommendation on URIs for Web Service<br>
Message:<br><br>
<pre>&gt; &gt; &gt; understanding I should
&gt; &gt; &gt; &gt; be using POST for partial representations and
&gt; PUT
&gt; &gt; &gt; for complete
&gt; &gt; &gt; &gt; representation. In the case of 'edit work
&gt; item' i
&gt; &gt; &gt; use a post because I
&gt; &gt; &gt; &gt; will not be passing back the complete
&gt; &gt; &gt; representation of the resource.
&gt; &gt; &gt; &gt; Is this correct or am I whistling in the wind?
&gt; &gt; &gt;
&gt; &gt; &gt; That isn't really correct.
&gt; &gt; 
&gt; &gt; can you please elaborate.
&gt; 
&gt; POST has a number of meanings, including creating a 
&gt; subordinate resource, or just a generic "process
&gt; this 
&gt; block of data". Paraphrased from [1]
&gt; 
&gt; PUT is used to update existing resources or to 
&gt; create a new resource if the URI given doesn't 
&gt; exist. Paraphrased from [2]
&gt; 
&gt; &gt; &gt;
&gt; &gt; &gt; The first thing you should do, though, is ask
&gt; &gt; &gt; yourself *why* aren't you passing back the
&gt; complete
&gt; &gt; &gt; representation of a resource.
&gt; &gt; &gt;
&gt; &gt; 
&gt; &gt; I was thinking of only passing the modified
&gt; attributes
&gt; &gt; of the resource back although I see what you mean.
&gt; If
&gt; &gt; I am to pass the complete representation then
&gt; would I
&gt; &gt; do it through a post to the resource
&gt; 
&gt; Passing back a complete representation though a PUT
&gt; would
&gt; be better, given the definition of PUT[2].
&gt; 

thanks Joe, I meant to say PUT. Any comments about
some of the other URIs in particular what do you think
of the URIs related to changing the state of the workitems?

Find local movie times and trailers on Yahoo! Movies.
http://au.movies.yahoo.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4864<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-02-21 04:19:01<br>
Subject:Re: [rest-discuss] Recommendation on URIs for Web Service<br>
Message:<br><br>
<pre>&gt;
&gt; As I understand it, POST is for new stuff (creation), PUT is for
&gt; editing stuff (update).
PUT is for setting the current state of a resource - regardless of whether
that resource 'existed' previously or not. This covers 'create' and 'update'
type of use cases. POST is a little more fluid in how it can be used -
modifying all or part of resource in adddition to creating a new resource.
Also, this is just my interpretation, but I find separating use cases into
these two operations to be helpful.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4865<br>
Sender:Joe Gregorio &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2005-02-21 05:23:05<br>
Subject:Re: [rest-discuss] Recommendation on URIs for Web Service<br>
Message:<br><br>
<pre>On Sun, 20 Feb 2005 23:51:13 -0000, jalateras &lt;jalateras@...&gt; wrote:
&gt; I am in the process of identifying appropriate URIs for the systems
&gt; and have come up with the following.
&gt; 
&gt; create a work item:            post /workItems
&gt; get a work item:               get /workItems/&lt;workItemId&gt;
&gt; edit a work item:              post /workItems/&lt;workItemId&gt;
&gt; accept work item:              put /workItems/workItemId&gt;/state
&gt; abort work item:               put /workItems/&lt;workItemId&gt;/state
&gt; complete work item:            put /workItems/&lt;workItemId&gt;/state
&gt; restart work item:             put /workItems/&lt;workItemId&gt;/state
&gt; reassign work item:            put /workItems/&lt;workItemId&gt;/state
&gt; save work item:                put /workItems/&lt;workItemId&gt;/data
&gt; get work item history:         get /workItems/&lt;workItemId&gt;/history
&gt; get my work list:              get /workLists/myWorkList
&gt; get work list for participant: get /workLists/&lt;participantName&gt;
&gt; get work list for role:        get /workLists/&lt;roleName&gt;

In general these URIs look good, given the short description
you have given of the domain. There are some things which aren't
clear which may impact the design:

What does it mean to 'save' a work item? 
How is 'saved' a different state from 'accepted' or 'complete'?
Is 'myWorkList' a &lt;participantName&gt;?

    -joe

-- 
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4866<br>
Sender:Jim Alateras &lt;jalateras@...&gt;<br>
Post Date/Time:2005-02-21 05:30:03<br>
Subject:Re: [rest-discuss] Recommendation on URIs for Web Service<br>
Message:<br><br>
<pre>&gt; &gt; I am in the process of identifying appropriate
&gt; URIs for the systems
&gt; &gt; and have come up with the following.
&gt; &gt; 
&gt; &gt; create a work item:            post /workItems
&gt; &gt; get a work item:               get
&gt; /workItems/&lt;workItemId&gt;
&gt; &gt; edit a work item:              post
&gt; /workItems/&lt;workItemId&gt;
&gt; &gt; accept work item:              put
&gt; /workItems/workItemId&gt;/state
&gt; &gt; abort work item:               put
&gt; /workItems/&lt;workItemId&gt;/state
&gt; &gt; complete work item:            put
&gt; /workItems/&lt;workItemId&gt;/state
&gt; &gt; restart work item:             put
&gt; /workItems/&lt;workItemId&gt;/state
&gt; &gt; reassign work item:            put
&gt; /workItems/&lt;workItemId&gt;/state
&gt; &gt; save work item:                put
&gt; /workItems/&lt;workItemId&gt;/data
&gt; &gt; get work item history:         get
&gt; /workItems/&lt;workItemId&gt;/history
&gt; &gt; get my work list:              get
&gt; /workLists/myWorkList
&gt; &gt; get work list for participant: get
&gt; /workLists/&lt;participantName&gt;
&gt; &gt; get work list for role:        get
&gt; /workLists/&lt;roleName&gt;
&gt; 
&gt; In general these URIs look good, given the short
&gt; description
&gt; you have given of the domain. There are some things
&gt; which aren't
&gt; clear which may impact the design:
&gt; 
&gt; What does it mean to 'save' a work item? 
&gt; How is 'saved' a different state from 'accepted' or
&gt; 'complete'?

Save would save the data associated with the work item
without changing the state of the work item. It will
be used when the participant does not have all the
information to complete the work item

&gt; Is 'myWorkList' a &lt;participantName&gt;?
I used myWorkList to refer to a collection of
workitems for the current user. The user can also view
a worklist of another participant in the same domain.
Initially, I didn't have a workList resource and the
URI was based on the workitems resource.

&gt; 
&gt;     -joe
&gt; 
&gt; -- 
&gt; Joe Gregorio        http://bitworking.org
&gt;  

Find local movie times and trailers on Yahoo! Movies.
http://au.movies.yahoo.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4867<br>
Sender:Jim Alateras &lt;jalateras@...&gt;<br>
Post Date/Time:2005-02-21 19:49:23<br>
Subject:Re: [rest-discuss] Recommendation on URIs for Web Service<br>
Message:<br><br>
<pre>The service does manange the state of work items.
Could you please elaborate on your point?

&gt; snif, sniff...
&gt; starting to smell like a stateful service...
&gt; 
&gt; : &gt; What does it mean to 'save' a work item? 
&gt; : &gt; How is 'saved' a different state from 'accepted'
&gt; or
&gt; : &gt; 'complete'?
&gt; : 
&gt; : Save would save the data associated with the work
&gt; item
&gt; : without changing the state of the work item. It
&gt; will
&gt; : be used when the participant does not have all the
&gt; : information to complete the work item
&gt; 
&gt;  

Find local movie times and trailers on Yahoo! Movies.
http://au.movies.yahoo.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4868<br>
Sender:Michael Jakl &lt;mj@...&gt;<br>
Post Date/Time:2005-02-22 13:15:08<br>
Subject:Problem identifying resources and representations<br>
Message:<br><br>
<pre>
Dear list,
I'm trying to explain a (very) small Web-service using REST in a term 
paper. I ran into some trouble extracting the "resources" and 
"representations" from the requirements. Maybe you could give me some 
advice?

The service should work like this:
A user can upload a picture using PUT, add metadata (eg, GPS data) using 
POST, DELETE the picture and attached metadata and GET a list of 
pictures, the picture and the metadata.

So, my question is: Which resources would you identify? It may sound 
trivial, but I've some trouble with it.

Resources I would identify:
  - Picture (/image/xyz)
  - Picture-Metadata (/metadata/xyz)
  - Picture-Collection (/index)

Representations:
  - Picture: binary
  - Picture-Metadata: XML/RDF
  - Picture-Collection: XML/RDF

Since Picture and Picture-Metadata are closely connected, I'm tempted to 
see "Picture" as the resource, and "binary" and "XML/RDF" as two 
different representations. The problem with this approach is that I 
can't address representations of a resource, only a resource. What would 
you suggest?

TIA,
Michael




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4869<br>
Sender:"leighdodds2001" &lt;ldodds@...&gt;<br>
Post Date/Time:2005-02-22 20:23:00<br>
Subject:Re: Problem identifying resources and representations<br>
Message:<br><br>
<pre>
--- In rest-discuss@yahoogroups.com, Michael Jakl &lt;mj@i...&gt; wrote:
&gt; Since Picture and Picture-Metadata are closely connected, I'm 
&gt; tempted to see "Picture" as the resource, and "binary" and 
&gt; "XML/RDF" as two different representations. The problem with 
&gt; this approach is that I can't address representations of a 
&gt; resource, only a resource. What would you suggest?

I'd agree that Picture is the resource and that there can 
be two representations, the binary images and the XML/RDF.

You can use content negotiation (i.e. the Accept header) to 
retrieve alternate representations from the same URI. But that 
doesn't address your addressing requirements. I'd meet that 
by either: parameterising the url, e.g:

/pictures/124?format=rdf

Or by making the metadata a sub-ordinate resource:

/picture/124/metadata

I've been leaning towards the latter approach lately, but I've
seen both in use and I'm not sure there's much to choose between 
them.

You can do this and STILL support content negotiation though, 
so it's not either/or.

Oh, and also don't forget that you can encode the XML/RDF inside 
the image itself too, just for completeness! :)

HtH,

L.
--
http://www.ldodds.com/blog




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4870<br>
Sender:Justin Sampson &lt;justin@...&gt;<br>
Post Date/Time:2005-02-22 20:50:43<br>
Subject:Re: [rest-discuss] Re: Problem identifying resources and representations<br>
Message:<br><br>
<pre>Bah. It's meaningless to say that the metadata and the binary image data
are both "representations" of a single picture "resource", though I know
that's a popular conception here.

The fundamental insight I take from REST as it relates to Web services is
that well-behaved Web services should feel a lot like well-behaved Web
sites. A Web service is just a machine-readable Web application, and a Web
application is just a dynamic Web site. The principles of the Web
architecture that made it so successful apply to all three.

So how would you structure this picture library as a Web site? For each
picture there would doubtless be an HTML page displaying the metadata
(which I'm assuming means title, author, etc.) with a hypertext reference
to an image of the picture (either inline or as a clickable link). I'd
probably give links to a few representations, but with different URLs
(sunset.jpeg, sunset.png, sunset.gif), with a note of the size of each.  
There might even be a POST form to update the metadata. There would also
doubtless be an HTML index page containing hypertext references to the
pages for the various pictures, probably with a GET form to search for
pictures by metadata.

Justin

P.S. One of the reasons I like this list is that it's one of those rare
places where I'm not the most theoretical person. :)


On Tue, 22 Feb 2005, leighdodds2001 wrote:

&gt; In rest-discuss@yahoogroups.com, Michael Jakl &lt;mj@i...&gt; wrote:
&gt;
&gt; &gt; Since Picture and Picture-Metadata are closely connected, I'm tempted
&gt; &gt; to see "Picture" as the resource, and "binary" and "XML/RDF" as two
&gt; &gt; different representations. The problem with this approach is that I
&gt; &gt; can't address representations of a resource, only a resource. What
&gt; &gt; would you suggest?
&gt; 
&gt; I'd agree that Picture is the resource and that there can be two
&gt; representations, the binary images and the XML/RDF.
&gt; 
&gt; You can use content negotiation (i.e. the Accept header) to retrieve
&gt; alternate representations from the same URI. But that doesn't address
&gt; your addressing requirements. I'd meet that by either: parameterising
&gt; the url, e.g:
&gt; 
&gt; /pictures/124?format=rdf
&gt; 
&gt; Or by making the metadata a sub-ordinate resource:
&gt; 
&gt; /picture/124/metadata
&gt; 
&gt; I've been leaning towards the latter approach lately, but I've seen both
&gt; in use and I'm not sure there's much to choose between them.
&gt; 
&gt; You can do this and STILL support content negotiation though, so it's
&gt; not either/or.
&gt; 
&gt; Oh, and also don't forget that you can encode the XML/RDF inside the
&gt; image itself too, just for completeness! :)
&gt; 
&gt; HtH,
&gt; 
&gt; L.
&gt; --
&gt; http://www.ldodds.com/blog





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4871<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-02-23 06:13:55<br>
Subject:Re: [rest-discuss] Problem identifying resources and representations<br>
Message:<br><br>
<pre>&gt;
&gt; Since Picture and Picture-Metadata are closely connected, I'm tempted to
&gt; see "Picture" as the resource, and "binary" and "XML/RDF" as two
&gt; different representations. The problem with this approach is that I
&gt; can't address representations of a resource, only a resource. What would
&gt; you suggest?

How about using another aspect of REST - hypertext as the engine of
application state - combined with content-negotiation in HTTP?

Use a markup language to indicate the usage of the resource
&lt;picture&gt;
 &lt;img src="http://my.foo.com/images/27" /&gt;
 &lt;about href="http://my.foo.com/images/27" /&gt;
&lt;/picture&gt;

And have the client application use a request header such as "Accept:
image/png" for the &lt;img&gt; element. This assumes the client applications
understands the schema.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4872<br>
Sender:Michael Jakl &lt;mj@...&gt;<br>
Post Date/Time:2005-02-23 10:21:00<br>
Subject:Re: [rest-discuss] Problem identifying resources and representations<br>
Message:<br><br>
<pre>S. Mike Dierken wrote:
&gt;&gt;Since Picture and Picture-Metadata are closely connected, I'm tempted to
&gt;&gt;see "Picture" as the resource, and "binary" and "XML/RDF" as two
&gt;&gt;different representations. The problem with this approach is that I
&gt;&gt;can't address representations of a resource, only a resource. What would
&gt;&gt;you suggest?
&gt; 
&gt; 
&gt; How about using another aspect of REST - hypertext as the engine of
&gt; application state - combined with content-negotiation in HTTP?
&gt; 
&gt; Use a markup language to indicate the usage of the resource
&gt; &lt;picture&gt;
&gt;  &lt;img src="http://my.foo.com/images/27" /&gt;
&gt;  &lt;about href="http://my.foo.com/images/27" /&gt;
&gt; &lt;/picture&gt;
&gt; 
&gt; And have the client application use a request header such as "Accept:
&gt; image/png" for the &lt;img&gt; element. This assumes the client applications
&gt; understands the schema.

Thanks for the suggestions, the content negotiation feature feels not 
right here, but if we could describe which representations are available 
for a particular resource it would be more feasible.
Maybe like this:

&lt;picture about="http://my.foo.com/images/27"&gt;
  &lt;representation type="metadata"&gt;text/xml&lt;/representation&gt;
  &lt;representation type="binary"&gt;image/jpeg&lt;/representation&gt;
&lt;/picture&gt;

How does that sound?


My actual structure looks like this:

Metadata: /picture/ID
Picture: /picture/ID/binary
List: /picture/index.rdf

The metadata for the picture would look like that (I omitted the 
namespaces. RDF is just an example, it could also look like your XML 
from above.):
&lt;rdf:RDF&gt;
&lt;rdf:Description about="http://localhost/ws/picture/11091187245626/binary"&gt;
   &lt;s0:creator&gt;test&lt;/s0:creator&gt;
   &lt;s0:type&gt;image&lt;/s0:type&gt;
   &lt;s0:identifier&gt;http://localhost/ws/picture/11091187245626&lt;/s0:identifier&gt;
   &lt;s0:format&gt;image/jpeg&lt;/s0:format&gt;
   &lt;map:longitude&gt;16.3221&lt;/map:longitude&gt;
   &lt;map:latitude&gt;48.199&lt;/map:latitude&gt;
&lt;/rdf:Description&gt;
&lt;/rdf:RDF&gt;

All picture relevant operations are carried out on the &lt;s0:identifier&gt; 
URI (like POST and DELETE).

The index.rdf looks similar, it just contains more than one 
&lt;rdf:Description&gt; element.

Thanks for the answers,
Michael

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4873<br>
Sender:"Hendy Irawan" &lt;ceefour@...&gt;<br>
Post Date/Time:2005-02-24 07:59:46<br>
Subject:REST and SHARE<br>
Message:<br><br>
<pre>
Hi all!

Thanks for all of the responses... Unfortunately YahooGroups seemed to be
rather erroneous. None of my responses were sent (they're "posted", but
don't show on the messages page), as since I posted them using the web
interface, I don't have any local copy :-(( I hope they're not lost. Most
of them are quite lengthy and have good arguments.

Anyways after re-evaluating REST I think my principles are a bit
different. I want to provide as much "accessibility". The REST principle
which uses PUT, OPTIONS, and other semantics seem not to be synchronized
with my goals. My views are simpler, the only methods are "GET" (simple
retrieve), and "POST" (retrieve with additional [i.e., large]
information). I also am not really fond of the idea of using more HTTP
headers than what's already defined, and I even think some of these
headers are redundant (they should also be contained in the document
itself, such as content language and encoding). However I like the idea of
using HTTP status codes as response codes. Actually my web sites are
already implemented this way. Even though you see a simple user-friendly
error page, the returned error code is actually quite significant (usually
503).

So thanks for the SHARE. Actually share.org is already available, but I
guess it's okay. Since nobody seems to be using it then I guess I'll be
using it. Anyway, seems nobody ever named this "Simple HTTP API" I guess
SHARE is a good name. SSDL unfortunately has been taken by SOAP SDL so I
guess I'll use something like SHARED (SHARE Description), which is also
not bad. As for RIDL -&gt; SHARE IDL, I think WSDL (or an extension of it)
would be  sufficient.

I guess this "solves" the problem, the solution being somewhat
proprietary, since I am now certain that there is no such thing as "SHARE"
currently. Even Amazon calls it RESTful. Let's call it SHARE, which is
(IMHO) a subset of the REST concept. :-)

I hope my previous responses will show up on YahooGroups though, or I'll
be fully pissed. The YahooGroups even reported bouncing attempts to my
e-mail and when I revalidated my e-mail, YahooGroups gave a database
error. :-((

Hendy Irawan, GaulDong - http://dev.gauldong.net




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4874<br>
Sender:Jeoff Wilks &lt;jeoffwilks@...&gt;<br>
Post Date/Time:2005-02-24 12:48:42<br>
Subject:Fwd: Re[d]: REST Service Description Language Proposal<br>
Message:<br><br>
<pre>Hendy Irawan &lt;ceefour@...&gt; wrote:
&gt; Thanks for all of the responses... Unfortunately YahooGroups seemed to be
&gt; rather erroneous.

Hendy: I received a copy of one of your messages, though it didn't go
to the list. For the benefit of your list discussion, I'm forwarding
it to the list (see below).

---------- Forwarded message ----------
From: Hendy Irawan &lt;ceefour@...&gt;
Date: Thu, 24 Feb 2005 05:42:15 -0000
Subject: Re[d]: REST Service Description Language Proposal
To: Jeoff Wilks &lt;jeoffwilks@...&gt;

--- In rest-discuss@yahoogroups.com, Jeoff Wilks &lt;jeoffwilks@g...&gt; wrote:
&gt;
&gt; Every URI on the web can be thought of as a service, though most only
&gt; implement the GET method. However, for more complex services, the HTTP
&gt; OPTIONS method would seem to be a viable candidate for providing
&gt; information about what verbs are available for the resource, what
&gt; parameters are required, and what other URIs provide related services.

From my point of view an URI is a resource (doesn't mean it can't be a
service). And a service basically "contains" several resources.
Actually this isn't correct at all IMHO.

In my definition of RSDL a service contains several operations (not
related to resources at all). An operation may return (or not) one or
more resources. This is because the operation's URI is variable
because of parameters, path info, etc. and you can say one URI is a
resource, so an operation maps to several URIs which are in turn
resources.

RSDL or services, IMHO, aren't URIs. They're not resources (the RSDL
files are resources, but by "not resources" I mean the semantics of
it). They're just descriptions of operations. An RSDL file is of
course identified by an URI, but it's not a "unique" identifier. This
is almost the same as RSS feeds... RSS feeds have URIs, but that
doesn't guarantee that the URI is unique or reliable. It can change in
the future. In contrast URIs used by the XML namespaces are unique and
reliable in the sense that they're used to uniquely identify a
namespace. RIDL URIs are used just like XML namespaces in the sense
that they're used to uniquely identify an interface.

&gt; From HTTP RFC 9.2 :
&gt; "If the OPTIONS request includes an entity-body (as indicated by the
&gt; presence of Content-Length or Transfer-Encoding), then the media type
&gt; MUST be indicated by a Content-Type field. Although this specification
&gt; does not define any use for such a body, future extensions to HTTP
&gt; might use the OPTIONS body to make more detailed queries on the
&gt; server. A server that does not support such an extension MAY discard
&gt; the request body."
&gt;  - http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html

Thanks. This is very helpful. I've never heard of the OPTIONS request
before. ;-)

&gt; If something like a RSDL really is necessary, the response body of an
&gt; OPTIONS request seems like the place for it. The OPTIONS response
&gt; could also point you to related resources, either using extended
&gt; headers or something in the response body. For example:

That maybe good, considering that RSDL is a protocol-independent
format, it's just an XML file. I guess we shouldn't just use OPTIONS
for it but also allow for GET requests to retrieve an RSDL. This is
probably for accessibility reasons and the fact that you can't issue
an OPTIONS request from your browser. Really, you can't even post a
POST request from your browser without an HTML form, let alone
OPTIONS, or any other "exotic" methods (even as simple as HEAD).

I'll add this OPTIONS thingy to be "specification". Basically what I
proposed was using &lt;link&gt; tags to reference an RSDL, but OPTIONS can
be another way to do it (we should determine the mandatory way though,
and I'm biased towards using &lt;link&gt; because it's much more accessible).

&gt; Has something like this been explored previously?

That's my question. ;-)

BTW I'm *really* looking for an already-made open standard that is:
- tailored for REST/SHARE
- it has the features it needs, like interfaces, conflict resolution, etc.
- *simple* (and I mean *dead* simple)

BTW regarding REST/SHARE I want to think SHARE as "REST without exotic
HTTP request methods". Anybody disagrees with this?

Even so RSDL is suited for both REST and SHARE since it assumes
nothing about HTTP methods. The HTTP methods are defined in RIDL (if
available).

- Hendy (dev.gauldong.net)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4875<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-02-24 13:54:21<br>
Subject:Re: [rest-discuss] REST and SHARE<br>
Message:<br><br>
<pre>On Thu, 2005-02-24 at 02:59, Hendy Irawan wrote:

&gt; Anyways after re-evaluating REST I think my principles are a bit
&gt; different. I want to provide as much "accessibility". The REST principle
&gt; which uses PUT, OPTIONS, and other semantics seem not to be synchronized
&gt; with my goals. My views are simpler, the only methods are "GET" (simple
&gt; retrieve), and "POST" (retrieve with additional [i.e., large]
&gt; information).  I also am not really fond of the idea of using more HTTP
&gt; headers than what's already defined, and I even think some of these
&gt; headers are redundant (they should also be contained in the document
&gt; itself, such as content language and encoding). However I like the idea of
&gt; using HTTP status codes as response codes. Actually my web sites are
&gt; already implemented this way. Even though you see a simple user-friendly
&gt; error page, the returned error code is actually quite significant (usually
&gt; 503).

Cool.  I'd caution you not to use POST for retrieval -- especially of
large resources -- since you then loose some of the most widely deployed
features of HTTP [in internet intermediaries] -- cache-maintenance,
conditional- and range- retreival, &amp;c.   Microsoft Window's BITS
[Background Intelligent Transfer Service], for instance, does a set of
date-conditional ranged-GETs over time to progressively download files.

In fact using just GET/POST and a subset of HTTP headers is arguably the
_most_ RESTful thing you could do. :)


&gt; I guess this "solves" the problem, the solution being somewhat
&gt; proprietary, since I am now certain that there is no such thing as "SHARE"
&gt; currently. Even Amazon calls it RESTful. Let's call it SHARE, which is
&gt; (IMHO) a subset of the REST concept. :-)

I made up the SHARE name last last friday in frustration that Amazon
specifically is calling their GET-modifies-state, RPC interface "REST".

It's not a subset of REST; REST is a subset [a more-constrained set] of
arbitrary-RPC architectural styles.


I think for a variety of historical reasons, the two things [REST and
SHARE] are conflated inappropriately.  While I'm glad service-providers
are offering something simpler than SOAP(-RPC), XML-RPC, CORBA, DCOM,
&amp;c. interfaces, I don't see how it's necessarily RESTful.  It's not
necessarily a Bad Thing that it's not RESTful, but it just can't use the
same name; words need to have specific meanings.

...jsled

-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4876<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-02-24 13:54:16<br>
Subject:Re: [rest-discuss] Fwd: Re[d]: REST Service Description Language	Proposal<br>
Message:<br><br>
<pre>[I composed all this before seeing your later msg; I like the way it
turned out, and it'd be a pity to destroy it, so I still post it...]

On Thu, 2005-02-24 at 07:48, Jeoff Wilks wrote:

&gt; From my point of view an URI is a resource (doesn't mean it can't be a
&gt; service). And a service basically "contains" several resources.
&gt; Actually this isn't correct at all IMHO.

A URI is a Uniform Resource Identifier.
An abstract Resource may have more than one Identifier.
An identifier only identifies one Resource.


&gt; In my definition of RSDL a service contains several operations (not
&gt; related to resources at all). An operation may return (or not) one or
&gt; more resources. This is because the operation's URI is variable
&gt; because of parameters, path info, etc. and you can say one URI is a
&gt; resource, so an operation maps to several URIs which are in turn
&gt; resources.

As per HTTP's definition, operations are applied to resources.  The
various operations


&gt; RSDL or services, IMHO, aren't URIs. They're not resources (the RSDL
&gt; files are resources, but by "not resources" I mean the semantics of
&gt; it). They're just descriptions of operations.

Hmm.  Think of "Resource" as the root of the data-type hierarchy.  It's
just a Thing.  Your RSDL can be both a Resource and, further, a
description of operations...


&gt; BTW I'm *really* looking for an already-made open standard that is:
&gt; - tailored for REST/SHARE
&gt; - it has the features it needs, like interfaces, conflict resolution, etc.
&gt; - *simple* (and I mean *dead* simple)

HTML/HTTP.


&gt; BTW regarding REST/SHARE I want to think SHARE as "REST without exotic
&gt; HTTP request methods". Anybody disagrees with this?

I do. :) REST is not _only_ about GET/PUT/POST/DELETE.  There are other
salient details; a constrained interface -- while super-important -- is
only one of the constraints outlined by REST.

My main differentiator between REST and SHARE is hypermedia.  The key
thing I've seen with the SHAREd APIs is that they:

  * don't necessarily use GET and POST [let alone PUT, DELETE, &amp;c...] 
    with urn:ietf:rfc:216 semantics.

  * are defined as a set of procedure-invocation operations, external 
    to the "normal" request/response GET-discovery+POST-submit web.

  * don't strongly use URLs to identify domain-resources [though they 
    do use URLs to define operational/procedural endpoints.  they seem 
    to want to use query-string parameters to pass "object-identifiers" 
    or tokens.


&gt; Even so RSDL is suited for both REST and SHARE since it assumes
&gt; nothing about HTTP methods. The HTTP methods are defined in RIDL (if
&gt; available).

HTTP is an application protocol; as such, it defines the operations and
their semantics.


If you're really looking to define abritrary-RPC over
HTTP-primarily-but-not-really-because-protocol-independence-seems-groovy, then you should look at SOAP and WSDL, and maybe try to simplify them. 

Note that ones of the reasons both are so complex is specifically
because they're trying to be "protocol independent", so they have to
redefine the notion of an envelope, specifically work around the
constraints of any "transport" protocols they layer over, &amp;c.

CORBA and DCOM are both pretty developed RPC/RMI solutions, though
they've both been called "really hairy", too.

For my dollar, if I were trying to do /RPC/ I'd do XML-RPC, which seems
dead simple ... though I'd probably try to get around it's
data-structure encoding to do something a bit more "document/literal" if
I actually wanted to converse with other people.

But I think the best option is something like "RESTful SHARE" ... but
that correctly uses GET/POST, identifies resources, uses some form of
hypermedia in operation-discovery, and maybe even HTTP's more "advanced"
features

&gt; - Hendy (dev.gauldong.net)

...jsled

-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4877<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-02-24 15:15:38<br>
Subject:Re: [rest-discuss] Fwd: Re[d]: REST Service Description Language	Proposal<br>
Message:<br><br>
<pre>Tyop/issue corrections...

On Thu, 2005-02-24 at 08:54, Josh Sled wrote:

&gt; On Thu, 2005-02-24 at 07:48, Jeoff Wilks wrote:

As Jeoff just pointed out to me, Hendy Irawan wrote the comments I was
replying to, Jeoff just forwarded them to the list.


&gt; As per HTTP's definition, operations are applied to resources.  The
&gt; various operations

Nevermind the unfinished sentence.


&gt;   * don't necessarily use GET and POST [let alone PUT, DELETE, &amp;c...] 
&gt;     with urn:ietf:rfc:216 semantics.

urn:ietf:rfc:2616, of course.


...jsed

-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4878<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-02-25 05:02:38<br>
Subject:Re: [rest-discuss] REST and SHARE<br>
Message:<br><br>
<pre>
&gt; I made up the SHARE name last last friday in frustration that Amazon
&gt; specifically is calling their GET-modifies-state, RPC interface "REST".
I've talked to some folks about that (in my ever-annoying manner). They're
pretty busy and this isn't on the top of their list of concerns. If the
'community' makes a big stink about it, they might do something.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4879<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-02-25 05:09:43<br>
Subject:Re: [rest-discuss] REST and SHARE<br>
Message:<br><br>
<pre>On Thu, 24 Feb 2005, S. Mike Dierken wrote:
&gt; &gt; I made up the SHARE name last last friday in frustration that Amazon
&gt; &gt; specifically is calling their GET-modifies-state, RPC interface "REST".
&gt; I've talked to some folks about that (in my ever-annoying manner). They're
&gt; pretty busy and this isn't on the top of their list of concerns. If the
&gt; 'community' makes a big stink about it, they might do something.

There's a lot of web services doing about the same thing.  del.icio.us, 
for example.  My feeling is that consensus is swinging strongly towards 
RESTful architecture but it's taking time for the full implications to 
sink in.  Developers now know why they want resources to have URLs, next 
up is to absorb the value of separating out the impact on state with 
different methods.  That seems completely reasonable to me -- smart people 
have to prove things for themselves.

- Lucas


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4880<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-02-25 05:33:52<br>
Subject:Re: [rest-discuss] REST and SHARE<br>
Message:<br><br>
<pre>Thanks - I hadn't viewed it that way. That's much better than my previous
opinion...

----- Original Message ----- 
From: "Lucas Gonze" &lt;lgonze@...&gt;
To: "S. Mike Dierken" &lt;mdierken@...&gt;
Cc: &lt;jsled@...&gt;; &lt;ceefour@...&gt;;
&lt;rest-discuss@yahoogroups.com&gt;
Sent: Thursday, February 24, 2005 9:09 PM
Subject: Re: [rest-discuss] REST and SHARE


&gt; On Thu, 24 Feb 2005, S. Mike Dierken wrote:
&gt; &gt; &gt; I made up the SHARE name last last friday in frustration that Amazon
&gt; &gt; &gt; specifically is calling their GET-modifies-state, RPC interface
"REST".
&gt; &gt; I've talked to some folks about that (in my ever-annoying manner).
They're
&gt; &gt; pretty busy and this isn't on the top of their list of concerns. If the
&gt; &gt; 'community' makes a big stink about it, they might do something.
&gt;
&gt; There's a lot of web services doing about the same thing.  del.icio.us,
&gt; for example.  My feeling is that consensus is swinging strongly towards
&gt; RESTful architecture but it's taking time for the full implications to
&gt; sink in.  Developers now know why they want resources to have URLs, next
&gt; up is to absorb the value of separating out the impact on state with
&gt; different methods.  That seems completely reasonable to me -- smart people
&gt; have to prove things for themselves.
&gt;
&gt; - Lucas
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4881<br>
Sender:Justin Sampson &lt;justin@...&gt;<br>
Post Date/Time:2005-02-25 06:55:02<br>
Subject:Re: [rest-discuss] REST and SHARE<br>
Message:<br><br>
<pre>Josh Sled wrote:

&gt; In fact using just GET/POST and a subset of HTTP headers is arguably the
&gt; _most_ RESTful thing you could do. :)

And later:

&gt; HTTP is an application protocol; as such, it defines the operations and
&gt; their semantics.

Huzzah. :) I've never been a fan of PUT and DELETE. They're just not used
much on classic Web sites, and then only when the Web site is being
treated more like a filesystem (and the Web ain't a filesystem, I say).

As far as I'm concerned, the distinction between GET and POST is both
necessary and sufficient for the self-description of request "semantics".  
In any transactional system it's useful to distinguish between read-only
"queries" and read-write "updates". A read-only operation is known to be
safely repeatable as well as cacheable, while a read-write operation is
expected not to be. PUT and DELETE are superfluous; I'd rather use POST.

For those who are uncomfortable with the "do something" meaning of POST,
remember, as always, that HYPERTEXT is our friend. On the Web, you never
just put together a POST request out of the blue. You browse to a page
containing a form surrounded by text that tells you what posting the form
is going to accomplish. The request itself needs no more information than
the POST method and the URI to which it applies to identify its "meaning";
the users' expectations are set by whatever the page containing the form
tells them.

That's probably not what you meant, Josh, but I've just been waiting for
an opportunity to bash PUT and DELETE. ;}

(And don't even get me *started* on "CRUD".)

Justin


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4882<br>
Sender:"Hendy Irawan" &lt;ceefour@...&gt;<br>
Post Date/Time:2005-02-25 07:45:10<br>
Subject:More REST and SHARE<br>
Message:<br><br>
<pre>Hi all!

Thanks for all the views...

I don't think it's always the case that when people start with SHARE then
work towards RESTfull-ing... The matter is IMHO because REST isn't "widely
accepted".

Let me elaborate my previous statement... one of the reasons why people
prefer REST than XML RPC, CORBA, XML Web Services, etc. is because they
usually don't need any special library other than just the ability to
"GET" something (or post something, but this requires more work). In PHP
it's very easy:

$contents = file_get_contents("http://www.google.com");

That one line of code will give you the contents of the Google homepage.
It is similarly trivial to add a query string, etc. And it's not that hard
to URL-encode strings yourself if the underlying library does not provide
you with one.

Using SOAP/Web Services mean that you'll need a full blown library to be
able to use it, even for a mere calling one function which returns a
number. In PHP this was a big problem, a library called NuSoap supposed to
"solve" the problem but its usage was far from trivial.

One may argue that REST is also successful because it doesn't try to
leverage the local programming model into the distributed nature of the
Internet. I agree with that.

I will have to add that REST is usually much simpler to implement than
most of other RPC solutions.

But why SHARE?

One thing is because of accessibility. REST is a bit too "strict" for me.
RESTful services need to treat URLs as resources, and not "remote
procedures". And resources have associated operations, such as GET, PUT,
POST, etc. that can be used to manipulate the resources, etc. There's
nothing wrong with that.

In my view, however, handling other than GET/POST (even just HEAD) is not
always easy to do, both for the server and for the client. The server
needs to be specially configured in order to handle other than GET, POST,
HEAD, on scripts. And for the client... well even Firefox doesn't let me
input "OPTIONS / HTTP/1.1" to some arbitrary host. If all else fails
telnet would be the way to go, but really it's not that convenient.

From the programmatic side, writing a RESTful client is also not so
trivial. For other than GET method (even just POST), in PHP you'll need a
special library such as CURL (this is also available for Perl, etc.). For
more exotic languages you may be out of luck and have to use TCP/IP
sockets directly... really not the way to do it.

So here's my take on SHARE:
- The "official" expansion would be "Simple HTTP API via RPC and Encoded
data". An "empathic" definition would be "Simple HTTP API almost like REST
but Easier". My definition would be "Simple HTTP API that's Really Easy".
- Supports GET, POST, HEAD only. The recommended method is only GET
though, for accessibility: You can't do a POST using a web browser without
using forms, and you can't do a POST using a script without using special
libraries, client-side JavaScript such as using XMLHTTP did not support
POST until later versions.
- Has a SHARE Description (SHARED) which basically looks like RSDL I
proposed before.
- Has a SHARE interface description which is written in WSDL, I suppose...
but I'll think about it later. It's just too early.
- SHARE isn't REST. It was trying to be REST but since it's not accepted
as REST it has to stand on its own knee. ;-)
- It'll have a homepage on http://dev.gauldong.net pretty soon :-D

Comments are appreciated.

Hendy Irawan, GaulDong - http://dev.gauldong.net

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4883<br>
Sender:"Hendy Irawan" &lt;ceefour@...&gt;<br>
Post Date/Time:2005-02-25 07:46:01<br>
Subject:More REST and SHARE<br>
Message:<br><br>
<pre>Hi all!

Thanks for all the views...

I don't think it's always the case that when people start with SHARE then
work towards RESTfull-ing... The matter is IMHO because REST isn't "widely
accepted".

Let me elaborate my previous statement... one of the reasons why people
prefer REST than XML RPC, CORBA, XML Web Services, etc. is because they
usually don't need any special library other than just the ability to
"GET" something (or post something, but this requires more work). In PHP
it's very easy:

$contents = file_get_contents("http://www.google.com");

That one line of code will give you the contents of the Google homepage.
It is similarly trivial to add a query string, etc. And it's not that hard
to URL-encode strings yourself if the underlying library does not provide
you with one.

Using SOAP/Web Services mean that you'll need a full blown library to be
able to use it, even for a mere calling one function which returns a
number. In PHP this was a big problem, a library called NuSoap supposed to
"solve" the problem but its usage was far from trivial.

One may argue that REST is also successful because it doesn't try to
leverage the local programming model into the distributed nature of the
Internet. I agree with that.

I will have to add that REST is usually much simpler to implement than
most of other RPC solutions.

But why SHARE?

One thing is because of accessibility. REST is a bit too "strict" for me.
RESTful services need to treat URLs as resources, and not "remote
procedures". And resources have associated operations, such as GET, PUT,
POST, etc. that can be used to manipulate the resources, etc. There's
nothing wrong with that.

In my view, however, handling other than GET/POST (even just HEAD) is not
always easy to do, both for the server and for the client. The server
needs to be specially configured in order to handle other than GET, POST,
HEAD, on scripts. And for the client... well even Firefox doesn't let me
input "OPTIONS / HTTP/1.1" to some arbitrary host. If all else fails
telnet would be the way to go, but really it's not that convenient.

From the programmatic side, writing a RESTful client is also not so
trivial. For other than GET method (even just POST), in PHP you'll need a
special library such as CURL (this is also available for Perl, etc.). For
more exotic languages you may be out of luck and have to use TCP/IP
sockets directly... really not the way to do it.

So here's my take on SHARE:
- The "official" expansion would be "Simple HTTP API via RPC and Encoded
data". An "empathic" definition would be "Simple HTTP API almost like REST
but Easier". My definition would be "Simple HTTP API that's Really Easy".
- Supports GET, POST, HEAD only. The recommended method is only GET
though, for accessibility: You can't do a POST using a web browser without
using forms, and you can't do a POST using a script without using special
libraries, client-side JavaScript such as using XMLHTTP did not support
POST until later versions.
- Has a SHARE Description (SHARED) which basically looks like RSDL I
proposed before.
- Has a SHARE interface description which is written in WSDL, I suppose...
but I'll think about it later. It's just too early.
- SHARE isn't REST. It was trying to be REST but since it's not accepted
as REST it has to stand on its own knee. ;-)
- It'll have a homepage on http://dev.gauldong.net pretty soon :-D

Comments are appreciated.

Hendy Irawan, GaulDong - http://dev.gauldong.net

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4884<br>
Sender:"Hendy Irawan" &lt;ceefour@...&gt;<br>
Post Date/Time:2005-02-25 08:04:54<br>
Subject:REST and SHARE moreeeee<br>
Message:<br><br>
<pre>Hi...,

&gt; Huzzah. :) I've never been a fan of PUT and DELETE. They're just not used
&gt; much on classic Web sites, and then only when the Web site is being
&gt; treated more like a filesystem (and the Web ain't a filesystem, I say).

I have to agree with you. Actually I like the idea of PUT, DELETE, etc. if
implementing it is easy as GET. Maybe if all browsers have a "Delete this
page from the Web" (or similar) button, that'll be the day when REST
rises.

&gt; As far as I'm concerned, the distinction between GET and POST is both
&gt; necessary and sufficient for the self-description of request "semantics".
&gt; In any transactional system it's useful to distinguish between read-only
&gt; "queries" and read-write "updates". A read-only operation is known to be
&gt; safely repeatable as well as cacheable, while a read-write operation is
&gt; expected not to be. PUT and DELETE are superfluous; I'd rather use POST.

Again, I agree. Though I don't think PUT and DELETE are superflouous, in
my eyes they are just not practical in the sense that it's not easy to
implement both in server and client when compared to GET and POST.

The GET as read and POST as read/write seems good enough to me. I agree
that GET shouldn't modify anything to a certain degree (modifying last
accessed, counter, or any other statistics are okay to me), but GET
shouldn't be used to delete or update a "meaningful" resource. POST should
be used for all those non-light update operations, whatever it is: add,
update, delete, etc.

In some cases though, it's impossible to GET something large, i.e. if
we've to have a long URI some systems or browsers cannot handle this
properly. In this case we'll need to use POST for read-only semantics.
It's okay by me since there's no other way.

&gt; For those who are uncomfortable with the "do something" meaning of POST,
&gt; remember, as always, that HYPERTEXT is our friend. On the Web, you never
&gt; just put together a POST request out of the blue. You browse to a page
&gt; containing a form surrounded by text that tells you what posting the form
&gt; is going to accomplish. The request itself needs no more information than
&gt; the POST method and the URI to which it applies to identify its "meaning";
&gt; the users' expectations are set by whatever the page containing the form
&gt; tells them.

Yup... I agree with you. The "semantics" in my view are actually not
defined by GET/PUT/whatever, but what you do with it. GET google.com and
GET cvs.sourceforge.net actually has the EXACT SAME semantics in the eyes
of HTTP, yet for the user it's different: One wants to search and the
other wants to check out a source code, for example. A more typical
example would be POST /update.php?id=3 and POST /delete.php?id=3... these
are used ALL OVER the Internet. If you want to brag about REST's success
compared to other RPC solutions, try comparing how successful REST is to
the POST semantics I've just described.

If Amazon's web services were actually using TRUE RESTful architecture, I
would say that many people will have trouble using it, merely because they
have difficulties in "DELETE-ing" or "PUT-ing" things (unless they use a
decent library such as CURL, which also has its own problems)... There
would have been a whole bunch of "newbies" in Amazon.dev forums asking for
"How to _post_ a DELETE request?" Note the underlined word.

Hendy Irawan, GaulDong - http://dev.gauldong.net

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4885<br>
Sender:"Hendy Irawan" &lt;ceefour@...&gt;<br>
Post Date/Time:2005-02-25 10:32:05<br>
Subject:SHARE: WSDL has its problems<br>
Message:<br><br>
<pre>From http://webservices.xml.com/pub/a/ws/2004/11/17/salz.html:

Since a service can only implement one interface, how does WSDL 2.0
provide extensibility and an acceptable programming model? They did it by
adding information inheritance. At first glance, it looks like Java
inheritance, and the specification talks about "extending an interface."
Looking beneath the surface, however, it's really just "extending the
vtable," just like COM.

--

Looks like it's going to be a loooong time before there's such thing as
SHARE Interface Description Language.

And I can't believe this, how can WSDL designers not think about multiple
interfaces right from the start?!?! And adding hacks into WSDL 2.0 just to
make it "support" multiple interfaces?

If you look at WSDL tutorials... I think more than 90% does NOT say
anything about interfaces, let alone multiple interfaces (for one
service). This is some big omittance, IMHO.

My proposal for RSDL (which is now unofficially renamed to SHARED)
contains only two basic elements: interfaces and operations. There are no
types, since types are contained in interfaces, and more other things.

And there's something about multiple inheritance of interfaces. In my RSDL
proposal this is expected, although I did not specify how this will happen
since it's out of the scope of RSDL.

Looking at how late they incorporate multiple interfaces and multiple
inheritance of interfaces into WSDL (which is essentially RSDL/SHARED's
building blocks right from the scratch), it's truly beyond me... BTW these
guys are Microsoft, IBM, etc. representatives...

Hendy Irawan, GaulDong - http://dev.gauldong.net

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4886<br>
Sender:"Hendy Irawan" &lt;ceefour@...&gt;<br>
Post Date/Time:2005-02-25 10:39:44<br>
Subject:RPC and the like<br>
Message:<br><br>
<pre>Just read a very interesting article:

From http://www.joelonsoftware.com/articles/fog0000000018.html

Remember that the architecture people are solving problems that they think
they can solve, not problems which are useful to solve. Soap + WSDL may be
the Hot New Thing, but it doesn't really let you do anything you couldn't
do before using other technologies -- if you had a reason to. All that
Distributed Services Nirvana the architecture astronauts are blathering
about was promised to us in the past, if we used DCOM, or JavaBeans, or
OSF DCE, or CORBA.

--

I'll try to stick everything he had to say in my little mind. Most of what
he said make sense to be, in a very good way. The "problems that they
think they can solve, not problems which are useful to solve" thing really
catches my eye.


Hendy Irawan, GaulDong - http://dev.gauldong.net

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4887<br>
Sender:"Hendy Irawan" &lt;ceefour@...&gt;<br>
Post Date/Time:2005-02-25 14:33:16<br>
Subject:SHARE and WSDL 2.0 -- Then REST and WS-Transfer<br>
Message:<br><br>
<pre>Hi!

This site is very helpful:
http://www.pacificspirit.com/Authoring/wsdl/ArtistWSDL2uriformencoding.html

It describes a way to describe SHARE/REST (I think) services using pure
WSDL 2.0. The syntax is much better IMHO than previous WSDL versions, as
used in ATOM's RESTful (I think) API:

http://atomenabled.org/developers/api/AtomAPI.wsdl

Back to the Artist WSDL, what disappoints me was that it doesn't separate
the interface(s) from the service... which is something that I want. I
prefer examples than reading the bulk of WSDL 2.0 Draft... So that example
combined with some reading into WSDL 2.0 specs maybe will shed some light
to me.

If all is well than I hope it's not necessary to invent yet another
proprietary schema.

About REST, it seems than now WSDL 2.0 kind of "supports" REST services.
With WS-Transfer it seems REST services are completely WSDL-able. But I
haven't delved deep into this. If it's true, then you folks already got
your personalized REST Description Language without much effort, the WSDL
guys at Microsoft et al did the rough jobs for you. :-) I hope you
appreciate their efforts.

Hendy Irawan, GaulDong - http://dev.gauldong.net

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4888<br>
Sender:Joe Gregorio &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2005-02-25 14:53:19<br>
Subject:Re: [rest-discuss] REST and SHARE<br>
Message:<br><br>
<pre>On Thu, 24 Feb 2005 22:55:02 -0800 (PST), Justin Sampson
&lt;justin@...&gt; wrote:
&gt; 
&gt; Josh Sled wrote: 
&gt; &gt; HTTP is an application protocol; as such, it defines the operations and
&gt; &gt; their semantics.
&gt; 
&gt; Huzzah. :) I've never been a fan of PUT and DELETE. They're just not used
&gt; much on classic Web sites, and then only when the Web site is being
&gt; treated more like a filesystem (and the Web ain't a filesystem, I say).

Maybe having no way to do a PUT or DELETE from within HTML
has something to do with it?

    -joe

-- 
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4889<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-02-25 15:06:41<br>
Subject:Re: [rest-discuss] REST and SHARE<br>
Message:<br><br>
<pre>On Fri, 2005-02-25 at 01:55, Justin Sampson wrote:

&gt; For those who are uncomfortable with the "do something" meaning of POST,
&gt; remember, as always, that HYPERTEXT is our friend. On the Web, you never
&gt; just put together a POST request out of the blue. You browse to a page
&gt; containing a form surrounded by text that tells you what posting the form
&gt; is going to accomplish. The request itself needs no more information than
&gt; the POST method and the URI to which it applies to identify its "meaning";
&gt; the users' expectations are set by whatever the page containing the form
&gt; tells them.

Yes!  "REST = GET/PUT/POST/DELETE." misses this.

Except often a hidden "dispatch" or "operation" form-field is required
to actually determine the intent of the form... but it's important that
the server provided those tokens in the first place.

What I'm trying to figure out is: if that document is in a *mumble*DL
file completely external to the service, and barely even mentioned in
the interaction with the site, is that still RESTful?  Why?  How? 
What's the critical distinction?  How does the client then determine
changes in the service provided to clients?


&gt; That's probably not what you meant, Josh, but I've just been waiting for
&gt; an opportunity to bash PUT and DELETE. ;}

No, it's quite close to what I meant, actually...

If PUT and DELETE were critically required for something, then they'd be
implemented widely in browsers by now.  They're not, thus what does that
imply?

To me, it implies:

* the GET=read, POST=read/write distinction is fundamental one; further 
  subdivisions of the semantics of either have a high threshold before 
  being accepted.

  * PUT/DELETE may not be the right other things to codify for the 
    human-browseable web.

  * they may be right for other machine/machine scenarios, but other 
    things are required [atomic-TAKE, batch-GET, &amp;c...?]

* the server instructing the client what operation are available and 
  possible for to transitions to next via forms are sufficient for a 
  lot of behavior.

* most of this is predicated on a human interpreting HTML, at least 
  initially.  Surely, people have been doing screen-scraping, but only 
  after human interaction.


&gt; (And don't even get me *started* on "CRUD".)

Heh. :)


...jsled

-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4890<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2005-02-25 15:28:57<br>
Subject:RE: [rest-discuss] More REST and SHARE<br>
Message:<br><br>
<pre>
&gt; - Supports GET, POST, HEAD only. The recommended method is only GET
&gt; though, for accessibility: You can't do a POST using a web browser without
&gt; using forms
[hvw] So? Use forms. Url encoded form data is perfectly fine way to
represent data. Why bother with xml? Cf.
http://hughw.blogspot.com/2004/08/so-you-want-to-build-rest-application.html




 




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4891<br>
Sender:"Hendy Irawan" &lt;ceefour@...&gt;<br>
Post Date/Time:2005-02-25 16:20:47<br>
Subject:More REST and SHARE...<br>
Message:<br><br>
<pre>Hi...

&gt;&gt; - Supports GET, POST, HEAD only. The recommended method is only GET
&gt;&gt; though, for accessibility: You can't do a POST using a web browser
&gt;&gt; without
&gt;&gt; using forms
&gt; [hvw] So? Use forms. Url encoded form data is perfectly fine way to
&gt; represent data. Why bother with xml? Cf.

Hey...... who said I was going to use XML?

SHARE is (in my view) datatype neutral. It does not specify what types you
want for the parameters and return values. These may be specified in WSDL
as "literal" or something.... I'm not sure. It seems that 'literal'
expects XML-formatted data? Of course strong typing is also available
since it's WSDL anyway, you can use XML Schema types and even define your
own types.

BTW using XML schema types does not mean you're going to use XML. For
example this:

GET /search.php?q=hello+world

The 'q' parameter is of type 'string'. But the GET request isn't in XML,
isn't it? (well it's impossible to do a GET in XML I guess, since it has
no body). And whatever returned by the service is as yet unknown, it
should be defined in the WSDL as "returning HTML" if it wants to return an
HTML page. I'm still not sure how to do this with WSDL though.

Back to GET/POST. Why I don't want to use forms?

GET /article/delete.php?id=737

See? It's that simple. Of course it's possible to use forms to do it
(which will be the proper way), but using GET eliminates the need for
forms. I have nothing against urlencoded form data or multipart (for
sending files), in fact it's my preferred format for SHARE (for POST
methods), since most scripting engines handle it natively and
automatically i.e. in PHP translating them to request variables. Using XML
as request body will very much complicate matters, but sometimes people
will want to use it so we shouldn't enforce urlencoding.

Hendy Irawan, GaulDong - http://dev.gauldong.net

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4892<br>
Sender:"Hendy Irawan" &lt;ceefour@...&gt;<br>
Post Date/Time:2005-02-25 16:33:17<br>
Subject:Re: [rest-discuss] REST and SHARE<br>
Message:<br><br>
<pre>Hi...

&gt;&gt; Huzzah. :) I've never been a fan of PUT and DELETE. They're just not
&gt;&gt; used
&gt;&gt; much on classic Web sites, and then only when the Web site is being
&gt;&gt; treated more like a filesystem (and the Web ain't a filesystem, I say).
&gt;
&gt; Maybe having no way to do a PUT or DELETE from within HTML
&gt; has something to do with it?

For me, yeah, A LOT.

And more:
- You can't do it with most (if not all) web browsers
- You can't do it programmatically without requiring specialized library
such as CURL, or doing TCP sockets yourself
- Not just HTML, but most things in general. We always specify web stuff
as URLs, not URL + method to use

All in all, a HTTP METHOD is something *separate* from the URI, and that's
what makes it inconvenient (I have to say that this is actually the
expected behavior). The URL contains protocol, username, password, server,
path, and query string... yet no method is specified. Maybe if the method
is URI-able, non GET/POST methods will gain wider acceptance. I mean, just
a way to append the method in the URI to explicitly specify you want that
method...

Hendy Irawan, GaulDong - http://dev.gauldong.net

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4893<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-02-25 16:36:45<br>
Subject:Re: [rest-discuss] SHARE and WSDL 2.0 -- Then REST and WS-Transfer<br>
Message:<br><br>
<pre>On Fri, Feb 25, 2005 at 09:33:16PM +0700, Hendy Irawan wrote:
&gt; If it's true, then you folks already got
&gt; your personalized REST Description Language without much effort, the WSDL
&gt; guys at Microsoft et al did the rough jobs for you. :-) I hope you
&gt; appreciate their efforts.

Har-dee-har! 8-)

WSDL 2.0 and its revised HTTP binding was done *despite* the "Microsoft
guys".  It was largely the work of a lone W3C staffer with significant
input and review from David Orchard and myself.  David and I proposed
other things which were rejected, which would have made it even better.
The result is that WSDL 2.0 *can* be used as a forms language of sorts,
but that capability is so thoroughly buried beneath legacy RPC crap that
I don't know how anybody could make sense of it... Case in point;

http://norman.walsh.name/2005/02/24/wsdl

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4894<br>
Sender:"Hendy Irawan" &lt;ceefour@...&gt;<br>
Post Date/Time:2005-02-25 16:53:32<br>
Subject:Re: [rest-discuss] SHARE and WSDL 2.0 -- Then REST and WS-Transfer<br>
Message:<br><br>
<pre>
&gt; Actually, it took a lot of effort from a bunch of RESTafarians -- Mark
&gt; Baker especially -- to basically _FORCE_ the XML Protocol WG [the
&gt; SOAP-spec authors] to have the _possibility_ to use SOAP in a RESTful
&gt; way.

IMHO REST != SOAP. Some overlaps though. And not everyone wants to use
REST, especially because of the exotic HTTP methods.

&gt; SOAP 1.0 used POST for all operations and HTTP's "200 OK" response code
&gt; for _everything_, including errors, effectively making it impossible to
&gt; use any existing HTTP tooling or intermediaries.

Yea this one I completely agree with you.

But sometimes I also don't like it. e.g. sometimes a browser may choose to
display its own 404 page than displaying the 404 from the resource. I
don't think there are many browsers this exotic though.

&gt; WSDL 1.0's HTTP binding only mentions GET/POST, and in fact specifically
&gt; says that those are the _only_ two HTTP operations supported.  It took a
&gt; bunch of effort to get WSDL to even formally acknowledge that other HTTP
&gt; operations exist.

WSDL &lt; 2.0 sucks. Even WSDL 2.0 still sucks for its path/querystring
support... I guess, from the *old* (i.e. almost 6 months) articles I read.
Weird. HTTP has been around since the inception of the Web but these WSDL
guys are just sooo ignorant (IMHO).

&gt; I think it's distracted a lot of people from actually looking at _why_
&gt; and _how_ the Web has grown the way it has, to be as successful as it
&gt; has been, and trying to figure out the cauality of that and implications
&gt; of those causes.  This makes me sad.

I really don't think the Web grows because of REST. I think the Web grows
because of GET, POST, and HEAD. And some other useful stuff like CONNECT
for proxies. PUT, DELETE, OPTIONS, ... IMHO are the things you don't hear
so often, much less used. Especially if you're doing things with WEB
*pages* and WEB *sites*. People are accustomed to think the web as a
collection of "resources". In the sense of "resources that DO things", not
"do things WITH resources".

&gt; So, no, I don't appreciate many years of wasted effort from the
&gt; marketing departments of big companies that want to control my internet,
&gt; via re-specifying RPC with angle brackets, CORBA and DCOM.

Maybe, but I was referring to their effort to develop the WS-Transfer
specification. Really, WS-Transfer benefits REST very much, while it
doesn't do anything much with the currently accepted Web Services standard
i.e. SOAP.

Hendy Irawan, GaulDong - http://dev.gauldong.net

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4895<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-02-25 17:08:15<br>
Subject:Re: [rest-discuss] More REST and SHARE<br>
Message:<br><br>
<pre>On Fri, 2005-02-25 at 02:45, Hendy Irawan wrote:

&gt; So here's my take on SHARE:
&gt; - The "official" expansion would be "Simple HTTP API via RPC and Encoded
&gt; data". An "empathic" definition would be "Simple HTTP API almost like REST
&gt; but Easier". My definition would be "Simple HTTP API that's Really Easy".

My point has been that SHARE APIs are (sometimes) _NOT_ "almost like
REST".


&gt; - Supports GET, POST, HEAD only. The recommended method is only GET
&gt; though, for accessibility: You can't do a POST using a web browser without
&gt; using forms, and you can't do a POST using a script without using special
&gt; libraries, client-side JavaScript such as using XMLHTTP did not support
&gt; POST until later versions.

My argument is that -- from what we've seen so far -- either GET _or_
POST is being used.  HEAD doesn't really seem to be used by any of these
services.

In terms of recommendation, it'd have to be the much safer POST
operation, not GET.


&gt; - Has a SHARE Description (SHARED) which basically looks like RSDL I
&gt; proposed before.

No.  I'm trying to describe the existing world, not prescribe a new one.


&gt; - Has a SHARE interface description which is written in WSDL, I suppose...
&gt; but I'll think about it later. It's just too early.

No. The SHARE interfaces we've seen so far have been described in prose
in HTML as a rule, actually.


No offense, but /please/ don't co-opt this term as the name of your
design for doing RPC via HTTP.  My whole point of coining the term was
to describe the *class* of recently-emergant APIs that have adopted the
description "REST" without necessarily following its constraints.  I'd
really like the term to be a bit more abstract than "it has this
[Interface] Description Language, and these encoding rules, and ..."
with a spec and a website.

...jsled

-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4896<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2005-02-25 17:21:45<br>
Subject:RE: [rest-discuss] More REST and SHARE...<br>
Message:<br><br>
<pre>
&gt; Back to GET/POST. Why I don't want to use forms?
&gt; 
&gt; GET /article/delete.php?id=737
&gt; 
&gt; See? It's that simple. Of course it's possible to use forms to do it
&gt; (which will be the proper way), but using GET eliminates the need for
&gt; forms. 

[hvw] What's so intrinsically undesirable about passing in a form entity
with a POST? Easiest thing in the world in HTML, right?


[hvw] (You're violating the semantics of GET. The ground rules ought to be
we're going to play within HTTP. The delete operation is probably idempotent
but by any reasonable standard you're not returning a representation of the
resource at "/article/delete.php?id=737".)

Hugh

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4897<br>
Sender:"Hendy Irawan" &lt;ceefour@...&gt;<br>
Post Date/Time:2005-02-25 18:01:09<br>
Subject:Re: [rest-discuss] More REST and SHARE<br>
Message:<br><br>
<pre>
Josh Sled said:
&gt; My point has been that SHARE APIs are (sometimes) _NOT_ "almost like
&gt; REST".

Hmm I think that's because SHARE are more general than REST?
I mean, REST treats URIs as resources, or something like that, but
related. And by that, URIs can have associated operations, such as GET,
POST, DELETE, etc.

In contrast, SHARE is actually (IMHO) more neutral in nature. It does not
impose restrictions whether you must do a GET or POST or whatever method.
All it knows is just a bunch or URIs with associated methods, and some
semantics.

In that view REST is also SHARE. And even SOAP Web Services are also
SHARE. Well I guess I'm trying to confuse things :-P

Okay let's just stick to Simple HTTP API via RPC and Encoded data. ;-)

&gt; My argument is that -- from what we've seen so far -- either GET _or_
&gt; POST is being used.  HEAD doesn't really seem to be used by any of these
&gt; services.
Yeah... true... Nobody uses HEAD in web scripts. Actually almost everyone
ignores the HTTP request method used.

&gt; In terms of recommendation, it'd have to be the much safer POST
&gt; operation, not GET.
Yeah I have to agree. Maybe I have to emphasize my "recommendation" was
about accessibility. Example if you create an interface that's going to be
(hopefully) publicly accepted, designing your interface so it only uses
POST methods are really going to affect some accessibility, in common
cases like someone doesn't have the appropriate library to perform POST
requests or using an old XMLHTTP object.

&gt;&gt; - Has a SHARE Description (SHARED) which basically looks like RSDL I
&gt;&gt; proposed before.
&gt; No.  I'm trying to describe the existing world, not prescribe a new one.

I don't think something such as SHARE Description Language is already
"existing". WSDL exists but it's tailored heavily biased towards RPC/SOAP
and only recently thoughts on REST-like services are being considered.
And there's no such thing as SHARE Description Language specification.
Even the SHARE itself is questionable, WTF is it? Is it in Wikipedia?

&gt; No. The SHARE interfaces we've seen so far have been described in prose
&gt; in HTML as a rule, actually.

True. Just like the del.icio.us API. I don't see that as an "interface
description" but merely as "service description documentation". IMHO a
description is machine-processable while a documentation is intended for
humans to read. And del.icio.us API is not an interface but a service,
since it's not specifying a public interface (maybe in WSDL) that others
can use and refer when they want to implement something based on
del.icio.us interface.

&gt; No offense, but /please/ don't co-opt this term as the name of your
&gt; design for doing RPC via HTTP.  My whole point of coining the term was
&gt; to describe the *class* of recently-emergant APIs that have adopted the
&gt; description "REST" without necessarily following its constraints.  I'd
&gt; really like the term to be a bit more abstract than "it has this
&gt; [Interface] Description Language, and these encoding rules, and ..."
&gt; with a spec and a website.

Ok, no problem.

That leads me to some problem..... what's the name of this "thing"?

As I use it to develop Gado-gado, I might use something like Gado-gado
Service Description or whatever... but I don't like it because it's not
Gado-gado specific.

And in that sense I want this "thing" to have a class... I don't want to
use "Web Services" since it's related tightly with SOAP and XML, and my
Web Service isn't SOAP, it isn't XML, it is actually REST without strict
REST semantics and it's more SHARE but I can't use the SHARE name. And
even so I can't say "this is a SHARE-like service" since nobody knows what
SHARE is...?

Actually from the last few researches I've found WSDL 2.0 to be quite
suited to describing both SHARE-ish Service Descriptions and SHARE-ish
Interface Descriptions. So I can just say that Gado-gado is a SHARE-based
service that used WSDL formats to describe the service and the interfaces.

But actually I don't want to involve Gado-gado so much in this... why?
Because I want to promote the *idea* that using SHARE with publicly
available (and widely used, i.e. standardized) interfaces is a Good
Thing(tm), and not to promote Gado-gado itself. Promoting Gado-gado is
useless since I don't think anybody cares about it, but I want to
communicate the idea that having "standardized" interfaces is something
good. But why SHARE? Why not REST or SOAP? This is basically because of my
preference of *accessibility*, in that SHARE:
- does not require a special library to be used
- uses only simple programmatic functions (GET is trivial, while POST is
more difficult but far easier than SOAP)
- does not require ANY change to the web server configuration
- usable by ANY browser on the planet, even Lynx!

BTW the idea does not limit anyone to prefer SOAP or REST... It's
perfectly legal since SOAP, REST, SHARE, XML RPC, etc. they're all
supported by WSDL (thanks to 2.0... errr maybe the next version, plus
WS-Transfer and maybe some others). However, it should be emphasized that
using a non-SHARE approach greatly limits the accessibility and
implementability of the interface, although it may (and will) provide
better semantics, architectural design, ease of use (in case the libraries
are already there), etc.

Maybe I'll have to elaborate my point more:
In case anyone (if at all) gets interested in developing a service similar
to Gado-gado, they may develop it and implement the Gado-gado *interface*.
I don't want people calling the other site "A Gado-gado clone", but I want
them to say "It's one of the sites which implements the Gado-gado
interface" (though I'd prefer the interface name to be 'Social bookmarking
interface'). The distinction is important. If Google, Wikipedia, and
AskJolene were to support the same interface, it'd be good if they just
say they implement the same "Searchable" interface, rather than Wikipedia
and AskJolene claiming to have a Google-compatible API.

But still my question: Any suggestions on how should I name this "thing"?

Hendy Irawan, GaulDong - http://dev.gauldong.net

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4898<br>
Sender:"Hendy Irawan" &lt;ceefour@...&gt;<br>
Post Date/Time:2005-02-25 18:03:38<br>
Subject:CORRECTION to my previous post<br>
Message:<br><br>
<pre>I think I've misspelled a word.

I referred AskJolene???

It should have been Ask Jeeves.

AskJolene is a porn site. :-P (*DUH*)


Hendy Irawan, GaulDong - http://dev.gauldong.net

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4899<br>
Sender:"Hendy Irawan" &lt;ceefour@...&gt;<br>
Post Date/Time:2005-02-25 18:18:41<br>
Subject:RE: [rest-discuss] More REST and SHARE...<br>
Message:<br><br>
<pre>
Hugh Winkler said:

&gt; [hvw] What's so intrinsically undesirable about passing in a form entity
&gt; with a POST? Easiest thing in the world in HTML, right?
&gt; [hvw] (You're violating the semantics of GET. The ground rules ought to be
&gt; we're going to play within HTTP. The delete operation is probably
&gt; idempotent
&gt; but by any reasonable standard you're not returning a representation of
&gt; the
&gt; resource at "/article/delete.php?id=737".)

I completely agree with you.

I guess it should be left as an interface-specific decision.

The reason why I avoided non-GET all the time is because it's not trivial
to do so in a non-HTML Form environment, such as in PHP, in old XMLHTTP
(JavaScript, ActiveX, etc.), in CGI scripts.

It's like the "be conservative in what you emit, be liberal in what you
accept" philosophy. For something to be widely acceptable then you should
design it so it's supportable by the majority, but of course there are
always tradeoff between them, in our case it's tradeoff between (I guess)
implementability and semantic conformance.

e.g. If you want to retrieve data dynamically using JavaScript without
refreshing the page, there are at least these choices:
1. &lt;img&gt;
2. &lt;script&gt;
3. &lt;iframe&gt;
4. DOMDocument.load
5. XMLHTTPRequest

The most semantically valid way would be to use XMLHttpRequest, but this
thing is so new it only works on the latest versions of IE and Mozilla. It
doesn't even work in Opera. This is bad, considering that majority of the
browsers used in this planet is IE 5.0 (http://awstats.gauldong.net).

So a developer would use iframe, even script, even IMG tags to load a
script! Imagine that! That is *SOOO* violation, but believe me it works
(even in IE 4.0 browsers or maybe older!!) and remote scripting sites are
describing this technique.

Anyway as I have stated before it's an interface-specific decision... What
I described here is only my personal reasons why GET is good for
acceptability and implementability point of view, and I hereby acknowledge
that using GET for non-read-only operations are *very* bad in terms of
semantics.

Hendy Irawan, GaulDong - http://dev.gauldong.net

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4900<br>
Sender:Michael Jakl &lt;mj@...&gt;<br>
Post Date/Time:2005-02-25 19:18:21<br>
Subject:Re: Problem identifying resources and representations<br>
Message:<br><br>
<pre>leighdodds2001 wrote:
&gt; --- In rest-discuss@yahoogroups.com, Michael Jakl &lt;mj@i...&gt; wrote:
&gt; 
&gt;&gt;Since Picture and Picture-Metadata are closely connected, I'm 
&gt;&gt;tempted to see "Picture" as the resource, and "binary" and 
&gt;&gt;"XML/RDF" as two different representations. The problem with 
&gt;&gt;this approach is that I can't address representations of a 
&gt;&gt;resource, only a resource. What would you suggest?
&gt; 
&gt; 
&gt; I'd agree that Picture is the resource and that there can 
&gt; be two representations, the binary images and the XML/RDF.
&gt; 
&gt; You can use content negotiation (i.e. the Accept header) to 
&gt; retrieve alternate representations from the same URI. But that 
&gt; doesn't address your addressing requirements. I'd meet that 
&gt; by either: parameterising the url, e.g:
&gt; 
&gt; /pictures/124?format=rdf
&gt; 
&gt; Or by making the metadata a sub-ordinate resource:
&gt; 
&gt; /picture/124/metadata
&gt; 
&gt; I've been leaning towards the latter approach lately, but I've
&gt; seen both in use and I'm not sure there's much to choose between 
&gt; them.
&gt; 
&gt; You can do this and STILL support content negotiation though, 
&gt; so it's not either/or.

I just wanted to post the URL of my term paper[1]. The discussed example 
is on page 9 to 16.

Thanks again for all suggestions - I switched to content negotiation. 
I've also tried to incorporate some knowledge found on the list...

I hope I didn't forget any information sources, and to mention any 
relevant related work (I didn't mention all sources within the text to 
ease the reading...).

It is - after all - nothing new nor ground breaking, it was an attempt 
to learn, and understand the Web and scalable Web-services.

Thanks,
Michael

Ps: If I've missed something important, or done something wrong, please 
let me know.

  1: http://www.int-x.org/media/uni/rest.pdf

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4901<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-02-25 21:02:28<br>
Subject:Re: [rest-discuss] REST and SHARE<br>
Message:<br><br>
<pre>&gt; On Thu, 24 Feb 2005 22:55:02 -0800 (PST), Justin Sampson
&gt; &gt; Huzzah. :) I've never been a fan of PUT and DELETE. They're just not used
&gt; &gt; much on classic Web sites, and then only when the Web site is being
&gt; &gt; treated more like a filesystem (and the Web ain't a filesystem, I say).
&gt;

On Fri, 25 Feb 2005, Joe Gregorio wrote:
&gt; Maybe having no way to do a PUT or DELETE from within HTML
&gt; has something to do with it?

That's a factor, but I believe that the biggest problem is having no way 
to copy and paste the method and other request elements with the same 
convenience as a URI.

Hm, thinking about this in a blue sky mode...
[some new URI scheme]://domain:port+method/path?query-string

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4902<br>
Sender:"Logan, Patrick D" &lt;patrick.d.logan@...&gt;<br>
Post Date/Time:2005-02-25 21:25:45<br>
Subject:Re: SHARE and WSDL 2.0 -- Then REST and WS-Transfer<br>
Message:<br><br>
<pre>Mark Baker writes...

&gt;WSDL 2.0 and its revised HTTP binding was done *despite* the "Microsoft
&gt;guys".  It was largely the work of a lone W3C staffer with significant
&gt;input and review from David Orchard and myself.  David and I proposed
&gt;other things which were rejected, which would have made it even better.
&gt;The result is that WSDL 2.0 *can* be used as a forms language of sorts,
&gt;but that capability is so thoroughly buried beneath legacy RPC crap
that
&gt;I don't know how anybody could make sense of it... Case in point;
&gt;
&gt;http://norman.walsh.name/2005/02/24/wsdl

Is there a reference outside of the WSDL 2.0 spec itself that boils down
how to use WSDL 2.0 and SOAP to specify just a REST-ful interface?

Also -- what does "forms language" mean in this context?

Thanks,
Patrick


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4903<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-02-26 04:27:47<br>
Subject:Re: [rest-discuss] Re: SHARE and WSDL 2.0 -- Then REST and WS-Transfer<br>
Message:<br><br>
<pre>Hi Patrick,

On Fri, Feb 25, 2005 at 01:25:45PM -0800, Logan, Patrick D wrote:
&gt; Mark Baker writes...
&gt; 
&gt; &gt;WSDL 2.0 and its revised HTTP binding was done *despite* the "Microsoft
&gt; &gt;guys".  It was largely the work of a lone W3C staffer with significant
&gt; &gt;input and review from David Orchard and myself.  David and I proposed
&gt; &gt;other things which were rejected, which would have made it even better.
&gt; &gt;The result is that WSDL 2.0 *can* be used as a forms language of sorts,
&gt; &gt;but that capability is so thoroughly buried beneath legacy RPC crap
&gt; that
&gt; &gt;I don't know how anybody could make sense of it... Case in point;
&gt; &gt;
&gt; &gt;http://norman.walsh.name/2005/02/24/wsdl
&gt; 
&gt; Is there a reference outside of the WSDL 2.0 spec itself that boils down
&gt; how to use WSDL 2.0 and SOAP to specify just a REST-ful interface?

Not AFAIK.

&gt; Also -- what does "forms language" mean in this context?

A language which permits the server to drive the application based on
data supplied by the client.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4904<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-02-26 05:52:58<br>
Subject:Re: [rest-discuss] REST and SHARE moreeeee<br>
Message:<br><br>
<pre>
&gt; I have to agree with you. Actually I like the idea of PUT, DELETE, etc. if
&gt; implementing it is easy as GET. Maybe if all browsers have a "Delete this
&gt; page from the Web" (or similar) button, that'll be the day when REST
&gt; rises.
Look beyond the legacy Web browser clients.

MS Windows has 'Web folders' - the delete key on the keyboard does an HTTP
DELETE request.
MS Exchange has WebDAV support - deleting info can be done via HTTP DELETE.
Subversion version control uses DELETE.
And so on...

It's already there - just invisible, like any successful technology.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4905<br>
Sender:"Hendy Irawan" &lt;ceefour@...&gt;<br>
Post Date/Time:2005-02-26 14:36:45<br>
Subject:Re: [rest-discuss] REST and SHARE moreeeee<br>
Message:<br><br>
<pre>Hi...,

S. Mike Dierken said:
&gt;&gt; I have to agree with you. Actually I like the idea of PUT, DELETE, etc.
&gt;&gt; if
&gt;&gt; implementing it is easy as GET. Maybe if all browsers have a "Delete
&gt;&gt; this
&gt;&gt; page from the Web" (or similar) button, that'll be the day when REST
&gt;&gt; rises.
&gt; Look beyond the legacy Web browser clients.

You can't ignore them... If everybody is touting REST as "the One(tm) who
made Web successful", it just seems natural that it is "the founding
technology". That means it should've been supported by anything BEFORE
now.

&gt; MS Windows has 'Web folders' - the delete key on the keyboard does an HTTP
&gt; DELETE request.
&gt; MS Exchange has WebDAV support - deleting info can be done via HTTP
&gt; DELETE.
&gt; Subversion version control uses DELETE.
&gt; And so on...
&gt;
&gt; It's already there - just invisible, like any successful technology.

Cool! I didn't think of that... However, aside from the fact that these
technologies are 'new' (and the fact that the underlying HTTP techology is
very old), they treat the Web EXACTLY like a filesystem, just like one
member of this group said earlier. And nobody treats the Web like a
filesystem, the idea is just not something like that.

I don't the REST idea. I just hate that people don't think RESTfully about
the Web.

But any great techology has its own history. 10 years ago nobody knew what
Flash is. Now you can force visitors to use the latest Flash 7 and nobody
is going to complain. Maybe that can happen several years from now where
you won't be able to log in to your Gmail if your browser doesn't support
REST. :-P

Hendy Irawan, GaulDong - http://dev.gauldong.net

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4906<br>
Sender:"Hendy Irawan" &lt;ceefour@...&gt;<br>
Post Date/Time:2005-02-26 14:40:00<br>
Subject:Re: [rest-discuss] Re: SHARE and WSDL 2.0 -- Then REST and      WS-Transfer<br>
Message:<br><br>
<pre>
Logan, Patrick D said:

&gt; Is there a reference outside of the WSDL 2.0 spec itself that boils down
&gt; how to use WSDL 2.0 and SOAP to specify just a REST-ful interface?

This is not a reference but a (real-world-ish) example which illustrates
the issue better than ANY reference: (BTW did you really read the ENTIRE
WSDL 2.0 spec??! Goddd)

http://www.pacificspirit.com/Authoring/wsdl/ArtistWSDL2uriformencoding.html

Somebody might bookmark that. Or even post that to the Wiki. Anyway it's
by the world renowned Dave Orchard.

It highlights the fact that EVEN WSDL 2.0 wasn't expressive enough to
handle simplest REST-ish semantics such as URI, path info, and query
strings. And that's also my concern when trying to use WSDL 2.0 as the
description/interface language for REST/SHARE-ish service.

I hope this is already fixed in the last call for WSDL or at least the
upcoming WSDL 2.0 spec.

Hendy Irawan, GaulDong - http://dev.gauldong.net

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4907<br>
Sender:"Hendy Irawan" &lt;ceefour@...&gt;<br>
Post Date/Time:2005-02-26 16:24:49<br>
Subject:Arbitrary methods on HTML FORM<br>
Message:<br><br>
<pre>One thing just struck me, or I was being idiot the whole time.

FORM has a METHOD attribute, so it means we can use it on anything? I
mean, DELETE, PUT, OPTIONS, HEAD, or whatever?

If it is, great...

The annoying thing is that there's no way to post a form without using a
button or image? Or JavaScript, I mean something like &lt;a
href="javascript:document.forms[0].submit();"&gt; isn't any good.

Talking about the future isn't really of my interest... I want things
working yesterday.

Hendy Irawan, GaulDong - http://dev.gauldong.net

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4908<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-02-26 19:10:07<br>
Subject:Re: [rest-discuss] REST and SHARE moreeeee<br>
Message:<br><br>
<pre>&gt; &gt; Look beyond the legacy Web browser clients.
&gt;
&gt; You can't ignore them... If everybody is touting REST as "the One(tm) who
&gt; made Web successful", it just seems natural that it is "the founding
&gt; technology". That means it should've been supported by anything BEFORE
&gt; now.
I'm suggesting that when designing new services, consider usage from
non-browser clients. There are plenty of technologies to serve browser based
apps - both client-side and server-side (and proxies too). They have a lot
of legacy cruft to deal with, but some groups are working on that - like the
WHAT-WG (extending html and defining improved browser behavior). I don't
believe one system or service will server both automation-based clients and
simple user-interface based clients (until you have a programmable client
within a user-interface client, such as xmlhttprequest).

Systems like PHP have evolved and improved over the years and if that system
is broken with respect to existing, open and standard protocols like HTTP,
then I'd suggest fixing that broken system in order to access missing
functionality rather than pretend the existing technology doesn't exist or
isn't useful.

I wouldn't assume that full support for existing technology 'just happens' -
for the most part, people that build new systems /want/ to build something
new top to bottom, they aren't motivated to re-use or extend what's already
been done.


&gt; &gt;
&gt; &gt; It's already there - just invisible, like any successful technology.
&gt;
&gt; Cool! I didn't think of that... However, aside from the fact that these
&gt; technologies are 'new' (and the fact that the underlying HTTP techology is
&gt; very old), they treat the Web EXACTLY like a filesystem, just like one
&gt; member of this group said earlier. And nobody treats the Web like a
&gt; filesystem, the idea is just not something like that.
Filesystems typically are local or nearby and have very chatty protocol
usage - systems that use WebDAV (and have succeded) don't make those
assumptions. They don't treat resources exactly like files.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4909<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-02-26 19:16:12<br>
Subject:Re: [rest-discuss] Arbitrary methods on HTML FORM<br>
Message:<br><br>
<pre>

&gt;
&gt; One thing just struck me, or I was being idiot the whole time.
&gt;
&gt; FORM has a METHOD attribute, so it means we can use it on anything? I
&gt; mean, DELETE, PUT, OPTIONS, HEAD, or whatever?
Yes, the HTML FORM element is essentially a 'service description language'.
It supports instructing the client how to formulate a request - including
specifying the method.
Unfortunately, the legacy browser client applications only handle a few
methods and have not defined a plug-in approach for handling other methods.
In addition, the FORM element is very limited in what parts of a request it
can control - for example, it would be nice to able to indicate that some
input is meant to be authentication information, or that submitting the form
should clear the client's authentication information for the specified host,
etc. The WHAT-WG is working on some improvements in how browsers handle HTTP
and what capabilities are exposed to web application designers.


&gt;
&gt; The annoying thing is that there's no way to post a form without using a
&gt; button or image? Or JavaScript, I mean something like &lt;a
&gt; href="javascript:document.forms[0].submit();"&gt; isn't any good.
Doing a POST implies the user is legally responsible for the resulting
action - and no end user wants to be legally responsible for 'silently'
submitted forms.
Again, this is a factor of the client application. Some browsers might
support a POST request based on some other user action than pushing a
button - but I don't know of any. Other client applications - like a media
player - might do a POST based on drag-drop of a file into a window... the
possibilities are endless &amp; dependent on the user-agent (the client app).





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4910<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-02-26 20:40:30<br>
Subject:Re: [rest-discuss] REST and SHARE moreeeee<br>
Message:<br><br>
<pre>On Sat, 2005-02-26 at 09:36, Hendy Irawan wrote:

&gt; You can't ignore them... If everybody is touting REST as "the One(tm) who
&gt; made Web successful", it just seems natural that it is "the founding
&gt; technology". That means it should've been supported by anything BEFORE
&gt; now.
[deletia]
&gt; is going to complain. Maybe that can happen several years from now where
&gt; you won't be able to log in to your Gmail if your browser doesn't support
&gt; REST. :-P

Consider that I don't need to download Google Mail client 1.0.5 in order
to access my gmail account ... that's REST in action.

Consider that I can post blog entries to whatever program I like ... or
maybe even one that I don't install, but instead is provided as a Web
service (e.g., blogger, TypePad, &amp;c.) ... without having to use special
software.

Consider I can buy an airline ticket, across many different companies
with competing interests, using the same piece of software.

Consider that we can seamlessly interlink between the all the
(nearly-infinite number of) wikis, without a (novel) RPC in sight.

Consider I don't need to wait for a bug fix in Bloglines.linux
v.2.71-R-42, since it's strangely incompatible with Gnome 2.4, since I
haven't upgraded, yet, since that's incompatible yadda yadda...

Consider I can control my wireless router/firewall/gateway box without
having to install any new software.

Consider the parallels with treating every digital-music players as a
"mass storage device" with a constrained interface, rather than as a
novel-thing-with-a-unique-API-that-I-need-special-software-to-talk-to.

You have this belief that REST is something it is not.   REST is an
architectural style ... a description of the architectural constraints
that enabled the web to be successful.  It is supported everywhere you
look, but perhaps you are not looking for the right things, or in the
right way.  It will not "one day rise", since it is already here.

If you continue to believe REST to be solely HTTP's GET/PUT/POST/DELETE,
then you're probably not going to see it because -- yes -- that doesn't
exist in the same way.  But that alone is not REST.

It may be that REST is not appropriate when a human is not in the loop,
just past the end of the User Agent, to interpret the very generic HTML
and Forms that are coming back... it may be that when we want our
web-store front-end to talk to Amazon Web Services, we really _do_ want
to do RPC and tightly couple those semantics directly into the
software.  I don't think I agree, but regardless, there is immense value
in trying to see how closely we can make those machine/machine
interactions (traditionally done with RPC) emulate the human/machine
interactions of the Web.  It is interesting to understand the tradeoffs
involved in, for instance, actually using hypermedia as the engine of
application state ... identifying resources rather than operations ...
constraining our methods/interface very specifically.  We would like
future distributed systems to be as flexible and scaleable as the Web is
-- or understand why they won't/can't be such -- and thus, we discuss
REST.

...jsled

-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4911<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-02-26 21:41:53<br>
Subject:Re: [rest-discuss] More REST and SHARE<br>
Message:<br><br>
<pre>On Fri, 2005-02-25 at 13:01, Hendy Irawan wrote:

&gt; In contrast, SHARE is actually (IMHO) more neutral in nature. It does not
&gt; impose restrictions whether you must do a GET or POST or whatever method.
&gt; All it knows is just a bunch or URIs with associated methods, and some
&gt; semantics.

Ah, but the problem is that the semantics -- and benefits that the
infrastructure can provide -- caching, transformation, standardized
headers and response codes, &amp;c. -- come specifically from /constraining/
the operations that can be performed.


&gt; In that view REST is also SHARE. And even SOAP Web Services are also
&gt; SHARE. Well I guess I'm trying to confuse things :-P

Well, since I'm saying "SHARE" is what the service providers are doing
that is specifically _not_ their SOAP interface, it's hard to argue that
SOAP is SHARE. :)

The line you're trying to draw is the architecture/implementation line,
I think.  As in, one can express either an RPC or REST [or
message-passing or ...] architecture via a particular technology like
HTTP or SOAP or RMI.  But SHARE isn't either an architectural style or a
specific implementation-description, so much as a description of the
class of RPC interfaces which are trying to use HTTP in a very simple
manner.


&gt; &gt; My argument is that -- from what we've seen so far -- either GET _or_
&gt; &gt; POST is being used.  HEAD doesn't really seem to be used by any of these
&gt; &gt; services.
&gt; Yeah... true... Nobody uses HEAD in web scripts. Actually almost everyone
&gt; ignores the HTTP request method used.

That's more general than what I said.  HEAD is used by many services
across the wider internet.  It's not _commonly_ used in day-to-day
web-browsing, but that doens't mean it's not used.

And I consider the fact that some web-app frameworks seem to go out of
their way to ignore HTTP methods a bug... :)


&gt; That leads me to some problem..... what's the name of this "thing"?
[deletia]
&gt; As I use it to develop Gado-gado, I might use something like Gado-gado
&gt; Service Description or whatever... but I don't like it because it's not
&gt; Gado-gado specific.
&gt; 
&gt; And in that sense I want this "thing" to have a class... I don't want to
&gt; use "Web Services" since it's related tightly with SOAP and XML, and my
&gt; Web Service isn't SOAP, it isn't XML, it is actually REST without strict
&gt; REST semantics and it's more SHARE but I can't use the SHARE name. And
&gt; even so I can't say "this is a SHARE-like service" since nobody knows what
&gt; SHARE is...?

That's all true, especially the last part. :)

You could recognize that no matter how much I _want_ people to not label
these APIs REST, they will probably continue to do so, and do the same
yourself at least for consistency and understandability.

You could just not give it a name, and say "here's the API..."

If you do want to come up with a name, I suggest makeing it short,
pronounceable and relatively general.  Recursonyms are worth extra
points. If you don't want a strong association to Gado-gado, then I
would recommend not making that part of the name, as well as staying
away from using 'G' [or 2 of them, next to each other] to prevent
confusion in the name.  That all assumes an acronym, of course ... you
could pick an existing word that's particularly descriptive of the
nature of the design...

But, yeah, there is a call for what you want; it's getting increasingly
loud, too.

...jsled

-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4912<br>
Sender:"Logan, Patrick D" &lt;patrick.d.logan@...&gt;<br>
Post Date/Time:2005-02-26 22:37:10<br>
Subject:RE: SHARE and WSDL 2.0 -- Then REST and WS-Transfer<br>
Message:<br><br>
<pre>I believe Sam Ruby has a recipe
(http://www.intertwingly.net/stories/2002/07/20/restSoap.html) which
explains how to make scrambled eggs in your toaster, but the ingredients
are stale. I am wondering about potential improvements using fresher
ingredients.

Thanks
-Patrick


&gt;-----Original Message-----
&gt;From: Elias Sinderson [mailto:elias@...]
&gt;Sent: Saturday, February 26, 2005 11:25 AM
&gt;To: Logan, Patrick D
&gt;Cc: rest-discuss@yahoogroups.com
&gt;Subject: Re: [rest-discuss] Re: SHARE and WSDL 2.0 -- Then REST and WS-
&gt;Transfer
&gt;
&gt;Logan, Patrick D wrote:
&gt;
&gt;&gt; Is there a reference outside of the WSDL 2.0 spec itself that boils
&gt;&gt; down how to use WSDL 2.0 and SOAP to specify just a REST-ful
interface?
&gt;
&gt;That's a funny idea, given that SOAP is not RESTful... You may as well
&gt;try to make scrabled eggs in your toaster.
&gt;
&gt;
&gt;Regards,
&gt;Elias

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4913<br>
Sender:"Hendy Irawan" &lt;ceefour@...&gt;<br>
Post Date/Time:2005-02-27 00:57:58<br>
Subject:Finalization of REST &amp; SHARE<br>
Message:<br><br>
<pre>Hi all,

By now REST seems complicated enough to me, but internally I always think
it as GET/PUT/POST/DELETE/etc. with resources.

I guess "this is the API" is enough. Nobody will care about it anyway. :-P

Just want to say thanks for all the help.

Hendy Irawan, GaulDong - http://dev.gauldong.net

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4914<br>
Sender:"bjoern_peters" &lt;bjoern_peters@...&gt;<br>
Post Date/Time:2005-02-28 01:53:08<br>
Subject:server side implementation of prediction tool generator<br>
Message:<br><br>
<pre>

Hi, 

I am working on a bioinformatics project for which I want to make
programs fully web accessible, and I would appreciate any advice on my
current plan for implementation: 

(1) a user supplies a set of training data consisting of pairs of
parameters and their associated measurements (POST of XML document to
tool generator).
 
(2) From this training data, a prediction tool is generated (tool
generator returns tool resource uri and saves tool data as file on the
server).

(3) The prediction tool can now be used to predict the measurement
associated with a new set of parameters (POST with parameters to
resource uri - I know I should use GET, but the parameters can
potentially be a megabyte of data). 

Unfortunately the only kind of 'web programming' I have any experience
with are cgi calls to python scripts, so I am unsure how to realize
(3). The program making the predictions is at a fixed location and
needs to know the tool uri (identifying the tool data file) and the
posted prediction parameters. I assume I have re-interprete the POST
at server level (in my case apache) -  How do I do that best? 

What I currently do is POST both the tool uri and the  prediction
parameters to a cgi script at a fixed uri. That does not seem RESTful
to me, as the uri used to make predictions is not that of the tool. 

Any feedback would be very appreciated. 








</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4915<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-02-28 09:31:45<br>
Subject:Re: [rest-discuss] server side implementation of prediction tool   generator<br>
Message:<br><br>
<pre>I'm having difficulty understanding your question.

Can you describe your question in terms of a sample interaction
between the components. Pseudo-code rather than real headers from
your app is OK. So, where (C: client, S: server) write something like:

C: POST /tools

   Some sample data.

S: 201 Created
   Location: /tools/my-tool

C: POST /tools/my-tool

   Parameter data

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4916<br>
Sender:"Donald Strong" &lt;dstrong@...&gt;<br>
Post Date/Time:2005-02-28 22:22:41<br>
Subject:RE: [rest-discuss] server side implementation of prediction tool generator<br>
Message:<br><br>
<pre>Hi Bjoern,

I think you are pretty much there.
You can drive the whole lot through HTML.

/bio
/bio/pred-1
/bio/pred-2

Top page HTML contains:
  - ability to create a new prediction tool by uploading a training file
    (post to /bio and creates and redirects to /bio/pred-n)
  - list of previously created prediction tools (ie. links to /bio/pred-1
etc.)

Prediction page HTML contains:
  - ability to create a new prediction by uploading a file containing
parameters.
    (post to /bio/pred-n and returns results)

If you wanted to preserve the results you could add a third level.
   /bio/pred-2/test-1

This should all be possible using a single CGI with appropriate mappings in
the htaccess file or equivalent. Perhaps a rewriterule will do what is
required.

Someone else on the list may know how to redirect a hierarchy of URIs to
a single CGI while providing the original URI to the CGI script. I would
be interested in knowing how to do it myself.

Donald.

-----Original Message-----
From: bjoern_peters [mailto:bjoern_peters@...]
Sent: Monday, 28 February 2005 12:53 PM
To: rest-discuss@yahoogroups.com
Subject: [rest-discuss] server side implementation of prediction tool
generator





Hi,

I am working on a bioinformatics project for which I want to make
programs fully web accessible, and I would appreciate any advice on my
current plan for implementation:

(1) a user supplies a set of training data consisting of pairs of
parameters and their associated measurements (POST of XML document to
tool generator).

(2) From this training data, a prediction tool is generated (tool
generator returns tool resource uri and saves tool data as file on the
server).

(3) The prediction tool can now be used to predict the measurement
associated with a new set of parameters (POST with parameters to
resource uri - I know I should use GET, but the parameters can
potentially be a megabyte of data).

Unfortunately the only kind of 'web programming' I have any experience
with are cgi calls to python scripts, so I am unsure how to realize
(3). The program making the predictions is at a fixed location and
needs to know the tool uri (identifying the tool data file) and the
posted prediction parameters. I assume I have re-interprete the POST
at server level (in my case apache) -  How do I do that best?

What I currently do is POST both the tool uri and the  prediction
parameters to a cgi script at a fixed uri. That does not seem RESTful
to me, as the uri used to make predictions is not that of the tool.

Any feedback would be very appreciated.










Yahoo! Groups Links







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4917<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-02-28 23:03:06<br>
Subject:RE: [rest-discuss] server side implementation of prediction tool   generator<br>
Message:<br><br>
<pre>On Tue, 1 Mar 2005 09:22:41 +1100, "Donald Strong"
&lt;dstrong@...&gt; said:
&gt; Someone else on the list may know how to redirect a hierarchy of URIs to
&gt; a single CGI while providing the original URI to the CGI script. I would
&gt; be interested in knowing how to do it myself.

I don't think redirecting is necessary. It leads to lots of
copynpaste mod_rewrite code in your .htaccess, in my experience.

Taking "/bio.cgi/whatever" as an example, anything after the
"/bio.cgi" will be in PATH_INFO. Note that that includes the
leading slash character.

I suggest using a PATH_INFO state machine (or a nasty
if-then-else if you must) to figure out which
function/object/controller/whatever to process the request with.

If you want, you can still use a single mod_rewrite directive
to clean up the path to the cgi script. I have (trivial)
mod_rewrite code that does this, but its on another machine
which I don't have access to as I right this. Mail me if you
want it.

It would rewrite
/bio/pred-2/test-1
to
/bio.cgi/pred-2/test-1

An bio.cgi process would then see a PATH_INFO of /pred-2/test-1 .

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4918<br>
Sender:"bjoern_peters" &lt;bjoern_peters@...&gt;<br>
Post Date/Time:2005-02-28 22:56:09<br>
Subject:Re: server side implementation of prediction tool generator<br>
Message:<br><br>
<pre>
Thanks a lot to Donald and Vincent. 

Donald: what you describe is exactly what I would like to do + what 
I would like to know. How do I redirect a POSTs to a single cgi 
script, preferrably only using straightforward HTML / htaccess?   


Vincent: I have tried to supply sample below. I guess I have to 
stress that I directly post to python scripts, and really have no 
clue of much else.(C: client, S: server): 

C: POST /tool_generator.py
&lt;TrainingData&gt;...&lt;/TrainingData&gt;

S: 200(?) Created
&lt;Receipt&gt;
  &lt;StatusUri&gt;/tools/tool_1/status.xml&lt;StatusUri&gt;
&lt;/Receipt&gt;

If no error occured during training, status.xml at StatusUri will 
eventually contain

&lt;Status success="true"&gt;
  &lt;ToolUri&gt;/tools/tool_1/&lt;StatusUri&gt;
&lt;/Status&gt;

Now, the tool_1/ directory will contains all the files I need on the 
server to make a prediction for a given set of parameters. However, 
the script making the predictions is at a fixed location. I would 
like to make a 

C: POST /tools/tool_1
&lt;PredictionParameters&gt;&lt;/PredictionParameters&gt;

but the only way I know how to do this is 

C: POST /prediction_maker.py
&lt;ToolUri&gt; /tools/tool_1 &lt;/ToolUri&gt;
&lt;PredictionParameters&gt;...&lt;/PredictionParameters&gt;


So I essentially want to do what Donald suggested, redirect the POST 
to prediction_maker.py + let it know what tool uri the POST 
originally went to. 

Thanks again! 






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4919<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-02-28 23:56:07<br>
Subject:RE: [rest-discuss] server side implementation of prediction tool   generator<br>
Message:<br><br>
<pre>
&gt; On Tue, 1 Mar 2005 09:22:41 +1100, "Donald Strong"
&gt; &lt;dstrong@...&gt; said:
&gt; &gt; Someone else on the list may know how to redirect a hierarchy of URIs to
&gt; &gt; a single CGI while providing the original URI to the CGI script. I would
&gt; &gt; be interested in knowing how to do it myself.

This is the template I use for new RESTful apps:
http://gonze.com/scratch/resty.phps

You'll find a .htaccess rule and sample code for converting URIs to 
function calls.

The use of that file is to have example code for everything I'll need to 
do.  When I'm creating a new app I'll paste in that code and delete the 
bits I'm not going to use.

- Lucas

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4920<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-03-01 03:03:09<br>
Subject:Re: server side implementation of prediction tool generator<br>
Message:<br><br>
<pre>On Tue, 1 Mar 2005, bjoern_peters wrote:
&gt; Thanks a lot for the help and especially Lucas for the sample
&gt; scripts. I did not know that environment variables PATH_INFO and
&gt; REQUEST_URI existed, which contain exactly what I need to solve my
&gt; problems.
&gt;
&gt; After googling this, is it correct to assume that there will be
&gt; problems when trying this on an IIS server? This would not affect me
&gt; currently, but I wanted this to be usable as a general case wrapper
&gt; around predition methods hosted on any platform.

mod_rewrite does not exist on IIS, so you'll need a different entry point. 
The PHP $REQUEST_URI var will also depend on server context.  If your goal 
is to create a mega-wrapper for all possible environments, that's a 
project in itself!

- Lucas




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4921<br>
Sender:"Donald Strong" &lt;dstrong@...&gt;<br>
Post Date/Time:2005-03-01 05:51:13<br>
Subject:Categorising usage of HTTP methods - a matter of trust.<br>
Message:<br><br>
<pre>&lt;pre&gt;

Categorising usage of HTTP methods - a matter of trust.
=======================================================

Introduction
------------

There have been a number of threads on the REST mail list 
discussing the usage of HTTP methods. In particular whether 
using GET/PUT/DELETE/POST(a) is more RESTful than GET/POST(p).

Note: POST(a) refers to using POST as an append operation,
      POST(p) refers to using POST as a 'process this' operation.

The semantic difference between these two flavours of POST is purely 
at an application level, neither REST or HTTP make this distinction.

Here is some of the previous discussion :-

http://groups.yahoo.com/group/rest-discuss/message/4723
http://asynchronous.org/blog/archives/2004/08/index.html
http://groups.yahoo.com/group/rest-discuss/message/4725
http://groups.yahoo.com/group/rest-discuss/message/4728

The hypothesis I put forward here is that:

    Whether it is appropriate to use GET/PUT/DELETE/POST(a) 
    rather than GET/POST(p) is a matter of the level of trust 
    between the user agent and the origin server.

Put another way, you can only expose the resources on an
origin server through GET/PUT/DELETE/POST(a) if the origin
server has complete trust in the user agent. In any other
circumstances you must limit the communication to
GET/POST(p).


Analysis of the methods
-----------------------

 Methods for UNTRUSTED user agents
 ---------------------------------

  GET     = data retrieval
  POST(p) = data processing

GET is a readonly HTTP method without side effects so it 
presents no threat when used by an untrusted user agent.

POST is a request to process data contained in the entity 
body. It's impact can be controlled by the process handling
the POST request. The request entity can be validated and
appropriately constrained to ensure that the integrity of
the server and the resources for which it is responsible 
are not compromised.


 Methods for TRUSTED user agents
 -------------------------------

  GET       = data retrieval
  PUT       = write resource
  DELETE    = remove resource
  POST(a)   = create subordinate resource

GET (see above).

PUT is analogous to a write of the entity body to the 
resource URI. A high level of trust is required that the
user agent will not unintentionally or maliciously
corrupt the resource that is being replaced. The resource
cannot be amended or extended by a PUT, it must be replaced.
This places a greater burden on the user agent to understand
the internal state of the resource and to maintain its
consistency within itself and in relation to the resources
that surround it.

DELETE has similar constraints and impact as PUT. It 
requires a similar level of trust of the user agent.

POST(a) can be used to create a new subordinate resource.
This can be thought of as a two step process, even if it
is not implemented this way:

  1. Calculate a new URI for the child resource
  2. PUT the enclosed entity to that URI.

Therefore, POST(a) has the same impact and requires the same
level of trust as PUT and DELETE.


Observations on levels of trust
-------------------------------

These observations only concern those methods that request
modifications to resources. The GET method's behaviour is
identical for trusted and untrusted user agents.

References to code mean the business application code 
not the code for the user agent (eg. browser) or origin 
server (eg. apache).


 Observations on UNTRUSTED access
 ................................


         +---------+          +------------+
         |         |   GET    |            |
         |  User   |&lt;---------|  Origin    |
         |  Agent  |          |  Server    |
         |         |&lt;--------&gt;|            |
         +---------+  POST(p) +------------+


  1. Validation of the request is performed on the origin server
     before the modifications are made and saved.

  2. Modifications or amendments to existing resources are 
     possible.

  3. Modifications to many resources are possible from the one
     request.

  4. The user agent only requires knowledge of the interface to
     the resource. This may be as simple as a set of name/value
     pairs.

  5. The main processing logic occurs on the origin server. 

  6. The user agent may treat the responses from the origin
     server in a fairly generic manner. A browser is an example of
     this as it displays the responses according to the rules
     for displaying HTML without any knowledge of the
     application.

  7. User agent code may be written by a different organisation
     from the one that wrote the code on the origin server.


Observations on TRUSTED access
..............................

         +---------+          +------------+
         |         |   GET    |            |
         |  User   |&lt;---------|  Origin    |
         |  Agent  |          |  Server    |
         |         |---------&gt;|            |
         +---------+  PUT     +------------+
                      POST(a)
                      DELETE

  1. The user agent must maintain relatively complete
     representations of the internal state of the resources
     it is manipulating.

  2. Existing resource state on the origin server is
     clobbered.

  3. The user agent can only save the state of one resource
     at a time.

  4. The entire resource must be replaced as partial updates
     are not possible.

  5. The origin server may enforce constraints on the resources:
        - referential integrity between resources
        - structural, type or format constraints
        - data validation.

  6. The user agent requires intimate knowledge of the
     representations of resources and the relationships
     between resources.

  7. The main processing logic occurs on the user agent. The
     origin server is a repository for permanent or long
     term application state.

  8. The user agent code is probably written by the same
     organisation that wrote the code on the origin 
     server or in close collaboration with them.


Three tier architecture
-----------------------

It is interesting to note that in the untrusted model the main
processing is done on the origin server while in the trusted 
model the main processing is done on the user agent. When
these two models are overlapped we end up with the traditional
three tier architecture.


 Presentation           Business                  Data
    Layer                Logic                   Services
           {Untrusted}               {Trusted}
           { access  }               { access}

 +---------+          +-------------+         +------------+
 |         |   GET    |             |  GET    |            |
 |  User   |&lt;---------|Origin   User|&lt;--------|  Origin    |
 |  Agent  |          |Server  Agent|         |  Server    |
 |         |&lt;--------&gt;|             |--------&gt;|            |
 +---------+  POST(p) +-------------+ PUT     +------------+
                                      POST(a)
                                      DELETE



The next logical step is to allow the business logic server to
talk to another business logic server and we have RESTful Web
Services.



 Presentation           Business                  Data
    Layer                Logic                   Services
           {Untrusted}               {Trusted}
           { access  }               { access}

 +---------+          +-------------+         +------------+
 |         |   GET    |             |  GET    |            |
 |  User   |&lt;---------|Origin   User|&lt;--------|  Origin    |
 |  Agent  |          |Server  Agent|         |  Server    |
 |         |&lt;--------&gt;|             |--------&gt;|            |
 +---------+  POST(p) +-------------+ PUT     +------------+
                             |   ^    POST(a)
                             |   |    DELETE
                             |   |
                         GET |   | POST(p)
                             V   |
 +---------+          +-------------+
 |         |   GET    |        User |
 |  User   |&lt;---------|        Agent|
 |  Agent  |          |Origin       |
 |         |&lt;--------&gt;|Server       |
 +---------+  POST(p) +-------------+


Conclusion
----------

This article looks at categorizing the use of HTTP methods
in relation to the level of trust between the user agent and 
the origin server. 

It suggests that GET/PUT/DELETE/POST(a) methods should only be 
used where there is a high level of trust between the user
agent and the origin server. Where there is not a sufficient
level of trust only the GET/POST(p) methods should be used.

It further suggests that these access models can be mapped
onto a three tier architecture. Untrusted access methods are 
appropriate to use between the Presentation Layer and Business 
Logic. Trusted access methods are appropriate to use between 
the Business Logic and Data Services. Untrusted access methods
are also appropriate to use between independent units of Business 
Logic.

Finally, I contend that trusted access to web resources using 
GET/PUT/DELETE/POST(a) and untrusted access using 
GET/POST(p) are two sides of the same coin and that one
is certainly NOT better or more RESTful than the other.


Donald Strong.

&lt;/pre&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4922<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-03-01 12:25:21<br>
Subject:hughw on service discovery and why you don't need WSDL<br>
Message:<br><br>
<pre>http://hughw.blogspot.com/2005/02/when-you-sit-down-to-write-description.html

"When you sit down to write a description language for REST services
(a IDL or WSDL for REST), you discover that doing so is unnecessary.
"Hypermedia as the engine of application state" means that the service,
not the client, constructs the URLs the client needs to invoke via GET,
POST, etc. The heart of an IDL or WSDL is that they are instructions for
clients invoking the service."

Hugh Gets It, and now, so do I. Fabulous post.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4923<br>
Sender:"Tracy S. Ruggles" &lt;tracer@...&gt;<br>
Post Date/Time:2005-03-01 05:39:42<br>
Subject:context-dependent entities...<br>
Message:<br><br>
<pre>
I'm exploring the idea of RESTful websites/services and have a question 
about resources and how to represent the aspects of a resource given a 
certain context (or perspective).  A "person" resource could have 
various pieces of information with some pieces being being more 
important than others depending on the context.

A person is at the same time an employee (maybe of multiple 
organizations), a family member, an individual, an author, etc.  Each 
one of these aspects of the person would certainly emphasize different 
attributes.  For example,
	/person/35 -- could be a general overview of the person whose id in 
the system is 35
	/organization/2/employee/2 -- could be a description of what the 
person does at company 2
	/organization/97/employee/430 -- same person, but at the other company
	/family/7/member/3 -- could be how they fit into family #7
	/author/120 -- could be the same person, but related to their 
activities as an author
	/person/35/as_author_of/publication/3406 -- same as above?
	/person/35/as_employee_of/organization/2
	/person/35/as_family_member_of/family/7 -- redundant information URI's

Is this a crazy way to think about designing a set of URI's that 
describe a set of entities and having different bits of information 
depending on the context you're coming from?

Thanks,
Tracy





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4924<br>
Sender:"leighdodds2001" &lt;ldodds@...&gt;<br>
Post Date/Time:2005-03-01 13:21:21<br>
Subject:Re: hughw on service discovery and why you don't need WSDL<br>
Message:<br><br>
<pre>
--- In rest-discuss@yahoogroups.com, "Vincent D Murphy" &lt;vdm@v...&gt;
wrote:
&gt;
http://hughw.blogspot.com/2005/02/when-you-sit-dow
n-to-write-description.html
&gt; 
&gt; "When you sit down to write a description language for REST services
&gt; (a IDL or WSDL for REST), you discover that doing so is unnecessary.

I find that a little misleading, and no doubt it comes down to
terminology, as Mark seems to agree with that posting also [1].

While there's no _service_ description language, the posting 
does suggest there is a need for a _form_ description language. 
Which I agree with. Care needs to be taken when saying a 
"description language is unnecessary" as you need to identify 
what kind of language you're referring to. E.g. when I wrote 
this [2] I think I was mostly discussing a form description 
language. Or maybe not...

Would anyone care to suggest a concrete definitions for "form
description" and "service description"?

It's just that I can imagine taking a bunch of RDF Form data, and 
then using that to identify a service that returns data in a format 
I'm interested in. Is that not "service description"?

Not that I'm disagreeing with anything, just trying to home in 
on the differences.

Cheers,

L.

[1].
http://www.markbaker.ca/2002/09/Blog/2005/03/01#de
liciousdistobj.hughw__REST_and...uages
[2]. http://www.ldodds.com/blog/archives/000190.html




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4925<br>
Sender:Sandeep Shetty &lt;sandeep.shetty@...&gt;<br>
Post Date/Time:2005-03-01 13:37:24<br>
Subject:Re: [rest-discuss] Categorising usage of HTTP methods - a matter of trust.<br>
Message:<br><br>
<pre>Hey Donald,


On Tue, 1 Mar 2005 16:51:13 +1100, Donald Strong
&lt;dstrong@...&gt; wrote:
&gt; The hypothesis I put forward here is that:
&gt; 
&gt;     Whether it is appropriate to use GET/PUT/DELETE/POST(a)
&gt;     rather than GET/POST(p) is a matter of the level of trust
&gt;     between the user agent and the origin server.
&gt; 
&gt; Put another way, you can only expose the resources on an
&gt; origin server through GET/PUT/DELETE/POST(a) if the origin
&gt; server has complete trust in the user agent. In any other
&gt; circumstances you must limit the communication to
&gt; GET/POST(p).

I came to a similar conclusion a while back but I have since changed
my mind. I do not believe that is the case although it might seem like
it is given the current state of the web infrastructure built around
REST.

&gt; PUT is analogous to a write of the entity body to the
&gt; resource URI. A high level of trust is required that the
&gt; user agent will not unintentionally or maliciously
&gt; corrupt the resource that is being replaced. The resource
&gt; cannot be amended or extended by a PUT, it must be replaced.
&gt; This places a greater burden on the user agent to understand
&gt; the internal state of the resource and to maintain its
&gt; consistency within itself and in relation to the resources
&gt; that surround it.

The client deals with a representation and not a resource and it has
to know nothing about a resource other than what the representation
conveys.

I'll have to leave it at that for now as I'm in a hurry. Will get back
to you tomorrow...

Sandeep Shetty

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4926<br>
Sender:"m_covas" &lt;miguel.covas@...&gt;<br>
Post Date/Time:2005-03-01 13:46:32<br>
Subject:Re: Computation and PUT vs GET<br>
Message:<br><br>
<pre>

I think that you should consider the pricing as a subordinate
resource of a trade.

First, you POST a new trade under
&lt;some_prefix&gt;/trades
by sending some document which contains the relevant data for the
trade. You get an ID
Then you issue a GET (With perhaps some restrictions in the query
string) to
&lt;some_prefix&gt;/trades/&lt;ID&gt;/pricing
and get a document which describes the trade and its pricing.

You can further issue a PUT to
&lt;some_prefix&gt;/trades/&lt;ID&gt;/status
(So you can avoid sending the full trade description)
to activate the trade, i.e. send it to some electronic market or
whatever...

M. Covas








</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4927<br>
Sender:"Jeffrey Winter" &lt;JeffreyWinter@...&gt;<br>
Post Date/Time:2005-03-01 15:09:07<br>
Subject:Yahoo goes with REST<br>
Message:<br><br>
<pre>
http://developer.yahoo.net/faq/#rest
 
http://developer.yahoo.net/documentation/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4928<br>
Sender:"Tracy S. Ruggles" &lt;tracer@...&gt;<br>
Post Date/Time:2005-03-01 18:05:11<br>
Subject:Re: [rest-discuss] context-dependent entities...<br>
Message:<br><br>
<pre>On Feb 28, 2005, at 11:39 PM, Tracy S. Ruggles wrote:

&gt; 	/person/35/as_author_of/publication/3406 -- same as above?
&gt; 	/person/35/as_employee_of/organization/2
&gt; 	/person/35/as_family_member_of/family/7 -- redundant information URI's

Perhaps, also:

	/person/35/context?asAuthorOf=publication
	/person/35/context?asEmployeeOf=organization
	/person/35/context?asMemberOf=family

It seems clearer to flatten all of the entities/resources in the domain 
to a top-level name in uri, and then use modifiers in the url and 
queries to those modifiers to explore the various contexts those 
entities may be involved in.

Any opinions/thoughts?

--Tracy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4929<br>
Sender:"MB" &lt;distobj@...&gt;<br>
Post Date/Time:2005-03-01 19:17:39<br>
Subject:REST services at WWW2005 DevDay?<br>
Message:<br><br>
<pre>
[Grr, I can't seem to post directly to this list anymore.  Trying the
Web interface ...]

It'd be great to see some REST-centric proposals, hint hint...

====

Call for Participation
Developers' Day
World Wide Web Conference 2005
Feb 28, 2005

Developer's Day at WWW2005 promises to be the most exciting yet.  We
have arranged a keynote talk by Makoto Murata and two special all day
sessions for those interested in dynamic Web Design.   However, to make
the day even more exciting, we are soliciting ideas for topics and
presentations.   In particular, we are requesting proposals for
individual presentations or, preferably, multi-talk tracks.  It is
expected that four or five parallel sessions will be offered, with
presentations in each focusing on tools and techniques for the World
Wide Web.  Preferred tracks and presentations will be of interest to a
wide range of participants working on Web-related development.

Potential topics and tracks may be for a particular area of Web
development -- Web Services, Semantic Web, RDF or XML tools, etc. -- or
for cross-cutting topics that may be of interest to those in multiple
areas -- forms, compound document and multimedia integration, so-called
"rich web apps" making innovative use of Javascript, new developments in
search tools, best and/or advanced practices in Web application
development, etc.

Submissions should be in the form of an abstract of no more than 500
words for an individual presentation.  For multiple-presentations or
tracks, please be sure to indicate the approximate length and how many
presentations, and include up to a 1/2 page on each planned
presentation.

Submissions will be accepted on a rolling basis with a final deadline
of March 25 2005.

The Developer Day 2005 home page is; http://www2005.org/dday/
Submissions should be sent to chair_dev@...




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4930<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-03-01 20:28:26<br>
Subject:Re: [rest-discuss] context-dependent entities...<br>
Message:<br><br>
<pre>On Tue, 1 Mar 2005, Tracy S. Ruggles wrote:
&gt; It seems clearer to flatten all of the entities/resources in the domain
&gt; to a top-level name in uri, and then use modifiers in the url and
&gt; queries to those modifiers to explore the various contexts those
&gt; entities may be involved in.
&gt; 
&gt; Any opinions/thoughts?

When I was working on the same issue last year, I noticed that domain 
names tend to be like foobar.com rather than foo.bar.com or foo-bar.com. 
What I took from that is that users prefer http://example.com/foobar to 
http://example.com/foo/bar -- the flattest hierarchy possible.

On Webjay.org, the way this works out in practice is that the hierarchy is 
never deeper than three levels.   It's almost always:
http://webjay.org/someglobalentity/user/playlist

e.g.
http://webjay.org/by/vate/downtempo
http://webjay.org/related/vate/downtempo
http://webjay.org/chooser/vate/downtempo

- Lucas Gonze


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4931<br>
Sender:"thompsonbry" &lt;thompsonbry@...&gt;<br>
Post Date/Time:2005-03-02 14:10:47<br>
Subject:Self-describing identifiers - URLs, URNs, UUIDs?<br>
Message:<br><br>
<pre>
Hello,

I am curious whether folks would consider "self-describing" a
distinguishing characteristic that would place an ordering on

   URLs &gt; URNs &gt; UUIDs

For example, a URL encodes the protocol and the host.  URNs have
some constraints, and some systems of disclosure.  On the other
hand, UUIDs are pure number.

Thanks,

-bryan




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4932<br>
Sender:"MB" &lt;distobj@...&gt;<br>
Post Date/Time:2005-03-02 21:10:39<br>
Subject:Re: SHARE and WSDL 2.0 -- Then REST and WS-Transfer<br>
Message:<br><br>
<pre>
--- In rest-discuss@yahoogroups.com, "Logan, Patrick D" 
&gt; Is there a reference outside of the WSDL 2.0 spec itself that boils down
&gt; how to use WSDL 2.0 and SOAP to specify just a REST-ful interface?

Speak of the devil ...

http://www.pacificspirit.com/blog/2005/03/02/yahoo_search_web_service_in_wsdl_20

Mark.




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4933<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-03-03 14:33:16<br>
Subject:Re: [rest-discuss] Self-describing identifiers - URLs, URNs, UUIDs?<br>
Message:<br><br>
<pre>On Wed, 2005-03-02 at 09:10, thompsonbry wrote:

&gt; I am curious whether folks would consider "self-describing" a
&gt; distinguishing characteristic that would place an ordering on
&gt; 
&gt;    URLs &gt; URNs &gt; UUIDs
&gt; 
&gt; For example, a URL encodes the protocol and the host.  URNs have
&gt; some constraints, and some systems of disclosure.  On the other
&gt; hand, UUIDs are pure number.

In short: yes. :)

There's a lot more value in URIs which have well-defined resolution
procedures ... schemes that defines how to obtain a representation of
the thing being identified.  Having that resolution procedure
well-distributed in code is even better. :)

Then it becomes a comparison of the protocols for doing resolution...
it's nice if the protocol has provisions for working around common
distributed-system problems like temporary/permanent in-availability,
redirection of resources, cache-control, proxying, &amp;c.

There are definately circumstances where encoding the network-location
of a resource into an identifier is not desirable, and thus we have
things like DOI.  Indirection via a service like http://purl.org/ can
help mitigate some of the issues associated with encoding location into
the identifier.

Still, sometimes location-independent schemes are a better idea.  One
sucky thing is that all the data-providers then need to know to
"re-address" identifiers they output in terms of the specific
indirection-service, which then needs to be redirected, &amp;c.  Depending
on how transparent the network protocol is, a proxy can do this
transformation, but that may be overkill for a particular system.  It
may also be more convenient for the system to internally store and use
the loc-indep. ident.

...jsled

-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4934<br>
Sender:"Roger L. Costello" &lt;costello@...&gt;<br>
Post Date/Time:2005-03-08 18:33:52<br>
Subject:The REST approach to POST?<br>
Message:<br><br>
<pre>Hi Folks,
 
Suppose that I create a REST-based web service.  Specifically, my web
service "accepts" resources (its job is to collect information). Thus, a
client POSTs a resource to my web service.  How would a client know what
resource format my web service will accept?
 
Note that I am concerned here with Machine-to-Machine processing (not
Human-to-Machine processing).  Let's suppose that my web service accepts
resources in the form of XML documents.  

Client --------------&gt; Web Service
           POST
         XML-payload
 
How would a client Machine know the format of the XML document that should
be sent to my web service?  

Client: "what do I sent to the web service???"

Must the client Machine be preprogrammed to know the correct format?
(Clearly, this is not extensible.)  Is there a RESTful way for clients to
dynamically discover the correct format?  /Roger




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4935<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2005-03-08 18:56:24<br>
Subject:RE: [rest-discuss] The REST approach to POST?<br>
Message:<br><br>
<pre>

&gt; Suppose that I create a REST-based web service.  Specifically, my web
&gt; service "accepts" resources (its job is to collect information). Thus, a
&gt; client POSTs a resource to my web service.  How would a client know what
&gt; resource format my web service will accept?
&gt; 


&gt; Note that I am concerned here with Machine-to-Machine processing (not
&gt; Human-to-Machine processing).  Let's suppose that my web service accepts
&gt; resources in the form of XML documents.
&gt; 
&gt; Client --------------&gt; Web Service
&gt;            POST
&gt;          XML-payload
&gt; 
&gt; How would a client Machine know the format of the XML document that should
&gt; be sent to my web service?
&gt; 
&gt; Client: "what do I sent to the web service???"
&gt; 
&gt; Must the client Machine be preprogrammed to know the correct format?
&gt; (Clearly, this is not extensible.)  Is there a RESTful way for clients to
&gt; dynamically discover the correct format?  /Roger
&gt; 

[hvw] By analogy to web browsers and HTML: In the human-to-machine case,
nobody ever POSTS out of thin air. You POST based on information you
previously received in an HTML form. Mark Baker proposed RDF Forms
http://www.markbaker.ca/2003/05/RDF-Forms/ and that is one way you could
promote similar discovery in machine-to-machine processing. The RDF form
tells the invoker the media type(s) to POST.

Hugh







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4936<br>
Sender:Roy T. Fielding &lt;fielding@...&gt;<br>
Post Date/Time:2005-03-08 21:06:33<br>
Subject:Re: [rest-discuss] The REST approach to POST?<br>
Message:<br><br>
<pre>&gt;&gt; Must the client Machine be preprogrammed to know the correct format?
&gt;&gt; (Clearly, this is not extensible.)  Is there a RESTful way for 
&gt;&gt; clients to
&gt;&gt; dynamically discover the correct format?  /Roger
&gt;
&gt; [hvw] By analogy to web browsers and HTML: In the human-to-machine 
&gt; case,
&gt; nobody ever POSTS out of thin air. You POST based on information you
&gt; previously received in an HTML form. Mark Baker proposed RDF Forms
&gt; http://www.markbaker.ca/2003/05/RDF-Forms/ and that is one way you 
&gt; could
&gt; promote similar discovery in machine-to-machine processing. The RDF 
&gt; form
&gt; tells the invoker the media type(s) to POST.

Exactly.  The same mechanism that tells the client what URI to use
is going to define either a specific media type to use in the POST
or a range of media types based on whatever application is defined
by that mechanism.  Usually, that mechanism is described within the
client's current application state in the forms of a prior media
type (hypertext), but it could also be defined externally via an IDL
or even a command-line interface.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4937<br>
Sender:Joe Gregorio &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2005-03-08 20:10:31<br>
Subject:Re: [rest-discuss] The REST approach to POST?<br>
Message:<br><br>
<pre>On Tue, 8 Mar 2005 13:33:52 -0500, Roger L. Costello &lt;costello@...&gt; wrote:
&gt; 
&gt; Hi Folks,
&gt; 
&gt; Suppose that I create a REST-based web service.  Specifically, my web
&gt; service "accepts" resources (its job is to collect information). Thus, a
&gt; client POSTs a resource to my web service.  How would a client know what
&gt; resource format my web service will accept?
&gt; 
&gt; Note that I am concerned here with Machine-to-Machine processing (not
&gt; Human-to-Machine processing).  Let's suppose that my web service accepts
&gt; resources in the form of XML documents.
&gt; 
&gt; Client --------------&gt; Web Service
&gt;            POST
&gt;          XML-payload
&gt; 
&gt; How would a client Machine know the format of the XML document that should
&gt; be sent to my web service?
&gt; 
&gt; Client: "what do I sent to the web service???"
&gt; 
&gt; Must the client Machine be preprogrammed to know the correct format?
&gt; (Clearly, this is not extensible.)  Is there a RESTful way for clients to
&gt; dynamically discover the correct format?  /Roger

"REST is defined by four interface constraints: identification of resources; 
  manipulation of resources through representations; self-descriptive
  messages; and, hypermedia as the engine of application state."

It's the last one that really applies in this case, that hypermedia
is the engine of application state. Your client, through hypermedia,
gets to a state where it is going to POST some data. The URI of 
where to POST the data is contained in, or derived from, the hypertext.
In addition, the type of data to POST should come from the same 
place.

For example, HTML Forms have the 'enctype' attribute, in addition
to the 'action' attribute.

[1]http://www.w3.org/TR/REC-html40/interact/forms.html#adef-enctype

    -joe

-- 
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4938<br>
Sender:"Donald Strong" &lt;dstrong@...&gt;<br>
Post Date/Time:2005-03-09 02:44:52<br>
Subject:RE: [rest-discuss] The REST approach to POST?<br>
Message:<br><br>
<pre>
"REST is defined by four interface constraints: identification of resources;
  manipulation of resources through representations; self-descriptive
  messages; and, hypermedia as the engine of application state."

Where does the quote come from, Joe?

I have been looking for a simple succinct definition of REST and this one
is excellent. I could not find it in a quick scan of Roy's Thesis.

Thanks,
Donald.




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4939<br>
Sender:Joe Gregorio &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2005-03-09 02:58:20<br>
Subject:Re: [rest-discuss] The REST approach to POST?<br>
Message:<br><br>
<pre>On Wed, 9 Mar 2005 13:44:52 +1100, Donald Strong
&lt;dstrong@...&gt; wrote:
&gt; 
&gt; "REST is defined by four interface constraints: identification of resources;
&gt;   manipulation of resources through representations; self-descriptive
&gt;   messages; and, hypermedia as the engine of application state."
&gt; 
&gt; Where does the quote come from, Joe?
&gt; 
&gt; I have been looking for a simple succinct definition of REST and this one
&gt; is excellent. I could not find it in a quick scan of Roy's Thesis.

It is the last paragraph of Section 5.1.5 in Roy's Thesis:

http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_5

   -joe

-- 
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4940<br>
Sender:Dave Pawson &lt;davep@...&gt;<br>
Post Date/Time:2005-03-09 17:34:31<br>
Subject:Re: [rest-discuss] The REST approach to POST?<br>
Message:<br><br>
<pre>On Tue, 2005-03-08 at 21:58 -0500, Joe Gregorio wrote:

&gt; It is the last paragraph of Section 5.1.5 in Roy's Thesis:
&gt; 
&gt; http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_5


I wish there were a version of Roys thesis not written to get a PhD.
I.e. written for simple folks....
  No hints Roy ....but it would be nice.
  (Assuming it has now served that purpose)

regards DaveP



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4941<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2005-03-14 14:38:27<br>
Subject:URIs and 'pagination'<br>
Message:<br><br>
<pre>
I was wondering how one should construct a URI for a web page that 
provides a 'paginated' view onto some data. Typically I would pass a 
query string, such as this:

http://localhost/my-app/my-page?page=1&amp;pagesize=10&amp;sortcolumn=1&amp;desc=1

I understand the problem of the atomicity of each 'page' of data (as 
additional items might arrive in the dataset while the user is viewing 
each page, something I could address with a 'version' in the URI if I 
felt it was necessary, however that is not presently my concern).

Is the query string the correct place for these types of parameters? (I 
kind of have the impression that I'm supposed to be avoiding parameters 
altogether, but I'm not sure how to easily do that, especially when my 
request contains more than a strict 'hierarchy', being somewhat 
'multidimensional').

Should I flatten out my URI to something like this:

http://localhost/my-app/my-page/1-10-1-1/

Thus allowing for variations such as:

http://localhost/my-app/my-page/1-10-1-1/pdf/
(a PDF representation of 'my-page' for the first 10 items, ordered by 
column 1 descending)

http://localhost/my-app/my-page/1-10-1-1/html-3.2/
(a HTML 3.2 representation of 'my-page' for the first 10 items, ordered 
by column 1 descending)

http://localhost/my-app/my-page/1-10-1-1/html-4.01/green/
(a HTML 4.01 representation of 'my-page' with a 'green' theme for the 
first 10 items, ordered by column 1 descending)

etc..

As the 'sub-hierarchies' are not strictly subordinates of their parent, 
is is poor design to represent a request for such a representation in 
the path?

If the answer is that I should use the query to request pagination, 
format, or style, then why wouldn't I create URIs like this:

http://localhost/server?application=my-app&amp;resource=my-page&amp;page-options=1-10-1-1&amp;format=html-4.01&amp;style=green

Can anyone offer guidance on when I should prefer the 'path' section of 
a URI over the 'query' section? Is there any material I should read on 
this topic?

At what point does a 'resource identifier' stop being a 'path' and start 
being a 'query'..?

John.




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4942<br>
Sender:Ron phillips &lt;tiltbike@...&gt;<br>
Post Date/Time:2005-03-15 16:51:19<br>
Subject:URIs and 'pagination'<br>
Message:<br><br>
<pre>
From: John Elliot &lt;jj5@...&gt;

&lt;snip&gt; 
 

 At what point does a 'resource identifier' stop
 being a 'path' and start 
 being a 'query'..?
 
John
&lt;/snip&gt; 

Sorry, I am a noob, so can't offer advice -- but of
course I have an opinion! It looks to me like a
resource identifier path is equivalent to the 'model'
in an MVC architecture. I think the 'view' or
'controller' settings should go in the query. 

But what do I know? I only answered to keep the thread
going, and see what reaction I provoked, not because I
have any expertise.

Ron


		
__________________________________ 
Do you Yahoo!? 
Yahoo! Small Business - Try our new resources site!
http://smallbusiness.yahoo.com/resources/ 




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4943<br>
Sender:John Elliot &lt;jj5@...&gt;<br>
Post Date/Time:2005-03-15 17:47:58<br>
Subject:Re: [rest-discuss] URIs and 'pagination'<br>
Message:<br><br>
<pre>Ron phillips wrote:

 &gt; Sorry, I am a noob, so can't offer advice -- but of
 &gt; course I have an opinion! It looks to me like a
 &gt; resource identifier path is equivalent to the 'model'
 &gt; in an MVC architecture. I think the 'view' or
 &gt; 'controller' settings should go in the query.


I like the analogy.

However, wouldn't it be more appropriate to consider HTTP (and its 
verbs) as the 'controller'..?

The MVC model doesn't really answer the question though.. because it's 
not immediately clear if 'pagination' would be a function of the Model 
(after all, 'page number' and 'page size' modify the actual dataset, 
while 'sort column' and 'sort order' merely modify the presentation of 
the dataset) or the View. My gut feeling is that I'd lump pagination in 
the Model, therefore the URI, per your analogy. However, 'presentation 
tier' things, like style, or document format, are clearly View 
features.. so would this be the preferred URI:

http://localhost/my-app/my-page/1-10-1-1/?format=html-4.01&amp;style=green

Or perhaps this would be better (it's a proper hierarchy in the path)

http://localhost/my-app/my-page/10/1/?sort-column=1&amp;sort-order=desc&amp;format=html-4.01&amp;style=green
(/10 requests a restriction on the number of items per page, and /1 
represents the page number to return. It seems natural to have the 
page-size first in this case, as the omission of a page number from the 
URI would allow the 'default page', i.e. page one, to be returned.)

As an aside, I think I'm beginning to form the opinion that the 'MVC' 
pattern is not an 'application wide' pattern... it seems to pop up 
inside various 'layers'.

 &gt; But what do I know? I only answered to keep the thread
 &gt; going, and see what reaction I provoked, not because I
 &gt; have any expertise.


Thanks. Hopefully we'll get a few more opinions! :)

John.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4944<br>
Sender:Elias Sinderson &lt;elias@...&gt;<br>
Post Date/Time:2005-03-15 17:53:57<br>
Subject:Re: [rest-discuss] URIs and 'pagination'<br>
Message:<br><br>
<pre>Original email bounced so I'm resending - sorry about any formatting 
issues...


Elias Sinderson wrote:

&gt; Ron phillips wrote:
&gt;
&gt;&gt; From: John Elliot &lt;jj5@...&gt;
&gt;&gt; &lt;snip&gt;
&gt;&gt; At what point does a 'resource identifier' stop being a 'path' and 
&gt;&gt; start  being a 'query'..?
&gt;&gt; &lt;/snip&gt;
&gt;
&gt;
&gt; Technically speaking, this would be where the '?' is located in the 
&gt; URL of a resource... but, from the context of your original post, this 
&gt; may not be what you were wanting to ask...
&gt;
&gt;&gt; It looks to me like a resource identifier path is equivalent to the 
&gt;&gt; 'model' in an MVC architecture. I think the 'view' or 'controller' 
&gt;&gt; settings should go in the query.
&gt;
&gt;
&gt; This is an interesting comparison, but note that it isn't isomorphic, 
&gt; as the MVC model has no concept of things like connectors, proxies, 
&gt; caches, etc. Nevertheless, a rough comparison is possible. I would 
&gt; tend to think that the HTTP methods take the place of the controller 
&gt; interface, while the various HTTP headers specify the view or, more 
&gt; appropriately, representation that the client then provides the view 
&gt; for. This is conflated, somewhat, by the use of query parameters to 
&gt; identify resources, however query parameters and path segments are 
&gt; largely interchangeable and, hence, this issue can be disregarded. 
&gt; There is clearly a tension in performaing this sort of analysis 
&gt; between pure REST and the current application engineering practices 
&gt; employed on the web. ...
&gt;
&gt;&gt; But what do I know? I only answered to keep the thread going [...]
&gt;
&gt;
&gt; and thanks for that!  :-)
&gt;
&gt;
&gt; Cheers,
&gt; Elias
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4945<br>
Sender:"Ron" &lt;tiltbike@...&gt;<br>
Post Date/Time:2005-03-15 19:56:46<br>
Subject:Re: URIs and 'pagination'<br>
Message:<br><br>
<pre>
&lt;apology&gt;I kept sending this response to individuals instead of to the
group. Now that I see it, I will try to send to the group in the
future. &lt;/apology&gt;

I guess any return from our http that reflects the state of the
resource is a Representation, so that makes it equivalent to a 'View',
kinda. I guess I was thinking of a plain-jane xml representing, say, a
row in a data table, as a 'Model', but of course it's not. Still, I
like the idea of http verbs as methods of the model -- it's neat that
there's only 4 of them.

Of the two URI's, I prefer
http://localhost/my-app/my-page/10/1/?sort-column=
1&amp;sort-order=desc&amp;format=html-4.01&amp;style=green
because the sort-column and sort-order are 'colorings' or 'flavorings'
that can apply no matter which 'geometry' of the page is specified. 

In fact, I might go even further: consider the 'geometry' of the page
as a decoration of the data at http://localhost/my-app/my-things/ and
make it look like:

http://localhost/my-app/my-things/?pagethings=10&amp;p
ageno=1&amp;sort-column=1
&amp;sort-order=desc&amp;format=html-4.01&amp;style=green

because it makes everything just a Representation of my-things, which
are "real" (in my mind.) The first constraint in Fieldings paper is
that of "client-server" architecture, where client is concerned solely
with user interface, and server with data storage. What page a given
chunk of data shows up on seems like a UI issue.

If I failed to specify the geometry orflavorings that I want, I might
just get a "bare-bones dump" Representation of the resource at
http://localhost/my-app/my-things/ and serve me right, too.





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4946<br>
Sender:Elias Sinderson &lt;elias@...&gt;<br>
Post Date/Time:2005-03-15 20:19:10<br>
Subject:HTTP verbs   (was: URIs and 'pagination')<br>
Message:<br><br>
<pre>Ron wrote:

&gt; [...] I like the idea of http verbs as methods of the model -- it's 
&gt; neat that there's only 4 of them. [...]

Well, it's more than an idea at this point...  ;-)

It is worth noting that REST, as an architectural style, makes no 
mention of the number of methods, or verbs - it is important to 
distinguish between REST and HTTP, especially because HTTP contains 
several warts, as far as REST is concerned.

... and, of course, HTTP is clearly more than just GET+PUT+DELETE+POST 
if you look at the functionality provided by the rest of the protocol 
stack (WebDAV, etc.). ...


Cheers,
Elias

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4947<br>
Sender:"Donald Strong" &lt;dstrong@...&gt;<br>
Post Date/Time:2005-03-15 23:48:46<br>
Subject:RE: [rest-discuss] URIs and 'pagination'<br>
Message:<br><br>
<pre>Hi John,

I was waiting to see what others had to say but here is my two cents.

My previous posting covers the basics, and I reiterate that this
is only an opinion.

http://groups.yahoo.com/group/rest-discuss/message/4806

The path should identify the resource so its not so much...
   /my-app/my-page
as
   /my-app/my-thing

Now if you have more than one thing and many of them are two
large to be displayed in their entirety, perhaps because they
are potentially large lists, then you might provide a generic
way of pagenating them using standard parameters.

Consquently, I would favour your first example.

You have struck on a bit of a grey area as far as I can tell.
This falls into the category of 'any answer that gets thrown
up can have holes shot in it'.

Clearly this is a representation of a resource (pdf, html-3.2,
html-4.0) so content negotiation is appropriate for that part.
However, once you have decided on content how do you lock it
into the URI? Segment parameters perhaps? Others will have
opinions on this.

   /my-app/my-thing;content=pdf

But then there is the slicing up into pages which does not
fit into content negotiation. If you use the analogy of a query
is like asking a question of a resource then the question is
"can I see the first 10 of your items please".

   /my-app/my-thing?range=1-10

I notice that the way it is done on the rest-discuss web site
is that this refers to a single message:
   http://groups.yahoo.com/group/rest-discuss/message/4806

and this refers to several messages starting at the one given:
   http://groups.yahoo.com/group/rest-discuss/messages/4806

ant the previous list looks like this:
   http://groups.yahoo.com/group/rest-discuss/messages/4805?viscount=-30

This seems a reasonably neat and understandable way of doing it.
It defines another set of resources, each of which is a list of
messages. This effectively moves one parameter from the query side
to the path side of the URI.

There is no 'one way suits all' in this, but I hope the suggestions
above are a help.

Regards
Donald.

-----Original Message-----
From: John Elliot [mailto:jj5@...]
Sent: Tuesday, 15 March 2005 1:38 AM
To: rest-discuss@yahoogroups.com
Subject: [rest-discuss] URIs and 'pagination'




I was wondering how one should construct a URI for a web page that
provides a 'paginated' view onto some data. Typically I would pass a
query string, such as this:

http://localhost/my-app/my-page?page=1&amp;pagesize=10&amp;sortcolumn=1&amp;desc=1

I understand the problem of the atomicity of each 'page' of data (as
additional items might arrive in the dataset while the user is viewing
each page, something I could address with a 'version' in the URI if I
felt it was necessary, however that is not presently my concern).

Is the query string the correct place for these types of parameters? (I
kind of have the impression that I'm supposed to be avoiding parameters
altogether, but I'm not sure how to easily do that, especially when my
request contains more than a strict 'hierarchy', being somewhat
'multidimensional').

Should I flatten out my URI to something like this:

http://localhost/my-app/my-page/1-10-1-1/

Thus allowing for variations such as:

http://localhost/my-app/my-page/1-10-1-1/pdf/
(a PDF representation of 'my-page' for the first 10 items, ordered by
column 1 descending)

http://localhost/my-app/my-page/1-10-1-1/html-3.2/
(a HTML 3.2 representation of 'my-page' for the first 10 items, ordered
by column 1 descending)

http://localhost/my-app/my-page/1-10-1-1/html-4.01/green/
(a HTML 4.01 representation of 'my-page' with a 'green' theme for the
first 10 items, ordered by column 1 descending)

etc..

As the 'sub-hierarchies' are not strictly subordinates of their parent,
is is poor design to represent a request for such a representation in
the path?

If the answer is that I should use the query to request pagination,
format, or style, then why wouldn't I create URIs like this:

http://localhost/server?application=my-app&amp;resource=my-page&amp;page-options=1-1
0-1-1&amp;format=html-4.01&amp;style=green

Can anyone offer guidance on when I should prefer the 'path' section of
a URI over the 'query' section? Is there any material I should read on
this topic?

At what point does a 'resource identifier' stop being a 'path' and start
being a 'query'..?

John.






Yahoo! Groups Links







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4948<br>
Sender:"Ron" &lt;tiltbike@...&gt;<br>
Post Date/Time:2005-03-16 00:19:17<br>
Subject:Re: HTTP verbs   (was: URIs and 'pagination')<br>
Message:<br><br>
<pre>
&gt; ... and, of course, HTTP is clearly more than just
GET+PUT+DELETE+POST 
&gt; if you look at the functionality provided by the rest of the
protocol 
&gt; stack (WebDAV, etc.). ...
&gt; 
&gt; 
&gt; Cheers,
&gt; Elias

Oops! You're right, of course. Uhhh -- Thanks! I needed that! :-P 

Really, I'll be interested to see how this discussion plays out in
practice. I'll be doing something similar in the app I'm working on
right now -- my first using REST. I'll have lots of fairly small
"my-things," so I'll probably have to break them into sets that don't
have any meaning except the convenience of the UI.

Never even thought about the situation Donald mentions where you have
some largish my-thing that needs to be broken into logical bits -- 
I'll cross that horse of a different color when I get to it.

Ron




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4949<br>
Sender:Elias Sinderson &lt;elias@...&gt;<br>
Post Date/Time:2005-03-16 01:32:30<br>
Subject:Re: [rest-discuss] URIs and 'pagination'<br>
Message:<br><br>
<pre>Donald Strong wrote:

&gt;[...] Now if you have more than one thing and many of them are two large to be displayed in their entirety, perhaps because they are potentially large lists, then you might provide a generic way of pagenating them using standard parameters.
&gt;  
&gt;
There is a generic mechanism specified for HTTP/1.1 in the form of 
various request / response headers. Specifically, I refer to the 
Accept-Ranges, Content-Range, If-Range and Range headers. I responded as 
much to John off list but hadn't the time to reference the spec for a 
definitive answer. There are  some difficulties in that clients and 
servers aren't required to support these features, however all of the 
issues I've considered can be addressed with redirects, proxies, etc.

&gt;[...] once you have decided on content how do you lock it into the URI? Segment parameters perhaps? Others will have
&gt;opinions on this.
&gt;   /my-app/my-thing;content=pdf
&gt;  
&gt;
My preference is to *not* encode content type in the URI at all. Again, 
HTTP provides several Accept headers for this purpose and, also again, 
there are some difficulties associated with this approach due to the 
fractured implementation landscape that one can work around if there is 
a desire to be 'pure' about it.

&gt;But then there is the slicing up into pages which does not fit into content negotiation. If you use the analogy of a query is like asking a question of a resource then the question is "can I see the first 10 of your items please".
&gt;   /my-app/my-thing?range=1-10
&gt;  
&gt;
I mentioned the various Range headers above, and I should not that 
HTTP/1.1 only specifies *byte* ranges, although the mechanism is 
extensible and pagination seem like a reasonable addition - at least for 
*some* applications.

&gt;I notice that the way it is done on the rest-discuss web site is [...] This seems a reasonably neat and understandable way of doing it. It defines another set of resources, each of which is a list of messages. This effectively moves one parameter from the query side to the path side of the URI.
&gt;There is no 'one way suits all' in this, but I hope the suggestions above are a help.
&gt;
In the context of pagination, this approach requires storing each page 
as a separate resource, analogous to the way email messages are 
represented in the example. This may be a reasonable approach, depending 
on the application, but potentially leads to other content and version 
management issues. ... I agree that there is no one solution as Donald 
mentions, but will vary by the application and, to a lesser extent, the 
feature sets supported by the client(s) and server(s).


Cheers,
Elias

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4950<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-03-16 06:23:44<br>
Subject:Re: [rest-discuss] URIs and 'pagination'<br>
Message:<br><br>
<pre>&gt;
&gt; Now if you have more than one thing and many of them are two
&gt; large to be displayed in their entirety, perhaps because they
&gt; are potentially large lists, then you might provide a generic
&gt; way of pagenating them using standard parameters.
It's probably better to use a reference to the other pagination blocs via
links within the content of a representation - hypertext. Rather than
standardizing on the format of a URL,you only need to standardize on where
the 'next' and 'prev' link can be found. You can also get more sophisticated
than just 'next' and 'prev'.

But if you really want to have a grammar to generate URIs, you may want to
look at http://opensearch.a9.com/spec/opensearchquerysyntax/1.0/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4951<br>
Sender:"Donald Strong" &lt;dstrong@...&gt;<br>
Post Date/Time:2005-03-16 07:01:37<br>
Subject:RE: [rest-discuss] URIs and 'pagination'<br>
Message:<br><br>
<pre>I don't think Range headers are up to the job, Elias.

From my reading of the spec they work at the transfer layer (HTTP)
for retrieving parts of representations that were only partly downloaded.

I also think it would be inappropriate to extend the Range headers
to include page information because then the URI would mean different
things depending upon the Range headers.

Sometimes that is appropriate, for example when the representation differs
depending upon authorization credentials, but in this case I think it would
be inappropriate. For one thing it would be impossible to bookmark the page.

I have often wondered what Range headers could be used for at the
application level. The only practical use I can think of is to get the
tail of a resource that is constantly being extended. Kind of a
'tail -f' over the internet.

Regards
Donald.


-----Original Message-----
From: Elias Sinderson [mailto:elias@...]
Sent: Wednesday, 16 March 2005 12:33 PM
To: Donald Strong
Cc: John Elliot; rest-discuss@yahoogroups.com
Subject: Re: [rest-discuss] URIs and 'pagination'


Donald Strong wrote:

&gt;[...] Now if you have more than one thing and many of them are two large to
be displayed in their entirety, perhaps because they are potentially large
lists, then you might provide a generic way of pagenating them using
standard parameters.
&gt;
&gt;
There is a generic mechanism specified for HTTP/1.1 in the form of
various request / response headers. Specifically, I refer to the
Accept-Ranges, Content-Range, If-Range and Range headers. I responded as
much to John off list but hadn't the time to reference the spec for a
definitive answer. There are  some difficulties in that clients and
servers aren't required to support these features, however all of the
issues I've considered can be addressed with redirects, proxies, etc.

&gt;[...] once you have decided on content how do you lock it into the URI?
Segment parameters perhaps? Others will have
&gt;opinions on this.
&gt;   /my-app/my-thing;content=pdf
&gt;
&gt;
My preference is to *not* encode content type in the URI at all. Again,
HTTP provides several Accept headers for this purpose and, also again,
there are some difficulties associated with this approach due to the
fractured implementation landscape that one can work around if there is
a desire to be 'pure' about it.

&gt;But then there is the slicing up into pages which does not fit into content
negotiation. If you use the analogy of a query is like asking a question of
a resource then the question is "can I see the first 10 of your items
please".
&gt;   /my-app/my-thing?range=1-10
&gt;
&gt;
I mentioned the various Range headers above, and I should not that
HTTP/1.1 only specifies *byte* ranges, although the mechanism is
extensible and pagination seem like a reasonable addition - at least for
*some* applications.

&gt;I notice that the way it is done on the rest-discuss web site is [...] This
seems a reasonably neat and understandable way of doing it. It defines
another set of resources, each of which is a list of messages. This
effectively moves one parameter from the query side to the path side of the
URI.
&gt;There is no 'one way suits all' in this, but I hope the suggestions above
are a help.
&gt;
In the context of pagination, this approach requires storing each page
as a separate resource, analogous to the way email messages are
represented in the example. This may be a reasonable approach, depending
on the application, but potentially leads to other content and version
management issues. ... I agree that there is no one solution as Donald
mentions, but will vary by the application and, to a lesser extent, the
feature sets supported by the client(s) and server(s).


Cheers,
Elias


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4952<br>
Sender:Elias Sinderson &lt;elias@...&gt;<br>
Post Date/Time:2005-03-16 09:14:25<br>
Subject:Re: [rest-discuss] URIs and 'pagination'<br>
Message:<br><br>
<pre>Donald Strong wrote:

&gt;I don't think Range headers are up to the job, Elias. From my reading of the spec they work at the transfer layer (HTTP) for retrieving parts of representations that were only partly downloaded.
&gt;  
&gt;
Yes, byte ranges will work as you describe, however there seems to be no 
reason that other range units could not be defined in the future and the 
spec doesn't forbid this. (Here we are walking along the thin line which 
forms the very edge of HTTP-land.)

&gt;I also think it would be inappropriate to extend the Range headers to include page information because then the URI would mean different things depending upon the Range headers.
&gt;  
&gt;
I don't follow you - Consider the above satement in light of other 
accept headers such as content or language encoding. As always, the URI 
will specify the resource, regardless of the headers.

&gt;Sometimes that is appropriate, for example when the representation differs depending upon authorization credentials, but in this case I think it would be inappropriate. For one thing it would be impossible to bookmark the page.
&gt;  
&gt;
Okay, so we agree that this approach in general will be more or less 
appropriate depending on the specific application - I stated as much in 
my previous email. Yet there is nothing special about 'bookmarkability' 
which factors into this, as bookmarks are neither part of REST nor HTTP. 
... It's not that I don't appreciate the usefullness of bookmarks, but 
it is important to acknowledge that the web browser doesn't define REST 
or HTTP and is, in fact, a rather impoverished client as far as both are 
concerned. This has been discussed several times before on the list. 
Regarding bookmarkability, there is no reason that some client, an 
HTTP-based eBook reader, for example, couldn't bookmark both the URI and 
location within the resource as either a byte position or page number.

&gt;I have often wondered what Range headers could be used for at the application level. The only practical use I can think of is to get the tail of a resource that is constantly being extended. Kind of a 'tail -f' over the internet.
&gt;  
&gt;
That is a fine example, thanks. Another good set of examples / use cases 
involve clients with limited device profiles accessing large media files 
- music, video or large PDFs, perhaps, or other content types may be 
defined in the future. ... Digitized microfish may also be a reasonable 
use case, depending on how the resources are broken up, but I can 
imagine requesting a page range from a newspaper printed a hundred years 
ago and getting a multipart response back with an image in each part. In 
some cases there may be a direct correlation between byte ranges and 
page ranges depending on the application and / or media type.

That being said, there is a pragmatic aspect to the original question 
which should not be ignored but, after all, this is rest-discuss as 
opposed to, say, web-applications-circa-2005-discuss. Hopefully 
exploring the various possibilities mentioned in this thread hasn't been 
too much of a turn off for those list  members burdened with actually 
delivering functional web-based applications.  :-D


Best,
Elias

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4953<br>
Sender:Joe Gregorio &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2005-03-16 14:50:35<br>
Subject:Re: [rest-discuss] URIs and 'pagination'<br>
Message:<br><br>
<pre>On Tue, 15 Mar 2005 22:23:44 -0800, S. Mike Dierken
&lt;mdierken@...&gt; wrote:
&gt; 
&gt; &gt;
&gt; &gt; Now if you have more than one thing and many of them are two
&gt; &gt; large to be displayed in their entirety, perhaps because they
&gt; &gt; are potentially large lists, then you might provide a generic
&gt; &gt; way of pagenating them using standard parameters.
&gt; It's probably better to use a reference to the other pagination blocs via
&gt; links within the content of a representation - hypertext. Rather than
&gt; standardizing on the format of a URL,you only need to standardize on where
&gt; the 'next' and 'prev' link can be found. You can also get more sophisticated
&gt; than just 'next' and 'prev'.

+1 Hypermedia is the engine of application state. 

"REST is defined by four interface constraints: identification of
resources; manipulation of resources through representations;
self-descriptive messages; and, hypermedia as the engine of
application state."[1]

The use of 'next' links to navigate large collections of resources is
the solution we just came to concensus on for the Atom Publishing
Protocol [2].

   -joe

[1] http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_5
[2] http://www.intertwingly.net/wiki/pie/PaceSliceAndDice3

-- 
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4954<br>
Sender:"Sergio Nunes" &lt;ssn@...&gt;<br>
Post Date/Time:2005-03-17 12:27:47<br>
Subject:FYI : Lessons learned launching a web service (from Google)<br>
Message:<br><br>
<pre>

Recently posted on Google's Blog: "Lessons learned launching a web
service", links to a presentation made by Nelson Minar about the
deployment of the AdWords's WS.

Some (few) comments on REST, SOAP and XML. He highlights some
limitations found with the REST approach.

Regards,
Srgio Nunes




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4955<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2005-03-17 14:26:39<br>
Subject:RE: [rest-discuss] FYI : Lessons learned launching a web service (from Google)<br>
Message:<br><br>
<pre>
I'd like to read that; can you please post a link?

Thx,
Hugh

&gt; -----Original Message-----
&gt; From: Sergio Nunes [mailto:ssn@...]
&gt; Sent: Thursday, March 17, 2005 6:28 AM
&gt; To: rest-discuss@yahoogroups.com
&gt; Subject: [rest-discuss] FYI : Lessons learned launching a web service
&gt; (from Google)
&gt; 
&gt; 
&gt; 
&gt; 
&gt; Recently posted on Google's Blog: "Lessons learned launching a web
&gt; service", links to a presentation made by Nelson Minar about the
&gt; deployment of the AdWords's WS.
&gt; 
&gt; Some (few) comments on REST, SOAP and XML. He highlights some
&gt; limitations found with the REST approach.
&gt; 
&gt; Regards,
&gt; Srgio Nunes
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4956<br>
Sender:"Sergio Nunes" &lt;ssn@...&gt;<br>
Post Date/Time:2005-03-17 15:00:27<br>
Subject:Re: FYI : Lessons learned launching a web service (from Google)<br>
Message:<br><br>
<pre>

Sorry. I completely forgot to include the link:

Google Blog - Lessons learned launching a web service
http://www.google.com/googleblog/2005/03/lessons-learned-launching-web-service.html

Direct link to the PPT file
http://buzz.blogger.com/media/minar-etech-2005.ppt

Srgio Nunes

--- In rest-discuss@yahoogroups.com, "Hugh Winkler" &lt;hughw@h...&gt; wrote:
&gt; 
&gt; I'd like to read that; can you please post a link?
&gt; 
&gt; Thx,
&gt; Hugh
&gt; 
&gt; &gt; -----Original Message-----
&gt; &gt; From: Sergio Nunes [mailto:ssn@r...]
&gt; &gt; Sent: Thursday, March 17, 2005 6:28 AM
&gt; &gt; To: rest-discuss@yahoogroups.com
&gt; &gt; Subject: [rest-discuss] FYI : Lessons learned launching a web service
&gt; &gt; (from Google)
&gt; &gt; 
&gt; &gt; 
&gt; &gt; 
&gt; &gt; 
&gt; &gt; Recently posted on Google's Blog: "Lessons learned launching a web
&gt; &gt; service", links to a presentation made by Nelson Minar about the
&gt; &gt; deployment of the AdWords's WS.
&gt; &gt; 
&gt; &gt; Some (few) comments on REST, SOAP and XML. He highlights some
&gt; &gt; limitations found with the REST approach.
&gt; &gt; 
&gt; &gt; Regards,
&gt; &gt; Srgio Nunes
&gt; &gt; 
&gt; &gt; 
&gt; &gt; 
&gt; &gt; 
&gt; &gt; 
&gt; &gt; 
&gt; &gt; Yahoo! Groups Links
&gt; &gt; 
&gt; &gt; 
&gt; &gt; 
&gt; &gt; 
&gt; &gt; 
&gt; &gt; 
&gt; &gt;




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4957<br>
Sender:"sip_sniffa" &lt;sip_sniffa@...&gt;<br>
Post Date/Time:2005-03-21 12:38:05<br>
Subject:Update races<br>
Message:<br><br>
<pre>

I'm considering developing web services for a project in a RESTful
manner. However, I've encountered a problem for which I haven't yet
seen a tried and tested solution.

The distributed nature of web-based systems means that races may occur
when clients update specific resources. Traditionally this problem is
solved by using transactions. Server state seems to be discouraged by
those who advocate REST (though Paul Prescod introduces server state
in order to resolve the reliable POST problem:
http://www.prescod.net/reliable_http.html), so the solutions that I
have in mind (updating a mutex or a counter associated with a resource
using PUT) would attempt to incorporate this principle.

So, what techniques have already been shown to deal with client update
race problems?

Paul.







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4958<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-03-21 14:35:27<br>
Subject:Re: [rest-discuss] Update races<br>
Message:<br><br>
<pre>On Mon, Mar 21, 2005 at 12:38:05PM -0000, sip_sniffa wrote:
&gt; So, what techniques have already been shown to deal with client update
&gt; race problems?

Off the top of my head;

http://www.w3.org/1999/04/Editing/
http://www.zvon.org/tmRFC/RFC2518/Output/chapter6.html

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4959<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-03-22 05:12:11<br>
Subject:Re: [rest-discuss] Update races<br>
Message:<br><br>
<pre>
On Mon, 21 Mar 2005, sip_sniffa wrote:
&gt; I'm considering developing web services for a project in a RESTful
&gt; manner. However, I've encountered a problem for which I haven't yet
&gt; seen a tried and tested solution.
&gt; 
&gt; The distributed nature of web-based systems means that races may occur
&gt; when clients update specific resources. Traditionally this problem is
&gt; solved by using transactions. Server state seems to be discouraged by
&gt; those who advocate REST

Cross-request transactions are frowned on because they make a system much 
less scalable.  That's the wisdom behind the stateless leg of RESTful 
architecture.  Whether that matters in your application is something only 
you know.

Try to break down your interactions so that the race is impossible. 
Let's say there are two users who check out a counter, update it, and 
check it back in.  There's a race because they need to own the object 
until they check it back in, so you'd be tempted to add a transaction or 
mutex.  However, if you remodel so that they each POST to a counter 
incrementer like http://example.com/counter/incrementer, then the server 
owns the entire transaction and the problem goes away.  (I recognize how 
unelegant that example is.  :) )

As a general thing, model so that a POST is relative to whatever state is 
already on the server, and not relative to any state the user holds.

Good luck.

- Lucas


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4960<br>
Sender:"jjn1056" &lt;jjn1056@...&gt;<br>
Post Date/Time:2005-03-22 05:37:01<br>
Subject:Questions about handling longs URI lists<br>
Message:<br><br>
<pre>

I'm sure this particular question has been discussed quite a bit (a
least from my searching the archives it seems so) but I can't seem to
come up with a definitive summary of the problem and the possible
answers that people have come up with.  That question is namely what
is the best and most 'RESTful' way to deal with a URI that might
reference millions of or URIs.

From a classic REST document
(http://www.xfront.com/REST-Web-Services.html) we get:

http://www.parts-depot.com/parts

which is a URI that is supposed to contain information about what a
parts URI means.  The example GET response we are give is:

&lt;?xml version="1.0"?&gt;
&lt;p:Parts xmlns:p="http://www.parts-depot.com" 
         xmlns:xlink="http://www.w3.org/1999/xlink"&gt;
      &lt;Part id="00345"
xlink:href="http://www.parts-depot.com/parts/00345"/&gt;
      &lt;Part id="00346"
xlink:href="http://www.parts-depot.com/parts/00346"/&gt;
      &lt;Part id="00347"
xlink:href="http://www.parts-depot.com/parts/00347"/&gt;
      &lt;Part id="00348"
xlink:href="http://www.parts-depot.com/parts/00348"/&gt;
&lt;/p:Parts&gt;

This is fine for short lists of parts, but what if your company has a
large set of parts, in the order of a million or more?

Some of the workarounds I've seen included means to break down the
parts into smaller sublists that could be handled, or means to pass
range operators or search criteria into the GET.

Quite of few people seem to suggest that 'your results may vary' and
the developer should be free to develope whatever means seems
suitable.  Personally I think that if we shoul have a Best Practices
document for this problem.  Does anyone know if such a thing exists?









</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4961<br>
Sender:"jjn1056" &lt;jjn1056@...&gt;<br>
Post Date/Time:2005-03-22 05:49:07<br>
Subject:RESTfullness of WEBDAV's collections?<br>
Message:<br><br>
<pre>
There's an aweful lot of discussion about the relationship between
WEBDAV and REST.  One thing that seems to be controversial is that
WEBDAV has a notion of a collection, which is a URI that denotes a
collection of member URIs in a hierarchy.

What I am looking for is some suggestions as I try to develop a best
practices handbook for developers in my company.

From my reading of most of the REST articles, REST doesn't specify a
difference between the following URIs.

http://www.parts-depot.com/parts
http://www.parts-depot.com/parts/

This seems to me to be an ambiguity that should be at least summarized
in a Best Practices document.  Does anyone have any opinions or
examples of how they resolved this issue in their own application designs?

WEBDAV specifies that the second example URI
"http://www.parts-depot.com/parts/"  denotes a collection, which has
properties that are distinct from a member URI.  This notion alters
how a collection URI responds or interact with HTTP commands such as
GET, POST, etc.  In particular, the WEBDAV spec does not require that
a GET on a collection return a conanical list of all it's contained
member URI's.  That at least seems to violate the REST best practice
of discoverability, however it does offer a potential way to
consistantly handle the problem of when the member URI list is very
long, such as if there are millions of parts under the given example.

I appreciate peoples thoughts and comments, and I plan to make
whatever best practices documents I develop for my company available
to the community for comment.

thanks!





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4962<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-03-22 09:22:14<br>
Subject:Re: [rest-discuss] RESTfullness of WEBDAV's collections?<br>
Message:<br><br>
<pre>On Tue, 22 Mar 2005 05:49:07 -0000, "jjn1056" &lt;jjn1056@...&gt; said:
&gt; From my reading of most of the REST articles, REST doesn't specify a
&gt; difference between the following URIs.
&gt; 
&gt; http://www.parts-depot.com/parts
&gt; http://www.parts-depot.com/parts/

In practice, I use a trailing slash as in the second example because
I have found that browsers interpret relative URLs more consistently
that way. I find relative URLs very handy and succinct, and don't want
to lose their power so I constrain the URLs I generate in
representations
this way.

I will lose the trailing slash for representations where I want 'Save
As'
to work, e.g. PDF and other graphics. Embedded URLs aren't as much of an
issue here so you don't lose much by not having the trailing slash.

&gt; This seems to me to be an ambiguity that should be at least summarized
&gt; in a Best Practices document.  Does anyone have any opinions or
&gt; examples of how they resolved this issue in their own application
&gt; designs?

The idea of Best Practices, or a RESTful design (patterns) cookbook,
is a good one.

I think frameworks like Ruby on Rails, while full of anti-RESTisms
at the moment are a good example of how things should be done; with
declarative descriptions of your resources, and intelligent generation
of representations.

I'm constantly dreaming of a DSL for RESTful applications but don't
have the time to implement it.

&gt; WEBDAV specifies that the second example URI
&gt; "http://www.parts-depot.com/parts/"  denotes a collection, which has
&gt; properties that are distinct from a member URI.  This notion alters
&gt; how a collection URI responds or interact with HTTP commands such as
&gt; GET, POST, etc.  In particular, the WEBDAV spec does not require that
&gt; a GET on a collection return a conanical list of all it's contained
&gt; member URI's.  That at least seems to violate the REST best practice
&gt; of discoverability, however it does offer a potential way to
&gt; consistantly handle the problem of when the member URI list is very
&gt; long, such as if there are millions of parts under the given example.

I recall that Roy Fielding had some pretty negative things to say
about WebDAV, and in particular how it was developed, the last time
it came up on rest-discuss. I don't have time to search the archives,
sorry.

I thought it seemed likely that most of what it does (collections,
transactions) can be done by treating the collections and transactions
as Just Another Resource. Especially properties... I just don't see
why they aren't subordinate resources.

The attraction of WebDAV for me has been the client support in Adobe
and Microsoft products. So for example, in a REST/HTTP mailbox resource
one could offer access to attachments through a 'Web Folder'. I'm not
so interested in the other features that aren't supported anywhere.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4963<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-03-22 09:27:39<br>
Subject:Re: [rest-discuss] Questions about handling longs URI lists<br>
Message:<br><br>
<pre>On Tue, 22 Mar 2005 05:37:01 -0000, "jjn1056" &lt;jjn1056@...&gt; said:
&gt; This is fine for short lists of parts, but what if your company has a
&gt; large set of parts, in the order of a million or more?

No definitive answers here, just some comments.

The repeated XML text is so similar in your example that I think it
would compress, e.g. with gzip, very well. This is quite well supported
supported by HTTP infrastructure.

&gt; Personally I think that if we shoul have a Best Practices
&gt; document for this problem.  Does anyone know if such a thing exists?

The wiki is the closest thing I know of.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4964<br>
Sender:Joe Gregorio &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2005-03-22 13:34:45<br>
Subject:Re: [rest-discuss] Questions about handling longs URI lists<br>
Message:<br><br>
<pre>The Atom WG recently came to concensus on a mechanism
for handling navigating collections:

  http://www.intertwingly.net/wiki/pie/PaceSliceAndDice3 

In short, the list must be ordered by an 'updated' property, 
the list is chunked into smaller lists that a client
navigates by following the 'next' attribute in the 
collection document (hypertext). In addition the 
collections support an optional Range: header that 
lets the client request a specific range from which 
resources are to be returned.

    -joe

-- 
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4965<br>
Sender:"Jeffrey Winter" &lt;JeffreyWinter@...&gt;<br>
Post Date/Time:2005-03-22 13:46:39<br>
Subject:RE: [rest-discuss] Questions about handling longs URI lists<br>
Message:<br><br>
<pre> 
How is the next attribute URL structured?  Is there a standard
for specifying what the first element in the next collection
is, i.e., specifying where the next collection actually begins?

I didn't see anything in the referenced document that mentions
this.

Thanks

-----Original Message-----
From: Joe Gregorio [mailto:joe.gregorio@...] 
Sent: Tuesday, March 22, 2005 8:35 AM
To: jjn1056
Cc: rest-discuss@yahoogroups.com
Subject: Re: [rest-discuss] Questions about handling longs URI lists


The Atom WG recently came to concensus on a mechanism for handling
navigating collections:

  http://www.intertwingly.net/wiki/pie/PaceSliceAndDice3 

In short, the list must be ordered by an 'updated' property, the list is
chunked into smaller lists that a client navigates by following the
'next' attribute in the collection document (hypertext). In addition the
collections support an optional Range: header that lets the client
request a specific range from which resources are to be returned.

    -joe

-- 
Joe Gregorio        http://bitworking.org


 
Yahoo! Groups Links



 




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4966<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-03-23 06:55:39<br>
Subject:Re: [rest-discuss] Questions about handling longs URI lists<br>
Message:<br><br>
<pre>&gt; In addition the
&gt; collections support an optional Range: header that
&gt; lets the client request a specific range from which
&gt; resources are to be returned.
Ugg - this hides those useful resources behind a URI+header combination.
That's going to boomerang on people and knock them in the head someday.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4967<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-03-23 06:52:05<br>
Subject:Re: [rest-discuss] Update races<br>
Message:<br><br>
<pre>&gt; As a general thing, model so that a POST is relative to whatever state is
&gt; already on the server, and not relative to any state the user holds.
If you do that, be aware that requests cannot be safely re-tried and network
failures will stop you cold. Life is a balancing act.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4968<br>
Sender:Joe Gregorio &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2005-03-23 12:56:55<br>
Subject:Re: [rest-discuss] Questions about handling longs URI lists<br>
Message:<br><br>
<pre>On Tue, 22 Mar 2005 22:55:39 -0800, S. Mike Dierken
&lt;mdierken@...&gt; wrote:
&gt; &gt; In addition the
&gt; &gt; collections support an optional Range: header that
&gt; &gt; lets the client request a specific range from which
&gt; &gt; resources are to be returned.
&gt; Ugg - this hides those useful resources behind a URI+header combination.
&gt; That's going to boomerang on people and knock them in the head someday.
&gt; 

It's not perfect, but the resources aren't what I would
call 'hidden', you can get to all of the members of the collection
by navigating the links, you don't *have* to use the Range header.

In addition the use of the Range header is announced
via an Accept-Ranges header, not that I expect a rash
of 'updated' Range accepting clients to spring up overnight.

   -joe

-- 
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4969<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-03-23 18:19:33<br>
Subject:REST (well HTTP) software<br>
Message:<br><br>
<pre>Hi,

I used to develop "REST stuff" using Apache+mod_perl/libwww and while I 
really like the way they allow me to handle and construct HTTP requests, 
I'd like to do my next project in a programming language that is more 
friendly to future code maintainers ;-) Thinking of Python, Java or Ruby.

Can anyone make a suggestion which projects in these languages are 
really suitable as the basis for production quality applications in 
terms of scalability, reliability and ease of HTTP coding?

In Java I think it's Tomcat but I have occasionally heard that Java's 
HTTP API is not very convenient (also heard about a package that is 
better than the standard API but forgot the name).

In Python Twisted would be the framework of choice....yes?

Regarding Ruby, I have no idea at all.

Thanks for any help.

If a significant amount of people answer, I'll put a summary on the REST 
Wiki.
Would be nice to have a pros and cons table about HTTP packages there.

Jan




-- 
Jan Algermissen
Consultant &amp; Programmer
http://jalgermissen.com



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4970<br>
Sender:"thompsonbry" &lt;thompsonbry@...&gt;<br>
Post Date/Time:2005-03-23 18:31:41<br>
Subject:Re: REST (well HTTP) software<br>
Message:<br><br>
<pre>
Jan,

For Java, I use HTTPClient[1] by Ronald Tschalr.  I have found it to
work, and work well.  It is LGPL -- see the author's elaboration on
the use rights[2].

Note that there is also an Apache HttpClient[3] project, which is a
different thing altogether and which I have no expecience (it was
started after I began using the HTTPClient package).

[1] http://www.innovation.ch/java/HTTPClient/
[2] http://www.innovation.ch/java/HTTPClient/FAQ.html#license
[3] http://jakarta.apache.org/commons/httpclient/downloads.html

-bryan

--- In rest-discuss@yahoogroups.com, Jan Algermissen 
&lt;jalgermissen@t...&gt; wrote:
&gt; Hi,
&gt; 
&gt; I used to develop "REST stuff" using Apache+mod_perl/libwww and 
while I 
&gt; really like the way they allow me to handle and construct HTTP 
requests, 
&gt; I'd like to do my next project in a programming language that is 
more 
&gt; friendly to future code maintainers ;-) Thinking of Python, Java or 
Ruby.
&gt; 
&gt; Can anyone make a suggestion which projects in these languages are 
&gt; really suitable as the basis for production quality applications in 
&gt; terms of scalability, reliability and ease of HTTP coding?
&gt; 
&gt; In Java I think it's Tomcat but I have occasionally heard that 
Java's 
&gt; HTTP API is not very convenient (also heard about a package that is 
&gt; better than the standard API but forgot the name).
&gt; 
&gt; In Python Twisted would be the framework of choice....yes?
&gt; 
&gt; Regarding Ruby, I have no idea at all.
&gt; 
&gt; Thanks for any help.
&gt; 
&gt; If a significant amount of people answer, I'll put a summary on the 
REST 
&gt; Wiki.
&gt; Would be nice to have a pros and cons table about HTTP packages 
there.
&gt; 
&gt; Jan
&gt; 
&gt; 
&gt; 
&gt; 
&gt; -- 
&gt; Jan Algermissen
&gt; Consultant &amp; Programmer
&gt; http://jalgermissen.com




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4971<br>
Sender:Kendall Clark &lt;kendall@...&gt;<br>
Post Date/Time:2005-03-23 18:44:18<br>
Subject:Re: [rest-discuss] REST (well HTTP) software<br>
Message:<br><br>
<pre>On Wed, Mar 23, 2005 at 07:19:33PM +0100, Jan Algermissen wrote:

&gt; In Python Twisted would be the framework of choice....yes?

For my money? No. I prefer Quixote(.ca).

Best,
Kendall Clark

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4972<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-03-23 19:27:58<br>
Subject:[Fwd: Re: [rest-discuss] REST (well HTTP) software]<br>
Message:<br><br>
<pre>[Paul has asked me to forward this]
Jan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4973<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-03-24 05:51:43<br>
Subject:Re: [rest-discuss] REST (well HTTP) software<br>
Message:<br><br>
<pre>&gt;
&gt; In Java I think it's Tomcat but I have occasionally heard that Java's
&gt; HTTP API is not very convenient (also heard about a package that is
&gt; better than the standard API but forgot the name).
Tomcat is a fine server and other Apache technologies plug into it very
nicely.

The built-in Java URLConnection isn't that great, and the Apache Commons
http-client package is pretty good. Someone mentioned the client from Ronald
Tschalr http://www.innovation.ch/java/HTTPClient/ which is also pretty
good. I switched to use the Apache Commons http-client but not for any
particular reason. Ronald's stuff is usually very good - I used his
JavaScript engine many years ago (&amp; referenced it in a defunct Apache XML
project called Xang).

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4974<br>
Sender:Dave Pawson &lt;davep@...&gt;<br>
Post Date/Time:2005-03-24 17:48:28<br>
Subject:Re: [rest-discuss] REST (well HTTP) software<br>
Message:<br><br>
<pre>On Wed, 2005-03-23 at 19:19 +0100, Jan Algermissen wrote:
&gt; 
&gt; Can anyone make a suggestion which projects in these languages are 
&gt; really suitable as the basis for production quality applications in 
&gt; terms of scalability, reliability and ease of HTTP coding?
&gt; 
&gt; In Java I think it's Tomcat
+1.
 Quite practical.


&gt; 
&gt; In Python Twisted would be the framework of choice....yes?

Unsure about the 'framework' but Python as a basis for REST
seems about right to me.

regards DaveP


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4975<br>
Sender:Justin Sampson &lt;justin@...&gt;<br>
Post Date/Time:2005-03-24 17:15:40<br>
Subject:Re: [rest-discuss] REST (well HTTP) software<br>
Message:<br><br>
<pre>On Wed, 23 Mar 2005, Jan Algermissen wrote:

&gt; In Java I think it's Tomcat but I have occasionally heard that Java's
&gt; HTTP API is not very convenient (also heard about a package that is
&gt; better than the standard API but forgot the name).

Servlets are adequate, and at least well understood. I've heard Jetty is
supposed to be vastly better than Tomcat but I haven't used it myself. On
the client side, as others have mentioned, Java's URLConnection is not
very good -- for one thing, it doesn't support streaming large files but
insists on keeping the whole request or response in memory. I've happily
used Apache's HTTPClient in the past.

As an alternative to servlets, I've been dreaming of trying Sandstorm, but
I haven't had a chance yet. There hasn't been a proper release in a few
years, but according to the CVS logs the SourceForge project has recently
picked up again:

http://www.eecs.harvard.edu/~mdw/proj/seda/

Justin


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4976<br>
Sender:"thompsonbry" &lt;thompsonbry@...&gt;<br>
Post Date/Time:2005-03-24 18:37:22<br>
Subject:Re: REST (well HTTP) software<br>
Message:<br><br>
<pre>
Jan,

One point about the Tomcat framework.  It is good for _accepting_
connections, but it does not provide anything for originating new
connections.  That is the role of client libraries such the two
that I mentioned.

-bryan

--- In rest-discuss@yahoogroups.com, Jan Algermissen 
&lt;jalgermissen@t...&gt; wrote:
&gt; Hi,
&gt; 
&gt; I used to develop "REST stuff" using Apache+mod_perl/libwww and 
while I 
&gt; really like the way they allow me to handle and construct HTTP 
requests, 
&gt; I'd like to do my next project in a programming language that is 
more 
&gt; friendly to future code maintainers ;-) Thinking of Python, Java or 
Ruby.
&gt; 
&gt; Can anyone make a suggestion which projects in these languages are 
&gt; really suitable as the basis for production quality applications in 
&gt; terms of scalability, reliability and ease of HTTP coding?
&gt; 
&gt; In Java I think it's Tomcat but I have occasionally heard that 
Java's 
&gt; HTTP API is not very convenient (also heard about a package that is 
&gt; better than the standard API but forgot the name).
&gt; 
&gt; In Python Twisted would be the framework of choice....yes?
&gt; 
&gt; Regarding Ruby, I have no idea at all.
&gt; 
&gt; Thanks for any help.
&gt; 
&gt; If a significant amount of people answer, I'll put a summary on the 
REST 
&gt; Wiki.
&gt; Would be nice to have a pros and cons table about HTTP packages 
there.
&gt; 
&gt; Jan
&gt; 
&gt; 
&gt; 
&gt; 
&gt; -- 
&gt; Jan Algermissen
&gt; Consultant &amp; Programmer
&gt; http://jalgermissen.com




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4977<br>
Sender:"Ashiq Anjum" &lt;ashiq.anjum@...&gt;<br>
Post Date/Time:2005-03-24 18:57:14<br>
Subject:REST and Grid Computing<br>
Message:<br><br>
<pre>
Hi,

I have a question aout the suitability of the REST for Grid computing.Up to 
now most of the
Grid Services have been SOAP enabled and very little or almost no work has 
been done to employ rest-ful services for Grid.

Can any one give a expert opinion who is familair about Grid and REST.What 
are the benefits and negative points of this paradigm if employed.
Especially WSRF is hot and many things are common with REST but not sure how 
they can be realized.


cheers,

Ashiq Anjum 






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4978<br>
Sender:"yadnem" &lt;r.menday@...&gt;<br>
Post Date/Time:2005-03-31 12:10:27<br>
Subject:restful adding<br>
Message:<br><br>
<pre>

Hi, 

I am thinking about how to add a collection of numbers together
RESTfully.

So, I POST numbers to separate resources, a list of these resources is
another resource, and then "/add" at the end of the uri gives me my
answer. But, I don't think this is a good solution. All I'm doing is
initialising a bunch of objects, collecting them together, and then
calling the add operation. Should I be thinking this way ...

I'm trying to stop myself, but what I want to do is to pass URI's as
arguments, but I know I shouldn't be doing it :) ! 

Can someone improve my thinking please ... help me to see things from
a different perspective ? 

Thanks, 

Yadnem







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4979<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-03-31 14:37:19<br>
Subject:Re: [rest-discuss] restful adding<br>
Message:<br><br>
<pre>On Thu, 2005-03-31 at 07:10, yadnem wrote:

&gt; I am thinking about how to add a collection of numbers together
&gt; RESTfully.
[...]
&gt; Can someone improve my thinking please ... help me to see things from
&gt; a different perspective ? 

Here's a couple of things that come to mind using HTTP...

C: GET /numberAdder
S:
&lt;form:form method="post" action="numberAdder"&gt;
 &lt;doc:description&gt;Adds the numbers together.&lt;/doc:description&gt;
 &lt;form:echo&gt;add&lt;/form:echo&gt; &lt;!-- blindly echo'ed back to the server --&gt;
 &lt;form:part&gt;
   &lt;form:list minCardinality="2"&gt; &lt;!-- can't add 0 or 1 number together... --&gt;
     &lt;form:eltLabel&gt;pick a number, any number...&lt;/form:eltLabel&gt;
     &lt;form:eltRange datatype="xsd:number" /&gt;
   &lt;/form:list&gt;
  &lt;/form:part&gt;
&lt;/form:form&gt;



C:POST /numberAdder
&lt;list&gt;
  &lt;elt&gt;&lt;value&gt;10&lt;/value&gt;&lt;/elt&gt;
  &lt;elt&gt;&lt;value&gt;15&lt;/value&gt;&lt;/elt&gt;
  &lt;elt&gt;&lt;value&gt;2&lt;/value&gt;&lt;/elt&gt;
  &lt;elt&gt;&lt;value&gt;12&lt;/value&gt;&lt;/elt&gt;
  &lt;elt&gt;&lt;value&gt;6&lt;/value&gt;&lt;/elt&gt;
  &lt;elt&gt;&lt;value&gt;5&lt;/value&gt;&lt;elt&gt;
  &lt;elt&gt;&lt;value&gt;1&lt;/value&gt;&lt;/elt&gt;
&lt;/list&gt;
S: 201; Location: /numberAdder/a0001



C: GET /numberAdder/a0001
S:
&lt;computation&gt;
  &lt;value&gt;42&lt;/value&gt;
  &lt;details at="/numberAdder/a0001/details" /&gt;
&lt;/computation&gt;

-----

But that assumes a client that understands a lot of stuff ... the
doc-types (form, doc) used, it knows a bit about building collections,
composing form structure, &amp;c... maybe you want something a bit more
simple and generic...

C: GET /numberAdder
S:
&lt;form:form method="post" action="/numberAdder" encoding="standard"&gt;
  &lt;doc:description&gt;The numbers provided are added; seperate numbers with any sequence of non-numeric characters.&lt;/doc:description&gt;
  &lt;form:text-line length="64" /&gt;
&lt;/form:form&gt;

[POST/Location/GET cycle...]


Or maybe, if you can push a bit of generic processing to the client...

C: GET /numberAdder
S:
&lt;form:form ...&gt;
  &lt;form:description&gt;
  &lt;form:text-area febnfGrammer="http://data.info/addition.febnf" /&gt;
&lt;/form:form&gt;

...where the `febnf` file is a hypothetical "Form-Extended BNF" that is
basically a BNF-style grammar extended to support common form data-type
terminals, and provides sufficient detail for an response-encoding of
the syntax-tree entered into the text-area ... assuming that the text
entered conforms to the grammar.

...jsled

-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4980<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-02-28 19:37:45<br>
Subject:WWW2005 DevDay CFP<br>
Message:<br><br>
<pre>Anybody up for proposing a RESTful Web services track or talk?

====

Call for Participation
Developers' Day
World Wide Web Conference 2005
Feb 28, 2005

Developer's Day at WWW2005 promises to be the most exciting yet.  We
have arranged a keynote talk by Makoto Murata and two special all day
sessions for those interested in dynamic Web Design.   However, to make
the day even more exciting, we are soliciting ideas for topics and
presentations.   In particular, we are requesting proposals for
individual presentations or, preferably, multi-talk tracks.  It is
expected that four or five parallel sessions will be offered, with
presentations in each focusing on tools and techniques for the World
Wide Web.  Preferred tracks and presentations will be of interest to a
wide range of participants working on Web-related development.

Potential topics and tracks may be for a particular area of Web
development -- Web Services, Semantic Web, RDF or XML tools, etc. -- or
for cross-cutting topics that may be of interest to those in multiple
areas -- forms, compound document and multimedia integration, so-called
"rich web apps" making innovative use of Javascript, new developments in
search tools, best and/or advanced practices in Web application
development, etc.

Submissions should be in the form of an abstract of no more than 500
words for an individual presentation.  For multiple-presentations or
tracks, please be sure to indicate the approximate length and how many
presentations, and include up to a 1/2 page on each planned
presentation.

Submissions will be accepted on a rolling basis with a final deadline of
March 25 2005.

The Developer Day 2005 home page is; http://www2005.org/dday/
Submissions should be sent to chair_dev@...

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4981<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-02-25 19:56:25<br>
Subject:[admin] RESTwiki editing problems fixed<br>
Message:<br><br>
<pre>If you received an error message when trying to login or edit the
RESTwiki recently, give it another try now.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4982<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-04-01 15:16:52<br>
Subject:Disregard (was Re: [rest-discuss] WWW2005 DevDay CFP<br>
Message:<br><br>
<pre>Oopsie, apparently Yahoo decided to start accepting messages from my
domain today.  I didn't realize my server was still trying to send them.

The DevDay submission deadline has passed.  Please disregard (unless
you *really* want to hurry - my final schedule isn't due until next
week).

On Mon, Feb 28, 2005 at 02:37:45PM -0500, Mark Baker wrote:
&gt; ...

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4983<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-04-09 04:38:34<br>
Subject:coding question<br>
Message:<br><br>
<pre>
My resource handlers virtually all start with case statements on the 
incoming URI and other parameters, and the amount of nesting leads to 
unreadable code like this:

switch(get_uri()){
case 'foo':
   switch(get_method()){
     case GET:
     case HEAD:
       // emit form
       break;
     case POST:
       // process form
       break;
     default:
       // throw a 405
   }
   break;
case 'bar':
   switch(get_method()){
     case GET:
     case HEAD:
       // emit form
       break;
     case POST:
       // process form
       break;
     default:
       // throw a 405
   }
   break;
default;
   // throw a 404
}

What sort of idioms are other people using?  How do you keep the nesting 
under control?

Thanks.

- Lucas


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4984<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-04-09 05:03:37<br>
Subject:Re: [rest-discuss] coding question<br>
Message:<br><br>
<pre>On Fri, Apr 08, 2005 at 06:38:34PM -1000, Lucas Gonze wrote:
| My resource handlers virtually all start with case statements on the 
| incoming URI and other parameters, and the amount of nesting leads to 
| unreadable code like this:
[deletia]
| What sort of idioms are other people using?  How do you keep the nesting 
| under control?

How about a declarative resource-space pattern mapping plus a dispatcher?

  HEAD /foo stripBody( getFoo() )
  GET /foo getFoo()
  GET /foo?withArgs queryFoo( args )
  POST /foo postFoo()
  ...

Though this is somewhat suited to a pretty flat resource space; some sort
of prefixing/composing might be nice for more modular hierarchial spaces.


Depending on how identifying the non-query-string part is, something like:

  GET /foo/{id:0-9+} getFoo(id)
  GET /foo/{fooId:0-9+}/bar/{barId:[a-zA-Z0-9]+} getBar( fooId, barId )


Then, you can move a lot of the common handling into the dispatcher, like
POST-data -&gt; object mapping or GET object-&gt;XML mapping.  Plus, you can
figure out different ways of specifying groups of query params in the file,
to further dispatch on the sub-type of query being done...

  GET /foo?requiredArg1&amp;requiredArg2&amp;* fooQuery(...)
  GET /foo?type2&amp;* fooQuery2( ... )
  ...

...jsled

-- 
http://asynchronous.org/jsled/ # a=jsled; b=asynchronous.org; echo ${a}@${b}

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4985<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-04-09 05:42:23<br>
Subject:Re: [rest-discuss] coding question<br>
Message:<br><br>
<pre>On Sat, 9 Apr 2005, Josh Sled wrote:
&gt; How about a declarative resource-space pattern mapping plus a dispatcher?
&gt; 
&gt;   HEAD /foo stripBody( getFoo() )
&gt;   GET /foo getFoo()
&gt;   GET /foo?withArgs queryFoo( args )
&gt;   POST /foo postFoo()

Yeah, that's exactly the kind of thing I'm wondering about.  I could see 
it leading in the same direction that you go with your other examples, 
too.  For example the argument validator pattern looks good:

&gt;   GET /foo?requiredArg1&amp;requiredArg2&amp;* fooQuery(...)
&gt;   GET /foo?type2&amp;* fooQuery2( ... )

What's tricky about this is that you want to avoid building castles in the 
air.  Let's say you develop some kind of unmarshalling infrastructure, 
which I imagine would be an API which accepted descriptions of stuff in 
the request and mapped them to functions; the pain of adopting it would 
have to be less than the pain of using improved idioms.

For example, I developed a nice argument validator class for arguments 
coming in via the URI, but in the end I found that it was too intrusive 
and ended up not using it.

Not to say that this is a bad idea, just that it'll take a lot of communal 
trial and error to get it right.

Along those lines...
&gt; Depending on how identifying the non-query-string part is, something like:
&gt; 
&gt;   GET /foo/{id:0-9+} getFoo(id)
&gt;   GET /foo/{fooId:0-9+}/bar/{barId:[a-zA-Z0-9]+} getBar( fooId, barId )

...I found that regular expressions on the incoming URI are too 
inflexible.  It's too easy to make a mistake on a reasonably complex 
regex.

- Lucas


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4986<br>
Sender:Justin Sampson &lt;justin@...&gt;<br>
Post Date/Time:2005-04-09 07:59:51<br>
Subject:Re: [rest-discuss] coding question<br>
Message:<br><br>
<pre>&gt; What sort of idioms are other people using? How do you keep the nesting
&gt; under control?

I recommend the book Refactoring, by Martin Fowler.

Justin


On Fri, 8 Apr 2005, Lucas Gonze wrote:

&gt; My resource handlers virtually all start with case statements on the
&gt; incoming URI and other parameters, and the amount of nesting leads to
&gt; unreadable code like this:
&gt; 
&gt; switch(get_uri()){
&gt; case 'foo':
&gt;    switch(get_method()){
&gt;      case GET:
&gt;      case HEAD:
&gt;        // emit form
&gt;        break;
&gt;      case POST:
&gt;        // process form
&gt;        break;
&gt;      default:
&gt;        // throw a 405
&gt;    }
&gt;    break;
&gt; case 'bar':
&gt;    switch(get_method()){
&gt;      case GET:
&gt;      case HEAD:
&gt;        // emit form
&gt;        break;
&gt;      case POST:
&gt;        // process form
&gt;        break;
&gt;      default:
&gt;        // throw a 405
&gt;    }
&gt;    break;
&gt; default;
&gt;    // throw a 404
&gt; }
&gt; 
&gt; What sort of idioms are other people using? How do you keep the nesting
&gt; under control?
&gt; 
&gt; Thanks.
&gt; 
&gt; - Lucas



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4987<br>
Sender:Justin Sampson &lt;justin@...&gt;<br>
Post Date/Time:2005-04-09 08:02:23<br>
Subject:Re: [rest-discuss] coding question<br>
Message:<br><br>
<pre>&gt; ...I found that regular expressions on the incoming URI are too
&gt; inflexible. It's too easy to make a mistake on a reasonably complex
&gt; regex.

I recommend the book Test-Driven Development, by Kent Beck.

Justin


On Fri, 8 Apr 2005, Lucas Gonze wrote:

&gt; On Sat, 9 Apr 2005, Josh Sled wrote:
&gt;
&gt; &gt; How about a declarative resource-space pattern mapping plus a
&gt; &gt; dispatcher?
&gt; &gt; 
&gt; &gt;   HEAD /foo stripBody( getFoo() )
&gt; &gt;   GET /foo getFoo()
&gt; &gt;   GET /foo?withArgs queryFoo( args )
&gt; &gt;   POST /foo postFoo()
&gt; 
&gt; Yeah, that's exactly the kind of thing I'm wondering about. I could see
&gt; it leading in the same direction that you go with your other examples,
&gt; too. For example the argument validator pattern looks good:
&gt; 
&gt; &gt;   GET /foo?requiredArg1&amp;requiredArg2&amp;* fooQuery(...)
&gt; &gt;   GET /foo?type2&amp;* fooQuery2( ... )
&gt; 
&gt; What's tricky about this is that you want to avoid building castles in
&gt; the air. Let's say you develop some kind of unmarshalling
&gt; infrastructure, which I imagine would be an API which accepted
&gt; descriptions of stuff in the request and mapped them to functions; the
&gt; pain of adopting it would have to be less than the pain of using
&gt; improved idioms.
&gt; 
&gt; For example, I developed a nice argument validator class for arguments
&gt; coming in via the URI, but in the end I found that it was too intrusive
&gt; and ended up not using it.
&gt; 
&gt; Not to say that this is a bad idea, just that it'll take a lot of
&gt; communal trial and error to get it right.
&gt; 
&gt; Along those lines...
&gt;
&gt; &gt; Depending on how identifying the non-query-string part is, something
&gt; &gt; like:
&gt; &gt; 
&gt; &gt;   GET /foo/{id:0-9+} getFoo(id)
&gt; &gt;   GET /foo/{fooId:0-9+}/bar/{barId:[a-zA-Z0-9]+} getBar( fooId, barId )
&gt; 
&gt; ...I found that regular expressions on the incoming URI are too
&gt; inflexible. It's too easy to make a mistake on a reasonably complex
&gt; regex.
&gt; 
&gt; - Lucas


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4988<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-04-09 11:20:19<br>
Subject:Re: [rest-discuss] coding question<br>
Message:<br><br>
<pre>
&gt; On Fri, 8 Apr 2005, Lucas Gonze wrote:
&gt; &gt; What sort of idioms are other people using? How do you keep the nesting
&gt; &gt; under control?

On Sat, 9 Apr 2005, Justin Sampson wrote:
&gt; I recommend the book Refactoring, by Martin Fowler.
...
&gt; I recommend the book Test-Driven Development, by Kent Beck.

You need to learn many things before you understand how immature these 
comments are.  On a formal level, you need to learn enough about code 
factoring and test-driven development to speak in your own words. 
Probably this is just a matter of experience.  On an intellectual level, 
you need to understand how communities of practice accomplish so much. 
As a hacker, you need to to learn how the development process works.

- Lucas

&gt; 
&gt; Justin
&gt; 
&gt; 
&gt; 
&gt; &gt; My resource handlers virtually all start with case statements on the
&gt; &gt; incoming URI and other parameters, and the amount of nesting leads to
&gt; &gt; unreadable code like this:
&gt; &gt;
&gt; &gt; switch(get_uri()){
&gt; &gt; case 'foo':
&gt; &gt;    switch(get_method()){
&gt; &gt;      case GET:
&gt; &gt;      case HEAD:
&gt; &gt;        // emit form
&gt; &gt;        break;
&gt; &gt;      case POST:
&gt; &gt;        // process form
&gt; &gt;        break;
&gt; &gt;      default:
&gt; &gt;        // throw a 405
&gt; &gt;    }
&gt; &gt;    break;
&gt; &gt; case 'bar':
&gt; &gt;    switch(get_method()){
&gt; &gt;      case GET:
&gt; &gt;      case HEAD:
&gt; &gt;        // emit form
&gt; &gt;        break;
&gt; &gt;      case POST:
&gt; &gt;        // process form
&gt; &gt;        break;
&gt; &gt;      default:
&gt; &gt;        // throw a 405
&gt; &gt;    }
&gt; &gt;    break;
&gt; &gt; default;
&gt; &gt;    // throw a 404
&gt; &gt; }
&gt; &gt;
&gt; &gt; What sort of idioms are other people using? How do you keep the nesting
&gt; &gt; under control?
&gt; &gt;
&gt; &gt; Thanks.
&gt; &gt;
&gt; &gt; - Lucas
&gt; 
&gt; 
&gt; 
&gt; ______________________________________________________________________________________________________________________________________________
&gt; Yahoo! Groups Links
&gt;  *  To visit your group on the web, go to:
&gt;     http://groups.yahoo.com/group/rest-discuss/
&gt; 
&gt;  *  To unsubscribe from this group, send an email to:
&gt;     rest-discuss-unsubscribe@yahoogroups.com
&gt; 
&gt;  *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.
&gt; 
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4989<br>
Sender:Hendy Irawan &lt;gauldong@...&gt;<br>
Post Date/Time:2005-04-09 17:09:00<br>
Subject:Google API, Yahoo API, ... API, ...<br>
Message:<br><br>
<pre>It's nice to see more search engines expose their services. Why didn't
they cooperate and make a common subset of the APIs (in whatever: POX,
SOAP, etc.) so we won't have to deal with several proprietary API
*just to search the damn web* ??

And why not:

SEARCH bill+gates HTTP/1.1
Host: www.google.com
X-Max-Results-Per-Page: 100
X-Max-Results: 100000

Seems simple enough for me?

--
Hendy Irawan
http://www.gauldong.net
http://dev.gauldong.net

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4990<br>
Sender:"Jon Hanna" &lt;jon@...&gt;<br>
Post Date/Time:2005-04-09 17:31:17<br>
Subject:RE: [rest-discuss] Google API, Yahoo API, ... API, ...<br>
Message:<br><br>
<pre>&gt; And why not:
&gt; 
&gt; SEARCH bill+gates HTTP/1.1
&gt; Host: www.google.com
&gt; X-Max-Results-Per-Page: 100
&gt; X-Max-Results: 100000
&gt; 
&gt; Seems simple enough for me?

Redefining HTTP seems complicated enough to me.

Regards,
Jon Hanna
Work: &lt;http://www.selkieweb.com/&gt;
Play: &lt;http://www.hackcraft.net/&gt;
Chat: &lt;irc://irc.freenode.net/selkie&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4991<br>
Sender:Seth Johnson &lt;seth.johnson@...&gt;<br>
Post Date/Time:2005-04-09 19:19:21<br>
Subject:Re: [rest-discuss] coding question<br>
Message:<br><br>
<pre>
Lucas,

Can't say I've used it, but TreeCC by Rhys Weatherly might be
useful.  It's used by the DotGNU project.  Might be overkill, as
it is specially tailored to handle the complexity of maintaining
interpreter code through something called "aspect-oriented
programming":

&gt; http://www.dotgnu.org/pnet.html
&gt; http://www.southern-storm.com.au/treecc_essay.html


Seth




Lucas Gonze wrote:
&gt; 
&gt; My resource handlers virtually all start with case statements on the
&gt; incoming URI and other parameters, and the amount of nesting leads to
&gt; unreadable code like this:
&gt; 
&gt; switch(get_uri()){
&gt; case 'foo':
&gt;    switch(get_method()){
&gt;      case GET:
&gt;      case HEAD:
&gt;        // emit form
&gt;        break;
&gt;      case POST:
&gt;        // process form
&gt;        break;
&gt;      default:
&gt;        // throw a 405
&gt;    }
&gt;    break;
&gt; case 'bar':
&gt;    switch(get_method()){
&gt;      case GET:
&gt;      case HEAD:
&gt;        // emit form
&gt;        break;
&gt;      case POST:
&gt;        // process form
&gt;        break;
&gt;      default:
&gt;        // throw a 405
&gt;    }
&gt;    break;
&gt; default;
&gt;    // throw a 404
&gt; }
&gt; 
&gt; What sort of idioms are other people using?  How do you keep the nesting
&gt; under control?
&gt; 
&gt; Thanks.
&gt; 
&gt; - Lucas
&gt; 
&gt; 
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; --
&gt; No virus found in this incoming message.
&gt; Checked by AVG Anti-Virus.
&gt; Version: 7.0.308 / Virus Database: 266.9.5 - Release Date: 4/7/05

-- 

RIAA is the RISK!  Our NET is P2P!
http://www.nyfairuse.org/action/ftc

DRM is Theft!  We are the Stakeholders!

New Yorkers for Fair Use
http://www.nyfairuse.org

[CC] Counter-copyright: http://realmeasures.dyndns.org/cc

I reserve no rights restricting copying, modification or
distribution of this incidentally recorded communication. 
Original authorship should be attributed reasonably, but only so
far as such an expectation might hold for usual practice in
ordinary social discourse to which one holds no claim of
exclusive rights.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4992<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-04-09 19:45:55<br>
Subject:Re: [rest-discuss] coding question<br>
Message:<br><br>
<pre>Lucas Gonze wrote:

&gt;
&gt;What sort of idioms are other people using?  How do you keep the nesting 
&gt;under control?
&gt;
&gt;  
&gt;
Hi Lucas,

I've recently used an OO approach whith a base class 'Resource' that  
implements  all methods  to return a 405. In subclasses of Resource 
you'd simply overide the methods you want to implement.  Using the 
configuration facility of the server environment (in my case 
Apache+mod_perl) I registered the derived classes for the desired URI 
spaces.

I also implemented the resource classes described in Mark's "Abstract 
Model for HTTP Resource State"[1], with the result  of a handy 
implementation of a 'Container Resource' that handled the dispatching of 
GETs and POSTs etc. to the container or to any of it's items.
By subclassing that one (and overiding methods like 
do_GET_to_container() or do_DELETE_to_item()) I got pretty clean code in 
the end.

OTH I think that there must be even simpler approaches to map legacy 
applications to HTTP+RDF. I am vaguely thinking about an (automatic? or 
declarative?) mapping from an applications OO model (or an RDBMS schema) 
to an RDF schema for the resource representations.  My brain hasn't made 
the neccessary connections yet to fully understand this, though.

Another thought is to use Mark's resource classes and his RDFForms to 
create resource descriptions (in RDF) that you can generate most of the 
wrapper code automatically. You'd then simply add the glue code to your 
legacy app. I think that is even better than the method-overiding approach.

Jan

[1] 
http://www.markbaker.ca/2001/09/draft-baker-http-resource-state-model-01.txt

&gt;Thanks.
&gt;
&gt;- Lucas
&gt;
&gt;
&gt;
&gt; 
&gt;Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt; 
&gt;
&gt;
&gt;
&gt;
&gt;  
&gt;


-- 
Jan Algermissen
Consultant &amp; Programmer
http://jalgermissen.com



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4993<br>
Sender:Justin Sampson &lt;justin@...&gt;<br>
Post Date/Time:2005-04-10 16:36:55<br>
Subject:Re: [rest-discuss] coding question<br>
Message:<br><br>
<pre>On Sat, 9 Apr 2005, Lucas Gonze wrote:

&gt; &gt; On Fri, 8 Apr 2005, Lucas Gonze wrote:
&gt; &gt;
&gt; &gt; &gt; What sort of idioms are other people using? How do you keep the
&gt; &gt; &gt; nesting under control?
&gt; 
&gt; On Sat, 9 Apr 2005, Justin Sampson wrote:
&gt;
&gt; &gt; I recommend the book Refactoring, by Martin Fowler.
&gt; ...
&gt; &gt; I recommend the book Test-Driven Development, by Kent Beck.
&gt;
&gt; You need to learn many things before you understand how immature these
&gt; comments are. On a formal level, you need to learn enough about code
&gt; factoring and test-driven development to speak in your own words.  
&gt; Probably this is just a matter of experience. On an intellectual level,
&gt; you need to understand how communities of practice accomplish so much.  
&gt; As a hacker, you need to to learn how the development process works.

I recommend the book The Four Agreements, by Don Miguel Ruiz. :)

Anyway, the points I was trying unsuccesfully to make were (a) that the
code you posted has some obvious smells, such as the deep nesting you
mentioned as well as code duplication, which are where I would start; and
(b) that while regular expressions can get ugly, they are very easy to
test, so writing broken regular expressions need not be a concern (though
writing *readable* regular expressions is of course another matter).

For (a), at least try extracting each case as its own method. That should
suggest further refactorings, such as turning each method into a "method
object" to allow getting rid of the duplication between the cases through
inheritance or composition. I hesitated to go into more detail simply
because my own preference is to evolve the code freshly. As your subject
suggested, this is a coding question; it can be answered by
generally-applicable coding techniques.

The last time I did this (www.newedu.com) we ended up with an object
called Triage that would look at a prefix of the URL path and delegate to
one of four or five Zone objects, which would each have a big if-else
statement looking at the path in more detail. Each Zone would have maybe
up to a dozen cases, but since each case contained only a single statement
they were quite readable. (By the way, I find that keeping everything in
the source language is preferable to pulling stuff out to a declarative
text file; it allows much easier browsing, testing, and refactoring.)

For parsing the path, we had an object called PathMatcher that provided a
simple pattern language that it internally translated into regular
expressions. Specifically, "@" was a numerical unique identifier, "#" was
an ordinal number, "$" was a single path component (without slashes), "*"
was multiple path components, and "..." was an ignored suffix.

For example, Triage would use the pattern "/directory/..." to dispatch to
DirectoryZone, where the pattern "/directory/*/" would match a particular
topic in the hierarchical directory. Likewise, Triage would use the
pattern "/lesson/..." to dispatch to LessonZone, where "/lesson/@/#" would
match a particular page (#) of a particular lesson (@).

(If you look at the site, it's a little empty right now, but 
http://www.newedu.com/directory/sports_and_recreation/pet_training/ has 
some good lessons.)

Cheers,
Justin


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4994<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-04-10 22:55:48<br>
Subject:Re: [rest-discuss] coding question<br>
Message:<br><br>
<pre>On Sun, 10 Apr 2005 09:36:55 -0700 (PDT), "Justin Sampson"
&lt;justin@...&gt; said:
&gt; (By the way, I find that keeping everything in
&gt; the source language is preferable to pulling stuff out to a declarative
&gt; text file; it allows much easier browsing, testing, and refactoring.)

That is a question of language abstraction. Some languages (Lisp, Ruby)
make this easier than others (anything descended from Algol and C).

I think the most successful framework for delivering REST/HTTP apps will
define a domain-specific language (DSL) suitable for this mapping. In
conventional webservers, look at the configuration language for
lighttpd,
which makes Apache's httpd.conf language look quite clumsy.

Ruby on Rails is close but makes it too easy to violate some REST
constraints. I don't think it will be hard to fix.

In Lisp, the Araneida and TBNL webservers define nice languages for
mapping handlers to URI paths.

&gt; For parsing the path, we had an object called PathMatcher [..]

Thanks for that description. I like the zones vocabulary you have.
 
&gt; (If you look at the site, it's a little empty right now, but 
&gt; http://www.newedu.com/directory/sports_and_recreation/pet_training/ has 
&gt; some good lessons.)

That's a nice site. I started a page on the wiki for examples
of good RESTful design.
http://rest.blueoxen.net/cgi-bin/wiki.pl?Examples

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4995<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-04-12 03:06:09<br>
Subject:Re: [rest-discuss] Google API, Yahoo API, ... API, ...<br>
Message:<br><br>
<pre>&gt;
&gt; It's nice to see more search engines expose their services. Why didn't
&gt; they cooperate and make a common subset of the APIs (in whatever: POX,
&gt; SOAP, etc.) so we won't have to deal with several proprietary API
&gt; *just to search the damn web* ??
There already is a common subset of their APIs - they all use HTTP GET and a
single URI.
The missing piece is how to discover or construct which /particular/ URI to
send.
They could do that with an HTML FORM element - which is what 'OpenSearch'
essentially does. The problem with HTML FORMs is that it lacks the ability
to place user input into path segments as well as query terms.


&gt;
&gt; And why not:
&gt;
&gt; SEARCH bill+gates HTTP/1.1
&gt; Host: www.google.com
&gt; X-Max-Results-Per-Page: 100
&gt; X-Max-Results: 100000
&gt;
&gt; Seems simple enough for me?
Because that new method (SEARCH) introduces a special purpose operation when
really the goal is simply to "retrieve results". It is immaterial whether
the server actually 'searches' or not. What is actually happening - from the
outside interface/API, not the internals of the server - is that data is
transferred. And that data transfer is going from server to client, so it's
a GET.




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4996<br>
Sender:Joe Gregorio &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2005-04-12 19:34:15<br>
Subject:Re: [rest-discuss] coding question<br>
Message:<br><br>
<pre>In Python I have a dispatcher base class:

class BaseHttpDispatch:
    """Dispatch HTTP events based on the verb and requested Mimi-Type"""
    def dispatch(self, verb, mime_type):
        """Pass in the verb and the simplified mime-type, i.e. html or xml,
        and the best matching function will be called, for example
        'POST' and 'xml' will first look for 'POST_xml' and then if that fails
        it will try to call 'POST'. Returns True if any match was found."""
        returnValue = False
        fun_name = verb + "_" + mime_type
        if fun_name in dir(self) and callable(getattr(self, fun_name)):
            getattr(self, fun_name)()
            returnValue = True
        elif verb in dir(self) and callable(getattr(self, verb)):
            getattr(self, verb)()
            returnValue = True
        return returnValue


Then subclass it for each resource in the system:

class ArchiveDispatch(dispatch.BaseHttpDispatch):
    def __init__(self, queryPath):
        self.queryPath = queryPath

    def GET_xml(self):
        itemFileNames = templating.buildFileLis...
        print "Content-type: text/xml\n"
        templating.transformItemsUsingTempla...

    def GET_html(self):
        itemFileNames = templating.buildFile...
        print "Content-type: text/html\n"
        templating.transformItemsUsingTemp...

The only piece left is to inspect the incoming path to create the 
right Dispatch object. My main loop ends up looking like this:


def Main():
    dispatcher = dispatcherFactory()
    mime_type = detMimeType()

    if False == dispatch(os.environ.get('REQUEST_METHOD', 'GET'), mime_type):
        fileNotFound()


  -joe

-- 
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4997<br>
Sender:Elias Sinderson &lt;elias@...&gt;<br>
Post Date/Time:2005-04-12 23:49:58<br>
Subject:Re: [rest-discuss] Google API, Yahoo API, ... API, ...<br>
Message:<br><br>
<pre>S. Mike Dierken wrote:

&gt;&gt;Someone other than S. Mike Dierken wrote:
&gt;&gt;
&gt;&gt;SEARCH bill+gates HTTP/1.1
&gt;&gt;Host: www.google.com
&gt;&gt;[...]
&gt;&gt;Seems simple enough for me?
&gt;&gt;    
&gt;&gt;
&gt;Because that new method (SEARCH) introduces a special purpose operation when
&gt;really the goal is simply to "retrieve results". [...]
&gt;  
&gt;
Indeed, to say nothing of the fact that a SEARCH method specification is 
slowly making its' way through the IETF standards process [1]. ...


Regards,
Elias

[1] &lt;http://www.webdav.org/dasl/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4998<br>
Sender:Dave Pawson &lt;davep@...&gt;<br>
Post Date/Time:2005-04-13 16:48:05<br>
Subject:Re: [rest-discuss] coding question<br>
Message:<br><br>
<pre>On Tue, 2005-04-12 at 15:34 -0400, Joe Gregorio wrote:
&gt; In Python I have a dispatcher base class:
&lt;snip/&gt;
&gt; 
&gt; Then subclass it for each resource in the system:
&lt;snip/&gt;
&gt; The only piece left is to inspect the incoming path to create the 
&gt; right Dispatch object. My main loop ends up looking like this:
&gt; 
&gt; 
&gt; def Main():
&gt;     dispatcher = dispatcherFactory()
&gt;     mime_type = detMimeType()
&gt; 
&gt;     if False == dispatch(os.environ.get('REQUEST_METHOD', 'GET'), mime_type):
&gt;         fileNotFound()

... and

Not wishing to sound disrespectful Joe,
and *guessing* that this email is a result of lots of time spent
gazing at some editor, in frustration, 
 what is the question please?



regards DaveP.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4999<br>
Sender:Joe Gregorio &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2005-04-13 16:57:55<br>
Subject:Re: [rest-discuss] coding question<br>
Message:<br><br>
<pre>On 4/13/05, Dave Pawson &lt;davep@...&gt; wrote:
&gt; On Tue, 2005-04-12 at 15:34 -0400, Joe Gregorio wrote:
&gt; &gt; In Python I have a dispatcher base class:
&gt; &lt;snip/&gt;
&gt; &gt;
&gt; &gt; Then subclass it for each resource in the system:
&gt; &lt;snip/&gt;
&gt; &gt; The only piece left is to inspect the incoming path to create the
&gt; &gt; right Dispatch object. My main loop ends up looking like this:
&gt; &gt;
&gt; &gt;
&gt; &gt; def Main():
&gt; &gt;     dispatcher = dispatcherFactory()
&gt; &gt;     mime_type = detMimeType()
&gt; &gt;
&gt; &gt;     if False == dispatch(os.environ.get('REQUEST_METHOD', 'GET'), mime_type):
&gt; &gt;         fileNotFound()
&gt; 
&gt; ... and
&gt; 
&gt; Not wishing to sound disrespectful Joe,
&gt; and *guessing* that this email is a result of lots of time spent
&gt; gazing at some editor, in frustration,
&gt;  what is the question please?

Uhm, I wasn't asking a question, but answering Lucas' question 
that started this thread:

  "What sort of idioms are other people using?  How do you keep the nesting
  under control?"

  http://groups.yahoo.com/group/rest-discuss/message/4983

Sorry for editing out too much of the context.

   -joe

-- 
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5000<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-04-13 20:47:14<br>
Subject:Re: [rest-discuss] coding question<br>
Message:<br><br>
<pre>
When I originally asked...
&gt;   "What sort of idioms are other people using?  How do you keep the nesting
&gt;   under control?"

...my thought was about the impact of RESTful design on code.

It wasn't a request for help.  The coding problem was trivial, on the 
order of whether you should pull up your pants or your underwear first.

I've been meaning to open a conversation about RESTful design patterns 
(and maybe libraries) for a while, and I thought this was a good opener. 
Traditional toolkits and documentation for web programming are less useful 
in the context of REST, so many of us are evolving our own toolkits and 
patterns.  My question was intended to make those toolkits and patterns an 
explicit issue.

- Lucas




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5001<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-04-23 21:22:13<br>
Subject:On HTTP Abuse<br>
Message:<br><br>
<pre>Required reading:

http://naeblis.cx/rtomayko/2005/04/22/on-http-abuse

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5002<br>
Sender:Dave Pawson &lt;davep@...&gt;<br>
Post Date/Time:2005-04-24 15:26:27<br>
Subject:doPost.<br>
Message:<br><br>
<pre>In accepting posted data, I have two options.
The posted data is well-formed XML or not.

Tomcat offers me response.setStatus(SC_OK) for the former,
Any suggestions what the latter might be please, if indeed
there should be any response? Is the status response simply
to indicate that content has been received, bad content or
other  not being an http error? 
  
Would the more restful approach be to indicate at another
URL that the post failed?


TIA,
DaveP.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5003<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2005-04-24 16:17:24<br>
Subject:Re: [rest-discuss] doPost.<br>
Message:<br><br>
<pre>Dave Pawson wrote:
&gt; In accepting posted data, I have two options.
&gt; The posted data is well-formed XML or not.
&gt; 
&gt; Tomcat offers me response.setStatus(SC_OK) for the former,
&gt; Any suggestions what the latter might be please, if indeed
&gt; there should be any response? Is the status response simply
&gt; to indicate that content has been received, bad content or
&gt; other  not being an http error? 

I'd recommend status 400 
(&lt;http://greenbytes.de/tech/webdav/rfc2616.html#status.400&gt;):

"The request could not be understood by the server due to malformed 
syntax. The client SHOULD NOT repeat the request without modifications."

&gt; Would the more restful approach be to indicate at another
&gt; URL that the post failed?

How would that help?

Best regards, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5004<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-04-24 16:37:58<br>
Subject:Re: [rest-discuss] doPost.<br>
Message:<br><br>
<pre>On Sun, 24 Apr 2005 16:26:27 +0100, "Dave Pawson" &lt;davep@...&gt;
said:
&gt; In accepting posted data, I have two options.
&gt; The posted data is well-formed XML or not.

As long as you are aware that you are being strict rather
than liberal in what you accept. See Postel's law.

http://www.google.com/search?q=postel+law

&gt; Tomcat offers me response.setStatus(SC_OK) for the former,
&gt; Any suggestions what the latter might be please, if indeed
&gt; there should be any response? Is the status response simply
&gt; to indicate that content has been received, bad content or
&gt; other  not being an http error?

First of all, this is a Java Servlet API question rather
than something specific to Tomcat.

There is always a response. You should set the status
code, and use the entity body of your response to give a
human or machine friendly description of what happened,
depending on what type of agent made the request.

I think you need to refer to the HTTP and Servlet specs.
SC_OK etc. are just hard-coded constants that correspond with the
HTTP Status Codes.


Section 10 lists the status codes and their semantics. The
spec is clear on this topic. If you still have questions
after reading it, feel free to post them here.
 
&gt; Would the more restful approach be to indicate at another
&gt; URL that the post failed?

Not really. The best approach is to signal the error with
a code such as 400 Bad Response. From the HTTP spec at

http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.1

10.4.1 400 Bad Request

   The request could not be understood by the server due to malformed
   syntax. The client SHOULD NOT repeat the request without
   modifications.

This corresponds to the SC_BAD_REQUEST constant:
http://jakarta.apache.org/tomcat/tomcat-5.5-doc/servletapi/javax/servlet/http/HttpServletResponse.html#SC_BAD_REQUEST

I think this is a direct match for what you are proposing because
XML is syntax.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5005<br>
Sender:"christianhgross" &lt;mailing@...&gt;<br>
Post Date/Time:2005-04-24 14:48:40<br>
Subject:Introduction...<br>
Message:<br><br>
<pre>

Hi,

My name is Christian Gross and I just joined this group.  I have been
doing web services for a while now, am Web Service track chair at
SDWest, speaker at various other conferences and general supporter of
REST.

Granted I like SOAP and WSDL, but no more than that!  I tend to be
very skeptical of all the WS-* specs.  Reminds me of the "bad ol
CORBA" days when you had tons of specifications and two ORBS still
could not exchange information.

Christian Gross







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5006<br>
Sender:Dave Pawson &lt;davep@...&gt;<br>
Post Date/Time:2005-04-24 18:50:21<br>
Subject:Re: [rest-discuss] doPost.<br>
Message:<br><br>
<pre>On Sun, 2005-04-24 at 17:37 +0100, Vincent D Murphy wrote:

&gt; 
&gt; As long as you are aware that you are being strict rather
&gt; than liberal in what you accept. See Postel's law.
&gt; 
&gt; http://www.google.com/search?q=postel+law


&gt; 
&gt; &gt; Tomcat offers me response.setStatus(SC_OK) for the former,
&gt; &gt; Any suggestions what the latter might be please, if indeed
&gt; &gt; there should be any response? Is the status response simply
&gt; &gt; to indicate that content has been received, bad content or
&gt; &gt; other  not being an http error?

&gt; There is always a response. You should set the status
&gt; code, and use the entity body of your response to give a
&gt; human or machine friendly description of what happened,
&gt; depending on what type of agent made the request.

That makes sense Vincent. 

&gt; 
&gt; I think you need to refer to the HTTP and Servlet specs.
&gt; SC_OK etc. are just hard-coded constants that correspond with the
&gt; HTTP Status Codes.
Sorry, SC_OK is the 200 code.

&gt; 
&gt; 
&gt; Section 10 lists the status codes and their semantics. The
&gt; spec is clear on this topic. If you still have questions
&gt; after reading it, feel free to post them here.
&gt;  
&gt; &gt; Would the more restful approach be to indicate at another
&gt; &gt; URL that the post failed?
&gt; 
&gt; Not really. The best approach is to signal the error with
&gt; a code such as 400 Bad Response. From the HTTP spec at
&gt; 
&gt; http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.1
&gt; 
&gt; 10.4.1 400 Bad Request

I guess that's a part of my problem? There was no request to be bad?
I'm just accepting posted data, hence 400 seems wrong?
 Or should I be interpreting 'request' in a more general sense
than an http get?


&gt; 
&gt;    The request could not be understood by the server due to malformed
&gt;    syntax. The client SHOULD NOT repeat the request without
&gt;    modifications.
&gt; 
&gt; This corresponds to the SC_BAD_REQUEST constant:
&gt; http://jakarta.apache.org/tomcat/tomcat-5.5-doc/servletapi/javax/servlet/http/HttpServletResponse.html#SC_BAD_REQUEST
&gt; 
&gt; I think this is a direct match for what you are proposing because
&gt; XML is syntax.

Thanks. Julian suggested the same logic. 

I prefer the idea of both a status code and content (xml message),
just unsure if it was right.

Thanks.

DaveP.




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5007<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-04-24 22:04:23<br>
Subject:Re: [rest-discuss] doPost.<br>
Message:<br><br>
<pre>On Sun, 24 Apr 2005 19:50:21 +0100, "Dave Pawson" &lt;davep@...&gt;
said:
&gt; &gt; 10.4.1 400 Bad Request
&gt; 
&gt; I guess that's a part of my problem? There was no request to be bad?
&gt; I'm just accepting posted data, hence 400 seems wrong?

The POSTed data you are 'accepting' is always in the body of a
request. You can't get POSTed data without having a request to
extract it from.

&gt;  Or should I be interpreting 'request' in a more general sense
&gt; than an http get?

A request is one type of HTTP 'message'. The term 'message' is
defined in the spec. A response is the other type of message.

In brief: a request has a method name, a URI, a bunch of headers
encoding request metadata and entity metadata, and an entity body.
A client sends it to a server on a channel (TCP/IP socket), and
waits for a response on the same channel.

A response has a status code, a bunch of metadata headers, and
an entity body. A server sends to a client in response to a
particular request, on the same channel it received the request
from.

But I can't do this topic justice. The HTTP RFC spells this out,
you just need to spend some quality time with it.

&gt; I prefer the idea of both a status code and content (xml message),
&gt; just unsure if it was right.

Given that the process is barfing on an XML parsing problem,
I would use the output of the parser as the response body.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5008<br>
Sender:"Lee Fife" &lt;lee@...&gt;<br>
Post Date/Time:2005-04-25 15:56:50<br>
Subject:RE: [rest-discuss] doPost.<br>
Message:<br><br>
<pre>All,
 
fwiw, the idiom I tend to use for errors is to encode a human-readable
description of the error in the response body.
 
I figure that something went wrong and some person is eventually going to
debug this -- that's who the error message is for. The program on the other
end can work off HTTP status code.
 
-Lee


  _____  

From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On
Behalf Of Vincent D Murphy
Sent: Sunday, April 24, 2005 4:04 PM
To: davep@...; Rest List
Subject: Re: [rest-discuss] doPost.


On Sun, 24 Apr 2005 19:50:21 +0100, "Dave Pawson" &lt;davep@...&gt;
said:
&gt; &gt; 10.4.1 400 Bad Request
&gt; 
&gt; I guess that's a part of my problem? There was no request to be bad?
&gt; I'm just accepting posted data, hence 400 seems wrong?

The POSTed data you are 'accepting' is always in the body of a
request. You can't get POSTed data without having a request to
extract it from.

&gt;  Or should I be interpreting 'request' in a more general sense
&gt; than an http get?

A request is one type of HTTP 'message'. The term 'message' is
defined in the spec. A response is the other type of message.

In brief: a request has a method name, a URI, a bunch of headers
encoding request metadata and entity metadata, and an entity body.
A client sends it to a server on a channel (TCP/IP socket), and
waits for a response on the same channel.

A response has a status code, a bunch of metadata headers, and
an entity body. A server sends to a client in response to a
particular request, on the same channel it received the request
from.

But I can't do this topic justice. The HTTP RFC spells this out,
you just need to spend some quality time with it.

&gt; I prefer the idea of both a status code and content (xml message),
&gt; just unsure if it was right.

Given that the process is barfing on an XML parsing problem,
I would use the output of the parser as the response body.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5009<br>
Sender:Dave Pawson &lt;davep@...&gt;<br>
Post Date/Time:2005-04-25 16:37:15<br>
Subject:Re: [rest-discuss] doPost.<br>
Message:<br><br>
<pre>On Sun, 2005-04-24 at 23:04 +0100, Vincent D Murphy wrote:
&gt; On Sun, 24 Apr 2005 19:50:21 +0100, "Dave Pawson" &lt;davep@...&gt;
&gt; said:
&gt; &gt; &gt; 10.4.1 400 Bad Request
&gt; &gt; 
&gt; &gt; I guess that's a part of my problem? There was no request to be bad?
&gt; &gt; I'm just accepting posted data, hence 400 seems wrong?
&gt; 
&gt; The POSTed data you are 'accepting' is always in the body of a
&gt; request. You can't get POSTed data without having a request to
&gt; extract it from.

Which to me doesn't make sense Vincent. However.

&gt; 
&gt; &gt;  Or should I be interpreting 'request' in a more general sense
&gt; &gt; than an http get?
&gt; 
&gt; A request is one type of HTTP 'message'. The term 'message' is
&gt; defined in the spec. A response is the other type of message.
Not get and post?

&gt; 
&gt; In brief: a request has a method name, a URI, a bunch of headers
&gt; encoding request metadata and entity metadata, and an entity body.
&gt; A client sends it to a server on a channel (TCP/IP socket), and
&gt; waits for a response on the same channel.
&gt; 
&gt; A response has a status code, a bunch of metadata headers, and
&gt; an entity body. A server sends to a client in response to a
&gt; particular request, on the same channel it received the request
&gt; from.
&gt; 
&gt; But I can't do this topic justice. The HTTP RFC spells this out,
&gt; you just need to spend some quality time with it.

OK OK :-)
  I'll go read. 


&gt; 
&gt; &gt; I prefer the idea of both a status code and content (xml message),
&gt; &gt; just unsure if it was right.
&gt; 
&gt; Given that the process is barfing on an XML parsing problem,
&gt; I would use the output of the parser as the response body.

The 'barf' is of my own making. Just unsure which level it belongs to.
  Again, thanks for the comments.

regards DaveP


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5010<br>
Sender:Dave Pawson &lt;davep@...&gt;<br>
Post Date/Time:2005-04-25 16:38:24<br>
Subject:RE: [rest-discuss] doPost.<br>
Message:<br><br>
<pre>On Mon, 2005-04-25 at 09:56 -0600, Lee Fife wrote:
&gt; All,
&gt;  
&gt; fwiw, the idiom I tend to use for errors is to encode a human-readable
&gt; description of the error in the response body.
&gt;  
&gt; I figure that something went wrong and some person is eventually going
&gt; to debug this -- that's who the error message is for. The program on
&gt; the other end can work off HTTP status code.

I was hoping to make this a machine to machine transfer Lee.
 As you say though, given enough prompts, a sysadmin will
(hopefully) pick it up.

regards DaveP


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5011<br>
Sender:"Lee Fife" &lt;lee@...&gt;<br>
Post Date/Time:2005-04-25 16:45:56<br>
Subject:RE: [rest-discuss] doPost.<br>
Message:<br><br>
<pre>Right -- the machine to machine portion runs off the HTTP status codes. That
tells you if the transfer worked or not.

When it doesn't, there's something wrong. And that typically means pulling a
human into the loop somewhere. Could be that your code in turn received the
content from somewhere else and just needs to forward the error on. Or maybe
your code is at the point where it can process the parser error message and
fix the posted body w/o human intervention.

None of my code is at that point ...

-Lee 

-----Original Message-----
From: Dave Pawson [mailto:davep@...] 
Sent: Monday, April 25, 2005 10:38 AM
To: Lee Fife
Cc: 'Vincent D Murphy'; 'Rest List'
Subject: RE: [rest-discuss] doPost.

On Mon, 2005-04-25 at 09:56 -0600, Lee Fife wrote:
&gt; All,
&gt;  
&gt; fwiw, the idiom I tend to use for errors is to encode a human-readable 
&gt; description of the error in the response body.
&gt;  
&gt; I figure that something went wrong and some person is eventually going 
&gt; to debug this -- that's who the error message is for. The program on 
&gt; the other end can work off HTTP status code.

I was hoping to make this a machine to machine transfer Lee.
 As you say though, given enough prompts, a sysadmin will
(hopefully) pick it up.

regards DaveP


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5012<br>
Sender:"Roger L. Costello" &lt;costello@...&gt;<br>
Post Date/Time:2005-05-06 20:14:30<br>
Subject:The role of queries in REST?<br>
Message:<br><br>
<pre>Hi Folks,
 
My question is with regards to the role of a Web site in supporting queries.
Let me give an example to demonstrate what I mean.
 
Suppose that a Web site implements this "hierarchical model of resources"
for a bombing mission:
 
Mission
    Plan1
         ...
    Plan2
        Aircraft
            AA36
                ...
            BB06
                Payload
                    Bomb1
                        ...
                    Bomb2
                        Fuze5
 
By implementing this hierarchy the Web site gives users the ability to get
any resource by simply composing a URL, where "/" is used to express a
parent-child relationship in the resource hierarchy.  For example, to obtain
the AA36 aircraft resource in Plan2 the user issues this URL:
 
     &lt;http://[hostname]/Mission/Plan2/Aircraft/AA36&gt;
http://[hostname]/Mission/Plan2/Aircraft/AA36
 
This is, of course, standard REST.
 
Now consider this problem: how would the Web site support the many kinds of
queries that a user might want to make, e.g.,
 
    "Tell me all the Aircraft that carry Bomb1"
 
The first approach that comes to mind is for the Web site to make available
a "form" that the user can retrieve, fill in, and return.  The Web site
parses the form to extract the query, processes it, and returns the results
to the user.
 
However, there is a problem with this approach.  There are virtually
infinitely many different kinds of queries that  users may want to make.
How can a Web site possibly provide a form for every conceivable kind of
query?  It would be impossible to anticipate every kind of query that users
might want to make.
 
More importantly, I believe that focusing on "forms" is missing the point of
REST.
 
Let me now restate my original question: 
 
    What is the role of queries in a REST-based system?  How can a Web site
give 
    users the ability to retrieve the kinds of custom data that they desire?

    How are queries done in a RESTful manner?
 
Below are some thoughts that I have on this issue.  
 
I believe that the REST model can be simply summed up as:
 
     "A Web site is composed of resources.  A Web site should provide a URL
to   
      each resource and enable the exchange, updating and deleting of
resources".  
 
Thus, with REST it is always an exchange of resources and nothing else.
 
So when we start talking about a user filling in a form we are either
talking about a "form resource" or we are breaking away from the REST model.
If we are talking about a "form resource" then how would it fit into the
above mission resource hierarchy?
 
I believe that it is not appropriate in REST to talk about forms.  Instead,
we should talk about resources.  
 
I believe that with the REST model the idea of issuing queries doesn't make
sense.  With REST we exchange resources, not queries.
 
That said, I understand the desire to enable a user to query to a Web site
for information such as "what aircraft carry Bomb1?". 
 
One solution is: this is a user processing issue, not a Web site resource
issue, so it is outside the scope of REST.  In other words, if a user wants
to know what aircraft carry Bomb1 then it is up to the user to retrieve each
aircraft resource and do processing on each aircraft resource to determine
if it carries Bomb1.
 
That's not a particularly satisfying solution.  Perhaps there a way to
rephrase the question so that it involves an exchange of resources, rather
than a query exchange?    
 
I would appreciate hearing your thoughts on this issue.  /Roger
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5013<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-05-06 21:07:51<br>
Subject:Re: [rest-discuss] The role of queries in REST?<br>
Message:<br><br>
<pre>Hi Roger,

I think there are two kinds of querying:

(1)  retrieving subsets of large collections by parameterization (see Mark's
     'indexable' resource type). A Web search is an example of this, 
where the
     intention is to specify a subset of the entire (indexed) web.

(2) specifying previously unknown resource collections by arbitrarily 
complex
    queries based on properties of the resources ('all cars that are yellow
    and built after 1987'). Relational queries (SQL) are an example of this.
    The huge difference to (1) is that there are no parameterization options
    provided by the server but that the client uses knowledge about some 
domain
    model to construct the query.

I think (1) perfectly suits REST's application model but (2) doesn't. I 
suppose the
reason is that in case (2) the client makes assumptions about the 
resources that
are beyond the information it retrives from the server. This is a form 
of unRESTful
coupling (of the client to the specific domain model). If the domain 
model changes,
the queries break (IMHO the reason why the relational model and OO-model 
are such
obstacles in Data Integration/EAI scenarios).

Jan



Roger L. Costello wrote:

&gt; Hi Folks,
&gt;  
&gt; My question is with regards to the role of a Web site in supporting 
&gt; queries.  Let me give an example to demonstrate what I mean.
&gt;  
&gt; Suppose that a Web site implements this "hierarchical model of 
&gt; resources" for a bombing mission:
&gt;  
&gt; Mission
&gt;     Plan1
&gt;          ...
&gt;     Plan2
&gt;         Aircraft
&gt;             AA36
&gt;                 ...
&gt;             BB06
&gt;                 Payload
&gt;                     Bomb1
&gt;                         ...
&gt;                     Bomb2
&gt;                         Fuze5
&gt;  
&gt; By implementing this hierarchy the Web site gives users the ability to 
&gt; get any resource by simply composing a URL, where "/" is used to 
&gt; express a parent-child relationship in the resource hierarchy.  For 
&gt; example, to obtain the AA36 aircraft resource in Plan2 the user issues 
&gt; this URL:
&gt;  
&gt;     http://[hostname]/Mission/Plan2/Aircraft/AA36 
&gt; &lt;http://%5Bhostname%5D/Mission/Plan2/Aircraft/AA36&gt;
&gt;  
&gt; This is, of course, standard REST.
&gt;  
&gt; Now consider this problem: how would the Web site support the many 
&gt; kinds of queries that a user might want to make, e.g.,
&gt;  
&gt;     "Tell me all the Aircraft that carry Bomb1"
&gt;  
&gt; The first approach that comes to mind is for the Web site to make 
&gt; available a "form" that the user can retrieve, fill in, and return.  
&gt; The Web site parses the form to extract the query, processes it, and 
&gt; returns the results to the user.
&gt;  
&gt; However, there is a problem with this approach.  There are virtually 
&gt; infinitely many different kinds of queries that  users may want to 
&gt; make.  How can a Web site possibly provide a form for every 
&gt; conceivable kind of query?  It would be impossible to anticipate 
&gt; every kind of query that users might want to make.
&gt;  
&gt; More importantly, I believe that focusing on "forms" is missing the 
&gt; point of REST.
&gt;  
&gt; Let me now restate my original question:
&gt;  
&gt;     What is the role of queries in a REST-based system?  How can a Web 
&gt; site give
&gt;     users the ability to retrieve the kinds of custom data that they 
&gt; desire?  
&gt;     How are queries done in a RESTful manner?
&gt;  
&gt; Below are some thoughts that I have on this issue. 
&gt;  
&gt; I believe that the REST model can be simply summed up as:
&gt;  
&gt;      "A Web site is composed of resources.  A Web site should provide 
&gt; a URL to  
&gt;       each resource and enable the exchange, updating and deleting of 
&gt; resources". 
&gt;  
&gt; Thus, with REST it is always an exchange of resources and nothing else.
&gt;  
&gt; So when we start talking about a user filling in a form we are either 
&gt; talking about a "form resource" or we are breaking away from the 
&gt; REST model.  If we are talking about a "form resource" then how would 
&gt; it fit into the above mission resource hierarchy?
&gt;  
&gt; I believe that it is not appropriate in REST to talk about 
&gt; forms.  Instead, we should talk about resources. 
&gt;  
&gt; I believe that with the REST model the idea of issuing queries doesn't 
&gt; make sense.  With REST we exchange resources, not queries.
&gt;  
&gt; That said, I understand the desire to enable a user to query to a Web 
&gt; site for information such as "what aircraft carry Bomb1?". 
&gt;  
&gt; One solution is: this is a user processing issue, not a Web site 
&gt; resource issue, so it is outside the scope of REST.  In other words, 
&gt; if a user wants to know what aircraft carry Bomb1 then it is up to the 
&gt; user to retrieve each aircraft resource and do processing on each 
&gt; aircraft resource to determine if it carries Bomb1.
&gt;  
&gt; That's not a particularly satisfying solution.  Perhaps there a way to 
&gt; rephrase the question so that it involves an exchange of resources, 
&gt; rather than a query exchange?   
&gt;  
&gt; I would appreciate hearing your thoughts on this issue.  /Roger
&gt;
&gt; ------------------------------------------------------------------------
&gt; *Yahoo! Groups Links*
&gt;
&gt;     * To visit your group on the web, go to:
&gt;       http://groups.yahoo.com/group/rest-discuss/
&gt;        
&gt;     * To unsubscribe from this group, send an email to:
&gt;       rest-discuss-unsubscribe@yahoogroups.com
&gt;       &lt;mailto:rest-discuss-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;
&gt;        
&gt;     * Your use of Yahoo! Groups is subject to the Yahoo! Terms of
&gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.
&gt;
&gt;


-- 
Jan Algermissen
Consultant &amp; Programmer
http://jalgermissen.com



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5014<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-05-06 21:07:52<br>
Subject:Re: [rest-discuss] The role of queries in REST?<br>
Message:<br><br>
<pre>On Fri, 6 May 2005 16:14:30 -0400, "Roger L. Costello"
&lt;costello@...&gt; said:
&gt;     "Tell me all the Aircraft that carry Bomb1"

Have a Bomb1 resource, which has links to
(a) all aircraft that carry it.
(b) all 'instances' of Bomb1

It depends on whether you are talking about
a particular bomb, or a kind of bomb.

However I'm not sure about compound queries.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5015<br>
Sender:Ryan Tomayko &lt;rtomayko@...&gt;<br>
Post Date/Time:2005-05-06 18:11:42<br>
Subject:Google's accelerator showing massive GET abuse<br>
Message:<br><br>
<pre>Some backlash to Google's accelerator due to the improper use of GET all
around the web:

&lt;http://tinyurl.com/7chxc&gt;

 &gt; Googles web accelerator seems like a good thing for the public web,
 &gt; but it can wreak havok on web-apps and other things with admin-links
 &gt; built into the UI. Hows that?
 &gt;
 &gt; The accelerator scours a page and prefetches the content behind each
 &gt; link. This gives the illusion of pages loading faster (since theyve
 &gt; already been pre-loaded behind the scenes). Heres the problem:  
Google
 &gt; is essentially clicking every link on the page  including links like
 &gt; delete this or cancel that. And to make matters worse, Google
 &gt; ignores the Javascript confirmations. So, if you have a Are you sure
 &gt; you want to delete this? Javascript confirmation behind that  
delete
 &gt; link, Google ignores it and performs the action anyway."

Don't miss the comment thread. I had no idea that GET abuse was this
rampant.

Ryan Tomayko
                                  rtomayko@...
                                  http://naeblis.cx/rtomayko/





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5016<br>
Sender:Elias Sinderson &lt;elias@...&gt;<br>
Post Date/Time:2005-05-06 22:26:00<br>
Subject:Re: [rest-discuss] Google's accelerator showing massive GET abuse<br>
Message:<br><br>
<pre>Ryan Tomayko wrote:

&gt;Some backlash to Google's accelerator due to the improper use of GET all around the web:
&gt;&lt;http://tinyurl.com/7chxc&gt;
&gt;[...] I had no idea that GET abuse was this rampant.
&gt;  
&gt;
Wait a minute, take a step back and look at the situation - people are 
exposing DELETE semantics via the GET method, and then they are 
complaining that GETs are deleting resources? Who is misusing GET in 
this scenario? The backlash is against Google, but it would seem that 
the ones who are abusing GET are actually the developers who insist on 
perverting the sematics of a perfecftly well defined method.


Best,
Elias

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5017<br>
Sender:Ryan Tomayko &lt;rtomayko@...&gt;<br>
Post Date/Time:2005-05-07 02:44:17<br>
Subject:Re: [rest-discuss] Google's accelerator showing massive GET abuse<br>
Message:<br><br>
<pre>On May 6, 2005, at 6:26 PM, Elias Sinderson wrote:
&gt; Ryan Tomayko wrote:
&gt;&gt; Some backlash to Google's accelerator due to the improper use of  
&gt;&gt; GET all around the web:
&gt;&gt; &lt;http://tinyurl.com/7chxc&gt;
&gt;&gt; [...] I had no idea that GET abuse was this rampant.
&gt;&gt;
&gt;&gt;
&gt; Wait a minute, take a step back and look at the situation - people  
&gt; are exposing DELETE semantics via the GET method, and then they are  
&gt; complaining that GETs are deleting resources? Who is misusing GET  
&gt; in this scenario? The backlash is against Google, but it would seem  
&gt; that the ones who are abusing GET are actually the developers who  
&gt; insist on perverting the sematics of a perfecftly well defined method.

That's what I was meaning to convey exactly. The Google accelerator  
was like a massive spotlight for GET abuse. Many have been saying  
that improper use of GET was a serious issue but I didn't realize how  
serious until now.

Ryan Tomayko
                                  rtomayko@...
                                  http://naeblis.cx/rtomayko/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5018<br>
Sender:Elias Sinderson &lt;elias@...&gt;<br>
Post Date/Time:2005-05-07 03:34:49<br>
Subject:Re: [rest-discuss] Google's accelerator showing massive GET abuse<br>
Message:<br><br>
<pre>Ryan Tomayko wrote:

&gt;[...] The Google accelerator was like a massive spotlight for GET abuse. Many have been saying that improper use of GET was a serious issue but I didn't realize how serious until now.
&gt;
Indeed, the ensuing discussion of the posting was / is very interesting 
- some people really GET it.  ;-)  Thanks for the pointer.


Cheers,
Elias

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5019<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-05-07 04:28:44<br>
Subject:Re: [rest-discuss] The role of queries in REST?<br>
Message:<br><br>
<pre>
&gt; By implementing this hierarchy [...]
&gt; This is, of course, standard REST.
REST doesn't encompass implied hierarchical relationships between resources, just explicit linked relationships (hypertext).

&gt; how would the Web site support the many kinds of queries that a user might want to make
&gt; "Tell me all the Aircraft that carry Bomb1"
It's not really the queries that are important, but the results (minor point, I know). 
Giving identity to each and every interesting result is the first step. Returning a representation of those identified results are how a Web site supports all the queries a user might want to make. That's all there is to it - that's the integration point.

However, the way the client app acquires that identifier is the next interesting part - hyperlinking is one way, but not that great with an enormous numbers of resources. Constructing that identifier is another way - which is what you are describing. (I've a feeling we've all heard this before). HTML Forms are a simple description of how to construct that resource identifier. There can be other ways to describe how to construct identifiers - like the OpenSearch stuff from A9.

&gt; The Web site parses the form to extract the query, processes it, and returns the results to the user.
The client app parses the form, not the site. It does this in order to determine the rules for constructing the resource identifer - and those rules imply user interaction. It's usually a really simple name/value pair kind of interaction, but sometimes it's an interactive graphic where a user's mouse click provides coordinates as inputs to generate a resource identifier. (Someday someone will buy a clue and go crazy with defining new widgets for use in a browser.) The browser constructs the resource identifier then retrieves the specified results. 

&gt; How can a Web site possibly provide a form for every conceivable kind of query?  
&gt; It would be impossible to anticipate every kind of query that users might want to make.
That's the job of a Web site though - anticipate what information users want and make it easily accessible. Not all access is required to go through a query - the site can simply use hyperlinks on pages. Those hyperlinks can be put in context where a person (or a machine) can understand what kind of results they point to. This is the 'information architecture' aspect of Web design - when to use categorized links and when to use user input based search.


&gt; So when we start talking about a user filling in a form we are either talking about a "form resource" or we 
&gt; are breaking away from the REST model.  
Not at all. A form is merely a way to generate a resource identifer based on user input. The page that has the form to be filled in is a 'help me locate a resource' type of resource. Pages full of links and explanatory text are also 'resource locator' resources.

&gt; If we are talking about a "form resource" then how would it fit into the above mission resource hierarchy?
The hierarchy of names in the example shouldn't restrict how users can search for information - like you've mentioned, ad hoc searching should be possible. I don't think a page with a form on it has to be a resource distinct from any of the others. Each representation (web page) can have multiple exit points - some as simple hyperlinks, some as search forms, possibly multiple seach forms on a single page. 

&gt; I believe that it is not appropriate in REST to talk about forms. 
It's very appropriate to talk about forms. They are an assistant to hyperlinking. They can also be considered a 'service description language' (in the same way that Perl is considered by some to be a programming language).

&gt; I believe that with the REST model the idea of issuing queries doesn't make sense.
Very very true. A client doesn't 'issue a query' - it retrieves results.

&gt; One solution is: this is a user processing issue, not a Web site resource issue, so it is outside the scope of REST.
This is indeed a user processing issue, and to be useful on the Web it is a good idea to be RESTful. 

&gt;In other words, if a user wants to know what aircraft carry Bomb1 then it is up to the user to retrieve each 
&gt; aircraft resource and do processing on each aircraft resource to determine if it carries Bomb1.
If the designer of the Website did not consider that kind of use, then the poor audience has no choice. The interesting thing is that it is still possible, just boring. But spiders don't get bored. 
However, if the website designer considered this use case, then they can design the resource space to include this kind of result.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5020<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-05-07 04:32:50<br>
Subject:Re: [rest-discuss] Google's accelerator showing massive GET abuse<br>
Message:<br><br>
<pre>&gt; Some backlash to Google's accelerator due to the improper use of GET all
&gt; around the web:
I can only hope this kicks some people in the rear to pay attention to Web
system design.

Ironically, Google abused GET in this way with their Google Alerts email
notifications - there is a link in the message that removes the subscription
by clicking on it.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5021<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-05-07 06:42:44<br>
Subject:Re: [rest-discuss] Google's accelerator showing massive GET abuse<br>
Message:<br><br>
<pre>On Fri, 06 May 2005 15:26:00 -0700, "Elias Sinderson"
&lt;elias@...&gt; said:
&gt; the ones who are abusing GET are actually the developers who insist on 
&gt; perverting the sematics of a perfecftly well defined method.

I think it would be more helpful to place the emphasis on the HTML
spec subsetting HTTP. That is what caused this problem.

I see people doing this as being backed in to a corner, especially
when you see the hoops one has to jump through to issue a PUT/DELETE
request from a HTML page. Its not hard to see how the kind of
developer who focuses on doing their job rather than reading specs
could get bitten by this.

Its embarassing to tell people how great REST/HTTP is, and then have
to go through a workaround because of HTML. Such as
POST-with-a-method-field.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5022<br>
Sender:Ryan Tomayko &lt;rtomayko@...&gt;<br>
Post Date/Time:2005-05-07 07:02:06<br>
Subject:Re: [rest-discuss] Google's accelerator showing massive GET abuse<br>
Message:<br><br>
<pre>On May 7, 2005, at 2:42 AM, Vincent D Murphy wrote:
&gt; On Fri, 06 May 2005 15:26:00 -0700, "Elias Sinderson"
&gt; &lt;elias@...&gt; said:
&gt;
&gt;&gt; the ones who are abusing GET are actually the developers who  
&gt;&gt; insist on
&gt;&gt; perverting the sematics of a perfecftly well defined method.
&gt;
&gt; &lt;snip&gt;
&gt; Its embarassing to tell people how great REST/HTTP is, and then have
&gt; to go through a workaround because of HTML. Such as
&gt; POST-with-a-method-field.

So where do we go from here? Does anyone know off hand whether WHAT- 
WG or other improve-HTML initiative has PUT/DELETE for forms and/or  
some kind of proposal for using verbs correctly for common cases like  
this on their radar? Has anyone even informally proposed potential  
spec enhancements that would provide this kind of functionality? I'll  
go dig and see what I can find out...

Ryan


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5023<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-05-07 11:03:11<br>
Subject:Re: [rest-discuss] Google's accelerator showing massive GET abuse<br>
Message:<br><br>
<pre>On Sat, 7 May 2005 03:02:06 -0400, "Ryan Tomayko" &lt;rtomayko@...&gt;
said:
&gt; So where do we go from here? Does anyone know off hand whether WHAT- 
&gt; WG or other improve-HTML initiative has PUT/DELETE for forms and/or  
&gt; some kind of proposal for using verbs correctly for common cases like  
&gt; this on their radar?

I know that some people fought tooth and nail to have wider verb/method
support in XForms. It has also been an issue in the development of Atom.

http://www.google.com/search?q=xforms+OR+atom+put+delete
http://www.dehora.net/journal/2004/01/jabber_and_alternate_rest_architectures.html
http://www.dehora.net/journal/2004/02/web_idiocy_put_post_j2me_atom_and_reliable_messaging.html

&gt; Has anyone even informally proposed potential  
&gt; spec enhancements that would provide this kind of functionality? I'll  
&gt; go dig and see what I can find out...

The first thing to be done is make XMLHttpRequest support any method in
the method field. There is no reason for the API to put an artificial
constraint on the field; if its syntactically correct (according to the
BNF in the HTTP RFC), it should just use it, and don't make any judgment
about semantics.

After that, WHATWG forms support would be the way to go. To me a
hyperlink
(such as underlined blue text) should mean GET, and anything else should
be
a button. "Buttons change things, links don't, and are therefore safe."
To
make this work for developers, it needs to be as easy to put a button in
a
HTML page as it is to type &lt;a href=""&gt;.

I appreciate your evangelism efforts thus far; keep up the good work.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5024<br>
Sender:Paul James &lt;yahoogroups@...&gt;<br>
Post Date/Time:2005-05-07 11:53:31<br>
Subject:Re: [rest-discuss] Google's accelerator showing massive GET abuse<br>
Message:<br><br>
<pre>I believe the HTML spec got it right, I wouldn't want to issue a PUT or 
a DELETE (or a POST(a)) request from a HTML form.

But why?

GET and POST(p) are "safe" operations, GET because it is immutable and 
POST(p) because it doesn't actually work on resources, just asks the 
server to do some processing using this data. Neither can damage my 
resources without my saying so, I'm in control.

PUT and DELETE (and POST(a)) on the other hand work directly on 
resources, I don't want a dumb generic client like a Web browser messing 
about with my resources directly, I don't know what damage it might 
cause. I want to open up my resources to allow manipulation via PUT and 
DELETE, but only by clients I can full control and trust to not destroy 
my resources.

If I wrote a specific Web client for my Web app then I'd trust it to 
behave and allow it to PUT and DELETE, but HTML is really a document 
markup format and not an application GUI format and HTML browsers are 
document viewers not generic application clients, so I think the HTML 
spec is sensible when it only allows GET and POST methods from HTML forms.

Maybe I'm not thinking hard enough about this, or maybe too hard. Maybe 
PUT and DELETE from HTML forms would be useful and wouldn't undermine 
what HTML is all about, maybe not, I think this issue needs a lot of 
careful thinking before people rush in and extend HTML forms in this way.

Paul.

Ryan Tomayko wrote:
&gt; On May 7, 2005, at 2:42 AM, Vincent D Murphy wrote:
&gt;  &gt; On Fri, 06 May 2005 15:26:00 -0700, "Elias Sinderson"
&gt;  &gt; &lt;elias@...&gt; said:
&gt;  &gt;
&gt;  &gt;&gt; the ones who are abusing GET are actually the developers who 
&gt;  &gt;&gt; insist on
&gt;  &gt;&gt; perverting the sematics of a perfecftly well defined method.
&gt;  &gt;
&gt;  &gt; &lt;snip&gt;
&gt;  &gt; Its embarassing to tell people how great REST/HTTP is, and then have
&gt;  &gt; to go through a workaround because of HTML. Such as
&gt;  &gt; POST-with-a-method-field.
&gt; 
&gt; So where do we go from here? Does anyone know off hand whether WHAT-
&gt; WG or other improve-HTML initiative has PUT/DELETE for forms and/or 
&gt; some kind of proposal for using verbs correctly for common cases like 
&gt; this on their radar? Has anyone even informally proposed potential 
&gt; spec enhancements that would provide this kind of functionality? I'll 
&gt; go dig and see what I can find out...
&gt; 
&gt; Ryan


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5025<br>
Sender:"Jeffrey Winter" &lt;JeffreyWinter@...&gt;<br>
Post Date/Time:2005-05-07 13:00:01<br>
Subject:Re: [rest-discuss] The role of queries in REST?<br>
Message:<br><br>
<pre>Roger,

I'm curious if these questions were triggered by Adam Bosworth's
"Web of Data" presentation,

Summary: http://www.onlamp.com/pub/a/onlamp/2005/04/22/bosworth.html
Slides:  http://www.webratio.com/images/20050408Bosworth.pps

because after reading these, I was left with similar thoughts.

See especially the slides "Queries" and "Changes from normal queries."

He seems to be advocating for a simpler view of data with some
reasonable set of metadata (RSS/Atom being a good first
approximation) that can be used to gather data "sloppily."  I assume
then, that more complex analysis (i.e., the equivalent of sub-queries, 
joins, etc.)
would be the responsibility of the client (which seems to underlie what
you are suggesting.)

I don't think that this necessarily goes against the principles of REST
per se; complex XPath expressions could always be encoded as URLs in
some manner to provide the sort of complex joins you are talking about.
I believe Bosworth is saying that supporting that kind of functionality
simply won't scale massively because the amount of information would need
to be collected in one place.  In the presentation he asks, "what do you
do if Oracle isn't big enough?"  By simplifying what is being stored, there
are opportunities to scale linearly much more easily (but again, I assume
that this means some burden is shifted to the client.)

I actually think he's correct that RSS/Atom is becoming the standard
"Noun" format that is the subject of the HTTP "Verbs" (with proxies
and other intermediaries becoming the "Adverbs" I guess.)

I'd be curious to hear what others think of this.

Thanks,

- Jeff







----- Original Message ----- 
From: "Roger L. Costello" &lt;costello@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Friday, May 06, 2005 4:14 PM
Subject: [rest-discuss] The role of queries in REST?


Hi Folks,

My question is with regards to the role of a Web site in supporting queries.
Let me give an example to demonstrate what I mean.

Suppose that a Web site implements this "hierarchical model of resources"
for a bombing mission:

Mission
    Plan1
         ...
    Plan2
        Aircraft
            AA36
                ...
            BB06
                Payload
                    Bomb1
                        ...
                    Bomb2
                        Fuze5

By implementing this hierarchy the Web site gives users the ability to get
any resource by simply composing a URL, where "/" is used to express a
parent-child relationship in the resource hierarchy.  For example, to obtain
the AA36 aircraft resource in Plan2 the user issues this URL:

     &lt;http://[hostname]/Mission/Plan2/Aircraft/AA36&gt;
http://[hostname]/Mission/Plan2/Aircraft/AA36

This is, of course, standard REST.

Now consider this problem: how would the Web site support the many kinds of
queries that a user might want to make, e.g.,

    "Tell me all the Aircraft that carry Bomb1"

The first approach that comes to mind is for the Web site to make available
a "form" that the user can retrieve, fill in, and return.  The Web site
parses the form to extract the query, processes it, and returns the results
to the user.

However, there is a problem with this approach.  There are virtually
infinitely many different kinds of queries that  users may want to make.
How can a Web site possibly provide a form for every conceivable kind of
query?  It would be impossible to anticipate every kind of query that users
might want to make.

More importantly, I believe that focusing on "forms" is missing the point of
REST.

Let me now restate my original question:

    What is the role of queries in a REST-based system?  How can a Web site
give
    users the ability to retrieve the kinds of custom data that they desire?

    How are queries done in a RESTful manner?

Below are some thoughts that I have on this issue.

I believe that the REST model can be simply summed up as:

     "A Web site is composed of resources.  A Web site should provide a URL
to
      each resource and enable the exchange, updating and deleting of
resources".

Thus, with REST it is always an exchange of resources and nothing else.

So when we start talking about a user filling in a form we are either
talking about a "form resource" or we are breaking away from the REST model.
If we are talking about a "form resource" then how would it fit into the
above mission resource hierarchy?

I believe that it is not appropriate in REST to talk about forms.  Instead,
we should talk about resources.

I believe that with the REST model the idea of issuing queries doesn't make
sense.  With REST we exchange resources, not queries.

That said, I understand the desire to enable a user to query to a Web site
for information such as "what aircraft carry Bomb1?".

One solution is: this is a user processing issue, not a Web site resource
issue, so it is outside the scope of REST.  In other words, if a user wants
to know what aircraft carry Bomb1 then it is up to the user to retrieve each
aircraft resource and do processing on each aircraft resource to determine
if it carries Bomb1.

That's not a particularly satisfying solution.  Perhaps there a way to
rephrase the question so that it involves an exchange of resources, rather
than a query exchange?

I would appreciate hearing your thoughts on this issue.  /Roger


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5026<br>
Sender:Dave Pawson &lt;davep@...&gt;<br>
Post Date/Time:2005-05-07 13:25:09<br>
Subject:Re: [rest-discuss] The role of queries in REST?<br>
Message:<br><br>
<pre>On Fri, 2005-05-06 at 16:14 -0400, Roger L. Costello wrote:
&gt; Hi Folks,
&gt;  
&gt; My question is with regards to the role of a Web site in supporting
&gt; queries.  Let me give an example to demonstrate what I mean.
&gt;  
&gt; Suppose that a Web site implements this "hierarchical model of
&gt; resources" for a bombing mission:
&gt;  
&gt; Mission
&gt;     Plan1
&gt;          ...
&gt;     Plan2
&gt;         Aircraft
&gt;             AA36
&gt;                 ...
&gt;             BB06
&gt;                 Payload
&gt;                     Bomb1
&gt;                         ...
&gt;                     Bomb2
&gt;                         Fuze5

&gt;  

That said, I understand the desire to enable a user to query to a Web
site for information such as "what aircraft carry Bomb1?". 
&gt; That's not a particularly satisfying solution.  Perhaps there a way to
&gt; rephrase the question so that it involves an exchange of resources,
&gt; rather than a query exchange?    
&gt;  
&gt; I would appreciate hearing your thoughts on this issue. 

*An* approach Roger.
  Perhaps just a variant view of a query?
The url is 'missing' some bits.

/mission/*/X/Payload/Bomb1

The question is, what is X?

I know I can capture the url sought from the get,
so perhaps I can return a list of url's for which X is valid?

regards DaveP


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5027<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-05-07 15:22:48<br>
Subject:Re: [rest-discuss] Google's accelerator showing massive GET abuse<br>
Message:<br><br>
<pre>I do respect your opinions on REST (many of your
blog entries are del.icio.us) but I disagree with
much of what you say here.

On Sat, 07 May 2005 12:53:31 +0100, "Paul James"
&lt;yahoogroups@...&gt; said:
[snip]
&gt; GET and POST(p) are "safe" operations, GET because it is immutable and 
&gt; POST(p) because it doesn't actually work on resources, just asks the 
&gt; server to do some processing using this data. Neither can damage my 
&gt; resources without my saying so, I'm in control.

You really need to clarify what you mean by
"my", "I'm", and "control" here. Do you mean
your intentions expressed as a client program,
as a server program, or just as thoughts in
your mind?

HTTP methods as
human concepts with semantics
versus symbols in a computer
-----------------------------

This matters because the client and server
are components of a distributed computer
system, your mind is not.

http://www.ics.uci.edu/~fielding/pubs/dissertation/net_arch_styles.htm#sec_3_4_1

I wonder whether you are confusing the names
used for the methods with their semantics as
expressed in the HTTP RFC. Allow me to describe
my interpretation:

When a process within a server component receives
a request message, its actions are expressed by a
program. What is expressed in the program is whatever
the programmer expressed when (s)he wrote it, among
other things. The semantic choices the programmer
makes are what determines compliance with a design
or an architecture. There is no intrinsic 'magic'
in the names of the HTTP methods; they are just
symbols in the computer. We humans attach the
semantics to these symbols in the form of documents
like "Section 9: Method Definitions" in the HTTP RFC.

http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9

Therefore, neither GET nor POST are intrinsically
safe or unsafe. Their semantics (as expressed by
the programmer) are what matters here. In HTTP,
the *only* method with 'safe' semantics is GET.
That's why the practice of abusing the GET method
by giving it unsafe semantics in a request-handling
program is profoundly wrong. It contradicts a key
concept of Web architecture and is therefore an act
of Web pollution.

Example
-------

Consider a HTML page with title "My Nuclear Weapon"
that includes:

1. a GET-able hyperlink with the text
   "Launch Procedure" that points to the URI of a
   document with that title.

2. a button with the text "Launch" that sends a
   LAUNCH request (I made that method up) to a
   server which handles such requests by executing
   code to launch a nuclear weapon.

There is a world of difference between the two.

The visual distinction between a hyperlink and a
button, and the corresponding semantic distinction
between GET and any other method, are what matters.

(Please don't object to this example on the
basis of security. Instead think of a better
example, like posting a blank comment to a blog with
a hyperlink GET that says "Add comment", and then
asking the user to edit it. Not likely, but possible.)

Agents: Humans and Machines
---------------------------

A machine web agent such as Googlebot is quite
entitled (under web architecture) to GET a
representation of that "nuclear weapon launch
procedure" document just to add it to Google's
index, or cache it, or whatever, but is absolutely
not entitled to send a POST (or LAUNCH) request
to the server just to see what happens.

An agent acting on behalf of a human is entitled
to GET URIs when users activate hyperlinks.
However humans don't click on hyperlinks when
they see a piece of text like 'Delete' or 'Undo'
or 'Launch' unless thats what they intend.

A machine agent does not have the luxury of
optical vision and a decades-old human brain to
understand the out-of-band information implied by
this piece of text.

(And before you suggest "the agent could have
a list of 'dangerous words' or regexps to check
the hyperlink text against", that is a kludge
and therefore irrelevant to a discussion on
architecture.)

An axiom on the choice of HTTP method
-------------------------------------

I'll go out on a limb here and state that "any
non-GET request should be the 'direct' consequence
of a human UI gesture (a click or a drag, a voice
command, or a terminal command, etc.) interpreted
by a Web agent".

Maybe this attempt at an axiom can be improved upon.
Google are totally within their rights (under web
architecture, though maybe not common sense) to
deploy an agent that GETs speculatively. It is the
web apps that are broken. We can't accept that GET
pollution is OK, otherwise the concept of method in
web architecture will become diluted to the point
of being meaningless.

In this context, GET can be seen as the achilles
heel of HTTP, in the same way that DNS is for URI.

POST is not safe
----------------

POST is a lot of things, but safe is not one of
them. There is nothing about the semantics of
POST(p) which explicitly says it will not modify
the state of *some* resource during its execution.
Its semantics explicitly say that it could do
*anything*. It is recommended as a catch-all when
the more restricted semantics of PUT, DELETE (or
any other verb, e.g. LAUNCH, or something from
WebDAV) are not applicable.

All POST says is "do something, anything". Not
'this thing' or 'that thing'. Just 'some thing'.
Any other notion that is said about what the
thing is may exist in your mind, or some
documentation about the resource you are POSTing
to, or even as a computer program that handles
the request, but it is not in the semantics of
the POST method as expressed in the HTTP RFC.

'Something' can include "add this email to
yourself" where the 'yourself' resource is a
mailbox, which is a POST(a) request.

POST is like the '*' wildcard symbol (which means
any character in a Perl regular expression and many
operating system shells). Maybe if it was written
as '*' we'd be better off. :)

&gt; PUT and DELETE (and POST(a)) on the other hand work directly on 
&gt; resources, I don't want a dumb generic client like a Web browser messing 
&gt; about with my resources directly, I don't know what damage it might 
&gt; cause. I want to open up my resources to allow manipulation via PUT and 
&gt; DELETE, but only by clients I can full control and trust to not destroy 
&gt; my resources.

The concepts of 'directly', 'control' and 'trust'
in this sentence are bogus, for reasons I will not
go in to here. Try and map those concepts to
distributed computing concepts.

&gt; If I wrote a specific Web client for my Web app then I'd trust it to 
&gt; behave and allow it to PUT and DELETE, but HTML is really a document 
&gt; markup format and not an application GUI format and HTML browsers are 
&gt; document viewers not generic application clients, so I think the HTML 
&gt; spec is sensible when it only allows GET and POST methods from HTML
&gt; forms.

How is it that the POST method makes sense from
within a 'document', but other methods don't?

HTML may have a heritage in marking up text
documents (cf. SGML), but it has been used for
more than marking up documents ever since somebody
first thought of &lt;form&gt; and &lt;script&gt;.

I cannot see a discrete boundary between the
concept of 'document' and 'user interface' and
am skeptical that it actually exists. As soon
as you put a document in a user interface the
user wants to use it as part of the interface,
and so they become one and the same.

&gt; Maybe I'm not thinking hard enough about this, or maybe too hard. Maybe 
&gt; PUT and DELETE from HTML forms would be useful and wouldn't undermine 
&gt; what HTML is all about, maybe not, I think this issue needs a lot of 
&gt; careful thinking before people rush in and extend HTML forms in this way.

Agreed.

Rushing in may have negative connotations to anyone
who has written a HTML parser, or HTML code, but
experimentation is necessary to find what works.
Its how the Web was built. Generating theories as
a result of careful thinking will only get us so
far; we will always need to test those theories.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5028<br>
Sender:Joe Gregorio &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2005-05-07 16:51:07<br>
Subject:Re: [rest-discuss] Google's accelerator showing massive GET abuse<br>
Message:<br><br>
<pre>On 5/7/05, Ryan Tomayko &lt;rtomayko@...&gt; wrote:
&gt; On May 7, 2005, at 2:42 AM, Vincent D Murphy wrote:
&gt; &gt; On Fri, 06 May 2005 15:26:00 -0700, "Elias Sinderson"
&gt; &gt; &lt;elias@...&gt; said:
&gt; &gt;
&gt; &gt;&gt; the ones who are abusing GET are actually the developers who
&gt; &gt;&gt; insist on
&gt; &gt;&gt; perverting the sematics of a perfecftly well defined method.
&gt; &gt;
&gt; &gt; &lt;snip&gt;
&gt; &gt; Its embarassing to tell people how great REST/HTTP is, and then have
&gt; &gt; to go through a workaround because of HTML. Such as
&gt; &gt; POST-with-a-method-field.
&gt; 
&gt; So where do we go from here? Does anyone know off hand whether WHAT-
&gt; WG or other improve-HTML initiative has PUT/DELETE for forms and/or
&gt; some kind of proposal for using verbs correctly for common cases like
&gt; this on their radar? Has anyone even informally proposed potential
&gt; spec enhancements that would provide this kind of functionality? I'll
&gt; go dig and see what I can find out...

The WHAT-WG Web Forms 2.0 supports GET/PUT/POST and DELETE

http://www.whatwg.org/specs/web-forms/current-work/#methodAndEnctypes

XmlHttpRequest as currently implemented in both IE and Mozilla
supports any method. WHAT-WG is standardizing it in Web Applications
1.0:

http://www.whatwg.org/specs/web-apps/current-work/#xmlhttprequest

   Thanks,
   -joe
    
-- 
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5029<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-05-07 18:24:17<br>
Subject:Re: [rest-discuss] Google's accelerator showing massive GET abuse<br>
Message:<br><br>
<pre>&gt; GET and POST(p) are "safe" operations, GET because it is immutable and
&gt; POST(p) because it doesn't actually work on resources, just asks the
&gt; server to do some processing using this data. Neither can damage my
&gt; resources without my saying so, I'm in control.

POST is not safe and always requires a user to authorize the action - either
explicitly or via training that button-looking things means
'add/modify/remove'.
POST does actually work on resources - the server applies the message data
to the identified resource.
A GET request cannot damage resources even with your saying so, because
there is no way for you to say so. If you did indicate 'allow this request
to change data', then a protocol would need to make that visible to all
receivers and intermediaries - and this protocol chose to use the method
name rather than a flag on arbitrary methods. Other protocols could choose
to have a separate indicator on arbitrary methods - but that moves away from
uniform interfaces. A "GET+allow_modification" request would be equivalent
to a "POST" (or DELETE or PUT).


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5030<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-05-07 18:47:27<br>
Subject:Re: [rest-discuss] Google's accelerator showing massive GET abuse<br>
Message:<br><br>
<pre>On Sat, 7 May 2005, Ryan Tomayko wrote:
&gt; So where do we go from here?

One person has to get married to the job of making sure that browser apps 
can do RESTful programming, probably by spending 1-2 years developing a 
toolkit.  It's a big project with a big payoff.

- Lucas





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5031<br>
Sender:Paul James &lt;yahoogroups@...&gt;<br>
Post Date/Time:2005-05-08 14:05:08<br>
Subject:Re: [rest-discuss] Google's accelerator showing massive GET abuse<br>
Message:<br><br>
<pre>Vincent, I think I have managed to confuse myself yesterday, you are of 
course right. I'm not sure where I was coming from, put it down to a 
long tiring week.

When I was talking about "safe" operations, I was talking about POST(p) 
being safe in the way that it gives the Web application control over 
what a particular POST request means to it and how to alter its 
resources in response, not that it is safe as described in RFC2616 (an 
unfortunate use of the word "safe" on my part).

Of course, PUT and DELETE also give a Web application the same control, 
the method is just applying semantics to the request, not forcing an 
expected behaviour (ie. that a new representation given in a PUT must be 
blindly accepted).

So that also kind of ruins my argument for not supporting other HTTP 
methods in HTML forms, so does anyone know why they were originally left 
out?


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5032<br>
Sender:"Jon Hanna" &lt;jon@...&gt;<br>
Post Date/Time:2005-05-08 14:16:25<br>
Subject:RE: [rest-discuss] Google's accelerator showing massive GET abuse<br>
Message:<br><br>
<pre>&gt; So that also kind of ruins my argument for not supporting other HTTP 
&gt; methods in HTML forms, so does anyone know why they were 
&gt; originally left 
&gt; out?

AFAIK the first browser already had a mechanism for editing and used PUT and
DELETE for that.

Regards,
Jon Hanna
Work: &lt;http://www.selkieweb.com/&gt;
Play: &lt;http://www.hackcraft.net/&gt;
Chat: &lt;irc://irc.freenode.net/selkie&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5033<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-05-08 14:58:41<br>
Subject:Re: [rest-discuss] Google's accelerator showing massive GET abuse<br>
Message:<br><br>
<pre>On Sun, 08 May 2005 15:05:08 +0100, "Paul James"
&lt;rest-discuss@...&gt; said:
[snip]
&gt; other HTTP 
&gt; methods in HTML forms, so does anyone know why they were originally left 
&gt; out?

My understanding (mostly based on reading TimBL's 'Weaving the Web') is
that it just wasn't a priority for Netscape, who were the first the make
a web browser for the masses.

Speculation: It probably didn't help that it took massive engineering
resources just to keep rendering sloppy HTML, which was by definition a
moving target, never mind enable editing it as well. And without HTML
edit mode as a compelling use case for a PUT command, the case for it
lost mindshare. It probably never occurred to anybody that it would be
needed in HTML &lt;form method=''&gt; for things like Wiki.

So, PUT support began and ended with TimBL and the W3C. Nowadays the
best hope is things like the Mozile Mozilla plug-in, which is actually
quite promising, but needs development.

http://mozile.mozdev.org/

Most of the innovation was about things like &lt;blink&gt;, &lt;marquee&gt;, Java
applets and proprietary DHTML. There was nothing about other RESTful
issues such as:

- a graceful way to maintain client-side state, like a per-site shopping
cart,
- authentication,
- good support for PKI.

I could go on but I don't mean to flog a dead horse. Firefox/Mozilla is
the last great hope in my opinion. Camino makes me wish Apple had rowed
in behind them with Safari.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5034<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-05-08 20:40:19<br>
Subject:Re: [rest-discuss] The role of queries in REST?<br>
Message:<br><br>
<pre>On Sat, 7 May 2005 09:00:01 -0400, "Jeffrey Winter"
&lt;JeffreyWinter@...&gt; said:
&gt; I don't think that this necessarily goes against the principles of REST
&gt; per se;

I agree.

My interpretation is that he is advocating a simplified interface and
format to data on the web. Simpler than what we use for databases. The
result is essentially a lowest common denominator. The results are in
RSS, the protocol is HTTP.

There is no doubt that database binary wire formats are definitely past
their sell-by date. Think of how many database drivers we could dispense
with if they all used one wire format.

He doesn't say much about queries, but name-value pairs
(application/x-www-form-urlencoded as used by HTML forms) or Google (no
real syntax) seem to be as far as it goes. Again, lowest common
denominator.

I don't think anything he is proposing contradicts the REST
architectural style either.

&gt; complex XPath expressions could always be encoded as URLs in
&gt; some manner to provide the sort of complex joins you are talking about.

Or, maybe the indexes necessary to make joins work will be maintained by
third party intermediaries (Google?), and they would be the servers to
query. These third parties might run spiders specialised on particular
XML or RDF namespaces or schemas.

[snip]
&gt; I actually think he's correct that RSS/Atom is becoming the standard
&gt; "Noun" format that is the subject of the HTTP "Verbs" (with proxies
&gt; and other intermediaries becoming the "Adverbs" I guess.)

I see URIs as the nouns, and RSS/Atom as more of a structure to hang
metadata on.

I agree that HTTP methods are verbs, but I wonder whether
intermediaries-as-adverbs is stretching the analogy a bit. :)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5035<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-05-08 21:22:17<br>
Subject:Re: [rest-discuss] The role of queries in REST?<br>
Message:<br><br>
<pre>"Vincent D Murphy" &lt;vdm@...&gt; writes:

&gt; [snip]
&gt;&gt; I actually think he's correct that RSS/Atom is becoming the standard
&gt;&gt; "Noun" format that is the subject of the HTTP "Verbs" (with proxies
&gt;&gt; and other intermediaries becoming the "Adverbs" I guess.)
&gt;
&gt; I see URIs as the nouns, and RSS/Atom as more of a structure to hang
&gt; metadata on.

URIs are only the noun of the nouns. The nouns themselves are the
resources to which the URIs point.

I personally think that RSS is a really good noun format for many of
the list of URIs resouces that we talk about in REST.


&gt; I agree that HTTP methods are verbs, but I wonder whether
&gt; intermediaries-as-adverbs is stretching the analogy a bit. :)

I agree too.

But then I can never remember what an adverb is   /8-&gt;



Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5036<br>
Sender:"Roger L. Costello" &lt;costello@...&gt;<br>
Post Date/Time:2005-05-10 19:42:00<br>
Subject:RE: [rest-discuss] The role of queries in REST?<br>
Message:<br><br>
<pre>Hi Folks,
 
Many thanks for your replies.  I am still assimilating your comments.
 
A question arose in my mind as I read the comments from Mike and Jan:
 
To what level should the "rules for constructing resource identifiers" be
hidden from clients?
 
Allow me to elaborate upon this question.
 
Consider these fundamental REST tenets:
 
1. A Web site is comprised of resources.
 
2. Each resource has an identifier, i.e., a URL
 
3. A client uses an identifier to retrieve a resource.  
 
3.1 Corollary: if a client doesn't have the identifier then he can't get the
resource.
 
4. "A form is a way to generate a resource identifier based on user input."
[Mike]
 
Jan spoke about the importance of ensuring that clients are decoupled from a
Web site.  [Paraphrasing] If a client uses information about how a Web site
structures its resources (i.e., the Web site's domain model) then the client
is coupling itself to the Web site - if the Web site reorganizes its
resources then the client's applications will break.  [Jan, have I
summarized your argument correctly?]
 
Isn't there a paradox here?  On the one hand, identifiers to resources must
be made available, else clients can't access the resources.  On the other
hand too much knowledge of resource identifiers leads to coupling.
 
In my original message I proposed that a Web site make visible to clients
this hierarchical model of resources:
 
Mission
    Plan1
         ...
    Plan2
        Aircraft
            AA36
                ...
            BB06
                Payload
                    Bomb1
                        ...
                    Bomb2
                        Fuze5
 
My intent is that clients can utilize this hierarchical model to construct
resource identifiers - a client can retrieve any resource in this hierarchy
by simply creating an XPath expression to the desired resource.  For
example, to retrieve BB06 in Plan2 the client would construct this
identifier:
 
http://[hostname]/mission/plan2/aircraft/BB06
 
Has this Web site exposed too much of its model?  Have I exposed too much of
the rules for constructing resource identifiers?  Will clients become
dangerously coupled?  
 
To what level should the rules for constructing identifiers be exposed by a
Web site?  To what level should they be hidden?  Is it the purpose of forms
to shield clients from the rules for constructing identifiers?  /Roger
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5037<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-05-10 20:43:35<br>
Subject:Re: [rest-discuss] The role of queries in REST?<br>
Message:<br><br>
<pre>Roger L. Costello wrote:

&gt;  
&gt; Jan spoke about the importance of ensuring that clients are decoupled 
&gt; from a Web site.  [Paraphrasing] If a client uses information about 
&gt; how a Web site structures its resources (i.e., the Web site's domain 
&gt; model) then the client is coupling itself to the Web site - if the Web 
&gt; site reorganizes its resources then the client's applications will 
&gt; break.  [Jan, have I summarized your argument correctly?]

Close enough, yes. Though I would not use the term 'Web site', since it 
(IMHO) sort of implies 'resources are pages'.

&gt;  
&gt; Isn't there a paradox here?  On the one hand, identifiers to resources 
&gt; must be made available, else clients can't access the resources.  On 
&gt; the other hand too much knowledge of resource identifiers leads to 
&gt; coupling.

Hmm...no, I don't think so. I was talking about using domain model 
knowledge for constructing queries, not
for constructing identifiers. Clients have to treat URIs as being 
opaque, they must not *construct* URIs but may
only use URIs found in the retreived representations. (modulo GET forms, 
aka Mark's 'indexable resources').

&gt; In my original message I proposed that a Web site make visible to 
&gt; clients this hierarchical model of resources:
&gt;  
&gt; Mission
&gt;     Plan1
&gt;          ...
&gt;     Plan2
&gt;         Aircraft
&gt;             AA36
&gt;                 ...
&gt;             BB06
&gt;                 Payload
&gt;                     Bomb1
&gt;                         ...
&gt;                     Bomb2
&gt;                         Fuze5
&gt;  
&gt; My intent is that clients can utilize this hierarchical model to 
&gt; construct resource identifiers -

REST does not 'allow' any kind of identifier construction (IMHO).

&gt; a client can retrieve any resource in this hierarchy by simply 
&gt; creating an XPath expression to the desired resource.  For example, to 
&gt; retrieve BB06 in Plan2 the client would construct this identifier:
&gt;  
&gt; http://[hostname]/mission/plan2/aircraft/BB06 
&gt; &lt;http://%5Bhostname%5D/mission/plan2/aircraft/BB06&gt;

That would mean that there is some kind of semantic alignment of the 
hierarchy relationship expressed in the example
representation (the semantics being defined in its MIME type) and the 
(assumed?) hierarchy of path's in URIs.
I doubt that this can be derived from REST. What do others think?

&gt;  
&gt; Has this Web site exposed too much of its model?  Have I exposed too 
&gt; much of the rules for constructing resource identifiers?  Will clients 
&gt; become dangerously coupled?

Definitely. Think about how persistent the constructed URIs is, given 
that it has not been uttered by the server but constructed
by the client. If the server changes the hierarchy, the URI becomes sort 
of meaningless or wrong.

&gt;  
&gt; To what level should the rules for constructing identifiers be exposed 
&gt; by a Web site? 

There ain't no constructing of identifiers....

&gt; To what level should they be hidden?  Is it the purpose of forms to 
&gt; shield clients from the rules for constructing identifiers?

I wonder if GET forms are RESTful at all? Are they?

Jan



&gt; /Roger
&gt;
&gt; ------------------------------------------------------------------------
&gt; *Yahoo! Groups Links*
&gt;
&gt;     * To visit your group on the web, go to:
&gt;       http://groups.yahoo.com/group/rest-discuss/
&gt;        
&gt;     * To unsubscribe from this group, send an email to:
&gt;       rest-discuss-unsubscribe@yahoogroups.com
&gt;       &lt;mailto:rest-discuss-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;
&gt;        
&gt;     * Your use of Yahoo! Groups is subject to the Yahoo! Terms of
&gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.
&gt;
&gt;


-- 
Jan Algermissen                          http://www.jalgermissen.com
Consultant &amp; Programmer                  http://www.tugboat.de



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5038<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-05-10 20:58:07<br>
Subject:RE: [rest-discuss] The role of queries in REST?<br>
Message:<br><br>
<pre>On Tue, 10 May 2005 15:42:00 -0400, "Roger L. Costello"
&lt;costello@...&gt; said:
&gt; To what level should the "rules for constructing resource identifiers" be
&gt; hidden from clients?

This issue is explored quite well in this article:

Constructing or Traversing URIs?
http://www.xml.com/pub/a/2005/04/06/restful.html

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5039<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2005-05-10 22:15:35<br>
Subject:Re: [rest-discuss] The role of queries in REST?<br>
Message:<br><br>
<pre>On May 10, 2005, at 1:43 PM, Jan Algermissen wrote:

&gt; REST does not 'allow' any kind of identifier construction (IMHO).

That's not true.  REST only requires that the representations
supply the identifiers.  That doesn't prevent the representation
from dynamically constructing the identifier in accordance with
whatever rules are standard for the media type (e.g., HTML has
forms, server-side image-maps, and Javascript -- all of which
can generate very RESTful transitions to the next state).

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5040<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-05-10 22:57:37<br>
Subject:Re: [rest-discuss] The role of queries in REST?<br>
Message:<br><br>
<pre>Roy T. Fielding wrote:

&gt; On May 10, 2005, at 1:43 PM, Jan Algermissen wrote:
&gt;
&gt;&gt; REST does not 'allow' any kind of identifier construction (IMHO).
&gt;
&gt;
&gt; That's not true.  REST only requires that the representations
&gt; supply the identifiers.  That doesn't prevent the representation
&gt; from dynamically constructing the identifier in accordance with
&gt; whatever rules are standard for the media type (e.g., HTML has
&gt; forms, server-side image-maps, and Javascript -- all of which
&gt; can generate very RESTful transitions to the next state).

Oops...yes, I was obviously making a stupid statement there...
Sorry for causing confusion.

So then....given some representation

&lt;root base="http://ex.org/foo/base/"&gt;
&lt;item id="mission1"&gt;
    &lt;hasPart&gt;
        &lt;item id="plan1"&gt;
            &lt;hasPart&gt;
                 &lt;item id="aircraft-AA36"&gt;
            &lt;/hasPart&gt;
        &lt;/item&gt;
    &lt;/hasPart&gt;
&lt;/item&gt;
&lt;/root&gt;

having a MIME type that defines the neccessary 'construction semantics' 
it would be RESTful
to construct the URI

http://ex.org/foo/base/mission1/plan1/aircraft-AA36

for the innermost item.

Is that what you asked, Roger?


Jan



 

&gt;
&gt; ....Roy
&gt;
&gt;


-- 
Jan Algermissen                          http://www.jalgermissen.com
Consultant &amp; Programmer                  http://www.tugboat.de



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5041<br>
Sender:Dave Pawson &lt;davep@...&gt;<br>
Post Date/Time:2005-05-11 01:07:14<br>
Subject:Re: [rest-discuss] The role of queries in REST?<br>
Message:<br><br>
<pre>On Tue, 2005-05-10 at 22:43 +0200, Jan Algermissen wrote:


&gt; &gt; My intent is that clients can utilize this hierarchical model to 
&gt; &gt; construct resource identifiers -
&gt; 
&gt; REST does not 'allow' any kind of identifier construction (IMHO).
&gt; 
&gt; &gt; a client can retrieve any resource in this hierarchy by simply 
&gt; &gt; creating an XPath expression to the desired resource.  For example, to 
&gt; &gt; retrieve BB06 in Plan2 the client would construct this identifier:
&gt; &gt;  
&gt; &gt; http://[hostname]/mission/plan2/aircraft/BB06 
&gt; &gt; &lt;http://%5Bhostname%5D/mission/plan2/aircraft/BB06&gt;
&gt; 
&gt; That would mean that there is some kind of semantic alignment of the 
&gt; hierarchy relationship expressed in the example
&gt; representation (the semantics being defined in its MIME type) and the 
&gt; (assumed?) hierarchy of path's in URIs.
&gt; I doubt that this can be derived from REST. What do others think?

It seemed to me a fairly clear solution to the problem that Roger posed.
Especially since he painted a clear hierarchy of resource information.

&gt; 
&gt; &gt;  
&gt; &gt; Has this Web site exposed too much of its model?  Have I exposed too 
&gt; &gt; much of the rules for constructing resource identifiers?  Will clients 
&gt; &gt; become dangerously coupled?
&gt; 
&gt; Definitely. Think about how persistent the constructed URIs is, given 
&gt; that it has not been uttered by the server but constructed
&gt; by the client. If the server changes the hierarchy, the URI becomes sort 
&gt; of meaningless or wrong.

Could I redefine that as 'the model has changed'? Implied temporal
coupling yes, but change happens. 

That restricts the query response to some (indeterminate) timeframe,
during which we rely on the host not to change the structure of the
website. Seems realistic to me.

regards DaveP



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5042<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-05-11 04:33:16<br>
Subject:Re: [rest-discuss] The role of queries in REST?<br>
Message:<br><br>
<pre>&gt; Isn't there a paradox here?  On the one hand, identifiers to resources must be made available, else clients can't access the 
&gt; resources.  On the other hand too much knowledge of resource identifiers leads to coupling.
I think Jan meant that the client shouldn't be hardcoded to assume the location of certain things - like looking for resource identifiers such as robots.txt, favicon.gif, etc. Having a level of indirection through a description language allows one client to work with many sites - which is the goal of decoupling

&gt; For example, to retrieve BB06 in Plan2 the client would construct this identifier:
&gt; http://[hostname]/mission/plan2/aircraft/BB06
&gt; Has this Web site exposed too much of its model?  
&gt; Have I exposed too much of the rules for constructing resource identifiers?  Will clients become dangerously coupled?  
If you don't use a description language, then it's all hard-coded and site-specific. If you create a description of how to access the resources, and that description might actually be used by lots of sites, then it's a bit more decoupled. 

I think that pure linking is an easier and very generic approach, and that constructing URIs is flexible but a little less generic. Both are valuable. There might be more flexible approaches, but my guess is they would be less generic - meaning they would be more tightly coupled.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5043<br>
Sender:"Bornholtz, Tim" &lt;tim.bornholtz@...&gt;<br>
Post Date/Time:2005-05-11 10:57:50<br>
Subject:RE: [rest-discuss] The role of queries in REST?<br>
Message:<br><br>
<pre>&gt;&gt; Isn't there a paradox here?  On the one hand, identifiers to resources must &gt;be made available, else clients can't access the 
&gt;&gt; resources.  On the other hand too much knowledge of resource identifiers &gt;leads to coupling.
&gt;I think Jan meant that the client shouldn't be hardcoded to assume the &gt;location of certain things - like looking for resource identifiers such as  &gt;robots.txt, favicon.gif, etc. Having a level of indirection through a &gt;description language allows one client to work with many sites - which is the &gt;goal of decoupling
 

So is there a standard description language being adopted?  I know that Tim Bray suggested one recently ( http://www.tbray.org/ongoing/When/200x/2005/05/03/SMEX-D ).  If eveyone creates their own way to describe the available services then each client is still somewhat tightly coupled to the implementation.

Thanks,
Tim






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5044<br>
Sender:"Bornholtz, Tim" &lt;tim.bornholtz@...&gt;<br>
Post Date/Time:2005-05-11 11:02:44<br>
Subject:Format for PUT/POST<br>
Message:<br><br>
<pre>What's the preferred format for PUT or POST in a REST architecture?  When I do a GET, I get back an XML document that conforms to a schema.  Logically I would like to use the exact same schema for POST and PUT also, but are most resources posted with name/value pairs like an HTML form would create?

Thanks,
Tim
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5045<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-05-11 12:38:52<br>
Subject:Re: [rest-discuss] The role of queries in REST?<br>
Message:<br><br>
<pre>Bornholtz, Tim wrote:

&gt; &gt;&gt; Isn't there a paradox here?  On the one hand, identifiers to 
&gt; resources must &gt;be made available, else clients can't access the
&gt; &gt;&gt; resources.  On the other hand too much knowledge of resource 
&gt; identifiers &gt;leads to coupling.
&gt; &gt;I think Jan meant that the client shouldn't be hardcoded to assume 
&gt; the &gt;location of certain things - like looking for resource 
&gt; identifiers such as  &gt;robots.txt, favicon.gif, etc. Having a level of 
&gt; indirection through a &gt;description language allows one client to work 
&gt; with many sites - which is the &gt;goal of decoupling
&gt;
&gt;
&gt; So is there a standard description language being adopted? 
&gt;
One fascinating thing about REST is IMHO that a description language 
does not make sense, because it's the representations
(obtained at runtime) that tell the client what options (==hyperlinks) 
there are to proceed through the application. There is
just nothing to be described pre-runtime.

Jan


&gt; I know that Tim Bray suggested one recently ( 
&gt; http://www.tbray.org/ongoing/When/200x/2005/05/03/SMEX-D ).  If 
&gt; eveyone creates their own way to describe the available services then 
&gt; each client is still somewhat tightly coupled to the implementation.
&gt;
&gt; Thanks,
&gt; Tim
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; ------------------------------------------------------------------------
&gt; *Yahoo! Groups Links*
&gt;
&gt;     * To visit your group on the web, go to:
&gt;       http://groups.yahoo.com/group/rest-discuss/
&gt;        
&gt;     * To unsubscribe from this group, send an email to:
&gt;       rest-discuss-unsubscribe@yahoogroups.com
&gt;       &lt;mailto:rest-discuss-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;
&gt;        
&gt;     * Your use of Yahoo! Groups is subject to the Yahoo! Terms of
&gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.
&gt;
&gt;


-- 
Jan Algermissen                          http://www.jalgermissen.com
Consultant &amp; Programmer                  http://www.tugboat.de



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5046<br>
Sender:Ryan Tomayko &lt;rtomayko@...&gt;<br>
Post Date/Time:2005-05-11 12:41:50<br>
Subject:Re: [rest-discuss] Format for PUT/POST<br>
Message:<br><br>
<pre>
On May 11, 2005, at 7:02 AM, Bornholtz, Tim wrote:
&gt; What's the preferred format for PUT or POST in a REST architecture?

There's not really a "preferred" format. The PUT or POST should  
include a "Content-Type" header that describes the type of data being  
delivered.

&gt; When I do a GET, I get back an XML document that conforms to a  
&gt; schema.  Logically I would like to use the exact same schema for  
&gt; POST and PUT also,

And you should!

&gt; but are most resources posted with name/value pairs like an HTML  
&gt; form would create?

No. HTML forms use the "application/x-www-url-encoded" when invoking  
a POST but this is in no way a requirement of HTTP. For instance,  
XForms uses application/xml in POST methods.

One thing to watch out for is that some bad web frameworks assume  
that all POSTs will be accompanied by an application/x-www-url- 
encoded body and will attempt to parse this into some kind of data  
structure. These are bugs and should be reported to the framework  
maintainer.

My advice would be to think less about REST and more about HTTP/1.1  
as there is a concrete specification for how the tasks you are trying  
to accomplish should be conducted:

&lt;http://www.faqs.org/rfcs/rfc2616.html&gt;

Ryan Tomayko
                                  rtomayko@...
                                  http://naeblis.cx/rtomayko/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5047<br>
Sender:"Jon Hanna" &lt;jon@...&gt;<br>
Post Date/Time:2005-05-11 12:56:19<br>
Subject:RE: [rest-discuss] Format for PUT/POST<br>
Message:<br><br>
<pre>&gt; What's the preferred format for PUT or POST in a REST 
&gt; architecture?  When I do a GET, I get back an XML document 
&gt; that conforms to a schema.  Logically I would like to use the 
&gt; exact same schema for POST and PUT also, but are most 
&gt; resources posted with name/value pairs like an HTML form would create?

A format that can be interpreted sequentially as it arrives is more RESTful
than one that cannot. A format that refers to other resources by URI
references is much more RESTful than one that cannot. However the use of a
format that doesn't match those requirements is still consistent with REST.

Regards,
Jon Hanna
Work: &lt;http://www.selkieweb.com/&gt;
Play: &lt;http://www.hackcraft.net/&gt;
Chat: &lt;irc://irc.freenode.net/selkie&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5048<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-05-11 13:27:44<br>
Subject:Re: [rest-discuss] The role of queries in REST?<br>
Message:<br><br>
<pre>On Wed, 2005-05-11 at 14:38 +0200, Jan Algermissen wrote:
&gt; One fascinating thing about REST is IMHO that a description language 
&gt; does not make sense, because it's the representations
&gt; (obtained at runtime) that tell the client what options (==hyperlinks) 
&gt; there are to proceed through the application. There is
&gt; just nothing to be described pre-runtime.

There does seem to be a requirement for a description as both
documentation and tooling-input (to create client-side access stubs) for
the software-accessing-an-API case.

It's useful to describe an application state-space apart from its
execution, especially as client software without a human operator can't
respond well to (semantic) changes, and must be (well, it's easiest to
be) built with a hard expectation of the server.

...jsled

-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5049<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-05-11 13:45:07<br>
Subject:Re: [rest-discuss] The role of queries in REST?<br>
Message:<br><br>
<pre>Josh Sled wrote:

&gt;On Wed, 2005-05-11 at 14:38 +0200, Jan Algermissen wrote:
&gt;  
&gt;
&gt;&gt;One fascinating thing about REST is IMHO that a description language 
&gt;&gt;does not make sense, because it's the representations
&gt;&gt;(obtained at runtime) that tell the client what options (==hyperlinks) 
&gt;&gt;there are to proceed through the application. There is
&gt;&gt;just nothing to be described pre-runtime.
&gt;&gt;    
&gt;&gt;
&gt;
&gt;There does seem to be a requirement for a description as both
&gt;documentation and tooling-input (to create client-side access stubs) for
&gt;the software-accessing-an-API case.
&gt;  
&gt;
Yes, I know what you mean (and I have worked on this myself), 
but....would it be RESTful to
implement client behaviour based on knowledge beyond the semantics of a 
MIME type dfinition?

E.g. would it be RESTful to code a client app to GET 
http://www.google.de/search?q=foo
and *after* that expect to receive a list of hits; that is to hard-wire 
the expectation that the
server will offer such a list of possible subsequent state changes? What 
if the state machine
(that is the web app) changes?

OTH, could the behaviour be part of the semantics of a MIME type?

------

BTW, I would like to see such a description language to generate 
*server-side* stubs to
ease the process of bringing legacy apps into REST space....

-------

And....it is an interesting issue (damn, someone give me more time in a 
day :-( ) how the
state machine of a web app relates to process/workflow management 
(essentially the web apps
state machine controls the possible actions of the client[1]) and to 
pi-calculus on the theoretical
level....

[1] ..and can even differentiate between actor roles given the user 
information of the HTTP request.

Jan



&gt;It's useful to describe an application state-space apart from its
&gt;execution, especially as client software without a human operator can't
&gt;respond well to (semantic) changes, and must be (well, it's easiest to
&gt;be) built with a hard expectation of the server.
&gt;
&gt;...jsled
&gt;
&gt;  
&gt;


-- 
Jan Algermissen                          http://www.jalgermissen.com
Consultant &amp; Programmer                  http://www.tugboat.de



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5050<br>
Sender:Koranteng Ofosu-Amaah &lt;amaah@...&gt;<br>
Post Date/Time:2005-05-13 17:43:05<br>
Subject:The Unloved HTML Button and Other Folktales<br>
Message:<br><br>
<pre>Fellow travellers,

You might have seen this already, but if not, consider it my
contribution to the brouhaha about the ongoing abuse of HTTP and other
sundry things we seem to hold dear.

The Unloved HTML Button and Other Folktales

A long, long time ago in a far, far-away land, there lived an HTML Button.

It lived happily with its parents, Mr HTML and Mrs Form, and its
siblings: the older brother Text Entry Box and younger sisters,
Drop-down List and Radio Button. As a family, they didn't look like
much, but they got on with things. Indeed some would say that they had
been second thoughts since grand-parents, Netscape, Microsoft, Apache
and Berners-Lee, preferred to fawn and monopolistically squabble over
cousins, Blink and Marquee Tag, the mobile duo, Java Applet and
ActiveX, and the gruesome but quietly efficient twins, CSS and
JavaScript. Let's not forget the ugly outlier, the Behaviour, and that
perennial favourite of old Sir Tim, Semantic Purity. Still those
pragmatic matchmakers, Fielding and Andreesson got together,
sacrificed a few goats on the altar of sloppy expediency and dotcom
hubris respectively and got the marriage together. The good Reverend
HTTP was the officiating priest. Thus they called for a great many
festivities and plenty palm wine and Schnapps was consumed by the
merry populace. Yahoo! and Google, they ululated as they devoured the
fatted Browser calf.

[snip]

http://koranteng.blogspot.com/2005/05/unloved-html-button-and-other.html

Working as I am in the bowels of (x)forms land, I have been wondering
how exactly we are going to tighten things up so that we no longer
give the vast majority of application authors enough rope to shoot
themselves in the foot, to mix my metaphors.

This is a general issue also with REST, a style much misunderstood
even if fiercely advocated on this and other forums.

My conclusion is that View Source is the thing. I'm going to try to
refrain from further interventions and instead make sure that there is
enough quality code out there to convince harried hotshot programmers
to do the right thing. The REST wiki needs serious additions in this
light.

I do like a good flamefest though, it clears the air, but these days I
doubt the efficacy of that approach and the things exposed by Google's
Web Accelerator give me pause.

Anyway let me stop preaching to the choir... 

Show me the code, right?

-- 
Koranteng
--
Koranteng's Toli - the blog edition
http://koranteng.blogspot.com/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5051<br>
Sender:"Tom" &lt;xeo_at_thermopylae@...&gt;<br>
Post Date/Time:2005-05-16 15:46:57<br>
Subject:Back-Button Problem and Prescod on "Reliable delivery in HTTP"<br>
Message:<br><br>
<pre>The back-button problem:
after a form is submitted, the user may press the back button and then
re-submit the form. How can we allow only a single submission?

Paul Prescod's article "Reliable delivery in HTTP" at
http://www.prescod.net/reliable_http.html describes a solution wherein
one generates unique message-IDs on the server. Each message ID is
associated with a submission (included in the form). I quote at length
from the article - if you're familiar with the article/problem, then
please skip to my question at bottom:

&gt;    A better strategy is to have the server generate the
&gt;    message IDs. One elegant way to do this is to have the 
&gt;    client do a POST asking for an message ID. The server 
&gt;    can return a "Location:" header which points to a newly 
&gt;    generated URI where the client may POST the data. 
&gt;    For instance:
&gt;    &gt;  Client request:
&gt;         POST /service.cgi HTTP/1.1
&gt;    
&gt;       Server response:
&gt;         HTTP/1.1 201 CREATED
&gt;         Location: 
&gt;         http://mysite.com/service.cgi?messageid=32868937368
&gt;    
&gt;         POST http://mysite.com/service.cgi?messageid=32868937368
&gt;    
&gt;    (message body here)
&gt;    
&gt;    The reason this works is because we are using the 
&gt;    original non-reliable POST only to generate a new 
&gt;    message ID and message IDs are cheap. We can retire 
&gt;    them (whether they have been used or not) after a 
&gt;    few hours. They are so cheap that we could hold on 
&gt;    to them for weeks!
&gt;    
&gt;    A client need not worry about accidentally creating two 
&gt;    because the "wasted" one is irrelevant. The client also 
&gt;    need not worry about accidentally posting to the 
&gt;    generated messageID URI twice because the server can 
&gt;    ensure that it only acts on the first message posted to
&gt;    that URI. The response of subsequent POSTs should be the 
&gt;    same as if there had been only one POST so that the 
&gt;    client can get the correct response even if there is 
&gt;    a network outage in the middle of the first response. 

My question:
Using message IDs might allow a client to create new message IDs
by spoofing the form. To prevent this, the server must keep track of
outstanding message IDs (and perhaps optionally time them out)[Prescod
discusses this also]. But this requires that the server save client
state (although minimal) and IMO is a violation of REST. 

Is there another way that is consistent with REST?



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5053<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-05-17 04:41:32<br>
Subject:Re: [rest-discuss] Back-Button Problem and Prescod on "Reliable delivery in HTTP"<br>
Message:<br><br>
<pre>

On Mon, 16 May 2005, Tom wrote:
&gt; The back-button problem:
&gt; after a form is submitted, the user may press the back button and then
&gt; re-submit the form. How can we allow only a single submission?

Use PUT, then it's the user's problem.

- Lucas

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5054<br>
Sender:"Jeffrey Winter" &lt;JeffreyWinter@...&gt;<br>
Post Date/Time:2005-05-17 13:24:18<br>
Subject:RDF Forms Questions<br>
Message:<br><br>
<pre>
I have a few of questions about the relationship between 
RDF Forms [1] and WRDL [2]:

1. RDF Forms is used in a manner similar to an HTML form in that
   they are obtained at "runtime" in order to construct an actual
   request at a particular URI.  WRDL on the other hand, 
   (while still obtainable using a GET) is more geared towards 
   declaring the entire service interface before hand.

   Actually then, they could be used together.

   If both were used to describe a particular service, the 
   WRDL would be declared to return an RDF Form with the GET,
   and presumably the WRDL would also declare the same type
   of representation/document that the RDF Form would 
   construct for a POST and GET query string.  In that regard
   there would be some overlap.

   Are these statements accurate?

2. With WRDL it is possible to specify multiple possible 
   document types that could be submitted with POST.
  
   Is it possible to declare an RDF Form that allows multiple
   document types?  E.g., the ability to submit a Book or a
   CD representation to an Order resource?

3. Is there a way to define a PUT operation in RDF Forms?
   
[1] http://www.markbaker.ca/2003/05/RDF-Forms/
[2] http://www.prescod.net/rest/wrdl/wrdl.html

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5055<br>
Sender:Joe Gregorio &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2005-05-17 13:43:30<br>
Subject:Re: [rest-discuss] Back-Button Problem and Prescod on "Reliable delivery in HTTP"<br>
Message:<br><br>
<pre>On 5/16/05, Tom &lt;xeo_at_thermopylae@...&gt; wrote:
&gt; The back-button problem:
&gt; after a form is submitted, the user may press the back button and then
&gt; re-submit the form. How can we allow only a single submission?
&gt; 
&gt; Paul Prescod's article "Reliable delivery in HTTP" at
&gt; http://www.prescod.net/reliable_http.html describes a solution wherein
&gt; one generates unique message-IDs on the server. Each message ID is
&gt; associated with a submission (included in the form). I quote at length
&gt; from the article - if you're familiar with the article/problem, then
&gt; please skip to my question at bottom:
&gt; 
&gt; &gt;    A better strategy is to have the server generate the
&gt; &gt;    message IDs. One elegant way to do this is to have the
&gt; &gt;    client do a POST asking for an message ID. The server
&gt; &gt;    can return a "Location:" header which points to a newly
&gt; &gt;    generated URI where the client may POST the data.
&gt; &gt;    For instance:
&gt; &gt;    &gt;  Client request:
&gt; &gt;         POST /service.cgi HTTP/1.1
&gt; &gt;
&gt; &gt;       Server response:
&gt; &gt;         HTTP/1.1 201 CREATED
&gt; &gt;         Location:
&gt; &gt;         http://mysite.com/service.cgi?messageid=32868937368
&gt; &gt;
&gt; &gt;         POST http://mysite.com/service.cgi?messageid=32868937368
&gt; &gt;
&gt; &gt;    (message body here)
&gt; &gt;
&gt; &gt;    The reason this works is because we are using the
&gt; &gt;    original non-reliable POST only to generate a new
&gt; &gt;    message ID and message IDs are cheap. We can retire
&gt; &gt;    them (whether they have been used or not) after a
&gt; &gt;    few hours. They are so cheap that we could hold on
&gt; &gt;    to them for weeks!
&gt; &gt;
&gt; &gt;    A client need not worry about accidentally creating two
&gt; &gt;    because the "wasted" one is irrelevant. The client also
&gt; &gt;    need not worry about accidentally posting to the
&gt; &gt;    generated messageID URI twice because the server can
&gt; &gt;    ensure that it only acts on the first message posted to
&gt; &gt;    that URI. The response of subsequent POSTs should be the
&gt; &gt;    same as if there had been only one POST so that the
&gt; &gt;    client can get the correct response even if there is
&gt; &gt;    a network outage in the middle of the first response.
&gt; 
&gt; My question:
&gt; Using message IDs might allow a client to create new message IDs
&gt; by spoofing the form. To prevent this, the server must keep track of
&gt; outstanding message IDs (and perhaps optionally time them out)[Prescod
&gt; discusses this also].

Not necessarily. The IDs can be generated programatically and can
have the timestamp of when they were generated embedded within them.

For example, the ID could be

 ID =  17052005T093800#################

Where the first part of the ID is the current date and time in ISO
format and the rest of the ID is an (MD5/SHA-1/SHA-256, etc) hash of
the date/time + a secret only the server knows. That is:

  ID  = '17052005T093800' + hash('my secret' + '17052005T093800')


   -joe
-- 
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5056<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-05-17 14:13:33<br>
Subject:Re: [rest-discuss] RDF Forms Questions<br>
Message:<br><br>
<pre>On Tue, May 17, 2005 at 09:24:18AM -0400, Jeffrey Winter wrote:
&gt; 
&gt; I have a few of questions about the relationship between 
&gt; RDF Forms [1] and WRDL [2]:
&gt; 
&gt; 1. RDF Forms is used in a manner similar to an HTML form in that
&gt;    they are obtained at "runtime" in order to construct an actual
&gt;    request at a particular URI.  WRDL on the other hand, 
&gt;    (while still obtainable using a GET) is more geared towards 
&gt;    declaring the entire service interface before hand.
&gt; 
&gt;    Actually then, they could be used together.
&gt; 
&gt;    If both were used to describe a particular service, the 
&gt;    WRDL would be declared to return an RDF Form with the GET,
&gt;    and presumably the WRDL would also declare the same type
&gt;    of representation/document that the RDF Form would 
&gt;    construct for a POST and GET query string.  In that regard
&gt;    there would be some overlap.
&gt; 
&gt;    Are these statements accurate?

I suppose there's some ambiguity, but I see them as doing pretty much
the same thing.  If you made the value of WRDL's "representations"
attribute, media types, then I think we'd be declaring almost exactly
the same thing.  RDF Forms just goes a bit more abstract using class
names to suggest operational semantics, whereas WRDL uses the operations
themselves.

&gt; 2. With WRDL it is possible to specify multiple possible 
&gt;    document types that could be submitted with POST.
&gt;   
&gt;    Is it possible to declare an RDF Form that allows multiple
&gt;    document types?  E.g., the ability to submit a Book or a
&gt;    CD representation to an Order resource?

Yup, just specify multiple acceptedMediaType triples.

&gt; 3. Is there a way to define a PUT operation in RDF Forms?

It was in there initially (as a Replaceable class), but I removed it,
figuring that PUT wasn't parameterizable so didn't need it (i.e. it's
use was implicit).  I've recently thought about adding it back in to
support declaring the accepted media types.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5057<br>
Sender:"Jeffrey Winter" &lt;JeffreyWinter@...&gt;<br>
Post Date/Time:2005-05-17 15:34:01<br>
Subject:RE: [rest-discuss] RDF Forms Questions<br>
Message:<br><br>
<pre>
&gt; I suppose there's some ambiguity, but I see them as doing pretty much
&gt; the same thing. 

Still, the interesting thing about RDF Forms (as compared to the
standard use of WRDL or other interface description languages)
is that it is geared more towards a paradigm of
"progressive disclosure" where the interface is unveiled as one 
moves through application state.

The only thing that would be missing is a way to get to 
particular services without a priori knowledge; i.e., given 
some location /services, how do you declare that there are other 
services: /services/order, /services/catalogue, etc.

Some microformat, such as XOXO [1] would seem to fit this 
requirement. Has anyone explored this aspect of interface design
at all?   A GET at /services could return an XOXO document that
points to and describes the various other available services.

It would be nice if, using XOXO and RDF Forms, the entire 
interface description could be discovered by crawling the 
services as opposed to declaring them all a priori.  I'm not entirely
sure this is possible though given RDF Forms lack of explicit
PUT support (which I would like to see.)


&gt;&gt; 3. Is there a way to define a PUT operation in RDF Forms?

&gt; It was in there initially (as a Replaceable class), but I removed it,
&gt; figuring that PUT wasn't parameterizable so didn't need it (i.e. it's
&gt; use was implicit).  

I would like to see explicit PUT support, otherwise, how would the 
interface define the required representation schema?


One more question:

1. With WRDL it is possible to declare that a particular URI
   supports multiple methods.  Is this possible with RDF Forms?





Thanks



[1] http://developers.technorati.com/wiki/XOXO









 

-----Original Message-----
From: Mark Baker [mailto:distobj@...] 
Sent: Tuesday, May 17, 2005 10:14 AM
To: Jeffrey Winter
Cc: rest-discuss@yahoogroups.com
Subject: Re: [rest-discuss] RDF Forms Questions

On Tue, May 17, 2005 at 09:24:18AM -0400, Jeffrey Winter wrote:
&gt; 
&gt; I have a few of questions about the relationship between 
&gt; RDF Forms [1] and WRDL [2]:
&gt; 
&gt; 1. RDF Forms is used in a manner similar to an HTML form in that
&gt;    they are obtained at "runtime" in order to construct an actual
&gt;    request at a particular URI.  WRDL on the other hand, 
&gt;    (while still obtainable using a GET) is more geared towards 
&gt;    declaring the entire service interface before hand.
&gt; 
&gt;    Actually then, they could be used together.
&gt; 
&gt;    If both were used to describe a particular service, the 
&gt;    WRDL would be declared to return an RDF Form with the GET,
&gt;    and presumably the WRDL would also declare the same type
&gt;    of representation/document that the RDF Form would 
&gt;    construct for a POST and GET query string.  In that regard
&gt;    there would be some overlap.
&gt; 
&gt;    Are these statements accurate?

I suppose there's some ambiguity, but I see them as doing pretty much
the same thing.  If you made the value of WRDL's "representations"
attribute, media types, then I think we'd be declaring almost exactly
the same thing.  RDF Forms just goes a bit more abstract using class
names to suggest operational semantics, whereas WRDL uses the operations
themselves.

&gt; 2. With WRDL it is possible to specify multiple possible 
&gt;    document types that could be submitted with POST.
&gt;   
&gt;    Is it possible to declare an RDF Form that allows multiple
&gt;    document types?  E.g., the ability to submit a Book or a
&gt;    CD representation to an Order resource?

Yup, just specify multiple acceptedMediaType triples.

&gt; 3. Is there a way to define a PUT operation in RDF Forms?

It was in there initially (as a Replaceable class), but I removed it,
figuring that PUT wasn't parameterizable so didn't need it (i.e. it's
use was implicit).  I've recently thought about adding it back in to
support declaring the accepted media types.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5058<br>
Sender:"theresa_inquiry" &lt;tdillon@...&gt;<br>
Post Date/Time:2005-05-17 21:32:35<br>
Subject:REST Statistics Needed<br>
Message:<br><br>
<pre>Does anyone have statistics on the use of REST vs. SOAP for web 
services?  I'd be interested in number of developers using REST or the 
percentage of web traffic that is RESTful or any forecasts in REST 
adoption.  I'm doing research for system developers. Thanks.





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5059<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-05-18 03:35:45<br>
Subject:Re: [rest-discuss] REST Statistics Needed<br>
Message:<br><br>
<pre>REST is a description of how the World Wide Web works. Nearly all developers
using the World Wide Web are using REST, whether they know it or not. The
purpose of this rest-discuss group and evengelism is to help people
understand that designing systems intentionally to mesh with REST concepts
results in a better system.



----- Original Message ----- 
From: "theresa_inquiry" &lt;tdillon@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Tuesday, May 17, 2005 2:32 PM
Subject: [rest-discuss] REST Statistics Needed


&gt; Does anyone have statistics on the use of REST vs. SOAP for web
&gt; services?  I'd be interested in number of developers using REST or the
&gt; percentage of web traffic that is RESTful or any forecasts in REST
&gt; adoption.  I'm doing research for system developers. Thanks.
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5060<br>
Sender:"mdkersey" &lt;mdkersey@...&gt;<br>
Post Date/Time:2005-05-21 20:36:01<br>
Subject:Re: The role of queries in REST?<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, "Roger L. Costello"
&lt;costello@m...&gt; wrote:
&gt; Hi Folks,
&gt;  
&gt; Many thanks for your replies.  I am still assimilating your
comments.
&gt; A question arose in my mind as I read the comments from Mike and
Jan:
&gt; To what level should the "rules for constructing resource
identifiers" be
&gt; hidden from clients?
&gt;  
&gt; Allow me to elaborate upon this question.
&gt; Consider these fundamental REST tenets:
&gt; 1. A Web site is comprised of resources.
&gt; 2. Each resource has an identifier, i.e., a URL
&gt; 3. A client uses an identifier to retrieve a resource.  
&gt; 3.1 Corollary: if a client doesn't have the identifier then he can't
get the
&gt; resource.

=================================
Yes, but not a problem The client has the URL of _another_ resource
that can get the resource he wants. 

So while a URL is often a static page, it also can be a program that
asks the user questions. In that case the client _must_ know how to
access the URL of the program. So what you say is true, but that is no
barrier to information access. 

[It's like real life: I may not know how to program in Common Lisp,
but if i have a question I know that I can ask Joe Smith (Common Lisp
guru) for information. He will then ask me questions and give me the 
answer.]

IOW the client need not know _how_ URLs are constructed, but needs to
know the appropriate URL(s) to get information. The client fills out a
form by describing what he wants, a program on the web server accepts
that form and returns an answer. The  program may optionally assign a
bookmarkable URL to that resource.
=================================

&gt; 4. "A form is a way to generate a resource identifier based on user
input."
&gt; [Mike]
&gt;  
&gt; Jan spoke about the importance of ensuring that clients are
decoupled from a
&gt; Web site.  [Paraphrasing] If a client uses information about how a
Web site
&gt; structures its resources (i.e., the Web site's domain model) then
the client
&gt; is coupling itself to the Web site - if the Web site reorganizes its
&gt; resources then the client's applications will break.  [Jan, have I
&gt; summarized your argument correctly?]
&gt;  
&gt; Isn't there a paradox here?  On the one hand, identifiers to
resources must
&gt; be made available, else clients can't access the resources.  On the
other
&gt; hand too much knowledge of resource identifiers leads to coupling.

=================================
Yes, but remember the definition of a paradox. IOW this is not a
logical contradiction. It is a warning to construct sites so they can
be changed w/o interrupting the user. 
=================================

&gt; In my original message I proposed that a Web site make visible to
clients
&gt; this hierarchical model of resources:
&gt; Mission
&gt;     Plan1
&gt;          ...
&gt;     Plan2
&gt;         Aircraft
&gt;             AA36
&gt;                 ...
&gt;             BB06
&gt;                 Payload
&gt;                     Bomb1
&gt;                         ...
&gt;                     Bomb2
&gt;                         Fuze5
&gt;  
&gt; My intent is that clients can utilize this hierarchical model to
construct
&gt; resource identifiers - a client can retrieve any resource in this
hierarchy
&gt; by simply creating an XPath expression to the desired resource.  For
&gt; example, to retrieve BB06 in Plan2 the client would construct this
&gt; identifier:
&gt;  
&gt; http://[hostname]/mission/plan2/aircraft/BB06
&gt;  
&gt; Has this Web site exposed too much of its model?  Have I exposed too
much of
&gt; the rules for constructing resource identifiers?  Will clients
become
&gt; dangerously coupled?  

=================================
If it is adequate to the users and you don't change the site, there
should be no problems. But see below.

&gt; To what level should the rules for constructing identifiers be
exposed by a
&gt; Web site?  To what level should they be hidden?  Is it the purpose
of forms
&gt; to shield clients from the rules for constructing identifiers?  

URIs should be opaque. You may want to look at 
"The Opacity Axiom"
http://www.w3.org/DesignIssues/Axioms.html#opaque

The opacity axiom apparently does not apply to the querystring portion
of a URL.

One concern with non-opaque URLs (or the non-opaque portion of URLs in
the case of querystring variables) is security. E.g., in an intranet,
upon seeing their employee number in a URL, the first thing employees
will do is cut and paste their boss's or friend's employee number and
try to access info they shouldn't. Non-opaque URIs seem to promote
cracking behavior in everyone. 

But many sites have URLs that are (at least partially) not opaque and,
since they never change and are securely managed, are very happy. And,
if there is a change, you can always write server-side code that maps
the old URLs to new ones, either transparently or not.
=================================





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5061<br>
Sender:Andrew Hallam &lt;ahallam@...&gt;<br>
Post Date/Time:2005-05-27 01:21:27<br>
Subject:Help with REST Advocacy<br>
Message:<br><br>
<pre>Hi All,

I'm looking for information that I can use to help promote the use of 
REST principles for the development of simple web services within a 
client organisation.

Without going into a lot of detail, two simple SOAP web services have 
been created using Visual Studio. The developer involved is a VB and 
.Net scripter who just wants to get things done. However, I'm not 
confident that they understand what the SOAP stack is doing or what the 
impact will be on the developers who will be using the services.

I'd much prefer to use a HTTP GET and a simplified XML response message, 
and using that as a starting point to move to a REST approach, but 
simplicity seems to be taking second place to using the latest 
buzzwords. If anyone has any suggestions on how to contrast the two 
approaches I'd really appreciate the help. Thanks.

-- 
Regards
Andrew Hallam

Digital Earth Pty Ltd
www.digitalearth.com.au



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5062<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2005-05-27 05:02:40<br>
Subject:Re: [rest-discuss] Help with REST Advocacy<br>
Message:<br><br>
<pre>Andrew,

Build a prototype of your proposed implementation, show
it to them, and let them choose.  You will probably still lose
the battle, but it beats arguing religion hands down.

Walden

----- Original Message ----- 
From: "Andrew Hallam" &lt;ahallam@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Thursday, May 26, 2005 9:21 PM
Subject: [rest-discuss] Help with REST Advocacy


: Hi All,
: 
: I'm looking for information that I can use to help promote the use of 
: REST principles for the development of simple web services within a 
: client organisation.
: 
: Without going into a lot of detail, two simple SOAP web services have 
: been created using Visual Studio. The developer involved is a VB and 
: .Net scripter who just wants to get things done. However, I'm not 
: confident that they understand what the SOAP stack is doing or what the 
: impact will be on the developers who will be using the services.
: 
: I'd much prefer to use a HTTP GET and a simplified XML response message, 
: and using that as a starting point to move to a REST approach, but 
: simplicity seems to be taking second place to using the latest 
: buzzwords. If anyone has any suggestions on how to contrast the two 
: approaches I'd really appreciate the help. Thanks.
: 
: -- 
: Regards
: Andrew Hallam
: 
: Digital Earth Pty Ltd
: www.digitalearth.com.au
: 
: 
: 
: 
: 
: Yahoo! Groups Links
: 
: 
: 
: 
: 
: 
: 
: __________ NOD32 1.1109 (20050526) Information __________
: 
: This message was checked by NOD32 antivirus system.
: http://www.nod32.com
: 
:

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5063<br>
Sender:Andrew Hallam &lt;ahallam@...&gt;<br>
Post Date/Time:2005-05-28 21:36:28<br>
Subject:Re: [rest-discuss] Help with REST Advocacy<br>
Message:<br><br>
<pre>Hi Walden,

 &gt; Build a prototype of your proposed implementation, show
 &gt; it to them, and let them choose.

Thanks. That actually has a chance of working because the developers who 
have to use the web service are from an external company, have no SOAP 
experience, and have a bit of influence in how things get done.

 &gt; You will probably still lose
 &gt; the battle, but it beats arguing religion hands down.

Thanks for the confidence boost! :-)

Here's the chain of influence that I'm working against.

1. My client has large investment in software from a major GIS[1] vendor.

2. This vendor has released a new "enterprise platform" product which is 
"web service enabled". In reality, nothing in that product itself 
provides web services. You have to use Visual Studio, Apache Axis or 
equivalent to create the SOAP bindings.

3. Sales and technical people from the vendor are talking up web 
services acronyms (SOAP, WSDL and UDDI) without actually knowing much 
about them except that they are "industry standards" for 
"interoperability" (the vendor is pushing the open and interop line 
lately). When challenged, especially on UDDI, all I got was blank looks 
and responses summarised by "it's the latest thing" and "everyone is 
doing it".

4. The software developer likes to learn new things that are good for 
their resume and which the tools make easy to *deliver*. They understand 
how to call a procedure, so SOAP is the "natural" choice. I suggested 
HTTP GET early on and was ignored.

To win this battle I have to break the dependency on Visual Studio and 
get them to think about good design. That's going to be difficult.

Andrew

[1] Geographic Information System


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5064<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2005-05-29 00:52:20<br>
Subject:Re: [rest-discuss] Help with REST Advocacy<br>
Message:<br><br>
<pre>Andrew,

Your developers on the client side might like exploring
your service with nothing more than a browser and some
stylesheet transformations.

Very best of luck.

Walden

----- Original Message ----- 
From: "Andrew Hallam" &lt;ahallam@...&gt;
To: "Walden Mathews" &lt;waldenm@...&gt;
Cc: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Saturday, May 28, 2005 5:36 PM
Subject: Re: [rest-discuss] Help with REST Advocacy


: Hi Walden,
: 
: &gt; Build a prototype of your proposed implementation, show
: &gt; it to them, and let them choose.
: 
: Thanks. That actually has a chance of working because the developers who 
: have to use the web service are from an external company, have no SOAP 
: experience, and have a bit of influence in how things get done.
: 
: &gt; You will probably still lose
: &gt; the battle, but it beats arguing religion hands down.
: 
: Thanks for the confidence boost! :-)
: 
: Here's the chain of influence that I'm working against.
: 
: 1. My client has large investment in software from a major GIS[1] vendor.
: 
: 2. This vendor has released a new "enterprise platform" product which is 
: "web service enabled". In reality, nothing in that product itself 
: provides web services. You have to use Visual Studio, Apache Axis or 
: equivalent to create the SOAP bindings.
: 
: 3. Sales and technical people from the vendor are talking up web 
: services acronyms (SOAP, WSDL and UDDI) without actually knowing much 
: about them except that they are "industry standards" for 
: "interoperability" (the vendor is pushing the open and interop line 
: lately). When challenged, especially on UDDI, all I got was blank looks 
: and responses summarised by "it's the latest thing" and "everyone is 
: doing it".
: 
: 4. The software developer likes to learn new things that are good for 
: their resume and which the tools make easy to *deliver*. They understand 
: how to call a procedure, so SOAP is the "natural" choice. I suggested 
: HTTP GET early on and was ignored.
: 
: To win this battle I have to break the dependency on Visual Studio and 
: get them to think about good design. That's going to be difficult.
: 
: Andrew
: 
: [1] Geographic Information System
: 
: 
: 
: 
: Yahoo! Groups Links
: 
: 
: 
: 
: 
: 
: 
: __________ NOD32 1.1112 (20050527) Information __________
: 
: This message was checked by NOD32 antivirus system.
: http://www.nod32.com
: 
:

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5065<br>
Sender:msd &lt;mad_date@...&gt;<br>
Post Date/Time:2005-05-22 13:04:52<br>
Subject:REST implementation<br>
Message:<br><br>
<pre>
I had the following (newbie) question about REST 

1) Assume I have a URL
http://www.creditcompany.com/CreditApplications to
allow 
the caller access to Credit Application data. 

What are the components I would need to actually
implement the service in J2EE ? 

My understanding is that I would need a (REST) servlet
with implementations of GET,POST,PUT, DELETE which
would locate the resource (CreditApplicationCollection
in the case of a list of CreditApplications) and call
the appropriate method on it. The method will return
XML data that will link to more data (individual
Credit Applications) 

Is this correct ? Are a CreditApplication and a
CreditApplicationCollection different resources ?
(different business objects ??)

Would greatly appreciate it if somebody could very
briefly explain the flow / sequence for an actual J2EE
implementation using J2EE pattern terminology (Front
Controller, Web Service Broker, Business Delegate,
Session Facade, Business Object ???. 
Which J2EE patterns are applicable for a REST
implementation ?

Thanks in Advance !

Makarand

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5066<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-06-01 20:43:25<br>
Subject:Java Servlet REST implementation<br>
Message:<br><br>
<pre>On Sun, 22 May 2005 06:04:52 -0700 (PDT), "msd" &lt;mad_date@...&gt;
said:
&gt; What are the components I would need to actually
&gt; implement the service in J2EE ?

Start with a servlet which dispatches on the
path and method of the request (there are two
variables there, so you're looking at a table
lookup or a nasty if statement).

&gt; My understanding is that I would need a (REST) servlet
&gt; with implementations of GET,POST,PUT, DELETE which
&gt; would locate the resource (CreditApplicationCollection
&gt; in the case of a list of CreditApplications) and call
&gt; the appropriate method on it.

The actual request handlers can be methods in any class
you want, just call them from the servlet. It would
make sense to use a class per resource type, with
methods for the HTTP methods, i.e. GET, POST, etc.

&gt; The method will return
&gt; XML data that will link to more data (individual
&gt; Credit Applications)

Good.

&gt; Is this correct ? Are a CreditApplication and a
&gt; CreditApplicationCollection different resources ?
&gt; (different business objects ??)

This is a good approach. One of the things I don't
like about MVC web frameworks (like Rails) is how
they encourage you to use one controller for both
the collection and the resources it contains. I
think it makes sense to split them apart.

&gt; Would greatly appreciate it if somebody could very
&gt; briefly explain the flow / sequence for an actual J2EE
&gt; implementation using J2EE pattern terminology (Front
&gt; Controller, Web Service Broker, Business Delegate,
&gt; Session Facade, Business Object ???. 

&gt; Which J2EE patterns are applicable for a REST
&gt; implementation ?

None of them... I guess you could call the dispatcher
a Front Controller if you want.

Don't get hung up on J2EE and patterns, you can get
everything you want done with just a servlet and some
POJOs.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5067<br>
Sender:"R. Mark Volkmann" &lt;mark@...&gt;<br>
Post Date/Time:2005-06-01 20:58:43<br>
Subject:Re: [rest-discuss] Java Servlet REST implementation<br>
Message:<br><br>
<pre>Quoting Vincent D Murphy &lt;vdm@...&gt;:

&gt; On Sun, 22 May 2005 06:04:52 -0700 (PDT), "msd" &lt;mad_date@...&gt;
&gt; said:
&gt; &gt; What are the components I would need to actually
&gt; &gt; implement the service in J2EE ?
&gt;
&gt; Start with a servlet which dispatches on the
&gt; path and method of the request

I wrote an article that may interest you if you're going to implement REST
servers with a Java servlet.  It is at
http://www.ociweb.com/jnb/jnbNov2004.html.

--
R. Mark Volkmann
Partner, Object Computing, Inc.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5068<br>
Sender:Andrew Hallam &lt;ahallam@...&gt;<br>
Post Date/Time:2005-06-01 23:54:58<br>
Subject:Re: [rest-discuss] Help with REST Advocacy<br>
Message:<br><br>
<pre>Hi Walden,

 &gt; Build a prototype of your proposed implementation, show
 &gt; it to them, and let them choose.  You will probably still
 &gt; lose the battle, but it beats arguing religion hands down.

You were right. I'm covered in bubbles, and it ain't pretty.

So what did I learn? (This is probably not news to anyone on 
rest-discuss, and I'm feeling slightly cynical at this point in time.)

1. Some developers do not understand HTTP, URIs or the concept of 
resources, but they understand function calls.

2. Some developers do not understand XML, and do not want to learn it. 
Therefore expecting them to use a REST style and XML resources for 
services is futile.

3. When using SOAP some developers initially expect to not have to 
understand the details, and they will do their best to avoid 
understanding XML, SOAP, XSD, WSDL, etc. But, sooner or later they are 
going to have to understand the XML that is moving across the wire and 
understand how to get their SOAP toolkit to produce the required interface.

4. Unless someone has the authority to impose a particular architectural 
style the developers will use the development tools that promise to make 
their life easier and which will look good on their resume.

Ah well...

Andrew

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5069<br>
Sender:"felciano" &lt;felciano@...&gt;<br>
Post Date/Time:2005-06-02 00:04:17<br>
Subject:RESTful API design + documentation tools?<br>
Message:<br><br>
<pre>Hello --

I'm working on a web-enabled API to some of our server functions, and 
have been looking around at existing APIs for inspiration, both in 
implementation design and in how the APIs are released to the 
developer community. There are some very nice ones out there, all of 
which differ slightly in their RESTfulness, implementation and 
documentation:

- http://www.43things.com/about/view/web_service_api
- http://textamerica.com/api.aspx
- http://code.blogspot.com/archives/atom-docs.html
- http://www.backpackit.com/api/
- plus Google, Yahoo, etc.

I'd like to see whether we can use this approach, but have realized 
that I'm lacking tools that help me create a RESTful API.

In particular, it seems clear that one of the biggest challenges in 
REST is figuring out how to think about your functionality in terms 
of resources / documents rather than methods, and building your API 
around those concepts plus HTTP verbs. But if you look at the above 
examples, they all have structured documentation but it is all 
slightly different in terms of what it describes (arguments, 
authentication, example response, error codes, etc). I was wondering 
whether you used any particular tools (or had recommendations) for 
designing and documentating this type of API in the form of developer 
documentation that would be suitable for sending out to folks for 
comments. I'm thinking of something like JavaDoc, but essentially for 
a web-based API only (i.e. no implementation details).

In the absence of such tools, I'll just write it straight in HTML, 
but it seems like a structured approach would help both from a design 
and a documentation standpoint, so I thought I'd see if there were 
any suggestions for this. Note that these could be embedded in source 
code as well (e.g. using @annotations in Java/Python to indicate 
whether a given object is PUTtable). But I haven't seen anything like 
this yet...

Thanks in advance for your time.

Ramon






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5070<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2005-06-02 08:14:54<br>
Subject:Re: [rest-discuss] Help with REST Advocacy<br>
Message:<br><br>
<pre>Andrew Hallam wrote:
&gt; 3. When using SOAP some developers initially expect to not have to 
&gt; understand the details, and they will do their best to avoid 
&gt; understanding XML, SOAP, XSD, WSDL, etc. But, sooner or later they are 
&gt; going to have to understand the XML that is moving across the wire and 
&gt; understand how to get their SOAP toolkit to produce the required interface.

That's the big one IMO. SOAP has been sold via selling certain 
development frameworks that make big promises in this regard.

--
Regards,
Jon Hanna

"if it walks like a duck, and quacks like a duck, it's probably not a 
ConceptualWork about a duck." - Mark Baker

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5071<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-06-02 08:42:14<br>
Subject:Re: [rest-discuss] Help with REST Advocacy<br>
Message:<br><br>
<pre>
On Jun 2, 2005, at 1:54 AM, Andrew Hallam wrote:

&gt; 4. Unless someone has the authority to impose a particular  
&gt; architectural
&gt; style the developers will use the development tools that promise to  
&gt; make
&gt; their life easier and which will look good on their resume.
&gt;

Coming late to this thread and maybe OT, but reading this, I thought  
that
a fundamental problem with REST is how to get the paradigm shift (and  
the
required mental rewiring) into the developer mainstream?

I read a lot about domain driven development recently and  
interestingly one
fundamental issue there explicitly is to 'find the nouns'. In fact,  
pattterns
like 'Strategy' (to make business logic nouns instead of conditional  
application
flow) suit 'RESTful development' very natuarally. So maybe that is a  
way to get
the mainstream developers on the boat? Sort of bringing REST in  
through the back
door (e.g. make the uniform API etc. just another OO pattern). Hmm...

Jan


________________________________________________________________________ 
____________________
Jan Algermissen, Consultant &amp; Programmer                              
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'        
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5072<br>
Sender:Jeoff Wilks &lt;jeoffwilks@...&gt;<br>
Post Date/Time:2005-06-02 13:42:57<br>
Subject:Re: [rest-discuss] Help with REST Advocacy<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5073<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-06-03 05:17:56<br>
Subject:Re: [rest-discuss] Help with REST Advocacy<br>
Message:<br><br>
<pre>Ahh, good idea. I think I'll try that at work. Architecture is such a cold word... 'pattern' is much more cozy...

  ----- Original Message ----- 
  From: Jeoff Wilks 
  To: rest-discuss@yahoogroups.com 
  Cc: ahallam@digitalearth.com.au ; Walden Mathews ; Jan Algermissen 
  Sent: Thursday, June 02, 2005 6:42 AM
  Subject: Re: [rest-discuss] Help with REST Advocacy


  &gt; Sort of bringing REST in through the back door
  &gt; (e.g. make the uniform API etc. just another OO pattern). Hmm...

  Just by renaming it from "REST Architecture" to "The REST Pattern" you could have an army of pattern-crazed J2EE developers clamoring to learn it....   :)



  On 6/2/05, Jan Algermissen &lt;jalgermissen@...&gt; wrote:

    On Jun 2, 2005, at 1:54 AM, Andrew Hallam wrote:

    &gt; 4. Unless someone has the authority to impose a particular
    &gt; architectural
    &gt; style the developers will use the development tools that promise to 
    &gt; make
    &gt; their life easier and which will look good on their resume.
    &gt;

    Coming late to this thread and maybe OT, but reading this, I thought
    that
    a fundamental problem with REST is how to get the paradigm shift (and 
    the
    required mental rewiring) into the developer mainstream?

    I read a lot about domain driven development recently and
    interestingly one
    fundamental issue there explicitly is to 'find the nouns'. In fact, 
    pattterns
    like 'Strategy' (to make business logic nouns instead of conditional
    application
    flow) suit 'RESTful development' very natuarally. So maybe that is a
    way to get
    the mainstream developers on the boat? Sort of bringing REST in 
    through the back
    door (e.g. make the uniform API etc. just another OO pattern). Hmm...

    Jan


    ________________________________________________________________________
    ____________________
    Jan Algermissen, Consultant &amp; Programmer 
    http://jalgermissen.com
    Tugboat Consulting, 'Applying Web technology to enterprise IT'
    http://www.tugboat.de







    Yahoo! Groups Links











------------------------------------------------------------------------------
  Yahoo! Groups Links

    a.. To visit your group on the web, go to:
    http://groups.yahoo.com/group/rest-discuss/
      
    b.. To unsubscribe from this group, send an email to:
    rest-discuss-unsubscribe@yahoogroups.com
      
    c.. Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5074<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-06-03 05:24:56<br>
Subject:Re: [rest-discuss] Help with REST Advocacy<br>
Message:<br><br>
<pre>&gt; So maybe that is a  way to get
&gt; the mainstream developers on the boat? Sort of bringing REST in
&gt; through the back
&gt; door (e.g. make the uniform API etc. just another OO pattern). Hmm...
A uniform API actually is an OO pattern - it's called 'interface' in Java.
Examples are Collection, List, Map, Iterator, etc.

REST is a set of design patterns for large scale networked applications.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5075<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-06-03 08:57:20<br>
Subject:Re: [rest-discuss] Help with REST Advocacy<br>
Message:<br><br>
<pre>
On Jun 3, 2005, at 7:24 AM, S. Mike Dierken wrote:
&gt;
&gt; REST is a set of design patterns for large scale networked  
&gt; applications.

Yes...since I think a design pattern can be seens as a constraint on  
design (reducing the number of possible design decisions). This is  
close enough to 'architectural constraint' to 'justify' the above  
statement I think.

Jan


&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

________________________________________________________________________ 
____________________
Jan Algermissen, Consultant &amp; Programmer                              
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'        
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5076<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-06-03 19:52:11<br>
Subject:transactions with REST<br>
Message:<br><br>
<pre>I had a discussion with some people at work today about RPC and REST
(starting from my premise that RPC systems are always rubbish). 

In the context of this discussion a programmer, who was actually very
much in agreement with the REST way of doing things, suggested that
one of the things REST could not do was transactions.

What he meant was something like you see with SQL:

   start transaction

   sql statement

   sql statement

   sql statement

   commit transaction

I pointed out that REST could be used with a packaged transaction
system, where the individual items to be transacted are packaged into
a single document and then sent with a POST. 

He agreed but still thought that transactions which were separated out
over different 'calls' would be more useful.

I've never done that with REST but it occured to me 5 minutes after
this that transactions could be easily modelled with REST. I'd like to
know what people here think of this scheme:

   POST /transaction
   =&gt; /transaction/xxx

   POST /transaction/xxx
   &lt;item1/&gt;
   =&gt; /transaction/xxx/item1

   POST /transaction/xxx
   &lt;item2/&gt;
   =&gt; /transaction/xxx/item2
   
   POST /transaction/xxx
   &lt;item3/&gt;
   =&gt; /transaction/xxx/item3

To commit the transaction:

   GET /transaction/xxx
   =&gt; &lt;xxx&gt;
        &lt;item1/&gt;
        &lt;item2/&gt;
        &lt;item3/&gt;
      &lt;/xxx&gt;

   PUT /transaction/xxx 
   &lt;xxx&gt;
      &lt;item1/&gt;
      &lt;item2/&gt;
      &lt;item3/&gt;
   &lt;/xxx&gt;

It seems to me this would work as well as anything done with an RPC
client.

I think that the point about this is that it only *models*
transactions with REST, there's no change to the way REST is done.


Anyway, I'd be interested to hear what people think about it.



Nic Ferrier
http://www.tapsellferrier.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5077<br>
Sender:"Andrzej Jan Taramina" &lt;andrzej@...&gt;<br>
Post Date/Time:2005-06-04 13:14:01<br>
Subject:Re: transactions with REST<br>
Message:<br><br>
<pre>Nic:

&gt; In the context of this discussion a programmer, who was actually very much in
&gt; agreement with the REST way of doing things, suggested that one of the things
&gt; REST could not do was transactions.

REST (and even SOAP) calls are typically of long duration. This is 
exacerbated if the invocation is going across the internet.

In that situation, it is usually considered very poor design to hold a 
transaction and tie up the resources on the back end.

Better bet is to keep the granularity of your REST (or WS) calls coarse 
enough that the transaction is handled entirely by the back end.

It points to your colleage thinking of the world in local RPC terms.  That 
doesn't fly very well in a distributed system.  You might want to point him 
at the Fallacies of Distributed Computing  (from Peter Deustch, extended by 
James Gosling):

1) The network is reliable.
2) Latency is zero.
3) Bandwidth is infinite.
4) The network is secure.
5) Topology doesn't change.
6) There is one administrator.
7) Transport cost is zero.
8) The network is homogeneous.


In other words, wrt REST: it's a feature, not a bug! ;-)

Andrzej Jan Taramina
Chaeron Corporation: Enterprise System Solutions
http://www.chaeron.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5078<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-06-04 13:40:01<br>
Subject:Re: [rest-discuss] Re: transactions with REST<br>
Message:<br><br>
<pre>
On Jun 4, 2005, at 3:14 PM, Andrzej Jan Taramina wrote:
&gt;
&gt; REST (and even SOAP) calls are typically of long duration. This is
&gt; exacerbated if the invocation is going across the internet.
&gt;
&gt; In that situation, it is usually considered very poor design to hold a
&gt; transaction and tie up the resources on the back end.
&gt;
&gt; Better bet is to keep the granularity of your REST (or WS) calls  
&gt; coarse
&gt; enough that the transaction is handled entirely by the back end.

I am also wrestling with the transaction issues at the moment and  
while I fully
agree with the issue above, I wonder

- if that means that a 2 phase commit is just not realistically  
doable in a networked
   system and therefore no issue with REST (and we just forget about  
it; no travel bookings
   etc.)

or

- if transactions across unrelated systems indeed make sense in a  
networked system and
   how we do them with REST.

(I read the postings/Wiki pages but I am having a hard time  
distinguishing the ideas on
  local transactions from those about 'distributed' ones. Maybe it  
wouyld be a good idea
  to split the material on the Wiki? Any transaction guru that would  
help me out in doing
  this?)


BTW: can a single HTTP method call considered to be atomic? If a PUT  
fails, can I
assume that nothing of the operation succeded? Can a POST be  
partially processed and
still return with an error? Or is this allways either/or?

Thanks.

Jan

________________________________________________________________________ 
____________________
Jan Algermissen, Consultant &amp; Programmer                          
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'    
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5079<br>
Sender:Peter Marks &lt;peter.c.marks@...&gt;<br>
Post Date/Time:2005-06-04 13:43:12<br>
Subject:Re: [rest-discuss] Re: transactions with REST<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5080<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2005-06-04 20:17:43<br>
Subject:RE: [rest-discuss] Re: transactions with REST<br>
Message:<br><br>
<pre>&gt; REST (and even SOAP) calls are typically of long duration. This is
&gt; exacerbated if the invocation is going across the internet.
&gt; 
&gt; In that situation, it is usually considered very poor design to hold a
&gt; transaction and tie up the resources on the back end.
&gt; 

It would be astonishingly poor design if your server held open a transaction
in the underlying database across these calls. But you don't have to
implement it that way. Nic's original post modeled the transaction as just
another resource, so you could come back and commit that resource even days
later -- I'm sure the implementation would just implement its own simple
sort of transaction log and execute it on commit -- easy. You'd probably
want to combine this model with one of the reliable HTTP ideas floating
around.

&gt; Better bet is to keep the granularity of your REST (or WS) calls coarse
&gt; enough that the transaction is handled entirely by the back end.
&gt; 
&gt; It points to your colleage thinking of the world in local RPC terms.  That
&gt; doesn't fly very well in a distributed system.  You might want to point
&gt; him
&gt; at the Fallacies of Distributed Computing  (from Peter Deustch, extended
&gt; by
&gt; James Gosling):
&gt; 
&gt; 1) The network is reliable.
&gt; 2) Latency is zero.
&gt; 3) Bandwidth is infinite.
&gt; 4) The network is secure.
&gt; 5) Topology doesn't change.
&gt; 6) There is one administrator.
&gt; 7) Transport cost is zero.
&gt; 8) The network is homogeneous.
&gt; 

Excellent list!


Hugh




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5081<br>
Sender:Bob Haugen &lt;bob.haugen@...&gt;<br>
Post Date/Time:2005-06-04 18:17:19<br>
Subject:Re: transactions with REST<br>
Message:<br><br>
<pre>Please forgive me if you eventually get two copies of this message. 
The first one appears to have gone off into space.

I think it is possible to do transactions RESTfully.  Or at least
something a lot like transactions.

If you abstract the idea or pattern of a transaction protocol away
from the details of database implementations, they get easier.  In
particular, 2-phase outcomes no longer require holding locks for the
duration of the "transaction".  Nor does the server need to keep track
of the state of the transaction.

For example, see 
http://www.oasis-open.org/committees/download.php/9836/business_transaction-btp-1.1-spec-wd-04.pdf

One way to deal with transactions RESTfully is to PUT or POST the
first phase result in a provisional state, and the second phase final.
 In other words, the resource state is the transaction state.

For a business example, a quote is a provisional state, an order is final.

Another aspect of transactions from a RESTful point of view is that
the actual transaction protocol involves only two components at a
time, one client which acts as the transaction coordinator, and one
server which acts as the transaction participant or resource manager.

The client may also coordinate other participants in the same logical
transaction, but only needs to interact with one at a time, and none
of the resources need to interact with or know about each other.  All
distributed state management can be done by the client/coordinator.

I don't know if a transaction tree would be RESTful - where a
server/resource manager/participant is also a sub-coordinator. But in
fact that is what happens when Amazon authorizes your credit with
Visa.  In this case, the credit authorization is the provisional
state, and the drawdown is the final state.

You could also use compensations, where the provisional state is the
same as the final state, and you undo the action if the transaction
aborts, but compensation often doesn't work.

See also http://www.choreology.com/standards/standards_btm_spectrum.htm
- it's written in terms of Web service transactions, but the
provisional-final and do-compensate patterns will work for REST, too.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5082<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-06-04 21:32:13<br>
Subject:Re: [rest-discuss] Re: transactions with REST<br>
Message:<br><br>
<pre>"Andrzej Jan Taramina" &lt;andrzej@...&gt; writes:

&gt; Better bet is to keep the granularity of your REST (or WS) calls coarse 
&gt; enough that the transaction is handled entirely by the back end.

Yes, I broadly agree with you.  

But when a transaction is necessary (and sometimes they are) REST
could handle it just as well (I believe better) than RPC systems.

Since a lot of the focus of certain RPC systems has been on
distributing transactions (ahem, EJB) that is quite an interesting
point.


&gt; It points to your colleage thinking of the world in local RPC terms.  

It really doesn't. As I said, my colleague was actually enthusiastic
about REST. But he had been put in situations where he needed
transactions and felt that REST wouldn't allow him get the job done.

I think it's just another one of the things about REST and how little
it is understood because of it's simplicity. 

I think that people tend to be too concrete about the nouns.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5083<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-06-04 21:48:01<br>
Subject:Re: [rest-discuss] Re: transactions with REST<br>
Message:<br><br>
<pre>Jan Algermissen &lt;jalgermissen@...&gt; writes:

&gt; - if transactions across unrelated systems indeed make sense in a  
&gt; networked system and how we do them with REST.

The system I outlined could be easily made to do distributed
transactions.

Just allow a GET against /transactions to return the current
in progress transactions. A discovery protocol if you like.

Once you know what transaction you want to join in with then you just
POST an item into it as I previously described.



Some of this could be formalized, the list of extant transactions
could be defined by DTD or schema, the current state of a transaction
could be modeled by a namespace document.

Anyone think that it's worthwhile specing these out and doing a demo
app?


&gt; BTW: can a single HTTP method call considered to be atomic? If a PUT
&gt; fails, can I assume that nothing of the operation succeded? Can a
&gt; POST be partially processed and still return with an error? Or is
&gt; this allways either/or?

Single HTTP methods can never be truly atomic because HTTP doesn't
necessarily care about whether you recieve the response or not.

You can implement the methods to be atomic on the program side.

But unless you write your own webserver, and write it to be really
smart, then you won't know that the client definitely receieved the
response from your method implementation.


It's not just implementing a server to roll back the operation
if the response was not completly transmitted to the client... there
are no semantics for that. 

For example, if the client gets the status code, and if the status
code is an error (so the client knows the operation failed) but the
client doesn't get the rest of the response, is that a failure to
send, or not?

That's why you need something else on top, to implement transactions
(well, you do when you need this kind of behaviour).


One of the reasons why I think my suggestion works is that it's able
to do 2 phase commit quite well. The final commit can be:

   x = GET ; PUT x ; assert x == GET 


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5084<br>
Sender:"Roger L. Costello" &lt;costello@...&gt;<br>
Post Date/Time:2005-06-05 19:39:45<br>
Subject:REST Issues<br>
Message:<br><br>
<pre>Hi Folks,
 
A colleague and I have put together a list of issues (below) that we have
heard raised in objection to REST.  We have tried to address each of these
issues.  We invite you to participate by:
 
1. Adding your own response to these issues. 
2. We invite you to respond to our responses, i.e., are our responses to the
issues correct, compelling and logical?  
 
/Roger
 
BTW, I really like the the term "REST design pattern".  You will see that we
have used it liberally in the below writeup. 
 

REST Issues


Roger L. Costello and Timothy D. Kehoe


REST is a set of design patterns for large scale networked applications. The
REST design patterns have been employed on the Web for 20 years. It has a
proven track record. Yet despite this, there are still many questions and
issues being raised. Some of them are legitimate and deserve attention.
Below we identify some of the issues that have been raised.


Issue 1: Workflow requires multiple machine-to-machine (M2M) interactions.
HTTP was not designed for multiple M2M interactions. Therefore REST is
inadequate for workflow.

It is true that the original purpose of HTTP was to be a point-to-point
protocol. But that doesn't mean that HTTP is inapplicable; it simply means
that it needs to be repurposed. It is very common for technologies to be
repurposed to meet needs that weren't originally conceived. Consider lasers:
their original purpose was to be a weapon. When lasers were created in the
40's no one envisioned that they would ultimately be used to play CDs and
DVDs, or used as pointers to Powerpoint presentations!

It should be pointed out that SOAP wasn't designed for what it's being used
for today. It was originally designed as a technology for serializing
objects to do remote procedure calls, i.e., a Simple Object Access Protocol.

 


Issue 2: A SOAP header enables expression of Quality of Service (QoS).

We agree that QoS is an important feature, but we disagree that QoS
information should be hidden inside a header (which is hidden inside a SOAP
envelope). QoS information should be elevated right up front in a URL.

Suppose that you were to put QoS information inside a SOAP header. How
would, say, priorities be expressed? As 1, 2, 3? As high, medium, low? Why
couldn't you simply have three different URLs, one for each priority queue?
For example:

The URL for high-priority clients:

http://www.example.org/xpress



The URL for medium-priority clients:

http://www.example.org/expedited



The URL for low-priority clients:

http://www.example.org



There is an important lesson to be learned from this:

URLs are cheap! Use them!

There are many advantages to using multiple URLs to express QoS: 


*	You can assign the URLs to different machines - use a fast machine
for the high priority service. 

*	This REST QoS design pattern scales nicely and facilitates load
balancing. 

Thus we see that embedding QoS info inside a SOAP header is only one
approach, and not necessarily the best approach.

In fact, if we look to the real world we see the REST QoS design pattern
employed in countless places. Consider making an airline reservation:
there's an 800 number for the regular customer, an 800 number for frequent
flyers, and an 800 number for elite members. This lesson was learned long
ago in the real world:

Telephone numbers are cheap! Use them!

There are countless other examples where the REST QoS design pattern is
employed: bank queues, highway express lanes, etc.


Issue 3: A SOAP header enables expression of security.

Let's start from basic principles. The basis of all security is to identify
who you are. Based upon who you are defines what you can do. In our company
the direction on authentication (i.e., determining who you are) is PKI/PKE.
Our perspective is that when you invoke a web service you are invoking a
black box. (Note that this is consistent with layered architectures) Thus, a
client identifies who he is using a PKI certificate and the web service
decides what it can do, given the client's access privileges.

Certainly it is possible to embed a PKI certificate inside a SOAP header.
But why not attach it to the outermost envelope (HTTP) rather than embedding
it within two layers of SOAP wrapping? We acknowledge that there may be some
security things that you currently can't attach to an HTTP header (e.g.,
Kerberos tickets). The question, then, is: "Where is the right place to
standardize? Should the standardization be done at the HTTP level, or at the
SOAP level?" This is a critical issue. The issue is not whether to
standardize but, rather, where to standardize. We have coined a term which
we feel is generally applicable:

The Principle of the Highest Standard

"Given two standards bodies, one which encompasses the other (i.e., is a
higher standards body), it is better to standardize at the higher level,
i.e., with the higher standards body."

The rationale for this principle is as follows. Consider HTTP. It is the
universal protocol of the Web. It impacts all Web technologies. There has
been a lot of innovation based on HTTP. And since HTTP is such a widely
impacting technology, there are many eyes on it and the HTTP committee is
held to a very high barometer. Thus it generates a standard that is open and
less likely to be influenced by powerful corporate interests. Conversely
SOAP is, relatively, a small and isolated Web technology. Standardization
within the SOAP technology will have little impact on the majority of the
Web. This diminishes the opportunity for innovation. 

So, getting back to the issue of security. Let's assume that HTTP does not
support some security feature, say, Kerberos tickets. Should standardization
occur at the SOAP level to incorporate Kerberos tickets within a SOAP
header? Or, should standardization occur at the HTTP level? The Principle of
Highest Standard makes the answer clear - the standardization should occur
at the HTTP level. Thus, we would recommend that the HTTP working group
extend the HTTP standard. If there is security at the HTTP level then it
broadens the options for security on all media, e.g., XHTML pages, audio
files, MPEG files, or even plain HTML pages. Conversely, if the security is
embedded within SOAP then it isolates the solution to only that use (only to
SOAP tool vendors). 

 


Issue 4: Embedding security in SOAP enables passing around the security
information, thereby facilitating single sign-on.

Why is it easier to extract security information from a SOAP header than it
is to extract security information from an HTTP header? I can extract
information from the HTTP header and pass it around (put it into another
HTTP header) just as easily (or easier) as passing around XML. 

Let's explore this issue of passing security information around in more
depth. One of three things can happen when you invoke a web service. Let's
consider the three cases: 


1.	All the work is done at the Web service, and the results are
returned. It seems reasonable that some sort of identity token such as PKI
should be sufficient for security. 

2.	The Web service has to call on other services because it's an
aggregator. Instead, the Web service could simply pass back to the client
all the links and let the client execute all the separate steps. (Recurse on
each of these until you get to the first model.) 

3.	The Web service processes the information that it retrieves from
other services, i.e., the Web service adds value. The Web service is
confronted with two alternatives: 


*	Should the Web service pass the client's PKI certificate (thus, the
Web service is pretending to be the client)? This smells of forgery,
deception, man-in-the-middle. This is not an attractive option. 

*	Or, should the Web service pass its own PKI certificates? The
problem is that the Web service's certificate may have access privileges
that the client doesn't have, or vice versa. 

We agree that there is an issue here. We need some way of chaining
certificates. We recommend approaching the HTTP working group to ask for an
extension to support chaining. 

Note: It's certainly okay to have both camps (REST and SOAP) work on the
problem and let the marketplace sort it out. 


Issue 5: SOAP can be wrapped in different wrappers (HTTP, SMTP, etc). So, if
one wrapper is unsuitable then simply wrap the SOAP in a more suitable
wrapper. REST always requires wrapping in HTTP. Thus, you are forever stuck
with the limitations of HTTP.

This is simply false. HTTP itself can be wrapped in any number of different
wrappers. Example, we could wrap HTTP (a synchronous protocol) within an
SMTP wrapper and thus has an asynchronous protocol.


Some Key Advantages of REST


1.	REST gets you talking about resources and information and data
sharing. The focus is on the data. This is consistent with the goal of
Net-centrity - information sharing. Information sharing is what the Web is
all about. The Web is a distributed hypermedia system. The Web is
implemented with HTTP. REST is a design pattern that uses HTTP. 

2.	REST has a proven track record. Contrast with SOAP which is yet to
be proven. 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5085<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2005-06-05 19:52:30<br>
Subject:Re: [rest-discuss] REST Issues<br>
Message:<br><br>
<pre>It could perhaps be worth defining where REST ends and HTTP begins here.

-- 
Regards,
Jon Hanna

"I don't like to LOOK out of the windows even - there are so many of 
those creeping women, and they creep so fast."
- Charlotte Perkins Gilman, _The Yellow Wallpaper_


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5086<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-06-05 21:07:21<br>
Subject:Re: [rest-discuss] REST Issues<br>
Message:<br><br>
<pre>
On Jun 5, 2005, at 9:39 PM, Roger L. Costello wrote:

&gt; REST is a design pattern that uses HTTP.

I'd rather say:

REST is a set of design patterns. One of these patterns is 'Uniform  
Interface'. The Web is
an application that uses this (among others) design pattern and HTTP  
is the uniform interface
in this case.

Jan



________________________________________________________________________ 
____________________
Jan Algermissen, Consultant &amp; Programmer                              
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'        
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5087<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-06-05 22:42:13<br>
Subject:Re: [rest-discuss] REST Issues<br>
Message:<br><br>
<pre>Just a couple of obvious (to me) comments ...

On Sun, Jun 05, 2005 at 03:39:45PM -0400, Roger L. Costello wrote:
&gt; REST is a set of design patterns for large scale networked applications. The
&gt; REST design patterns have been employed on the Web for 20 years.

At most, depending how you chose to measure it, the Web has been
around for 15 years.  AIUI, REST - or whatever name Roy had in his
head for the style at the time - has only been around for about 12
years.

&gt; Issue 2: A SOAP header enables expression of Quality of Service (QoS).
[snip]
&gt; 
&gt; Issue 3: A SOAP header enables expression of security.
[snip]
&gt;
&gt; Issue 4: Embedding security in SOAP enables passing around the security
&gt; information, thereby facilitating single sign-on.
[snip]

For those, I'd simply say "Ditto for HTTP headers".

&gt; Issue 5: SOAP can be wrapped in different wrappers (HTTP, SMTP, etc). So, if
&gt; one wrapper is unsuitable then simply wrap the SOAP in a more suitable
&gt; wrapper. REST always requires wrapping in HTTP. Thus, you are forever stuck
&gt; with the limitations of HTTP.
&gt; 
&gt; This is simply false. HTTP itself can be wrapped in any number of different
&gt; wrappers. Example, we could wrap HTTP (a synchronous protocol) within an
&gt; SMTP wrapper and thus has an asynchronous protocol.

I wouldn't go there, since you're talking about tunneling.  Instead I'd
point out that REST doesn't require the use of HTTP, it just requires
- from this POV - that the interface semantics be uniform.  So, for
example, sending an email message with SMTP is RESTful (except for the
stateful SMTP preamble of HELO, RCPT FROM, MAIL TO exchanges).

&gt; 2.	REST has a proven track record. Contrast with SOAP which is yet to
&gt; be proven. 

You might also want to point out that SOAP can be used RESTfully; just
shove in a document and headers; just don't include a
method/operation/verb in there anywhere.

Mark.
-- 
Mark Baker.  Ottawa, Ontario, CANADA.          http://www.markbaker.ca
Coactus; Web-inspired integration strategies   http://www.coactus.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5088<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-06-07 02:00:56<br>
Subject:Re: [rest-discuss] Re: transactions with REST<br>
Message:<br><br>
<pre>&gt; Please forgive me if you eventually get two copies of this message.
&gt; The first one appears to have gone off into space.
And there you have the perfect example of a transaction using the REST
design patterns - if at first you don't succeed, try try again.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5089<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-06-07 07:47:26<br>
Subject:SMTP with URIs (was: Re: [rest-discuss] REST Issues)<br>
Message:<br><br>
<pre>On Sun, 5 Jun 2005 18:42:13 -0400, "Mark Baker" &lt;distobj@...&gt; said:
&gt; REST doesn't require the use of HTTP, it just requires
&gt; - from this POV - that the interface semantics be uniform.  So, for
&gt; example, sending an email message with SMTP is RESTful (except for the
&gt; stateful SMTP preamble of HELO, RCPT FROM, MAIL TO exchanges).

Huh? That's a pretty big exception; how much of a typical SMTP
protocol conversation is left?

This got my attention because I am in interested in integrating URIs
with email, as seen in Backpack and Jotspot, and other wikis that let
you send email to a page. I wonder whether its appropriate to use an
SMTP address of

$path@$hostname

given the URI

http://$hostname/$path/

(escaped appropriately of course)

Does this qualify as 'asynchronous REST'? I'm imagining treating that
whole SMTP message as a POST to the resource identified by the SMTP
address (http://$hostname/$path/ above).

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5090<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-06-07 11:38:53<br>
Subject:Re: SMTP with URIs (was: Re: [rest-discuss] REST Issues)<br>
Message:<br><br>
<pre>On Tue, Jun 07, 2005 at 08:47:26AM +0100, Vincent D Murphy wrote:
&gt; On Sun, 5 Jun 2005 18:42:13 -0400, "Mark Baker" &lt;distobj@...&gt; said:
&gt; &gt; REST doesn't require the use of HTTP, it just requires
&gt; &gt; - from this POV - that the interface semantics be uniform.  So, for
&gt; &gt; example, sending an email message with SMTP is RESTful (except for the
&gt; &gt; stateful SMTP preamble of HELO, RCPT FROM, MAIL TO exchanges).
&gt; 
&gt; Huh? That's a pretty big exception; how much of a typical SMTP
&gt; protocol conversation is left?

Well, picture using SMTP via an HTTP gateway; what's RESTful is the
HTTP/SMTP layer, not the SMTP/SMTP one, since the SMTP details of HELO,
RCPT, etc.. are hidden to the clients of the gateway.

FWIW, this is basically how FTP support is built into browsers; the
user on clicks a link (GET), yet several FTP commands are sent as a
result.

&gt; This got my attention because I am in interested in integrating URIs
&gt; with email, as seen in Backpack and Jotspot, and other wikis that let
&gt; you send email to a page. I wonder whether its appropriate to use an
&gt; SMTP address of
&gt; 
&gt; $path@$hostname
&gt; 
&gt; given the URI
&gt; 
&gt; http://$hostname/$path/
&gt; 
&gt; (escaped appropriately of course)

Sure.  You'll lose some of the benefit of the http URI, since, for
example, the mailto scheme isn't hierarchical.  But yah, that sounds
like a good idea to me.

&gt; Does this qualify as 'asynchronous REST'? I'm imagining treating that
&gt; whole SMTP message as a POST to the resource identified by the SMTP
&gt; address (http://$hostname/$path/ above).

Yup, exactly.

Mark.
-- 
Mark Baker.  Ottawa, Ontario, CANADA.          http://www.markbaker.ca
Coactus; Web-inspired integration strategies   http://www.coactus.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5091<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-06-07 12:48:58<br>
Subject:Re: SMTP with URIs (was: Re: [rest-discuss] REST Issues)<br>
Message:<br><br>
<pre>
On Jun 7, 2005, at 9:47 AM, Vincent D Murphy wrote:

&gt;
&gt; $path@$hostname
&gt;
&gt; given the URI
&gt;
&gt; http://$hostname/$path/
&gt;
Great idea! I even managed to set up an email address of /foo/bar@  
and to get an email though.

&gt; (escaped appropriately of course)

Since the above works, what would I need to escape? IOW, can someone  
tell me in what RFC this is defined?

Jan


&gt;
&gt; Does this qualify as 'asynchronous REST'? I'm imagining treating that
&gt; whole SMTP message as a POST to the resource identified by the SMTP
&gt; address (http://$hostname/$path/ above).
&gt;


&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

________________________________________________________________________ 
____________________
Jan Algermissen, Consultant &amp; Programmer                              
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'        
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5092<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-06-07 13:32:11<br>
Subject:Re: SMTP with URIs (was: Re: [rest-discuss] REST Issues)<br>
Message:<br><br>
<pre>On Tue, 7 Jun 2005 14:48:58 +0200, "Jan Algermissen"
&lt;jalgermissen@...&gt; said:
&gt; &gt; (escaped appropriately of course)
&gt; 
&gt; Since the above works, what would I need to escape? IOW, can someone  
&gt; tell me in what RFC this is defined?

I'm not sure, because I was actually just covering my ass. :)

I guess you're looking for a lowest common denominator between
the BNF of RFC822 (or RFC2822), the format of mail messages (and
more importantly, addresses), and RFC2396, URIs.

Maybe they're the same, but I would be surprised if there aren't
at least a few corner cases.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5093<br>
Sender:Laurian Gridinoc &lt;laurian@...&gt;<br>
Post Date/Time:2005-06-07 18:08:00<br>
Subject:Re: SMTP with URIs (was: Re: [rest-discuss] REST Issues)<br>
Message:<br><br>
<pre>On 6/7/05, Mark Baker &lt;distobj@...&gt; wrote:
&gt; Sure.  You'll lose some of the benefit of the http URI, since, for
&gt; example, the mailto scheme isn't hierarchical.  But yah, that sounds
&gt; like a good idea to me.

But some MX, like Qmail can handle hierachies and even provide a
fallback, ex. foo-bar-baz@... can be matched by .qmail files:
.qmail-foo-bar-baz
and foo-bar-abc@... will match ti
.qmail-foo-bar if exists

Cheers,
-- 
Laurian Gridinoc, www.grapefruit.ro

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5094<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-06-10 14:07:43<br>
Subject:Re: SMTP with URIs (was: Re: [rest-discuss] REST Issues)<br>
Message:<br><br>
<pre>I an not sure if I was able to understand the BNF in RFC822  
correctly. I could'nt find
a production for 'atom' for some reason.

Anyhow, I was told today, that email addresses (the local part) may  
contain

a-zA-Z0-9-_.

which isn't really that much :o)

some issues arise:

- since URLs are case sensitive and email addresses are not, do the  
existing transport agents
   preserve the case?

- do we encode the leading slash or do we drop it because we know it  
must be there?

- @ is not allowed in path portions of URIs, so we can safely just  
decode our encoded email
   addresses until we find @

- suppose we encode like CGI, that is using a special character  
followed by the hex value of
   the encoded one, what special  character can we use given that all  
allowed characters occurr
   in ordinary email addresses?

   Or maybe this is no issue at all, because the encoded email  
addresses are dispatched to
   the HTTP POST 'gateway' based on the mail agent's configuration  
anyhow *before* decoding
   becomes an issue.


Any further thoughts?


Jan



On Jun 7, 2005, at 3:32 PM, Vincent D Murphy wrote:

&gt; On Tue, 7 Jun 2005 14:48:58 +0200, "Jan Algermissen"
&gt; &lt;jalgermissen@...&gt; said:
&gt;
&gt;&gt;&gt; (escaped appropriately of course)
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; Since the above works, what would I need to escape? IOW, can someone
&gt;&gt; tell me in what RFC this is defined?
&gt;&gt;
&gt;
&gt; I'm not sure, because I was actually just covering my ass. :)
&gt;
&gt; I guess you're looking for a lowest common denominator between
&gt; the BNF of RFC822 (or RFC2822), the format of mail messages (and
&gt; more importantly, addresses), and RFC2396, URIs.
&gt;
&gt; Maybe they're the same, but I would be surprised if there aren't
&gt; at least a few corner cases.
&gt;

________________________________________________________________________ 
____________________
Jan Algermissen, Consultant &amp; Programmer                              
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'        
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5095<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-06-10 15:17:14<br>
Subject:Re: SMTP with URIs (was: Re: [rest-discuss] REST Issues)<br>
Message:<br><br>
<pre>
On Jun 7, 2005, at 9:47 AM, Vincent D Murphy wrote:
&gt;

&gt;  I wonder whether its appropriate to use an
&gt; SMTP address of
&gt;
&gt; $path@$hostname
&gt;
&gt; given the URI
&gt;
&gt; http://$hostname/$path/
&gt;
&gt; (escaped appropriately of course)

Umm....since all valid email address local name characters are valid  
URL characters...how are we
going to do the escaping reliably????

Jan

&gt;
&gt; Does this qualify as 'asynchronous REST'? I'm imagining treating that
&gt; whole SMTP message as a POST to the resource identified by the SMTP
&gt; address (http://$hostname/$path/ above).
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

________________________________________________________________________ 
____________________
Jan Algermissen, Consultant &amp; Programmer                              
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'        
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5096<br>
Sender:Jeoff Wilks &lt;jeoffwilks@...&gt;<br>
Post Date/Time:2005-06-10 16:18:49<br>
Subject:Re: SMTP with URIs (was: Re: [rest-discuss] REST Issues)<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5097<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-06-10 22:32:23<br>
Subject:Re: SMTP with URIs (was: Re: [rest-discuss] REST Issues)<br>
Message:<br><br>
<pre>Jeoff,

thanks for this. I just did not get it from the text.

And for another issue:

Does anyone have an idea how to make use of the email's From address if
HTTP authentication is required by the target resource?

Is an email address a valid HTTP auth username? And one would need some
identity verification, e.g. PGP for the From address...


Jan




On Jun 10, 2005, at 6:18 PM, Jeoff Wilks wrote:

&gt; 1. Could the mailto URI spec be used to fit the application?
&gt; http://www.ietf.org/rfc/rfc2368.txt  (page 2 has grammar and  
&gt; encoding details)
&gt;
&gt; 2. If you absolutely have to encode a request URI into an email  
&gt; address itself...
&gt; http://www.ietf.org/rfc/rfc2822.txt  (see 3.4.1 Addr-spec, and then  
&gt; reference 3.2.4 Atom)
&gt;
&gt; "If the [local portion of the email address string] can be  
&gt; represented as a dot-atom (that is, it contains no characters other  
&gt; than atext characters or "." surrounded by atext characters), then  
&gt; the dot-atom form SHOULD be used ..."
&gt;  - 3.4.1 excerpt
&gt;
&gt; From the grammar, atext includes these characters:
&gt;
&gt; atext           =       ALPHA / DIGIT / ; Any character except  
&gt; controls,
&gt;                         "!" / "#" /     ;  SP, and specials.
&gt;                         "$" / "%" /     ;  Used for atoms
&gt;                         "&amp;" / "'" /
&gt;                         "*" / "+" /
&gt;                         "-" / "/" /
&gt;                         "=" / "?" /
&gt;                         "^" / "_" /
&gt;                         "`" / "{" /
&gt;                         "|" / "}" /
&gt;                         "~"
&gt;
&gt; To support a wider range of characters, you could use a quoted- 
&gt; string (sec 3.2.5):
&gt;
&gt; "Strings of characters that include characters other than those  
&gt; allowed in atoms may be represented in a quoted string format,  
&gt; where the characters are surrounded by quote (DQUOTE, ASCII value  
&gt; 34) characters."
&gt;
&gt; That works as long as you don't need the " character...
&gt;
&gt; --Jeoff
&gt;
&gt;
&gt; On 6/10/05, Jan Algermissen &lt;jalgermissen@...&gt; wrote:
&gt; On Jun 7, 2005, at 9:47 AM, Vincent D Murphy wrote:
&gt; &gt;
&gt;
&gt; &gt;  I wonder whether its appropriate to use an
&gt; &gt; SMTP address of
&gt; &gt;
&gt; &gt; $path@$hostname
&gt; &gt;
&gt; &gt; given the URI
&gt; &gt;
&gt; &gt; http://$hostname/$path/
&gt; &gt;
&gt; &gt; (escaped appropriately of course)
&gt;
&gt; Umm....since all valid email address local name characters are valid
&gt; URL characters...how are we
&gt; going to do the escaping reliably????
&gt;
&gt; Jan
&gt;
&gt; &gt;
&gt; &gt; Does this qualify as 'asynchronous REST'? I'm imagining treating  
&gt; that
&gt; &gt; whole SMTP message as a POST to the resource identified by the SMTP
&gt; &gt; address (http://$hostname/$path/ above).
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; Yahoo! Groups Links
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt;
&gt; ______________________________________________________________________ 
&gt; __
&gt; ____________________
&gt; Jan Algermissen, Consultant &amp; Programmer
&gt; http://jalgermissen.com
&gt; Tugboat Consulting, 'Applying Web technology to enterprise IT'
&gt; http://www.tugboat.de
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt; To visit your group on the web, go to:
&gt; http://groups.yahoo.com/group/rest-discuss/
&gt;
&gt; To unsubscribe from this group, send an email to:
&gt; rest-discuss-unsubscribe@yahoogroups.com
&gt;
&gt; Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.
&gt;

________________________________________________________________________ 
____________________
Jan Algermissen, Consultant &amp; Programmer                              
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'        
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5098<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-06-11 07:19:01<br>
Subject:WhatWG - HTML 5 -<br>
Message:<br><br>
<pre>This is most interesting - a tag for documents that allows for streaming
events into the browser without plugins/etc.
http://www.whatwg.org/specs/web-apps/current-work/#the-event-source

The media format accepted is crap, but it's a start.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5099<br>
Sender:"Bornholtz, Tim" &lt;tim.bornholtz@...&gt;<br>
Post Date/Time:2005-06-14 14:11:16<br>
Subject:Confidential information in GET URLs<br>
Message:<br><br>
<pre>I work in an industry where the primary identifier for a customer is a Social Security Number.  However, there are a lot of privacy concerns with transmitting SSNs in plain text.  How would I be able to design a REST service when my primary identifier is information that I don't want to be part of the GET URL?

I was envisioning the service to have something like:

https://example.com/Customer/444556666
(Where 444-55-6666 is the customer's SSN)

I see some alternatives:

1) Don't use SSN as a primary identifier.  Easier said than done.  The industry is moving this way, but it may be many years (if ever) before they are not used at all.

2) Use Post for queries also because then the SSN would be encrypted with the SSL request.  This isn't very consistent with the REST patterns.

3) Walk the service tree.  Have requests start at https://example.com/Customers and then return the list of URLs with the address to get the specific customer information.  However this doesn't scale.  We currently have over 50 million customers.  Searching on common name doesn't work either because it isn't even close to unique.

Any suggestions?

Thanks,
Tim
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5100<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2005-06-14 14:21:42<br>
Subject:RE: [rest-discuss] Confidential information in GET URLs<br>
Message:<br><br>
<pre>&gt; 2) Use Post for queries also because then the SSN would be encrypted with
the SSL 
&gt; request. This isn't very consistent with the REST patterns.

If encryption is all you're worried about, the SSN in the URL would be
encrypted using GET over HTTPS as well. No need for POST. 








</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5101<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-06-14 14:29:57<br>
Subject:Re: [rest-discuss] Confidential information in GET URLs<br>
Message:<br><br>
<pre>
On Jun 14, 2005, at 4:11 PM, Bornholtz, Tim wrote:

&gt; I work in an industry where the primary identifier for a customer  
&gt; is a Social Security Number.  However, there are a lot of privacy  
&gt; concerns with transmitting SSNs in plain text.  How would I be able  
&gt; to design a REST service when my primary identifier is information  
&gt; that I don't want to be part of the GET URL?
&gt;
&gt; I was envisioning the service to have something like:
&gt;
&gt; https://example.com/Customer/444556666
Since URIs are completely opaque to the consuming services, you can  
equally well use arbitrary IDs in your URIs and do a server side  
mappingto SSNs.
&gt; (Where 444-55-6666 is the customer's SSN)
&gt;
&gt; I see some alternatives:
&gt;
&gt; 1) Don't use SSN as a primary identifier.  Easier said than done.   
&gt; The industry is moving this way, but it may be many years (if ever)  
&gt; before they are not used at all.
&gt;
&gt; 2) Use Post for queries also because then the SSN would be  
&gt; encrypted with the SSL request.  This isn't very consistent with  
&gt; the REST patterns.
&gt; 3) Walk the service tree.  Have requests start at https:// 
&gt; example.com/Customers and then return the list of URLs with the  
&gt; address to get the specific customer information.  However this  
&gt; doesn't scale.  We currently have over 50 million customers.   
&gt; Searching on common name doesn't work either because it isn't even  
&gt; close to unique.
If I understand you correctly, you intend to have the client actually  
construct the URLs based on SSN knowledge? That is not good REST  
practice anyhow (URI would not be treated as being opaque).
Can you say more about the intended interaction between client and  
server?

If the intent is a query, then maybe POST is really the way to go in  
your case.

Jan
&gt; Any suggestions?
&gt;
&gt; Thanks,
&gt; Tim
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt; To visit your group on the web, go to:
&gt; http://groups.yahoo.com/group/rest-discuss/
&gt;
&gt; To unsubscribe from this group, send an email to:
&gt; rest-discuss-unsubscribe@yahoogroups.com
&gt;
&gt; Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.
&gt;

________________________________________________________________________ 
____________________
Jan Algermissen, Consultant &amp; Programmer                              
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'        
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5102<br>
Sender:"Bornholtz, Tim" &lt;tim.bornholtz@...&gt;<br>
Post Date/Time:2005-06-14 14:52:46<br>
Subject:RE: [rest-discuss] Confidential information in GET URLs<br>
Message:<br><br>
<pre>&gt; -----Original Message-----
&gt; From: Jan Algermissen [mailto:jalgermissen@topicmapping.com]
&gt; On Jun 14, 2005, at 4:11 PM, Bornholtz, Tim wrote:
&gt; 
&gt; &gt; I work in an industry where the primary identifier for a customer  
&gt; &gt; is a Social Security Number.  However, there are a lot of privacy  
&gt; &gt; concerns with transmitting SSNs in plain text.  How would I 
&gt; be able  
&gt; &gt; to design a REST service when my primary identifier is information  
&gt; &gt; that I don't want to be part of the GET URL?
&gt; &gt;
&gt; &gt; I was envisioning the service to have something like:
&gt; &gt;
&gt; &gt; https://example.com/Customer/444556666
&gt; Since URIs are completely opaque to the consuming services, you can  
&gt; equally well use arbitrary IDs in your URIs and do a server side  
&gt; mappingto SSNs.

This is what I was thinking in option 3 below.  But how would the client know which arbitrary ID to use?  With the size of my user base, I don't think that access-by-traversal will scale.  I need some sort of search functionality.  The most widely used scenario is to look a person up by their SSN.

So if the client does know the SSN but does not know the arbitrary ID, how would the client look up the ID?



&gt; &gt; (Where 444-55-6666 is the customer's SSN)
&gt; &gt;
&gt; &gt; I see some alternatives:
&gt; &gt;
&gt; &gt; 1) Don't use SSN as a primary identifier.  Easier said than done.   
&gt; &gt; The industry is moving this way, but it may be many years 
&gt; (if ever)  
&gt; &gt; before they are not used at all.
&gt; &gt;
&gt; &gt; 2) Use Post for queries also because then the SSN would be  
&gt; &gt; encrypted with the SSL request.  This isn't very consistent with  
&gt; &gt; the REST patterns.
&gt; &gt; 3) Walk the service tree.  Have requests start at https:// 
&gt; &gt; example.com/Customers and then return the list of URLs with the  
&gt; &gt; address to get the specific customer information.  However this  
&gt; &gt; doesn't scale.  We currently have over 50 million customers.   
&gt; &gt; Searching on common name doesn't work either because it isn't even  
&gt; &gt; close to unique.
&gt; If I understand you correctly, you intend to have the client 
&gt; actually  
&gt; construct the URLs based on SSN knowledge? That is not good REST  
&gt; practice anyhow (URI would not be treated as being opaque).
&gt; Can you say more about the intended interaction between client and  
&gt; server?
&gt; 
&gt; If the intent is a query, then maybe POST is really the way to go in  
&gt; your case.
&gt; 
&gt; Jan
&gt; &gt; Any suggestions?
&gt; &gt;
&gt; &gt; Thanks,
&gt; &gt; Tim
&gt; &gt;&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5103<br>
Sender:Koranteng Ofosu-Amaah &lt;amaah@...&gt;<br>
Post Date/Time:2005-06-14 20:04:53<br>
Subject:REST - The Web Style presentation<br>
Message:<br><br>
<pre>I give you the slightly updated slides to a talk I gave on Friday to the Lotus 
Workplace Architecture Board.

The topic was REST - The web style

An argument about an outlook on technology, on complexity, layering and leverage.

http://koranteng.blogspot.com/2005/06/rest-web-style.html


It's probably preaching to the choir in this forum but it was interesting to try 
to articulate the REST proposition to an audience that has not thought through 
what it means to be on the web...

As to the response, we'll see what products Lotus/IBM produce in coming years to 
see if it gained any traction...

Comments and criticisms are strongly welcomed.


P.S. I took 3 slides from Roy's presentation about Waka (and 'remixed' one from 
Sam Ruby), I hope he forgives me but I can't draw to save my life...



-- 
Koranteng
--
Koranteng's Toli: the blog edition
http://koranteng.blogspot.com/

"Just because a lizard nods its head doesn't mean it's happy."
- old Ghanaian proverb

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5104<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-06-20 10:55:50<br>
Subject:MONITOR Question<br>
Message:<br><br>
<pre>Hi,

I need to implement a MONITOR method in a way that allows the  
'subscriber' to being able to
determine the actual HTTP request that lead to a resource state  
change (at least the request
headers). As an example consider a subscriber that is interested to  
know when there is a
POST to the MONITORED resource done by the remote user X.

A way to implement that would be to let the subscriber specify a  
'header pattern' when
invoking MONITOR.

Does anyone see a violation of REST in this approach?


Thanks.

Jan



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5105<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2005-06-20 13:31:37<br>
Subject:RE: [rest-discuss] MONITOR Question<br>
Message:<br><br>
<pre>
Jan,

I don't see anything wrong with what you've described. 


Could you accomplish what you want by constructing a monitor resource
corresponding to each original resource you want to monitor? You could GET
that monitor resource to observe state change history for the monitored
resource, rather than introducing a new verb.

Hugh





&gt; -----Original Message-----
&gt; From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com]
&gt; On Behalf Of Jan Algermissen
&gt; Sent: Monday, June 20, 2005 5:56 AM
&gt; To: rest discuss
&gt; Subject: [rest-discuss] MONITOR Question
&gt; 
&gt; Hi,
&gt; 
&gt; I need to implement a MONITOR method in a way that allows the
&gt; 'subscriber' to being able to
&gt; determine the actual HTTP request that lead to a resource state
&gt; change (at least the request
&gt; headers). As an example consider a subscriber that is interested to
&gt; know when there is a
&gt; POST to the MONITORED resource done by the remote user X.
&gt; 
&gt; A way to implement that would be to let the subscriber specify a
&gt; 'header pattern' when
&gt; invoking MONITOR.
&gt; 
&gt; Does anyone see a violation of REST in this approach?
&gt; 
&gt; 
&gt; Thanks.
&gt; 
&gt; Jan
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5106<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-06-21 02:43:41<br>
Subject:Re: [rest-discuss] MONITOR Question<br>
Message:<br><br>
<pre>On Mon, Jun 20, 2005 at 12:55:50PM +0200, Jan Algermissen wrote:
&gt; Hi,
&gt; 
&gt; I need to implement a MONITOR method in a way that allows the  
&gt; 'subscriber' to being able to
&gt; determine the actual HTTP request that lead to a resource state  
&gt; change (at least the request
&gt; headers). As an example consider a subscriber that is interested to  
&gt; know when there is a
&gt; POST to the MONITORED resource done by the remote user X.
&gt; 
&gt; A way to implement that would be to let the subscriber specify a  
&gt; 'header pattern' when
&gt; invoking MONITOR.
&gt; 
&gt; Does anyone see a violation of REST in this approach?

Since what's being MONITORed in that case isn't the resource, but is
instead a view on a resource ("only by user X"), it seems to me that
either a) the view should be its own resource (to respect the resource
identification constraint), or b) you need to do this through a proxy
which could filter out the non-user-X stuff.

Mark.
--
Mark Baker.  Ottawa, Ontario, CANADA.          http://www.markbaker.ca
Coactus; Web-inspired integration strategies   http://www.coactus.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5107<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-06-21 04:53:16<br>
Subject:Re: [rest-discuss] MONITOR Question<br>
Message:<br><br>
<pre>What if the MONITOR requst resulted in a stream that was the original
request that caused the state change, method/headers/body/etc?

----- Original Message ----- 
From: "Jan Algermissen" &lt;jalgermissen@...&gt;
To: "rest discuss" &lt;rest-discuss@yahoogroups.com&gt;
Sent: Monday, June 20, 2005 3:55 AM
Subject: [rest-discuss] MONITOR Question


&gt; Hi,
&gt;
&gt; I need to implement a MONITOR method in a way that allows the
&gt; 'subscriber' to being able to
&gt; determine the actual HTTP request that lead to a resource state
&gt; change (at least the request
&gt; headers). As an example consider a subscriber that is interested to
&gt; know when there is a
&gt; POST to the MONITORED resource done by the remote user X.
&gt;
&gt; A way to implement that would be to let the subscriber specify a
&gt; 'header pattern' when
&gt; invoking MONITOR.
&gt;
&gt; Does anyone see a violation of REST in this approach?
&gt;
&gt;
&gt; Thanks.
&gt;
&gt; Jan
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5108<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-06-21 08:01:58<br>
Subject:Re: [rest-discuss] MONITOR Question<br>
Message:<br><br>
<pre>
On Jun 21, 2005, at 6:53 AM, S. Mike Dierken wrote:

&gt; What if the MONITOR requst resulted in a stream that was the original
&gt; request that caused the state change, method/headers/body/etc?

That would work; it is the most general solution to my problem. If done
that way,


MONITOR /foo HTTP/1.1
Host: example.org
Reply-To: http://other.org/workflows/76a56

would have the semantics[1] 'POST every request to /foo to the Reply- 
URI as-is'.
I could then extract whatever I wanted from that information.

Specifying a MONITOR pattern would just be a means to save bandwidth  
by avoiding
sending stuff the subscriber is not interested in.

Is that what you had in mind?

Jan

[1] And I guess since no MONITOR exists I am somewhat free to define my
     own semantics as long as they are uniform to all resources.

P.S. I'd be curious to know (Roy?,Mark?) what the semantics of WAKAs  
MONITOR or
      WATCH are likely to be.


&gt;
&gt; ----- Original Message -----
&gt; From: "Jan Algermissen" &lt;jalgermissen@...&gt;
&gt; To: "rest discuss" &lt;rest-discuss@yahoogroups.com&gt;
&gt; Sent: Monday, June 20, 2005 3:55 AM
&gt; Subject: [rest-discuss] MONITOR Question
&gt;
&gt;
&gt;
&gt;&gt; Hi,
&gt;&gt;
&gt;&gt; I need to implement a MONITOR method in a way that allows the
&gt;&gt; 'subscriber' to being able to
&gt;&gt; determine the actual HTTP request that lead to a resource state
&gt;&gt; change (at least the request
&gt;&gt; headers). As an example consider a subscriber that is interested to
&gt;&gt; know when there is a
&gt;&gt; POST to the MONITORED resource done by the remote user X.
&gt;&gt;
&gt;&gt; A way to implement that would be to let the subscriber specify a
&gt;&gt; 'header pattern' when
&gt;&gt; invoking MONITOR.
&gt;&gt;
&gt;&gt; Does anyone see a violation of REST in this approach?
&gt;&gt;
&gt;&gt;
&gt;&gt; Thanks.
&gt;&gt;
&gt;&gt; Jan
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; Yahoo! Groups Links
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

________________________________________________________________________ 
____________________
Jan Algermissen, Consultant &amp; Programmer                              
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'        
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5109<br>
Sender:"Ron" &lt;tiltbike@...&gt;<br>
Post Date/Time:2005-06-21 14:55:35<br>
Subject:Handle lists?<br>
Message:<br><br>
<pre>I am making a service that converts between various coordinate systems
for our county. (latitude/longitude, State Plane
Coordinates(Easting-ft, Northing-ft), and State Plane Coordinates
(Easting-meters, Northing-meters). The units are implicit (in our
county) by the numbers received -- if c2 is negative, then it's
latitude and longitude, if c1&gt;2000000, then it's in feet, etc.

I can see a URI similar to:
www.example.com/cgi/locations/2231456.12/456789.2323 that uniquely
identifies a spot on the ground -- no problem. That same location
might also be called
www.example.com/cgi/locations/40.2432342/-81.0980809 if it's being
ID'ed by latitude/longitude.

But how do I RESTfully pass a list of coordinates? Do I have to wrap
them up as a single resource and then pass that? Or a great, long URI
including all the coordinate pairs? Or am I on the wrong track altogether?

Ron





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5110<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-06-21 15:18:05<br>
Subject:Re: [rest-discuss] Handle lists?<br>
Message:<br><br>
<pre>On Tue, 2005-06-21 at 14:55 +0000, Ron wrote:
&gt; But how do I RESTfully pass a list of coordinates? Do I have to wrap
&gt; them up as a single resource and then pass that? Or a great, long URI
&gt; including all the coordinate pairs? Or am I on the wrong track altogether?

If the coordinate list is itself a new resource that you want to
identify between the server and client, then it probably makes sense to
POST that new resource, obtain an identifier for it, and use that
identifier to refer to it.

If the "best" ("simplest", perhaps) way to identify all the coordinates
is to include the coordinates in the identifier, then so be it.

...jsled

-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5111<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-06-21 19:06:09<br>
Subject:Re: [rest-discuss] Handle lists?<br>
Message:<br><br>
<pre>
On Jun 21, 2005, at 4:55 PM, Ron wrote:


&gt;
&gt; But how do I RESTfully pass a list of coordinates?

What do you mean by 'pass a list'? Is the list the result of a query?  
Or..?


Jan



&gt; Do I have to wrap
&gt; them up as a single resource and then pass that? Or a great, long URI
&gt; including all the coordinate pairs? Or am I on the wrong track  
&gt; altogether?
&gt;
&gt; Ron
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

________________________________________________________________________ 
____________________
Jan Algermissen, Consultant &amp; Programmer                              
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'        
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5112<br>
Sender:Jeoff Wilks &lt;jeoffwilks@...&gt;<br>
Post Date/Time:2005-06-21 20:10:25<br>
Subject:Re: [rest-discuss] Handle lists?<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5113<br>
Sender:Jeoff Wilks &lt;jeoffwilks@...&gt;<br>
Post Date/Time:2005-06-21 20:34:39<br>
Subject:Re: [rest-discuss] Handle lists?<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5114<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-06-22 03:21:26<br>
Subject:Re: [rest-discuss] MONITOR Question<br>
Message:<br><br>
<pre>
&gt; &gt; What if the MONITOR requst resulted in a stream that was the original
&gt; &gt; request that caused the state change, method/headers/body/etc?
&gt;
&gt; That would work; it is the most general solution to my problem. If done
&gt; that way,
&gt;
&gt;
&gt; MONITOR /foo HTTP/1.1
&gt; Host: example.org
&gt; Reply-To: http://other.org/workflows/76a56
&gt;
&gt; would have the semantics[1] 'POST every request to /foo to the Reply-
&gt; URI as-is'.
&gt;
&gt; Is that what you had in mind?
Well, I was thinking that the response to MONITOR would be content-type
"multipart/message" and each part would be content-type "message/http".
Alternatively I could imagine using a reply-to (or maybe "forward-to") to
send the original request, but not necessarily using POST. But that might
not be consistent with the meaning of the forwarded request (no reply would
be expected).

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5115<br>
Sender:"Ian D. Stewart" &lt;idstewart@...&gt;<br>
Post Date/Time:2005-06-22 11:09:26<br>
Subject:Re: [rest-discuss] Handle lists?<br>
Message:<br><br>
<pre>Hi Ron,

I will no doubt be run off the list as a heretic, but I actually believe 
that REST and SOAP/RPC represent complimentary approaches to the web 
services domain.  Web services fall into two general categories, 
services that do something to a resource, for which REST is a natural 
fit, and services that perform some action, for which RPC is a natural 
fit (the classic calculator and celsius/farenheit converter fall into 
the latter).

You can try to force action-style services into a REST architecture, but 
that is no better, IMO, then trying to force a resource-style service 
into a RPC paradigm.

The fact that you ask:

&gt;But how do I RESTfully pass a list of coordinates? Do I have to wrap
&gt;them up as a single resource and then pass that? Or a great, long URI
&gt;including all the coordinate pairs? Or am I on the wrong track altogether?
&gt;  
&gt;
Is a pretty good indication that your coordinate converter doesn't want 
to be a resource, it wants to be a coordinate converter, so let it.

Just my $0.02.


Ian



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5116<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-06-22 14:03:00<br>
Subject:Re: [rest-discuss] Handle lists?<br>
Message:<br><br>
<pre>On Wed, 2005-06-22 at 07:09 -0400, Ian D. Stewart wrote:
&gt; The fact that you ask:
&gt; 
&gt; &gt;But how do I RESTfully pass a list of coordinates? Do I have to wrap
&gt; &gt;them up as a single resource and then pass that? Or a great, long URI
&gt; &gt;including all the coordinate pairs? Or am I on the wrong track altogether?
&gt; &gt;  
&gt; &gt;
&gt; Is a pretty good indication that your coordinate converter doesn't want 
&gt; to be a resource, it wants to be a coordinate converter, so let it.

This is no more true than "purchase airline tickets" necessarily
resulting in something different than http://orbitz.com/ ... "manage a
collection of bookmarks" necessarily resulting in something other than
http://del.icio.us/ ... or "search the web" necessarily resulting in
`SearchResults google_doSearch( String queryString )`.

...jsled

-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5117<br>
Sender:Joe Gregorio &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2005-06-22 14:31:08<br>
Subject:Re: [rest-discuss] Handle lists?<br>
Message:<br><br>
<pre>On 6/21/05, Ron &lt;tiltbike@...&gt; wrote:
&gt; I am making a service that converts between various coordinate systems
&gt; for our county. (latitude/longitude, State Plane
&gt; Coordinates(Easting-ft, Northing-ft), and State Plane Coordinates
&gt; (Easting-meters, Northing-meters). The units are implicit (in our
&gt; county) by the numbers received -- if c2 is negative, then it's
&gt; latitude and longitude, if c1&gt;2000000, then it's in feet, etc.
&gt; 
&gt; I can see a URI similar to:
&gt; www.example.com/cgi/locations/2231456.12/456789.2323 that uniquely
&gt; identifies a spot on the ground -- no problem. That same location
&gt; might also be called
&gt; www.example.com/cgi/locations/40.2432342/-81.0980809 if it's being
&gt; ID'ed by latitude/longitude.
&gt; 
&gt; But how do I RESTfully pass a list of coordinates? Do I have to wrap
&gt; them up as a single resource and then pass that? Or a great, long URI
&gt; including all the coordinate pairs? Or am I on the wrong track altogether?

Here is one way to solve the problem. It's not the only one.

The four questions to ask when trying to build something in a
RESTful[1] manner is:

1. What are the resources? 

   In this case, it sounds like the resources are locations. It
doesn't matter the coordinates you use, the nature of the thing is
location. So the URIs should reflect that, and I would ensure that the
coordinate system was part of the URI, that way you don't end up with
conflicts in the future. You may want to look at Matrix URIs for
inspiration[2].

   www.example.com/latlog;lat=40.2432342;lon=-81.0980809
   www.example.com/spc;x=2231456.12;y=456789.2323

2. What are the representations?

   Well, it sounds like there are different ways to refer to a
location, lat/lon, State Plane Coordinates, etc. Since you are trying
to build a converter, let's stuff all the coordinate systems into the
representation. Assuming you are ok with using XML as the
representation you could return something like:

    &lt;location&gt;
       &lt;latlon&gt;40.2432342/-81.0980809&lt;/latlon&gt;
       &lt;state_plane&gt;2231456.12/456789.2323&lt;/state_plane&gt;
       ...
    &lt;/location&gt;

Note the extensibility this gives you. To add a new coordinate type on
the output you add a new child element of &lt;location/&gt;. To accept a new
coordinate system on the input you mint a new URI:  
http://example.com/some-new-coords;x=12;y=13.

It also is rather simple for the client using this service  since all
the representations contain all the coordinate types.

[1] http://www.xml.com/pub/a/2004/12/01/restful-web.html
[2] http://www.w3.org/DesignIssues/MatrixURIs.html

   -joe

-- 
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5118<br>
Sender:Roger Menday &lt;r.menday@...&gt;<br>
Post Date/Time:2005-06-23 11:15:53<br>
Subject:Re: [rest-discuss] Handle lists?<br>
Message:<br><br>
<pre>
Hi, 

I am a novice here following this interesting dicussion .. 

Supposing that I wanted to extend this so that two location resources
could be used to find the distance between them. How might one go about
formulating this RESTfully ?

Roger


On Wed, 2005-06-22 at 10:31 -0400, Joe Gregorio wrote:
&gt; On 6/21/05, Ron &lt;tiltbike@...&gt; wrote:
&gt; &gt; I am making a service that converts between various coordinate
&gt; systems
&gt; &gt; for our county. (latitude/longitude, State Plane
&gt; &gt; Coordinates(Easting-ft, Northing-ft), and State Plane Coordinates
&gt; &gt; (Easting-meters, Northing-meters). The units are implicit (in our
&gt; &gt; county) by the numbers received -- if c2 is negative, then it's
&gt; &gt; latitude and longitude, if c1&gt;2000000, then it's in feet, etc.
&gt; &gt; 
&gt; &gt; I can see a URI similar to:
&gt; &gt; www.example.com/cgi/locations/2231456.12/456789.2323 that uniquely
&gt; &gt; identifies a spot on the ground -- no problem. That same location
&gt; &gt; might also be called
&gt; &gt; www.example.com/cgi/locations/40.2432342/-81.0980809 if it's being
&gt; &gt; ID'ed by latitude/longitude.
&gt; &gt; 
&gt; &gt; But how do I RESTfully pass a list of coordinates? Do I have to wrap
&gt; &gt; them up as a single resource and then pass that? Or a great, long
&gt; URI
&gt; &gt; including all the coordinate pairs? Or am I on the wrong track
&gt; altogether?
&gt; 
&gt; Here is one way to solve the problem. It's not the only one.
&gt; 
&gt; The four questions to ask when trying to build something in a
&gt; RESTful[1] manner is:
&gt; 
&gt; 1. What are the resources? 
&gt; 
&gt;    In this case, it sounds like the resources are locations. It
&gt; doesn't matter the coordinates you use, the nature of the thing is
&gt; location. So the URIs should reflect that, and I would ensure that the
&gt; coordinate system was part of the URI, that way you don't end up with
&gt; conflicts in the future. You may want to look at Matrix URIs for
&gt; inspiration[2].
&gt; 
&gt;    www.example.com/latlog;lat=40.2432342;lon=-81.0980809
&gt;    www.example.com/spc;x=2231456.12;y=456789.2323
&gt; 
&gt; 2. What are the representations?
&gt; 
&gt;    Well, it sounds like there are different ways to refer to a
&gt; location, lat/lon, State Plane Coordinates, etc. Since you are trying
&gt; to build a converter, let's stuff all the coordinate systems into the
&gt; representation. Assuming you are ok with using XML as the
&gt; representation you could return something like:
&gt; 
&gt;     &lt;location&gt;
&gt;        &lt;latlon&gt;40.2432342/-81.0980809&lt;/latlon&gt;
&gt;        &lt;state_plane&gt;2231456.12/456789.2323&lt;/state_plane&gt;
&gt;        ...
&gt;     &lt;/location&gt;
&gt; 
&gt; Note the extensibility this gives you. To add a new coordinate type on
&gt; the output you add a new child element of &lt;location/&gt;. To accept a new
&gt; coordinate system on the input you mint a new URI:  
&gt; http://example.com/some-new-coords;x=12;y=13.
&gt; 
&gt; It also is rather simple for the client using this service  since all
&gt; the representations contain all the coordinate types.
&gt; 
&gt; [1] http://www.xml.com/pub/a/2004/12/01/restful-web.html
&gt; [2] http://www.w3.org/DesignIssues/MatrixURIs.html
&gt; 
&gt;    -joe
&gt; 
&gt; -- 
&gt; Joe Gregorio        http://bitworking.org
&gt; 
&gt; 
&gt; ______________________________________________________________________
&gt; Yahoo! Groups Links
&gt;       * To visit your group on the web, go to:
&gt;         http://groups.yahoo.com/group/rest-discuss/
&gt;           
&gt;       * To unsubscribe from this group, send an email to:
&gt;         rest-discuss-unsubscribe@yahoogroups.com
&gt;           
&gt;       * Your use of Yahoo! Groups is subject to the Yahoo! Terms of
&gt;         Service.
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5119<br>
Sender:"pnruelle" &lt;Philip.Ruelle@...&gt;<br>
Post Date/Time:2005-06-23 10:09:06<br>
Subject:OO REST Client Help<br>
Message:<br><br>
<pre>All,

Can anyone give me some pointers as to how a REST client might be
implemented in an OO language. 
To my mind there are two elements:
1) a collection of serializable classes which represent the resources
2) a class which maps a given resource type to an URL

There is an example on the web (http://ociweb.com/jnb/jnbNov2004.html)
which works along these lines.

However I have a few issues with this approach:
1)Is it valid to map a resource type to a single URL or in practice
would multiple URLs handle the same resource type?
2) How could non-trivial GETs be specified? The example only shows
GETs with a single valued key, but what about 'searches' on several
non-key elements. What about searches using values of parent elements
(in the example the 'owner' is effectively a parent value but it has
been included in the child thereby circumventing this problem but I
don't think that scales where you have deep hierarchies).
3) Is there an application here for using "hypermedia as the engine of
application state". Should there be a single entry point into the
'application' and that then returns a list of valid links that can be
called. This is the area of REST that I struggle with most and judging
by the large number of articles that focus on resource exposure and
addressing and the tiny number that cover this aspect of REST I guess
other people do to.

My approach is built on trying to keep the uniform interface within
the OO client via the use of ResourceManager class which contains the
4 CRUD operations and maps the resource types (specified by the class
types) to URLs but perhaps that's not 'right'. We are talking about an
OO client so maybe it is valid to wrap the REST interface into a SOAP
style GetCollectionByOwner() interface even if it 'feels' wrong. 

Any and all comments, tips, hints, advice and anecdotes gratefully
received.

Regards,
Phil





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5120<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-06-23 12:07:43<br>
Subject:Re: [rest-discuss] Handle lists?<br>
Message:<br><br>
<pre>Roger Menday &lt;r.menday@...&gt; writes:

&gt; Hi, 
&gt;
&gt; I am a novice here following this interesting dicussion .. 
&gt;
&gt; Supposing that I wanted to extend this so that two location resources
&gt; could be used to find the distance between them. How might one go about
&gt; formulating this RESTfully ?

One way would be to express the first location as a resource and the
second as a query from the first:

   http://tf/location/51.3N/0E?differenceNorth=55.3&amp;differenceEast=-50


Nic Ferrier

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5121<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-06-24 02:58:25<br>
Subject:Re: [rest-discuss] OO REST Client Help<br>
Message:<br><br>
<pre>
&gt; Can anyone give me some pointers as to how a REST client might be
&gt; implemented in an OO language.
&gt; To my mind there are two elements:
&gt; 1) a collection of serializable classes which represent the resources
Do you intend to transfer this serialized object to/from the resource?
Or do you just mean an object instance for each identified resource?

&gt; 2) a class which maps a given resource type to an URL
What's a 'resource type'? Do you mean a class like StreetMap, and it would
have a 'constructURI' method that accepted an arbitrary set of parameters?
Or maybe a strongly typed 'constructURI' method like:
class StreetMap
{
    String constructURI(String country,String state, String street);
    String constructURI(String latitude, String longitude);
    String constructURI(String dunsIdentifier);
}


&gt;
&gt; There is an example on the web (http://ociweb.com/jnb/jnbNov2004.html)
&gt; which works along these lines.
&gt;
&gt; However I have a few issues with this approach:
&gt; 1)Is it valid to map a resource type to a single URL or in practice
&gt; would multiple URLs handle the same resource type?
If 'resource type' is something like 'Employee' or 'StreetMap' or 'Product',
then multiple URIs would be used - one URI for each instance of that
resource type. For example, each of these resources are of type 'Product'
http://www.amazon.com/exec/obidos/asin/B00003CXCT
http://www.amazon.com/exec/obidos/asin/B0000AQS0F
http://www.amazon.com/exec/obidos/asin/0940183218


&gt; 2) How could non-trivial GETs be specified? The example only shows
&gt; GETs with a single valued key, but what about 'searches' on several
&gt; non-key elements.
You would just add those into the resource identifier - either as path
segments or as query terms.


&gt; What about searches using values of parent elements
&gt; (in the example the 'owner' is effectively a parent value but it has
&gt; been included in the child thereby circumventing this problem but I
&gt; don't think that scales where you have deep hierarchies).
I'm not sure what you mean.

&gt; 3) Is there an application here for using "hypermedia as the engine of
&gt; application state". Should there be a single entry point into the
&gt; 'application' and that then returns a list of valid links that can be
&gt; called. This is the area of REST that I struggle with most and judging
&gt; by the large number of articles that focus on resource exposure and
&gt; addressing and the tiny number that cover this aspect of REST I guess
&gt; other people do to.
Yes, my opinion is that this works for small scale lists (1-10K elements),
but larger ones may need 'chunking' via something like 'next' and 'prev'
links in each resource representation.

&gt;
&gt; My approach is built on trying to keep the uniform interface within
&gt; the OO client via the use of ResourceManager class which contains the
&gt; 4 CRUD operations and maps the resource types (specified by the class
&gt; types) to URLs but perhaps that's not 'right'. We are talking about an
&gt; OO client so maybe it is valid to wrap the REST interface into a SOAP
&gt; style GetCollectionByOwner() interface even if it 'feels' wrong.
There's nothing wrong with a GetCollectionByOwner() utility method within
your client - but you'll end up with multiple implementations if you need to
integrate with multiple providers. This will lead you to standardize on a
'resource description language' in order to construct the URIs specific to
each provider. Or, you may look into using the 'hypermedia' approach which
has a 'GetCollections' utility method that returns a list of indivual
Collection elements with an Owner attribute.




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5122<br>
Sender:Ryan Tomayko &lt;rtomayko@...&gt;<br>
Post Date/Time:2005-06-25 20:29:21<br>
Subject:Mirroring / Distributing REST based services<br>
Message:<br><br>
<pre>I've been thinking about setting up a mirror of Joe's excellent  
sparkline service [1] to help share the load. That got me thinking  
about general mechanisms for setting up wide clusters of HTTP based  
services. We have a "central resource" that, when resolved, would  
result in the request being made to one of many homogenous "mirror  
resources".

Central URL:
   http://sparklines.org/spark.cgi

Mirrors:
   http://bitworking.org/projects/sparklines/spark.cgi
   http://lesscode.org/sparklines/spark.cgi (not currently available)
   ...

My primary interest is increased reliability. I'm extremely  
interested in this idea of having many resources that may be somewhat  
unreliable on there own (can go down occasionally, hosted on cheap  
servers or cable connections, have bandwidth constraints, etc.) but  
pooled together can provide an extremely high level of reliability.

Note that none of this is really specific to the sparkline service or  
even dynamic resources. People have been mirroring simple directories  
of resources forever and the same concepts apply here. The practices  
employed by big mirror type services (e.g. sourceforge) seem crufty.  
I'd like to weigh the various approaches from a REST/HTTP  
architectural angle.


1. DNS Round-robin technique.

&lt;http://www.onjava.com/pub/a/onjava/2001/09/26/load.html&gt;

The DNS server handles dishing out IPs in a round robin fashion.

Pros:

  - Single round trip.
  - Easy to configure.
  - Extremely light load on DNS server.

Cons:

  - URL path parts would have to be the same on each host.


2. Redirect (302 Found)

&lt;http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.3.3&gt;

The request is processed by a simple redirecting script.

Pros:

   - Even easier to get set up than DNS RR.
   - Could include logic that redirected to "the best host" (by  
location, availability, etc.)
   - Low bandwidth on central host.

Cons:

   - At least two round trips.
   - Potential high number of requests to central host / redirecting  
script.


3. Reverse Proxy

The request is proxied from the central host to one of the mirrors on  
the server.

Pros:

   - Potential for caching at central host.
   - Can usually be implemented purely with configuration (apache  
mod_rewrite/mod_proxy/mod_cache, squid, etc)

Cons:

   - Highest load on central server.
   - Central host bandwidth concerns (up and down).


Any opinions on these approaches or others?

Are there any documented examples of setting up wide mirrors/clusters  
like this?

Right now I'm leaning toward #2 for most situations although #3 has  
some distinct benefits (caching) in the sparklines scenario.

[1]: http://bitworking.org/projects/sparklines/

Ryan Tomayko
                                  rtomayko@...
                                  http://naeblis.cx/rtomayko/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5123<br>
Sender:"Phil Ruelle" &lt;Philip.Ruelle@...&gt;<br>
Post Date/Time:2005-06-27 08:14:39<br>
Subject:Re: OO REST Client Help<br>
Message:<br><br>
<pre>Thanks for the response. I did send a follow-up last week but I think
I mistakenly sent it direct to Mike.

Having given it some more thought I think what this boils down to is
me trying to remove the whole URL scheme from the 'client' (by client
I'm talking specifically of the business code that the developers will
be writing) and create an object broker to act like an OR mapper but
in this case it's an object-resource (representation) mapper.

Has anyone done or considered anything similar? Or am I trying to put
a square peg in a round hole?


--- In rest-discuss@yahoogroups.com, "S. Mike Dierken" &lt;mdierken@h...&gt;
wrote:
&gt; 
&gt; &gt; Can anyone give me some pointers as to how a REST client might be
&gt; &gt; implemented in an OO language.
&gt; &gt; To my mind there are two elements:
&gt; &gt; 1) a collection of serializable classes which represent the resources
&gt; Do you intend to transfer this serialized object to/from the resource?
&gt; Or do you just mean an object instance for each identified resource?
&gt; 
&gt; &gt; 2) a class which maps a given resource type to an URL
&gt; What's a 'resource type'? Do you mean a class like StreetMap, and it
would
&gt; have a 'constructURI' method that accepted an arbitrary set of
parameters?
&gt; Or maybe a strongly typed 'constructURI' method like:
&gt; class StreetMap
&gt; {
&gt;     String constructURI(String country,String state, String street);
&gt;     String constructURI(String latitude, String longitude);
&gt;     String constructURI(String dunsIdentifier);
&gt; }
&gt; 
&gt; 
&gt; &gt;
&gt; &gt; There is an example on the web (http://ociweb.com/jnb/jnbNov2004.html)
&gt; &gt; which works along these lines.
&gt; &gt;
&gt; &gt; However I have a few issues with this approach:
&gt; &gt; 1)Is it valid to map a resource type to a single URL or in practice
&gt; &gt; would multiple URLs handle the same resource type?
&gt; If 'resource type' is something like 'Employee' or 'StreetMap' or
'Product',
&gt; then multiple URIs would be used - one URI for each instance of that
&gt; resource type. For example, each of these resources are of type
'Product'
&gt; http://www.amazon.com/exec/obidos/asin/B00003CXCT
&gt; http://www.amazon.com/exec/obidos/asin/B0000AQS0F
&gt; http://www.amazon.com/exec/obidos/asin/0940183218
&gt; 
&gt; 
&gt; &gt; 2) How could non-trivial GETs be specified? The example only shows
&gt; &gt; GETs with a single valued key, but what about 'searches' on several
&gt; &gt; non-key elements.
&gt; You would just add those into the resource identifier - either as path
&gt; segments or as query terms.
&gt; 
&gt; 
&gt; &gt; What about searches using values of parent elements
&gt; &gt; (in the example the 'owner' is effectively a parent value but it has
&gt; &gt; been included in the child thereby circumventing this problem but I
&gt; &gt; don't think that scales where you have deep hierarchies).
&gt; I'm not sure what you mean.
&gt; 
&gt; &gt; 3) Is there an application here for using "hypermedia as the engine of
&gt; &gt; application state". Should there be a single entry point into the
&gt; &gt; 'application' and that then returns a list of valid links that can be
&gt; &gt; called. This is the area of REST that I struggle with most and judging
&gt; &gt; by the large number of articles that focus on resource exposure and
&gt; &gt; addressing and the tiny number that cover this aspect of REST I guess
&gt; &gt; other people do to.
&gt; Yes, my opinion is that this works for small scale lists (1-10K
elements),
&gt; but larger ones may need 'chunking' via something like 'next' and 'prev'
&gt; links in each resource representation.
&gt; 
&gt; &gt;
&gt; &gt; My approach is built on trying to keep the uniform interface within
&gt; &gt; the OO client via the use of ResourceManager class which contains the
&gt; &gt; 4 CRUD operations and maps the resource types (specified by the class
&gt; &gt; types) to URLs but perhaps that's not 'right'. We are talking about an
&gt; &gt; OO client so maybe it is valid to wrap the REST interface into a SOAP
&gt; &gt; style GetCollectionByOwner() interface even if it 'feels' wrong.
&gt; There's nothing wrong with a GetCollectionByOwner() utility method
within
&gt; your client - but you'll end up with multiple implementations if you
need to
&gt; integrate with multiple providers. This will lead you to standardize
on a
&gt; 'resource description language' in order to construct the URIs
specific to
&gt; each provider. Or, you may look into using the 'hypermedia' approach
which
&gt; has a 'GetCollections' utility method that returns a list of indivual
&gt; Collection elements with an Owner attribute.




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5124<br>
Sender:Mark Nottingham &lt;mnot@...&gt;<br>
Post Date/Time:2005-06-29 00:11:55<br>
Subject:Re: [rest-discuss] Mirroring / Distributing REST based services<br>
Message:<br><br>
<pre>Hi Ryan,

Probably the most scalable, RESTful way of doing this is how Akamai  
and other CDNs ("Content Delivery Networks"; I was never a big fan of  
this phrase) do it.

Generally, you have a number of gateways (using Roy's terminology; we  
called them 'surrogates,' to distinguish the fact that they're HTTP  
on both the front and back ends) distributed around the network. When  
a DNS request comes in for the site, you give the client a very short- 
lived answer (e.g., 20 seconds TTL) with the closest IP address, by  
some metric. The request then goes to that server, which has a cache  
incorporated.

Unfortunately, there isn't much information about this kind of  
architecture on the Web, AFAIK; there are a number of standalone  
products that do similar things, such as Cisco's Distributed Director;
   http://www.cisco.com/warp/public/cc/pd/cxsr/dd/index.shtml

You might also be interested in CoralCDN;
   http://www.coralcdn.org/
which requires you to modify URIs (they could avoid that if they  
wrote some more software, but isn't that always the case?)

Also, see the Backhand project for an Open Source redirector;
   http://www.backhand.org/mod_backhand/
along the lines of the redirection solution you were talking about.

I seem to remember some distributed director-style open source  
software out there somewhere, but can't find it at the moment.

Hope this helps,



On 25/06/2005, at 1:29 PM, Ryan Tomayko wrote:

&gt; I've been thinking about setting up a mirror of Joe's excellent
&gt; sparkline service [1] to help share the load. That got me thinking
&gt; about general mechanisms for setting up wide clusters of HTTP based
&gt; services. We have a "central resource" that, when resolved, would
&gt; result in the request being made to one of many homogenous "mirror
&gt; resources".
&gt;
&gt; Central URL:
&gt;    http://sparklines.org/spark.cgi
&gt;
&gt; Mirrors:
&gt;    http://bitworking.org/projects/sparklines/spark.cgi
&gt;    http://lesscode.org/sparklines/spark.cgi (not currently available)
&gt;    ...
&gt;
&gt; My primary interest is increased reliability. I'm extremely
&gt; interested in this idea of having many resources that may be somewhat
&gt; unreliable on there own (can go down occasionally, hosted on cheap
&gt; servers or cable connections, have bandwidth constraints, etc.) but
&gt; pooled together can provide an extremely high level of reliability.
&gt;
&gt; Note that none of this is really specific to the sparkline service or
&gt; even dynamic resources. People have been mirroring simple directories
&gt; of resources forever and the same concepts apply here. The practices
&gt; employed by big mirror type services (e.g. sourceforge) seem crufty.
&gt; I'd like to weigh the various approaches from a REST/HTTP
&gt; architectural angle.
&gt;
&gt;
&gt; 1. DNS Round-robin technique.
&gt;
&gt; &lt;http://www.onjava.com/pub/a/onjava/2001/09/26/load.html&gt;
&gt;
&gt; The DNS server handles dishing out IPs in a round robin fashion.
&gt;
&gt; Pros:
&gt;
&gt;   - Single round trip.
&gt;   - Easy to configure.
&gt;   - Extremely light load on DNS server.
&gt;
&gt; Cons:
&gt;
&gt;   - URL path parts would have to be the same on each host.
&gt;
&gt;
&gt; 2. Redirect (302 Found)
&gt;
&gt; &lt;http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.3.3&gt;
&gt;
&gt; The request is processed by a simple redirecting script.
&gt;
&gt; Pros:
&gt;
&gt;    - Even easier to get set up than DNS RR.
&gt;    - Could include logic that redirected to "the best host" (by
&gt; location, availability, etc.)
&gt;    - Low bandwidth on central host.
&gt;
&gt; Cons:
&gt;
&gt;    - At least two round trips.
&gt;    - Potential high number of requests to central host / redirecting
&gt; script.
&gt;
&gt;
&gt; 3. Reverse Proxy
&gt;
&gt; The request is proxied from the central host to one of the mirrors on
&gt; the server.
&gt;
&gt; Pros:
&gt;
&gt;    - Potential for caching at central host.
&gt;    - Can usually be implemented purely with configuration (apache
&gt; mod_rewrite/mod_proxy/mod_cache, squid, etc)
&gt;
&gt; Cons:
&gt;
&gt;    - Highest load on central server.
&gt;    - Central host bandwidth concerns (up and down).
&gt;
&gt;
&gt; Any opinions on these approaches or others?
&gt;
&gt; Are there any documented examples of setting up wide mirrors/clusters
&gt; like this?
&gt;
&gt; Right now I'm leaning toward #2 for most situations although #3 has
&gt; some distinct benefits (caching) in the sparklines scenario.
&gt;
&gt; [1]: http://bitworking.org/projects/sparklines/
&gt;
&gt; Ryan Tomayko
&gt;                                   rtomayko@...
&gt;                                   http://naeblis.cx/rtomayko/
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;


--
Mark Nottingham     http://www.mnot.net/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5125<br>
Sender:Dimitri Glazkov &lt;dimitri.glazkov@...&gt;<br>
Post Date/Time:2005-07-08 12:38:58<br>
Subject:Web Servers not RESTful by implementation?<br>
Message:<br><br>
<pre>Hi,

I am just getting into this REST thinking, and kicking around
theoretical questions and basic puzzlers seems to help tremendously in
getting the thinking straight.

Here's one: the absolute majority of all Web Servers will generate a
server log entry for each request. Thus, a GET request is not
idempotent by implementation, as each GET request (irreversibly)
changes the state of the server.

Is this a big deal?

:DG&lt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5126<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2005-07-08 12:52:34<br>
Subject:Re: [rest-discuss] Web Servers not RESTful by implementation?<br>
Message:<br><br>
<pre>&gt; Here's one: the absolute majority of all Web Servers will generate a
&gt; server log entry for each request. Thus, a GET request is not
&gt; idempotent by implementation, as each GET request (irreversibly)
&gt; changes the state of the server.
&gt;
&gt; Is this a big deal?


  The state of the resources is unchanged.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5127<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-07-08 12:53:18<br>
Subject:Re: [rest-discuss] Web Servers not RESTful by implementation?<br>
Message:<br><br>
<pre>
On Jul 8, 2005, at 2:38 PM, Dimitri Glazkov wrote:

&gt; Hi,
&gt;
&gt; I am just getting into this REST thinking, and kicking around
&gt; theoretical questions and basic puzzlers seems to help tremendously in
&gt; getting the thinking straight.
&gt;
&gt; Here's one: the absolute majority of all Web Servers will generate a
&gt; server log entry for each request. Thus, a GET request is not
&gt; idempotent by implementation, as each GET request (irreversibly)
&gt; changes the state of the server.
&gt;
&gt; Is this a big deal?

No, because it is the state of the resource on which you invoke GET  
that matters.

Jan


&gt;
&gt; :DG&lt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5128<br>
Sender:Dimitri Glazkov &lt;dimitri.glazkov@...&gt;<br>
Post Date/Time:2005-07-08 12:57:27<br>
Subject:Re: [rest-discuss] Web Servers not RESTful by implementation?<br>
Message:<br><br>
<pre>On 7/8/05, Jan Algermissen &lt;jalgermissen@...&gt; wrote:
&gt; No, because it is the state of the resource on which you invoke GET
&gt; that matters.
&gt; 
&gt; Jan

What if my resource is the list of server log entries? I know I am
getting into nitpicking here, but this is a mission of learning for
me, so nitpicking is ok :)

:DG&lt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5129<br>
Sender:Jim Ancona &lt;jim@...&gt;<br>
Post Date/Time:2005-07-08 13:17:32<br>
Subject:Re: [rest-discuss] Web Servers not RESTful by implementation?<br>
Message:<br><br>
<pre>Dimitri Glazkov wrote:
&gt; What if my resource is the list of server log entries? I know I am
&gt; getting into nitpicking here, but this is a mission of learning for
&gt; me, so nitpicking is ok :)

Going back to what RFC 2616 says (in section 9.1.1):

"Naturally, it is not possible to ensure that the server does not 
generate side-effects as a result of performing a GET request; in fact, 
some dynamic resources consider that a feature. The important 
distinction here is that the user did not request the side-effects, so 
therefore cannot be held accountable for them."

I guess I would consider your example to fit into the "dynamic resources 
consider that a feature" category.

Jim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5130<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-07-08 13:24:45<br>
Subject:Re: [rest-discuss] Web Servers not RESTful by implementation?<br>
Message:<br><br>
<pre>Dimitri Glazkov &lt;dimitri.glazkov@...&gt; writes:

&gt; On 7/8/05, Jan Algermissen &lt;jalgermissen@...&gt; wrote:
&gt;&gt; No, because it is the state of the resource on which you invoke GET
&gt;&gt; that matters.
&gt;&gt; 
&gt;&gt; Jan
&gt;
&gt; What if my resource is the list of server log entries? I know I am
&gt; getting into nitpicking here, but this is a mission of learning for
&gt; me, so nitpicking is ok :)

Then you could have a RESTfull interface to it.

But a server log entry's production would not be part of the RESTfull
interface since the log is coming from somewhere else.

There is no need of course to have a log of an HTTP transaction at
all.

The logging is orthogonal to the HTTP transaction processing itself.


Nic Ferrier

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5131<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-07-08 13:46:39<br>
Subject:Re: [rest-discuss] Web Servers not RESTful by implementation?<br>
Message:<br><br>
<pre>The safety of GET is not an interoperability requirement (and therefore
not a MUST), since the client still gets their data if the server
changes state as a result.  Instead, it just serves as a warning to the
resource publisher to keep in mind that any mutation action they take is
at their own peril.

In other words, logging GET requests is fine, just don't expect to be
able to seek damages from Google if you're hard drive fills up with
Googlebot requests.

Mark.

On Fri, Jul 08, 2005 at 07:38:58AM -0500, Dimitri Glazkov wrote:
&gt; Hi,
&gt; 
&gt; I am just getting into this REST thinking, and kicking around
&gt; theoretical questions and basic puzzlers seems to help tremendously in
&gt; getting the thinking straight.
&gt; 
&gt; Here's one: the absolute majority of all Web Servers will generate a
&gt; server log entry for each request. Thus, a GET request is not
&gt; idempotent by implementation, as each GET request (irreversibly)
&gt; changes the state of the server.
&gt; 
&gt; Is this a big deal?

-- 
Mark Baker.  Ottawa, Ontario, CANADA.          http://www.markbaker.ca
Coactus; Web-inspired integration strategies   http://www.coactus.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5132<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2005-07-08 13:51:06<br>
Subject:Re: [rest-discuss] Web Servers not RESTful by implementation?<br>
Message:<br><br>
<pre>There is of course a difference between logical and physical models of 
what a computer is doing...

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5133<br>
Sender:Dimitri Glazkov &lt;dimitri.glazkov@...&gt;<br>
Post Date/Time:2005-07-08 13:57:22<br>
Subject:Re: [rest-discuss] Web Servers not RESTful by implementation?<br>
Message:<br><br>
<pre>On 7/8/05, Jim Ancona &lt;jim@...&gt; wrote:
&gt; Going back to what RFC 2616 says (in section 9.1.1):
&gt; 
&gt; "Naturally, it is not possible to ensure that the server does not
&gt; generate side-effects as a result of performing a GET request; in fact,
&gt; some dynamic resources consider that a feature. The important
&gt; distinction here is that the user did not request the side-effects, so
&gt; therefore cannot be held accountable for them."
&gt; 
&gt; I guess I would consider your example to fit into the "dynamic resources
&gt; consider that a feature" category.

This makes sense. Thanks for pointing this out.

:DG&lt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5134<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2005-07-10 03:54:58<br>
Subject:MIME types: eager or lazy?<br>
Message:<br><br>
<pre>Hi all,

 

When you're passing representations around - let's say you have defined some
XML dialects - should you err on the side of defining new MIME types for
each dialect e.g. application/vnd.somebody.purchaseorder.v13+xml, or should
you prefer to subsume them all in the most general type you can, e.g.
application/xml? 

 

If you version your xml dialect backwards or forwards incompatibly, must you
create a new MIME type for it?

 

I fear MIME type pollution. I also fear lots of application level sniffing
of types. If anyone's got some experience or opinion on the matter, I'd
appreciate hearing pros and cons.

 

Hugh

 

http:// &lt;http://www.wellstorm.com/&gt; www.wellstorm.com/  Wellstorm WITSML
Service Platform

http://witsml.blogspot.com/ WITSML and the Web

http://hughw.blogspot.com/ Messages not Models

 

 

 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5135<br>
Sender:Jeoff Wilks &lt;jeoffwilks@...&gt;<br>
Post Date/Time:2005-07-10 12:33:40<br>
Subject:Re: [rest-discuss] MIME types: eager or lazy?<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5136<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-07-10 19:05:12<br>
Subject:Re: [rest-discuss] MIME types: eager or lazy?<br>
Message:<br><br>
<pre>Hmmm. There have been long and noisy discussion about how user agents should handle content with a specified content-type. Some developers want the client application to guess ('sniffing'), while others want the client app to follow the intent of the application author (dispatch on content-type only). There are problems on both sides - mainly that some application authors don't have control over how the server sets the content-type (XML comes out as text/plain, etc.) and that application authors don't have great control over dispatching XML-based content.0

A long time ago I suggested that a general XML dispatcher component (plug-in, extension, COM-object, whatever) be built and have it consume two formats - 'application/xml' and 'application/content-disposition'. The second format would be an XML document that associates rules for routing XML documents to consuming applications. This was when RSS and client feed readers were starting to get popular - I thought that a site could have links to the 'config' that would map their flavor of RSS to the users preferred client application.

PS
In general, XML should not use text/xml, but application/xml - i've seen some applications (like the wicked cool backpackit.com site) use text/xml for remote application automation.


  ----- Original Message ----- 
  From: Jeoff Wilks 
  To: hughw@... 
  Cc: rest-discuss@yahoogroups.com 
  Sent: Sunday, July 10, 2005 5:33 AM
  Subject: Re: [rest-discuss] MIME types: eager or lazy?


  In my experience, we had a specific XML-based file type that, when downloaded by the user, needed to be opened in a specific application. Initially we tried giving the files a unique file extension but was a regular xml mime-type. If memory serves me correctly this worked okay in Mozilla. But in spite of the unique extension Internet Explorer saw it as a regular XML document and displayed onscreen the XML source tree instead of opening the application. In order to get the Windows file association to work right we did have to invent a new, specific mime type.

  It seems that in the absence of a specific content-type header, Internet Explorer "sniffs" the actual content to try to guess the mime-type. Only if it can't guess the mime-type does it look at the file extension. The explanation is here:
  http://msdn.microsoft.com/workshop/networking/moniker/overview/appendix_aasp

  When it sees any type of XML, it assumes "I can display that myself" and shows the XML source tree onscreen. This is not always the desired behavior. A custom mime-type is required in order to override that behavior.



  On 7/9/05, Hugh Winkler &lt;hughw@...&gt; wrote:
    Hi all,



    When you're passing representations around  let's say you have defined some XML dialects  should you err on the side of defining new MIME types for each dialect e.g. application/vnd.somebody.purchaseorder.v13+xml, or should you prefer to subsume them all in the most general type you can, e.g. application/xml? 



    If you version your xml dialect backwards or forwards incompatibly, must you create a new MIME type for it?



    I fear MIME type pollution. I also fear lots of application level sniffing of types. If anyone's got some experience or opinion on the matter, I'd appreciate hearing pros and cons.



    Hugh



    http:// www.wellstorm.com/  Wellstorm WITSML Service Platform

    http://witsml.blogspot.com/ WITSML and the Web

    http://hughw.blogspot.com/ Messages not Models









----------------------------------------------------------------------------
    YAHOO! GROUPS LINKS 

      a..  Visit your group "rest-discuss" on the web.
        
      b..  To unsubscribe from this group, send an email to:
        rest-discuss-unsubscribe@yahoogroups.com
        
      c..  Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 


----------------------------------------------------------------------------




------------------------------------------------------------------------------
  YAHOO! GROUPS LINKS 

    a..  Visit your group "rest-discuss" on the web.
      
    b..  To unsubscribe from this group, send an email to:
     rest-discuss-unsubscribe@yahoogroups.com
      
    c..  Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 


------------------------------------------------------------------------------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5137<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-07-11 14:43:04<br>
Subject:Re: [rest-discuss] MIME types: eager or lazy?<br>
Message:<br><br>
<pre>On Sat, Jul 09, 2005 at 10:54:58PM -0500, Hugh Winkler wrote:
&gt; Hi all,
&gt; 
&gt;  
&gt; 
&gt; When you're passing representations around - let's say you have defined some
&gt; XML dialects - should you err on the side of defining new MIME types for
&gt; each dialect e.g. application/vnd.somebody.purchaseorder.v13+xml, or should
&gt; you prefer to subsume them all in the most general type you can, e.g.
&gt; application/xml? 

A new media type is the only way to maintain self-descriptive messages.

&gt; If you version your xml dialect backwards or forwards incompatibly, must you
&gt; create a new MIME type for it?

Probably a good idea.  Better would be "don't do that". 8-)

&gt; I fear MIME type pollution. I also fear lots of application level sniffing
&gt; of types. If anyone's got some experience or opinion on the matter, I'd
&gt; appreciate hearing pros and cons.

The issue is that XML by itself doesn't provide a sufficiently rich
framework that would allow one to solve the "media type explosion"
problem.  RDF/XML is one such "better XML" which attempts to solve that
problem, but lots of folks don't like the tradeoffs it seems.  The work
we're doing in the W3C Compound Document Formats WG is another stab at
doing a similar thing.

Unfortunately, content sniffing (and assuming the root XML namespace
replaces the need for a media type) for XML for the generic XML media
types is pretty much pervasive, at least in browsers[1].  A lot of XML
content also uses the generic types, from what I've seen, though lots
of "+xml" media types are being registered which is good.

 [1] http://www.markbaker.ca/2004/01/XmlDispatchTest/

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5138<br>
Sender:Dimitri Glazkov &lt;dimitri.glazkov@...&gt;<br>
Post Date/Time:2005-07-15 14:16:02<br>
Subject:Switching content type<br>
Message:<br><br>
<pre>Is it a great sin if a server implementation does something like this:

GET /test/test.html returns Content-Type: text/html

GET /test/test.html?type=xml return Content-Type: application/xml

.. but the content stays the same?

How about this implementation:

GET /test/test.html
Accept: */* 

returns Content-Type: text/html

GET /test/test.html
Accept: application/xml

returns Content-Type: application/xml
or 406 Not Acceptable if the implementation can not deliver resource
in accepted format.

However, the actual response content stays the same?

:DG&lt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5139<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2005-07-15 14:38:54<br>
Subject:Re: [rest-discuss] Switching content type<br>
Message:<br><br>
<pre>Conceptually, the content doesn't stay the same, even if the message 
body is byte-to-byte identical. So, no problem here that I can see.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5140<br>
Sender:Dimitri Glazkov &lt;dimitri.glazkov@...&gt;<br>
Post Date/Time:2005-07-15 14:51:30<br>
Subject:Re: [rest-discuss] Switching content type<br>
Message:<br><br>
<pre>Which of the implementations "feels" better?

:DG&lt;

On 7/15/05, Jon Hanna &lt;jon@...&gt; wrote:
&gt; Conceptually, the content doesn't stay the same, even if the message
&gt; body is byte-to-byte identical. So, no problem here that I can see.
&gt; 
&gt; 
&gt; 
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5141<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-07-15 15:01:54<br>
Subject:Re: [rest-discuss] Switching content type<br>
Message:<br><br>
<pre>Dimitri Glazkov &lt;dimitri.glazkov@...&gt; writes:

&gt; Which of the implementations "feels" better?

Neither feel good to me,

If a resource is HTML, then you should it's content-type should be
HTML.

If it's some XML other than XHTML or well-formed HTML then the
content-type should be text/xml or application/xml depending on the
nature of the content.


If a client doesn't accept text/html and want XML then how about using
XHTML?


Nic Ferrier

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5142<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-07-15 14:58:55<br>
Subject:Re: [rest-discuss] Switching content type<br>
Message:<br><br>
<pre>Dimitri Glazkov &lt;dimitri.glazkov@...&gt; writes:

&gt; Is it a great sin if a server implementation does something like this:
&gt;
&gt; GET /test/test.html returns Content-Type: text/html
&gt;
&gt; GET /test/test.html?type=xml return Content-Type: application/xml
&gt;
&gt; .. but the content stays the same?

HTML is only sometimes XML. If the HTML has one of the W3 DTDs it is
likely that it is not XML compliant.

Having said that, it is possible to produce well-formed HTML with no
DTD and that would be XML.

If you return different meta data then the resources are,
pedantically, different.

So - saving the point about XML/HTML - yes, you can do that,


&gt; How about this implementation:
&gt;
&gt; GET /test/test.html
&gt; Accept: */* 
&gt;
&gt; returns Content-Type: text/html
&gt;
&gt; GET /test/test.html
&gt; Accept: application/xml
&gt;
&gt; returns Content-Type: application/xml
&gt; or 406 Not Acceptable if the implementation can not deliver resource
&gt; in accepted format.
&gt;
&gt; However, the actual response content stays the same?

Yes - saving the point about HTML/XML - that's fine.


Nic Ferrier

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5143<br>
Sender:Dimitri Glazkov &lt;dimitri.glazkov@...&gt;<br>
Post Date/Time:2005-07-15 16:06:08<br>
Subject:Re: [rest-discuss] Switching content type<br>
Message:<br><br>
<pre>On 7/15/05, Nic Ferrier &lt;nferrier@...&gt; wrote:
&gt;
&gt; If a client doesn't accept text/html and want XML then how about using
&gt; XHTML?

I probably should've stated more clearly in my original post: the body
of response is indeed XHTML.

I am trying to work around a very specific issue, which is related to
IE (and MSXML) not being able to handle XHTML content type correctly.
This is a hack, but I want to make sure that it's not a horrific hack.

:DG&lt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5144<br>
Sender:Stupid idiot &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-07-17 15:50:42<br>
Subject:Re: [rest-discuss] Switching content type<br>
Message:<br><br>
<pre>here's some ideas to share.. 

In the _ideal_ REST world, a good resource identifier, URL should not
contain representation-specified information, "Accept" metadata should
be used instead.

ex.
GET /test/test
Accept: text/html

however, in real wold, most browsers do not allow end-users to change
HTTP headers
in order to request different represetations of a resource.

Therefore, server should set some simple rules to tolerate with several cases:

Case 1 (client mostly a web browser)

GET /test/test
Accept: text/xml,text/html,*/*

IF (NO trailing extension in url) AND (has */* in Accept)
    RETURN DEFAULT format representation
END IF


Case 2 (client mostly a web browser)

GET /test/test.rss
Accept: text/xml,text/html,*/*

IF (has trailing extension in url) AND (has */* in Accept)
    RETURN 'rss' format representation 
END IF


Case 3 (client mostly a RESTy client)

GET /test/test
Accept: text/html

IF (NO trailing extension in url) AND (ONLY ONE type in Accept)
    RETURN format representation based on Accept
END IF

IMHO, when dealing with web browsers, server should detect the trailing
extension type, and response accordingly.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5145<br>
Sender:Stupid idiot &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-07-17 16:15:45<br>
Subject:Re: [rest-discuss] Confidential information in GET URLs<br>
Message:<br><br>
<pre>&gt; This is what I was thinking in option 3 below.  But how would the client know which arbitrary ID to use?  With the size of my user base, I don't think that access-by-traversal will scale.  I need some sort of search functionality.  The most widely used scenario is to look a person up by their SSN.

&gt; &gt; If the intent is a query, then maybe POST is really the way to go in
&gt; &gt; your case.

It's quite obvious as Jan said, a better alternative would be
providing a search form,
ex.
https://example.com/Customer/searchForm
and use to POST plus with SSL encryption

or, u could use a javascript md5 function to encrypt the SSN, 
then GET https://example.com/Customer/searchForm?q=&lt;md5'ed SSN&gt;

..since GET should be a more 'appropriate' verbs to retrieve representation.

(btw, is it true that SSL will hide all the entire HTTP request
including the URL string?)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5146<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-07-17 18:42:48<br>
Subject:Re: [rest-discuss] Switching content type<br>
Message:<br><br>
<pre>Stupid idiot &lt;iamstupidiot@...&gt; writes:

&gt; here's some ideas to share.. 
&gt;
&gt; In the _ideal_ REST world, a good resource identifier, URL should not
&gt; contain representation-specified information, "Accept" metadata should
&gt; be used instead.
&gt;
&gt; ex.
&gt; GET /test/test
&gt; Accept: text/html
&gt;
&gt; however, in real wold, most browsers do not allow end-users to change
&gt; HTTP headers
&gt; in order to request different represetations of a resource.
&gt;
&gt; Therefore, server should set some simple rules to tolerate with several cases:
&gt;
&gt; Case 1 (client mostly a web browser)
&gt;
&gt; GET /test/test
&gt; Accept: text/xml,text/html,*/*
&gt;
&gt; IF (NO trailing extension in url) AND (has */* in Accept)
&gt;     RETURN DEFAULT format representation
&gt; END IF
&gt;
&gt;
&gt; Case 2 (client mostly a web browser)
&gt;
&gt; GET /test/test.rss
&gt; Accept: text/xml,text/html,*/*
&gt;
&gt; IF (has trailing extension in url) AND (has */* in Accept)
&gt;     RETURN 'rss' format representation 
&gt; END IF
&gt;
&gt;
&gt; Case 3 (client mostly a RESTy client)
&gt;
&gt; GET /test/test
&gt; Accept: text/html
&gt;
&gt; IF (NO trailing extension in url) AND (ONLY ONE type in Accept)
&gt;     RETURN format representation based on Accept
&gt; END IF
&gt;
&gt; IMHO, when dealing with web browsers, server should detect the trailing
&gt; extension type, and response accordingly.

This is all very good advice.

Remember though, that REST is *really* useful for webservices where
HTML is not an issue.

If you're designing a web application for humans to use it can be a
good idea to design a webservice and then wrap HTML styling around the
webservice.

But it's not always possible.


Nic Ferrier

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5147<br>
Sender:"Justin T. Sampson" &lt;justin@...&gt;<br>
Post Date/Time:2005-07-18 02:29:25<br>
Subject:Re: [rest-discuss] Confidential information in GET URLs<br>
Message:<br><br>
<pre>&gt; (btw, is it true that SSL will hide all the entire HTTP request
&gt; including the URL string?)

Yes, the entire HTTP interaction is encrypted when running over SSL. 
The URL is still displayed in the browser, though. And of course the 
entire request and response are always visible to spyware regardless of 
SSL.

Justin

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5149<br>
Sender:"iamstupidiot" &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-07-18 15:13:38<br>
Subject:REST implementation in Sever-side scriptiong (a list of issues to concern)<br>
Message:<br><br>
<pre>Currently, I'm working on a PHP5 framework which implements REST in
design.
Hopefully, it will provide an easier way to build RESTful web
applications.

The framework itself is simple, using a MVC design pattern with a
index.php.
Every request goes into index.php, and dispatched, processed and a
view/representation is returned.

I wish keep it clean and simple, so it can be adapted by different
application domains.

however, when using server-side scripting (SSS), many tasks have to be
re-implement in SSS, when a web server (ex. Apache) is capable of
doing most of them.

In short, when SSS is used to handle dynamic contents, with all
requests redirected to a single index.php, here's a list of issues we
might need to deal with:

1. Handle HEAD request
- find a way to collect the resource info (last modified, data-size
etc) and send back a HTTP header response.

2. Handle static resource (image files, css files) request
- when everything is redirected into single file Index.php, static
files cannot be reached.
- must make sure the scripts able to fetch static files.

3. Caching capability
- since it is dynamic contents, web server can't help much now.
- the scripts should able to deal with caching tags (ex. If-modified,
Expires etc) in HTTP headers.

4. Content Negotiation
- scripts need to understand how Content Negotiation works in details,
according HTTP/1.1 spec, able to analyze "Accept" tag in request
headers and deal with it.


Is there a possible way to "reuse" the functions in web server to deal
with such issues? or is there any available library codes in SSS (ex.
php)? or any comments and suggestions to deal with such issues?

-Toydi-





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5150<br>
Sender:Stupid idiot &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-07-19 00:39:43<br>
Subject:Re: [rest-discuss] Switching content type<br>
Message:<br><br>
<pre>I've noticed these cases are not the correct way to deal with content
negotiation after started to read HTTP/1.1 spec in details yesterday.
i'm now seeking for better solutions. :)

but when designing web applications for both machines and humans,
current browsers is limiting end users from altering Accept tag in
HTTP headers.

in a HTML document, &lt;link&gt; and &lt;a&gt; can be used to provided document
alternatives access (different format, charset, language) to end
users. is there any possible solution to use a same URL for different
alternatives, without adding the trailing ".ext" extension?

it seems REST is pushing current browser implementation to the limit

On 7/19/05, Dimitri Glazkov &lt;dimitri.glazkov@...&gt; wrote:
&gt; On 7/17/05, Nic Ferrier &lt;nferrier@...&gt; wrote:
&gt; &gt;
&gt; &gt; This is all very good advice.
&gt; &gt;
&gt; &gt; Remember though, that REST is *really* useful for webservices where
&gt; &gt; HTML is not an issue.
&gt; &gt;
&gt; &gt; If you're designing a web application for humans to use it can be a
&gt; &gt; good idea to design a webservice and then wrap HTML styling around the
&gt; &gt; webservice.
&gt; &gt;
&gt; &gt; But it's not always possible.
&gt; 
&gt; I say it's a rather outdated and limiting view :)
&gt; 
&gt; :DG&lt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5151<br>
Sender:Dimitri Glazkov &lt;dimitri.glazkov@...&gt;<br>
Post Date/Time:2005-07-19 01:04:28<br>
Subject:Re: [rest-discuss] Switching content type<br>
Message:<br><br>
<pre>On 7/18/05, Stupid idiot &lt;iamstupidiot@...&gt; wrote:
&gt; I've noticed these cases are not the correct way to deal with content
&gt; negotiation after started to read HTTP/1.1 spec in details yesterday.
&gt; i'm now seeking for better solutions. :)

Could you post the details of your research here? I am very interested
in this topic, as well.
 
&gt; but when designing web applications for both machines and humans,
&gt; current browsers is limiting end users from altering Accept tag in
&gt; HTTP headers.

The browsers don't, but the XMLHttpRequest allows that just fine. I
have a test case working here, where if an XHTML document is requested
by a browser, the "text/html" content type is returned (fallback
scenario for IE compatibility), but the same document requested by
XMLHttpRequest with setRequestHeader("Accept", "application/xml")
returns "application/xml" type. This allows parsing and manipulate the
XHTML document as an XML DOM tree.

It works, except IE caches the content type and does not allow the
same document to exist as both xml and html within the session -- it's
either one or the other.

:DG&lt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5152<br>
Sender:toydi &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-07-19 03:06:22<br>
Subject:Re: [rest-discuss] Switching content type<br>
Message:<br><br>
<pre>&gt; Could you post the details of your research here? I am very interested
&gt; in this topic, as well.

i'm doing a study on practical REST implementation in current web application.
IMHO, it might be a good start to introduce REST to public, by showing examples 
of RESTful web applications (ex. restful weblog, CMS, forums etc),
which people familiar with.

currently, i'm developing a PHP5 framework. It shall be modeled as OO
as possible, so that the framework model is portable to different OO
languages (ex. java).
The framework will supply a core engine to handle request, and userful
libraries to help developers to build RESTful web application easier.

also, i'm seeking info about behaviors of current web infrastructure
upon RESTful app (ex. caching issues, browsers limitations), and
hopefully work out some solutions..

hopeful you could share your experiences. :)

&gt; &gt; but when designing web applications for both machines and humans,
&gt; &gt; current browsers is limiting end users from altering Accept tag in
&gt; &gt; HTTP headers.
&gt; 
&gt; The browsers don't, but the XMLHttpRequest allows that just fine. I
&gt; have a test case working here, where if an XHTML document is requested
&gt; by a browser, the "text/html" content type is returned (fallback
&gt; scenario for IE compatibility), but the same document requested by
&gt; XMLHttpRequest with setRequestHeader("Accept", "application/xml")
&gt; returns "application/xml" type. This allows parsing and manipulate the
&gt; XHTML document as an XML DOM tree.

it's interesting. are you using server scripts to check the Accept tag? or using
web server configuration (ex Apache's httpd.conf)? 

(i just realize there are more to concern when using server side
scripting to implement REST :|  more details in :
http://groups.yahoo.com/group/rest-discuss/message/5149)
 

&gt; It works, except IE caches the content type and does not allow the
&gt; same document to exist as both xml and html within the session -- it's
&gt; either one or the other.

which means IE browser cache doesnt really concern about Content-Type
while caching?

if fetching several document versions (different content-type or
language) using one same URL? For example, web server returns
different documents based on Accept tag.

&gt; GET /test/document
   Accept: text/html
&lt; HTML representation

&gt; GET /test/document
   Accept: application/xhtml+xml
&lt; XHTML representation

&gt; GET /test/document
   Accept: application/atom+xml
&lt; ATOM represetation

how the browser cache will behave? and what about cache proxies?

-- 
-toydi-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5153<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-07-19 00:56:17<br>
Subject:Re: [rest-discuss] Switching content type<br>
Message:<br><br>
<pre>Stupid idiot &lt;iamstupidiot@...&gt; writes:

&gt; I've noticed these cases are not the correct way to deal with content
&gt; negotiation after started to read HTTP/1.1 spec in details yesterday.
&gt; i'm now seeking for better solutions. :)

In what way were the scenarios you outlined incorrect?


&gt; but when designing web applications for both machines and humans,
&gt; current browsers is limiting end users from altering Accept tag in
&gt; HTTP headers.
&gt;
&gt; in a HTML document, &lt;link&gt; and &lt;a&gt; can be used to provided document
&gt; alternatives access (different format, charset, language) to end
&gt; users. is there any possible solution to use a same URL for different
&gt; alternatives, without adding the trailing ".ext" extension?

I'd say Accept is the way to do it... but a browser is primarily an
HTML rendering tool. I'm not sure why you want to have different types
available to the browser as an application feature.

It would be nice to have more explanation (perhaps I missed it
earlier, in which case I apologise).


Having said all that I think you could code it quite easily with
script. XmlHttpRequest can be used to make HTTP requests with Accept
headers and then you can make the entity you retrieved 'current'.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5154<br>
Sender:toydi &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-07-19 09:41:11<br>
Subject:Re: [rest-discuss] Switching content type<br>
Message:<br><br>
<pre>&gt; In what way were the scenarios you outlined incorrect?

I'm still trying to study more details about content negotiation in HTTP/1.1
But as far as i know now, an appropriate way for server to handle Accept tag is 
to aware and understand the 'relative quality factor'.

Any HTTP/1.1 client is allowed to append a */* in Accept tag.
Therefore, it's incorrect to assume a client is a web browser by
checking on */*, and return a default HTML representation. (which i
wrote in previous thread)
 
(more info in : http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.1)


&gt; I'd say Accept is the way to do it... but a browser is primarily an
&gt; HTML rendering tool. I'm not sure why you want to have different types
&gt; available to the browser as an application feature.
&gt; 
&gt; It would be nice to have more explanation (perhaps I missed it
&gt; earlier, in which case I apologise).

I didn't state out a clear scenario in last thread.. I apologise for tat. :)

Well, here's a scenario:

Suppose a RESTful server provides both ATOM and HTML version of a
hacking tutorial with  URL: http://foo/tutorials/hacking101.

Any client (including browser) can get the document (ATOM or HTML) by:

GET /tutorials/hacking101
Accept:application/atom+xml
-or-
GET /tutorials/hacking101
Accept: text/html

Now, in the HTML document, the author wish to provide a link to lead
readers to ATOM document.

&lt;html&gt;
&lt;head&gt;
&lt;link rel="alternative" type="application/atom+xml" title="ATOM
verson" href="/tutorials/hacking101"&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;a href="/tutorials/hacking101" type="application/atom+xml"&gt;ATOM
version of Hacking101&lt;/a&gt; is available now!

&lt;/body&gt;
&lt;/html&gt;

The same url is used here (without trailing .ext). 
When the user click the link, a web browser should aware the "type"
attribute and send a specific request as follow, to receive ATOM
document:

GET /tutorials/hacking101
Accept:application/atom+xml

But, does this action consistent in major web browsers?


-- 
-toydi-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5155<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-07-19 10:37:52<br>
Subject:Re: [rest-discuss] Switching content type<br>
Message:<br><br>
<pre>toydi &lt;iamstupidiot@...&gt; writes:

&gt; I'm still trying to study more details about content negotiation in HTTP/1.1
&gt; But as far as i know now, an appropriate way for server to handle Accept tag is 
&gt; to aware and understand the 'relative quality factor'.
&gt;
&gt; Any HTTP/1.1 client is allowed to append a */* in Accept tag.
&gt; Therefore, it's incorrect to assume a client is a web browser by
&gt; checking on */*, and return a default HTML representation. (which i
&gt; wrote in previous thread)

Ah right... I see. Clearly the Accept header applies to any HTTP
client. I don't think that makes your examples wrong.


&gt; Well, here's a scenario:
&gt;
&gt; Suppose a RESTful server provides both ATOM and HTML version of a
&gt; hacking tutorial with  URL: http://foo/tutorials/hacking101.
&gt;
&gt; Any client (including browser) can get the document (ATOM or HTML) by:
&gt;
&gt; GET /tutorials/hacking101
&gt; Accept:application/atom+xml
&gt; -or-
&gt; GET /tutorials/hacking101
&gt; Accept: text/html
&gt;
&gt; Now, in the HTML document, the author wish to provide a link to lead
&gt; readers to ATOM document.
&gt;
&gt; &lt;html&gt;
&gt; &lt;head&gt;
&gt; &lt;link rel="alternative" type="application/atom+xml" title="ATOM
&gt; verson" href="/tutorials/hacking101"&gt;
&gt; &lt;/head&gt;
&gt; &lt;body&gt;
&gt;
&gt; &lt;a href="/tutorials/hacking101" type="application/atom+xml"&gt;ATOM
&gt; version of Hacking101&lt;/a&gt; is available now!
&gt;
&gt; &lt;/body&gt;
&gt; &lt;/html&gt;
&gt;
&gt; The same url is used here (without trailing .ext). 
&gt; When the user click the link, a web browser should aware the "type"
&gt; attribute and send a specific request as follow, to receive ATOM
&gt; document:
&gt;
&gt; GET /tutorials/hacking101
&gt; Accept:application/atom+xml
&gt;
&gt; But, does this action consistent in major web browsers?

No. I don't think &lt;a type="..."/&gt; does what you think. It's only a
hint, it's not a request.

HTTP/1.1 suggests that a resource should not be tied to a
representation, that it should be possible to have differeing forms of
the representation. 

But this inherantly means one form of representation cannot refer to
another without specific meta markup.

That's what &lt;link rel="alternate"/&gt; is for. It's meta markup for
representation relationships.

If you want to tell the user about alternative representations in a
safe HTML-y kind of way what you could do is have some JavaScript in
the page (or a greasemonkey script) to parse the DOM and present the
&lt;link rel="alternate"/&gt; forms with associated XmlHttpRequest logic to
get the alternate form and make it current (or pop it up in the new
window).


But you can't do it with just browser config. It just doesn't work
like that.


Nic



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5156<br>
Sender:toydi &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-07-19 14:43:25<br>
Subject:Re: [rest-discuss] Switching content type<br>
Message:<br><br>
<pre>&gt; No. I don't think &lt;a type="..."/&gt; does what you think. It's only a
&gt; hint, it's not a request.

that's the problem..when RESTie meets The Browser. :P

Although REST encourage URL not to be representation-specific 
(ex. trailing .html, .xml, .atom etc)

however, when using browsers, without the trailing .ext URL, 
end-users cannot retrieve a representation by simply click on
the link.

&lt;a href="/tutorials/hacking101.atom" &gt;click to download.&lt;/a&gt;   (this works)

&lt;a href="/tutorials/hacking101" type="application/atom+xml"&gt;click to
download.&lt;/a&gt; (this wont)


&gt; That's what &lt;link rel="alternate"/&gt; is for. It's meta markup for
&gt; representation relationships.

so in this case, /tutorials/hacking101.atom and /tutorial/hacking101
should be treated
as two different resources. 

And, we still can relate both with a &lt;link rel="alternate&gt; element in
both documents.

Then, this will not violate the REST, and yet provide accessibility
for browser users.

Of course, othe clients still should be able to request an ATOM
representation from
/tutorials/hacking101 by inserting a correct Accept tag.

"hacking101.atom" is providing an extra accessibilty solution.


&gt; If you want to tell the user about alternative representations in a
&gt; safe HTML-y kind of way what you could do is have some JavaScript in
&gt; the page (or a greasemonkey script) to parse the DOM and present the
&gt; &lt;link rel="alternate"/&gt; forms with associated XmlHttpRequest logic to
&gt; get the alternate form and make it current (or pop it up in the new
&gt; window).
XmlHttpRequest is just a wonderful object. It brings REST to browser world.  ;)

-- 
-toydi-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5157<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-07-19 15:16:23<br>
Subject:Re: [rest-discuss] Switching content type<br>
Message:<br><br>
<pre>toydi &lt;iamstupidiot@...&gt; writes:

&gt;&gt; No. I don't think &lt;a type="..."/&gt; does what you think. It's only a
&gt;&gt; hint, it's not a request.
&gt;
&gt; that's the problem..when RESTie meets The Browser. :P

I think you're overestimating the role of the browser in REST.

REST is a set of strictures for the creation of webservices. It's
primary competitor is SOAP. You don't write browser webapps with
SOAP. You shouldn't feel constrained to write browser webapps with
REST.

REST is a useful guiding principle when desigined webapps but you're
talking here about quite an esoteric thing in terms of webapps.

I'm still not sure *why* you want to do this.


&gt;&gt; That's what &lt;link rel="alternate"/&gt; is for. It's meta markup for
&gt;&gt; representation relationships.
&gt;
&gt; so in this case, /tutorials/hacking101.atom and /tutorial/hacking101
&gt; should be treated
&gt; as two different resources. 

No... Because using different extensions would break a really anal
view of REST (though personally, I've always looked at REST as more
guidelines, you know?)

I was suggesting using the &lt;link rel="alternate"/&gt; to establish the
relationship between entitys with the same name but different
representations.

When you say this:

   &lt;link rel="alternate" type="text/xml" href="/someplace"/&gt;

it tells you that the current document has an alternate representation
at /someplace and the alternate document is of type text/xml.

Most browsers don't do anything with this stuff... but you can code
script to do things with it; pseudo JS:

  var link_element = getFirstAlternateLinkElement(document);
  var accept_hdr = "Accepts: " + link_element.type;
  XmlHttpRequest(link_element.href, accept_hdr, some_handler_func);

That - if you clear up the syntax errors and implement everything that
isn't impelemented - will retrieve an alternate representation of the
current document without requriring you to have different names for
the representations.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5158<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-07-19 21:53:19<br>
Subject:Re: [rest-discuss] REST implementation in Sever-side scriptiong (a list of issues to concern)<br>
Message:<br><br>
<pre>iamstupidiot wrote:

&gt;Is there a possible way to "reuse" the functions in web server to deal
&gt;with such issues? or is there any available library codes in SSS (ex.
&gt;php)? or any comments and suggestions to deal with such issues?
&gt;  
&gt;
I've struggled with the same thing in PHP/Apache and ended up rewriting 
all the low-level HTTP stuff.  This is a bad thing, but it seems 
inevitable because re-injecting a request into the Apache request 
pipeline isn't doable. 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5159<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-07-19 22:03:52<br>
Subject:Re: [rest-discuss] REST implementation in Sever-side scriptiong (a  list of issues to concern)<br>
Message:<br><br>
<pre>Lucas Gonze &lt;lgonze@...&gt; writes:

&gt; iamstupidiot wrote:
&gt;
&gt;&gt;Is there a possible way to "reuse" the functions in web server to deal
&gt;&gt;with such issues? or is there any available library codes in SSS (ex.
&gt;&gt;php)? or any comments and suggestions to deal with such issues?
&gt;&gt;  
&gt;&gt;
&gt; I've struggled with the same thing in PHP/Apache and ended up rewriting 
&gt; all the low-level HTTP stuff.  This is a bad thing, but it seems 
&gt; inevitable because re-injecting a request into the Apache request 
&gt; pipeline isn't doable. 

We certainly need better server side and client side toolkits.

DBMS have faced similar issues in the past, the design of good server
side and client side librarys has been a matter of some trial and
error.

It seems to me that we have a bit of a bottleneck at the moment in the
way people use http librarys. They all look pretty much the same
whatever language or platform you'r working with and that's a bit of a
shame.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5160<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-07-19 22:11:58<br>
Subject:Re: [rest-discuss] Switching content type<br>
Message:<br><br>
<pre>toydi wrote:

&gt; &gt; No. I don't think &lt;a type="..."/&gt; does what you think. It's only a
&gt; &gt; hint, it's not a request.
&gt;
&gt;that's the problem..when RESTie meets The Browser. :P
&gt;
&gt;Although REST encourage URL not to be representation-specific
&gt;(ex. trailing .html, .xml, .atom etc)
&gt;
&gt;however, when using browsers, without the trailing .ext URL,
&gt;end-users cannot retrieve a representation by simply click on
&gt;the link
&gt;  
&gt;
The requirement for extensions is because of the interface with MIME 
helper apps.  They're invoked by the browser with a single command-line 
parameter, the name of the temp file created for the download, and if 
they expect to handle more than one mime type they have to guess the 
file type.  Some handlers do content sniffing (e.g. WMP) but most (e.g. 
Quicktime) rely on the extension. 

The only exception to that rule that I know of is ASX -- Mozilla treats 
a .asx URL differently than a non .asx URL, even if they have the same 
MIME type.

- Lucas


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5161<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2005-07-20 00:54:50<br>
Subject:Re: [rest-discuss] Switching content type<br>
Message:<br><br>
<pre>what is it about this thread that makes me suspect
that it is actually spam?


----- Original Message ----- 
From: "toydi" &lt;iamstupidiot@...&gt;
To: "Dimitri Glazkov" &lt;dimitri.glazkov@...&gt;
Cc: "Nic Ferrier" &lt;nferrier@...&gt;; "Rest List" 
&lt;rest-discuss@yahoogroups.com&gt;
Sent: Monday, July 18, 2005 11:06 PM
Subject: Re: [rest-discuss] Switching content type


:&gt; Could you post the details of your research here? I am very interested
: &gt; in this topic, as well.
:
: i'm doing a study on practical REST implementation in current web 
application.
: IMHO, it might be a good start to introduce REST to public, by showing 
examples
: of RESTful web applications (ex. restful weblog, CMS, forums etc),
: which people familiar with.
:
: currently, i'm developing a PHP5 framework. It shall be modeled as OO
: as possible, so that the framework model is portable to different OO
: languages (ex. java).
: The framework will supply a core engine to handle request, and userful
: libraries to help developers to build RESTful web application easier.
:
: also, i'm seeking info about behaviors of current web infrastructure
: upon RESTful app (ex. caching issues, browsers limitations), and
: hopefully work out some solutions..
:
: hopeful you could share your experiences. :)
:
: &gt; &gt; but when designing web applications for both machines and humans,
: &gt; &gt; current browsers is limiting end users from altering Accept tag in
: &gt; &gt; HTTP headers.
: &gt;
: &gt; The browsers don't, but the XMLHttpRequest allows that just fine. I
: &gt; have a test case working here, where if an XHTML document is requested
: &gt; by a browser, the "text/html" content type is returned (fallback
: &gt; scenario for IE compatibility), but the same document requested by
: &gt; XMLHttpRequest with setRequestHeader("Accept", "application/xml")
: &gt; returns "application/xml" type. This allows parsing and manipulate the
: &gt; XHTML document as an XML DOM tree.
:
: it's interesting. are you using server scripts to check the Accept tag? or 
using
: web server configuration (ex Apache's httpd.conf)?
:
: (i just realize there are more to concern when using server side
: scripting to implement REST :|  more details in :
: http://groups.yahoo.com/group/rest-discuss/message/5149)
:
:
: &gt; It works, except IE caches the content type and does not allow the
: &gt; same document to exist as both xml and html within the session -- it's
: &gt; either one or the other.
:
: which means IE browser cache doesnt really concern about Content-Type
: while caching?
:
: if fetching several document versions (different content-type or
: language) using one same URL? For example, web server returns
: different documents based on Accept tag.
:
: &gt; GET /test/document
:   Accept: text/html
: &lt; HTML representation
:
: &gt; GET /test/document
:   Accept: application/xhtml+xml
: &lt; XHTML representation
:
: &gt; GET /test/document
:   Accept: application/atom+xml
: &lt; ATOM represetation
:
: how the browser cache will behave? and what about cache proxies?
:
: -- 
: -toydi-
:
:
:
: Yahoo! Groups Links
:
:
:
:
:
:
:
: __________ NOD32 1.1173 (20050719) Information __________
:
: This message was checked by NOD32 antivirus system.
: http://www.eset.com
:
: 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5162<br>
Sender:"Justin T. Sampson" &lt;justin@...&gt;<br>
Post Date/Time:2005-07-20 02:38:08<br>
Subject:Re: [rest-discuss] Switching content type<br>
Message:<br><br>
<pre>Nic Ferrier wrote:

&gt; toydi &lt;iamstupidiot@...&gt; writes:
&gt; 
&gt; &gt; &gt; No. I don't think &lt;a type="..."/&gt; does what you think. It's
&gt; &gt; &gt; only a hint, it's not a request.
&gt; &gt;
&gt; &gt; that's the problem..when RESTie meets The Browser. :P
&gt; 
&gt; I think you're overestimating the role of the browser in REST.
&gt; 
&gt; REST is a set of strictures for the creation of webservices.
&gt; It's primary competitor is SOAP. You don't write browser webapps
&gt; with SOAP. You shouldn't feel constrained to write browser
&gt; webapps with REST.

AAAaaarrrggghhh!!

Any time your understanding of REST disagrees with your
understanding of how the Web works, one or the other is *wrong*.

REST is all about Web servers, Web browsers, Web proxies, Web
sites, Web apps, and, only incidentally, Web services. A Web app
is just a dynamic Web site, and a Web service is just a
machine-readable Web app.

Want to offer the user multiple representations? Go ahead and give
each one a different extension. Why not? It helps the user
understand what they're getting, besides the fact that it just
works. Even if you're using &lt;link rel=alternate&gt;, you need to give
a distinct URI for each representation so the browser can actually
grab what the user asked for.

Content negotiation is not for parameterizing a request in order
to get specific versions of a document. Parameters intended to
explicitly request a specific thing should go in the URI (for
example, as a ".xxx" extension on the "filename"). If I desire a
PDF rendition of my bank statement, that's a specific resource
that I care about. I don't want HTML; that would be a different
resource. If, on the other hand, I merely desire my bank
statement, and I don't care what specific file format it comes in,
I'm happy if my browser and the server conspire to give me the
best representation that they both support, which is exactly what
content negotiation is all about.

Cheers,
Justin :)


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5163<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-07-20 10:26:22<br>
Subject:Re: [rest-discuss] Switching content type<br>
Message:<br><br>
<pre>"Justin T. Sampson" &lt;justin@...&gt; writes:

&gt; Nic Ferrier wrote:
&gt;
&gt;&gt; toydi &lt;iamstupidiot@...&gt; writes:
&gt;&gt; 
&gt;&gt; &gt; &gt; No. I don't think &lt;a type="..."/&gt; does what you think. It's
&gt;&gt; &gt; &gt; only a hint, it's not a request.
&gt;&gt; &gt;
&gt;&gt; &gt; that's the problem..when RESTie meets The Browser. :P
&gt;&gt; 
&gt;&gt; I think you're overestimating the role of the browser in REST.
&gt;&gt; 
&gt;&gt; REST is a set of strictures for the creation of webservices.
&gt;&gt; It's primary competitor is SOAP. You don't write browser webapps
&gt;&gt; with SOAP. You shouldn't feel constrained to write browser
&gt;&gt; webapps with REST.
&gt;
&gt; AAAaaarrrggghhh!!
&gt;
&gt; Any time your understanding of REST disagrees with your
&gt; understanding of how the Web works, one or the other is *wrong*.

I'm not sure if you mean this as a personal insult or as a general
statement.

If it's a personal insult then fine.


But if it's a general statement then it's not quite true is it?

For example, the web works with cookies quite a lot. But cookies are
not RESTfull.


&gt; Want to offer the user multiple representations? Go ahead and give
&gt; each one a different extension. Why not? 

Because cool-uris don't change:


&gt; It helps the user understand what they're getting, besides the fact
&gt; that it just works. Even if you're using &lt;link rel=alternate&gt;, you
&gt; need to give a distinct URI for each representation so the browser
&gt; can actually grab what the user asked for.

Err... no. As discussed you can use the Accept header to identify
which resource you want.


&gt; Content negotiation is not for parameterizing a request in order
&gt; to get specific versions of a document. Parameters intended to
&gt; explicitly request a specific thing should go in the URI (for
&gt; example, as a ".xxx" extension on the "filename"). If I desire a
&gt; PDF rendition of my bank statement, that's a specific resource
&gt; that I care about. I don't want HTML; that would be a different
&gt; resource. If, on the other hand, I merely desire my bank
&gt; statement, and I don't care what specific file format it comes in,
&gt; I'm happy if my browser and the server conspire to give me the
&gt; best representation that they both support, which is exactly what
&gt; content negotiation is all about.

I don't understand your argument - surely the situation is exactly the
opposite? Content negotiation is for selecting the representation of
the document that the client wants to see. URIs should identify
resources, NOT representations of resources.

As long as they really are the same resource.


Nic


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5164<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-07-20 10:47:40<br>
Subject:Re: [rest-discuss] Switching content type<br>
Message:<br><br>
<pre>I'm very tired so I forgot to add the url for cool uris don't change:

   http://www.w3.org/Provider/Style/URI.html


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5165<br>
Sender:"Justin T. Sampson" &lt;justin@...&gt;<br>
Post Date/Time:2005-07-20 11:36:40<br>
Subject:Re: [rest-discuss] Switching content type<br>
Message:<br><br>
<pre>Nic Ferrier wrote:

&gt; "Justin T. Sampson" &lt;justin@...&gt; writes:
&gt;
&gt; &gt; &gt; [...]
&gt; &gt;
&gt; &gt; AAAaaarrrggghhh!!
&gt; &gt;
&gt; &gt; Any time your understanding of REST disagrees with your
&gt; &gt; understanding of how the Web works, one or the other is
&gt; &gt; *wrong*.
&gt;
&gt; I'm not sure if you mean this as a personal insult or as a
&gt; general statement.
&gt;
&gt; If it's a personal insult then fine.

Hi Nic!

I didn't intend it as personal, but I realize it sounded that way
and I apologize. It's a general frustration with many recurring
discussions by many people here and elsewhere about REST as if
it's primarily an alternative to SOAP, when in fact its origins
had very little to do with what are now called Web services. REST
is an analysis of why the Web architecture works as well as it
does, and a tool to understand what does and doesn't work well on
the Web.

&gt; But if it's a general statement then it's not quite true is it?
&gt;
&gt; For example, the web works with cookies quite a lot. But cookies
&gt; are not RESTfull.

Cookies are a great example because they actually cause a lot of
problems for the operation of caching proxies, among other issues.
Understanding REST helps us to understand and predict such
problems for Web sites, Web apps, and Web services alike. Cookies
do violate REST, and they do cause problems on the real Web.

So a clearer way to state my original point is that Web apps and
Web services are equal in the eyes of REST. When I'm designing a
Web service, I think about how I'd do it as a Web app as well, and
consider what REST tells me about both. And REST needs at least as
much advocacy in the Web app world as in the Web service world at
this point.

&gt; &gt; Want to offer the user multiple representations? Go ahead and
&gt; &gt; give each one a different extension. Why not?
&gt;
&gt; Because cool-uris don't change:

So the cool URI for each version doesn't change. That doesn't mean
you can't have multiple URIs for multiple renditions of a file, if
those different renditions are meaningful to a user such that a
user would actually want to request one or the other (or several
different versions).

&gt; &gt; It helps the user understand what they're getting, besides the
&gt; &gt; fact that it just works. Even if you're using &lt;link
&gt; &gt; rel=alternate&gt;, you need to give a distinct URI for each
&gt; &gt; representation so the browser can actually grab what the user
&gt; &gt; asked for.
&gt;
&gt; Err... no. As discussed you can use the Accept header to
&gt; identify which resource you want.

Not really -- Accept doesn't guarantee (and certainly doesn't
*identify*) getting a particular representation, it expresses
preferences and abilities to allow negotiation of an appropriate
content type between the client and the server.

&gt; &gt; Content negotiation is not for parameterizing a request in
&gt; &gt; order to get specific versions of a document. Parameters
&gt; &gt; intended to explicitly request a specific thing should go in
&gt; &gt; the URI (for example, as a ".xxx" extension on the
&gt; &gt; "filename"). If I desire a PDF rendition of my bank statement,
&gt; &gt; that's a specific resource that I care about. I don't want
&gt; &gt; HTML; that would be a different resource. If, on the other
&gt; &gt; hand, I merely desire my bank statement, and I don't care what
&gt; &gt; specific file format it comes in, I'm happy if my browser and
&gt; &gt; the server conspire to give me the best representation that
&gt; &gt; they both support, which is exactly what content negotiation
&gt; &gt; is all about.
&gt;
&gt; I don't understand your argument - surely the situation is
&gt; exactly the opposite? Content negotiation is for selecting the
&gt; representation of the document that the client wants to see.
&gt; URIs should identify resources, NOT representations of
&gt; resources.
&gt;
&gt; As long as they really are the same resource.

Resources are concepts. If I have separate concepts of "bank
statement in PDF" and "bank statement in HTML", then two separate
URIs (one ending in .pdf and one ending in .html) make the most
conceptual sense. If I browse to the HTML rendition and then click
a link to download the PDF rendition, those are two separate
resources as far as I'm concerned. It's not content negotiation,
because my browser fully supports both. PDF and HTML are actually
different enough in user experience that I would never expect
content negotiation between them; content negotiation might
however choose between PNG and GIF for an image rendered inline,
because I have no conceptual distinction between them in that
case.

Bottom line is this: REST really says very little about what URIs
should look like. REST does say to use URIs to identify whatever
needs identifying, and to use hypertext to make those URIs known.
Anything beyond that is aesthetics. It's good to make URIs
meaningful to whoever might look at them, and to leave out
anything not relevant to what is being identified (most especially
implementation details like cgi, php, or jsp, but perhaps also
filename extensions *if that's not what's being identified
conceptually*), but they are opaque to the REST architectural
style itself.

Cheers,
Justin


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5166<br>
Sender:"iamstupidiot" &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-07-20 12:03:28<br>
Subject:Understand REST by example - weblog (presentation slide)<br>
Message:<br><br>
<pre>i'm going to explain REST to my supervisor this friday.

By using weblog as an example of web application,
the slide briefly shows how a RESTful application would look like.

here's the slide:
http://www.geocities.com/iamstupidiot/understandRestByExample-Weblog.ppt
(plz email me if having any access problem, i'll send the slide by email)

All comments are welcomed. :)
Anyway, hope my supervisor will understand what i'm trying to tell.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5167<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-07-20 12:18:18<br>
Subject:Re: [rest-discuss] Switching content type<br>
Message:<br><br>
<pre>"Justin T. Sampson" &lt;justin@...&gt; writes:

&gt; So a clearer way to state my original point is that Web apps and
&gt; Web services are equal in the eyes of REST. When I'm designing a
&gt; Web service, I think about how I'd do it as a Web app as well, and
&gt; consider what REST tells me about both. And REST needs at least as
&gt; much advocacy in the Web app world as in the Web service world at
&gt; this point.

I do agree with you. My point is that human facing webapps (as opposed
to machine facing ones which we might call web services) sometimes
have to be a little more flexible than REST allows (because the owners
of the webapp demand it).

Web services on the other hand are rarely subject to the sort of
technical incompetent hand waving that stops REST being used in
webapps.

A world built on webservices is all we really need, because then we
can write our own webapps.


&gt;&gt; &gt; Want to offer the user multiple representations? Go ahead and
&gt;&gt; &gt; give each one a different extension. Why not?
&gt;&gt;
&gt;&gt; Because cool-uris don't change:
&gt;
&gt; So the cool URI for each version doesn't change. That doesn't mean
&gt; you can't have multiple URIs for multiple renditions of a file, if
&gt; those different renditions are meaningful to a user such that a
&gt; user would actually want to request one or the other (or several
&gt; different versions).

You're talking about versions and I'm talking about representations of
one version.

I often deal in situations where I have two or more XML
representations and an HTML representation of the same data. Cool URIs
Don't Change suggests that you shouldn't try and put the
representation into the resource name because that ties you to a
format.

If I have a resource:

  http://www.tapsellferrier.co.uk/things/others/specialthing-1

then why should I insist to clients that they look at that as HTML? or
XML? or PDF? or an image?

It should be whatever they want within the bounds of what I can
supply.


&gt;&gt; Err... no. As discussed you can use the Accept header to
&gt;&gt; identify which resource you want.
&gt;
&gt; Not really -- Accept doesn't guarantee (and certainly doesn't
&gt; *identify*) getting a particular representation, it expresses
&gt; preferences and abilities to allow negotiation of an appropriate
&gt; content type between the client and the server.

Yes, Really. If the server can't supply what you want then it is
supposed to say 406. Right now most webapp don't do this very often
but as REST advocates we all know about spec non-compliance right?


&gt; Resources are concepts. If I have separate concepts of "bank
&gt; statement in PDF" and "bank statement in HTML", then two separate
&gt; URIs (one ending in .pdf and one ending in .html) make the most
&gt; conceptual sense. 

I disagree because cool URIs don't change.

If you have separate concepts of "bank statement in PDF" and "bank
statement in HTML" then I think you're quite unusual. I think of my
bank statement as my bank statement and I think most people do.

Resources should not be tied to representations.  The reason for this
is that the resource that identifies my bank statement should always
be the same. When I'm seventy (if I still have the same bank account
which is pretty unlikely I have to say) I'd expect my bank statement
URI to be the same.

More importantly if I have a resource to identify me then I don't want
to tie that to one or other document format.


&gt; Bottom line is this: REST really says very little about what URIs
&gt; should look like. REST does say to use URIs to identify whatever
&gt; needs identifying, and to use hypertext to make those URIs known.
&gt; Anything beyond that is aesthetics. It's good to make URIs
&gt; meaningful to whoever might look at them, and to leave out
&gt; anything not relevant to what is being identified (most especially
&gt; implementation details like cgi, php, or jsp, but perhaps also
&gt; filename extensions *if that's not what's being identified
&gt; conceptually*), but they are opaque to the REST architectural
&gt; style itself.

Ok. So it comes down to whether you accept that Cool URIs Don't
Change is part of REST. I can't remember if there's anything in Roy's
original paper about this. But since this stuff is quite clear in the
HTTP spec I believe that cool URIs don't change. /8-&gt;


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5168<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2005-07-20 13:17:21<br>
Subject:Re: [rest-discuss] Switching content type<br>
Message:<br><br>
<pre>On Jul 20, 2005, at 5:18 AM, Nic Ferrier wrote:

&gt;&gt; Resources are concepts. If I have separate concepts of "bank
&gt;&gt; statement in PDF" and "bank statement in HTML", then two separate
&gt;&gt; URIs (one ending in .pdf and one ending in .html) make the most
&gt;&gt; conceptual sense.
&gt;
&gt; I disagree because cool URIs don't change.
&gt;
&gt; If you have separate concepts of "bank statement in PDF" and "bank
&gt; statement in HTML" then I think you're quite unusual. I think of my
&gt; bank statement as my bank statement and I think most people do.

No, there are three resources.  One is your generic bank statement.
Second is your bank statement in PDF.  Third is your bank statement
in HTML.  Three distinct resources calls for three distinct URIs,
even if one of them is just a negotiation point for the rest.

&gt; Resources should not be tied to representations.  The reason for this
&gt; is that the resource that identifies my bank statement should always
&gt; be the same. When I'm seventy (if I still have the same bank account
&gt; which is pretty unlikely I have to say) I'd expect my bank statement
&gt; URI to be the same.

That is true for some interactions, but not all.  Authoring, for
example, should always be performed on a specific URI that is
dependent on the format, since that allows you to author many
different representations for the more generic URI at the same
time without having to rely on server gymnastics to understand
what resource is being authored.

&gt; Ok. So it comes down to whether you accept that Cool URIs Don't
&gt; Change is part of REST. I can't remember if there's anything in Roy's
&gt; original paper about this. But since this stuff is quite clear in the
&gt; HTTP spec I believe that cool URIs don't change. /8-&gt;

Those are orthogonal issues.  The fact that you have one URI that
is generic does not in any way limit the number of less generic
URIs that are also used and available within an application.
All URIs are important.

REST is designed so that URI references don't need to change,
which is the principle behind Tim's "cool URIs don't change"
comments.  That is the final bit of

    This abstract definition of a resource enables key features
    of the Web architecture. First, it provides generality by
    encompassing many sources of information without artificially
    distinguishing them by type or implementation. Second, it
    allows late binding of the reference to a representation,
    enabling content negotiation to take place based on
    characteristics of the request. Finally, it allows an author
    to reference the concept rather than some singular
    representation of that concept, thus removing the need to
    change all existing links whenever the representation
    changes (assuming the author used the right identifier).

Using the right identifier requires that identifiers be available
for everything one might want to identify, including each individual
resource that makes up the value set of some "cool URI" resource.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5169<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-07-20 14:25:18<br>
Subject:Re: [rest-discuss] Switching content type<br>
Message:<br><br>
<pre>"Roy T. Fielding" &lt;fielding@...&gt; writes:

&gt; On Jul 20, 2005, at 5:18 AM, Nic Ferrier wrote:
&gt;
&gt;&gt; Resources should not be tied to representations.  The reason for this
&gt;&gt; is that the resource that identifies my bank statement should always
&gt;&gt; be the same. When I'm seventy (if I still have the same bank account
&gt;&gt; which is pretty unlikely I have to say) I'd expect my bank statement
&gt;&gt; URI to be the same.
&gt;
&gt; That is true for some interactions, but not all.  Authoring, for
&gt; example, should always be performed on a specific URI that is
&gt; dependent on the format, since that allows you to author many
&gt; different representations for the more generic URI at the same
&gt; time without having to rely on server gymnastics to understand
&gt; what resource is being authored.

When you PUT the server could use the content-type to decide what
representation is to be edited. 

I don't understand why you class that as gymnastics.


Doing it this way gives the server the chance to say: sorry, that
representation isn't supported by me (if the user submitted something
un-indexable perhaps). 


Of course, I'd be pretty annoyed if I'd just typed war and peace into
a text box and the server said that.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5170<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2005-07-20 16:02:54<br>
Subject:Re: [rest-discuss] Switching content type<br>
Message:<br><br>
<pre>On Jul 20, 2005, at 7:25 AM, Nic Ferrier wrote:

&gt; When you PUT the server could use the content-type to decide what
&gt; representation is to be edited.
&gt;
&gt; I don't understand why you class that as gymnastics.

Because I've written HTTP clients and HTTP servers.

If the server assumes that every content type is a variant of
a single resource instead of a representation, then clients are
unable to replace an HTML representation with an XML representation.

In order for the client to present an accurate user interface
for authoring a negotiated resource, it would have to know all of
the potential media types that might be representations for a given
resource. Not just the ones that are valid now, but all of those
that might ever be valid.

In contrast, if you design the system such that negotiated URIs
cannot be authored (they redirect using 300 instead), then the
client doesn't need to know in advance how the resource is
implemented.  If the server receives an XML replacement for a
negotiated URI, it can redirect to the media-specific URI for XML.
If the server receives the same for a non-negotiated URI, it can
simply replace the current representation and respond with 200.

That way, the client gets informed of the URIs for the other
specific resources that it might need to author or delete.

Note that there is yet another resource in effect here, and
that is the one that tells the server how to map each resource
to a set of representations.  That can be authored as well
if we give it a URI of its own.

&gt; Doing it this way gives the server the chance to say: sorry, that
&gt; representation isn't supported by me (if the user submitted something
&gt; un-indexable perhaps).

Why would anyone want such a feature?

&gt; Of course, I'd be pretty annoyed if I'd just typed war and peace into
&gt; a text box and the server said that.

I'd be pretty annoyed by the text box. ;-)  HTML forms are not a
good editing environment and HTTP certainly isn't limited to them.
MS Word writes directly to web folders which is just another
HTTP client library (with bugs).

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5171<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-07-20 21:29:09<br>
Subject:Re: [rest-discuss] Switching content type<br>
Message:<br><br>
<pre>"Roy T. Fielding" &lt;fielding@...&gt; writes:

&gt; On Jul 20, 2005, at 7:25 AM, Nic Ferrier wrote:
&gt;
&gt;&gt; When you PUT the server could use the content-type to decide what
&gt;&gt; representation is to be edited.
&gt;&gt;
&gt;&gt; I don't understand why you class that as gymnastics.
&gt;
&gt; Because I've written HTTP clients and HTTP servers.

Yes. I know. And you wrote the specs. It's certainly difficult arguing
with you because of that. But hey! I'm cantankerous!


I have written clients and servers as well (though I'm sure not as
many as you) but I've never felt that content negotiation was onerous.


&gt; If the server assumes that every content type is a variant of
&gt; a single resource instead of a representation, then clients are
&gt; unable to replace an HTML representation with an XML representation.

How so? text/html and text/xml (or application/xml or
application/xml+rss or whatever).

I agree that it's not possible to replace one text/xml with another
text/xml even though they might be different representations (eg: src
document and fo). I can honestly say I've never run into that
particular problem. Mostly I find that one (maybe 2) authorial formats
are used within a particular system.


&gt; In order for the client to present an accurate user interface
&gt; for authoring a negotiated resource, it would have to know all of
&gt; the potential media types that might be representations for a given
&gt; resource. Not just the ones that are valid now, but all of those
&gt; that might ever be valid.

I certainly wasn't suggesting that. 

While I was making that suggestion I was imagining a large CMS with
many authors. Something on the scale of wikipedia (but that's not
unique at all, I've worked on similar sized things for clients).

In such a system using a PUT system with content negotiation might be
useful. People have different editors that produce different content
types and a content-neg system could ease the use of that.

Maybe I could write an article on honey bees (which are a current
interest of mine) in HTML and PUT it to /cms/apismellifera.

A collegue might spot some mistakes and opens the resource in Word. He
changes the mistakes, saves a local copy (in .doc) and PUTs the
resource back to the server under the same URL: /cms/apismellifera.

The server doesn't accept Word DOC format so it sends a 406 and my
colleague tells Word to save it as HTML this time. Then it works.

Weeks later we upgrade the CMS so that it accepts Word DOC format as a
representation for resources and my colleague goes through exactly the
same process as before with another mistake. This time he can PUT the
document in Word DOC format.


In the meantime whenever someone GETs the resource /cms/apismellifera
they do the same content neg. Mostly people with browsers do
text/html, text/xml, *.*. People with other editors might highly
prioritize native formats which the server would deliver if it had
them or could generate them.


&gt; That way, the client gets informed of the URIs for the other
&gt; specific resources that it might need to author or delete.

Ah. I think I see what you're getting at.

I have been making a presumption based on my personal practice. My
personal practice is to not allow a representation unless it can be
arrived at by conversion from another representation.

In the system I describe above it would have to be a decision for the
CMS administrators whether to allow representations that would result
in lossy conversions to the other representations to be added.


Given representations with no conversion I do see what you're getting
at.

And clearly being able to convert is not a requirement of the specs.


&gt;&gt; Of course, I'd be pretty annoyed if I'd just typed war and peace into
&gt;&gt; a text box and the server said that.
&gt;
&gt; I'd be pretty annoyed by the text box. ;-)  HTML forms are not a
&gt; good editing environment and HTTP certainly isn't limited to them.
&gt; MS Word writes directly to web folders which is just another
&gt; HTTP client library (with bugs).

Yeah. I knew that. I was just trying to be funny.

And it's not that funny either because still with all these tools how
do we update the wikipedia page on Apis Mellifera?



Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5172<br>
Sender:Mark Nottingham &lt;mnot@...&gt;<br>
Post Date/Time:2005-07-21 14:13:02<br>
Subject:Re: [rest-discuss] Mirroring / Distributing REST based services<br>
Message:<br><br>
<pre>By hosting DNS for people as well, and changing it dynamically based  
on load, etc.

This is more or less what Akamai does these days.

Cheers,


On 29/06/2005, at 4:19 AM, Vincent D Murphy wrote:

&gt; On Tue, 28 Jun 2005 17:11:55 -0700, "Mark Nottingham" &lt;mnot@...&gt;
&gt; said:
&gt;
&gt;&gt; You might also be interested in CoralCDN;
&gt;&gt;    http://www.coralcdn.org/
&gt;&gt; which requires you to modify URIs (they could avoid that if they
&gt;&gt; wrote some more software, but isn't that always the case?)
&gt;&gt;
&gt;
&gt; Care to elaborate?
&gt;
&gt; (Feel free to CC rest-discuss)
&gt;
&gt;


--
Mark Nottingham     http://www.mnot.net/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5173<br>
Sender:"Ron" &lt;tiltbike@...&gt;<br>
Post Date/Time:2005-07-26 13:09:20<br>
Subject:Re: apache configuration for REST and pseudo-URL's<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, "Jeff Stern &lt;jastern949@y...&gt;"
&lt;jastern949@y...&gt; wrote:

&gt; i'd like to configure our apache server for REST

&gt; i don't want to have to go through the trouble of setting up
re-write
&gt; rules (using mod-rewrite).. but is that what people generally do?

Yep, looks like it.

&gt; or is the SetHandler/Action way the easier way, but i'm just missing
&gt; something? .. what am i doing wrong?

Well, it seems to be part of the solution, but an addition to
mod_rewrite, not a substitute for it.

&gt; alternatively, is there a tutorial / directions on this somewhere?
&gt; 
&gt; finally, what word/term/jargon does one even *use* to refer to this
&gt; phenomenon or technique? i've looked stuff up under "dispatcher", or
&gt; "URL", or "cgi" or "script", or even with specific apache terms like
&gt; "SetHandler".. but is there generally a name for this "technique" so
&gt; that i can even know how to refer to it or how to look for it?


The best tuts I found were under "Search-engine friendly" instead of
"Representational State Transfer" per se, as far as Google is
concerned. I felt lucky to dig up this old thread, but I can't say the
responses were tremendously helpful to me (I am up to a very basic
understanding of REST, but not of Apache.)

You've undoubtably found an answer already, but here are some
resources for others who stumble across this thread.

http://www.sitepoint.com/print/guide-url-rewriting and
http://www.sitepoint.com/print/search-engine-friendly-urls are some
help, and CherryPy http://www.cherrypy.org has a handy "default"
method that looks like it may address this problem.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5174<br>
Sender:"Ron" &lt;tiltbike@...&gt;<br>
Post Date/Time:2005-08-02 14:27:07<br>
Subject:Re: apache configuration for REST and pseudo-URL's<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, "Ron" &lt;tiltbike@y...&gt; wrote:
&gt; --- In rest-discuss@yahoogroups.com, "Jeff Stern &lt;jastern949@y...&gt;"
&gt; &lt;jastern949@y...&gt; wrote:
&gt; 
&gt; &gt; i'd like to configure our apache server for REST
&gt; 
&gt; &gt; i don't want to have to go through the trouble of setting up
&gt; re-write
&gt; &gt; rules (using mod-rewrite).. but is that what people generally do?
&gt; 
&gt; Yep, looks like it.
.
.
.
&gt; CherryPy http://www.cherrypy.org has a handy "default"
&gt; method that looks like it may address this problem.

I have been working on a "GET"-only resource (like a unit converter,)
and CherryPy 2.0 is pretty simple. I posted a "filter" script at
http://groups-beta.google.com/group/cherrypy-users/browse_thread/thread/1a152a59e1e365a6/7069b0889c82b480
 that allows users to specify the return format in the query string.
The embedded demo script simply echos the parsed URL and query string
in xml or html, but I plan to roll out a functional service RSN.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5175<br>
Sender:toydi &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-08-03 14:06:41<br>
Subject:RESTy - PHP5 MVC Framework for REST implemetation in Web Applications<br>
Message:<br><br>
<pre>Hi, i'm currently building a PHP5 MVC framework to provide an easier
way to develope RESTful web applications.

Everything is still in a very early dev stage. However, i managed to
setup a demo site, with a rough simple weblog prototype. Feel free to
try out and comments are welcomed.

http://restylab.php5.cz/

Btw, i'm planning to setup an open project to dev the framework, but
i'm still not familiar on how to organize an open source project.
Therefore, if anyone interested in this project and wish contribute,
feel free to contact me.

Have a nice day :)

-- 
-toydi-
teohuiming at gmail dot com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5176<br>
Sender:"project1_chavkin" &lt;bchavkin@...&gt;<br>
Post Date/Time:2005-08-08 16:32:22<br>
Subject:Job Opportunity - Web Services Developer with RESTful implementation experience<br>
Message:<br><br>
<pre>I have a client in Central New Jersey who is looking a developer to
start as a Consultant and then, after an initial contract period of
4-6 months, convert to FT/Employee of the client.

Details are as follows:
Major Financial News Publisher seeks a Web Development Consultant with
specific experience implementing RESTful Web Services.  Consultant
will join a group responsible for designing, developing, deploying and
supporting RESTful B2B Web Services using Apache 2, Java, Linux,
Oracle and XML.  Project responsibilities include:
.  Design and development of RESTful Web Services;
.  Download, deploy, customize, debug Apache 2 modules;
.  Design solutions in a team environment - analyse feature request to
identify work tasks, suggest ways to retire and replace legacy
components, provide estimates of effort.
.  Develop new features using shared web platform (JSP, JDBC, Struts,
Oracle, XML, CVS), unit test, report on progress to project manager,
write recommendations for QA;
.  Efficiently combine rapid prototyping/agile development model while
adhering to formal processes to deliver to QA and Production environments;
.  Debug applications, performance analysis and tuning, barinstorm
workarounds for legacy systems issues;
.  Partner with SysAdmins and DBAs to deploy and debug applications
and provide emergency production support; and Provide explanations to
Vendor Services team on new features and to help debug 3rd party
problems with Web Services.

Requirements:
.  Degree in Comp Science/Software Engineering (or equivalent);
.  XML, Apache 2 Plug In development, Java, Oracle, Red Hat Linux, Web
Services, RSS, XHTML, SOAP and UNIX/Linux Shell Scripting

Client is specifically seeking a consultant who is avialable and
interested in converting to FT/Employee after initial contract period.
 Consultant must be US Citizen or Green Card holder.  Excellent oral
and written communication skills are required.


If you're interested, or have recommendations about a referral or the
posting, please e-mail me at bchavkin@...

Thanks,

Brian

Brian Chavkin - Director Account Management
PROJECT ONE, INC.
450 7th Avenue, Suite 500
New York, NY 10123
Member NACCB
bchavkin@...






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5177<br>
Sender:"jpecore" &lt;jpecore@...&gt;<br>
Post Date/Time:2005-08-17 13:59:27<br>
Subject:Re: apache configuration for REST and pseudo-URL's<br>
Message:<br><br>
<pre>Can Apache Cocoon (using sitemap.xmap) be used instead of Apache
mod-rewrite to configure a server for REST and pseudo-URLs?

If so, any pros or cons of using one over the other?

- Joe

--- In rest-discuss@yahoogroups.com, "Ron" &lt;tiltbike@y...&gt; wrote:
&gt; --- In rest-discuss@yahoogroups.com, "Jeff Stern &lt;jastern949@y...&gt;"
&gt; &lt;jastern949@y...&gt; wrote:
&gt; 
&gt; &gt; i'd like to configure our apache server for REST
&gt; 
&gt; &gt; i don't want to have to go through the trouble of setting up
&gt; re-write
&gt; &gt; rules (using mod-rewrite).. but is that what people generally do?
&gt; 
&gt; Yep, looks like it.
&gt; 
&gt; &gt; or is the SetHandler/Action way the easier way, but i'm just missing
&gt; &gt; something? .. what am i doing wrong?
&gt; 
&gt; Well, it seems to be part of the solution, but an addition to
&gt; mod_rewrite, not a substitute for it.
&gt; 
&gt; &gt; alternatively, is there a tutorial / directions on this somewhere?
&gt; &gt; 
&gt; &gt; finally, what word/term/jargon does one even *use* to refer to this
&gt; &gt; phenomenon or technique? i've looked stuff up under "dispatcher", or
&gt; &gt; "URL", or "cgi" or "script", or even with specific apache terms like
&gt; &gt; "SetHandler".. but is there generally a name for this "technique" so
&gt; &gt; that i can even know how to refer to it or how to look for it?
&gt; 
&gt; 
&gt; The best tuts I found were under "Search-engine friendly" instead of
&gt; "Representational State Transfer" per se, as far as Google is
&gt; concerned. I felt lucky to dig up this old thread, but I can't say the
&gt; responses were tremendously helpful to me (I am up to a very basic
&gt; understanding of REST, but not of Apache.)
&gt; 
&gt; You've undoubtably found an answer already, but here are some
&gt; resources for others who stumble across this thread.
&gt; 
&gt; http://www.sitepoint.com/print/guide-url-rewriting and
&gt; http://www.sitepoint.com/print/search-engine-friendly-urls are some
&gt; help, and CherryPy http://www.cherrypy.org has a handy "default"
&gt; method that looks like it may address this problem.





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5178<br>
Sender:"Costello,Roger L." &lt;costello@...&gt;<br>
Post Date/Time:2005-08-18 21:27:01<br>
Subject:[ANN] 5 Minute Introduction to REST<br>
Message:<br><br>
<pre>Hi Folks,
 
A colleague (Tim Kehoe) and I have put together a short tutorial on
REST:
 
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5179<br>
Sender:"Costello,Roger L." &lt;costello@...&gt;<br>
Post Date/Time:2005-08-18 21:31:07<br>
Subject:[ANN] 5 minute intro to REST<br>
Message:<br><br>
<pre>Hi Folks,
 
A colleague (Tim Kehoe) and I have put together a short tutorial on
REST:
 
&lt;http://www.xfront.com/&gt; http://www.xfront.com/
&lt;http://www.xfront.com/5-minute-intro-to-REST.ppt&gt;
5-minute-intro-to-REST.ppt
 
Comments welcome.  /Roger
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5180<br>
Sender:"Ian D. Stewart" &lt;idstewart@...&gt;<br>
Post Date/Time:2005-08-19 11:31:55<br>
Subject:Re: [rest-discuss] [ANN] 5 minute intro to REST<br>
Message:<br><br>
<pre>Costello,Roger L. wrote:

&gt; Hi Folks,
&gt;  
&gt; A colleague (Tim Kehoe) and I have put together a short tutorial on REST:
&gt;  
&gt; http://www.xfront.com/ 
&gt; &lt;http://www.xfront.com/5-minute-intro-to-REST.ppt&gt;5-minute-intro-to-REST.ppt
&gt;  
&gt; Comments welcome.  /Roger

Hi Roger,

Any chance you could make this available as a Flash presentation, or 
even as a series of interlinked web pages, for those of us without 
access to PowerPoint?


Thanx,
Ian




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5181<br>
Sender:"Costello,Roger L." &lt;costello@...&gt;<br>
Post Date/Time:2005-08-19 13:58:21<br>
Subject:RE: [rest-discuss] [ANN] 5 minute intro to REST<br>
Message:<br><br>
<pre>Hi Ian,

Sure, here is an HTML version of it:

http://www.xfront.com/5-minute-intro-to-REST_files/frame.htm

As always, comments are welcome.  /Roger
 

-----Original Message-----
From: Ian D. Stewart [mailto:idstewart@compuvative.com] 
Sent: Friday, August 19, 2005 7:32 AM
To: Costello,Roger L.
Cc: rest-discuss@yahoogroups.com
Subject: Re: [rest-discuss] [ANN] 5 minute intro to REST

Costello,Roger L. wrote:

&gt; Hi Folks,
&gt;  
&gt; A colleague (Tim Kehoe) and I have put together a short tutorial on
REST:
&gt;  
&gt; http://www.xfront.com/ 
&gt;
&lt;http://www.xfront.com/5-minute-intro-to-REST.ppt&gt;5-minute-intro-to-REST
.ppt
&gt;  
&gt; Comments welcome.  /Roger

Hi Roger,

Any chance you could make this available as a Flash presentation, or 
even as a series of interlinked web pages, for those of us without 
access to PowerPoint?


Thanx,
Ian




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5182<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2005-08-19 14:14:15<br>
Subject:Re: [rest-discuss] [ANN] 5 minute intro to REST<br>
Message:<br><br>
<pre>Roger,

The tutorial hammers on the principle of identifying
resources with URI's, which is good, but I think when
presented to novices it will tend to carry the message
that REST means flattening the resource space and
getting rid of management layers, which of course is
not really what REST is at all.

I think you should scope your tutorial properly to the
topic above (by renaming it), and give examples of
how things like "one stop shopping" are not in fatal
conflict with REST design.

Walden

----- Original Message ----- 
From: "Costello,Roger L." &lt;costello@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Friday, August 19, 2005 9:58 AM
Subject: RE: [rest-discuss] [ANN] 5 minute intro to REST


: Hi Ian,
:
: Sure, here is an HTML version of it:
:
: http://www.xfront.com/5-minute-intro-to-REST_files/frame.htm
:
: As always, comments are welcome.  /Roger
:
:
: -----Original Message-----
: From: Ian D. Stewart [mailto:idstewart@...]
: Sent: Friday, August 19, 2005 7:32 AM
: To: Costello,Roger L.
: Cc: rest-discuss@yahoogroups.com
: Subject: Re: [rest-discuss] [ANN] 5 minute intro to REST
:
: Costello,Roger L. wrote:
:
: &gt; Hi Folks,
: &gt;
: &gt; A colleague (Tim Kehoe) and I have put together a short tutorial on
: REST:
: &gt;
: &gt; http://www.xfront.com/
: &gt;
: &lt;http://www.xfront.com/5-minute-intro-to-REST.ppt&gt;5-minute-intro-to-REST
: .ppt
: &gt;
: &gt; Comments welcome.  /Roger
:
: Hi Roger,
:
: Any chance you could make this available as a Flash presentation, or
: even as a series of interlinked web pages, for those of us without
: access to PowerPoint?
:
:
: Thanx,
: Ian
:
:
:
:
:
:
:
: Yahoo! Groups Links
:
:
:
:
:
:
:
: __________ NOD32 1.1197 (20050818) Information __________
:
: This message was checked by NOD32 antivirus system.
: http://www.eset.com
:
: 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5183<br>
Sender:"Costello,Roger L." &lt;costello@...&gt;<br>
Post Date/Time:2005-08-19 16:02:18<br>
Subject:RE: [rest-discuss] [ANN] 5 minute intro to REST<br>
Message:<br><br>
<pre>Hello Walden,

Thanks for your comments!

We agree that REST does not mean flattening the resource space; that is
what URI's do (i.e., everything is accessible with the click of a
hyperlink).  REST takes advantage of it.  And we are OK with that.

We are not clear on what you mean by "management layers"?

Depending on what you mean by one stop shopping, REST may not be in
fatal conflict with it, but we assert that it is poor design.  It would
inhibit discovery of the resources hiding behind the one stop and it
inhibits the creation of metadata for each individual resource. 

/Roger

-----Original Message-----
From: Walden Mathews [mailto:waldenm@...] 
Sent: Friday, August 19, 2005 10:14 AM
To: Costello,Roger L.; rest-discuss@yahoogroups.com
Subject: Re: [rest-discuss] [ANN] 5 minute intro to REST

Roger,

The tutorial hammers on the principle of identifying
resources with URI's, which is good, but I think when
presented to novices it will tend to carry the message
that REST means flattening the resource space and
getting rid of management layers, which of course is
not really what REST is at all.

I think you should scope your tutorial properly to the
topic above (by renaming it), and give examples of
how things like "one stop shopping" are not in fatal
conflict with REST design.

Walden

----- Original Message ----- 
From: "Costello,Roger L." &lt;costello@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Friday, August 19, 2005 9:58 AM
Subject: RE: [rest-discuss] [ANN] 5 minute intro to REST


: Hi Ian,
:
: Sure, here is an HTML version of it:
:
: http://www.xfront.com/5-minute-intro-to-REST_files/frame.htm
:
: As always, comments are welcome.  /Roger
:
:
: -----Original Message-----
: From: Ian D. Stewart [mailto:idstewart@...]
: Sent: Friday, August 19, 2005 7:32 AM
: To: Costello,Roger L.
: Cc: rest-discuss@yahoogroups.com
: Subject: Re: [rest-discuss] [ANN] 5 minute intro to REST
:
: Costello,Roger L. wrote:
:
: &gt; Hi Folks,
: &gt;
: &gt; A colleague (Tim Kehoe) and I have put together a short tutorial on
: REST:
: &gt;
: &gt; http://www.xfront.com/
: &gt;
:
&lt;http://www.xfront.com/5-minute-intro-to-REST.ppt&gt;5-minute-intro-to-REST
: .ppt
: &gt;
: &gt; Comments welcome.  /Roger
:
: Hi Roger,
:
: Any chance you could make this available as a Flash presentation, or
: even as a series of interlinked web pages, for those of us without
: access to PowerPoint?
:
:
: Thanx,
: Ian
:
:
:
:
:
: ------------------------ Yahoo! Groups Sponsor
--------------------~--&gt;
: &lt;font face=arial size=-1&gt;&lt;a 
href="http://us.ard.yahoo.com/SIG=12ht9ngpa/M=362335.6886445.7839731.151
0227/D=groups/S=1705701014:TM/Y=YAHOO/EXP=1124467116/A=2894361/R=0/SIG=1
3jmebhbo/*http://www.networkforgood.org/topics/education/digitaldivide/?
source=YAHOO&amp;cmpgn=GRP&amp;RTP=http://groups.yahoo.com/"&gt;In 
low income neighborhoods, 84% do not own computers. At Network for Good,

help bridge the Digital Divide!&lt;/a&gt;.&lt;/font&gt;
:
--------------------------------------------------------------------~-&gt;
:
:
: Yahoo! Groups Links
:
:
:
:
:
:
:
: __________ NOD32 1.1197 (20050818) Information __________
:
: This message was checked by NOD32 antivirus system.
: http://www.eset.com
:
: 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5184<br>
Sender:"Costello,Roger L." &lt;costello@...&gt;<br>
Post Date/Time:2005-08-19 19:26:54<br>
Subject:[ANN] Two Tutorials on REST - a quick intro and an expanded version<br>
Message:<br><br>
<pre>Hi Folks,

A colleague (Tim Kehoe) and I have created two tutorials on REST.

NOTE: I strongly recommend viewing the Powerpoint version rather than
the HTML version.  Some of the graphics in the HTML version are missing.

1. (Announced yesterday) 5 Minute Tutorial on REST

Powerpoint Version (preferred):

    http://www.xfront.com/5-minute-intro-to-REST.ppt

HTML Version:

    http://www.xfront.com/5-minute-intro-to-REST_files/frame.htm

2. An extended follow-up to the 5 minute tutorial, REST -
Representational State Transfer

Powerpoint Version (preferred):

    http://www.xfront.com/REST-full.ppt

HTML Version:

    http://www.xfront.com/REST.htm


Comments welcome.  /Roger

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5185<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2005-08-20 02:09:37<br>
Subject:Re: [rest-discuss] [ANN] 5 minute intro to REST<br>
Message:<br><br>
<pre>Roger,

I think all three points may be the same point.  In your diagrams,
you show three phone numbers, three URI, as being "good".
Well, how did those get exposed?

Management layers and "one stop shopping" mean, in this context,
resources which present other resources.  It doesn't mean you
have to tunnel everything through one URI, but it also doesn't
mean you have to do all your web shopping out of your bookmarks
either (or worse, type those URI in).

I know you  know this; I just thought you could make it
clearer to your audience.

Walden

----- Original Message ----- 
From: "Costello,Roger L." &lt;costello@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Friday, August 19, 2005 12:02 PM
Subject: RE: [rest-discuss] [ANN] 5 minute intro to REST


Hello Walden,

Thanks for your comments!

We agree that REST does not mean flattening the resource space; that is
what URI's do (i.e., everything is accessible with the click of a
hyperlink).  REST takes advantage of it.  And we are OK with that.

We are not clear on what you mean by "management layers"?

Depending on what you mean by one stop shopping, REST may not be in
fatal conflict with it, but we assert that it is poor design.  It would
inhibit discovery of the resources hiding behind the one stop and it
inhibits the creation of metadata for each individual resource.

/Roger

-----Original Message-----
From: Walden Mathews [mailto:waldenm@...]
Sent: Friday, August 19, 2005 10:14 AM
To: Costello,Roger L.; rest-discuss@yahoogroups.com
Subject: Re: [rest-discuss] [ANN] 5 minute intro to REST

Roger,

The tutorial hammers on the principle of identifying
resources with URI's, which is good, but I think when
presented to novices it will tend to carry the message
that REST means flattening the resource space and
getting rid of management layers, which of course is
not really what REST is at all.

I think you should scope your tutorial properly to the
topic above (by renaming it), and give examples of
how things like "one stop shopping" are not in fatal
conflict with REST design.

Walden

----- Original Message ----- 
From: "Costello,Roger L." &lt;costello@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Friday, August 19, 2005 9:58 AM
Subject: RE: [rest-discuss] [ANN] 5 minute intro to REST


: Hi Ian,
:
: Sure, here is an HTML version of it:
:
: http://www.xfront.com/5-minute-intro-to-REST_files/frame.htm
:
: As always, comments are welcome.  /Roger
:
:
: -----Original Message-----
: From: Ian D. Stewart [mailto:idstewart@...]
: Sent: Friday, August 19, 2005 7:32 AM
: To: Costello,Roger L.
: Cc: rest-discuss@yahoogroups.com
: Subject: Re: [rest-discuss] [ANN] 5 minute intro to REST
:
: Costello,Roger L. wrote:
:
: &gt; Hi Folks,
: &gt;
: &gt; A colleague (Tim Kehoe) and I have put together a short tutorial on
: REST:
: &gt;
: &gt; http://www.xfront.com/
: &gt;
:
&lt;http://www.xfront.com/5-minute-intro-to-REST.ppt&gt;5-minute-intro-to-REST
: .ppt
: &gt;
: &gt; Comments welcome.  /Roger
:
: Hi Roger,
:
: Any chance you could make this available as a Flash presentation, or
: even as a series of interlinked web pages, for those of us without
: access to PowerPoint?
:
:
: Thanx,
: Ian
:
:
:
:
:
: ------------------------ Yahoo! Groups Sponsor
--------------------~--&gt;
: &lt;font face=arial size=-1&gt;&lt;a
href="http://us.ard.yahoo.com/SIG=12ht9ngpa/M=362335.6886445.7839731.151
0227/D=groups/S=1705701014:TM/Y=YAHOO/EXP=1124467116/A=2894361/R=0/SIG=1
3jmebhbo/*http://www.networkforgood.org/topics/education/digitaldivide/?
source=YAHOO&amp;cmpgn=GRP&amp;RTP=http://groups.yahoo.com/"&gt;In
low income neighborhoods, 84% do not own computers. At Network for Good,

help bridge the Digital Divide!&lt;/a&gt;.&lt;/font&gt;
:
--------------------------------------------------------------------~-&gt;
:
:
: Yahoo! Groups Links
:
:
:
:
:
:
:
: __________ NOD32 1.1197 (20050818) Information __________
:
: This message was checked by NOD32 antivirus system.
: http://www.eset.com
:
:





Yahoo! Groups Links








__________ NOD32 1.1198 (20050819) Information __________

This message was checked by NOD32 antivirus system.
http://www.eset.com



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5186<br>
Sender:"christianhgross" &lt;mailing@...&gt;<br>
Post Date/Time:2005-08-22 09:44:13<br>
Subject:Accept Header Question<br>
Message:<br><br>
<pre>I understand the thinking of the resource and representation
separation.  However, is it even possible with how browsers are
implemented today.

Consider the following HTTP Accept declaration from a browser.

Accept:text/xml,application/xml,application/xhtml+xml,
text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5

The browser prefers the following content:
1) text/xml,
2) application/xml,
3) application/xhtml+x,
4) image/png
5) text/html;q=0.9
6) text/plain;q=0.8
7) */*;q=0.5

If I am reading this correctly, it means that the browser prefers XML
to an HTML page.  Is this not incorrect?  Let's say I write a REST
service and make it compatible with both a browser and XML client, the
browser will always get the wrong content namely XML.

Is this a correct interpretation of the Accept header?

Thanks

Christian Gross



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5187<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-08-22 10:34:14<br>
Subject:Re: [rest-discuss] Accept Header Question<br>
Message:<br><br>
<pre>"christianhgross" &lt;mailing@...&gt; writes:

&gt; I understand the thinking of the resource and representation
&gt; separation.  However, is it even possible with how browsers are
&gt; implemented today.
&gt;
&gt; Consider the following HTTP Accept declaration from a browser.
&gt;
&gt; Accept:text/xml,application/xml,application/xhtml+xml,
&gt; text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5
&gt;
&gt; The browser prefers the following content:
&gt; 1) text/xml,
&gt; 2) application/xml,
&gt; 3) application/xhtml+x,
&gt; 4) image/png
&gt; 5) text/html;q=0.9
&gt; 6) text/plain;q=0.8
&gt; 7) */*;q=0.5
&gt;
&gt; If I am reading this correctly, it means that the browser prefers XML
&gt; to an HTML page.  Is this not incorrect?  Let's say I write a REST
&gt; service and make it compatible with both a browser and XML client, the
&gt; browser will always get the wrong content namely XML.
&gt;
&gt; Is this a correct interpretation of the Accept header?

Yes.

The XML document could include an embedded stylesheet to make the page
display nicely in a browser.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5188<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-08-22 13:27:46<br>
Subject:Re: [rest-discuss] Accept Header Question<br>
Message:<br><br>
<pre>On Mon, 22 Aug 2005 09:44:13 -0000, "christianhgross"
&lt;mailing@...&gt; said:
&gt; I understand the thinking of the resource and representation
&gt; separation.  However, is it even possible with how browsers are
&gt; implemented today.
[snip]
&gt; Is this a correct interpretation of the Accept header?

Yes. However that doesn't have to be a bad thing.

There is nothing to stop you treating each representation as
a resource with a URI. For example, if you have a resource
called /foo, have other resources for the representations
as follows:

1. /foo /foo.html /foo.xml /foo.pdf
2. /foo /foo/html /foo/xml /foo/pdf

The first option has the advantage that it gives the browser
a reasonable default filename when somebody chooses to save
a representation in a file using 'Save As'.

The second option is easier to use with relative URIs.

Conneg is supported by the architecture, but not used all
that often, in my experience; YMMV.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5189<br>
Sender:Joe Gregorio &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2005-08-22 14:36:56<br>
Subject:Re: [rest-discuss] Accept Header Question<br>
Message:<br><br>
<pre>On 8/22/05, christianhgross &lt;mailing@...&gt; wrote:
&gt; Is this a correct interpretation of the Accept header?

That is correct, and from that you could take away two potential lessons:

1. Don't use conneg for web services.
2. Never, ever use text/xml or application/xml as the mime-type for
your web services representations.

#2 should be followed regardless of what you are doing. If you do use
specific mime-types for your representations then you shouldn't run
into a problem.

If you are careful with your mime-types and parsing accept headers I believe
you can deploy a web service that uses conneg. Note that represents a change
in my historical stance against conneg[1].

   -joe

[1] http://wellformedweb.org/news/WebServicesAndContentNegotiation

-- 
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5190<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-08-22 14:45:42<br>
Subject:Re: [rest-discuss] Accept Header Question<br>
Message:<br><br>
<pre>Joe Gregorio &lt;joe.gregorio@...&gt; writes:

&gt; On 8/22/05, christianhgross &lt;mailing@...&gt; wrote:
&gt;&gt; Is this a correct interpretation of the Accept header?
&gt;
&gt; That is correct, and from that you could take away two potential lessons:
&gt;
&gt; 1. Don't use conneg for web services.
&gt; 2. Never, ever use text/xml or application/xml as the mime-type for
&gt; your web services representations.
&gt;
&gt; #2 should be followed regardless of what you are doing. If you do use
&gt; specific mime-types for your representations then you shouldn't run
&gt; into a problem.
&gt;
&gt; If you are careful with your mime-types and parsing accept headers I believe
&gt; you can deploy a web service that uses conneg. Note that represents a change
&gt; in my historical stance against conneg[1].

I believe that, when XML is present, the HTML should be derived from
it by means of a stylesheet. Given that there is a mechanism for
putting the SS into the XML you get the ability to deliver the XML and
the HTML to a browser.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5191<br>
Sender:"christianhgross" &lt;mailing@...&gt;<br>
Post Date/Time:2005-08-22 19:25:56<br>
Subject:Re: Accept Header Question<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, "Vincent D Murphy" &lt;vdm@v...&gt; wrote:
&gt; On Mon, 22 Aug 2005 09:44:13 -0000, "christianhgross"
&gt; &lt;mailing@d...&gt; said:
&gt; &gt; I understand the thinking of the resource and representation
&gt; &gt; separation.  However, is it even possible with how browsers are
&gt; &gt; implemented today.
&gt; [snip]
&gt; &gt; Is this a correct interpretation of the Accept header?
&gt; 
&gt; Yes. However that doesn't have to be a bad thing.
&gt; 
It is a bad thing.  Let's say that I am a REST client and I want the
resource /foo.  The server process cannot distinguish clients based on
the MIME type.  Granted the browser is dumb to set the wrong order. 
However, it does not solve the problem at hand as that would require a
new deployment.

&gt; There is nothing to stop you treating each representation as
&gt; a resource with a URI. For example, if you have a resource
&gt; called /foo, have other resources for the representations
&gt; as follows:
&gt; 
&gt; 1. /foo /foo.html /foo.xml /foo.pdf
&gt; 2. /foo /foo/html /foo/xml /foo/pdf
&gt; 
I like this approach, but the problem of how to get the user from /foo
to /foo.html or /foo/html still exists.  The only way to do an
intelligent redirect is to look at the User-Agent and then determine
what they really want.  The default for the server would be to
redirect /foo to /foo.html|/foo/html as a REST client would need coded
logic to "fix" the bug.

Christian Gross



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5192<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-08-23 14:55:08<br>
Subject:Re: [rest-discuss] Accept Header Question<br>
Message:<br><br>
<pre>On Mon, 2005-08-22 at 09:44 +0000, christianhgross wrote:
&gt; If I am reading this correctly, it means that the browser prefers XML
&gt; to an HTML page.  Is this not incorrect?  Let's say I write a REST
&gt; service and make it compatible with both a browser and XML client, the
&gt; browser will always get the wrong content namely XML.

Independent of the indiscriminateness of "{text,application}/xml", the
browser is expressing a preference for it.  I don't see how it is
getting the "wrong" content if it asks for and receive it in preference
to "text/html".

The problem you're alluding to here is a social/technical one, not
architectural.  The browser thinks "text/xml" and "application/xml"
really means "application/xhtml", and for most resources that it's going
to navigate to, that's going to be correct and work &amp;c., so people code
to that.  Your posts read like you think that "application/xml" means
something else, suitable for an "XML client"... maybe you think it's the
document's source or something along those lines.

In any case, the suggestion to (Universally) Identify each sub-Resource
still holds:

/foo       # base resource
/foo/html  # html rep.
/foo/xhtml # xhtml rep.
/foo/xml   # same content as /foo/xhtml, for browsers

# the above maybe have hyperlinks to...
/foo/source     # source, available in Source[X]ML only.

# or maybe...
/foo?view=source          # Paramaterize the Dominate Resource-space!
/foo;view=source;type=xml # or, a not-supported-by-most-tooling way...

...jsled

-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5193<br>
Sender:"Ron" &lt;tiltbike@...&gt;<br>
Post Date/Time:2005-08-23 15:32:13<br>
Subject:Review?<br>
Message:<br><br>
<pre>If anyone cares to look it over, I put up a REST-y web service at
http://uber.engineer.co.summit.oh.us/ws/dms/ (That link will respond
with the introspection page). In fact, if it doesn't understand a
request, it will usually respond with the introspection page.

It is running on CherryPy behind Apache; most of the heavy lifting is
done by python. 

It is used to drive the web page at
http://uber.engineer.co.summit.oh.us/CSETools/DMS.cfm, which is more
user-oriented.

One nice thing about the AJAX architecture -- I was able to use GET
requests without exposing the users to a bunch of "%20"s and such in
the address window of the browser.

If you notice something bogus, let me know, because I will be using
the same technologies for my future WS's, so I'd rather fix it now.

Ron



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5194<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-08-24 02:34:12<br>
Subject:Re: [rest-discuss] Review?<br>
Message:<br><br>
<pre>I think this is a good example of XML, hyperlinking and REST. But it seems
all read-only, and I can't help but ask - couldn't these conversions be done
as a client library?

----- Original Message ----- 
From: "Ron" &lt;tiltbike@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Tuesday, August 23, 2005 8:32 AM
Subject: [rest-discuss] Review?


&gt; If anyone cares to look it over, I put up a REST-y web service at
&gt; http://uber.engineer.co.summit.oh.us/ws/dms/ (That link will respond
&gt; with the introspection page). In fact, if it doesn't understand a
&gt; request, it will usually respond with the introspection page.
&gt;
&gt; It is running on CherryPy behind Apache; most of the heavy lifting is
&gt; done by python.
&gt;
&gt; It is used to drive the web page at
&gt; http://uber.engineer.co.summit.oh.us/CSETools/DMS.cfm, which is more
&gt; user-oriented.
&gt;
&gt; One nice thing about the AJAX architecture -- I was able to use GET
&gt; requests without exposing the users to a bunch of "%20"s and such in
&gt; the address window of the browser.
&gt;
&gt; If you notice something bogus, let me know, because I will be using
&gt; the same technologies for my future WS's, so I'd rather fix it now.
&gt;
&gt; Ron
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5195<br>
Sender:"Ron" &lt;tiltbike@...&gt;<br>
Post Date/Time:2005-08-24 11:10:52<br>
Subject:Re: Review?<br>
Message:<br><br>
<pre>Yep, it is read-only, and since there is no data stored on the server,
the conversions could be done client-side. 

I chose to expose the function as a WS because:
    A lot of my users do not have authority to install software on
their machines, and JS may be turned off by their admins.
    I intend to hit the service in other code that I write (like the
Web page).
    I wanted to explore REST queries and REST where the resources have
no "existence" in storage -- there have been some discussions here
about those topics, and I thought I'd follow them better if I actually
had one to look at.
    Most important, I wanted the practice -- I had to learn about 6
new technologies (well, new to me!) to do this, and I wanted
something  
more useful than an echo service, but not crippling if I screwed it
up.

Thank you for taking the time to look it over -- and for the
encouraging words. I was really worried, odd as it may seem, that I
was misunderstanding XML, hyperlinking, and REST. If it's a "good
example" in your opinion, I am tickled to death. Thank you again for
the review.

Ron
    
    

--- In rest-discuss@yahoogroups.com, "S. Mike Dierken" &lt;mdierken@h...&gt;
wrote:
&gt; I think this is a good example of XML, hyperlinking and REST. But it
seems
&gt; all read-only, and I can't help but ask - couldn't these conversions
be done
&gt; as a client library?
&gt; 
&gt; ----- Original Message ----- 
&gt; From: "Ron" &lt;tiltbike@y...&gt;
&gt; To: &lt;rest-discuss@yahoogroups.com&gt;
&gt; Sent: Tuesday, August 23, 2005 8:32 AM
&gt; Subject: [rest-discuss] Review?
&gt; 
&gt; 
&gt; &gt; If anyone cares to look it over, I put up a REST-y web service at
&gt; &gt; http://uber.engineer.co.summit.oh.us/ws/dms/ (That link will
respond
&gt; &gt; with the introspection page). In fact, if it doesn't understand a
&gt; &gt; request, it will usually respond with the introspection page.
&gt; &gt;
&gt; &gt; It is running on CherryPy behind Apache; most of the heavy
lifting is
&gt; &gt; done by python.
&gt; &gt;
&gt; &gt; It is used to drive the web page at
&gt; &gt; http://uber.engineer.co.summit.oh.us/CSETools/DMS.cfm, which is
more
&gt; &gt; user-oriented.
&gt; &gt;
&gt; &gt; One nice thing about the AJAX architecture -- I was able to use
GET
&gt; &gt; requests without exposing the users to a bunch of "%20"s and such
in
&gt; &gt; the address window of the browser.
&gt; &gt;
&gt; &gt; If you notice something bogus, let me know, because I will be
using
&gt; &gt; the same technologies for my future WS's, so I'd rather fix it
now.
&gt; &gt;
&gt; &gt; Ron
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; Yahoo! Groups Links
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5196<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-08-31 15:32:42<br>
Subject:Principles for designing RESTful systems to back-up choices?<br>
Message:<br><br>
<pre>Hi,

I am puzzling with a question regarding a system design choice. My
problem is that I see at least two options and I cannot base a choice
fore either one of them on a design principle (and I just hate arbitrary
decisions not backed up by a reason).

The issue is propably interesting and maybe someone can help me out.
Here is the situation:

I am having a network of several hosts (say C1...C42), a special host
M running a network monitoring application and a host X running a
database with configuration information about the hosts C1...C42.

The goal is to generate part of the monitoring application's config
file (what hosts to monitor, their IP addresses, names etc.) from the
database running on X.

The database comes as a Web application and among others there is
a resource for the site (suppose it is named 'SITE') as a whole:

http://ex.org/db/items/SITE

A GET on this URI with an Accept header of application/rdf+xml will
give me an RDF graph including general site information and all the
hosts that make up the site and information about the hosts (addresses,
functionality and the like).

Now, how do I use that information to generate the monitoring config  
file?

Option 1: Write a script to be started on the monitoring host M that  
does
           the following:
           - GET the site RDF graph
           - extract the host data from it and generate the file
           - put the file in the rigth place
           - restart monitoring application
           - side issue: send errors/debugging information via POST to
             a resource that is the foo:error_processor_resource of the
             site (we discovered the URI of that resource from the  
site's
             RDF graph, too)

           There is an OO pattern called 'Transaction Script' which  
seems
           to cover option 1 (conceptually, there might be other HTTP
           request involved in the script's flow).

Option 2: Since the monitoring application is a noun, shouldn't it  
actually
           be a resource? As well as the config file itself? This option
           would mean to set up a tiny HTTP server with at least two  
resources

           http://host-M.ex.org/monitoring-app
           http://host-M.ex.org/monitoring-app/host-config-file

           The config file resource could be implemented in a way  
that would
           allow me to POST the site RDF graph to it and have the rest
           being managed by the resource itself. After that, I could  
somehow
           send a request  to the monitoring system resoure to have  
it restart.

           With this option, logging would be (very naturally) done to a
           local HTTP access log, which  is a pretty common place to  
look
           for stuff if something breaks.

Let's ignore any issues of the amount of work, system admin's  
decisions and the
like for now. What principles could I use to make a choice for option  
one or
two?

What I find interesting in particular is the issue of who
actually triggers the 1. start of the script or 2. the sequence of  
GET on
site URI and POST to config file URI (a transcation script too I  
suppose).
In case 1. it can only be a some administrator logging in to M and  
starting
the script. With option two, there are much more possibilities for  
having
other events trigger the config file generation.

Hmm...maybe that  is the principle already: greater reusability or  
being able to
plug in filters between the GET and the POST in case there is a  
semantic change in
the RDF graph I GET.

Thoughts?

Jan






________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5197<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-08-31 18:31:11<br>
Subject:Re: [rest-discuss] Principles for designing RESTful systems to back-up   choices?<br>
Message:<br><br>
<pre>On Wed, 31 Aug 2005 17:32:42 +0200, "Jan Algermissen"
&lt;jalgermissen@...&gt; said:
&gt; Now, how do I use that information to generate the monitoring config  
&gt; file?

How about you pass the monitoring process the URI of the site resource
as a parameter, which it can GET a representation of, and use to setup
its initial state?

Furthermore, it would seem appropriate for the monitoring process to
subscribe to the host database resource, either by polling a feed or
proper pubsub, so that it can start and stop monitoring hosts as
appropriate.

I know this is probably very obvious, but maybe you can point out why
its not a runner for you. Why does an intermediate 'config file' have
to be generated?

I have imagined doing this with a DHCP server and nagios or similar.
It would be nice if all networking hardware and software was exposed
as resources over HTTP with RDF representations.

[snip]
&gt; Hmm...maybe that  is the principle already: greater reusability or  
&gt; being able to
&gt; plug in filters between the GET and the POST in case there is a  
&gt; semantic change in
&gt; the RDF graph I GET.

'Semantic change'?

By the principle of 'partial understanding', if predicates you don't
understand are used in the RDF, its OK to ignore them.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5198<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-08-31 18:59:43<br>
Subject:Re: [rest-discuss] Principles for designing RESTful systems to back-up choices?<br>
Message:<br><br>
<pre>
On Aug 31, 2005, at 8:31 PM, Vincent D Murphy wrote:

&gt; On Wed, 31 Aug 2005 17:32:42 +0200, "Jan Algermissen"
&gt; &lt;jalgermissen@...&gt; said:
&gt;
&gt;&gt; Now, how do I use that information to generate the monitoring config
&gt;&gt; file?
&gt;&gt;
&gt;
&gt; How about you pass the monitoring process the URI of the site resource
&gt; as a parameter, which it can GET a representation of, and use to setup
&gt; its initial state?
&gt;
&gt; Furthermore, it would seem appropriate for the monitoring process to
&gt; subscribe to the host database resource, either by polling a feed or
&gt; proper pubsub, so that it can start and stop monitoring hosts as
&gt; appropriate.
&gt;
&gt; I know this is probably very obvious, but maybe you can point out why
&gt; its not a runner for you. Why does an intermediate 'config file' have
&gt; to be generated?

Well, mostly because

- there will need to be manual additions
- nagios just needs that file and there is likely no chance to install
   a modified (with REST interface) nagios

&gt;
&gt; I have imagined doing this with a DHCP server and nagios or similar.

You mean adding a REST interface?

And....what role does the DHCP server play? (sorry to be slow...but this
sounds interesting)

&gt; It would be nice if all networking hardware and software was exposed
&gt; as resources over HTTP with RDF representations.

Yes, it would. OTH, I am working in an environment where sometimes  
all you
have is bash (do not even think of an HTTP server) and no chance to  
install
any libraries that are not already on the hosts.

Hell...I am even facing the need to sort of 'tunnel' HTTP through  
email+someone
using a floppy to get data from one network to the other due to  
restrictive
policies. (not sure whether this is doable at all with clever caching).

&gt;
&gt; [snip]
&gt;
&gt;&gt; Hmm...maybe that  is the principle already: greater reusability or
&gt;&gt; being able to
&gt;&gt; plug in filters between the GET and the POST in case there is a
&gt;&gt; semantic change in
&gt;&gt; the RDF graph I GET.
&gt;&gt;
&gt;
&gt; 'Semantic change'?
&gt;
&gt; By the principle of 'partial understanding', if predicates you don't
&gt; understand are used in the RDF, its OK to ignore them.

Right. I mean a change that is not downwards compatible, such as one
predicate being substituted by a (set of) new ones.

Thanks - these are stimulating thoughts.

&gt;

Jan




________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5199<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-08-31 19:08:50<br>
Subject:Re: [rest-discuss] Principles for designing RESTful systems to back-up choices?<br>
Message:<br><br>
<pre>
On Aug 31, 2005, at 8:59 PM, Jan Algermissen wrote:

&gt; OTH, I am working in an environment

Speaking of the environment: it is a really interesting case, because  
the infrastructure
is so diverse that the challenge really is to keep the deployed  
components manageable.
Since they are rather tiny scripts it is very tempting just to let  
the system grow and
use ad-hoc workflows for the (also very tiny) tasks.

But once you've deployed the thousands of pieces....how do you keep  
track of what
script depends on what domain semantic etc.

Viewing the whole setup as a networked application and coming up with  
a proper
(and principled) design will hopefully make it uneccessary to care  
about the
components once deployed (except for major changes of course).

Jan



________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5200<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-08-31 20:04:46<br>
Subject:What are the actors?<br>
Message:<br><br>
<pre>Vincent,

On Aug 31, 2005, at 8:31 PM, Vincent D Murphy wrote:

&gt; Furthermore, it would seem appropriate for the monitoring process to
&gt; subscribe to the host database resource,

I just realized that the general question behind my initial mail is
how to decide which components of the overall system will be 'actors'
(components that issue HTTP requests).

Given all the resources that make up my system....how do I decide where
to put the application code that actually calls methods of my resources?
(that advances through the Web applications using hypermedia)

Is that an arbitrary decision?

This touches on another thought I have been having: RESTs application  
model
is that the user agent advances through the application by traversing  
links
(hypermedia as the engine of application state). But what is  
*driving* the
user agent? How does the program code that appearently gets executed  
in the
traditional sense (driven by some CPU's cycles) fit in REST's  
architectural
style? What significance do the events have that actually trigger the  
start
of these programs?

[sorry, can't articulate that better yet and sorry if it's nonsense]


Jan






________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5201<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-09-01 14:15:22<br>
Subject:Re: [rest-discuss] Principles for designing RESTful systems to back-up   choices?<br>
Message:<br><br>
<pre>On Wed, 31 Aug 2005 20:59:43 +0200, "Jan Algermissen"
&lt;jalgermissen@...&gt; said:
[snip]
&gt; &gt; Why does an intermediate 'config file' have
&gt; &gt; to be generated?
&gt; 
&gt; Well, mostly because
&gt; 
&gt; - there will need to be manual additions

Shouldn't those manual additions be in the host database? Imagine
a host database which can be exposed as a http server AND as a
DHCP server. Two different processes, which speak the different
protocols, but share the underlying state.

Is there a need to explicitly repeat this state in the monitoring
process? Surely it can download a copy on demand.

&gt; - nagios just needs that file and there is likely no chance to install
&gt;    a modified (with REST interface) nagios

This reason has little to do with the architecture you know, and is more
of an design or implementation detail.

That said, you could have a startup script for nagios, which GETs the
host database and generates a config file from it, and then starts
nagios.
Perhaps this script could run on HUP/restart as well. This could be
supplemented with a trigger mechanism which sends nagios a SIGHUP on
updates to the host database.

&gt; &gt; I have imagined doing this with a DHCP server and nagios or similar.
&gt; 
&gt; You mean adding a REST interface?
&gt; 
&gt; And....what role does the DHCP server play? (sorry to be slow...but this
&gt; sounds interesting)

I imagine the network as having abstract elements. I mean abstract in
the
sense that what application protocol they use is not relevant. So rather
than a DHCP server, you have a 'host database' which manages all the
relevant
state. If you want to modify or read the state you can use a HTTP
interface,
a host can configure itself from the same database using DHCP or BOOTP
or
whatever. In effect DHCP is a special-purpose/legacy 'read' application
protocol. Of course it works with layer 2 (broadcast) addresses, so it
has
its place alongside HTTP. The important thing is how you manage the
state.
If its in one place, other processes can use it, such as:

- A logging process, like syslog can be just a HTTP server that gets
PUTs
  or POSTs from other elements on the network, perhaps after subscribing
  to
  them.

- A monitoring/watchdog process, like nagios, could just do GETs of
different
  URIs if they were exposed on the elements it is interested in. For
  example
  UNIX/windows machines could expose http://whatever/interfaces, which
  is the
  equivalent of the output of ifconfig. Same for routing tables,
  firewall rules
  etc.

- Now imagine exposing these same resources as PUTable. Now this is
starting to
  smell like SNMP. Rather than

ssh whatever
ifconfig eth0 up

  or the SNMP way, you do

PUT http://whatever/interfaces/eth0/status

up

Maybe we could start a wiki and start brainstorming other ideas if you
like
where this is going.

&gt; &gt; It would be nice if all networking hardware and software was exposed
&gt; &gt; as resources over HTTP with RDF representations.
&gt; 
&gt; Yes, it would. OTH, I am working in an environment where sometimes  
&gt; all you
&gt; have is bash (do not even think of an HTTP server) and no chance to  
&gt; install
&gt; any libraries that are not already on the hosts.

Most machines have perl. HTTP::Daemon should be enough to get started.
In my experience you will end up exposing the resources anyway, through
ad-hoc ssh tunnels or whatever, so might as well have a little bit of
structure in there from the beginning.

&gt; Hell...I am even facing the need to sort of 'tunnel' HTTP through  
&gt; email+someone
&gt; using a floppy to get data from one network to the other due to  
&gt; restrictive
&gt; policies. (not sure whether this is doable at all with clever caching).

This may be more difficult than normal HTTP but not impossible. Even if
you are using a sneakernet, you are still doing
REpresentational-State-Transfer.
Remember, you can use the REST style to guide your choices.

RFC822 bodies, or files on a filesystem are just as much a
representation
as the entity body of a HTTP message. Sometimes its tougher to link them
with their URIs or metadata though (mail messages have headers, files
can be
tar'd with their metadata).

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5202<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-09-02 21:07:55<br>
Subject:Re: [rest-discuss] Principles for designing RESTful systems to back-up choices?<br>
Message:<br><br>
<pre>Hi,

just found a design priciple that could be applied to my problem.

Sean McGrath wrote[1] about differentiating between system components  
that produce data for general consumption (an RSS feed for eaxmple)  
and system components that produce data with the intent to change the  
behaviour of another system component ( 'illocution' vs. 'perlocution').

Design principle: if there is an illocution, consume the data using  
GET, if there is a perlocution, the data producing component should  
be an actor and POST the data.

In my example below, the database component has no special intent  
related to publishing the data, thus the data should be consumed by  
the monitoring app instead  of being POSTED to it.

[Hmmm....writing this, I wonder if the illocution/perlocution is  
semantically bound to the data (the message), too  and how this  
relates to the message's self-descriptiveness.]


Jan



[1] http://www.itworld.com/AppDev/1562/nls_ebizutterance060528/ 
pfindex.html

On Aug 31, 2005, at 5:32 PM, Jan Algermissen wrote:

&gt; Hi,
&gt;
&gt; I am puzzling with a question regarding a system design choice. My
&gt; problem is that I see at least two options and I cannot base a choice
&gt; fore either one of them on a design principle (and I just hate  
&gt; arbitrary
&gt; decisions not backed up by a reason).
&gt;
&gt; The issue is propably interesting and maybe someone can help me out.
&gt; Here is the situation:
&gt;
&gt; I am having a network of several hosts (say C1...C42), a special host
&gt; M running a network monitoring application and a host X running a
&gt; database with configuration information about the hosts C1...C42.
&gt;
&gt; The goal is to generate part of the monitoring application's config
&gt; file (what hosts to monitor, their IP addresses, names etc.) from the
&gt; database running on X.
&gt;
&gt; The database comes as a Web application and among others there is
&gt; a resource for the site (suppose it is named 'SITE') as a whole:
&gt;
&gt; http://ex.org/db/items/SITE
&gt;
&gt; A GET on this URI with an Accept header of application/rdf+xml will
&gt; give me an RDF graph including general site information and all the
&gt; hosts that make up the site and information about the hosts  
&gt; (addresses,
&gt; functionality and the like).
&gt;
&gt; Now, how do I use that information to generate the monitoring config
&gt; file?
&gt;
&gt; Option 1: Write a script to be started on the monitoring host M that
&gt; does
&gt;            the following:
&gt;            - GET the site RDF graph
&gt;            - extract the host data from it and generate the file
&gt;            - put the file in the rigth place
&gt;            - restart monitoring application
&gt;            - side issue: send errors/debugging information via POST to
&gt;              a resource that is the foo:error_processor_resource of  
&gt; the
&gt;              site (we discovered the URI of that resource from the
&gt; site's
&gt;              RDF graph, too)
&gt;
&gt;            There is an OO pattern called 'Transaction Script' which
&gt; seems
&gt;            to cover option 1 (conceptually, there might be other HTTP
&gt;            request involved in the script's flow).
&gt;
&gt; Option 2: Since the monitoring application is a noun, shouldn't it
&gt; actually
&gt;            be a resource? As well as the config file itself? This  
&gt; option
&gt;            would mean to set up a tiny HTTP server with at least two
&gt; resources
&gt;
&gt;            http://host-M.ex.org/monitoring-app
&gt;            http://host-M.ex.org/monitoring-app/host-config-file
&gt;
&gt;            The config file resource could be implemented in a way
&gt; that would
&gt;            allow me to POST the site RDF graph to it and have the rest
&gt;            being managed by the resource itself. After that, I could
&gt; somehow
&gt;            send a request  to the monitoring system resoure to have
&gt; it restart.
&gt;
&gt;            With this option, logging would be (very naturally) done  
&gt; to a
&gt;            local HTTP access log, which  is a pretty common place to
&gt; look
&gt;            for stuff if something breaks.
&gt;
&gt; Let's ignore any issues of the amount of work, system admin's
&gt; decisions and the
&gt; like for now. What principles could I use to make a choice for option
&gt; one or
&gt; two?
&gt;
&gt; What I find interesting in particular is the issue of who
&gt; actually triggers the 1. start of the script or 2. the sequence of
&gt; GET on
&gt; site URI and POST to config file URI (a transcation script too I
&gt; suppose).
&gt; In case 1. it can only be a some administrator logging in to M and
&gt; starting
&gt; the script. With option two, there are much more possibilities for
&gt; having
&gt; other events trigger the config file generation.
&gt;
&gt; Hmm...maybe that  is the principle already: greater reusability or
&gt; being able to
&gt; plug in filters between the GET and the POST in case there is a
&gt; semantic change in
&gt; the RDF graph I GET.
&gt;
&gt; Thoughts?
&gt;
&gt; Jan
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; ______________________________________________________________________ 
&gt; __
&gt; _______________
&gt; Jan Algermissen, Consultant &amp; Programmer
&gt; http://jalgermissen.com
&gt; Tugboat Consulting, 'Applying Web technology to enterprise IT'
&gt; http://www.tugboat.de
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; ------------------------ Yahoo! Groups Sponsor -------------------- 
&gt; ~--&gt;
&gt; Get Bzzzy! (real tools to help you find a job). Welcome to the  
&gt; Sweet Life.
&gt; http://us.click.yahoo.com/A77XvD/vlQLAA/TtwFAA/W6uqlB/TM
&gt; -------------------------------------------------------------------- 
&gt; ~-&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5203<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-09-02 22:06:54<br>
Subject:notes on my experience creating a RESTful API<br>
Message:<br><br>
<pre>Leigh Dodds surveyed web services APIs for XTech 2005:
http://idealliance.org/proceedings/xtech05/papers/02-07-04/

I wrote a detailed response based on my experience creating the Webjay API:
http://gonze.com/weblog/story/8-30-5

One point I didn't make in my response is how embryonic RESTful web 
services are.  The ideas which are common currency here have not been 
accepted by implementors.  I know this because implementing them 
frequently led me to bits of technology that were blatantly broken from 
a RESTful perspective, yet the bugs were not known.

For example, PUT handling in PHP is treated as a synonym for file 
uploading.  The RESTful idea that PUT is only different from POST in 
terms of what it implies about state just didn't exist once I wandered 
from these environs over to #php. 

Similarly, using a broad range of response status codes meant that many 
user agents overwrote my error messages, so that I couldn't have an 
interface which was both user friendly and RESTful.  I'm not just 
talking about browsers, either -- lwp-request makes the same mistake.

Another problem was that there was no prior art to glean design patterns 
from.  For example, there was no programmer-level documentation on the 
'hypermedia as engine of application state' constraint until Joe 
Gregorio's "Contructing or Traversing URIs?"[1] column on xml.com.  That 
was a great start, but it's only a start. 

I hope these comments won't be interpreted as a bitter rant.  These are 
just my notes from the field.

- Lucas

[1] http://www.xml.com/pub/a/2005/04/06/restful.html.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5204<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-09-03 07:53:48<br>
Subject:Re: [rest-discuss] notes on my experience creating a RESTful API<br>
Message:<br><br>
<pre>Lukas

On Sep 3, 2005, at 12:06 AM, Lucas Gonze wrote:
&gt;

&gt; Another problem was that there was no prior art to glean design  
&gt; patterns
&gt; from.

Yes, that is IMHO one of the biggest problems you face once you  
actually start to implement a system. I am having similar problems  
right now, especially with making principled (as opposed to  
arbitrary) decisions when there are several choices to implement a  
certain functionality.

What I would like to work an (and hopefully will) is a methodology  
for developing RESTful networked systems, including design principles  
(beyond RESTs architectural constraints). Ideally this would also  
include the issue of domain driven design, where the domain model  
should not only be used to derive MIME type or RDF namespace  
semantics but also the actual deployment of components [obviously not  
cooked yet, but that's where I would like to go].


&gt; For example, there was no programmer-level documentation on the
&gt; 'hypermedia as engine of application state' constraint until Joe
&gt; Gregorio's "Contructing or Traversing URIs?"[1] column on xml.com.   
&gt; That
&gt; was a great start, but it's only a start.

I think (one of) the major design principle is the goal to minimize  
the impact that domain model changes have on the components (it is an  
advantage if you can deploy them once an then more or less 'forget  
about them' since you know that

   - they are immune to backward compatible changes to the
     message semantics since they will ignore whatever they do
     not understand (partial understanding)

   - they do not make (heavy) use of hardwired URIs but instead
     discover them from the hypertext they process

   - can be functionally extended by sending them code (assuming
     you had built in things similar to JavaScript engines[1] into your
     clients before you deployed them; that way using the browser
     style for non-human controlled client components)

[1] One thing I have been thinking about is an engine that would  
provide to the client the capability to transform RDF graphs it  
receives from newer namespace versions to the one it understands,  
given the server would send the code to do the transformation.

&gt;
&gt; I hope these comments won't be interpreted as a bitter rant.  These  
&gt; are
&gt; just my notes from the field.
&gt;

Jan





&gt; - Lucas
&gt;
&gt; [1] http://www.xml.com/pub/a/2005/04/06/restful.html.
&gt;
&gt;
&gt;
&gt; ------------------------ Yahoo! Groups Sponsor -------------------- 
&gt; ~--&gt;
&gt; Most low income households are not online. Help bridge the digital  
&gt; divide today!
&gt; http://us.click.yahoo.com/cd_AJB/QnQLAA/TtwFAA/W6uqlB/TM
&gt; -------------------------------------------------------------------- 
&gt; ~-&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5205<br>
Sender:Terrence Brannon &lt;bauhaus@...&gt;<br>
Post Date/Time:2005-09-05 12:07:13<br>
Subject:REST architecture for a guestbook application<br>
Message:<br><br>
<pre>The following message is a courtesy copy of an article
that has been posted to gmane.comp.lang.perl.modules.cgi-prototype.user as well.


I have been trying to figure out how to model the resources of a
guestbook cgi program using REST. My CGI program is named guestbook
and my domain name is metaperl.org

GET /guestbook
  returns the first 10 entries of the guestbook with links to page
  forward to 11-20. REST supposedly works without cookies, so if a
  user had a preference for entry listings per page, what to do?
GET /guestbook?o=xml
  returns the entire guestbook in XML format
POST /guestbook
  adds an entry to the guestbook. But here is my problem, I need a URL
  which returns a page that the user can fill in and hit submit. What
  would such a URL look like?
GET /guestbook/stats
  returns a page showing the stats on the guestbook.



-- 
	Carter's Compass: I know I'm on the right track when,
	   by deleting something, I'm adding functionality.




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5206<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-09-05 13:34:16<br>
Subject:Re: [rest-discuss] REST architecture for a guestbook application<br>
Message:<br><br>
<pre>Terrence Brannon &lt;bauhaus@...&gt; writes:

&gt; The following message is a courtesy copy of an article
&gt; that has been posted to gmane.comp.lang.perl.modules.cgi-prototype.user as well.
&gt;
&gt;
&gt; I have been trying to figure out how to model the resources of a
&gt; guestbook cgi program using REST. My CGI program is named guestbook
&gt; and my domain name is metaperl.org
&gt;
&gt; GET /guestbook
&gt;   returns the first 10 entries of the guestbook with links to page
&gt;   forward to 11-20. REST supposedly works without cookies, so if a
&gt;   user had a preference for entry listings per page, what to do?
&gt; GET /guestbook?o=xml
&gt;   returns the entire guestbook in XML format

I'd say that you should use the accepted content-types to arbritrate
between what content-type to return the resource in and use a
parameter (or a cookie) to suggest the number of entrys.

REST frowns on cookies because they are orthogonal to URIs, requests
and responses. But if you have a requirement for client side
persistence then they're basically all you've got. Just don't over use
them.

BTW if you don't need the persistence that cookies give you then you
really don't need them. You can use Javascript to alter a variable
setting the number of entrys to display and then ref that variable in
your guestbook view url.



&gt; POST /guestbook
&gt;   adds an entry to the guestbook. But here is my problem, I need a URL
&gt;   which returns a page that the user can fill in and hit submit. What
&gt;   would such a URL look like?

Well, the URL which has the FORM for doing the POST doesn't matter
does it?

You might have the FORM in multiple places, on the guest book view
page and on the front page and maybe other places.

From a REST point-of-view the FORM is almost irrelevant, the FORM is
only used by humans to submit data. A web service would probably learn
how to submit to your guestbook URL in a different way (by doing a
HEAD on the URL and checking the supported methods).


Nic Ferrier
http://www.tapsellferrier.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5207<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-09-05 13:37:06<br>
Subject:How to advertise POST parameters? (follow on from [rest-discuss] REST architecture for a guestbook application)<br>
Message:<br><br>
<pre>
Terrence Brannon &lt;bauhaus@...&gt; writes:

&gt; POST /guestbook
&gt;   adds an entry to the guestbook. But here is my problem, I need a URL
&gt;   which returns a page that the user can fill in and hit submit. What
&gt;   would such a URL look like?

A web service would find out that it could POST about Brannon's
/guestbook by doing a HEAD and looking at the suported methods.

But how could a web service learn what to POST automatically? In these
days of XFORMS does anyone know of a simple advertisement protocol?


Nic Ferrier

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5208<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-09-05 13:54:29<br>
Subject:Re: [rest-discuss] REST architecture for a guestbook application<br>
Message:<br><br>
<pre>On Mon, 05 Sep 2005 12:07:13 +0000, "Terrence Brannon"
&lt;bauhaus@...&gt; said:
[snip]
&gt; REST supposedly works without cookies, so if a
&gt;   user had a preference for entry listings per page, what to do?

I don't understand the question.
What does "entry listings per page" mean?

It's not strictly true to say that REST works without cookies.
It would be more accurate to say that using cookies makes your
system less RESTful, because it violates the stateless constraint.

http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_3

There isn't much of an alternative for things like authentication
though, so I don't look down on the use of cookies; such use is
just a pragmatic design choice, so long as it is controlled.

[snip]
&gt;   I need a URL
&gt;   which returns a page that the user can fill in and hit submit. What
&gt;   would such a URL look like?

This is a common problem. You need a 'blank slate' resource,
which could be a HTML form GETtable somewhere such as
/guestbook/new. The form can be targetted set up to POST to
/guestbook.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5209<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-09-05 13:58:41<br>
Subject:Re: How to advertise POST parameters? (follow on from [rest-discuss] REST architecture for a guestbook application)<br>
Message:<br><br>
<pre>Nic,

best would be to let the client discover the gestbook URI via hypermedia
and to communicate the parameters to the client using RDFForms[1].

Jan

[1] http://www.markbaker.ca/2003/05/RDF-Forms


On Sep 5, 2005, at 3:37 PM, Nic Ferrier wrote:

&gt;
&gt; Terrence Brannon &lt;bauhaus@...&gt; writes:
&gt;
&gt;
&gt;&gt; POST /guestbook
&gt;&gt;   adds an entry to the guestbook. But here is my problem, I need a  
&gt;&gt; URL
&gt;&gt;   which returns a page that the user can fill in and hit submit. What
&gt;&gt;   would such a URL look like?
&gt;&gt;
&gt;
&gt; A web service would find out that it could POST about Brannon's
&gt; /guestbook by doing a HEAD and looking at the suported methods.
&gt;
&gt; But how could a web service learn what to POST automatically? In these
&gt; days of XFORMS does anyone know of a simple advertisement protocol?
&gt;
&gt;
&gt; Nic Ferrier
&gt;
&gt;
&gt; ------------------------ Yahoo! Groups Sponsor -------------------- 
&gt; ~--&gt;
&gt; Get Bzzzy! (real tools to help you find a job). Welcome to the  
&gt; Sweet Life.
&gt; http://us.click.yahoo.com/A77XvD/vlQLAA/TtwFAA/W6uqlB/TM
&gt; -------------------------------------------------------------------- 
&gt; ~-&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5210<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-09-05 20:18:49<br>
Subject:Re: [rest-discuss] Principles for designing RESTful systems to back-up choices?<br>
Message:<br><br>
<pre>
On Sep 1, 2005, at 4:15 PM, Vincent D Murphy wrote:
&gt;
&gt; Shouldn't those manual additions be in the host database? Imagine
&gt; a host database which can be exposed as a http server AND as a
&gt; DHCP server. Two different processes, which speak the different
&gt; protocols, but share the underlying state.

Ok, I understand you now. Good idea (though my szenario is more
complex and will definitely require manual additions for service
checks (Nagios term).

And...the IP numbers of the hosts are determined by scripts running
on the hosts and POSTed to the host database.

But conceptually I like your idea of letting the two servers share
the same state.

&gt;
&gt; Is there a need to explicitly repeat this state in the monitoring
&gt; process? Surely it can download a copy on demand.
&gt;

On startup, yes. That would be fine I think.

&gt;
&gt;&gt; - nagios just needs that file and there is likely no chance to  
&gt;&gt; install
&gt;&gt;    a modified (with REST interface) nagios
&gt;&gt;
&gt;
&gt; This reason has little to do with the architecture you know, and is  
&gt; more
&gt; of an design or implementation detail.
&gt;
&gt; That said, you could have a startup script for nagios, which GETs the
&gt; host database and generates a config file from it, and then starts
&gt; nagios.
&gt; Perhaps this script could run on HUP/restart as well. This could be
&gt; supplemented with a trigger mechanism which sends nagios a SIGHUP on
&gt; updates to the host database.

Yes, that is sort of what I was thinking (better than touching Nagios  
itself).
And yes - it is an implementation detail as long as we think 'GET'.

&gt;
&gt;
&gt;&gt;&gt; I have imagined doing this with a DHCP server and nagios or similar.
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; You mean adding a REST interface?
&gt;&gt;
&gt;&gt; And....what role does the DHCP server play? (sorry to be  
&gt;&gt; slow...but this
&gt;&gt; sounds interesting)
&gt;&gt;
&gt;
&gt; I imagine the network as having abstract elements. I mean abstract in
&gt; the
&gt; sense that what application protocol they use is not relevant. So  
&gt; rather
&gt; than a DHCP server, you have a 'host database' which manages all the
&gt; relevant
&gt; state. If you want to modify or read the state you can use a HTTP
&gt; interface,
&gt; a host can configure itself from the same database using DHCP or BOOTP
&gt; or
&gt; whatever. In effect DHCP is a special-purpose/legacy 'read'  
&gt; application
&gt; protocol. Of course it works with layer 2 (broadcast) addresses, so it
&gt; has
&gt; its place alongside HTTP. The important thing is how you manage the
&gt; state.

I like 'managing the state' wrt network configurations. Nice!

&gt; If its in one place, other processes can use it, such as:
&gt;
&gt; - A logging process, like syslog can be just a HTTP server that gets
&gt; PUTs
&gt;   or POSTs from other elements on the network, perhaps after  
&gt; subscribing
&gt;   to
&gt;   them.
&gt;
&gt; - A monitoring/watchdog process, like nagios, could just do GETs of
&gt; different
&gt;   URIs if they were exposed on the elements it is interested in. For
&gt;   example
&gt;   UNIX/windows machines could expose http://whatever/interfaces, which
&gt;   is the
&gt;   equivalent of the output of ifconfig. Same for routing tables,
&gt;   firewall rules
&gt;   etc.

Yes, I see. OTH, in (my current) reality there would not be any  
chance of doing
this to most of the machines.

&gt;
&gt; - Now imagine exposing these same resources as PUTable. Now this is
&gt; starting to
&gt;   smell like SNMP. Rather than
&gt;
&gt; ssh whatever
&gt; ifconfig eth0 up
&gt;
&gt;   or the SNMP way, you do
&gt;
&gt; PUT http://whatever/interfaces/eth0/status
&gt;
&gt; up
&gt;
&gt; Maybe we could start a wiki and start brainstorming other ideas if you
&gt; like
&gt; where this is going.

Would like to do that (or at least join) but I cannot promise any  
significant
amount of time from my side. Perhaps a REST Wiki page  
('RESTfulNetworkManagement'
or so) would be a good place to start?
&gt;
&gt;
&gt;&gt;&gt; It would be nice if all networking hardware and software was exposed
&gt;&gt;&gt; as resources over HTTP with RDF representations.
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; Yes, it would. OTH, I am working in an environment where sometimes
&gt;&gt; all you
&gt;&gt; have is bash (do not even think of an HTTP server) and no chance to
&gt;&gt; install
&gt;&gt; any libraries that are not already on the hosts.
&gt;&gt;
&gt;
&gt; Most machines have perl.

Yak...not in my world. Some only have a shell and some only have Perl  
4 and forget about
installing additional Perl libs anyhow. (I think this is interesting  
because
it shows that you cannot simply assume the availability of HTTP libs  
and instead
might have to code something yourself.)

&gt; HTTP::Daemon should be enough to get started.
&gt; In my experience you will end up exposing the resources anyway,  
&gt; through
&gt; ad-hoc ssh tunnels or whatever, so might as well have a little bit of
&gt; structure in there from the beginning.
&gt;
&gt;
&gt;&gt; Hell...I am even facing the need to sort of 'tunnel' HTTP through
&gt;&gt; email+someone
&gt;&gt; using a floppy to get data from one network to the other due to
&gt;&gt; restrictive
&gt;&gt; policies. (not sure whether this is doable at all with clever  
&gt;&gt; caching).
&gt;&gt;
&gt;
&gt; This may be more difficult than normal HTTP but not impossible.  
&gt; Even if
&gt; you are using a sneakernet, you are still doing
&gt; REpresentational-State-Transfer.
&gt; Remember, you can use the REST style to guide your choices.
&gt;
Yes!

&gt; RFC822 bodies, or files on a filesystem are just as much a
&gt; representation
&gt; as the entity body of a HTTP message. Sometimes its tougher to link  
&gt; them
&gt; with their URIs or metadata though (mail messages have headers, files
&gt; can be
&gt; tar'd with their metadata).

Good thoughts and I am still digesting, thanks.

Jan



&gt;
&gt;
&gt; ------------------------ Yahoo! Groups Sponsor -------------------- 
&gt; ~--&gt;
&gt; Most low income households are not online. Help bridge the digital  
&gt; divide today!
&gt; http://us.click.yahoo.com/cd_AJB/QnQLAA/TtwFAA/W6uqlB/TM
&gt; -------------------------------------------------------------------- 
&gt; ~-&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5211<br>
Sender:Terrence Brannon &lt;bauhaus@...&gt;<br>
Post Date/Time:2005-09-05 22:53:33<br>
Subject:Re: [rest-discuss] REST architecture for a guestbook application<br>
Message:<br><br>
<pre>"Vincent D Murphy" &lt;vdm@...&gt; writes:

&gt; On Mon, 05 Sep 2005 12:07:13 +0000, "Terrence Brannon"
&gt; &lt;bauhaus@...&gt; said:
&gt; [snip]
&gt;&gt; REST supposedly works without cookies, so if a
&gt;&gt;   user had a preference for entry listings per page, what to do?
&gt;
&gt; I don't understand the question.
&gt; What does "entry listings per page" mean?

Take a google search for example. You get N entries on each page
instead of the entire result set.

Likewise, it is common to return retrieved records in small subsets of
the entire data set. So it is with this guestbook.
&gt;
&gt; This is a common problem. You need a 'blank slate' resource,
&gt; which could be a HTML form GETtable somewhere such as
&gt; /guestbook/new.

yes, I do notice the use of an adjective here... I guess we are
qualifying our resource with it.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5212<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-09-06 14:21:39<br>
Subject:Re: [rest-discuss] REST architecture for a guestbook application<br>
Message:<br><br>
<pre>On Mon, 2005-09-05 at 22:53 +0000, Terrence Brannon wrote:
&gt; "Vincent D Murphy" &lt;vdm@...&gt; writes:
&gt; &gt; On Mon, 05 Sep 2005 12:07:13 +0000, "Terrence Brannon"
&gt; &gt; &lt;bauhaus@...&gt; said:
&gt; &gt; [snip]
&gt; &gt;&gt; REST supposedly works without cookies, so if a
&gt; &gt;&gt;   user had a preference for entry listings per page, what to do?
&gt; &gt;
&gt; &gt; I don't understand the question.
&gt; &gt; What does "entry listings per page" mean?
&gt; 
&gt; Take a google search for example. You get N entries on each page
&gt; instead of the entire result set.

One way to think of large result-sets, especially using query-paramters,
is "paramaterizing the resource space".  E.g., one can think of google
as an interface to 'all searched web documents', that can be
paramaterized many ways.  The two key ways are:

- 'q': the subset of the space matching given 'q'uery string.
- 'start': an offset within the sub-space to view.

Of course, google seems to use a cookie to record the results-per-page
preference, but that doesn't mean that it's not also in the URL.  That
is: the cookie serves to conveniently transfer state on the request to
the server, which then redirects the user-agent to a "cookieless" URL
that contains the same information.

c-&gt;s: GET /guestbook (with cookie: "25 entries per page")
s-&gt;c: 302: /guestbook?num=25
c-&gt;s: GET /guestbook?num=25


&gt; &gt; This is a common problem. You need a 'blank slate' resource,
&gt; &gt; which could be a HTML form GETtable somewhere such as
&gt; &gt; /guestbook/new.
&gt; 
&gt; yes, I do notice the use of an adjective here... I guess we are
&gt; qualifying our resource with it.

Some put the form at the bottom of the guestbook HTML, or maybe just a
"sign the guestbook!" hyperlink to a standalone resource.  I think it's
more important that both approaches can work, because of hypermedia and
the shared semantic of HTML (forms) ... and probably the orthogonality
of HTML to any particular web service.

...jsled

-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5213<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-09-12 13:09:09<br>
Subject:UML Sequence Diagrams and method invocations through intermediaries<br>
Message:<br><br>
<pre>Hi,

has anybody ever documented interactions of components in a RESTful  
system with UML sequence diagrams? I am particulary interested in  
clever ideas how to document interactions that run through an  
intermediary.

I have started out giving both, request issueing components and  
resources life lines in a sequence diagram and documenting HTTP  
requests as ordinary method calls. This feels quite natural and  
provides good overviews of related HTTP interactions.

My problem is that I would like to document calls that run through  
intermediaries in a clean way but since in that cases the receiver of  
the method call is not the 'logical' receiver things become a bit  
difficult.

Any ideas? Has anyone done something like this before?

Thanks.

Jan



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5214<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2005-09-12 21:35:34<br>
Subject:Re: [rest-discuss] UML Sequence Diagrams and method invocations through intermediaries<br>
Message:<br><br>
<pre>Jan,

I'm not sure I get the problem of documenting calls that
go through intermediaries.  Is this any different from delegation
in an object oriented model?

I'm sure it all revolves around what you mean by "clean".

Walden

----- Original Message ----- 
From: "Jan Algermissen" &lt;jalgermissen@...&gt;
To: "rest discuss" &lt;rest-discuss@yahoogroups.com&gt;
Sent: Monday, September 12, 2005 9:09 AM
Subject: [rest-discuss] UML Sequence Diagrams and method invocations through 
intermediaries


: Hi,
:
: has anybody ever documented interactions of components in a RESTful
: system with UML sequence diagrams? I am particulary interested in
: clever ideas how to document interactions that run through an
: intermediary.
:
: I have started out giving both, request issueing components and
: resources life lines in a sequence diagram and documenting HTTP
: requests as ordinary method calls. This feels quite natural and
: provides good overviews of related HTTP interactions.
:
: My problem is that I would like to document calls that run through
: intermediaries in a clean way but since in that cases the receiver of
: the method call is not the 'logical' receiver things become a bit
: difficult.
:
: Any ideas? Has anyone done something like this before?
:
: Thanks.
:
: Jan
:
:
:
:
:
:
: Yahoo! Groups Links
:
:
:
:
:
:
:
: __________ NOD32 1.1214 (20050912) Information __________
:
: This message was checked by NOD32 antivirus system.
: http://www.eset.com
:
: 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5215<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-09-12 22:36:23<br>
Subject:Re: [rest-discuss] UML Sequence Diagrams and method invocations through intermediaries<br>
Message:<br><br>
<pre>Could you annotate either the message or the component?  I guess
it depends what you want to accomplish ("document calls"?) with that
information.

On Mon, Sep 12, 2005 at 03:09:09PM +0200, Jan Algermissen wrote:
&gt; Hi,
&gt; 
&gt; has anybody ever documented interactions of components in a RESTful  
&gt; system with UML sequence diagrams? I am particulary interested in  
&gt; clever ideas how to document interactions that run through an  
&gt; intermediary.
&gt; 
&gt; I have started out giving both, request issueing components and  
&gt; resources life lines in a sequence diagram and documenting HTTP  
&gt; requests as ordinary method calls. This feels quite natural and  
&gt; provides good overviews of related HTTP interactions.
&gt; 
&gt; My problem is that I would like to document calls that run through  
&gt; intermediaries in a clean way but since in that cases the receiver of  
&gt; the method call is not the 'logical' receiver things become a bit  
&gt; difficult.
&gt; 
&gt; Any ideas? Has anyone done something like this before?
&gt; 
&gt; Thanks.
&gt; 
&gt; Jan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5216<br>
Sender:"Claude Montpetit" &lt;claude@...&gt;<br>
Post Date/Time:2005-09-13 14:58:14<br>
Subject:REST web service for batch process<br>
Message:<br><br>
<pre>I am involved on a project that will most likely be offering a
WebService  API based on REST.

There are questions I have regarding a specific aspect of this system.
Here is a task that this system supports:

 "DownloadDeviceData" is an "acquisition" task that accepts a device
ID as parameter. When invoked, the task connects to a database to find
the connection settings of the device, and contacts it to download its
data. 

This task is synchrounous by default (it could be async), i.e. the
client calls this service and listens to the output that returns
loging info, and a final result.

Is this type of process a good candidate for a REST api? 

For example, the URL could be defined as:

 http://server/ws/downloadDeviceData?device=1234

In this example, the service is called as a GET action. 

I can usually quite easily see where GET, POST, PUT and DELETE fit in
a typical REST system, but with an "acquisition" system like the one
described here, I do not see it as clearly.

Opinions on this would be appreciated.

--
Claude





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5217<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-09-13 16:29:58<br>
Subject:Re: [rest-discuss] REST web service for batch process<br>
Message:<br><br>
<pre>Claude,

On Sep 13, 2005, at 4:58 PM, Claude Montpetit wrote:

&gt;
&gt; Is this type of process a good candidate for a REST api?
&gt;
Sure, yes.

&gt; For example, the URL could be defined as:
&gt;
&gt;  http://server/ws/downloadDeviceData?device=1234
&gt;

Yes, that would be fine. Note though, that you propably should not  
use a verb in the URI since that implies an operation  
(downloadDeviceData). Think 'I am invoking the GET method on device  
object 1234':

http://server/ws/deviceData?id=1234

Also note that the use of a query string sort of puts an emphasis on  
the data corpus http://server/ws/downloadDeviceData being indexable  
(with the parameter 'device').

A way to avoid the query string would be to use URIs like this one:

http://server/ws/devices/1234


&gt; In this example, the service is called as a GET action.
&gt;

More precisely, you should think about the nouns in your domain (a  
container of devices and the indiviidual devices) and about invoking  
methods (GET, POST...) on them. There is no notion of service in your  
example.

&gt; I can usually quite easily see where GET, POST, PUT and DELETE fit in
&gt; a typical REST system, but with an "acquisition" system

What do you mean by "acquisition" system ? And why do you see less  
clearly? I think the 'GET representation of device state' is among  
the more natural examples..?

&gt; like the one
&gt; described here, I do not see it as clearly.
&gt;
&gt; Opinions on this would be appreciated.



HTH,

Jan
&gt;
&gt; --
&gt; Claude
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; ------------------------ Yahoo! Groups Sponsor -------------------- 
&gt; ~--&gt;
&gt; Get Bzzzy! (real tools to help you find a job). Welcome to the  
&gt; Sweet Life.
&gt; http://us.click.yahoo.com/A77XvD/vlQLAA/TtwFAA/W6uqlB/TM
&gt; -------------------------------------------------------------------- 
&gt; ~-&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5218<br>
Sender:Claude Montpetit &lt;claude@...&gt;<br>
Post Date/Time:2005-09-13 17:59:02<br>
Subject:Re: [rest-discuss] REST for issuing commands (was REST web service for batch process)<br>
Message:<br><br>
<pre>&gt;&gt;I can usually quite easily see where GET, POST, PUT and DELETE fit in
&gt;&gt;a typical REST system, but with an "acquisition" system
&gt; 
&gt; What do you mean by "acquisition" system ? And why do you see less  
&gt; clearly? I think the 'GET representation of device state' is among  
&gt; the more natural examples..?

The operation behind this URL is an acquisition process in a sense that 
it does not return a device state. It tells the system to contact the 
device to obtain its state but it does not return the state. Another URL 
is available to retrieve (parts of) the state. The operation described 
in the example here (i.e. DownloadDeviceData) does not return any data 
other than a result indicating if the acquisition was succesful or
not.

This is similar to an operation on a weblog API that would simply 
"publish" a draft version of a post. You would have POSTed a new entry 
as a draft, and later on, you would issue a command to publish your 
entry. I guess my URL could support this:

  http://server/publication/ID as POST would publish?
  http://server/publication/ID as GET would be same as POST?
  http://server/publication/ID as DELETE would unpublish?
  http://server/publication/ID as PUT would re-publish?

Similarly, in the acquisition context, I could do:

  http://server/acquisition/ID as POST would acquire data
  http://server/acquisition/ID as GET would be same as POST
  http://server/acquisition/ID as PUT: not applicable
  http://server/acquisition/ID as DELETE: not applicable

--

Claude

PS: Jan, I mistakenly sent my first reply to you only. This reply 
contains more details)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5219<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-09-13 18:14:19<br>
Subject:Re: [rest-discuss] REST for issuing commands (was REST web service for batch process)<br>
Message:<br><br>
<pre>
On Sep 13, 2005, at 7:59 PM, Claude Montpetit wrote:

&gt;&gt;&gt; I can usually quite easily see where GET, POST, PUT and DELETE  
&gt;&gt;&gt; fit in
&gt;&gt;&gt; a typical REST system, but with an "acquisition" system
&gt;&gt;&gt;
&gt;&gt; What do you mean by "acquisition" system ? And why do you see  
&gt;&gt; less  clearly? I think the 'GET representation of device state' is  
&gt;&gt; among  the more natural examples..?
&gt;&gt;
&gt;
&gt; The operation behind this URL is an acquisition process in a sense  
&gt; that it does not return a device state. It tells the system to  
&gt; contact the device to obtain its state but it does not return the  
&gt; state. Another URL is available to retrieve (parts of) the state.  
&gt; The operation described in the example here (i.e.  
&gt; DownloadDeviceData) does not return any data other than a result  
&gt; indicating if the acquisition was succesful or
&gt; not.

Hmm...is that important to the client? Isn;t the goal just to obtain  
the state? Why involve the client in anything that happens behind the  
scenes? Do a GET on a the device resource and the return code will  
tell you  if you receive a valid state or an error (4xx/5xx)

&gt;
&gt; This is similar to an operation on a weblog API that would simply  
&gt; "publish" a draft version of a post. You would have POSTed a new  
&gt; entry as a draft, and later on, you would issue a command to  
&gt; publish your entry. I guess my URL could support this:
&gt;
&gt;  http://server/publication/ID as POST would publish?
&gt;  http://server/publication/ID as GET would be same as POST?
&gt;  http://server/publication/ID as DELETE would unpublish?
&gt;  http://server/publication/ID as PUT would re-publish?

No, that is not quite the way to go. If you have drafts, they are  
objects in their own right, so you'd have them as resources, too:

GET ../pubs/554             - get the blog entry
POST ../drafts              - create a new draft entry (server  
returns 201
                               and URI of new draft)
GET ../drafts/555           - get the draft
POST ../pubs                - create a new publication (possible by  
posting
                               the draft), server returns 201 with  
URI of new entry

PUT ../pubs/555             - replace existing state of entry with  
entirely new state


jan

&gt;
&gt; Similarly, in the acquisition context, I could do:
&gt;
&gt;  http://server/acquisition/ID as POST would acquire data
&gt;  http://server/acquisition/ID as GET would be same as POST
&gt;  http://server/acquisition/ID as PUT: not applicable
&gt;  http://server/acquisition/ID as DELETE: not applicable
&gt;
&gt; --
&gt;
&gt; Claude
&gt;
&gt; PS: Jan, I mistakenly sent my first reply to you only. This reply  
&gt; contains more details)
&gt;

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5220<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2005-09-13 18:29:35<br>
Subject:RE: [rest-discuss] REST for issuing commands (was REST web service for batch process)<br>
Message:<br><br>
<pre>&gt; The operation behind this URL is an acquisition process in a sense that
&gt; it does not return a device state. It tells the system to contact the
&gt; device to obtain its state but it does not return the state. Another URL
&gt; is available to retrieve (parts of) the state. The operation described
&gt; in the example here (i.e. DownloadDeviceData) does not return any data
&gt; other than a result indicating if the acquisition was succesful or
&gt; not.
&gt; 
[hvw] Oops. That's a bad operation for GET, because the GET has the side
effect of changing the state of another resource (the one where you get the
actual state). DownloadDeviceData seems like a job for POST.

..Snip... 
&gt; Similarly, in the acquisition context, I could do:
&gt; 
&gt;   http://server/acquisition/ID as POST would acquire data
&gt;   http://server/acquisition/ID as GET would be same as POST
[hvw] GET must not be same as POST, see above. Jan's suggestion was pretty
good. If you model the device as the resource, POSTing to the device URI
could mean "Download Device Data".

http://server/device/ID POST would acquire data
http://server/device/ID GET would get the device state (if I understand
correctly)






 




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5221<br>
Sender:Claude Montpetit &lt;claude@...&gt;<br>
Post Date/Time:2005-09-13 18:50:04<br>
Subject:Re: [rest-discuss] REST for issuing commands (was REST web service for batch process)<br>
Message:<br><br>
<pre>&gt;&gt;The operation behind this URL is an acquisition process in a sense  
&gt;&gt;that it does not return a device state. It tells the system to  
&gt;&gt;contact the device to obtain its state but it does not return the  
&gt;&gt;state. Another URL is available to retrieve (parts of) the state.  
&gt;&gt;The operation described in the example here (i.e.  
&gt;&gt;DownloadDeviceData) does not return any data other than a result  
&gt;&gt;indicating if the acquisition was succesful or
&gt;&gt;not.
&gt; 
&gt; Hmm...is that important to the client? Isn;t the goal just to obtain  
&gt; the state? Why involve the client in anything that happens behind the  
&gt; scenes? Do a GET on a the device resource and the return code will  
&gt; tell you  if you receive a valid state or an error (4xx/5xx)

Yes, this is important to the client. The system supports many goals, 
such as retrieving data, and also to tell the system to connect to the 
device "on demand". These are 2 separate goals. The on demand 
acquisition be costly and only done when the client wants it.

 From Jan's and Hugh's comments, here is an API that would fit well in 
our context. But would it be good rest practice ...?

  http://server/acquisition/deviceId as POST
    * Initiates the acquisition process on device which updates the 
device state
    * Server returns 201 and a URL to the acquisition operation details:
      * execution datetime
      * completion code (completed, interuupted, timed out ...),
      * duration,
      * log info,
      * URL for obtaining newly acquired device data

  http://server/acquisition/deviceId as GET
    * Server returns a URL to the last acquisition results for device.

  http://server/acquisition/ID as PUT: not applicable

  http://server/acquisition/ID as DELETE: not applicable

Am I on track ...?




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5222<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-09-13 19:04:36<br>
Subject:Designing APIs vs designing systems<br>
Message:<br><br>
<pre>Hi,

the latest thread reminds me of something:

It is a very common question on this list if some service API  
(meaning 'set of resources serving an overall goal' or just 'Web  
application') is RESTful or not. I have long thought that these  
things go to the heart of what REST is about, but now that I started  
to actually apply REST to create a networked system I see much more  
interesting issues coming up (admitedly, I had this oh-duh-that's- 
what's-this-is-all-about-smack-hand-to-forehead moment). While the  
system I work on is of rather low complexity, there are massive  
maintainability issues - ideally you want to forget about your  
components once they have been deployed. IOW, the issue is: dealing  
with change.

I suddenly realized after 2+ years of investigating REST[1] how  
central the issue of change is and that the real questions that have  
to be asked when designing RESTful APIs are:

- what linking semantics do I need in my message types
   to enable clients to discover the URIs they need at
   runtime

- how do clients get a hold on the initial URIs, what is
   the evolvability cost of hardcoding them and where?

- what is the right balance of a-priori knowledge (usually
   hardcoded in the client) of the system and knowledge
   transferred to the client via representations? Should I
   put micro scripting engines in my clients to enable them
   to cope with RDF namespace version changes in the future?
   (e.g. code to tell the client how to transform
   ex2:lives-at to ex:address)

- what kinds of changes can I imagine now and how could I
   come up with clients I would not need to touch at all in case
   these changes appeared (the ideal case of course)


I am amazed how similar my maintainability problems (hard to touch  
components at all once they have been deployed) are to the situation  
with browsers on the Web: whoever maintains Web applications cannot  
just add a feature that requires an upgrade of the client code.


Jan



[1] If that puts me in the idiot corner - so be it :o)





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5223<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-09-13 21:21:01<br>
Subject:Re: [rest-discuss] REST for issuing commands (was REST web service for batch process)<br>
Message:<br><br>
<pre>Claude,

yes, that seems like a good idea. A view remarks:

&gt;
&gt;  From Jan's and Hugh's comments, here is an API that would fit well in
&gt; our context. But would it be good rest practice ...?
&gt;
&gt;   http://server/acquisition/deviceId as POST

I'd POST the device ID to e.g. http://server/acquisitions and have  
the server 'create a new aquisition object'. A GET on that would  
return it's state (which is all the information you list below).

&gt;     * Initiates the acquisition process on device which updates the
&gt; device state
&gt;     * Server returns 201 and a URL to the acquisition operation  
&gt; details:
&gt;       * execution datetime
&gt;       * completion code (completed, interuupted, timed out ...),
&gt;       * duration,
&gt;       * log info,
&gt;       * URL for obtaining newly acquired device data

The URL of the device would be sufficient, or? Is there a need to  
have another resource for the device state?
&gt;

Note that (if the akquisition state is not consumed by a human) the  
linking semantics of the message are important. They must enable a  
software client to know that some reference points to the log info or  
the device state. The message semantics are the contract between your  
service and the service consumer and the really critical point is how  
this contract might evolve and thus affect the consumption  
capabilities of the client.

RDF for example would be your friend here, because and additional  
aq:executionInitiator would not cause the client to stop being able  
to process the aq:executionDateTime property. (principle of partial  
understanding)


&gt;   http://server/acquisition/deviceId as GET
&gt;     * Server returns a URL to the last acquisition results for device.

&gt;
&gt;   http://server/acquisition/ID as PUT: not applicable
&gt;
&gt;   http://server/acquisition/ID as DELETE: not applicable
&gt;
&gt; Am I on track ...?

Yes, seems so. Although, you could emphasize what the nouns are a bit  
more explicit.

Jan
&gt;
&gt;
&gt;
&gt; ------------------------ Yahoo! Groups Sponsor -------------------- 
&gt; ~--&gt;
&gt; Get Bzzzy! (real tools to help you find a job). Welcome to the  
&gt; Sweet Life.
&gt; http://us.click.yahoo.com/A77XvD/vlQLAA/TtwFAA/W6uqlB/TM
&gt; -------------------------------------------------------------------- 
&gt; ~-&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5224<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-09-15 02:15:11<br>
Subject:Re: [rest-discuss] Designing APIs vs designing systems<br>
Message:<br><br>
<pre>Excellent points.

&gt; I am amazed how similar my maintainability problems (hard to touch
&gt; components at all once they have been deployed) are to the situation
&gt; with browsers on the Web: whoever maintains Web applications cannot
&gt; just add a feature that requires an upgrade of the client code.

You'd be suprised at how hard it is to touch components after they have been
deployed at medium-to-large companies too. The two factors I've been bent on
getting used are having the clients become parameter-ignorant (use an opaque
uri instead) and to discover links in retrieved data (hyperlinking as the
engine of application state). The opaque identifiers allow changes without
touching client apps and link discovery removes the need for fragile
configurations.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5225<br>
Sender:toydi &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-09-15 14:06:40<br>
Subject:Re: [rest-discuss] REST for issuing commands (was REST web service for batch process)<br>
Message:<br><br>
<pre>&gt; The system supports many goals,
&gt; such as retrieving data, and also to tell the system to connect to the
&gt; device "on demand". These are 2 separate goals. The on demand
&gt; acquisition be costly and only done when the client wants it.
&gt; 

Assuming the first goal, "retrieving data" is just to retreive device
state information
from database without changing anything, is it correct?

When the system connects to the device "on demand", will the device state 
or device state information in database changed?

Based on Mark Baker's HTTP Model [1] and HTTP/1.1 spec,

maybe you can create an "Acquisition Operator" as a Processing Resource.
His job is to take POSTed request (included with the desired device id), 
verify the device id, connect to the device, create a "Device State Info Log",
and response back the Log and the Log's URL (for later retrieval).

Then, you can always GET the latest and previous "Deive State Info
Log" based on the URL.

------------------------
(request the operator to connect to the device[id:foo123] )

POST  /server/acquisitionOperator   --&gt;
&lt;device&gt;
&lt;id&gt;foo123&lt;/id&gt;
&lt;/device&gt;

&lt;-- 201 Created
Location: /server/acquisitions/foo123/deviceStateLog-001
&lt;deviceStateLog&gt;
 &lt;completion-code&gt;completed&lt;/completion-code&gt;
 &lt;duration&gt;...&lt;/duration&gt;
   ....
&lt;/deviceStateLog&gt;

---------
(retrieve a list of all logs of the device[id:foo123] )

GET /server/acquisitions/foo123  --&gt;

&lt;-- 200 OK
&lt;deviceStateLogList&gt;
     &lt;deviceStateLog href="/server/acquisitions/foo123/deviceStateLog-001"&gt;
           .... 
     &lt;/deviceStateLog&gt;
     &lt;deviceStateLog&gt;.... &lt;/deviceStateLog&gt;
     &lt;deviceStateLog&gt;.... &lt;/deviceStateLog&gt;
       .......
&lt;/deviceStateLogList&gt;

-----------------------
(retrieve a Log of the device[id:foo123] )

GET /server/acquisitions/foo123/deviceStateLog-001 --&gt;

&lt;--200 OK
&lt;deviceStateLog&gt;
 &lt;completion-code&gt;completed&lt;/completion-code&gt;
 &lt;duration&gt;...&lt;/duration&gt;
   ....
&lt;/deviceStateLog&gt;


is these how your system works? or am i misunderstood? :)

[1] http://www.markbaker.ca/2001/09/draft-baker-http-resource-state-model-01.txt


&gt;  From Jan's and Hugh's comments, here is an API that would fit well in
&gt; our context. But would it be good rest practice ...?
&gt; 
&gt;   http://server/acquisition/deviceId as POST
&gt;     * Initiates the acquisition process on device which updates the
&gt; device state
&gt;     * Server returns 201 and a URL to the acquisition operation details:
&gt;       * execution datetime
&gt;       * completion code (completed, interuupted, timed out ...),
&gt;       * duration,
&gt;       * log info,
&gt;       * URL for obtaining newly acquired device data
&gt; 
&gt;   http://server/acquisition/deviceId as GET
&gt;     * Server returns a URL to the last acquisition results for device.
&gt; 
&gt;   http://server/acquisition/ID as PUT: not applicable
&gt; 
&gt;   http://server/acquisition/ID as DELETE: not applicable
&gt; 
&gt; Am I on track ...?
&gt; 


-- 
-toydi-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5226<br>
Sender:Claude Montpetit &lt;claude@...&gt;<br>
Post Date/Time:2005-09-15 17:41:29<br>
Subject:Re: [rest-discuss] REST for issuing commands (was REST web service for batch process)<br>
Message:<br><br>
<pre>&gt; maybe you can create an "Acquisition Operator" as a Processing Resource.
&gt; His job is to take POSTed request (included with the desired device id), 
&gt; verify the device id, connect to the device, create a "Device State Info Log",
&gt; and response back the Log and the Log's URL (for later retrieval).
&gt; 
&gt; Then, you can always GET the latest and previous "Deive State Info
&gt; Log" based on the URL.
&gt; 
...
&gt;&gt;
&gt;&gt;Am I on track ...?

Absolutely. This is close to the API I am leaning to. Reading more on 
REST, I realize that I must think in term of resources as opposed to 
operations. So the acquisition operation that I want to offer can be 
seen as a "Device Communication" resource.

  * The POST will create the  resource (i.e. initiate a communication 
and create log data about it), and return the URI to this data.

  * the GET on the returned URI will return the communication log data. 
This data may even indicate an "in progress" status when requested 
before the end of the communication.

  * A PUT on this same URI, with appropriate input, may be used to 
change the status of the communication, i.e. cancel the communication. 
Not sure about this one ... just thought about it.

Finally, I was thinking that the GET URL called on an "in progress" 
communication could (optionally) return live log info and the document 
returned will not be completed until the communication completes. The 
client invoking the resouorce that way could output the log info in a 
window to have real time feedback from the service. Not sure about that 
one either...

--

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5227<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-09-17 15:02:17<br>
Subject:REST mentioned in distributed systems book<br>
Message:<br><br>
<pre>Hi,

the coverage of the topic isn't really beyond mentioning it, but I  
think it is an interesting fact that REST is explicitly mentioned as  
an alternative to WS-* in the 4th edition of "Distributed Systems:  
Concepts and Design" by Coulouris et al., AWL 2005.

&lt;quote&gt;
REST: Representational State Transfer (Fielding 2000) is an approach  
with a very constrained style of operation in which clients use URLs  
and the HTTP operations GET, PUT, DELETE and POST to manipulate  
resources that are represented in XML. The emphasis is on the  
manipulation of data rather than on interfaces. Clients are supplied  
the entire state of a resource instead of calling an operation to  
provide some part of it. Fielding believes that in the context of the  
Internet the proliferation of different service interfaces will not  
be as useful as a simple minimum uniform set of operations. When a  
new resource is created then it has a new URL by which it can be  
accessed or updated.
&lt;/quote&gt;

(One wonders where the author takes the XML part from....)

The quote is at the start of the WS chapter which I find encouraging.

Jan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5228<br>
Sender:"wanderingstan" &lt;sjames@...&gt;<br>
Post Date/Time:2005-09-22 19:59:51<br>
Subject:RESTful authorization<br>
Message:<br><br>
<pre>Hi,

Forgive me is this is a standard newbie question...

I'm developing a firefox extension that talks with a server via a
RESTful API.  Most REST discussions recommend using HTTP Auth (RFC
2617), but this solution isn't ideal because browsers keep the
authorization creditials until the browser is closed.  This rules out
having multiple users on the same machine. 

Is there a workaround to this?

Or, how terrible is it if I pass the username and password as part of
the URI?  Everything is going over SSL, so it's not a security concern.

Thanks, 
-stan







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5229<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-09-22 21:54:41<br>
Subject:Re: [rest-discuss] RESTful authorization<br>
Message:<br><br>
<pre>
On Sep 22, 2005, at 9:59 PM, wanderingstan wrote:

&gt; Hi,
&gt;
&gt; Forgive me is this is a standard newbie question...
&gt;
&gt; I'm developing a firefox extension that talks with a server via a
&gt; RESTful API.  Most REST discussions recommend using HTTP Auth (RFC
&gt; 2617), but this solution isn't ideal because browsers keep the
&gt; authorization creditials until the browser is closed.  This rules out
&gt; having multiple users on the same machine.
&gt;
&gt; Is there a workaround to this?

Stan,

*maybe* I stumbled across something a few days ago: http:// 
www.jalgermissen.com/blog/xmlhttp_and_auth.html

I have not had the time to check this behaviour with other browsers  
and if it is possible to clear the credentials instead of simply  
making them wrong, but this might be a start to logout functionality.

Errmm....better would be if browser vendors finally provided this  
functionality - shouldn't be too hard for them anyway.

HTH,

Jan

&gt;
&gt; Or, how terrible is it if I pass the username and password as part of
&gt; the URI?  Everything is going over SSL, so it's not a security  
&gt; concern.
&gt;
&gt; Thanks,
&gt; -stan
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; ------------------------ Yahoo! Groups Sponsor -------------------- 
&gt; ~--&gt;
&gt; Most low income households are not online. Help bridge the digital  
&gt; divide today!
&gt; http://us.click.yahoo.com/cd_AJB/QnQLAA/TtwFAA/W6uqlB/TM
&gt; -------------------------------------------------------------------- 
&gt; ~-&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5230<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-09-22 22:02:21<br>
Subject:Re: [rest-discuss] RESTful authorization<br>
Message:<br><br>
<pre>wanderingstan wrote:

&gt;Hi,
&gt;
&gt;Forgive me is this is a standard newbie question...
&gt;
&gt;I'm developing a firefox extension that talks with a server via a
&gt;RESTful API.  Most REST discussions recommend using HTTP Auth (RFC
&gt;2617), but this solution isn't ideal because browsers keep the
&gt;authorization creditials until the browser is closed.  This rules out
&gt;having multiple users on the same machine.
&gt;
&gt;Is there a workaround to this?
&gt;  
&gt;
I think you can reset the credentials by sending a request which causes 
the server to stop accepting the current credentials.  That's just an 
idea, though -- I haven't tried it out.


&gt;Or, how terrible is it if I pass the username and password as part of
&gt;the URI?  Everything is going over SSL, so it's not a security concern.
&gt;  
&gt;
Pretty terrible, because it breaks bookmarking, and because users will 
send URLs around that include their username and password.  If HTTP auth 
doesn't work for you, a cookie-based approach is next best.

Good luck.

- Lucas


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5231<br>
Sender:Tyler Close &lt;tyler.close@...&gt;<br>
Post Date/Time:2005-09-23 15:05:11<br>
Subject:Re: [rest-discuss] RESTful authorization<br>
Message:<br><br>
<pre>Hi Stan, Lucas,

On 9/22/05, Lucas Gonze &lt;lgonze@...&gt; wrote:
&gt; wanderingstan wrote:
&gt; &gt;Or, how terrible is it if I pass the username and password as part of
&gt; &gt;the URI?  Everything is going over SSL, so it's not a security concern.
&gt; &gt;
&gt; Pretty terrible, because it breaks bookmarking, and because users will
&gt; send URLs around that include their username and password.

It's important to understand why this is terrible, because there's a
very elegant solution hidden underneath the terrible.

Including the username and password in the URL is terrible because
passing such a URL between users means delegating all of the sender's
authority to the receiver. For example, I may wish to send Lucas a
reference to a particular page I have access to. It's very surprising
if doing so results in Lucas getting access to all of the pages I have
access to. I only intended to provide him with access to the one page,
and yet he received access to all of them. Passing around all of a
user's authority in this way is a shortcut to terrible things.

However, bundling designation and authorization in this way doesn't
have to be a terrible thing, it can be a beautiful thing. The trick is
to first turn your access control model on its head. Instead of
associating authority with users, associate it with resources. Instead
of having a password for each user, have a password for each resource.
The user's authority is then respresented not by a single, unique
password, but by a collection of possibly shared passwords, one for
each resource that the user has access to. These resource passwords
can then be safely embedded in the URLs that refer to the resource.
Now, when a user sends another a reference to a particular page, the
receiver gets access only to the referenced page, not all of the
sender's pages. The mechanism now accurately reflects the sender's
intentions, and so is not surprising.

If all of this is a little theoretical, you can make it more concrete
by playing with an online web-app that makes use of these concepts.
The application is running at:

https://yurl.net/id/home

The home page contains a description of the application and some short
instructions on how to use it. The application should be fairly
discoverable even without the instructions. The short description is
that it's an access-controlled wiki. I think this application is an
excellent example of a  RESTful, access controlled application.

Tyler

PS

The above link only works well in browsers that support XSLT, such as
IE and Firefox. Safari's support for XSLT is still incomplete. Opera's
is non-existent. For the best experience, I recommend using Firefox.

--
The web-calculus is the union of REST and capability-based security:
http://www.waterken.com/dev/Web/

Name your trusted sites to distinguish them from phishing sites.
https://addons.mozilla.org/extensions/moreinfo.php?id=957

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5232<br>
Sender:"Andrzej Jan Taramina" &lt;andrzej@...&gt;<br>
Post Date/Time:2005-09-24 14:25:58<br>
Subject:Re: RESTful authorization<br>
Message:<br><br>
<pre>Tyler suggests:

&gt; Instead of having a password for each user, have a password for each
&gt; resource. 

Unfortunately, human nature will likely  kill your idea as it has in almost 
all applications for years now. Users have trouble remembering a single 
password, and only do so easily by using a common one across all apps, which 
begs the question of how secure that is.  The post-it note on the monitor or 
under the keyboard is a symptom of this issue.

There is no way you'll get users to remember a different password for every 
resource in a restful system.  

Just MNSHO.



Andrzej Jan Taramina
Chaeron Corporation: Enterprise System Solutions
http://www.chaeron.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5233<br>
Sender:Tyler Close &lt;tyler.close@...&gt;<br>
Post Date/Time:2005-09-24 15:36:51<br>
Subject:Re: [rest-discuss] Re: RESTful authorization<br>
Message:<br><br>
<pre>Hi Andrzej,

On 9/24/05, Andrzej Jan Taramina &lt;andrzej@...&gt; wrote:
&gt; Tyler suggests:
&gt;
&gt; &gt; Instead of having a password for each user, have a password for each
&gt; &gt; resource.
&gt;

(snip)

&gt; There is no way you'll get users to remember a different password for every
&gt; resource in a restful system.

Fortunately, they don't need to. Each resource password is embedded in
the corresponding URL. The user just clicks on hyperlinks, without
ever needing to be aware of the resource password.

Try using the example application at:

https://yurl.net/id/home

Tyler

--
The web-calculus is the union of REST and capability-based security:
http://www.waterken.com/dev/Web/

Name your trusted sites to distinguish them from phishing sites.
https://addons.mozilla.org/extensions/moreinfo.php?id=957

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5234<br>
Sender:Bob Haugen &lt;bob.haugen@...&gt;<br>
Post Date/Time:2005-09-24 16:42:08<br>
Subject:Re: [rest-discuss] Re: RESTful authorization<br>
Message:<br><br>
<pre>Tyler,

Could you please explain how embedded hyperlinks work in Yurl or web-calculus?

Take the case where I give you the Yurl for a Web resource where the
representation includes hyperlinks for other resources.

I might want you to be able GET representations from some of those
hyperlinks, edit and PUT some of the others, POST to still others, and
some of them I don't even want you to see.  I mean, I might want
others to be able to see them, but not you.

I might want others to be able to get representations of the same
resource including a different subset of the hyperlinks the resource
knows about, with a different set of capabilities, maybe more or less
than what I gave you.

I think I can probably figure this out, but it's nice to get it from the source.

Thanks,
Bob Haugen

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5235<br>
Sender:Tyler Close &lt;tyler.close@...&gt;<br>
Post Date/Time:2005-09-26 18:00:33<br>
Subject:Re: [rest-discuss] Re: RESTful authorization<br>
Message:<br><br>
<pre>Hi Bob,

On 9/24/05, Bob Haugen &lt;bob.haugen@...&gt; wrote:
&gt; Could you please explain how embedded hyperlinks work in Yurl or web-calculus?

When using capability URLs, such as in the web-calculus, your
hypermedia web embodies not only your application state, but also your
access policy. A capability URL embedded within a representation is
authority that should always be granted when authority to the
representation's resource has been granted.

&gt; Take the case where I give you the Yurl for a Web resource where the
&gt; representation includes hyperlinks for other resources.

Passing a URL to another user grants that user access to the target
resource, as well as access to any resources that are referenced in a
fetched representation, and so on, recursively.

For example, consider the capability URL:

https://yurl.net/id/6fo4lr6it4topf5rqcnml2fpav2hzmug

The above URL refers to a wiki page editor resource. A GET operation
on this URL returns:

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;?xml-stylesheet type="text/xsl" href="/xsl/http/yurl.org/Author.xsl"?&gt;

&lt;list&gt;
&lt;doc schema="http://waterken.org/name/AuthorProxyScope$Author-interface"&gt;
&lt;super schema="http://yurl.org/Author"&gt;
&lt;self schema="http://web-calculus.org/pointer/Embed"&gt;
&lt;target&gt;6fo4lr6it4topf5rqcnml2fpav2hzmug&lt;/target&gt;
&lt;/self&gt;
&lt;topic&gt;home comments&lt;/topic&gt;
&lt;value schema="http://web-calculus.org/pointer/Link"&gt;
&lt;target&gt;scdexb3ncrpdfp7lvd4guthvt6floqny&lt;/target&gt;
&lt;/value&gt;
&lt;assign schema="http://web-calculus.org/pointer/Link"&gt;
&lt;target&gt;puqjiq25fjqre67paoc7omi3iynbdw62&lt;/target&gt;
&lt;/assign&gt;
&lt;revoke schema="http://web-calculus.org/pointer/Link"&gt;
&lt;target&gt;mzkuol4e6u4konlco4tfxgyajqg5ewhd&lt;/target&gt;
&lt;/revoke&gt;
&lt;proxy schema="http://web-calculus.org/pointer/Link"&gt;
&lt;target&gt;z7b4euktmhbxbfax5nvvt7wsnclnjvhj&lt;/target&gt;
&lt;/proxy&gt;
&lt;/super&gt;
&lt;/doc&gt;
&lt;/list&gt;

The above representation contains a number of embedded capability
URLs, including the authority to: read the current wiki text (the
value element); assign new wiki text (the assign element); and so on.
All of the embedded authorities are described by the schema at:
&lt;http://yurl.org/Author&gt;.

To edit a wiki page, the user naturally requires the authority to read
the current text and the authority to assign new text. To implement
this access policy, the hypermedia resource web is constructed so that
both these authorities are reachable from the page editor resource.

&gt; I might want you to be able GET representations from some of those
&gt; hyperlinks, edit and PUT some of the others, POST to still others, and
&gt; some of them I don't even want you to see.  I mean, I might want
&gt; others to be able to see them, but not you.

Your hypermedia web must be designed to implement this access policy.
Creating a hypermedia web that is at odds with your access policy puts
you in a pickle.

When designing your application, first start out with pencil and paper
and draw your hypermedia web. Make sure that starting from any point
in the web, you can only get to other points in the web that conform
to your access policy.

&gt; I might want others to be able to get representations of the same
&gt; resource including a different subset of the hyperlinks the resource
&gt; knows about, with a different set of capabilities, maybe more or less
&gt; than what I gave you.

I avoid such designs. I make the resource mean the same thing to all
people, and represent extra authorities as separate resources. For
example, my wiki home page is at:

https://yurl.net/id/home

I have the authority to edit that page and you don't; however, when I
do a GET on the above URL, I see the same thing that you do. I have a
separate URL that I use for editing the page.

Thanks for the questions,

Tyler

--
The web-calculus is the union of REST and capability-based security:
http://www.waterken.com/dev/Web/

Name your trusted sites to distinguish them from phishing sites.
https://addons.mozilla.org/extensions/moreinfo.php?id=957

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5236<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2005-09-26 19:57:39<br>
Subject:RE: [rest-discuss] Re: RESTful authorization<br>
Message:<br><br>
<pre>Tyler, tell me if I understand correctly. Seems like this is a security by
obscurity approach? I would not ordinarily be able to guess the embedded url
https://yurl.net/id/puqjiq25fjqre67paoc7omi3iynbdw62 , but your form
delivers it to me, so therefore I have access to it and its descendants.

&gt; &lt;list&gt;
&gt; &lt;doc schema="http://waterken.org/name/AuthorProxyScope$Author-interface"&gt;
&gt; &lt;super schema="http://yurl.org/Author"&gt;
&gt; &lt;self schema="http://web-calculus.org/pointer/Embed"&gt;
&gt; &lt;target&gt;6fo4lr6it4topf5rqcnml2fpav2hzmug&lt;/target&gt;
&gt; &lt;/self&gt;
&gt; &lt;topic&gt;home comments&lt;/topic&gt;
&gt; &lt;value schema="http://web-calculus.org/pointer/Link"&gt;
&gt; &lt;target&gt;scdexb3ncrpdfp7lvd4guthvt6floqny&lt;/target&gt;
&gt; &lt;/value&gt;
&gt; &lt;assign schema="http://web-calculus.org/pointer/Link"&gt;
&gt; &lt;target&gt;puqjiq25fjqre67paoc7omi3iynbdw62&lt;/target&gt;
&gt; &lt;/assign&gt;
&gt; &lt;revoke schema="http://web-calculus.org/pointer/Link"&gt;
&gt; &lt;target&gt;mzkuol4e6u4konlco4tfxgyajqg5ewhd&lt;/target&gt;
&gt; &lt;/revoke&gt;
&gt; &lt;proxy schema="http://web-calculus.org/pointer/Link"&gt;
&gt; &lt;target&gt;z7b4euktmhbxbfax5nvvt7wsnclnjvhj&lt;/target&gt;
&gt; &lt;/proxy&gt;
&gt; &lt;/super&gt;
&gt; &lt;/doc&gt;
&gt; &lt;/list&gt;
&gt; 

[hvw] The point being I had to discover the nested url
https://yurl.net/id/puqjiq25fjqre67paoc7omi3iynbdw62. Nothing prevents me
from posting that URL on some web page, or sending it in an email to my
friends, right? So once you have shown me an URL, anyone I choose to send it
to has access too?

Hugh




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5237<br>
Sender:Tyler Close &lt;tyler.close@...&gt;<br>
Post Date/Time:2005-09-26 20:46:34<br>
Subject:Re: [rest-discuss] Re: RESTful authorization<br>
Message:<br><br>
<pre>Hi Hugh,

On 9/26/05, Hugh Winkler &lt;hughw@...&gt; wrote:
&gt; Tyler, tell me if I understand correctly. Seems like this is a security by
&gt; obscurity approach? I would not ordinarily be able to guess the embedded url
&gt; https://yurl.net/id/puqjiq25fjqre67paoc7omi3iynbdw62 , but your form
&gt; delivers it to me, so therefore I have access to it and its descendants.

You correctly understand the mechanism, but label it incorrectly with
"security by obscurity".

The embedded URL
&lt;https://yurl.net/id/puqjiq25fjqre67paoc7omi3iynbdw62&gt; is unguessable.
The only way for you to come into possession of this URL is through
someone else who knows it voluntarily giving it to you. In this case,
I voluntarily gave you the URL
&lt;https://yurl.net/id/6fo4lr6it4topf5rqcnml2fpav2hzmug&gt;, which in turn
voluntarily gave you the URL
&lt;https://yurl.net/id/puqjiq25fjqre67paoc7omi3iynbdw62&gt;. Without my
explicit, voluntary action, you would be unable to access the
identified resource.

"Security through obscurity" refers to mechanisms whose security
relies on the secrecy of a guessable secret. These mechanisms rely on
lack of popularity, or obscurity, reducing the chances of someone
bothering to make some good guesses. Such mechanisms fail when a good
guesser takes an interest in them, thus ending their obscurity and
security.

The random number included in a capability URL is long enough to be
unguessable. It doesn't matter how much attention is directed at
guessing such a URL, the mechanism remains secure. This approach to
creating security is similar to that used in SSL. The symmetric
session encryption key is also just a long random number. The security
of the SSL session depends on this long random number being
unguessable.

&gt; &gt; &lt;list&gt;
&gt; &gt; &lt;doc schema="http://waterken.org/name/AuthorProxyScope$Author-interface"&gt;
&gt; &gt; &lt;super schema="http://yurl.org/Author"&gt;
&gt; &gt; &lt;self schema="http://web-calculus.org/pointer/Embed"&gt;
&gt; &gt; &lt;target&gt;6fo4lr6it4topf5rqcnml2fpav2hzmug&lt;/target&gt;
&gt; &gt; &lt;/self&gt;
&gt; &gt; &lt;topic&gt;home comments&lt;/topic&gt;
&gt; &gt; &lt;value schema="http://web-calculus.org/pointer/Link"&gt;
&gt; &gt; &lt;target&gt;scdexb3ncrpdfp7lvd4guthvt6floqny&lt;/target&gt;
&gt; &gt; &lt;/value&gt;
&gt; &gt; &lt;assign schema="http://web-calculus.org/pointer/Link"&gt;
&gt; &gt; &lt;target&gt;puqjiq25fjqre67paoc7omi3iynbdw62&lt;/target&gt;
&gt; &gt; &lt;/assign&gt;
&gt; &gt; &lt;revoke schema="http://web-calculus.org/pointer/Link"&gt;
&gt; &gt; &lt;target&gt;mzkuol4e6u4konlco4tfxgyajqg5ewhd&lt;/target&gt;
&gt; &gt; &lt;/revoke&gt;
&gt; &gt; &lt;proxy schema="http://web-calculus.org/pointer/Link"&gt;
&gt; &gt; &lt;target&gt;z7b4euktmhbxbfax5nvvt7wsnclnjvhj&lt;/target&gt;
&gt; &gt; &lt;/proxy&gt;
&gt; &gt; &lt;/super&gt;
&gt; &gt; &lt;/doc&gt;
&gt; &gt; &lt;/list&gt;
&gt; &gt;
&gt;
&gt; [hvw] The point being I had to discover the nested url
&gt; https://yurl.net/id/puqjiq25fjqre67paoc7omi3iynbdw62.

Exactly.

&gt; Nothing prevents me
&gt; from posting that URL on some web page, or sending it in an email to my
&gt; friends, right?

Correct, as you've just demonstrated.

&gt; So once you have shown me an URL, anyone I choose to send it
&gt; to has access too?

Correct, anyone *you* *choose* to send it to has access too. This is a
good thing. You may have legitimate reasons for sharing your access
and the access control mechanism should support this. Delegating work
to others is often a crucial part of getting your job done.

Furthermore, it is impossible to prevent such delegation by you. Once
you have access to a resource, you could just as well setup a proxy
resource which accepts requests from your friends and forwards their
requests to the original resource. Given that I cannot prevent you
from setting up such a proxy service, I don't gain any access control
guarantees by preventing you from sharing direct access to the
original resource.

Thanks for the questions,

Tyler

--
The web-calculus is the union of REST and capability-based security:
http://www.waterken.com/dev/Web/

Name your trusted sites to distinguish them from phishing sites.
https://addons.mozilla.org/extensions/moreinfo.php?id=957

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5238<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-09-26 21:06:53<br>
Subject:Re: [rest-discuss] Re: RESTful authorization<br>
Message:<br><br>
<pre>Tyler Close wrote:

&gt;The only way for you to come into possession of this URL is through
&gt;someone else who knows it voluntarily giving it to you.
&gt;  
&gt;
At the beginning of this conversation I couldn't have agreed less, but 
this explanation makes perfect sense to me.  I am converted.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5239<br>
Sender:"Vincent D Murphy" &lt;vdm@...&gt;<br>
Post Date/Time:2005-09-26 21:16:08<br>
Subject:RE: [rest-discuss] Re: RESTful authorization<br>
Message:<br><br>
<pre>On Mon, 26 Sep 2005 14:57:39 -0500, "Hugh Winkler" &lt;hughw@...&gt;
said:
&gt; [hvw] The point being I had to discover the nested url
&gt; https://yurl.net/id/puqjiq25fjqre67paoc7omi3iynbdw62. Nothing prevents me
&gt; from posting that URL on some web page, or sending it in an email to my
&gt; friends, right? So once you have shown me an URL, anyone I choose to send
&gt; it
&gt; to has access too?

This is by design. You can grant a capability to somebody
by copying it. This is close to real-life keys; if I give
you the key to my house, you can use it even though its not
your house.

(Right, Tyler?)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5240<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2005-09-26 21:23:32<br>
Subject:RE: [rest-discuss] Re: RESTful authorization<br>
Message:<br><br>
<pre>&gt; 
&gt; &gt;The only way for you to come into possession of this URL is through
&gt; &gt;someone else who knows it voluntarily giving it to you.
&gt; &gt;
&gt; &gt;
&gt; At the beginning of this conversation I couldn't have agreed less, but
&gt; this explanation makes perfect sense to me.  I am converted.
&gt; 

[hvw] Just seems to me a lot of resource owners might want to retain the
authority over who gets access to the resource. They might want me to use
the resource; they might not want me passing that authority around to
others. "Hugh, here is the URL for our ViewCVS... please don't show it to
anyone else." In that situation a legal a contract usually backs up the
admonition, but in the ordinary case a contract, plus some user authn/authz,
backs it up.


Hugh








</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5241<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2005-09-26 21:30:04<br>
Subject:RE: [rest-discuss] Re: RESTful authorization<br>
Message:<br><br>
<pre>&gt; This is by design. You can grant a capability to somebody
&gt; by copying it. This is close to real-life keys; if I give
&gt; you the key to my house, you can use it even though its not
&gt; your house.
&gt; 
&gt; (Right, Tyler?)
&gt; 
[hvw] Seems like a better analogy is you leave a key in the door of the
house, then you tell me where the house is.






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5242<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-09-26 21:35:39<br>
Subject:Re: [rest-discuss] Re: RESTful authorization<br>
Message:<br><br>
<pre>Hugh Winkler wrote:

&gt;[hvw] Just seems to me a lot of resource owners might want to retain the
&gt;authority over who gets access to the resource. They might want me to use
&gt;the resource; they might not want me passing that authority around to
&gt;others. "Hugh, here is the URL for our ViewCVS... please don't show it to
&gt;anyone else."
&gt;

It's up to resource owners to choose recipients of this capability 
wisely.  It's not good that it is so easy for them to choose unwisely, 
but that's an issue which can be tackled separately.







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5243<br>
Sender:Tyler Close &lt;tyler.close@...&gt;<br>
Post Date/Time:2005-09-26 21:39:08<br>
Subject:Re: [rest-discuss] Re: RESTful authorization<br>
Message:<br><br>
<pre>Hi Vincent,

On 9/26/05, Vincent D Murphy &lt;vdm@...&gt; wrote:
&gt; On Mon, 26 Sep 2005 14:57:39 -0500, "Hugh Winkler" &lt;hughw@...&gt;
&gt; said:
&gt; &gt; [hvw] The point being I had to discover the nested url
&gt; &gt; https://yurl.net/id/puqjiq25fjqre67paoc7omi3iynbdw62. Nothing prevents me
&gt; &gt; from posting that URL on some web page, or sending it in an email to my
&gt; &gt; friends, right? So once you have shown me an URL, anyone I choose to send
&gt; &gt; it
&gt; &gt; to has access too?
&gt;
&gt; This is by design. You can grant a capability to somebody
&gt; by copying it. This is close to real-life keys; if I give
&gt; you the key to my house, you can use it even though its not
&gt; your house.
&gt;
&gt; (Right, Tyler?)

That's a good analogy.

Tyler

--
The web-calculus is the union of REST and capability-based security:
http://www.waterken.com/dev/Web/

Name your trusted sites to distinguish them from phishing sites.
https://addons.mozilla.org/extensions/moreinfo.php?id=957

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5244<br>
Sender:Tyler Close &lt;tyler.close@...&gt;<br>
Post Date/Time:2005-09-26 21:44:28<br>
Subject:Re: [rest-discuss] Re: RESTful authorization<br>
Message:<br><br>
<pre>Hi Hugh,

On 9/26/05, Hugh Winkler &lt;hughw@...&gt; wrote:
&gt; &gt; This is by design. You can grant a capability to somebody
&gt; &gt; by copying it. This is close to real-life keys; if I give
&gt; &gt; you the key to my house, you can use it even though its not
&gt; &gt; your house.
&gt; &gt;
&gt; &gt; (Right, Tyler?)
&gt; &gt;
&gt; [hvw] Seems like a better analogy is you leave a key in the door of the
&gt; house, then you tell me where the house is.

No, the location of the house is a guessable secret. Anyone wandering
down the road will come across it. The specific construction of a
particular house key is supposed to be an unguessable secret.

For example, you could go to the home page of my web site:
&lt;https://yurl.net/&gt;. No matter how much time you spend surfing the
site, or guessing site URLs, you will not discover the URL that
represents the authority to edit the page at:
&lt;https://yurl.net/id/home&gt;. That URL hasn't been left around for you
to find; the key is not in the door.

Tyler

--
The web-calculus is the union of REST and capability-based security:
http://www.waterken.com/dev/Web/

Name your trusted sites to distinguish them from phishing sites.
https://addons.mozilla.org/extensions/moreinfo.php?id=957

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5245<br>
Sender:Tyler Close &lt;tyler.close@...&gt;<br>
Post Date/Time:2005-09-26 21:51:18<br>
Subject:Re: [rest-discuss] Re: RESTful authorization<br>
Message:<br><br>
<pre>Hi Hugh,

On 9/26/05, Hugh Winkler &lt;hughw@...&gt; wrote:
&gt; &gt;
&gt; &gt; &gt;The only way for you to come into possession of this URL is through
&gt; &gt; &gt;someone else who knows it voluntarily giving it to you.
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; At the beginning of this conversation I couldn't have agreed less, but
&gt; &gt; this explanation makes perfect sense to me.  I am converted.
&gt; &gt;
&gt;
&gt; [hvw] Just seems to me a lot of resource owners might want to retain the
&gt; authority over who gets access to the resource. They might want me to use
&gt; the resource; they might not want me passing that authority around to
&gt; others. "Hugh, here is the URL for our ViewCVS... please don't show it to
&gt; anyone else." In that situation a legal a contract usually backs up the
&gt; admonition, but in the ordinary case a contract, plus some user authn/authz,
&gt; backs it up.

I could very well log all accesses to the capability URL that I give
you and send you a nasty letter if I decide abusive requests have been
made using that URL.

I have no better recourse or investigative tools when using a
username/password. You might give your username/password to someone
else, so I must log all accesses and make a judgment as to whether or
not the requests are abusive.

In either case, I blame the person I gave the username/password, or
the capability URL.

Tyler

--
The web-calculus is the union of REST and capability-based security:
http://www.waterken.com/dev/Web/

Name your trusted sites to distinguish them from phishing sites.
https://addons.mozilla.org/extensions/moreinfo.php?id=957

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5246<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-09-26 22:46:41<br>
Subject:Re: [rest-discuss] Re: RESTful authorization<br>
Message:<br><br>
<pre>p2p-hackers, meet rest-discuss.  rest-discuss, I'd like to introduce you 
to p2p-hackers.

RESTafarians: there is a long-running conversation on p2p-hackers about 
friendnets, also known as darknets, small world networks, and F2F 
networks; also capabilities security, sometimes known as smart 
contracts.  An example thread begins at 
http://zgp.org/pipermail/p2p-hackers/2005-August/002915.html 

p2p-hackers: Tyler Close' method for HTTP access control using nothing 
but unguessable (and secret) URIs came up on REST-discuss.  That thread 
begins at http://groups.yahoo.com/group/rest-discuss/message/5228  In 
the context of friendnets, Tyler's scheme is a beautifully simple way of 
controlling access using nothing but low-tech means.  Not only does it 
limit access to trusted parties, it also allows for transitive 
relationships.  (Warning: his scheme is counterintuitive, since the 
dependence on secret URLs smells like security through obscurity).

I don't mean to create a permathread out of out of this cc:list, rather 
to refer interested rest-discuss people to p2p-hackers and vice versa.  
If you reply to this, please choose one list or the other as the 
recipient. 

I've always been surprised that the intersection of REST and 
capabilities isn't a common theme, since both REST and capabilities 
revolve around precisely defined relationships.  The success of defining 
HTTP methods in terms of privileges is due, I believe, to the way that 
it reflects the same underlying truth that capabilities formalize.




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5247<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2005-09-26 23:16:23<br>
Subject:RE: [rest-discuss] Re: RESTful authorization<br>
Message:<br><br>
<pre>&gt; 
&gt; I could very well log all accesses to the capability URL that I give
&gt; you and send you a nasty letter if I decide abusive requests have been
&gt; made using that URL.
&gt; 
&gt; I have no better recourse or investigative tools when using a
&gt; username/password. You might give your username/password to someone
&gt; else, so I must log all accesses and make a judgment as to whether or
&gt; not the requests are abusive.
&gt; 

[hvw] I would have to have malicious intent, if I were to send along my
password to someone. 

Whereas lots of security compromises could be accidental. I want my friend
Jim to have your email address, so I forward him the last mail you sent me.
Unfortunately that mail contains the ViewCVS url with the crown jewels. If
the resource were protected by username/password, Jim could not access it.
As a resource owner, I would want to at least require a deliberate,
malicious action, to compromise my resource -- not a casual one, like
copying a link.


I appreciate the simplicity of this scheme, and it's probably appropriate
where the crown jewels aren't involved!


Hugh





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5248<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-09-26 23:31:50<br>
Subject:Re: [rest-discuss] Re: RESTful authorization<br>
Message:<br><br>
<pre>Hugh Winkler wrote:

&gt;Whereas lots of security compromises could be accidental. I want my friend
&gt;Jim to have your email address, so I forward him the last mail you sent me.
&gt;Unfortunately that mail contains the ViewCVS url with the crown jewels.
&gt;

You are not a good bet for such a scheme, then.  That issue will resolve 
itself as part of the normal flow of capabilities.

For example, the same problem would crop up if the email in question had 
username/password in it, and even then some people will choose to 
forward the email.

- Lucas




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5249<br>
Sender:Tyler Close &lt;tyler.close@...&gt;<br>
Post Date/Time:2005-09-27 00:48:36<br>
Subject:Re: [rest-discuss] Re: RESTful authorization<br>
Message:<br><br>
<pre>Hi Hugh,

On 9/26/05, Hugh Winkler &lt;hughw@...&gt; wrote:
&gt; &gt;
&gt; &gt; I could very well log all accesses to the capability URL that I give
&gt; &gt; you and send you a nasty letter if I decide abusive requests have been
&gt; &gt; made using that URL.
&gt; &gt;
&gt; &gt; I have no better recourse or investigative tools when using a
&gt; &gt; username/password. You might give your username/password to someone
&gt; &gt; else, so I must log all accesses and make a judgment as to whether or
&gt; &gt; not the requests are abusive.
&gt; &gt;
&gt;
&gt; [hvw] I would have to have malicious intent, if I were to send along my
&gt; password to someone.

Not necessarily...

&gt; Whereas lots of security compromises could be accidental. I want my friend
&gt; Jim to have your email address, so I forward him the last mail you sent me.
&gt; Unfortunately that mail contains the ViewCVS url with the crown jewels. If
&gt; the resource were protected by username/password, Jim could not access it.

That email might also contain your username/password. After all, the
password must be sent to you some way.

For example, if you open an account with mozdev.org, the project
approval and introduction email will include various relevant URLs for
your project (such as the mailing list), in addition to your
username/password for controlling these resources.

&gt; As a resource owner, I would want to at least require a deliberate,
&gt; malicious action, to compromise my resource

Absolutely, so transmit a capability URL using a mechanism that you
would use to transmit a password of equivalent value.

For example, a more valuable password or capability URL would be
better transmitted using a PGP encrypted email.

&gt; -- not a casual one, like copying a link.

The implications of doing this can be made more obvious by controlling
where the link can be copied from. For example, a PGP encrypted email
explaining the purpose and use of the link.

&gt; I appreciate the simplicity of this scheme, and it's probably appropriate
&gt; where the crown jewels aren't involved!

Which is mostly what we use the Internet for.

Applications involving the crown jewels are by definition more
demanding. Our existing applications (email clients, web browsers)
aren't well suited to working with high value authorities. A lot more
could and should be done to improve this infrastructure.

In building such infrastructure, I would build on capability URLs, not
username/password. There are engineering issues to be tackled in
making better software based on capability URLs, but there are
semantic problems with username/password.

Username/password schemes suffer from cross-site authorization issues.
For example, consider a resource at my bank which will perform a spend
when sent a POST with the expected HTTP Auth credentials. This
resource may be located at &lt;https://bank/account/pay&gt;. Imagine I log
into my bank account, check on some pending transactions and then go
visit some interesting blogs. At the end of a blog post is a form
submission button that claims to create a blog post comment. The form
actually points to &lt;https://bank/account/pay&gt; and does a spend when I
click on it. I click on the button, and my browser does the form POST,
happily responding to the bank's HTTP Auth challenge using it's cached
copy of my password. The spend goes through as it was sent from my
machine, using my password.

Access control list (ACL) based mechanisms don't work in applications
where there is communication between users. Capability-based
mechanisms can work.

Tyler

--
The web-calculus is the union of REST and capability-based security:
http://www.waterken.com/dev/Web/

Name your trusted sites to distinguish them from phishing sites.
https://addons.mozilla.org/extensions/moreinfo.php?id=957

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5250<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-09-27 12:56:53<br>
Subject:Service Discovery in RESTful Systems<br>
Message:<br><br>
<pre>Hi,

inspired by a recent thread[1] on the service-orientated-architecture  
ML I have started to give the following questions a closer look:

In a concurrent system,...

1. why does a process A choose to 'invoke' some operation of a
    process B? On what basis is B chosen?

2. Once A and B engage in a communication, how does A determine
    what operations to call upon B and in what order?

After another (not too close) look at CSS- and pi-calculus I  
understand this:

In process calculi, processes are typed by the sequence of accepting  
states, meaning that two processes B1 and B2 can be considered by A  
to be exchangeable if they allow the same sequences of operations to  
be called upon them (bisimulation).

Process A determines the sequence of operations from its knowledge  
about B's type (which 'is' the sequence of operations to be called).

How does this compare to REST? There is an obvious answer for  
question 2: in a RESTful system, process A discovers the possible  
operations at runtime by looking at the hypermedia that is passed to  
A by B (hypermedia as engine of application state).

But what about 1? In a RESTful system, how does A choose the right B  
to get done whatever A intends to get done? Do I just use the type  
(e.g. any process of rdf:type ex:ShoeOrderProcessor will do) of a  
'service' silently hoping that the typing information is 'correct'?

An interesting case is a human intending to do a Web search. Suppose  
you turn to Google by they are currently down; usually you'd turn to  
your next favorite search engine. You do so, because you *know* it is  
a service of type 'search engine' and not because you make  
assumptions about the individual operations you will have to go  
through during the search.

It might even be the case (evolvability benefit ahead) that sequence  
of operations you  have to perform has changed since your last visit,  
but this will not cause a problem, because you will discover the  
sequence during your search. No expectations will break.

Supposed you have a bookmark folder named 'Search Engines' and you  
just pick the entries until you find a working search engine or one  
that returns a satisfying result I'd argue that you are choosing the  
services by their type (indicated by the bookmark folder). Your  
bookmarks are like a registry for services.

Is that how service discovery works in a RESTful networked system?

And these come to mind:
What is the role of the clients *intent* concerning discovery and  
interaction? What is the relationship between the MIME type and the  
discovery? Are MIME type coordination languages?


...just uncooked initial thoughts on this anyway...

Jan



[1]http://groups.yahoo.com/group/service-orientated-architecture/ 
message/2400
    (the postings more relevant to this email are towards the end of  
the thread)




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5251<br>
Sender:Elias Sinderson &lt;elias@...&gt;<br>
Post Date/Time:2005-09-27 14:58:55<br>
Subject:Re: [rest-discuss] Service Discovery in RESTful Systems<br>
Message:<br><br>
<pre>Jan Algermissen wrote:

&gt;[...] Are MIME type coordination languages? [...]
&gt;  
&gt;
No, the HTTP is the coordination language.

Sorry I'm in a rush and don't have time to expand on this at the moment 
-- I am planning on putting out a couple of papers on this very topic in 
coming months.


Regards,
Elias

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5252<br>
Sender:Tyler Close &lt;tyler.close@...&gt;<br>
Post Date/Time:2005-09-27 15:08:51<br>
Subject:Re: [p2p-hackers] Re: [rest-discuss] Re: RESTful authorization<br>
Message:<br><br>
<pre>Hi Justin, coderman,

On 9/27/05, coderman &lt;coderman@...&gt; wrote:
&gt; On 9/27/05, Justin Chapweske &lt;justin@...&gt; wrote:
&gt; &gt; Based on your description, such as a system wouldn't work very well due
&gt; &gt; to leaks from referrers

(snip)

&gt; what would be nice is a simple way to toggle your wiki/site software
&gt; in one of two modes:
&gt; [ ] tell remote hosts my referrer details
&gt; [ ] do not disclose any information about me (referrer) to remote hosts

Which is exactly the formula implemented in web browsers for http vs https.

Web browsers don't leek https URLs in the Referer header.

Tyler

--
The web-calculus is the union of REST and capability-based security:
http://www.waterken.com/dev/Web/

Name your trusted sites to distinguish them from phishing sites.
https://addons.mozilla.org/extensions/moreinfo.php?id=957

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5253<br>
Sender:Tyler Close &lt;tyler.close@...&gt;<br>
Post Date/Time:2005-09-27 15:15:39<br>
Subject:Re: [p2p-hackers] Re: [rest-discuss] Re: RESTful authorization<br>
Message:<br><br>
<pre>Hi Justin,

On 9/27/05, Justin Chapweske &lt;justin@...&gt; wrote:
&gt; Based on your description, such as a system wouldn't work very well due
&gt; to leaks from referrers, logging, and other systems that don't mind
&gt; communicating about visited URLs.

These URLs are https URLs and so won't be leaked in HTTP Referer
headers. Since they are communicated over an SSL connection, logging
is only possible at the server and client machines. The processes at
either end of the SSL connection are necessarily trusted with
authority over the identified resource, since the resource is located
at the server, and controlled by the user.

The only remaining hurdle is that some endpoint processes are not
coded to safely handle such authority. A web browser configured to
relay every visited URL to a third party might be a problem, depending
on the third party. Obviously such snoopy software is also a problem
for sites that encode a session id in the URL.

Tyler

--
The web-calculus is the union of REST and capability-based security:
http://www.waterken.com/dev/Web/

Name your trusted sites to distinguish them from phishing sites.
https://addons.mozilla.org/extensions/moreinfo.php?id=957

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5254<br>
Sender:Bob Haugen &lt;bob.haugen@...&gt;<br>
Post Date/Time:2005-09-27 15:48:52<br>
Subject:Re: [rest-discuss] Re: RESTful authorization<br>
Message:<br><br>
<pre>&gt; On 9/24/05, Bob Haugen &lt;bob.haugen@...&gt; wrote:
&gt; &gt; I might want others to be able to get representations of the same
&gt; &gt; resource including a different subset of the hyperlinks the resource
&gt; &gt; knows about, with a different set of capabilities, maybe more or less
&gt; &gt; than what I gave you.

On 9/26/05, Tyler Close &lt;tyler.close@...&gt; replied:
&gt; I avoid such designs. I make the resource mean the same thing to all
&gt; people, and represent extra authorities as separate resources. For
&gt; example, my wiki home page is at:
&gt;
&gt; https://yurl.net/id/home
&gt;
&gt; I have the authority to edit that page and you don't; however, when I
&gt; do a GET on the above URL, I see the same thing that you do. I have a
&gt; separate URL that I use for editing the page.

Ok, so I might have a logical "resource" that knows about lots of
other logical "resources", but my YURL design might need to have many
capability-based resources for each logical "resource".

For example, if my logical resource was a Purchase Order, it might be
logically  linked to my supplier's Sales Order, which might be
logically linked to my supplier's manufacturing schedule, which might
be logically linked to my supplier's suppliers, etc.  I might have
capability YURLs for the Sales Order but probably not all the way back
to my supplier's suppliers.

So the capability or YURL design would be a major upfront project
phase for any new Web system.  I can see this becoming a big
bottleneck, full of pitfalls and errors from lack of foresight,
understanding, wrong guesses as to future requirements, etc.  We're
back in waterfall territory, which has proven to be a bad way to
develop software.

What do you think?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5255<br>
Sender:Laurian Gridinoc &lt;laurian@...&gt;<br>
Post Date/Time:2005-09-28 08:11:33<br>
Subject:Re: [rest-discuss] RESTful authorization<br>
Message:<br><br>
<pre>On 9/23/05, Lucas Gonze &lt;lgonze@...&gt; wrote:
&gt; &gt;I'm developing a firefox extension that talks with a server via a
&gt; &gt;RESTful API.  Most REST discussions recommend using HTTP Auth (RFC
&gt; &gt;2617), but this solution isn't ideal because browsers keep the
&gt; &gt;authorization creditials until the browser is closed.  This rules out
&gt; &gt;having multiple users on the same machine.
&gt; &gt;Is there a workaround to this?
&gt; I think you can reset the credentials by sending a request which causes
&gt; the server to stop accepting the current credentials.  That's just an
&gt; idea, though -- I haven't tried it out.

You have to prompt the user again, for example you have an logout URI,
with the same realm (browsers cache user/pass associated with the
realm) and there the you won't accept the user credentials, and if the
user hits cancel, the authentication will be cleared.

Mozilla has an extension for logging out:
http://extensionroom.mozdev.org/more-info/clearhttpauth

Cheers,
--
Laurian Gridinoc, www.grapefruit.ro

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5256<br>
Sender:Laurian Gridinoc &lt;laurian@...&gt;<br>
Post Date/Time:2005-09-30 21:23:27<br>
Subject:Re: [p2p-hackers] Re: [rest-discuss] Re: RESTful authorization<br>
Message:<br><br>
<pre>Hello

On 9/30/05, Lucas Gonze &lt;lgonze@...&gt; wrote:
&gt; Given that:
&gt; The client has received at least one ID by secure means, and the client
&gt; wants to fetch the corresponding representation.
&gt; SSL/TLS is not available.
&gt; The client has javascript.
&gt; On the client:
&gt; $salt = newRandomNumber();
&gt; $hashed = hash(concat($id,$salt))
&gt; $representation = GET /mapper?hashed=$hashed&amp;salt=$salt
&gt; [...]

The issue is how does the client know that the login page with the
above javascript was not modified by the MITM?

There is an ongoing discussion on webappsec@... about
"Must we authenticate login forms (using SSL?)?" see below a nice
issue about challenge-response and MITM:

---------- Forwarded message ----------
From: Rogan Dawes &lt;discard@...&gt;
Date: Sep 30, 2005 11:54 AM
Subject: Re: Must we authenticate login forms (using SSL?)?
Cc: Web Application Security &lt;webappsec@...&gt;

[...]

The core problem with any security mechanism that is implemented using
"stuff" (Javascript, Java applet, etc) that is downloaded from the
server that you are visiting is that any man in the middle attack can
simply remove that mechanism, and substitute it with their own.

e.g. My bank logon script performs an MD5 hash of the username and
password before sending it to the bank. The MITM tricks me to visiting
their own site, and just "proxies" the comms to the real site. However,
they strip out the MD5 hashing script,and replace it with an "identity"
function (i.e. the output is the same as the input). When the MITM
receives the form submission, it is trivial for them to extract the
username and password from the form, replace it with the MD5 hash
expected, and pass it on to the real bank.

I had started implementing/experimenting with using Secure Remote
Password (http://srp.stanford.edu/) for authentication to a secure web
site, with the idea that the password is never transmitted in clear, or
in a recoverable form. However, this stumbling point convinced me that
I'd be wasting my time!

One reason that SSL client certs offer real protection is that they are
not controllable by page content, and do not rely on something that
comes down from the site you are visiting.

Regards,

Rogan
---------- End Forwarded message ----------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5257<br>
Sender:"scottgregory" &lt;scottgregory@...&gt;<br>
Post Date/Time:2005-10-05 14:49:12<br>
Subject:REST requires HTTP or other transports<br>
Message:<br><br>
<pre>Hello;

Most of the discussion around REST that I can find refers to HTTP as 
the only transport used.  While I understand that REST is an 
Architectural Style, and not a specific implementation, it maps well
to the GET/PUT, etc. of the HTTP headers, and most people seem to
leave it at that.

Are the two inextricably tied?  Have people built real applications 
using different, e.g. MQ or other MOM type async transports, than
HTTP?

Thanks
sdg



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5258<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2005-10-05 15:18:09<br>
Subject:RE: [rest-discuss] REST requires HTTP or other transports<br>
Message:<br><br>
<pre>
&gt; 
&gt; Most of the discussion around REST that I can find refers to HTTP as
&gt; the only transport used.  

[hvw] I'm not quibbling when I remark that HTTP is an application protocol,
not a "transport". It's a protocol for apps that transfer hypertext messages
around. TCP is a transport. The Soap/WS-* folks, too, finally recognize that
distinction.  

&gt; While I understand that REST is an
&gt; Architectural Style, and not a specific implementation, it maps well
&gt; to the GET/PUT, etc. of the HTTP headers, and most people seem to
&gt; leave it at that.
&gt; 
&gt; Are the two inextricably tied?  Have people built real applications
&gt; using different, e.g. MQ or other MOM type async transports, than
&gt; HTTP?
&gt; 

[hvw] Roy Fielding reverse-engineered the way the web worked and called that
the REST style. You could design other RESTful systems using MOMs. You'd
build in these characteristics

o You'd pass around hypertext documents that maintain the application state.
o These documents would be the representations of some resources you could
identify by some identifier ( ideally, URI)
o The message processor would have a pretty limited number of verbs (could
have just "process this"). The verbs don't have to be limited to just the
fab four, either.


But yeah, web apps are the archetypal REST apps, so that's where most of the
discussion lies. 


Hugh




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5259<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2005-10-05 16:01:40<br>
Subject:Re: [rest-discuss] REST requires HTTP or other transports<br>
Message:<br><br>
<pre>Hugh,

: o The message processor would have a pretty limited number of verbs (could
: have just "process this"). The verbs don't have to be limited to just the
: fab four, either.

There could be a lot of them, as long as they make sense when applied
to *any* resource:

example: GET /my/bank/account (good)
example: LOCK /my/bank/account (good)
example: GETSTOCKQUOTE /my/bank/account (bad)*

It is a matter of consistency, not parsimony, although the latter is
probably a desirable side-effect.

Walden

* until my bank account becomes publicly traded, anyway 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5260<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2005-10-05 16:20:28<br>
Subject:Re: [rest-discuss] REST requires HTTP or other transports<br>
Message:<br><br>
<pre>scottgregory wrote:
&gt; Hello;
&gt; 
&gt; Most of the discussion around REST that I can find refers to HTTP as 
&gt; the only transport used.

HTTP is not a transport protocol. Abusing HTTP to serve as a transport 
protocol is one of the things that can lead to people not taking 
advantage of the RESTful nature of HTTP.

HTTP is not the only possible RESTful application protocol, indeed if we 
were starting from scratch we could probably do better. However it's 
development did go hand in hand with that of the REST style, 
particularly the changes that led to HTTP1.1 being developped as a 
successor to HTTP1.0.

Hence when we are talking about REST we are most often talking about 
HTTP as the application protocol (with TCP/IP or perhaps a secure 
transport protocol built on top of TCP/IP as the transport protocol) but 
this is not necessarily the case.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5261<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2005-10-05 16:32:33<br>
Subject:RE: [rest-discuss] REST requires HTTP or other transports<br>
Message:<br><br>
<pre>&gt; 
&gt; There could be a lot of them, as long as they make sense when applied
&gt; to *any* resource:
&gt; 
[hvw] Excellent point.

Further thoughts: One reason the web has been successful is that REST
enabled all kinds of apps to run using this simple protocol. However HTTP
has one thing MOMs don't have, and that is a standardized wire protocol. If
you don't have a widely adopted wire protocol, then you won't interoperate
with many others, and the value of designing using REST constraints is
lower.

XMPP + queues could change that.

You could say that SOAP/WS got the wire protocol standardized, but omitted
the application constraints. REST over MOM gets the application constraints,
but has the wire protocol interop problem. 

REST constraints over XMPP/queues/pubsub? Wonder if that would take off...


Hugh












</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5262<br>
Sender:Jeoff Wilks &lt;jeoffwilks@...&gt;<br>
Post Date/Time:2005-10-06 12:53:26<br>
Subject:Re: [rest-discuss] REST requires HTTP or other transports<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5263<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-10-06 13:31:08<br>
Subject:Re: [rest-discuss] REST requires HTTP or other transports<br>
Message:<br><br>
<pre>On Thu, 2005-10-06 at 08:53 -0400, Jeoff Wilks wrote:
&gt; The course-grained style makes it relatively easy to patch systems
&gt; together on a single message bus. The primary deficiency, as Hugh
&gt; mentioned, is the lack of a standardized wire protocol, which prevents
&gt; internet-scale messaging.

And hypermedia.  And caching/cache-control.  And pull vs. push.

...jsled
-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5264<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2005-10-07 00:06:03<br>
Subject:Re: [rest-discuss] REST requires HTTP or other transports<br>
Message:<br><br>
<pre>And all notions of state management....

When I see "GET [uri]". I know what the response represents,
and I know that the operation did not change the state of the resource
at [uri].  In other words, I know something of application behavior.

When I see "SEND [queue_id, msg_id]", I know nothing of
application behavior.  Did this SEND affect the outcome of some
future RECEIVE?  The answer is not in the protocol.

A system in which all resources are messages is not in application
space.

The similarity is skin deep at best.

Walden

----- Original Message ----- 
From: "Josh Sled" &lt;jsled@...&gt;
To: "Jeoff Wilks" &lt;jeoffwilks@...&gt;
Cc: "Rest List" &lt;rest-discuss@yahoogroups.com&gt;
Sent: Thursday, October 06, 2005 9:31 AM
Subject: Re: [rest-discuss] REST requires HTTP or other transports


: On Thu, 2005-10-06 at 08:53 -0400, Jeoff Wilks wrote:
: &gt; The course-grained style makes it relatively easy to patch systems
: &gt; together on a single message bus. The primary deficiency, as Hugh
: &gt; mentioned, is the lack of a standardized wire protocol, which prevents
: &gt; internet-scale messaging.
:
: And hypermedia.  And caching/cache-control.  And pull vs. push.
:
: ...jsled
: -- 
: http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`
:
:
:
:
: Yahoo! Groups Links
:
:
:
:
:
:
:
:
:
: __________ NOD32 1.1245 (20051006) Information __________
:
: This message was checked by NOD32 antivirus system.
: http://www.eset.com
:
: 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5265<br>
Sender:Jeoff Wilks &lt;jeoffwilks@...&gt;<br>
Post Date/Time:2005-10-07 12:48:46<br>
Subject:Re: [rest-discuss] REST requires HTTP or other transports<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5266<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2005-10-07 20:07:02<br>
Subject:Re: [rest-discuss] REST requires HTTP or other transports<br>
Message:<br><br>
<pre>On Oct 7, 2005, at 5:48 AM, Jeoff Wilks wrote:

&gt;  The difference in verbs illustrates the push vs. pull difference. In 
&gt; fact, Fielding argues in his dissertation that push-vs-pull is the key 
&gt; difference. He also states that a push model can not scale to web 
&gt; levels, though I question this assertion.

So would I if that was what I wrote, but it isn't. Dissertations
are a successful walk through a minefield -- summarizing them
is not.  One of the professors who signed my dissertation,
David S. Rosenblum, was working at the time on Internet-scale
event-based notification systems.

   &lt;http://www.ics.uci.edu/~irus/wisen/index-old.html&gt;

You might want to look at Rohit's dissertation for more exploration.
   &lt;http://www.ics.uci.edu/~rohit/&gt;

&gt;  "The interaction method of sending representations of resources to 
&gt; consuming components has some parallels with event-based integration 
&gt; (EBI) styles. The key difference is that EBI styles are push-based. 
&gt; The component containing the state (equivalent to an origin server in 
&gt; REST) issues an event whenever the state changes, whether or not any 
&gt; component is actually interested in or listening for such an event. In 
&gt; the REST style, consuming components usually pull representations. 
&gt; Although this is less efficient when viewed as a single client wishing 
&gt; to monitor a single resource, the scale of the Web makes an 
&gt; unregulated push model infeasible."
&gt;  -5.4 (paragraph 4) - 
&gt; http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm

Unregulated push models are infeasible on the Web.  There needs to
be something regulating the flow of events, which means aggregations
and source-based filtering.  I did not even attempt to address that
topic because it wasn't *my* topic.

&gt; For reference/archive data, a pull model definitely makes the most 
&gt; sense. Yet the pull model shows cracks when used for real-time 
&gt; delivery scenarios like RSS.

I think the key thing that people should learn from my dissertation
is that principled design means thinking about the problem you want
to solve first, within the context you need to solve it, and then
selectively applying constraints to get the properties you want.
REST was just one example of that method.  A natural "next step"
would be to look at a different problem (say, ISENs) and see what
additional constraints could be added to EBI in order to make it
more scalable.  I would not start with REST as the basis.

&gt; It seems to me that you could take all the other benefits of REST 
&gt; (standardized wire protocol, URIs, distributed caching, limited verb 
&gt; set) and apply it to a push model (perhaps over XMPP) and see the end 
&gt; of problems like this:
&gt;
&gt;   "...InfoWorld.com now sees a massive surge of RSS newsreader 
&gt; activity at the top of every hour, presumably because most people 
&gt; configure their newsreaders to wake up at that time to pull their 
&gt; feeds. If I didn't know how RSS worked, I would think we were being 
&gt; slammed by a bunch of zombies sitting on compromised home PCs."
&gt;  - http://www.infoworld.com/article/04/07/16/29OPconnection_1.html

Er, or they could just contract with Akamai and they would never
see any "massive surge". *shrug*

Push models suffer from a major social problem: those that gain the
most are the least likely to pay for it.  For example, every news
service thinks that they are the center of the universe.  Consider
what would happen if every blog client received an event whenever
a story was published that the news service *thinks* is worthy of
their immediate attention.  We already know what happens: SPAM.
To solve the scalability problem you will first need to regulate
that social problem, because publishers will not self-regulate.

It is, however, one heck of a dissertation topic.

Cheers,

Roy T. Fielding                            &lt;http://roy.gbiv.com/&gt;
Chief Scientist, Day Software              &lt;http://www.day.com/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5267<br>
Sender:"iuridiniz" &lt;iuridiniz@...&gt;<br>
Post Date/Time:2005-10-07 20:57:04<br>
Subject:Auth a user<br>
Message:<br><br>
<pre>Hi people,

   I'm new in REST universe and I want to validate a user with a
password using REST philosofy, but the unique method that I thought
was using a RPC like model:

---- 

   POST /auth HTTP/1.1
   Content-Legth: 29

   username=iuri&amp;password=123456

-----

   200 OK
   
   True

-----

   I only want to know if a user is valid or invalid and no data about it.

   Is possible to make this using REST?


best regards,
Iuri Diniz [ http://clx.digi.com.br ]






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5268<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-10-08 04:44:51<br>
Subject:Re: [rest-discuss] Auth a user<br>
Message:<br><br>
<pre>To get the state of a user you would use GET:

GET /auth/users.cgi?user=iuri HTTP/1.0
Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==

200 OK
Content-Type=text/plain

user=iuri
status=active
encrypted-password=9AOS9GF7A0S0


====
Passing a password is possibly a poor approach for protecting peoples 
permissions. You'll need to think of an approach that isn't sending 
sensitive data. You may want to require authorization to check the status of 
a user resource as well.





----- Original Message ----- 
From: "iuridiniz" &lt;iuridiniz@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Friday, October 07, 2005 1:57 PM
Subject: [rest-discuss] Auth a user


&gt; Hi people,
&gt;
&gt;   I'm new in REST universe and I want to validate a user with a
&gt; password using REST philosofy, but the unique method that I thought
&gt; was using a RPC like model:
&gt;
&gt; ---- 
&gt;
&gt;   POST /auth HTTP/1.1
&gt;   Content-Legth: 29
&gt;
&gt;   username=iuri&amp;password=123456
&gt;
&gt; -----
&gt;
&gt;   200 OK
&gt;
&gt;   True
&gt;
&gt; -----
&gt;
&gt;   I only want to know if a user is valid or invalid and no data about it.
&gt;
&gt;   Is possible to make this using REST?
&gt;
&gt;
&gt; best regards,
&gt; Iuri Diniz [ http://clx.digi.com.br ]
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5269<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-10-08 08:40:13<br>
Subject:Re: [rest-discuss] Auth a user<br>
Message:<br><br>
<pre>"iuridiniz" &lt;iuridiniz@...&gt; writes:

&gt; Hi people,
&gt;
&gt;    I'm new in REST universe and I want to validate a user with a
&gt; password using REST philosofy, but the unique method that I thought
&gt; was using a RPC like model:
&gt;
&gt; ---- 
&gt;
&gt;    POST /auth HTTP/1.1
&gt;    Content-Legth: 29
&gt;
&gt;    username=iuri&amp;password=123456
&gt;
&gt; -----
&gt;
&gt;    200 OK
&gt;    
&gt;    True
&gt;
&gt; -----
&gt;
&gt;    I only want to know if a user is valid or invalid and no data about it.
&gt;
&gt;    Is possible to make this using REST?
&gt;

HTTP authentication? TLS/SSL?



Nic Ferrier

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5270<br>
Sender:Mark Nottingham &lt;mnot@...&gt;<br>
Post Date/Time:2005-10-08 17:15:49<br>
Subject:/foo vs. /foo/<br>
Message:<br><br>
<pre>One of the problems that I keep on bumping up against is "what's a  
good data model for a URI?" In particular, how do you represent the  
path?

(For the purposes of discussion, restrict this to HTTP URIs)

The appropriate BNF from 3986 is:

   path-absolute = "/" [ segment-nz *( "/" segment ) ]
   segment       = *pchar
   segment-nz    = 1*pchar
   pchar         = unreserved / pct-encoded / sub-delims / ":" / "@"

The tricky part for me is the possibility of an empty last segment;  
e.g., "/foo" vs. "/foo/" (The BNF allows empty segments elsewhere as  
well, but that's less common).

So, how do you model this in, for example, XML*? The intuitive

1.)
&lt;path&gt;
   &lt;segment&gt;foo&lt;/segment&gt;
&lt;path&gt;

doesn't distinguish between these cases. The alternative is to allow  
an empty segment;

2.)
&lt;path&gt;  &lt;!-- /foo/ --&gt;
   &lt;segment&gt;foo&lt;/segment&gt;
   &lt;segment/&gt;
&lt;/path&gt;

Meaning that (1) would be interpreted as "/foo".

An alternative is to put the slash in the segment, which isn't as  
close to the BNF, but maybe a bit more intuitive; e.g.,

3.)
&lt;path&gt; &lt;!-- /foo/ --&gt;
    &lt;segment&gt;/foo&lt;/segment&gt;
    &lt;segment&gt;/&lt;/segment&gt;
&lt;/path&gt;

A variant is to glob the *trailing* slash on each segment if present;

4.)
&lt;path&gt; &lt;!--- /foo/ --&gt;
   &lt;segment&gt;foo/&lt;/segment&gt;
&lt;/path&gt;

What are people's preferences? I like #2 best, but the empty segment  
is a bit of a special case, and not quite so obvious, I fear.

* There are certainly better ways to model data, but XML is probably  
the most intuitive for humans to read these days.

--
Mark Nottingham     http://www.mnot.net/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5271<br>
Sender:"Justin T. Sampson" &lt;justin@...&gt;<br>
Post Date/Time:2005-10-08 20:57:56<br>
Subject:RE: [rest-discuss] /foo vs. /foo/<br>
Message:<br><br>
<pre>Mark Nottingham wrote:

&gt; One of the problems that I keep on bumping up against is "what's a  
&gt; good data model for a URI?" In particular, how do you represent the  
&gt; path?

I usually leave it as a single string, which makes it really easy to
do pattern matching: &lt;path&gt;/foo/&lt;/path&gt;

I just wrote some code using your #1 (parsing into a List&lt;String&gt; in
Java); I decided to not worry about the distinction between /foo
and /foo/ for the moment. (This is just for parsing the path for the
purpose of servicing a request; my preference is for /foo to redirect
to /foo/, but I didn't bother with that this time.)

Another option would be closer to the grammar:
&lt;path&gt;
    &lt;separator /&gt;
    &lt;segment&gt;foo&lt;/segment&gt;
    &lt;separator /&gt;
&lt;/path&gt;

Besides that my favorite aesthetically is your #3, which is also close
to the grammar. But of course it all depends on what you're doing with
it...

Cheers,
Justin


&gt; (For the purposes of discussion, restrict this to HTTP URIs)
&gt; 
&gt; The appropriate BNF from 3986 is:
&gt; 
&gt;    path-absolute = "/" [ segment-nz *( "/" segment ) ]
&gt;    segment       = *pchar
&gt;    segment-nz    = 1*pchar
&gt;    pchar         = unreserved / pct-encoded / sub-delims / ":" / "@"
&gt; 
&gt; The tricky part for me is the possibility of an empty last segment;  
&gt; e.g., "/foo" vs. "/foo/" (The BNF allows empty segments elsewhere as  
&gt; well, but that's less common).
&gt; 
&gt; So, how do you model this in, for example, XML*? The intuitive
&gt; 
&gt; 1.)
&gt; &lt;path&gt;
&gt;    &lt;segment&gt;foo&lt;/segment&gt;
&gt; &lt;path&gt;
&gt; 
&gt; doesn't distinguish between these cases. The alternative is to allow  
&gt; an empty segment;
&gt; 
&gt; 2.)
&gt; &lt;path&gt;  &lt;!-- /foo/ --&gt;
&gt;    &lt;segment&gt;foo&lt;/segment&gt;
&gt;    &lt;segment/&gt;
&gt; &lt;/path&gt;
&gt; 
&gt; Meaning that (1) would be interpreted as "/foo".
&gt; 
&gt; An alternative is to put the slash in the segment, which isn't as  
&gt; close to the BNF, but maybe a bit more intuitive; e.g.,
&gt; 
&gt; 3.)
&gt; &lt;path&gt; &lt;!-- /foo/ --&gt;
&gt;     &lt;segment&gt;/foo&lt;/segment&gt;
&gt;     &lt;segment&gt;/&lt;/segment&gt;
&gt; &lt;/path&gt;
&gt; 
&gt; A variant is to glob the *trailing* slash on each segment if present;
&gt; 
&gt; 4.)
&gt; &lt;path&gt; &lt;!--- /foo/ --&gt;
&gt;    &lt;segment&gt;foo/&lt;/segment&gt;
&gt; &lt;/path&gt;
&gt; 
&gt; What are people's preferences? I like #2 best, but the empty segment  
&gt; is a bit of a special case, and not quite so obvious, I fear.
&gt; 
&gt; * There are certainly better ways to model data, but XML is probably  
&gt; the most intuitive for humans to read these days.
&gt; 
&gt; --
&gt; Mark Nottingham     http://www.mnot.net/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5272<br>
Sender:Roy T. Fielding &lt;fielding@...&gt;<br>
Post Date/Time:2005-10-08 21:51:24<br>
Subject:Re: [rest-discuss] /foo vs. /foo/<br>
Message:<br><br>
<pre>On Oct 8, 2005, at 10:15 AM, Mark Nottingham wrote:

&gt; * There are certainly better ways to model data, but XML is probably
&gt; the most intuitive for humans to read these days.

Mark, you need a vacation. ;-)

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5273<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-10-09 01:06:37<br>
Subject:Re: [rest-discuss] /foo vs. /foo/<br>
Message:<br><br>
<pre>Justin T. Sampson wrote:

&gt;Mark Nottingham wrote:
&gt;
&gt; &gt; One of the problems that I keep on bumping up against is "what's a 
&gt; &gt; good data model for a URI?" In particular, how do you represent the 
&gt; &gt; path?
&gt;
&gt;I usually leave it as a single string, which makes it really easy to
&gt;do pattern matching: &lt;path&gt;/foo/&lt;/path&gt;
&gt;  
&gt;
I treat paths as tuples delimited by '/', so /foo/bar and /foo/bar/ are 
both the {foo,bar} tuple.  This abstraction hasn't caused any problems 
in terms of app architecture, and it avoids problems with apache 
configuration.

In my own mind I think of a trailing slash as the same kind of thing as 
a file extension, so foo/ is the directory under foo and foo.m3u is the 
m3u of foo, but I've never had a need to use that in practice.

- Lucas








</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5274<br>
Sender:Mark Nottingham &lt;mnot@...&gt;<br>
Post Date/Time:2005-10-09 05:36:22<br>
Subject:Re: [rest-discuss] /foo vs. /foo/<br>
Message:<br><br>
<pre>Me? Me? Why do you say that?

:)

See the whole, diseased history of this line of thinking here:

http://www.mnot.net/blog/2004/05/12/on_infosets
http://www.mnot.net/blog/2004/05/28/other_data_models
http://www.mnot.net/blog/2005/03/02/decision_tree
http://www.mnot.net/blog/2005/08/10/separate


P.S. In less than a month, I'll be in Hawaii, and everything will be  
O.K. (I keep repeating that to myself)


On 08/10/2005, at 2:51 PM, Roy T.Fielding wrote:

&gt; On Oct 8, 2005, at 10:15 AM, Mark Nottingham wrote:
&gt;
&gt;
&gt;&gt; * There are certainly better ways to model data, but XML is probably
&gt;&gt; the most intuitive for humans to read these days.
&gt;&gt;
&gt;
&gt; Mark, you need a vacation. ;-)
&gt;
&gt; ....Roy
&gt;
&gt;
&gt;


--
Mark Nottingham     http://www.mnot.net/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5275<br>
Sender:Sandeep Shetty &lt;sandeep.shetty@...&gt;<br>
Post Date/Time:2005-10-09 10:35:31<br>
Subject:Re: [rest-discuss] /foo vs. /foo/<br>
Message:<br><br>
<pre>On 10/9/05, Lucas Gonze &lt;lgonze@...&gt; wrote:
&gt; I treat paths as tuples delimited by '/', so /foo/bar and /foo/bar/ are
&gt; both the {foo,bar} tuple.  This abstraction hasn't caused any problems
&gt; in terms of app architecture, and it avoids problems with apache
&gt; configuration.

Treating it as a tuple (foo,bar) works for me as well.

BTW, when I see {foo,bar} my mind parses that as a set :)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5276<br>
Sender:Jeoff Wilks &lt;jeoffwilks@...&gt;<br>
Post Date/Time:2005-10-09 12:51:13<br>
Subject:Re: [rest-discuss] REST requires HTTP or other transports<br>
Message:<br><br>
<pre>On 10/7/05, Roy T. Fielding &lt;fielding@...&gt; wrote:
&gt; &gt; [...] the scale of the Web makes an unregulated push model infeasible."
&gt; &gt;  -5.4 (paragraph 4) -
&gt; &gt; http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm
&gt;
&gt; Unregulated push models are infeasible on the Web. [...]

My mistake. Re-reading with emphasis on "unregulated" I now see
exactly what you were saying.

Looking at Rohit's &lt;http://www.ics.uci.edu/~rohit/&gt; dissertation, he
presents a number of REST variations, culminating in what he calls
ARRESTED - Asynchronous Routed REST with Estimates and Decentralized
Decisions.

&gt; Push models suffer from a major social problem: those that gain the
&gt; most are the least likely to pay for it.  For example, every news
&gt; service thinks that they are the center of the universe.  Consider
&gt; what would happen if every blog client received an event whenever
&gt; a story was published that the news service *thinks* is worthy of
&gt; their immediate attention.  We already know what happens: SPAM.
&gt; To solve the scalability problem you will first need to regulate
&gt; that social problem, because publishers will not self-regulate.

Agreed: spam is a serious side effect of push models.

If all SMTP messages had a universal resource identifier then perhaps
spam problems could be mitigated more effectively? For example,
imagine if SMTP messages were restricted so that they contain only the
equivalent of an HTTP "302 Found" response. The message itself is not
allowed to contain any content, only a Location header describing
where to GET the content. Because the GET requires the information
source to positively identify itself by means of a Location/URI, there
is some protection there. The value proposition for spammers goes
down: while they can still send messages, they can't deliver *content*
anonymously. A recipient that has never subscribed to that URI can
simply discard it without retrieving the content; or check the URI
against a spam registry prior to downloading content; etc.

The presence subscription approach used in instant messaging systems
also seems to be a fairly effective way of managing the social
problem. By forcing publishers to gain a presence subscription prior
to letting any of their messages through, you take away much of the
value of sending unsolicited messages. If SMTP required the use of
URIs to retrieve content, then email clients could also support
subscription-like capabilities.

&gt; [...] I would not start with REST as the basis.

Yes, but this is REST-Discuss, where REST is at the center of the world.  :)

--Jeoff Wilks

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5277<br>
Sender:=?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;bill@...&gt;<br>
Post Date/Time:2005-10-09 14:39:05<br>
Subject:Re: [rest-discuss] /foo vs. /foo/<br>
Message:<br><br>
<pre>Mark Nottingham wrote:

&gt; What are people's preferences? I like #2 best, but the empty segment 
&gt; is a bit of a special case, and not quite so obvious, I fear.

I'm really down on defaults these days. So if you're not going on
vacation, it would be #3 ;)

I liked Lucas' syntax btw; maybe y'all should use json or python tuples :).

cheers
Bill




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5278<br>
Sender:Grant Murray &lt;email@...&gt;<br>
Post Date/Time:2005-10-09 15:42:35<br>
Subject:URI choice for PUT<br>
Message:<br><br>
<pre>Assume resources
  http://example.com/customer/2340
  http://example.com/customer/2341
  http://example.com/customer/2342
  http://example.com/customer/2343
  http://example.com/customer/2344
exist.

Some client has a new resource to add.
What URI does the client choose to PUT to? There is no guarantee that 
http://example.com/customer/2345 is the next unused resource name. I 
contend there is no way to _reliably_ determine what the next unused 
resource name is.

Possible solutions are:

1. PUT to http://example.com/customer/FinishingFactory
and get the actual resource name used returned in some fashion.
Either as a redirect or response body like
&lt;customer xlink:href="http://example.com/customer/2349"/&gt;

2. Never use sequential resource names. Then each client that
adds a new resource can use a scheme for coming up with a universal
unique identifier, which would lead to resources named like:
  http://example.com/customer/ajd82hdueofnsk34iuvnk2kai9fkfj1jfkmn

Usually when I have REST questions I just look to the www to get the answer
unfortunately PUT is not used nearly enough on the web to work out the 
answer.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5279<br>
Sender:=?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;bill@...&gt;<br>
Post Date/Time:2005-10-09 16:32:55<br>
Subject:Re: [rest-discuss] URI choice for PUT<br>
Message:<br><br>
<pre>Grant Murray wrote:

&gt; Possible solutions are:
&gt; 
&gt; 1. PUT to http://example.com/customer/FinishingFactory
&gt; and get the actual resource name used returned in some fashion.
&gt; Either as a redirect or response body like
&gt; &lt;customer xlink:href="http://example.com/customer/2349"/&gt;
&gt; 
&gt; 2. Never use sequential resource names. Then each client that
&gt; adds a new resource can use a scheme for coming up with a universal
&gt; unique identifier, which would lead to resources named like:
&gt;   http://example.com/customer/ajd82hdueofnsk34iuvnk2kai9fkfj1jfkmn
&gt; 
&gt; Usually when I have REST questions I just look to the www to get the answer
&gt; unfortunately PUT is not used nearly enough on the web to work out the
&gt; answer.

This only indirectly answers your question, but

 - for messaging (HTTPLR) I came to the conclusion that URLs be issued
by the server via a Location header. The client hasn't got a clue about
structure and therefor about what might or might be the next unused
name; it's just a robot following a pre-determined set of HTTP calls.

 - for blogging, (Atom) POST the messages to a Collection resource
(which might be http://example.com/customer/ in your case) that gives
you the URI for the created entry resource via a Location header.  The
next rev of the Atom protocol will be out soon, and there should be
enough in there to get that idea across.

Both of these are similar at a high level. The guideline seems to be
this: HTTP clients never generate URLs for resource creation.

The other main reason I see sequential numbers being a bad idea on the
web is that they're often derived from a database's primary keys. A lot
of blogging software works like this and it's problematic if you expect
 the URLs to have permanency.

cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5280<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-10-09 19:27:07<br>
Subject:Re: [rest-discuss] URI choice for PUT<br>
Message:<br><br>
<pre>
&gt; Some client has a new resource to add.
&gt; What URI does the client choose to PUT to? There is no guarantee that
&gt; http://example.com/customer/2345 is the next unused resource name. I
&gt; contend there is no way to _reliably_ determine what the next unused
&gt; resource name is.
There are large number of unused resources, what is your definition of 
'next', and what is the significance of sequence for these resources?

With PUT, the client could decide the URI to use &amp; have an algorithm for 
determining some  (locally) unused URI - but it seems that you need some 
sort of sequencing or pre-approved set of URI. Perhaps the server could 
pre-allocate a large number of URI that satisfy the requirements &amp; the 
client could GET that list. The client might be able to use a request header 
of "if-none-match: *" to prevent a collision.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5281<br>
Sender:Grant Murray &lt;email@...&gt;<br>
Post Date/Time:2005-10-09 20:33:58<br>
Subject:Re: [rest-discuss] URI choice for PUT<br>
Message:<br><br>
<pre>S. Mike Dierken wrote:

&gt;&gt;Some client has a new resource to add.
&gt;&gt;What URI does the client choose to PUT to? There is no guarantee that
&gt;&gt;http://example.com/customer/2345 is the next unused resource name. I
&gt;&gt;contend there is no way to _reliably_ determine what the next unused
&gt;&gt;resource name is.
&gt;&gt;    
&gt;&gt;
&gt;There are large number of unused resources, what is your definition of 
&gt;'next', and what is the significance of sequence for these resources?
&gt;  
&gt;
'next' : next in the sequence.

Often data modellers choose sequences without good reason.
For example 1: Slashdot users get the number numerically,
indicating some kind of seniority.
For example 2: Bug databases love to use sequences as identifiers
because it is an immediate way of noticing recent activity.

What if we were modelling a position in a queue?
Resource "http://example.com/queue/44" has to wait less than
"http://example.com/queue/45". In this case sequential resource
names seems natural and non-sequential resource names seems
a little artificial although quite workable.

I suppose non-contiguous sequential resource names are a possibility
like, http://example.com/something/20051008.132202.997783. Name
collisions are unlikely but sequencing errors are almost guaranteed,
especially when clients have unsynchronized clocks.

In general, (it seems to me), there are only two ways to manage
resource naming for PUT.

1) Some agreement on naming scheme between server and all clients.

2) The server always names the new resource, and clients always PUT
to some collection resource (or resource creation proxy) that provides
the final name.

In the above 2) is really a special case of 1). The only difference is that
in 2) the server can unilaterally enforce the scheme.

&gt;With PUT, the client could decide the URI to use &amp; have an algorithm for 
&gt;determining some  (locally) unused URI - but it seems that you need some 
&gt;sort of sequencing or pre-approved set of URI. Perhaps the server could 
&gt;pre-allocate a large number of URI that satisfy the requirements &amp; the 
&gt;client could GET that list. The client might be able to use a request header 
&gt;of "if-none-match: *" to prevent a collision.
&gt;
&gt;  
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5282<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-10-10 01:15:37<br>
Subject:Re: [rest-discuss] URI choice for PUT<br>
Message:<br><br>
<pre>&gt; In general, (it seems to me), there are only two ways to manage
&gt; resource naming for PUT.
&gt;
&gt; 1) Some agreement on naming scheme between server and all clients.
&gt;
&gt; 2) The server always names the new resource, and clients always PUT
&gt; to some collection resource (or resource creation proxy) that provides
&gt; the final name.
&gt;
&gt; In the above 2) is really a special case of 1). The only difference is 
&gt; that
&gt; in 2) the server can unilaterally enforce the scheme.

The 2) would have to be a POST, as the PUT request contains the URI of the 
resource. A PUT request means "make the resource 'uri123xyz' look like this 
content" - the client has to already know the URI.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5283<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-10-10 01:20:29<br>
Subject:Re: [rest-discuss] URI choice for PUT<br>
Message:<br><br>
<pre>&gt;
&gt; What if we were modelling a position in a queue?
&gt; Resource "http://example.com/queue/44" has to wait less than
&gt; "http://example.com/queue/45". In this case sequential resource
&gt; names seems natural and non-sequential resource names seems
&gt; a little artificial although quite workable.
I'll skip the analogy to C++ pointers and memory addresses, and suggest that 
a document with explicit 'next' and 'prev' URI references work for a queue 
and even allow for the resource to be resident on different hosts or 
organizations.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5284<br>
Sender:toydi &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-10-10 09:53:52<br>
Subject:Re: [rest-discuss] URI choice for PUT<br>
Message:<br><br>
<pre>On 10/10/05, Grant Murray &lt;email@...&gt; wrote:

&gt; In general, (it seems to me), there are only two ways to manage
&gt; resource naming for PUT.
&gt;
&gt; 1) Some agreement on naming scheme between server and all clients.
&gt;
&gt; 2) The server always names the new resource, and clients always PUT
&gt; to some collection resource (or resource creation proxy) that provides
&gt; the final name.
&gt;
&gt; In the above 2) is really a special case of 1). The only difference is that
&gt; in 2) the server can unilaterally enforce the scheme.

Maybe we can look on the intention of a request.

If a client request to server, "please use this XML data to create a
new entry".
Here, "create a new entry" is the main intention. Therefore, we can
simply let the server
to do all the job, and tell us the Location of that newly created entry.

If a client request to server, "please place this image file on that
particular place,
as it is already referenced in my article". Here, "the location of the
image file" becomes
important. So, it's wise for the client to provide the actual location
to server.

When we create a new resource, PUT can be used when "the location" of
the resource is rather important, and we want to specify it ourselves.
(In this case, if the location has been used, mostly the old content
will be replaced by the new one).

Otherwise, it's nice to just POST your data to server, and let the
server to "serve" (to do all the job for) you. :-)

Any comments?

--
-toydi-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5285<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-10-10 23:11:31<br>
Subject:Re: [rest-discuss] REST requires HTTP or other transports<br>
Message:<br><br>
<pre>Jeoff Wilks wrote:

&gt;Agreed: spam is a serious side effect of push models.
&gt;
&gt;If all SMTP messages had a universal resource identifier then perhaps
&gt;spam problems could be mitigated more effectively? For example,
&gt;imagine if SMTP messages were restricted so that they contain only the
&gt;equivalent of an HTTP "302 Found" response. The message itself is not
&gt;allowed to contain any content, only a Location header describing
&gt;where to GET the content. Because the GET requires the information
&gt;source to positively identify itself by means of a Location/URI, there
&gt;is some protection there. The value proposition for spammers goes
&gt;down: while they can still send messages, they can't deliver *content*
&gt;anonymously. A recipient that has never subscribed to that URI can
&gt;simply discard it without retrieving the content; or check the URI
&gt;against a spam registry prior to downloading content; etc.
&gt;  
&gt;
I have beat this hobbyhorse before, so have to apologize to the many 
people who have already seen it, but my "Secure Protocol for Desktop Web 
Servers" design uses this same strategy of having all push data be tied 
to a subscription: http://www.gonze.com/http-notifications.html

Using that method, a push message is not allowed to contain any content, 
but only a notice that content may be pulled.  The location of a pull is 
fixed before the push arrives, so that pushees ("sinks") can't be 
tricked into pulling content they didn't want.  A pushee can't even 
receive a notice without prior arrangement.  Overall, this system should 
be no more susceptible to spam than pull-based systems.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5286<br>
Sender:Jeoff Wilks &lt;jeoffwilks@...&gt;<br>
Post Date/Time:2005-10-11 00:53:05<br>
Subject:Re: [rest-discuss] REST requires HTTP or other transports<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5287<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-10-11 02:09:56<br>
Subject:Re: [rest-discuss] REST requires HTTP or other transports<br>
Message:<br><br>
<pre>Jeoff Wilks wrote:

&gt;Lucas,
&gt;
&gt;Interesting paper, and one I had not seen before (as a relative newcomer to
&gt;rest-discuss).
&gt;
&gt;One possible addition to your work: since many clients sit behind firewalls,
&gt;it seems that HTTP proxying would need to be extended for notification
&gt;purposes as well. For example, a firewalled sink is unable to receive
&gt;notifications directly. As an alternative, it could maintain a connection
&gt;with a proxy server, and receive its notifications via that server.
&gt;  
&gt;
Agreed. 

Let's say there is a proxy sitting on the corporate firewall, and the 
proxy is able to initiate traffic within the firewall.  Using my 
handshake, the client would send a callback URI which was hosted by the 
proxy server, then arrange for a pickup from the proxy using the 
standard method.

Such a proxy would indeed be a lot like http://www.w3.org/TR/WD-proxy.

- :Lucas


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5288<br>
Sender:"elseielstad" &lt;elseielstad@...&gt;<br>
Post Date/Time:2005-10-11 03:26:25<br>
Subject:Re: URI choice for PUT<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, Grant Murray &lt;email@g...&gt; wrote:
&gt; Some client has a new resource to add.
&gt; What URI does the client choose to PUT to? There is no guarantee that 
&gt; http://example.com/customer/2345 is the next unused resource name. I 
&gt; contend there is no way to _reliably_ determine what the next unused 
&gt; resource name is.
  
   personally - I think you're over-complicating the issue.
   
   all the client-applications shouldn't need to maintain your queue
-- they just PUT a uniquely named request, your server can then
process the requests in whatever order it chooses.

   in the REST model, your client may wish to come back and update a
request you can just "PUT" a new copy of your request.

   Similarly, RFC2068 (http) and it's successor rfc2616 both allow for
the server to return a 301-response (Moved Permanently) to a PUT
request.  Presumably, since your REST application uses some kind of
user authentication, once a resource is created, then when some other
user tries to PUT the same name, they get a 301-redirect and can then
try a different identifier.

    --es




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5289<br>
Sender:Mark McKeown &lt;zzalsmm3@...&gt;<br>
Post Date/Time:2005-10-14 11:10:52<br>
Subject:Using the Paxos Alogrithm and REST for Grid Computing<br>
Message:<br><br>
<pre>

Hi folks,
         We have designed and built a co-allocation
service for grid computing (eg a service that reserves
two or more resources, compute or network, at a
paricular time) using REST and Lamport's Paxos algorithm
for consensus.

There are two presentations of the work (one includes a pointer
to code) - they are in ppt:
http://www.kato.mvc.mcc.ac.uk/rss-wiki/AdvanceReservationAndCoAllocation?action=AttachFile&amp;do=get&amp;target=manchester-09-09-2005-1.1.ppt
http://www.cct.lsu.edu/personal/maclaren/Talks/cct-paxos-graap.ppt

and a Wiki page:
http://www.kato.mvc.mcc.ac.uk/rss-wiki/AdvanceReservationAndCoAllocation

There is a debate whether it really is RESTful...

Interestingly I am not sure if we could have used the same
approach using SOAP, we nest signed XML messages inside a
message which is split up by the co-allocation service and
parts are forwarded to the different resource managers. I am not
sure how this could be done using SOAP, WS-Addressing and
WS-Security - we would need SOAP messages inside other
SOAP messages. We could tunnel our XML through SOAP I guess.

Maybe someone will find this interesting.

cheers
Mark







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5290<br>
Sender:toydi &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-10-14 12:42:55<br>
Subject:Dreams about ReSTifying web apps<br>
Message:<br><br>
<pre>Recently I dreamed about a *web utopia*.

In this *utopia*, all kinds of today's killer web apps (i.e. forum,
wiki, cms, portals, weblog etc) have adopted ReST and started to form
a wonderful scene: they are able to integrate each others
functionality, exchanging information among themselves seamlessly and
even happily inviting desktop &amp; mobile apps to join in their big
family.

(Is it possible in reality? Dream is dream.. )

Another night, I dreamed again, about the early stage of *utopia*. I
saw developers are using a kind of method to model and identify
resources for each web apps.

Next, they use a kind of _common_description_language_ to describe
each resource, to record their characteristics (i.e. which request
they process, what representation they accept &amp; return).

They even record relationships between resources (i.e. resource A
creates resource B), allow new resources derived from current
resources, and even support versioning in resource description.

The same time, I saw developers have already identified a list of
_essential_needs_ in order to adopt ReST style in apps. Based on the
list, they start to build _application_ frameworks_ in different
languages, creating _stardard_libraries_ and porting to each
languages.

Using the frameworks &amp; libraries, they start to select resources
needed for their application from a resource description list and turn
each resource into binaries. Rather than re-write the codes, they also
reuse the available resource binaries.

And i saw, more and more open communities are rapidly publishing
resource packages for particular web apps. Developers will choose
resources they need and assemble them into their apps. Rather than
maintain their own resources, some apps decide to simply subscribe
other apps' resources via web...guess what, i even saw IDE toolkits
available!

(am i too naive to believe this day will come?)

In a sudden, I woke up and immediately, I ask myself, was that a dream?
I crawled back to my desk, booted up my old p3 box, googled a quoted
string "restful web utopia".

Google replied:
Your search - "restful web utopia" - did not match any documents.


--
-toydi-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5291<br>
Sender:"Andrzej Jan Taramina" &lt;andrzej@...&gt;<br>
Post Date/Time:2005-10-14 16:06:52<br>
Subject:Re: Dreams about ReSTifying web apps<br>
Message:<br><br>
<pre>toydi dreamed:

&gt; In this *utopia*, all kinds of today's killer web apps (i.e. forum,
&gt; wiki, cms, portals, weblog etc) have adopted ReST and started to form a
&gt; wonderful scene: they are able to integrate each others functionality,
&gt; exchanging information among themselves seamlessly and even happily
&gt; inviting desktop &amp; mobile apps to join in their big family.

I'ld like to have some of what you took before going to sleep!  Nice trip!  
;-)


Andrzej Jan Taramina
Chaeron Corporation: Enterprise System Solutions
http://www.chaeron.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5292<br>
Sender:Bob Haugen &lt;bob.haugen@...&gt;<br>
Post Date/Time:2005-10-14 16:42:35<br>
Subject:Re: [rest-discuss] Using the Paxos Alogrithm and REST for Grid Computing<br>
Message:<br><br>
<pre>On 10/14/05, Mark McKeown &lt;zzalsmm3@...&gt; wrote:
&gt; Maybe someone will find this interesting.

I find it very interesting.  Haven't completely digested yet, but will
re-study over weekend.

I was a member of the GridForum Transaction Management Research Group.
Final report:
http://forge.gridforum.org/projects/tm-rg/document/Report_of_the_Transaction_Management_Research_Group/en/4
Use cases:
http://forge.gridforum.org/projects/tm-rg/document/Transaction_Use_cases/en/4

Your "hold" concept is very similar to what some of us called the
"provisional-final" transaction pattern and what others called
"Options".

We didn't consider Paxos, but it was mentioned in side discussions. 
(Ran out of time and chairs.)

I personally thought REST would be better than some of the
architectures we discussed, but I was the only member of the group who
held this opinion.  I think that some variation on a provisional-final
pattern would fit well into a REST architecture.

One quibble:  2-phase commit does not require resource locking. That's
only the ACID rules, and even then, paraphrasing something I think Roy
Fielding said on this list, how the resource manager protects its
resources is its own business and others won't know anyway.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5293<br>
Sender:Laurian Gridinoc &lt;laurian@...&gt;<br>
Post Date/Time:2005-10-15 07:52:42<br>
Subject:Re: [rest-discuss] Dreams about ReSTifying web apps<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5294<br>
Sender:toydi &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-10-15 15:05:39<br>
Subject:Re: [rest-discuss] Dreams about ReSTifying web apps<br>
Message:<br><br>
<pre>On 10/15/05, Laurian Gridinoc &lt;laurian@...&gt; wrote:

&gt;  I think a "RESTful Design Patterns" book/wiki may make a step in this
&gt; direction, imagine a place where you may find all the killer webapps you
&gt; named it, restified, analysed, and their interoperability demonstrated.
&gt;
&gt;  Upon such community discussed and agreed patterns, interoperable APIs will
&gt; spawn easily.

here's some more organized thoughts about the *dream* ;)

1) Find a good way to analyze, model, describe &amp; discuss Resources

Rather than looking an application as a whole, will it be better to
break it down into atomical resources, which only represent each
single functionality? (i.e. in a forum app, we have "Forum" resource,
"Thread" resource &amp; "User" resource)

Resource looks quite object-oriented, will it be efficient to just use
object-oriented techniques &amp; tools (i.e. UML) in order to figure out
all needed resources for each app?

How are we going to describe these resources to allow further
discussion between community? What we need to describe? (resource's
characteristic, relationship between resources, version of resource?)
What we use to describe, and how? (RDF, WSDL, TopicMap? and agree with
a standard describing convention?).


2) Figure out basic needs to build ReSTful apps

Which part of codes that we repeat in every restful web app? (URL
Mapper, Resource Manager, HTTP Authentication, HTTP Cache, URL
Parser?)

Build (or reuse any?) a API library to handle HTTP (Cache,
Authentication, ConNeg, URL Parser, Request &amp; Response etc)?

Analyze and list out what essential things needed in a ReSTful
application framework, next build frameworks for different platforms
(or reuse current frameworks?)


3) Start to build and run ReSTful apps in Web

Will it be nice to start with building some killer web apps, to allow
ourselves to experience &amp; understand what's the real benefits of
adopting ReST? to figure out what we missed and things to fix in (1)
and (2).

Is it possible to see an app as a collection of resources rather than
a whole? And we can always remove them or reassemble them to customize
our app.


4) Is this a right direction to start?

If yes, where to start, when to start, who will join?
If no, any suggestions? :-)

It's just a *utopia*, and I think it has been re-appearing in ppl's
dreams long before CORBA, RMI, and ReST... and it will keeps repeating
in future. A dream of no barrier in communications (the babel tower?)

Cheers, :-)

--
-toydi-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5295<br>
Sender:Jeff Morgan &lt;jeffmorgan_98@...&gt;<br>
Post Date/Time:2005-10-15 15:57:51<br>
Subject:Resource Representations<br>
Message:<br><br>
<pre>I am just coming up to speed on RESTful architectures and have been 
reading a bunch of stuff however I have a question which I hope someone 
might weigh in on.

What would be acceptable practice to support a resource that may have 
multiple representations (text/xml, text/html, image/gif, image/jpeg, 
etc) with a desiredrepresentation specified by the accessor. The 
particular instance I am thinking of is when a resource supports web 
service access and web browser access. In the former and XML based 
representation would be used while in the latter the resource would be 
represented as HTML

I can think of a number of ways of doing this kind of this but would be 
interested in thoughts or accepted practice on this

For example I could use a query string

http://www.parts-depot.com/parts/00345 - returns XML representation by default
http://www.parts-depot.com/parts/00345?representas=text/xhtml - asks for a specific representation format xhtml in this case

I could use a specific resource with an implied representation
http://www.parts-depot.com/parts/00345/view - The view resource implies visual representation of the parent

I might even use the Mime-headers in the request that such as USER_AGENT or CLIENT_ACCEPTS, although 
personally don't think this would be right way to do it for a number of reasons.

Anyone have any thoughts on this..

thanks

Jeff

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5296<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-10-15 18:30:53<br>
Subject:Re: [rest-discuss] Resource Representations<br>
Message:<br><br>
<pre>Jeff Morgan &lt;jeffmorgan_98@...&gt; writes:

&gt; What would be acceptable practice to support a resource that may have 
&gt; multiple representations (text/xml, text/html, image/gif, image/jpeg, 
&gt; etc) with a desiredrepresentation specified by the accessor. The 
&gt; particular instance I am thinking of is when a resource supports web 
&gt; service access and web browser access. In the former and XML based 
&gt; representation would be used while in the latter the resource would be 
&gt; represented as HTML

Content negotiation.

If the client sends

   Accepts: text/html 

then it's a browser but if it sends just 

   Accepts: text/xml

then it's a webservice call.


&gt; I might even use the Mime-headers in the request that such as
&gt; USER_AGENT or CLIENT_ACCEPTS, although personally don't think this
&gt; would be right way to do it for a number of reasons.

Why not?


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5297<br>
Sender:Jeff Morgan &lt;jeffmorgan_98@...&gt;<br>
Post Date/Time:2005-10-15 18:47:54<br>
Subject:Re: [rest-discuss] Resource Representations<br>
Message:<br><br>
<pre>
&gt;
&gt;  
&gt;
&gt;&gt;What would be acceptable practice to support a resource that may have 
&gt;&gt;multiple representations (text/xml, text/html, image/gif, image/jpeg, 
&gt;&gt;etc) with a desiredrepresentation specified by the accessor. The 
&gt;&gt;particular instance I am thinking of is when a resource supports web 
&gt;&gt;service access and web browser access. In the former and XML based 
&gt;&gt;representation would be used while in the latter the resource would be 
&gt;&gt;represented as HTML
&gt;&gt;    
&gt;&gt;
&gt;
&gt;Content negotiation.
&gt;
&gt;If the client sends
&gt;
&gt;   Accepts: text/html 
&gt;
&gt;then it's a browser but if it sends just 
&gt;
&gt;   Accepts: text/xml
&gt;
&gt;then it's a webservice call.
&gt;
&gt;
&gt;  
&gt;
&gt;&gt;I might even use the Mime-headers in the request that such as
&gt;&gt;USER_AGENT or CLIENT_ACCEPTS, although personally don't think this
&gt;&gt;would be right way to do it for a number of reasons.
&gt;&gt;    
&gt;&gt;
&gt;
&gt;Why not?
&gt;
&gt;
&gt;Nic
&gt;
&gt;  
&gt;
Well mainly because a lot of browsers aren't well behaved and I have 
seen things like text/* or even * in the Accepts header, otherwise I 
would agree this would an ideal way of figuring out the representations 
to send.

Jeff



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5298<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-10-16 06:14:07<br>
Subject:RE: [rest-discuss] Resource Representations<br>
Message:<br><br>
<pre>
&gt; &gt;Why not?
&gt; &gt;
&gt; Well mainly because a lot of browsers aren't well behaved and I have seen
things like 
&gt; text/* or even * in the Accepts header, otherwise I would agree this would
an ideal way 
&gt; of figuring out the representations to send.
If you use application/xml for your API services, and text/* for human
readable services, you don't need to look at the user-agent request header.
In general, use application/xml as the content-type for XML transferred via
HTTP.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5299<br>
Sender:Laurian Gridinoc &lt;laurian@...&gt;<br>
Post Date/Time:2005-10-16 07:52:05<br>
Subject:Re: [rest-discuss] Resource Representations<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5300<br>
Sender:Jeff Morgan &lt;jeffmorgan_98@...&gt;<br>
Post Date/Time:2005-10-16 14:37:11<br>
Subject:Re: [rest-discuss] Resource Representations<br>
Message:<br><br>
<pre>Laurian Gridinoc wrote:

&gt;
&gt; I thought that content negotiation isn't very RESTful... you vary your 
&gt; representation by other information than the requested URI.
&gt;
&gt; If you want negotiation, I think you should redirect the user-agent to 
&gt; the URI of the representation for browser of the representation for 
&gt; the web service agent; instead of just delivering that representation.
&gt;
&gt; I wonder what's the community opinion on this.

Well that was what I was asking I was trying to understand what best 
practices this community has for this kind of thing. Perhaps if I 
provide an example of what I am trying to accomplish it might motivate 
that discussion further.

In the system I am building there are a number of models that represent 
the state of a system. I would like to be able to interact with those 
models in three different ways.

1. As a service where the model itself can be observed and manipulated 
at the data level by other services, models and processing functions in 
the system. Clearly an XML representation would be used for this level 
of interaction.
2. As a web page so humans can view and manipulate the model via browser 
interaction, therefore we are talking an xhtml representation of the model.
3. As a web component that can be composed into a composite view (by 
another service or web designer) with other model instances in the 
system. In this case I can imagine this representation being xhtml but 
it also be simply an image (e.g. graph representing the state of the 
model) or some other visual element that can be embedded in a web page.

What I would like is a consistent interaction model across the 3 uses, I 
believe a RESTful approach can provide that (like things such as SOAP 
can't - I've tried) and so I would like to leverage the best practices 
for doing this. I have no problem using content negotiation if that is 
accepted way to accomplish the requirements, I do tend to view content 
negotiation as a feature that has not been developed in a consistent way 
so I tend to be fearful of going in that direction but hey I am fairly 
new to all of this.

thanks

Jeff







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5301<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-10-16 15:06:17<br>
Subject:Re: [rest-discuss] Resource Representations<br>
Message:<br><br>
<pre>Laurian Gridinoc &lt;laurian@...&gt; writes:

&gt; Hello,
&gt;
&gt; On 10/15/05, Jeff Morgan &lt;jeffmorgan_98@...&gt; wrote:
&gt;&gt;
&gt;&gt; &gt;Content negotiation.
&gt;&gt; &gt;
&gt;&gt; &gt;If the client sends
&gt;&gt; &gt;
&gt;&gt; &gt; Accepts: text/html
&gt;&gt; &gt;
&gt;&gt; &gt;then it's a browser but if it sends just
&gt;&gt; &gt;
&gt;&gt; &gt; Accepts: text/xml
&gt;&gt; &gt;
&gt;&gt; &gt;then it's a webservice call.
&gt;
&gt;
&gt; I thought that content negotiation isn't very RESTful... you vary your
&gt; representation by other information than the requested URI.
&gt;
&gt; If you want negotiation, I think you should redirect the user-agent to the
&gt; URI of the representation for browser of the representation for the web
&gt; service agent; instead of just delivering that representation.

Content negotiation *is* RESTfull. We had a big discussion about this
a while ago. Check the archives.



Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5302<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-10-16 15:15:29<br>
Subject:Re: [rest-discuss] Resource Representations<br>
Message:<br><br>
<pre>Jeff Morgan &lt;jeffmorgan_98@...&gt; writes:

&gt; 1. As a service where the model itself can be observed and manipulated 
&gt; at the data level by other services, models and processing functions in 
&gt; the system. Clearly an XML representation would be used for this level 
&gt; of interaction.

&gt; 2. As a web page so humans can view and manipulate the model via browser 
&gt; interaction, therefore we are talking an xhtml representation of the
&gt; model.

Not necessarily a different resource. You could simply add an XSLT
reference to your XML resources and have the browser see the XML
exactly as the webservice components see it.

I've used this model quite a bit myself and it works really well
(saving problems with old browsers that don't understand XSLT).


&gt; What I would like is a consistent interaction model across the 3 uses, I 
&gt; believe a RESTful approach can provide that (like things such as SOAP 
&gt; can't - I've tried) and so I would like to leverage the best practices 
&gt; for doing this. I have no problem using content negotiation if that is 
&gt; accepted way to accomplish the requirements, I do tend to view content 
&gt; negotiation as a feature that has not been developed in a consistent way 
&gt; so I tend to be fearful of going in that direction but hey I am fairly 
&gt; new to all of this.

I don't understand your argument about content-neg. It works very
well... you can do very tight accepts (mostly in webservice clients
and servers) or you can do very lose accepts (like in browsers).


Any other way of achieving what you're trying to achieve would seem to
be inconsistent with the HTTP specs.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5303<br>
Sender:Jeff Morgan &lt;jeffmorgan_98@...&gt;<br>
Post Date/Time:2005-10-16 16:26:48<br>
Subject:Re: [rest-discuss] Resource Representations<br>
Message:<br><br>
<pre>Nic Ferrier wrote:

&gt;
&gt;&gt;What I would like is a consistent interaction model across the 3 uses, I 
&gt;&gt;believe a RESTful approach can provide that (like things such as SOAP 
&gt;&gt;can't - I've tried) and so I would like to leverage the best practices 
&gt;&gt;for doing this. I have no problem using content negotiation if that is 
&gt;&gt;accepted way to accomplish the requirements, I do tend to view content 
&gt;&gt;negotiation as a feature that has not been developed in a consistent way 
&gt;&gt;so I tend to be fearful of going in that direction but hey I am fairly 
&gt;&gt;new to all of this.
&gt;&gt;    
&gt;&gt;
&gt;
&gt;I don't understand your argument about content-neg. It works very
&gt;well... you can do very tight accepts (mostly in webservice clients
&gt;and servers) or you can do very lose accepts (like in browsers).
&gt;
&gt;
&gt;Any other way of achieving what you're trying to achieve would seem to
&gt;be inconsistent with the HTTP specs.
&gt;
&gt;
&gt;Nic
&gt;
&gt;  
&gt;
Nic,

Thanks, I really wasn't making an argument, just an observation (based 
on my current knowledge/experience) but I do accept that for web 
services content-neg is absolutely the way to go because you have tight 
control of media-ranges you can specify. My desire was to obtain a 
little more tightness on the browser end (mainly for web designers 
creating visual experiences) than I was seeing I could get from the 
headers being sent, but I think in the specific cases I need to be tight 
I can handle that without relying on content negotiation and still be 
consistent with Restful design principals because in this case I should 
define a different resource with it's own representation

BTW I found this to be an interesting read related to this subject

http://www.xml.com/pub/a/2005/06/08/restful.html

It helped clarify things for me anyway

thanks

Jeff


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5304<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-10-16 17:16:48<br>
Subject:Re: [rest-discuss] Resource Representations<br>
Message:<br><br>
<pre>On Sat, Oct 15, 2005 at 11:14:07PM -0700, Mike Dierken wrote:
&gt; 
&gt; &gt; &gt;Why not?
&gt; &gt; &gt;
&gt; &gt; Well mainly because a lot of browsers aren't well behaved and I have seen
&gt; things like 
&gt; &gt; text/* or even * in the Accepts header, otherwise I would agree this would
&gt; an ideal way 
&gt; &gt; of figuring out the representations to send.
&gt; If you use application/xml for your API services, and text/* for human
&gt; readable services, you don't need to look at the user-agent request header.
&gt; In general, use application/xml as the content-type for XML transferred via
&gt; HTTP.

application/xml is bad juju, unless you only intend to communicate to
the recipient that this is *XML* (rather than, say, XHTML or HRXML or
SVG or ...).  Use specific XML media types, otherwise your messages
aren't RESTful because they're not self-descriptive.  In other words,
there's no path, using only public specifications, from this message;

HTTP/1.1 200 Ok
Content-Type: application/xml
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
 ...
&lt;/html&gt;

... to the XHTML specification.

Mark.
-- 
Mark Baker.  Ottawa, Ontario, CANADA.          http://www.markbaker.ca
Coactus; Web-inspired integration strategies   http://www.coactus.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5305<br>
Sender:Laurian Gridinoc &lt;laurian@...&gt;<br>
Post Date/Time:2005-10-16 20:29:32<br>
Subject:Re: [rest-discuss] Resource Representations<br>
Message:<br><br>
<pre>Hello,

On 10/16/05, Mark Baker &lt;distobj@...&gt; wrote:
&gt; On Sat, Oct 15, 2005 at 11:14:07PM -0700, Mike Dierken wrote:
&gt; &gt; If you use application/xml for your API services, and text/* for human
&gt; &gt; readable services, you don't need to look at the user-agent request header.
&gt; &gt; In general, use application/xml as the content-type for XML transferred via
&gt; &gt; HTTP.
&gt;
&gt; application/xml is bad juju, unless you only intend to communicate to
&gt; the recipient that this is *XML* (rather than, say, XHTML or HRXML or
&gt; SVG or ...).  Use specific XML media types, otherwise your messages
&gt; aren't RESTful because they're not self-descriptive.

XML is self descriptive.

We should use specific media types, but generally speaking, why should
we get the chance of inconsistencies between metadata and
representation [1], when the representation is self-descriptive?

&gt;  In other words,
&gt; there's no path, using only public specifications, from this message;

I still wonder why we don't have URIs instead of mime types... I
thought that this was on TAG issues list.

&gt; HTTP/1.1 200 Ok
&gt; Content-Type: application/xml
&gt; &lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&gt;  ...
&gt; &lt;/html&gt;
&gt; ... to the XHTML specification.

There is namespace, at that location there is a human readable
description of the namespace intent and a hyperlink to the spec, there
would be GRDDL in the future, etc...


Ref:

[1] Inconsistencies between Representation Data and Metadata
http://www.w3.org/TR/webarch/#metadata-inconsistencies

Cheers,
--
Laurian Gridinoc, www.grapefruit.ro

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5306<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-10-16 21:11:03<br>
Subject:Re: [rest-discuss] Resource Representations<br>
Message:<br><br>
<pre>On Sun, Oct 16, 2005 at 11:29:32PM +0300, Laurian Gridinoc wrote:
&gt; &gt; application/xml is bad juju, unless you only intend to communicate to
&gt; &gt; the recipient that this is *XML* (rather than, say, XHTML or HRXML or
&gt; &gt; SVG or ...).  Use specific XML media types, otherwise your messages
&gt; &gt; aren't RESTful because they're not self-descriptive.
&gt; 
&gt; XML is self descriptive.

Nonsense.

&gt; We should use specific media types, but generally speaking, why should
&gt; we get the chance of inconsistencies between metadata and
&gt; representation [1], when the representation is self-descriptive?

You've got that backwards.  Inconsistency/ambiguity (and the resulting
security and performance problems) exists when you infer metadata from
data (sometimes called "sniffing");

http://www.w3.org/2001/tag/doc/mime-respect.html

&gt; &gt;  In other words,
&gt; &gt; there's no path, using only public specifications, from this message;
&gt; 
&gt; I still wonder why we don't have URIs instead of mime types... I
&gt; thought that this was on TAG issues list.

We do have URIs for media types, they're just not used in any protocols
AFAIK.

e.g. http://www.iana.org/assignments/media-types/application/xop+xml

&gt; &gt; HTTP/1.1 200 Ok
&gt; &gt; Content-Type: application/xml
&gt; &gt; &lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&gt; &gt;  ...
&gt; &gt; &lt;/html&gt;
&gt; &gt; ... to the XHTML specification.
&gt; 
&gt; There is namespace, at that location there is a human readable
&gt; description of the namespace intent and a hyperlink to the spec,

Yes, but my point is that there's no spec that prescribes the process
that you just went through.  On the contrary, RFC 3023 says this;

  An XML document labeled as text/xml or application/xml might contain
  namespace declarations, stylesheet-linking processing instructions
  (PIs), schema information, or other declarations that might be used
  to suggest how the document is to be processed.  For example, a
  document might have the XHTML namespace and a reference to a CSS
  stylesheet.  Such a document might be handled by applications that
  would use this information to dispatch the document for appropriate
  processing.

Emphasis on "might", aka "ambiguity results if ...".

That said, most browsers assume application/xml works as you suggest,
just not all (e.g. IE).  But browsers aren't the only client of XML.

See; http://www.markbaker.ca/2004/01/XmlDispatchTest/

Mark.
-- 
Mark Baker.  Ottawa, Ontario, CANADA.          http://www.markbaker.ca
Coactus; Web-inspired integration strategies   http://www.coactus.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5307<br>
Sender:Jeoff Wilks &lt;jeoffwilks@...&gt;<br>
Post Date/Time:2005-10-16 22:04:20<br>
Subject:Re: [rest-discuss] Resource Representations<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5308<br>
Sender:Laurian Gridinoc &lt;laurian@...&gt;<br>
Post Date/Time:2005-10-16 22:33:53<br>
Subject:Re: [rest-discuss] Resource Representations<br>
Message:<br><br>
<pre>On 10/17/05, Mark Baker &lt;distobj@...&gt; wrote:
&gt; On Sun, Oct 16, 2005 at 11:29:32PM +0300, Laurian Gridinoc wrote:
&gt; &gt; &gt; application/xml is bad juju, unless you only intend to communicate to
&gt; &gt; &gt; the recipient that this is *XML* (rather than, say, XHTML or HRXML or
&gt; &gt; &gt; SVG or ...).  Use specific XML media types, otherwise your messages
&gt; &gt; &gt; aren't RESTful because they're not self-descriptive.
&gt; &gt; XML is self descriptive.
&gt; Nonsense.

hmmm, then at least it should or may be self-descriptive, I'll argue later :)

&gt; &gt; We should use specific media types, but generally speaking, why should
&gt; &gt; we get the chance of inconsistencies between metadata and
&gt; &gt; representation [1], when the representation is self-descriptive?

&gt; You've got that backwards.  Inconsistency/ambiguity (and the resulting
&gt; security and performance problems) exists when you infer metadata from
&gt; data (sometimes called "sniffing");
&gt; http://www.w3.org/2001/tag/doc/mime-respect.html

As I said we should use specific mime types, but when you cannot fully
control the publishing, why not use generic a mime type like
application/xml, and not be so authoritative at protocol level?

I'll read again in depth the mime respect doc and see where I'm wrong.

&gt; &gt; &gt;  In other words,
&gt; &gt; &gt; there's no path, using only public specifications, from this message;
&gt; &gt; I still wonder why we don't have URIs instead of mime types... I
&gt; &gt; thought that this was on TAG issues list.
&gt; We do have URIs for media types, they're just not used in any protocols
&gt; AFAIK.
&gt; e.g. http://www.iana.org/assignments/media-types/application/xop+xml

OK, I was thinking at something free of iana.org namespace, I'm
waiting at least for dns media type registration.

&gt; &gt; &gt; HTTP/1.1 200 Ok
&gt; &gt; &gt; Content-Type: application/xml
&gt; &gt; &gt; &lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&gt; &gt; &gt;  ...
&gt; &gt; &gt; &lt;/html&gt;
&gt; &gt; &gt; ... to the XHTML specification.
&gt; &gt; There is namespace, at that location there is a human readable
&gt; &gt; description of the namespace intent and a hyperlink to the spec,
&gt;
&gt; Yes, but my point is that there's no spec that prescribes the process
&gt; that you just went through.

Same for the above mime uri, there is a plain text document there, I
was expecting at least hypertext.

&gt; On the contrary, RFC 3023 says this;
&gt;   An XML document labeled as text/xml or application/xml might contain
&gt;   namespace declarations, stylesheet-linking processing instructions
&gt;   (PIs), schema information, or other declarations that might be used
&gt;   to suggest how the document is to be processed.  For example, a
&gt;   document might have the XHTML namespace and a reference to a CSS
&gt;   stylesheet.  Such a document might be handled by applications that
&gt;   would use this information to dispatch the document for appropriate
&gt;   processing.
&gt;
&gt; Emphasis on "might", aka "ambiguity results if ...".
&gt;
&gt; That said, most browsers assume application/xml works as you suggest,
&gt; just not all (e.g. IE).  But browsers aren't the only client of XML.
&gt;
&gt; See; http://www.markbaker.ca/2004/01/XmlDispatchTest/

Yes, I wanted somehow to force this browser-like behaviour by a
generic mime type, I still believe that user agents should imply the
usage of XML based on its vocabulary, when the mime type is generic.

Cheers,
--
Laurian Gridinoc, www.grapefruit.ro

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5309<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2005-10-16 23:54:52<br>
Subject:Re: [rest-discuss] Resource Representations<br>
Message:<br><br>
<pre>:
: I thought that content negotiation isn't very RESTful... you vary your
: representation by other information than the requested URI.
:
Where did you get that idea?

" More precisely, a resource R is a temporally varying membership function 
MR(t), which for time t maps to a set of entities, or values, which are 
equivalent. "

That "set of entities" is a set of representations, all valid at time t.

Walden 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5310<br>
Sender:Laurian Gridinoc &lt;laurian@...&gt;<br>
Post Date/Time:2005-10-17 00:28:37<br>
Subject:Re: [rest-discuss] Resource Representations<br>
Message:<br><br>
<pre>On 10/17/05, Walden Mathews &lt;waldenm@...&gt; wrote:
&gt; : I thought that content negotiation isn't very RESTful... you vary your
&gt; : representation by other information than the requested URI.
&gt; Where did you get that idea?
&gt; " More precisely, a resource R is a temporally varying membership function
&gt; MR(t), which for time t maps to a set of entities, or values, which are
&gt; equivalent. "
&gt; That "set of entities" is a set of representations, all valid at time t.

In some discussions last year over language negotiation, it seamed
that is better to identify with URIs representations and if needed the
http negotiation should return a redirect to a representation instead
of representation itself.

One argued then that returning different representations from a GET
based on anything in the request other than the URI is not very nice.

Also naming representations might ease the application of http verbs
on individual representations when needed, right?

Same here in the original post issue, if you want to link to specific
representations, it would be simpler to identify them by URI, instead
of tricking the user agent to ask for a specific mime type.

Cheers,
--
Laurian Gridinoc, www.grapefruit.ro

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5311<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-10-17 03:47:03<br>
Subject:RE: [rest-discuss] Resource Representations<br>
Message:<br><br>
<pre>&gt; 
&gt; application/xml is bad juju, unless you only intend to 
&gt; communicate to the recipient that this is *XML* (rather than, 
&gt; say, XHTML or HRXML or SVG or ...).  Use specific XML media 
&gt; types, otherwise your messages aren't RESTful because they're 
&gt; not self-descriptive.  In other words, there's no path, using 
&gt; only public specifications, from this message;
&gt; 
&gt; HTTP/1.1 200 Ok
&gt; Content-Type: application/xml
&gt; &lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&gt;  ...
&gt; &lt;/html&gt;
&gt; 
&gt; ... to the XHTML specification.
Thanks for the clarification - I was not detailed enough &amp; should have
suggested using a more specific content type.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5312<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2005-10-17 15:20:27<br>
Subject:Re: [rest-discuss] Resource Representations<br>
Message:<br><br>
<pre>Jeoff Wilks wrote:
&gt; Hey Jeff,
&gt; 
&gt; I also struggled with the same issue you have. One thing I noticed while 
&gt; reading through the Apache docs on content negotiation is that, though 
&gt; you can request a resource for which multiple representations exist, you 
&gt; can also request a specific variant using its exact URI. Look at the 
&gt; table at the bottom of this web page for examples:
&gt; http://httpd.apache.org/docs/1.3/content-negotiation.html
&gt; 
&gt; Building on the example from that web page, assume you have a resource 
&gt; "foo" for which various representations exist.
&gt; 
&gt; /foo
&gt; /foo.html
&gt; /foo.xml
&gt; /foo.rss

To my mind /foo.html should not be considered as a URI for the same 
resources as /foo

/foo.html is suitable when the resource you are interested is the HTML 
representation of /foo in and off itself. GET /foo says "let me know 
about foo" GET /foo.html says "let me know about the HTML document you 
happen to be using to represent /foo".

One would hope that outside of web-techies more users of the system 
would be interested in /foo than in /foo.html

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5313<br>
Sender:Jeoff Wilks &lt;jeoffwilks@...&gt;<br>
Post Date/Time:2005-10-17 15:35:19<br>
Subject:Re: [rest-discuss] Resource Representations<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5314<br>
Sender:Jeff Morgan &lt;jeffmorgan_98@...&gt;<br>
Post Date/Time:2005-10-17 15:52:40<br>
Subject:Re: [rest-discuss] Resource Representations<br>
Message:<br><br>
<pre>Great points from both,  this has really helped me pull apart the issues 
I was haivng and solve my Restful representation dilema for the three 
cases I provided earlier. Most of my issues were coming from the browser 
(web-techie) side of the equation where I wanted to do composition and 
needed some precision that I couldn't rely on precisely enough from 
content negotiation.

thanks

Jeff

Jeoff Wilks wrote:

&gt; All good points, Jon. If Jeff is looking to guarantee that some 
&gt; clients receive an HTML representation, others an XML representation, 
&gt; etc. (without relying on content negotiation) then it is appropriate 
&gt; to use the direct URIs for each desired variant.
&gt;
&gt;
&gt; On 10/17/05, *Jon Hanna* &lt;jon@... 
&gt; &lt;mailto:jon@...&gt;&gt; wrote:
&gt;
&gt;     Jeoff Wilks wrote:
&gt;     &gt; Hey Jeff,
&gt;     &gt;
&gt;     &gt; I also struggled with the same issue you have. One thing I
&gt;     noticed while
&gt;     &gt; reading through the Apache docs on content negotiation is that,
&gt;     though
&gt;     &gt; you can request a resource for which multiple representations
&gt;     exist, you
&gt;     &gt; can also request a specific variant using its exact URI. Look at the
&gt;     &gt; table at the bottom of this web page for examples:
&gt;     &gt; http://httpd.apache.org/docs/1.3/content-negotiation.html
&gt;     &lt;http://httpd.apache.org/docs/1.3/content-negotiation.html&gt;
&gt;     &gt;
&gt;     &gt; Building on the example from that web page, assume you have a
&gt;     resource
&gt;     &gt; "foo" for which various representations exist.
&gt;     &gt;
&gt;     &gt; /foo
&gt;     &gt; /foo.html
&gt;     &gt; /foo.xml
&gt;     &gt; /foo.rss
&gt;
&gt;     To my mind /foo.html should not be considered as a URI for the same
&gt;     resources as /foo
&gt;
&gt;     /foo.html is suitable when the resource you are interested is the HTML
&gt;     representation of /foo in and off itself. GET /foo says "let me know
&gt;     about foo" GET /foo.html says "let me know about the HTML document you
&gt;     happen to be using to represent /foo".
&gt;
&gt;     One would hope that outside of web-techies more users of the system
&gt;     would be interested in /foo than in /foo.html
&gt;
&gt;
&gt;
&gt;
&gt; -- 
&gt; Jeoff Wilks
&gt; (703) 683-2753
&gt; (703) 964-7368 mobile 




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5315<br>
Sender:"beckfordp" &lt;beckfordp@...&gt;<br>
Post Date/Time:2005-10-17 22:34:06<br>
Subject:Connector Realms<br>
Message:<br><br>
<pre>Hi All,

I'm new to REST, and compared to CORBA, RMI and SOAP-RPC I really do
like the simplicity. Having said this, for machine-to-machine (rather
than machine-to-human) communication, I've never really liked HTTP.
Mostly put off by early experiences with HTTP/CGI (inefficient and slow).

My main complaint other than speed, is that in the an attempt to be a
universal connector HTTP reduces everything down to the lowest common
denominator: "Strings" - I've blogged on this:

http://pab-data.blogspot.com/2005/10/rest-not-so-uniform-connector-example.html

But the truth is that the world isn't uniform. It contains differing
realms each with its own unique characteristics. So when accessing a
resource in a given realm I would like to make assumptions about the
resource representation. The example I use on my blog is a Squeak
client requesting a Squeak object from a Squeak server.

Now not all the world speaks Squeak, so the URL could indicate that
the resource is located in the Squeak "Realm". If a Squeak resource
isn't available then I may choose to dumb down to a more generic realm
where I could possibly find a service offering a similar resource
represented as XML (and suffer the pain of turning XML into a Squeak
object so that I can use it).

This way resources are presented in the "richest" representation
possible for a given realm. The opposite of the lowest common
denominator approach. A bit like the way people use "Business English"
for international commerce, but still retain their own language and
culture locally.

This idea also opens up the possibility of using differing "wire"
protocols better suited to the resource representation in a given realm.

I think that REST is theoretically pretty sound. What I'm suggesting,
is constraining the scope of connector uniformity to a given name
space (or protocol), thus allowing for 'local' differentiation.

Are people doing this? Or is there a good reason to avoid such an
approach?







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5316<br>
Sender:toydi &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-10-18 05:17:14<br>
Subject:Re: [rest-discuss] Resource Representations<br>
Message:<br><br>
<pre>There was a *long* debate and discussion on the usage of conneg &amp; URL
to retrieve representation.

[Switching content type]
http://groups.yahoo.com/group/rest-discuss/message/5138 (starting from
this thread)

I think this is an essential issue, which will be repeatly re-raised
after every several weeks.
Maybe we could compile all the ideas and publish somewhere in RestWiki? :)

--
-toydi-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5317<br>
Sender:toydi &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-10-18 10:42:19<br>
Subject:Re: [rest-discuss] Connector Realms<br>
Message:<br><br>
<pre>On 10/18/05, beckfordp &lt;beckfordp@...&gt; wrote:

&gt; I think that REST is theoretically pretty sound. What I'm suggesting,
&gt; is constraining the scope of connector uniformity to a given name
&gt; space (or protocol), thus allowing for 'local' differentiation.
&gt;
&gt; Are people doing this? Or is there a good reason to avoid such an
&gt; approach?

Here's a quote from Roy's dissertation, section 5.3.2 Connector View,

"If an application needs the additional capabilities of another
architecture, it can implement and invoke those capabilities as a
separate system running in parallel, similar to how the Web
architecture interfaces with "telnet" and "mailto" resources."
(http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm)

The "realm" idea is quite inspiring, will it be possible to be
implemented using "a separate system" (as described above). By then,
you can gain full advantages from that particular protocol, without
headache with REST's "uniform connector" limitations.

I'm not really clear about this concept either, just some raw
thoughts. Any comments?

--
-toydi-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5318<br>
Sender:toydi &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-10-18 10:56:55<br>
Subject:Re: [rest-discuss] Connector Realms<br>
Message:<br><br>
<pre>On 10/18/05, beckfordp &lt;beckfordp@...&gt; wrote:

&gt; My main complaint other than speed, is that in the an attempt to be a
&gt; universal connector HTTP reduces everything down to the lowest common
&gt; denominator: "Strings".

We also use all kinds of MIME media type (i.e. images/gif,
multipart/form-data) to transfer binary data. They are considered as
representations too, right? ReST allow these binary representations to
be transfered via connectors.

Maybe you could consider to transfer Squeak objects using "Content
Negotiation" way. (using HTTP header Accept?)

--
-toydi-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5319<br>
Sender:toydi &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-10-19 10:37:57<br>
Subject:Response for multiple resources creation.<br>
Message:<br><br>
<pre>Usually, when a single resource is created by a POST request, a
response with code 201, Location header (with new resource's URI) &amp;
optional entity body will be returned.

But sometimes, a POST request will cause several resources creation.
For example, a file-uploading HTML form, will send a POST request
(multipart/form-data) containing several files, and several new
resources (i.e. files) will be created. In this case, which response
code is more appropriate to reflect multiple resources creation? (201
Created?)

And what if server failed to create some of them (i.e. the phyiscal
storage has full, unableto store last two files). How do we construct
a response (and resposne code) that reflect such partial failure
accurately?

It's quite common in real world applications, where a single POST
request triggers multiple resources creation. For example, a new user
registration in web hosting service will trigger several resources
(i.e. user profile &amp; user's file-system directories) creation as well.

How to reflect each resource creation status accurately in a single
response message?

--
-toydi-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5320<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2005-10-19 11:28:24<br>
Subject:RE: [rest-discuss] Response for multiple resources creation.<br>
Message:<br><br>
<pre>&gt; 
&gt; Usually, when a single resource is created by a POST request, a
&gt; response with code 201, Location header (with new resource's URI) &amp;
&gt; optional entity body will be returned.
&gt; 
&gt; But sometimes, a POST request will cause several resources creation.
&gt; For example, a file-uploading HTML form, will send a POST request
&gt; (multipart/form-data) containing several files, and several new
&gt; resources (i.e. files) will be created. In this case, which response
&gt; code is more appropriate to reflect multiple resources creation? (201
&gt; Created?)
[hvw] 
[hvw] I was just working through this case a couple of weeks ago! This is a
minor omission in HTTP. 

You cannot send multiple Location headers! That would violate
http://www.w3.org/Protocols/rfc2616/rfc2616-sec4.html#sec4.2. 

The best choice is just to construct a hypertext entity linking to all the
created resources, and return it with the 201 or 303.

&gt; 
&gt; And what if server failed to create some of them (i.e. the phyiscal
&gt; storage has full, unableto store last two files). How do we construct
&gt; a response (and resposne code) that reflect such partial failure
&gt; accurately?
&gt; 

[hvw] Again, we are out of the range of the spec, into your application's
semantics. 

If I were in charge of the service design I'd probably choose to make one
multipart POST succeed or fail altogether, as a transaction. In that case
you clearly know to return 2XX or 4XX.

If it's not possible to do that, then I'd just return 201 for partial
success with an entity explaining what happened.



[hvw] Hugh



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5321<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2005-10-19 13:15:12<br>
Subject:RE: [rest-discuss] Resource Representations<br>
Message:<br><br>
<pre>
&gt; 
&gt; application/xml is bad juju, unless you only intend to communicate to
&gt; the recipient that this is *XML* (rather than, say, XHTML or HRXML or
&gt; SVG or ...).  Use specific XML media types, otherwise your messages
&gt; aren't RESTful because they're not self-descriptive.  In other words,
&gt; there's no path, using only public specifications, from this message;
&gt; 
&gt; HTTP/1.1 200 Ok
&gt; Content-Type: application/xml
&gt; &lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&gt;  ...
&gt; &lt;/html&gt;
&gt; 
&gt; ... to the XHTML specification.
&gt; 

Unfortunately browsers have not caught up yet to rfc 3023 [1] yet, so they
will not automatically render e.g. application/x.myformat+xml as XML. And I
really like telling people they can look at the documents the application
traffics in, with a browser.

Hugh

[1] http://www.faqs.org/rfcs/rfc3023.html




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5322<br>
Sender:toydi &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-10-19 13:29:21<br>
Subject:Re: [rest-discuss] Response for multiple resources creation.<br>
Message:<br><br>
<pre>On 10/19/05, Guillaume Laforge &lt;glaforge@...&gt; wrote:

&gt; Correct me if I'm wrong, but shouldn't a request be atomic?

&gt; Hence, even if a request triggers several creations, shouldn't the
&gt; request be treated like a unit of work, inside a single transaction?
&gt; So I'd be tempted to say that if a sub-part of the request fails, all
&gt; requests should be rollbacked.

Indeed, I think that's the best practice &amp; really helps to keep things
simple. However, during implementation, rollback'ing all creations
(just because one of the creations fails) would be costly.

Taking an example of a web hosting service, when a new user
registration info is POSTed to server, a main resource, *User* is
created, followed by creating several file-system directories. Here,
it might not make sense, if we fail the entire registration process,
just because an error while creating a new file-system directory.

So, if in case we could not avoid multiple resources creation in one
request, and yet, rollback'ing is almost impossible, question: what's
the best way to describe such partial failure in a HTTP response
message?

On 10/19/05, Hugh Winkler &lt;hughw@...&gt; wrote:

&gt; If it's not possible to do that, then I'd just return 201 for partial
&gt; success with an entity explaining what happened.

Yeah, I did use this solution for my web app. Such response is clear
to human, but what if the client is a machine? How to alert machine
about such partial failure, while we are sending back a 201 response?

Any alternatives? to tell a machine: "Yeah, the main resource is
created successfully (201), here's its identifier (Location). Yet,
several sub resources are created too, here's a list (hypertext
links?). But hey, we having problem to create this particular sub
resource, so don't use it now."


On 10/19/05, Hugh Winkler &lt;hughw@...&gt; wrote:

&gt; [hvw] I was just working through this case a couple of weeks ago! This is a
&gt; minor omission in HTTP.

the multipart/form-data is quite *weird*, imagine after POSTing
several files, some new files will be added, some existing files will
be replaced, and some of them might failed to be processed. Now, which
response code should we return?

&gt; &gt; And what if server failed to create some of them (i.e. the phyiscal
&gt; &gt; storage has full, unableto store last two files). How do we construct
&gt; &gt; a response (and resposne code) that reflect such partial failure
&gt; &gt; accurately?
&gt; [hvw] Again, we are out of the range of the spec, into your application's
&gt; semantics.

This will certainly decrease app's interoperability? ;)

&gt; If I were in charge of the service design I'd probably choose to make one
&gt; multipart POST succeed or fail altogether, as a transaction. In that case
&gt; you clearly know to return 2XX or 4XX.

Yes, that's the best way, but, it might be too *cruel* to ask
end-users to resend everything after spending their lunch time
uploading files with a 56k modem. :P


--
-toydi-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5323<br>
Sender:Claude Montpetit &lt;claude@...&gt;<br>
Post Date/Time:2005-10-19 13:33:18<br>
Subject:Re: [rest-discuss] Response for multiple resources creation.<br>
Message:<br><br>
<pre>
toydi wrote:
&gt; Usually, when a single resource is created by a POST request, a
&gt; response with code 201, Location header (with new resource's URI) &amp;
&gt; optional entity body will be returned.
&gt; 
&gt; But sometimes, a POST request will cause several resources creation.
&gt; For example, a file-uploading HTML form, will send a POST request
&gt; (multipart/form-data) containing several files, and several new
&gt; resources (i.e. files) will be created. In this case, which response
&gt; code is more appropriate to reflect multiple resources creation? (201
&gt; Created?)
&gt; 
&gt; And what if server failed to create some of them (i.e. the phyiscal
&gt; storage has full, unableto store last two files). How do we construct
&gt; a response (and resposne code) that reflect such partial failure
&gt; accurately?
&gt; 
&gt; It's quite common in real world applications, where a single POST
&gt; request triggers multiple resources creation. For example, a new user
&gt; registration in web hosting service will trigger several resources
&gt; (i.e. user profile &amp; user's file-system directories) creation as well.
&gt; 
&gt; How to reflect each resource creation status accurately in a single
&gt; response message?

I faced a similar situation recently. The POST request triggers an 
operation that creates many separate resources.

So the POST creates all the resources, and an additional single resource 
(a report) that contains information on each other resource created. It 
then returns 201 (created) and the location of the report that describes 
the status and location of the sub resources.

This approach also works well for async creation of the resources. The 
report is created and the POST returns its location. The process that 
creates the resources is launched and it updates the report as it 
attempts to create each resource.

--
Claude
&gt; 
&gt; --
&gt; -toydi-
&gt; 
&gt; 
&gt; 
&gt;  
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt;  
&gt; 
&gt; 
&gt; 
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5324<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-10-19 14:51:01<br>
Subject:Re: [rest-discuss] Response for multiple resources creation.<br>
Message:<br><br>
<pre>
On Oct 19, 2005, at 3:29 PM, toydi wrote:

&gt; On 10/19/05, Hugh Winkler &lt;hughw@...&gt; wrote:
&gt;
&gt;
&gt;&gt; If it's not possible to do that, then I'd just return 201 for partial
&gt;&gt; success with an entity explaining what happened.
&gt;&gt;
&gt;
&gt; Yeah, I did use this solution for my web app. Such response is clear
&gt; to human, but what if the client is a machine? How to alert machine
&gt; about such partial failure, while we are sending back a 201 response?

What about a 202 with a monitoring URI?

( http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.3 )


Jan


________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5325<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-10-20 02:44:33<br>
Subject:RE: [rest-discuss] Connector Realms<br>
Message:<br><br>
<pre>
&gt; 
&gt; Maybe you could consider to transfer Squeak objects using 
&gt; "Content Negotiation" way. (using HTTP header Accept?)
Your suggestion sounds very good - but I'm guessing that beckfordp has
already looked into having a Squeak server return and accept a content-type
appropriate for Squeak projects.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5326<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-10-20 07:55:24<br>
Subject:Is this code-on-demand taken to the extreme?<br>
Message:<br><br>
<pre>Hi,

would greatly apprechiate any comments on the following situation:

I have a domain model (expressed in OWL) and a large number of  
distributed components that produce RDF data according to the model  
(host configuration data, e.g. foo:hostX ex:IPAdddress "168.192.56.78").

My goal is to maximize the evolvability of the system without having  
to touch these remote components. For example, the components  
discover at runtime where to send the RDF data they produce as  
opposed to hardcoding that into them (an obvious thing to do, of  
course).

To protect the clients from changes made to the domain model (e.g.  
instead of saying foo:hostX ex:IPAdddress "168.192.56.78" we might  
want to say foo:hostX ex:hasPart foo:hostX/eth0  and  foo:hostX/eth0  
ex:IPAddress "168.192.56.78") I think about taking the code that  
creates the RDF data out of the distributed components and sending it  
at runtime as code-on-demand. When the domain model changes I'd only  
need to change the code in one place without affecting the components  
at all. they'd just execute whatever they receive.

Is that an appropriate use of the code-on-demand style or is that  
taking it to the extreme?

How does one decide where to draw the line? The extreme would be a  
component that downloads itself almost completely at runtime (modulo  
the HTTP implementation).

Thanks for any thoughts.

Jan






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5327<br>
Sender:toydi &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-10-20 12:07:41<br>
Subject:Re: [rest-discuss] Response for multiple resources creation.<br>
Message:<br><br>
<pre>On 10/19/05, Claude Montpetit &lt;claude@...&gt; wrote:

&gt; So the POST creates all the resources, and an additional single resource
&gt; (a report) that contains information on each other resource created. It
&gt; then returns 201 (created) and the location of the report that describes
&gt; the status and location of the sub resources.

I see, 201 is refered to the success creation of a report (or main
resource).Then, the report will lead us to others sub resources using
hyperlinks.

So, we can describe the failure of sub resource creation in the same
report too. I think I get the idea now. Thanks.


--
-toydi-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5328<br>
Sender:toydi &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-10-20 13:04:49<br>
Subject:Re: Dreams about ReSTifying web apps<br>
Message:<br><br>
<pre>On 10/16/05, xamde666 &lt;spam@...&gt; wrote:
&gt; --- In rest-discuss@yahoogroups.com, toydi &lt;iamstupidiot@g...&gt; wrote:
&gt; &gt;
&gt; &gt; Recently I dreamed about a *web utopia*.
&gt;
&gt; Let's do what you describe. I am thinking hard about a library for
&gt; java, first results are at jrest.ontoware.org. But I realise, we need
&gt; a programming language independent approach. Let's use 'xrest.org' to
&gt; promote a RESTful alternative to XML-RPC. It should be easier to use
&gt; xREST. Tough goal.
&gt;
&gt; Kind regards,
&gt;
&gt; Max

Hi, i tried jrest.ontoware.org, but seems like it's not started yet?

I've been thinking about the *web utopia* again. During a conversation
with a friend, we talked about REST. His view is: REST is about
enforcing software engineering discipline into application
developement, restricting the way we think and design app
architecture. He feels that people will turn away from software
discipline if it's too strict, as everyone prefer to do things in
their own way.

It makes me feel that web utopia will remain utopia, if the goal is to
create a standard that restrict people to follow certain set of rules
or telling them to give up the way they code their apps.

Is that the reason behind why people prefer CORBA, SOAP when they talk
about intergration and interoperability between applications?

This leads me to re-think whether to start restifying current killer
web apps is a right move?
--
-toydi-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5329<br>
Sender:Bob Haugen &lt;bob.haugen@...&gt;<br>
Post Date/Time:2005-10-20 14:49:01<br>
Subject:Re: [rest-discuss] Re: Dreams about ReSTifying web apps<br>
Message:<br><br>
<pre>On 10/20/05, toydi &lt;iamstupidiot@...&gt; wrote:
&gt; It makes me feel that web utopia will remain utopia, if the goal is to
&gt; create a standard that restrict people to follow certain set of rules
&gt; or telling them to give up the way they code their apps.
&gt;
&gt; Is that the reason behind why people prefer CORBA, SOAP when they talk
&gt; about intergration and interoperability between applications?

Do you think that CORBA and SOAP do not require people to follow a set of rules?
Do you think those rules are simpler and easier than REST?

The great majority of users of Amazon's Web services found REST easier
than SOAP.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5330<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-10-20 14:57:36<br>
Subject:Re: [rest-discuss] Is this code-on-demand taken to the extreme?<br>
Message:<br><br>
<pre>On Thu, 2005-10-20 at 09:55 +0200, Jan Algermissen wrote:
&gt; How does one decide where to draw the line? The extreme would be a  
&gt; component that downloads itself almost completely at runtime (modulo  
&gt; the HTTP implementation).

This sounds a lot like the web-trend of downloading only a javascript
engine that evals into a highly-dynamic app w/in the client, which makes
network requests through the browser, rather than the browser itself...

... I think the question is: what happens next?  If that
"demanding" [:)] client never needs to contact the network again, then
it's hard to say it has crossed a line that it doesn't use.  OTOH, if
it's future communications are RESTful, then they are... or are not, as
the case might be.

One could download code that subsequently does nothing but jsled-RPC
(TM :) calls, which starts to subvert REST.  This is minorly impeded by
the javascript engine in web browsers only easily allowing http, and not
raw socket, access... but that's just a matter of time.  I fear this
happening pretty soon, actually, as javascript-in-browser is quite
capable and things like [1] are popping up all the time... how soon
before you need -- effectively -- a custom "client" to access each site
on the net?

Of course, it could easily go the other way: right now every dynamic
website tends to set every page to effectively be no-cache, because it's
a mix of static and dynamic pieces ... but if that engine can request
those things more granularly, then maybe we can use ETags,
conditional-gets, &amp;c. more widely and effectively.


In any case, downloading components that encapsulate server-defined
functionality/interfaces/concepts/&amp;c. can be useful, and a useful
alternative to network traffic (i.e. forcing the client to invoke the
server to do that work).

[1] http://www.markbaker.ca/2002/09/Blog/2005/10/06#2005-10-getGzipReportDownloadUrl

...jsled
-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5331<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-10-20 15:03:28<br>
Subject:Re: [rest-discuss] Re: Dreams about ReSTifying web apps<br>
Message:<br><br>
<pre>
On Oct 20, 2005, at 3:04 PM, toydi wrote:

&gt; It makes me feel that web utopia will remain utopia,

The Web exists and you experience the benefits of its architecture  
over and over again every day; but we usually take them for granted  
and thus do not notice them anymore. Example: Google or Amazon or  
ebay can change the state machines that make up their Web  
applications in any way they want without causing any problems for  
you to keep using them.

&gt; if the goal is to
&gt; create a standard that restrict people to follow certain set of rules
&gt; or telling them to give up the way they code their apps.

The goal (of REST) is to provide a set of constraints *and* a  
detailed analysis of the benefits you get when following these  
constraints. Following architectural styles enables you to reason  
about the properties the system you build will have.

Jan

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5332<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-10-20 15:13:59<br>
Subject:Re: [rest-discuss] Is this code-on-demand taken to the extreme?<br>
Message:<br><br>
<pre>Josh Sled &lt;jsled@...&gt; writes:

&gt; One could download code that subsequently does nothing but jsled-RPC
&gt; (TM :) calls, which starts to subvert REST.  

This is not how to think of it.

REST is a system for defining interactions based on resources. A
javascript client can use a RESTfull backend API or it cannot.

The advantages of REST don't go away just because you're working in
Javascript and not HTML or XML.


Nic Ferrier

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5333<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-10-20 15:26:03<br>
Subject:Re: [rest-discuss] Is this code-on-demand taken to the extreme?<br>
Message:<br><br>
<pre>On Thu, 2005-10-20 at 16:13 +0100, Nic Ferrier wrote:
&gt; Josh Sled &lt;jsled@...&gt; writes:
&gt; 
&gt; &gt; One could download code that subsequently does nothing but jsled-RPC
&gt; &gt; (TM :) calls, which starts to subvert REST.  
&gt; 
&gt; This is not how to think of it.
&gt; 
&gt; REST is a system for defining interactions based on resources. A
&gt; javascript client can use a RESTfull backend API or it cannot.
&gt; 
&gt; The advantages of REST don't go away just because you're working in
&gt; Javascript and not HTML or XML.

They don't go away because of using javascript, but because of using
javascript to do subsequent interactions non-RESTfully (e.g., the
jsled-RPC calls).

...jsled
-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5334<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-10-20 15:40:41<br>
Subject:Re: [rest-discuss] Is this code-on-demand taken to the extreme?<br>
Message:<br><br>
<pre>Josh Sled &lt;jsled@...&gt; writes:

&gt;&gt; The advantages of REST don't go away just because you're working in
&gt;&gt; Javascript and not HTML or XML.
&gt;
&gt; They don't go away because of using javascript, but because of using
&gt; javascript to do subsequent interactions non-RESTfully (e.g., the
&gt; jsled-RPC calls).

But just as building a webapp RESTfully is optional you can do those
AJAX interactions (XmlHttpRequests etc...) in a RESTfull way.

In fact, I seem to remember that Roy's original paper supports the use
of client side code.


Remember that REST is primary a way of scoping web services. The great
thing about RESTfull apps is that those web services are just as
accessible from a browser, javascript, python, .Net or Java.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5335<br>
Sender:toydi &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-10-21 00:00:46<br>
Subject:Re: [rest-discuss] Re: Dreams about ReSTifying web apps<br>
Message:<br><br>
<pre>On 10/20/05, Bob Haugen &lt;bob.haugen@...&gt; wrote:

&gt; Do you think that CORBA and SOAP do not require people to follow a set of rules?
&gt; Do you think those rules are simpler and easier than REST?
&gt;
&gt; The great majority of users of Amazon's Web services found REST easier
&gt; than SOAP.

That's a good sign indeed. :)

I always feel that ReST provides a more *natural* way to see things in
a distributed web environment. My concern is how to encourage more
developers to start to restify their web apps, in order to create a
major interoperable web environment.

Is it a right move to start to work on *more concrete* practical
guidelines, toolkit, frameworks, to provide developers a clear path on
how to restify their apps start from analysis and design phase til the
implementation. Or is it better to just leave developers to figure out
things in their own way?

The point in my previous message is, if we work on these guidelines
and framework, how to balance between "developers need to change a
lot" and "developers still flexible to do things their own way". How
to balance so that guidelines will not become a strict standard, but
still provide a common understanding platform to allow further
discussion and developement.

(Recently, I'm thinking whether it's the right time to work on
practical guidelines and toolkit for ReST app development start from
analysis phase to implementation. Hopefully it will not try to
reinvent the whole wheel cycle, but rather to analyze the essential
needs in ReST app developement, then firgure out how to reuse
available tools and resources.)


--
-toydi-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5336<br>
Sender:Guillaume Laforge &lt;glaforge@...&gt;<br>
Post Date/Time:2005-10-19 10:51:40<br>
Subject:Re: [rest-discuss] Response for multiple resources creation.<br>
Message:<br><br>
<pre>Hello,

On 19/10/05, toydi &lt;iamstupidiot@...&gt; wrote:
&gt; Usually, when a single resource is created by a POST request, a
&gt; response with code 201, Location header (with new resource's URI) &amp;
&gt; optional entity body will be returned.
&gt;
&gt; But sometimes, a POST request will cause several resources creation.
&gt; For example, a file-uploading HTML form, will send a POST request
&gt; (multipart/form-data) containing several files, and several new
&gt; resources (i.e. files) will be created. In this case, which response
&gt; code is more appropriate to reflect multiple resources creation? (201
&gt; Created?)
&gt;
&gt; And what if server failed to create some of them (i.e. the phyiscal
&gt; storage has full, unableto store last two files). How do we construct
&gt; a response (and resposne code) that reflect such partial failure
&gt; accurately?
&gt;
&gt; It's quite common in real world applications, where a single POST
&gt; request triggers multiple resources creation. For example, a new user
&gt; registration in web hosting service will trigger several resources
&gt; (i.e. user profile &amp; user's file-system directories) creation as well.
&gt;
&gt; How to reflect each resource creation status accurately in a single
&gt; response message?

Correct me if I'm wrong, but shouldn't a request be atomic?

Hence, even if a request triggers several creations, shouldn't the
request be treated like a unit of work, inside a single transaction?
So I'd be tempted to say that if a sub-part of the request fails, all
requests should be rollbacked.

Thus, you'd only have 201 created (everything's been created) or some
other response failure if something failed (even if it's just a part
of the whole request that fails).


--
Guillaume Laforge
http://glaforge.free.fr/blog/groovy



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5337<br>
Sender:"craighubleyca" &lt;craighubleyca@...&gt;<br>
Post Date/Time:2005-10-21 03:12:45<br>
Subject:URIs as reliable identifiers is not compromised by recognizing predictable forms<br>
Message:<br><br>
<pre>The issue of URIs being reliable identifiers for deferencing is not at 
all the same as "where the URI comes from" or "how the URI can be 
remembered or generated for reliable use in protocol".  In other words 
"opacity" is simply not required in order to be a reliable identifier, 
and Tim Berners-Lee is simply wrong to "require" this in semantic web:

*URIs as reliable identifiers are not compromised by recognizing all 
past or predictable forms, as long as all forms direct to the most 
current resource that will actually respond to the protocol in use.*

This is a very old point but one that needs constant revisiting as so 
many web services continue to have non-memorable non-generative URIs:

--- In rest-discuss@yahoogroups.com, "Roy T. Fielding" &lt;fielding@a...&gt; 
wrote:
&gt;
&gt; &gt; So, which method is more ReSTful?  To me the first one is ReSTful, 
the
&gt; &gt; second one isn't, but Mike obviously has been thinking about ReST 
&gt; &gt; longer
&gt; &gt; than I have... so I accept that I'm probably missing something.
&gt; 
&gt; Maybe I am missing something, but since several people have said 
that
&gt; REST implies opaqueness in the URI, my guess is that a legend
&gt; has somehow begun and I need to put it to rest (no pun intended).
&gt; 
&gt; REST does not require that a URI be opaque.  The only place where
&gt; the word opaque occurs in my dissertation is where I complain about 
the
&gt; opaqueness of cookies.  In fact, RESTful applications are, at all 
times,
&gt; encouraged to use human-meaningful, hierarchical identifiers in 
order
&gt; to maximize the serendipitous use of the information beyond what is
&gt; anticipated by the original application.

A point that simply never seems to get raised about this is that 
opaque URIs simply cannot be remembered by human beings, accordingly 
they cannot be rattled off during phone calls or radio shows or by 
typing in, in the library.

I have found generative URNs such as those used at Wikipedia to be 
indispensible in any serious online work.

I have been forced to conclude that Tim Berners-Lee is simply WRONG, 
and that his priestly influence over the W3 cult has done a great deal 
of damage.

I would invite a debate on this topic, a panel possibly, in which I 
would crush TBL.  His absurd strong ontology conceptions of the 
Semantic Web are doing more damage to actually making it work, than 
any ten stupid bloggers out there...

Also there are these arguments:
http://rest.blueoxen.net/cgi-bin/wiki.pl?OpacityMythsDebunked

Oh no!  I actually read the name "Opacity Myths Debunked" in the name!

I am damned... ;-)

Another good example is the (in my opinion, correct) way that 360.
yahoo.com handles its own URIs:

http://360.yahoo.com/edit/feeds.html
is easily memorable since the domain name is the service, "edit feeds" 
is what I am doing, and it is
in HTML.  Ideally it would work also as
http://360.yahoo.com/edit/feeds
and even more ideally I'd be able to do it third-person, perhaps 
letting someone else edit "for" me
http://360.yahoo.com/craighubleyca/feeds (read them)
http://360.yahoo.com/craighubleyca/edit/feeds (edit them, if I'll let 
you)

Craig Hubley






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5338<br>
Sender:toydi &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-10-21 07:05:56<br>
Subject:Fwd: Connector Realms<br>
Message:<br><br>
<pre>---------- Forwarded message ----------
From: beckfordp &lt;beckfordp@btinternet.com&gt;
Date: Oct 20, 2005 1:45 AM
Subject: Re: Connector Realms
To: toydi &lt;iamstupidiot@...&gt;


--- In rest-discuss@yahoogroups.com, toydi &lt;iamstupidiot@g...&gt; wrote:

&gt; We also use all kinds of MIME media type (i.e. images/gif,
&gt; multipart/form-data) to transfer binary data. They are considered as
&gt; representations too, right? ReST allow these binary representations
to
&gt; be transfered via connectors.
&gt;
 Yeah thanks, I guess this is the "self describing" bit. I'm not fully
up to speed on HTTP.

BTW I've found two Java APIs that allow "Java" communication over HTTP
using XML or binary data: :

http://www.caucho.com/burlap/
http://ww.caucho.com/hesian/

I will look into these to see whether their ReSTful.





--
-toydi-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5339<br>
Sender:Elias Sinderson &lt;elias@...&gt;<br>
Post Date/Time:2005-10-21 15:49:25<br>
Subject:Re: [rest-discuss] Response for multiple resources creation.<br>
Message:<br><br>
<pre>toydi wrote:

&gt;[...] sometimes, a POST request will cause several resources creation. [...] In this case, which response code is more appropriate to reflect multiple resources creation? 
&gt;
Not part of the HTTP spec, but the 207 Multistatus response defined in 
rfc2518 seems appropriate. I would not be surprised if it was included 
in the next rev of the HTTP spec...


Cheers,
Elias

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5340<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2005-10-21 17:22:36<br>
Subject:Re: [rest-discuss] Re: Dreams about ReSTifying web apps<br>
Message:<br><br>
<pre>Hi toydi,

I'm new to the list, so forgive my jumping in, but I've been thinking  
about this very question:

&gt; My concern is how to encourage more
&gt; developers to start to restify their web apps, in order to create a
&gt; major interoperable web environment.

I worry about this question a lot; have you read any Clay Christensen  
or Seth Godin? They both (in different ways) tackle the problem of  
how do you get a community/ecosystem to change the way they think  
about a problem...

&gt; Is it a right move to start to work on *more concrete* practical
&gt; guidelines, toolkit, frameworks, to provide developers a clear path on
&gt; how to restify their apps start from analysis and design phase til the
&gt; implementation. Or is it better to just leave developers to figure out
&gt; things in their own way?

Like they say, I believe the right solution is to "think globally,  
act locally." :-)   The 'right' answer to your question depends on  
the optimal match between your resources (skills, contacts,  
reputation, passion) and the communities needs.  I suspect all of us  
here believe that "REST" is the answer -- we're just trying to find  
the question. :-)  The challenge, in other words, is identifying what  
the actual barriers are that prevent/discourage people from adopting  
REST, and we each individually can do within our own trust networks.

To your particular question, I believe the optimal approach is to be  
"exemplary" rather than "normative."  That is, rather than trying to  
say, "You -should- do it this way," we demonstrate the virtue of REST  
by saying, "This is how *I* do it, which is really easy for you to  
adopt."  We don't try to enforce consistency -- we merely make it the  
path of least resistance!

For example, one idea I've been toying with is creating a  
"rest_scaffold" that would make it trivial to RESTify "Ruby on  
Rails". As a bonus, it would use XHTML as the encoding so that the  
same app could be used with: i) web browsers, ii) web services, and  
iii) AJAX.   I suspect something like this would simultaneously lower  
barriers to entry and create a compelling value proposition -- both  
of which are essential for adoption.

Does that make sense?

See my blog (below) for more details.

Best,
-- Ernie P.

On Oct 20, 2005, at 5:00 PM, toydi wrote:

&gt; On 10/20/05, Bob Haugen &lt;bob.haugen@...&gt; wrote:
&gt;
&gt; &gt; Do you think that CORBA and SOAP do not require people to follow  
&gt; a set of rules?
&gt; &gt; Do you think those rules are simpler and easier than REST?
&gt; &gt;
&gt; &gt; The great majority of users of Amazon's Web services found REST  
&gt; easier
&gt; &gt; than SOAP.
&gt;
&gt; That's a good sign indeed. :)
&gt;
&gt; I always feel that ReST provides a more *natural* way to see things in
&gt; a distributed web environment. My concern is how to encourage more
&gt; developers to start to restify their web apps, in order to create a
&gt; major interoperable web environment.
&gt;
&gt; Is it a right move to start to work on *more concrete* practical
&gt; guidelines, toolkit, frameworks, to provide developers a clear path on
&gt; how to restify their apps start from analysis and design phase til the
&gt; implementation. Or is it better to just leave developers to figure out
&gt; things in their own way?
&gt;
&gt; The point in my previous message is, if we work on these guidelines
&gt; and framework, how to balance between "developers need to change a
&gt; lot" and "developers still flexible to do things their own way". How
&gt; to balance so that guidelines will not become a strict standard, but
&gt; still provide a common understanding platform to allow further
&gt; discussion and developement.
&gt;
&gt; (Recently, I'm thinking whether it's the right time to work on
&gt; practical guidelines and toolkit for ReST app development start from
&gt; analysis phase to implementation. Hopefully it will not try to
&gt; reinvent the whole wheel cycle, but rather to analyze the essential
&gt; needs in ReST app developement, then firgure out how to reuse
&gt; available tools and resources.)

------------
Ernest N. Prabhakar, Ph.D. &lt;drernie at opendarwin.org&gt;
Ex-Physicist, Marketing Weenie, and Dilettante Hacker
Probe-Hacker blog: http://www.opendarwin.org/~drernie/





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5341<br>
Sender:toydi &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-10-22 00:39:25<br>
Subject:Re: [rest-discuss] Re: Dreams about ReSTifying web apps<br>
Message:<br><br>
<pre>On 10/22/05, Dr. Ernie Prabhakar &lt;drernie@...&gt; wrote:

&gt; I worry about this question a lot;

What are your worries? :-)

&gt; To your particular question, I believe the optimal approach is to be
&gt; "exemplary" rather than "normative."

Indeed, it's easier, more *persuasive* and directly serve the needs of
a particular community. I'm just a newbie and I think there are still
many questions in my mind, awaiting for answers. :-) It's a pleasant
experience to learn in a discussion group.

&gt; For example, one idea I've been toying with is creating a
&gt; "rest_scaffold" that would make it trivial to RESTify "Ruby on
&gt; Rails".

Thanks for the link, it's interesting!

http://www.opendarwin.org/~drernie/rest-enabled-xhtml-20051019.html


It seems like there are more *RESTified toys* is available now. ;-)

--
-toydi-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5342<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2005-10-22 00:47:39<br>
Subject:REX (WAS: [rest-discuss] Dreams...)<br>
Message:<br><br>
<pre>Hi Toydi,

On Oct 21, 2005, at 5:39 PM, toydi wrote:

&gt;&gt; I worry about this question a lot;
&gt;
&gt; What are your worries? :-)

Well, since you asked...

I like REST -- it feels very *right*.  However, even though vastly  
simpler than XML-RPC, it still feels too "unconstrained" for a  
dilettante like me to make intelligent decision decisions.  The  
purpose of that preso you cited:

REX: REST-Enabled XHTML
http://www.opendarwin.org/~drernie/rest-enabled-xhtml-20051019.html

is to try to define a simpler "profile" for using REST in the context  
of dual-use XHTML (for both web pages and web services).  The  
ultimate goal is to character something that is simultaneously:
	a) simple enough to be easily learnable/implementable
	b) functional enough to solve lots of real-world problems
	c) "RESTy" enough to encourage good design behavior.

Roy himself was kind enough to provide some comments, but I would  
love to get feedback from others on this list about whether I am in  
fact meeting those goals, or how I could do better.  Plus, I'm still  
figuring out how to best explain this idea, so suggestions for how to  
clarify my presentation are also welcome.

Thanks,
- Ernie P.
------------
Ernest N. Prabhakar, Ph.D. &lt;drernie at opendarwin.org&gt;
Ex-Physicist, Marketing Weenie, and Dilettante Hacker
Probe-Hacker blog: http://www.opendarwin.org/~drernie/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5343<br>
Sender:toydi &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-10-22 03:42:50<br>
Subject:Re: [rest-discuss] Response for multiple resources creation.<br>
Message:<br><br>
<pre>On 10/22/05, S. Mike Dierken &lt;mike@...&gt; wrote:

&gt; I have found that returning a "partial success" response in some systems
&gt; where I work to be useful for the application being built. This doesn't use
&gt; rfc2518, but the concepts are nearly the same.

Could you elaborate more about your implementation?

BTW, another thread [1] in rest-discuss has lead me to
microformats[2]. They try to reuse XHTML to create both human-readable
and machine-parsable semantic(al) representations. It should be useful
to substitude 207 Multistatus response in current web developement.

[1] http://groups.yahoo.com/group/rest-discuss/message/5342
[2] http://microformats.org/

--
-toydi-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5344<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-10-22 06:51:35<br>
Subject:RE: [rest-discuss] Response for multiple resources creation.<br>
Message:<br><br>
<pre>&gt; 
&gt; &gt;[...] sometimes, a POST request will cause several resources
&gt; creation. [...] In this case, which response code is more appropriate 
&gt; to reflect multiple resources creation?
&gt; &gt;
&gt; Not part of the HTTP spec, but the 207 Multistatus response defined in
&gt; rfc2518 seems appropriate. I would not be surprised if it was included 
&gt; in the next rev of the HTTP spec...
I have found that returning a "partial success" response in some systems
where I work to be useful for the application being built. This doesn't use
rfc2518, but the concepts are nearly the same.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5345<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-10-22 06:52:26<br>
Subject:RE: Connector Realms<br>
Message:<br><br>
<pre>Forwarding to rest-discuss@ as requested.

-----Original Message-----
From: Paul Beckford [mailto:beckfordp@...]
Sent: Thursday, October 20, 2005 11:16 PM
To: Mike Dierken
Subject: Re: Connector Realms

Mike Dierken wrote:

&gt;&gt;A) The URL locates a service interface (Java Interface) and the method 
&gt;&gt;you want on that interface seems to be passed as a param:
&gt;&gt;
&gt;&gt;http://myserver/myServiceInterface?method=doSomething&amp;param1=value1
&gt;&gt;
&gt;&gt;I think this is better and still ReSTful
&gt;&gt;    
&gt;&gt;
&gt;This is not RESTful. I was guilty of this too, many years ago. (see 
&gt;http://xml.apache.org/xang/ but now I know better...)
&gt;
&gt;The problem is when method=deleteStuff and the client does a GET. 
&gt;
&gt;
&gt;  
&gt;
&gt;&gt;B) The URL itself does not indicate that the server will return a 
&gt;&gt;Hessian resource representation.
&gt;&gt;    
&gt;&gt;
&gt;The missing piece is that the way you discovered the URL will usually 
&gt;have associated information that strongly indicates what the purpose of 
&gt;the resource is. For example, some html like &lt;img src="..."&gt; would lead 
&gt;you believe that image/gif would be returned.
&gt;
&gt;
&gt;
&gt;
&gt;  
&gt;
&gt;&gt;What is still missing is this concept of REALMS in the sense that you 
&gt;&gt;can make assumptions about the service just by looking at the URL.
&gt;&gt;    
&gt;&gt;
&gt;This is generally a bad idea - the RESTful way is to use 'hypertext as 
&gt;the engine of application state'. Use a document of some kind with the 
&gt;extra hints that you need. The URI should remain simple, opaque and 
&gt;used for one purpose.
&gt;
&gt;  
&gt;
&gt;&gt;Or the idea of changing protocol
&gt;&gt;depending on the "type" of service I want to access. 
&gt;&gt;    
&gt;&gt;
&gt;
&gt;  
&gt;
&gt;&gt;Thanks everyone for the input.
&gt;&gt;    
&gt;&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5346<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-10-22 07:02:39<br>
Subject:RE: [rest-discuss] Response for multiple resources creation.<br>
Message:<br><br>
<pre>&gt; 
&gt; &gt; I have found that returning a "partial success" response in some 
&gt; &gt; systems where I work to be useful for the application being built. 
&gt; &gt; This doesn't use rfc2518, but the concepts are nearly the same.
&gt; 
&gt; Could you elaborate more about your implementation?

Let's hypothetically say that you have products that you would like to sell,
so you send that data to a hypothetical e-commerce platform kind of company.
This company hosts multiple websites and it would be nice if your products
showed up on all of those websites - but you may not have permission to list
certain products for sale on certain websites. If you pay enough money, you
can own your own website and sell whatever you like - used food, collectible
lawn chairs, whatever - but on the 'main' website, that sort of stuff is
frowned upon.
So... the product data submitted would be accepted and stored - but the
listing for one website would not be created, but the listing for another
website would be created.

The response to the submitter needs to provide details that the intent to
sell succeeded in one website, but not another - partial success.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5347<br>
Sender:Paul Beckford &lt;beckfordp@...&gt;<br>
Post Date/Time:2005-10-23 08:02:41<br>
Subject:RE: Connector Realms<br>
Message:<br><br>
<pre>Hi All,

Thanks for all the polite responses to my original post. I am begining 
to understand what REST is all about. I still haven't read the 
dissertation cover to cover and I feel I should do. My interest is how 
to perform object orientated machine-to-machine communication using a 
ReST style. After thinking about it the only truly ReSTful approach to 
inter-application OO communication  is the optional "code on-demand" style.

Thinking it through, ReST is all about exposing state. So ReSTful 
applications communicate by retrieving (GET) or modifying (POST) each 
others state. So no distributed OO messaging (no new verbs), just state 
transfer. In an OO system state is hidden within objects, so state 
transfer becomes object transfer, which in ReST terms becomes 
code-on-demand.

For me this is a whole new way of looking at distributed applications. 
So the issue is no longer which synchronous messages (verbs) I should 
send and to which service interface. The new issues are now:

  1. Which state should I expose and why?
  2. Which state do I need to retrieve a copy of, and from
     where?
  3. How should I respond to unsolicited changes in my state?
  4. And what state changes should I induce in other components?

Thinking it through, communication by state transfer is analogous to 
asynchronous messaging. Pushing and pulling information around a 
distributed application. If your distributed application is architected 
in this loosely coupled way, then HTTP and mime types should be 
sufficient. No synchronous RPC style messaging is required.

So by definition a ReST connector operates in a single realm, the realm 
of the ReSTful distributed application. It is a matter of architecting 
your application in this style.

Have I  finally got It? If so, then:

   1. Where can I find out more about "code-on-demand"?
   2. How does ReST deal with transactions?


Thanks in advance,

Paul.




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5348<br>
Sender:"Erik_Eide" &lt;erik_eide@...&gt;<br>
Post Date/Time:2005-10-23 09:16:21<br>
Subject:validation<br>
Message:<br><br>
<pre>Hello

I'm interested in validation approaches for REST services, in
particular how to deal with mandatory and optional parameters, and
what to do when they are missing or contain invalid values.

In general, is returning status code 400 enough, or should one be
looking to provide additional info, such as which fields were missing
or containing invalid values.

Regards
Erik






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5349<br>
Sender:toydi &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-10-23 14:07:32<br>
Subject:Re: [rest-discuss] validation<br>
Message:<br><br>
<pre>On 10/23/05, Erik_Eide &lt;erik_eide@...&gt; wrote:

&gt; In general, is returning status code 400 enough, or should one be
&gt; looking to provide additional info, such as which fields were missing
&gt; or containing invalid values.
&gt;

Hi Erik,

What I did in my application, is returning a representation (in my
case, a HTML page) with a human-readable list (a simple &lt;ul&gt; list)
about which parameters are missing, or invalid types. As you
mentioned, the response status code is 400.

You should read about microformats (htpp://microformats.org) 's XOXO.
It provides an ideal representation format, if your main concern is
human-readable. Otherwise, you could just define your own XML schema
(or is such schema already available?).

Cheers.
---
-toydi-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5350<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-10-24 04:28:14<br>
Subject:RE: [rest-discuss] validation<br>
Message:<br><br>
<pre>&gt; &gt; In general, is returning status code 400 enough, or should one be 
&gt; &gt; looking to provide additional info, such as which fields were 
&gt; &gt; missing or containing invalid values.
&gt; &gt;
&gt; 
&gt; [...] As you mentioned, the response status code is 400.
If the 'parameters' are part of the URI (even within the query terms after
the question mark) then it usually best to use 404 Not Found, rather than
400 Bad Request. If the syntax of the request message is parseable &amp;
understandable, it isn't a 'bad request'. If the URI specified can't be
handled by the server, then 404 is more likely the best response status
code.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5351<br>
Sender:Erik Eide &lt;erik_eide@...&gt;<br>
Post Date/Time:2005-10-24 15:39:22<br>
Subject:RE: [rest-discuss] validation<br>
Message:<br><br>
<pre>Hi Mike

Thanks for answer, the scenario I was thinking of was
more along the lines of creating a resource via POST,
and how to handle missing parameters, or parameters
containing invalid values.

Best regs
Erik

--- "S. Mike Dierken" &lt;mike@...&gt; wrote:

&gt; &gt; &gt; In general, is returning status code 400 enough,
&gt; or should one be 
&gt; &gt; &gt; looking to provide additional info, such as
&gt; which fields were missing 
&gt; &gt; &gt; or containing invalid values.
&gt; &gt; &gt;
&gt; &gt; 
&gt; &gt; [...] As you mentioned, the response status code
&gt; is 400.
&gt; If the 'parameters' are part of the URI (even within
&gt; the query terms after
&gt; the question mark) then it usually best to use 404
&gt; Not Found, rather than
&gt; 400 Bad Request. If the syntax of the request
&gt; message is parseable &amp;
&gt; understandable, it isn't a 'bad request'. If the URI
&gt; specified can't be
&gt; handled by the server, then 404 is more likely the
&gt; best response status
&gt; code.
&gt; 
&gt; 
&gt; 



		
__________________________________ 
Start your day with Yahoo! - Make it your home page! 
http://www.yahoo.com/r/hs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5352<br>
Sender:toydi &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-10-28 16:02:33<br>
Subject:Re: [rest-discuss] Re: Dreams about ReSTifying web apps<br>
Message:<br><br>
<pre>Hi, I just wrote a powerpoint slide about a dream about "web utopia",
about a utopia where various apps able to interact seamlessly via a
distributed web environment.

http://restylab.php5.cz/files/webutopia.ppt

It's still a very *roughly dafted* idea, but anyway, I'm looking
forward to receive feedbacks and comments about the idea, to point out
any mistakes, and add in more brainstorming ideas. :-)


Cheers :-)

--
-toydi-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5353<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2005-10-28 17:45:36<br>
Subject:Re: [rest-discuss] Re: Dreams about ReSTifying web apps<br>
Message:<br><br>
<pre>Hi Toydi,

Thanks, very interesting.  My initial reactions:

a) Yes, absolutely. This is how the world *should* work, and I don't  
see a good reason it cannot.

b) Stop trying to standardize object models.  I realize that may be  
heresy -- I'm a long time OO guy -- but I think objects are just too  
hard to manage in a large community.  Instead, standardize *tables*.   
That is, formalize the *data* not the *methods.* That's more RESTy  
anyway.

c) Microformats (semantic XHTML) as the optimal lingua france for  
data encoding. Among many advantages: you don't need to design Yet  
Another XML Schema for your web interface.   Let's be honest: how  
many people do*you* know who can do that properly?

For the record (and anyone who cares), I've created a new section on  
the Microformats wiki to track this topic:

http://microformats.org/wiki/rest

I'll also be discussing this, and related topics, on the new  
micrformats-rest mailing list:

http://microformats.org/discuss/mail/microformats-rest/

I will try to stay active on this list for specific REST-related  
questions, but I'll be discussing more concrete implementations over  
there.  Feel free to come join toydi and I there!

Best,
Ernie P.


On Oct 28, 2005, at 9:02 AM, toydi wrote:

&gt; Hi, I just wrote a powerpoint slide about a dream about "web utopia",
&gt; about a utopia where various apps able to interact seamlessly via a
&gt; distributed web environment.
&gt;
&gt; http://restylab.php5.cz/files/webutopia.ppt
&gt;
&gt; It's still a very *roughly dafted* idea, but anyway, I'm looking
&gt; forward to receive feedbacks and comments about the idea, to point out
&gt; any mistakes, and add in more brainstorming ideas. :-)
&gt;
&gt;
&gt; Cheers :-)
&gt;
&gt; --
&gt; -toydi-

------------
Ernest N. Prabhakar, Ph.D. &lt;drernie at opendarwin.org&gt;
Ex-Physicist, Marketing Weenie, and Dilettante Hacker
Probe-Hacker blog: http://www.opendarwin.org/~drernie/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5354<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-10-28 20:07:10<br>
Subject:opaque URIs and RFC 2397 URIs<br>
Message:<br><br>
<pre>It strikes me that can make an HTTP URI less opaque, more 
self-documenting, and more broadly understandable if you use something 
like RFC 2397 to format the string.

For example, allow that you have a well-known XML format 
application/example+xml, and that an example of such a document is:
&lt;foo&gt;bar&lt;/foo&gt;

Then you could repackage this extremely opaque URI:
http://example.com?foo=bar

Using this RFC 2397 encoding of the XML:
|data:application/example+xml;charset=utf-8,%3Cfoo%3Ebar%3C%2Ffoo%3E%0D%0A%0D%0A| 
&lt;data:text/xml;charset=utf-8,%3Cfoo%3Ebar%3C%2Ffoo%3E%0D%0A%0D%0A&gt;

Or this tidier base-64 encoding of the above:
|data:application/example+xml;charset=utf-8;base64,PGZvbz5iYXI8L2Zvbz4NCg0K|

To make http://example.com?foo=bar into this slightly less opaque and 
more self-documenting URI:
http://example.com?|data:application/example+xml;charset=utf-8;base64,PGZvbz5iYXI8L2Zvbz4NCg0K|

The REST problem is that it violates the 'hypermedia as engine of 
application state' constraint, but maybe there is some additional hack 
which will improve on the situation, and in any event it seemed to me 
that others here might find this a fun idea.

- Lucas


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5355<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2005-10-31 17:14:10<br>
Subject:Re: [rest-discuss] opaque URIs and RFC 2397 URIs<br>
Message:<br><br>
<pre>Lucas Gonze wrote:
&gt; It strikes me that can make an HTTP URI less opaque, more 
&gt; self-documenting, and more broadly understandable if you use something 
&gt; like RFC 2397 to format the string.

The data protocol is only useful when the representation is the only 
thing of interest and it is only of interest *as itself*.

It isn't fully a network protocol (since it contains everything needed 
without accessing another computer) and solves a completely different 
set of problems to REST. It *can* be useful to make representations more 
self-contained (when representations invoked to render said 
representation, such as images embedded in an HTML document are 
referenced by such URIs).

In the cases where REST is of use the opaqueness of HTTP URIs (or at 
least, the fact that the URI is opaque to at least some agents that may 
be dealing with them) are a positive quality not a negative.

I do not see the value of hybriding HTTP and DATA URIs.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5356<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2005-10-31 18:09:14<br>
Subject:Re: [rest-discuss] opaque URIs and RFC 2397 URIs<br>
Message:<br><br>
<pre>Hi Jon (and hello again Lucas :-),

I wonder if I'm missing the whole point about "opaqueness."  What  
exactly does that mean? s."  What problem is that intended to solve?

One interpretation is that the URI could easily be  
"asdfa234avasdfsdf" and it shouldn't make any difference, since  
nobody cares.

The other interpretation is that the definition of REST doesn't force  
a particular URI scheme, so we're free to make it as human-readable  
and logically meaningful as possible.

Is either of those close to the mark, or is it something else entirely?

-- Ernie P.


On Oct 31, 2005, at 9:14 AM, Jon Hanna wrote:

&gt; Lucas Gonze wrote:
&gt; &gt; It strikes me that can make an HTTP URI less opaque, more
&gt; &gt; self-documenting, and more broadly understandable if you use  
&gt; something
&gt; &gt; like RFC 2397 to format the string.
&gt;
&gt; The data protocol is only useful when the representation is the only
&gt; thing of interest and it is only of interest *as itself*.
&gt;
&gt; It isn't fully a network protocol (since it contains everything needed
&gt; without accessing another computer) and solves a completely different
&gt; set of problems to REST. It *can* be useful to make representations  
&gt; more
&gt; self-contained (when representations invoked to render said
&gt; representation, such as images embedded in an HTML document are
&gt; referenced by such URIs).
&gt;
&gt; In the cases where REST is of use the opaqueness of HTTP URIs (or at
&gt; least, the fact that the URI is opaque to at least some agents that  
&gt; may
&gt; be dealing with them) are a positive quality not a negative.
&gt;
&gt; I do not see the value of hybriding HTTP and DATA URIs.
&gt;
&gt; YAHOO! GROUPS LINKS
&gt;
&gt;  Visit your group "rest-discuss" on the web.
&gt;
&gt;  To unsubscribe from this group, send an email to:
&gt;  rest-discuss-unsubscribe@yahoogroups.com
&gt;
&gt;  Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.
&gt;
&gt;

------------
Ernest N. Prabhakar, Ph.D. &lt;drernie at opendarwin.org&gt;
Ex-Physicist, Marketing Weenie, and Dilettante Hacker
Probe-Hacker blog: http://www.opendarwin.org/~drernie/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5357<br>
Sender:Paul James &lt;yahoogroups@...&gt;<br>
Post Date/Time:2005-10-31 19:46:59<br>
Subject:An example of a more RESTful version of the Delicious API<br>
Message:<br><br>
<pre>Hi all,

I've recently written an article entitled "A RESTful Web service, an 
example", it overviews a more RESTful version of the del.icio.us API 
(http://del.icio.us/doc/api) as an example of how to build and structure 
a RESTful Web service.

http://www.peej.co.uk/articles/restfully-delicious

I'd be grateful of any feedback and/or discussion on, I'm not an expert, 
so if anyone can back me up or let me know where I've missed the target 
that'd be cool.

Thanks, Paul.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5358<br>
Sender:Paul Jimenez &lt;pj@...&gt;<br>
Post Date/Time:2005-10-31 20:21:29<br>
Subject:Re: [rest-discuss] An example of a more RESTful version of the Delicious API<br>
Message:<br><br>
<pre>
Why not support PUT http://del.icio.us/api/[username]/bookmarks/ with
mimetype delicious/bookmarks+xml? It would replace your entire list of
bookmarks with the supplied list.  Also, supporting DELETE on that URI
should allow you to delete the entire list en-masse.

Also, why bother to wrap count and update time in their own
micro-schemas?   Why not just return the raw answer?  
On approximately the same subject, IWBN also if there was a way to
request a different return format than XML; RFC822 responses or HTML, perhaps.
Or why not hide the api alongside the current codebase by adding a request
header that would specify the return type as xml instead of the default
html?

My coupla pennies based on my experience reconciling REST with a
'normal' web interface.

  --pj


On Monday, Oct 31, 2005, Paul James writes:
&gt;Hi all,
&gt;
&gt;I've recently written an article entitled "A RESTful Web service, an 
&gt;example", it overviews a more RESTful version of the del.icio.us API 
&gt;(http://del.icio.us/doc/api) as an example of how to build and structure 
&gt;a RESTful Web service.
&gt;
&gt;http://www.peej.co.uk/articles/restfully-delicious
&gt;
&gt;I'd be grateful of any feedback and/or discussion on, I'm not an expert, 
&gt;so if anyone can back me up or let me know where I've missed the target 
&gt;that'd be cool.
&gt;
&gt;Thanks, Paul.
&gt;
&gt;
&gt;
&gt; 
&gt;Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt; 
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5359<br>
Sender:Yannick Loiseau &lt;yloiseau@...&gt;<br>
Post Date/Time:2005-10-31 20:36:43<br>
Subject:Re: [rest-discuss] An example of a more RESTful version of the Delicious API<br>
Message:<br><br>
<pre>
Hi,

For rest and bookmarks management, you can have a look at Rebel
http://www.xefer.com/rebel/api
which is a Rest interface using the Xbel vocabulary.


Paul James wrote:
&gt; Hi all,
&gt; 
&gt; I've recently written an article entitled "A RESTful Web service, an 
&gt; example", it overviews a more RESTful version of the del.icio.us API 
&gt; (http://del.icio.us/doc/api) as an example of how to build and structure 
&gt; a RESTful Web service.
&gt; 
&gt; http://www.peej.co.uk/articles/restfully-delicious
&gt; 
&gt; I'd be grateful of any feedback and/or discussion on, I'm not an expert, 
&gt; so if anyone can back me up or let me know where I've missed the target 
&gt; that'd be cool.
&gt; 
&gt; Thanks, Paul.
&gt; 
&gt; 
&gt; 
&gt;  
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt;  
&gt; 
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5360<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-10-31 20:55:56<br>
Subject:Re: [rest-discuss] opaque URIs and RFC 2397 URIs<br>
Message:<br><br>
<pre>
Hello again, Dr Ernie --

Dr. Ernie Prabhakar wrote:

&gt; Hi Jon (and hello again Lucas :-),
&gt;
&gt; I wonder if I'm missing the whole point about "opaqueness."  What 
&gt; exactly does that mean? s."  What problem is that intended to solve?


As far as I understand it, the point is to use either HTTP or a 
hypertext document format when the client and server have to agree on 
the terms of an interaction.  An example of doing it with HTTP: the 
Accept request header and Content-type response header.  An example of 
doing it with hypertext: a host returns an HTML form for a client to 
fill in.

A big part of the benefit is that RESTful interactions should be 
self-documenting.  HTTP URIs are opaque by definition, so when you move 
the interaction into the URI the interaction is hidden within the URI.

What caught my eye about this hack is that an RFC 2397 URI is 
self-documenting in the sense that it includes a lot of the stuff you'd 
normally get in HTTP headers, like content type and character set.  As 
Join points out, an RFC 2397 URI is not a network protocol, though, so 
that's why I'm piggybacking RFC 2397 URIs on HTTP URIs.

There are plenty of good arguments against my idea!  The reason why I'm 
thinking about it anyway is that people want to make hrefs carry more of 
the API workload for good reasons, so there is continuing pressure to 
come up with solutions.

- Lucas



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5361<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-10-31 21:35:22<br>
Subject:Re: [rest-discuss] opaque URIs and RFC 2397 URIs<br>
Message:<br><br>
<pre>Jon Hanna wrote:

&gt; I do not see the value of hybriding HTTP and DATA URIs.


The problem to solve is that HTML HREFs and other browser-friendly link 
vehicles work like crazy, so that developers pack any functionality in 
there that they can, and it would be a good thing to find a way to build 
on this appeal without losing RESTful design.  The value of DATA URIs in 
this context is that they are more self-describing and less opaque than 
HTTP URIs.

Here is a different implementation of the same idea.  Rather than 
inserting DATA URIs into HTTP URIs, I'm going to do it in two steps.  
All I want to do is explain the idea by putting it in a different form, 
though.

Let's say there is a resource which needs to be accessed via POST for 
purposes which are application-defined, but that the POST body contents 
don't matter -- all the data is in the URI.  Let's also say that there 
is a hypertext format for describing such an interaction.  
http://www.mnot.net/blog/2004/04/14/rest_in_wsdl is an example of such a 
format. 

I'll make up an analogous format with the content type foo/bar, and 
stipulate that the user agent knows how to handle the foo/bar type.  An 
instance of a foo/bar document is:

POST / HTTP/1.1[CRLF]
Host: example.com[CRLF]

I convert that to RFC 2397 format:
data:foo/bar;charset=utf-8,POST%20/%20HTTP/1.1%5BCRLF%5D%0AHost%3A%20example.com%5BCRLF%5D%0A

Then embed the DATA URI in a hypertext document:
&lt;html&gt;&lt;head&gt;&lt;title/&gt;&lt;/head&gt;&lt;body&gt;
&lt;a 
href="data:foo/bar;charset=utf-8,POST%20/%20HTTP/1.1%5BCRLF%5D%0AHost%3A%20example.com%5BCRLF%5D%0A"&gt;POST 
away!&lt;/a&gt;
&lt;/body&gt;&lt;/html&gt;

The browser knows how to handle foo/bar internally, so it processes the 
DATA URI and performs a POST to example.com/.

That seems like a pretty useful sort of thing to be able to do, and that 
is the value.

- Lucas






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5362<br>
Sender:Paul James &lt;yahoogroups@...&gt;<br>
Post Date/Time:2005-10-31 22:33:56<br>
Subject:Re: [rest-discuss] An example of a more RESTful version of the Delicious API<br>
Message:<br><br>
<pre>Hi PJ,

Thanks for you comments.

Paul Jimenez wrote:

&gt;  Why not support PUT http://del.icio.us/api/[username]/bookmarks/ with
&gt;  mimetype delicious/bookmarks+xml? It would replace your entire list
&gt;  of bookmarks with the supplied list. Also, supporting DELETE on that
&gt;  URI should allow you to delete the entire list en-masse.

If this were a real implementation and not an example to demonstrate the 
principles of REST then I'd implement GET, PUT and DELETE on all 
resources that made sense. Maybe I should include more on this somewhere.

&gt;  Also, why bother to wrap count and update time in their own
&gt;  micro-schemas? Why not just return the raw answer?

Yeh, I thought about this. I wanted to keep the content formats simple 
and consistent, so I stuck with XML throughout the whole example. Maybe 
it'd show off the flexibility of REST and data formats, to have these 
two resources return plain text.

&gt;  On approximately
&gt;  the same subject, IWBN also if there was a way to request a different
&gt;  return format than XML; RFC822 responses or HTML, perhaps. Or why not
&gt;  hide the api alongside the current codebase by adding a request
&gt;  header that would specify the return type as xml instead of the
&gt;  default html?

This would be the next step since as Mark baker said "The Web is what 
Web services are trying to be", there should be no difference between 
the resources for the browser or for a machine. However this is beyond 
the scope of my article.

&gt;  My coupla pennies based on my experience reconciling REST with a
&gt;  'normal' web interface.
&gt;
&gt;  --pj

Thanks, Paul.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5363<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-10-31 23:44:01<br>
Subject:Re: [rest-discuss] opaque URIs and RFC 2397 URIs<br>
Message:<br><br>
<pre>On Mon, 2005-10-31 at 10:09 -0800, Dr. Ernie Prabhakar wrote:
&gt; I wonder if I'm missing the whole point about "opaqueness."  What
&gt; exactly does that mean? s."  What problem is that intended to solve?

I'd imagine one problem is clients coupling to a particular layout or
structure of server-produced URLs.  When they do, the server no longer
has the capability of changing its URL structure because the client is
expecting one in particular.   By ignoring hypermedia as the engine of
application state, and instead relying on URLs not being opaque, the
capability of the system to handle change is limited.

[Note that this says nothing about humans interpreting the content of
the URI to glean meaning... only the network components.]

...jsled
-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5364<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2005-11-01 00:00:39<br>
Subject:Re: [rest-discuss] opaque URIs and RFC 2397 URIs<br>
Message:<br><br>
<pre>Hi Lucas &amp; Jon,

On Oct 31, 2005, at 12:55 PM, Lucas Gonze wrote:
&gt; As far as I understand it, the point is to use either HTTP or a  
&gt; hypertext document format when the client and server have to agree  
&gt; on the terms of an interaction.  An example of doing it with HTTP:  
&gt; the Accept request header and Content-type response header.  An  
&gt; example of doing it with hypertext: a host returns an HTML form for  
&gt; a client to fill in.
&gt;
&gt; A big part of the benefit is that RESTful interactions should be  
&gt; self-documenting.  HTTP URIs are opaque by definition, so when you  
&gt; move the interaction into the URI the interaction is hidden within  
&gt; the URI.

Hmm.  Are we *only* discussing opacity in the context of "data:" URIs?

Or is there a general principal that the server-side processing --  
once its been properly routed -- should not require any knowledge of  
the actual URI, much less try to parse it?  That is, all processing  
should operate on the document itself.

-- Ernie P.

------------
Ernest N. Prabhakar, Ph.D. &lt;drernie at opendarwin.org&gt;
Ex-Physicist, Marketing Weenie, and Dilettante Hacker
Probe-Hacker blog: http://www.opendarwin.org/~drernie/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5365<br>
Sender:Seth Johnson &lt;seth.johnson@...&gt;<br>
Post Date/Time:2005-11-01 05:06:50<br>
Subject:Re: [rest-discuss] opaque URIs and RFC 2397 URIs<br>
Message:<br><br>
<pre>
I thought Josh's explanation made sense.  Analyzing the URL moves
away from treating hypermedia as the engine of application
state.  That said, it appears that opacity isn't so much a
principle of REST as it's an original principle of the web that
Fielding didn't really care to integrate so much.

Some resources on opacity:


Common REST Mistakes:

&gt; http://www.prescod.net/rest/mistakes/

The Opacity Axiom (from Berners-Lee):

&gt; http://www.w3.org/DesignIssues/Axioms.html#opaque
&gt; http://www.w3.org/DesignIssues/Fragment.html

Comments on REST and Opacity:

&gt; http://rest.blueoxen.net/cgi-bin/wiki.pl?RestAndUriOpacity
&gt; http://rest.blueoxen.net/cgi-bin/wiki.pl?OpacityMythsDebunked

. . . including a quote from Roy Fielding:

  "REST does not require that a URI be opaque. The only place
where the word opaque occurs in my dissertation is where I
complain about the opaqueness of cookies. In fact, RESTful
applications are, at all times, encouraged to use
human-meaningful, hierarchical identifiers in order to maximize
the serendipitous use of the information beyond what is
anticipated by the original application."    (1SK)

  -- http://groups.yahoo.com/group/rest-discuss/message/3232   
(1SL)

Here somebody distinguishes between "opaque" and "generic" URLs:

&gt; http://www.webreference.com/html/tutorial2/1.html


Seth Johnson

"Dr. Ernie Prabhakar" wrote:
&gt; 
&gt; Hi Lucas &amp; Jon,
&gt; 
&gt; On Oct 31, 2005, at 12:55 PM, Lucas Gonze wrote:
&gt; &gt; As far as I understand it, the point is to use either HTTP or a
&gt; &gt; hypertext document format when the client and server have to agree
&gt; &gt; on the terms of an interaction.  An example of doing it with HTTP:
&gt; &gt; the Accept request header and Content-type response header.  An
&gt; &gt; example of doing it with hypertext: a host returns an HTML form for
&gt; &gt; a client to fill in.
&gt; &gt;
&gt; &gt; A big part of the benefit is that RESTful interactions should be
&gt; &gt; self-documenting.  HTTP URIs are opaque by definition, so when you
&gt; &gt; move the interaction into the URI the interaction is hidden within
&gt; &gt; the URI.
&gt; 
&gt; Hmm.  Are we *only* discussing opacity in the context of "data:" URIs?
&gt; 
&gt; Or is there a general principal that the server-side processing --
&gt; once its been properly routed -- should not require any knowledge of
&gt; the actual URI, much less try to parse it?  That is, all processing
&gt; should operate on the document itself.
&gt; 
&gt; -- Ernie P.
&gt; 
&gt; ------------
&gt; Ernest N. Prabhakar, Ph.D. &lt;drernie at opendarwin.org&gt;
&gt; Ex-Physicist, Marketing Weenie, and Dilettante Hacker
&gt; Probe-Hacker blog: http://www.opendarwin.org/~drernie/
&gt; 
&gt; 
&gt; 
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 

-- 

RIAA is the RISK!  Our NET is P2P!
http://www.nyfairuse.org/action/ftc

DRM is Theft!  We are the Stakeholders!

New Yorkers for Fair Use
http://www.nyfairuse.org

[CC] Counter-copyright: http://realmeasures.dyndns.org/cc

I reserve no rights restricting copying, modification or
distribution of this incidentally recorded communication. 
Original authorship should be attributed reasonably, but only so
far as such an expectation might hold for usual practice in
ordinary social discourse to which one holds no claim of
exclusive rights.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5366<br>
Sender:toydi &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-11-01 02:24:25<br>
Subject:Re: REX (WAS: [rest-discuss] Dreams...)<br>
Message:<br><br>
<pre>Hi all, I would like to share some of my experience regarding
browser's limitations.

This message is somehow a response to REX proposal [1] :
&gt;   1. Constraining REST verbs to POST/GET

[Case]
I built a simple web app recently in order to gain some REST
experiences. The app's main target user agent is browser, and I faced
two problems:

1) To send out HTTP requests other than GET, POST, script
(xmlhttprequest) is the only solution. What if some end-users fail to
turn on the scripting support in their browsers?

2) Some browsers still having problems to correctly send out desired
HTTP request (e.g Opera8 can't send out PUT, DELETE, IE6 having
problem to send out DELETE to URL which require HTTP-digest-auth).

[Problems]
My web app need to provide services: 1) friendly enough for both
script-enabled and script-disabled browsers, 2) and also *rich
semantic* enough for other *powerful* user agents.

[Solution]
As a results, I try to make use of the "client-server" constraint [2]
to come out with a solution by separating out UI from the app's main
functionality.

"App functionality resources" accept complete HTTP requests (e.g GET,
PUT, POST, DELETE) to allow usual RESTful manipulation of resources.

"UI resources" (just some HTML Form pages) armed with scripts, allow
end-user to send out HTTP request directly to any "App functionality
resources".

In addition, the "UI resource" itself, also accepts POST request (in
case script failed), uses the received form-data to reconstruct an
internal request, then internally forwards it to the target "App
functionality resource".

[Example]
Well, here's some pictures (I always prefer pictures ;-) ) to show an
example on how to update an Announcement resource in my app:

Script-Enabled Scenario
(http://restylab.php5.cz/files/images/script-enabled-scenario.gif)
Script-Disabled Scenario
(http://restylab.php5.cz/files/images/script-disabled-scenario.gif)

With the separation of UI and functionality resources, the app now,
can serve well to various user agents including both script-enabled &amp;
script-disabled browsers.

Any comments?

[1] http://www.opendarwin.org/~drernie/rest-enabled-xhtml-20051019.html
[] http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_2

Cheers,
--
-toydi-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5367<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2005-11-01 09:21:36<br>
Subject:Re: [rest-discuss] opaque URIs and RFC 2397 URIs<br>
Message:<br><br>
<pre>Dr. Ernie Prabhakar wrote:
&gt; Hi Jon (and hello again Lucas :-),
&gt; 
&gt; I wonder if I'm missing the whole point about "opaqueness."  What 
&gt; exactly does that mean? s."  What problem is that intended to solve?

Opaqueness means that *in general* a URI can be treated as if none of 
its parts are semantically significant.

Now, a process may treat a URI's parts as being significant in a few 
ways - when dereferencing it it is necessary to extract the host to find 
the server to connect to, the server can treat the rest as significant 
in some way, or can map it to a file system which in turn will treat it 
as significant and the client can treat it as significant in 
constructing it, but generally will not (merely using a URI it has found 
in a hypertext document when it dereferenced a previous URI).

Hence, for example, a caching proxy need know nothing about the 
significance of a URI, it uses it only as a string to identify the 
collection of headers and data that it stores and passes on (as 
instructed by said headers). A browser need not know if a URI in a &lt;img 
/&gt; element refers to a file or a process which dynamically generates an 
image, and an RDF parser need know nothing about the URI beyond the 
string of characters that composes it.

HTTP URIs are not entirely opaque in this fashion, since for historical 
reasons the presence or absense of a query portion dictates the default 
caching behaviour in the case of their being no relevant headers.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5368<br>
Sender:Laurian Gridinoc &lt;laurian@...&gt;<br>
Post Date/Time:2005-11-01 10:51:33<br>
Subject:Re: REX (WAS: [rest-discuss] Dreams...)<br>
Message:<br><br>
<pre>Hello,

On 11/1/05, toydi &lt;iamstupidiot@...&gt; wrote:
&gt; [Example]
&gt; Well, here's some pictures (I always prefer pictures ;-) ) to show an
&gt; example on how to update an Announcement resource in my app:
&gt; Script-Enabled Scenario
&gt; (http://restylab.php5.cz/files/images/script-enabled-scenario.gif)
&gt; Script-Disabled Scenario
&gt; (http://restylab.php5.cz/files/images/script-disabled-scenario.gif)
&gt; With the separation of UI and functionality resources, the app now,
&gt; can serve well to various user agents including both script-enabled &amp;
&gt; script-disabled browsers.
&gt; Any comments?

Or just POST to the `Announce' with an extra ugly (hidden) parameter
like http-equiv=PUT, and in your webapplication you have a request
filter that detects this parameter, and change the verb to PUT before
reaching `Announce'.
So, you may free the EditAnnounceForm of a POST handler.

Cheers,
--
Laurian Gridinoc, www.grapefruit.ro

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5369<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2005-11-01 13:05:52<br>
Subject:Re: [rest-discuss] opaque URIs and RFC 2397 URIs<br>
Message:<br><br>
<pre>On Oct 31, 2005, at 9:06 PM, Seth Johnson wrote:
&gt; I thought Josh's explanation made sense.  Analyzing the URL moves
&gt; away from treating hypermedia as the engine of application
&gt; state.  That said, it appears that opacity isn't so much a
&gt; principle of REST as it's an original principle of the web that
&gt; Fielding didn't really care to integrate so much.

No, it is just that people are different from machines,
servers are different from clients, and TimBL used the word
"Axiom" to mean architectural constraint.  In order to understand
TimBL's design notes, you have to know about the context in which
he is writing a response.  In this case, various thoughts were
recorded as the "Opacity Axiom" in response to a discussion about
client behavior and the perceived need for URNs.  It has long
since been taken out of context and abused in various ways.

Also, keep in mind that TimBL's design note was written two
years after Henrik and I worked out the important bits of what
would become the HTTP object model, later re-named REST to get
away from OOM terms, about 18 months after we had similar
discussions at MIT with TimBL and the rest of the W3C team, and
more than a year after HTTP/1.0 was finished and HTTP/1.1 proposed.
So, saying it was something that I "didn't really care to
integrate so much" is missing the mark by quite a bit -- he is
trying to describe our model to people who did not understand it.

The opacity principle, as actually used on the Web, refers only
to the machine interpretation of request processing as being
dependent on control data (e.g., hypertext anchors and message
field names) rather than on metadata appearing within the URI.
It is the same reason why we distinguish media types from data
formats -- the fact that a string of bytes looks like angle tags
doesn't mean we want to process it as HTML.  Ignoring any
semantically significant data in a URI allows operations on a
resource to be orthogonal to identification of the resource.

REST does include the opacity axiom in the original sense of
that phrase.  I did not use it by name in REST because it isn't
a principle at all -- opacity is just a name TimBL used for the
set of constraints around URI processing by clients (a byproduct
of the constraints that you will find in REST).  The principle
involved is orthogonal design.

"Opacity of URI" only applies to clients and, even then, only to
those parts of the URI that are not defined by relevant standards.
Origin servers, for example, have the choice of interpreting a
URI as being opaque or as a structure that defines how the server
maps the URI to a representation of the resource.  Cool URIs will
often make a transition from being originally interpreted as
structure by the server and then later treated as an opaque
string (perhaps because the server implementation has changed
and the owner wants the old URI to persist).  The server can make
that transition because clients are required to act like they
are ignorant of the server-private structure.

Clients are allowed to treat a URI as being structured
if that structure is defined by standard (e.g., scheme and
authority in "http") or if the server tells the client how its
URI is structured.  For example, both GET-based FORM actions and
server-side image map processing compose the URI from a
server-provided base and a user-supplied suffix constructed
according to an algorithm defined by a standard media type.

Note, however, that some people have taken the mere title of
"opacity" and assumed that it meant URIs should not have
meaningful construction at all.  TimBL's axiom doesn't say
that and neither does REST.

Cheers,

Roy T. Fielding                            &lt;http://roy.gbiv.com/&gt;
Chief Scientist, Day Software              &lt;http://www.day.com/&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5370<br>
Sender:toydi &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-11-01 14:12:46<br>
Subject:Re: REX (WAS: [rest-discuss] Dreams...)<br>
Message:<br><br>
<pre>Hi Laurian,

On 11/1/05, Laurian Gridinoc &lt;laurian@...&gt; wrote:

&gt; Or just POST to the `Announce' with an extra ugly (hidden) parameter
&gt; like http-equiv=PUT, and in your webapplication you have a request
&gt; filter that detects this parameter, and change the verb to PUT before
&gt; reaching `Announce'.
&gt; So, you may free the EditAnnounceForm of a POST handler.
&gt;

That would be a nice design decision too. :-)

The reason behind why I use an EditAnnounceForm resource, is that,

Announce resource itself just nice enough, to serve normal restful
interactions by accepting GET, PUT, DELETE requests. I try to keep it
simple and separate it away from UI requirements.

OTOH, EditAnnounceForm is actually a "read-only resource" [1] (accept
GET only) that provides UI (buttons, a HTML form and a client-script)
to help end users sending out HTTP request to Announce resource.

In order to support some older browsers, EditAnnounceForm can also
acts as a "processing resource" [1] to accept and process POST
request.

As you said, certain hidden parameters are included in the POST
request, so that EditAnnounceForm can detect and reconstruct them into
a PUT request and forward to Announce resource. What i did, is using a
submit &amp; a hidden &lt;input&gt; in the form:

&lt;form method="post"&gt;
....
&lt;input type="hidden" name="actionuri" value="/announcement/12" /&gt;
&lt;input type="submit" name="reqmethod" value="update" /&gt;
&lt;/form&gt;

EditAnnounceForm will reconstruct the POST request into an internal
PUT request if reqmethod == "update" and send it to "/announcement/12"
(an Announce resource).

Again, why I choose to use this design is first, I can take away UI
codes if not needed anymore. Or, I only need to change codes in
EditAnnounceForm, if the UI is changed (maybe using a new XForm).
Announce resource is always there, I don't have to touch it.

Again, it's only a design decision. So, is there any "not so good
practice" in this design method? :-)


[1] http://www.markbaker.ca/2001/09/draft-baker-http-resource-state-model-01.txt

Cheers,
--
-toydi-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5371<br>
Sender:Seth Johnson &lt;seth.johnson@...&gt;<br>
Post Date/Time:2005-11-01 17:25:04<br>
Subject:Re: [rest-discuss] opaque URIs and RFC 2397 URIs<br>
Message:<br><br>
<pre>
Hello Roy,

Thanks for this clarification!


Seth


"Roy T. Fielding" wrote:
&gt; 
&gt; On Oct 31, 2005, at 9:06 PM, Seth Johnson wrote:
&gt; &gt; I thought Josh's explanation made sense.  Analyzing the URL moves
&gt; &gt; away from treating hypermedia as the engine of application
&gt; &gt; state.  That said, it appears that opacity isn't so much a
&gt; &gt; principle of REST as it's an original principle of the web that
&gt; &gt; Fielding didn't really care to integrate so much.
&gt; 
&gt; No, it is just that people are different from machines,
&gt; servers are different from clients, and TimBL used the word
&gt; "Axiom" to mean architectural constraint.  In order to understand
&gt; TimBL's design notes, you have to know about the context in which
&gt; he is writing a response.  In this case, various thoughts were
&gt; recorded as the "Opacity Axiom" in response to a discussion about
&gt; client behavior and the perceived need for URNs.  It has long
&gt; since been taken out of context and abused in various ways.
&gt; 
&gt; Also, keep in mind that TimBL's design note was written two
&gt; years after Henrik and I worked out the important bits of what
&gt; would become the HTTP object model, later re-named REST to get
&gt; away from OOM terms, about 18 months after we had similar
&gt; discussions at MIT with TimBL and the rest of the W3C team, and
&gt; more than a year after HTTP/1.0 was finished and HTTP/1.1 proposed.
&gt; So, saying it was something that I "didn't really care to
&gt; integrate so much" is missing the mark by quite a bit -- he is
&gt; trying to describe our model to people who did not understand it.
&gt; 
&gt; The opacity principle, as actually used on the Web, refers only
&gt; to the machine interpretation of request processing as being
&gt; dependent on control data (e.g., hypertext anchors and message
&gt; field names) rather than on metadata appearing within the URI.
&gt; It is the same reason why we distinguish media types from data
&gt; formats -- the fact that a string of bytes looks like angle tags
&gt; doesn't mean we want to process it as HTML.  Ignoring any
&gt; semantically significant data in a URI allows operations on a
&gt; resource to be orthogonal to identification of the resource.
&gt; 
&gt; REST does include the opacity axiom in the original sense of
&gt; that phrase.  I did not use it by name in REST because it isn't
&gt; a principle at all -- opacity is just a name TimBL used for the
&gt; set of constraints around URI processing by clients (a byproduct
&gt; of the constraints that you will find in REST).  The principle
&gt; involved is orthogonal design.
&gt; 
&gt; "Opacity of URI" only applies to clients and, even then, only to
&gt; those parts of the URI that are not defined by relevant standards.
&gt; Origin servers, for example, have the choice of interpreting a
&gt; URI as being opaque or as a structure that defines how the server
&gt; maps the URI to a representation of the resource.  Cool URIs will
&gt; often make a transition from being originally interpreted as
&gt; structure by the server and then later treated as an opaque
&gt; string (perhaps because the server implementation has changed
&gt; and the owner wants the old URI to persist).  The server can make
&gt; that transition because clients are required to act like they
&gt; are ignorant of the server-private structure.
&gt; 
&gt; Clients are allowed to treat a URI as being structured
&gt; if that structure is defined by standard (e.g., scheme and
&gt; authority in "http") or if the server tells the client how its
&gt; URI is structured.  For example, both GET-based FORM actions and
&gt; server-side image map processing compose the URI from a
&gt; server-provided base and a user-supplied suffix constructed
&gt; according to an algorithm defined by a standard media type.
&gt; 
&gt; Note, however, that some people have taken the mere title of
&gt; "opacity" and assumed that it meant URIs should not have
&gt; meaningful construction at all.  TimBL's axiom doesn't say
&gt; that and neither does REST.
&gt; 
&gt; Cheers,
&gt; 
&gt; Roy T. Fielding                            &lt;http://roy.gbiv.com/&gt;
&gt; Chief Scientist, Day Software              &lt;http://www.day.com/&gt;
&gt; 
&gt; 
&gt; 
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 

-- 

RIAA is the RISK!  Our NET is P2P!
http://www.nyfairuse.org/action/ftc

DRM is Theft!  We are the Stakeholders!

New Yorkers for Fair Use
http://www.nyfairuse.org

[CC] Counter-copyright: http://realmeasures.dyndns.org/cc

I reserve no rights restricting copying, modification or
distribution of this incidentally recorded communication. 
Original authorship should be attributed reasonably, but only so
far as such an expectation might hold for usual practice in
ordinary social discourse to which one holds no claim of
exclusive rights.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5372<br>
Sender:Laurian Gridinoc &lt;laurian@...&gt;<br>
Post Date/Time:2005-11-01 15:29:17<br>
Subject:Re: REX (WAS: [rest-discuss] Dreams...)<br>
Message:<br><br>
<pre>Hello,

On 11/1/05, toydi &lt;iamstupidiot@...&gt; wrote:
&gt; &gt; Or just POST to the `Announce' with an extra ugly (hidden) parameter
&gt; &gt; like http-equiv=PUT, and in your webapplication you have a request
&gt; &gt; filter that detects this parameter, and change the verb to PUT before
&gt; &gt; reaching `Announce'.
&gt; &gt; So, you may free the EditAnnounceForm of a POST handler.
&gt; &gt;
&gt; That would be a nice design decision too. :-)
&gt; The reason behind why I use an EditAnnounceForm resource, is that,
&gt; Announce resource itself just nice enough, to serve normal restful
&gt; interactions by accepting GET, PUT, DELETE requests. I try to keep it
&gt; simple and separate it away from UI requirements.
&gt; OTOH, EditAnnounceForm is actually a "read-only resource" [1] (accept
&gt; GET only) that provides UI (buttons, a HTML form and a client-script)
&gt; to help end users sending out HTTP request to Announce resource.
&gt; In order to support some older browsers, EditAnnounceForm can also
&gt; acts as a "processing resource" [1] to accept and process POST
&gt; request.
&gt; As you said, certain hidden parameters are included in the POST
&gt; request, so that EditAnnounceForm can detect and reconstruct them into
&gt; a PUT request and forward to Announce resource. What i did, is using a
&gt; submit &amp; a hidden &lt;input&gt; in the form:
&gt; &lt;form method="post"&gt;
&gt; ....
&gt; &lt;input type="hidden" name="actionuri" value="/announcement/12" /&gt;
&gt; &lt;input type="submit" name="reqmethod" value="update" /&gt;
&gt; &lt;/form&gt;
&gt; EditAnnounceForm will reconstruct the POST request into an internal
&gt; PUT request if reqmethod == "update" and send it to "/announcement/12"
&gt; (an Announce resource).
&gt; Again, why I choose to use this design is first, I can take away UI
&gt; codes if not needed anymore. Or, I only need to change codes in
&gt; EditAnnounceForm, if the UI is changed (maybe using a new XForm).
&gt; Announce resource is always there, I don't have to touch it.
&gt; Again, it's only a design decision. So, is there any "not so good
&gt; practice" in this design method? :-)
&gt; [1] http://www.markbaker.ca/2001/09/draft-baker-http-resource-state-model-01.txt

For the options:
&gt; Script-Enabled Scenario
&gt; (http://restylab.php5.cz/files/images/script-enabled-scenario.gif)
&gt; Script-Disabled Scenario
&gt; (http://restylab.php5.cz/files/images/script-disabled-scenario.gif)

I propose
http://www.grapefruit.ro/script-disabled-scenario.gif

You have in your form a hidden parameter let's say named http-equiv
with the value PUT,
your app server has a filter that intercepts POST requests, and if a
http-equiv param is present, it `rewrites' the request to have the
verb specified in the parameter.

So you just code your app using all HTTP verbs, and the filter takes
care of the script-disables situation.

Cheers,
--
Laurian Gridinoc, www.grapefruit.ro

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5373<br>
Sender:Laurian Gridinoc &lt;laurian@...&gt;<br>
Post Date/Time:2005-11-01 15:37:03<br>
Subject:Re: REX (WAS: [rest-discuss] Dreams...)<br>
Message:<br><br>
<pre>On 11/1/05, Laurian Gridinoc &lt;laurian@...&gt; wrote:
&gt; For the options:
&gt; &gt; Script-Enabled Scenario
&gt; &gt; (http://restylab.php5.cz/files/images/script-enabled-scenario.gif)
&gt; &gt; Script-Disabled Scenario
&gt; &gt; (http://restylab.php5.cz/files/images/script-disabled-scenario.gif)
&gt;
&gt; I propose
&gt; http://www.grapefruit.ro/script-disabled-scenario.gif
&gt;
&gt; You have in your form a hidden parameter let's say named http-equiv
&gt; with the value PUT,
&gt; your app server has a filter that intercepts POST requests, and if a
&gt; http-equiv param is present, it `rewrites' the request to have the
&gt; verb specified in the parameter.
&gt; So you just code your app using all HTTP verbs, and the filter takes
&gt; care of the script-disables situation.

I don't mean to say that you just change the HTTP header to express
another verb, but to reconstruct the entire request accordingly.
A PUT request will probably take it's body from another parameter.
A DELETE request won't have a body at all.

The idea is to keep the target URI to the Announce, and not re-route
it through EditAnnounceForm.

Cheers,
--
Laurian Gridinoc, www.grapefruit.ro

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5374<br>
Sender:Dimitri Glazkov &lt;dimitri.glazkov@...&gt;<br>
Post Date/Time:2005-11-01 15:47:33<br>
Subject:Re: REX (WAS: [rest-discuss] Dreams...)<br>
Message:<br><br>
<pre>I think these are all great brainstorming thoughts. However, this more
and more smells like tunnelling of verbs through nouns and thus less
and less like rest.

If you don't have the ability to use PUT and DELETE from the client,
then your only valid choice is to implement a server architecture that
does not use them.

Everything else, IMHO, is going to produce something that is neither
RESTful nor useful.

:DG&lt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5375<br>
Sender:toydi &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-11-01 16:53:55<br>
Subject:Re: REX (WAS: [rest-discuss] Dreams...)<br>
Message:<br><br>
<pre>Hi Laurian,

I think I got your idea. :-) Previously, I was using EditAnnounceForm
as the *filter* in your proposal. I'll look deeper into this kind of
design in real-world implementation.


Hi DG,

On 11/1/05, Dimitri Glazkov &lt;dimitri.glazkov@...&gt; wrote:
&gt; I think these are all great brainstorming thoughts. However, this more
&gt; and more smells like tunnelling of verbs through nouns and thus less
&gt; and less like rest.
&gt;
&gt; If you don't have the ability to use PUT and DELETE from the client,
&gt; then your only valid choice is to implement a server architecture that
&gt; does not use them.
&gt;
&gt; Everything else, IMHO, is going to produce something that is neither
&gt; RESTful nor useful.

The current HTML4 FORM element allows us to send out only GET or POST
request. As a result, we try to use POST for resource manipulation
purposes (e.g creation, update, deletion), as the GET should be always
*safe*.

However, our severs need to know whether an incoming POST is
requesting for create, update or deletion? How to let servers know the
request purpose? That's what we are discussing..

When we have a RESful web service, supporting various powerful
browsers and RESTful clients, and we still need to take care of some
old browsers which support only GET &amp; POST, rather than re-implement
the whole web service, we are finding ways to allow old browsers to
use our service without violating the Web nature.

Somehow, we may see some resources as "processing resource" [1] to
help us to process requests in POST, it's not trying to do tunnelling,
but just to receive data needed to be processed.


[1] http://www.markbaker.ca/2001/09/draft-baker-http-resource-state-model-01.txt
(Section 3.1.4 Processing resources)

Cheers,
--
-toydi-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5376<br>
Sender:Dimitri Glazkov &lt;dimitri.glazkov@...&gt;<br>
Post Date/Time:2005-11-01 20:21:28<br>
Subject:Re: REX (WAS: [rest-discuss] Dreams...)<br>
Message:<br><br>
<pre>On 11/1/05, toydi &lt;iamstupidiot@...&gt; wrote:

&gt; The current HTML4 FORM element allows us to send out only GET or POST
&gt; request. As a result, we try to use POST for resource manipulation
&gt; purposes (e.g creation, update, deletion), as the GET should be always
&gt; *safe*.

I understand the challenge. It's the approach that I don't like :)

&gt; However, our severs need to know whether an incoming POST is
&gt; requesting for create, update or deletion? How to let servers know the
&gt; request purpose? That's what we are discussing..

That's what I am discussing, too. IMHO, once you have tunnelled delete
and update through POST, you have effectively left the realm of REST.
Your POST verb no longer means "create", and very little separates it
from the XML-RPC crowd.

What I am suggesting is instead focusing on server architectures that
only have "retrieve" and "create" operations. I believe such
architectures are not only possible, but can also fit naturally into
the current Web.

&gt; When we have a RESful web service, supporting various powerful
&gt; browsers and RESTful clients, and we still need to take care of some
&gt; old browsers which support only GET &amp; POST, rather than re-implement
&gt; the whole web service, we are finding ways to allow old browsers to
&gt; use our service without violating the Web nature.

I understand what you're saying and agree with the notion. To nitpick
just a little bit, since the "old browser" is the most commonly used
and most accessible client over HTTP, defining it as "providing
backward compatibility" seems like a fallacy. Maybe a better way to
say it is "defining REST architectures that are valid for HTML user
agents"?

&gt; Somehow, we may see some resources as "processing resource" [1] to
&gt; help us to process requests in POST, it's not trying to do tunnelling,
&gt; but just to receive data needed to be processed.

That sounds like tunnelling to me. You are wrapping "delete" or
"update" operation in a POST request. The processing resource model is
valid, it's just the use of it is not.

:DG&lt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5377<br>
Sender:Laurian Gridinoc &lt;laurian@...&gt;<br>
Post Date/Time:2005-11-01 21:46:46<br>
Subject:Re: REX (WAS: [rest-discuss] Dreams...)<br>
Message:<br><br>
<pre>Hello,

On 11/1/05, Dimitri Glazkov &lt;dimitri.glazkov@...&gt; wrote:
&gt; &gt; The current HTML4 FORM element allows us to send out only GET or POST
&gt; &gt; request. As a result, we try to use POST for resource manipulation
&gt; &gt; purposes (e.g creation, update, deletion), as the GET should be always
&gt; &gt; *safe*.
&gt;
&gt; I understand the challenge. It's the approach that I don't like :)
&gt;
&gt; &gt; However, our severs need to know whether an incoming POST is
&gt; &gt; requesting for create, update or deletion? How to let servers know the
&gt; &gt; request purpose? That's what we are discussing..
&gt;
&gt; That's what I am discussing, too. IMHO, once you have tunnelled delete
&gt; and update through POST, you have effectively left the realm of REST.
&gt; Your POST verb no longer means "create", and very little separates it
&gt; from the XML-RPC crowd.

Correct, but that 'little' would be safe (GET) vs non-safe (POST which
tunnels DELETE and PUT); which is a little better than regular web
services approach.

&gt; What I am suggesting is instead focusing on server architectures that
&gt; only have "retrieve" and "create" operations. I believe such
&gt; architectures are not only possible, but can also fit naturally into
&gt; the current Web.
&gt;
&gt; &gt; When we have a RESful web service, supporting various powerful
&gt; &gt; browsers and RESTful clients, and we still need to take care of some
&gt; &gt; old browsers which support only GET &amp; POST, rather than re-implement
&gt; &gt; the whole web service, we are finding ways to allow old browsers to
&gt; &gt; use our service without violating the Web nature.
&gt;
&gt; I understand what you're saying and agree with the notion. To nitpick
&gt; just a little bit, since the "old browser" is the most commonly used
&gt; and most accessible client over HTTP, defining it as "providing
&gt; backward compatibility" seems like a fallacy. Maybe a better way to
&gt; say it is "defining REST architectures that are valid for HTML user
&gt; agents"?
&gt;
&gt; &gt; Somehow, we may see some resources as "processing resource" [1] to
&gt; &gt; help us to process requests in POST, it's not trying to do tunnelling,
&gt; &gt; but just to receive data needed to be processed.
&gt;
&gt; That sounds like tunnelling to me. You are wrapping "delete" or
&gt; "update" operation in a POST request. The processing resource model is
&gt; valid, it's just the use of it is not.

In some applications, the backward compatibility may be important; the
issues is how to provide an optional backward compatibility without
breaking the design of the application.

And tunneling DELETE and PUT through POST without altering the normal
target URI -- as in the filter approach -- seems less intrusive in the
application logic than tunneling verbs through nouns -- ie. providing
separate URIs for PUT and DELETE where a POST will have PUT or DELETE
meaning -- like in the POST to EditAnnounceForm in the example in
discussion.

I would setup in an application such a backward compatibility mode at
least for debug purposes.

Anyway tunneled PUT and DELETE requests through POST will be harder to
control by a http aware firewall/proxy, in the filter approach where
the target URI is the intended one, than in tunneling verbs through
nouns, where you may filter URIs that represents PUT or DELETE entry
points.

Cheers,
--
Laurian Gridinoc, www.grapefruit.ro

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5378<br>
Sender:toydi &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-11-02 01:18:22<br>
Subject:Re: REX (WAS: [rest-discuss] Dreams...)<br>
Message:<br><br>
<pre>Hi Dimitri,

On 11/2/05, Dimitri Glazkov &lt;dimitri.glazkov@...&gt; wrote:
&gt; What I am suggesting is instead focusing on server architectures that
&gt; only have "retrieve" and "create" operations. I believe such
&gt; architectures are not only possible, but can also fit naturally into
&gt; the current Web.

I'm not quite clear about "server architectures that only have
"retrieve" and "create" operations", would you like elaborate more
(maybe using a toy example) about this server arch?

Or, do you mean like something described in
(http://www.opendarwin.org/~drernie/rest-enabled-xhtml-20051019.html#slide14)?

Yet, i still couldn't grab what does it mean by:

[in REX proposal: Challenge #2: Only Two Verbs]
"Don't overwrite documents; update version
    POST child&amp;key1=value1 =&gt; new child URI"



Cheers, :-)
--
-toydi-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5379<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2005-11-02 01:42:25<br>
Subject:@REX (WAS: [rest-discuss] Dreams...)<br>
Message:<br><br>
<pre>Hi all,

On Nov 1, 2005, at 1:46 PM, Laurian Gridinoc wrote:
&gt; And tunneling DELETE and PUT through POST without altering the normal
&gt; target URI -- as in the filter approach -- seems less intrusive in the
&gt; application logic than tunneling verbs through nouns -- ie. providing
&gt; separate URIs for PUT and DELETE where a POST will have PUT or DELETE
&gt; meaning -- like in the POST to EditAnnounceForm in the example in
&gt; discussion.

A fascinating discussion, and something I worry about.

I had a thought -- which I don't like, but seems like the least bad  
idea I've seen. :-)

I appreciate that a REST URI is designed to represent a specific  
resource:

http://host/root/uri/

I think I understand why this is important, and why it is Very Bad to  
mix verbs in with nouns.  I also agree that it is important to not  
mix the document content (including query strings) with the URI proper.

However, at the same time, my understanding is that REST was designed  
to represent the way the (normal) web already works today.  And the  
fact of the matter is that there's *lots* of websites that support  
the equivalent of PUT and DELETE operations without actually using  
them.  While its nice to think this problem might be solved by new  
browsers, that's not really a viable option in the short term.

One option -- which Dimitri is pushing -- is that we simply disallow  
those operations.  That is:

* we don't PUT complete objects; we POST a request asking for an  
object to be created/updated (with appropriate versions)

* we don't DELETE objects; we POST an update to that object flagging  
it for removal/hiding

I actually like this approach, as I think it does map onto many  
current application models -- as well as being implemented with  
current browsers -- and respects the original intent of REST.  I  
would certainly encourage people to adopt that approach wherever  
possible.

However, I don't think it is possible to say *never* do those  
thing.   In fact, people do them all the time on the web today, and  
we'll never get most of them to move those apps over to RESTful  
versions if they have to give up important functionality.  And -- at  
least if you care about converging REST with the normal web -- i.e.,  
making existing web apps behave in a more RESTful fashion-- we have  
to do *something*. If so, what is the least obnoxious thing that can  
be done?

My current best guess is that we should define a standard suffix for  
"decorating" URIs to indicate non-traditional behaviors. My favorite  
candidate for the delimeter is "@", since it is rare to find in HTTP  
URLs, but easily encoded, a la:

http://host/root/uri/%40PUT
	using mime/multipart
http://host/root/uri/%40DELETE
	with no body

Is this ugly? Absolutely.  But I honestly can't think of an easier-to- 
implement solution that is at least comprehensible, and doesn't  
require people to give up major portions of their existing technology.

Having already committed one heresy, let me go a step further. :-)

I know that a URI is intended to be one very specific object, and  
that additional processing is supposed to be done by the client.    
But in practice, we often want to provide standard variants of a  
given document.  Rather than again overloading that onto the query  
string, I think this might be another appropriate use of the "URI  
suffix."

http://host/root/uri/%40list
http://host/root/uri/%40table
http://host/root/uri/%40ajax

Is this REST?  No, I'll admit it is not.  However, I'm trying to be  
as RESTful as I can given the problem I need to solve.   Is there a  
better way?

-- Ernie P.
------------
Ernest N. Prabhakar, Ph.D. &lt;drernie at opendarwin.org&gt;
Ex-Physicist, Marketing Weenie, and Dilettante Hacker
Probe-Hacker blog: http://www.opendarwin.org/~drernie/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5380<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2005-11-02 13:34:53<br>
Subject:Re: @REX (WAS: [rest-discuss] Dreams...)<br>
Message:<br><br>
<pre>On Nov 1, 2005, at 5:42 PM, Dr. Ernie Prabhakar wrote:

&gt; However, at the same time, my understanding is that REST was designed
&gt; to represent the way the (normal) web already works today.  And the
&gt; fact of the matter is that there's *lots* of websites that support
&gt; the equivalent of PUT and DELETE operations without actually using
&gt; them.  While its nice to think this problem might be solved by new
&gt; browsers, that's not really a viable option in the short term.

REST is a style of interaction that produces certain properties
that we want out of a system.  The Web is an implementation, some
of which is standardized (the good stuff) and some of which was
hacked-in by folks who were just trying to make a customer happy.
We can't work around an architecture -- we leave it as soon as
the attempt is made.  To work around browser bugs, just fix the
stupid bugs or use a better browser.

I am amazed by how few people bother to point out Apache httpd
bugs that interfere with REST, even when they know I can fix them
once I know they exist and why they need to change.

The only reason the browsers haven't been fixed is because the
people who want them fixed haven't tried.  I've been too busy
and don't have a machine that will compile Firefox.  If people
would spend less time trying to convince Web Services to do what
they don't want to do and more time simply helping Web browser
developers fix their bugs, maybe we could make some progress.

If someone here patches Firefox and Ernie applies some peer
pressure on Safari, I am quite certain that I can guilt the
MSIE developers into fixing it as well.  Just come up with a
simple statement of what needs fixing and why.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5381<br>
Sender:Dimitri Glazkov &lt;dimitri.glazkov@...&gt;<br>
Post Date/Time:2005-11-02 14:31:58<br>
Subject:Re: @REX (WAS: [rest-discuss] Dreams...)<br>
Message:<br><br>
<pre>On 11/2/05, Roy T. Fielding &lt;fielding@...&gt; wrote:

&gt; REST is a style of interaction that produces certain properties
&gt; that we want out of a system.  The Web is an implementation, some
&gt; of which is standardized (the good stuff) and some of which was
&gt; hacked-in by folks who were just trying to make a customer happy.
&gt; We can't work around an architecture -- we leave it as soon as
&gt; the attempt is made.  To work around browser bugs, just fix the
&gt; stupid bugs or use a better browser.

These are not the browser bugs. These are spec limitations. HTML UAs
only support two verbs, POST and GET, per HTML4 spec.

The new WebForms 2.0 spec extends it and allows using multiple verbs:

http://whatwg.org/specs/web-forms/current-work/#for-http

This spec is not part of W3C work, although W3C acknowledged it:

http://www.w3.org/Submission/2005/02/Comment

So far, only Opera has made first stab at implementing this spec
publicly available:

http://groups.google.com/group/opera.beta/msg/e6711a9a6f124d71?as_umsgid=qfafl1d6u03asrj87u3gudvegr6tif6orp@...

I am pretty sure Safari and Firefox will follow. AFAIK, there are no
plans to implement Web Forms 2.0 in MSIE natively, but there is an
effort to provide a JS-powered implementation:

http://dean.edwards.name/weblog/2005/05/wf2-ie/


:DG&lt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5382<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2005-11-02 14:46:56<br>
Subject:Re: @REX (WAS: [rest-discuss] Dreams...)<br>
Message:<br><br>
<pre>On Nov 2, 2005, at 6:31 AM, Dimitri Glazkov wrote:
&gt; On 11/2/05, Roy T. Fielding &lt;fielding@...&gt; wrote:
&gt;&gt; REST is a style of interaction that produces certain properties
&gt;&gt; that we want out of a system.  The Web is an implementation, some
&gt;&gt; of which is standardized (the good stuff) and some of which was
&gt;&gt; hacked-in by folks who were just trying to make a customer happy.
&gt;&gt; We can't work around an architecture -- we leave it as soon as
&gt;&gt; the attempt is made.  To work around browser bugs, just fix the
&gt;&gt; stupid bugs or use a better browser.
&gt;
&gt; These are not the browser bugs. These are spec limitations. HTML UAs
&gt; only support two verbs, POST and GET, per HTML4 spec.

The only reason the HTML4 spec has only two options available
in that field is *because* of the browser bugs.  W3C specs have
no spine.

&gt; The new WebForms 2.0 spec extends it and allows using multiple verbs:
&gt;
&gt; http://whatwg.org/specs/web-forms/current-work/#for-http

Yep.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5383<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2005-11-02 18:22:33<br>
Subject:RESTful Browsers (WAS: @REX)<br>
Message:<br><br>
<pre>Hi Roy,

I'm happy to help take this on.  I don't think it will solve the  
whole problem (we have a lot of legacy browsers to deal with, after  
all), but it seems worth doing.

On Nov 2, 2005, at 5:34 AM, Roy T. Fielding wrote:
&gt; If someone here patches Firefox and Ernie applies some peer
&gt; pressure on Safari, I am quite certain that I can guilt the
&gt; MSIE developers into fixing it as well.  Just come up with a
&gt; simple statement of what needs fixing and why.

So, is the recommendation:

a) Allow "PUT" and "DELETE" in forms?
or
b) Adopt WebForms 2.0?

That is, it seems we need to clarify whether we're asking browser  
makers to upgrade HTML4 to support HTTP, or adopt a new version of  
HTML.   If the latter, then I'd like to make sure we define it as  
minimally as possible, so we don't take on too much.

-- Ernie P.

------------
Ernest N. Prabhakar, Ph.D. &lt;drernie at opendarwin.org&gt;
Ex-Physicist, Marketing Weenie, and Dilettante Hacker
Probe-Hacker blog: http://www.opendarwin.org/~drernie/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5384<br>
Sender:Yannick Loiseau &lt;yloiseau@...&gt;<br>
Post Date/Time:2005-11-02 19:57:00<br>
Subject:Re: [rest-discuss] RESTful Browsers (WAS: @REX)<br>
Message:<br><br>
<pre>
Hi,

Dr. Ernie Prabhakar wrote:
&gt; we have a lot of legacy browsers to deal with, after all

for Firefox, may be the easier way would be an extension, or even a
GreaseMonkey script to implent at least subset of WebForm 2
(such as constraints checking, HTTP methods using xmllHttp, and so on)
May be some project has already started in this way, don't know...


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5385<br>
Sender:Dimitri Glazkov &lt;dimitri.glazkov@...&gt;<br>
Post Date/Time:2005-11-02 21:06:13<br>
Subject:Re: [rest-discuss] RESTful Browsers (WAS: @REX)<br>
Message:<br><br>
<pre>I think implementing the section 5.6.1 of Web Forms 2.0 would do nicely.

:DG&lt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5386<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2005-11-02 21:58:49<br>
Subject:Multiple resource creation (again)<br>
Message:<br><br>
<pre>A few weeks ago we had a discussion on this list about creating multiple
resources with a POST: how do you return the URLs?

I have a similar situation again. Say you post to

=&gt; POST  http://example.com/items 
&lt;= 201 Created , Location: http://example.com/items/your-new-object

Suppose the server wants to convey the URLs of some associated resources;
say an editor resource.

Option 1: Return an entity with hypertext
&lt;object&gt;
  &lt;link rel="edit" href="http:/example.com/edit.5901243465"&gt;Edit&lt;/link&gt;
&lt;/object&gt;

Option 2: Invent a custom header, e.g.
X-Location-Edit: http:/example.com/edit.5901243465


Is one option better than the other?


Hugh



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5387<br>
Sender:Dr. Ernie Prabhakar &lt;drernie@...&gt;<br>
Post Date/Time:2005-11-03 00:43:06<br>
Subject:Re: [rest-discuss] Multiple resource creation (again)<br>
Message:<br><br>
<pre>Hi Hugh,

On Nov 2, 2005, at 1:58 PM, Hugh Winkler wrote:
&gt; A few weeks ago we had a discussion on this list about creating  
&gt; multiple
&gt; resources with a POST: how do you return the URLs?
&gt;
&gt; I have a similar situation again. Say you post to
&gt;
&gt; =&gt; POST  http://example.com/items
&gt; &lt;= 201 Created , Location: http://example.com/items/your-new-object
&gt;
&gt; Suppose the server wants to convey the URLs of some associated  
&gt; resources;
&gt; say an editor resource.
&gt;
&gt; Option 1: Return an entity with hypertext
&gt; &lt;object&gt;
&gt;   &lt;link rel="edit" href="http:/example.com/edit.5901243465"&gt;Edit&lt;/ 
&gt; link&gt;
&gt; &lt;/object&gt;
&gt;
&gt; Option 2: Invent a custom header, e.g.
&gt; X-Location-Edit: http:/example.com/edit.5901243465

Well, I believe human-readable is *always* better than invisible, as  
long as you have good semantics for a list.

-- Ernie P.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5388<br>
Sender:"Vivek krishna" &lt;vivek200120@...&gt;<br>
Post Date/Time:2005-11-03 09:30:02<br>
Subject:REST description using WSDL<br>
Message:<br><br>
<pre>Hello,
 I am trying to find out if any descriptive schemas exist to describe
a REST service,esp the request uri and the response xml formats.What I
am looking for would be something similar to WSDL for SOAP web services.
I guess it would be a good idea to have some kind of WSDL extensibilty
to describe REST services as well.

I am trying to include REST support in my web services client library
at http://wsdlpull.sf.net.Thats one of the reasons why I was
interested in some kind of WSDL desriptions.

Appreciate some response.

Cheers!
Vivek









</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5389<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2005-11-03 12:53:48<br>
Subject:RE: [rest-discuss] Multiple resource creation (again)<br>
Message:<br><br>
<pre> 

On Nov 2, 2005, at 1:58 PM, Hugh Winkler wrote:

A few weeks ago we had a discussion on this list about creating multiple
resources with a POST: how do you return the URLs?

I have a similar situation again. Say you post to

=&gt; POST http://example.com/items 
&lt;= 201 Created , Location: http://example.com/items/your-new-object

Suppose the server wants to convey the URLs of some associated resources;
say an editor resource.

Option 1: Return an entity with hypertext
&lt;object&gt;
&lt;link rel="edit" href="http:/example.com/edit.5901243465
&lt;http://example.com/edit.5901243465&gt; "&gt;Edit&lt;/link&gt;
&lt;/object&gt;

Option 2: Invent a custom header, e.g.
X-Location-Edit: http:/example.com/edit.5901243465
&lt;http://example.com/edit.5901243465&gt; 

 

Well, I believe human-readable is *always* better than invisible, as long as
you have good semantics for a list.

 

[hvw] Me too. But you're sitting in a meeting and some guy who has to
implement the client side of this, notices that he already gets the URI of
the created instance from the Location header, so why can't he get the other
URI the same way? He can make the argument that adding a header is more
consistent with the established pattern, and besides, he doesn't have to
write all that gooky xpath code. 

 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5390<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2005-11-03 13:13:28<br>
Subject:RE: [rest-discuss] REST description using WSDL<br>
Message:<br><br>
<pre>

&gt; -----Original Message-----
&gt; From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com]
&gt; On Behalf Of Vivek krishna
&gt; Sent: Thursday, November 03, 2005 3:30 AM
&gt; To: rest-discuss@yahoogroups.com
&gt; Subject: [rest-discuss] REST description using WSDL
&gt; 
&gt; Hello,
&gt;  I am trying to find out if any descriptive schemas exist to describe
&gt; a REST service,esp the request uri and the response xml formats.What I
&gt; am looking for would be something similar to WSDL for SOAP web services.
&gt; I guess it would be a good idea to have some kind of WSDL extensibilty
&gt; to describe REST services as well.
[hvw] Dave Orchard has constructed some WSDL 2.0 for REST services. For
example,
http://www.pacificspirit.com/blog/2005/03/02/yahoo_search_web_service_in_wsd
l_20. 

There is a mailing list devoted to the subject that seems to have run out of
gas for the time being:
http://lists.w3.org/Archives/Public/public-web-http-desc/

&gt; 
&gt; I am trying to include REST support in my web services client library
&gt; at http://wsdlpull.sf.net.Thats one of the reasons why I was
&gt; interested in some kind of WSDL desriptions.
&gt; 
&gt; Appreciate some response.
&gt; 
&gt; Cheers!
&gt; Vivek
&gt; 
&gt; 
&gt; 




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5391<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-11-03 15:01:07<br>
Subject:Re: [rest-discuss] REST description using WSDL<br>
Message:<br><br>
<pre>You've got to be careful here.  REST doesn't need a "description
language" as Web services folks know them, because what's describable
is either already described (e.g. the HTTP and URI specs, data
format specs), or described at runtime (e.g. specific URIs, form
instances, etc...).

Best case, a description of a RESTful service risks providing duplicate
and/or stale information.  Worst case it yields violating REST
constraints like "hypermedia as the engine of application state", which
isn't a good thing for a "RESTful description language" to do, or at
least encourage by its very existence.

If you're really interested in supporting REST, you might want to
consider what it would mean to use these "descriptions" at runtime as
you would a form.

Mark.

On Thu, Nov 03, 2005 at 09:30:02AM -0000, Vivek krishna wrote:
&gt; Hello,
&gt;  I am trying to find out if any descriptive schemas exist to describe
&gt; a REST service,esp the request uri and the response xml formats.What I
&gt; am looking for would be something similar to WSDL for SOAP web services.
&gt; I guess it would be a good idea to have some kind of WSDL extensibilty
&gt; to describe REST services as well.
&gt; 
&gt; I am trying to include REST support in my web services client library
&gt; at http://wsdlpull.sf.net.Thats one of the reasons why I was
&gt; interested in some kind of WSDL desriptions.
&gt; 
&gt; Appreciate some response.
&gt; 
&gt; Cheers!
&gt; Vivek
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt;  
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt;  
&gt; 
&gt; 

-- 
Mark Baker.  Ottawa, Ontario, CANADA.          http://www.markbaker.ca
Coactus; Web-inspired integration strategies   http://www.coactus.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5392<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-11-03 16:47:21<br>
Subject:REST descriptive services (was Re: [rest-discuss] REST description using WSDL)<br>
Message:<br><br>
<pre>Mark Baker &lt;distobj@...&gt; writes:

&gt; You've got to be careful here.  REST doesn't need a "description
&gt; language" as Web services folks know them, because what's describable
&gt; is either already described (e.g. the HTTP and URI specs, data
&gt; format specs), or described at runtime (e.g. specific URIs, form
&gt; instances, etc...).
&gt;
&gt; Best case, a description of a RESTful service risks providing duplicate
&gt; and/or stale information.  Worst case it yields violating REST
&gt; constraints like "hypermedia as the engine of application state", which
&gt; isn't a good thing for a "RESTful description language" to do, or at
&gt; least encourage by its very existence.
&gt;
&gt; If you're really interested in supporting REST, you might want to
&gt; consider what it would mean to use these "descriptions" at runtime as
&gt; you would a form.

Mark is absolutely right.


One disadvantage to REST is that it can't be auto-discovered and
turned into an API for a traditional language in quite the same way as
the WSDL/SOAP stack. In that space it's pretty easy to:

- build a service in language (Java, .NET, whatever) thus building
  some API

- auto-generate the SOAP/WSDL interfaces

- allow clients to auto-generate their side of the SOAP


Personally, I think the REST way is better than the SOAP stack because
it's simpler and leads to less complex, more stable, systems.

But the WSDL/SOAP way is attractive to a certain class of programmer
because of the simplicity (but actually it's difficult to make the
build system for these complex services /8-)


There's no reason why toolkits couldn't be made for
auto-client-generation of REST services but we'd need more meta data
from HEADs first I think. For example, you might need to have
descriptions for the XML documents that will be sent in response to
operations.

I am beginning to think that the biggest achievement we could make is
to resolve the dichotomy of XML description; media type or document?


Nic Ferrier

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5393<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2005-11-03 17:40:18<br>
Subject:Re: [rest-discuss] Multiple resource creation (again)<br>
Message:<br><br>
<pre>Hi Hugh,

&gt;  He can make the argument that adding a header is more consistent  
&gt; with the established pattern, and besides, he doesnt have to write  
&gt; all that gooky xpath code.

I totally sympathize.   That was in fact the caveat I was (hopefully)  
making:
&gt; as long as you have good semantics for a list.

My point, fwiw, is that we need to come up with consistent list  
semantics that are rapidly implemented, easily used, and widely  
available so that people like your hypothetical friend can adopt them  
with minimal cognitive load.

On the microformats side, we're trying to do that with XOXO, which  
provides a trivial 1-1 mapping between HTML lists and various  
scripting languages:

http://microformats.org/wiki/xoxo-sample-code

We already have Python, Java, and PHP, and will probably get Ruby  
soon; all it takes is one person who cares, and its donce.  More  
importantly, once they're done they're pretty much *done*, and  
ideally could become standard language modules in the future.

Is "link rel=" a standard Atom idiom, and if so have people looked at  
writing generic REST parsers for it?

-- Ernie P.


On Nov 3, 2005, at 4:53 AM, Hugh Winkler wrote:

&gt;
&gt;
&gt; On Nov 2, 2005, at 1:58 PM, Hugh Winkler wrote:
&gt;&gt; A few weeks ago we had a discussion on this list about creating  
&gt;&gt; multiple
&gt;&gt; resources with a POST: how do you return the URLs?
&gt;&gt;
&gt;&gt; I have a similar situation again. Say you post to
&gt;&gt;
&gt;&gt; =&gt; POST http://example.com/items
&gt;&gt; &lt;= 201 Created , Location: http://example.com/items/your-new-object
&gt;&gt;
&gt;&gt; Suppose the server wants to convey the URLs of some associated  
&gt;&gt; resources;
&gt;&gt; say an editor resource.
&gt;&gt;
&gt;&gt; Option 1: Return an entity with hypertext
&gt;&gt; &lt;object&gt;
&gt;&gt; &lt;link rel="edit" href="http:/example.com/edit.5901243465"&gt;Edit&lt;/link&gt;
&gt;&gt; &lt;/object&gt;
&gt;&gt;
&gt;&gt; Option 2: Invent a custom header, e.g.
&gt;&gt; X-Location-Edit: http:/example.com/edit.5901243465
&gt;
&gt;
&gt; Well, I believe human-readable is *always* better than invisible,  
&gt; as long as you have good semantics for a list.
&gt;
&gt;
&gt;
&gt; [hvw] Me too. But youre sitting in a meeting and some guy who has  
&gt; to implement the client side of this, notices that he already gets  
&gt; the URI of the created instance from the Location header, so why  
&gt; cant he get the other URI the same way? He can make the argument  
&gt; that adding a header is more consistent with the established  
&gt; pattern, and besides, he doesnt have to write all that gooky xpath  
&gt; code.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5394<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2005-11-03 17:46:34<br>
Subject:Re: REST descriptive services (was Re: [rest-discuss] REST description using WSDL)<br>
Message:<br><br>
<pre>On Nov 3, 2005, at 8:47 AM, Nic Ferrier wrote:
&gt; One disadvantage to REST is that it can't be auto-discovered and
&gt; turned into an API for a traditional language in quite the same way as
&gt; the WSDL/SOAP stack.

You mean REST-based HTTP, right?  We don't need to "auto-discover"
an HTTP interface because the communication API is a standard and
the parameters are defined by the current representation.  We do
need to discover the initial resource, and that's exactly what
Yahoo, Google, and URIs written on napkins do for us.  Any well-known
website for "finding services" would do the same.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5395<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2005-11-03 17:49:31<br>
Subject:Re: REST descriptive services (was Re: [rest-discuss] REST description using WSDL)<br>
Message:<br><br>
<pre>Hi all,

&gt; One disadvantage to REST is that it can't be auto-discovered and
&gt; turned into an API for a traditional language in quite the same way as
&gt; the WSDL/SOAP stack. In that space it's pretty easy to:

This very issues is something I am intensely interested in.

I'm very much a believer in "DRY" -- don't repeat yourself.   I fully  
agree that (if I have my terms right) REST services should be  
directly discoverable simply be retrieving the appropriate hypermedia.

However, in order for that to work in practice -- and be amenable to  
automated tools -- I strongly suspect we need *conventions* for how  
that discovery takes place.  Yeah, I know, it is "just like the way  
the web works today", but if someone could concisely articulate that  
design pattern it would make it a whole lot easier for those who do  
NOT intuitively understand everything that phrase implies. :-)

Has anyone taken a stab at documenting some sort of REST Service  
Discovery Conventions?   (RSDC?) Do people even agree that this is  
actually needed?

-- Ernie P.

On Nov 3, 2005, at 8:47 AM, Nic Ferrier wrote:

&gt; Mark Baker &lt;distobj@...&gt; writes:
&gt;
&gt; &gt; You've got to be careful here.  REST doesn't need a "description
&gt; &gt; language" as Web services folks know them, because what's  
&gt; describable
&gt; &gt; is either already described (e.g. the HTTP and URI specs, data
&gt; &gt; format specs), or described at runtime (e.g. specific URIs, form
&gt; &gt; instances, etc...).
&gt; &gt;
&gt; &gt; Best case, a description of a RESTful service risks providing  
&gt; duplicate
&gt; &gt; and/or stale information.  Worst case it yields violating REST
&gt; &gt; constraints like "hypermedia as the engine of application state",  
&gt; which
&gt; &gt; isn't a good thing for a "RESTful description language" to do, or at
&gt; &gt; least encourage by its very existence.
&gt; &gt;
&gt; &gt; If you're really interested in supporting REST, you might want to
&gt; &gt; consider what it would mean to use these "descriptions" at  
&gt; runtime as
&gt; &gt; you would a form.
&gt;
&gt; Mark is absolutely right.
&gt;
&gt;
&gt; One disadvantage to REST is that it can't be auto-discovered and
&gt; turned into an API for a traditional language in quite the same way as
&gt; the WSDL/SOAP stack. In that space it's pretty easy to:
&gt;
&gt; - build a service in language (Java, .NET, whatever) thus building
&gt;   some API
&gt;
&gt; - auto-generate the SOAP/WSDL interfaces
&gt;
&gt; - allow clients to auto-generate their side of the SOAP
&gt;
&gt;
&gt; Personally, I think the REST way is better than the SOAP stack because
&gt; it's simpler and leads to less complex, more stable, systems.
&gt;
&gt; But the WSDL/SOAP way is attractive to a certain class of programmer
&gt; because of the simplicity (but actually it's difficult to make the
&gt; build system for these complex services /8-)
&gt;
&gt;
&gt; There's no reason why toolkits couldn't be made for
&gt; auto-client-generation of REST services but we'd need more meta data
&gt; from HEADs first I think. For example, you might need to have
&gt; descriptions for the XML documents that will be sent in response to
&gt; operations.
&gt;
&gt; I am beginning to think that the biggest achievement we could make is
&gt; to resolve the dichotomy of XML description; media type or document?
&gt;
&gt;
&gt; Nic Ferrier
&gt;
&gt; YAHOO! GROUPS LINKS
&gt;
&gt;  Visit your group "rest-discuss" on the web.
&gt;
&gt;  To unsubscribe from this group, send an email to:
&gt;  rest-discuss-unsubscribe@yahoogroups.com
&gt;
&gt;  Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.
&gt;
&gt;

------------
Ernest N. Prabhakar, Ph.D. &lt;drernie at opendarwin.org&gt;
Ex-Physicist, Marketing Weenie, and Dilettante Hacker
Probe-Hacker blog: http://www.opendarwin.org/~drernie/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5396<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2005-11-03 17:53:56<br>
Subject:Re: REST descriptive services (was Re: [rest-discuss] REST description using WSDL)<br>
Message:<br><br>
<pre>Hi Roy,

On Nov 3, 2005, at 9:46 AM, Roy T. Fielding wrote:
&gt; On Nov 3, 2005, at 8:47 AM, Nic Ferrier wrote:
&gt; &gt; One disadvantage to REST is that it can't be auto-discovered and
&gt; &gt; turned into an API for a traditional language in quite the same  
&gt; way as
&gt; &gt; the WSDL/SOAP stack.
&gt;
&gt; You mean REST-based HTTP, right?  We don't need to "auto-discover"
&gt; an HTTP interface because the communication API is a standard and
&gt; the parameters are defined by the current representation.  We do
&gt; need to discover the initial resource, and that's exactly what
&gt; Yahoo, Google, and URIs written on napkins do for us.  Any well-known
&gt; website for "finding services" would do the same.

I know that's true in theory, but I still don't know how to implement  
that in practice.

For example, say that Amazon had a truly RESTful API.   I wanted to  
build an automatically-generated GUI client that would be able to  
query, browse, and display anything accessible from their datastore.

Given just the original URL, how does my automated tool:
	a) Figure out how to make queries
	b) Discover which disjoint URI spaces might exist
	c) Unpack the different fields and datatypes from results

For that matter, if I'm writing a REST web services, what information  
do I need to provide -- and where -- to enable such a tool?

Maybe this is obvious to you, but it sure isn't to me, so I'd like to  
have something more actionable.

Or are you merely saying that such tools are not interesting?

-- Ernie P.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5397<br>
Sender:Joe Gregorio &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2005-11-03 18:02:50<br>
Subject:Re: REST descriptive services (was Re: [rest-discuss] REST description using WSDL)<br>
Message:<br><br>
<pre>On 11/3/05, Dr. Ernie Prabhakar &lt;drernie@...&gt; wrote:
&gt; For example, say that Amazon had a truly RESTful API.   I wanted to
&gt; build an automatically-generated GUI client that would be able to
&gt; query, browse, and display anything accessible from their datastore.

I don't intend to be disrespectful, but you already have that, you
point your browser at http://amazon.com.

  -joe

--
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5398<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2005-11-03 18:11:00<br>
Subject:Re: REST descriptive services (was Re: [rest-discuss] REST description using WSDL)<br>
Message:<br><br>
<pre>Hi Joe,

On Nov 3, 2005, at 10:02 AM, Joe Gregorio wrote:
&gt; On 11/3/05, Dr. Ernie Prabhakar &lt;drernie@...&gt; wrote:
&gt; &gt; For example, say that Amazon had a truly RESTful API.   I wanted to
&gt; &gt; build an automatically-generated GUI client that would be able to
&gt; &gt; query, browse, and display anything accessible from their datastore.
&gt;
&gt; I don't intend to be disrespectful, but you already have that, you
&gt; point your browser at http://amazon.com.

Sorry, I should have been more precise.  I want to automatically  
build a thick-client GUI application that does the same thing, so I  
can hook it into my desktop workflow using (on a Mac) Spotlight and  
Automator.   I'd also like to build a re-sharing web service using  
Ruby on Rails, that consumes Amazon feeds and spits out a custom web  
service according to certain rules.  Oh, and it'd be nice to reformat  
my personal page as an RSS feed. :-)

Right now, in order to do any of that, I need to read the $#*! user  
guide.  Not that its badly written, but I just want the basics in a  
machine-readable format so that I have a trivial way to import that  
service into my language's object model, so I can work from there  
without having to read a bunch of documentation and manually write a  
bunch of parsers.

Does that make my goals any more clear?  Is *that* possible today?

-- Ernie P.




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5399<br>
Sender:Kyle Cordes &lt;kyle@...&gt;<br>
Post Date/Time:2005-11-03 19:27:23<br>
Subject:Re: REST descriptive services (was Re: [rest-discuss] REST description using WSDL)<br>
Message:<br><br>
<pre>Dr. Ernie Prabhakar wrote:

&gt; Has anyone taken a stab at documenting some sort of REST Service 
&gt; Discovery Conventions?   (RSDC?) Do people even agree that this is 
&gt; actually needed?



Perhaps an HTML form comprises such a convention, not for the discovery 
of the service itself, but for the discovery of the parameters:

* You discover the URL of a service by some means.

* You GET that URL, which returns an HTML form.

* The HTML form describes where to POST to invoke that service, and what 
parameters can be passed in that POST.  In some cases, it will use 
&lt;selects&gt;s to describe what options are valid for a parameter.

* In most cases, the form will be interspersed with human readable text, 
to explain the meaning of the parameters (a machine-understandable way 
to explain parameter meaning, sounds like an AI problem...)

* You (the user of a web browser, or a piece of software 
programmatically using the server) populate the parameters and POST them 
to the URL you discovered via the form.

* You get back a response, which might be an error message about a 
parameter problem, or might be a respresentation of the "answer".


Kyle Cordes
www.kylecordes.com




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5400<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2005-11-03 19:46:41<br>
Subject:Re: REST descriptive services (was Re: [rest-discuss] REST description using WSDL)<br>
Message:<br><br>
<pre>On Nov 3, 2005, at 10:11 AM, Dr. Ernie Prabhakar wrote:
&gt; Sorry, I should have been more precise. I want to automatically build 
&gt; a thick-client GUI application that does the same thing, so I can hook 
&gt; it into my desktop workflow using (on a Mac) Spotlight and Automator. 
&gt; I'd also like to build a re-sharing web service using Ruby on Rails, 
&gt; that consumes Amazon feeds and spits out a custom web service 
&gt; according to certain rules. Oh, and it'd be nice to reformat my 
&gt; personal page as an RSS feed. :-)
&gt;
&gt; Right now, in order to do any of that, I need to read the $#*! user 
&gt; guide. Not that its badly written, but I just want the basics in a 
&gt; machine-readable format so that I have a trivial way to import that 
&gt; service into my language's object model, so I can work from there 
&gt; without having to read a bunch of documentation and manually write a 
&gt; bunch of parsers.
&gt;
&gt; Does that make my goals any more clear? Is *that* possible today?

Yes, it is done every day with HTML -- you've simply forgotten
that a person reading a page and following the links/forms on
that page is actually performing a process of decisions and
selecting actions that drive an application through a set of
hypermedia workspaces to perform whatever task they wanted to
perform.

So, thinking in that model, what kind of representation do you
need to take your application from the initial step (a URI) to
the next step following that representation?  What does your
"user" (doesn't have to be human) need to "understand" (in the
simplest sense) in order to evaluate the alternatives provided
and submit the appropriate data or select the appropriate links
to get it to the next state, and how does the provider of that
representation express such ideas without natural language?

XML is not an answer here -- it could be some application of
XML which adds the necessary semantics, but just having angle
brackets is not enough.  Ask Joe how much effort it takes just
to explain "post it here" to a blogging client. ;-)

The effort is all in the semantics of standard data formats;
the rest of the technology has already been deployed.

....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5401<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-11-03 19:43:57<br>
Subject:Re: REST descriptive services<br>
Message:<br><br>
<pre>"Dr. Ernie Prabhakar" &lt;drernie@...&gt; writes:

&gt; Hi Joe,
&gt;
&gt; On Nov 3, 2005, at 10:02 AM, Joe Gregorio wrote:
&gt;&gt; On 11/3/05, Dr. Ernie Prabhakar &lt;drernie@...&gt; wrote:
&gt;&gt; &gt; For example, say that Amazon had a truly RESTful API.   I wanted to
&gt;&gt; &gt; build an automatically-generated GUI client that would be able to
&gt;&gt; &gt; query, browse, and display anything accessible from their datastore.
&gt;&gt;
&gt;&gt; I don't intend to be disrespectful, but you already have that, you
&gt;&gt; point your browser at http://amazon.com.
&gt;
&gt; Sorry, I should have been more precise.  I want to automatically  
&gt; build a thick-client GUI application that does the same thing, so I  
&gt; can hook it into my desktop workflow using (on a Mac) Spotlight and  
&gt; Automator.   I'd also like to build a re-sharing web service using  
&gt; Ruby on Rails, that consumes Amazon feeds and spits out a custom web  
&gt; service according to certain rules.  Oh, and it'd be nice to reformat  
&gt; my personal page as an RSS feed. :-)

This is what I was trying to say.


With the WSDL/SOAP stack the things you're talking about are easy. Not
trivial, but easy.

I've worked on 3 or 4 projects now where REST has been kicked out
because of this feature. I still think that's dumb and that REST with
this disadvantage is better than WSDL/SOAP... but if REST could have
this advantage as well then there'd be no argument.


I'm not sure it's possible though...


With REST, most of what you're talking about would be possible now;
except for the problem of description of the _type_ of
representations.

I can HEAD to a resource to discover what HTTP interactions I can
perform and what data representations I can send and get back. 

If the site uses XForms, or something like that, I guess then I could
discover quite a lot about further interactions I can perform...

But I think the equivalent of what you get with WSDL/SOAP would be if
a HEAD to a resource could tell you something like:

   POST a FOAF document to this resource and it will respond with a 
   Calendar-RDF representation (of where the user's mentioned are
   available)

We can't have that right now because the media types used for both
representations would be */xml.

I'm not sure how we can get round that because representations are by
their very nature much less strictly specified than APIs (such as in
SOAP).

For example, a FOAF document isn't really a FOAF document. It's just a
document with a particular namespace associated with FOAF.



Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5402<br>
Sender:Dimitri Glazkov &lt;dimitri.glazkov@...&gt;<br>
Post Date/Time:2005-11-03 20:16:39<br>
Subject:Re: REST descriptive services (was Re: [rest-discuss] REST description using WSDL)<br>
Message:<br><br>
<pre>Roy,

Thank you for communicating this so well. This is exactly what I was
trying to do here:

http://microformats.org/discuss/mail/microformats-discuss/2005-October/001221.html

:DG&lt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5403<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-11-03 20:16:13<br>
Subject:Re: REST descriptive services<br>
Message:<br><br>
<pre>"Roy T. Fielding" &lt;fielding@...&gt; writes:

&gt; On Nov 3, 2005, at 10:11 AM, Dr. Ernie Prabhakar wrote:
&gt;&gt; Sorry, I should have been more precise. I want to automatically build 
&gt;&gt; a thick-client GUI application that does the same thing, so I can hook 
&gt;&gt; it into my desktop workflow using (on a Mac) Spotlight and Automator. 
&gt;&gt; I'd also like to build a re-sharing web service using Ruby on Rails, 
&gt;&gt; that consumes Amazon feeds and spits out a custom web service 
&gt;&gt; according to certain rules. Oh, and it'd be nice to reformat my 
&gt;&gt; personal page as an RSS feed. :-)
&gt;&gt;
&gt;&gt; Right now, in order to do any of that, I need to read the $#*! user 
&gt;&gt; guide. Not that its badly written, but I just want the basics in a 
&gt;&gt; machine-readable format so that I have a trivial way to import that 
&gt;&gt; service into my language's object model, so I can work from there 
&gt;&gt; without having to read a bunch of documentation and manually write a 
&gt;&gt; bunch of parsers.
&gt;&gt;
&gt;&gt; Does that make my goals any more clear? Is *that* possible today?
&gt;
&gt; Yes, it is done every day with HTML -- you've simply forgotten
&gt; that a person reading a page and following the links/forms on
&gt; that page is actually performing a process of decisions and
&gt; selecting actions that drive an application through a set of
&gt; hypermedia workspaces to perform whatever task they wanted to
&gt; perform.
&gt;
&gt; So, thinking in that model, what kind of representation do you
&gt; need to take your application from the initial step (a URI) to
&gt; the next step following that representation?  What does your
&gt; "user" (doesn't have to be human) need to "understand" (in the
&gt; simplest sense) in order to evaluate the alternatives provided
&gt; and submit the appropriate data or select the appropriate links
&gt; to get it to the next state, and how does the provider of that
&gt; representation express such ideas without natural language?
&gt;
&gt; XML is not an answer here -- it could be some application of
&gt; XML which adds the necessary semantics, but just having angle
&gt; brackets is not enough.  Ask Joe how much effort it takes just
&gt; to explain "post it here" to a blogging client. ;-)
&gt;
&gt; The effort is all in the semantics of standard data formats;
&gt; the rest of the technology has already been deployed.

Right. Absolutely. That's what I am trying to say - the bit missing in
REST is the typing of the representations of data.


We've had the media type / schema / namespace discussion here recently
I think.

But there is no resolution yet (if there is I missed it).


So anyway, that's why there are people trying to describe REST apps
with WSDL.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5404<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-11-03 20:21:11<br>
Subject:Re: REST descriptive services<br>
Message:<br><br>
<pre>Kyle Cordes &lt;kyle@...&gt; writes:

&gt; Dr. Ernie Prabhakar wrote:
&gt;
&gt;&gt; Has anyone taken a stab at documenting some sort of REST Service 
&gt;&gt; Discovery Conventions?   (RSDC?) Do people even agree that this is 
&gt;&gt; actually needed?
&gt;
&gt; Perhaps an HTML form comprises such a convention, not for the discovery 
&gt; of the service itself, but for the discovery of the parameters:

I don't think HTML forms cut it by any means. There is not even any
typing to give a hint as to the meaning of input.

In a way it's better, purely from a webservice p-o-v, to accept POSTed
data representations because at least then you can say "hey! I accept
so and so representation for my input". That states it a little bit
more clearly than application/x-www-form-urlencoded.


&gt; * In most cases, the form will be interspersed with human readable text, 
&gt; to explain the meaning of the parameters (a machine-understandable way 
&gt; to explain parameter meaning, sounds like an AI problem...)

Wow? What websites are you using?!


&gt; * You (the user of a web browser, or a piece of software 
&gt; programmatically using the server) populate the parameters and POST them 
&gt; to the URL you discovered via the form.
&gt;
&gt; * You get back a response, which might be an error message about a 
&gt; parameter problem, or might be a respresentation of the "answer".

XForms or some other form describing syntax will probably help a lot
with this. If only people would use them /8-&gt;


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5405<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2005-11-03 23:02:42<br>
Subject:Re: REST descriptive services (was Re: [rest-discuss] REST description using WSDL)<br>
Message:<br><br>
<pre>Hi Roy,

On Nov 3, 2005, at 11:46 AM, Roy T. Fielding wrote:
&gt; Yes, it is done every day with HTML -- you've simply forgotten
&gt; that a person reading a page and following the links/forms on
&gt; that page is actually performing a process of decisions and
&gt; selecting actions that drive an application through a set of
&gt; hypermedia workspaces to perform whatever task they wanted to
&gt; perform.

Actually, I think we're in violent agreement. :-)  I completely agree  
that we *ought* to be able to extract the relevant web services  
specification from the human-readable HTML.   The questions I have are:
	a) are we _sure_ we can?
	b) if so, how?

In fact, the answer Dimitri and I have been discussing is pretty much  
identical to what Kyle said:

On Nov 3, 2005, at 11:27 AM, Kyle Cordes wrote:
&gt; Perhaps an HTML form comprises such a convention, not for the  
&gt; discovery
&gt; of the service itself, but for the discovery of the parameters:
&gt;
&gt; * You discover the URL of a service by some means.
&gt;
&gt; * You GET that URL, which returns an HTML form.
&gt;
&gt; * The HTML form describes where to POST to invoke that service, and  
&gt; what
&gt; parameters can be passed in that POST.  In some cases, it will use
&gt; &lt;selects&gt;s to describe what options are valid for a parameter.
&gt;
&gt; * In most cases, the form will be interspersed with human readable  
&gt; text,
&gt; to explain the meaning of the parameters (a machine-understandable way
&gt; to explain parameter meaning, sounds like an AI problem...)
&gt;
&gt; * You (the user of a web browser, or a piece of software
&gt; programmatically using the server) populate the parameters and POST  
&gt; them
&gt; to the URL you discovered via the form.
&gt;
&gt; * You get back a response, which might be an error message about a
&gt; parameter problem, or might be a respresentation of the "answer".

The challenge, IMHO, is to actually:
	(i) rigorously document this design pattern
	(ii) broadly test it to see how well it works in the wild
	(iii) publish and evangelize best practices to make it more useful

Human beings are after all pretty smart, and awfully good at making  
inferences from loosely-connected pieces of data.  Unfortunately, web  
designers exploit that fact to do structurally evil things that can  
obscure important relationships. What, if anything,  should we do to  
help our tools work around that?

I've added Kyle's thoughts to the microformats wiki, where we are  
tracking these things:

http://microformats.org/wiki/rest/forms- 
brainstorming#Proposal_B:_REST-oriented_process

I'd love to collect more intelligence, to understand what is actually  
possible.

-- Ernie P.

------------
Ernest N. Prabhakar, Ph.D. &lt;drernie at opendarwin.org&gt;
Ex-Physicist, Marketing Weenie, and Dilettante Hacker
Probe-Hacker blog: http://www.opendarwin.org/~drernie/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5406<br>
Sender:Yannick Loiseau &lt;yloiseau@...&gt;<br>
Post Date/Time:2005-11-04 10:02:25<br>
Subject:Re: REST descriptive services<br>
Message:<br><br>
<pre>
&gt; Actually, I think we're in violent agreement. :-)  I completely agree  
&gt; that we *ought* to be able to extract the relevant web services  
&gt; specification from the human-readable HTML.   The questions I have are:
&gt; 	a) are we _sure_ we can?
&gt; 	b) if so, how?

I just "discover" Twill, which is a tool to easily test webapps. It
realy look like an "smart" rest client :)
http://www.onlamp.com/pub/a/python/2005/11/03/twill.html?page=4





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5407<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-11-04 14:53:53<br>
Subject:Re: [rest-discuss] Re: REST descriptive services<br>
Message:<br><br>
<pre>On Fri, Nov 04, 2005 at 11:02:25AM +0100, Yannick Loiseau wrote:
&gt; 
&gt; &gt; Actually, I think we're in violent agreement. :-)  I completely agree  
&gt; &gt; that we *ought* to be able to extract the relevant web services  
&gt; &gt; specification from the human-readable HTML.   The questions I have are:
&gt; &gt; 	a) are we _sure_ we can?
&gt; &gt; 	b) if so, how?
&gt; 
&gt; I just "discover" Twill, which is a tool to easily test webapps. It
&gt; realy look like an "smart" rest client :)
&gt; http://www.onlamp.com/pub/a/python/2005/11/03/twill.html?page=4

Wow, that is *slick*.

Mark.
-- 
Mark Baker.  Ottawa, Ontario, CANADA.          http://www.markbaker.ca
Coactus; Web-inspired integration strategies   http://www.coactus.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5408<br>
Sender:toydi &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-11-04 16:52:29<br>
Subject:Re: REST descriptive services (was Re: [rest-discuss] REST description using WSDL)<br>
Message:<br><br>
<pre>Hi all,

On 11/4/05, Dr. Ernie Prabhakar &lt;drernie@...&gt; wrote:
&gt; Actually, I think we're in violent agreement. :-)  I completely agree
&gt; that we *ought* to be able to extract the relevant web services
&gt; specification from the human-readable HTML.   The questions I have are:
&gt;         a) are we _sure_ we can?
&gt;         b) if so, how?

Just back from a short vacation, and find that the discuss room is hot now. :-)

I believe the main reason behind a piece of web service description
document, is to help developers to understand the service, then build
apps to consume that service. If we see Web as a *single really big*
system, a piece of such document helps us to setup a certain level of
agreement and understanding among developers, so that the components
(or apps) we built able to interact happily.

One thing interesting in REST is "resource". If we see an app as a
collection of resources, I find that each resource is actually,
telling us what that app can do, or what service it offers. A quick
example, a blog app would consist of several resources, such as Entry,
EntryList, Comment, CommentList, Category, CategoryList, FrontPage
etc. A wiki app would probably have another list of resources.

It's easy and fast for developers to describe resources they need
among themselves in a community. We just need a simple way to document
the resource descriptions, then developers can implement those
resources in their apps easily, and interoperability will certainly
happen among their apps. One community can always re-use some
resources described by other communities and assembly them into a new
application.

IMHO, with REST, developers able to design apps as a collection of
resources. To promote interoparable environment, rather than
describing services, we can try to describe resources, implement them,
then publish and re-use them among communities.

I think it's easier to describe a resource. Here's a rough idea/example:

[code]

&lt;resource&gt;
&lt;id&gt;http://blog.org/resources/entry-v1-00-00&lt;/id&gt;
&lt;name&gt;Entry&lt;/name&gt;
&lt;description&gt;An article (or post) in a blog.&lt;/description&gt;

&lt;request&gt;
  &lt;method&gt;GET&lt;/method&gt;
  &lt;description&gt;Retrieve a representation of an entry.&lt;/description&gt;

  &lt;response&gt;
      &lt;code&gt;200&lt;/code&gt;
      &lt;description&gt;A representation of the entry's contents&lt;/description&gt;

      &lt;representation&gt;
        &lt;mime-type&gt;application/atom+xml&lt;/mime-type&gt;
        &lt;schema&gt;http://www.pacificspirit.com/blog/2003/12/15/atom_03_schema&lt;/schema&gt;
      &lt;/representation&gt;
      &lt;representation&gt;
        &lt;mime-type&gt;application/xhtml+xml&lt;/mime-type&gt;
        &lt;schema&gt;http://microformats.org/wiki/hatom&lt;/schema&gt;
      &lt;/representation&gt;
  &lt;/response&gt;
&lt;/request&gt;

&lt;request&gt;
  &lt;method&gt;PUT&lt;/method&gt;
  &lt;description&gt;Update an entry's contents.&lt;/description&gt;
  &lt;!--- representation allowed to be included in request --&gt;
  &lt;representation&gt;
    &lt;mime-type&gt;application/atom+xml&lt;/mime-type&gt;
    &lt;schema&gt;http://www.pacificspirit.com/blog/2003/12/15/atom_03_schema&lt;/schema&gt;
  &lt;/representation&gt;

  &lt;response&gt;
      &lt;code&gt;200&lt;/code&gt;
      &lt;description&gt;A representation of the updated entry's
contents&lt;/description&gt;
      &lt;representation&gt;
        &lt;mime-type&gt;application/atom+xml&lt;/mime-type&gt;
        &lt;schema&gt;http://www.pacificspirit.com/blog/2003/12/15/atom_03_schema&lt;/schema&gt;
      &lt;/representation&gt;
       ....
   &lt;/response&gt;
&lt;/request&gt;
&lt;/resource&gt;

[/code]

Well, sorry for this really messy xml... I guess XOXO microformats
should be useful and more preferable. :)

Cheers,
--
-toydi-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5409<br>
Sender:Ryan Shaw &lt;rshaw@...&gt;<br>
Post Date/Time:2005-11-04 18:38:59<br>
Subject:Best practices for crippled HTTP clients?<br>
Message:<br><br>
<pre>Hello,

Are there any best practices for designing REST services which are 
usable by web clients that do not support HTTP methods other than GET 
and POST? Ideally I would like to have a "proper" API using the full set 
of HTTP methods, with some "transitional" interfaces to support clients 
(like Flash) that currently cannot PUT or DELETE.

Thanks,
Ryan



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5410<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2005-11-04 20:13:48<br>
Subject:RSDC (WAS:REST descriptive services)<br>
Message:<br><br>
<pre>Hi Yannick,

On Nov 4, 2005, at 2:02 AM, Yannick Loiseau wrote:
&gt; I just "discover" Twill, which is a tool to easily test webapps. It
&gt; realy look like an "smart" rest client :)
&gt; http://www.onlamp.com/pub/a/python/2005/11/03/twill.html?page=4

A very great find!  I've put it up on the microformats wiki:

http://microformats.org/wiki/rest/description

To toydi's point:

&gt; Well, sorry for this really messy xml... I guess XOXO microformats
&gt; should be useful and more preferable. :)

The question is, what problem are you trying to solve?  If you want  
to provide a 100% general solution that describes every conceivable  
implementation of REST, I suspect you will soon end up with something  
that looks and feels like WSDL.

However, what I'm working towards -- and what Roy and Mark appear to  
be advocating -- is something far simpler: being able to derive REST- 
services that explicitly mimic the behavior of the human web (modulo  
bug fixes).  That is, I'm assuming the following additional  
constraints (which, as far as I know, are not part of REST proper);

REST Service Description Conventions (RSDC)
# information is always returned as (X)HTML hypertext
# inputs are always key-value pairs of strings (except for file uploads)
# there must be a way to discover all valid queries starting from the  
base URI
# forms MUST specify correct actions (e.g., PUT, DELETE), even if the  
actual implementation uses JavaScript
plus
# only hyperlinks that share the same root refer to part of the REST  
service
# body text associated with a control/hyperlink provides the human- 
readable description

Those seem to capture the "80/20" tradeoff for the most useful subset  
of REST web services, even if it loses some niceties like strong  
typing and complex input structures.

In particular, these are the conventions that I think are necessary  
and sufficient for me to accurately and completely characterize a  
REST web service/site/app using tools like twill.

Is that a fair statement?

-- Ernie P.
------------
Ernest N. Prabhakar, Ph.D. &lt;drernie at opendarwin.org&gt;
Ex-Physicist, Marketing Weenie, and Dilettante Hacker
Probe-Hacker blog: http://www.opendarwin.org/~drernie/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5411<br>
Sender:"Costello, Roger L." &lt;costello@...&gt;<br>
Post Date/Time:2005-11-04 21:18:04<br>
Subject:The W3C definition of a web service<br>
Message:<br><br>
<pre>Hi Folks

This is from the W3C Web Services Architecture document [1]

What is a Web Service?

Definition: A Web service is a software system designed to support
interoperable machine-to-machine interaction over a network. It has an
interface described in a machine-processable format (specifically
WSDL). Other systems interact with the Web service in a manner
prescribed by its description using SOAP messages, typically conveyed
using HTTP with an XML serialization in conjunction with other
Web-related standards.

According to the W3C, if you're not using SOAP and your not using WSDL
then you're not doing web services.  

Apparently, of the 350 different content (MIME) types that are
currently used in today's Web ecosystem, only one content type (SOAP)
is acceptable.

How did such a narrow-minded perspective ever get accepted?  How did
TBL let such a definition pass his desk?  What can be done to amend the
definition to bring it in-line with a broader perspective of SOAP as
just one of 350 types existing in the web ecosystem?

/Roger

[1] http://www.w3.org/TR/ws-arch/#whatis

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5412<br>
Sender:=?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;bill@...&gt;<br>
Post Date/Time:2005-11-04 21:41:45<br>
Subject:Re: [rest-discuss] The W3C definition of a web service<br>
Message:<br><br>
<pre>Costello, Roger L. wrote:

&gt; How did such a narrow-minded perspective ever get accepted?  


http://groups.yahoo.com/group/rest-discuss/message/5382


cheers
Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5413<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-11-04 21:51:23<br>
Subject:Re: [rest-discuss] The W3C definition of a web service<br>
Message:<br><br>
<pre>On Fri, Nov 04, 2005 at 09:41:45PM +0000, Bill de h?ra wrote:
&gt; Costello, Roger L. wrote:
&gt; 
&gt; &gt; How did such a narrow-minded perspective ever get accepted?  
&gt; 
&gt; 
&gt; http://groups.yahoo.com/group/rest-discuss/message/5382

FWIW, the WS-Arch doc is a Group Note with no standing;

"Publication as a Working Group Note does not imply endorsement by the
W3C Membership. This is a draft document and may be updated, replaced or
obsoleted by other documents at any time. It is inappropriate to cite
this document as other than work in progress. Other documents may
supersede this document."

And as you might have guessed, the issue was quite contentious.  In the
end we (I was on the group for a while) went with something testable so
that we could make certain other assumptions in the rest of the doc,
acknowledging that it wasn't as general as many would like.  All things
considered, I think that was the right choice, since it was abundantly
clear that they weren't going to go for "service == resource".

Mark.
-- 
Mark Baker.  Ottawa, Ontario, CANADA.          http://www.markbaker.ca
Coactus; Web-inspired integration strategies   http://www.coactus.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5414<br>
Sender:"Bowen, Randy" &lt;Randy.Bowen@...&gt;<br>
Post Date/Time:2005-11-04 21:42:28<br>
Subject:RE: [rest-discuss] The W3C definition of a web service<br>
Message:<br><br>
<pre>But that's a "note" from the working group - it doesn't have any
official W3C status.

 

________________________________

From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com]
On Behalf Of Costello, Roger L.
Sent: Friday, November 04, 2005 1:18 PM
To: REST Discuss
Subject: [rest-discuss] The W3C definition of a web service

 

Hi Folks

This is from the W3C Web Services Architecture document [1]

What is a Web Service?

Definition: A Web service is a software system designed to support
interoperable machine-to-machine interaction over a network. It has an
interface described in a machine-processable format (specifically
WSDL). Other systems interact with the Web service in a manner
prescribed by its description using SOAP messages, typically conveyed
using HTTP with an XML serialization in conjunction with other
Web-related standards.

According to the W3C, if you're not using SOAP and your not using WSDL
then you're not doing web services.  

Apparently, of the 350 different content (MIME) types that are
currently used in today's Web ecosystem, only one content type (SOAP)
is acceptable.

How did such a narrow-minded perspective ever get accepted?  How did
TBL let such a definition pass his desk?  What can be done to amend the
definition to bring it in-line with a broader perspective of SOAP as
just one of 350 types existing in the web ecosystem?

/Roger

[1] http://www.w3.org/TR/ws-arch/#whatis



________________________________

YAHOO! GROUPS LINKS 

 

*          Visit your group "rest-discuss
&lt;http://groups.yahoo.com/group/rest-discuss&gt; " on the web.
  

*          To unsubscribe from this group, send an email to:
 rest-discuss-unsubscribe@yahoogroups.com
&lt;mailto:rest-discuss-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt; 
  

*          Your use of Yahoo! Groups is subject to the Yahoo! Terms of
Service &lt;http://docs.yahoo.com/info/terms/&gt; . 

 

________________________________

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5415<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-11-05 04:00:03<br>
Subject:RE: REST descriptive services (was Re: [rest-discuss] REST description using WSDL)<br>
Message:<br><br>
<pre> 
On 11/3/05, Dr. Ernie Prabhakar &lt;drernie@...&gt; wrote:
&gt; For example, say that Amazon had a truly RESTful API.   
Hey now...

&gt; I wanted to build an automatically-generated GUI client that would be able
to 
&gt; query, browse, and display anything accessible from their datastore.
There is a wildly varying set of data maintained within various Amazon
systems, and even if by some miracle every data service took the trouble to
highlight and markup every potential reference to resources from other data
services at Amazon (hyperlinks), there is a huge problem of what a
meaningful display for this data would be. And on top of that there are
various interactions that a human would want to do with that data that would
require such deep knowledge of the purpose of the data that an automated GUI
sounds like a pipe dream.

If all you want is a read-only display, then like someone said - your Web
browser already does that.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5416<br>
Sender:toydi &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-11-05 04:15:22<br>
Subject:Re: [rest-discuss] RSDC (WAS:REST descriptive services)<br>
Message:<br><br>
<pre>Hi Ernie,

On 11/5/05, Dr. Ernie Prabhakar &lt;drernie@...&gt; wrote:
&gt; The question is, what problem are you trying to solve?

I'm not trying to propose another WSDL, but suggesting a little mind
shift on how we look at our web-based applications as a *collection of
resources*.

[Why resources?]
A REST style system (e.g Web) provides infrastructures to identify
resources and manipulate resources' state. This *little mind shift
will be enough to change* the way we design apps and software tools to
utilize Web environment, and nurture a web interoperable environment.

To further setting up the web interoperable environment, developers
are encouraged to describe resources they need, share them, and reuse
them within their community. When a group of people are using the same
resources in their applications, interoperability will not be an
issue.

[Describe resources?]
About the xml example in previous message, again, that's not another
WSDL. ;-) I'm just trying to figure out what's needed to be described.

In fact, I think developers are free to describe resources using
current design tools (e.g UML's Class Diagram) or resource description
tools (e.g TopicMaps, RDF) and share them within their community. Of
course, RSDC will be another potential description tool. :-)

IMHO, the reason we describe resources, is just to synchronize and
improve interactions among apps that we are building. Any tools will
do. The point is do not describe resources your own, but discuss,
identify, describe and reuse resources within a community. It's a way
to promote interoperability.


[Back to the question]
&gt; The question is, what problem are you trying to solve?

Improve interoperability. :-) Now, we have Web (or REST) as a
distributed environment. How are we going to utilize this environment
to improve interoperability in apps? A little bit of mind shift would
be a very simple but very essential first step.


Cheers,
--
-toydi-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5417<br>
Sender:Yannick Loiseau &lt;yloiseau@...&gt;<br>
Post Date/Time:2005-11-05 11:59:54<br>
Subject:Re: [rest-discuss] RSDC (WAS:REST descriptive services)<br>
Message:<br><br>
<pre>
&gt; Those seem to capture the "80/20" tradeoff for the most useful subset  
&gt; of REST web services, even if it loses some niceties like strong  
&gt; typing and complex input structures.

To deal with stronger typing, and maybe more complex structures, Web
Forms 2 could be a solution, since it adds types and constraints on
input fields, and allow to specify the allowed content-type for file
upload, and so on. Even if it is not implemented yet in browsers, it
woulld allow to automagicaly discover the service description, at least
more precisely than classical html forms. Xforms may be an alternative,
but I don't know it well, and the browser support is weaker.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5418<br>
Sender:Paul James &lt;yahoogroups@...&gt;<br>
Post Date/Time:2005-11-05 13:20:28<br>
Subject:Hypertext as engine of state transition for non GET requests<br>
Message:<br><br>
<pre>Hi all,

Here's a question I'd like to put to the list.

Say I have a RESTful system for modelling my ever growing collection of
widgets. I have a bunch of resources representing my widgets and another
resource providing a list of my widgets. The list contains the URLs for
each widget so a client can move from the list to an individual widget.
So far so good. An XML representation of the list might look something
like this:

&lt;?xml version="1.0"?&gt;
&lt;widgets&gt;
    &lt;widget name="Foo widget" href="http://example.org/widgets/1" /&gt;
    &lt;widget name="Bar widget" href="http://example.org/widgets/2" /&gt;
&lt;/widgets&gt;

To add a new widget to my system, I POST a representation of my new
widget to my list resource, it processes the representation, creates a
new widget resource and appends it to its list. Great, but here's the
question:

Should my list representation provide a clue to this POST operation? For
example:

&lt;?xml version="1.0"?&gt;
&lt;widgets
    xmlns="http://example.org/widgetsystem"
    xmlns:formlang="|http://www.w3.org/1999/xhtml|"&gt;
    &lt;widget name="Foo widget" href="http://example.org/widgets/1" /&gt;
    &lt;widget name="Bar widget" href="http://example.org/widgets/2" /&gt;
    &lt;formlang:form action="http://example.org/widgets" method="post"
enctype="widgetsystem/widget" /&gt;
&lt;/widgets&gt;

If not, how does a client know it can POST a representation of a new
widget resource to it, is this just an expected part of a RESTful system?

If so, using some kind of forms language, does this also mean that I
need to do this for every resource and method in my system, so should
each representation of my widgets include some forms stuff saying what
to PUT to update it?

Paul.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5419<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-11-05 14:40:50<br>
Subject:Re: [rest-discuss] Hypertext as engine of state transition for non	GET requests<br>
Message:<br><br>
<pre>On Sat, 2005-11-05 at 13:20 +0000, Paul James wrote:
&gt; If not, how does a client know it can POST a representation of a new
&gt; widget resource to it, is this just an expected part of a RESTful system?

It might know from the external definition of the media type itself
(shared media-type semantics), or from a forms language -- the
shared-semantic of "I'll describe what {{should,can} occur, what's
acceptable}".  Mark Baker's RDF Forms is along these lines.


&gt; If so, using some kind of forms language, does this also mean that I
&gt; need to do this for every resource and method in my system, so should
&gt; each representation of my widgets include some forms stuff saying what
&gt; to PUT to update it?

Yes.  The tradeoff seems to be verbosity for runtime dynamicism.  In the
terms used in section 2 of the REST thesis: Peformance for
Modifiability.


But it doesn't need to be hopelessly verbose.  Each page could have
something like:

    &lt;widgets xmlns:formlang="http://example.org/form-desc" ...&gt;
      &lt;formlang:operations href="/operations/widget-creation.desc" /&gt;
    &lt;/widgets&gt;

Where that .desc resource is relatively static, aggressively cached and
expects clients to do conditional GET most of the time to make sure that
the resource-space-capabilities haven't changed since the last time they
saw the resource.

...jsled
-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5420<br>
Sender:"Andrzej Jan Taramina" &lt;andrzej@...&gt;<br>
Post Date/Time:2005-11-05 16:45:55<br>
Subject:RESTful interface to POP3/SMTP?<br>
Message:<br><br>
<pre>Anyone know if there are RESTful interfaces available (preferably open 
source) that wrap access to POP3 and/or SMTP servers?

Thanks!


Andrzej Jan Taramina
Chaeron Corporation: Enterprise System Solutions
http://www.chaeron.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5421<br>
Sender:"Andrzej Jan Taramina" &lt;andrzej@...&gt;<br>
Post Date/Time:2005-11-05 19:28:19<br>
Subject:Re: Testing services....<br>
Message:<br><br>
<pre>&gt; &gt; I just "discover" Twill, which is a tool to easily test webapps. It
&gt; &gt; realy look like an "smart" rest client :)

Looks pretty good and simple to use.

 For more robust load testing you might also want to check out Grinder:  
http://grinder.sourceforge.net/



Andrzej Jan Taramina
Chaeron Corporation: Enterprise System Solutions
http://www.chaeron.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5422<br>
Sender:toydi &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-11-06 16:51:21<br>
Subject:Re: [rest-discuss] Hypertext as engine of state transition for non GET requests<br>
Message:<br><br>
<pre>Hi Paul,

On 11/5/05, Paul James &lt;yahoogroups@...&gt; wrote:

&gt; Should my list representation provide a clue to this POST operation? For
&gt; example:
&gt;
&gt; &lt;?xml version="1.0"?&gt;
&gt; &lt;widgets
&gt;     xmlns="http://example.org/widgetsystem"
&gt;     xmlns:formlang="|http://www.w3.org/1999/xhtml|"&gt;
&gt;     &lt;widget name="Foo widget" href="http://example.org/widgets/1" /&gt;
&gt;     &lt;widget name="Bar widget" href="http://example.org/widgets/2" /&gt;
&gt;     &lt;formlang:form action="http://example.org/widgets" method="post"
&gt; enctype="widgetsystem/widget" /&gt;
&gt; &lt;/widgets&gt;
&gt;

I think yes, this is something closer to "Hypertext as engine of state
transition", where users are able to discover "new clues" to next
state of the application.

However, some people might choose to describe resource's behavior
externally in a spec (e.g atompub-protocol [1] ) or a resource
description document (e.g RDF mentioned by Josh).

Regrading the example above, maybe I will add "more clues" about the
POST operation by simply providing a xlinks/hyperlink pointing to a
Form page. The Form will able describe everything (input fields, where
to POST etc), and yet, it's possible for users to use it straight away
if the user agent's engine is able to render the form. There's a
brainstorming session[2] in microformats which might be useful for
this purpose.

[1] http://ietfreport.isoc.org/idref/draft-ietf-atompub-protocol/#page-8
[2] http://microformats.org/wiki/forms-brainstorming

----
BTW, just an off-topic. ;-)
I'm having trouble to download a copy of your Tonic source code from
CVS, my WinCVS said:
cvs [login aborted]: authorization failed: server cvs.sourceforge.net
rejected access to /cvsroot/tonic/tonic for user anonymous

Maybe you could give me a help? :-)

Cheers,
--
-toydi-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5423<br>
Sender:Paul James &lt;yahoogroups@...&gt;<br>
Post Date/Time:2005-11-06 21:05:21<br>
Subject:Re: [rest-discuss] Hypertext as engine of state transition for non GET requests<br>
Message:<br><br>
<pre>toydi wrote:

&gt;I think yes, this is something closer to "Hypertext as engine of state
&gt;transition", where users are able to discover "new clues" to next
&gt;state of the application.
&gt;
&gt;However, some people might choose to describe resource's behavior
&gt;externally in a spec (e.g atompub-protocol [1] ) or a resource
&gt;description document (e.g RDF mentioned by Josh).
&gt;  
&gt;
Yes, I'm forgetting that a forms language just tells you how to issue a 
request to a URL, in the same way that a HTML link or an xlink does for 
a GET request. Knowing the representation format alone isn't enough , 
you need to know how to plug your data into that format, browsers know 
about application/x-www-form-urlencoded but still require HTML forms to 
fill it. Whether the form is part of the main representation or another 
resource linked from it doesn't matter, just having it somewhere make 
you more RESTful. I think I'm starting to understand the whole forms 
language thing now.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5424<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-11-06 21:47:50<br>
Subject:Re: [rest-discuss] Hypertext as engine of state transition for non GET requests<br>
Message:<br><br>
<pre>On Sat, Nov 05, 2005 at 01:20:28PM +0000, Paul James wrote:
&gt; Should my list representation provide a clue to this POST operation? For
&gt; example:
&gt; 
&gt; &lt;?xml version="1.0"?&gt;
&gt; &lt;widgets
&gt;     xmlns="http://example.org/widgetsystem"
&gt;     xmlns:formlang="|http://www.w3.org/1999/xhtml|"&gt;
&gt;     &lt;widget name="Foo widget" href="http://example.org/widgets/1" /&gt;
&gt;     &lt;widget name="Bar widget" href="http://example.org/widgets/2" /&gt;
&gt;     &lt;formlang:form action="http://example.org/widgets" method="post"
&gt; enctype="widgetsystem/widget" /&gt;
&gt; &lt;/widgets&gt;
&gt; 
&gt; If not, how does a client know it can POST a representation of a new
&gt; widget resource to it, is this just an expected part of a RESTful system?

I think there's a certain degree of that kind of expectation, yes.  For
example, if you GET a URI and receive back a text/html document, and you
(or some automaton working on your behalf) want to change that document,
then there's an expectation that you simply need to make the edit
locally, then PUT it back with the same media type.  That's why RDF
Forms didn't support PUT, because I couldn't think of a scenario where
that interaction needed any additional information from the server.  On
the other hand, "couldn't think of" wreaks of trying to anticipate the
unanticipated, which is why I'm adding it in (I'm doing a complete
rewrite, in fact, at Dan Connolly's request).

&gt; If so, using some kind of forms language, does this also mean that I
&gt; need to do this for every resource and method in my system, so should
&gt; each representation of my widgets include some forms stuff saying what
&gt; to PUT to update it?

For PUT, maybe not.  POST always needs parameterizing (i.e. the
"additional information" I mentioned) though, since unlike PUT, the
media type of the representation returned over GET to the URI doesn't
necessarily have anything to do with the media type accepted on a POST.

Mark.
-- 
Mark Baker.  Ottawa, Ontario, CANADA.          http://www.markbaker.ca
Coactus; Web-inspired integration strategies   http://www.coactus.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5425<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-11-06 22:05:02<br>
Subject:RE: [rest-discuss] Hypertext as engine of state transition for non GET requests<br>
Message:<br><br>
<pre>
&gt; Yes, I'm forgetting that a forms language just tells you how 
&gt; to issue a request to a URL, in the same way that a HTML link 
&gt; or an xlink does for a GET request. Knowing the 
&gt; representation format alone isn't enough , you need to know 
&gt; how to plug your data into that format, browsers know about 
&gt; application/x-www-form-urlencoded but still require HTML 
&gt; forms to fill it. 
Theres's some discussion on the WHAT-WG mailing listing sort of related to
this:
http://listserver.dreamhost.com/pipermail/whatwg-whatwg.org/2005-November/00
5041.html
http://listserver.dreamhost.com/pipermail/whatwg-whatwg.org/2005-November/00
5050.html
http://listserver.dreamhost.com/pipermail/whatwg-whatwg.org/2005-November/00
5051.html

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5426<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2005-11-07 15:06:05<br>
Subject:Re: [rest-discuss] Best practices for crippled HTTP clients?<br>
Message:<br><br>
<pre>Ryan Shaw wrote:
&gt; Hello,
&gt; 
&gt; Are there any best practices for designing REST services which are 
&gt; usable by web clients that do not support HTTP methods other than GET 
&gt; and POST? Ideally I would like to have a "proper" API using the full set 
&gt; of HTTP methods, with some "transitional" interfaces to support clients 
&gt; (like Flash) that currently cannot PUT or DELETE.
&gt; 

Have POST-abuse as a back-up is really it I suppose.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5427<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2005-11-07 15:08:10<br>
Subject:Re: [rest-discuss] The W3C definition of a web service<br>
Message:<br><br>
<pre>Costello, Roger L. wrote:
&gt; According to the W3C[not really as noted], if you're not using SOAP and your not using WSDL
&gt; then you're not doing web services.  

Here Be Marketting.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5428<br>
Sender:toydi &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-11-07 16:13:38<br>
Subject:Re: [rest-discuss] Best practices for crippled HTTP clients?<br>
Message:<br><br>
<pre>Hi Ryan,

On 11/5/05, Ryan Shaw &lt;rshaw@...&gt; wrote:
&gt; Hello,
&gt;
&gt; Are there any best practices for designing REST services which are
&gt; usable by web clients that do not support HTTP methods other than GET
&gt; and POST? Ideally I would like to have a "proper" API using the full set
&gt; of HTTP methods, with some "transitional" interfaces to support clients
&gt; (like Flash) that currently cannot PUT or DELETE.
&gt;
&gt; Thanks,
&gt; Ryan

I'm interested in this particular issue too.

Currently, I'm dealing with form data. Therefore, the way I choose is
to add two input fields ( reqmethod=put, actionuri=/foo/bar/123 ) into
html form and POST it. More details in a previous message:
http://groups.yahoo.com/group/rest-discuss/message/5366

Laurian proposed another way:
http://groups.yahoo.com/group/rest-discuss/message/5372

I'm still not sure whether it's violating any REST constraints, as
Dimitri was discouraging such method in his reply
(http://groups.yahoo.com/group/rest-discuss/message/5374).

However, I wish to raise it again, and looking forward for more
discussions about this issue, and hopefully we will come out with a
better solution or best practice, as it's something we must deal with
now in current situation.

Cheers,
--
-toydi-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5429<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2005-11-07 17:17:40<br>
Subject:Re: [rest-discuss] RSDC (WAS:REST descriptive services)<br>
Message:<br><br>
<pre>Hi Toydi,

&gt;&gt; The question is, what problem are you trying to solve?
&gt;
&gt; Improve interoperability. :-) Now, we have Web (or REST) as a
&gt; distributed environment. How are we going to utilize this environment
&gt; to improve interoperability in apps? A little bit of mind shift would
&gt; be a very simple but very essential first step.

Hmm. Okay, but here's my paradoxical mind shift for you:

"The way to improve interoperability
  is not to add functionality
but to remove it by adding constraints."

That is, I believe the single most useful way to improve  
interoperability is by *taking away* degrees of freedom, so there's  
*fewer* ways to define and describe web services.  That way, there's  
much greater likelihood that two independently developed apps will be  
interoperable.

Obviously if you go too far in this direction you get something  
useless.  Hence, Einstein's dictum:

"Keep things as simple as possible -- but no simpler!"

That's why for me the question is, "What is the simplest thing that  
could *possibly* work?"

That's why I like the idea of specifying REST APIs simply as &lt;form&gt;  
-- if its rich enough for the human web, it ought to be rich enough  
for the machine-readable web.

-- Ernie P.


On Nov 4, 2005, at 8:15 PM, toydi wrote:

&gt; Hi Ernie,
&gt;
&gt; On 11/5/05, Dr. Ernie Prabhakar &lt;drernie@...&gt; wrote:
&gt;&gt; The question is, what problem are you trying to solve?
&gt;
&gt; I'm not trying to propose another WSDL, but suggesting a little mind
&gt; shift on how we look at our web-based applications as a *collection of
&gt; resources*.
&gt;
&gt; [Why resources?]
&gt; A REST style system (e.g Web) provides infrastructures to identify
&gt; resources and manipulate resources' state. This *little mind shift
&gt; will be enough to change* the way we design apps and software tools to
&gt; utilize Web environment, and nurture a web interoperable environment.
&gt;
&gt; To further setting up the web interoperable environment, developers
&gt; are encouraged to describe resources they need, share them, and reuse
&gt; them within their community. When a group of people are using the same
&gt; resources in their applications, interoperability will not be an
&gt; issue.
&gt;
&gt; [Describe resources?]
&gt; About the xml example in previous message, again, that's not another
&gt; WSDL. ;-) I'm just trying to figure out what's needed to be described.
&gt;
&gt; In fact, I think developers are free to describe resources using
&gt; current design tools (e.g UML's Class Diagram) or resource description
&gt; tools (e.g TopicMaps, RDF) and share them within their community. Of
&gt; course, RSDC will be another potential description tool. :-)
&gt;
&gt; IMHO, the reason we describe resources, is just to synchronize and
&gt; improve interactions among apps that we are building. Any tools will
&gt; do. The point is do not describe resources your own, but discuss,
&gt; identify, describe and reuse resources within a community. It's a way
&gt; to promote interoperability.
&gt;
&gt;
&gt; [Back to the question]
&gt;&gt; The question is, what problem are you trying to solve?
&gt;
&gt; Improve interoperability. :-) Now, we have Web (or REST) as a
&gt; distributed environment. How are we going to utilize this environment
&gt; to improve interoperability in apps? A little bit of mind shift would
&gt; be a very simple but very essential first step.
&gt;
&gt;
&gt; Cheers,
&gt; --
&gt; -toydi-

------------
Ernest N. Prabhakar, Ph.D. &lt;drernie at opendarwin.org&gt;
Ex-Physicist, Marketing Weenie, and Dilettante Hacker
Probe-Hacker blog: http://www.opendarwin.org/~drernie/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5430<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2005-11-07 17:26:45<br>
Subject:Re: REST descriptive services (was Re: [rest-discuss] REST description using WSDL)<br>
Message:<br><br>
<pre>Hi Mike,

On Nov 4, 2005, at 8:00 PM, Mike Dierken wrote:
&gt; On 11/3/05, Dr. Ernie Prabhakar &lt;drernie@...&gt; wrote:
&gt;&gt; For example, say that Amazon had a truly RESTful API.
&gt; Hey now...

No offense, but last I checked Amazon put verbs in their query  
string, and didn't have unique URIs for each resource.  Don't get me  
wrong -- their REST-like API is a big improvement over their SOAP- 
style API, but I just don't consider it a paragon of REST.

I don't blame them at all -- I'm merely trying to figure out how to  
do it better, which isn't easy.

&gt;&gt; I wanted to build an automatically-generated GUI client that would  
&gt;&gt; be able
&gt; to
&gt;&gt; query, browse, and display anything accessible from their datastore.
&gt; There is a wildly varying set of data maintained within various Amazon
&gt; systems, and even if by some miracle every data service took the  
&gt; trouble to
&gt; highlight and markup every potential reference to resources from  
&gt; other data
&gt; services at Amazon (hyperlinks),

I don't think so.  I spent some time working through their API  
document, and it doesn't really seem all that complicated.  Or at  
least, it doesn't *have* to be.

&gt;  there is a huge problem of what a meaningful display for this data  
&gt; would be.

Why?   Display is a user-agent problem.  I'd be willing to bet that  
at least 80% of the data on web is (implicitly) structured as either  
a list, a dictionary, or a table -- everything else is just formatting.

&gt; And on top of that there are
&gt; various interactions that a human would want to do with that data  
&gt; that would
&gt; require such deep knowledge of the purpose of the data that an  
&gt; automated GUI
&gt; sounds like a pipe dream.

Remember, the goal is to provide power by keeping things *simple*.    
If you buy the REST idea that there are only four verbs, then  
everything else becomes a small set of nouns and list of a valid  
attributes.  Also, the goal is NOT to ensure everything is browseable  
-- just provide the blank forms so it can be queried.

Let me put it this way: if I understand it correctly, REST is just  
treating the web as a database.  That was the magic of Roy's thesis  
-- he proved you could do anything you want by keeping the back-end  
simple, and let the client add complexity if it wants.  Isn't that  
right?

We've already proved that it is trivial to write basic tools for  
automating database UIs by reverse-engineering the schema.  Why  
shouldn't that work for REST web services?

&gt; If all you want is a read-only display, then like someone said -  
&gt; your Web
&gt; browser already does that.

Heck, my web browser does read-write, so that should be trivial too,  
right? :-)

-- Ernie P.
------------
Ernest N. Prabhakar, Ph.D. &lt;drernie at opendarwin.org&gt;
Ex-Physicist, Marketing Weenie, and Dilettante Hacker
Probe-Hacker blog: http://www.opendarwin.org/~drernie/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5431<br>
Sender:Yannick Loiseau &lt;yloiseau@...&gt;<br>
Post Date/Time:2005-11-07 20:23:04<br>
Subject:Re: [rest-discuss] RSDC (WAS:REST descriptive services)<br>
Message:<br><br>
<pre>
Hi

Dr. Ernie Prabhakar wrote:
&gt; Hi Yannick,
&gt; 
&gt; Could you please post the exact portions of the WebForms 2 spec you  are
&gt; referring to?
&gt;&gt;&gt; Those seem to capture the "80/20" tradeoff for the most useful subset
&gt;&gt;&gt; of REST web services, even if it loses some niceties like strong
&gt;&gt;&gt; typing and complex input structures.
&gt;&gt; To deal with stronger typing, and maybe more complex structures, Web
&gt;&gt; Forms 2 could be a solution, since it adds types and constraints on
&gt;&gt; input fields

2.4 Extensions to the input element
http://whatwg.org/specs/web-forms/current-work/#extensions

and

2.5. Extensions to existing attributes
http://whatwg.org/specs/web-forms/current-work/#extensions0


&gt;&gt; and allow to specify the allowed content-type for file
&gt;&gt; upload, and so on. 

2.15. Extensions to file upload controls
http://whatwg.org/specs/web-forms/current-work/#upload

5.6.1. For http:  actions
http://whatwg.org/specs/web-forms/current-work/#for-http

&gt;&gt; Even if it is not implemented yet in browsers, it
&gt;&gt; woulld allow to automagicaly discover the service description, at  least
&gt;&gt; more precisely than classical html forms. Xforms may be an  alternative,
&gt;&gt; but I don't know it well, and the browser support is weaker.
&gt; 
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5432<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2005-11-07 22:56:31<br>
Subject:Re: [rest-discuss] RSDC (WAS:REST descriptive services)<br>
Message:<br><br>
<pre>Thanks, I've added these to the 'webforms' ideas page on the uf-rest  
wiki:

http://microformats.org/wiki/rest/webforms


On Nov 7, 2005, at 12:23 PM, Yannick Loiseau wrote:

&gt; 2.4 Extensions to the input element
&gt; http://whatwg.org/specs/web-forms/current-work/#extensions
&gt;
&gt; and
&gt;
&gt; 2.5. Extensions to existing attributes
&gt; http://whatwg.org/specs/web-forms/current-work/#extensions0
&gt;
&gt;
&gt; &gt;&gt; and allow to specify the allowed content-type for file
&gt; &gt;&gt; upload, and so on.
&gt;
&gt; 2.15. Extensions to file upload controls
&gt; http://whatwg.org/specs/web-forms/current-work/#upload
&gt;
&gt; 5.6.1. For http:  actions
&gt; http://whatwg.org/specs/web-forms/current-work/#for-http
&gt;

------------
Ernest N. Prabhakar, Ph.D. &lt;drernie at opendarwin.org&gt;
Ex-Physicist, Marketing Weenie, and Dilettante Hacker
Probe-Hacker blog: http://www.opendarwin.org/~drernie/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5433<br>
Sender:Paul James &lt;yahoogroups@...&gt;<br>
Post Date/Time:2005-11-07 23:14:28<br>
Subject:Re: [rest-discuss] Best practices for crippled HTTP clients?<br>
Message:<br><br>
<pre>Hi Ryan et all,

Ryan Shaw wrote:

&gt; Hello,
&gt;
&gt; Are there any best practices for designing REST services which are
&gt; usable by web clients that do not support HTTP methods other than GET
&gt; and POST? Ideally I would like to have a "proper" API using the full set
&gt; of HTTP methods, with some "transitional" interfaces to support clients
&gt; (like Flash) that currently cannot PUT or DELETE.
&gt;
&gt; Thanks,
&gt; Ryan

Here's my two pence on the issue of POST(a), PUT and DELETE tunnelling 
through POST(p) browser issue.

First lets separate our resources into two types, data resources and 
application resources. Data resources represent the model of our 
application and respond to GET, POST(a), PUT and DELETE in a RESTful 
manner. Application resources are our  forms.

So to update one of our application resources, we can PUT a 
representation directly to the resource using our rich client or machine 
automation. But then with a browser, we can GET our "update our model" 
form that POSTs a request to update the model resource, our application 
resource (form) validates the request and does a PUT on our model resource.

Some might say that this is tunnelling a PUT through a POST request, but 
POST(p) is supposed to be open ended and mean "process this", I think 
it's fair game for an application resource to manipulate a data resource 
via POST (as long as the request doesn't change the application resource 
itself).

Paul.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5434<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2005-11-07 23:13:42<br>
Subject:Re: [rest-discuss] Best practices for crippled HTTP clients?<br>
Message:<br><br>
<pre>Hi all,

On Nov 7, 2005, at 8:13 AM, toydi wrote:
&gt; &gt; Are there any best practices for designing REST services which are
&gt; &gt; usable by web clients that do not support HTTP methods other than  
&gt; GET
&gt; &gt; and POST? Ideally I would like to have a "proper" API using the  
&gt; full set
&gt; &gt; of HTTP methods, with some "transitional" interfaces to support  
&gt; clients
&gt; &gt; (like Flash) that currently cannot PUT or DELETE.

Well, the microformats way to answer this question is to *document  
current practice" so that we have an adequate sample size for  
determining "best practice."  Here's a first stab at such:

http://microformats.org/wiki/rest/forms-examples#Real- 
World_Tunneling_Examples

I encourage everyone to add their own favorite examples to the wiki  
(contact me if you need help getting registered).  Heck, even just  
posting URLs of interesting examples would be good; I'll help format  
them for the wiki.


-- Ernie P.

------------
Ernest N. Prabhakar, Ph.D. &lt;drernie at opendarwin.org&gt;
Ex-Physicist, Marketing Weenie, and Dilettante Hacker
Probe-Hacker blog: http://www.opendarwin.org/~drernie/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5435<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2005-11-07 23:33:29<br>
Subject:Re: [rest-discuss] RSDC (WAS:REST descriptive services)<br>
Message:<br><br>
<pre>On Nov 7, 2005, at 9:17 AM, Dr. Ernie Prabhakar wrote:

&gt; That is, I believe the single most useful way to improve
&gt; interoperability is by *taking away* degrees of freedom, so there's
&gt; *fewer* ways to define and describe web services.  That way, there's
&gt; much greater likelihood that two independently developed apps will be
&gt; interoperable.

Sure, but interoperability is only one property we want to get
out of a system.  Evolvability and extensibility are others,
as is ...

&gt; Obviously if you go too far in this direction you get something
&gt; useless.  Hence, Einstein's dictum:
&gt;
&gt; "Keep things as simple as possible -- but no simpler!"
&gt;
&gt; That's why for me the question is, "What is the simplest thing that
&gt; could *possibly* work?"

simplicity.  Take care not to assume one property is all-important,
since that will blind you to the trade-offs inherent in principled
design.

&gt; That's why I like the idea of specifying REST APIs simply as &lt;form&gt;
&gt; -- if its rich enough for the human web, it ought to be rich enough  
&gt; for the machine-readable web.

REST is an architectural style.  Please come up with a different
name for your implementation so that you don't confuse the heck
out of people like me trying to understand it.  REST cannot
have an API.  XForms, SOAP, and XML over HTTP are technologies
that can used with services that have an API.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5436<br>
Sender:Ryan Shaw &lt;rshaw@...&gt;<br>
Post Date/Time:2005-11-07 23:42:54<br>
Subject:Re: [rest-discuss] Best practices for crippled HTTP clients?<br>
Message:<br><br>
<pre>Paul James wrote:

&gt; Ryan Shaw wrote:
&gt;
&gt;&gt; Are there any best practices for designing REST services which are
&gt;&gt; usable by web clients that do not support HTTP methods other than GET
&gt;&gt; and POST? Ideally I would like to have a "proper" API using the full set
&gt;&gt; of HTTP methods, with some "transitional" interfaces to support clients
&gt;&gt; (like Flash) that currently cannot PUT or DELETE.
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Ryan
&gt; 
&gt; Here's my two pence on the issue of POST(a), PUT and DELETE tunnelling 
&gt; through POST(p) browser issue.
&gt; 
&gt; First lets separate our resources into two types, data resources and 
&gt; application resources. Data resources represent the model of our 
&gt; application and respond to GET, POST(a), PUT and DELETE in a RESTful 
&gt; manner. Application resources are our  forms.
&gt; 
&gt; So to update one of our application resources, we can PUT a 
&gt; representation directly to the resource using our rich client or machine 
&gt; automation. But then with a browser, we can GET our "update our model" 
&gt; form that POSTs a request to update the model resource, our application 
&gt; resource (form) validates the request and does a PUT on our model resource.
&gt; 
&gt; Some might say that this is tunnelling a PUT through a POST request, but 
&gt; POST(p) is supposed to be open ended and mean "process this", I think 
&gt; it's fair game for an application resource to manipulate a data resource 
&gt; via POST (as long as the request doesn't change the application resource 
&gt; itself).

Is this POST(a) and POST(p) terminology something you're using for 
illustrative purposes in this email, or is this a more widely known 
distinction?

Cheers,
Ryan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5437<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2005-11-07 23:46:15<br>
Subject:Re: [rest-discuss] RSDC (WAS:REST descriptive services)<br>
Message:<br><br>
<pre>Hi Roy,

On Nov 7, 2005, at 3:33 PM, Roy T. Fielding wrote:
&gt; simplicity.  Take care not to assume one property is all-important,
&gt; since that will blind you to the trade-offs inherent in principled  
&gt; design.

Okay, fair point. Here's my list of principles that constrain the "as  
possible" side of simplicity:
	* interoperability/compatibility
	* extensibility/evolvability
	* learnability/usablity
anything else you'd suggest?

&gt; &gt; That's why I like the idea of specifying REST APIs simply as &lt;form&gt;
&gt; &gt; -- if its rich enough for the human web, it ought to be rich enough
&gt; &gt; for the machine-readable web.
&gt;
&gt; REST is an architectural style.  Please come up with a different
&gt; name for your implementation so that you don't confuse the heck
&gt; out of people like me trying to understand it.  REST cannot
&gt; have an API.  XForms, SOAP, and XML over HTTP are technologies
&gt; that can used with services that have an API.

Sorry about that -- I seem to keep getting yelled at from both  
sides. :-)   Some people tell me "it is just REST" or "it is just The  
Web-- stop making up names."

However, I'll take your statement as normative, and try to create a  
distinguishing name.  I'm still a little unclear on the optimal  
terminology, though. I have started using the term "REX: REST-Enabled  
XHTML" for my effort encode REST-compatible (?) URLs inside HTML  
documents.  Would that help?  Or can you suggest something more  
specific?

-- Ernie P.
------------
Ernest N. Prabhakar, Ph.D. &lt;drernie at opendarwin.org&gt;
Ex-Physicist, Marketing Weenie, and Dilettante Hacker
Probe-Hacker blog: http://www.opendarwin.org/~drernie/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5438<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2005-11-08 00:20:28<br>
Subject:Re: [rest-discuss] RSDC (WAS:REST descriptive services)<br>
Message:<br><br>
<pre>On Nov 7, 2005, at 3:46 PM, Dr. Ernie Prabhakar wrote:

&gt; On Nov 7, 2005, at 3:33 PM, Roy T. Fielding wrote:
&gt;&gt; simplicity.  Take care not to assume one property is all-important,
&gt;&gt; since that will blind you to the trade-offs inherent in principled  
&gt;&gt; design.
&gt;
&gt; Okay, fair point. Here's my list of principles that constrain the "as  
&gt; possible" side of simplicity:
&gt; 	* interoperability/compatibility
&gt; 	* extensibility/evolvability
&gt; 	* learnability/usablity
&gt; anything else you'd suggest?

Those are properties, not principles. I frequently get those
mixed up too, particularly when I use generality as a principle. ;-)
This figure, for example, has constraints written in normal text and
properties in italics.

     
&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/ 
rest_arch_style.htm#fig_5_9&gt;

I would start with the set of properties in

     
&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/ 
net_app_arch.htm#sec_2_3&gt;

and perhaps add a few more, then figure out their relative importance.
Why "learnability/usablity" instead of visibility?

Principles are found in most software engineering textbooks, and
occasionally in patterns as well.  I glossed over them in my
dissertation because the audience (Professors doing research
in Software) would have been annoyed.

&gt;&gt; &gt; That's why I like the idea of specifying REST APIs simply as &lt;form&gt;
&gt;&gt; &gt; -- if its rich enough for the human web, it ought to be rich enough
&gt;&gt; &gt; for the machine-readable web.
&gt;&gt;
&gt;&gt; REST is an architectural style.  Please come up with a different
&gt;&gt; name for your implementation so that you don't confuse the heck
&gt;&gt; out of people like me trying to understand it.  REST cannot
&gt;&gt; have an API.  XForms, SOAP, and XML over HTTP are technologies
&gt;&gt; that can used with services that have an API.
&gt;
&gt; Sorry about that -- I seem to keep getting yelled at from both sides.  
&gt; :-)   Some people tell me "it is just REST" or "it is just The Web--  
&gt; stop making up names."
&gt;
&gt; However, I'll take your statement as normative, and try to create a  
&gt; distinguishing name.  I'm still a little unclear on the optimal  
&gt; terminology, though. I have started using the term "REX: REST-Enabled  
&gt; XHTML" for my effort encode REST-compatible (?) URLs inside HTML  
&gt; documents.  Would that help?  Or can you suggest something more  
&gt; specific?

Isn't REX the name of a computer language?  I usually talk about
REST as a style and REST-based architectures as implementations
of that style, so sticking to REST-based APIs that use XHTML
is fine.  I suggest avoiding the use of an acronym or naming
it after a loved-one (unless it is a pet turtle, which apparently
have no objections to such things).

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5439<br>
Sender:Donald_Strong@...<br>
Post Date/Time:2005-11-08 01:09:23<br>
Subject:Fw: [rest-discuss] Hypertext as engine of state transition for non GET requests<br>
Message:<br><br>
<pre>



I sent this to James but didn't send it to the rest-discuss list.

Donald.

----- Forwarded by Donald Strong/VIC/NAB/NAG_AP on 08/11/2005 12:08 PM
-----
                                                                           
                                                                           
                                                                           
                                                                           



Hi James,

You can get a bit more mileage from having separate lists and instances of
your widgets.

You could organise your URIs like this:

 # The second widget
http://example.org/widget/2

# A form describing how to create a widget
http://example.org/widget

 # The list of the first N (say N=25) widgets
http://example.org/widgets

# The list of the next N widgets starting at 26
http://example.org/widgets/26

Then consider a sequence of hypertext style actions:

# Retrieve a list of widgets
GET http://example.org/widgets

# Retrieve details of the second one
GET http://example.org/widget/2

# Replace some of the details
POST http://example.org/widget/2

# Retrieve a form (resource parameter decription)
# or whatever you want to call it, for creating widgets
GET http://example.org/widget

# Create a new widget
POST http://example.org/widget
 &lt;= LOCATION:  //example.org/widget/123

# Get the new widget
GET http://example.org/widget/123

# Delete the Widget
DELETE http://example.org/widget/123

This organisation is similar to that of the rest-discuss
html interface. But you cannot use PUT, POST and DELETE in
that interface.

There is nothing that says you must organise resources hierarchically,
although many people prefer to do so. There are advantages to separating
your containment hierarchies from your components. It makes it trivial
to add new containers and the containers can accept search parameters.
Using the http://example.org/widget URI for creating new widgets is
similar to the Prototype design pattern while still adhering to the
expected behaviour of a POST, ie. create a subordinate resource.

Donald.



                                                                           
                                                                           
                                                                           
                                                                           




Hi all,

Here's a question I'd like to put to the list.

Say I have a RESTful system for modelling my ever growing collection of
widgets. I have a bunch of resources representing my widgets and another
resource providing a list of my widgets. The list contains the URLs for
each widget so a client can move from the list to an individual widget.
So far so good. An XML representation of the list might look something
like this:

&lt;?xml version="1.0"?&gt;
&lt;widgets&gt;
    &lt;widget name="Foo widget" href="http://example.org/widgets/1" /&gt;
    &lt;widget name="Bar widget" href="http://example.org/widgets/2" /&gt;
&lt;/widgets&gt;

To add a new widget to my system, I POST a representation of my new
widget to my list resource, it processes the representation, creates a
new widget resource and appends it to its list. Great, but here's the
question:

Should my list representation provide a clue to this POST operation? For
example:

&lt;?xml version="1.0"?&gt;
&lt;widgets
    xmlns="http://example.org/widgetsystem"
    xmlns:formlang="|http://www.w3.org/1999/xhtml|"&gt;
    &lt;widget name="Foo widget" href="http://example.org/widgets/1" /&gt;
    &lt;widget name="Bar widget" href="http://example.org/widgets/2" /&gt;
    &lt;formlang:form action="http://example.org/widgets" method="post"
enctype="widgetsystem/widget" /&gt;
&lt;/widgets&gt;

If not, how does a client know it can POST a representation of a new
widget resource to it, is this just an expected part of a RESTful system?

If so, using some kind of forms language, does this also mean that I
need to do this for every resource and method in my system, so should
each representation of my widgets include some forms stuff saying what
to PUT to update it?

Paul.





Yahoo! Groups Links








This email is sent by or on behalf of the named sender identified above. If
you do not wish to receive any email marketing material from this person in
the future, please forward the contents of this email to
unsubscriptions@... with the word "unsubscribe" in the subject
box. If you do not forward the contents of this email with your
unsubscription then it may not be able to be implemented.  If you wish to
unsubscribe from all central email marketing lists used by our business,
please forward the contents of this email to
unsubscriptions@... with the message "unsubscribe from all
central email marketing lists" in the subject box.  If you do not forward
the contents of this email with your unsubscription then it may not be able
to be implemented.


The information contained in this email communication may be confidential.
You should only disclose, re-transmit, copy, distribute, act in reliance on
or commercialise the information if you are authorised to do so.  Any views
expressed in this email communication are those of the individual sender,
except where the sender specifically states them to be the views of a
member of the National Australia Bank Group of companies.  Any advice
contained in this e-mail has been prepared without taking into account your
objectives, financial situation or needs. Before acting on any advice in
this e-mail, National Australia Bank Limited recommends that you consider
whether it is appropriate for your circumstances. If this e-mail contains
reference to any financial products, the National recommends you consider
the Product Disclosure Statement (PDS) or other disclosure document  before
making any decisions regarding any products.  The National Australia Bank
Group of companies does not represent, warrant or guarantee that the
integrity of this communication has been maintained nor that the
communication is free of errors, virus or interference.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5440<br>
Sender:toydi &lt;iamstupidiot@...&gt;<br>
Post Date/Time:2005-11-08 01:35:12<br>
Subject:Re: [rest-discuss] Best practices for crippled HTTP clients?<br>
Message:<br><br>
<pre>Hi Paul,

On 11/8/05, Paul James &lt;yahoogroups@...&gt; wrote:
&gt; But then with a browser, we can GET our "update our model"
&gt; form that POSTs a request to update the _model_resource_, our application
&gt; resource (form) validates the request and does a PUT on our model resource.

Point me out if I were wrong ;-)

[Some terms]
Data resource - the main resource which model the application domain
(e.g Person, Entry etc)
Application resource - HTML forms where each of them is a resource.
Model resource - (a synonym for Data resource?)

[A Scenario] to update an Entry (in browser) would be:

1. Get a form
&gt; GET /forms/updateEntryForm

&lt; 200 OK (return back a HTML form 'Update Entry')

2. Press the submit button in the form
&gt; POST /forms/updateEntryForm

(2.1 updateEntryForm process the request, internally send a PUT to
Entry, or maybe just call the update function in Entry)

&lt; 200 OK (return back the form, with updated data inside, plus maybe
an "Update success" message)

It means during implementation, we don't have to put ugly hidden input
fields in the form to tell about request method and data resource's
location. The form have to implicitly notice which data resource it
responsible to, and process the POST request internally.


Cheers,
--
-toydi-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5441<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2005-11-08 02:18:23<br>
Subject:Re: [rest-discuss] RSDC (WAS:REST descriptive services)<br>
Message:<br><br>
<pre>Hi Roy,

On Nov 7, 2005, at 4:20 PM, Roy T. Fielding wrote:
&gt;&gt; 	* interoperability/compatibility
&gt;&gt; 	* extensibility/evolvability
&gt;&gt; 	* learnability/usablity
&gt;&gt; anything else you'd suggest?
&gt;
&gt; Those are properties, not principles.

Ah, okay.  I think the important thing to note is that I'm trying to  
define a particular "instance" of the REST architecture with certain  
useful (IMHO) properties. I'm not sure whether to call that a  
specific "implementation", since its not necessarily tied to code.    
I suppose one could call it an 'application' of the REST  
architecture, but even that doesn't sound quite right.

&gt; Why "learnability/usablity" instead of visibility?

Well, I'm looking at this from the (gasp) Marketing perspective of  
how to get people to adopt it, rather than the Engineering  
perspective of attributes of the system. If that makes sense....

&gt; Isn't REX the name of a computer language?

You're thinking "REXX", which is not just spelled differently but is  
mostly obsolete (ducking from the hordes of Amiga users I've just  
offended...).

&gt; I usually talk about
&gt; REST as a style and REST-based architectures
&gt; as implementations of that style,
&gt; so sticking to REST-based APIs that use XHTML
&gt; is fine.

Okay, "REST-based APIs that use XHTML" is the general class of things  
I am studying,
which REX being the specific idiom I am promoting.

&gt; I suggest avoiding the use of an acronym or naming
&gt; it after a loved-one (unless it is a pet turtle, which apparently
&gt; have no objections to such things).

Well, I'm willing to buy a turtle and name it Rex if that will help. :-)

-- Ernie P.


&gt;
&gt; ....Roy

------------
Ernest N. Prabhakar, Ph.D. &lt;drernie at opendarwin.org&gt;
Ex-Physicist, Marketing Weenie, and Dilettante Hacker
Probe-Hacker blog: http://www.opendarwin.org/~drernie/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5442<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-11-08 05:02:20<br>
Subject:RE: REST descriptive services (was Re: [rest-discuss] REST description using WSDL)<br>
Message:<br><br>
<pre>&gt; On Nov 4, 2005, at 8:00 PM, Mike Dierken wrote:
&gt; &gt; On 11/3/05, Dr. Ernie Prabhakar &lt;drernie@...&gt; wrote:
&gt; &gt;&gt; For example, say that Amazon had a truly RESTful API.
&gt; &gt; Hey now...
&gt; 
&gt; No offense, but last I checked Amazon put verbs in their 
&gt; query string, and didn't have unique URIs for each resource.  
&gt; Don't get me wrong -- their REST-like API is a big 
&gt; improvement over their SOAP- style API, but I just don't 
&gt; consider it a paragon of REST.
So far, they don't put update operations in their GET requests (except for
that simple-queue-service thing). They don't go for internal reviews much
and I haven't talked to them in a while, but if they did anything
drastically wrong, they'd hear about it from me.

&gt; &gt; There is a wildly varying set of data maintained within various Amazon 
&gt; &gt; systems, and even if by some miracle every data service took the 
&gt; &gt; trouble to highlight and markup every potential reference to resources 
&gt; &gt; from other data services at Amazon (hyperlinks),
&gt; 
&gt; I don't think so.  I spent some time working through their 
&gt; API document, and it doesn't really seem all that 
&gt; complicated.  Or at least, it doesn't *have* to be.
Did you look at any update APIs? Or just the query interfaces?
The update APIs have two broad families - one for Marketplace sellers
(individuals and small shops, with the occasional 100K SKU seller), and
another for Merchants (medium to large scale, like Target, Nordstrom, etc).
The kind of data submitted are things like Product, Relationships, Price,
Inventory,  Shipping, Rebates, Browse structures, etc. The Product data has
the most complex data needs - there are many many product attributes
(weight, brand, manufacturer, voltage, material, color, hazmat, loft,
gender, diameter, and on and on...). 
The issue with hyperlinking that I mentioned (which actually isn't that big
a deal) has to do with a document containing a product attribute like
'material' and deciding whether that document should link to resources about
that 'material' and if so, which resources? What is the most useful for an
application? These sort of fine-grained links don't seem to be manageable in
the large scale scenerio that we have. 



&gt; Remember, the goal is to provide power by keeping things *simple*.    
&gt; If you buy the REST idea that there are only four verbs, then 
&gt; everything else becomes a small set of nouns and list of a 
&gt; valid attributes.  Also, the goal is NOT to ensure everything 
&gt; is browseable
&gt; -- just provide the blank forms so it can be queried.
The list of valid attributes still needs to be presented and the user
interaction on a single page with those attributes along with the valid
changes to that data is very hard to automate. It can be done, but it
results in a plain vanilla user interface. It gets the job done, but it
isn't the slickest thing.

&gt; 
&gt; Let me put it this way: if I understand it correctly, REST is 
&gt; just treating the web as a database.  That was the magic of 
&gt; Roy's thesis
&gt; -- he proved you could do anything you want by keeping the 
&gt; back-end simple, and let the client add complexity if it 
&gt; wants.  Isn't that right?
Uh, sort of... I don't think the thesis 'proved' anything. My reading is
that principled design of Web-scale systems would result in a system with
the noted characteristics. The implication is that we can also create large
scale systems if we all steal like a sumbitch from the ideas inherent in the
Web.

&gt; 
&gt; We've already proved that it is trivial to write basic tools 
&gt; for automating database UIs by reverse-engineering the 
&gt; schema.  Why shouldn't that work for REST web services?
For resource representations that contain medium sized numbers of named
properties (columns in tables, elements in document markup, etc) it's a
reasonable start. But hypermedia goes beyond that - images, audio, 3d scenes
(hyperspace?), vector graphics, etc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5443<br>
Sender:Donald_Strong@...<br>
Post Date/Time:2005-11-08 06:40:55<br>
Subject:Re: [rest-discuss] Best practices for crippled HTTP clients?<br>
Message:<br><br>
<pre>Hi Paul,


&gt; First lets separate our resources into two types, data resources and
&gt; application resources. Data resources represent the model of our
&gt; application and respond to GET, POST(a), PUT and DELETE in a RESTful
&gt; manner. Application resources are our  forms.

&gt; So to update one of our application resources, we can PUT a
&gt; representation directly to the resource using our rich client or machine
&gt; automation. But then with a browser, we can GET our "update our model"
&gt; form that POSTs a request to update the model resource, our application
&gt; resource (form) validates the request and does a PUT on our model
resource.

&gt; Some might say that this is tunnelling a PUT through a POST request, but
&gt; POST(p) is supposed to be open ended and mean "process this", I think
&gt; it's fair game for an application resource to manipulate a data resource
&gt; via POST (as long as the request doesn't change the application resource
&gt; itself).

Some might say that is tunnelling but I wouldn't. You are one step away
from a realisation I came to a while ago.
You are progressing toward a 3-tier system

http://groups.yahoo.com/group/rest-discuss/message/4921

As far as I can see, PUT should only be used on resources that represent
Data Services. It is very difficult to
perform data validation on a PUT resource. You are effectively limited to
using it as a storage mechanism.

I can see a few situations where PUT can be useful.

1.   In a data store mechanism analogous to a shared file system.
2.   In a versioning data store analogous to CVS or Subversion.
3.   In an HTTP implementation of a message queuing system.

There may be others along a similar line.

In all of these cases the entity body is opaque, the application simply
takes the entity and stores it.
Of these, the only one that you would expose to a customer/client is the
last one.

Now I am not saying that PUT is diminished by this constraint. It is
immensely powerful.
Imagine that you had several of the first two data stores distributed
throughout the Net
(either Internet or Intranet it doesn't matter). You then have a universal
mechanism for
accessing decentralised data. You can place an "Order" resource from
anywhere
that has visibility to the appropriate URL.

The limitation is that all applications that access the data must have an
intimate
knowledge of the domain model that the data represents. Consequently, they
must be completely trustworthy. You cannot expose the resource to any party
that might be careless when clobbering the resource with a PUT.

If you are exposing your resources to an external party you should really
validate
the request prior to acting upon it. Essentially you are restricted to
using POST
when the client cannot be trusted.

Donald.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5444<br>
Sender:Yannick Loiseau &lt;yloiseau@...&gt;<br>
Post Date/Time:2005-11-08 08:35:46<br>
Subject:Re: [rest-discuss] Best practices for crippled HTTP clients?<br>
Message:<br><br>
<pre>
&gt; It is very difficult to
&gt; perform data validation on a PUT resource. You are effectively limited to
&gt; using it as a storage mechanism.

Why couldn't be possible to validate the request body (validating xml
with a schema, checking value constraints, and so on) and returning an
error if the body don't validate, say
412 Precondition Failed, 415 Unsupported Media Type or 400 Bad Request
with a body explaining the reason of the failure...


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5445<br>
Sender:Bob Haugen &lt;bob.haugen@...&gt;<br>
Post Date/Time:2005-11-08 11:58:04<br>
Subject:Re: REST descriptive services (was Re: [rest-discuss] REST description using WSDL)<br>
Message:<br><br>
<pre>On 11/7/05, Mike Dierken &lt;mdierken@...&gt; wrote:
&gt; &gt; On Nov 4, 2005, at 8:00 PM, Mike Dierken wrote:
&gt; &gt; &gt; On 11/3/05, Dr. Ernie Prabhakar &lt;drernie@...&gt; wrote:
&gt; &gt; &gt;&gt; For example, say that Amazon had a truly RESTful API.
&gt; &gt; &gt; Hey now...
&gt; &gt;
&gt; &gt; No offense, but last I checked Amazon put verbs in their
&gt; &gt; query string, and didn't have unique URIs for each resource.
&gt; &gt; Don't get me wrong -- their REST-like API is a big
&gt; &gt; improvement over their SOAP- style API, but I just don't
&gt; &gt; consider it a paragon of REST.
&gt; So far, they don't put update operations in their GET requests (except for
&gt; that simple-queue-service thing). They don't go for internal reviews much
&gt; and I haven't talked to them in a while, but if they did anything
&gt; drastically wrong, they'd hear about it from me.

How about:

http://webservices.amazon.com/onca/xml?Service=AWSECommerceService
&amp;SubscriptionId=[your subscription ID here]
&amp;Operation=CartCreate &amp;Item.1.ASIN=0486411214
&amp;Item.1.Quantity=1

http://webservices.amazon.com/onca/xml?Service=AWSECommerceService
   &amp;SubscriptionId=[ID]
   &amp;CartId=[CartId]
   &amp;HMAC=[HMAC]
   &amp;Operation=CartModify
   &amp;Item.1.CartItemId=[ID]
   &amp;Item.1.Quantity=29

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5446<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2005-11-08 12:43:23<br>
Subject:Re: REST descriptive services (was Re: [rest-discuss] REST description using WSDL)<br>
Message:<br><br>
<pre>Dr. Ernie Prabhakar wrote:
&gt; Hi Mike,
&gt; 
&gt; On Nov 4, 2005, at 8:00 PM, Mike Dierken wrote:
&gt; 
&gt;&gt;On 11/3/05, Dr. Ernie Prabhakar &lt;drernie@...&gt; wrote:
&gt;&gt;
&gt;&gt;&gt;For example, say that Amazon had a truly RESTful API.
&gt;&gt;
&gt;&gt;Hey now...
&gt; 
&gt; 
&gt; No offense, but last I checked Amazon put verbs in their query  
&gt; string, and didn't have unique URIs for each resource.  Don't get me  
&gt; wrong -- their REST-like API is a big improvement over their SOAP- 
&gt; style API, but I just don't consider it a paragon of REST.

The non-SOAP API Amazon have was first described as REST as people 
discussing the REST vs. SOAP debate.

One person even used a comment along the lines of "Amazon, whether they 
know it or not, is going with REST".

It is not REST, it's not even close, but it wasn't Amazon that first 
described it as such. As much as I hate abusing terms for marketing 
purposes, one can hardly blame them taking advantage when they found 
themselves caught up in hype of someone else's making.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5447<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-11-08 13:04:01<br>
Subject:Re: REST descriptive services (was Re: [rest-discuss] REST description using WSDL)<br>
Message:<br><br>
<pre>On Tue, Nov 08, 2005 at 12:43:23PM +0000, Jon Hanna wrote:
&gt; &gt; No offense, but last I checked Amazon put verbs in their query  
&gt; &gt; string, and didn't have unique URIs for each resource.  Don't get me  
&gt; &gt; wrong -- their REST-like API is a big improvement over their SOAP- 
&gt; &gt; style API, but I just don't consider it a paragon of REST.
&gt; 
&gt; The non-SOAP API Amazon have was first described as REST as people 
&gt; discussing the REST vs. SOAP debate.
&gt; 
&gt; One person even used a comment along the lines of "Amazon, whether they 
&gt; know it or not, is going with REST".
&gt; 
&gt; It is not REST, it's not even close, but it wasn't Amazon that first 
&gt; described it as such. As much as I hate abusing terms for marketing 
&gt; purposes, one can hardly blame them taking advantage when they found 
&gt; themselves caught up in hype of someone else's making.

But it is RESTful, at least in the case of data retrieval.  The fact
that the service *provider* threw an "operation" into the URI string
means nothing to the consumer of that service; the semantics of that
operation are entirely opaque to them and anybody else who uses that
URI.  The only operation they know about is GET, and if they can use
that to get the data they want, all is good.

What it isn't though, is a best practice, because it risks deviating
from REST (in a Web context) in other ways, i.e. changing state on GET
(which, IIRC, is done by the shopping cart API).

Mark.
-- 
Mark Baker.  Ottawa, Ontario, CANADA.          http://www.markbaker.ca
Coactus; Web-inspired integration strategies   http://www.coactus.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5448<br>
Sender:"Vivek krishna" &lt;vivek200120@...&gt;<br>
Post Date/Time:2005-11-08 16:54:07<br>
Subject:REST descriptive services (was Re: [rest-discuss] REST description using WSDL)<br>
Message:<br><br>
<pre>&gt; For example, say that Amazon had a truly RESTful API.   I wanted to  
&gt; build an automatically-generated GUI client that would be able to  
Hi Ernie,
 This is quite similar to what I had in mind.I do have a few doubts here.

What about the HTTP binding in WSDL web services?Would that qualify as
a REST service.I know that REST treats URIs as
resources and doesnt like sending parameters in the url encoded
form,when it actually represents a resouce(not sure about this
though),but may be something can be done to make the service more
RESTfull.HTTP binding in WSDL typically uses HTTP GET and POST and
thats what REST services use too..and this is what I had in mind when
I thought of WSDL.

The reason I am curious about the description part because automatic
client side processing of the service can
take place.In the web services stack for example you can use a wsdl
toolkit to automatically invoke the webservice by just
providing the WSDL file to the tool or probably generate a client stub
with the toolkit.

While requests are simple URIs in REST services and dont really need a
desciption,what about the responses?
Most of them need an xml schema. WSDL has a schema section,so we could
probably combine the schema,and the uri's for the
REST services and provide a description for the service.
So I can just use the description of the REST service to autoinvoke
the service,get the response,validate it with the
schema provided and provide APIs to access the xml elements or even
generate a GUI for that automatically as Ernie pointed out.

Also do REST services have  inputs? Take the example of the Yahoo REST
service for video search whose response schema is at
http://api.search.yahoo.com/VideoSearchService/V1/VideoSearchResponse.xsd

A typical request for this looks like below.

http://api.search.yahoo.com/VideoSearchService/V1/videoSearch?appid=YahooDemo&amp;query=madonna&amp;results=1
So a toolkit which has a formal description of the REST service could
prompt for the parameters,'query' and 'results'
Does this make sense?
So Its more about automatic description of parameters and response
type than discovery of the service.

For example it helps to have  a WSDL in the web services world so you 
can have a tool which auto generates a SOAP request from the wsdl and
understands the response.
wsdl stocks.wsdl getQuote XYZ
or use it from a stock portfolio appln.so is REST meant to be used in 
other apps like an API or is it just meant for the browser?



Cheers!
Vivek Krishna
~                        





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5449<br>
Sender:Paul James &lt;yahoogroups@...&gt;<br>
Post Date/Time:2005-11-08 20:04:07<br>
Subject:Re: [rest-discuss] Best practices for crippled HTTP clients?<br>
Message:<br><br>
<pre>Hi Toydi,

You're spot on. This also gives the flexibility of the application 
resources and the model resources being on totally different servers and 
using HTTP to communicate, or they can be on the same server and talk in 
whatever local protocol they like. The HTML interface could even be 
written by someone else, or there could be a number of competing HTML 
interfaces to your model resources, we're already starting to see this 
happen with things like Amazon Light (http://www.kokogiak.com/amazon/).

Paul.

toydi wrote:

&gt;Hi Paul,
&gt;
&gt;On 11/8/05, Paul James &lt;yahoogroups@...&gt; wrote:
&gt;  
&gt;
&gt;&gt;But then with a browser, we can GET our "update our model"
&gt;&gt;form that POSTs a request to update the _model_resource_, our application
&gt;&gt;resource (form) validates the request and does a PUT on our model resource.
&gt;&gt;    
&gt;&gt;
&gt;
&gt;Point me out if I were wrong ;-)
&gt;
&gt;[Some terms]
&gt;Data resource - the main resource which model the application domain
&gt;(e.g Person, Entry etc)
&gt;Application resource - HTML forms where each of them is a resource.
&gt;Model resource - (a synonym for Data resource?)
&gt;
&gt;[A Scenario] to update an Entry (in browser) would be:
&gt;
&gt;1. Get a form
&gt;  
&gt;
&gt;&gt;GET /forms/updateEntryForm
&gt;&gt;    
&gt;&gt;
&gt;
&gt;&lt; 200 OK (return back a HTML form 'Update Entry')
&gt;
&gt;2. Press the submit button in the form
&gt;  
&gt;
&gt;&gt;POST /forms/updateEntryForm
&gt;&gt;    
&gt;&gt;
&gt;
&gt;(2.1 updateEntryForm process the request, internally send a PUT to
&gt;Entry, or maybe just call the update function in Entry)
&gt;
&gt;&lt; 200 OK (return back the form, with updated data inside, plus maybe
&gt;an "Update success" message)
&gt;
&gt;It means during implementation, we don't have to put ugly hidden input
&gt;fields in the form to tell about request method and data resource's
&gt;location. The form have to implicitly notice which data resource it
&gt;responsible to, and process the POST request internally.
&gt;
&gt;
&gt;Cheers,
&gt;--
&gt;-toydi-
&gt;
&gt;  
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5450<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2005-11-09 01:32:40<br>
Subject:Re: REST descriptive services (Amazon, input, output)<br>
Message:<br><br>
<pre>Hi Mike &amp; Vivek,

On Nov 7, 2005, at 9:02 PM, Mike Dierken wrote:
&gt;&gt;&gt; even if by some miracle every data service took the
&gt;&gt;&gt; trouble to highlight and markup every potential reference to  
&gt;&gt;&gt; resources
&gt;&gt;&gt; from other data services at Amazon (hyperlinks),
&gt;&gt;
&gt;&gt; I don't think so.  I spent some time working through their
&gt;&gt; API document, and it doesn't really seem all that
&gt;&gt; complicated.  Or at least, it doesn't *have* to be.
&gt; Did you look at any update APIs? Or just the query interfaces?

Okay, you make a good point.  If a user is uploading/updating a  
complex data structure, it is much easier to POST it One Fell Swoop,  
than have to send a bunch of key-values with hyperlinks to toMany  
relationships.

Amazon is actually the exception that proves the rule: a well-defined  
community with good governance and a well-defined problem space,  
which allows it to define and promulgate a formal XML Schema.

I still stand by my earlier statement with regards to their query  
API: if they had defined it with a unique non-query URI for each  
resource, I think it would be clearer and easy to discover. To  
Vivek's point:

On Nov 8, 2005, at 8:54 AM, Vivek krishna wrote:
&gt; Also do REST services have  inputs? Take the example of the Yahoo REST
&gt; service for video search whose response schema is at
&gt; http://api.search.yahoo.com/VideoSearchService/V1/ 
&gt; VideoSearchResponse.xsd
&gt;
&gt; A typical request for this looks like below.
&gt;
&gt; http://api.search.yahoo.com/VideoSearchService/V1/videoSearch? 
&gt; appid=YahooDemo&amp;query=madonna&amp;results=1

For a query-type API, I think key-value inputs are sufficient, and  
thus can (and should!) be represented by forms.

&gt; While requests are simple URIs in REST services and dont really need a
&gt; desciption,what about the responses? Most of them need an xml schema

I disagree.  I actually think most responses can be represented  
sufficiently well using XOXO (XHTML Outlines):

http://microformats.org/wiki/xoxo

At the very least, I think that captures the 80% case.  It obviates  
the need for any parsing (or design!) of XML schemas, and allows  
trivial inspection of the relevant keys.

-- Ernie P.

------------
Ernest N. Prabhakar, Ph.D. &lt;drernie at opendarwin.org&gt;
Ex-Physicist, Marketing Weenie, and Dilettante Hacker
Probe-Hacker blog: http://www.opendarwin.org/~drernie/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5451<br>
Sender:Donald_Strong@...<br>
Post Date/Time:2005-11-09 01:46:32<br>
Subject:Re: [rest-discuss] Hypertext as engine of state transition for non GET requests<br>
Message:<br><br>
<pre>Hi Yannick,

&gt; &gt; It is very difficult to
&gt; &gt; perform data validation on a PUT resource. You are effectively limited
to
&gt; &gt; using it as a storage mechanism.
&gt;
&gt; Why couldn't be possible to validate the request body (validating xml
&gt; with a schema, checking value constraints, and so on) and returning an
&gt; error if the body don't validate, say
&gt; 412 Precondition Failed, 415 Unsupported Media Type or 400 Bad Request
&gt; with a body explaining the reason of the failure...

Yes it is possible. My opinion is that it is much more difficult.

The process is analogous to inserting or updating a row in a database
table.
There are constraints that the Database Managment System applies to ensure
that structural and referential integrity are maintained. Such constraints
are
part of the business rules, but they are not all of the business rules.

To bring this back to the original example, there may be a business rule
that says
"A customer may not order widgets of more than $100 value unless he is a
valued
(repeat) customer". This would be difficult to implement using database
integrity constraints alone and I content it would also be difficult to
apply to a
PUT resource state.

Also, consider what happens if the customer replaces (PUTs) an existing
order with a
new version that contains different widgets. The new order may be perfectly
valid but
what if the original widgets have already been shipped.

Deltas to a customer account, using POST, are far easier to implement and
manage.

None of this applies, of course, if the client implements the business
logic itself. Then
the server is implementing a data (storage) service and PUTs are fine. Note
that I am
not talking about a browser client here but rather the middle layer of a
3-tier system.

Regards
Donald.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5452<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-11-09 04:18:10<br>
Subject:RE: REST descriptive services (was Re: [rest-discuss] REST description using WSDL)<br>
Message:<br><br>
<pre>
&gt; How about:
&gt; 
&gt; http://webservices.amazon.com/onca/xml?Service=AWSECommerceService
&gt; &amp;SubscriptionId=[your subscription ID here] 
&gt; &amp;Operation=CartCreate &amp;Item.1.ASIN=0486411214
&gt; &amp;Item.1.Quantity=1
&gt; 
&gt; http://webservices.amazon.com/onca/xml?Service=AWSECommerceService
&gt;    &amp;SubscriptionId=[ID]
&gt;    &amp;CartId=[CartId]
&gt;    &amp;HMAC=[HMAC]
&gt;    &amp;Operation=CartModify
&gt;    &amp;Item.1.CartItemId=[ID]
&gt;    &amp;Item.1.Quantity=29
They didn't really do it that way did they? Ugh.
I'll make sure stuff in my area doesn't do it this way. 
Next time I talk with a person from the cart group, I'll bug them about it.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5453<br>
Sender:Paul James &lt;yahoogroups@...&gt;<br>
Post Date/Time:2005-11-09 08:32:07<br>
Subject:Re: [rest-discuss] Hypertext as engine of state transition for non GET requests<br>
Message:<br><br>
<pre>Hi Donald,

Donald_Strong@... wrote:

&gt; The process is analogous to inserting or updating a row in a database
&gt; table.
&gt; There are constraints that the Database Managment System applies to ensure
&gt; that structural and referential integrity are maintained. Such constraints
&gt; are
&gt; part of the business rules, but they are not all of the business rules.
&gt;
&gt; To bring this back to the original example, there may be a business rule
&gt; that says
&gt; "A customer may not order widgets of more than $100 value unless he is a
&gt; valued
&gt; (repeat) customer". This would be difficult to implement using database
&gt; integrity constraints alone and I content it would also be difficult to
&gt; apply to a
&gt; PUT resource state.
&gt;
&gt; Also, consider what happens if the customer replaces (PUTs) an existing
&gt; order with a
&gt; new version that contains different widgets. The new order may be 
&gt; perfectly
&gt; valid but
&gt; what if the original widgets have already been shipped.
&gt;
I don't get why PUT is more "dangerous" than POST. Surely the difference 
between a POST and a PUT request is purely one of semantics and has no 
affect on the processing the server can do. I can't see how in your 
example the server would have any more problems constraining a client 
PUTting a new customer order over one POSTing one, after all the only 
difference is the word PUT rather than POST in the HTTP request, the 
same server logic can apply to both.

Paul.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5454<br>
Sender:Bob Haugen &lt;bob.haugen@...&gt;<br>
Post Date/Time:2005-11-09 11:58:28<br>
Subject:Re: REST descriptive services (was Re: [rest-discuss] REST description using WSDL)<br>
Message:<br><br>
<pre>On 11/8/05, Mike Dierken &lt;mdierken@...&gt; wrote:
&gt;
&gt; &gt; How about:
&gt; &gt;
&gt; &gt; http://webservices.amazon.com/onca/xml?Service=AWSECommerceService
&gt; &gt; &amp;SubscriptionId=[your subscription ID here]
&gt; &gt; &amp;Operation=CartCreate &amp;Item.1.ASIN=0486411214
&gt; &gt; &amp;Item.1.Quantity=1
&gt; &gt;
&gt; &gt; http://webservices.amazon.com/onca/xml?Service=AWSECommerceService
&gt; &gt;    &amp;SubscriptionId=[ID]
&gt; &gt;    &amp;CartId=[CartId]
&gt; &gt;    &amp;HMAC=[HMAC]
&gt; &gt;    &amp;Operation=CartModify
&gt; &gt;    &amp;Item.1.CartItemId=[ID]
&gt; &gt;    &amp;Item.1.Quantity=29
&gt; They didn't really do it that way did they?

Copied directly from Amazon online docs.
http://www.amazon.com/gp/aws/sdk/104-6113311-2512764?v=2005%2d10%2d05&amp;s=AWSEcommerceService

&gt; Ugh.
&gt; I'll make sure stuff in my area doesn't do it this way.
&gt; Next time I talk with a person from the cart group, I'll bug them about it.

What's your area, and how will you create and modify resources (in
contrast to CartModify)?

And why do you think they did it that way?  (Assuming it was a
reasoned design decision...)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5455<br>
Sender:Yannick Loiseau &lt;yloiseau@...&gt;<br>
Post Date/Time:2005-11-09 12:02:21<br>
Subject:Re: [rest-discuss] Hypertext as engine of state transition for non GET requests<br>
Message:<br><br>
<pre>&gt;"A customer may not order widgets of more than $100 value unless he is
&gt; valued (repeat) customer". This would be difficult to implement using
&gt; database integrity constraints alone and I content it would also be
&gt; difficult to apply to a PUT resource state.

(assuming user is authenticated using HTTP authentication)

===================================
PUT /orders/1324 HTTP/1.1
Host: example.com
...

&lt;order&gt;
  &lt;widgets&gt;...&lt;/widgets&gt;
&lt;/order&gt;
-----------------------------------
HTTP/1.1 403 Forbidden
...

As an un-valued customer, your not allowed not order for more than $100.
===================================

(but in the case of an order creation, a POST would be more approprated)


&gt; Also, consider what happens if the customer replaces (PUTs) an existing
&gt; order with a
&gt; new version that contains different widgets. The new order may be perfectly
&gt; valid but
&gt; what if the original widgets have already been shipped.

for example:
===================================
HTTP/1.1 405 Method Not Allowed
Server: ..
Date: ..
Allow: GET
Content-Length: ..
Content-Type: text/html; charset=iso-8859-1

&lt;html&gt;
&lt;body&gt;
&lt;h1&gt;Unable to update this order&lt;/h1&gt;
&lt;p&gt;
This order has already been shipped. Please create a new order using
&lt;a href="http://example.com/orders/creationForm.html"
rel='createform'&gt;this form&lt;/a&gt; or POSTing it to
&lt;a href="http://example.com/orders/"&gt;the orders repository&lt;/a&gt;
&lt;/p&gt;
&lt;/body&gt;
&lt;html&gt;
===================================

or maybe a 409 Conflict

See:
403: http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.4
405: http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.6
409: http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.10

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5456<br>
Sender:Karl Dubost &lt;karl@...&gt;<br>
Post Date/Time:2005-11-09 21:14:32<br>
Subject:Re: [rest-discuss] Best practices for crippled HTTP clients?<br>
Message:<br><br>
<pre>
Le 05-11-07  11:13, toydi a crit :
&gt;&gt; Are there any best practices for designing REST services which are
&gt;&gt; usable by web clients that do not support HTTP methods other than GET
&gt;&gt; and POST? Ideally I would like to have a "proper" API using the  
&gt;&gt; full set
&gt;&gt; of HTTP methods, with some "transitional" interfaces to support  
&gt;&gt; clients
&gt;&gt; (like Flash) that currently cannot PUT or DELETE.

Not specifically what you are asking but you might find helpful hints  
into that document.

[[[
Common HTTP Implementation Problems
W3C Note 28 January 2003

Abstract

This document is a set of good practices to improve implementations  
of HTTP and related standards as well as their use. It explains a few  
basic concepts, points out common mistakes and misbehaviors, and  
suggests "best practices".
]]]

-- Common HTTP Implementation Problems
http://www.w3.org/TR/chips/
Fri, 24 Jan 2003 15:21:02 GMT

Best.

-- 
Karl Dubost - http://www.w3.org/People/karl/
W3C Conformance Manager
*** Be Strict To Be Cool ***





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5457<br>
Sender:Donald_Strong@...<br>
Post Date/Time:2005-11-10 03:01:12<br>
Subject:Re: [uf-rest] Instance/Collection URL conventions<br>
Message:<br><br>
<pre>Hi toydi,

The comment says that we are updating _some_ of the details.
You can use PUT if you wish, but see my latest comments.

http://groups.yahoo.com/group/rest-discuss/message/5451

I do use DELETE in the interaction. I don't have as many problems
with DELETE as I do with PUT. When you just want to get rid of
something the meaning, semantics and effect of the following
is obvious...

DELETE http://example.org/widget/2

However, when I want to change the widget's color replacing
the whole lot seems like extra, unnecessary work. I would have
to check all of the widget's properties to determine which had
changed. The following seems clearer and more concise.

POST http://example.org/widget/2
&lt;meta-data&gt;
------------EntityBody------------
color=red
------------EntityBody------------

Donald.



                                                                           
             toydi                                                         
             &lt;iamstupidiot@gma                                             
             il.com&gt;                                                    To 
                                       Microformats REST                   
             09/11/2005 08:48          &lt;microformats-rest@... 
             PM                        &gt;                                   
                                                                        cc 
                                       Donald_Strong@...       
                                                                   Subject 
                                       Re: [uf-rest] Instance/Collection   
                                       URL conventions                     
                                                                           
                                                                           
                                                                           
                                                                           
                                                                           
                                                                           




Hi Donald,

&gt; # Replace some of the details
&gt; POST http://example.org/widget/2
&gt;

Any reason why POST is used for updating purpose? Since you also use
DELETE to delete a resource, so I assume there's no GET/POST-only
constraint in the application design, which limited by current
browsers' implementation. ;-)

--
-toydi-



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5458<br>
Sender:Donald_Strong@...<br>
Post Date/Time:2005-11-10 03:22:42<br>
Subject:Re: [rest-discuss] Hypertext as engine of state transition for non GET requests<br>
Message:<br><br>
<pre>Paul,

&gt; I don't get why PUT is more "dangerous" than POST.

I didn't say it was more dangerous, I said it was more
difficult to get right.

&gt; Surely the difference between a POST and a PUT
&gt; request is purely one of semantics and has no
&gt; affect on the processing the server can do.

The semantics are the issue here. With a PUT you
must replace the entire state of the resource,
even those bits you should not be changing.
Consequently, the processing on the server must
determine what has changed and then apply business
rules to those properties that have changed.

With a POST you can ask for specific properties
to be modified.

&gt; I can't see how in your example the server would
&gt; have any more problems constraining a client
&gt; PUTting a new customer order over one POSTing
&gt; one, after all the only difference is the word
&gt; PUT rather than POST in the HTTP request, the
&gt; same server logic can apply to both.

The client should POST a new customer order,
unless you want your external clients determining
the names of your resources. After that, the
client could PUT replacements of that order
or POST ammendments to the order.

I contend that the latter is easier to
implement and manage. Then again, maybe I'm
just lazy.     B^)

Donald.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5459<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-11-10 04:23:05<br>
Subject:RE: REST descriptive services (was Re: [rest-discuss] REST description using WSDL)<br>
Message:<br><br>
<pre>&gt; &gt; Ugh.
&gt; &gt; I'll make sure stuff in my area doesn't do it this way.
&gt; &gt; Next time I talk with a person from the cart group, I'll 
&gt; bug them about it.
&gt; 
&gt; What's your area, and how will you create and modify 
&gt; resources (in contrast to CartModify)?
I am responsible for the primary storage of offers, prices and inventory for
all listings on the Amazon platform, worldwide. 
Well, almost... I'm not responsible for inventory that comes from Amazon
fulfillment centers. And a large portion of Amazon offer information
originates from fairly rich systems that send data to my services after
running 'their' business rules (which products to offer, at what price,
etc).
My system is mainly merchant-facing and not web-facing - data is published
out of my system into other 'caching layers'. 
There are many teams that provide many services, so this isn't a complete
story by any means.
But I'm hiring... 

The data is submitted by external sellers and merchants through bulk feeds
and through browser-based tools. The "Sell Yours Here" button is an example
of a browser based tool. (My team doesn't do the UI, but does own the
business logic and accept/store/publish the listings). There are two
'platforms' - Marketplace and Merchants. The Marketplace platform is open
for registration here:
http://www.amazon.com/exec/obidos/subst/misc/sell-your-stuff.html and paying
for a 'Pro Merchant' account gives access to bulk uploads. There are also
third-party tools and services that do this integration for you. The
Merchants platform is invite-only (at this time) and supports more complex
feeds that allow for creating new products in the Amazon master catalog in
bulk (these result in new details pages - ASINs) beyond just listing what is
already there.

&gt; 
&gt; And why do you think they did it that way?  (Assuming it was 
&gt; a reasoned design decision...)
I don't know. I'd rather not guess out loud until I talk with them.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5460<br>
Sender:Paul James &lt;yahoogroups@...&gt;<br>
Post Date/Time:2005-11-10 08:24:47<br>
Subject:Re: [rest-discuss] Hypertext as engine of state transition for non GET requests<br>
Message:<br><br>
<pre>Donald,

Ah, I understand you now, that makes sense.

Is there any reason that you can't PUT a partial representation (ignore 
the bits you don't change) and let the server just update the info you 
do send? I don't see why PUT has to mean "place this representation 
here" when it could mean "use this representation to update this resource".

Paul

Donald_Strong@... wrote:

&gt; Paul,
&gt;
&gt; &gt; I don't get why PUT is more "dangerous" than POST.
&gt;
&gt; I didn't say it was more dangerous, I said it was more
&gt; difficult to get right.
&gt;
&gt; &gt; Surely the difference between a POST and a PUT
&gt; &gt; request is purely one of semantics and has no
&gt; &gt; affect on the processing the server can do.
&gt;
&gt; The semantics are the issue here. With a PUT you
&gt; must replace the entire state of the resource,
&gt; even those bits you should not be changing.
&gt; Consequently, the processing on the server must
&gt; determine what has changed and then apply business
&gt; rules to those properties that have changed.
&gt;
&gt; With a POST you can ask for specific properties
&gt; to be modified.
&gt;
&gt; &gt; I can't see how in your example the server would
&gt; &gt; have any more problems constraining a client
&gt; &gt; PUTting a new customer order over one POSTing
&gt; &gt; one, after all the only difference is the word
&gt; &gt; PUT rather than POST in the HTTP request, the
&gt; &gt; same server logic can apply to both.
&gt;
&gt; The client should POST a new customer order,
&gt; unless you want your external clients determining
&gt; the names of your resources. After that, the
&gt; client could PUT replacements of that order
&gt; or POST ammendments to the order.
&gt;
&gt; I contend that the latter is easier to
&gt; implement and manage. Then again, maybe I'm
&gt; just lazy.     B^)
&gt;
&gt; Donald.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5461<br>
Sender:Donald_Strong@...<br>
Post Date/Time:2005-11-11 01:48:17<br>
Subject:Re: [rest-discuss] Hypertext as engine of state transition for non GET requests<br>
Message:<br><br>
<pre>Hi Paul,

&gt; Is there any reason that you can't PUT a
&gt; partial representation (ignore
&gt; the bits you don't change) and let the
&gt; server just update the info you
&gt; do send? I don't see why PUT has
&gt; to mean "place this representation
&gt; here" when it could mean "use this
&gt; representation to update this resource".

No. The HTTP spec (Sect 9.6) is quite clear ...

ftp://ftp.isi.edu/in-notes/rfc2616.txt

"The PUT method requests that the enclosed entity be stored under the
 supplied Request-URI. If the Request-URI refers to an already
 existing resource, the enclosed entity SHOULD be considered as a
 modified version of the one residing on the origin server. If the
 Request-URI does not point to an existing resource, and that URI is
 capable of being defined as a new resource by the requesting user
 agent, the origin server can create the resource with that URI."

I know because I already asked the same question.

http://groups.yahoo.com/group/rest-discuss/message/4372

Regards
Donald.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5462<br>
Sender:toydi &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2005-11-11 03:28:03<br>
Subject:Partial update on resource's state (WAS:Re: [uf-rest] Instance/Collect...)<br>
Message:<br><br>
<pre>Hi Donald,

On 11/10/05, Donald_Strong@... wrote:
&gt; POST http://example.org/widget/2
&gt; &lt;meta-data&gt;
&gt; ------------EntityBody------------
&gt; color=red
&gt; ------------EntityBody------------

I get what you mean now, a partial update on a resource's properties/state.

-----------
It is similar to "composite state resource" described in Mark Baker's
HTTP resource state model [1]. Here's an example about using POST in
"composite state resource" described in the draf, section 4.1:

"For example, one might annotate an editorial with a comment. This
would be represented in the composite state model as adding the POSTed
comment to the resource.This may happen with or without the granting
of that annotation a new identity."

However, the example only mentioned "adding the POSTed comment"
without touching how to update a particular comment (if the comment
has no new identity). So, we should use POST to do update that comment
the way you suggest?

-------
Another interesting link would be Benjamin's "REST in an
Object-Oriented Language"[2]. He try to model a resource's properties
as explicit resources, so that we can retrieve and update them
explicitly.

Here's the quote:
"The reason I say that a bean's properties are resources (possibly as
well) is that they do support GET (get) and PUT (set) operations in
their own right."

But, how to identify property-like resources in URL syntax? Fragment
URL identifier comes into my mind, but seems like I cannot send PUT to
a &lt;http://foo/bar#baz&gt; in current browsers (I'm not sure is it because
of the specification or an implementation bias, hope someone would
clarify this).

[1] http://www.markbaker.ca/2001/09/draft-baker-http-resource-state-model-01.txt
[2] http://members.optusnet.com.au/benjamincarlyle/benjamin/blog/2005/07/08/

Cheers,
--
Teo HuiMing (toydi)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5463<br>
Sender:Elias Sinderson &lt;elias@...&gt;<br>
Post Date/Time:2005-11-11 06:16:55<br>
Subject:partial PUTs   (was: Hypertext as engine of state transition for non GET requests)<br>
Message:<br><br>
<pre>&lt;Paul James&gt; Is there any reason that you can't PUT a partial 
representation (ignore the bits you don't change) and let the server 
just update the info you do send? [...] &lt;/Paul James&gt;

&lt;Donald Strong&gt; No. The HTTP spec (Sect 9.6) is quite clear [...] I know 
because I already asked the same question. 
http://groups.yahoo.com/group/rest-discuss/message/4372
&lt;/Donald Strong&gt;

The discussion you refer to regarded the semantics of POST, not PUT... 
and, yes, the specification is quite clear, but the above is technically 
incorrect -- allow me to briefly quote from section 14.16, in which the 
Content-Range header is discussed:

    /The Content-Range entity-header is sent with a partial entity-body
    to specify where in the full entity-body the partial body should be
    applied. [...]
    /

As noted at the end of the section, YMMV as not all servers support this 
header, however it is allowed. It would be great for more servers to 
implment this feature (doesn't seem too hard), but AFAIK, Apache is the 
only server to do so.


Cheers,
Elias

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5464<br>
Sender:Karl Dubost &lt;karl@...&gt;<br>
Post Date/Time:2005-11-11 23:17:58<br>
Subject:Re: [rest-discuss] partial PUTs   (was: Hypertext as engine of state transition for non GET requests)<br>
Message:<br><br>
<pre>
Le 05-11-11  01:16, Elias Sinderson a crit :
&gt;     /The Content-Range entity-header is sent with a partial entity- 
&gt; body
&gt;     to specify where in the full entity-body the partial body  
&gt; should be
&gt;     applied. [...]
&gt;     /
&gt;
&gt; As noted at the end of the section, YMMV as not all servers support  
&gt; this
&gt; header, however it is allowed. It would be great for more servers to
&gt; implment this feature (doesn't seem too hard), but AFAIK, Apache is  
&gt; the
&gt; only server to do so.

Objection, your honour! ;) Jigsaw does.


[[[
Class w3c.www.http.HttpContentRange

java.lang.Object
    |
    +----w3c.www.http.BasicValue
            |
            +----w3c.www.http.HttpContentRange


]]]

-- Class w3c.www.http.HttpContentRange
http://www.w3.org/Jigsaw/User/api/w3c.www.http.HttpContentRange.html
Fri, 29 Aug 1997 13:42:10 GMT


[[[
W3C's Java Server

Jigsaw is W3C's leading-edge Web server platform, providing a sample  
HTTP 1.1 implementation and a variety of other features on top of an  
advanced architecture implemented in Java. [] Jigsaw is an W3C Open  
Source Project, started May 1996. See the license for details
]]]

-- Jigsaw Overview
http://www.w3.org/Jigsaw/
Mon, 04 Jul 2005 12:24:31 GMT





-- 
Karl Dubost - http://www.w3.org/People/karl/
W3C Conformance Manager
*** Be Strict To Be Cool ***



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5465<br>
Sender:Elias Sinderson &lt;elias@...&gt;<br>
Post Date/Time:2005-11-12 00:06:05<br>
Subject:Re: [rest-discuss] partial PUTs<br>
Message:<br><br>
<pre>Karl Dubost wrote:

&gt;Le 05-11-11  01:16, Elias Sinderson a crit :
&gt;  
&gt;
&gt;&gt;[...] It would be great for more servers to implment [Content-Range] but AFAIK, Apache is the only server to do so.
&gt;&gt;    
&gt;&gt;
&gt;Objection, your honour! ;) Jigsaw does.
&gt;  
&gt;
Oh my, yes, thanks for that! Is anyone aware of other servers that 
implement Content-Range?


Best,
Elias

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5466<br>
Sender:Karl Dubost &lt;karl@...&gt;<br>
Post Date/Time:2005-11-12 02:37:12<br>
Subject:Re: [rest-discuss] partial PUTs<br>
Message:<br><br>
<pre>
Le 2005-11-11  19:06, Elias Sinderson a crit :
&gt; Oh my, yes, thanks for that! Is anyone aware of other servers that
&gt; implement Content-Range?

For this it would be good to have the never-done public test suite of  
HTTP 1.1, so we could create Implementation report. I wish there was  
such an effort.  Implementations of HTTP on the client and the server  
side are worse than HTML implementations, but it's not visible, then  
not many people care.

There is a kind of old partial report at
http://www.w3.org/Protocols/HTTP/Forum/Reports/#Public
http://www.ietf.org/IESG/Implementations/http1.1-implementations.txt



So for now, we have identified in this thread:

Server
	- Apache
	- Jigsaw

plus from the list (this is an old list, so data may be suspicious,  
and software have changed since)
	- Netscape Enterprise Server 3.51
	- DMKHTD 1.06f
	- Microsoft IIS 4.0
	- WN 2.0.0
	- SRE-http 1.3a
	- Microsoft Proxy Server 2.0
	- CL-HTTP

Sorry for the ol' data

It seems Gnuttela Does
http://www.gnutella2.com/index.php/Partial_File_Sharing_Protocol

And Yaws
http://yaws.hyber.org/




-- 
Karl Dubost - http://www.w3.org/People/karl/
W3C Conformance Manager
*** Be Strict To Be Cool ***




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5467<br>
Sender:Karl Dubost &lt;karl@...&gt;<br>
Post Date/Time:2005-11-15 15:56:21<br>
Subject:Re: [rest-discuss] partial PUTs<br>
Message:<br><br>
<pre>
Le 2005-11-11  21:37, Karl Dubost a crit :
&gt; Le 2005-11-11  19:06, Elias Sinderson a crit :
&gt;&gt; Oh my, yes, thanks for that! Is anyone aware of other servers that
&gt;&gt; implement Content-Range?
&gt;

This morning, between two snowflakes in Montral, I found this list

HTTP Header Repository - Web Server Strings, Headers, Extensions and  
More
http://headers.bragger.net/

-- 
Karl Dubost - http://www.w3.org/People/karl/
W3C Conformance Manager
*** Be Strict To Be Cool ***




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5468<br>
Sender:"oraweb" &lt;jackjc@...&gt;<br>
Post Date/Time:2005-11-16 13:20:44<br>
Subject:Resources and URIs<br>
Message:<br><br>
<pre>First post to the group...

I have read several different things about the way to represent
resources with URIs. 

From the "REST Best Practices", it says this:

Minimize the use of query strings. For example: 

      Prefer: http://www.parts-depot.com/parts/00345 

      Over: http://www.parts-depot.com/parts?part-id=00345 

      Rationale: the relationship between 'parts' and '00345' is
clear, and you can instantiate subresources of '00345' easily; this is
not possible if that information is tucked away in a query string.


This makes sense. On the other hand, in Paul Prescod's "Common REST
Mistakes", he states that:

Do not depend on URI's internal structure. Some people think about
REST design in terms of setting up a bunch of URIs. "I'll put purchase
orders in /purchases and I'll give them all numbers like
/purchases/12132 and customer records will be in /customers..." That
can be a helpful way to think while you are whiteboarding and
chatting, but should not be your final public interface to the service.


So, is it "best practice" to represent a resource like this:
http://www.parts-depot.com/parts/00345 

and if not, how should is be represented witout using a query string?

Thanks for any advice and I look forward to participating in this group.

Jack Coleman






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5469<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-11-16 14:38:09<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>On Wed, 2005-11-16 at 13:20 +0000, oraweb wrote:
&gt; Minimize the use of query strings. For example: 
&gt; 
&gt;       Prefer: http://www.parts-depot.com/parts/00345 
&gt; 
&gt;       Over: http://www.parts-depot.com/parts?part-id=00345 
&gt; 
&gt;       Rationale: the relationship between 'parts' and '00345' is
&gt; clear, and you can instantiate subresources of '00345' easily; this is
&gt; not possible if that information is tucked away in a query string.

More rationale: the first is a resource (identifier).  The second is a
query.  Specifically, over the parts "space" matching the criteria
part-id=00345.  While these two examples might refer to the same
resource, they are different things.

More practically, they may be implemented differently; while a method
operation (GET) on a resource (/parts/00345) is pretty clear, a query
might very well return a description of the query-results in the
resource-space being queried over... something like...

&lt;results&gt;
  &lt;query-terms&gt;
    &lt;term&gt;&lt;key&gt;part-id&lt;/key&gt;
          &lt;op&gt;equality&lt;/op&gt;
          &lt;val&gt;00345&lt;/val&gt;&lt;/term&gt;
  &lt;/query-terms&gt;
  &lt;response offset="0" size="1" totalResults="1"&gt;
    &lt;elt href="/parts/00345" /&gt;
  &lt;/response&gt;
&lt;/results&gt;

Which might seem silly for a single part, until you think about what
"/parts?type=screw" might return for a large dataset.


&gt; Do not depend on URI's internal structure. Some people think about
&gt; REST design in terms of setting up a bunch of URIs. "I'll put purchase
&gt; orders in /purchases and I'll give them all numbers like
&gt; /purchases/12132 and customer records will be in /customers..." That
&gt; can be a helpful way to think while you are whiteboarding and
&gt; chatting, but should not be your final public interface to the service.

I think "that" in that sentence was more along the lines of "your final
public interface should not consist of telling clients that if they want
to find purchase order 12132, they should append the purchase-order ID
to the URL-prefix '/purchases/'".

It's more RESTful for a server to tell clients what resources to
transition to, and less RESTful for clients to assume that particular
resources exist.  For example, in HTTPville, the exchange:

GET /assembly/42
  &lt;assembly id="42"&gt;
    &lt;consists-of&gt;
      &lt;part id="12132" /&gt;
    &lt;/consists-of&gt;
  &lt;/assembly&gt;

GET /parts/12132
  &lt;part id="12132"&gt; [...] &lt;/part&gt;

...is more RESTful as...

GET /assembly/42
  &lt;assembly id="/assembly/42"&gt;
    &lt;consists-of&gt;
      &lt;part id="/parts/12132" /&gt;
    &lt;/consists-of&gt;
  &lt;/assembly&gt;

GET /parts/12132
  &lt;part id="/parts/12132"&gt; [...] &lt;/part&gt;

  
When you decide to re-implement the parts subsystem, /assembly/42 can
then return URIs to "/parts/eol/screw;9mm;robertson-head".  When things
change to using an external parts supplier, the URIs can change to
"http://parts-depot.com/parts/00345" ... in all cases, the interface and
client-software that treats URIs opaquely and doesn't depend on
URI-construction will continue to work --- modulo a different set of
ways changes can cause things to break.


&gt; So, is it "best practice" to represent a resource like this:
&gt; http://www.parts-depot.com/parts/00345 
&gt; 
&gt; and if not, how should is be represented witout using a query string?

Who could argue with a beautiful resource identifier like that? :)

...jsled
-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5470<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2005-11-16 16:31:44<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>Hi Jack,

For the record, the second part of your question is tied into the  
whole "opacity" debate.

Since this comes up a lot,  I've captured Roy's explanation here:

http://microformats.org/wiki/rest/opacity

-- Ernie P.

On Nov 16, 2005, at 6:38 AM, Josh Sled wrote:

&gt; &gt; So, is it "best practice" to represent a resource like this:
&gt; &gt; http://www.parts-depot.com/parts/00345
&gt; &gt;
&gt; &gt; and if not, how should is be represented witout using a query  
&gt; string?
&gt;
&gt; Who could argue with a beautiful resource identifier like that? :)

------------
Ernest N. Prabhakar, Ph.D. &lt;drernie at opendarwin.org&gt;
Ex-Physicist, Marketing Weenie, and Dilettante Hacker
Probe-Hacker blog: http://www.opendarwin.org/~drernie/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5471<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-11-17 06:10:28<br>
Subject:RE: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>&gt; 
&gt; On Wed, 2005-11-16 at 13:20 +0000, oraweb wrote:
&gt; &gt; Minimize the use of query strings. For example: 
&gt; &gt; 
&gt; &gt;       Prefer: http://www.parts-depot.com/parts/00345
&gt; &gt; 
&gt; &gt;       Over: http://www.parts-depot.com/parts?part-id=00345
&gt; &gt; 
&gt; &gt;       Rationale: the relationship between 'parts' and '00345' is 
&gt; &gt; clear, and you can instantiate subresources of '00345' 
&gt; easily; this is 
&gt; &gt; not possible if that information is tucked away in a query string.
&gt; 
&gt; More rationale: the first is a resource (identifier).  The 
&gt; second is a query.  Specifically, over the parts "space" 
&gt; matching the criteria part-id=00345.  While these two 
&gt; examples might refer to the same resource, they are different things.
Not true. Both are resource identifiers. They are not different things. 
The representation returned is independent of how the URI is formated.
Whether a representation is a list of results is immaterial - client apps
should learn about that via the context of the URI and/or
content-negotiation.

&gt; 
&gt; More practically, they may be implemented differently; while 
&gt; a method operation (GET) on a resource (/parts/00345) is 
&gt; pretty clear, a query might very well return a description of 
&gt; the query-results in the resource-space being queried over... 
&gt; something like...
The 'query' just identifies a logical resource - an app could just as easily
PUT or DELETE that resource as the other one.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5472<br>
Sender:Yannick Loiseau &lt;yloiseau@...&gt;<br>
Post Date/Time:2005-11-17 08:23:10<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>
&gt;&gt;More rationale: the first is a resource (identifier).  The 
&gt;&gt;second is a query.  Specifically, over the parts "space" 
&gt;&gt;matching the criteria part-id=00345.  While these two 
&gt;&gt;examples might refer to the same resource, they are different things.
&gt; 
&gt; Not true. Both are resource identifiers. They are not different things. 
&gt; The representation returned is independent of how the URI is formated.
&gt; Whether a representation is a list of results is immaterial - client apps
&gt; should learn about that via the context of the URI and/or
&gt; content-negotiation.

I disagree. YOU know that these two URL identify the same resource
because you can "analyse" and understand them. Since URI are opaque for
the client, these two URI are different, and can therefore identify
different resources.

Moreover, according to the "opaqueness", a user can't guess the URI
/parts/00345, and MUST access it through a hyperlink, whereas
parts?part-id=00345 can be created by a form, which provides the
"semantic" of the link, and so how to construct it.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5473<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-11-17 14:47:25<br>
Subject:RE: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>On Wed, 2005-11-16 at 22:10 -0800, Mike Dierken wrote:
&gt; &gt; On Wed, 2005-11-16 at 13:20 +0000, oraweb wrote:
&gt; &gt; &gt; Minimize the use of query strings. For example: 
&gt; &gt; &gt; 
&gt; &gt; &gt;       Prefer: http://www.parts-depot.com/parts/00345
&gt; &gt; &gt; 
&gt; &gt; &gt;       Over: http://www.parts-depot.com/parts?part-id=00345
&gt; &gt; &gt; 
&gt; &gt; &gt;       Rationale: the relationship between 'parts' and '00345' is 
&gt; &gt; &gt; clear, and you can instantiate subresources of '00345' 
&gt; &gt; easily; this is 
&gt; &gt; &gt; not possible if that information is tucked away in a query string.
&gt; &gt; 
&gt; &gt; More rationale: the first is a resource (identifier).  The 
&gt; &gt; second is a query.  Specifically, over the parts "space" 
&gt; &gt; matching the criteria part-id=00345.  While these two 
&gt; &gt; examples might refer to the same resource, they are different things.
&gt; Not true. Both are resource identifiers. They are not different things. 
&gt; The representation returned is independent of how the URI is formated.
&gt; Whether a representation is a list of results is immaterial - client apps
&gt; should learn about that via the context of the URI and/or
&gt; content-negotiation.

Yes, thanks.  A resource identified by "/parts?part-id=00345" and a
query-result identified by "/queries/saved/named/foo" are both, equally,
resource identifiers... the type (and context, as you say) of the
returned representation is probably what matters more in the processing.

But -- as URIs -- they are different in structure, not just in
formatting.  Specifically w.r.t. how relative references are resolved
and the hierarchy (or not) of the resource being identified.

...jsled
-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5474<br>
Sender:"Andrzej Taramina" &lt;andrzej@...&gt;<br>
Post Date/Time:2005-11-17 17:05:04<br>
Subject:RE: Resources and URIs<br>
Message:<br><br>
<pre>Yannick suggests:

&gt; Moreover, according to the "opaqueness", a user can't guess the URI
&gt; /parts/00345, and MUST access it through a hyperlink, whereas
&gt; parts?part-id=00345 can be created by a form, which provides the
&gt; semantic" of the link, and so how to construct it.

I don't think it's that clear at all.  If you're using an AJAX-augmented UI with
XMLHttpRequest's, then the former could also be easily created by a form.

Much of this sounds like semantic hair-splitting.  If a URI is visible/used by a human,
then they will invariably attribute additional semantic meanings to the URI structure.  If
we're talking primarily machine to machine interaction, then both are pretty much equally
opaque, or can be made so.

....Andrzej 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5475<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2005-11-17 17:21:11<br>
Subject:Re: [rest-discuss] RE: Resources and URIs<br>
Message:<br><br>
<pre>I think it's important that URIs *can* be treated opaquely - you can 
link to them, you can cache their resources without processing them 
beyond naive string-matching, process RDF graphs again without 
processing them beyond naive string-matching, and so on.

This does not preclude the fact that agents *may* construct or parse 
URIs in more sophisticated ways, it just means that agents don't have 
to, especially in the case of agents that are not aware of the specific 
purpose of the application.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5476<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-11-18 03:41:10<br>
Subject:RE: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>&gt; 
&gt; Moreover, according to the "opaqueness", a user can't guess 
&gt; the URI /parts/00345, and MUST access it through a hyperlink, whereas
&gt; parts?part-id=00345 can be created by a form, which provides 
&gt; the "semantic" of the link, and so how to construct it.
Well, there are probably several URI construction mechanisms above HTML
Forms that would allow "/parts/00345" to be constructed - it's an accident
of implementation that it isn't supported today.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5477<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2005-11-18 18:26:18<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>
On Nov 17, 2005, at 7:41 PM, Mike Dierken wrote:
&gt; &gt; Moreover, according to the "opaqueness", a user can't guess
&gt; &gt; the URI /parts/00345, and MUST access it through a hyperlink,  
&gt; whereas
&gt; &gt; parts?part-id=00345 can be created by a form, which provides
&gt; &gt; the "semantic" of the link, and so how to construct it.
&gt; Well, there are probably several URI construction mechanisms above  
&gt; HTML
&gt; Forms that would allow "/parts/00345" to be constructed - it's an  
&gt; accident
&gt; of implementation that it isn't supported today.

 From where I sit, those two seem like very different semantic  
constructs.

* " /parts/00345" is a Concrete Resource, referring to a speciific  
object, which could be GET, PUT, DELETEd and POSTed to.

* "parts?part-id=00345" is a Query, which when invoked should return  
the appropriate Concrete Resource (if it exists).

I personally think constructions like DELETE "parts?part-id=00345"  
would be extremely confusing.

-- Ernie P.




------------
Ernest N. Prabhakar, Ph.D. &lt;drernie at opendarwin.org&gt;
Ex-Physicist, Marketing Weenie, and Dilettante Hacker
Probe-Hacker blog: http://www.opendarwin.org/~drernie/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5478<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-11-18 18:55:57<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>On Fri, 2005-11-18 at 10:26 -0800, Dr. Ernie Prabhakar wrote:
&gt; I personally think constructions like DELETE "parts?part-id=00345"  
&gt; would be extremely confusing.

DELETE FROM parts WHERE part_id = 00345

...jsled
-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5479<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2005-11-18 18:58:27<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>Hi Josh,

On Nov 18, 2005, at 10:55 AM, Josh Sled wrote:

&gt; On Fri, 2005-11-18 at 10:26 -0800, Dr. Ernie Prabhakar wrote:
&gt;&gt; I personally think constructions like DELETE "parts?part-id=00345"
&gt;&gt; would be extremely confusing.
&gt;
&gt; DELETE FROM parts WHERE part_id = 00345

Hmm.  Okay, I agree that makes sense from an SQL perspective.

But, is that the appropriate mapping of DELETE onto the semantics of  
HTTP/REST?

More precisely, does that SQL potentially delete multiple records  
(where part_id is not the unique key)?

-- Ernie P.


------------
Ernest N. Prabhakar, Ph.D. &lt;drernie at opendarwin.org&gt;
Ex-Physicist, Marketing Weenie, and Dilettante Hacker
Probe-Hacker blog: http://www.opendarwin.org/~drernie/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5480<br>
Sender:Elias Sinderson &lt;elias@...&gt;<br>
Post Date/Time:2005-11-18 19:41:17<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>Dr. Ernie Prabhakar wrote:

&gt;From where I sit, [/parts/00345 and /parts?part-id=00345] seem like very different semantic constructs.
&gt;  
&gt;
+1, heartily.

&gt;* " /parts/00345" is a Concrete Resource, referring to a speciific  
&gt;object, which could be GET, PUT, DELETEd and POSTed to.
&gt;  
&gt;
To say nothing of MOVE, PROPPATCH, etc.

&gt;* "parts?part-id=00345" is a Query, which when invoked should return  
&gt;the appropriate Concrete Resource (if it exists).
&gt;  
&gt;
Agreed. In fact, the response to the above should contain a normative 
reference to the resource in question that can be used with future 
methods. (This to reduce the overall burden on the query processor, 
however there are good reasons in some cases to 'hide' resources -- 
something to be carefully considered...)

&gt;I personally think constructions like DELETE "parts?part-id=00345"  
&gt;would be extremely confusing.
&gt;  
&gt;
Again, to say nothing of other methods...


Regards,
Elias

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5481<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-11-18 19:54:07<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>On Fri, 2005-11-18 at 10:58 -0800, Dr. Ernie Prabhakar wrote:
&gt; On Nov 18, 2005, at 10:55 AM, Josh Sled wrote:
&gt; &gt; On Fri, 2005-11-18 at 10:26 -0800, Dr. Ernie Prabhakar wrote:
&gt; &gt;&gt; I personally think constructions like DELETE "parts?part-id=00345"
&gt; &gt;&gt; would be extremely confusing.
&gt; &gt;
&gt; &gt; DELETE FROM parts WHERE part_id = 00345
&gt; 
&gt; Hmm.  Okay, I agree that makes sense from an SQL perspective.
&gt; 
&gt; But, is that the appropriate mapping of DELETE onto the semantics of  
&gt; HTTP/REST?

Yeah, it seems appropriate.  "DELETE the resource(s) identified by a
query-clause composed of the one term/value pair "part-id=00345"
performed in the context of this resource ("/parts").


&gt; More precisely, does that SQL potentially delete multiple records  
&gt; (where part_id is not the unique key)?

Yes.

...jsled
-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5482<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2005-11-18 19:58:27<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>Hi Josh,

On Nov 18, 2005, at 11:54 AM, Josh Sled wrote:

&gt;&gt; But, is that the appropriate mapping of DELETE onto the semantics of
&gt;&gt; HTTP/REST?
&gt;
&gt; Yeah, it seems appropriate.  "DELETE the resource(s) identified by a
&gt; query-clause composed of the one term/value pair "part-id=00345"
&gt; performed in the context of this resource ("/parts").
&gt;
&gt;
&gt;&gt; More precisely, does that SQL potentially delete multiple records
&gt;&gt; (where part_id is not the unique key)?
&gt;
&gt; Yes.

Actually, that was the source of my confusion.  My impression is that  
HTTP DELETE (at least in a REST world) should only operate on a  
single resource.   Is that an accurate interpretation?

http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html

-- Ernie P.

------------
Ernest N. Prabhakar, Ph.D. &lt;drernie at opendarwin.org&gt;
Ex-Physicist, Marketing Weenie, and Dilettante Hacker
Probe-Hacker blog: http://www.opendarwin.org/~drernie/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5483<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-11-18 20:08:10<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>
On Nov 18, 2005, at 8:58 PM, Dr. Ernie Prabhakar wrote:

&gt; My impression is that
&gt; HTTP DELETE (at least in a REST world) should only operate on a
&gt; single resource.

Interesting observation! This raises the question if the querystring  
URI represents the subcollection of all 'matching' items in the  
container.

I guess the server could tell the client with a piece of RDFForms  
(providing the property URI for the short form used in the  
querystring, e.g. part-id =&gt; http://foo/schema/partID) and a piece of  
OWL defining http://foo/schema/partID as an inverseFunctionalProperty  
(aka 'key')

Reasonable?

Jan

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5484<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-11-19 02:43:36<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>On Fri, 2005-11-18 at 11:58 -0800, Dr. Ernie Prabhakar wrote:
&gt; Actually, that was the source of my confusion.  My impression is that  
&gt; HTTP DELETE (at least in a REST world) should only operate on a  
&gt; single resource.   Is that an accurate interpretation?

The method is applied to whatever the URI identifies.  As Mike says, an
URI with a query-component is as much of an URI as one without;
`DELETE /foo?count=6` or `DELETE /foo/half-dozen` ;)

If that URI identifies a resource which is a "subcollection" of
resources, then perhaps the DELETE applies to them all ... or perhaps it
fails.  To Jan's point, I guess both what is selected and what the
ultimate effects are depend on what the semantic of the query portion
actually is, and what the server wants to support ... on my
bizarro-world server, perhaps `DELETE /parts?part-id=00345` actually
means delete all the parts *except* for the one identified by part-id
00345. :)  Hopefully the shared-semantics of the media types and the
interactions leading up to the DELETE request being made allow the
client to generate the appropriately-"desired" thing.

In any case, I don't see any reason why the DELETE method can not apply
to a (set of) resource(s) identified by a URI with a query component.  

...jsled
-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5485<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-11-19 04:09:42<br>
Subject:RE: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>&gt; 
&gt; I personally think constructions like DELETE "parts?part-id=00345"  
&gt; would be extremely confusing.
Hmm. Looks logical to me. I've never had a problem with that. 

Kind of like 
 DELETE FROM assembly_parts WHERE part_id='00345'
only more compact.

(or alternately
 UPDATE assembly_parts SET status=0,effective_through=sysdate() WHERE
part_id='00345'
)


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5486<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-11-19 04:10:45<br>
Subject:RE: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>&gt; More precisely, does that SQL potentially delete multiple 
&gt; records (where part_id is not the unique key)?
Yes. And a GET would return those multiple records. Resources are logical,
not physical. 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5487<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-11-19 04:16:41<br>
Subject:RE: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>&gt; 
&gt; If that URI identifies a resource which is a "subcollection" 
&gt; of resources, 
I use the term 'composed' of... As in 'compound object' or 'compound
document'. I'm not suggesting anybody changes vocabulary, just describing my
point of view.

I find it important to know (as an application designer, not sure about the
consumer) whether the members of that resources are themselves (potentially)
identified via a URI. Those members also go away if a DELETE occurs on the
first resource. I think. Maybe it varies by application.


&gt; 
&gt; In any case, I don't see any reason why the DELETE method can 
&gt; not apply to a (set of) resource(s) identified by a URI with 
&gt; a query component.  
Well, from outside the server, the URI doesn't identify a set of resources.
It identifies one. Those records in a db table aren't resources - at least,
not yet. I believe there are often multiple overlapping resources and we
just have to design for it.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5488<br>
Sender:Yannick Loiseau &lt;yloiseau@...&gt;<br>
Post Date/Time:2005-11-19 09:41:48<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>

&gt; I find it important to know (as an application designer, not sure about the
&gt; consumer) whether the members of that resources are themselves (potentially)
&gt; identified via a URI. Those members also go away if a DELETE occurs on the
&gt; first resource. I think. Maybe it varies by application.

Theorical modeling/designing remark :) (just to be clear)

This is the difference between composition and aggregation. With
composition, members should also be DELETEd (as in UML, the solid filled
diamond: Composition is a form of aggregation with strong ownership and
coincident lifetime of part with the whole), which is not the case with
classical aggregation (hollow diamond in UML), in witch members are
adressable and not tied to the lifetime of the container.

Back to the problem, it indeed depends on the semantic of the
resource(s) beeing identified.


&gt; I believe there are often multiple overlapping resources

Just a thought about DELETE. What to do if several URI identify the same
resource (doest it make sens at all from Rest POV?). May be a "garbage
collector"-like process, link counter, or unix hard link system, to
actually delete the resource  when ALL URI have been DELETED could be
usefull (not realy a Rest problem, just thinking... resources as
distributed objects). Doest it make sens ?
URI, not links, since considering links could be quite difficult to
imposible, if the area considered for counting them is the Web...

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5489<br>
Sender:Elias Sinderson &lt;elias@...&gt;<br>
Post Date/Time:2005-11-19 11:04:12<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>On Fri, 2005-11-18 at 11:58 -0800, Dr. Ernie Prabhakar wrote:

&gt;&gt;Actually, that was the source of my confusion.  My impression is that  
&gt;&gt;HTTP DELETE (at least in a REST world) should only operate on a  
&gt;&gt;single resource.   Is that an accurate interpretation?
&gt;&gt;    
&gt;&gt;
Josh Sled replied:

&gt;The method is applied to whatever the URI identifies. [...] If that URI identifies [multiple] resources, then perhaps the DELETE applies to them all ... or perhaps it fails. [...] I guess [it depends] on what the semantic of the query portion actually is, and what the server wants to support [...]
&gt;
Mike Dierken wrote:

&gt;[...] Maybe it varies by application.
&gt;
Uhmm, yeah, I think you both (unintentionally) just made Earnies' point 
-- one simply cannot build reliable distributed applications upon 
'perhaps', 'guesses' and 'maybe's...

Further possible interpretations include deleting an /instance/ of part 
00345 from the current inventory and deleting part 00345 from the 
catalogue as a whole. OTOH, the semantics of DELETE /parts/00345 is 
bothclear and unambiguous;  deleting the resource identified by the URI.


Regards,
Elias

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5490<br>
Sender:Elias Sinderson &lt;elias@...&gt;<br>
Post Date/Time:2005-11-19 11:39:00<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>Mike Dierken wrote:

&gt;I find it important to know [...] whether the members of that resources are themselves (potentially) identified via a URI. Those members also go away if a DELETE occurs on the first resource. I think. Maybe it varies by application.
&gt;  
&gt;
Yannick Loiseau wrote:

&gt;[...] it indeed depends on the semantic of the resource(s) beeing identified.
&gt;  
&gt;
Funny, the HTTP specification reads as if the semantics of a given 
method are independent of the identified resource... and for good 
reason. PUT is a PUT is a PUT, and DELETE is a DELETE is a DELETE -- 
their semantics must not vary by resource or we'll be in for a world of 
hurt. (POST, of course, being the well defined exception to the above by 
design.) The heart of the matter is really one of providing a /uniform 
interface/ for web resources... an interface that has a well defined 
semantics for methods, independant of the resources they are applied to.

Yannick Loiseau queries:

&gt; [...] resources as distributed objects. Doest it make sens ?

Please refer to Dan Connollys' editorial of 13 February, 1997, in Web 
Apps Magazine:
&lt;http://www.w3.org/People/Connolly/9703-web-apps-essay.html&gt;

    /"I must take this opportunity to dispell a myth that is all to
    pervasive in the scientific and product literature surrounding the
    Web: that distributed objects are something that can be, or some day
    will be, /added to/ the Web. Distributed objects are the very heart
    of the Web, and have been since its invention. [...]"/

So, to answer your question, yes, the notion of resources as distributed 
objects makes sense. Moreover, it not only makes sense, it is the whole 
point...


Cheers,
Elias

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5491<br>
Sender:Yannick Loiseau &lt;yloiseau@...&gt;<br>
Post Date/Time:2005-11-19 11:52:40<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>
&gt; Funny, the HTTP specification reads as if the semantics of a given 
&gt; method are independent of the identified resource... and for good 
&gt; reason. PUT is a PUT is a PUT, and DELETE is a DELETE is a DELETE -- 
&gt; their semantics must not vary by resource or we'll be in for a world of 
&gt; hurt. (POST, of course, being the well defined exception to the above by 
&gt; design.) The heart of the matter is really one of providing a /uniform 
&gt; interface/ for web resources... an interface that has a well defined 
&gt; semantics for methods, independant of the resources they are applied to.

That is exactly the discussion point. How to interpret a DELETE on a
composed object? especialy if it is identified by a query string.
In a hierarchical layout, the folder/file analogy can lead to the
deletion of the container and the sub-resources. But if the component is
dynamicaly build from a query, it is not clear what to delete.
AFAIK, the spec. don't give clue about the deletion of
containers/subresources. Maybe in Dav spec. Have to check.


&gt; [...] resources as distributed objects [...] is the whole 
&gt; point...

So, the client have to know if the container resource is a composition,
a collection, an aggregation... (to use OO terminology) to kown the
behaviour of a DELETE on such a resouce. The resource itself should no
more be accessible, but if subresources had theire hown URI, should they
still be available or not ?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5492<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-11-19 12:21:39<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>
On Nov 19, 2005, at 12:52 PM, Yannick Loiseau wrote:

&gt; it is not clear what to delete.

It is entirely up to the resource implementation what actually  
happens. The client will know what it does at runtime: 'To empty you  
shopping cart - click here'. There is no other semantics of delete  
than to bring the resource in a state that it will not return  
representations on an invocation of GET.

Jan

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5493<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2005-11-19 12:51:09<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>On Fri, 2005-11-18 at 11:58 -0800, Dr. Ernie Prabhakar wrote:
&gt; On Nov 18, 2005, at 11:54 AM, Josh Sled wrote:
&gt; &gt;&gt; But, is that the appropriate mapping of DELETE onto the semantics of
&gt; &gt;&gt; HTTP/REST?
&gt; &gt; Yeah, it seems appropriate.  "DELETE the resource(s) identified by a
&gt; &gt; query-clause composed of the one term/value pair "part-id=00345"
&gt; &gt; performed in the context of this resource ("/parts").
&gt; &gt;&gt; More precisely, does that SQL potentially delete multiple records
&gt; &gt;&gt; (where part_id is not the unique key)?
&gt; &gt; Yes.
&gt; Actually, that was the source of my confusion.  My impression is that  
&gt; HTTP DELETE (at least in a REST world) should only operate on a  
&gt; single resource.   Is that an accurate interpretation?

Distinguishing between http://example.com/parts/00345 and
http://example.com/parts?part-id=00345 as a named object and a named
query has some interesting consequences. I think the question of DELETE
is one of them. If we successfully DELETE the former resource we can
expect that further requests to the resource will return 404 or 410,
however it is never possible to delete a query. Only the records matched
can be deleted. We would expect it to continue returning 200 with an
empty result set, or perhaps 204. A query might also come back with a
different representation to the representation of the actual resource.
If the implicit assumption of every query is that it may match multiple
records, it may then require a containing structure for those records to
be encoded into its response.

It seems that queries should not be used as object identifiers, because
the two are genuinely different concepts. Queries are still good for
GETs, especially those that originate from form entry. REST operations
may still apply to queries in the same sense as their SQL parallels
apply to record subsets, however using a query part may signal to
implementors that a query is in use. Queries would obviously behave
differently to explicit object identifier URIs.

Overall, I think I like this approach.

-- 
Benjamin Carlyle &lt;benjamincarlyle@...&gt;




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5494<br>
Sender:"Matthias Willerich" &lt;scheffmeister@...&gt;<br>
Post Date/Time:2005-11-19 09:11:29<br>
Subject:rest and ajax<br>
Message:<br><br>
<pre>Hello,

I'm relatively new to the subject, and enjoyed a nice presentation of
Flickr's REST(ful?) API at a Web2.0 mini conference recently. Now, I like
the concept very much, and would like to start following it, and have the
following questions:

- Are there any reasonably good PHP/Apache based REST solutions that you
know of? I've read one tutorial based on Rails/Apache, which shouldn't be
too hard to carry over, but why re-invent the wheel, if someone else, who
probably knows better about the concept than me, offers a solution.

- What's your thoughts on REST in combination with Ajax? I mean, Ajax
requests XML, xmlhttprequest supports GET/POST/PUT/DELETE, REST takes and
delivers XML, and with a little bit of server trickery you can connect to
any REST webservice you like. I had a little search in this lists archive
and didn't find much.

- I came across the idea of content negotiation, how does that work? I
understand that depending on whatever the outcome of that negotiation is,
the webservice would deliver XML or XHTML. Is that reliable? Would Apache
just check for "Accept: text/html" and deliver XHTML? (and, maybe a bit
off-topic, how would I get bloody xmlhttprequest to send a different
header?)

Lots of questions, and I'm happy if you could help me with some of them.

Cheers,
Matthias





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5495<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-11-19 14:00:52<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>Here is one for the 'fragment identifiers considered harmful' crew:

What does DELETE  http://example.com/parts/0034#screw1 mean  (and  
what does it do?)

Jan



On Nov 19, 2005, at 1:51 PM, Benjamin Carlyle wrote:

&gt; Distinguishing between http://example.com/parts/00345 and
&gt; http://example.com/parts?part-id=00345 as a named object and a named
&gt; query has some interesting consequences.

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5496<br>
Sender:Yannick Loiseau &lt;yloiseau@...&gt;<br>
Post Date/Time:2005-11-19 14:02:20<br>
Subject:Re: [rest-discuss] rest and ajax<br>
Message:<br><br>
<pre>&gt; - What's your thoughts on REST in combination with Ajax? 

Ajax is client-side implementation. Rest style is just about server and
client interaction, what ever the mean. This beeing said, Ajax tools are
actually useful to correct browsers stantdards lack, specially the
DELETE/PUT issue, or customs headers (e.g. for conneg)

&gt; REST takes and delivers XML

This is absolutly NOT a requirement. It depends on conneg? A service can
delivers CSV (or MIME mail, or jpeg) and be restful as well. Any
resource representation is ok.

&gt; depending on whatever the outcome of that negotiation is,
&gt; the webservice would deliver XML or XHTML

or any requested format



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5497<br>
Sender:Yannick Loiseau &lt;yloiseau@...&gt;<br>
Post Date/Time:2005-11-19 14:05:42<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>
&gt; What does DELETE  http://example.com/parts/0034#screw1 mean  (and  
&gt; what does it do?)

AFAIK, fragments are only relevants to some representations. What does
mean a fragment for a picture ?
Anyway, I think that only the "subpart" identified by the fragment
should be considered by the action (deleted, updated,...) but I may be
wrong...

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5498<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-11-19 14:16:13<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>
On Nov 19, 2005, at 3:05 PM, Yannick Loiseau wrote:

&gt;
&gt;&gt; What does DELETE  http://example.com/parts/0034#screw1 mean  (and
&gt;&gt; what does it do?)
&gt;
&gt; AFAIK, fragments are only relevants to some representations. What does
&gt; mean a fragment for a picture ?
&gt; Anyway, I think that only the "subpart" identified by the fragment
&gt; should be considered by the action (deleted, updated,...)

The key with fragments is that the servers never see them, so the  
above DELETE will reach the server as DELETE  http://example.com/ 
parts/0034

Jan


&gt; but I may be
&gt; wrong...

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5499<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2005-11-19 14:47:24<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>On Sat, 2005-11-19 at 15:00 +0100, Jan Algermissen wrote:
&gt; On Nov 19, 2005, at 1:51 PM, Benjamin Carlyle wrote:
&gt; &gt; Distinguishing between http://example.com/parts/00345 and
&gt; &gt; http://example.com/parts?part-id=00345 as a named object and a named
&gt; &gt; query has some interesting consequences.
&gt; Here is one for the 'fragment identifiers considered harmful' crew:
&gt; What does DELETE  http://example.com/parts/0034#screw1 mean  (and  
&gt; what does it do?)

You can't send a DELETE request to
&lt;http://example.com/parts/0034#screw1&gt;. You can only DELETE
&lt;http://example.com/parts/0034&gt;, and look up the #screw1 anchor in the
response.  What you have is a URI reference, not a URI or a URL.

It seems to me that this kind of thing (deleting part of a resource
state) is best done by either explicitly identifying the part you want
to DELETE as a regular resource, or by allowing a query part to identify
the state you want to DELETE. Either
&lt;http://example.com/parts/0034/screw1&gt; or
&lt;http://example.com/parts/0034?screw=1&gt; would be fine.

-- 
Benjamin Carlyle &lt;benjamincarlyle@...&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5500<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2005-11-19 14:55:46<br>
Subject:Re: Partial update on resource's state (WAS:Re: [uf-rest]	Instance/Collect...)<br>
Message:<br><br>
<pre>I've quoted a little more of this email than I otherwise would, because
I believe that my initial response to toydi didn't go via the list.

On Sat, 2005-11-12 at 15:58 +0800, toydi wrote:
&gt; Hi Benjamin,
&gt; On 11/12/05, fuzzybsc &lt;benjamincarlyle@...&gt; wrote:
&gt; &gt; &gt; -------
&gt; &gt; &gt; Another interesting link would be Benjamin's "REST in an
&gt; &gt; &gt; Object-Oriented Language"[2]. He try to model a resource's properties
&gt; &gt; &gt; as explicit resources, so that we can retrieve and update them
&gt; &gt; &gt; explicitly.
&gt; &gt; &gt; &gt; Here's the quote:
&gt; &gt; &gt; "The reason I say that a bean's properties are resources (possibly as
&gt; &gt; &gt; well) is that they do support GET (get) and PUT (set) operations in
&gt; &gt; &gt; their own right."
&gt; &gt; &gt; But, how to identify property-like resources in URL syntax? Fragment
&gt; &gt; &gt; URL identifier comes into my mind, but seems like I cannot send PUT to
&gt; &gt; &gt; a &lt;http://foo/bar#baz&gt; in current browsers (I'm not sure is it because
&gt; &gt; &gt; of the specification or an implementation bias, hope someone would
&gt; &gt; &gt; clarify this).
&gt; &gt;
&gt; &gt; &lt;http://foo/bar#baz&gt; is technically not a URI. It is a URI reference,
&gt; &gt; i.e. it contains a fragment identifier. Fragments are always
&gt; &gt; intepreted by the client rather than the server. When the request is
&gt; &gt; made the fragment will be stripped to create a URI to send to the
&gt; &gt; server. When the server sends a response your web browser will look
&gt; &gt; for the "baz" anchor within the response.
&gt; &gt;
&gt; &gt; The construction of the URI could take several forms.
&gt; &gt; &lt;http://foo/bar/baz&gt; would be fine, as would something like
&gt; &gt; &lt;http://foo/bar?comment=baz&gt;. I know some RESTafarians disagree, but I
&gt; &gt; see the query part of a URI (which unlike the fragment is sent to the
&gt; &gt; server side) as a useful way for a server to denote to itself that a
&gt; &gt; temporary resource needs to be created in order to handle the request.
&gt; &gt;
&gt; &gt; The query approach could be applied more generally. I believe that
&gt; &gt; elsewhere in this thread the notion of updating only part of a
&gt; &gt; database record was discussed. You could set up a URI that refers to
&gt; &gt; this subset explicitly, and allows a PUT to the subset.
&gt; &gt;
&gt; &gt; There are disadvantages to having multiple resources who's state
&gt; &gt; overlaps.
&gt; Ah, I never thought of caching issue before this. Thanks for remind. :)
&gt; 
&gt; &gt; I believe that elsewhere in this thread the concept of patching was
&gt; &gt; discussed as an update technique. It may interest readers to know that
&gt; &gt; PATCH was a legal method for HTTP/1.1 circa rfc2068, and may be better
&gt; &gt; to use than PUT in this case.
&gt; 
&gt; But why they gave up PATCH in final draft of HTTP/1.1 spec? I just
&gt; find that PATCH was re-raised again by WebDAV in another expired draft
&gt; [1]. I think I will need sometime to digest them.
&gt; [1] http://greenbytes.de/tech/webdav/draft-dusseault-http-patch-06.html

"The PATCH, LINK, UNLINK methods were defined but not commonly
implemented in previous versions of this specification."

I think they were not common enough to make it into the main HTTP/1.1
specification. Nevermind, it's always possible to specify such things in
adjuncts such as WEBDAV.

&gt; &gt; I suggest that populating a web form with current data before allowing a
&gt; &gt; user to modify only the fields they want to change is probably the
&gt; &gt; simplest and most canonical way of all.
&gt; That's right. ;) BTW, do you have any implementation idea in mind to
&gt; update resource's properties (assume those are resources too)? PUT
&gt; &lt;properties's URL&gt; is one way, but as you said, the state overlap
&gt; problem.

The overlap problem exists, but perhaps I have overstated it. It is a
genunine problem that developers must be aware of, but it can be worked
around. A simple approach is to take care of the caching you allow
clients to do. If you think that state may be altered due to changes to
an overlapping resource you may indicate the state is non-cachable.
Alternatively, you let users hit reload when they themselves see a
problem or you trigger a reload through the javascript or other content
you've delivered them. In the worst case they're in the same position as
everyone else on the Internet who doesn't know a change has occured.

-- 
Benjamin Carlyle &lt;benjamincarlyle@...&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5501<br>
Sender:Yannick Loiseau &lt;yloiseau@...&gt;<br>
Post Date/Time:2005-11-19 14:59:50<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>
&gt; You can't send a DELETE request to
&gt; &lt;http://example.com/parts/0034#screw1&gt;. You can only DELETE
&gt; &lt;http://example.com/parts/0034&gt;, and look up the #screw1 anchor in the
&gt; response.  What you have is a URI reference, not a URI or a URL.

Does this specified somewhere?
Why can't the client send

DELETE /part/0034#screw1
Host: example.com

and the server only delete the identified part?
Is it forbidden by rfc2616 (or rfc1738)?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5502<br>
Sender:Roy T. Fielding &lt;fielding@...&gt;<br>
Post Date/Time:2005-11-19 21:02:37<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>On Nov 19, 2005, at 3:04 AM, Elias Sinderson wrote:
&gt; -- one simply cannot build reliable distributed applications upon 
&gt; 'perhaps', 'guesses' and 'maybe's...

Of course one can. Independent evolvability of components can only
be achieved if the client is prevented from knowing what exactly
will happen as the result of its requests. If it knows, then client
developers build into the system an expectation of the server
implementation that simply will not hold true over time.  Likewise,
a server doesn't understand why a client has requested X or what
sequence of requests will come next -- it just knows the current
intention of the client as expressed in the message.

Do you think that strong typing is good for a distributed system
that crosses organizational boundaries?

&gt; Further possible interpretations include deleting an /instance/ of part
&gt; 00345 from the current inventory and deleting part 00345 from the
&gt; catalogue as a whole. OTOH, the semantics of DELETE /parts/00345 is
&gt; bothclear and unambiguous;  deleting the resource identified by the 
&gt; URI.

What makes you think that /parts/00345 is not a query for part
numbers that contain the string "00345"?  Did the server tell you?

All servers have an infinite resource space (if we ignore URI length
limitations of some components).  Some of those resources will allow
DELETE and others will not.  When I write a server application, the
resources that I want to be authorable are a very small subset of
those that are GETable.  If you try to author a negotiated, query,
or computed resource, then I give the client an appropriate error or
redirect to the source resource.  Naturally, the source resource
is defined such that the client's intent can be unambiguously
expressed via an HTTP method.

In interface design, if you don't want users to push a button, then
placing a big note next to it that says "Don't push this button" is
not a good solution.  It is better to just remove the button.

In REST, a client only expresses an intent within a message.
A server is given leeway (within the scope of the method semantics)
to choose a response that fits the nature of that resource.
It doesn't need to satisfy every request with a successful response.

People who are used to distributed file system protocols get
very worried by HTTP, but it works just fine.  You just have to
relax and leave the details to late binding.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5503<br>
Sender:Karl Dubost &lt;karl@...&gt;<br>
Post Date/Time:2005-11-19 21:12:19<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>
Le 2005-11-19  09:59, Yannick Loiseau a crit :

&gt;
&gt;&gt; You can't send a DELETE request to
&gt;&gt; &lt;http://example.com/parts/0034#screw1&gt;. You can only DELETE
&gt;&gt; &lt;http://example.com/parts/0034&gt;, and look up the #screw1 anchor in  
&gt;&gt; the
&gt;&gt; response.  What you have is a URI reference, not a URI or a URL.
&gt;
&gt; Does this specified somewhere?
&gt; Why can't the client send

[[[
9.7 DELETE

The DELETE method requests that the origin server delete the resource  
identified by the Request-URI.
]]]

-- HTTP/1.1: Method Definitions
http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.7
Wed, 01 Sep 2004 13:24:52 GMT

and

[[[
5.1.2 Request-URI

The Request-URI is a Uniform Resource Identifier (section 3.2) and  
identifies the resource upon which to apply the request.

        Request-URI    = "*" | absoluteURI | abs_path | authority


]]]

-- HTTP/1.1: Request
http://www.w3.org/Protocols/rfc2616/rfc2616-sec5.html#sec5.1.2
Wed, 01 Sep 2004 13:24:52 GMT


Then

[[[
3.2.1 General Syntax

URIs in HTTP can be represented in absolute form or relative to some  
known base URI [11], depending upon the context of their use. The two  
forms are differentiated by the fact that absolute URIs always begin  
with a scheme name followed by a colon. For definitive information on  
URL syntax and semantics, see "Uniform Resource Identifiers (URI):  
Generic Syntax and Semantics," RFC 2396 [42] (which replaces RFCs  
1738 [4] and RFC 1808 [11]). This specification adopts the  
definitions of "URI-reference", "absoluteURI", "relativeURI", "port",  
"host","abs_path", "rel_path", and "authority" from that specification.
]]]

-- HTTP/1.1: Protocol Parameters
http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.2.1
Wed, 01 Sep 2004 13:24:52 GMT


abs_path can be a URI-Reference.

That said, the semantics of DELETE for a fragment identifier is not  
defined. In Web Arch it is said:

[[[
The fragment identifier component of a URI allows indirect  
identification of a secondary resource by reference to a primary  
resource and additional identifying information. The secondary  
resource may be some portion or subset of the primary resource, some  
view on representations of the primary resource, or some other  
resource defined or described by those representations. The terms  
"primary resource" and "secondary resource" are defined in section  
3.5 of [URI].
]]]

-- Architecture of the World Wide Web, Volume One
http://www.w3.org/TR/webarch/#fragid
Tue, 14 Dec 2004 20:19:19 GMT


That might be dangerous to DELETE only a part of the resource (btw  
DELETE is putting out of access, not necessary removing physically.)  
Because the semantics of fragment identifiers is defined case by case

Imagine this
http://example.org/something/beautifullogo#company_name

	With SVG it would work
	With PNG it would not work

but still you can do a get on both with the same URI-Reference.

So the DELETE in case your client sends you the SVG would "erase" the  
fragment identified by company name?
but would erase the full image in case of a PNG image.

Sounds not wise. no?



-- 
Karl Dubost - http://www.w3.org/People/karl/
W3C Conformance Manager
*** Be Strict To Be Cool ***




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5504<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-11-19 21:28:51<br>
Subject:RDFForms question<br>
Message:<br><br>
<pre>Hi Mark,

I think I have been misunderstanding an important part of RDFForms[1]  
until today; maybe you can clarify this for me.

Background:
In my scenario, a software component produces a bunch of hardware  
configuration information and needs to send that to a central  
database. Instead of hardcoding the resource URI that the data should  
be POSTed to into the component's code, I want the component to  
discover it at runtime (well - obviously, because otherwise I would  
not post to *this* list :-)

In order to enable this, (I think) I need to introduce one additional  
hardcoded semantic, which is the type of resource to send the  
configuration data to (the 'processor type'). Suppose the component  
somehow receives information about available processors as RDFForms  
during prior interactions with the rest of the system and stores them  
for later use.

When the time has come to POST the configuration data my component  
would simply lookup any processor of type e.g. foo:ConfigProcessor  
and send the data there.

When I started to implement the RDFForms awarness into my client  
component library today and checked back with your description I  
realized that I maybe entirely missed the point.

While it seems correct to lookup the processor by type I am troubled  
by the requirement for the client to indicate the intent (submitting  
to a foo:ConfigProcessor *and not* simply to an rf:Container) in the  
POST message and that this can only be done by using a message  
envelope that supports declaring the intent (if I got that correctly).

Three questions:

1. Is my understanding (now) correct?

2. What is the architectural principle that made you include this  
constraint?

3. What is the architectural damage that would be caused by ignoring the
    requirement to declare the intent?

Thanks.


Jan


[1] http://www.markbaker.ca/2003/05/RDF-Forms/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5505<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-11-19 21:35:25<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>On Sat, 2005-11-19 at 03:04 -0800, Elias Sinderson wrote:
&gt; Uhmm, yeah, I think you both (unintentionally) just made Earnies' point 
&gt; -- one simply cannot build reliable distributed applications upon 
&gt; 'perhaps', 'guesses' and 'maybe's...

Hmm.  Contrast this situation with POST.  In it's "create a subresource"
form, there's a similar abstract ambiguity ... POSTing a new member
form-submission to `/members` might create a whole slew of resources, or
might be failed, and it certainly would vary by application.  In the
"arbitrary data-submission" form of POST, it's even *more* ambiguous
what the POST actually means.

We often rely on things other than the method and the URI to provide
sufficient information for the client to make a request that has the
desired intent; don't forget the hypermedia part of the equation.

...jsled
-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5506<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-11-19 21:56:40<br>
Subject:Re: [rest-discuss] RDFForms question<br>
Message:<br><br>
<pre>
On Nov 19, 2005, at 10:28 PM, Jan Algermissen wrote:

&gt; What is the architectural principle that made you include this
&gt; constraint?

Hmm...the intent needs to be communicated because

(1) the client cannot be sure that the processor is indeed (still) a
     foo:ConfigProcessor

(2) the processor cannot know (unless it (still) is a  
foo:ConfigProcessor
     the intent of the client

declaring the intent in the message enables the client to respond  
with an error if the client intention cannot be met. YES?

Wouldn't an additional HTTP header solve this, too? And would this  
mandate an additional HTTP error code?

Jan

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5507<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-11-19 21:58:51<br>
Subject:Re: [rest-discuss] RDFForms question<br>
Message:<br><br>
<pre>Sorry it is late. The sentence shouldhave been:

&gt; declaring the intent in the message enables the **server** to respond
&gt; with an error if the client intention cannot be met. YES?

jan
________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5508<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-11-20 00:37:02<br>
Subject:Re: [rest-discuss] RDFForms question<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5509<br>
Sender:"colt_nz" &lt;colin.taylor@...&gt;<br>
Post Date/Time:2005-11-20 03:30:10<br>
Subject:delivery guarantees<br>
Message:<br><br>
<pre>Hi there,

As a novice to REST, the first area of discomfort I've found is with
delivery guarantee -at least with respect to HTTP flavoured REST.
For example if a GET returns a list of resources how we do the list is
complete without some annoyingly superficial xml wrapper.

So http://mydomain/api/orders/?fromDate=20050101&amp;thruDate=20050131
returning text/plain:

http://mydomain/api/order/1001
http://mydomain/api/order/1002
http://mydomain/api/order/1003

I feel the need to need to garnish it as application/xml
&lt;rest-request&gt; [or perhaps &lt;order&gt; ]
http://mydomain/api/order/1001
http://mydomain/api/order/1002
http://mydomain/api/order/1003
&lt;/rest-request&gt;

Likewise this allows for an empty response
&lt;rest-request/&gt;

But most of the REST examples I've seen (so far) follow the first
pattern. Can some kind soul help me with what I'm missing?

Thanks and regards
Colin.









</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5510<br>
Sender:Yannick Loiseau &lt;yloiseau@...&gt;<br>
Post Date/Time:2005-11-20 09:30:01<br>
Subject:Re: [rest-discuss] delivery guarantees<br>
Message:<br><br>
<pre>

colt_nz wrote:
&gt; Hi there,
&gt; 
&gt; As a novice to REST, the first area of discomfort I've found is with
&gt; delivery guarantee -at least with respect to HTTP flavoured REST.
&gt; For example if a GET returns a list of resources how we do the list is
&gt; complete without some annoyingly superficial xml wrapper.

Check the "Content-Length" HTTP header...

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5511<br>
Sender:Yannick Loiseau &lt;yloiseau@...&gt;<br>
Post Date/Time:2005-11-20 09:54:04<br>
Subject:Re: [rest-discuss] delivery guarantees<br>
Message:<br><br>
<pre>
&gt; For example if a GET returns a list of resources how we do the list is
&gt; complete without some annoyingly superficial xml wrapper.

(sorry)
has said, Content-Length header for M2M, for M2H, maybe a #EOF as le
last line :)

&gt; Likewise this allows for an empty response
&gt; &lt;rest-request/&gt;

"204 No Content response" code


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5512<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-11-20 09:59:26<br>
Subject:Re: [rest-discuss] delivery guarantees<br>
Message:<br><br>
<pre>Colin,

in a RESTful system, the application semantics (e.g. how do I know I  
see a list when I see one) are in the message type (the MIME type)  
which establishes a shared understanding between server and client.  
If you browser wouldnot understand &lt;ul&gt;&lt;li&gt;ITEM&lt;/li&gt;&lt;/ul&gt; iot would  
not have a clue what to  with that piece of the message.

The Accept header is used by the client to essentially tell the  
server what application semantics it understands. If the server can  
respond in an appropropriate way, communication can take place; if  
not, there is no way for the server to tell the client that something  
'is a list'.

Both, text/plain and application/xml are actuallt bad candidates for  
this, because they do not communicate any specific application  
semantics. If you second example was sent as application/xml, there  
would still not be any way for the client to safely assume it was  
seeing a list.

If OTH, client and server are both aware of some MIME type  
application/foo and thus know that order items are marked up as


&lt;order&gt;
&lt;item&gt;A&lt;/item&gt;
&lt;item&gt;B&lt;/item&gt;
&lt;/order&gt;

communiccation would work.

HTH,

Jan



On Nov 20, 2005, at 4:30 AM, colt_nz wrote:

&gt; Hi there,
&gt;
&gt; As a novice to REST, the first area of discomfort I've found is with
&gt; delivery guarantee -at least with respect to HTTP flavoured REST.
&gt; For example if a GET returns a list of resources how we do the list is
&gt; complete without some annoyingly superficial xml wrapper.
&gt;
&gt; So http://mydomain/api/orders/?fromDate=20050101&amp;thruDate=20050131
&gt; returning text/plain:
&gt;
&gt; http://mydomain/api/order/1001
&gt; http://mydomain/api/order/1002
&gt; http://mydomain/api/order/1003
&gt;
&gt; I feel the need to need to garnish it as application/xml
&gt; &lt;rest-request&gt; [or perhaps &lt;order&gt; ]
&gt; http://mydomain/api/order/1001
&gt; http://mydomain/api/order/1002
&gt; http://mydomain/api/order/1003
&gt; &lt;/rest-request&gt;
&gt;
&gt; Likewise this allows for an empty response
&gt; &lt;rest-request/&gt;
&gt;
&gt; But most of the REST examples I've seen (so far) follow the first
&gt; pattern. Can some kind soul help me with what I'm missing?
&gt;
&gt; Thanks and regards
&gt; Colin.
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; ------------------------ Yahoo! Groups Sponsor -------------------- 
&gt; ~--&gt;
&gt; Get fast access to your favorite Yahoo! Groups. Make Yahoo! your  
&gt; home page
&gt; http://us.click.yahoo.com/dpRU5A/wUILAA/yQLSAA/W6uqlB/TM
&gt; -------------------------------------------------------------------- 
&gt; ~-&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5513<br>
Sender:toydi &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2005-11-20 11:31:27<br>
Subject:Re: [rest-discuss] rest and ajax<br>
Message:<br><br>
<pre>Hi Matthias,

On 11/19/05, Matthias Willerich &lt;scheffmeister@...&gt; wrote:
&gt; - Are there any reasonably good PHP/Apache based REST solutions that you
&gt; know of?

You might be looking for a application framework that respect to REST
style in its core design. AFAIK, Here's one: Paul Jame's Tonic
Framework &lt;http://tonic.sourceforge.net&gt;. Ready for use, but still in
dev stage. It runs in PHP4.

You might be aware also, people in microformats are now trying to
restify Rails framework. Here's a link:
&lt;http://microformats.org/wiki/rest/rails&gt;

While waiting for Tonic since last year, I developed an experimental
PHP5 MVC framework based on Mojavi, a php framework. Well, it's a
rough prototype just to discover how a restful framework should work.
So, it's not scale for deployment. Anyway, drop me a message if you
interested. ;)

Another possible deployment solution, but in java-based: NetKernel
[1]. It's quite inspiring but takes time to learn.

-----
While building the prototype framework, I found some essential
libraries for REST-based applications are still missing in PHP
codebase:

= A complete HTTP/1.1 API =
REST-based apps use HTTP features heavily (e.g Conneg, Cache, HTTPAuth
etc) but currently developers will have to build their own library
from scratch.

Actually, I'm not sure who should provide HTTP library for php
developers, the server extension (e.g Apache extension), or PHP
extension? Wouldn't it be great if we could use server's HTTP library
straight away in PHP? :) Anyway, is it possible port the HTTP library
from Jigsaw?

= URL Mapping =
REST-based apps use URL/URI heavily as identifier for resources.
Currently, we can use Apache's mod_rewrite, or Tomcat's url-servlet
mapping to map URLs with scripts (or controllers in mvc).

But, I think we need a more scalable and dynamic URL Mapping model. It
should be made easy for tasks (e.g redirection, dynamic mapping). It
would be nice if we able to control the mapping straight away in PHP.

... we will find a lot of duplicated works, which are already done in
web server, but will have to reinvent the wheel in PHP for REST-based
app development.

[1] &lt;http://1060research.com/netkernel/screencast/index.html&gt;

----------------------
&gt; - What's your thoughts on REST in combination with Ajax?

I tried rich-javascript client implemention, but still did XML
processing at server-side (using PHP script). Here's javascript
framework: "Prototype [2]", which provides a clean coding style for
using the xmlhttprequest object.

Some existing AJAX frameworks are lack of support for PUT, DELETE
methods and sending out limited content types (some only support
form/multipart &amp; form/www-url-encoded). So, you have to tweak the
codes before using them.

Besides, AJAX.. maybe you can try to experiment with AHAH (returning
XHTML(maybe in microformats?) rather than XML). An AHAH example:
&lt;http://www.larrystaton.com&gt;

[2] &lt;http://prototype.conio.net/&gt;

---------------
&gt; Would Apache just check for "Accept: text/html" and deliver XHTML?

If you are using PHP, you have code Conneg feature into the framework
before the scripts understand the "Accept" header. As I said, we have
to reinvent the wheel, but it just doesn't make sense... ;)


Cheers,
--
Teo HuiMing (toydi)
http://restylab.wordpress.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5514<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-11-20 11:45:45<br>
Subject:Re: [rest-discuss] RDFForms question<br>
Message:<br><br>
<pre>Mark,

On Nov 20, 2005, at 1:37 AM, Mark Baker wrote:

&gt; Yes, exactly.  They key word in your other message being "still";  
&gt; that the resource may have changed between the time when it  
&gt; advertised the initial form, and the time when a message resulting  
&gt; from that form was sent, such that it no longer meets the  
&gt; expectations declared by the form.
&gt;
&gt; The architectural constraint I was trying to follow was self- 
&gt; descriptive messaging, or at least my interpretation thereof.

Good - that is what I thought.

I looked at your SOAPAction explanation[1] and actually your AWT  
example made me get it (quoting it here for interested ones):

     comp = new TextField( "test" );
     java.awt.Container c = Foo.bar();
     c.add( comp );

vs.

     comp = new TextField( "test" );
     java.awt.Container c = Foo.bar();
     ((java.awt.Panel)c).add( comp );

Where in the second case the client intends to 'add as a Panel'.

&gt; BTW, I'm removing that stuff from the spec in a rewrite since it  
&gt; appears as though some folks (other than you and me) might actually  
&gt; want to use it. 8-O

Why do you intend to remove it? Because it demands SOAP otherwise?

What do you think about an additional HTTP header combined with the  
requirement for rf:Containers to understand and handle it?  (sending  
an error if the intent cannoy be satisfied).

Jan

[1] http://www.oreillynet.com/pub/wlg/2331

&gt; Mark.
&gt;
&gt; On 11/19/05, Jan Algermissen &lt;jalgermissen@...&gt; wrote:  
&gt; Sorry it is late. The sentence shouldhave been:
&gt;
&gt; &gt; declaring the intent in the message enables the **server** to  
&gt; respond
&gt; &gt; with an error if the client intention cannot be met. YES?
&gt;
&gt; jan
&gt; ______________________________________________________________________ 
&gt; __
&gt; _______________
&gt; Jan Algermissen, Consultant &amp; Programmer
&gt; http://jalgermissen.com
&gt; Tugboat Consulting, 'Applying Web technology to enterprise IT'
&gt; http://www.tugboat.de
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; ------------------------ Yahoo! Groups Sponsor -------------------- 
&gt; ~--&gt;
&gt; Get fast access to your favorite Yahoo! Groups. Make Yahoo! your  
&gt; home page
&gt; http://us.click.yahoo.com/dpRU5A/wUILAA/yQLSAA/W6uqlB/TM
&gt; -------------------------------------------------------------------- 
&gt; ~-&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; -- 
&gt; Mark Baker.  Ottawa, Ontario, CANADA.          http://www.markbaker.ca
&gt; Coactus; Web-inspired integration strategies   http://www.coactus.com
&gt;
&gt; YAHOO! GROUPS LINKS
&gt;
&gt;  Visit your group "rest-discuss" on the web.
&gt;
&gt;  To unsubscribe from this group, send an email to:
&gt;  rest-discuss-unsubscribe@yahoogroups.com
&gt;
&gt;  Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.
&gt;
&gt;

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5515<br>
Sender:toydi &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2005-11-20 12:09:54<br>
Subject:Fwd: Partial update on resource's state (WAS:Re: [uf-rest] Instance/Collect...)<br>
Message:<br><br>
<pre>Here's Benjamin's previous complete reply. (I didn't notice the CC
field is empty :-)

---------- Forwarded message ----------
From: fuzzybsc &lt;benjamincarlyle@...&gt;
Date: Nov 12, 2005 1:23 PM
Subject: Partial update on resource's state (WAS:Re: [uf-rest]
Instance/Collect...)
To: toydi &lt;teohuiming.work@...&gt;


--- In rest-discuss@yahoogroups.com, toydi &lt;teohuiming.work@g...&gt; wrote:
&gt; -----------
&gt; It is similar to "composite state resource" described in Mark Baker's
&gt; HTTP resource state model [1]. Here's an example about using POST in
&gt; "composite state resource" described in the draf, section 4.1:
&gt; &gt; "For example, one might annotate an editorial with a comment. This
&gt; would be represented in the composite state model as adding the POSTed
&gt; comment to the resource.This may happen with or without the granting
&gt; of that annotation a new identity."
&gt; &gt; However, the example only mentioned "adding the POSTed comment"
&gt; without touching how to update a particular comment (if the comment
&gt; has no new identity). So, we should use POST to do update that comment
&gt; the way you suggest?

I think that any state that exists on the Internet that should be
updated as a unit needs to be represented as a resource with its own
URI. Whether that URI represents a "real object" or file isn't
relevant, so long as a URI exists. If no URI can be directly
associated with the comment, I don't think it can reasonably be
updated by a client.

&gt; -------
&gt; Another interesting link would be Benjamin's "REST in an
&gt; Object-Oriented Language"[2]. He try to model a resource's properties
&gt; as explicit resources, so that we can retrieve and update them
&gt; explicitly.
&gt; &gt; Here's the quote:
&gt; "The reason I say that a bean's properties are resources (possibly as
&gt; well) is that they do support GET (get) and PUT (set) operations in
&gt; their own right."
&gt; But, how to identify property-like resources in URL syntax? Fragment
&gt; URL identifier comes into my mind, but seems like I cannot send PUT to
&gt; a &lt;http://foo/bar#baz&gt; in current browsers (I'm not sure is it because
&gt; of the specification or an implementation bias, hope someone would
&gt; clarify this).

&lt;http://foo/bar#baz&gt; is technically not a URI. It is a URI reference,
i.e. it contains a fragment identifier. Fragments are always
intepreted by the client rather than the server. When the request is
made the fragment will be stripped to create a URI to send to the
server. When the server sends a response your web browser will look
for the "baz" anchor within the response.

The construction of the URI could take several forms.
&lt;http://foo/bar/baz&gt; would be fine, as would something like
&lt;http://foo/bar?comment=baz&gt;. I know some RESTafarians disagree, but I
see the query part of a URI (which unlike the fragment is sent to the
server side) as a useful way for a server to denote to itself that a
temporary resource needs to be created in order to handle the request.

The query approach could be applied more generally. I believe that
elsewhere in this thread the notion of updating only part of a
database record was discussed. You could set up a URI that refers to
this subset explicitly, and allows a PUT to the subset.

There are disadvantages to having multiple resources who's state
overlaps. When you update a resource through a caching proxy the
resource's cache entries are usually invalidated. This ensures that
further requests get the latest state available. However, if you
update a resource that shares state with another resource caches have
no means knowing which entries to invalidate. A single client could
gather inconsistent representations of the two resources, thus leading
to confusion and possibly data integrity problems.

I believe that elsewhere in this thread the concept of patching was
discussed as an update technique. It may interest readers to know that
PATCH was a legal method for HTTP/1.1 circa rfc2068, and may be better
to use than PUT in this case. What if you actually want to PUT a diff?
:) Patch allows you to indicate explicitly that you are sending a
diff. This approach has problems also: What if the state was updated
by someone else before you applied your patch? What if a glitch occurs
that causes the patch to be applied twice? In fact, these questions
apply equally-well to PUT. The canonical answer is probably to use an
If-* header to prevent inconsistency. The biggest problem with diffs
generally is that they are difficult to construct using web forms ;) I
suggest that populating a web form with current data before allowing a
user to modify only the fields they want to change is probably the
simplest and most canonical way of all.

Benjamin.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5516<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-11-20 13:58:11<br>
Subject:Re: [rest-discuss] RDFForms question<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5517<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-11-20 23:02:16<br>
Subject:RE: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>&gt; 
&gt; What does DELETE  http://example.com/parts/0034#screw1 mean  
&gt; (and what does it do?)
&gt; 
I don't believe it is valid to send the "#screw1" in the request. Other than
that, it means the same thing as DELETE  http://example.com/parts/0034 

If this URI showed up in some markup text (sufficiently identified as the
resource to be deleted), the client application could trim it off to conform
the the specification of the protocol.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5518<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-11-20 23:03:57<br>
Subject:RE: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>&gt; It seems to me that this kind of thing (deleting part of a resource
&gt; state) is best done by either explicitly identifying the part 
&gt; you want to DELETE as a regular resource, or by allowing a 
&gt; query part to identify the state you want to DELETE. Either 
&gt; &lt;http://example.com/parts/0034/screw1&gt; or 
&gt; &lt;http://example.com/parts/0034?screw=1&gt; would be fine.
Both of these are identifying part 0034 as a regular resource. The presence
of question mark doesn't make a URI a different type of resource.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5519<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-11-21 01:16:46<br>
Subject:RE: [rest-discuss] delivery guarantees<br>
Message:<br><br>
<pre>&gt; For example if a GET returns a list of resources how we do 
&gt; the list is complete without some annoyingly superficial xml wrapper.
The HTTP response defines the boundary of the entity in the body of the
response message.
This is defined by Content-Length for a simple response, or a set of chunks
when using chunked transfer encoding.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5520<br>
Sender:Dr. Ernie Prabhakar &lt;drernie@...&gt;<br>
Post Date/Time:2005-11-21 04:21:34<br>
Subject:Re: [rest-discuss] delivery guarantees<br>
Message:<br><br>
<pre>Hi Jan,

On Nov 20, 2005, at 1:59 AM, Jan Algermissen wrote:
&gt; &gt; For example if a GET returns a list of resources how we do the  
&gt; list is
&gt; &gt; complete without some annoyingly superficial xml wrapper.
&gt; If you browser wouldnot understand &lt;ul&gt;&lt;li&gt;ITEM&lt;/li&gt;&lt;/ul&gt; iot would
&gt; not have a clue what to  with that piece of the message.

In fact, that would the microformat solution to the problem,  
something like:

MIME-type: application/xhtml
&lt;ol class='xoxo'&gt;
&lt;li&gt;&lt;a href="http://example/resource/1"&gt;Describe 1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://example/resource/2"&gt;Describe 2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://example/resource/3"&gt;Describe 3&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

That way, a standard XOXO parser would know exactly what to extract,  
and how.   In the 'pure' XML world, I'd recommend using something  
like Atom.   In other words, you need -some- shared semantics in  
order to guarantee anything.

-- Ernie P.

------------
Ernest N. Prabhakar, Ph.D. &lt;drernie at opendarwin.org&gt;
Ex-Physicist, Marketing Weenie, and Dilettante Hacker
Probe-Hacker blog: http://www.opendarwin.org/~drernie/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5521<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2005-11-21 04:25:01<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>Hi Mike,

On Nov 20, 2005, at 3:03 PM, Mike Dierken wrote:
&gt; &gt; &lt;http://example.com/parts/0034/screw1&gt; or
&gt; &gt; &lt;http://example.com/parts/0034?screw=1&gt; would be fine.
&gt; Both of these are identifying part 0034 as a regular resource. The  
&gt; presence
&gt; of question mark doesn't make a URI a different type of resource.

I suppose in the most general sense, what you say is true.  However,  
I would argue that 'best practice' is for "parts/0034" to be a unique  
resource, and for "parts?partid=0034" to be a query which would  
return zero or more resources which match that query.   Yes, they are  
all URIs at some level, but i think there is a meaningful semantic  
expectation on the part of humans which it is *useful* (even if not  
essential) to reinforce.

-- Ernie P.

------------
Ernest N. Prabhakar, Ph.D. &lt;drernie at opendarwin.org&gt;
Ex-Physicist, Marketing Weenie, and Dilettante Hacker
Probe-Hacker blog: http://www.opendarwin.org/~drernie/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5522<br>
Sender:"Justin T. Sampson" &lt;justin@...&gt;<br>
Post Date/Time:2005-11-21 13:22:29<br>
Subject:Re: [rest-discuss] rest and ajax<br>
Message:<br><br>
<pre>Matthias Willerich wrote:

&gt; - What's your thoughts on REST in combination with Ajax? I mean,
&gt; Ajax requests XML, xmlhttprequest supports GET/POST/PUT/DELETE,
&gt; REST takes and delivers XML, and with a little bit of server
&gt; trickery you can connect to any REST webservice you like. I had
&gt; a little search in this lists archive and didn't find much.

I've been playing with this a lot lately. There's certainly a lot
of potential for good and a lot of potential for evil with AJAX.

There are two big problems I see with a lot of AJAX applications:
1) devolving to GET for everything, including server-side state
change; and 2) presenting a single URL for the entire application.

Problem #1 is easily solved by a bit of awareness of HTTP and REST
constraints; some AJAX libraries may make it difficult to control
the HTTP method, so either fix them or don't use them. Just make
sure, at the very least, that state-changing AJAX requests don't
use GET.

Problem #2 takes a little thoughtful design. It might not strictly
be a REST issue, but I think it's certainly a well-behaved Web
design issue. Most AJAX applications show a single URL in the
browser no matter what the user does or looks at, which prevents
bookmarking, emailing, guessing, understanding, etc., etc., etc.
That is, that first URL loads an AJAX engine and from then on all
user actions involve AJAX requests and either DOM or IFRAME tricks
rather than loading new pages with distinct URLs. REST teaches us
to take URLs seriously.

I've been imagining an approach (and build a proof-of-concept for
my company) where every object in the application has its own URL
(as discussed continuously on this list) but that accessing that
URL with a browser produces an AJAX-enhanced interface for
interacting with that object. Any reference to another object is a
normal hypertext link, but operations on the object itself are
AJAX requests (obeying REST constraints behind the scenes).

For example, imagine a tiny app with a collection of people at
/people/ and individual people at /people/joe, /people/bob, etc.
Doing a GET on /people/ from a browser would return an HTML page
containing a Rico LiveGrid[1]. The LiveGrid is an AJAX widget that
allows lazy scrolling through a large collection, by automatically
making AJAX requests like &lt;GET /people/?page_size=15&amp;offset=30&gt; as
the user fiddles a scrollbar. Then imagine that each person's name
in this listing is a normal hypertext link. Clicking on Joe would
access /people/joe, which is what the user would see in the
browser's address bar. This page would appear to be a simple HTML
representation of Joe's profile, but clicking a little Edit button
in the corner triggers some DOM tricks to reconfigure the page to
display a form for editing Joe's profile, without loading any
other URL. Hitting the Save button would do an AJAX request (POST
or PUT); if there are problems, an error message would be
displayed in the page using DHTML, but if everything's okay the
page would be reconfigured back into the original view --
including, of course, the user's changes -- all without leaving
the /people/joe URL. The end result is that we've preserved the
ability to bookmark individual objects in the system, and may have
even *improved* the handling of the browser history: the history
now records what objects you've visited (all purely as GET), not
what operations you've performed.

BTW, none of this addresses accessibility or graceful degradation.
Those are separate problems with any JavaScript-heavy application.

[1] http://openrico.org/rico/livegrid.page

Cheers,
Justin


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5523<br>
Sender:Matt Garland &lt;mgvelvet@...&gt;<br>
Post Date/Time:2005-11-21 16:26:55<br>
Subject:Re: [rest-discuss] delivery guarantees<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5524<br>
Sender:Sandeep Shetty &lt;sandeep.shetty@...&gt;<br>
Post Date/Time:2005-11-21 17:14:35<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>On 11/20/05, Roy T. Fielding &lt;fielding@...&gt; wrote:
&gt; If you try to author a negotiated, query,
&gt; or computed resource, then I give the client an appropriate error or
&gt; redirect to the source resource.

One of the problems I've come across while trying to build RESTful
applications is the problem of DELETING multiple resources at once.
The client knows for sure that it wants to delete 'n' number of
resources that it can specify via a query. Now, if the server goes
ahead and DELETE's all resources specified by the query then I would
be giving up on Visibility
(http://www.ics.uci.edu/~fielding/pubs/dissertation/net_app_arch.htm#sec_2_3_5)
which is in any case an "optional constraint"
(http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_7).

Guess what I'm asking is "Is there an efficient way to do multiple DELETE's?"

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5525<br>
Sender:Joe Gregorio &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2005-11-21 18:00:36<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>On 11/21/05, Sandeep Shetty &lt;sandeep.shetty@...&gt; wrote:
&gt; On 11/20/05, Roy T. Fielding &lt;fielding@...&gt; wrote:
&gt; &gt; If you try to author a negotiated, query,
&gt; &gt; or computed resource, then I give the client an appropriate error or
&gt; &gt; redirect to the source resource.
&gt;
&gt; One of the problems I've come across while trying to build RESTful
&gt; applications is the problem of DELETING multiple resources at once.

DELETE can only delete a single resource, but that doesn't mean
you can't build a resource that is a collection of other resources
and delete that. For example in this article [1] on Amazons Queue Service
look at the Queue Subset resource. It represents
a subset of the Queue Entries and DELETING it
deletes the individual entries.

[1]  http://www.xml.com/pub/a/2005/01/05/restful.html

   -joe

--
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5526<br>
Sender:Sandeep Shetty &lt;sandeep.shetty@...&gt;<br>
Post Date/Time:2005-11-21 18:38:00<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>On 11/21/05, Joe Gregorio &lt;joe.gregorio@...&gt; wrote:
&gt; DELETE can only delete a single resource, but that doesn't mean
&gt; you can't build a resource that is a collection of other resources
&gt; and delete that. For example in this article [1] on Amazons Queue Service
&gt; look at the Queue Subset resource. It represents
&gt; a subset of the Queue Entries and DELETING it
&gt; deletes the individual entries.

My problem is not with creating collections, but about how methods
applied to a collection affect the individual resources that the
collection contains. For example, if I create user resources like so:
PUT /users/user/foo
PUT /users/user/bar

Getting them
GET /users/user/foo
GET /users/user/bar

would give me the advantages of improved performance via shared
caching of interactions because of the Visibility constraint.

When I
DELETE /users/user/foo

the intermediaries _know_ that the cached representation has to be invalidated.

Deleting one resource at a time will be very inefficient when I know
that I want to delete 100's of them. So to make it more efficient I
could either

POST  /users/delete
foo,bar

OR I could do something like

DELETE /users?users_to_delete=foo,bar

Both of which do not tell the intermediaries anything about the user
resources (/users/user/foo, /users/user/bar).

The way I would work around this problem would be to tell the
intermediaries to conditionally GET the resources every time.

Want to know if I'm missing anything or if there is another way to do
this and not "suffer the disadvantages" of not having Visibility.

Sandeep Shetty

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5527<br>
Sender:Joe Gregorio &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2005-11-21 19:07:06<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>On 11/21/05, Sandeep Shetty &lt;sandeep.shetty@...&gt; wrote:
&gt; On 11/21/05, Joe Gregorio &lt;joe.gregorio@...&gt; wrote:
&gt; &gt; DELETE can only delete a single resource, but that doesn't mean
&gt; &gt; you can't build a resource that is a collection of other resources
&gt; &gt; and delete that. For example in this article [1] on Amazons Queue Service
&gt; &gt; look at the Queue Subset resource. It represents
&gt; &gt; a subset of the Queue Entries and DELETING it
&gt; &gt; deletes the individual entries.
&gt;
...
&gt; The way I would work around this problem would be to tell the
&gt; intermediaries to conditionally GET the resources every time.
&gt;
&gt; Want to know if I'm missing anything or if there is another way to do
&gt; this and not "suffer the disadvantages" of not having Visibility.

Lesson 3 from Adam Bosworth's "Learning from the Web"[1]

   3. It is acceptable to be stale much of the time.

There is no real problem to work around, you called DELETE and
some resources were removed. Yes, someone somewhere might do
a GET and not see that the resource was deleted until the cache
clears. You have the same problem if you update a resource using
POST or PUT.

[1] http://acmqueue.com/modules.php?name=Content&amp;pa=showpage&amp;pid=337&amp;page=1

   -joe

--
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5528<br>
Sender:toydi &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2005-11-22 00:54:39<br>
Subject:Re: [rest-discuss] rest and ajax<br>
Message:<br><br>
<pre>Hi Justin,

On 11/21/05, Justin T. Sampson &lt;justin@...&gt; wrote:
&gt; This page would appear to be a simple HTML
&gt; representation of Joe's profile, but clicking a little Edit button
&gt; in the corner triggers some DOM tricks to reconfigure the page to
&gt; display a form for editing Joe's profile, without loading any
&gt; other URL.

That's interesting. I have been thinking about this kind of UI
implementation after I saw what they did in Gmail. :)

Some questions that have been running around my mind:

1. javascript and on-fly form creation
Is there any js app framework that will simplify the job? It will be
hard to maintain when there are more forms in an application, if we
hardcode those forms into client script.

I have been thinking about using AHAH. For example, to create the
ProfileEdit form on-fly, we first GET a html representation of the
form (from another URL), grab data from original Joe's Profile page &amp;
fill-in the fields using DOM tricks (by matching their ids?), then
replace the page with the form. Or maybe we can fill-in the fields
straight away at server-side before sending the form to browser?

2. javascript and multi-level authorization
Using the same example, if we have 3 users, one is normal reader (no
authority to edit/delete the profile), one is the secretary (able to
edit only) and the manager (authorized to edit/delete).

How do we manage the client-script so that the script does nothing
more than what they need (or no script at all). For example, the
secretary will receive a script with codes about edit ONLY, no
deletion part. It will be terrifying when an app needs to support up
to N-level authorization. Or, it doesn't really matter, if we just
secure the object itself ( /people/joe )?

Cheers,
--
Teo HuiMing (toydi)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5529<br>
Sender:Yannick Loiseau &lt;yloiseau@...&gt;<br>
Post Date/Time:2005-11-22 09:06:56<br>
Subject:Re: [rest-discuss] rest and ajax<br>
Message:<br><br>
<pre>
&gt; 1. javascript and on-fly form creation

maybe using some "guessing" conventions. e.g.:

&lt;div class="form"&gt; =&gt; &lt;form method="PUT" action="."&gt;
&lt;div class="textfield"&gt; =&gt; &lt;input&gt;
&lt;div class="textarea"&gt; =&gt; &lt;textarea&gt;
...

The javascritp can therefore convert on the fly, field values from the
div content, the PUT beeing done using xmlHttpRequest.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5530<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2005-11-22 10:11:27<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>Sandeep Shetty wrote:
&gt; Both of which do not tell the intermediaries anything about the user
&gt; resources (/users/user/foo, /users/user/bar).
&gt; 
&gt; The way I would work around this problem would be to tell the
&gt; intermediaries to conditionally GET the resources every time.
&gt; 
&gt; Want to know if I'm missing anything or if there is another way to do
&gt; this and not "suffer the disadvantages" of not having Visibility.

Not all intermediaries that are going to be involved in GETting a 
resource will be aware that a DELETE was performed anyway, so even with 
a simple 1-on-1 match between all URIs that may be used in GETs and 
DELETEs you still have to either accept that some staleness may happen, 
or request that the resource be checked (with a conditional GET) each 
time anyway.

Whether staleness is acceptable depends on the application.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5531<br>
Sender:"Justin T. Sampson" &lt;justin@...&gt;<br>
Post Date/Time:2005-11-22 10:55:52<br>
Subject:Re: [rest-discuss] rest and ajax<br>
Message:<br><br>
<pre>Teo HuiMing (toydi) wrote:

&gt; 1. javascript and on-fly form creation
&gt;
&gt; Is there any js app framework that will simplify the job? It
&gt; will be hard to maintain when there are more forms in an
&gt; application, if we hardcode those forms into client script.
&gt;
&gt; I have been thinking about using AHAH. For example, to create
&gt; the ProfileEdit form on-fly, we first GET a html representation
&gt; of the form (from another URL), grab data from original Joe's
&gt; Profile page &amp; fill-in the fields using DOM tricks (by matching
&gt; their ids?), then replace the page with the form. Or maybe we
&gt; can fill-in the fields straight away at server-side before
&gt; sending the form to browser?

Oh, I just rendered both versions on the server side, with the
edit form in a div with style="display: none". Use your favorite
Web UI framework to manage the complexity. And on a successful
"save" I just forced a reload of the entire page, to re-render
both the text and the form with the latest values (again without
affecting the browser history). For some other widgets I had an
AJAX request just return an HTML fragment.

Cheers,
Justin


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5532<br>
Sender:Donald_Strong@...<br>
Post Date/Time:2005-11-23 02:45:58<br>
Subject:Ajax Patterns and Best Practices<br>
Message:<br><br>
<pre>



Hi all,

Is this the first published book on REST style applications?
Has anyone read it?
                                                                            
                                                                            
 Ajax Patterns and Best Practices (Paperback)                               
 by Christian Gross                                                         
                                                                            
                                                                            

http://www.amazon.com/gp/product/1590596161
                                                                            
 This book addresses the server side with the REST protocol. REST and Ajax  
 blend elegantly together, but REST can also be used alone, with just a     
 computer-to-computer solution. Like Ajax, REST can be used with today's    
 existing technologies. Millions of client computers are now Ajax-ready,    
 and millions of servers are REST-ready.                                    
                                                                            



Donald.
This email is sent by or on behalf of the named sender identified above. If
you do not wish to receive any email marketing material from this person in
the future, please forward the contents of this email to
unsubscriptions@... with the word "unsubscribe" in the subject
box. If you do not forward the contents of this email with your
unsubscription then it may not be able to be implemented.  If you wish to
unsubscribe from all central email marketing lists used by our business,
please forward the contents of this email to
unsubscriptions@... with the message "unsubscribe from all
central email marketing lists" in the subject box.  If you do not forward
the contents of this email with your unsubscription then it may not be able
to be implemented.


The information contained in this email communication may be confidential.
You should only disclose, re-transmit, copy, distribute, act in reliance on
or commercialise the information if you are authorised to do so.  Any views
expressed in this email communication are those of the individual sender,
except where the sender specifically states them to be the views of a
member of the National Australia Bank Group of companies.  Any advice
contained in this e-mail has been prepared without taking into account your
objectives, financial situation or needs. Before acting on any advice in
this e-mail, National Australia Bank Limited recommends that you consider
whether it is appropriate for your circumstances. If this e-mail contains
reference to any financial products, the National recommends you consider
the Product Disclosure Statement (PDS) or other disclosure document  before
making any decisions regarding any products.  The National Australia Bank
Group of companies does not represent, warrant or guarantee that the
integrity of this communication has been maintained nor that the
communication is free of errors, virus or interference.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5533<br>
Sender:Christian Gross &lt;mailing@...&gt;<br>
Post Date/Time:2005-11-23 08:15:46<br>
Subject:Re: [rest-discuss] Ajax Patterns and Best Practices<br>
Message:<br><br>
<pre>Donald_Strong@... wrote:

&gt;
&gt;
&gt;
&gt;
&gt; Hi all,
&gt;
&gt; Is this the first published book on REST style applications?
&gt; Has anyone read it?

Oh yeah, I have...  I am the author of the book and I am almost done 
(nipping and tucking going on right now), as it is to be published in 
Feb 06.  If somebody is willing to do a review I am sure my publisher is 
willing to give some copies.

Let me give a brain dump on why this book.  I have been building Web 
Services since 98, and Web Applications since 95.  And if there is one 
thing that bothers me is that life is too complicated.  It seems to me 
that the framework vendors are doing this to sell or drive frameworks.  
I became "enlightened" in the middle of 04 when I had a very good and 
long talk Elliotte Rusty Harrold.  We talked about Web Services, Web 
Applications and my misgivings about the current trend.  He just laughed 
and said, "Yes you should be concerned".  The main issue was that SOAP, 
and the Web Application frameworks have become too complicated and have 
become selfish.  I consider a framework selfish when the framework 
cannot see beyond it's own needs to solve a problem. 

The book came of the need like REST to make things simple again.  What I 
like about Ajax and REST is that they are "getting back to the roots" 
technologies.  The book says Ajax, but reading and looking at the 
patterns you will very quickly realize REST is an essential part of the 
book.  In contrast to many other books the focus is not on "dancing 
jakes", but how to write the next generation of Web applications.  I 
have to be very frank here, I have always been a very big fan of the 
Apache community and the proposals that have come out of the Apache 
community.  The book draws quite a bit of its inspiration from REST, and 
the Apache community. 

In about a month I will be releasing a website that contains all of the 
patterns coded in Java, and .NET as the book explains the patterns using 
Java and/or .NET.  For those wondering, why not Ruby, Python?  Simple 
answer I had to focus.  However, the patterns are explained in such a 
way that they could be applied to Ruby or Python without much 
resistance.  Whenever I used Java, or .NET I used very generic 
techniques that I knew worked on both Java, .NET, and other 
technologies  The only part that concerns me with respect to PHP, 
Python, or Ruby are HTTP filter mechanisms.  I have this wierd feeling 
that there developers could have problems, based on my research on what 
is possible and not possible.  The idea is to release the patterns in as 
many technologies as possible so that they can be used regardless of 
what you are using as a language or framework.

If anybody has any questions please feel free to questions in this 
forum, or via my private email address. 

Christian


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5534<br>
Sender:"James Howe" &lt;yahoogroups@...-mail.com&gt;<br>
Post Date/Time:2005-11-23 16:40:51<br>
Subject:Long GET url (Newbie question)<br>
Message:<br><br>
<pre>I'm relatively new to the REST way of writing web services/application,  
although I realize that I've been doing something very similar for a few  
years.  I'm working on a new application at the moment and I would like to  
do things in a more 'REST'-ful manner but I have a question.

According to everything that I've read, the GET command is used to  
retrieve some resource.  In the application that I'm working on, I want my  
service to return some XML which represents some analytical results based  
on some input from the application.  The input consists of a portfolio of  
investment instruments.  The service looks at the portfolio, does some  
analysis and then returns results in XML.  The portfolio can be quite  
large and is XML.  My usual approach would be to simply do a POST of the  
XML instead of a GET because putting the XML in a URL isn't workable.  So  
I might send do a POST to http://foo.bar.com/portfolioAnalysis and the  
POSTed data would be the portfolio XML.

I've read, however, the POST is supposed to be used for updating not  
querying, so it seems wrong to use POST in this case.  Is there a better  
way to handle this sort of thing?

Thanks!

-- 
James Howe




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5535<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-11-23 17:19:00<br>
Subject:Re: [rest-discuss] Long GET url (Newbie question)<br>
Message:<br><br>
<pre>On Wed, 2005-11-23 at 11:40 -0500, James Howe wrote:
&gt; I've read, however, the POST is supposed to be used for updating not  
&gt; querying, so it seems wrong to use POST in this case.  Is there a better  
&gt; way to handle this sort of thing?

Another way would be to POST the portfolio, creating a new resource,
then reference that resource in the subsequent analysis-GET.

  C:POST /portfolios
  C:portfolio XML data ... name="foo"
  S:201; Location: /portfolios/foo

  C:GET /analysis/portfolio/foo
  S:200; analysis response


A nice thing about this approach is that the portfolio-URI doesn't have
to be local...

  C:GET /analysis/http://other-eg.com/portfolio/1234
  # service fetches portfolio from url, does analysis...
  S:200; analysis response

...jsled
-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5536<br>
Sender:toydi &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2005-11-23 17:17:27<br>
Subject:Re: [rest-discuss] Long GET url (Newbie question)<br>
Message:<br><br>
<pre>Hi James,

On 11/24/05, James Howe &lt;yahoogroups@...-mail.com&gt; wrote:
&gt; I've read, however, the POST is supposed to be used for updating not
&gt; querying, so it seems wrong to use POST in this case.  Is there a better
&gt; way to handle this sort of thing?

I'm reading a previous similar thread now too, in case you and others
are interested. :)

It stated with:
[GET Request length limitation]
http://groups.yahoo.com/group/rest-discuss/message/4554

followed by:
[Querying with POST]
http://groups.yahoo.com/group/rest-discuss/message/4569

and an external resource mentioned in the discussion:
http://lists.w3.org/Archives/Public/www-rdf-interest/2001Aug/0182.html


Cheers,
--
Teo HuiMing (toydi)
http://toydi.wordpress.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5537<br>
Sender:"James Howe" &lt;yahoogroups@...-mail.com&gt;<br>
Post Date/Time:2005-11-23 18:05:48<br>
Subject:Re: [rest-discuss] Long GET url (Newbie question)<br>
Message:<br><br>
<pre>On Wed, 23 Nov 2005 12:19:00 -0500, Josh Sled &lt;jsled@...&gt;  
wrote:

&gt; On Wed, 2005-11-23 at 11:40 -0500, James Howe wrote:
&gt;&gt; I've read, however, the POST is supposed to be used for updating not
&gt;&gt; querying, so it seems wrong to use POST in this case.  Is there a better
&gt;&gt; way to handle this sort of thing?
&gt;
&gt; Another way would be to POST the portfolio, creating a new resource,
&gt; then reference that resource in the subsequent analysis-GET.
&gt;
&gt;   C:POST /portfolios
&gt;   C:portfolio XML data ... name="foo"
&gt;   S:201; Location: /portfolios/foo
&gt;
&gt;   C:GET /analysis/portfolio/foo
&gt;   S:200; analysis response
&gt;
&gt;
&gt; A nice thing about this approach is that the portfolio-URI doesn't have
&gt; to be local...
&gt;
&gt;   C:GET /analysis/http://other-eg.com/portfolio/1234
&gt;   # service fetches portfolio from url, does analysis...
&gt;   S:200; analysis response
&gt;
&gt; ...jsled

I considered the POST/GET operation, but it strikes me as stateful and  
more complex that the problem requires.  If I use POST which returns an  
XML reponse, I use one operation.  If I first POST the portfolio, then GET  
the results, presumably I would then have to do an operation to remove the  
portfolio once I have a result, sort of a very primitive garbage  
collection operation.  Is this approach others have taken to this sort of  
problem?

Thanks.

-- 
James Howe


Contact: http://public.xdi.org/=James.Howe

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5538<br>
Sender:"Logan, Patrick D" &lt;patrick.d.logan@...&gt;<br>
Post Date/Time:2005-11-23 18:47:48<br>
Subject:RE: Ajax Patterns and Best Practices<br>
Message:<br><br>
<pre>"Is this the first published book on REST style applications?"

Ajax in Action from Manning is out now. I've been through more than half
of it. It is fairly thick and there is some content I don't specifically
need. On the other hand it is first out of the gate and well above
average for software books in my opinion.

Pragmatic Ajax, published but not authored by those Pragmatic
Programmers (whose books tend to be above average as well) is available
as a beta PDF. I bought this and have been through more than half with
this too. The beta copy has been upgraded once so far. Not sure of the
final publication date. This book is smaller and in its current form not
as complete as the AiA book. Even the content that is covered has some
wholes in it yet to be filled.

Even so it is worth owning the beta copy and tracking updates. And I
think it is worth owning both of these books.

I am not a Javascript programmer. I may have written a few dozen lines
of JS before getting interested in Ajax. So I have found other
Javascript, CSS, and XHTML books and info to help apply the lessons of
the Ajax books into my own examples. I have found the "Visual
Quickstart" books for Javascript (5th edition) and for DHTML to be
useful for this. The format is good for getting to basic, short examples
on specific topics.

Hey, publishers: a "visual quickstart" approach to more advanced Ajax
scenarios would be really useful.

-Patrick


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5539<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-11-24 17:20:57<br>
Subject:Re: [rest-discuss] Long GET url (Newbie question)<br>
Message:<br><br>
<pre>On Wed, 2005-11-23 at 13:05 -0500, James Howe wrote:
&gt; I considered the POST/GET operation, but it strikes me as stateful and  
&gt; more complex that the problem requires.  If I use POST which returns an  
&gt; XML reponse, I use one operation.  If I first POST the portfolio, then GET  
&gt; the results, presumably I would then have to do an operation to remove the  
&gt; portfolio once I have a result, sort of a very primitive garbage  
&gt; collection operation.  Is this approach others have taken to this sort of  
&gt; problem?

Yes, the most direct tradeoff for having a limited set of operations is
the reduction of efficiency ... sometimes you need a sequence of steps
where one would logically suffice.

There's nothing wrong, either, with the server managing the lifecycle of
the POSTed portfolios so as to limit consumed resources.

In any case, POST is perfectly suitable for "providing a block of data
[...] to a data-handling process".  The tradeoff there is going to be
caching behavior and browser behavior (warning the user on re-submitting
POSTed data, primarily).  IE might force your hand on this issue as
well, as it will not allow URLs greater than 2k characters or something,
making GETting with large query strings impossible ... thought it's not
clear if you're even using a browser in this scenario.

...jsled
-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5540<br>
Sender:Hugh Winkler &lt;hughw@...&gt;<br>
Post Date/Time:2005-11-24 18:50:37<br>
Subject:Re: [rest-discuss] Long GET url (Newbie question)<br>
Message:<br><br>
<pre>On 11/24/05, Josh Sled &lt;jsled@...&gt; wrote:
&gt; On Wed, 2005-11-23 at 13:05 -0500, James Howe wrote:
&gt; &gt; I considered the POST/GET operation, but it strikes me as stateful and
&gt; &gt; more complex that the problem requires.  If I use POST which returns an
&gt; &gt; XML reponse, I use one operation.  If I first POST the portfolio, then GET
&gt; &gt; the results, presumably I would then have to do an operation to remove the
&gt; &gt; portfolio once I have a result, sort of a very primitive garbage
&gt; &gt; collection operation.  Is this approach others have taken to this sort of
&gt; &gt; problem?
&gt;
&gt; Yes, the most direct tradeoff for having a limited set of operations is
&gt; the reduction of efficiency ... sometimes you need a sequence of steps
&gt; where one would logically suffice.

But really, there's no harm in POSTing the xml and having the server
simply return the query results in its entity body! It doesn't violate
RFC 2616, since you can regard POST as "process this".  And I cannot
think of any bad consequences of doing it this way.


&gt;
&gt; There's nothing wrong, either, with the server managing the lifecycle of
&gt; the POSTed portfolios so as to limit consumed resources.


Yes, that is an additional complexity though, that doesn't buy
anything except some conformance to a pattern, without practical
benefit. It's sort of a quantum leap in complexity, to store off these
temporary resources and age them out properly.


&gt;
&gt; In any case, POST is perfectly suitable for "providing a block of data
&gt; [...] to a data-handling process".  The tradeoff there is going to be
&gt; caching behavior and browser behavior (warning the user on re-submitting
&gt; POSTed data, primarily).  IE might force your hand on this issue as
&gt; well, as it will not allow URLs greater than 2k characters or something,
&gt; making GETting with large query strings impossible ... thought it's not
&gt; clear if you're even using a browser in this scenario.
&gt;

Josh, I think you're sort of  implying what I said above?

&gt; ...jsled
&gt; --
&gt; http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5541<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-11-24 19:17:59<br>
Subject:Re: [rest-discuss] Best practices for crippled HTTP clients?<br>
Message:<br><br>
<pre>On Tue, 2005-11-08 at 07:42 +0800, Ryan Shaw wrote:
&gt; Is this POST(a) and POST(p) terminology something you're using for 
&gt; illustrative purposes in this email, or is this a more widely known 
&gt; distinction?

Going back through rest-discuss mail looking for something else, I came
upon this:

http://groups.yahoo.com/group/rest-discuss/message/4732

...jsled
-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5542<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-11-24 19:20:15<br>
Subject:Re: [rest-discuss] Long GET url (Newbie question)<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5543<br>
Sender:Hugh Winkler &lt;hughw@...&gt;<br>
Post Date/Time:2005-11-24 19:50:29<br>
Subject:Re: [rest-discuss] Long GET url (Newbie question)<br>
Message:<br><br>
<pre>On 11/24/05, Mark Baker &lt;distobj@...&gt; wrote:
&gt;
&gt;
&gt; On 11/24/05, Hugh Winkler &lt;hughw@...&gt; wrote:
&gt; &gt; On 11/24/05, Josh Sled &lt;jsled@asynchronous.org&gt; wrote:
&gt; &gt; &gt; On Wed, 2005-11-23 at 13:05 -0500, James Howe wrote:
&gt; &gt; &gt; &gt; I considered the POST/GET operation, but it strikes me as stateful and
&gt; &gt; &gt; &gt; more complex that the problem requires.  If I use POST which returns
&gt; an
&gt; &gt; &gt; &gt; XML reponse, I use one operation.  If I first POST the portfolio, then
&gt; GET
&gt; &gt; &gt; &gt; the results, presumably I would then have to do an operation to remove
&gt; the
&gt; &gt; &gt; &gt; portfolio once I have a result, sort of a very primitive garbage
&gt; &gt; &gt; &gt; collection operation.  Is this approach others have taken to this sort
&gt; of
&gt; &gt; &gt; &gt; problem?
&gt; &gt; &gt;
&gt; &gt; &gt; Yes, the most direct tradeoff for having a limited set of operations is
&gt; &gt; &gt; the reduction of efficiency ... sometimes you need a sequence of steps
&gt; &gt; &gt; where one would logically suffice.
&gt; &gt;
&gt; &gt; But really, there's no harm in POSTing the xml and having the server
&gt; &gt; simply return the query results in its entity body! It doesn't violate
&gt; &gt; RFC 2616, since you can regard POST as "process this".  And I cannot
&gt; &gt; think of any bad consequences of doing it this way.
&gt;
&gt;  I know Roy and I have argued about this point, but I continue to believe
&gt; this to be somewhat "bad" as it exposes the client to the implementation
&gt; details of the server by assuming that the data in the POST response
&gt; constitutes a response to the query in the POST request.  Consider that with
&gt; such an assumption, one couldn't readily substitute another Web server and
&gt; still have it meet the same expectation.
&gt;

a) That problem isn't addressed by interposing the temporary query
resource, either, as you pointed out in
http://groups.yahoo.com/group/rest-discuss/message/4558

b) If the client obtained the query URI from a form document or more
practically, from a link in some document format it understands (a la
atom with e.g. &lt;link rel="my.query.service.that.uses.post") then it's
ok to have that expectation.




&gt; Mark.
&gt; --
&gt; Mark Baker.  Ottawa, Ontario, CANADA.        http://www.markbaker.ca
&gt; Coactus; Web-inspired integration strategies   http://www.coactus.com
&gt;
&gt;

Hugfh

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5544<br>
Sender:Donald_Strong@...<br>
Post Date/Time:2005-11-25 02:18:43<br>
Subject:Re: [rest-discuss] Long GET url (Newbie question)<br>
Message:<br><br>
<pre>Hi James,

&gt; I might send do a POST to http://foo.bar.com/portfolioAnalysis and the
&gt; POSTed data would be the portfolio XML.

This is a completely valid thing to do according to the HTTP specification.

Some restful features[1] of this apporach include:
 - you use the URL to identify a single resource
 - the response is dependent entirely upon the
   information contained in the request
 - the server is stateless.

You don't create a resource. So what. You point out in a later message
that if you did you would only have to delete it.

&gt; I've read, however, the POST is supposed to be used for updating not
&gt; querying, so it seems wrong to use POST in this case.  Is there a better

&gt; way to handle this sort of thing?

Its not so much that you shouldn't use POST, its that it is preferable
that you use GET for "readonly" requests because it is "Safe", ie. free
from side effects.

In this case, you are not changing state on the server so you should
use GET if you can ... however the parameters for this request are
too complex to put into a URL, so use POST.

       Use GET when you can, use POST when you must.

Donald.

[1] HTTP and REST are not the same thing.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5545<br>
Sender:toydi &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2005-11-25 04:49:32<br>
Subject:Re: [rest-discuss] Long GET url (Newbie question)<br>
Message:<br><br>
<pre>Hi Mark,

On 11/25/05, Mark Baker &lt;distobj@...&gt; wrote:
&gt;  I know Roy and I have argued about this point, but I continue to believe
&gt; this to be somewhat "bad" as it exposes the client to the implementation
&gt; details of the server by assuming that the data in the POST response
&gt; constitutes a response to the query in the POST request.  Consider that with
&gt; such an assumption, one couldn't readily substitute another Web server and
&gt; still have it meet the same expectation.

I have been reading early threads about this POST issue but still
couldn't grab the point yet. Do you mean when we send a
self-descriptive request, since everyone (including intermediates)
know its intend/semantic, therefore we can unambiguously expect an
"expected response"? ;-) Ah, sorry about my English.

Q: So, what both client &amp; server SHOULD *expect*, when they
send/receive a POST request which include an entity? (Or am I asking a
wrong question? I still feel I'm missing the whole point here.)

It seems currently we are using POST to do two different jobs [1]:
POST(a) - Append/create this resource, and POST(p) - Process this data
block. A successful POST(a) should return 201 Created with
Location-URI, and a successful POST(p) should return 200 OK with
optional explanation text (or just 204 No Content).

Q: Is it the overloading in POST that causes the *expectation* problem
between client and server connectors? (e.g. A client sends a POST(a),
it expects server to return 201 &amp; Location-URI, but that server is
being implemented to process POST(p) ).

[1] http://groups.yahoo.com/group/rest-discuss/message/4732

--------
Back to Jame's portfolio example. It seems like it's a more
application-specific problem, and we are using a more generalize HTTP
protocol to solve the problem.

So, we have an "application-specific" semantic:
         "send a portfolio, expect to receive analysis results".

and use a "generic POST(p)" semantic to solve it:
         "POST a portfolio, receive 200 OK with analysis results,
          and (optional) a Content-Location for further retrieval of
the results"

or use a "generic POST(a)" semantic to solve it:
         "POST a portfolio, receive 201 Created, Location of portfolio resource"
         "GET AnalysisProcesser?portfolio=&lt;portfolio's location&gt; to
retrieve analysis results"

Is it true that as long as we correctly use the generic POST(a) or
POST(p) semantic, then the whole interaction is considered RESTful?

If it's true, then what's semantic problem (not correctly used) in the
solution you mentioned in [2]?


[2] http://lists.w3.org/Archives/Public/www-rdf-interest/2001Aug/0182.html


Cheers :-)
--
Teo HuiMing (toydi)
http://toydi.wordpress.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5546<br>
Sender:"Justin T. Sampson" &lt;justin@...&gt;<br>
Post Date/Time:2005-11-25 15:13:38<br>
Subject:RE: [rest-discuss] Long GET url (Newbie question)<br>
Message:<br><br>
<pre>Teo HuiMing (toydi) wrote:

&gt; On 11/25/05, Mark Baker &lt;distobj@...&gt; wrote:
&gt;
&gt; &gt; I know Roy and I have argued about this point, but I continue
&gt; &gt; to believe this to be somewhat "bad" as it exposes the client
&gt; &gt; to the implementation details of the server by assuming that
&gt; &gt; the data in the POST response constitutes a response to the
&gt; &gt; query in the POST request. Consider that with such an
&gt; &gt; assumption, one couldn't readily substitute another Web server
&gt; &gt; and still have it meet the same expectation.
&gt;
&gt; I have been reading early threads about this POST issue but
&gt; still couldn't grab the point yet. Do you mean when we send a
&gt; self-descriptive request, since everyone (including
&gt; intermediates) know its intend/semantic, therefore we can
&gt; unambiguously expect an "expected response"? ;-)

I don't understand this notion of "expectation" myself. When I do
a POST it's only because I've just read something telling me that
doing so will achieve something I want to achieve (such as an HTML
form accompanied by English text). That hypertext context suggests
some weak "expectation" at a high level, in terms of what I'm
trying to accomplish, but my only expectation of the HTTP response
is that it will *also* be hypertext and will also describe what
happened, hopefully in terms I understand. That is, the request
itself doesn't need to describe any particular "expectation" at
the HTTP level because the response will be *self*-descriptive
anyway. It might carry an HTML message telling me that some
operation was performed and giving hyperlinks to related
information, or it might redirect me to a URI such that GETing
that URI would return the same kind of message.

Also, though Josh's proposal of creating an intermediate resource
as a result of the POST may feel weird from an RPC standpoint, it
makes total sense from a Web standpoint. If I were to build a
portfolio analysis Web application, I certainly would provide some
UI (involving lots of POSTs) to create and maintain portfolios
within the application. Then some analytics about a particular
portfolio would just be another subordinate resource, at, say,
&lt;/portfolios/123/analytics&gt;. The HTTP interaction would be more
like this:

== User ==
Selects bookmark for portfolios app.
== User-Agent ==
GET /portfolios
== Server ==
200

&lt;a href="/portfolios/123"&gt;Joe's Portfolio&lt;/a&gt;&lt;br&gt;
&lt;a href="/portfolios/354"&gt;Bob's Portfolio&lt;/a&gt;&lt;br&gt;
&lt;a href="/portfolios/523"&gt;Ed's Portfolio&lt;/a&gt;&lt;br&gt;
&lt;form method="post"&gt;
&lt;input type="submit" name="submit" value="New Portfolio"&gt;
&lt;/form&gt;
== User ==
Clicks "New Portfolio" button.
== User-Agent ==
POST /portfolios

submit=New Portfolio
== Server ==
302
Location: /portfolios/42
== User-Agent ==
GET /portfolios/42
== Server ==
200

&lt;h1&gt;Untitled Porfolio&lt;/h1&gt;
&lt;form method="post"&gt;
&lt;... controls for editing the portfolio...&gt;
&lt;/form&gt;
&lt;a href="/portfolios/42/analytics"&gt;Analytics&lt;/a&gt;
== User ==
Clicks "Analytics" link.
== User-Agent ==
GET /portfolios/42/analytics
== Server ==
200

&lt;h1&gt;Analytics for Untitled Portfolio&lt;/h1&gt;
&lt;... etc. ...&gt;
== end ==

Replacing "Web application" with "Web service" and replacing
"User" with "software agent" perhaps requires a more simplified
and less ambiguous language than English, but I think this is a
very natural way to think about Web services design as well.
Notice that the user in this example has bookmarked an initial
resource and from there uses textual cues to decide what to do,
and never constructs a URI or a GET or a POST, while the
user-agent simply follows the instructions from the server for
constructing appropriate requests. All the user-agent and any
intermediaries need to "know" about each request is whather it is
safe to cache or to refresh without warning the user. Whether POST
means "append" or "process" is totally irrelevant when your
semantic expectations are based on the hypertext context.

Cheers,
Justin


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5547<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-11-25 16:25:45<br>
Subject:Re: [rest-discuss] Long GET url (Newbie question)<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5548<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2005-11-26 07:50:07<br>
Subject:Re: [rest-discuss] Resources and URIs<br>
Message:<br><br>
<pre>On Mon, 2005-11-21 at 14:07 -0500, Joe Gregorio wrote:
&gt; On 11/21/05, Sandeep Shetty &lt;sandeep.shetty@...&gt; wrote:
&gt; &gt; On 11/21/05, Joe Gregorio &lt;joe.gregorio@...&gt; wrote:
&gt; &gt; &gt; DELETE can only delete a single resource, but that doesn't mean
&gt; &gt; &gt; you can't build a resource that is a collection of other resources
&gt; &gt; &gt; and delete that. For example in this article [1] on Amazons Queue Service
&gt; &gt; &gt; look at the Queue Subset resource. It represents
&gt; &gt; &gt; a subset of the Queue Entries and DELETING it
&gt; &gt; &gt; deletes the individual entries.
&gt; &gt; The way I would work around this problem would be to tell the
&gt; &gt; intermediaries to conditionally GET the resources every time.
&gt; &gt; Want to know if I'm missing anything or if there is another way to do
&gt; &gt; this and not "suffer the disadvantages" of not having Visibility.
&gt; Lesson 3 from Adam Bosworth's "Learning from the Web"[1]
&gt;    3. It is acceptable to be stale much of the time.

And this comes back to the same problem as was discussed in the "Partial
update on resource's state" thread. Resources will sometimes have state
that overalaps. Noone except the origin server can possibly know their
state overlaps, so can't infer from operations on one how the state of
the other may have changed. In a poorly-designed system this could lead
to data integrity problems, but in practice it usually works itself out.
Web developers should be aware of how their clients will behave in this
semi-stale environment but should not lose sleep over it.

-- 
Benjamin Carlyle &lt;benjamincarlyle@...&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5549<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2005-11-26 08:10:57<br>
Subject:Re: [rest-discuss] Long GET url (Newbie question)<br>
Message:<br><br>
<pre>On Thu, 2005-11-24 at 14:20 -0500, Mark Baker wrote:
&gt; On 11/24/05, Hugh Winkler &lt;hughw@...&gt; wrote:
&gt;         But really, there's no harm in POSTing the xml and having the
&gt;         server
&gt;         simply return the query results in its entity body! It doesn't
&gt;         violate 
&gt;         RFC 2616, since you can regard POST as "process this".  And I
&gt;         cannot
&gt;         think of any bad consequences of doing it this way.
&gt; I know Roy and I have argued about this point, but I continue to
&gt; believe this to be somewhat "bad" as it exposes the client to the
&gt; implementation details of the server by assuming that the data in the
&gt; POST response constitutes a response to the query in the POST request.
&gt; Consider that with such an assumption, one couldn't readily substitute
&gt; another Web server and still have it meet the same expectation.

I think toydi hits this problem on the head when he talks about the two
post methods. I would usually explain POST as a method that creates
state. The state may or may not be associated with a newly-created
resource. I tend to pair this with a GET that reports current state, and
PUT that replaces some state with some other state. This use of a
POST-supporting resource as a little web service that performs a
function could be said to be creating NULL state... but otherwise
differs somewhat from the usual function of POST.

Would it be better to introduce a DOIT method? This method could behave
like POST, accepting state and reporting it back. The difference would
be that it set up an expectation that no state would be created or
changed on the server side. Unfortunately, this would not improve the
cachability of results when compared to the POST method. You would still
need to supply the request state each time to get a fresh response,
because the request state may well be combined with server state in
order to create that response. The server state may change at any time.

It seems there are two methods here, but only from the purist's
perspective. In order to argue that the set of commonly-accepted REST
methods should change you would need to describe how clients or
intermetiaties would interpret this method differently to the
state-creating form of POST.

-- 
Benjamin Carlyle &lt;benjamincarlyle@...&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5550<br>
Sender:Taisuke Yamada &lt;tyamadajp@...&gt;<br>
Post Date/Time:2005-11-25 20:44:28<br>
Subject:REST, E2E, and URI<br>
Message:<br><br>
<pre>Yesterday, I had a chance to do a presentation on REST
architecture with regarding to WebDAV and Atom.

During discussion that followed, what came to my mind was
that while REST is an architecture that reserves scalability
of the Web, it does not directly describe data modeling
strategy on the Web as an information system.

What's so important about the Web, is that data is directly
connected in end-to-end manner. This is comparable to E2E principle
of the Internet, which basically says decentralized value
generation is established by direct connection between machines,
running service that does not depend on feature-rich, "fat" network.
In REST, information is directly connected because there's no
"fat API" or "custom protocol method". Everything in between is
so thin, it's almost invisible.

Now, before praising REST, we need to clarify why E2E information
model is preferable just like E2E connectivity on the Internet.
For this argument, I could think of following two features: closer
coupling and service discovery.

When information model is E2E, amount of addressable piece of
information increases. This means each address points to smaller,
and more specific information.

When deep linking is done under such environment, it allows two
independently created information to be closely coupled through
loose hyperlinking. You have more control on defining information
or relation between information by simply doing more detailed
hyperlinking. This result to better access to and understanding
of cluster of information. +1.

Now, let's look at service discovery. For this argument, think
of Amazon.com. When you access its website, do you look for "e-commerce
API that allow me to buy Christmas present"? No? I thought so.
You look for an item you want, then look for "purchasing API" - in
this case, a web form. So service discovery is data-driven.

When you hide data behind service, you loose this driving force.
No amount of service metadata can change this. Only exception
to this is probably a "search API". Except for discovery service
itself, all else should be data-driven. Data should express
itself and service it belongs to. You locate data, and
operate through it (sounds like variant of OOP). Since information
must come before service, this is another +1 for E2E information model.

So, how does this slight shift of focus from REST to E2E make
a difference?

For example, if you focus on E2E principle, cookie is not
anti-Web anymore. While cookie is unRESTful, it is not
anti-E2E, because information is still directly connected.
Obviously, there're type of cookie that is both unRESTful
and anti-E2E. That's a type of cookie that controls content
information-wise. Such cookie belongs to URI.

Now, which part of URI should such "URI cookie" information
belong? I still do not have clear saying on this part, but
I suspect this "URI cookie" is what we call "query string"
today. In another word, any query string is a cookie to
control representation of a service. From this standpoint,
following could be said:

- Service is located by URI with or without query string.
- Representation of service is located by URI with zero or
  more number of additional query string.

And after all these, I presume following could also be said:

- Use cookie for identification (or use standard HTTP auth).
- URI must be a projection of the representing content it exposes.
  If representation changes information-wise, URI must change.
- URI must always be sharable to ensure maximum reachability.
- For creating sharable URI even when "URI cookie" is being used,
  use two "URI cookies". One for private personalization, and
  the other to hold sharable modification. Former can be linked
  with identity once identity is created.

Now, I guess many of these are already known as web development
practice, so this seems to be a yet another example of the owl of
Minerva flying at dusk.

My final conclusion is while information-level E2E and REST
both results to almost same architecture, E2E is the principle
that defines the data model of the Web, and that data model
prefers REST principle for maximum reachability of data.

Comments?

-- 
Taisuke Yamada &lt;tyamadajp@...&gt;, http://rakugaki.org/
2268 E9A2 D4F9 014E F11D  1DF7 DCA3 83BC 78E5 CD3A

Message to my public address may not be handled in a timely manner.
For a direct contact, please use my private address on my namecard.




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5551<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-11-26 19:47:02<br>
Subject:RDFForms - parameterized POST to processors?<br>
Message:<br><br>
<pre>Hi Mark,

as far as I understand, HTTP does not prohibit POSTing to resources  
identified by URIs that have a query string. Can you clarify if  
RDFForms supports combining POST and querystrings?

My practical problem is that I want to send data to a processor and  
also provide a parameter (via QS) that is not derivable from the  
data, but only known by the client at POST time.

Theoretically an rf:Container could well be an rf:Indexable (assuming  
you did not define the types to be distinct in your ontology), but  
parameter and index seem to have different semantics; while the  
former 'fine tunes' the processing the later denotes a sub  
collection. Or don't the semantics of rf:indexParam imply any such  
notion; are they mere parameters?

If so, what do you think about calling them rf:param and allowing  
them on rf:Containers, too? After all, the idea that they are  
*index*Params seems a bit redundant given they appear on  
rf:Indexables (at least now that I look at it that way :o)

Jan





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5552<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-11-27 22:32:12<br>
Subject:Re: [rest-discuss] Long GET url (Newbie question)<br>
Message:<br><br>
<pre>On Thu, 2005-11-24 at 12:50 -0600, Hugh Winkler wrote:
&gt; On 11/24/05, Josh Sled &lt;jsled@...&gt; wrote:
&gt; &gt; There's nothing wrong, either, with the server managing the lifecycle of
&gt; &gt; the POSTed portfolios so as to limit consumed resources.
&gt; 
&gt; 
&gt; Yes, that is an additional complexity though, that doesn't buy
&gt; anything except some conformance to a pattern, without practical
&gt; benefit. It's sort of a quantum leap in complexity, to store off these
&gt; temporary resources and age them out properly.

Hmm, to be clear, I was responding specifically to notion "presumably I
would then have to do an operation to remove the portfolio once I have a
result, sort of a very primitive garbage collection operation", which I
don't think *must* be true: the server can manage its own resources.  I
don't consider it to be the "quantum leap" of complexity to age out
transient resources, but the systems I've been working in recently have
made such things relatively easy.


It is a bigger jump from just using POST to do the analysis to doing a
portfolio-POST + analysis-GET, but I don't know why you dismiss it as
"[just] conformance to some pattern" ... all architectures and designs
are conformance to a set of patterns.  It's not blind conformance, but
instead principled, done to achieve the advantages that the patterns
enable and knowing the disadvantages concomitantly imposed.

If you're trying to operate under a strict interpretation of the HTTP
operations -- as James' original post (heh :) indicated -- then I think
you must exclude the "process-this" meaning of POST.  Also under that
interpretation, I don't see how one would get an analysis by anything
other than GET.  In an ideal world there's nothing preventing the entire
portfolio from being expressed in the GET, but there are practical
issues with that (RFC2616 definition of GET, client software's
URL-length handling, &amp;c.).  An alternative, then, is to have the
analysis-GET further identify a just-POSTed portfolio resource.  Another
alternative would be to POST a new analysis resource containing the
portfolio data, then GET that new analysis.  I'd consider those
alternatives listed in terms of their "bestness" according to my
world-view, but "best" is always subjective, especially on open-ended
problems.

In any case, there are potentially practical benefits of the more
"complex" versions, mostly around cache control of both the portfolio
and analysis resources.  W.r.t. fundamentals, a portfolio that is a
proper resource can be properly cached, conditionally retrieved, or
itself be the output of some other process, &amp;c.  W.r.t reusability, the
portfolio resources are not tightly bound to the analysis, and can then
be used in other contexts.  W.r.t. evolvability, the facilities for both
creating and consuming portfolios can change independently of the
analysis operation, and vice-versa ... as well, the portfolio-related
resources are then full resources in their own right, and can be moved,
proxied, cached, &amp;c.  Again, a less open-ended question might preclude
some of (the viability of) those possibilities.

Of course, James' primary concern might be implementation simplicity,
which is probably going to trump all those things.

...jsled
-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5553<br>
Sender:Hugh Winkler &lt;hughw@...&gt;<br>
Post Date/Time:2005-11-28 16:02:06<br>
Subject:Re: [rest-discuss] Long GET url (Newbie question)<br>
Message:<br><br>
<pre>Hi Josh,

On 11/27/05, Josh Sled &lt;jsled@...&gt; wrote:
&gt; On Thu, 2005-11-24 at 12:50 -0600, Hugh Winkler wrote:
&gt; &gt; On 11/24/05, Josh Sled &lt;jsled@...&gt; wrote:
&gt; &gt; &gt; There's nothing wrong, either, with the server managing the lifecycle of
&gt; &gt; &gt; the POSTed portfolios so as to limit consumed resources.
&gt; &gt;
&gt; &gt;
&gt; &gt; Yes, that is an additional complexity though, that doesn't buy
&gt; &gt; anything except some conformance to a pattern, without practical
&gt; &gt; benefit. It's sort of a quantum leap in complexity, to store off these
&gt; &gt; temporary resources and age them out properly.
&gt;
&gt; Hmm, to be clear, I was responding specifically to notion "presumably I
&gt; would then have to do an operation to remove the portfolio once I have a
&gt; result, sort of a very primitive garbage collection operation", which I
&gt; don't think *must* be true: the server can manage its own resources.  I
&gt; don't consider it to be the "quantum leap" of complexity to age out
&gt; transient resources, but the systems I've been working in recently have
&gt; made such things relatively easy.
&gt;

Well to me it's a quantum leap because I have to create a whole new
subsystem that I didn't need before,  to manage the lifecycle of those
transient documents. It's not all that hard in principle, but it's a
discrete subsystem I can do without.

&gt;
&gt; It is a bigger jump from just using POST to do the analysis to doing a
&gt; portfolio-POST + analysis-GET, but I don't know why you dismiss it as
&gt; "[just] conformance to some pattern" ... all architectures and designs
&gt; are conformance to a set of patterns.  It's not blind conformance, but
&gt; instead principled, done to achieve the advantages that the patterns
&gt; enable and knowing the disadvantages concomitantly imposed.
&gt;

"the advantages the patterns enable": In this particular case I could
not identify a single advantage.


&gt; If you're trying to operate under a strict interpretation of the HTTP
&gt; operations -- as James' original post (heh :) indicated -- then I think
&gt; you must exclude the "process-this" meaning of POST.

Process-this is broad enough to encompass executing a query, isn't it?

&gt; Also under that
&gt; interpretation, I don't see how one would get an analysis by anything
&gt; other than GET.  In an ideal world there's nothing preventing the entire
&gt; portfolio from being expressed in the GET, but there are practical
&gt; issues with that (RFC2616 definition of GET, client software's
&gt; URL-length handling, &amp;c.).  An alternative, then, is to have the
&gt; analysis-GET further identify a just-POSTed portfolio resource.  Another
&gt; alternative would be to POST a new analysis resource containing the
&gt; portfolio data, then GET that new analysis.  I'd consider those
&gt; alternatives listed in terms of their "bestness" according to my
&gt; world-view, but "best" is always subjective, especially on open-ended
&gt; problems.
&gt;
&gt; In any case, there are potentially practical benefits of the more
&gt; "complex" versions, mostly around cache control of both the portfolio
&gt; and analysis resources.  W.r.t. fundamentals, a portfolio that is a
&gt; proper resource can be properly cached, conditionally retrieved, or
&gt; itself be the output of some other process, &amp;c.  W.r.t reusability, the
&gt; portfolio resources are not tightly bound to the analysis, and can then
&gt; be used in other contexts.  W.r.t. evolvability, the facilities for both
&gt; creating and consuming portfolios can change independently of the
&gt; analysis operation, and vice-versa ... as well, the portfolio-related
&gt; resources are then full resources in their own right, and can be moved,
&gt; proxied, cached, &amp;c.  Again, a less open-ended question might preclude
&gt; some of (the viability of) those possibilities.


Agreed, if James wants cacheability, 303 is the way to go. And I guess
to fully repro the functionality of GET, the response would (or could)
be cacheable. So yes, if James would have intended the GET to be
cacheable, then he should return 303 from a POST and manage the temp
resource.

&gt;
&gt; Of course, James' primary concern might be implementation simplicity,
&gt; which is probably going to trump all those things.
&gt;

:) Simplicity is good!


&gt; ...jsled
&gt; --
&gt; http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5554<br>
Sender:Matt Garland &lt;mgvelvet@...&gt;<br>
Post Date/Time:2005-11-28 17:29:36<br>
Subject:Re: [rest-discuss] Long GET url (Newbie question)<br>
Message:<br><br>
<pre>On 11/25/05, Mark Baker &lt;distobj@...&gt; wrote:
&gt;
&gt; On 11/24/05, toydi &lt;teohuiming.work@...&gt; wrote:
&gt; &gt;  Hi Mark,
&gt; &gt;
&gt; &gt; On 11/25/05, Mark Baker &lt;distobj@...&gt; wrote:
&gt; &gt; &gt;  I know Roy and I have argued about this point, but I continue to believe
&gt; &gt; &gt; this to be somewhat "bad" as it exposes the client to the implementation
&gt; &gt; &gt; details of the server by assuming that the data in the POST response
&gt; &gt; &gt; constitutes a response to the query in the POST request.  Consider that with
&gt; &gt; &gt; such an assumption, one couldn't readily substitute another Web server and
&gt; &gt; &gt; still have it meet the same expectation.
&gt;
&gt;  I mean that if I POST "a=3" to a URI, and I get back "fred", in either the POST(a) or
&gt; POST(p) case, there's no relationship between the "4" and the "a=3" because neither
&gt; POST(a) nor POST(p) provide any visibility into that relationship.
&gt;
&gt;  So if a POST of "a=3" is used to query for "the names of all contained resources
&gt; whose property 'a' has value '3'", and the client interprets "fred" as such a name, then
&gt; that's an interpretation of the response message which isn't licensed by any
&gt; specification.

C: GET /foo/my/portfolio

S: 200 OK
S: &lt;form method="POST" action="/foo/analyzer"&gt;
S:   ...portfolio...
S:   &lt;input type="submit" value="Analyze" /&gt;
S: &lt;/form&gt;

C: POST /foo/analyzer
C: ...portfolio...

S: 200 OK
S: Content-Type: application/portfolio-analysis
S: ...

The response is identified as a portfolio analysis. And RFC 2616 seems
to allow me to assume that the entity in the 200 response is the
actual result of the POST:

    9.5 POST
       [...]
       The actual function performed by the POST method is determined by the
       server and is usually dependent on the Request-URI. [...]

       The action performed by the POST method might not result in a
       resource that can be identified by a URI. In this case, either 200
       (OK) or 204 (No Content) is the appropriate response status,
       depending on whether or not the response includes an entity that
       describes the result.

    10.2.1 200 OK

       The request has succeeded. The information returned with the response
       is dependent on the method used in the request, for example:

       GET    an entity corresponding to the requested resource is sent in
              the response;
       [...]
       POST   an entity describing or containing the result of the action;

I don't see a problem substituting another web server, as long as "the
actual function performed by the POST method" is the same for the
targeted Request-URI. What's missing?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5555<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-11-29 17:44:50<br>
Subject:Re: [rest-discuss] Long GET url (Newbie question)<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5556<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-11-29 17:58:20<br>
Subject:Re: [rest-discuss] RDFForms - parameterized POST to processors?<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5557<br>
Sender:Matt Garland &lt;mgvelvet@...&gt;<br>
Post Date/Time:2005-11-29 19:05:49<br>
Subject:Re: [rest-discuss] Long GET url (Newbie question)<br>
Message:<br><br>
<pre>On 11/29/05, Mark Baker &lt;distobj@...&gt; wrote:
&gt; On 11/28/05, Matt Garland &lt;mgvelvet@...&gt; wrote:
&gt; &gt;
&gt; &gt; I don't see a problem substituting another web server, as long as "the
&gt; &gt; actual function performed by the POST method" is the same for the
&gt; &gt; targeted Request-URI. What's missing?
&gt; &gt;
&gt;
&gt;  Why do you care if it's the same?  Does your client have, *gasp*, a
&gt; dependency on it?  What the server does with the POSTed content is an
&gt; implementation detail.

Actually, now that you mention it, I'm not sure it even matters if
"the actual function" remains the same. If the function changes, it's
not a problem for a well-designed client, because the client should
dispatch on Content-Type to interpret the response anyway.

For example, if the server returns Content-Type:
application/xhtml+xml, then the client will not treat the response as
an analysis of the submitted portfolio, but rather as an XHTML
document to be rendered.

On the other hand, if the server *does* return Content-Type:
application/portfolio-analysis, it seems perfectly within the spec for
the client to interpret that as an analysis of the POSTed portfolio.

You originally wrote (emphasis mine):

&gt; it exposes the client to the implementation details of the server by ***assuming that
&gt; the data in the POST response constitutes a response to the query in the POST
&gt; request***.
&gt; Consider that with such an assumption, one couldn't readily substitute
&gt; another Web server and still have it meet the same expectation.

The only expectation I see is that POST will return some kind of
response correlated to the request. That expectation would be met by
any web server, providing substitutability. All of the other client
expectations appear to be resting squarely on the status code and
Content-Type provided by the server.

The phrase I emphasized seems to imply that there is no correlation at
all between the request and the response, while RFC 2616 indicates
that the 200 response to a POST means the response body is "an entity
describing or containing the result of the action".

I do suppose there's nothing in that statement that indicates the
action triggered by a POST request has anything to do with the POST
request's body; is that what you're getting at?

C: POST /foo/portfolios/
C: Content-Type: application/portfolio
C: ...portfolio...

S: 201 Created
S: Location: http://example.com/foo/portfolios/42

Does the value of the Location header in that response have any
relationship at all to the portfolio in the body of the POST request?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5558<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-11-29 21:30:46<br>
Subject:Re: [rest-discuss] RDFForms - parameterized POST to processors?<br>
Message:<br><br>
<pre>Mark,

On Nov 29, 2005, at 6:58 PM, Mark Baker wrote:

&gt; I'm hesitant to support what you're asking for because it seems to  
&gt; introduce avoidable complexity.  The complexity is that the  
&gt; rdf:about value's semantics become ambiguous; for a Container, is  
&gt; the type declaration about the unparameterized URI (which it is,  
&gt; per RDF), or is it about the URI-with-query-param, which seems to  
&gt; be what you want since that's where the data will get POSTed.

Ah, you are right - killer argument :-)

&gt;
&gt; To avoid that complexity, you could either tack on some triples if  
&gt; what you're posting is RDF

Yes, thought about that, but I thought that would introduce a compile- 
time coupling between processor and submitter since there is no  
standard (as with indexParam) way to tell the submitter what triples  
to add.

Hmm...maybe this issue could be approached by seeing it as an  
'extended intent', where the parameterization is a specialization of  
the intend,not the processor. Just a thought though.

&gt; (or use whatever must-ignore extensibility mechanism your POSTed  
&gt; format has, if any).  If that's not an option, perhaps a multipart/ 
&gt; form-data approach could be used, which I suppose could use some  
&gt; first-class support in RDF Forms.

Do you have a use case for this in mind? Or just to cover it, too?

Thanks for the answers.

Jan


________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5559<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-11-29 21:42:53<br>
Subject:Re: [rest-discuss] Long GET url (Newbie question)<br>
Message:<br><br>
<pre>
On Nov 29, 2005, at 6:44 PM, Mark Baker wrote:

&gt; On 11/28/05, Matt Garland &lt;mgvelvet@...&gt; wrote:
&gt;
&gt; I don't see a problem substituting another web server, as long as "the
&gt; actual function performed by the POST method" is the same for the
&gt; targeted Request-URI. What's missing?
&gt;
&gt; Why do you care if it's the same?  Does your client have, *gasp*, a  
&gt; dependency on it?  What the server does with the POSTed content is  
&gt; an implementation detail.


This looks like the most dense way to capture the essence of the  
implications of the uniform interface constraint.

When I send some data to a service I cannot be sure what the service  
will do with it; I might have been given a clue before but if the  
assumption still holds is uncertain. Evolvability at its best!

Jan




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5560<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-11-29 22:36:53<br>
Subject:Re: [rest-discuss] Long GET url (Newbie question)<br>
Message:<br><br>
<pre>
On Nov 29, 2005, at 8:05 PM, Matt Garland wrote:

&gt; The only expectation I see is that POST will return some kind of
&gt; response correlated to the request.

'correlated to the request' means 'correlated to *the intent* of the  
request', right?
The problem is that HTTP provides no means to communicate to the  
server any such intent (extended semantics beyond 'process this').  
All you can expect is that the server will return some kind of  
response correlated to your request to just process you data.

If you successfully POSTed an order to some Web resource a while ago  
and today want to POST another one, do you

- POST again to the same resource because you bookmarked it from last  
time

or

- go to the site again, step through the application along the  
hyperlinks you will be given *today* until you are guided to the  
place to POST to *this time*?

The Web application has to tell you (or the non-human client  
component) at runtime where to send your data instead you you making  
assumptions about the nature of a resoource beyond the semantics od  
the uniform API.

It is this denial of assumptions of a client about a resource that  
makes it possible for the resources to evolve without breaking  
assumptions.

HTH

Jan




&gt; That expectation would be met by
&gt; any web server, providing substitutability. All of the other client
&gt; expectations appear to be resting squarely on the status code and
&gt; Content-Type provided by the server.
&gt;
&gt; The phrase I emphasized seems to imply that there is no correlation at
&gt; all between the request and the response, while RFC 2616 indicates
&gt; that the 200 response to a POST means the response body is "an entity
&gt; describing or containing the result of the action".
&gt;
&gt; I do suppose there's nothing in that statement that indicates the
&gt; action triggered by a POST request has anything to do with the POST
&gt; request's body; is that what you're getting at?
&gt;
&gt; C: POST /foo/portfolios/
&gt; C: Content-Type: application/portfolio
&gt; C: ...portfolio...
&gt;
&gt; S: 201 Created
&gt; S: Location: http://example.com/foo/portfolios/42
&gt;
&gt; Does the value of the Location header in that response have any
&gt; relationship at all to the portfolio in the body of the POST request?
&gt;

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5561<br>
Sender:Donald_Strong@...<br>
Post Date/Time:2005-11-29 23:35:10<br>
Subject:Re: [rest-discuss] Long GET url (Newbie question)<br>
Message:<br><br>
<pre>Hi Jan &amp; Mark Baker,

Is your point that a Client application should not perform, what might be
expressed as,
a "blind" post, ie. it should not just send some data to a URL without
first confirming that
the resource will accept the data. Just because the resource accepted a
particular
set of data last week does not mean that it will this week.

The equivalent in HTML is to GET the form, fill in the fields and then POST
the data to
the URL identified in the form. If the fields have changed then the user
will adjust their
input accordingly.

When implementing a REST style Web Service, the application should GET the
form,
construct an appropriate entity body (XML or whatever else) and POST the
entity body
to the URL identified in the form. In this case the form is a RDF form (or
perhaps a
microformat). It should not do a "blind" POST to the resource.

Is this the point you are trying to make?

Donald.



                                                                           
                                                                           
                                                                           
                                                                           





On Nov 29, 2005, at 8:05 PM, Matt Garland wrote:

&gt; The only expectation I see is that POST will return some kind of
&gt; response correlated to the request.

'correlated to the request' means 'correlated to *the intent* of the
request', right?
The problem is that HTTP provides no means to communicate to the
server any such intent (extended semantics beyond 'process this').
All you can expect is that the server will return some kind of
response correlated to your request to just process you data.

If you successfully POSTed an order to some Web resource a while ago
and today want to POST another one, do you

- POST again to the same resource because you bookmarked it from last
time

or

- go to the site again, step through the application along the
hyperlinks you will be given *today* until you are guided to the
place to POST to *this time*?

The Web application has to tell you (or the non-human client
component) at runtime where to send your data instead you you making
assumptions about the nature of a resoource beyond the semantics od
the uniform API.

It is this denial of assumptions of a client about a resource that
makes it possible for the resources to evolve without breaking
assumptions.

HTH

Jan




&gt; That expectation would be met by
&gt; any web server, providing substitutability. All of the other client
&gt; expectations appear to be resting squarely on the status code and
&gt; Content-Type provided by the server.
&gt;
&gt; The phrase I emphasized seems to imply that there is no correlation at
&gt; all between the request and the response, while RFC 2616 indicates
&gt; that the 200 response to a POST means the response body is "an entity
&gt; describing or containing the result of the action".
&gt;
&gt; I do suppose there's nothing in that statement that indicates the
&gt; action triggered by a POST request has anything to do with the POST
&gt; request's body; is that what you're getting at?
&gt;
&gt; C: POST /foo/portfolios/
&gt; C: Content-Type: application/portfolio
&gt; C: ...portfolio...
&gt;
&gt; S: 201 Created
&gt; S: Location: http://example.com/foo/portfolios/42
&gt;
&gt; Does the value of the Location header in that response have any
&gt; relationship at all to the portfolio in the body of the POST request?
&gt;

________________________________________________________________________
_______________
Jan Algermissen, Consultant &amp; Programmer
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'
http://www.tugboat.de








Yahoo! Groups Links









</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5562<br>
Sender:Matt Garland &lt;mgvelvet@...&gt;<br>
Post Date/Time:2005-11-29 23:53:31<br>
Subject:Re: [rest-discuss] Long GET url (Newbie question)<br>
Message:<br><br>
<pre>On 11/29/05, Jan Algermissen &lt;jalgermissen@...&gt; wrote:
&gt;
&gt; If you successfully POSTed an order to some Web resource a while ago
&gt; and today want to POST another one

&gt; - go to the site again, step through the application along the
&gt; hyperlinks you will be given *today* until you are guided to the
&gt; place to POST to *this time*?

I think a lot of people miss out on this idea, so I want to
acknowledge that it is a key to evolvability, as you pointed out. It's
the manifestation of "hypertext as the engine of application state" in
HTTP as I understand it. I even went to the trouble of including that
step in my original example:

C: GET /foo/my/portfolio

S: 200 OK
S: &lt;form method="POST" action="/foo/analyzer"&gt;
S:   ...portfolio...
S:   &lt;input type="submit" value="Analyze" /&gt;
S: &lt;/form&gt;

C: POST /foo/analyzer
C: ...portfolio...

S: 200 OK
S: Content-Type: application/portfolio-analysis
S: ...

So the question I'm addressing is within the context of a single
request-response pair (specifically the one beginning POST
/foo/analyzer).

Given that:
1. the server recently claimed that this resource analyzes portfolios
2. the server returns an application/portfolio-analysis when I submit
an application/portfolio to this resource

Can I assume that the portfolio analysis is for the submitted portfolio?

I think Mark is suggesting that I cannot make that assumption, but I
don't understand precisely why not, and thus I don't know what
additional work I would need to do to correctly correlate the
portfolio-analysis with the portfolio.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5563<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-11-30 05:26:08<br>
Subject:Re: [rest-discuss] Long GET url (Newbie question)<br>
Message:<br><br>
<pre>On 11/29/05, Matt Garland &lt;mgvelvet@...&gt; wrote:
&gt; Given that:
&gt; 1. the server recently claimed that this resource analyzes portfolios
&gt; 2. the server returns an application/portfolio-analysis when I submit
&gt; an application/portfolio to this resource
&gt;
&gt; Can I assume that the portfolio analysis is for the submitted portfolio?

AIUI, no, you can't assume that, you have to be told about it.  For
example, if the portfolio representation provided a URI for that
portfolio which the returned analysis referenced, then you'd know it. 
The association between request and response representations has to be
made by the representations, not by the protocol.

&gt; I think Mark is suggesting that I cannot make that assumption, but I
&gt; don't understand precisely why not, and thus I don't know what
&gt; additional work I would need to do to correctly correlate the
&gt; portfolio-analysis with the portfolio.

There ya go ...

Mark.
--
Mark Baker.  Ottawa, Ontario, CANADA.        http://www.markbaker.ca
Coactus; Web-inspired integration strategies   http://www.coactus.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5564<br>
Sender:Christian Jensen &lt;christianj@...&gt;<br>
Post Date/Time:2005-12-01 03:29:35<br>
Subject:Correct REST principles<br>
Message:<br><br>
<pre>Hi there,

I am considering starting a new project that will end up being AJAX 
enabled. I have XML-RPC, JSON and SOAP experience but want to give REST 
a shot...

I have 2 burning questions....

1. Is it considered bad taste to use parameters (i.e. ?id=1) within the 
URL? From what I have read it is but everyone seems to be doing it.
2. What is considered the standard practice for user authentication? As 
I understand it Sessions are supposed to be a thing of the past, but how 
would I work around that? Standard HTTP authentication?

Thanks in advance!
Christian



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5565<br>
Sender:Hugh Winkler &lt;hughw@...&gt;<br>
Post Date/Time:2005-12-01 04:13:06<br>
Subject:Re: [rest-discuss] Correct REST principles<br>
Message:<br><br>
<pre>On 11/30/05, Christian Jensen &lt;christianj@...&gt; wrote:
&gt; Hi there,
&gt;
&gt; I am considering starting a new project that will end up being AJAX
&gt; enabled. I have XML-RPC, JSON and SOAP experience but want to give REST
&gt; a shot...
&gt;
&gt; I have 2 burning questions....
&gt;
&gt; 1. Is it considered bad taste to use parameters (i.e. ?id=1) within the
&gt; URL? From what I have read it is but everyone seems to be doing it.

It's probably best practice if everything before the '?' identifies a
service and the query string after the '?' really is simply parameters
to that service. If the parameters really define a hierarchy you might
consider making them part of the service URI e.g.
/folders?name=pictures might be /folders/pictures. There's some
advantage in that  to whatever extent you can make your namespace
hierarchical, you can use relative URIs. Also there used to be some
caches that didn't handle query strings properly, and I don't know if
that behavior has improved over the last couple years.

&gt; 2. What is considered the standard practice for user authentication? As
&gt; I understand it Sessions are supposed to be a thing of the past, but how
&gt; would I work around that? Standard HTTP authentication?
&gt;

Right: sessions are bad. Use HTTP Basic authentication:
http://www.ietf.org/rfc/rfc2617.txt


&gt; Thanks in advance!
&gt; Christian
&gt;
&gt;

Hugh

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5566<br>
Sender:Yannick Loiseau &lt;yloiseau@...&gt;<br>
Post Date/Time:2005-12-01 09:40:29<br>
Subject:Re: [rest-discuss] Correct REST principles<br>
Message:<br><br>
<pre>

&gt; I have XML-RPC, JSON and SOAP experience but want to give REST
&gt; a shot...

AFAIK, you can use JSON in a Rest-style service, since Rest only defines
the architecture (i.e. communication, "invocation") of the service. The
resource representations can be in any format, including Javascrip. Rest
is not tied to Xml.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5567<br>
Sender:"Costello, Roger L." &lt;costello@...&gt;<br>
Post Date/Time:2005-12-01 15:42:28<br>
Subject:Re: [rest-discuss] Correct REST principles<br>
Message:<br><br>
<pre>&gt; 1. Is it considered bad taste to use parameters (i.e. ?id=1) within
the
&gt; URL? From what I have read it is but everyone seems to be doing it.

This is an excellent question, and has also been a question on my mind
of late.
 
My thinking is this: The sole purpose of a URL is to "identify" a
resource.  
 
Tim Berners-Lee Axiom 0: every resource on the Web shall be uniquely
identified by a URL.
 
For example, this (logical URL) identifies a 747 aircraft resource:
 
http://www.boeing.com/aircraft/747
 
If we agree that the sole purpose of a URL is to identify a resource,
then I cannot see why a person would ever use query strings.  If
information needs to be passed to the resource, then you must ask
"why?"  Are you wishing to update a resource?  If so, then you should
POST the information to the resource (and the resource is identified
using a logical URL without any query strings).
 
I am eager to hear what others are thinking on this topic.  /Roger
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5568<br>
Sender:Christian Jensen &lt;christianj@...&gt;<br>
Post Date/Time:2005-12-01 18:23:19<br>
Subject:Re: [rest-discuss] Correct REST principles<br>
Message:<br><br>
<pre>After a good nights rest :) I have a slightly better thought set - no 
query strings.

A query string seems to be a way to normalize a response, meaning: to 
take out the hierarchical ordering of the URL

The following makes sense: 
http://[host]//[universe]/[galaxy]/[system]/[planet] but then what do 
you do with the latitude and longitude?

It is a toss up:
http://[host]///[universe]/[galaxy]/[system]/[planet]/[latitude]/[longitude]
or
http://[host]///[universe]/[galaxy]/[system]/[planet]/[longitude]/[latitude]

Either works, but which one is correct? They are both equally ranked and 
are not at all hierarchical.

Using a query string paradigm you would simple add 
?latitude=90.0&amp;longitude=12.0

But I propose the following: 
http://[host]///[universe]/[galaxy]/[system]/[planet]/90.0%2012.0

I am considering using a space (%20) because it is easily parsed. I am 
using latitude first because that is how we say it in natural language. 
So what happens if you need to do an actual query string - how would you 
RESTify Google search page? ../query/my%20search seems totally broken 
and really does not describe what the URL is... I will do more thinking 
on this - anyone have an answer?

This brings up 2 additional points: what is this URLs type - I am an 
advocate of having the HTTP mime type specified as the data is retrieved 
(as opposed to the file extension dictating the mime). The second point 
is something that I have always had a pet peeve about - the trailing 
slash - a URL should never have a trailing slash. If there is a trailing 
slash, the inference is made by the web server - index.html, index.php, 
default.aspx - whatever - this in my opinion is faulty - a URL should 
say what it means and mean what it says. Am I among like believers?

In my example, I never indicated with the URL exactly the classification 
of the service (with a /photos/ or a /heightmaps/ etc.). Personally, I 
feel that a URL should be self discovering, that is to says that if I 
were to trim down the URL down to just 
http://[host]///[universe]/[galaxy]/[system]/[planet] the data would be 
something that allows me to further progress, my initial proposition is 
to use RDF for this. So in this example, the RDF would shoot back a list 
of URLs that are under this one and describe them.

Thoughts? Am I on the right path?

Costello, Roger L. wrote:

&gt; &gt; 1. Is it considered bad taste to use parameters (i.e. ?id=1) within the
&gt; &gt; URL? From what I have read it is but everyone seems to be doing it.
&gt;
&gt; This is an excellent question, and has also been a question on my mind 
&gt; of late.
&gt;  
&gt; My thinking is this: The sole purpose of a URL is to "identify" a 
&gt; resource. 
&gt;  
&gt; Tim Berners-Lee Axiom 0: every resource on the Web shall be uniquely 
&gt; _identified_ by a URL.
&gt;  
&gt; For example, this (logical URL) identifies a 747 aircraft resource:
&gt;  
&gt; http://www.boeing.com/aircraft/747
&gt;  
&gt; If we agree that the sole purpose of a URL is to identify a resource, 
&gt; then I cannot see why a person would ever use query strings.  If 
&gt; information needs to be passed to the resource, then you must ask 
&gt; "why?"  Are you wishing to update a resource?  If so, then you should 
&gt; POST the information to the resource (and the resource is identified 
&gt; using a logical URL without any query strings).
&gt;  
&gt; I am eager to hear what others are thinking on this topic.  /Roger
&gt;
&gt; ------------------------------------------------------------------------
&gt; YAHOO! GROUPS LINKS
&gt;
&gt;     *  Visit your group "rest-discuss
&gt;       &lt;http://groups.yahoo.com/group/rest-discuss&gt;" on the web.
&gt;        
&gt;     *  To unsubscribe from this group, send an email to:
&gt;        rest-discuss-unsubscribe@yahoogroups.com
&gt;       &lt;mailto:rest-discuss-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;
&gt;        
&gt;     *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of
&gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.
&gt;
&gt;
&gt; ------------------------------------------------------------------------
&gt;
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5569<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-12-02 06:18:05<br>
Subject:RE: [rest-discuss] Correct REST principles<br>
Message:<br><br>
<pre>There's been a lot of discussion on this point &amp; my opinion is that the full
URI is inclusive of the query terms. The query terms are actually part of
identifying the resource (I also believe the specification indicates this as
well - http://www.gbiv.com/protocols/uri/rfc/rfc3986.html). The text string
can be considered opaque by a lot of software applications, and other
applications pull data out of portions of the URI regardless of where in
that text string it is - path segments, segment parameters or query terms.
 



  _____  

From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On
Behalf Of Costello, Roger L.
Sent: Thursday, December 01, 2005 7:42 AM
To: rest-discuss@yahoogroups.com
Subject: Re: [rest-discuss] Correct REST principles


&gt; 1. Is it considered bad taste to use parameters (i.e. ?id=1) within the
&gt; URL? From what I have read it is but everyone seems to be doing it.

This is an excellent question, and has also been a question on my mind of
late.
 
My thinking is this: The sole purpose of a URL is to "identify" a resource.

 
Tim Berners-Lee Axiom 0: every resource on the Web shall be uniquely
identified by a URL.
 
For example, this (logical URL) identifies a 747 aircraft resource:
 
http://www.boeing.com/aircraft/747
 
If we agree that the sole purpose of a URL is to identify a resource, then I
cannot see why a person would ever use query strings.  If information needs
to be passed to the resource, then you must ask "why?"  Are you wishing to
update a resource?  If so, then you should POST the information to the
resource (and the resource is identified using a logical URL without any
query strings).
 
I am eager to hear what others are thinking on this topic.  /Roger

  _____  

YAHOO! GROUPS LINKS 


	
*	 Visit your group "rest-discuss
&lt;http://groups.yahoo.com/group/rest-discuss&gt; " on the web.
  

*	 To unsubscribe from this group, send an email to:
 rest-discuss-unsubscribe@yahoogroups.com
&lt;mailto:rest-discuss-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt; 
  

*	 Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service
&lt;http://docs.yahoo.com/info/terms/&gt; . 


  _____  


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5570<br>
Sender:Donald_Strong@...<br>
Post Date/Time:2005-12-02 06:43:39<br>
Subject:Re: [rest-discuss] Correct REST principles<br>
Message:<br><br>
<pre>Hi Roger and Christian,

&gt; If we agree that the sole purpose of a URL is to identify a resource,
&gt; then I cannot see why a person would ever use query strings.
&gt;  If information needs to be passed to the resource, then you must
&gt; ask "why?"  Are you wishing to update a resource?  If so, then you
&gt; should POST the information to the resource (and the resource is
&gt; identified using a logical URL without any query strings).

A query URL (ie. a URL that contains a query path) is useful in a
web service for the same reason it is useful in HTML; It allows the
User Agent to construct a URL according to a specification provided by
the Origin Server. The User Agent can then GET the representation
with a high expectation that the URL will be understood and accepted.

I have likened this, in the past, to asking a question of the resource.
This makes sense if the resource that provided the form (input
specification)
is the same one the form is submitted to, eg.

GET http://acme.com/aircraft

&lt;form action="/aircraft"&gt;
      &lt;input type="text" name="manufacturer"/&gt;
      &lt;input type="text" name="pax_capacity"/&gt;
&lt;/form&gt;

GET http://acme.com/aircraft?manufacturer=Boeing&amp;pax_capacity=300


&gt; But I propose the following: http://[host
]///[universe]/[galaxy]/[system]/[planet]/90.0%2012.0

I have also suggested using segment parameters in the past.

http://acme.com/universe/milkyway/sol/earth/lat=90.0;long=12.0/30000

This has the advantage that more segments can be used after the params.
In this case I have specified a height or 30000 feet.

Donald.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5571<br>
Sender:Christian Jensen &lt;christianj@...&gt;<br>
Post Date/Time:2005-12-02 08:38:57<br>
Subject:Re: [rest-discuss] Correct REST principles<br>
Message:<br><br>
<pre>First off - just for kicks I clicked the URL :) pretty funny.

REST performed by JSON, HTTP Authentication tied to PHP - that is my target.

JSON is clean and lightweight as well as HTTP Authentication, the PHP 
side of things is clean and moderately lightweight.

The part I am having a tiny struggle with is the representation of the 
URI that is passed to PHP. The nodes between the slashes are to indicate 
the hierachy and need to be easily parsed, in the same general feeling 
that JSON is virtually a native parsing.

I would love to simply explode() the path, send the entire array down 
into the top of a handler and any sub processing handle within, 
returning a final datastream (RDF, JSON, XML etc.)

Such as this:

http://acme.com/universe/milkyway/sol/earth/lat=90.0;long=12.0/30000

becomes (sparing the quotes):

$exploded_array = [universe, milkyway, sol, earth, lat=90.0;long=12.0, 
30000]

Instead of plucking out each value and sending off to a function, I am 
thinking that I might do:

&lt;?

require_once('inc.functions.php');

$exploded_array = $_SERVER['REQUEST_URI'];

$scheme = 'http://'; // normally build this from parse_url
$host = 'acme.com';
$base = Array();
$result = process($exploded_array, $scheme, $host, $base)

header('Content-Type: ' . $result['mime']);
print $result['data'];
?&gt;

The "process" function would simply take off the first item off the 
array and pass the remaining to another function. If there were no other 
array elements (it is the target of the URI), then it would go ahead and 
return the appropriate mime type and data to be sent back to the requester.

function process($array, $scheme, $host, $base) {
    $this_item = array_shift($array);
    $base = array_push($this_item);
    if(count($array)) {
       switch($this_item) {
            case 'universe':
                processGalaxy($array, $scheme, $host, $base);
            case 'omniverse':
                processOtherUniverseType($array, $scheme, $host, $base);
            default:
                throw new Exception('The specified Alternate Universe is 
not supported');
       }
    } else {
       $galaxies = Array();

       $temp = Array();
       $temp['display'] = 'Milkyway';
       $temp['xlink'] = glue_url($scheme, $host, $base, 'milkyway');
       $galaxies[] = $temp;

       $temp = Array();
       $temp['display'] = 'Whirlpool (M51)';
       $temp['xlink'] = glue_url($scheme, $host, $base, 'M51');
       $galaxies[] = $temp;

       return Array(;
    }
}

Based on your example, the latitude and longitude would be double 
parsed, first to split at the ';' and then on the '='. After some 
though, all that specific parsing is not necessary and does not allow 
any sort of nesting beyond one level, more tokens would have to be 
specified per level. Consider this, there is no latitude or longitude 
designation at all, rather, use URL encoding to nest further processing, 
such as this: 90.0%2F12.0, this would allow the next function to simply 
URL Decode it and determine what it needs to do with it, further nesting 
could be achieved by url encoding an already URL encoded string, at each 
step in the processing it would naturally unravel.

It may even be worthwhile to simply urlencode JSON data for any given 
node, that way a full datastructure could be passed if necessary, ableit 
making the URL super long :)

The ultimate goal of all this is to remove the dang ? and &amp; monikers. 
Those routinely cause issues with Proxy servers, which we want to 
maximize the use of. Without sessions and without having to worry about 
the data chaning under our nose because the data point should either be 
static or have the 'if modified since' flags enabled. This in its very 
nature means that the PHP will have to respond appropirately to HEAD 
requests.

That is all for now :)

Christian

Donald_Strong@... wrote:

&gt; Hi Roger and Christian,
&gt;
&gt; &gt; If we agree that the sole purpose of a URL is to identify a resource,
&gt; &gt; then I cannot see why a person would ever use query strings.
&gt; &gt;  If information needs to be passed to the resource, then you must
&gt; &gt; ask "why?"  Are you wishing to update a resource?  If so, then you
&gt; &gt; should POST the information to the resource (and the resource is
&gt; &gt; identified using a logical URL without any query strings).
&gt;
&gt; A query URL (ie. a URL that contains a query path) is useful in a
&gt; web service for the same reason it is useful in HTML; It allows the
&gt; User Agent to construct a URL according to a specification provided by
&gt; the Origin Server. The User Agent can then GET the representation
&gt; with a high expectation that the URL will be understood and accepted.
&gt;
&gt; I have likened this, in the past, to asking a question of the resource.
&gt; This makes sense if the resource that provided the form (input
&gt; specification)
&gt; is the same one the form is submitted to, eg.
&gt;
&gt; GET http://acme.com/aircraft
&gt;
&gt; &lt;form action="/aircraft"&gt;
&gt;       &lt;input type="text" name="manufacturer"/&gt;
&gt;       &lt;input type="text" name="pax_capacity"/&gt;
&gt; &lt;/form&gt;
&gt;
&gt; GET http://acme.com/aircraft?manufacturer=Boeing&amp;pax_capacity=300 
&gt; &lt;http://acme.com/aircraft?manufacturer=Boeing&amp;pax_capacity=300&gt;
&gt;
&gt;
&gt; &gt; But I propose the following: http://[host &lt;http://%5Bhost&gt;
&gt; ]///[universe]/[galaxy]/[system]/[planet]/90.0%2012.0
&gt;
&gt; I have also suggested using segment parameters in the past.
&gt;
&gt; http://acme.com/universe/milkyway/sol/earth/lat=90.0;long=12.0/30000
&gt;
&gt; This has the advantage that more segments can be used after the params.
&gt; In this case I have specified a height or 30000 feet.
&gt;
&gt; Donald.
&gt;
&gt;
&gt; ------------------------------------------------------------------------
&gt; YAHOO! GROUPS LINKS
&gt;
&gt;     *  Visit your group "rest-discuss
&gt;       &lt;http://groups.yahoo.com/group/rest-discuss&gt;" on the web.
&gt;        
&gt;     *  To unsubscribe from this group, send an email to:
&gt;        rest-discuss-unsubscribe@yahoogroups.com
&gt;       &lt;mailto:rest-discuss-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;
&gt;        
&gt;     *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of
&gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.
&gt;
&gt;
&gt; ------------------------------------------------------------------------
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5572<br>
Sender:"Justin T. Sampson" &lt;justin@...&gt;<br>
Post Date/Time:2005-12-02 08:43:14<br>
Subject:RE: [rest-discuss] Correct REST principles<br>
Message:<br><br>
<pre>Donald Strong wrote:

&gt; &gt; But I propose the following:
&gt; &gt; http://[host]/[universe]/[galaxy]/[system]/[planet]/90.0%2012.0

Comma is also legal, by the way: .../90.0,12.0

&gt; I have also suggested using segment parameters in the past.
&gt; 
&gt; http://acme.com/universe/milkyway/sol/earth/lat=90.0;long=12.0/30000
&gt; 
&gt; This has the advantage that more segments can be used after the
&gt; params. In this case I have specified a height or 30000 feet.

It occurs to me that the path part works particularly well for
anything that's worth naming individually. While every point in
space could be considered a meaningful resource, not every point
is really worth naming. Also notice that we're starting to deal
with *approximate* values here. The most useful thing to do when
given a pair of approximate coordinates might be to produce a list
of things worth naming approximately at or near those coordinates.
In this case, putting the coordinates in the query string makes
perfect sense, with the response then actually naming interesting
sites such as...

== User-Agent ==
GET http://.../universe/milkyway/sol/earth/?lat=90.0&amp;long=12.0
== Server ==
200

http://.../universe/milkyway/sol/earth/whitehouse (1000 miles)
http://.../universe/milkyway/sol/earth/kremlin (10000 miles)
http://.../universe/milkyway/sol/earth/tajmahal (15000 miles)
== end ==

But of course if the application really wants to name every point
in space, any of the above syntaxes is fine.

(I waffle about the trailing slash; it's really just an aesthetic
thing, but it gives some suggestion of a resource being a
collection, and it does make relative URIs more convenient.)

Cheers,
Justin


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5573<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2005-12-06 20:46:41<br>
Subject:REST and sessions<br>
Message:<br><br>
<pre>Hi folks,

I'm new to REST.  It sounds intriguing, but I don't see a lot of 
examples out there.  I'm wondering how best to handle sessions.  For 
example, a user logs in via a login page, then works within the context 
of that session, then logs out (or times out).  Could someone give an 
example what HTTP requests would be involved?

I suppose the session ID would become part of the URL.  Couldn't that 
create a security risk?

Would you embed the session ID as a hidden field in the login page, so 
that it would get submitted when the user logs in?

Thanks!

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5574<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-12-06 22:01:24<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>Hi Lyle,

I think the best way to start digging yourself through this (and  
related issues) is a bit of initial reading to get you started.

Start here:

http://rest.blueoxen.net/cgi-bin/wiki.pl?StateFaq
http://www.ics.uci.edu/~fielding/pubs/dissertation/ 
rest_arch_style.htm#sec_5_1_3
(And work yourself through the dissertation from there ...it's a must- 
read)

And for a discussion in a general distributed systems context see here:

http://www.jalgermissen.com/blog/state_is_hell.html

Hope that provides an initial help.

Jan

(As you might have guessed already....NO!! session state in REST :o)
...make your sessions resources instead....)




On Dec 6, 2005, at 9:46 PM, Lyle Kopnicky wrote:

&gt; Hi folks,
&gt;
&gt; I'm new to REST.  It sounds intriguing, but I don't see a lot of
&gt; examples out there.  I'm wondering how best to handle sessions.  For
&gt; example, a user logs in via a login page, then works within the  
&gt; context
&gt; of that session, then logs out (or times out).  Could someone give an
&gt; example what HTTP requests would be involved?
&gt;
&gt; I suppose the session ID would become part of the URL.  Couldn't that
&gt; create a security risk?
&gt;
&gt; Would you embed the session ID as a hidden field in the login page, so
&gt; that it would get submitted when the user logs in?
&gt;
&gt; Thanks!
&gt;
&gt; -- 
&gt; Lyle Kopnicky
&gt; Software Project Engineer
&gt; Veicon Technology, Inc.
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; ------------------------ Yahoo! Groups Sponsor -------------------- 
&gt; ~--&gt;
&gt; Get Bzzzy! (real tools to help you find a job). Welcome to the  
&gt; Sweet Life.
&gt; http://us.click.yahoo.com/KIlPFB/vlQLAA/TtwFAA/W6uqlB/TM
&gt; -------------------------------------------------------------------- 
&gt; ~-&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5575<br>
Sender:Christian Jensen &lt;christianj@...&gt;<br>
Post Date/Time:2005-12-07 00:02:28<br>
Subject:RE: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>REST does not use Session IDs - period.

 

The entire request describes the entire transaction. The mechanism to use
instead is HTTP authentication, preferably Digest, but Basic if that is all
you have. This does not mean that you have to use the ugly browser dialog
box either - you can send the correct headers with the server app.

 

I am building a REST based subsystem that incorporates various pluggable
UIs. no promises yet, but I like it. I am thinking of publishing it when I
am done.

 

Christian

 

P.S. If you don't use Session IDs, you don't have to worry about session
management. When using an AJAX based environment, you front load the data
storage onto the browser, any sensitive data is maintained in a stateless
manner that is able to be requested by the URI. If you build your system
with correct object modeling, this should be a side effect.

 

  _____  

From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On
Behalf Of Lyle Kopnicky
Sent: Tuesday, December 06, 2005 12:47 PM
To: rest-discuss@yahoogroups.com
Subject: [rest-discuss] REST and sessions

 

Hi folks,

I'm new to REST.  It sounds intriguing, but I don't see a lot of 
examples out there.  I'm wondering how best to handle sessions.  For 
example, a user logs in via a login page, then works within the context 
of that session, then logs out (or times out).  Could someone give an 
example what HTTP requests would be involved?

I suppose the session ID would become part of the URL.  Couldn't that 
create a security risk?

Would you embed the session ID as a hidden field in the login page, so 
that it would get submitted when the user logs in?

Thanks!

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.






SPONSORED LINKS 


Protocol
&lt;http://groups.yahoo.com/gads?t=ms&amp;k=Protocol+analyzer&amp;w1=Protocol+analyzer&amp;
w2=Ssl+protocol&amp;w3=Protocol+converter&amp;w4=Sip+protocol&amp;w5=Protocol+analysis&amp;w
6=Protocol&amp;c=6&amp;s=120&amp;.sig=-vNi0F9sGxz3wJiUypOlsA&gt;  analyzer 

Ssl
&lt;http://groups.yahoo.com/gads?t=ms&amp;k=Ssl+protocol&amp;w1=Protocol+analyzer&amp;w2=Ss
l+protocol&amp;w3=Protocol+converter&amp;w4=Sip+protocol&amp;w5=Protocol+analysis&amp;w6=Pro
tocol&amp;c=6&amp;s=120&amp;.sig=QcUDWIbIdXkmz4QSFhqszw&gt;  protocol 

Protocol
&lt;http://groups.yahoo.com/gads?t=ms&amp;k=Protocol+converter&amp;w1=Protocol+analyzer
&amp;w2=Ssl+protocol&amp;w3=Protocol+converter&amp;w4=Sip+protocol&amp;w5=Protocol+analysis&amp;
w6=Protocol&amp;c=6&amp;s=120&amp;.sig=8MMcEvfzdk5saYSJv-2g3g&gt;  converter 


Sip
&lt;http://groups.yahoo.com/gads?t=ms&amp;k=Sip+protocol&amp;w1=Protocol+analyzer&amp;w2=Ss
l+protocol&amp;w3=Protocol+converter&amp;w4=Sip+protocol&amp;w5=Protocol+analysis&amp;w6=Pro
tocol&amp;c=6&amp;s=120&amp;.sig=X7aZ6IACnEQUtAC57u829w&gt;  protocol 

Protocol
&lt;http://groups.yahoo.com/gads?t=ms&amp;k=Protocol+analysis&amp;w1=Protocol+analyzer&amp;
w2=Ssl+protocol&amp;w3=Protocol+converter&amp;w4=Sip+protocol&amp;w5=Protocol+analysis&amp;w
6=Protocol&amp;c=6&amp;s=120&amp;.sig=SI1LEHwb69y6gddZAv_Fuw&gt;  analysis 

Protocol
&lt;http://groups.yahoo.com/gads?t=ms&amp;k=Protocol&amp;w1=Protocol+analyzer&amp;w2=Ssl+pr
otocol&amp;w3=Protocol+converter&amp;w4=Sip+protocol&amp;w5=Protocol+analysis&amp;w6=Protoco
l&amp;c=6&amp;s=120&amp;.sig=aCiMFP0b3kFn96wqrZacGA&gt;  

 

  _____  

YAHOO! GROUPS LINKS 

 

*	 Visit your group "rest-discuss
&lt;http://groups.yahoo.com/group/rest-discuss&gt; " on the web.
  
*	 To unsubscribe from this group, send an email to:
 rest-discuss-unsubscribe@yahoogroups.com
&lt;mailto:rest-discuss-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt; 
  
*	 Your use of Yahoo! Groups is subject to the Yahoo!
&lt;http://docs.yahoo.com/info/terms/&gt;  Terms of Service. 

 

  _____  

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5576<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-12-07 00:16:08<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>Christian Jensen wrote:

&gt; This does not mean that you have to use the ugly browser dialog box 
&gt; either  you can send the correct headers with the server app.
&gt;

What workaround for the ugly browser dialog are you using, Christian? I 
didn't know a clean solution existed yet.

Thanks.

- Lucas




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5577<br>
Sender:Christian Jensen &lt;christianj@...&gt;<br>
Post Date/Time:2005-12-07 00:19:28<br>
Subject:RE: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>What server side language are you using? I might be able to provide a
language specific example.

-----Original Message-----
From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On
Behalf Of Lucas Gonze
Sent: Tuesday, December 06, 2005 4:16 PM
To: Christian Jensen
Cc: 'Lyle Kopnicky'; rest-discuss@yahoogroups.com
Subject: Re: [rest-discuss] REST and sessions

Christian Jensen wrote:

&gt; This does not mean that you have to use the ugly browser dialog box 
&gt; either - you can send the correct headers with the server app.
&gt;

What workaround for the ugly browser dialog are you using, Christian? I 
didn't know a clean solution existed yet.

Thanks.

- Lucas






 
Yahoo! Groups Links



 




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5578<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2005-12-07 00:21:19<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>Christian Jensen wrote:

&gt;What server side language are you using? I might be able to provide a
&gt;language specific example.
&gt;  
&gt;

PHP is my default.

One instant payoff of having a solution is that XSS attacks couldn't 
grab auth info in cookies.

&gt;Christian Jensen wrote:
&gt;
&gt;  
&gt;
&gt;&gt;This does not mean that you have to use the ugly browser dialog box 
&gt;&gt;either - you can send the correct headers with the server app.
&gt;&gt;
&gt;&gt;    
&gt;&gt;
&gt;
&gt;What workaround for the ugly browser dialog are you using, Christian? I 
&gt;didn't know a clean solution existed yet.
&gt;  
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5579<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2005-12-07 00:20:25<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>Christian Jensen wrote:

&gt;What server side language are you using? I might be able to provide a
&gt;language specific example.
&gt;  
&gt;
I'm using Perl on the server side.

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5580<br>
Sender:Christian Jensen &lt;christianj@...&gt;<br>
Post Date/Time:2005-12-07 03:39:08<br>
Subject:RE: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>I thought I would have more time to write up an example but here is the gist
of it:

If you go and look at the parameters of the 'open' method of the
XMLHTTPRequest object you will find the last two are specifically designed
for this purpose:

open("method", "URL"[, asyncFlag[, "userName"[, "password"]]])

The username and password are stored in a local cookie that expires with the
browser. The response handler needs to be able to handle 401 response codes
instead of just the plain jane 200. 

-----Original Message-----
From: Lucas Gonze [mailto:lgonze@...] 
Sent: Tuesday, December 06, 2005 4:21 PM
To: Christian Jensen
Cc: lucas@...; 'Lyle Kopnicky'; rest-discuss@yahoogroups.com
Subject: Re: [rest-discuss] REST and sessions

Christian Jensen wrote:

&gt;What server side language are you using? I might be able to provide a
&gt;language specific example.
&gt;  
&gt;

PHP is my default.

One instant payoff of having a solution is that XSS attacks couldn't 
grab auth info in cookies.

&gt;Christian Jensen wrote:
&gt;
&gt;  
&gt;
&gt;&gt;This does not mean that you have to use the ugly browser dialog box 
&gt;&gt;either - you can send the correct headers with the server app.
&gt;&gt;
&gt;&gt;    
&gt;&gt;
&gt;
&gt;What workaround for the ugly browser dialog are you using, Christian? I 
&gt;didn't know a clean solution existed yet.
&gt;  
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5581<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2005-12-07 14:27:43<br>
Subject:RE: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>On Tue, 2005-12-06 at 19:39 -0800, Christian Jensen wrote:
&gt; I thought I would have more time to write up an example but here is the gist
&gt; of it:
&gt; 
&gt; If you go and look at the parameters of the 'open' method of the
&gt; XMLHTTPRequest object you will find the last two are specifically designed
&gt; for this purpose:
&gt; 
&gt; open("method", "URL"[, asyncFlag[, "userName"[, "password"]]])
&gt; 
&gt; The username and password are stored in a local cookie that expires with the
&gt; browser. The response handler needs to be able to handle 401 response codes
&gt; instead of just the plain jane 200. 

Hmm.  Does the browser then use those authentication credentials for
subsequent requests?

...jsled
-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5582<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2005-12-07 18:35:51<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>Christian Jensen wrote:

&gt;I thought I would have more time to write up an example but here is the gist
&gt;of it:
&gt;
&gt;If you go and look at the parameters of the 'open' method of the
&gt;XMLHTTPRequest object you will find the last two are specifically designed
&gt;for this purpose:
&gt;
&gt;open("method", "URL"[, asyncFlag[, "userName"[, "password"]]])
&gt;  
&gt;
So this method would be called from the login page?  After the user 
enters login info and presses the login button?

&gt;The username and password are stored in a local cookie that expires with the
&gt;browser. The response handler needs to be able to handle 401 response codes
&gt;instead of just the plain jane 200. 
&gt;  
&gt;
Thanks - but how does this information get into the cookie?

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5583<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-12-07 20:35:54<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>
On Dec 7, 2005, at 3:27 PM, Josh Sled wrote:

&gt;
&gt; Hmm.  Does the browser then use those authentication credentials for
&gt; subsequent requests?

AFAIK, yes, it does.

You can use this to use JavaScript to alter the credentials sent for  
a given realm....(for whatever reasons one might want that)

Jan




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5584<br>
Sender:"Costello, Roger L." &lt;costello@...&gt;<br>
Post Date/Time:2005-12-09 14:30:17<br>
Subject:Best Practice for URI construction?<br>
Message:<br><br>
<pre>Hi Folks,
 
A URI is used to "identify" a resource:
 
A Uniform Resource Identifier (URI) is a compact sequence of characters
that identifies an abstract or physical resource.[1]
 
I would like to bound the following discussion by considering just URLs
that use the http scheme.
 
As I see it, there are two main approaches to constructing a URL to
identify a resource:
 
Approach 1. URL Construction using Parent/Child Relationships
 
Here's an example of a URL that uses this approach:
 
http://www.location.org/US/MA/Boston
 
After the [host] (www.location.org &lt;http://www.location.org/&gt; ) there
are a series of slash-delimited names.  The name to the left of a slash
is the parent.  The name to the right of a slash is the child.
 
Approach 2. URL Construction using Key-Value Pairs plus Conjunction
 
This second approach is exemplified with this URL:
 
http://www.location.org?country=US&amp;state=MA&amp;city=Boston
&lt;http://www.location.org/?country=US&amp;state=MA&amp;city=Boston&gt; 
 
After the [host] there is the query string delimiter (?) followed by
one or more key=value pairs ANDed together.
 
Hybrids of the above two approaches are also possible.  For example:
 
http://www.location.org/US/MA?city=Boston
 
Questions
 
(1) The above URLs (I believe) are expressing the same thing - they are
identifying the same resource.  So which is "better"?
 
(2) As was noted at the top, the purpose of a URL is to "identify" a
resource.  Can every resource in the universe be identified using the
above two approaches?  Are there resources that do not lend themselves
to identification using the above two approaches?
 
/Roger
 
[1] http://www.gbiv.com/protocols/uri/rfc/rfc3986.html
&lt;http://www.gbiv.com/protocols/uri/rfc/rfc3986.html&gt; 
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5585<br>
Sender:Christian Jensen &lt;christianj@...&gt;<br>
Post Date/Time:2005-12-09 17:01:27<br>
Subject:Re: [rest-discuss] Best Practice for URI construction?<br>
Message:<br><br>
<pre>I personnally go for the no query string route only for the reason that 
certain proxies re-request a fresh copy of the data whenever it detects 
a query string.

If the data in fact needs to get a fresh copy, the no-cache header 
should be sent with the original data set.

However, I am finding that this is not the way the rest of the world 
thinks. Most of the world considers the query string route just as 
viable. It seems broken to me.

This begs the question, at least for me - if you don't use a query 
string, then why does it exist? I don't have an answer yet, which means 
that it might just be viable after all.

Christian

Costello, Roger L. wrote:

&gt; Hi Folks,
&gt;  
&gt; A URI is used to "identify" a resource:
&gt;  
&gt; /A Uniform Resource Identifier (URI) is a compact sequence of 
&gt; characters that _identifies_ an abstract or physical resource./[1]
&gt;  
&gt; I would like to bound the following discussion by considering just 
&gt; URLs that use the http scheme.
&gt;  
&gt; As I see it, there are two main approaches to constructing a URL to 
&gt; identify a resource:
&gt;  
&gt; *Approach 1. URL Construction using Parent/Child Relationships*
&gt;  
&gt; Here's an example of a URL that uses this approach:
&gt;  
&gt; http://www.location.org/US/MA/Boston
&gt;  
&gt; After the [host] (www.location.org &lt;http://www.location.org/&gt;) 
&gt; there are a series of slash-delimited names.  The name to the left 
&gt; of a slash is the parent.  The name to the right of a slash is the child.
&gt;  
&gt; *Approach 2. URL Construction using Key-Value Pairs plus Conjunction*
&gt;  
&gt; This second approach is exemplified with this URL:
&gt;  
&gt; http://www.location.org?country=US&amp;state=MA&amp;city=Boston 
&gt; &lt;http://www.location.org/?country=US&amp;state=MA&amp;city=Boston&gt;
&gt;  
&gt; After the [host] there is the query string delimiter (?) followed by 
&gt; one or more key=value pairs ANDed together.
&gt;  
&gt; Hybrids of the above two approaches are also possible.  For example:
&gt;  
&gt; http://www.location.org/US/MA?city=Boston
&gt;  
&gt; *Questions*
&gt;  
&gt; (1) The above URLs (I believe) are expressing the same thing - they 
&gt; are identifying the same resource.  So which is "better"?
&gt;  
&gt; (2) As was noted at the top, the purpose of a URL is to "identify" a 
&gt; resource.  Can every resource in the universe be identified using the 
&gt; above two approaches?  Are there resources that do not lend themselves 
&gt; to identification using the above two approaches?
&gt;  
&gt; /Roger
&gt;  
&gt; [1] http://www.gbiv.com/protocols/uri/rfc/rfc3986.html
&gt;
&gt; ------------------------------------------------------------------------
&gt; YAHOO! GROUPS LINKS
&gt;
&gt;     *  Visit your group "rest-discuss
&gt;       &lt;http://groups.yahoo.com/group/rest-discuss&gt;" on the web.
&gt;        
&gt;     *  To unsubscribe from this group, send an email to:
&gt;        rest-discuss-unsubscribe@yahoogroups.com
&gt;       &lt;mailto:rest-discuss-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;
&gt;        
&gt;     *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of
&gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.
&gt;
&gt;
&gt; ------------------------------------------------------------------------
&gt;
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5586<br>
Sender:Joe Gregorio &lt;joe.gregorio@...&gt;<br>
Post Date/Time:2005-12-09 18:25:58<br>
Subject:Re: [rest-discuss] Best Practice for URI construction?<br>
Message:<br><br>
<pre>On 12/9/05, Costello, Roger L. &lt;costello@...&gt; wrote:
&gt;
&gt;
&gt; Hi Folks,
&gt;
&gt; A URI is used to "identify" a resource:
&gt;
&gt; A Uniform Resource Identifier (URI) is a compact sequence of characters that
&gt; identifies an abstract or physical resource.[1]
&gt;
&gt; I would like to bound the following discussion by considering just URLs that
&gt; use the http scheme.
&gt;
&gt; As I see it, there are two main approaches to constructing a URL to identify
&gt; a resource:

A URI is a URI, it does not matter if it has query parameters or not.

Talking about 'constructing' a URI points out the impetus for query parameters,
that in the HTML specification for forms that use GET. Those forms literally
construct the URI on the fly from the data in the form.

I cover this in my oddly named xml.com article "Constructing or
Traversing URIs?"[1]

   -joe

[1] http://www.xml.com/pub/a/2005/04/06/restful.html

--
Joe Gregorio        http://bitworking.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5587<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2005-12-10 13:15:52<br>
Subject:Re: [rest-discuss] Best Practice for URI construction?<br>
Message:<br><br>
<pre>On Fri, 2005-12-09 at 09:30 -0500, Costello, Roger L. wrote:
&gt; As I see it, there are two main approaches to constructing a URL to
&gt; identify a resource:
&gt; Approach 1. URL Construction using Parent/Child Relationships
&gt; http://www.location.org/US/MA/Boston
&gt; Approach 2. URL Construction using Key-Value Pairs plus Conjunction
&gt; http://www.location.org?country=US&amp;state=MA&amp;city=Boston
&gt; (1) The above URLs (I believe) are expressing the same thing - they
&gt; are identifying the same resource.  So which is "better"?

Some people like query parts in their URIs. Others don't. My personal
feelings go towards "whatever works". I lean towards "query parts make
for ugly URIs when they aren't required for an explicit reason", but
that is pure asthetics talking.

The publisher of data should be able to define whatever URI scheme they
like. Internally, they can construct URIs in any way they see fit. So
long as they present these constructed URIs as hyperlinks to subscribers
of their data the URI scheme can evolve separately to client concerns.
Clients can traverse a hyperlink to http://www.example.com/US/MA/Boston
and http://www.example.com/?country=US&amp;state=MA&amp;city=Boston just as
easily. There is no best practice. There should be no best practice. The
best practice is to allow that publisher's URI space to evolve
independently of any software implementation by a subscriber.

The problem comes into things when you start requring clients to
construct URIs. Sometimes this may be necessary, and the best technology
we have to achieve URI construction on the client side is the use of
HTML forms. This technology uses a form provided by the publisher to
construct a URI from a base part and a query part (as well as providing
several other submission techniques, including non-query forms). In this
case obviously having URIs exposed that have a query part may be of some
benefit. It is usually this technology, and the extent to which your
site design demands the use of this technology that determines the
extent to which you use query parts.

&gt; (2) As was noted at the top, the purpose of a URL is to "identify" a
&gt; resource.  Can every resource in the universe be identified using the
&gt; above two approaches?  Are there resources that do not lend themselves
&gt; to identification using the above two approaches?

Every resource in the universe could be identified using either
technique. The question of what lends itself to what is one of asthetics
only.

-- 
Benjamin Carlyle &lt;benjamincarlyle@...&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5588<br>
Sender:"Dr. Ernie Prabhakar" &lt;drernie@...&gt;<br>
Post Date/Time:2005-12-12 22:19:32<br>
Subject:Re: [rest-discuss] Best Practice for URI construction?<br>
Message:<br><br>
<pre>Hi Benjamin,

On Dec 10, 2005, at 5:15 AM, Benjamin Carlyle wrote:
&gt; Clients can traverse a hyperlink to http://www.example.com/US/MA/ 
&gt; Boston
&gt; and http://www.example.com/?country=US&amp;state=MA&amp;city=Boston just as
&gt; easily. There is no best practice. There should be no best  
&gt; practice. The
&gt; best practice is to allow that publisher's URI space to evolve
&gt; independently of any software implementation by a subscriber.

I agree that there isn't a rigorous standard.  However, from a  
usability standpoint, I read:

&gt; http://www.example.com/US/MA/Boston

as a unique resource, whereas:

&gt; http://www.example.com/?country=US&amp;state=MA&amp;city=Boston

as a multi-dimensional query.   I would argue that "current best  
practice" -- as represented by actual URLs in the wild -- is for  
individual resources to named by hierarchical URLs, with queries used  
for potentially multi-valued search results.  This may not -always-  
be the case, but I think it represents the "common" case.  Would you  
disagree?

-- Ernie P.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5589<br>
Sender:"Jerome Louvel" &lt;jerome_louvel@...&gt;<br>
Post Date/Time:2005-12-13 07:34:12<br>
Subject:Re: Best Practice for URI construction?<br>
Message:<br><br>
<pre>In the following section:
http://www.gbiv.com/protocols/uri/rfc/rfc3986.html#hierarchical
the URI specification indicates that "The URI syntax is organized
hierarchically, with components listed in order of decreasing
significance from left to right."

This, with the fact the relative paths can be easily built from a
hierarchical path (via ".." and "."), means to me that hierarchical
paths have better pre-defined semantics than pure query strings. For
the query part the specification gives no indication about the
relationship between the multiple parameters. What could happen if we
remove one parameter? OTOH, a user has clearer expectations when
removing the trailing part of a hierarchical path.

In addition, if you use extensions like All-In-One or GoUp in Firefox,
you can automatically remove subparts of a hierarchical path and
submit the reduced URI to the server. If find myself using this
feature very frequently.

In conclusion, my preference goes to hierarchical URIs when there is a
natural hierarchical ordering between the URI parts/parameters and
when users can deduce meaningful relative URIs. Query paths are very
useful for web forms and URIs where all the parameters can't be
cleanly classified in a hierarchy.

Jerome Louvel







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5590<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2005-12-13 19:27:03<br>
Subject:Re: [rest-discuss] Best Practice for URI construction?<br>
Message:<br><br>
<pre>Costello, Roger L. wrote:
[snip]
&gt; http://www.location.org/US/MA/Boston
[snip]
&gt; http://www.location.org?country=US&amp;state=MA&amp;city=Boston 
[snip]
&gt; *Questions*
&gt;  
&gt; (1) The above URLs (I believe) are expressing the same thing - they are 
&gt; identifying the same resource.  So which is "better"?

Whichever proves most convenient. If all similar resources that are also 
being encoded fit into the first format, then I'd favour it, but neither 
are wrong per se, so it's really a matter of which causes other 
developers the least hassle.

There is in practice a difference in the default caching behaviour of 
GET operations on the two URIs, a feature of HTTP1.1 for historical 
reasons of URIs with queries frequently being used for operations that 
should really have been POST, PUT or DELETE operations. Best practice is 
to be explicit anyway, so this makes little difference.

Boston, MA can also be identified with the URIs:

http://example.net/sdaflwqensdsdaiwe%20fdsw and 
http://example.net/cityThing.php?id=12321

The latter is not that rare in practice.

&gt; (2) As was noted at the top, the purpose of a URL is to "identify" a 
&gt; resource.  Can every resource in the universe be identified using the 
&gt; above two approaches?  Are there resources that do not lend themselves 
&gt; to identification using the above two approaches?

In purely philosophical terms, this is way out of scope. In practical 
terms, if we can name it well enough that we'd actually want to assign a 
URI to it, then yes.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5591<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-12-15 09:48:11<br>
Subject:RDFForms Updated Version<br>
Message:<br><br>
<pre>Hi Mark,

...something becoming smaller and simpler when revised is usually a  
good indicator for quality... :o)


Couple of questions:

Why did you replace indexedBy with rf:parameterizedWith? I still see  
rf:indexedBy on your site[1]; is that by intention?

What is the reason for adding rf:From and rf:method? Do they add  
capabilities not possible with Container, Indexable or Settable (are  
they intended to provide generic support for other methods, such as  
DELETE or WATCH)?

Now that you have removed the intent related parts, the genericity of  
POST is becoming very clear (all you know about the resource that you  
send your data to is that it supports POST accepts certain media  
types. The shoe order example from the last version made it quite  
easy (at least for me) to miss the implicit intent aspect.

OTH...do you still think that the clients should/could base their  
choice of container on additional information about known containers  
(such as their type)?

If not, what is your idea of how an application should communicate to  
a client where to send the show-orders and where to send refund  
requests for bad shoes?

Thanks.

Jan

[1] http://www.markbaker.ca/2003/rdfforms/indexedBy/




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5592<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-12-15 14:57:46<br>
Subject:Re: [rest-discuss] RDFForms Updated Version<br>
Message:<br><br>
<pre>On 12/15/05, Jan Algermissen &lt;jalgermissen@...&gt; wrote:
&gt; Hi Mark,
&gt;
&gt; ...something becoming smaller and simpler when revised is usually a
&gt; good indicator for quality... :o)
&gt;
&gt;
&gt; Couple of questions:
&gt;
&gt; Why did you replace indexedBy with rf:parameterizedWith? I still see
&gt; rf:indexedBy on your site[1]; is that by intention?

indexedBy is still used for Indexables, but parameterizedWith (urgh,
needs a better name) is reserved for

The problem was that there was a closed world assumption being made
there by sharing indexedBy between two incompatible uses.  i.e.

&lt;http://example.org/query&gt; rf:indexedBy some:param

by itself, is ambiguous because you don't know the rdf:type of the
subject.  Keeping indexedBy for URI-parameterization addresses that
ambiguity.

&gt;
&gt; What is the reason for adding rf:From and rf:method? Do they add
&gt; capabilities not possible with Container, Indexable or Settable (are
&gt; they intended to provide generic support for other methods, such as
&gt; DELETE or WATCH)?

Yup, exactly.

&gt; Now that you have removed the intent related parts, the genericity of
&gt; POST is becoming very clear (all you know about the resource that you
&gt; send your data to is that it supports POST accepts certain media
&gt; types. The shoe order example from the last version made it quite
&gt; easy (at least for me) to miss the implicit intent aspect.
&gt;
&gt; OTH...do you still think that the clients should/could base their
&gt; choice of container on additional information about known containers
&gt; (such as their type)?
&gt;
&gt; If not, what is your idea of how an application should communicate to
&gt; a client where to send the show-orders and where to send refund
&gt; requests for bad shoes?

Hmm, the "intent" stuff was just to permit the client to declare
pre-conditions in the message for the processing of the data in that
message.  The previous version of the spec associated the rdf:type of
the processing resource, as declared via the form, to that
information, but it needn't be the only information the client uses to
base its decision upon, nor reflect as a pre-condition in the message.

So to answer your question, the application should use different URIs
to do those things.

Mark.
--
Mark Baker.  Ottawa, Ontario, CANADA.       http://www.markbaker.ca
Coactus; Web-inspired integration strategies  http://www.coactus.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5593<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-12-15 15:11:57<br>
Subject:Re: [rest-discuss] RDFForms Updated Version<br>
Message:<br><br>
<pre>
On Dec 15, 2005, at 3:57 PM, Mark Baker wrote:
&gt;
&gt; indexedBy is still used for Indexables, but parameterizedWith (urgh,
&gt; needs a better name) is reserved for

Sure...sorry, it was late yesterday and it seems I mixed the  
container and indexable examples.
One thing: indexParam now sounds a bit awkward since application/x- 
www-form-urlencoded accepting containers are now *parameterized*  
instead of *indexed* but you call the parameter indexeParam in both  
cases. Just a naming issues anyhow.

Jan


&gt;
&gt; The problem was that there was a closed world assumption being made
&gt; there by sharing indexedBy between two incompatible uses.  i.e.
&gt;
&gt; &lt;http://example.org/query&gt; rf:indexedBy some:param
&gt;
&gt; by itself, is ambiguous because you don't know the rdf:type of the
&gt; subject.  Keeping indexedBy for URI-parameterization addresses that
&gt; ambiguity.
&gt;
&gt;&gt;
&gt;&gt; What is the reason for adding rf:From and rf:method? Do they add
&gt;&gt; capabilities not possible with Container, Indexable or Settable (are
&gt;&gt; they intended to provide generic support for other methods, such as
&gt;&gt; DELETE or WATCH)?
&gt;
&gt; Yup, exactly.
&gt;
&gt;&gt; Now that you have removed the intent related parts, the genericity of
&gt;&gt; POST is becoming very clear (all you know about the resource that you
&gt;&gt; send your data to is that it supports POST accepts certain media
&gt;&gt; types. The shoe order example from the last version made it quite
&gt;&gt; easy (at least for me) to miss the implicit intent aspect.
&gt;&gt;
&gt;&gt; OTH...do you still think that the clients should/could base their
&gt;&gt; choice of container on additional information about known containers
&gt;&gt; (such as their type)?
&gt;&gt;
&gt;&gt; If not, what is your idea of how an application should communicate to
&gt;&gt; a client where to send the show-orders and where to send refund
&gt;&gt; requests for bad shoes?
&gt;
&gt; Hmm, the "intent" stuff was just to permit the client to declare
&gt; pre-conditions in the message for the processing of the data in that
&gt; message.  The previous version of the spec associated the rdf:type of
&gt; the processing resource, as declared via the form, to that
&gt; information, but it needn't be the only information the client uses to
&gt; base its decision upon, nor reflect as a pre-condition in the message.
&gt;
&gt; So to answer your question, the application should use different URIs
&gt; to do those things.
&gt;
&gt; Mark.
&gt; --
&gt; Mark Baker.  Ottawa, Ontario, CANADA.       http://www.markbaker.ca
&gt; Coactus; Web-inspired integration strategies  http://www.coactus.com

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5594<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-12-15 19:28:46<br>
Subject:Re: [rest-discuss] RDFForms Updated Version<br>
Message:<br><br>
<pre>Mark,

sorry, it appears I was unclear about the issue I have (not only  
concerning RDFForms, but the component interaction in general). See  
below.

On Dec 15, 2005, at 3:57 PM, Mark Baker wrote:

&gt;&gt; OTH...do you still think that the clients should/could base their
&gt;&gt; choice of container on additional information about known containers
&gt;&gt; (such as their type)?
&gt;&gt;
&gt;&gt; If not, what is your idea of how an application should communicate to
&gt;&gt; a client where to send the show-orders and where to send refund
&gt;&gt; requests for bad shoes?
&gt;
&gt; Hmm, the "intent" stuff was just to permit the client to declare
&gt; pre-conditions in the message for the processing of the data in that
&gt; message.  The previous version of the spec associated the rdf:type of
&gt; the processing resource, as declared via the form, to that
&gt; information, but it needn't be the only information the client uses to
&gt; base its decision upon, nor reflect as a pre-condition in the message.
&gt;
&gt; So to answer your question, the application should use different URIs
&gt; to do those things.

Ok, yes. But should the application still use (for example) the type  
information to tell the client what each processor is for?

I am asking, because now that the client is not required anmore to  
communicate the itent to the processor there is no way for the  
processor to tell the client if it cannot fulfill that intent (a shoe  
order processor might recognize message bodies that are not shoe  
orders and send the appropriate HTTP error code (BAD REQUEST?) but it  
would be less reliable than the former approach).

Is it correct that you deliberately 'traded' this reliability for  
simplicity and ease[1] of adoption (you mention the 80/20 rule)?

Sorry to be somewhat difficult, but I just want to check that I am on  
track.

Jan


[1] and the *possibility* to use specialized rf:Containers with plain  
HTTP (without SOAP or similar)







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5595<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-12-15 19:56:41<br>
Subject:Re: [rest-discuss] RDFForms Updated Version<br>
Message:<br><br>
<pre>On 12/15/05, Jan Algermissen &lt;jalgermissen@...&gt; wrote:
&gt; Is it correct that you deliberately 'traded' this reliability for
&gt; simplicity and ease[1] of adoption (you mention the 80/20 rule)?

Yep!

I still *think* it's a useful feature to have, but until a large chunk
of the Web goes asynch (ala ARRESTED and its derivative styles), it's
not worth the bother.

I'll work on the naming issues too.  All suggestions gratefully received.

Mark.
--
Mark Baker.  Ottawa, Ontario, CANADA.       http://www.markbaker.ca
Coactus; Web-inspired integration strategies  http://www.coactus.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5596<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2005-12-17 05:00:48<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>Jan Algermissen wrote:

&gt;Hi Lyle,
&gt;
&gt;I think the best way to start digging yourself through this (and  
&gt;related issues) is a bit of initial reading to get you started.
&gt;
&gt;Start here:
&gt;
&gt;http://rest.blueoxen.net/cgi-bin/wiki.pl?StateFaq
&gt;http://www.ics.uci.edu/~fielding/pubs/dissertation/ 
&gt;rest_arch_style.htm#sec_5_1_3
&gt;(And work yourself through the dissertation from there ...it's a must- 
&gt;read)
&gt;
&gt;And for a discussion in a general distributed systems context see here:
&gt;
&gt;http://www.jalgermissen.com/blog/state_is_hell.html
&gt;
&gt;Hope that provides an initial help.
&gt;  
&gt;
Thanks for the pointers, but none of those links provide concrete 
examples.  I would like to see a design example for an e-commerce site 
or banking app.  How would the URLs be encoded?  How would a shopping 
cart be implemented?  A login page?  What are the HTTP requests 
involved, if you want to do it the REST way?

Fielding uses the term "session state," which is fuzzy.  He says "each 
request from client to server must contain all of the information 
necessary to understand the request, and cannot take advantage of any 
stored context on the server."  But what does "understanding the 
request" mean?  What is "stored context"?

Couldn't any data on the server be considered "stored context"?  If we 
shouldn't have any state on the server, it doesn't even have, say, a 
list of books available for purchase.  Because that's state.  It should 
just have a purely functional algorithm, like a mathematical formula.  I 
don't think that's what Fielding meant, but he doesn't show where to 
draw the line.

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5597<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2005-12-17 05:07:13<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>Thanks for your response.  I am still a little in the dark.

Christian Jensen wrote:

&gt; REST does not use Session IDs - period.
&gt;
&gt;  
&gt;
&gt; The entire request describes the entire transaction. The mechanism to 
&gt; use instead is HTTP authentication, preferably Digest, but Basic if 
&gt; that is all you have. This does not mean that you have to use the ugly 
&gt; browser dialog box either - you can send the correct headers with the 
&gt; server app.
&gt;
What headers would those be?

&gt; I am building a REST based subsystem that incorporates various 
&gt; pluggable UIs... no promises yet, but I like it. I am thinking of 
&gt; publishing it when I am done.
&gt;
Sounds nice.... what exactly is it?  A library?  A server?  A client?  
All three?

&gt; Christian
&gt;
&gt;  
&gt;
&gt; P.S. If you don't use Session IDs, you don't have to worry about 
&gt; session management. When using an AJAX based environment, you front 
&gt; load the data storage onto the browser, any sensitive data is 
&gt; maintained in a stateless manner that is able to be requested by the 
&gt; URI. If you build your system with correct object modeling, this 
&gt; should be a side effect.
&gt;
Please provide a concrete example.  Exactly what data might you 
front-load onto the browser?  If it's maintained on the client, why 
would you need to request it by URI?  What is the correct object 
modeling, and what exactly occurs as a side effect?

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5598<br>
Sender:Lyle Kopnicky &lt;lyle@...&gt;<br>
Post Date/Time:2005-12-17 05:01:47<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>Lucas Gonze wrote:

&gt; Lyle Kopnicky wrote:
&gt;
&gt;&gt; Hi folks,
&gt;&gt;
&gt;&gt; I'm new to REST.  It sounds intriguing, but I don't see a lot of
&gt;&gt; examples out there.  I'm wondering how best to handle sessions.  For
&gt;&gt; example, a user logs in via a login page, then works within the context
&gt;&gt; of that session, then logs out (or times out).  Could someone give an
&gt;&gt; example what HTTP requests would be involved?
&gt;
&gt;
&gt;
&gt; The Hard REST approach would be to use HTTP authentication *only*.

But HTTP authentication is quite limited.  It requires 1 username and 1 
password.  Suppose I need just one piece of information, or three?  
Where do I put the "I forgot my password" button?  I have no control 
over the user interface.  Imagine we are doing an e-commerce or banking 
app here.

&gt;&gt;
&gt;&gt; I suppose the session ID would become part of the URL.  Couldn't that
&gt;&gt; create a security risk?
&gt;
&gt;
&gt;
&gt; That would be a major REST violation, because it makes URLs not 
&gt; shareable or bookmarkable.

OK.

&gt;&gt; Would you embed the session ID as a hidden field in the login page, so
&gt;&gt; that it would get submitted when the user logs in?
&gt;
&gt;
&gt;
&gt; Use a cookie.  That's the backdoor to session state in a RESTful 
&gt; design.  (Though that is sometimes felt to violate REST).

In fact, Fielding seems to think that cookies cause problems with the 
Back button.  I don't see that at all.  It seems to me that cookies 
should work fine.

The only problem with a cookie is, you can't open different sessions in 
different tabs on your browser.  Not that most people want to do that.  
But you could do it if SessionIDs were in the URL.

-- 
Lyle Kopnicky
Software Project Engineer
Veicon Technology, Inc.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5599<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-12-17 11:23:43<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>Lyle,

On Dec 17, 2005, at 6:01 AM, Lyle Kopnicky wrote:

&gt; It seems to me that cookies
&gt; should work fine.

Of course cookies work just fine. The issue is that they break the  
architectural constraint of message self descriptiveness (see Roy's  
dissertation for the details). So, if you use cookies to keep state  
information on the server your system's architectural style is not  
RESt anymore (which isn't neccessarily catastrophic).

The question really is: What is it you want to do and why do you want  
to use the REST architectural style (as opposed to other styles)?

Jan


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5600<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-12-17 11:55:15<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>
On Dec 17, 2005, at 6:01 AM, Lyle Kopnicky wrote:

&gt; But HTTP authentication is quite limited.

In what sense?

&gt; It requires 1 username and 1
&gt; password.  Suppose I need just one piece of information, or three?

Why would you? username/password is exactly what you need for  
authentication in general.

&gt;
&gt; Where do I put the "I forgot my password" button?  I have no control
&gt; over the user interface.

No? Why do you think so?

&gt; Imagine we are doing an e-commerce or banking
&gt; app here.

Umm...can you clarify what kinds of answers you expected?

Jan

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5601<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-12-17 12:02:37<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>
On Dec 17, 2005, at 6:01 AM, Lyle Kopnicky wrote:

&gt; The only problem with a cookie is


The problem with cookies is that they lead to non self-descvriptive  
massages and thus to a non-REST
architectural style. This is of course only a problem if you want  
your system to have the architectural properties that the REST style  
gives you[1]. If you do not care, just use cookies, no problem there.  
You just don't get REST.


[1] &lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/ 
rest_arch_style.htm#sec_5_5&gt;

Jan

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5602<br>
Sender:toydi &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2005-12-17 15:23:24<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>Hi,

I think many web developers (including me) when first met with REST,
all sort of questions will pop up instantly, as REST breaks most of
the current web app development habits/patterns. For all these years,
we have been educated to use cookie and server session management in
most of cookbooks and tutorials. Yet many code libraries are built
based on such habits.

I think a good way to answer questions, is to build a simple web app
based on what we understand about REST, and incrementally learn from
the experience. Try to build a toy first to figure out where's the
real problem that bother you, it helps. :-)

If REST has been published a decade ago, I'm sure today we will have
enough frameworks, tutorials and examples to answer all the questions.
But hey, for this moment, those are the things we have to build up for
ppl in the coming decade. ;-)

On 12/17/05, Jan Algermissen &lt;jalgermissen@...&gt; wrote:
&gt;
&gt; On Dec 17, 2005, at 6:01 AM, Lyle Kopnicky wrote:
&gt; &gt; Where do I put the "I forgot my password" button?  I have no control
&gt; &gt; over the user interface.
&gt;
&gt; No? Why do you think so?
&gt;
&gt; &gt; Imagine we are doing an e-commerce or banking
&gt; &gt; app here.
&gt;
&gt; Umm...can you clarify what kinds of answers you expected?

Cheers,
--
Teo HuiMing (toydi)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5603<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-12-17 16:07:25<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>
On Dec 17, 2005, at 4:23 PM, toydi wrote:
&gt;

&gt;  as REST breaks most of
&gt; the current web app development habits/patterns.

FWIW, REST does not break them, but takes them to the extreme. REST  
is an architectural style that specifically addresses problems in the  
space of networked and large scale software systems. If you look at  
the common OO patterns (e.g. DataAccessor, Facade, Proxy,  
DomainModel,...) for this problem space, you are pretty close to  
REST. (I am very surprised that appearently so many well-trained  
pattern heads miss this astonishingly close relationship).

See http://www.jalgermissen.com/blog/fowler_a_restafarian.html as an  
example.

&gt; For all these years,
&gt; we have been educated to use cookie and server session management in
&gt; most of cookbooks and tutorials. Yet many code libraries are built
&gt; based on such habits.
&gt;
&gt; I think a good way to answer questions, is to build a simple web app
&gt; based on what we understand about REST, and incrementally learn from
&gt; the experience.

I think it is important to understand what problem space REST is  
aiming at. If you start by looking at evolvability issues (what  
architectural properties must my system have to enable the components  
to evolve independently from each other (that way minimizing the  
impact of (inevitable) change?), then a lot of the concepts of REST  
become much easier to grasp. Do not ask: how do RESTful interfaces  
look like, but instead ask: How can I minimize the assumptions any  
given software component makes about the others? How exactly does  
evolvability improve? Then go back and look at non-REST styles and  
analyse the evolvability issues again.

Jan

&gt; Try to build a toy first to figure out where's the
&gt; real problem that bother you, it helps. :-)
&gt;

&gt; If REST has been published a decade ago, I'm sure today we will have
&gt; enough frameworks, tutorials and examples to answer all the questions.
&gt; But hey, for this moment, those are the things we have to build up for
&gt; ppl in the coming decade. ;-)
&gt;
&gt; On 12/17/05, Jan Algermissen &lt;jalgermissen@...&gt; wrote:
&gt;&gt;
&gt;&gt; On Dec 17, 2005, at 6:01 AM, Lyle Kopnicky wrote:
&gt;&gt;&gt; Where do I put the "I forgot my password" button?  I have no control
&gt;&gt;&gt; over the user interface.
&gt;&gt;
&gt;&gt; No? Why do you think so?
&gt;&gt;
&gt;&gt;&gt; Imagine we are doing an e-commerce or banking
&gt;&gt;&gt; app here.
&gt;&gt;
&gt;&gt; Umm...can you clarify what kinds of answers you expected?
&gt;
&gt; Cheers,
&gt; --
&gt; Teo HuiMing (toydi)

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5604<br>
Sender:Bob Haugen &lt;bob.haugen@...&gt;<br>
Post Date/Time:2005-12-17 18:24:07<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>On 12/16/05, Lyle Kopnicky &lt;lyle@...&gt; wrote:
&gt; Fielding uses the term "session state," which is fuzzy.  He says "each
&gt; request from client to server must contain all of the information
&gt; necessary to understand the request, and cannot take advantage of any
&gt; stored context on the server."  But what does "understanding the
&gt; request" mean?  What is "stored context"?
&gt;
&gt; Couldn't any data on the server be considered "stored context"?  If we
&gt; shouldn't have any state on the server, it doesn't even have, say, a
&gt; list of books available for purchase.  Because that's state.  It should
&gt; just have a purely functional algorithm, like a mathematical formula.  I
&gt; don't think that's what Fielding meant, but he doesn't show where to
&gt; draw the line.

Here's how I interpret the "stored context on server" ban (might not
be how Roy Fielding interprets it, but Roy intervenes periodically on
this list when somebody misreads REST principles, so I assume I will
be corrected if wrong):

As long as it's a Web resource with a URI, it's ok to take advantage of it.
The acronym stands for REpresentational State Transfer, after all.
So it's all about transferring the state of resources.

So for example in responding to an offer to buy something, the server
might consult another resource to get a credit authorization.  That's
not part of the original incoming offer message, but it's another
resource with a URI, so in my interpretation, it is fully RESTful.

And the buyer cannot supply the credit authorization in the offer
message, so I don't know how the seller would do business if unable to
get it from another resource.

That is different (in my mind) from taking advantage of stored context
on the same server, which ties the exchange down to one server.

Given that you can take advantage of other Web resources, I don't see
why you can't do anything I can think of in an ecommerce application.

In my interpretation, you could also save user or session information
in a Web resource and retrieve a representation in the context of
responding to a new incoming message.

Does anybody disagree?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5605<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2005-12-17 18:29:06<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>toydi wrote:
&gt; Hi,
&gt; 
&gt; I think many web developers (including me) when first met with REST,
&gt; all sort of questions will pop up instantly, as REST breaks most of
&gt; the current web app development habits/patterns. For all these years,
&gt; we have been educated to use cookie and server session management in
&gt; most of cookbooks and tutorials. Yet many code libraries are built
&gt; based on such habits.

True, but a lot of the objections we had when cookies were introduced 
(the technical ones, rather than some of the concerns about privacy) are 
pretty much the same things we are talking about here. I think any 
experienced web designer when reading Fielding's dissertation will find 
a lot of it ringing bells with things they'd found to cause either 
practical difficulties, or at least what they knew to be sub-optimal use 
of what HTTP has to offer.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5606<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2005-12-17 18:31:56<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>Lyle Kopnicky wrote:
&gt; Fielding uses the term "session state," which is fuzzy.  He says "each 
&gt; request from client to server must contain all of the information 
&gt; necessary to understand the request, and cannot take advantage of any 
&gt; stored context on the server."  But what does "understanding the 
&gt; request" mean?  What is "stored context"?

I've read this to mean anything being stored about a "connection". 
Cookies give the appearance of stateful connections over the stateless 
connections of HTTP.

I don't think HTTP authentication is completely innocent in this regard 
either, though it brings less brutality to HTTP than cookies.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5607<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-12-17 19:42:26<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>
&gt; Lyle Kopnicky wrote:
&gt;&gt; Fielding uses the term "session state," which is fuzzy.

See
http://rest.blueoxen.net/cgi-bin/wiki.pl?StateFaq

Jan
________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5608<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-12-17 22:39:30<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>Jon Hanna &lt;jon@...&gt; writes:

&gt; Lyle Kopnicky wrote:
&gt;&gt; Fielding uses the term "session state," which is fuzzy.  He says "each 
&gt;&gt; request from client to server must contain all of the information 
&gt;&gt; necessary to understand the request, and cannot take advantage of any 
&gt;&gt; stored context on the server."  But what does "understanding the 
&gt;&gt; request" mean?  What is "stored context"?
&gt;
&gt; I've read this to mean anything being stored about a "connection". 
&gt; Cookies give the appearance of stateful connections over the stateless 
&gt; connections of HTTP.
&gt;
&gt; I don't think HTTP authentication is completely innocent in this regard 
&gt; either, though it brings less brutality to HTTP than cookies.

Depends what you do with cookies doesn't it?

You *can* associate state with authentication details... you *can* do
authentication similar to basic auth just with cookies.


Is there any argument purely against using cookies? 

I think it's just against having state orthongonal to the resource.


What I'm saying is that a cookie is no different to a client
certificate or an established authentication session. You can
associate non-resource state with any of these.


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5609<br>
Sender:"Justin T. Sampson" &lt;justin@...&gt;<br>
Post Date/Time:2005-12-17 23:26:58<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>On 12/17/05, Jan Algermissen wrote:

&gt; On Dec 17, 2005, at 4:23 PM, toydi wrote:
&gt;
&gt; &gt; as REST breaks most of the current web app development
&gt; &gt; habits/patterns.
&gt;
&gt; FWIW, REST does not break them, but takes them to the extreme.
&gt; REST is an architectural style that specifically addresses
&gt; problems in the space of networked and large scale software
&gt; systems. If you look at the common OO patterns (e.g.
&gt; DataAccessor, Facade, Proxy, DomainModel,...) for this problem
&gt; space, you are pretty close to REST. (I am very surprised that
&gt; appearently so many well-trained pattern heads miss this
&gt; astonishingly close relationship).
&gt;
&gt; See http://www.jalgermissen.com/blog/fowler_a_restafarian.html
&gt; as an example.

The problem is that those really aren't OO patterns at all;
they're procedural antipatterns described in OO terms. Service
Layer in particular (mentioned in that blog link) serves only to
distance client code from real objects. This notion of "Service
Layer" a.k.a. "Service Facade" a.k.a. "Session Facade" (in J2EE
land) is much closer to the Blob AntiPattern than to the Facade
Pattern.

The quote you give from Fowler's book is especially troubling:
"... many of the use cases in an enterprise application are fairly
boring 'CRUD' (create, read, update, delete) use cases on domain
objects -- create one of these, read a collection of those, update
this other thing. My experience is that there is almost always a
one-to-one correspondence between CRUD use cases and Service Layer
operations."

I try to stay away from "CRUD" when thinking about both OO and
REST. "CRUD" is rarely part of our users' understanding of the
domains they care about, so why is it so prominent in our software
designs? "CRUD" is barely appropriate for a filesystem, but hardly
appropriate for an enterprise application. "CRUD" describes dumb
data, not the interesting behavior and interactions of domain
concepts. The value in an application is being able to interact
with it, not merely to act upon it.

Cheers,
Justin
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5610<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-12-18 10:59:11<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>
On Dec 18, 2005, at 12:26 AM, Justin T. Sampson wrote:

&gt; "CRUD" is rarely part of our users' understanding of the
&gt; domains they care about, so why is it so prominent in our software
&gt; designs?

Because IT systems are to a large extend dealing with stored  
information (what you call dumb data) and reading and manipulating  
its state. That is what Fowler refers to: Enterprise software systems  
deal to a great extend with reading and manipulating stored data.

&gt; "CRUD" is barely appropriate for a filesystem, but hardly
&gt; appropriate for an enterprise application. "CRUD" describes dumb
&gt; data, not the interesting behavior and interactions of domain
&gt; concepts. The value in an application is being able to interact
&gt; with it, not merely to act upon it.

Umm....IMHO the value of an application is (in the EA context) that  
it provides the required information at the time it is needed. I  
think that the most promising approach to this is in terms of state  
holding objects (abstractions of the 'dumb data') and a uniform  
interface for manipulating that state on the one hand and on the  
other hand business rules (constraints on the state of these objects).

I think behaviour should as much as possible be expressed  
declaratively as possible state changes using a uniform set of verbs  
instead of concentrating on expressing behaviour as specialized sets  
of verbs ever and ever again.

I am not really seeing why a state setting/manipulating set of verbs  
does in any way limit the ways how users can interact with  
information systems. Can you explain?


Jan

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5611<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2005-12-18 14:34:58<br>
Subject:Re: [rest-discuss] Best Practice for URI construction?<br>
Message:<br><br>
<pre>On Mon, 2005-12-12 at 14:19 -0800, Dr. Ernie Prabhakar wrote:
&gt; On Dec 10, 2005, at 5:15 AM, Benjamin Carlyle wrote:
&gt; &gt; Clients can traverse a hyperlink
&gt; &gt; to http://www.example.com/US/MA/Boston
&gt; &gt; and http://www.example.com/?country=US&amp;state=MA&amp;city=Boston just as
&gt; &gt; easily. There is no best practice. There should be no best practice.
&gt; &gt; The
&gt; &gt; best practice is to allow that publisher's URI space to evolve
&gt; &gt; independently of any software implementation by a subscriber.
&gt; I agree that there isn't a rigorous standard.  However, from a
&gt; usability standpoint, I read:
&gt; &gt; http://www.example.com/US/MA/Boston

&gt; as a unique resource, whereas:
&gt; &gt; http://www.example.com/?country=US&amp;state=MA&amp;city=Boston

&gt; as a multi-dimensional query.   I would argue that "current best
&gt; practice" -- as represented by actual URLs in the wild -- is for
&gt; individual resources to named by hierarchical URLs, with queries used
&gt; for potentially multi-valued search results.  This may not -always- be
&gt; the case, but I think it represents the "common" case.  Would you
&gt; disagree?

Possibly, but Fielding wrote only a month ago[1]:
"Independent evolvability of components can only
be achieved if the client is prevented from knowing what exactly
will happen as the result of its requests. If it knows, then client
developers build into the system an expectation of the server
implementation that simply will not hold true over time."

In context, I believe this applies directly to the URI construction
debate. He responds to [2], which worries that clients won't be able to
make appropriate assumptions about what a server will do if the
operation of DELETE depends on which URI it is sent to. The tone of
earlier articles in the thread is the question of whether a hierarhical
URI should always only DELETE one resource, and whether a URI with a
query part may effectively DELETE multiple resources selected by the
query part. He states this even more clearly with this next comment:

"What makes you think that /parts/00345 is not a query for part
numbers that contain the string "00345"? Did the server tell you?"

To take words out of his mouth, only the author of the server code is
permitted to make assumptions of this kind. You as the owner of the
server code are permitted. You as the consumer are not. I like
hierarchical namespaces where they make sense. Many share this view,
however that doesn't make it best practice. It would only become best
pratice if alternative practices had known faults associated with them.

I believe that from the REST architectural perspective both URI
constructions are equally valid. Neither have inherent advantages over
each other on the server side. The client side is not permitted to make
assumptions about the URI space structure, so doesn't come into the
question. Firefox plugins that allow you to navigate "up" using URI
structure alone will always be hit and miss in their success because
they make assumptions they are not in an appropriate position to make.
The correct approach would be to provide a &lt;link&gt; or &lt;a&gt; node in your
html document with an appropriate rel="" tag for the browser to use.
Only then could the client consistently determine which URI to retrieve
when asked to go "up". Maybe talk to the microformat guys if you want to
delve in to that any deeper.

You could argue that if we move outside of the REST architectural
perspective and free the client up to make extra assumptions there are
advantages to the hierarchical namespace. I think this is true, but may
be outside the charter of this list.

-- 
Benjamin Carlyle &lt;benjamincarlyle@...&gt;
[1] http://groups.yahoo.com/group/rest-discuss/message/5502
[2] http://groups.yahoo.com/group/rest-discuss/message/5489


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5612<br>
Sender:"tom.hedley" &lt;tom.hedley@...&gt;<br>
Post Date/Time:2005-12-18 17:09:10<br>
Subject:Cachable representations that are slow to generate.<br>
Message:<br><br>
<pre>Hello,

I'm a newbie trying to design a RESTful web interface.

I was wondering how to expose a simple resource when the
representation may take several minutes to generate at the origin
server although that representation can then be subsequently be
cached.

The resources I have in mind are audio mixes generated by processing a
pair of audio files selected from a set on the origin server.  Each
mix is completely specified by two identifiers in a specific order and
its representation would be an mp3 file.  Although a URI for each
resource could exist, there would be too many combinations to store
all possible mixed mp3 files on the origin server simultaneously (and
maybe some that would never be requested).  It would therefore
necessary to generate them when required in a batch process and cache
the most recently requested files on disk for future requests.

From the clients perspective I see two possible states of the resource
(neglecting errors): 'mixing' and 'complete'.  I was thinking the
simplest approach would be to have a single URI for each combination
of mixed audio files. While mixing it would be represented by an XML
message indicating an estimated time at which the file can be
dereferenced from this same URI. The mp3 would then be made
available from this URI when completed and cached.  Does representing
different states of a single resource with different MIME types
violate REST?

Given that the 'mixing' and 'complete' states are determined
indirectly by the clients requests, and the server decides how long
they should be cached, I reason that it is only necessary for the
client to GET the current representations of this state.  In this case
is it reasonable to represent the mixing state with a '202 Accepted'
status code to indicate processing is not yet complete, even though
the client has not explicitly requested that this process be performed
with say POST or PUT?.

Any thoughts on this or other ways to solve this type of problem in a
RESTful manner would be much appreciated.

Cheers,
Tom







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5613<br>
Sender:Dr. Ernie Prabhakar &lt;drernie@...&gt;<br>
Post Date/Time:2005-12-18 20:02:14<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>Hi Jan,

On Dec 18, 2005, at 2:59 AM, Jan Algermissen wrote:
&gt; I am not really seeing why a state setting/manipulating set of verbs
&gt; does in any way limit the ways how users can interact with
&gt; information systems. Can you explain?

For what its worth, when I've discussed this with people it seems to  
come down to a question of side effects.

*  If the user's perspective is that they are merely changing the  
state of a fixed datstore, then CRUD and REST are usually pretty  
natural.

* However, if the user thinks of the operation as changing the  
"larger world" (however defined) -- e.g., sending a mail message --  
then one could argue that a more "verb-based" approach is legitimate.

I'm still not convinced, but I think it is at least a point worth  
considering

- Ernie P.


------------
Ernest N. Prabhakar, Ph.D. &lt;drernie at opendarwin.org&gt;
Ex-Physicist, Marketing Weenie, and Dilettante Hacker
Probe-Hacker blog: http://www.opendarwin.org/~drernie/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5614<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2005-12-19 12:54:27<br>
Subject:Dumb Data [was: REST and sessions]<br>
Message:<br><br>
<pre>Jan Algermissen wrote:
&gt; On Dec 18, 2005, at 12:26 AM, Justin T. Sampson wrote:
&gt;
&gt;&gt;"CRUD" is barely appropriate for a filesystem, but hardly
&gt;&gt;appropriate for an enterprise application. "CRUD" describes dumb
&gt;&gt;data, not the interesting behavior and interactions of domain
&gt;&gt;concepts. The value in an application is being able to interact
&gt;&gt;with it, not merely to act upon it.
&gt; 
&gt; 
&gt; Umm....IMHO the value of an application is (in the EA context) that  
&gt; it provides the required information at the time it is needed. I  
&gt; think that the most promising approach to this is in terms of state  
&gt; holding objects (abstractions of the 'dumb data') and a uniform  
&gt; interface for manipulating that state on the one hand and on the  
&gt; other hand business rules (constraints on the state of these objects).

RESTful systems seem to me at times to treat non-dumb data as dumb, by 
giving us the same view on something that is dynamically reacting to 
many factors (whether those factors relate to the client's actions 
and/or something else). API-like systems treat dumb data as non-dumb by 
making everyone "interact" with it even if it isn't interactive.

Dumb data is easier to work with, so I prefer the former to the latter.

All data is dumb really, ("Relax, it's only 1s and 0s").

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5615<br>
Sender:Claude Montpetit &lt;claude@...&gt;<br>
Post Date/Time:2005-12-19 15:30:31<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>
Maybe this is off-track, but I think that if a server decides to support 
sessions using cookies, I think the use of cookies should never be 
mandatory. Writing simple clients that interact with a REST server 
should not require the client to manage cookies.

Claude

Nic Ferrier wrote:
&gt; Jon Hanna &lt;jon@...&gt; writes:
&gt; 
&gt; 
&gt;&gt;Lyle Kopnicky wrote:
&gt;&gt;
&gt;&gt;&gt;Fielding uses the term "session state," which is fuzzy.  He says "each 
&gt;&gt;&gt;request from client to server must contain all of the information 
&gt;&gt;&gt;necessary to understand the request, and cannot take advantage of any 
&gt;&gt;&gt;stored context on the server."  But what does "understanding the 
&gt;&gt;&gt;request" mean?  What is "stored context"?
&gt;&gt;
&gt;&gt;I've read this to mean anything being stored about a "connection". 
&gt;&gt;Cookies give the appearance of stateful connections over the stateless 
&gt;&gt;connections of HTTP.
&gt;&gt;
&gt;&gt;I don't think HTTP authentication is completely innocent in this regard 
&gt;&gt;either, though it brings less brutality to HTTP than cookies.
&gt; 
&gt; 
&gt; Depends what you do with cookies doesn't it?
&gt; 
&gt; You *can* associate state with authentication details... you *can* do
&gt; authentication similar to basic auth just with cookies.
&gt; 
&gt; 
&gt; Is there any argument purely against using cookies? 
&gt; 
&gt; I think it's just against having state orthongonal to the resource.
&gt; 
&gt; 
&gt; What I'm saying is that a cookie is no different to a client
&gt; certificate or an established authentication session. You can
&gt; associate non-resource state with any of these.
&gt; 
&gt; 
&gt; Nic
&gt; 
&gt; 
&gt; 
&gt;  
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt;  
&gt; 
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5616<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2005-12-19 16:04:40<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>Claude Montpetit &lt;claude@...&gt; writes:

&gt; Maybe this is off-track, but I think that if a server decides to support 
&gt; sessions using cookies, I think the use of cookies should never be 
&gt; mandatory. Writing simple clients that interact with a REST server 
&gt; should not require the client to manage cookies.

Why is that? Cookies are no more onerous to support then
authentication. Both are "bolt ons".


Nic

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5617<br>
Sender:"Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2005-12-20 04:50:56<br>
Subject:RE: [rest-discuss] Cachable representations that are slow to generate.<br>
Message:<br><br>
<pre>If you are doing a 'service', then a long running request isn't a problem.
Even if your network connection goes down, then your URIs are the same
between requests...
For user-interface, you can return a 'generating' representation (with
explicit cache instructions with your best guess at the duration to generate
the final representation) and then when it is done, the next request would
return the generated content.


&gt; -----Original Message-----
&gt; From: rest-discuss@yahoogroups.com 
&gt; [mailto:rest-discuss@yahoogroups.com] On Behalf Of tom.hedley
&gt; Sent: Sunday, December 18, 2005 9:09 AM
&gt; To: rest-discuss@yahoogroups.com
&gt; Subject: [rest-discuss] Cachable representations that are 
&gt; slow to generate.
&gt; 
&gt; Hello,
&gt; 
&gt; I'm a newbie trying to design a RESTful web interface.
&gt; 
&gt; I was wondering how to expose a simple resource when the 
&gt; representation may take several minutes to generate at the 
&gt; origin server although that representation can then be 
&gt; subsequently be cached.
&gt; 
&gt; The resources I have in mind are audio mixes generated by 
&gt; processing a pair of audio files selected from a set on the 
&gt; origin server.  Each mix is completely specified by two 
&gt; identifiers in a specific order and its representation would 
&gt; be an mp3 file.  Although a URI for each resource could 
&gt; exist, there would be too many combinations to store all 
&gt; possible mixed mp3 files on the origin server simultaneously 
&gt; (and maybe some that would never be requested).  It would 
&gt; therefore necessary to generate them when required in a batch 
&gt; process and cache the most recently requested files on disk 
&gt; for future requests.
&gt; 
&gt; From the clients perspective I see two possible states of the 
&gt; resource (neglecting errors): 'mixing' and 'complete'.  I was 
&gt; thinking the simplest approach would be to have a single URI 
&gt; for each combination of mixed audio files. While mixing it 
&gt; would be represented by an XML message indicating an 
&gt; estimated time at which the file can be dereferenced from 
&gt; this same URI. The mp3 would then be made available from this 
&gt; URI when completed and cached.  Does representing different 
&gt; states of a single resource with different MIME types violate REST?
&gt; 
&gt; Given that the 'mixing' and 'complete' states are determined 
&gt; indirectly by the clients requests, and the server decides 
&gt; how long they should be cached, I reason that it is only 
&gt; necessary for the client to GET the current representations 
&gt; of this state.  In this case is it reasonable to represent 
&gt; the mixing state with a '202 Accepted'
&gt; status code to indicate processing is not yet complete, even 
&gt; though the client has not explicitly requested that this 
&gt; process be performed with say POST or PUT?.
&gt; 
&gt; Any thoughts on this or other ways to solve this type of 
&gt; problem in a RESTful manner would be much appreciated.
&gt; 
&gt; Cheers,
&gt; Tom
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; ------------------------ Yahoo! Groups Sponsor 
&gt; --------------------~--&gt;
&gt; 1.2 million kids a year are victims of human trafficking. 
&gt; Stop slavery.
&gt; http://us.click.yahoo.com/.QUssC/izNLAA/TtwFAA/W6uqlB/TM
&gt; --------------------------------------------------------------
&gt; ------~-&gt; 
&gt; 
&gt;  
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt;  
&gt; 
&gt; 
&gt; 
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5618<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2005-12-20 11:27:49<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>Nic Ferrier wrote:
&gt; Claude Montpetit &lt;claude@...&gt; writes:
&gt; 
&gt; 
&gt;&gt;Maybe this is off-track, but I think that if a server decides to support 
&gt;&gt;sessions using cookies, I think the use of cookies should never be 
&gt;&gt;mandatory. Writing simple clients that interact with a REST server 
&gt;&gt;should not require the client to manage cookies.
&gt; 
&gt; 
&gt; Why is that? Cookies are no more onerous to support then
&gt; authentication. Both are "bolt ons".

Ultimately it is a matter of it no longer being a matter of URIs 
identifying resources, authentication headers determining access rights, 
content headers determining type of representation and other headers 
determining what processing should be done in a well-specified manner.

It becomes a matter of URIs partially identifying resources, 
authentication headers partially determining access rights content 
headers partially determining type of representation and other headers 
partially determining what processing should be done along with cookies 
doing the Gods know what.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5619<br>
Sender:Jeoff Wilks &lt;jeoffwilks@...&gt;<br>
Post Date/Time:2005-12-20 15:09:29<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5620<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-12-20 15:39:03<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>
On Dec 20, 2005, at 4:09 PM, Jeoff Wilks wrote:

&gt; Going way back to one of Lyle's original questions: How would you  
&gt; create a real, mass-market-appeal web app using just HTTP  
&gt; authentication?
&gt;
&gt; Lyle Kopnicky wrote:
&gt; &gt; But HTTP authentication is quite limited.  It requires 1 username  
&gt; and 1
&gt; &gt; password.  Suppose I need just one piece of information, or three?
&gt; &gt; Where do I put the "I forgot my password" button?  I have no control
&gt; &gt; over the user interface.  Imagine we are doing an e-commerce or  
&gt; banking
&gt; &gt; app here.

Funny....I never even thought about UI requirements when I read this.  
I was thinking in terms of "we are building an e-commerce or banking  
system that is massively distributed and requires high scalability  
(e.g. components being account servers, cash machines,...). How would  
this be done using REST as an architectural style?"

Jan


________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5621<br>
Sender:Jeoff Wilks &lt;jeoffwilks@...&gt;<br>
Post Date/Time:2005-12-20 15:57:37<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5622<br>
Sender:Claude Montpetit &lt;claude@...&gt;<br>
Post Date/Time:2005-12-20 13:24:46<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>&gt;&gt;Maybe this is off-track, but I think that if a server decides to support 
&gt;&gt;sessions using cookies, I think the use of cookies should never be 
&gt;&gt;mandatory. Writing simple clients that interact with a REST server 
&gt;&gt;should not require the client to manage cookies.
&gt; 
&gt; 
&gt; Why is that? Cookies are no more onerous to support then
&gt; authentication. Both are "bolt ons". 

Well, I'm lazy ;) I've written here and there little simple clients that 
use Java URLConnection and send auth headers in the request.  If I must 
add support for storing/managing cookies in there, these client apps 
will not be as simple anymore and access to the services will not seem 
as trivial.

Claude



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5623<br>
Sender:Christian Jensen &lt;christianj@...&gt;<br>
Post Date/Time:2005-12-20 17:42:55<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>I still have yet to play with this: XMLHTTPRequest takes a username and 
password - I am pretty sure it sets the browser headers from that point 
on... give it a whirl. This would allow full UI control.

Jan Algermissen wrote:

&gt;
&gt; On Dec 20, 2005, at 4:09 PM, Jeoff Wilks wrote:
&gt;
&gt; &gt; Going way back to one of Lyle's original questions: How would you 
&gt; &gt; create a real, mass-market-appeal web app using just HTTP 
&gt; &gt; authentication?
&gt; &gt;
&gt; &gt; Lyle Kopnicky wrote:
&gt; &gt; &gt; But HTTP authentication is quite limited.  It requires 1 username 
&gt; &gt; and 1
&gt; &gt; &gt; password.  Suppose I need just one piece of information, or three?
&gt; &gt; &gt; Where do I put the "I forgot my password" button?  I have no control
&gt; &gt; &gt; over the user interface.  Imagine we are doing an e-commerce or 
&gt; &gt; banking
&gt; &gt; &gt; app here.
&gt;
&gt; Funny....I never even thought about UI requirements when I read this. 
&gt; I was thinking in terms of "we are building an e-commerce or banking 
&gt; system that is massively distributed and requires high scalability 
&gt; (e.g. components being account servers, cash machines,...). How would 
&gt; this be done using REST as an architectural style?"
&gt;
&gt; Jan
&gt;
&gt;
&gt; ________________________________________________________________________
&gt; _______________
&gt; Jan Algermissen, Consultant &amp; Programmer                        
&gt; http://jalgermissen.com
&gt; Tugboat Consulting, 'Applying Web technology to enterprise IT'  
&gt; http://www.tugboat.de
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; ------------------------------------------------------------------------
&gt; YAHOO! GROUPS LINKS
&gt;
&gt;     *  Visit your group "rest-discuss
&gt;       &lt;http://groups.yahoo.com/group/rest-discuss&gt;" on the web.
&gt;        
&gt;     *  To unsubscribe from this group, send an email to:
&gt;        rest-discuss-unsubscribe@yahoogroups.com
&gt;       &lt;mailto:rest-discuss-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;
&gt;        
&gt;     *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of
&gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.
&gt;
&gt;
&gt; ------------------------------------------------------------------------
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5624<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2005-12-20 18:47:51<br>
Subject:Re: [rest-discuss] REST and sessions<br>
Message:<br><br>
<pre>
On Dec 20, 2005, at 6:42 PM, Christian Jensen wrote:

&gt; I still have yet to play with this: XMLHTTPRequest takes a username  
&gt; and
&gt; password - I am pretty sure it sets the browser headers from that  
&gt; point
&gt; on...

Yes, it does.

Jan



&gt; give it a whirl. This would allow full UI control.
&gt;

________________________________________________________________________ 
_______________
Jan Algermissen, Consultant &amp; Programmer                         
http://jalgermissen.com
Tugboat Consulting, 'Applying Web technology to enterprise IT'   
http://www.tugboat.de





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5625<br>
Sender:Tom Hedley &lt;tom.hedley@...&gt;<br>
Post Date/Time:2005-12-21 13:33:03<br>
Subject:RE: [rest-discuss] Cachable representations that are slow to generate.<br>
Message:<br><br>
<pre>--- Mike Dierken wrote:

&gt; If you are doing a 'service', then a long running
&gt; request isn't a problem.
&gt; Even if your network connection goes down, then your
&gt; URIs are the same
&gt; between requests...

This appears like a much simpler solution, thanks for
making me aware of
this.

&gt; For user-interface, you can return a 'generating'
&gt; representation (with
&gt; explicit cache instructions with your best guess at
&gt; the duration to generate
&gt; the final representation) and then when it is done,
&gt; the next request would
&gt; return the generated content.

Thats helpful to know I was on the right track,
thanks. A nice
idea to make the 'generating' representation cachable
for the
estimated time.

I'm still confused about the most suitable choice of
response status
code for this 'generating' state.  It seems to me that
the meaning of
'202 Accepted' according to the definition in RFC 2616
http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.3
appears to match the semantics of this situation. 
However, it doesn't explicitly state that it can be
used in response 
to GET and the only reference I have found to using
GET with 202 is in
http://groups.yahoo.com/group/rest-discuss/message/4531
, which
dismisses it (though in a different situation).

Is it ever valid to return a 202 in response to a GET
or am I
missing something?

Any opinions on what would be a good status code to
use in this
situation?

Tom

&gt; &gt; -----Original Message-----
&gt; &gt; From: rest-discuss@yahoogroups.com 
&gt; &gt; [mailto:rest-discuss@yahoogroups.com] On Behalf Of
&gt; tom.hedley
&gt; &gt; Sent: Sunday, December 18, 2005 9:09 AM
&gt; &gt; To: rest-discuss@yahoogroups.com
&gt; &gt; Subject: [rest-discuss] Cachable representations
&gt; that are 
&gt; &gt; slow to generate.
&gt; &gt; 
&gt; &gt; Hello,
&gt; &gt; 
&gt; &gt; I'm a newbie trying to design a RESTful web
&gt; interface.
&gt; &gt; 
&gt; &gt; I was wondering how to expose a simple resource
&gt; when the 
&gt; &gt; representation may take several minutes to
&gt; generate at the 
&gt; &gt; origin server although that representation can
&gt; then be 
&gt; &gt; subsequently be cached.
&gt; &gt; 
&gt; &gt; The resources I have in mind are audio mixes
&gt; generated by 
&gt; &gt; processing a pair of audio files selected from a
&gt; set on the 
&gt; &gt; origin server.  Each mix is completely specified
&gt; by two 
&gt; &gt; identifiers in a specific order and its
&gt; representation would 
&gt; &gt; be an mp3 file.  Although a URI for each resource
&gt; could 
&gt; &gt; exist, there would be too many combinations to
&gt; store all 
&gt; &gt; possible mixed mp3 files on the origin server
&gt; simultaneously 
&gt; &gt; (and maybe some that would never be requested). 
&gt; It would 
&gt; &gt; therefore necessary to generate them when required
&gt; in a batch 
&gt; &gt; process and cache the most recently requested
&gt; files on disk 
&gt; &gt; for future requests.
&gt; &gt; 
&gt; &gt; From the clients perspective I see two possible
&gt; states of the 
&gt; &gt; resource (neglecting errors): 'mixing' and
&gt; 'complete'.  I was 
&gt; &gt; thinking the simplest approach would be to have a
&gt; single URI 
&gt; &gt; for each combination of mixed audio files. While
&gt; mixing it 
&gt; &gt; would be represented by an XML message indicating
&gt; an 
&gt; &gt; estimated time at which the file can be
&gt; dereferenced from 
&gt; &gt; this same URI. The mp3 would then be made
&gt; available from this 
&gt; &gt; URI when completed and cached.  Does representing
&gt; different 
&gt; &gt; states of a single resource with different MIME
&gt; types violate REST?
&gt; &gt; 
&gt; &gt; Given that the 'mixing' and 'complete' states are
&gt; determined 
&gt; &gt; indirectly by the clients requests, and the server
&gt; decides 
&gt; &gt; how long they should be cached, I reason that it
&gt; is only 
&gt; &gt; necessary for the client to GET the current
&gt; representations 
&gt; &gt; of this state.  In this case is it reasonable to
&gt; represent 
&gt; &gt; the mixing state with a '202 Accepted'
&gt; &gt; status code to indicate processing is not yet
&gt; complete, even 
&gt; &gt; though the client has not explicitly requested
&gt; that this 
&gt; &gt; process be performed with say POST or PUT?.
&gt; &gt; 
&gt; &gt; Any thoughts on this or other ways to solve this
&gt; type of 
&gt; &gt; problem in a RESTful manner would be much
&gt; appreciated.
&gt; &gt; 
&gt; &gt; Cheers,
&gt; &gt; Tom


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5626<br>
Sender:"Justin T. Sampson" &lt;justin@...&gt;<br>
Post Date/Time:2005-12-22 20:15:40<br>
Subject:REST clients in .NET?<br>
Message:<br><br>
<pre>Hi All,

Quick question -- what are people using for REST clients in .NET? We
have a customer who's comfortable with SOAP and wants to know how to
do the same thing with our REST interface that he usually does with
SOAP interfaces, such as having the IDE generate wrapper code.

I don't know anything about the .NET networking libraries, so even
answers about basic HTTP usage and XML parsing will be greatly
appreciated.

Cheers,
Justin
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5627<br>
Sender:"Jerome Louvel" &lt;jerome_louvel@...&gt;<br>
Post Date/Time:2005-12-23 13:30:29<br>
Subject:Restlet, a REST toolkit for Java<br>
Message:<br><br>
<pre>Hi all,

I would like to announce a new open source project called Restlet. 
Its mission is to bring the simplicity and efficiency of the REST
architectural style to Java developers.

It is composed of two parts:
   1)The Restlet API
    * Supports all REST concepts (resource, representation, data,
      connector, components, etc.)
    * Suitable for both client and server REST applications
    * Maplets handle hierarchical URIs with advanced pattern 
      matching features
    * Chainlets filter calls to implement logging, authentication
      or compression features
    * Complete alternative to Servlet API with no external 
      dependency (JAR &lt; 50kb)
    * Supports blocking and non-blocking NIO modes

   2)The Noelios Restlet Engine (NRE)
    * Reference implementation of the Restlet API (core JAR &lt; 60kb)
    * Server connector provided: HTTP (via Jetty connectors)
    * Client connectors provided: HTTP, JDBC, SMTP (via JavaMail)
    * Support for logging (LoggerChainlet) and URI rewriting
      (RedirectRestlet)
    * Static files serving (DirectoryRestlet) with metadata 
      association based on file extensions
    * FreeMarker template representations as an alternative to 
      JSP pages
    * Automatic server-side content negotiation based on media 
      type and language

Please check http://www.restlet.org for details. I'm looking forward
for your comments.

Thanks,
Jerome Louvel




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5628<br>
Sender:Christian Jensen &lt;christianj@...&gt;<br>
Post Date/Time:2005-12-23 15:50:16<br>
Subject:Re: [rest-discuss] Restlet, a REST toolkit for Java<br>
Message:<br><br>
<pre>I read the tutorial - well done. I would like to comment that I think 
there needs to be a slighly more complex example, such as one 
incorporating HTTP Authentication and more details on how /username/ vs 
/username/orders/ would be handled.

Jerome Louvel wrote:

&gt; Hi all,
&gt;
&gt; I would like to announce a new open source project called Restlet.
&gt; Its mission is to bring the simplicity and efficiency of the REST
&gt; architectural style to Java developers.
&gt;
&gt; It is composed of two parts:
&gt;    1)The Restlet API
&gt;     * Supports all REST concepts (resource, representation, data,
&gt;       connector, components, etc.)
&gt;     * Suitable for both client and server REST applications
&gt;     * Maplets handle hierarchical URIs with advanced pattern
&gt;       matching features
&gt;     * Chainlets filter calls to implement logging, authentication
&gt;       or compression features
&gt;     * Complete alternative to Servlet API with no external
&gt;       dependency (JAR &lt; 50kb)
&gt;     * Supports blocking and non-blocking NIO modes
&gt;
&gt;    2)The Noelios Restlet Engine (NRE)
&gt;     * Reference implementation of the Restlet API (core JAR &lt; 60kb)
&gt;     * Server connector provided: HTTP (via Jetty connectors)
&gt;     * Client connectors provided: HTTP, JDBC, SMTP (via JavaMail)
&gt;     * Support for logging (LoggerChainlet) and URI rewriting
&gt;       (RedirectRestlet)
&gt;     * Static files serving (DirectoryRestlet) with metadata
&gt;       association based on file extensions
&gt;     * FreeMarker template representations as an alternative to
&gt;       JSP pages
&gt;     * Automatic server-side content negotiation based on media
&gt;       type and language
&gt;
&gt; Please check http://www.restlet.org for details. I'm looking forward
&gt; for your comments.
&gt;
&gt; Thanks,
&gt; Jerome Louvel
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; SPONSORED LINKS
&gt; Protocol analyzer 
&gt; &lt;http://groups.yahoo.com/gads?t=ms&amp;k=Protocol+analyzer&amp;w1=Protocol+analyzer&amp;w2=Ssl+protocol&amp;w3=Protocol+converter&amp;w4=Sip+protocol&amp;w5=Protocol+analysis&amp;w6=Protocol&amp;c=6&amp;s=120&amp;.sig=-vNi0F9sGxz3wJiUypOlsA&gt; 
&gt; 	Ssl protocol 
&gt; &lt;http://groups.yahoo.com/gads?t=ms&amp;k=Ssl+protocol&amp;w1=Protocol+analyzer&amp;w2=Ssl+protocol&amp;w3=Protocol+converter&amp;w4=Sip+protocol&amp;w5=Protocol+analysis&amp;w6=Protocol&amp;c=6&amp;s=120&amp;.sig=QcUDWIbIdXkmz4QSFhqszw&gt; 
&gt; 	Protocol converter 
&gt; &lt;http://groups.yahoo.com/gads?t=ms&amp;k=Protocol+converter&amp;w1=Protocol+analyzer&amp;w2=Ssl+protocol&amp;w3=Protocol+converter&amp;w4=Sip+protocol&amp;w5=Protocol+analysis&amp;w6=Protocol&amp;c=6&amp;s=120&amp;.sig=8MMcEvfzdk5saYSJv-2g3g&gt; 
&gt;
&gt; Sip protocol 
&gt; &lt;http://groups.yahoo.com/gads?t=ms&amp;k=Sip+protocol&amp;w1=Protocol+analyzer&amp;w2=Ssl+protocol&amp;w3=Protocol+converter&amp;w4=Sip+protocol&amp;w5=Protocol+analysis&amp;w6=Protocol&amp;c=6&amp;s=120&amp;.sig=X7aZ6IACnEQUtAC57u829w&gt; 
&gt; 	Protocol analysis 
&gt; &lt;http://groups.yahoo.com/gads?t=ms&amp;k=Protocol+analysis&amp;w1=Protocol+analyzer&amp;w2=Ssl+protocol&amp;w3=Protocol+converter&amp;w4=Sip+protocol&amp;w5=Protocol+analysis&amp;w6=Protocol&amp;c=6&amp;s=120&amp;.sig=SI1LEHwb69y6gddZAv_Fuw&gt; 
&gt; 	Protocol 
&gt; &lt;http://groups.yahoo.com/gads?t=ms&amp;k=Protocol&amp;w1=Protocol+analyzer&amp;w2=Ssl+protocol&amp;w3=Protocol+converter&amp;w4=Sip+protocol&amp;w5=Protocol+analysis&amp;w6=Protocol&amp;c=6&amp;s=120&amp;.sig=aCiMFP0b3kFn96wqrZacGA&gt; 
&gt;
&gt;
&gt;
&gt; ------------------------------------------------------------------------
&gt; YAHOO! GROUPS LINKS
&gt;
&gt;     *  Visit your group "rest-discuss
&gt;       &lt;http://groups.yahoo.com/group/rest-discuss&gt;" on the web.
&gt;        
&gt;     *  To unsubscribe from this group, send an email to:
&gt;        rest-discuss-unsubscribe@yahoogroups.com
&gt;       &lt;mailto:rest-discuss-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;
&gt;        
&gt;     *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of
&gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.
&gt;
&gt;
&gt; ------------------------------------------------------------------------
&gt;
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5629<br>
Sender:Jim Ancona &lt;jim@...&gt;<br>
Post Date/Time:2005-12-23 16:15:39<br>
Subject:Re: [rest-discuss] Restlet, a REST toolkit for Java<br>
Message:<br><br>
<pre>Christian Jensen wrote:
&gt; I read the tutorial - well done. I would like to comment that I think 
&gt; there needs to be a slighly more complex example, such as one 
&gt; incorporating HTTP Authentication and more details on how /username/ vs 
&gt; /username/orders/ would be handled.
 &gt;
 &gt; Jerome Louvel wrote:
 &gt;&gt; Hi all,
 &gt;&gt;
 &gt;&gt; I would like to announce a new open source project called Restlet.
 &gt;&gt; Its mission is to bring the simplicity and efficiency of the REST
 &gt;&gt; architectural style to Java developers.

I started playing with Restlet after seeing Mark Baker's blog post about 
it a few days back.[1]

I'll second both the compliment and the request for more examples and/or 
documentation. I tried to extend the tutorial code to do something like 
what Christian describes, but I didn't have too much luck even after 
playing with Restlets and Maplets for an hour or so. I plan to try some 
more soon.

Also, I get an empty document rather than a 404 when I try to access a 
URI with no restlet to handle it. Is that a feature or a bug :-)? If 
it's a feature, is there a way to override it?

Jim

[1] - 
http://www.markbaker.ca/2002/09/Blog/2005/12/16#deliciousdistobj.Noelios___Restl...eased

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5630<br>
Sender:"Jerome Louvel" &lt;jerome_louvel@...&gt;<br>
Post Date/Time:2005-12-23 16:54:35<br>
Subject:RE: [rest-discuss] Restlet, a REST toolkit for Java<br>
Message:<br><br>
<pre>Christian, Jim,

Thanks for the feed-back!

1) The tutorial should definitely be expanded. 
I've added a related issue with high priority. 
http://restlet.tigris.org/issues/show_bug.cgi?id=24

There is also a plan to write a developer guide 
when time permit. For now, I'll focus on detailling
the Javadocs.

2) There is no built-in support for HTTP authentication yet. 
However, if this is blocking you, you could perfectly implement
such a feature yourself. A feature request was entered at:
http://restlet.tigris.org/issues/show_bug.cgi?id=23

3) When no matching restlet is found, the RestletContainer
(or any Maplet) indeed returns a 404 error. 

However, no output representation is provided by default. 
To provide one, use the UniformCall.setOutput() method. 
You can return any representation, plain text, XHTML, etc.

To check the HTTP status code returned and other headers, 
I recommand the following Firefox extension:
http://livehttpheaders.mozdev.org/

Thanks,
Jerome


	

	
		
___________________________________________________________________________ 
Nouveau : tlphonez moins cher avec Yahoo! Messenger ! Dcouvez les tarifs exceptionnels pour appeler la France et l'international.
Tlchargez sur http://fr.messenger.yahoo.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5631<br>
Sender:"Mark Cidade" &lt;marxidad@...&gt;<br>
Post Date/Time:2005-12-24 01:29:40<br>
Subject:RE: [rest-discuss] REST clients in .NET?<br>
Message:<br><br>
<pre>You'd use the System.Net.HttpWebRequest class to get a representation of a
resource via HTTP. To HTTP GET on a resource with a return content-type of
XML, you'd do something like this (in C#):

using System;
using System.Net;
using System.Xml;

HttpWebRequest request = new HttpWebRequest(new
Uri("http://example.com/whatever"));
XmlDocument    xmlDoc  = new XmlDocument();

xmlDoc.Load(request.GetResponse().GetResponseStream());


 &gt; -----Original Message-----
 &gt; From: rest-discuss@yahoogroups.com 
 &gt; [mailto:rest-discuss@yahoogroups.com] On Behalf Of Justin T. Sampson
 &gt; Sent: December 22, 2005 3:16 PM
 &gt; To: rest-discuss@yahoogroups.com
 &gt; Subject: [rest-discuss] REST clients in .NET?
 &gt; 
 &gt; Hi All,
 &gt; 
 &gt; Quick question -- what are people using for REST clients in .NET? We
 &gt; have a customer who's comfortable with SOAP and wants to know how to
 &gt; do the same thing with our REST interface that he usually does with
 &gt; SOAP interfaces, such as having the IDE generate wrapper code.
 &gt; 
 &gt; I don't know anything about the .NET networking libraries, so even
 &gt; answers about basic HTTP usage and XML parsing will be greatly
 &gt; appreciated.
 &gt; 
 &gt; Cheers,
 &gt; Justin
 &gt; 
 &gt; 
 &gt; ------------------------ Yahoo! Groups Sponsor 
 &gt; --------------------~--&gt; 
 &gt; Get Bzzzy! (real tools to help you find a job). Welcome to 
 &gt; the Sweet Life.
 &gt; http://us.click.yahoo.com/KIlPFB/vlQLAA/TtwFAA/W6uqlB/TM
 &gt; -------------------------------------------------------------
 &gt; -------~-&gt; 
 &gt; 
 &gt;  
 &gt; Yahoo! Groups Links
 &gt; 
 &gt; 
 &gt; 
 &gt;  
 &gt; 
 &gt; 




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5632<br>
Sender:toydi &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2005-12-26 00:24:08<br>
Subject:Is it possible to use SOAP in REST way?<br>
Message:<br><br>
<pre>Hi all,

I just stumbled upon Werner's early article: "Web Services Are Not
Distributed Objects" [1].

Here's a quote from the article:
"Given that Web services are based on XML documents and document
exchange, we could say their technological underpinning is
document-oriented computing."

I'm not good in SOAP and WS, in fact, most of my understandings about
SOAP are actually coming from most "REST vs SOAP" articles.

So, if we treat SOAP as XML document and XML document exchange, is it
possible to use SOAP in a way which respect to REST style, in order to
utilize for example, existing Web cache management, improve visibility
and late-binding of resources?

[1] http://weblogs.cs.cornell.edu/AllThingsDistributed/archives/000343.html

Cheers,
--
Teo HuiMing (toydi)
teohuiming at gmail dot com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5633<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2005-12-26 03:55:08<br>
Subject:Re: [rest-discuss] Is it possible to use SOAP in REST way?<br>
Message:<br><br>
<pre>On Mon, 2005-12-26 at 08:24 +0800, toydi wrote:
&gt; I just stumbled upon Werner's early article: "Web Services Are Not
&gt; Distributed Objects" [1].
&gt; Here's a quote from the article:
&gt; "Given that Web services are based on XML documents and document
&gt; exchange, we could say their technological underpinning is
&gt; document-oriented computing."
&gt; 
&gt; So, if we treat SOAP as XML document and XML document exchange, is it
&gt; possible to use SOAP in a way which respect to REST style, in order to
&gt; utilize for example, existing Web cache management, improve visibility
&gt; and late-binding of resources?

It is theoretically possible to implement a RESTful architecture based
on SOAP, but in practice it doesn't make a whole lot of sense. Like
CORBA before it, SOAP is designed to extend the Object-Oriented model
out onto the network. O-O thinking is bound up in application-specific
baseclasses and function semantics. REST would require all such
semantics to be removed, and only semantics everyone understood to be
used.

The definition of REST I use[1] requires that both standard methods
(like SOAP function calls) and standard media types (like the parameters
a SOAP function may support) be used. The Object-oriented model doesn't
really fit this mould. You could effectively model this view of REST as
an O-O baseclass with polymorphic versions of each function for each
existing media type. HTTP handles this model better by separating the
definition of the function call protocol (HTTP itself) from the function
call parameter format (the media type). It is probably worth pointing
out that my definition does not permit arbitrary XML to be used in REST,
either... at least not unless the server has supplied a form or other
information describing how to build the XML to be submitted. The
boundary for me between REST and non-REST is about whether you have to
write an industry- or application- specific client application or
browser extension. If you do, you aren't doing REST. REST is built
around universal concepts only.

As for using a SOAP document as the media type in a HTTP interaction,
the main thing to worry about is whether your are trying to tunnel
another architecture through the REST architecture. If the SOAP document
itself has methods that are not standard then in my opinion you are not
doing REST. The document would have to be something that could be
understood by a range of clients from different industries outside the
context of the HTTP request to rank as a standard media type in my
books. That means it would have to "be" something that represents a
fairly universal concept, like "image/*" or "text/*". The question to
ask is "could I fit it into the current MIME system without prefixing it
with application/"?

-- 
Benjamin Carlyle &lt;benjamincarlyle@...&gt;
[1] http://rest.blueoxen.net/cgi-bin/wiki.pl?BenjaminCarlyle


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5634<br>
Sender:toydi &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2005-12-27 00:10:16<br>
Subject:Re: [rest-discuss] Is it possible to use SOAP in REST way?<br>
Message:<br><br>
<pre>Hi,

On 12/26/05, Benjamin Carlyle &lt;benjamincarlyle@...&gt; wrote:
&gt; It is theoretically possible to implement a RESTful architecture based
&gt; on SOAP, but in practice it doesn't make a whole lot of sense. Like
&gt; CORBA before it, SOAP is designed to extend the Object-Oriented model
&gt; out onto the network. O-O thinking is bound up in application-specific
&gt; baseclasses and function semantics. REST would require all such
&gt; semantics to be removed, and only semantics everyone understood to be
&gt; used.

Found another two related articles about distributed objects in web services:

http://www.pacificspirit.com/blog/2004/01/12/web_services_or_distributed_objects
http://www.pacificspirit.com/blog/2004/11/19/web_services_vs_distributed_objects_ii

I just realize there are more articles that tending to separate the
distributed object concept from web services, but why are we still
using SOAP, WSDL in an OO way? Is there any examples/tutorials that
demonstrate the use of SOAP without OO thinking? Or is it not
practical in doing so? (Ah, it's confusing in my head now ;-)

&gt; The document would have to be something that could be
&gt; understood by a range of clients from different industries outside the
&gt; context of the HTTP request to rank as a standard media type in my
&gt; books. That means it would have to "be" something that represents a
&gt; fairly universal concept, like "image/*" or "text/*". The question to
&gt; ask is "could I fit it into the current MIME system without prefixing it
&gt; with application/"?

I get what you mean. But just a minor question, why not
"application/", since ATOM is registered under "application/atom+xml"?


Cheers,
--
Teo HuiMing (toydi)
teohuiming at gmail dot com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5635<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-12-27 02:21:01<br>
Subject:Re: [rest-discuss] Is it possible to use SOAP in REST way?<br>
Message:<br><br>
<pre>On 12/25/05, toydi &lt;teohuiming.work@...&gt; wrote:
&gt; So, if we treat SOAP as XML document and XML document exchange, is it
&gt; possible to use SOAP in a way which respect to REST style, in order to
&gt; utilize for example, existing Web cache management, improve visibility
&gt; and late-binding of resources?

Absolutely.  Just use it as you would RSS or ATOM.

Mark.
--
Mark Baker.  Ottawa, Ontario, CANADA.       http://www.markbaker.ca
Coactus; Web-inspired integration strategies  http://www.coactus.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5636<br>
Sender:"Justin T. Sampson" &lt;justin@...&gt;<br>
Post Date/Time:2005-12-27 03:57:21<br>
Subject:Re: [rest-discuss] Is it possible to use SOAP in REST way?<br>
Message:<br><br>
<pre>Teo HuiMing (toydi) wrote:

&gt; I just stumbled upon Werner's early article: "Web Services Are
&gt; Not Distributed Objects".
&gt;
&gt; [...]
&gt;
&gt; http://weblogs.cs.cornell.edu/AllThingsDistributed/archives/000343.html

Interesting... In this article, Werner Vogels is adamant that "Web
services" should not be treated as RPC, but he is just as adamant
that they should not be constrained by REST. That is, Web services
aren't about RPC, but they also aren't about the Web.

From the conclusion:

"Web services technology will have a dramatic enabling effect on
worldwide interoperable distributed computing once everyone
recognizes that Web services are about interoperable
document-centric computing, not distributed objects."

And here's the only mention of REST:

"Several forums, such as the W3C Web Services Architecture working
group, have witnessed a high-profile debate over the past few
months about applying representational state transfer (REST)
principles to Web services architectures. (REST principles
underpin many of the scalable Web-resource naming and access
mechanisms.) This debate about Web principles is valuable,
particularly with respect to resource identification and operation
visibility, but it is quickly becoming irrelevant to the bigger
picture as transport independence surpasses the Web's importance
to Web services. The REST principles are relevant for HTTP
bindings, and for the Web server's parsing of resource names, but
they are useless in the context of TCP or message-queue bindings
where the HTTP verbs do not apply."

I'll have to think about this some more; I'm not entirely sure
what to make of it yet.

Cheers,
Justin
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5637<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2005-12-27 04:28:51<br>
Subject:Re: [rest-discuss] Is it possible to use SOAP in REST way?<br>
Message:<br><br>
<pre>On Dec 26, 2005, at 7:57 PM, Justin T. Sampson quoted from:

&gt;&gt; http://weblogs.cs.cornell.edu/AllThingsDistributed/archives/ 
&gt;&gt; 000343.html

&gt; "... The REST principles are relevant for HTTP
&gt; bindings, and for the Web server's parsing of resource names, but
&gt; they are useless in the context of TCP or message-queue bindings
&gt; where the HTTP verbs do not apply."
&gt;
&gt; I'll have to think about this some more; I'm not entirely sure
&gt; what to make of it yet.

Methinks he doesn't understand principles.  An HTTP server is a
particular form of message queue on TCP, so if REST didn't apply
in that case then it wouldn't apply to HTTP.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5638<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2005-12-27 04:53:29<br>
Subject:Re: [rest-discuss] Is it possible to use SOAP in REST way?<br>
Message:<br><br>
<pre>On 12/26/05, Justin T. Sampson &lt;justin@...&gt; wrote:
&gt; "Several forums, such as the W3C Web Services Architecture working
&gt; group, have witnessed a high-profile debate over the past few
&gt; months about applying representational state transfer (REST)
&gt; principles to Web services architectures. (REST principles
&gt; underpin many of the scalable Web-resource naming and access
&gt; mechanisms.) This debate about Web principles is valuable,
&gt; particularly with respect to resource identification and operation
&gt; visibility, but it is quickly becoming irrelevant to the bigger
&gt; picture as transport independence surpasses the Web's importance
&gt; to Web services. The REST principles are relevant for HTTP
&gt; bindings, and for the Web server's parsing of resource names, but
&gt; they are useless in the context of TCP or message-queue bindings
&gt; where the HTTP verbs do not apply."
&gt;
&gt; I'll have to think about this some more; I'm not entirely sure
&gt; what to make of it yet.

Werner's making the same mistake as most other Web services
proponents; failing to distinguish between the different roles of
transport and transfer protocols.  Because of this misunderstanding,
he also misses the significance of HTTP to document oriented
computing.

It's ironic too, because he's now Amazon's CTO.  Although looking at
the design of Amazon's services, it seems they don't appreciate the
architectural differences between their "REST" and "SOAP" services;
they seem to think it's just an encoding difference.

Mark.
--
Mark Baker.  Ottawa, Ontario, CANADA.       http://www.markbaker.ca
Coactus; Web-inspired integration strategies  http://www.coactus.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5639<br>
Sender:Benjamin Carlyle &lt;benjamincarlyle@...&gt;<br>
Post Date/Time:2005-12-27 14:43:29<br>
Subject:Re: [rest-discuss] Is it possible to use SOAP in REST way?<br>
Message:<br><br>
<pre>On Tue, 2005-12-27 at 08:10 +0800, toydi wrote:
&gt; On 12/26/05, Benjamin Carlyle &lt;benjamincarlyle@...&gt; wrote:
&gt; &gt; The document would have to be something that could be
&gt; &gt; understood by a range of clients from different industries outside the
&gt; &gt; context of the HTTP request to rank as a standard media type in my
&gt; &gt; books. That means it would have to "be" something that represents a
&gt; &gt; fairly universal concept, like "image/*" or "text/*". The question to
&gt; &gt; ask is "could I fit it into the current MIME system without prefixing it
&gt; &gt; with application/"?
&gt; I get what you mean. But just a minor question, why not
&gt; "application/", since ATOM is registered under "application/atom+xml"?

I think the introduction of xml has confused this scheme somewhat, as
this specification seems geared towards telling us that "atom is encoded
as xml" rather than "atom is full of human readable blog entries". Atom
is confused again by its ambition to be a transport protocol in its own
right, possibly including podcasts of mp3s rather than xhtml content. My
thinking is that atom's importance will be eclipsed by hAtom, the
microformat that follows its data model. That will clearly be "text", as
it is embedded in xhtml. Plain atom can then focus on being for podcasts
and all sorts of other media ;)

It isn't a hard and fast rule, but the reason I don't include
application mime types in my view of REST is that "application" doesn't
mean anything semantically. It just says "some data". application/xml
falls outside my definition of REST because it carries application- and
industry-specific semantics. Its semantics aren't necessarily grounded
in universal concepts. On the other hand, text/html is grounded in the
universal text concept. Other forms of html (no matter how they are
categorised in any current perverted MIME) also contain universal
semantics. They are part of REST for me.

-- 
Benjamin Carlyle &lt;benjamincarlyle@...&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5640<br>
Sender:toydi &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2005-12-28 06:04:43<br>
Subject:Re: [rest-discuss] Is it possible to use SOAP in REST way?<br>
Message:<br><br>
<pre>Hi Benjamin,

On 12/27/05, Benjamin Carlyle &lt;benjamincarlyle@....au&gt; wrote:
&gt; application/xml
&gt; falls outside my definition of REST because it carries application- and
&gt; industry-specific semantics. Its semantics aren't necessarily grounded
&gt; in universal concepts. On the other hand, text/html is grounded in the
&gt; universal text concept. Other forms of html (no matter how they are
&gt; categorised in any current perverted MIME) also contain universal
&gt; semantics. They are part of REST for me.

Another question jumps into my mind about media type semantics.

How will you express this request below in HTTP syntax:
"I prefer a ATOM formatted representation of the blog entry with its
URL: /foo/bar".

Now, what about this:
"I prefer a hAtom microformatted XHTML representation of the blog
entry with its URL: /foo/bar".

When we are transferring representations, isn't it a good practice to
specify exactly what media type we prefer to receive or what
content-type we sent? If not mistaken, some had advised not to use
"application/xml" media type while transferring a representation,
since it does not describe semantics about the representation.

Without the help of Forms (e.g RDForm, HTML FORM etc) provided by
servers, it seems to be important to state the "specific" accepted
media-types, or else clients would have no clue what they required to
send. For example, how will Server express that it accepts ATOM
document but not any other XML document formats?

In this case, when talking about "universal semantics", do you mean a
good media-type should be widely deployed, or recognized as standard
among majority. Or do you mean media-type should be as general as
possible even to sacrifice its capability of describing the semantics
of a representation?

There is another overloading situation, where we just use a single
"application/xml" media type in communications, when we actually mean
ATOM, RSS or SOAP. The same thing which bothering me is overloading
"text/html" or "application/xhtml+xml" when we actually means hAtom,
hCard. The problem is Server could not inform Client that it accepts
hAtom and not other XHTML document.

This overloading confusion starts bothering when I attempt to use HTTP
as publishing protocol for microformats. How to post a hAtom when
Server can't even express that it accepts hAtom? I am certainly
walking on the wrong path. ;-)

Cheers,
--
Teo HuiMing (toydi)
teohuiming.work at gmail dot com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5641<br>
Sender:"Jerome Louvel" &lt;jerome_louvel@...&gt;<br>
Post Date/Time:2005-12-28 18:07:37<br>
Subject:RE: [rest-discuss] Restlet, a REST toolkit for Java<br>
Message:<br><br>
<pre>Hi all,

I've just released a new version of Restlets which includes two changes
related to this discussion:

1) An extended and reworked tutorial that includes a "username/ vs
/username/orders/" example requested by Christian. See
http://www.restlet.org/tutorial

2) A new StatusChainlet providing a pluggable mechanism to handle errors and
display status pages (customizable) as requested by Jim.

Complete list of changes:
http://blog.noelios.com/2005/12/28/restlet-017-beta-released/

Direct download link:
http://www.restlet.org/downloads/restlet-0.17b.zip

Thanks,
Jerome


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:5642<br>
Sender:"Jerome Louvel" &lt;jerome_louvel@...&gt;<br>
Post Date/Time:2005-12-29 15:24:32<br>
Subject:Re: RESTful interface to POP3/SMTP?<br>
Message:<br><br>
<pre>Andrzej,

There is a client mail connector in the Restlet project that provides
a RESTful access to SMTP servers. See the JavaMailClient class:
http://www.restlet.org/docs/nre/com/noelios/restlet/ext/javamail/JavaMailClient.html

Jerome Louvel
http://www.restlet.org


Andrzej Jan Taramina a crit :
&gt; Anyone know if there are RESTful interfaces available (preferably
open source) that wrap access to POP3 and/or SMTP servers?
&gt;
&gt; Thanks!
&gt;
&gt;
&gt; Andrzej Jan Taramina
&gt; Chaeron Corporation: Enterprise System Solutions
&gt; http://www.chaeron.com




</pre><br><br><br><br><br>
