<style>pre {white-space: pre-wrap;}</style>
-----------------------------------------------------------------------------------<br>
Post ID:10154<br>
Sender:Etan Wexler &lt;yahoo.com@...&gt;<br>
Post Date/Time:2008-01-01 03:57:17<br>
Subject:Permathorn: misleading, vestigial e-mail titling [rest-discuss] [OT]<br>
Message:<br><br>
<pre>I dislike the practice of reusing a title ("Subject" line) from one
e-mail message on another e-mail message when the topic under discussion
has shifted dramatically between the two messages. When I glance at an
index of dozens or hundreds of messages, the titles, as given in the
"Subject" header fields, would be a great place to gauge my interest in
reading the respective messages. That is, the titles would be a great
place to gauge my interest if people bothered to craft the titles to
match the content. People frequently fail to do so, instead writing
e-mail responses in which the topic wanders but the old title remains
(excepting minor variations that e-mail user agents introduce). Did I
mention how unpalatable this failure is when prioritizing one's reading?

I expect that the overwhelming majority of people who read my
observations and recommendations will continue in poor form. The reason
that I now write is not to reform humanity. I write to vent my
frustration. If, along the way, I manage to influence anybody in a
positive direction, I'll consider the influence to be a bonus.

-- 
Sincerely,
Etan Wexler, who recently waded through a rash of messages with
misleading titles like "RESTful design for Articles &amp; Tags?" (the
original, reasonably titled message having archival copy
&lt;http://tech.groups.yahoo.com/group/rest-discuss/message/10081&gt;).


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10155<br>
Sender:"Ebenezer Ikonne" &lt;amaeze@...&gt;<br>
Post Date/Time:2008-01-01 05:44:08<br>
Subject:Re: Introductory REST Article<br>
Message:<br><br>
<pre>

--- In rest-discuss@yahoogroups.com, Stefan Tilkov &lt;stefan.tilkov@...&gt;
wrote:
&gt;
&gt; I've written an introductory article about REST for InfoQ:
&gt;
&gt; http://www.infoq.com/articles/rest-introduction
&gt;
&gt; Feedback is most welcome.
&gt;
&gt; BTW: InfoQ is still looking for article contributions regarding REST,
&gt; Web-style, RESTful Web services (or whatever your favorite moniker for
&gt; "using the Web as it's supposed to be used" is).
&gt;
&gt; Thanks,
&gt; Stefan
&gt;

Good article howver the business operation "submitOrder" was not taken
care of.  For anyone seriously thinking of adopting REST and making a
mindshift change, they'd probably appreciate seeing you show the
resource and method used to handle this




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10156<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-01-02 08:11:04<br>
Subject:Re: [rest-discuss] Re: Introductory REST Article<br>
Message:<br><br>
<pre>On Jan 1, 2008, at 6:44 AM, Ebenezer Ikonne wrote:

&gt;
&gt;
&gt; --- In rest-discuss@yahoogroups.com, Stefan Tilkov &lt;stefan.tilkov@...&gt;
&gt; wrote:
&gt; &gt;
&gt; &gt; I've written an introductory article about REST for InfoQ:
&gt; &gt;
&gt; &gt; http://www.infoq.com/articles/rest-introduction
&gt; &gt;
&gt; &gt; Feedback is most welcome.
&gt; &gt;
&gt; &gt; BTW: InfoQ is still looking for article contributions regarding  
&gt; REST,
&gt; &gt; Web-style, RESTful Web services (or whatever your favorite moniker  
&gt; for
&gt; &gt; "using the Web as it's supposed to be used" is).
&gt; &gt;
&gt; &gt; Thanks,
&gt; &gt; Stefan
&gt; &gt;
&gt;
&gt; Good article howver the business operation "submitOrder" was not taken
&gt; care of. For anyone seriously thinking of adopting REST and making a
&gt; mindshift change, they'd probably appreciate seeing you show the
&gt; resource and method used to handle this
&gt;
&gt;

Thanks - the resource diagram says "add a new order" when it should  
really be "submit order". I'll clarify this in an update (I use this  
diagram a lot).

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10157<br>
Sender:"Ebenezer Ikonne" &lt;amaeze@...&gt;<br>
Post Date/Time:2008-01-02 15:02:23<br>
Subject:Re: Introductory REST Article<br>
Message:<br><br>
<pre>

--- In rest-discuss@yahoogroups.com, Stefan Tilkov &lt;stefan.tilkov@...&gt;
wrote:
&gt;
&gt; On Jan 1, 2008, at 6:44 AM, Ebenezer Ikonne wrote:
&gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; --- In rest-discuss@yahoogroups.com, Stefan Tilkov stefan.tilkov@
&gt; &gt; wrote:
&gt; &gt; &gt;
&gt; &gt; &gt; I've written an introductory article about REST for InfoQ:
&gt; &gt; &gt;
&gt; &gt; &gt; http://www.infoq.com/articles/rest-introduction
&gt; &gt; &gt;
&gt; &gt; &gt; Feedback is most welcome.
&gt; &gt; &gt;
&gt; &gt; &gt; BTW: InfoQ is still looking for article contributions regarding
&gt; &gt; REST,
&gt; &gt; &gt; Web-style, RESTful Web services (or whatever your favorite moniker
&gt; &gt; for
&gt; &gt; &gt; "using the Web as it's supposed to be used" is).
&gt; &gt; &gt;
&gt; &gt; &gt; Thanks,
&gt; &gt; &gt; Stefan
&gt; &gt; &gt;
&gt; &gt;
&gt; &gt; Good article howver the business operation "submitOrder" was not
taken
&gt; &gt; care of. For anyone seriously thinking of adopting REST and making a
&gt; &gt; mindshift change, they'd probably appreciate seeing you show the
&gt; &gt; resource and method used to handle this
&gt; &gt;
&gt; &gt;
&gt;
&gt; Thanks - the resource diagram says "add a new order" when it should
&gt; really be "submit order". I'll clarify this in an update (I use this
&gt; diagram a lot).
&gt;
&gt; Stefan
&gt; --
&gt; Stefan Tilkov, http://www.innoq.com/blog/st/
&gt;

Ah, so 'submit order' is pretty much the creation of an order.  I
actually thought 'submit order" had a different meaning which is why I
made my comment.  The content is very good for an introductory article. 
I hope to see a more intermediate article soon.




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10158<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2008-01-02 15:19:34<br>
Subject:Re: [rest-discuss] Re: Introductory REST Article<br>
Message:<br><br>
<pre>On Jan 2, 2008 9:02 AM, Ebenezer Ikonne &lt;amaeze@...&gt; wrote:
&gt;  Ah, so 'submit order' is pretty much the creation of an order. I
&gt;  actually thought 'submit order" had a different meaning which is why I
&gt;  made my comment.

I had the same question.  My usual interpretation is that creating an
order is different from submitting an order.

An order is an offer to buy.  It usually goes through a business
protocol called Offer-Acceptance (Google for it).

Submit order usually means submit the offer to the seller to see if it
is accepted or not.

So for example you might create an order and save it as a resource
without submitting it for acceptance.  Maybe even change it before
submitting it, since changing it after acceptance means another
offer-acceptance protocol for the changes.

But Stefan's case appears to be a design for the seller's internal
system, where creating an order may mean it already has been submitted
by the customer and accepted by the seller.

Or maybe I'm wrong...

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10159<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-02 15:27:57<br>
Subject:Amazon S3 Allows POST as alternate to PUT<br>
Message:<br><br>
<pre>Just FYI, from Amazon's Developer newsletter:

Amazon S3: Announcing POST Support
In response to customer feedback, we've added POST support for Amazon S3.
POST simplifies the process of uploading data by allowing you to upload
content directly from the browser to Amazon S3. In addition to simplifying
uploads, POST can reduce upload latency and save you money by eliminating
the need to generate the PUT request on your server.

http://docs.amazonwebservices.com/AmazonS3/2006-03-01/UsingHTTPPOST.html

This thanks to HTML's lack of PUT in forms and hence browser's obvious
support for PUT.  

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10160<br>
Sender:Subbu Allamaraju &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-01-02 16:03:22<br>
Subject:Re: [rest-discuss] how to do partial updates to resources<br>
Message:<br><br>
<pre>Why not just use &lt;bar&gt; as the document root element in the second case  
below? In that case, a PUT with root element foo would be a  
replacement request for the entire resource, where as a PUT for root  
element bar would imply a replacement of bar. Allowing such fine- 
grained updates may not always be feasible/desirable though.

Subbu
http://subbu.org

On Dec 23, 2007, at 8:49 AM, Elliotte Rusty Harold wrote:

&gt; Xavier Noria wrote:
&gt;
&gt;&gt; In general I would like to have a REST pattern for sending a *subset*
&gt;&gt; of attributes to be updated if that fits the REST paradigm, or else  
&gt;&gt; to
&gt;&gt; be certain it doesn't.
&gt;&gt;
&gt;
&gt; Yes, I'm currently trying to decide how to distinguish between
&gt;
&gt; &lt;foo&gt;
&gt;   &lt;bar&gt;23&lt;/bar
&gt;   &lt;baz&gt;17&lt;/baz&gt;
&gt; &lt;/foo&gt;
&gt;
&gt; and
&gt;
&gt; &lt;foo&gt;
&gt;   &lt;bar&gt;23&lt;/bar
&gt; &lt;/foo&gt;
&gt;
&gt; In particular does the latter eliminate baz, or simply ignore it? And
&gt; what if I need to do both in my app? In my case, the empty string is  
&gt; not
&gt; the same as null. perhaps I need something like
&gt;
&gt; &lt;foo&gt;
&gt;   &lt;bar&gt;23&lt;/bar
&gt;   &lt;baz xsi:nil='true'/&gt;
&gt; &lt;/foo&gt;
&gt;
&gt; I'm not sure. Suggestions are appreciated.
&gt;
&gt;
&gt;
&gt;
&gt; -- 
&gt; Elliotte Rusty Harold  elharo@...
&gt; Java I/O 2nd Edition Just Published!
&gt; http://www.cafeaulait.org/books/javaio2/
&gt; http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10161<br>
Sender:"Ebenezer Ikonne" &lt;amaeze@...&gt;<br>
Post Date/Time:2008-01-02 17:02:20<br>
Subject:Re: how to do partial updates to resources<br>
Message:<br><br>
<pre>

--- In rest-discuss@yahoogroups.com, Subbu Allamaraju
&lt;subbu.allamaraju@...&gt; wrote:
&gt;
&gt; Why not just use &lt;bar&gt; as the document root element in the second case
&gt; below? In that case, a PUT with root element foo would be a
&gt; replacement request for the entire resource, where as a PUT for root
&gt; element bar would imply a replacement of bar. Allowing such fine-
&gt; grained updates may not always be feasible/desirable though.
&gt;


I think this the approach that I would follow.  To give a more concrete
example, if  I have:

&lt;itemResource&gt;

&lt;item&gt;Dodge Stratus&lt;/item&gt;

&lt;itemDesc&gt;Light Green&lt;/itemDesc&gt;

&lt;/itemResource&gt;

and I wanted to change "itemDesc", then arepresentation I thought I
could send via PUT would be

&lt;itemDesc&gt; Light Blue &lt;/itemDesc&gt;

If  I am missing something, let me know.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10162<br>
Sender:"Ebenezer Ikonne" &lt;amaeze@...&gt;<br>
Post Date/Time:2008-01-02 17:05:23<br>
Subject:Re: Introductory REST Article<br>
Message:<br><br>
<pre>Even in an internal system, "submit" could mean something else.  It 
could indicate the need to process or fulfill the order.  These are the 
type of operations most people that I know are interested in REST want 
to see demonstrated.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10163<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-01-02 17:35:01<br>
Subject:Re: Unable to deliver your message<br>
Message:<br><br>
<pre>FWIW, I prefer to treat partial updates as if they are a different
resource than the full update.  That means I use a different URL for
partial updates. It keeps my server-side work clean, IMHO.

PUT /resource/{id}
&lt;resource&gt;
&lt;foo&gt;1&lt;/foo&gt;
&lt;bar&gt;1&lt;/bar&gt;
&lt;/resource&gt;

PUT /resource/{id}/foo
&lt;foo&gt;2&lt;/foo&gt;

Now I know that my server-side validation will be straightforward (no
accounting for possible optional items or 'fill in with existing
values' things to deal with). This also makes it possible for me to
create different access rules for partial updates (maybe only admins
can do partials, etc.).

MikeA

&gt; On Jan 2, 2008 12:02 PM, Ebenezer Ikonne &lt;amaeze@...&gt; wrote:
&gt; &gt;
&gt; &gt;
&gt; &gt; --- In rest-discuss@yahoogroups.com, Subbu Allamaraju
&gt; &gt; &lt;subbu.allamaraju@...&gt; wrote:
&gt; &gt; &gt;
&gt; &gt; &gt; Why not just use &lt;bar&gt; as the document root element in the second case
&gt; &gt; &gt; below? In that case, a PUT with root element foo would be a
&gt; &gt; &gt; replacement request for the entire resource, where as a PUT for root
&gt; &gt; &gt; element bar would imply a replacement of bar. Allowing such fine-
&gt; &gt; &gt; grained updates may not always be feasible/desirable though.
&gt; &gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; I think this the approach that I would follow.  To give a more concrete
&gt; &gt; example, if  I have:
&gt; &gt;
&gt; &gt; &lt;itemResource&gt;
&gt; &gt;
&gt; &gt; &lt;item&gt;Dodge Stratus&lt;/item&gt;
&gt; &gt;
&gt; &gt; &lt;itemDesc&gt;Light Green&lt;/itemDesc&gt;
&gt; &gt;
&gt; &gt; &lt;/itemResource&gt;
&gt; &gt;
&gt; &gt; and I wanted to change "itemDesc", then arepresentation I thought I
&gt; &gt; could send via PUT would be
&gt; &gt;
&gt; &gt; &lt;itemDesc&gt; Light Blue &lt;/itemDesc&gt;
&gt; &gt;
&gt; &gt; If  I am missing something, let me know.
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; Yahoo! Groups Links
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt;
&gt;
&gt;
&gt; --
&gt; mca
&gt; "In a time of universal deceit, telling the truth becomes a
&gt; revolutionary act. " (George Orwell)
&gt;
&gt;



-- 
mca
"In a time of universal deceit, telling the truth becomes a
revolutionary act. " (George Orwell)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10164<br>
Sender:Subbu Allamaraju &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-01-02 17:37:57<br>
Subject:Re: [rest-discuss] Re: Unable to deliver your message<br>
Message:<br><br>
<pre>
&gt; FWIW, I prefer to treat partial updates as if they are a different
&gt; resource than the full update.  That means I use a different URL for
&gt; partial updates. It keeps my server-side work clean, IMHO.
&gt;
&gt; PUT /resource/{id}
&gt; &lt;resource&gt;
&gt; &lt;foo&gt;1&lt;/foo&gt;
&gt; &lt;bar&gt;1&lt;/bar&gt;
&gt; &lt;/resource&gt;
&gt;
&gt; PUT /resource/{id}/foo
&gt; &lt;foo&gt;2&lt;/foo&gt;

Exactly. That's what I meant.

Subbu
http://subbu.org


&gt; Now I know that my server-side validation will be straightforward (no
&gt; accounting for possible optional items or 'fill in with existing
&gt; values' things to deal with). This also makes it possible for me to
&gt; create different access rules for partial updates (maybe only admins
&gt; can do partials, etc.).
&gt;
&gt; MikeA
&gt;
&gt;&gt; On Jan 2, 2008 12:02 PM, Ebenezer Ikonne &lt;amaeze@...&gt; wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; --- In rest-discuss@yahoogroups.com, Subbu Allamaraju
&gt;&gt;&gt; &lt;subbu.allamaraju@...&gt; wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Why not just use &lt;bar&gt; as the document root element in the second  
&gt;&gt;&gt;&gt; case
&gt;&gt;&gt;&gt; below? In that case, a PUT with root element foo would be a
&gt;&gt;&gt;&gt; replacement request for the entire resource, where as a PUT for  
&gt;&gt;&gt;&gt; root
&gt;&gt;&gt;&gt; element bar would imply a replacement of bar. Allowing such fine-
&gt;&gt;&gt;&gt; grained updates may not always be feasible/desirable though.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; I think this the approach that I would follow.  To give a more  
&gt;&gt;&gt; concrete
&gt;&gt;&gt; example, if  I have:
&gt;&gt;&gt;
&gt;&gt;&gt; &lt;itemResource&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; &lt;item&gt;Dodge Stratus&lt;/item&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; &lt;itemDesc&gt;Light Green&lt;/itemDesc&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; &lt;/itemResource&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; and I wanted to change "itemDesc", then arepresentation I thought I
&gt;&gt;&gt; could send via PUT would be
&gt;&gt;&gt;
&gt;&gt;&gt; &lt;itemDesc&gt; Light Blue &lt;/itemDesc&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; If  I am missing something, let me know.
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Yahoo! Groups Links
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; --
&gt;&gt; mca
&gt;&gt; "In a time of universal deceit, telling the truth becomes a
&gt;&gt; revolutionary act. " (George Orwell)
&gt;&gt;
&gt;&gt;
&gt;
&gt;
&gt;
&gt; -- 
&gt; mca
&gt; "In a time of universal deceit, telling the truth becomes a
&gt; revolutionary act. " (George Orwell)
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10165<br>
Sender:"Ebenezer Ikonne" &lt;amaeze@...&gt;<br>
Post Date/Time:2008-01-02 19:18:43<br>
Subject:Re: Unable to deliver your message<br>
Message:<br><br>
<pre>
I like this from an implementation perspective - driving everything via
resources and the URI is powerful.  However, when "many" properties can
be modified, the server-side implementation can begin to get very
kludgy.


--- In rest-discuss@yahoogroups.com, "mike amundsen" &lt;mamund@...&gt; wrote:
&gt;
&gt; FWIW, I prefer to treat partial updates as if they are a different
&gt; resource than the full update. That means I use a different URL for
&gt; partial updates. It keeps my server-side work clean, IMHO.
&gt;
&gt; PUT /resource/{id}
&gt; &lt;resource&gt;
&gt; &lt;foo&gt;1&lt;/foo&gt;
&gt; &lt;bar&gt;1&lt;/bar&gt;
&gt; &lt;/resource&gt;
&gt;
&gt; PUT /resource/{id}/foo
&gt; &lt;foo&gt;2&lt;/foo&gt;
&gt;
&gt; Now I know that my server-side validation will be straightforward (no
&gt; accounting for possible optional items or 'fill in with existing
&gt; values' things to deal with). This also makes it possible for me to
&gt; create different access rules for partial updates (maybe only admins
&gt; can do partials, etc.).
&gt;
&gt; MikeA
&gt;
&gt; &gt; On Jan 2, 2008 12:02 PM, Ebenezer Ikonne amaeze@... wrote:
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; --- In rest-discuss@yahoogroups.com, Subbu Allamaraju
&gt; &gt; &gt; subbu.allamaraju@ wrote:
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Why not just use &lt;bar&gt; as the document root element in the
second case
&gt; &gt; &gt; &gt; below? In that case, a PUT with root element foo would be a
&gt; &gt; &gt; &gt; replacement request for the entire resource, where as a PUT for
root
&gt; &gt; &gt; &gt; element bar would imply a replacement of bar. Allowing such
fine-
&gt; &gt; &gt; &gt; grained updates may not always be feasible/desirable though.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; I think this the approach that I would follow. To give a more
concrete
&gt; &gt; &gt; example, if I have:
&gt; &gt; &gt;
&gt; &gt; &gt; &lt;itemResource&gt;
&gt; &gt; &gt;
&gt; &gt; &gt; &lt;item&gt;Dodge Stratus&lt;/item&gt;
&gt; &gt; &gt;
&gt; &gt; &gt; &lt;itemDesc&gt;Light Green&lt;/itemDesc&gt;
&gt; &gt; &gt;
&gt; &gt; &gt; &lt;/itemResource&gt;
&gt; &gt; &gt;
&gt; &gt; &gt; and I wanted to change "itemDesc", then arepresentation I thought
I
&gt; &gt; &gt; could send via PUT would be
&gt; &gt; &gt;
&gt; &gt; &gt; &lt;itemDesc&gt; Light Blue &lt;/itemDesc&gt;
&gt; &gt; &gt;
&gt; &gt; &gt; If I am missing something, let me know.
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; Yahoo! Groups Links
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; --
&gt; &gt; mca
&gt; &gt; "In a time of universal deceit, telling the truth becomes a
&gt; &gt; revolutionary act. " (George Orwell)
&gt; &gt;
&gt; &gt;
&gt;
&gt;
&gt;
&gt; --
&gt; mca
&gt; "In a time of universal deceit, telling the truth becomes a
&gt; revolutionary act. " (George Orwell)
&gt;




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10166<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-01-02 19:35:59<br>
Subject:Fwd: [rest-discuss] Re: Partial Updates<br>
Message:<br><br>
<pre>(renamed subject to get back on track...)

Ebenezer:

yes, exposing a URL for each element of a partial update can be a
problem. Often I expose a single "update" resource that looks like
this:

PUT /resource/{id}/update
&lt;resource&gt;
  &lt;foo&gt;2&lt;.foo&gt;
  &lt;widget&gt;99&lt;/widget&gt;
  ...
&lt;/resource&gt;

In other words, this resource can have one or more elements that act
as partial updates to the underlying (via {id}) full resource. I can
then code partial update 'smarts' into the server-side code (validate
the document has one or more of the approved update-able elements;
locate the original resource, update each approved element that
exists, update caches as required, etc.).

This allows for PUT/POST for the full resource as expected and still
provides support for partial updates without using PATCH/diff
semantics.

Mike A
---------- Forwarded message ----------
From: Ebenezer Ikonne &lt;amaeze@...&gt;
Date: Jan 2, 2008 2:18 PM
Subject: [rest-discuss] Re: Unable to deliver your message
To: rest-discuss@yahoogroups.com



I like this from an implementation perspective - driving everything via
resources and the URI is powerful.  However, when "many" properties can
be modified, the server-side implementation can begin to get very
kludgy.


--- In rest-discuss@yahoogroups.com, "mike amundsen" &lt;mamund@...&gt; wrote:
&gt;
&gt; FWIW, I prefer to treat partial updates as if they are a different
&gt; resource than the full update. That means I use a different URL for
&gt; partial updates. It keeps my server-side work clean, IMHO.
&gt;
&gt; PUT /resource/{id}
&gt; &lt;resource&gt;
&gt; &lt;foo&gt;1&lt;/foo&gt;
&gt; &lt;bar&gt;1&lt;/bar&gt;
&gt; &lt;/resource&gt;
&gt;
&gt; PUT /resource/{id}/foo
&gt; &lt;foo&gt;2&lt;/foo&gt;
&gt;
&gt; Now I know that my server-side validation will be straightforward (no
&gt; accounting for possible optional items or 'fill in with existing
&gt; values' things to deal with). This also makes it possible for me to
&gt; create different access rules for partial updates (maybe only admins
&gt; can do partials, etc.).
&gt;
&gt; MikeA
&gt;
&gt; &gt; On Jan 2, 2008 12:02 PM, Ebenezer Ikonne amaeze@... wrote:
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; --- In rest-discuss@yahoogroups.com, Subbu Allamaraju
&gt; &gt; &gt; subbu.allamaraju@ wrote:
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Why not just use &lt;bar&gt; as the document root element in the
second case
&gt; &gt; &gt; &gt; below? In that case, a PUT with root element foo would be a
&gt; &gt; &gt; &gt; replacement request for the entire resource, where as a PUT for
root
&gt; &gt; &gt; &gt; element bar would imply a replacement of bar. Allowing such
fine-
&gt; &gt; &gt; &gt; grained updates may not always be feasible/desirable though.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; I think this the approach that I would follow. To give a more
concrete
&gt; &gt; &gt; example, if I have:
&gt; &gt; &gt;
&gt; &gt; &gt; &lt;itemResource&gt;
&gt; &gt; &gt;
&gt; &gt; &gt; &lt;item&gt;Dodge Stratus&lt;/item&gt;
&gt; &gt; &gt;
&gt; &gt; &gt; &lt;itemDesc&gt;Light Green&lt;/itemDesc&gt;
&gt; &gt; &gt;
&gt; &gt; &gt; &lt;/itemResource&gt;
&gt; &gt; &gt;
&gt; &gt; &gt; and I wanted to change "itemDesc", then arepresentation I thought
I
&gt; &gt; &gt; could send via PUT would be
&gt; &gt; &gt;
&gt; &gt; &gt; &lt;itemDesc&gt; Light Blue &lt;/itemDesc&gt;
&gt; &gt; &gt;
&gt; &gt; &gt; If I am missing something, let me know.
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; Yahoo! Groups Links
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;

&gt; &gt; --
&gt; &gt; mca
&gt; &gt; "In a time of universal deceit, telling the truth becomes a
&gt; &gt; revolutionary act. " (George Orwell)
&gt; &gt;
&gt; &gt;
&gt;
&gt;
&gt;
&gt; --
&gt; mca
&gt; "In a time of universal deceit, telling the truth becomes a
&gt; revolutionary act. " (George Orwell)
&gt;






Yahoo! Groups Links






-- 
mca
"In a time of universal deceit, telling the truth becomes a
revolutionary act. " (George Orwell)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10167<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-01-02 19:52:49<br>
Subject:Re: [rest-discuss] Re: Introductory REST Article<br>
Message:<br><br>
<pre>I've chosen to map "submit order" to a POST to the collection resource  
identified by /orders. The POST would return the URI of a new resource  
(the order) in a Location header.
For a generic client, everything should be fine since this is just  
standard behavior. (Another option would have been to use PUT, with  
the downside of the client having to choose the URI, and the benefit  
of being idempotent.)

For a client that's aware of the business semantics, it means  
submitting an order. Of course this would have to be communicated by  
means of documentation, possibly via some click-through agreement.

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/


On Jan 2, 2008, at 6:05 PM, Ebenezer Ikonne wrote:

&gt; Even in an internal system, "submit" could mean something else. It
&gt; could indicate the need to process or fulfill the order. These are the
&gt; type of operations most people that I know are interested in REST want
&gt; to see demonstrated.
&gt;
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10168<br>
Sender:"Ebenezer Ikonne" &lt;amaeze@...&gt;<br>
Post Date/Time:2008-01-02 20:56:51<br>
Subject:Re: Introductory REST Article<br>
Message:<br><br>
<pre>This works as in your sample "submit" means "create".  If submit was 
a distinct operation from create, you would have to do something 
different.  Any thoughts on that?
--- In rest-discuss@yahoogroups.com, Stefan Tilkov 
&lt;stefan.tilkov@...&gt; wrote:
&gt;
&gt; I've chosen to map "submit order" to a POST to the collection 
resource  
&gt; identified by /orders. The POST would return the URI of a new 
resource  
&gt; (the order) in a Location header.
&gt; For a generic client, everything should be fine since this is just  
&gt; standard behavior. (Another option would have been to use PUT, 
with  
&gt; the downside of the client having to choose the URI, and the 
benefit  
&gt; of being idempotent.)
&gt; 
&gt; For a client that's aware of the business semantics, it means  
&gt; submitting an order. Of course this would have to be communicated 
by  
&gt; means of documentation, possibly via some click-through agreement.
&gt; 
&gt; Stefan
&gt; --
&gt; Stefan Tilkov, http://www.innoq.com/blog/st/
&gt; 
&gt; 
&gt; On Jan 2, 2008, at 6:05 PM, Ebenezer Ikonne wrote:
&gt; 
&gt; &gt; Even in an internal system, "submit" could mean something else. It
&gt; &gt; could indicate the need to process or fulfill the order. These 
are the
&gt; &gt; type of operations most people that I know are interested in REST 
want
&gt; &gt; to see demonstrated.
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10169<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-01-02 22:32:57<br>
Subject:Re: [rest-discuss] Re: Introductory REST Article<br>
Message:<br><br>
<pre>On Jan 2, 2008, at 9:56 PM, Ebenezer Ikonne wrote:
&gt; This works as in your sample "submit" means "create". If submit was
&gt; a distinct operation from create, you would have to do something
&gt; different. Any thoughts on that?
&gt;

Anything can be mapped to GET, PUT, POST, or DELETE -- you just have  
to decide which of these is the best match. For example, you could do  
an order state change - let's say it goes from "submitted" to  
"shipped" - by either doing a PUT to update the state, or a POST to  
create a sub-resource (which has the benefit of creating an audit  
trail).

So e.g. I could do

POST /orders/4711/states
&lt;shipped&gt;...&lt;/shipped&gt;

and get back a Location of a state notification; the order itself  
would reflect the change as well (nothing prevents you from changing  
resources other than the one specified in the URI). Alternatively, I  
could move the resource from one collection to another (discussed a  
while back here).

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10170<br>
Sender:"Ebenezer Ikonne" &lt;amaeze@...&gt;<br>
Post Date/Time:2008-01-02 22:52:01<br>
Subject:Fwd: [rest-discuss] Re: Partial Updates<br>
Message:<br><br>
<pre>Is 'update' a noun or verb? (j/k).

I can see how this could work however is this resource GET'able?


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10171<br>
Sender:"Ebenezer Ikonne" &lt;amaeze@...&gt;<br>
Post Date/Time:2008-01-02 23:04:22<br>
Subject:Re: Introductory REST Article<br>
Message:<br><br>
<pre>I generally agree with what you've suggested and I believe we had this 
discussion a while.  I like using POST to a collection (or state)
whenever its more than a partial update - just my preference.

&gt; So e.g. I could do
&gt; 
&gt; POST /orders/4711/states
&gt; &lt;shipped&gt;...&lt;/shipped&gt;

What are you returned when a GET is done on the resource above?


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10172<br>
Sender:Elliotte Rusty Harold &lt;elharo@...&gt;<br>
Post Date/Time:2008-01-02 23:04:33<br>
Subject:Re: [rest-discuss] Re: Unable to deliver your message<br>
Message:<br><br>
<pre>mike amundsen wrote:
&gt; FWIW, I prefer to treat partial updates as if they are a different
&gt; resource than the full update.  That means I use a different URL for
&gt; partial updates. It keeps my server-side work clean, IMHO.
&gt; 
&gt; PUT /resource/{id}
&gt; &lt;resource&gt;
&gt; &lt;foo&gt;1&lt;/foo&gt;
&gt; &lt;bar&gt;1&lt;/bar&gt;
&gt; &lt;/resource&gt;
&gt; 
&gt; PUT /resource/{id}/foo
&gt; &lt;foo&gt;2&lt;/foo&gt;
&gt; 

It's doable but what of you need to update 6 out of 12 parts? I suppose 
you could define the partial URLs as query strings easily enough.


-- 
Elliotte Rusty Harold  elharo@...
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10173<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-01-02 23:20:47<br>
Subject:Re: [rest-discuss] Re: Partial Updates<br>
Message:<br><br>
<pre>LOL yeah. no verb allowed&lt;g&gt;

in my patterns, this resource will return 404/415 if you attempt a
GET. however, doing the PUT usually returns a Location of the updated
underlying resource that the client can then use for the GET. I like
this pattern because, along with making it relatively easy to support
partial PUTs, it also has the potential to create a audit log of the
updates. i've relied on this to create a simplistic change-log that
admins can review.

However, a rather nasty side-effect of this kind of pattern is that it
can create problems with the data integrity of the underlying
resource. I only allow partial updates on elements that are optional
and do not directly affect flow control. that way, users can't change
the state of the object in a way that invalidates it (vis-a-vis other
partial update elements from other parties). I have to take care to
keep the resource consistent and sometimes even have to create
resources that require more than one element in the partial update:

&lt;partial-resource&gt;
  &lt;shipping-address&gt;
    &lt;street /&gt;
    &lt;city /&gt;
    &lt;region /&gt;
    &lt;postal-code /&gt;
  &lt;/shipping-address&gt;
&lt;/partial-resource&gt;

For flow-control items (i.e. change from "pending" to "approved") I
almost always create a new resource anyway. These are most often
critical state changes that need to be atomic and isolated anyway.
Finally, for relatively small or very dynamic resources, I find it's
better to force a full PUT and take advantage of ETags to prevent the
"Lost Update" problems.

MikeA

On Jan 2, 2008 5:52 PM, Ebenezer Ikonne &lt;amaeze@...&gt; wrote:
&gt; Is 'update' a noun or verb? (j/k).
&gt;
&gt; I can see how this could work however is this resource GET'able?
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;



-- 
mca
"In a time of universal deceit, telling the truth becomes a
revolutionary act. " (George Orwell)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10174<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-01-02 23:33:23<br>
Subject:Re: [rest-discuss] Re: Partial Updates<br>
Message:<br><br>
<pre>To me, the use of XML is confusing, it leads to thinking of the
resource in terms of a closed, well-formed document, coloring the
decision.

I think it's easier to start by talking about forms and URL-encoded
updates, with XML being an alternative encoding.  For that, I can find
a lot of interesting examples in the wild.  (Ignore the fact that
hForms uses POST for now, think HTML 5 and PUT)

* I can create a form that will update all the values associated with
the resource, but also a form to update some of these values, or offer
both alternatives for the same resource.  Is one better than the
other?

* I can allow the form to mark which part of the resource gets
updated, much the same way printed forms have an optional 'change of
address' part with a checkbox.

* I can pre-fill the form with existing values from the resource, and
just write over the resource from all the request parameters.  But
sometimes, I would chose not to process missing values; account
setting pages use that when updating passwords, but ignoring empty
password fields.

Which is acceptable and which would you frown upon?


-- Assaf
http://labnotes.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10175<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-01-03 03:50:02<br>
Subject:Fwd: [rest-discuss] Re: Partial Updates<br>
Message:<br><br>
<pre>(sigh - posted last reply offline to Assaf...)

I see your point, your pattern has the server responding with PUT-able
hForms that contain only the valid elements for partial PUTs. A bit
tricky, but I see how that's "hyperlinking..." and, thus RESTful.

And the ETag issue can be handled if the server will send a hidden
field with the ETag value and deal with it on the PUT as it would the
header.

Makes sense.

MikeA


---------- Forwarded message ----------
From: Assaf Arkin &lt;assaf@...&gt;
Date: Jan 2, 2008 10:43 PM
Subject: Re: [rest-discuss] Re: Partial Updates
To: mike amundsen &lt;mca@...&gt;


You're replying off-list, not sure if it's intentional or accidental
(it happens to me all to often with rest-discuss)

On Jan 2, 2008 5:15 PM, mike amundsen &lt;mca@...&gt; wrote:
&gt; From my perspective, the representation of the resource (in my
&gt; examples XML) doesn't change the pattern.  In my examples, the
&gt; representation is just a medium (i rarely *store* data in XML anyway).
&gt; I could be JSON, Atom, form-encoded, etc.
&gt;
&gt; Thinking about your example (and imagining HTML FORMS *and browsers*
&gt; finally allow PUT) still leads me to the same conclusions. Partial
&gt; updates are risky when you want to ensure the integrity of the object
&gt; being updated. The risk goes up as you add more users to the system.

When it comes to forms, the server is in control of the exchange, so
it directs the client to that subset of values it find acceptable.  So
in this particular example, the server finds the risk not to be an
issue, otherwise, it would serve a form with all the values.  And so
far, this seems easier (for me) to test and implement than partial
resources of the form /resource/{id}/subset.


&gt; To reduce the risk, I prefer to:
&gt; - use only full PUT and use ETags to prevent updating a record that
&gt; was already updated by someone else
&gt; - using a new resource for updating sub-sections of the resource (PUT
&gt; /resource/{id}/shippingaddress)
&gt; - using atomic resources for optional, non-critical elements (PUT
&gt; /resource/{id}/favorite-color)
&gt;
&gt; BTW - in all three examples, i still use the ETag to ensure update integrity.

So would I, except that hForms don't support ETag, but there are ways
around it, maybe faking an _etag query parameter.

Assaf


&gt; Mike A
&gt;
&gt;
&gt; On Jan 2, 2008 6:33 PM, Assaf Arkin &lt;assaf@...&gt; wrote:
&gt; &gt; To me, the use of XML is confusing, it leads to thinking of the
&gt; &gt; resource in terms of a closed, well-formed document, coloring the
&gt; &gt; decision.
&gt; &gt;
&gt; &gt; I think it's easier to start by talking about forms and URL-encoded
&gt; &gt; updates, with XML being an alternative encoding.  For that, I can find
&gt; &gt; a lot of interesting examples in the wild.  (Ignore the fact that
&gt; &gt; hForms uses POST for now, think HTML 5 and PUT)
&gt; &gt;
&gt; &gt; * I can create a form that will update all the values associated with
&gt; &gt; the resource, but also a form to update some of these values, or offer
&gt; &gt; both alternatives for the same resource.  Is one better than the
&gt; &gt; other?
&gt; &gt;
&gt; &gt; * I can allow the form to mark which part of the resource gets
&gt; &gt; updated, much the same way printed forms have an optional 'change of
&gt; &gt; address' part with a checkbox.
&gt; &gt;
&gt; &gt; * I can pre-fill the form with existing values from the resource, and
&gt; &gt; just write over the resource from all the request parameters.  But
&gt; &gt; sometimes, I would chose not to process missing values; account
&gt; &gt; setting pages use that when updating passwords, but ignoring empty
&gt; &gt; password fields.
&gt; &gt;
&gt; &gt; Which is acceptable and which would you frown upon?
&gt; &gt;
&gt; &gt;
&gt; &gt; -- Assaf
&gt; &gt; http://labnotes.org
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt;
&gt; &gt; Yahoo! Groups Links
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt;
&gt;
&gt;
&gt; --
&gt; mca
&gt; "In a time of universal deceit, telling the truth becomes a
&gt; revolutionary act. " (George Orwell)
&gt;



--
-- Assaf

http://labnotes.org



-- 
mca
"In a time of universal deceit, telling the truth becomes a
revolutionary act. " (George Orwell)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10176<br>
Sender:"Ebenezer Ikonne" &lt;amaeze@...&gt;<br>
Post Date/Time:2008-01-03 12:09:06<br>
Subject:Re: Partial Updates<br>
Message:<br><br>
<pre>I'm a little confused. :)

Is the resource 'update' or 'shipping address' or either depending on 
the situation?

I do like where the discussion with Asaf went in that the user 
interface (driven by the server) should influence what updates are 
truly safe.  My experience, is that the forms displayed generally show 
all properties of a resource.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10177<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-01-03 18:39:13<br>
Subject:RE: [rest-discuss] RESTful design for Articles &amp; Tags?<br>
Message:<br><br>
<pre>Mike Schinkel wrote:
&gt;
&gt; So it is incumbent upon programmers of skill to empower those with less
&gt; skill to be able to accomplish as much as possible. You who work for a
&gt; university paid for by the public trust with a mission that includes public
&gt; service [1] should know this better than most. It isn't and shouldn't just
&gt; be about making it easy for the elitists of development, the Eriks and the
&gt; Berends, it is and should be about empowering as many people as possible,
&gt; and that means being liberal is what you accept and conservative if what you
&gt; provide. Even if it makes your job harder; doing so will make empower that
&gt; many more people and is the right thing to do.
&gt;

Once again, whatever point you're trying to make will most likely be lost 
on others when you resort to name-calling of those who disagree with you, 
i.e. "elitists" who don't do "real work" or "lead real lives".  Do you 
think it's possible for you to make your points without all the B.S. and 
sweeping generalizations?  You have not backed up your claim that using 
XML "puts a burden of conservatism on others."

My service outputs valid XML, but accepts a wide variety of input.  For 
example, you can use "BBcode" (or even wiki-code) if you'd like, to make 
a post -- it doesn't have to be perfect.  You can even [b]nest 
[i]improperly[/b][/i], when the server accepts that input it will be 
transformed to "&lt;strong&gt;nest &lt;em&gt;improperly&lt;/em&gt;&lt;/strong&gt;" before the 
post is stored, or published.

Thus, the service is being liberal in what it accepts and conservative in 
what it produces, without "burdening others with conservatism" despite my 
insistence on using valid XML.  I fail to see how this use of valid XML 
puts interacting with, or maintaining, my service beyond the reach of non-
experts.

Anyone with the ability to make a post on a wiki, weblog or forum -- and 
a Web browser with forms capability -- can use it.  Anyone who has even a 
passing familiarity with Web development can work *with* it, even if they 
don't know XSLT.  Or JavaScript, as would be required with JSON.

Your point seems to be that, in and of itself, the use of XML is somehow 
limiting.  I'm sorry, but that just isn't the case.  In my experience the 
opposite is true -- appropriate use of XML is quite liberating, and within 
reach of the majority of Web developers out there due to its simplicity.  
Nothing dogmatic about it, just pragmatic.

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10178<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-01-03 19:14:48<br>
Subject:Re: [rest-discuss] Re: Partial Updates<br>
Message:<br><br>
<pre>On Jan 3, 2008 4:09 AM, Ebenezer Ikonne &lt;amaeze@...&gt; wrote:
&gt; I'm a little confused. :)
&gt;
&gt; Is the resource 'update' or 'shipping address' or either depending on
&gt; the situation?
&gt;
&gt; I do like where the discussion with Asaf went in that the user
&gt; interface (driven by the server) should influence what updates are
&gt; truly safe.  My experience, is that the forms displayed generally show
&gt; all properties of a resource.

Typically an account settings page will show you most if not all of
the values associated with that resource (your account).  But the form
will only provide the fields you're able to update.  Many services
will show your username and e-mail address, but the form only allows
for changing the e-mail address.  Some prominently display the date
you joined the service (and effectively created the resource), but
won't let you edit that one either.

-- Assaf
http://labnotes.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10179<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-03 22:48:32<br>
Subject:RE: [rest-discuss] RESTful design for Articles &amp; Tags?<br>
Message:<br><br>
<pre>Eric J. Bowman wrote:
&gt; Once again, whatever point you're trying to make will most 
&gt; likely be lost on others when you resort to name-calling of 
&gt; those who disagree with you, i.e. "elitists" ...

I regretted adding that the moment I sent the email, but didn't want to call
attention to it by sending another email.  My apologies, it was written is a
moment of frustration much of which should not have been aimed at you.

&gt; ...who don't do 
&gt; "real work" or "lead real lives".  

This I'll defend, because I think I meant it different than you took it
although I guess I could drop the "real" part.  What I was referring to
people who are not "craftsmen" such as you and even I (hopefully you take no
offense at this?) but instead people who don't care about web technologies,
they just want to get something done so they can quit thinking about it and
go on to do other things in life that are unrelated to web technology.  BTW,
where I really ran into the feeling of dealing with "elitist" was the time I
spent on the HTMLWG where people said things like "Well, if people can't
fully understand how to use CSS they have no business creating HTML content"
which is just so, so wrong on so many levels.  I think some of my angst over
the reality that HTML5 is explictly moving away from empowering the common
man spilled over into this discussion.

&gt; You have not backed up your claim that 
&gt; using XML "puts a burden of conservatism on others."

The problem is we are discussing too many fine points as if they are one.
Berand went on a rant about how things being imprecise was a problem and I
responded with Postel's Law after which it became intertwined with the
discussion of XML.

However, specifically regarding XML if for example you had it in your power
to require people to have their websites serve only valid XML or not be
rendered, even just for those who think they are serving XHTML, you'd have a
vasty broken world wide web, especially considering all the non-technical
bloggers and user-generated content being added as of late. And those latter
people are probably not all going to fall inline and become precise.

&gt; Thus, the service is being liberal in what it accepts and 
&gt; conservative in what it produces, without "burdening others 
&gt; with conservatism" despite my insistence on using valid XML.  
&gt; I fail to see how this use of valid XML puts interacting 
&gt; with, or maintaining, my service beyond the reach of non- experts.

If you only serve XML you are being more conservative than if you also serve
JSON and HTML+Microformats you've disempowered those who can consume the
latter two but have difficulty consuming the former, especially those such
as myself you now admitted just don't "get" XSLT (and I know I'm in the
minority if you could all possible consumers of data.)

Frankly, as someone who doesn't program full time for a living (though I
once did, even wrote a book on programming) but I am still extremely
interested in programming. I have found that I simply don't have the time to
figure out how to get all the XML to work but I can easily get JSON to work
in the time I have allotted to working with related projects.  So if you
want to limit consumption of your services to only those professional
programmers who have fully spent the time to come up to speed parsing XML
properly then okay, but if you'd like to open your services to the broader
group of people who program to achieve a business goal using programming,
then XML is more constraining.  Can we agree on that?

&gt; My service outputs valid XML, but accepts a wide variety of 
&gt; input.  For example, you can use "BBcode" (or even wiki-code) 
&gt; if you'd like, to make a post -- it doesn't have to be 
&gt; perfect.  You can even [b]nest [i]improperly[/b][/i], when 
&gt; the server accepts that input it will be transformed to 
&gt; "&lt;strong&gt;nest &lt;em&gt;improperly&lt;/em&gt;&lt;/strong&gt;" before the post 
&gt; is stored, or published.

And in your case for input, you are being liberal in what you accept, so no
argument there.

&gt; Anyone with the ability to make a post on a wiki, weblog or 
&gt; forum -- and a Web browser with forms capability -- can use 
&gt; it.  

You mean use it to post content?  But not about consuming it, right?

&gt; Anyone who has even a passing familiarity with Web 
&gt; development can work *with* it, even if they don't know XSLT. 

Do you using the DOM or some other approach to consume it?

&gt;  Or JavaScript, as would be required with JSON.

My belief is that using Javascript is a lower bar than using XML because of
tools like Firebug and the availablity of working examples to view and learn
from, i.e the entire web of apps that use Javascript.  Ease of learning is
part of it.

&gt; Your point seems to be that, in and of itself, the use of XML 
&gt; is somehow limiting.  

Not exactly, but partially.  It limits the set of people who can effectly
consume it.  It that were not true, then JSON would not have sprouted as
there would have been no need. The mere fact that JSON has proliferated
gives credence to my assertion that XML is too hard for many people to
consume either from a cost, time, or learning perspective.

&gt; I'm sorry, but that just isn't the case.  

You've not proven that any more than I could prove what you claimed I
didn't. I'll try to avoid unprovables moving forward if you do.

&gt; In my experience the opposite is true -- appropriate 
&gt; use of XML is quite liberating, and within reach of the 
&gt; majority of Web developers out there due to its simplicity.  

But isn't your experience too small a sample set to be statistically valid?
Isn't it possible your preference for it finds you validating your own
assertion?  You could say the same for my belief that JSON is more
approachable but I'm taking my cue from all the people who are promoting it
as of late. Actually, I didn't discover on my own; I'd still be trying to
use XML if it wasn't for the groundswell of people suggesting JSON.
Obviously there is something to that and a reason why XML is not a be-all
end-all for everyone.

So I'm not saying XML has no value, just that it isn't the solution for
every problem.

&gt; Nothing dogmatic about it, just pragmatic.

So here's a question for you; why not add value for those who would prefer
to consume JSON by serving that too?  If you are being pragmatic then it
would make sense, no?  I hear you can do it server-side with an XSL
transform...

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10180<br>
Sender:Erik Hetzner &lt;erik.hetzner@...&gt;<br>
Post Date/Time:2008-01-03 23:07:18<br>
Subject:Re: [rest-discuss] RESTful design for Articles &amp; Tags?<br>
Message:<br><br>
<pre>At Thu, 3 Jan 2008 17:48:32 -0500,
"Mike Schinkel" &lt;mikeschinkel@...&gt; wrote:
&gt; I regretted adding that the moment I sent the email, but didn't want
&gt; to call attention to it by sending another email. My apologies, it
&gt; was written is a moment of frustration much of which should not have
&gt; been aimed at you.

I think that you aimed it at me. Eric Bowman &amp; Erik Hetzner are two
different people (we have, I believe, had discussions in the past,
which would be worrying if we were the same person).

&gt; []
&gt;
&gt; If you only serve XML you are being more conservative than if you
&gt; also serve JSON and HTML+Microformats you've disempowered those who
&gt; can consume the latter two but have difficulty consuming the former,
&gt; especially those such as myself you now admitted just don't "get"
&gt; XSLT (and I know I'm in the minority if you could all possible
&gt; consumers of data.)

I thought that Postel's theorem stated that you should be conservative
in what you produce? Are you saying that we should be liberal in what
we consume AND what we produce? Shouldn't those data consumers be more
liberal in what they consume, viz., liberally consume XML?

&gt; []

best,
Erik Hetzner
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10181<br>
Sender:David Sidlinger &lt;david.sidlinger@...&gt;<br>
Post Date/Time:2008-01-04 00:01:16<br>
Subject:Re: [rest-discuss] RESTful design for Articles &amp; Tags?<br>
Message:<br><br>
<pre>On 3 Jan, 2008, at 4:48 PM, Mike Schinkel wrote:

&gt; The mere fact that JSON has proliferated
&gt; gives credence to my assertion that XML is too hard for many people to
&gt; consume either from a cost, time, or learning perspective.


That's a pretty big leap.  The (perceived) lower barrier to entry is  
only one of many factors in the spread of JSON.  The same-domain  
limitation of XHR and the ability to "eval" JSON from other domains is  
mentioned frequently, for example.

I say this as someone that has an appreciation for both JSON and XML  
and wishes that their proponents weren't quite so fanatical.

META: This discussion has almost nothing to do with the original  
thread or REST in general.  And I just added yet another message.   
Whoops.

-----
David Sidlinger





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10182<br>
Sender:Kathryn Van Stone &lt;kvs@...&gt;<br>
Post Date/Time:2008-01-04 18:23:08<br>
Subject:Acceptance testing and REST<br>
Message:<br><br>
<pre>
Has anyone had any experience writing acceptance tests for REST  
design?   I would like to hear your experiences.

In particilar, the system I am writing will have output in XML and  
JSON (input format is still TBD), so standard browser testers are not  
as useful. Also there will be validation for some of the XML outputs.

Thanks,

-Kathy Van Stone

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10184<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-05 01:04:35<br>
Subject:RE: [rest-discuss] RESTful design for Articles &amp; Tags?<br>
Message:<br><br>
<pre>Erik Hetzner wrote:
&gt; I think that you aimed it at me. Eric Bowman &amp; Erik Hetzner 
&gt; are two different people (we have, I believe, had discussions 
&gt; in the past, which would be worrying if we were the same person).

Heh. I guess that would be rather uncomfortable; a modern day Sybil!

But, apologies to you too. :)

&gt; &gt; If you only serve XML you are being more conservative than 
&gt; if you also 
&gt; &gt; serve JSON and HTML+Microformats you've disempowered those who can 
&gt; &gt; consume the latter two but have difficulty consuming the former, 
&gt; &gt; especially those such as myself you now admitted just don't "get"
&gt; &gt; XSLT (and I know I'm in the minority if you could all possible 
&gt; &gt; consumers of data.)
&gt; 
&gt; I thought that Postel's theorem stated that you should be 
&gt; conservative in what you produce? Are you saying that we 
&gt; should be liberal in what we consume AND what we produce? 
&gt; Shouldn't those data consumers be more liberal in what they 
&gt; consume, viz., liberally consume XML?

Well, you caught me there that yes Postel's Law doesn't directly apply as I
stated it. I realized that after I emailed and thought, Duh!   So I wasn't
trying to be disingenous.

BTW, I was using liberal in two different contexts which, admittedly, was
confusing. Postel's law refers to being liberal regarding format and
strictness of input and conservative in format and strictness of output.  As
I was suggesting one be liberal in the number of offerings but where each
offering was conservative in it's format and strictness of output. This
would be much like a world-class multi-lingual orator who might be able to
understand people who speak their language poorly but they themselves would
speak eloquently in all languages in which they were trained.

Still, the fact Postel's Law doesn't apply here doesn't IMO invalidate the
value of providing multiple formats because multiple formats can address a
broader audience. You can see this in the days before YouTube when people
had to publish in .mov, .wmv, .rm and more to reach a full audience for
their videos.  Similar is true if you only publish XML vs, just publishing
JSON.  Better to have both, or even more.

FYI, Flash video actually changed the game and can't be compared to the
other video formats.  For data, and an equivalent would be if a universal
data translator middleware became ubiquitiously installed on browsers,
servers, and routers the over the fast majority of the web which isn't
likely to happen but is an interesting concept to consider...

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 

P.S. Actually RSSBus (www.rssbus.com) wants to be that universal middleware
but sadly given its commercial software with no open-source I don't think
it's likely to achieve that status (full disclosure; the person that runs
that business is a personal friend of mine, but he doesn't believe in
open-source like I do.)


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10185<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-05 01:19:49<br>
Subject:RE: [rest-discuss] RESTful design for Articles &amp; Tags?<br>
Message:<br><br>
<pre>David Sidlinger wrote:
&gt; &gt; The mere fact that JSON has proliferated gives credence to my 
&gt; &gt; assertion that XML is too hard for many people to consume 
&gt; either from a cost, time, or learning perspective.
&gt; 
&gt; That's a pretty big leap.  The (perceived) lower barrier to 
&gt; entry is only one of many factors in the spread of JSON.  The 
&gt; same-domain limitation of XHR and the ability to "eval" JSON 
&gt; from other domains is mentioned frequently, for example.

Actually, I would incorporate the facts of same-domain limitation of XHR and
the ability to "eval" JSON from other domains as part of (what you identify
as only a perceived) lower barrier to entry. IOW, I believe all aspects that
make JSON more appealing is certain contexts have contributed its
proliferation, not just one or a few; you couldn't even isolate those
factors if you tried.

Also, many say "perception is reality" and I think that is nowhere more true
than when a perception effects a choice. In this case if people are adopting
JSON because of a perceived lower barrier to entry then that perception in
affect becomes fact, at least for them.

&gt; I say this as someone that has an appreciation for both JSON 
&gt; and XML and wishes that their proponents weren't quite so fanatical.

Sorry for appearing zealous on JSON.  I'd argue for XML to someone who says
that JSON is all that is ever needed (though I doubt I'd ever argue for XSLT
these days.)  It's just I hadn't found anyone here arguing for JSON's
superiority, but have had people here argue that JSON is not valuable
because of XML (or at least that was how I interpretted it.)

&gt; META: This discussion has almost nothing to do with the original  
&gt; thread or REST in general.  And I just added yet another message.   
&gt; Whoops.

Well there we go again... :)

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10186<br>
Sender:"Alexander Johannesen" &lt;alexander.johannesen@...&gt;<br>
Post Date/Time:2008-01-05 21:43:46<br>
Subject:Re: [rest-discuss] RESTful design for Articles &amp; Tags?<br>
Message:<br><br>
<pre>On Dec 29, 2007 10:00 AM, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt;  PHP v4, still used by leading CMS packages, doesn't provide broad XML
&gt;  support.

Unless you have some special meaning with "broad", PHP4 indeed has
good support for XML. In all my years my XML parsers have never found
an ISP or server where this was a problem.


Alex
-- 
---------------------------------------------------------------------------
 Project Wrangler, SOA, Information Alchemist, UX, RESTafarian, Topic Maps
------------------------------------------ http://shelter.nu/blog/ --------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10187<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-05 23:27:44<br>
Subject:RE: [rest-discuss] RESTful design for Articles &amp; Tags?<br>
Message:<br><br>
<pre>Alexander Johannesen wrote
&gt; Unless you have some special meaning with "broad", PHP4 
&gt; indeed has good support for XML. In all my years my XML 
&gt; parsers have never found an ISP or server where this was a problem.

*Techinically* you are correct and thus my comments could be construed as
being misleading, but I'll still argue my premise that the XML support in
PHP4 is not all that usable or productive by quoting an article about PHP5's

XML support compared to the XML support of PHP 4:

FROM: http://www.devshed.com/c/a/PHP/Whats-New-in-PHP-5/ 

"PHP 5 by default installs XML support and offers a new extension,
SimpleXML. ... The XML functionality that has been available through PHP in
the past has been quite rudimentary and required a fair amount of
programming work to use, so it is not uncommon to see PHP 4 applications
using XML without ever touching the xml functions.... PHP 5 also offers a
replacement extension for DOMXL (available in "experimental" form in PHP 4)
with the DOM extension. ... Both of the extensions are robust and well
thought out, and whichever suits your programming needs and taste, you will
be using a powerful extension that is light years beyond what was available
in PHP 4." 

FWIW, YMMV.

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10188<br>
Sender:"dfl_maradentro" &lt;dfl_maradentro@...&gt;<br>
Post Date/Time:2008-01-06 19:03:13<br>
Subject:Using WADL to represent the elements in the resources<br>
Message:<br><br>
<pre>Hi you all,
I've looking examples to explicitly define my REST services with WADL.
Basically, with WADL I can define my resources, their methods, and 
their representations.

As far as this representation is concerned, according to [1], I can 
have this representation "out" from the WADL, in an XML Schema.

So.. my question is... what is the best solution? Cause having out the 
XML Schema seems more cool, but in the WADL file you can define your 
XPath expressions to access the elements of the representation (dunno 
if this can be done in a xsd file).

Thanks.

[1] Leonard Richardson and Sam Ruby, Restful Web Services, O'Reilly. 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10190<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-01-07 14:33:05<br>
Subject:Re: Unable to deliver your message<br>
Message:<br><br>
<pre>John:

Yep. ETags and catch stale/lost/double updates. But you also bring up
a good point (I think I also covered in this thread) on dependent
fields. In some cases, it will be important to define the update
resource to include more than one element, even if the update involves
changing just one element. For example, to update the
BillingContactPhone element, you might need to use the
BillingContactAddress element and fill in several required elements.
This helps with resource integrity at another level.

MikeA

On Jan 7, 2008 8:23 AM, John F Schlesinger &lt;jschlesinger@...&gt; wrote:
&gt;
&gt; Dear Mike,
&gt; Yes, this is the lost update problem (we used to call it the double update
&gt; problem).
&gt;
&gt; The update should include all the values on which it depends (usually the
&gt; values that are changed, but could include others, even others from
&gt; different resources). The precondition for the operation is that these
&gt; values have not changed. It does not matter if the resources have a later
&gt; timestamp so long as this precondition holds.
&gt;
&gt; This moves the precondition from being implicit to one given by the client
&gt; (the 'before' values).
&gt;
&gt; Of course, the server can also have its own preconditions, but these are
&gt; there whatever the mechanism for preventing double updates.
&gt;
&gt; If you are putting the client's precondition in the ETags, then that does
&gt; indeed solve the problem.
&gt;
&gt; John Schlesinger
&gt;
&gt;
&gt;
&gt; ----- Original Message ----
&gt; From: mike amundsen &lt;mamund@...&gt;
&gt; To: John Schlesinger &lt;jschlesinger@...&gt;
&gt; Sent: Monday, January 7, 2008 12:55:31 PM
&gt; Subject: Re: Unable to deliver your message
&gt;
&gt;  John:
&gt;
&gt; If i understand your post,this has to do with the "lost update
&gt; problem[1]." I use ETags to handle that.
&gt;
&gt; [1] Detecting the Lost Update Problem Using Unreserved Checkout
&gt; http://www.w3.org/1999/04/Editing/
&gt;
&gt; MikeA
&gt;
&gt; On Jan 7, 2008 7:15 AM, John Schlesinger &lt;jschlesinger@...&gt; wrote:
&gt; &gt; --- In rest-discuss@yahoogroups.com, "mike amundsen" &lt;mamund@...&gt; wrote:
&gt; &gt; &gt;
&gt; &gt; &gt; FWIW, I prefer to treat partial updates as if they are a different
&gt; &gt; &gt; resource than the full update.  That means I use a different URL for
&gt; &gt; &gt; partial updates. It keeps my server-side work clean, IMHO.
&gt; &gt; &gt;
&gt; &gt; &gt; PUT /resource/{id}
&gt; &gt; &gt; &lt;resource&gt;
&gt; &gt; &gt; &lt;foo&gt;1&lt;/foo&gt;
&gt; &gt; &gt; &lt;bar&gt;1&lt;/bar&gt;
&gt; &gt; &gt; &lt;/resource&gt;
&gt; &gt; &gt;
&gt; &gt; &gt; PUT /resource/{id}/foo
&gt; &gt; &gt; &lt;foo&gt;2&lt;/foo&gt;
&gt; &gt; &gt;
&gt; &gt;
&gt; &gt; Would it not be safer to include the 'before' and 'after' values of
&gt; &gt; this change? Typically, when handling changes from a large number of
&gt; &gt; clients, it is safe to compare the 'before' version of the values to
&gt; &gt; be changed with the values currently stored. If they are different,
&gt; &gt; the change should be rejected. If they are the same, the change can be
&gt; &gt; applied.
&gt; &gt;
&gt; &gt; The thinking behind this approach is that a change may depend on the
&gt; &gt; current values. If the client and the database disagree on the current
&gt; &gt; state of the resource, then this state transition may not be valid.
&gt; &gt;
&gt; &gt; Of course, if the stored value in the database is the same as the
&gt; &gt; 'after' value, then rejecting the change makes no difference - it has
&gt; &gt; the same effect as making the change (with some side effect
&gt; &gt; differences, for example if the change date is stored in the database).
&gt; &gt;
&gt; &gt; John Schlesinger
&gt; &gt;
&gt; &gt;
&gt;
&gt;
&gt;
&gt; --
&gt; mca
&gt; "In a time of universal deceit, telling the truth becomes a
&gt; revolutionary act. " (George Orwell)
&gt;
&gt;



-- 
mca
"In a time of universal deceit, telling the truth becomes a
revolutionary act. " (George Orwell)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10191<br>
Sender:Chris Dent &lt;cdent@...&gt;<br>
Post Date/Time:2008-01-07 17:17:01<br>
Subject:Re: [rest-discuss] Acceptance testing and REST<br>
Message:<br><br>
<pre>
On Jan 4, 2008, at 6:23 PM, Kathryn Van Stone wrote:

&gt; as anyone had any experience writing acceptance tests for REST
&gt; design?   I would like to hear your experiences.
&gt;
&gt; In particilar, the system I am writing will have output in XML and
&gt; JSON (input format is still TBD), so standard browser testers are not
&gt; as useful. Also there will be validation for some of the XML outputs.

Don't know what kind of environment you are in, but I've had some good  
success with Test::HTTP::Syntax[1] in perl. It requires a server be  
running, but should be extensible to accept a mocked up HTTP request.

I've started looking at twill[2] in python, which is supposed to be  
able to intercept wsgi interactions (thus not requiring a running  
server). It's very browser and form oriented rather than request,  
resources and response, so it's not making me happy yet.

The benefit of both of these, especially Test::HTTP, is that you can  
construct some requests, evaluate the responses and effectively  
validate what you're getting back. Test::HTTP::Syntax gives you a  
little DSL that has worked wonders in some situations.

I think there's lots of room for improvement in these and similar tools.

[1] http://search.cpan.org/~mml/Test-HTTP-0.10/
[2] http://twill.idyll.org/

-- 
Chris Dent http://www.burningchrome.com/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10192<br>
Sender:"Subhash Chandran" &lt;subwiz@...&gt;<br>
Post Date/Time:2008-01-08 07:42:51<br>
Subject:Re: [rest-discuss] Acceptance testing and REST<br>
Message:<br><br>
<pre>We are writing a Java Swing tool for testing REST applications. A
development version is available here:

http://wiztools.org/project/RESTClient/restclient-2.0-SNAPSHOT-jar-with-dependencies.jar

We use the Groovy scripting language (as of this development version)
for writing JUnit (3.x) test cases.

The released version (without JUnit support) is available here for download:

http://rest-client.googlecode.com/

Subhash.

On Jan 7, 2008 10:47 PM, Chris Dent &lt;cdent@...&gt; wrote:
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;  On Jan 4, 2008, at 6:23 PM, Kathryn Van Stone wrote:
&gt;
&gt;  &gt; as anyone had any experience writing acceptance tests for REST
&gt;  &gt; design? I would like to hear your experiences.
&gt;  &gt;
&gt;  &gt; In particilar, the system I am writing will have output in XML and
&gt;  &gt; JSON (input format is still TBD), so standard browser testers are not
&gt;  &gt; as useful. Also there will be validation for some of the XML outputs.
&gt;
&gt;  Don't know what kind of environment you are in, but I've had some good
&gt;  success with Test::HTTP::Syntax[1] in perl. It requires a server be
&gt;  running, but should be extensible to accept a mocked up HTTP request.
&gt;
&gt;  I've started looking at twill[2] in python, which is supposed to be
&gt;  able to intercept wsgi interactions (thus not requiring a running
&gt;  server). It's very browser and form oriented rather than request,
&gt;  resources and response, so it's not making me happy yet.
&gt;
&gt;  The benefit of both of these, especially Test::HTTP, is that you can
&gt;  construct some requests, evaluate the responses and effectively
&gt;  validate what you're getting back. Test::HTTP::Syntax gives you a
&gt;  little DSL that has worked wonders in some situations.
&gt;
&gt;  I think there's lots of room for improvement in these and similar tools.
&gt;
&gt;  [1] http://search.cpan.org/~mml/Test-HTTP-0.10/
&gt;  [2] http://twill.idyll.org/
&gt;
&gt;  --
&gt;  Chris Dent http://www.burningchrome.com/
&gt;
&gt;  



-- 
Regards,
Subhash Chandran S

http://rest-client.googlecode.com/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10193<br>
Sender:"patrickdlogan" &lt;patrickdlogan@...&gt;<br>
Post Date/Time:2008-01-08 18:46:37<br>
Subject:Re: Acceptance testing and REST<br>
Message:<br><br>
<pre>We're just starting here, using Rake / JRuby / Restlet (client and
server) for acceptance tests. These tests are not "end user" and so
there is no user interface. Although we've also use FIT running tests
off our Confluence wiki for other tests, both automated and clickable
from the wiki.

Nothing fancy yet, so I am interested in the other responses.
Automation is a requirement, and integration with continuous
integration tools. We wrote a simple class for accumulating test
results and writing text and xml result files (using the ant/junit
defacto xml format).



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10194<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2008-01-08 20:08:10<br>
Subject:Re: [rest-discuss] Re: Acceptance testing and REST<br>
Message:<br><br>
<pre>We got a system where users enter info on forms which trigger fairly
complex processing when posted.  The complex processing goes through a
lot more changes than the user entry form, so we need to do automated
regression testing.

We separated the back-end processing from the resource that saves the
user entries.  Then, for testing we save the user entries without any
processing as test suites.  We then copy off the test suites into
archives so they can be re-used for regression testing.

Then we have a program that takes the test suite entries and runs them
through the back-end processing programs.

We also save and package correct test results so we can check
regression test runs against them. Plus we got one algorithmic result
consistency checker.

All of the test suite entry, processing and correctness checking are
done by business domain experts collaborating with end users.  And
they use the same forms for creating test entries as for normal app
use.

Might not work for anybody else, and it's off the track of xUnit, FIT
and Selenium, in other words, no ready-made tools. But it works for
us.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10195<br>
Sender:"omarshariffdontlikeit" &lt;omarshariffdontlikeit@...&gt;<br>
Post Date/Time:2008-01-14 11:36:21<br>
Subject:The role of Business Logic in Resource based systems<br>
Message:<br><br>
<pre>Hi Everybody,

First, I must confess I have no formal Computer Science education so
my apologies if this appears to be a question that would be answered
in the first semester of a CompSci Degree.

I've been lurking on rest-discuss for about a year now, and I think I
understand ReST to a moderate egree, but with my other research into
RDF I have a couple of questions that don't appear to have been raised.

From what I have gathered so far, RDF attempts to replace the locked
schema definitions of, say, a database, with that of a seperately
actionable Resource. This appears to me to push the schema definition
to the edges of the system, meaning that instead of accepting data
from a user-agent and then performing various gymnastics to clean,
parse and structure the entity data in the Request (say, from a
form-encoded POST) into a format acceptable by the database, we can
use the schema definition itself as a method of ensuring that only
requests with entities encoded in an acceptable schema will be accepted.

An example of this would be a RDF schema definition for "Person". The
schema definition could be used via XForms to ensure that data is
submitted that adheres to the "Person" schema. On the server side, the
Resource method handling the POST would validate the entity using the
same schema definition. If acceptable, the RDF document can be parsed
and stored.

My question is this: in my experience, Business Logic consists of
ensuring the state of the system in the database: incrementing a
column here, ensuring this record is not orphaned here, etc; In a
system that ensures that all input and output data is consistant and
valid, and allows participants to act on the state of the system
directly, is there any role for Business Logic? 

Again, I'm sorry if this is a stupid question with an obvious answer,
but I picture this as a huge system whos state is directly malluable
due to the constraints in place at the edges of the system, ensuring
the integrity of the actions performed on the state of said system.

Am I way off base here? Am I in arm-wavy territory here?

(Also, sorry if this is isnt 100% ReST based, but I feel this is a
ReSTy question due to the fact that the manipulations of the state
system are driven by ReST)

Cheers!

Ben


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10196<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2008-01-14 13:15:35<br>
Subject:Re: [rest-discuss] The role of Business Logic in Resource based systems<br>
Message:<br><br>
<pre>On Jan 14, 2008 5:36 AM, omarshariffdontlikeit
&lt;omarshariffdontlikeit@...&gt; wrote:
&gt;  My question is this: in my experience, Business Logic consists of
&gt;  ensuring the state of the system in the database: incrementing a
&gt;  column here, ensuring this record is not orphaned here, etc; In a
&gt;  system that ensures that all input and output data is consistant and
&gt;  valid, and allows participants to act on the state of the system
&gt;  directly, is there any role for Business Logic?

The server can do anything it wants when processing a POST or PUT,
including triggering lots of business logic and updates to other
resources beyond the one addressed by the request.

For example, here's a case I just implemented in a resource-oriented
app:  propagating error corrections in manufacturing cost accounting.

If the user corrects an error in a production issue or receipt from
the past, the effects of the initial transaction may have propagated
far downstream to the sale of the end product.  The correction of the
error may mean that all of the costs for each downstream transaction
and inventory resource are now also incorrect, so the server
automatically propagates the effect of the change on all of those
downstream resources.  The initiating user message was
self-descriptive in its effect on the initial transaction, but the
initiating user may not understand the full downstream effects of the
change.  But they would be disappointed if the profit on the sale of
the end product was incorrect.

This is all RESTful, because the initiating message was
self-descriptive and the downstream side-effects follow logically if
the user understands accounting logic.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10197<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-01-14 20:06:10<br>
Subject:Re: [rest-discuss] The role of Business Logic in Resource based systems<br>
Message:<br><br>
<pre>On Jan 14, 2008 3:36 AM, omarshariffdontlikeit
&lt;omarshariffdontlikeit@...&gt; wrote:
&gt; My question is this: in my experience, Business Logic consists of
&gt; ensuring the state of the system in the database: incrementing a
&gt; column here, ensuring this record is not orphaned here, etc; In a
&gt; system that ensures that all input and output data is consistant and
&gt; valid, and allows participants to act on the state of the system
&gt; directly, is there any role for Business Logic?

That's not a particularly compelling use for business logic.  Mostly
business logic is concerned with getting things done.

The database is there to act as backup and swap space.  Backup so you
don't lose data stored in volatile memory, and swap space to handle
data too large to fit in volatile memory.  Most of what you're
describing is grunt work that the business logic has to put up with,
so it can benefit from using a database.

The question is, what are your resources exposing?  Raw data storage,
in which case there are different ways for enforcing consistency and
constraints, not all of which require writing code -- or resources
that handle the workload, making sure an order gets shipped and
customers gets billed, in which case they require a lot of business
logic.

Assaf

&gt;
&gt; Again, I'm sorry if this is a stupid question with an obvious answer,
&gt; but I picture this as a huge system whos state is directly malluable
&gt; due to the constraints in place at the edges of the system, ensuring
&gt; the integrity of the actions performed on the state of said system.
&gt;
&gt; Am I way off base here? Am I in arm-wavy territory here?
&gt;
&gt; (Also, sorry if this is isnt 100% ReST based, but I feel this is a
&gt; ReSTy question due to the fact that the manipulations of the state
&gt; system are driven by ReST)
&gt;
&gt; Cheers!
&gt;
&gt; Ben
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;



-- 
-- Assaf

http://labnotes.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10198<br>
Sender:"Andrzej Jan Taramina" &lt;andrzej@...&gt;<br>
Post Date/Time:2008-01-15 18:57:33<br>
Subject:Cookies as alternative authentication tokens?<br>
Message:<br><br>
<pre>It's not uncommon to use client-side certificates, in conjunction with SSL 
(HTTPS) connections for authentication purposes, especially in 2-factor 
scenarios where you still need to log in using other credentials (eg. 
userid/pswd), but where you can't even establish an SSL connection unless you 
possess a known/valid client certificate.

However, there is a problem currently in that Safari on the iPhone doesn't 
support client side certificates, so that approach is a non-starter at the 
moment.

&lt;aside&gt;
   Let's not get into a discussion of the merits/problems of iPhones...that 
   is not the point of my post
&lt;/aside&gt;

I was thinking that cookies could possibly be used for this purpose in the 
following way:

1) Expose a different HTTPS URL specifically for iPhones.  If the iPhone 
tries to access the more generic non-iPhone URL, they will be precluded from 
getting in, not having a client cert.  

2) Using SSL (eg. HTTPS), when the iPhone user hits the iPhone-specific URL, 
the server side will check for the existence of a user-specific iPhone token, 
stored in a cookie.  The cookie will be set to only return to the server's 
domain and to only be returned over an SSL connection, thus ensuring 
confidentiality/security of the "token". If the max size of the cookie is 
sufficient (4k), you could actually use a client cert as the "token" stored 
in the cookie.  Size of the cookie might be an issue, since it would be 
transmitted for all pages/accesses so that might be a consideration.

3) If the user does not present this special cookie, they are denied
access. If they do provide the cookie, then they still have to perform the
userid/pswd login, providing the 2nd factor login, again preventing anyone
that gets access to the iPhone device from logging in.  This could be done in 
a single step of course, where the client sends the cookie plus the 
userid/pswd credentials in one transmission.

4) The crux of it is how does the cookie get in the iPhone Safari browser in 
the first place? You set up a 3rd authentication HTTPS URL, using the same 
domain name though,  on the server, that uses a different, one-time assigned 
userid/pswd to log in.  When the user logs in, the special iPhone cookie is 
set into their browser.  By making this special login a one-time only, means 
that the only way a user gets the cookie is if an administrator sets them up 
with a 1-time login to do this, and also presumes some sort of out of band 
process to verify the identity of the user requesting the setup.  The cookie 
would be generated in the same domain and would be flagged as only being 
allowed to be transmitted back to the originating server over an SSL 
connection (part of the cookie HTTP spec lets you do this, AFAIK). In most 
cases, you could pre-load the cookie onto iPhones that were being supplied 
before providing them to the user.  

If someone gets access to the physical device, then of course they could get 
a copy of the cookie, but then they would still have to know the userid/pswd, 
hence the desireability of the 2-factor approach.  But the same would apply 
if you were using a device/browser that supports client-side certs. If you 
can get access to that browser, then you can get the cert.  So it seems to 
me, within these constraints, that the cookie-based approach resembles the 
client-side cert approach.

Given that the application sticks to REST principles, the cookie will not 
store any application state at any time.  It's only use is as an 
authentication token, which sounds like fair game to me.

I'm hoping the RESTafarian community can provide some commentary on whether 
this "cookie over SSL" approach is sufficiently secure to be considered 
usable for 2-factor authentication?  

Any/all advice/observations/thoughts will be very much appreciated.

Many thanks....


Andrzej Jan Taramina
Chaeron Corporation: Enterprise System Solutions
http://www.chaeron.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10199<br>
Sender:subrah &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-01-15 21:07:20<br>
Subject:Re: [rest-discuss] Cookies as alternative authentication tokens?<br>
Message:<br><br>
<pre>What is the purpose of providing a second set of device-specific URLs?  
Can't you Vary the response based on User-Agent and also to lead the  
user through an alternative flow for the initial setup?

Subbu

On Jan 15, 2008, at 10:57 AM, Andrzej Jan Taramina wrote:

&gt; It's not uncommon to use client-side certificates, in conjunction  
&gt; with SSL
&gt; (HTTPS) connections for authentication purposes, especially in 2- 
&gt; factor
&gt; scenarios where you still need to log in using other credentials (eg.
&gt; userid/pswd), but where you can't even establish an SSL connection  
&gt; unless you
&gt; possess a known/valid client certificate.
&gt;
&gt; However, there is a problem currently in that Safari on the iPhone  
&gt; doesn't
&gt; support client side certificates, so that approach is a non-starter  
&gt; at the
&gt; moment.
&gt;
&gt; &lt;aside&gt;
&gt;   Let's not get into a discussion of the merits/problems of  
&gt; iPhones...that
&gt;   is not the point of my post
&gt; &lt;/aside&gt;
&gt;
&gt; I was thinking that cookies could possibly be used for this purpose  
&gt; in the
&gt; following way:
&gt;
&gt; 1) Expose a different HTTPS URL specifically for iPhones.  If the  
&gt; iPhone
&gt; tries to access the more generic non-iPhone URL, they will be  
&gt; precluded from
&gt; getting in, not having a client cert.
&gt;
&gt; 2) Using SSL (eg. HTTPS), when the iPhone user hits the iPhone- 
&gt; specific URL,
&gt; the server side will check for the existence of a user-specific  
&gt; iPhone token,
&gt; stored in a cookie.  The cookie will be set to only return to the  
&gt; server's
&gt; domain and to only be returned over an SSL connection, thus ensuring
&gt; confidentiality/security of the "token". If the max size of the  
&gt; cookie is
&gt; sufficient (4k), you could actually use a client cert as the "token"  
&gt; stored
&gt; in the cookie.  Size of the cookie might be an issue, since it would  
&gt; be
&gt; transmitted for all pages/accesses so that might be a consideration.
&gt;
&gt; 3) If the user does not present this special cookie, they are denied
&gt; access. If they do provide the cookie, then they still have to  
&gt; perform the
&gt; userid/pswd login, providing the 2nd factor login, again preventing  
&gt; anyone
&gt; that gets access to the iPhone device from logging in.  This could  
&gt; be done in
&gt; a single step of course, where the client sends the cookie plus the
&gt; userid/pswd credentials in one transmission.
&gt;
&gt; 4) The crux of it is how does the cookie get in the iPhone Safari  
&gt; browser in
&gt; the first place? You set up a 3rd authentication HTTPS URL, using  
&gt; the same
&gt; domain name though,  on the server, that uses a different, one-time  
&gt; assigned
&gt; userid/pswd to log in.  When the user logs in, the special iPhone  
&gt; cookie is
&gt; set into their browser.  By making this special login a one-time  
&gt; only, means
&gt; that the only way a user gets the cookie is if an administrator sets  
&gt; them up
&gt; with a 1-time login to do this, and also presumes some sort of out  
&gt; of band
&gt; process to verify the identity of the user requesting the setup.   
&gt; The cookie
&gt; would be generated in the same domain and would be flagged as only  
&gt; being
&gt; allowed to be transmitted back to the originating server over an SSL
&gt; connection (part of the cookie HTTP spec lets you do this, AFAIK).  
&gt; In most
&gt; cases, you could pre-load the cookie onto iPhones that were being  
&gt; supplied
&gt; before providing them to the user.
&gt;
&gt; If someone gets access to the physical device, then of course they  
&gt; could get
&gt; a copy of the cookie, but then they would still have to know the  
&gt; userid/pswd,
&gt; hence the desireability of the 2-factor approach.  But the same  
&gt; would apply
&gt; if you were using a device/browser that supports client-side certs.  
&gt; If you
&gt; can get access to that browser, then you can get the cert.  So it  
&gt; seems to
&gt; me, within these constraints, that the cookie-based approach  
&gt; resembles the
&gt; client-side cert approach.
&gt;
&gt; Given that the application sticks to REST principles, the cookie  
&gt; will not
&gt; store any application state at any time.  It's only use is as an
&gt; authentication token, which sounds like fair game to me.
&gt;
&gt; I'm hoping the RESTafarian community can provide some commentary on  
&gt; whether
&gt; this "cookie over SSL" approach is sufficiently secure to be  
&gt; considered
&gt; usable for 2-factor authentication?
&gt;
&gt; Any/all advice/observations/thoughts will be very much appreciated.
&gt;
&gt; Many thanks....
&gt;
&gt;
&gt; Andrzej Jan Taramina
&gt; Chaeron Corporation: Enterprise System Solutions
&gt; http://www.chaeron.com
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10200<br>
Sender:"Andrzej Jan Taramina" &lt;andrzej@...&gt;<br>
Post Date/Time:2008-01-15 21:21:51<br>
Subject:Re: [rest-discuss] Cookies as alternative authentication tokens?<br>
Message:<br><br>
<pre>Subbu:

&gt; What is the purpose of providing a second set of device-specific URLs?  
&gt; Can't you Vary the response based on User-Agent 

Far as I know, there is no easy way to establish an SSH session on a single 
URL where some clients have to present a client-side certificate and others 
don't have to (eg. based on User-Agent).

I suppose you could set up a common SSH URL that does not require a client 
cert that then would do a redirect to a different one that does require a 
cert for those clients that can support them, but you still have two URLs in 
there somewhere.  Probably just easier to make it explicit.

&gt; also to lead the  
&gt; user through an alternative flow for the initial setup?

The initial setup is something that has to be tightly controlled, just like 
the issuance/signing of certificates.  You need to be able to assure yourself 
that the user making the request for an authentication "token" (either a cert 
or the special cookie in my scenario) is who they say they are and are 
entitled to the credentials.  In this regard, I don't see that the setup 
scenario would be something that you would want to automagically redirect to.
It would be better for it to be something that was done more manually.  This 
wouldn't be a big deal since it would be an infrequent event and the user 
population size for the apps I'm working on is measured in the dozens so 
volume of requests isn't a biggie.

But back to the question at hand....is the "cookie over SSL" as an 
authentication "token" secure or are there some holes I haven't thought of?

Thx!


Andrzej Jan Taramina
Chaeron Corporation: Enterprise System Solutions
http://www.chaeron.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10201<br>
Sender:"Michael Makunas" &lt;michael@...&gt;<br>
Post Date/Time:2008-01-16 12:10:16<br>
Subject:bootstrapping<br>
Message:<br><br>
<pre>
I've got a question about what I (possibly erroneously) call
bootstrapping.

If I understand things correctly, the (ideal) RESTful way for a client
to access a service is to bootstrap via one well-known URI and from
there it navigates. My question is what's appropriate/acceptable to
put there? Could it be just a URI template and then the client would
use that template to go directly to the resources it's looking for? 

Here's what my current situation is. My client application application
manipulates "content records" that it identifies by a URN that takes
the form of: "mgid:[foo]:[bar]:[baz]:[id]". To the client, this isn't
just an opaque string. It understands the concept of foos, bars, etc.
and can extract them from the URN. (FWIW, these are design decisions
that were made long ago and I have no control over.) Would it be
appropriate for me to put something like this as the starting point
for all clients?

http://service.mysite.com/v{version}/mgid/{foo}/{bar}/{baz}/{id}


Then whenever the client accesses the service, it does a GET on
http://service.mysite.com/ , parses the URI template, and carries on.


Does that sound reasonable? I gotten suggestions from some people (who
don't know REST well at all) to POST the URN and respond with the
correct URI or redirect to it. This, I'm pretty sure, is a really bad
idea.

Cheers,
Michael


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10202<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-01-16 13:26:23<br>
Subject:Re: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10203<br>
Sender:"amsmota" &lt;amsmota@...&gt;<br>
Post Date/Time:2008-01-16 14:24:16<br>
Subject:Resources and State<br>
Message:<br><br>
<pre>I'm reading the Fielding dissertation and I'm confused about the use
of the word "state" in Representational State Transfer.

This "state" refers to the "resource" of which a representation is
being transfered? Because I only found references to "application
state", not "resource state". 

But OTOH I could not find a definition of "application" in the realm
of REST. Should I define it as a "finite, predefined set of resources"
that can be traversed by URI navigation?

Thanks all.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10204<br>
Sender:"Michael Makunas" &lt;michael@...&gt;<br>
Post Date/Time:2008-01-16 14:58:36<br>
Subject:Re: bootstrapping<br>
Message:<br><br>
<pre>
That looks interesting, but do you really gain anything beyond what a
simple URI template would? It seems to accomplish less, IMHO. In your
examples, the client thinks a certain server knows where a cart
service is. It looks at the representation at the root and checks for
a location (in the form of an element,node,string, or whatever).
Finally, it navigates to that location. I'm trying figure out what
should be at that location. 

I think the solution is to put a URI template (or something similar)
there. And if that's the case, why not have that at the root and skip
your first step?


-Michael


--- In rest-discuss@yahoogroups.com, "Alan Dean" &lt;alan.dean@...&gt; wrote:
&gt;
&gt; Micheal,
&gt; 
&gt; I have proposed what I call "domain service discovery", see
&gt; 
&gt; http://simplewebservices.org/index.php?title=Domain_Service_Discovery
&gt; 
&gt; Alan
&gt; 
&gt; On 1/16/08, Michael Makunas &lt;michael@...&gt; wrote:
&gt; &gt;
&gt; &gt;
&gt; &gt; I've got a question about what I (possibly erroneously) call
&gt; &gt; bootstrapping.
&gt; &gt;
&gt; &gt; If I understand things correctly, the (ideal) RESTful way for a client
&gt; &gt; to access a service is to bootstrap via one well-known URI and from
&gt; &gt; there it navigates. My question is what's appropriate/acceptable to
&gt; &gt; put there? Could it be just a URI template and then the client would
&gt; &gt; use that template to go directly to the resources it's looking for?
&gt; &gt;
&gt; &gt; Here's what my current situation is. My client application application
&gt; &gt; manipulates "content records" that it identifies by a URN that takes
&gt; &gt; the form of: "mgid:[foo]:[bar]:[baz]:[id]". To the client, this isn't
&gt; &gt; just an opaque string. It understands the concept of foos, bars, etc.
&gt; &gt; and can extract them from the URN. (FWIW, these are design decisions
&gt; &gt; that were made long ago and I have no control over.) Would it be
&gt; &gt; appropriate for me to put something like this as the starting point
&gt; &gt; for all clients?
&gt; &gt;
&gt; &gt; http://service.mysite.com/v{version}/mgid/{foo}/{bar}/{baz}/{id}
&gt; &gt;
&gt; &gt; Then whenever the client accesses the service, it does a GET on
&gt; &gt; http://service.mysite.com/ , parses the URI template, and carries on.
&gt; &gt;
&gt; &gt; Does that sound reasonable? I gotten suggestions from some people (who
&gt; &gt; don't know REST well at all) to POST the URN and respond with the
&gt; &gt; correct URI or redirect to it. This, I'm pretty sure, is a really bad
&gt; &gt; idea.
&gt; &gt;
&gt; &gt; Cheers,
&gt; &gt; Michael
&gt; &gt;
&gt; &gt;  
&gt; &gt;
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10205<br>
Sender:"amsmota" &lt;amsmota@...&gt;<br>
Post Date/Time:2008-01-16 15:03:58<br>
Subject:REST and ESB<br>
Message:<br><br>
<pre>I have to put up a architecture design to implement some services and
we (at my department) already have agreed that it will be based on a
REST, meaning we will give access to the services by some public
available resources addressed by some URI's.

Now the discussion is to use a ESB or do it the "REST + dynamic
languages" way. What I come up with was a kind of "questionnaire" to
be answered for each service (after we had agreed what are the
services exposed) in a manner that most of the answers is yes that is
a indication that using a ESB is more suitable for that particular
service.

Also to note that this is a Java shop, so people are more confortable
with it than "dynamic languages" and we are already using Mule but
just to receive mails now.

The questions I put up are:

- Are the processes long running processes ?
- Do we need to interact with WS-* protocols ?
- Is a Application Description necessary ?
- Do we need multiple adapters ?
- Do we need Modeling ?
- Do we need Monitoring ?
- Are there Performance issues, either measured or perceived ?
- What the level of Compensation is required ?
- Is there any legacy data integration needed ?

Are this ok? Is there other ways to access this question?

Many thanks.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10206<br>
Sender:"Dong Liu" &lt;edongliu@...&gt;<br>
Post Date/Time:2008-01-16 16:35:13<br>
Subject:Re: [rest-discuss] Resources and State<br>
Message:<br><br>
<pre>"The name "Representational State Transfer" is intended to evoke an
image of how a well-designed Web application behaves: a network of Web
pages forms a virtual state machine, allowing a user to progress
through the application by selecting a link or submitting a short
data-entry form, with each action resulting in a transition to the
next state of the application by transferring a representation of that
state to the user."
from Roy T. Fielding &amp; Richard N. Taylor "Principled design of the
modern Web architecture," ACM Trans. Inter. Tech.. ACM Press, vol. 2,
pp. 115-150, 2002.
To my understanding, the application refers to the virtual state
machine, to an end user it can be a browser or some other agent.

Cheers,

Dong

On Jan 16, 2008 8:24 AM, amsmota &lt;amsmota@...&gt; wrote:
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; I'm reading the Fielding dissertation and I'm confused about the use
&gt;  of the word "state" in Representational State Transfer.
&gt;
&gt;  This "state" refers to the "resource" of which a representation is
&gt;  being transfered? Because I only found references to "application
&gt;  state", not "resource state".
&gt;
&gt;  But OTOH I could not find a definition of "application" in the realm
&gt;  of REST. Should I define it as a "finite, predefined set of resources"
&gt;  that can be traversed by URI navigation?
&gt;
&gt;  Thanks all.
&gt;
&gt;  



-- 
Dong Liu
http://blogs.usask.ca/dong_notes/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10207<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-01-16 16:55:40<br>
Subject:Re: [rest-discuss] Resources and State<br>
Message:<br><br>
<pre>When I was starting in on REST, I confused my notion of "state" (the
stuff pushed back and forth betweeen browser and server via headers &amp;
cookies) with Fieldings more encompassing notion of "state" ( the
state of the web application at any one time).

Now, in my way of thinking a "resource" is just one example of the
state of the application.

Mike A

On Jan 16, 2008 9:24 AM, amsmota &lt;amsmota@...&gt; wrote:
&gt; I'm reading the Fielding dissertation and I'm confused about the use
&gt; of the word "state" in Representational State Transfer.
&gt;
&gt; This "state" refers to the "resource" of which a representation is
&gt; being transfered? Because I only found references to "application
&gt; state", not "resource state".
&gt;
&gt; But OTOH I could not find a definition of "application" in the realm
&gt; of REST. Should I define it as a "finite, predefined set of resources"
&gt; that can be traversed by URI navigation?
&gt;
&gt; Thanks all.
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;



-- 
mca
"In a time of universal deceit, telling the truth becomes a
revolutionary act. " (George Orwell)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10208<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-01-16 18:16:46<br>
Subject:Re: [rest-discuss] Re: bootstrapping<br>
Message:<br><br>
<pre>Michael,

For me, the problem with URI templating is that URI are supposed to be
opaque under REST.

This is the basis for my dislike of WADL which smells like a rehash of
the blind alley of WSDL to me (guys, I'm honestly not trolling here).

My proposal avoids this. At no point does it treat a URI as anything
other than an atomic opaque unit. This is the reason why it apparently
accomplishes less than a template because it addresses only the
uniform interface.

Regards,
Alan

On 1/16/08, Michael Makunas &lt;michael@...&gt; wrote:
&gt;
&gt;  That looks interesting, but do you really gain anything beyond what a
&gt;  simple URI template would? It seems to accomplish less, IMHO. In your
&gt;  examples, the client thinks a certain server knows where a cart
&gt;  service is. It looks at the representation at the root and checks for
&gt;  a location (in the form of an element,node,string, or whatever).
&gt;  Finally, it navigates to that location. I'm trying figure out what
&gt;  should be at that location.
&gt;
&gt;  I think the solution is to put a URI template (or something similar)
&gt;  there. And if that's the case, why not have that at the root and skip
&gt;  your first step?
&gt;
&gt;  -Michael

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10209<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-01-16 18:48:18<br>
Subject:Re: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>On Jan 16, 2008 4:10 AM, Michael Makunas &lt;michael@...&gt; wrote:
&gt;
&gt; I've got a question about what I (possibly erroneously) call
&gt; bootstrapping.
&gt;
&gt; If I understand things correctly, the (ideal) RESTful way for a client
&gt; to access a service is to bootstrap via one well-known URI and from
&gt; there it navigates. My question is what's appropriate/acceptable to
&gt; put there? Could it be just a URI template and then the client would
&gt; use that template to go directly to the resources it's looking for?
&gt;
&gt; Here's what my current situation is. My client application application
&gt; manipulates "content records" that it identifies by a URN that takes
&gt; the form of: "mgid:[foo]:[bar]:[baz]:[id]". To the client, this isn't
&gt; just an opaque string. It understands the concept of foos, bars, etc.
&gt; and can extract them from the URN. (FWIW, these are design decisions
&gt; that were made long ago and I have no control over.) Would it be
&gt; appropriate for me to put something like this as the starting point
&gt; for all clients?
&gt;
&gt; http://service.mysite.com/v{version}/mgid/{foo}/{bar}/{baz}/{id}
&gt;
&gt;
&gt; Then whenever the client accesses the service, it does a GET on
&gt; http://service.mysite.com/ , parses the URI template, and carries on.
&gt;
&gt;
&gt; Does that sound reasonable? I gotten suggestions from some people (who
&gt; don't know REST well at all) to POST the URN and respond with the
&gt; correct URI or redirect to it. This, I'm pretty sure, is a really bad
&gt; idea.

Letting the server resolve the URN into a URL would make it easier to
change the server and add new functionality without breaking clients,
so you should look into it.  You can also do that with a GET, possibly
returning 303 (See Other) with the new URL.

Returning a URL template that the client then populates doesn't sound
much different from returning a form that the client populates, URL
templates is just another mechanism and one we're seeing growing
support for in client libraries.

I think the risk here is with developers grabbing the template once,
and then hard coding it into their client libraries, making it hard to
change the service afterwards (same problem we're seeing with
WSDL/WADL), so I would recommend having the server resolve the URN
into a URL.

Assaf

&gt;
&gt; Cheers,
&gt; Michael

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10210<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-16 20:37:22<br>
Subject:RE: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>Assaf Arkin wrote:
&gt; I think the risk here is with developers grabbing the 
&gt; template once, and then hard coding it into their client 
&gt; libraries, making it hard to change the service afterwards 
&gt; (same problem we're seeing with WSDL/WADL), so I would 
&gt; recommend having the server resolve the URN into a URL.

Providing a template that the client can fill out gives significant benefits
not the least of which is to reduce the number of HTTP calls and/or download
sizes when a service has a large set of URLs so prescribing that the server
resolve be the only workable option is a rather myopic view, don't you
think?  Especially if the number of people wiriting clients is small and
controlled. 

But even your service is public, if it is important that the URL be able to
change then make that clear in no uncertain terms in the docs and in
UPPERCASE comments in any representations returned.  And if you are
paranoid, literally change the URL every time with a validatation parameter
so that anyone who did hard code quickly learns better and no time is given
to allow hardcoded clients time is build up.

Or IMO best of all, just document it and commit to the URL format just as
Google have done with their Chart service, for example. Yes I know, that
violates the HATEOAS requirement but I personally don't think being a
fundamentalist in all things is such a good idea; some times it is better
just to put a stake in the ground. If *everything* were meta, we'd never get
anything done.

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10211<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-16 21:22:39<br>
Subject:RE: [rest-discuss] Re: bootstrapping<br>
Message:<br><br>
<pre>Hi Alan:

I've recently been able to spend a bit more time on rest-discuss; maybe I
can revive my involvement in simplewebservices.

I notice that your Domain Discovery Service concept supports JSON and HTML
as well as RDF and N3; good job! :-)  I also notice it is simply name+value
pairs, and as I'm more and more a believer in simplicity, I can appreciate
that.

However, I'm troubled by several things.  First is its use of the root of a
domain; what if I want my domain to serve some other RDF or N3 or JSON
document from it's root?  I've put a lot of thought into this problem over
the past year, and the only workable solution I have found per all the
discussion on TAG issue siteData-36 [1] is to add values to robots.txt.
After all, a service client really is a robot, no?  

So, assuming we could get TAG agreement, adding the following as an option
for robots.txt would work (where ".foo" is your choice of .rdf, .n3, .json,
or .html):

	Domain-service-discovery:
http://example.com/domain-service-discovery.foo

In the case of HTML, I think your use of the @rel attribute on the &lt;link&gt;
elements is a problem.  The values of @rel are a scarce resource much as
schemes are (we've been discussing this over at uri@..., btw) and with
your proposal there would be an explosion of @rel values, few if any of them
well-known.  For HTML I think you really need something like this:

&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;...&lt;/title&gt;
    &lt;meta name="domain-service-discovery"
content="shopping-cart-location:http://example.com/cart;"&gt;  &lt;/head&gt;
  &lt;body&gt;
    ...
    &lt;a rel="bookmark" href="/cart"&gt;Start shopping&lt;/a&gt;
    ...
  &lt;/body&gt;
&lt;/html&gt;

Or 

&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;...&lt;/title&gt;
    &lt;link rel="domain-service-discovery"
href="http://example.com/domain-service-discovery.html"&gt;
  &lt;/head&gt;
  &lt;body&gt;
    ...
    &lt;a rel="bookmark" href="/cart"&gt;Start shopping&lt;/a&gt;
    ...
  &lt;/body&gt;
&lt;/html&gt;

And then for http://example.com/domain-service-discovery.html

&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;...&lt;/title&gt;
    &lt;link rel="domain-service-discovery"
href="http://example.com/domain-service-discovery.html"&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;dl id="domain-service-discovery"&gt;
	&lt;dt&gt;Shopping Cart Location:&lt;/dt&gt;
	&lt;dl id="shopping-cart-location"&gt;http://example.com/cart&lt;/dl&gt;
    	...
    &lt;/dl&gt;
  &lt;/body&gt;
&lt;/html&gt;

Note that &lt;link rel="domain-service-discovery" href="..."&gt; could be used in
addition to use of robots.txt.

Lastly, I also have a concern with the fact your domain-service-discovery
doesn't offer a workable solution to large data sets (such as Amazon.com's
product database) that wouldn't require either an intensely large
representation or numerous HTTP dereferences to drill down.  

I like your idea in concept, that is name+value pairs served, but think it
should handle actual discovery different as noted, and think that it should
support templates so as to handle the larger datasets well.

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 



[1] http://www.w3.org/2001/tag/issues.html#siteData-36


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10212<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-16 22:10:42<br>
Subject:RE: [rest-discuss] Re: bootstrapping<br>
Message:<br><br>
<pre>Alan Dean wrote:
&gt; For me, the problem with URI templating is that URI are 
&gt; supposed to be opaque under REST.
&gt; 
&gt; My proposal avoids this. At no point does it treat a URI as 
&gt; anything other than an atomic opaque unit. This is the reason 
&gt; why it apparently accomplishes less than a template because 
&gt; it addresses only the uniform interface.

I forgot to address this earlier.  Using URI templates does not violate URI
opacity for REST, at least not in my discussions with Roy Fielding (Roy,
please forgive me if I misinterpretted.)

Prior to URI Templates, there was no way for a client to construct a URI and
not violate URI opacity; with URI templates the server can give the client
information about how to construct as long as the client doesn't hardcode
for future references and always re-requests the template (though I assume
reasonable caching is okay.) 

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10213<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-01-16 22:14:53<br>
Subject:Re: [rest-discuss] Re: bootstrapping<br>
Message:<br><br>
<pre>On 1/16/08, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt; Alan Dean wrote:
&gt; &gt; For me, the problem with URI templating is that URI are
&gt; &gt; supposed to be opaque under REST.
&gt; &gt;
&gt; &gt; My proposal avoids this. At no point does it treat a URI as
&gt; &gt; anything other than an atomic opaque unit. This is the reason
&gt; &gt; why it apparently accomplishes less than a template because
&gt; &gt; it addresses only the uniform interface.
&gt;
&gt; I forgot to address this earlier.  Using URI templates does not violate URI
&gt; opacity for REST, at least not in my discussions with Roy Fielding (Roy,
&gt; please forgive me if I misinterpretted.)
&gt;
&gt; Prior to URI Templates, there was no way for a client to construct a URI and
&gt; not violate URI opacity;

Sure there was, HTML GET forms.

Mark.
-- 
Mark Baker.  Ottawa, Ontario, CANADA.         http://www.markbaker.ca
Coactus; Web-inspired integration strategies  http://www.coactus.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10214<br>
Sender:"David Orchard" &lt;orchard@...&gt;<br>
Post Date/Time:2008-01-16 22:26:17<br>
Subject:RE: [rest-discuss] Re: bootstrapping<br>
Message:<br><br>
<pre>Yet again, somebody claims that URIs are supposed to be opaque under
REST.  That is simply completely untrue.   As an example, HTML Forms
using GET are RESTful and they have transparent URIs.   
 
Cheers,
Dave


________________________________

	From: rest-discuss@yahoogroups.com
[mailto:rest-discuss@yahoogroups.com] On Behalf Of Alan Dean
	Sent: Wednesday, January 16, 2008 10:17 AM
	To: Michael Makunas
	Cc: rest-discuss@yahoogroups.com
	Subject: Re: [rest-discuss] Re: bootstrapping
	
	

	Michael,
	
	For me, the problem with URI templating is that URI are supposed
to be
	opaque under REST.
	
	This is the basis for my dislike of WADL which smells like a
rehash of
	the blind alley of WSDL to me (guys, I'm honestly not trolling
here).
	
	My proposal avoids this. At no point does it treat a URI as
anything
	other than an atomic opaque unit. This is the reason why it
apparently
	accomplishes less than a template because it addresses only the
	uniform interface.
	
	Regards,
	Alan
	
	On 1/16/08, Michael Makunas &lt;michael@...
&lt;mailto:michael%40makunas.com&gt; &gt; wrote:
	&gt;
	&gt; That looks interesting, but do you really gain anything beyond
what a
	&gt; simple URI template would? It seems to accomplish less, IMHO.
In your
	&gt; examples, the client thinks a certain server knows where a
cart
	&gt; service is. It looks at the representation at the root and
checks for
	&gt; a location (in the form of an element,node,string, or
whatever).
	&gt; Finally, it navigates to that location. I'm trying figure out
what
	&gt; should be at that location.
	&gt;
	&gt; I think the solution is to put a URI template (or something
similar)
	&gt; there. And if that's the case, why not have that at the root
and skip
	&gt; your first step?
	&gt;
	&gt; -Michael
	

	 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10215<br>
Sender:Jim Ancona &lt;jim@...&gt;<br>
Post Date/Time:2008-01-16 22:30:01<br>
Subject:Re: [rest-discuss] Re: bootstrapping<br>
Message:<br><br>
<pre>Alan Dean wrote:
&gt; For me, the problem with URI templating is that URI are supposed to be
&gt; opaque under REST.

Not to beat a dead horse, but clients may build URIs based on hypertext 
instructions from the server. That's why HTML FORMs are restful. FWIW, 
there's a proposal for HTML5 FORMs to use URI templates, see 
http://www.mail-archive.com/whatwg@.../msg08626.html.

Jim


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10216<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-01-16 22:38:14<br>
Subject:Re: [rest-discuss] Re: bootstrapping<br>
Message:<br><br>
<pre>For all practical purposes, if you have to download a form or COD to  
build the URI, then the URI can be considered opaque.  The URI is not  
opaque if its construction is not controlled by information sent by  
the server, imho.

- Steve

--------------
Steve G. Bjorg
http://wiki.mindtouch.com
http://wiki.opengarden.org


On Jan 16, 2008, at 2:30 PM, Jim Ancona wrote:

&gt; Alan Dean wrote:
&gt; &gt; For me, the problem with URI templating is that URI are supposed  
&gt; to be
&gt; &gt; opaque under REST.
&gt;
&gt; Not to beat a dead horse, but clients may build URIs based on  
&gt; hypertext
&gt; instructions from the server. That's why HTML FORMs are restful. FWIW,
&gt; there's a proposal for HTML5 FORMs to use URI templates, see
&gt; http://www.mail-archive.com/whatwg@.../msg08626.html.
&gt;
&gt; Jim
&gt;
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10217<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-16 23:08:47<br>
Subject:RE: [rest-discuss] Re: bootstrapping<br>
Message:<br><br>
<pre>Jim Ancona wrote:
&gt; Not to beat a dead horse, but clients may build URIs based on 
&gt; hypertext instructions from the server. That's why HTML FORMs 
&gt; are restful. FWIW, there's a proposal for HTML5 FORMs to use 
&gt; URI templates, see 
&gt; http://www.mail-archive.com/whatwg@.../msg08626.html.

Glad to see someone else is *finally* proposing it, and not even a year
later!   ;-)

http://blog.welldesignedurls.org/2007/01/11/proposing-uri-templates-for-webf
orms-2/

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10218<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-16 23:08:47<br>
Subject:RE: [rest-discuss] Re: bootstrapping<br>
Message:<br><br>
<pre>
Mark Baker wrote:
&gt; Mike Schinkel wrote:
&gt; &gt; Prior to URI Templates, there was no way for a client to 
&gt; &gt; construct a URI and not violate URI opacity;
&gt; 
&gt; Sure there was, HTML GET forms.

Point taken.

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10219<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-01-16 23:25:25<br>
Subject:Re: [rest-discuss] Re: bootstrapping<br>
Message:<br><br>
<pre>Dave,

I stand corrected. Did a quick search and came across
http://rest.blueoxen.net/cgi-bin/wiki.pl?RestAndUriOpacity

"REST does not require that a URI be opaque. The only place where the
word opaque occurs in my dissertation is where I complain about the
opaqueness of cookies. In fact, RESTful applications are, at all
times, encouraged to use human-meaningful, hierarchical identifiers in
order to maximize the serendipitous use of the information beyond what
is anticipated by the original application." Roy Fielding

Thanks for setting me straight :-)

Still don't like the WSDL-like nature of WADL though and this still
leaves open the question of how does a client discover the mechanism
to construct a URI. HTML specifies that anchor tags contain opaque
URIs and, yes, form tags can specify a GET with an opaque base URI
plus querystring parameters. But this information is specified at the
level of the content-type format specification (as HTML does). That
way, the client knows that if they have been fed text/html or
application/xhtml+xml then these URI rules apply.

Following that logic, URI construction rules should be specified by
the content-type format specification. Unfortunately, most formats
make no such provision and those that do (such as Atom [1], RDF-RSS
[2], RSS [3], OPML [4] or Sitemaps [5]) specify opaque URIs. I can't
find any reference to URI construction or templates in APP [6] either.

Indeed, the only specification (draft) that I have found is from Joe
Gregorio "URI Template" [7][8] and that does not address discovery so
far as I can see.

In the absence of URI templating at the Content-Type level (excepting
the 'primitive' templating in HTML) any attempt to implement URI
templating at present effectively means that each client must coded on
a site-specific basis. I would argue that URI are, to all intents and
purposes, generally opaque (whilst acknowledging that REST doesn't
require it - see above). Note that opaque doesn't mean that they can't
be 'pretty', 'hackable' or human-readable.

I note the proposal to include URI Templates in the WHATWG activity
[9] Mike refers to, but that doesn't help with any of the other
formats.

Apologies for posting at more length than I normally do.

Regards,
Alan Dean
http://thoughtpad.net/alan-dean

[1] http://tools.ietf.org/html/rfc4287#section-3.2.2
[2] http://web.resource.org/rss/1.0/spec
[3] http://cyber.law.harvard.edu/rss/rss.html
[4] http://www.opml.org/spec2
[5] http://www.sitemaps.org/protocol.php
[6] http://tools.ietf.org/html/rfc5023#section-4.1
[7] http://bitworking.org/projects/URI-Templates/draft-gregorio-uritemplate-01.html
[8] http://bitworking.org/projects/URI-Templates/draft-gregorio-uritemplate-02.html
[9] http://blog.welldesignedurls.org/2007/01/11/proposing-uri-templates-for-webforms-2/

On 1/16/08, David Orchard &lt;dorchard@...&gt; wrote:
&gt;
&gt; Yet again, somebody claims that URIs are supposed to be  opaque under REST.  That is simply completely untrue.   As an  example, HTML Forms using GET are RESTful and they have transparent  URIs.
&gt;
&gt; Cheers,
&gt; Dave

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10220<br>
Sender:"David Orchard" &lt;orchard@...&gt;<br>
Post Date/Time:2008-01-17 00:01:45<br>
Subject:RE: [rest-discuss] Re: bootstrapping<br>
Message:<br><br>
<pre>Well, I didn't really set you straight, I mostly made a
counter-assertion and then you did all the right work.  :-) I understand
the concern about WSDL-like nature, particularly how to ensure the web
remains self-describing and particularly that addresses aren't
hard-coded everywhere.  I've done some work on the URI-Template spec and
in my mind it should not address discovery.  That can be done by layered
software, beit HTML5, Xforms, WADL, WSDL 2.0, language-specific
annotations, whatever.

Cheers,
Dave

&gt; -----Original Message-----
&gt; From: Alan Dean [mailto:alan.dean@...] 
&gt; Sent: Wednesday, January 16, 2008 3:25 PM
&gt; To: David Orchard
&gt; Cc: Michael Makunas; rest-discuss@yahoogroups.com
&gt; Subject: Re: [rest-discuss] Re: bootstrapping
&gt; 
&gt; Dave,
&gt; 
&gt; I stand corrected. Did a quick search and came across 
&gt; http://rest.blueoxen.net/cgi-bin/wiki.pl?RestAndUriOpacity
&gt; 
&gt; "REST does not require that a URI be opaque. The only place 
&gt; where the word opaque occurs in my dissertation is where I 
&gt; complain about the opaqueness of cookies. In fact, RESTful 
&gt; applications are, at all times, encouraged to use 
&gt; human-meaningful, hierarchical identifiers in order to 
&gt; maximize the serendipitous use of the information beyond what 
&gt; is anticipated by the original application." Roy Fielding
&gt; 
&gt; Thanks for setting me straight :-)
&gt; 
&gt; Still don't like the WSDL-like nature of WADL though and this 
&gt; still leaves open the question of how does a client discover 
&gt; the mechanism to construct a URI. HTML specifies that anchor 
&gt; tags contain opaque URIs and, yes, form tags can specify a 
&gt; GET with an opaque base URI plus querystring parameters. But 
&gt; this information is specified at the level of the 
&gt; content-type format specification (as HTML does). That way, 
&gt; the client knows that if they have been fed text/html or 
&gt; application/xhtml+xml then these URI rules apply.
&gt; 
&gt; Following that logic, URI construction rules should be 
&gt; specified by the content-type format specification. 
&gt; Unfortunately, most formats make no such provision and those 
&gt; that do (such as Atom [1], RDF-RSS [2], RSS [3], OPML [4] or 
&gt; Sitemaps [5]) specify opaque URIs. I can't find any reference 
&gt; to URI construction or templates in APP [6] either.
&gt; 
&gt; Indeed, the only specification (draft) that I have found is 
&gt; from Joe Gregorio "URI Template" [7][8] and that does not 
&gt; address discovery so far as I can see.
&gt; 
&gt; In the absence of URI templating at the Content-Type level 
&gt; (excepting the 'primitive' templating in HTML) any attempt to 
&gt; implement URI templating at present effectively means that 
&gt; each client must coded on a site-specific basis. I would 
&gt; argue that URI are, to all intents and purposes, generally 
&gt; opaque (whilst acknowledging that REST doesn't require it - 
&gt; see above). Note that opaque doesn't mean that they can't be 
&gt; 'pretty', 'hackable' or human-readable.
&gt; 
&gt; I note the proposal to include URI Templates in the WHATWG 
&gt; activity [9] Mike refers to, but that doesn't help with any 
&gt; of the other formats.
&gt; 
&gt; Apologies for posting at more length than I normally do.
&gt; 
&gt; Regards,
&gt; Alan Dean
&gt; http://thoughtpad.net/alan-dean
&gt; 
&gt; [1] http://tools.ietf.org/html/rfc4287#section-3.2.2
&gt; [2] http://web.resource.org/rss/1.0/spec
&gt; [3] http://cyber.law.harvard.edu/rss/rss.html
&gt; [4] http://www.opml.org/spec2
&gt; [5] http://www.sitemaps.org/protocol.php
&gt; [6] http://tools.ietf.org/html/rfc5023#section-4.1
&gt; [7] 
&gt; http://bitworking.org/projects/URI-Templates/draft-gregorio-ur
&gt; itemplate-01.html
&gt; [8] 
&gt; http://bitworking.org/projects/URI-Templates/draft-gregorio-ur
&gt; itemplate-02.html
&gt; [9] 
&gt; http://blog.welldesignedurls.org/2007/01/11/proposing-uri-temp
&gt; lates-for-webforms-2/
&gt; 
&gt; On 1/16/08, David Orchard &lt;dorchard@...&gt; wrote:
&gt; &gt;
&gt; &gt; Yet again, somebody claims that URIs are supposed to be  
&gt; opaque under REST.  That is simply completely untrue.   As an 
&gt;  example, HTML Forms using GET are RESTful and they have 
&gt; transparent  URIs.
&gt; &gt;
&gt; &gt; Cheers,
&gt; &gt; Dave
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10221<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-17 00:24:38<br>
Subject:RE: [rest-discuss] Re: bootstrapping<br>
Message:<br><br>
<pre>David Orchard wrote:
&gt; ... the URI-Template spec and in my mind 
&gt; it should not address discovery.  That can be done by layered 
&gt; software, beit HTML5, Xforms, WADL, WSDL 2.0, 
&gt; language-specific annotations, whatever.

+1

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10222<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-17 00:24:38<br>
Subject:RE: [rest-discuss] Re: bootstrapping<br>
Message:<br><br>
<pre>Alan Dean wrote:
&gt; Still don't like the WSDL-like nature of WADL though and this 
&gt; still leaves open the question of how does a client discover 
&gt; the mechanism to construct a URI. HTML specifies that anchor 
&gt; tags contain opaque URIs and, yes, form tags can specify a 
&gt; GET with an opaque base URI plus querystring parameters. But 
&gt; this information is specified at the level of the 
&gt; content-type format specification (as HTML does). That way, 
&gt; the client knows that if they have been fed text/html or 
&gt; application/xhtml+xml then these URI rules apply.
&gt; 
&gt; Following that logic, URI construction rules should be 
&gt; specified by the content-type format specification. 

Can you give a reference for where HTML specifies anchor tags contain opaque
URI.  I didn't see that explicitly stated in the spec[1], though I could
have missed it.

That said, it seems to me to be a stretch to suggest that URI construction
rules should be done in content-type format specs and would encourage
recursive specification.  

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 

[1] http://www.w3.org/TR/REC-html40/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10223<br>
Sender:"John D. Heintz" &lt;jheintz@...&gt;<br>
Post Date/Time:2008-01-17 00:26:40<br>
Subject:Re: [rest-discuss] Re: bootstrapping<br>
Message:<br><br>
<pre>Hi Alan,

On Jan 16, 2008 5:25 PM, Alan Dean &lt;alan.dean@...&gt; wrote:
&gt; Dave,
&gt;
&gt; I stand corrected. Did a quick search and came across
&gt; http://rest.blueoxen.net/cgi-bin/wiki.pl?RestAndUriOpacity
&gt;
&gt; "REST does not require that a URI be opaque. The only place where the
&gt; word opaque occurs in my dissertation is where I complain about the
&gt; opaqueness of cookies. In fact, RESTful applications are, at all
&gt; times, encouraged to use human-meaningful, hierarchical identifiers in
&gt; order to maximize the serendipitous use of the information beyond what
&gt; is anticipated by the original application." Roy Fielding

Wow, I didn't know that. But that makes sense.


&gt;
&gt; Thanks for setting me straight :-)
&gt;
&gt; Still don't like the WSDL-like nature of WADL though and this still
&gt; leaves open the question of how does a client discover the mechanism
&gt; to construct a URI. HTML specifies that anchor tags contain opaque
&gt; URIs and, yes, form tags can specify a GET with an opaque base URI
&gt; plus querystring parameters. But this information is specified at the
&gt; level of the content-type format specification (as HTML does). That
&gt; way, the client knows that if they have been fed text/html or
&gt; application/xhtml+xml then these URI rules apply.

I agree, the issues I've complained about regarding WADL is using it
(or any IDL) to perform code generation. Once that happens it creates
a statically coupled (early bound) dependency on the server. This is
an unhealthy constraint on a RESTful server.

URI Templates _could_ be used in the same way - generating static and
remote constraints on the server-side URI generation.


&gt;
&gt; Following that logic, URI construction rules should be specified by
&gt; the content-type format specification. Unfortunately, most formats
&gt; make no such provision and those that do (such as Atom [1], RDF-RSS
&gt; [2], RSS [3], OPML [4] or Sitemaps [5]) specify opaque URIs. I can't
&gt; find any reference to URI construction or templates in APP [6] either.

I've been noticing that most formats don't support/expose URI or Forms
generation either, and in my recent blog post [1] I've predicted that
this current situation is going to change in the next 10 years. Right
now HTML(and HTML Forms)+microformats enable the "low tech" approach.
RDF offers a "high-tech" approach. I'm predicting that experience and
new schema technologies will support the more common combining of all
these things.

[1] http://johnheintz.blogspot.com/2008/01/comments-rest-interactions-and.html

&gt;
&gt; Indeed, the only specification (draft) that I have found is from Joe
&gt; Gregorio "URI Template" [7][8] and that does not address discovery so
&gt; far as I can see.
&gt;
&gt; In the absence of URI templating at the Content-Type level (excepting
&gt; the 'primitive' templating in HTML) any attempt to implement URI
&gt; templating at present effectively means that each client must coded on
&gt; a site-specific basis. I would argue that URI are, to all intents and
&gt; purposes, generally opaque (whilst acknowledging that REST doesn't
&gt; require it - see above). Note that opaque doesn't mean that they can't
&gt; be 'pretty', 'hackable' or human-readable.
&gt;
&gt; I note the proposal to include URI Templates in the WHATWG activity
&gt; [9] Mike refers to, but that doesn't help with any of the other
&gt; formats.
&gt;
&gt; Apologies for posting at more length than I normally do.
&gt;
&gt; Regards,
&gt; Alan Dean
&gt; http://thoughtpad.net/alan-dean
&gt;
&gt; [1] http://tools.ietf.org/html/rfc4287#section-3.2.2
&gt; [2] http://web.resource.org/rss/1.0/spec
&gt; [3] http://cyber.law.harvard.edu/rss/rss.html
&gt; [4] http://www.opml.org/spec2
&gt; [5] http://www.sitemaps.org/protocol.php
&gt; [6] http://tools.ietf.org/html/rfc5023#section-4.1
&gt; [7] http://bitworking.org/projects/URI-Templates/draft-gregorio-uritemplate-01.html
&gt; [8] http://bitworking.org/projects/URI-Templates/draft-gregorio-uritemplate-02.html
&gt; [9] http://blog.welldesignedurls.org/2007/01/11/proposing-uri-templates-for-webforms-2/
&gt;
&gt; On 1/16/08, David Orchard &lt;dorchard@...&gt; wrote:
&gt; &gt;
&gt; &gt; Yet again, somebody claims that URIs are supposed to be  opaque under REST.  That is simply completely untrue.   As an  example, HTML Forms using GET are RESTful and they have transparent  URIs.
&gt; &gt;
&gt; &gt; Cheers,
&gt; &gt; Dave
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;



-- 
John D. Heintz
Principal Consultant
New Aspects of Software
http://newaspects.com
http://johnheintz.blogspot.com
Austin, TX
(512) 633-1198

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10224<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-01-17 04:57:25<br>
Subject:Re: [rest-discuss] Re: bootstrapping<br>
Message:<br><br>
<pre>Mike,

My point is that URI values when linking in HTML [1] are not treated
(currently) with any interpretive logic except relative path
calculation.

To me, that means that they are opaque to all intents and purposes.
This may change with the work under way by WHATWG but it describes the
status quo.

Alan

[1] http://www.w3.org/TR/REC-html40/struct/links.html#h-12.1

On 1/17/08, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt;
&gt; Can you give a reference for where HTML specifies anchor tags contain opaque
&gt; URI.  I didn't see that explicitly stated in the spec[1], though I could
&gt; have missed it.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10225<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-01-17 05:22:38<br>
Subject:Re: [rest-discuss] Re: bootstrapping<br>
Message:<br><br>
<pre>To muse a little ...

When I talk about URI Opacity, what do I mean?

For me, "URI Transparency" (being the inverse of URI Opacity) comes
down to the capability to code an automated interpretation in the
client.

Currently, for any given (absolute) URI we can make the following statements:

* characters before the first "://" refer to the application-level protocol
* characters between "ftp|...|http://" and "/" refer to the server host
* between the server host and "?" the presence of "/" denotes a
hierarchy delimiter
* characters between "?" and "#" refer to the querystring parameter set
* characters after "#" refer to a relative position within the content body

I think that's it. Can't tell anything else.

Google doesn't come along and say "hmmm, that part of the hierarchy
looks like an integer - let's go increment it!".

Sure, we humans do - but the google spider doesn't (so far as I know).

Indeed, even specialised spiders that target blogs don't exhibit this behaviour.

Therefore, I regard any given URI string as being practically opaque
from the perspective of a robot.

This is *not* to say that I don't like 'pretty', 'hackable' or
human-readable URIs. I sure do. Well-formedness is a very attractive
trait in server-side URI generation.

I simply say that within the existing web specifications we cannot a
produce generally interpretive robot, only one that treats the URIs of
today as opaque and follows links of these opaque URIs.

Does this mean that I am against the client discovering the server URI
generation 'recipe'? No.

I am not against formulating a publication mechanism for URI recipes,
if the server wants to publish them. I'm simply saying that there
isn't a specified way of doing this currently.

It is an outstanding task.

This, I assume, is why Joe Gregorio has published his draft proposal
and why the WHATWG is considering the issue.

Regards,
Alan Dean

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10226<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-01-17 05:46:33<br>
Subject:Re: [rest-discuss] Re: bootstrapping<br>
Message:<br><br>
<pre>Dave,

I agree that it makes sense to decouple template definitions from discovery.

My point is that the discovery story needs consideration as well as
the definitions.

There are various options available:

1. Discover templating information within the content body of a
response (for example within an html document).

2. Discover it via a specialised document, in a similar way to
Sitemaps (I think that this is essentially what Mike proposes).

3. Discover it via conneg to a template Content-Type.

3. (and this just came to me) Discover it via an HTTP header of the
response. For example

X-Location-Template: http://www.example.com/users/{string:username}

Are there other options?

What are the strengths and weaknesses of the alternate approaches?

Regards,
Alan Dean

On 1/17/08, David Orchard &lt;dorchard@...&gt; wrote:
&gt; I've done some work on the URI-Template spec and
&gt; in my mind it should not address discovery.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10227<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-01-17 05:51:20<br>
Subject:Re: [rest-discuss] Re: bootstrapping<br>
Message:<br><br>
<pre>I missed one: Discover it via an OPTIONS request.

On 1/17/08, Alan Dean &lt;alan.dean@...&gt; wrote:
&gt; Dave,
&gt;
&gt; I agree that it makes sense to decouple template definitions from discovery.
&gt;
&gt; My point is that the discovery story needs consideration as well as
&gt; the definitions.
&gt;
&gt; There are various options available:
&gt;
&gt; 1. Discover templating information within the content body of a
&gt; response (for example within an html document).
&gt;
&gt; 2. Discover it via a specialised document, in a similar way to
&gt; Sitemaps (I think that this is essentially what Mike proposes).
&gt;
&gt; 3. Discover it via conneg to a template Content-Type.
&gt;
&gt; 3. (and this just came to me) Discover it via an HTTP header of the
&gt; response. For example
&gt;
&gt; X-Location-Template: http://www.example.com/users/{string:username}
&gt;
&gt; Are there other options?
&gt;
&gt; What are the strengths and weaknesses of the alternate approaches?
&gt;
&gt; Regards,
&gt; Alan Dean
&gt;
&gt; On 1/17/08, David Orchard &lt;dorchard@...&gt; wrote:
&gt; &gt; I've done some work on the URI-Template spec and
&gt; &gt; in my mind it should not address discovery.
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10228<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-17 05:57:40<br>
Subject:RE: [rest-discuss] Re: bootstrapping<br>
Message:<br><br>
<pre>Alan Dean wrote:
&gt; My point is that URI values when linking in HTML [1] are not treated
&gt; (currently) with any interpretive logic except relative path 
&gt; calculation.
&gt; 
&gt; To me, that means that they are opaque to all intents and purposes.
&gt; This may change with the work under way by WHATWG but it 
&gt; describes the status quo.

Honestly, I think you are reading intents and purposes that were never
intended by those who designed HTML.  However I would like to hear if others
think that HTML envisioned explicit prohibition  of later extensions that
would otherwise provide relative path calculation.

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10229<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-17 06:12:52<br>
Subject:RE: [rest-discuss] Re: bootstrapping<br>
Message:<br><br>
<pre>Alan Dean wrote:
&gt; To muse a little ...
&gt; 
&gt; When I talk about URI Opacity, what do I mean?
&gt; 
&gt; For me, "URI Transparency" (being the inverse of URI Opacity) 
&gt; comes down to the capability to code an automated 
&gt; interpretation in the client.
&gt; 
&gt; Currently, for any given (absolute) URI we can make the 
&gt; following statements:
&gt; 
&gt; * characters before the first "://" refer to the 
&gt; application-level protocol
&gt; * characters between "ftp|...|http://" and "/" refer to the 
&gt; server host
&gt; * between the server host and "?" the presence of "/" denotes 
&gt; a hierarchy delimiter
&gt; * characters between "?" and "#" refer to the querystring 
&gt; parameter set
&gt; * characters after "#" refer to a relative position within 
&gt; the content body
&gt; 
&gt; I think that's it. Can't tell anything else.
&gt; 
&gt; Google doesn't come along and say "hmmm, that part of the 
&gt; hierarchy looks like an integer - let's go increment it!".
&gt; 
&gt; Sure, we humans do - but the google spider doesn't (so far as I know).
&gt; 
&gt; Indeed, even specialised spiders that target blogs don't 
&gt; exhibit this behaviour.
&gt; 
&gt; Therefore, I regard any given URI string as being practically 
&gt; opaque from the perspective of a robot.
&gt; 
&gt; This is *not* to say that I don't like 'pretty', 'hackable' 
&gt; or human-readable URIs. I sure do. Well-formedness is a very 
&gt; attractive trait in server-side URI generation.
&gt; 
&gt; I simply say that within the existing web specifications we 
&gt; cannot a produce generally interpretive robot, only one that 
&gt; treats the URIs of today as opaque and follows links of these 
&gt; opaque URIs.
&gt; 
&gt; Does this mean that I am against the client discovering the 
&gt; server URI generation 'recipe'? No.
&gt; 
&gt; I am not against formulating a publication mechanism for URI 
&gt; recipes, if the server wants to publish them. I'm simply 
&gt; saying that there isn't a specified way of doing this currently.
&gt; 
&gt; It is an outstanding task.
&gt; 
&gt; This, I assume, is why Joe Gregorio has published his draft 
&gt; proposal and why the WHATWG is considering the issue.

Okay..., but I'm trying to discern your point. What I think you are saying
is that there should as of yet be no client software that attempts to
construct a URL based on server-provided protocols because there isn't a
currently "specified" way of doing it (I quoted "specified" because I think
you meant that there is no current "specification" such as an RFC that
establishes a way to do this.)  Is that what you meant?

If no, please help me understand.  

If yes, then I would rhetorically ask "How then do things because a
specification?" to which I'd answer that I understand that they become
specifications by first having a least two implementations.  And if I'm
correct in that then your position impedes the beneficial URI Templates from
more quickly gaining the foothold it needs based on a principle that URI
Templates would nullify.  Said another way, rather than taking a position to
minimize functionality based on a principle wouldn't it be better to provide
one of those implementations that URI Templates needs to actually become the
specification that we currently lack?

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10230<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-17 06:27:52<br>
Subject:RE: [rest-discuss] Re: bootstrapping<br>
Message:<br><br>
<pre>Alan Dean wrote:
&gt; My point is that the discovery story needs consideration as 
&gt; well as the definitions.
&gt; 
&gt; There are various options available:
&gt; 
&gt; 1. Discover templating information within the content body of 
&gt; a response (for example within an html document).
&gt; 
&gt; 2. Discover it via a specialised document, in a similar way 
&gt; to Sitemaps (I think that this is essentially what Mike proposes).
&gt; 
&gt; 3. Discover it via conneg to a template Content-Type.
&gt; 
&gt; 3. (and this just came to me) Discover it via an HTTP header 
&gt; of the response. For example
&gt; 
&gt; X-Location-Template: http://www.example.com/users/{string:username}

FYI, I was proposing redundant approaches of #1, #2, and #3b (aka #4 :-)
IMO the different approaches work best in different contexts.  For example,
if you are using  AJAX in HTML, #1 would be preferred.  If don't already
have a representation, #2 would be preferred (using robots.txt as per
siteData-36 discussion), and in the case of intermediaries (and I'm sure
other use cases) #3b/#4 would be preferred.  At least IMO.

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10231<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-01-17 06:28:34<br>
Subject:Re: [rest-discuss] Re: bootstrapping<br>
Message:<br><br>
<pre>On Jan 16, 2008 9:22 PM, Alan Dean &lt;alan.dean@...&gt; wrote:
&gt; Google doesn't come along and say "hmmm, that part of the hierarchy
&gt; looks like an integer - let's go increment it!".
&gt;
&gt; Sure, we humans do - but the google spider doesn't (so far as I know).
&gt;
&gt; Indeed, even specialised spiders that target blogs don't exhibit this behaviour.

Some do.  I run code that does that, from the access logs I know
spambots do that, have a look at the Pagerization Greasemonkey
script[1], it uses either XPath or URL mangling, depending on the site
it's working with.

It's a matter of being practical.  If the site doesn't offer easily
identifiable navigation link then your two choices are to ignore it in
the name of principles, or work with the URLs.

When it comes to the Web, never say never :-)


-- Assaf
http://labnotes.org

[1] http://userscripts.org/scripts/show/7623

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10232<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-01-17 06:39:04<br>
Subject:Re: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>On Jan 16, 2008 12:37 PM, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt; Assaf Arkin wrote:
&gt; &gt; I think the risk here is with developers grabbing the
&gt; &gt; template once, and then hard coding it into their client
&gt; &gt; libraries, making it hard to change the service afterwards
&gt; &gt; (same problem we're seeing with WSDL/WADL), so I would
&gt; &gt; recommend having the server resolve the URN into a URL.
&gt;
&gt; Providing a template that the client can fill out gives significant benefits
&gt; not the least of which is to reduce the number of HTTP calls and/or download
&gt; sizes when a service has a large set of URLs so prescribing that the server
&gt; resolve be the only workable option is a rather myopic view, don't you
&gt; think?  Especially if the number of people wiriting clients is small and
&gt; controlled.

Yes.  I should have written "I think the risk here is ... and in that
case I would recommend having the server resolve the URN into a URL".
The point is, if you're not satisfied with that risk, then the clear
alternative would be for the server to resolve it.

In my experience writing the code is easier than changing code you
have not touched in a while, or worse, other people's code.  It's not
the number of people writing clients, but the number of different
people who will have to change them in the future.  And most scaling
bandwidth is easier than scaling development.

Assaf

&gt;
&gt; But even your service is public, if it is important that the URL be able to
&gt; change then make that clear in no uncertain terms in the docs and in
&gt; UPPERCASE comments in any representations returned.  And if you are
&gt; paranoid, literally change the URL every time with a validatation parameter
&gt; so that anyone who did hard code quickly learns better and no time is given
&gt; to allow hardcoded clients time is build up.
&gt;
&gt; Or IMO best of all, just document it and commit to the URL format just as
&gt; Google have done with their Chart service, for example. Yes I know, that
&gt; violates the HATEOAS requirement but I personally don't think being a
&gt; fundamentalist in all things is such a good idea; some times it is better
&gt; just to put a stake in the ground. If *everything* were meta, we'd never get
&gt; anything done.
&gt;
&gt; --
&gt; -Mike Schinkel
&gt; http://www.mikeschinkel.com/blogs/
&gt; http://www.welldesignedurls.org
&gt; http://atlanta-web.org
&gt;
&gt;



-- 
-- Assaf

http://labnotes.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10233<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-01-17 06:45:29<br>
Subject:Re: [rest-discuss] Re: bootstrapping<br>
Message:<br><br>
<pre>On 1/17/08, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt;
&gt; Okay..., but I'm trying to discern your point. What I think you are saying
&gt; is that there should as of yet be no client software that attempts to
&gt; construct a URL based on server-provided protocols because there isn't a
&gt; currently "specified" way of doing it (I quoted "specified" because I think
&gt; you meant that there is no current "specification" such as an RFC that
&gt; establishes a way to do this.)  Is that what you meant?

To clarify: I'm am not saying that there *should* be no clients that
construct URIs.

That would be a very odd position to take - indeed, I have written
many such clients myself.

&gt; If no, please help me understand.

My point is that I expect the purpose of a URI Template specification
is to enable a *general* client implementation rather than a series of
client-specific implementations.

Think of Atom/RSS feeds. There is now a generally-accepted practice of
specifying a link to  available feeds from within an html document,
e.g.

&lt;link rel="alternate" type="application/rss+xml" title="RSS Feed"
href="http://example.com/feed.rss" /&gt;
&lt;link rel="alternate" type="application/atom+xml" title="Atom Feed"
href="http://example.com/feed.atom" /&gt;

Because of this, browsers such as IE7 and FF2 have a general
implementation for Feed Discovery. No site-specific logic is required.

The downside with the IE7 / FF2 solutoin is that it is an
html-specific approach. It offers no solution for non-html
content-types. I believe it would be better to establish practices
that are less content-type-specific.

&gt; If yes, then I would rhetorically ask "How then do things because a
&gt; specification?" to which I'd answer that I understand that they become
&gt; specifications by first having a least two implementations.  And if I'm
&gt; correct in that then your position impedes the beneficial URI Templates from
&gt; more quickly gaining the foothold it needs based on a principle that URI
&gt; Templates would nullify.  Said another way, rather than taking a position to
&gt; minimize functionality based on a principle wouldn't it be better to provide
&gt; one of those implementations that URI Templates needs to actually become the
&gt; specification that we currently lack?

My hope is to stimulate discussion and potentially start building some
consensus to proceed forward. I'm certainly not trying to be a barrier
to progress :-)

Alan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10234<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-01-17 06:49:50<br>
Subject:Re: [rest-discuss] Re: bootstrapping<br>
Message:<br><br>
<pre>On 1/17/08, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt; Alan Dean wrote:
&gt; &gt; My point is that the discovery story needs consideration as
&gt; &gt; well as the definitions.
&gt; &gt;
&gt; &gt; There are various options available:
&gt; &gt;
&gt; &gt; 1. Discover templating information within the content body of
&gt; &gt; a response (for example within an html document).
&gt; &gt;
&gt; &gt; 2. Discover it via a specialised document, in a similar way
&gt; &gt; to Sitemaps (I think that this is essentially what Mike proposes).
&gt; &gt;
&gt; &gt; 3. Discover it via conneg to a template Content-Type.
&gt; &gt;
&gt; &gt; 3. (and this just came to me) Discover it via an HTTP header
&gt; &gt; of the response. For example
&gt; &gt;
&gt; &gt; X-Location-Template: http://www.example.com/users/{string:username}
&gt;
&gt; FYI, I was proposing redundant approaches of #1, #2, and #3b (aka #4 :-)

Sorry for the typo... ;-)

&gt; IMO the different approaches work best in different contexts.  For example,
&gt; if you are using  AJAX in HTML, #1 would be preferred.  If don't already
&gt; have a representation, #2 would be preferred (using robots.txt as per
&gt; siteData-36 discussion), and in the case of intermediaries (and I'm sure
&gt; other use cases) #3b/#4 would be preferred.  At least IMO.

I know that you like #2 but static stuff like that smells bad to me.
Perhaps I am in a minority (of one?) in thinking so, but there it is.

Alan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10235<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-17 08:59:33<br>
Subject:RE: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>Assaf Arkin wrote:
&gt; In my experience writing the code is easier than changing 
&gt; code you have not touched in a while, or worse, other 
&gt; people's code.  It's not the number of people writing 
&gt; clients, but the number of different people who will have to 
&gt; change them in the future.  And most scaling bandwidth is 
&gt; easier than scaling development.

I actually agree with that quite strongly.  

However, and I explain this so you'll know why I make some of my arguments,
I'm also concerned with empowering a class of people that I think most who
participate on these lists are not concerned with. I'll call those people
"occupational" programmers (as opposed to "professional") programmers.
Occupational programmers by nature program to get a job done not because
their job is programming. The more difficult something is the less likely an
occupational programmers will ever be able to do it because they don't
rarely have the time to learn more than beginner-level programming skills.

I see REST-based services as being incredibly empowering for occupational
programmers, but only if they are accessible at their skill level. If there
is a requirement for REST-based services to do something that is beyond the
current skill set of an occupational programmer there is (IMO) an order of
magnitude less chance they will ever use it.  The unfortunate reality is
that the HATEOAS requirement puts a skill burden on occupational
programmers, especially given the lack of standard ways to deal with HATEOAS
and that fact that the "universal web tool" (i.e. the browser) doesn't
support interacting with web services that don't (X)HTML content types. The
browser is to HTTP and HTML what the Python command line is to Python code
in that it is software that lets someone try something and see what they
get.  That is essential for occupational programmer to learn as they don't
have time to learn by concept.  A web service with a published URL format
where the occupational programmer can compose the URL and use the browser to
a discovery tool is critical for wide-scale use by occupational programmers.
Why do you think so many companies like Google publish direct URL interfaces
for their services?

IMO for the HATEOAS to be fully respected and generally used we need a
standard way to discover and interact with REST-based web services and that
standard way to interact need to then be built into browsers thus allowing
people to discover and interact with them without having to write code.
Until that happens, it's unrealistic to expect widespread use of HATEOAS for
any but the most standards-pedantic of web service publishers much like
people still use &lt;table&gt; elements instead of pure CSS because pure CSS
doesn't fully meet the needs of users.  Companies that have a strategic
reason for more people to use their externally published web services are
foolish not to publish direct URL interfaces because given the current state
of things HATEOAS signifcantly stunts adoption.

BTW, 99% of what I'm discussing in this email are web services published for
external use, not web services that are only used by others in the same
organization. 

There are also cases where a HATEOAS requirement effectively nullifies the
benefit fo the service, for example the published URL interfaces for
Google's Chart API [1].  Given that the Google Chart API returns an image
for use in a &lt;img src="..."&gt; element, requiring the client to first call a
main URL to get the specific URL before it can use it elimates potential use
anywhere Javascript is not an option and for anyone who does not have the
required Javascript skills (My guess is more than 10 times more people know
HTML than Javascript.)  Again, I'm advocating for accessibility for the
lesser skilled. They, after all, are not here to advocate for themselves
(unless you count me in that category. :-)

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 

[1] http://code.google.com/apis/chart/#url_format

&gt; 
&gt; Assaf
&gt; 
&gt; &gt;
&gt; &gt; But even your service is public, if it is important that the URL be 
&gt; &gt; able to change then make that clear in no uncertain terms 
&gt; in the docs 
&gt; &gt; and in UPPERCASE comments in any representations returned.  
&gt; And if you 
&gt; &gt; are paranoid, literally change the URL every time with a 
&gt; validatation 
&gt; &gt; parameter so that anyone who did hard code quickly learns 
&gt; better and 
&gt; &gt; no time is given to allow hardcoded clients time is build up.
&gt; &gt;
&gt; &gt; Or IMO best of all, just document it and commit to the URL 
&gt; format just 
&gt; &gt; as Google have done with their Chart service, for example. 
&gt; Yes I know, 
&gt; &gt; that violates the HATEOAS requirement but I personally don't think 
&gt; &gt; being a fundamentalist in all things is such a good idea; 
&gt; some times 
&gt; &gt; it is better just to put a stake in the ground. If 
&gt; *everything* were 
&gt; &gt; meta, we'd never get anything done.
&gt; &gt;
&gt; &gt; --
&gt; &gt; -Mike Schinkel
&gt; &gt; http://www.mikeschinkel.com/blogs/
&gt; &gt; http://www.welldesignedurls.org
&gt; &gt; http://atlanta-web.org
&gt; &gt;
&gt; &gt;
&gt; 
&gt; 
&gt; 
&gt; --
&gt; -- Assaf
&gt; 
&gt; http://labnotes.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10236<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-17 09:14:36<br>
Subject:RE: [rest-discuss] Re: bootstrapping<br>
Message:<br><br>
<pre>Alan Dean wrote:
&gt; &gt; IMO the different approaches work best in different contexts.  For 
&gt; &gt; example, if you are using  AJAX in HTML, #1 would be preferred.  If 
&gt; &gt; don't already have a representation, #2 would be preferred (using 
&gt; &gt; robots.txt as per
&gt; &gt; siteData-36 discussion), and in the case of intermediaries (and I'm 
&gt; &gt; sure other use cases) #3b/#4 would be preferred.  At least IMO.
&gt; 
&gt; I know that you like #2 but static stuff like that smells bad to me.
&gt; Perhaps I am in a minority (of one?) in thinking so, but there it is.

When I first started looking at it I didn't like #2 either, but after
studying TAG issue siteData-36 I came to believe it would be an important
and viable approach. Their discussion, btw, didn't advocate robots.txt so
much as it identified robots.txt as the least bad option.  Further, I think
some of their main objections to it (concern for people who had no access to
the root of a website and who had such a poor relationship with those who
did have access that they couldn't get robots.txt modified) is not a
critical concern here.  For service discovery, if someone is publishing a
service they can figure out a way to get access to a root, somehow, even if
it means creating a subdomain or getting another domain that they do
control.

Anyway, I'd be interested in your take on the subject assuming you read the
prior discussions on sideData-36 [1]. It was only discussed eight times so
it shouldn't be that hard to review it.  Maybe you'll come away with a
different idea, but my guess is you would also think using robots.txt for
initial service discovery to be a good idea after reading the siteData-36
discussions.

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 

[1] http://www.w3.org/2001/tag/issues.html#siteData-36






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10237<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-17 09:14:36<br>
Subject:RE: [rest-discuss] Re: bootstrapping<br>
Message:<br><br>
<pre>Alan Dean wrote:
&gt; To clarify: I'm am not saying that there *should* be no 
&gt; clients that construct URIs.
&gt; 
&gt; That would be a very odd position to take - indeed, I have 
&gt; written many such clients myself.
&gt; 
&gt; My point is that I expect the purpose of a URI Template 
&gt; specification is to enable a *general* client implementation 
&gt; rather than a series of client-specific implementations.
&gt; 
&gt; Think of Atom/RSS feeds. There is now a generally-accepted 
&gt; practice of specifying a link to  available feeds from within 
&gt; an html document, e.g.
&gt; 
&gt; &lt;link rel="alternate" type="application/rss+xml" title="RSS Feed"
&gt; href="http://example.com/feed.rss" /&gt;
&gt; &lt;link rel="alternate" type="application/atom+xml" title="Atom Feed"
&gt; href="http://example.com/feed.atom" /&gt;
&gt; 
&gt; Because of this, browsers such as IE7 and FF2 have a general 
&gt; implementation for Feed Discovery. No site-specific logic is required.
&gt; 
&gt; My hope is to stimulate discussion and potentially start 
&gt; building some consensus to proceed forward. I'm certainly not 
&gt; trying to be a barrier to progress :-)

Whenever you and I start discussing things I come to the conclusion that we
have very similar ideas we just initially present them in different ways.

So as I think we are really in-sync, what I'm suggesting is that add weight
to URI Templates by supporting them in your domain-service-discovery
proposal instead of trying to say is steering clear of anything other than
URIs served in their complete form.  After all, Atom/RSS didn't start out
with browser-based implementation; that only came after a groundswell of
support for RSS and Atom. Besides URI Templates is hardly a risky bet given
how well-respected the people who are working on it are, and as far as I
know there hasn't been anyone who has challenged URI Templates as a bad
idea.  The only real debate on URI Templates has been nitpicking
implementation (me being one of the nitpickers.) 

That said, why not add URI Templates to your domain-service-discovery
proposal?  Support for URI Templates will likely gain you support for DSD
from the URI Template camp as well.

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10238<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-17 09:59:59<br>
Subject:RE: [rest-discuss] Re: bootstrapping<br>
Message:<br><br>
<pre>Mike Schinkel wrote:
&gt; Anyway, I'd be interested in your take on the subject 
&gt; assuming you read the prior discussions on sideData-36 [1]. 
&gt; It was only discussed eight times so it shouldn't be that 
&gt; hard to review it.  Maybe you'll come away with a different 
&gt; idea, but my guess is you would also think using robots.txt 
&gt; for initial service discovery to be a good idea after reading 
&gt; the siteData-36 discussions.
&gt;
&gt; [1] http://www.w3.org/2001/tag/issues.html#siteData-36

BTW, here are some other links to read (you could get to them from the
discussions, but since you might not have here there are):

http://www.tbray.org/ongoing/When/200x/2003/02/27/Websites
http://www.tbray.org/ongoing/When/200x/2004/01/08/WebSite36
http://lists.w3.org/Archives/Public/www-tag/2003Feb/0297.html
http://lists.w3.org/Archives/Public/www-tag/2003Feb/0093.html

Also:

http://lists.w3.org/Archives/Public/www-tag/2003Feb/0103.html
"However, these approaches require at least two hits on the server.  While
this may be fine for favico or P3P (from the client perspective), I wonder
if you will be able to convince crawlers, bots, etc. to give up the
robots.txt file. "

This argues for robots.txt as a clean solution.

http://lists.w3.org/Archives/Public/www-tag/2003Feb/0114.html
"Any page on our site has a general human-readable admin page (which happens
to be the URI followed by a comma  ie for
http://www.w3.org/2003/01/W3COrg.svg see
http://www.w3.org/2003/01/W3COrg.svg,   ).  It would be cool to have an RDF
metadata page - which could point to the admin page and other related
things.
You just have a convention, that site-specific stuff is put in with the root
metadata."

That last sentence from TimBL, though never implemented, conflicts with your
DSD proposal. I bring it up because I think it's a bad idea to have a
resource that returns a content type be assumed to mean only one thing
because that keeps it from meaning other things, which could be valid needs.

Anyway, follow that thread.  It covers a lot of these issues and it
interesting reading (for geeks like us. :)

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org - http://t.oolicio.us


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10239<br>
Sender:"=?ISO-8859-1?Q?Ant=F3nio_Mota?=" &lt;amsmota@...&gt;<br>
Post Date/Time:2008-01-17 11:16:56<br>
Subject:Fwd: Resources and State<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10240<br>
Sender:"=?ISO-8859-1?Q?Ant=F3nio_Mota?=" &lt;amsmota@...&gt;<br>
Post Date/Time:2008-01-17 11:27:26<br>
Subject:Re: [rest-discuss] REST and ESB<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10241<br>
Sender:"=?ISO-8859-1?Q?Ant=F3nio_Mota?=" &lt;amsmota@...&gt;<br>
Post Date/Time:2008-01-17 12:03:01<br>
Subject:Fwd: Resources and State<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10242<br>
Sender:"=?ISO-8859-1?Q?Ant=F3nio_Mota?=" &lt;amsmota@...&gt;<br>
Post Date/Time:2008-01-17 12:03:19<br>
Subject:Fwd: [rest-discuss] Resources and State<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10243<br>
Sender:"=?ISO-8859-1?Q?Ant=F3nio_Mota?=" &lt;amsmota@...&gt;<br>
Post Date/Time:2008-01-17 12:03:44<br>
Subject:Fwd: [rest-discuss] Resources and State<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10244<br>
Sender:"=?ISO-8859-1?Q?Ant=F3nio_Mota?=" &lt;amsmota@...&gt;<br>
Post Date/Time:2008-01-17 12:23:27<br>
Subject:Re: Resources and State<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10245<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-01-17 12:46:56<br>
Subject:Re: [rest-discuss] REST and ESB<br>
Message:<br><br>
<pre>Hey,

I am not being a spoil sport but won't this be answered better and by
more experienced people (imho) at the service-oriented-architecture
yahoo! group.

hth

Regards,
devdatta

On Jan 17, 2008 4:57 PM, Antnio Mota &lt;amsmota@...&gt; wrote:
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Can I have some help on this? Basically I have two competing models
&gt;
&gt; REST + isolated services build on Dynamic Languages
&gt;
&gt; REST + ESB
&gt;
&gt; and I have to justify when one or the other are better suited. As I said, I
&gt; have prepared a questionnaire to be answered for each of our conceived
&gt; services, in which the more "yes" answers the more a REST + ESB approach
&gt; should be taken.
&gt;
&gt;
&gt;  - Are the processes long running processes ?
&gt;  - Do we need to interact with WS-* protocols ?
&gt;  - Is a Application Description necessary ?
&gt;  - Do we need multiple adapters ?
&gt;  - Do we need Modeling ?
&gt;  - Do we need Monitoring ?
&gt;  - Are there Performance issues, either measured or perceived ?
&gt;  - What the level of Compensation is required ?
&gt;  - Is there any legacy data integration needed ?
&gt;
&gt;
&gt;
&gt; Cheers all.
&gt;
&gt;
&gt;
&gt;
&gt; On 16/01/2008, amsmota &lt;amsmota@gmail.com&gt; wrote:
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; I have to put up a architecture design to implement some services and
&gt; &gt; we (at my department) already have agreed that it will be based on a
&gt; &gt; REST, meaning we will give access to the services by some public
&gt; &gt; available resources addressed by some URI's.
&gt; &gt;
&gt; &gt; Now the discussion is to use a ESB or do it the "REST + dynamic
&gt; &gt; languages" way. What I come up with was a kind of "questionnaire" to
&gt; &gt; be answered for each service (after we had agreed what are the
&gt; &gt; services exposed) in a manner that most of the answers is yes that is
&gt; &gt; a indication that using a ESB is more suitable for that particular
&gt; &gt; service.
&gt; &gt;
&gt; &gt; Also to note that this is a Java shop, so people are more confortable
&gt; &gt; with it than "dynamic languages" and we are already using Mule but
&gt; &gt; just to receive mails now.
&gt; &gt;
&gt; &gt; The questions I put up are:
&gt; &gt;
&gt; &gt; - Are the processes long running processes ?
&gt; &gt; - Do we need to interact with WS-* protocols ?
&gt; &gt; - Is a Application Description necessary ?
&gt; &gt; - Do we need multiple adapters ?
&gt; &gt; - Do we need Modeling ?
&gt; &gt; - Do we need Monitoring ?
&gt; &gt; - Are there Performance issues, either measured or perceived ?
&gt; &gt; - What the level of Compensation is required ?
&gt; &gt; - Is there any legacy data integration needed ?
&gt; &gt;
&gt; &gt; Are this ok? Is there other ways to access this question?
&gt; &gt;
&gt; &gt; Many thanks.
&gt; &gt;
&gt; &gt;
&gt;
&gt;
&gt;
&gt; --
&gt; Melhores cumprimentos / Beir beannacht / Best regards
&gt; Antnio Santos Mota 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10246<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-01-17 13:15:09<br>
Subject:Re: [rest-discuss] Resources and State<br>
Message:<br><br>
<pre>On 1/17/08, Antnio Mota &lt;amsmota@gmail.com&gt; wrote:
&gt;
&gt; I can't quite grasp the concept of "virtual state machine", probably because i don't have a mathematical background.

Danny Ayers has this really simple example to illustrate the state
machine of a lamp:

http://dannyayers.com/engine-of-state/on

Alan
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10247<br>
Sender:"Michael Makunas" &lt;michael@...&gt;<br>
Post Date/Time:2008-01-17 13:33:14<br>
Subject:Re: bootstrapping<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, "Assaf Arkin" &lt;assaf@...&gt; wrote:
&gt;
&gt; On Jan 16, 2008 4:10 AM, Michael Makunas &lt;michael@...&gt; wrote:
&gt; &gt;
&gt; &gt; Here's what my current situation is. My client application application
&gt; &gt; manipulates "content records" that it identifies by a URN that takes
&gt; &gt; the form of: "mgid:[foo]:[bar]:[baz]:[id]". To the client, this isn't
&gt; &gt; just an opaque string. It understands the concept of foos, bars, etc.
&gt; &gt; and can extract them from the URN. (FWIW, these are design decisions
&gt; &gt; that were made long ago and I have no control over.) Would it be
&gt; &gt; appropriate for me to put something like this as the starting point
&gt; &gt; for all clients?
&gt; &gt;
&gt; &gt; http://service.mysite.com/v{version}/mgid/{foo}/{bar}/{baz}/{id}
&gt; &gt;
&gt; &gt;
&gt; &gt; Then whenever the client accesses the service, it does a GET on
&gt; &gt; http://service.mysite.com/ , parses the URI template, and carries on.
&gt; &gt;
&gt; &gt;
&gt; &gt; Does that sound reasonable? I gotten suggestions from some people (who
&gt; &gt; don't know REST well at all) to POST the URN and respond with the
&gt; &gt; correct URI or redirect to it. This, I'm pretty sure, is a really bad
&gt; &gt; idea.
&gt; 
&gt; Letting the server resolve the URN into a URL would make it easier to
&gt; change the server and add new functionality without breaking clients,
&gt; so you should look into it.  You can also do that with a GET, possibly
&gt; returning 303 (See Other) with the new URL.

Hmmmm....didn't think about using a GET and returning a 303. That's
significantly more palatable. So if the client has something like
"mgid:abc:blah:xyx:123", it could:

  GET /v1/content/mgid%3Aabc%3Ablah%3Axyx%3A123
  Host: service.mysite.com

And the server would respond:

  HTTP/1.x 303 See Other
  Location: http://service.mysite.com/v1/mgid/abc/blah/xyz/123


&gt; Returning a URL template that the client then populates doesn't sound
&gt; much different from returning a form that the client populates, URL
&gt; templates is just another mechanism and one we're seeing growing
&gt; support for in client libraries.
&gt; 
&gt; I think the risk here is with developers grabbing the template once,
&gt; and then hard coding it into their client libraries, making it hard to
&gt; change the service afterwards (same problem we're seeing with
&gt; WSDL/WADL), so I would recommend having the server resolve the URN
&gt; into a URL.

After reading the other posts in this thread, I get what you see the
risk is, but I think it's very low (especially in my case since this
is an internal API). A client developer has some responsibility to
follow best practices and all I can do is make it easier to follow
them and hard(ish) to be tempted otherwise. Temptation is usually a
factor of how complex it is and a GET returning a URI template is
pretty simple. Though maybe resolving with a GET and a 303 is even
simpler. I'll probably end up doing both.


-Michael


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10248<br>
Sender:"=?ISO-8859-1?Q?Ant=F3nio_Mota?=" &lt;amsmota@...&gt;<br>
Post Date/Time:2008-01-17 13:50:36<br>
Subject:Fwd: [rest-discuss] REST and ESB<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10249<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-01-17 16:39:05<br>
Subject:Re: [rest-discuss] REST and ESB<br>
Message:<br><br>
<pre>I consider the use of an ESB a questionable idea for a Web services- 
based SOA. For REST, it seems even less useful.

AFAICT, not even the ESB vendors claim they support REST.
Yet.

Stefan

On Jan 17, 2008, at 2:50 PM, Antnio Mota wrote:

&gt; Well, my question is between
&gt;
&gt; REST + Dynamic Languages -&gt; no SOA here
&gt;
&gt;  REST + ESB -&gt; ESB is part of a SOA, but nevertheless the REST part  
&gt; here is key
&gt;
&gt;
&gt; However I can always try it there too.
&gt;
&gt;
&gt; Cheers.
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; On 17/01/2008, dev &lt;dev.akhawe@...&gt; wrote:
&gt; Hey,
&gt;
&gt; I am not being a spoil sport but won't this be answered better and by
&gt; more experienced people (imho) at the service-oriented-architecture
&gt; yahoo! group.
&gt;
&gt; hth
&gt;
&gt; Regards,
&gt; devdatta
&gt;
&gt;
&gt;
&gt; On Jan 17, 2008 4:57 PM, Antnio Mota &lt;amsmota@...&gt; wrote:
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; Can I have some help on this? Basically I have two competing models
&gt; &gt;
&gt; &gt; REST + isolated services build on Dynamic Languages
&gt; &gt;
&gt; &gt; REST + ESB
&gt; &gt;
&gt; &gt; and I have to justify when one or the other are better suited. As  
&gt; I said, I
&gt; &gt; have prepared a questionnaire to be answered for each of our  
&gt; conceived
&gt; &gt; services, in which the more "yes" answers the more a REST + ESB  
&gt; approach
&gt; &gt; should be taken.
&gt; &gt;
&gt; &gt;
&gt; &gt; - Are the processes long running processes ?
&gt; &gt; - Do we need to interact with WS-* protocols ?
&gt; &gt; - Is a Application Description necessary ?
&gt; &gt; - Do we need multiple adapters ?
&gt; &gt; - Do we need Modeling ?
&gt; &gt; - Do we need Monitoring ?
&gt; &gt; - Are there Performance issues, either measured or perceived ?
&gt; &gt; - What the level of Compensation is required ?
&gt; &gt; - Is there any legacy data integration needed ?
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; Cheers all.
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; On 16/01/2008, amsmota &lt;amsmota@...&gt; wrote:
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; I have to put up a architecture design to implement some  
&gt; services and
&gt; &gt; &gt; we (at my department) already have agreed that it will be based  
&gt; on a
&gt; &gt; &gt; REST, meaning we will give access to the services by some public
&gt; &gt; &gt; available resources addressed by some URI's.
&gt; &gt; &gt;
&gt; &gt; &gt; Now the discussion is to use a ESB or do it the "REST + dynamic
&gt; &gt; &gt; languages" way. What I come up with was a kind of  
&gt; "questionnaire" to
&gt; &gt; &gt; be answered for each service (after we had agreed what are the
&gt; &gt; &gt; services exposed) in a manner that most of the answers is yes  
&gt; that is
&gt; &gt; &gt; a indication that using a ESB is more suitable for that particular
&gt; &gt; &gt; service.
&gt; &gt; &gt;
&gt; &gt; &gt; Also to note that this is a Java shop, so people are more  
&gt; confortable
&gt; &gt; &gt; with it than "dynamic languages" and we are already using Mule but
&gt; &gt; &gt; just to receive mails now.
&gt; &gt; &gt;
&gt; &gt; &gt; The questions I put up are:
&gt; &gt; &gt;
&gt; &gt; &gt; - Are the processes long running processes ?
&gt; &gt; &gt; - Do we need to interact with WS-* protocols ?
&gt; &gt; &gt; - Is a Application Description necessary ?
&gt; &gt; &gt; - Do we need multiple adapters ?
&gt; &gt; &gt; - Do we need Modeling ?
&gt; &gt; &gt; - Do we need Monitoring ?
&gt; &gt; &gt; - Are there Performance issues, either measured or perceived ?
&gt; &gt; &gt; - What the level of Compensation is required ?
&gt; &gt; &gt; - Is there any legacy data integration needed ?
&gt; &gt; &gt;
&gt; &gt; &gt; Are this ok? Is there other ways to access this question?
&gt; &gt; &gt;
&gt; &gt; &gt; Many thanks.
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; --
&gt; &gt; Melhores cumprimentos / Beir beannacht / Best regards
&gt; &gt; Antnio Santos Mota
&gt;
&gt;
&gt;
&gt;
&gt; --
&gt;
&gt; Melhores cumprimentos / Beir beannacht / Best regards
&gt; Antnio Santos Mota
&gt;
&gt;
&gt; -- 
&gt; Melhores cumprimentos / Beir beannacht / Best regards
&gt; Antnio Santos Mota
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10250<br>
Sender:"=?ISO-8859-1?Q?Ant=F3nio_Mota?=" &lt;amsmota@...&gt;<br>
Post Date/Time:2008-01-17 16:52:48<br>
Subject:Re: [rest-discuss] REST and ESB<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10251<br>
Sender:John Kemp &lt;john@...&gt;<br>
Post Date/Time:2008-01-17 15:14:26<br>
Subject:Re: [rest-discuss] REST and ESB<br>
Message:<br><br>
<pre>Stefan Tilkov wrote:
&gt; I consider the use of an ESB a questionable idea for a Web services- 
&gt; based SOA. For REST, it seems even less useful.

There are, however, many enterprises which have legacy "things" which 
they want to expose as "services". How are they to integrate them with 
the web - AFAIK most HTTP servers don't come with nice plugins to expose 
(for example) mainframe-based Cobol apps, or massive SQL-based databases 
as web services. Do they have to write completely custom applications to 
do it, or buy an ESB solution, where the amount of custom code (should 
be?) could be minimized?

Cheers,

- John

&gt; 
&gt; AFAICT, not even the ESB vendors claim they support REST.
&gt; Yet.
&gt; 
&gt; Stefan
&gt; 
&gt; On Jan 17, 2008, at 2:50 PM, Antnio Mota wrote:
&gt; 
&gt;&gt; Well, my question is between
&gt;&gt;
&gt;&gt; REST + Dynamic Languages -&gt; no SOA here
&gt;&gt;
&gt;&gt;  REST + ESB -&gt; ESB is part of a SOA, but nevertheless the REST part  
&gt;&gt; here is key
&gt;&gt;
&gt;&gt;
&gt;&gt; However I can always try it there too.
&gt;&gt;
&gt;&gt;
&gt;&gt; Cheers.
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; On 17/01/2008, dev &lt;dev.akhawe@...&gt; wrote:
&gt;&gt; Hey,
&gt;&gt;
&gt;&gt; I am not being a spoil sport but won't this be answered better and by
&gt;&gt; more experienced people (imho) at the service-oriented-architecture
&gt;&gt; yahoo! group.
&gt;&gt;
&gt;&gt; hth
&gt;&gt;
&gt;&gt; Regards,
&gt;&gt; devdatta
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; On Jan 17, 2008 4:57 PM, Antnio Mota &lt;amsmota@...&gt; wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Can I have some help on this? Basically I have two competing models
&gt;&gt;&gt;
&gt;&gt;&gt; REST + isolated services build on Dynamic Languages
&gt;&gt;&gt;
&gt;&gt;&gt; REST + ESB
&gt;&gt;&gt;
&gt;&gt;&gt; and I have to justify when one or the other are better suited. As  
&gt;&gt; I said, I
&gt;&gt;&gt; have prepared a questionnaire to be answered for each of our  
&gt;&gt; conceived
&gt;&gt;&gt; services, in which the more "yes" answers the more a REST + ESB  
&gt;&gt; approach
&gt;&gt;&gt; should be taken.
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; - Are the processes long running processes ?
&gt;&gt;&gt; - Do we need to interact with WS-* protocols ?
&gt;&gt;&gt; - Is a Application Description necessary ?
&gt;&gt;&gt; - Do we need multiple adapters ?
&gt;&gt;&gt; - Do we need Modeling ?
&gt;&gt;&gt; - Do we need Monitoring ?
&gt;&gt;&gt; - Are there Performance issues, either measured or perceived ?
&gt;&gt;&gt; - What the level of Compensation is required ?
&gt;&gt;&gt; - Is there any legacy data integration needed ?
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Cheers all.
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On 16/01/2008, amsmota &lt;amsmota@...&gt; wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; I have to put up a architecture design to implement some  
&gt;&gt; services and
&gt;&gt;&gt;&gt; we (at my department) already have agreed that it will be based  
&gt;&gt; on a
&gt;&gt;&gt;&gt; REST, meaning we will give access to the services by some public
&gt;&gt;&gt;&gt; available resources addressed by some URI's.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Now the discussion is to use a ESB or do it the "REST + dynamic
&gt;&gt;&gt;&gt; languages" way. What I come up with was a kind of  
&gt;&gt; "questionnaire" to
&gt;&gt;&gt;&gt; be answered for each service (after we had agreed what are the
&gt;&gt;&gt;&gt; services exposed) in a manner that most of the answers is yes  
&gt;&gt; that is
&gt;&gt;&gt;&gt; a indication that using a ESB is more suitable for that particular
&gt;&gt;&gt;&gt; service.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Also to note that this is a Java shop, so people are more  
&gt;&gt; confortable
&gt;&gt;&gt;&gt; with it than "dynamic languages" and we are already using Mule but
&gt;&gt;&gt;&gt; just to receive mails now.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; The questions I put up are:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; - Are the processes long running processes ?
&gt;&gt;&gt;&gt; - Do we need to interact with WS-* protocols ?
&gt;&gt;&gt;&gt; - Is a Application Description necessary ?
&gt;&gt;&gt;&gt; - Do we need multiple adapters ?
&gt;&gt;&gt;&gt; - Do we need Modeling ?
&gt;&gt;&gt;&gt; - Do we need Monitoring ?
&gt;&gt;&gt;&gt; - Are there Performance issues, either measured or perceived ?
&gt;&gt;&gt;&gt; - What the level of Compensation is required ?
&gt;&gt;&gt;&gt; - Is there any legacy data integration needed ?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Are this ok? Is there other ways to access this question?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Many thanks.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; --
&gt;&gt;&gt; Melhores cumprimentos / Beir beannacht / Best regards
&gt;&gt;&gt; Antnio Santos Mota
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; --
&gt;&gt;
&gt;&gt; Melhores cumprimentos / Beir beannacht / Best regards
&gt;&gt; Antnio Santos Mota
&gt;&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Melhores cumprimentos / Beir beannacht / Best regards
&gt;&gt; Antnio Santos Mota
&gt;&gt;
&gt;&gt;
&gt; 
&gt; 
&gt; 
&gt;  
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10252<br>
Sender:"patrickdlogan" &lt;patrickdlogan@...&gt;<br>
Post Date/Time:2008-01-17 18:11:51<br>
Subject:Re: REST and ESB<br>
Message:<br><br>
<pre>&gt; There are, however, many enterprises which have legacy "things"
&gt; which they want to expose as "services". How are they to integrate
&gt; them with the web - AFAIK most HTTP servers don't come with nice
&gt; plugins to expose (for example) mainframe-based Cobol apps, or
&gt; massive SQL-based databases as web services. Do they have to write
&gt; completely custom applications to do it, or buy an ESB solution,
&gt; where the amount of custom code (should be?) could be minimized?

I am involved in this kind of effort currently.

Of course these existing things can be be exposed as HTTP-based
services, SOAP-based services, or something else (or all of the
above).

I have not found the effort reduced by the specific choice of service
technology. In general you want to avoid exposing the legacy
particulars that should not matter. Consumers of the service should
not have to change when you swap out the legacy thing for a new
thing. Or more likely *add* new things from different sources. Legacy
things tend to go away slowly.

If you don't make good design choices, and expediently just expose a
COBOL app or a SQL database pretty much as-is over HTTP, SOAP,
etc. then you've saved perhaps a little bit of "custom code" written
once at the cost of never being able to change that service once it
becomes widely used in production.

As it stands I've appreciated the way an HTTP-based
resource-state-transition-and-transfer approach seems to enforce the
designing/thinking aspects of implementing a service around a legacy
thing. But I tend to think about designing and cost-of-change
generally. Certainly HTTP services can be screwed up as easily as
SOAP.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10253<br>
Sender:"John D. Heintz" &lt;jheintz@...&gt;<br>
Post Date/Time:2008-01-17 18:52:35<br>
Subject:Re: [rest-discuss] REST and ESB<br>
Message:<br><br>
<pre>I don't have answers for you, but this might prove interesting reading.

James Strachan has a draft for exposing ActiveMQ as a RESTful set of resources.
http://macstrac.blogspot.com/2007/08/pure-restful-api-to-activemq-via.html

I think the interesting bit is how Resources/HTTP are combined with
message queues in a way to doesn't trash either one.

John Heintz

On Jan 17, 2008 10:52 AM, Antnio Mota &lt;amsmota@...&gt; wrote:
&gt;
&gt;  Hi:
&gt;
&gt; Many thanks for your input. I'm running short of time and I haven't much
&gt; input nor from this list nor from Googling.
&gt;
&gt; I know that at least Mule has a REST Service Wrapper, and since we already
&gt; using Mule (from what I know only as a kind of "message qeue" for emails!)
&gt; if we decide to go ahead with ESB probably it will be Mule.
&gt;
&gt; My feeling is that use ESB in our REST context is like to put a elephant in
&gt; a porcelain store, but the fact is that it's only a "feeling", I have no
&gt; factual base to say so, and I can't convince my boss (that was the one that
&gt; sugested a REST+ESB architecture, although he's open to alternatives) only
&gt; based on my feeling about it.
&gt;
&gt; Do you know any resources that can be useful for that purpose, and on how a
&gt; "light" alternative should be?
&gt;
&gt; Cheers.
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; On 17/01/2008, Stefan Tilkov &lt;stefan.tilkov@...&gt; wrote:
&gt; &gt; I consider the use of an ESB a questionable idea for a Web services-
&gt; &gt; based SOA. For REST, it seems even less useful.
&gt; &gt;
&gt; &gt; AFAICT, not even the ESB vendors claim they support REST.
&gt; &gt; Yet.
&gt; &gt;
&gt; &gt; Stefan
&gt; &gt;
&gt; &gt; On Jan 17, 2008, at 2:50 PM, Antnio Mota wrote:
&gt; &gt;
&gt; &gt; &gt; Well, my question is between
&gt; &gt; &gt;
&gt; &gt; &gt; REST + Dynamic Languages -&gt; no SOA here
&gt; &gt; &gt;
&gt; &gt; &gt;  REST + ESB -&gt; ESB is part of a SOA, but nevertheless the REST part
&gt; &gt; &gt; here is key
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; However I can always try it there too.
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; Cheers.
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; On 17/01/2008, dev &lt;dev.akhawe@gmail.com&gt; wrote:
&gt; &gt; &gt; Hey,
&gt; &gt; &gt;
&gt; &gt; &gt; I am not being a spoil sport but won't this be answered better and by
&gt; &gt; &gt; more experienced people (imho) at the service-oriented-architecture
&gt; &gt; &gt; yahoo! group.
&gt; &gt; &gt;
&gt; &gt; &gt; hth
&gt; &gt; &gt;
&gt; &gt; &gt; Regards,
&gt; &gt; &gt; devdatta
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; On Jan 17, 2008 4:57 PM, Antnio Mota &lt;amsmota@...&gt; wrote:
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Can I have some help on this? Basically I have two competing models
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; REST + isolated services build on Dynamic Languages
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; REST + ESB
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; and I have to justify when one or the other are better suited. As
&gt; &gt; &gt; I said, I
&gt; &gt; &gt; &gt; have prepared a questionnaire to be answered for each of our
&gt; &gt; &gt; conceived
&gt; &gt; &gt; &gt; services, in which the more "yes" answers the more a REST + ESB
&gt; &gt; &gt; approach
&gt; &gt; &gt; &gt; should be taken.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; - Are the processes long running processes ?
&gt; &gt; &gt; &gt; - Do we need to interact with WS-* protocols ?
&gt; &gt; &gt; &gt; - Is a Application Description necessary ?
&gt; &gt; &gt; &gt; - Do we need multiple adapters ?
&gt; &gt; &gt; &gt; - Do we need Modeling ?
&gt; &gt; &gt; &gt; - Do we need Monitoring ?
&gt; &gt; &gt; &gt; - Are there Performance issues, either measured or perceived ?
&gt; &gt; &gt; &gt; - What the level of Compensation is required ?
&gt; &gt; &gt; &gt; - Is there any legacy data integration needed ?
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Cheers all.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; On 16/01/2008, amsmota &lt;amsmota@...&gt; wrote:
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; I have to put up a architecture design to implement some
&gt; &gt; &gt; services and
&gt; &gt; &gt; &gt; &gt; we (at my department) already have agreed that it will be based
&gt; &gt; &gt; on a
&gt; &gt; &gt; &gt; &gt; REST, meaning we will give access to the services by some public
&gt; &gt; &gt; &gt; &gt; available resources addressed by some URI's.
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; Now the discussion is to use a ESB or do it the "REST + dynamic
&gt; &gt; &gt; &gt; &gt; languages" way. What I come up with was a kind of
&gt; &gt; &gt; "questionnaire" to
&gt; &gt; &gt; &gt; &gt; be answered for each service (after we had agreed what are the
&gt; &gt; &gt; &gt; &gt; services exposed) in a manner that most of the answers is yes
&gt; &gt; &gt; that is
&gt; &gt; &gt; &gt; &gt; a indication that using a ESB is more suitable for that particular
&gt; &gt; &gt; &gt; &gt; service.
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; Also to note that this is a Java shop, so people are more
&gt; &gt; &gt; confortable
&gt; &gt; &gt; &gt; &gt; with it than "dynamic languages" and we are already using Mule but
&gt; &gt; &gt; &gt; &gt; just to receive mails now.
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; The questions I put up are:
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; - Are the processes long running processes ?
&gt; &gt; &gt; &gt; &gt; - Do we need to interact with WS-* protocols ?
&gt; &gt; &gt; &gt; &gt; - Is a Application Description necessary ?
&gt; &gt; &gt; &gt; &gt; - Do we need multiple adapters ?
&gt; &gt; &gt; &gt; &gt; - Do we need Modeling ?
&gt; &gt; &gt; &gt; &gt; - Do we need Monitoring ?
&gt; &gt; &gt; &gt; &gt; - Are there Performance issues, either measured or perceived ?
&gt; &gt; &gt; &gt; &gt; - What the level of Compensation is required ?
&gt; &gt; &gt; &gt; &gt; - Is there any legacy data integration needed ?
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; Are this ok? Is there other ways to access this question?
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; Many thanks.
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; --
&gt; &gt; &gt; &gt; Melhores cumprimentos / Beir beannacht / Best regards
&gt; &gt; &gt; &gt; Antnio Santos Mota
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; --
&gt; &gt; &gt;
&gt; &gt; &gt; Melhores cumprimentos / Beir beannacht / Best regards
&gt; &gt; &gt; Antnio Santos Mota
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; --
&gt; &gt; &gt; Melhores cumprimentos / Beir beannacht / Best regards
&gt; &gt; &gt; Antnio Santos Mota
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; Yahoo! Groups Links
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt;
&gt;
&gt;
&gt; --
&gt;
&gt; Melhores cumprimentos / Beir beannacht / Best regards
&gt; Antnio Santos Mota 



-- 
John D. Heintz
Principal Consultant
New Aspects of Software
http://newaspects.com
http://johnheintz.blogspot.com
Austin, TX
(512) 633-1198

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10254<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-17 19:06:28<br>
Subject:RE: [rest-discuss] Re: Resources and State<br>
Message:<br><br>
<pre>Antnio Mota wrote: 
&gt; Other thing, shouldn't the use of query strings be 
&gt; discouraged in REST style? Instead of doing a GET 
&gt; on the resource with uri http://quuxTravel.com/searched 
&gt; + the query string src=London&amp;dest=NYC
&gt; should we do a POST to http://quuxTravel.com/searched 
&gt; with src=London,dest=NYC on the body of the request?

I'm curious what you read that gave you that impression.  POST is generally
not-preferred and only used when the semantics of GET, PUT and DELETE don't
work.  GET works for this use case because you are retrieving information,
not inserting or updating it on the server end.

The metaphor of search is not exactly RESTful because "search" is a verb.
Instead of verbs think in terms of nouns.  In your use case it appears that
you are searching for "flights," so name it that. If you want to model the
URL based on your use-cases (which I prefer) the URL can be viewed as a
generalized search query itself so your URL might look like this:

	http://quuxTravel.com/flights/london/nyc

In my example I am creating a resource that has the state of upcoming
flights from London to New York City.  Of course we could also have a URL
that looks like this if need be:

	http://quuxTravel.com/flights?src=London&amp;dest=NYC

You could also that latter URL to define a resource for the state of
upcoming flights from London to New York City, and if you have a lot of
options with no particular order or heirarchy you might choose that over the
"cleaner" URL approach.  Personally I prefer to use cleaner URLs whenever
possible as I find them much easier to work with, but that's just a strong
personal preference.  

Whichever URL interface you choose the benefit of using GET over POST is
once you have that URL you can retrieve the state again just by pasting it
into a browser, displaying it as a link to be clicked on, or by emailing it
to a friend. You can't do that with POST.

HTH.

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10255<br>
Sender:"Dong Liu" &lt;edongliu@...&gt;<br>
Post Date/Time:2008-01-17 20:31:55<br>
Subject:Re: [rest-discuss] Resources and State<br>
Message:<br><br>
<pre>The "virtual state machine" is not really that mathematical. It is
just an abstract model of the "a network of Web pages". So a state
transition of the state machine is always in such a form as the
following
|---------------------|       "click" on a link to the New Page
          |---------------------|
| Current Page |
--------------------------------------------------------------------&gt;
|    New  Page |
|---------------------|
                        |---------------------|

When a network of web pages is modeled as a state machine, the states
in the machine are the "pages" that an agent/browser/application
loads.

When a resource is modeled by using state machine notion, it would be
another story.

Cheers,

Dong

On Jan 17, 2008 6:03 AM, Antnio Mota &lt;amsmota@...&gt; wrote:
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Hi, thanks for your reply.
&gt;
&gt; I can't quite grasp the concept of "virtual state machine", probably because
&gt; i don't have a mathematical background.
&gt;
&gt; Can it be somehow "equivalent" to my definition of "application" = "limited,
&gt; predefined set of resources"?
&gt;
&gt; If so, the concept of "resource state" is definitely out of the REST
&gt; definition?
&gt;
&gt; Cheers.
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; On 16/01/2008, Dong Liu &lt;edongliu@...&gt; wrote:
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; "The name "Representational State Transfer" is intended to evoke an
&gt; &gt; image of how a well-designed Web application behaves: a network of Web
&gt; &gt; pages forms a virtual state machine, allowing a user to progress
&gt; &gt; through the application by selecting a link or submitting a short
&gt; &gt; data-entry form, with each action resulting in a transition to the
&gt; &gt; next state of the application by transferring a representation of that
&gt; &gt; state to the user."
&gt; &gt; from Roy T. Fielding &amp; Richard N. Taylor "Principled design of the
&gt; &gt; modern Web architecture," ACM Trans. Inter. Tech.. ACM Press, vol. 2,
&gt; &gt; pp. 115-150, 2002.
&gt; &gt; To my understanding, the application refers to the virtual state
&gt; &gt; machine, to an end user it can be a browser or some other agent.
&gt; &gt;
&gt; &gt; Cheers,
&gt; &gt;
&gt; &gt; Dong
&gt; &gt;
&gt; &gt; On Jan 16, 2008 8:24 AM, amsmota &lt;amsmota@...&gt; wrote:
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; I'm reading the Fielding dissertation and I'm confused about the use
&gt; &gt; &gt; of the word "state" in Representational State Transfer.
&gt; &gt; &gt;
&gt; &gt; &gt; This "state" refers to the "resource" of which a representation is
&gt; &gt; &gt; being transfered? Because I only found references to "application
&gt; &gt; &gt; state", not "resource state".
&gt; &gt; &gt;
&gt; &gt; &gt; But OTOH I could not find a definition of "application" in the realm
&gt; &gt; &gt; of REST. Should I define it as a "finite, predefined set of resources"
&gt; &gt; &gt; that can be traversed by URI navigation?
&gt; &gt; &gt;
&gt; &gt; &gt; Thanks all.
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt;
&gt; &gt; --
&gt; &gt; Dong Liu
&gt; &gt; http://blogs.usask.ca/dong_notes/
&gt; &gt;
&gt;
&gt;
&gt;
&gt;
&gt; --
&gt; Melhores cumprimentos / Beir beannacht / Best regards
&gt; Antnio Santos Mota
&gt;
&gt; --
&gt; Melhores cumprimentos / Beir beannacht / Best regards
&gt; Antnio Santos Mota
&gt;  



-- 
Dong Liu
http://blogs.usask.ca/dong_notes/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10256<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2008-01-18 00:12:11<br>
Subject:Re: [rest-discuss] Resources and State<br>
Message:<br><br>
<pre>On Jan 17, 2008, at 5:15 AM, Alan Dean wrote:
&gt; On 1/17/08, Antnio Mota &lt;amsmota@...&gt; wrote:
&gt; &gt;
&gt; &gt; I can't quite grasp the concept of "virtual state machine",  
&gt; probably because i don't have a mathematical background.
&gt;
&gt; Danny Ayers has this really simple example to illustrate the state
&gt; machine of a lamp:
&gt;
&gt; http://dannyayers.com/engine-of-state/on
&gt;
&gt; Alan
&gt;

Umm, no, that is a very simple example of two web pages with links
to each other.  It doesn't actually "do" anything.  The comments are
right -- if it were an application, then there would be one resource
and the hypertext would tell you how to change its state (not just
the browser's view).

An application is something a user wants to do with computers.
"Writing a memo" is an application.  Microsoft Word is a software
system for writing memos (among other things).  Google Docs is a
network-based software system for writing memos (among other things).

"Buying stuff" is another application.  Amazon is a network-based
software system for buying stuff.  You get the idea ... a
network-based application is something a user wants to do
with computers that needs (for whatever reason) to be network-based.
It can be as simple as reading a book, or as complex as ordering
parts for a Boeing 767.  And let's not forget that there are
many network-based applications for which REST is not likely
to be a good design (an alarm monitoring system would be one
example -- it may have RESTful components, such as a status view,
but it would be silly to restrict the sensors to a pull-based
interaction just out of architectural purity).

Application state in REST is what most distributed systems would
call session state or transaction state, depending on which end
of the system is being talked about.  However, we can't call it
session state because then networking folks assume the communication
is session-scoped, and we can't call it transaction state because
then database folks assume we are talking about back-end ACID.
Let's face it, there are very few ways to describe anything in
computer science that hasn't already been used in a slightly
different fashion.  Application state is a good term to describe
what really matters to the user.

Danny's pages are not an application.  That is, unless your
application happens to *be* making RDF assertions.  For that
purpose, having two different resources with singular states
might be a useful thing.

....Roy
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10257<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-01-18 03:17:06<br>
Subject:Re: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>On Jan 17, 2008 12:59 AM, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt; However, and I explain this so you'll know why I make some of my arguments,
&gt; I'm also concerned with empowering a class of people that I think most who
&gt; participate on these lists are not concerned with. I'll call those people
&gt; "occupational" programmers (as opposed to "professional") programmers.
&gt; Occupational programmers by nature program to get a job done not because
&gt; their job is programming. The more difficult something is the less likely an
&gt; occupational programmers will ever be able to do it because they don't
&gt; rarely have the time to learn more than beginner-level programming skills.

I just call them developers.  Those working on the business needs like
order fullfilment and inventory management, far outweight those
working on infrastructure problems like how to connect any given
server to any given client.  I belong to the smaller category of
infrastructure developers, who worry about that stuff, but only so
other developers won't have to.

Same difference, I just think it helps in remembering that what works
for me doesn't work for most developers.


&gt; IMO for the HATEOAS to be fully respected and generally used we need a
&gt; standard way to discover and interact with REST-based web services and that
&gt; standard way to interact need to then be built into browsers thus allowing
&gt; people to discover and interact with them without having to write code.
&gt; Until that happens, it's unrealistic to expect widespread use of HATEOAS for
&gt; any but the most standards-pedantic of web service publishers much like
&gt; people still use &lt;table&gt; elements instead of pure CSS because pure CSS
&gt; doesn't fully meet the needs of users.  Companies that have a strategic
&gt; reason for more people to use their externally published web services are
&gt; foolish not to publish direct URL interfaces because given the current state
&gt; of things HATEOAS signifcantly stunts adoption.

HATEOAS, if I understand correctly, talks about links and their
equivalence, or how you navigate from one resource to another, or
change from one state to another.  The Web as we know it has another
thing called discovery.  Given a resource I can discover how to use
it, as I'm using it, and use hypermedia to drive the application
state.

In my experience that doesn't work for the programmable Web.  You
really do need to know what the states and transitions are, before you
start coding for them.  Things like getting an order done is pursuing
known transitions, to a desired end state, but you'll never start if
you don't know there's a paved road leading to your destination.

Working without a spec (i.e. pure discovery) has other down sides,
like not always finding the optimal path, not being able to develop in
parallel, QA servers on behalf of clients, or even determining what
changes break clients.

You need a map, and post signs along the way.

The problem with WSDL, and from what I've seen also WADL, is that
neither one provides a map.  They provide blueprints.  They tell you
exactly how to manufacture a service (and clients), but in doing so
eliminates necessary deviations, extensions and compositions that can
happen over time.  We need something better than that, which smartly
divides that which belongs in the map and what which belongs on signs.

In that world view, dynamically downloading a map is unnecessary.  You
already have one, from which you're building your code.  And if the
one you have is different from the one you download, there's little
you can do about it.  But you pay attention to signs along the route,
in fact you can't get to your destination without following signs.

So in this particular case, I would say that for all the known places,
you should just list them on a map, hand it to developers to build
clients from it.  As you point out, public services like Google do
that as a matter of practice, and that just means you have to honor
these specifications once you publish them.  But some routes may
change over time, in which case it's best to have the server resolve
them, which is a simple matter of "here's the data, give me back a
URL".

The inbetween case is putting something up with intent that it be a
sign, but possibility to be used as a map.  If it's possible it will
happen, much more than developers reading the manual.  So rather than
hoping things will happen in a particular way, I say commit to them.
Make something a map or a sign, and only available in one form.


&gt; BTW, 99% of what I'm discussing in this email are web services published for
&gt; external use, not web services that are only used by others in the same
&gt; organization.

It's been my experience that if you follow the successful practices of
the Web, it ends up working quite well internally, if you follow
practices only intended to work internally, they don't always work
internally.  There's obviously a benefit to writing a service that
only your coworker in the next room can use -- time being one of them
-- but that's also how we acquire technical debt.

I plan on every service as if it was publish on the Web, because I
can't tell that the person who was at the design meeting today won't
be replaced by someone else tomorrow who doesn't share our same
understanding of doing things.

-- Assaf
http://labnotes.org

&gt;
&gt; There are also cases where a HATEOAS requirement effectively nullifies the
&gt; benefit fo the service, for example the published URL interfaces for
&gt; Google's Chart API [1].  Given that the Google Chart API returns an image
&gt; for use in a &lt;img src="..."&gt; element, requiring the client to first call a
&gt; main URL to get the specific URL before it can use it elimates potential use
&gt; anywhere Javascript is not an option and for anyone who does not have the
&gt; required Javascript skills (My guess is more than 10 times more people know
&gt; HTML than Javascript.)  Again, I'm advocating for accessibility for the
&gt; lesser skilled. They, after all, are not here to advocate for themselves
&gt; (unless you count me in that category. :-)
&gt;
&gt; --
&gt; -Mike Schinkel
&gt; http://www.mikeschinkel.com/blogs/
&gt; http://www.welldesignedurls.org
&gt; http://atlanta-web.org
&gt;
&gt; [1] http://code.google.com/apis/chart/#url_format
&gt;
&gt;
&gt; &gt;
&gt; &gt; Assaf
&gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; But even your service is public, if it is important that the URL be
&gt; &gt; &gt; able to change then make that clear in no uncertain terms
&gt; &gt; in the docs
&gt; &gt; &gt; and in UPPERCASE comments in any representations returned.
&gt; &gt; And if you
&gt; &gt; &gt; are paranoid, literally change the URL every time with a
&gt; &gt; validatation
&gt; &gt; &gt; parameter so that anyone who did hard code quickly learns
&gt; &gt; better and
&gt; &gt; &gt; no time is given to allow hardcoded clients time is build up.
&gt; &gt; &gt;
&gt; &gt; &gt; Or IMO best of all, just document it and commit to the URL
&gt; &gt; format just
&gt; &gt; &gt; as Google have done with their Chart service, for example.
&gt; &gt; Yes I know,
&gt; &gt; &gt; that violates the HATEOAS requirement but I personally don't think
&gt; &gt; &gt; being a fundamentalist in all things is such a good idea;
&gt; &gt; some times
&gt; &gt; &gt; it is better just to put a stake in the ground. If
&gt; &gt; *everything* were
&gt; &gt; &gt; meta, we'd never get anything done.
&gt; &gt; &gt;
&gt; &gt; &gt; --
&gt; &gt; &gt; -Mike Schinkel
&gt; &gt; &gt; http://www.mikeschinkel.com/blogs/
&gt; &gt; &gt; http://www.welldesignedurls.org
&gt; &gt; &gt; http://atlanta-web.org
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; --
&gt; &gt; -- Assaf
&gt; &gt;
&gt; &gt; http://labnotes.org
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10258<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-18 07:46:34<br>
Subject:RE: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>Assaf Arkin wrote:
&gt; &gt; However, and I explain this so you'll know why I make some of my 
&gt; &gt; arguments, I'm also concerned with empowering a class of 
&gt; &gt; people that I think most who participate on these lists are not 
&gt; &gt; concerned with. I'll call those people "occupational" programmers 
&gt; &gt; (as opposed to "professional") programmers.
&gt; &gt; Occupational programmers by nature program to get a job done 
&gt; &gt; not because their job is programming. The more difficult 
&gt; &gt; something is the less likely an occupational programmers will ever 
&gt; &gt; be able to do it because they don't rarely have the time to learn 
&gt; &gt; more than beginner-level programming skills.
&gt; 
&gt; I just call them developers. Those working on the business 
&gt; needs like order fullfilment and inventory management, far 
&gt; outweight those working on infrastructure problems like how 
&gt; to connect any given server to any given client.  I belong to 
&gt; the smaller category of infrastructure developers, who worry 
&gt; about that stuff, but only so other developers won't have to.
&gt; 
&gt; Same difference, I just think it helps in remembering that 
&gt; what works for me doesn't work for most developers.

You are very much making my point. Those people you refer to are still
professional developers, even those working on order fulfillment or
inventory management; they are *not* the people to whom I was referring to.
The people I was referring to have titles like "marketing manager",
"warehouse supervisor", "creative director", "executive assistant", and so
on.  They are business people who only program because they discover that
they can.  But they only discover that which it is (almost accidentally)
discoverable.

&gt; In my experience that doesn't work for the programmable Web.  
&gt; You really do need to know what the states and transitions 
&gt; are, before you start coding for them.  Things like getting 
&gt; an order done is pursuing known transitions, to a desired end 
&gt; state, but you'll never start if you don't know there's a 
&gt; paved road leading to your destination.
&gt;
&gt; Working without a spec (i.e. pure discovery) has other down 
&gt; sides, like not always finding the optimal path, not being 
&gt; able to develop in parallel, QA servers on behalf of clients, 
&gt; or even determining what changes break clients.
&gt; 
&gt; You need a map, and post signs along the way.

Again, you are talking about "Professional" programmers.  You are like a
heart surgeon discussing best practices for a primary care physician and I'm
trying to get you to see that I'm talking about the mom who puts a bandaid
on her child's skint knee.

Occupational Programmers don't need a spec, they don't even think in those
terms.  They instead need to be slapped in the face with the fact that
something is possible before they even consider it because they otherwise
assume it is not. Those are the people I believe can be greatly empowered by
RESTful web services.

&gt; The problem with WSDL, and from what I've seen also WADL, is 
&gt; that neither one provides a map.  

WSDL and WADL are two orders of magnitude more complexity than any
occupational programmer will ever attempt.  

&gt; They provide blueprints.  
&gt; They tell you exactly how to manufacture a service (and 
&gt; clients), but in doing so eliminates necessary deviations, 
&gt; extensions and compositions that can happen over time.  We 
&gt; need something better than that, which smartly divides that 
&gt; which belongs in the map and what which belongs on signs.

Yes, Professional Programmers need that. But Occupational Programmers need
something much less complex.

&gt; In that world view, dynamically downloading a map is 
&gt; unnecessary.  You already have one, from which you're 
&gt; building your code.  

Again, your comments make it clear you are still talking about Professional
Programmers, not Occupational Programmers.

BTW, maybe it would be more clear to Professional Programmers like yourself
if I instead called them "Accidental Programmers?"

 &gt;And if the one you have is different 
&gt; from the one you download, there's little you can do about 
&gt; it.  But you pay attention to signs along the route, in fact 
&gt; you can't get to your destination without following signs.
&gt; 
&gt; So in this particular case, I would say that for all the 
&gt; known places, you should just list them on a map, hand it to 
&gt; developers to build clients from it.  

Just to clarify, are you saying that you think everything that a web service
might provide can be converted into a pre-known finite list?

&gt; which is a simple matter of "here's the data, give me back a URL".

Unless of course the only available programming model is to provide a URL;
i.e. not being able to provide a client that can interact with the service
in any other manner than perform a GET.

&gt; The inbetween case is putting something up with intent that 
&gt; it be a sign, but possibility to be used as a map.  If it's 
&gt; possible it will happen, much more than developers reading 
&gt; the manual.  So rather than hoping things will happen in a 
&gt; particular way, I say commit to them. Make something a 
&gt; map or a sign, and only available in one form.

That's a very idealistic approach that unfortunately doesn't work in many
real-world scenarios.  An example of an accidental programmer is a blogger
who has no clue how to write a program, would never in a million years
describe themselves as a programmer, but who wants to include a chart in
their blog post. Using Google's Chart API anyone that has the skill to blog
can learn how to include a Google Chart in their post.  Using your
"commitment" approach, they never will.

&gt; &gt; BTW, 99% of what I'm discussing in this email are web services 
&gt; &gt; published for external use, not web services that are only used by 
&gt; &gt; others in the same organization.
&gt; 
&gt; It's been my experience that if you follow the successful 
&gt; practices of the Web, it ends up working quite well 
&gt; internally, if you follow practices only intended to work 
&gt; internally, they don't always work internally.  There's 
&gt; obviously a benefit to writing a service that only your 
&gt; coworker in the next room can use -- time being one of them
&gt; -- but that's also how we acquire technical debt.
&gt; 
&gt; I plan on every service as if it was publish on the Web, 
&gt; because I can't tell that the person who was at the design 
&gt; meeting today won't be replaced by someone else tomorrow who 
&gt; doesn't share our same understanding of doing things.

Unfortunately you are ignoring the very real differences between web
services that are consumed by a handful of people internally and web
services that are potentially consumed by hundreds of thousands externally.


Techniques used to deal with small scale can and are often the wrong ones to
use when dealing with large scale, and vice-versa.  Services published
internally need to be more agile because requirements are always changing
and more complex because internal business requirements demand complexity.
Externally published services need to be must more well-considered because
the biggest cost is in the marketing that gets others to initially write
programs to interface with it. Thus externally published services demand a
higher level of maturity from the start, the quantity of such interfaces by
nature is much smaller than the number of internally published interfaces,
and minimizing cost of each adoptee is important.  So the rules that should
apply are very, very different.  

For internal use I would absolutely recommend full HATEOAS with one
entry-point URL and accept the added programming overhead required to
support that.  For the externally published interface, I personally think
that it is better to put great effort into a good design and then both
publish the direct URL interface and commit to supporting that URL interface
long term, at least for simple single GET operations because it costs much
less to get someone to adoption a direct URL interface.  I know my
preference violates REST's HATEOAS but that's my opinion based on what I
view to be the most pragmatic and realistic approach.

The irony is that if I followed your approach of "implementing internal
services as if it would be published on the open web", I'd forego HATEOAS
for internal use, hardcode URL interfaces in clients, and put a lot more
time and energy into defining and publishing those internal interfaces which
would result in taking too long and causing my project to either be late or
over budget. The irony is to follow your approach I wouldn't use the
techniques you advocate!

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10259<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-01-18 09:44:38<br>
Subject:Re: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>On Jan 17, 2008 11:46 PM, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt; You are very much making my point. Those people you refer to are still
&gt; professional developers, even those working on order fulfillment or
&gt; inventory management; they are *not* the people to whom I was referring to.
&gt; The people I was referring to have titles like "marketing manager",
&gt; "warehouse supervisor", "creative director", "executive assistant", and so
&gt; on.  They are business people who only program because they discover that
&gt; they can.  But they only discover that which it is (almost accidentally)
&gt; discoverable.

I'm only differentiate people based on skills.  I bet you'll find as
many non-programmer teens pulling and tweaking JavaScript code for use
in their online profiles, as 9-5 programmers that are scared of
touching JavaScript.  I do, however, would like to keep the required
skills to the minimum, that way more people can get the job done.

To remove doubt, I am looking for solutions that require the least
cognitive load, but I'm not measuring it by initial approach only, but
over the lifetime.

&gt; Occupational Programmers don't need a spec, they don't even think in those
&gt; terms.  They instead need to be slapped in the face with the fact that
&gt; something is possible before they even consider it because they otherwise
&gt; assume it is not.

Which is exactly what a spec does.  A spec tells you what's available
and how to use it.  Don't confuse that with the cryptic, over-generic,
formal style we employ in various working groups, that's particularly
appealing to a small set of people.  Specs can take many forms,
ideally one that's readable to a lot of people.

&gt; &gt; The problem with WSDL, and from what I've seen also WADL, is
&gt; &gt; that neither one provides a map.
&gt;
&gt; WSDL and WADL are two orders of magnitude more complexity than any
&gt; occupational programmer will ever attempt.

The WS-* people will beg to differ, a lot of companies are pursing
exactly that market with visual tools that alleviate the cognitive
workload and designed to appeal to people who can't program their way
out of a for loop.

We can argue whether or not they're doing a good job, or have they
gone too far to keep it usable, but a lot of energy was spent exactly
to create tools for that target audience.


&gt; Just to clarify, are you saying that you think everything that a web service
&gt; might provide can be converted into a pre-known finite list?

If that wasn't possible, I wouldn't be able to implement it using a
turing-complete language.

&gt; &gt; The inbetween case is putting something up with intent that
&gt; &gt; it be a sign, but possibility to be used as a map.  If it's
&gt; &gt; possible it will happen, much more than developers reading
&gt; &gt; the manual.  So rather than hoping things will happen in a
&gt; &gt; particular way, I say commit to them. Make something a
&gt; &gt; map or a sign, and only available in one form.
&gt;
&gt; That's a very idealistic approach that unfortunately doesn't work in many
&gt; real-world scenarios.  An example of an accidental programmer is a blogger
&gt; who has no clue how to write a program, would never in a million years
&gt; describe themselves as a programmer, but who wants to include a chart in
&gt; their blog post. Using Google's Chart API anyone that has the skill to blog
&gt; can learn how to include a Google Chart in their post.  Using your
&gt; "commitment" approach, they never will.

In my analogy, a map would be exactly what Google is doing with their Chart API.

To backtrack for a second, the three options listed for this discussion were:
1.  Give developers a URL template they can write their client against.
2.  Have the service return a URL template from a known URL (maybe in
response to OPTIONS).
3.  Have a resource that can resolve a name to a URL.

#1 and #2 are maps in the analogy, #1 in the form of a spec, #2 served
dynamically.  #3 are posts.  What I'm saying is, commit to #1 and/or
#3, ignore #2.

Google Chart API made its decision and went with #1.  If you look at
other widgets on the Web, you'll notice a lot of do #1 and/or #3,
telling you how to construct a URL to get the desired results, or
giving you a way to resolve to a URL.  What I've yet to see them do
successfully is offer a resource that serves meta-data from which a
client can decide how to construct a URL (although some do it
internally).

&gt; Techniques used to deal with small scale can and are often the wrong ones to
&gt; use when dealing with large scale, and vice-versa.  Services published
&gt; internally need to be more agile because requirements are always changing
&gt; and more complex because internal business requirements demand complexity.

I disagree on two points.  One, that requirements on the Web are
static, it's a cut-throat landscape and service are always competing
to retain and acquire users.  Ever considered switching from GMail
back to HotMail?

Two, that the best way to write internal services is to assume an
audience of one.  It's true that often the audience is exactly one,
but that's also true on the Web.  But if you have to pick one
methodology, start with N, that will help you develop services that
can be reused, and just like the Web, some would be more popular than
others and you don't always know in advance.

My experience in the corporate world is that it's a crap shoot, just
like the Web, and any attempt to plan for audience size gets foiled by
reality.

-- Assaf
http://labnotes.org


&gt; Externally published services need to be must more well-considered because
&gt; the biggest cost is in the marketing that gets others to initially write
&gt; programs to interface with it. Thus externally published services demand a
&gt; higher level of maturity from the start, the quantity of such interfaces by
&gt; nature is much smaller than the number of internally published interfaces,
&gt; and minimizing cost of each adoptee is important.  So the rules that should
&gt; apply are very, very different.
&gt;
&gt; For internal use I would absolutely recommend full HATEOAS with one
&gt; entry-point URL and accept the added programming overhead required to
&gt; support that.  For the externally published interface, I personally think
&gt; that it is better to put great effort into a good design and then both
&gt; publish the direct URL interface and commit to supporting that URL interface
&gt; long term, at least for simple single GET operations because it costs much
&gt; less to get someone to adoption a direct URL interface.  I know my
&gt; preference violates REST's HATEOAS but that's my opinion based on what I
&gt; view to be the most pragmatic and realistic approach.
&gt;
&gt; The irony is that if I followed your approach of "implementing internal
&gt; services as if it would be published on the open web", I'd forego HATEOAS
&gt; for internal use, hardcode URL interfaces in clients, and put a lot more
&gt; time and energy into defining and publishing those internal interfaces which
&gt; would result in taking too long and causing my project to either be late or
&gt; over budget. The irony is to follow your approach I wouldn't use the
&gt; techniques you advocate!
&gt;
&gt; --
&gt;
&gt; -Mike Schinkel
&gt; http://www.mikeschinkel.com/blogs/
&gt; http://www.welldesignedurls.org
&gt; http://atlanta-web.org
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10260<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2008-01-18 12:33:12<br>
Subject:Re: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>Hi Assaf,

Comment below.

On Jan 17, 2008 9:17 PM, Assaf Arkin &lt;assaf@...&gt; wrote:
&gt; HATEOAS, if I understand correctly, talks about links and their
&gt; equivalence, or how you navigate from one resource to another, or
&gt; change from one state to another. The Web as we know it has another
&gt; thing called discovery. Given a resource I can discover how to use
&gt; it, as I'm using it, and use hypermedia to drive the application
&gt; state.
&gt;
&gt; In my experience that doesn't work for the programmable Web. You
&gt; really do need to know what the states and transitions are, before you
&gt; start coding for them. Things like getting an order done is pursuing
&gt; known transitions, to a desired end state, but you'll never start if
&gt; you don't know there's a paved road leading to your destination.

I don't think hypertext-driven apps are incompatible with a
state-transition map.

For example, I think what will happen eventually with
computer-to-computer order processing on the web is that it will
become stereotyped, either by standardization or convention.

That's what ebXML was trying to do, unfortunately based on EDI ideas
rather than the Web.  For the Web, maybe it will be based on what
Amazon does.

So an expected state-transition model will emerge, and the hypertext
will tell you what actual resources fill the roles in the order
processing scenario.

All the application state will be managed by agents acting as clients.
But "who's the client" and "who's the server" might switch around
during the order and fulfillment process.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10261<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-18 12:44:11<br>
Subject:RE: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>Assaf Arkin wrote:
&gt; I'm only differentiate people based on skills.  I bet you'll 
&gt; find as many non-programmer teens pulling and tweaking 
&gt; JavaScript code for use in their online profiles, as 9-5 
&gt; programmers that are scared of touching JavaScript.  I do, 
&gt; however, would like to keep the required skills to the 
&gt; minimum, that way more people can get the job done.
&gt; 
&gt; To remove doubt, I am looking for solutions that require the 
&gt; least cognitive load, but I'm not measuring it by initial 
&gt; approach only, but over the lifetime.

Again, your approach works for professional programmers, but not those whose
job isn't a programmer. If those people don't realize they can be
immediately productive with a web service, they don't ever even try to use
it. When the initial approach is too high a bar to reach, the alternate is
never. You continue to advocate for the professional approach without
acknowledging the occupational alternate of never. You know the old say
"Better late than never?"  When in this case it is "Better to have a
less-than-optimal solution than to have no solution at all."  If you are
going to argue the position, at least argue that you believe they are better
off never developing something than developing something that doesn't
achieve your standards because that's the dichotomy.

Your knowledge and skill is obviously making it nearly impossible for you to
recognize what it is like not to have your knowledge and skill (that's not a
criticism, it's well-documented human psychology.)

&gt; &gt; Occupational Programmers don't need a spec, they don't even 
&gt; think in 
&gt; &gt; those terms.  They instead need to be slapped in the face with the 
&gt; &gt; fact that something is possible before they even consider 
&gt; it because 
&gt; &gt; they otherwise assume it is not.
&gt; 
&gt; Which is exactly what a spec does.  A spec tells you what's 
&gt; available and how to use it.  Don't confuse that with the 
&gt; cryptic, over-generic, formal style we employ in various 
&gt; working groups, that's particularly appealing to a small set 
&gt; of people.  Specs can take many forms, ideally one that's 
&gt; readable to a lot of people.

You are manipulating my metaphor to be used in a manner which was not how I
intended. My reference to being slapped in the face was not to slap with the
set of rules but instead to slap them in the face with what's possible. And
when someone assumes things are not possible by default they don't go
looking for specs no matter how readable they are.  OTOH, if they were
browsing the web and discovered the Google Chart API by accident, for
example, they might just have an "Aha!" moment and realize they *can* use it
to implement something.  But if they have to first read a spec, it ain't
gonna happen, or at least not nearly as often.

&gt; &gt; &gt; The problem with WSDL, and from what I've seen also WADL, is that 
&gt; &gt; &gt; neither one provides a map.
&gt; &gt;
&gt; &gt; WSDL and WADL are two orders of magnitude more complexity than any 
&gt; &gt; occupational programmer will ever attempt.
&gt; 
&gt; The WS-* people will beg to differ, a lot of companies are 
&gt; pursing exactly that market with visual tools that alleviate 
&gt; the cognitive workload and designed to appeal to people who 
&gt; can't program their way out of a for loop.

Jeesh!  Those tools you mention are for *Professional programmers*, not
people whose job titles do not contain the words "Programmer" or "Developer"
but who could gain benefit in their job from being able to easily interact
with REST-based services; mashups for example.  You tell those people they
are programmers and they will scoff at you, many feeling somewhat offended,
but those same people need to do some of the same work that programmers need
to do.

And to believe that non-professional programmers (and their managers) will
every have a clue about WS-*, well I've got some land to sell you if you
think so.

&gt; We can argue whether or not they're doing a good job, or have 
&gt; they gone too far to keep it usable, but a lot of energy was 
&gt; spent exactly to create tools for that target audience.

The target audience you speak of is much more involved in programming than
the ones I speak of.  The ones I speak of can, at best, use something like
Yahoo Pipes which, as far as I know, doesn't provide the functionality
needed to support a pure HATEOAS model.

Listen, you are so advanced compared to the group I'd like to see empowered
it seems you can't grasp their challenges. In essense what I'm saying is
that given the widely deployed state of what I call the "universal tool set"
(i.e. the browser) and the fact there is no standard way to interoperate
with HATEOAS then designing external public services that require HATEOAS
presents far too great a barrier to adoption and that's why it's currently a
much better idea (IMO) to publish URL interfaces for externally published
web services than to follow the HATEOAS with a single "entry point" URL,
which is the purist HATEOAS model you are advocating (at least that's what
I've taken from your emails.)

And let me make this point.  *I* am the one defining the group that *I* want
to empower; so it's a bit presumptuous to debate my definition and redefine
them for me.  Please stop trying to redefine them and at least give me the
courtesy to accept that the ones I want to empower have no more skills than
that which I have assigned to them. Instead, if you must debate, please
debate how to address the group, or even argue that they shouldn't be
addressed, but please don't try to redefine because, being the group I
defined, they are by definition what I defined them to be.

Want to solve the problem?  Don't argue that people who struggle to learn
how to form valid HTML should be able to implement the interdirection model
of HATEOAS because your debating it won't make it so.  Instead, work to
develop a standard model for said interaction so that sooner than later than
standard model of interaction can become built into browsers and the class
of people I refer to can effectively discover web services that use HATEOAS
and so that open-source libraries can be implemented to make calling
services that comply with HATEOAS brain-dead easy.

&gt; &gt; Just to clarify, are you saying that you think everything 
&gt; &gt; that a web service might provide can be converted into a 
&gt; &gt; pre-known finite list?
&gt; If that wasn't possible, I wouldn't be able to implement it 
&gt; using a turing-complete language.

Then tell me how you would implement today's airline flight arrival times as
a pre-defined finite list on the server?

&gt; In my analogy, a map would be exactly what Google is doing 
&gt; with their Chart API.
&gt; 
&gt; To backtrack for a second, the three options listed for this 
&gt; discussion were:
&gt; 1.  Give developers a URL template they can write their 
&gt; client against.
&gt; 2.  Have the service return a URL template from a known URL 
&gt; (maybe in response to OPTIONS).
&gt; 3.  Have a resource that can resolve a name to a URL.
&gt; 
&gt; #1 and #2 are maps in the analogy, #1 in the form of a spec, 
&gt; #2 served dynamically.  #3 are posts.  What I'm saying is, 
&gt; commit to #1 and/or #3, ignore #2.
&gt; 
&gt; Google Chart API made its decision and went with #1.  If you 
&gt; look at other widgets on the Web, you'll notice a lot of do 
&gt; #1 and/or #3, telling you how to construct a URL to get the 
&gt; desired results, or giving you a way to resolve to a URL.  
&gt; What I've yet to see them do successfully is offer a resource 
&gt; that serves meta-data from which a client can decide how to 
&gt; construct a URL (although some do it internally).

Either I've been completely misinterpretting your comments or you've been
changing your argument because #2 is what I've been arguing against for
externally published APIs and #2 violates the pure HATEOAS model.  I would
especially argue against using #2 in contexts where "accidental" programmers
might be using them like Google's Chart API.  BTW, I think I'll use
"accidental programmers" from now on because that would capture the essense
of a blogger who is not a programmer but programs without  realizing it.

&gt; I disagree on two points.  One, that requirements on the Web 
&gt; are static, it's a cut-throat landscape and service are 
&gt; always competing to retain and acquire users.  Ever 
&gt; considered switching from GMail back to HotMail?

You put words in my mouth; I never said that the web requirements were
static.  However I am guilty of is not explaining myself well enough.  When
people are developing an app they learn as you go along. And since (at least
currently) internal interfaces are published many times more frequently than
externally interfaces the chances that an internal API will be published
that has not yet been fully fleshed-out is much greater for internal
interfaces than external interfaces.

To prove my theorem, let's look at Programmable Web's list of externally
published APIs: 603 as of this moment [1].  Since I'm sure they don't have
them all, let's multiple that number by 3 and round up to the nearest 1000.
That gives us 2000 published web APIs.  No, looking just within Fortune 1000
companies, each of them would need only publish 3 interfaces internally, on
average, to prove that they are more APIs published internally than
externally. Would you be willing to wager that the average is lower than 3
per Fortune 1000?  Now, add in all the other companies and I think it's
plain to see that we probably have 3 or 4 orders of magnitude more internal
APIs hence the chance that those internal APIs will need to change is much
greater than the chance that external APIs will need to change.

&gt; Two, that the best way to write internal services is to 
&gt; assume an audience of one.  
&gt; It's true that often the audience 
&gt; is exactly one, but that's also true on the Web.  

You state both of those claims without giving any support for their
potential validity.  Maybe it is a best practice that I'm not aware of, but
it doesn't sound like one that I'd believe on face value.

&gt; But if you 
&gt; have to pick one methodology, start with N, 

"N"?

&gt; that will help 
&gt; you develop services that can be reused, and just like the 
&gt; Web, some would be more popular than others and you don't 
&gt; always know in advance.

Even if I accepted the claims you didn't provide support for, you completely
lost me with that. And also, what does unknown future popularity have to do
with it?

&gt; My experience in the corporate world is that it's a crap 
&gt; shoot, just like the Web, and any attempt to plan for 
&gt; audience size gets foiled by reality.

You once again misunderstand my point.  I wasn't claiming a future audience
size, but instead that for internal services there is a set of potential
users (call it "pu(i)") and for external services there is a set of
potential users (call it "pu(e)") where in almost all cases worth evaluating
"pu(i) &lt; pu(e)".  That was the important point, not the number of users that
might or might not use it.  

But actually, the more important point was not the number of potential users
but instead the number of potential URL interfaces that would be deployed
internally at substandard level of architecture design ("id(i)") would be
much greater than the number of potential interfaces that would be deployed
externally at substandard level of architecture design ("id(e)") such that
"id(i) &gt;&gt; id(e)". What's more, developers can deploy internal interfaces but
it generally take marketing getting involved to deploy external interfaces
hence there is a much higher level of internal due diligence done for
external services because poorly designed external services would see much
brighter negative light on the technical team than poorly designed internal
services, the latter which might not even get noticed by the higher-ups. And
THOSE REASONS are why using HATEOAS is so much more critical for internally
deployed systems than externally published systems because the chances are
much greater that an internal URL interface will need to be changed (i.e.
mored to a different server, for example) than externally published URL
interfaces.

And if you still choose to disagree with that, do so by finding me several
externally published REST-based URL interfaces from companies still in
business since they published their REST-based URL interface that have had
to be changed and that have caused disruption. Hell, find me just one. (P.S.
SOAP interfaces don't count; we all know how screwed up SOAP has been.)

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 


[1] http://programmableweb.com/apis


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10262<br>
Sender:"=?ISO-8859-1?Q?Ant=F3nio_Mota?=" &lt;amsmota@...&gt;<br>
Post Date/Time:2008-01-18 13:34:34<br>
Subject:Fwd: [rest-discuss] Resources and State<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10263<br>
Sender:"=?ISO-8859-1?Q?Ant=F3nio_Mota?=" &lt;amsmota@...&gt;<br>
Post Date/Time:2008-01-18 13:39:13<br>
Subject:Fwd: [rest-discuss] Re: Resources and State<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10264<br>
Sender:"Dong Liu" &lt;edongliu@...&gt;<br>
Post Date/Time:2008-01-18 15:51:09<br>
Subject:Re: [rest-discuss] Resources and State<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10265<br>
Sender:"=?ISO-8859-1?Q?Ant=F3nio_Mota?=" &lt;amsmota@...&gt;<br>
Post Date/Time:2008-01-18 16:56:16<br>
Subject:Re: [rest-discuss] Resources and State<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10266<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-01-18 17:39:29<br>
Subject:Re: [rest-discuss] Resources and State<br>
Message:<br><br>
<pre>Hey,

But what is with the word Representational ?

You receive the state of the resource, or you change state of the
resource with a post , but what does Representational stand for ?

(before this thread I thought I was clear on REST! :( )

Thanks and Regards,
dev

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10267<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-01-18 19:05:06<br>
Subject:Re: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>On Jan 18, 2008 4:44 AM, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt; Your knowledge and skill is obviously making it nearly impossible for you to
&gt; recognize what it is like not to have your knowledge and skill (that's not a
&gt; criticism, it's well-documented human psychology.)

I do accept that.  I'm not strictly in the market for solutions
requiring my skill sets.  I blog, but I don't write my own blog
software, I self-host a couple but mostly I prefer them to be
services, I don't care to install and maintain them.  Just because I
have the skills doesn't mean I want to use them all the time.  So
things that are dead simple are very appealing to me.


&gt; &gt; &gt; Occupational Programmers don't need a spec, they don't even
&gt; &gt; think in
&gt; &gt; &gt; those terms.  They instead need to be slapped in the face with the
&gt; &gt; &gt; fact that something is possible before they even consider
&gt; &gt; it because
&gt; &gt; &gt; they otherwise assume it is not.
&gt; &gt;
&gt; &gt; Which is exactly what a spec does.  A spec tells you what's
&gt; &gt; available and how to use it.  Don't confuse that with the
&gt; &gt; cryptic, over-generic, formal style we employ in various
&gt; &gt; working groups, that's particularly appealing to a small set
&gt; &gt; of people.  Specs can take many forms, ideally one that's
&gt; &gt; readable to a lot of people.
&gt;
&gt; You are manipulating my metaphor to be used in a manner which was not how I
&gt; intended. My reference to being slapped in the face was not to slap with the
&gt; set of rules but instead to slap them in the face with what's possible. And
&gt; when someone assumes things are not possible by default they don't go
&gt; looking for specs no matter how readable they are.  OTOH, if they were
&gt; browsing the web and discovered the Google Chart API by accident, for
&gt; example, they might just have an "Aha!" moment and realize they *can* use it
&gt; to implement something.  But if they have to first read a spec, it ain't
&gt; gonna happen, or at least not nearly as often.

Once you learn something exists, what happens next?  I'm concerned
with going from "I know I want to use it" to "I'm using it".  I'm not
concerned here with how people find a service exists to begin with,
that's definitely important, but not relevant or specific to REST.  If
someone has a need to include charts in their blog, and they found out
Google Charts makes that possible, through whatever channel, what do
they need for the next step?


&gt; &gt; &gt; &gt; The problem with WSDL, and from what I've seen also WADL, is that
&gt; &gt; &gt; &gt; neither one provides a map.
&gt; &gt; &gt;
&gt; &gt; &gt; WSDL and WADL are two orders of magnitude more complexity than any
&gt; &gt; &gt; occupational programmer will ever attempt.
&gt; &gt;
&gt; &gt; The WS-* people will beg to differ, a lot of companies are
&gt; &gt; pursing exactly that market with visual tools that alleviate
&gt; &gt; the cognitive workload and designed to appeal to people who
&gt; &gt; can't program their way out of a for loop.
&gt;
&gt; Jeesh!  Those tools you mention are for *Professional programmers*, not
&gt; people whose job titles do not contain the words "Programmer" or "Developer"
&gt; but who could gain benefit in their job from being able to easily interact
&gt; with REST-based services; mashups for example.  You tell those people they
&gt; are programmers and they will scoff at you, many feeling somewhat offended,
&gt; but those same people need to do some of the same work that programmers need
&gt; to do.

The WS-* landscape is not all stacks and stubs.

I know a lot of companies who put their weight behind this space
because of a very simple value proposition.  Let's make tools that
ordinary people can use.  You can make a great tool for business
people to control how orders are processed,or create dashboards with
KPI, without having to know anything about programming.  These tools
can work at their level of understanding, metaphors and skills, be
more like Excel and nothing like Eclipse.

Which happens if you allow small startups, system integrators and IT
to play in this space.  But here's the thing, you can build and sell
such a wonderful tool for helping you manage order, only if you don't
have to build and sell the order management system along with it.
Doing the later puts you in competition with SAP or any of the other
established players.  So you want to build something that can use an
existing SAP (or insert your favorite) system.  SAP uses their
proprietary RFC protocol; if you also need to integrate with Siebel,
that's another proprietary protocol; PeopleSoft have their own, and so
forth.  So now you have an EAI problem to solve, which is expensive to
develop, and licensing one will shrink your market and eat your
profits.

Not so if all the plumbing was talking one language.  So let's say you
build a wonderful tool that lets business people customize how orders
are entered into the system, at the level of abstraction they
understand, and the engine (which they never see) uses XForms to
produce XML which gets wrapped in a SOAP envelope and sent to a known
port, which ends up being an IDoc function in SAP R/3, and you've got
EDI.

And that is appealing to a lot of companies who's sole purpose is to
cater to people who don't care to program, intentionally or
accidentally.  Those products are not sold because of their WS-*
capabilities, end-users and buyers don't care for that, they're sold
because they're possible and hit the right price point.

&gt; Want to solve the problem?  Don't argue that people who struggle to learn
&gt; how to form valid HTML should be able to implement the interdirection model
&gt; of HATEOAS because your debating it won't make it so.  Instead, work to
&gt; develop a standard model for said interaction so that sooner than later than
&gt; standard model of interaction can become built into browsers and the class
&gt; of people I refer to can effectively discover web services that use HATEOAS
&gt; and so that open-source libraries can be implemented to make calling
&gt; services that comply with HATEOAS brain-dead easy.

The best thing you can do is give people tools that just solves the
problem for them.  If I want to add a del.icio.us widget on my blog, I
don't want to see the JavaScript code and hack it to work against my
account.  I go to the page which lets me configure it, and spits one
one line of code I plant in my template, without having to understand
how it works.  It might be putting action in the URL, or using GET to
update state, or carrying the messages over SOAP.  If it just works,
do I care?

If I provide people with an online tool they can use to customize a
script, I'll use forms and links and all other good things, and it
will be HATEOAS.  The tool, but the script doesn't have to be.  I'm
talking about the script here.  I think it matters indirectly, if it's
cheap to do and resistent to change, you'll see more tools developed,
and the more (and better) tools you have, the less people (myself
included) have to bother programming.


&gt; &gt; &gt; Just to clarify, are you saying that you think everything
&gt; &gt; &gt; that a web service might provide can be converted into a
&gt; &gt; &gt; pre-known finite list?
&gt; &gt; If that wasn't possible, I wouldn't be able to implement it
&gt; &gt; using a turing-complete language.
&gt;
&gt; Then tell me how you would implement today's airline flight arrival times as
&gt; a pre-defined finite list on the server?

If I'm telling you that http://travels/{flight number}/arrival
provides the current arrival time, then I just provided you with a
pre-defined, finite (size 1) list of the things my service provides.
That's something I can spec, so other people can build clients to get
the current arrival time on any given flight, widgets that let you
track a particular flight, etc.

&gt; &gt; In my analogy, a map would be exactly what Google is doing
&gt; &gt; with their Chart API.
&gt; &gt;
&gt; &gt; To backtrack for a second, the three options listed for this
&gt; &gt; discussion were:
&gt; &gt; 1.  Give developers a URL template they can write their
&gt; &gt; client against.
&gt; &gt; 2.  Have the service return a URL template from a known URL
&gt; &gt; (maybe in response to OPTIONS).
&gt; &gt; 3.  Have a resource that can resolve a name to a URL.
&gt; &gt;
&gt; &gt; #1 and #2 are maps in the analogy, #1 in the form of a spec,
&gt; &gt; #2 served dynamically.  #3 are posts.  What I'm saying is,
&gt; &gt; commit to #1 and/or #3, ignore #2.
&gt; &gt;
&gt; &gt; Google Chart API made its decision and went with #1.  If you
&gt; &gt; look at other widgets on the Web, you'll notice a lot of do
&gt; &gt; #1 and/or #3, telling you how to construct a URL to get the
&gt; &gt; desired results, or giving you a way to resolve to a URL.
&gt; &gt; What I've yet to see them do successfully is offer a resource
&gt; &gt; that serves meta-data from which a client can decide how to
&gt; &gt; construct a URL (although some do it internally).
&gt;
&gt; Either I've been completely misinterpretting your comments or you've been
&gt; changing your argument because #2 is what I've been arguing against for
&gt; externally published APIs and #2 violates the pure HATEOAS model.  I would
&gt; especially argue against using #2 in contexts where "accidental" programmers
&gt; might be using them like Google's Chart API.  BTW, I think I'll use
&gt; "accidental programmers" from now on because that would capture the essense
&gt; of a blogger who is not a programmer but programs without  realizing it.

I think we were in agreement all along that #2 deviates from the pure
HATEOAS model, and is the better choice for the Goolge Chart API, or
at least I thought that way.  Just that I used map as analogy
precisely for things like the Google Chart API, and you misunderstood
my usage of maps to not be about things like the Google Charts API.


&gt; And if you still choose to disagree with that, do so by finding me several
&gt; externally published REST-based URL interfaces from companies still in
&gt; business since they published their REST-based URL interface that have had
&gt; to be changed and that have caused disruption. Hell, find me just one. (P.S.
&gt; SOAP interfaces don't count; we all know how screwed up SOAP has been.)

"With that in mind, we're announcing the rollout of a new API server:
api.del.icio.us. Everything passed back and forth from the machine
will be done over SSL. You will have to do a bit of URL rewriting, and
we apologize for that inconvenience, but it will be consistent across
all the API calls"

http://blog.delicious.com/blog/2006/05/feel_secure.html

"The consequence of this is that pretty soon many Flash based Flickr
widgets that use the old urls will probably stop working until they
have been updated to the new api structure. So if you are a user you
should check out the pages where you downloaded your widget originally
and see if the developer has already updated it."

http://www.quasimondo.com/archives/000630.php

Just a couple of examples, more can be found here:
http://www.google.com/search?q={service_name}+api+change


-- Assaf
http://labnotes.org


&gt;
&gt; --
&gt; -Mike Schinkel
&gt; http://www.mikeschinkel.com/blogs/
&gt; http://www.welldesignedurls.org
&gt; http://atlanta-web.org
&gt;
&gt;
&gt; [1] http://programmableweb.com/apis
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10268<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-18 21:10:32<br>
Subject:RE: [rest-discuss] Re: Resources and State<br>
Message:<br><br>
<pre>Antnio Mota 
&gt;Thanks for your reply, but really the question of query strings is just a
detail, it's not important for the work I have to do now.

Then what was important in your question?

&gt; But, anyway, I would write that URL like
&gt;  http://quuxTravel.com/flights/origins/london/destinations/nyc.
 
That works.
 
-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10269<br>
Sender:"John D. Heintz" &lt;jheintz@...&gt;<br>
Post Date/Time:2008-01-18 21:59:36<br>
Subject:Re: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>Assaf,

I agree very, very much. So much that I used the metaphor of
"signposts" for exactly this same idea [1].

My most recent thinking [2] on this is that a "State Description
Language" could provide a shared set of expectations that consumers of
a RESTful system could opportunistically take advantage of. In this
post I also refer to several interesting papers and systems that seem
to indicate solutions in this light.

Mike Schinkel: Most developers won't step up to semantic web, RDF,
state machines languages, and so on. We've agreed on this generally
before. (However, I don't like the names used to describe people in
this thread - it is just important that people can get some value with
small effort, and more value with more effort.) Any solution to this
should introduce the smallest possible addition to enable useful and
flexible processing.

In my opinion the example set by Microformats and GRDDL [3] together
answer both the smallest implication and opportunity for predictive
specification concerns.
* Microformats are simple (one or a few additional pieces of data
added to content)
* GRDDL transforms HTML+microformats into a formal RDF model for any
sophisticated processing

In a uniform interface hypermedia system all of this (state transfer,
signs, signposts, ...) is encoded into the MIME type of a
Representation. How to build a good hypermedia system, extensible and
machine processable hypermedia documents (and types), and process
current documents with automation support is all very naive. Today the
machine clients of HTTP are just starting to take advantage what could
be done, there is a lot of opportunity.

This quote from section 5.3.3 of the REST thesis points to the goal,
but doesn't give the slightest advice on how to achieve it:
  "The model application is therefore an engine that moves from one
state to the next by examining and choosing from among the alternative
state transitions in the current set of representations."

John Heintz

[1] http://johnheintz.blogspot.com/2007/05/does-rest-need-dl.html
[2] http://johnheintz.blogspot.com/2008/01/comments-rest-interactions-and.html
[3] http://www.w3.org/TR/grddl/

On Jan 17, 2008 9:17 PM, Assaf Arkin &lt;assaf@...&gt; wrote:
&gt; On Jan 17, 2008 12:59 AM, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt; &gt; However, and I explain this so you'll know why I make some of my arguments,
&gt; &gt; I'm also concerned with empowering a class of people that I think most who
&gt; &gt; participate on these lists are not concerned with. I'll call those people
&gt; &gt; "occupational" programmers (as opposed to "professional") programmers.
&gt; &gt; Occupational programmers by nature program to get a job done not because
&gt; &gt; their job is programming. The more difficult something is the less likely an
&gt; &gt; occupational programmers will ever be able to do it because they don't
&gt; &gt; rarely have the time to learn more than beginner-level programming skills.
&gt;
&gt; I just call them developers.  Those working on the business needs like
&gt; order fullfilment and inventory management, far outweight those
&gt; working on infrastructure problems like how to connect any given
&gt; server to any given client.  I belong to the smaller category of
&gt; infrastructure developers, who worry about that stuff, but only so
&gt; other developers won't have to.
&gt;
&gt; Same difference, I just think it helps in remembering that what works
&gt; for me doesn't work for most developers.
&gt;
&gt;
&gt; &gt; IMO for the HATEOAS to be fully respected and generally used we need a
&gt; &gt; standard way to discover and interact with REST-based web services and that
&gt; &gt; standard way to interact need to then be built into browsers thus allowing
&gt; &gt; people to discover and interact with them without having to write code.
&gt; &gt; Until that happens, it's unrealistic to expect widespread use of HATEOAS for
&gt; &gt; any but the most standards-pedantic of web service publishers much like
&gt; &gt; people still use &lt;table&gt; elements instead of pure CSS because pure CSS
&gt; &gt; doesn't fully meet the needs of users.  Companies that have a strategic
&gt; &gt; reason for more people to use their externally published web services are
&gt; &gt; foolish not to publish direct URL interfaces because given the current state
&gt; &gt; of things HATEOAS signifcantly stunts adoption.
&gt;
&gt; HATEOAS, if I understand correctly, talks about links and their
&gt; equivalence, or how you navigate from one resource to another, or
&gt; change from one state to another.  The Web as we know it has another
&gt; thing called discovery.  Given a resource I can discover how to use
&gt; it, as I'm using it, and use hypermedia to drive the application
&gt; state.
&gt;
&gt; In my experience that doesn't work for the programmable Web.  You
&gt; really do need to know what the states and transitions are, before you
&gt; start coding for them.  Things like getting an order done is pursuing
&gt; known transitions, to a desired end state, but you'll never start if
&gt; you don't know there's a paved road leading to your destination.
&gt;
&gt; Working without a spec (i.e. pure discovery) has other down sides,
&gt; like not always finding the optimal path, not being able to develop in
&gt; parallel, QA servers on behalf of clients, or even determining what
&gt; changes break clients.
&gt;
&gt; You need a map, and post signs along the way.
&gt;
&gt; The problem with WSDL, and from what I've seen also WADL, is that
&gt; neither one provides a map.  They provide blueprints.  They tell you
&gt; exactly how to manufacture a service (and clients), but in doing so
&gt; eliminates necessary deviations, extensions and compositions that can
&gt; happen over time.  We need something better than that, which smartly
&gt; divides that which belongs in the map and what which belongs on signs.
&gt;
&gt; In that world view, dynamically downloading a map is unnecessary.  You
&gt; already have one, from which you're building your code.  And if the
&gt; one you have is different from the one you download, there's little
&gt; you can do about it.  But you pay attention to signs along the route,
&gt; in fact you can't get to your destination without following signs.
&gt;
&gt; So in this particular case, I would say that for all the known places,
&gt; you should just list them on a map, hand it to developers to build
&gt; clients from it.  As you point out, public services like Google do
&gt; that as a matter of practice, and that just means you have to honor
&gt; these specifications once you publish them.  But some routes may
&gt; change over time, in which case it's best to have the server resolve
&gt; them, which is a simple matter of "here's the data, give me back a
&gt; URL".
&gt;
&gt; The inbetween case is putting something up with intent that it be a
&gt; sign, but possibility to be used as a map.  If it's possible it will
&gt; happen, much more than developers reading the manual.  So rather than
&gt; hoping things will happen in a particular way, I say commit to them.
&gt; Make something a map or a sign, and only available in one form.
&gt;
&gt;
&gt; &gt; BTW, 99% of what I'm discussing in this email are web services published for
&gt; &gt; external use, not web services that are only used by others in the same
&gt; &gt; organization.
&gt;
&gt; It's been my experience that if you follow the successful practices of
&gt; the Web, it ends up working quite well internally, if you follow
&gt; practices only intended to work internally, they don't always work
&gt; internally.  There's obviously a benefit to writing a service that
&gt; only your coworker in the next room can use -- time being one of them
&gt; -- but that's also how we acquire technical debt.
&gt;
&gt; I plan on every service as if it was publish on the Web, because I
&gt; can't tell that the person who was at the design meeting today won't
&gt; be replaced by someone else tomorrow who doesn't share our same
&gt; understanding of doing things.
&gt;
&gt; -- Assaf
&gt; http://labnotes.org
&gt;
&gt;
&gt; &gt;
&gt; &gt; There are also cases where a HATEOAS requirement effectively nullifies the
&gt; &gt; benefit fo the service, for example the published URL interfaces for
&gt; &gt; Google's Chart API [1].  Given that the Google Chart API returns an image
&gt; &gt; for use in a &lt;img src="..."&gt; element, requiring the client to first call a
&gt; &gt; main URL to get the specific URL before it can use it elimates potential use
&gt; &gt; anywhere Javascript is not an option and for anyone who does not have the
&gt; &gt; required Javascript skills (My guess is more than 10 times more people know
&gt; &gt; HTML than Javascript.)  Again, I'm advocating for accessibility for the
&gt; &gt; lesser skilled. They, after all, are not here to advocate for themselves
&gt; &gt; (unless you count me in that category. :-)
&gt; &gt;
&gt; &gt; --
&gt; &gt; -Mike Schinkel
&gt; &gt; http://www.mikeschinkel.com/blogs/
&gt; &gt; http://www.welldesignedurls.org
&gt; &gt; http://atlanta-web.org
&gt; &gt;
&gt; &gt; [1] http://code.google.com/apis/chart/#url_format
&gt; &gt;
&gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; Assaf
&gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; But even your service is public, if it is important that the URL be
&gt; &gt; &gt; &gt; able to change then make that clear in no uncertain terms
&gt; &gt; &gt; in the docs
&gt; &gt; &gt; &gt; and in UPPERCASE comments in any representations returned.
&gt; &gt; &gt; And if you
&gt; &gt; &gt; &gt; are paranoid, literally change the URL every time with a
&gt; &gt; &gt; validatation
&gt; &gt; &gt; &gt; parameter so that anyone who did hard code quickly learns
&gt; &gt; &gt; better and
&gt; &gt; &gt; &gt; no time is given to allow hardcoded clients time is build up.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Or IMO best of all, just document it and commit to the URL
&gt; &gt; &gt; format just
&gt; &gt; &gt; &gt; as Google have done with their Chart service, for example.
&gt; &gt; &gt; Yes I know,
&gt; &gt; &gt; &gt; that violates the HATEOAS requirement but I personally don't think
&gt; &gt; &gt; &gt; being a fundamentalist in all things is such a good idea;
&gt; &gt; &gt; some times
&gt; &gt; &gt; &gt; it is better just to put a stake in the ground. If
&gt; &gt; &gt; *everything* were
&gt; &gt; &gt; &gt; meta, we'd never get anything done.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; --
&gt; &gt; &gt; &gt; -Mike Schinkel
&gt; &gt; &gt; &gt; http://www.mikeschinkel.com/blogs/
&gt; &gt; &gt; &gt; http://www.welldesignedurls.org
&gt; &gt; &gt; &gt; http://atlanta-web.org
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; --
&gt; &gt; &gt; -- Assaf
&gt; &gt; &gt;
&gt; &gt; &gt; http://labnotes.org
&gt; &gt;
&gt; &gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;



-- 
John D. Heintz
Principal Consultant
New Aspects of Software
http://newaspects.com
http://johnheintz.blogspot.com
Austin, TX
(512) 633-1198

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10270<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-18 22:41:39<br>
Subject:RE: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>Assaf Arkin wrote:
&gt; &gt; Your knowledge and skill is obviously making it nearly 
&gt; impossible for 
&gt; &gt; you to recognize what it is like not to have your knowledge 
&gt; and skill 
&gt; (that's not a criticism, it's well-documented human psychology.)
&gt; 
&gt; I do accept that.  I'm not strictly in the market for 
&gt; solutions requiring my skill sets.  I blog, but I don't write 
&gt; my own blog software, I self-host a couple but mostly I 
&gt; prefer them to be services, I don't care to install and 
&gt; maintain them.  Just because I have the skills doesn't mean I 
&gt; want to use them all the time.  So things that are dead 
&gt; simple are very appealing to me.

You are still misconstruing my points.  I didn't say that you didn't
appreciate not working on things, I said you didn't appreciate the barrier
that your strict prescriptions place on those with less skill than you.

&gt; &gt; &gt; &gt; Occupational Programmers don't need a spec, they don't even
&gt; &gt; &gt; think in
&gt; &gt; &gt; &gt; those terms.  They instead need to be slapped in the 
&gt; face with the 
&gt; &gt; &gt; &gt; fact that something is possible before they even consider
&gt; &gt; &gt; it because
&gt; &gt; &gt; &gt; they otherwise assume it is not.
&gt; &gt; &gt;
&gt; &gt; &gt; Which is exactly what a spec does.  A spec tells you what's 
&gt; &gt; &gt; available and how to use it.  Don't confuse that with the 
&gt; cryptic, 
&gt; &gt; &gt; over-generic, formal style we employ in various working groups, 
&gt; &gt; &gt; that's particularly appealing to a small set of people.  
&gt; Specs can 
&gt; &gt; &gt; take many forms, ideally one that's readable to a lot of people.
&gt; &gt;
&gt; &gt; You are manipulating my metaphor to be used in a manner 
&gt; which was not 
&gt; &gt; how I intended. My reference to being slapped in the face 
&gt; was not to 
&gt; &gt; slap with the set of rules but instead to slap them in the 
&gt; face with 
&gt; &gt; what's possible. And when someone assumes things are not 
&gt; possible by 
&gt; &gt; default they don't go looking for specs no matter how readable they 
&gt; &gt; are.  OTOH, if they were browsing the web and discovered the Google 
&gt; &gt; Chart API by accident, for example, they might just have an "Aha!" 
&gt; &gt; moment and realize they *can* use it to implement 
&gt; something.  But if 
&gt; &gt; they have to first read a spec, it ain't gonna happen, or 
&gt; at least not nearly as often.
&gt; 
&gt; Once you learn something exists, what happens next?  I'm 
&gt; concerned with going from "I know I want to use it" to "I'm 
&gt; using it".  I'm not concerned here with how people find a 
&gt; service exists to begin with, that's definitely important, 
&gt; but not relevant or specific to REST.  If someone has a need 
&gt; to include charts in their blog, and they found out Google 
&gt; Charts makes that possible, through whatever channel, what do 
&gt; they need for the next step?

I am also concerned with going from "I know I want to use it" to "I'm using
it."; actually, that's my main concern.  If someone can discover it then
construct a URL to see it in the browser then use curl or similar to use it,
they are more likely to use it than if it takes them writing code that first
gets the URL then uses the header or content information to get other URLs.
Of course if mainstream tools (i.e browsers) did this for them, my point
would be moot, but currently they don't.

&gt; 
&gt; &gt; &gt; &gt; &gt; The problem with WSDL, and from what I've seen also WADL, is 
&gt; &gt; &gt; &gt; &gt; that neither one provides a map.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; WSDL and WADL are two orders of magnitude more 
&gt; complexity than any 
&gt; &gt; &gt; &gt; occupational programmer will ever attempt.
&gt; &gt; &gt;
&gt; &gt; &gt; The WS-* people will beg to differ, a lot of companies 
&gt; are pursing 
&gt; &gt; &gt; exactly that market with visual tools that alleviate the 
&gt; cognitive 
&gt; &gt; &gt; workload and designed to appeal to people who can't program their 
&gt; &gt; &gt; way out of a for loop.
&gt; &gt;
&gt; &gt; Jeesh!  Those tools you mention are for *Professional programmers*, 
&gt; &gt; not people whose job titles do not contain the words 
&gt; "Programmer" or "Developer"
&gt; &gt; but who could gain benefit in their job from being able to easily 
&gt; &gt; interact with REST-based services; mashups for example.  You tell 
&gt; &gt; those people they are programmers and they will scoff at you, many 
&gt; &gt; feeling somewhat offended, but those same people need to do some of 
&gt; &gt; the same work that programmers need to do.
&gt; 
&gt; The WS-* landscape is not all stacks and stubs.
&gt; 
&gt; I know a lot of companies who put their weight behind this 
&gt; space because of a very simple value proposition.  Let's make 
&gt; tools that ordinary people can use.  You can make a great 
&gt; tool for business people to control how orders are 
&gt; processed,or create dashboards with KPI, without having to 
&gt; know anything about programming.  These tools can work at 
&gt; their level of understanding, metaphors and skills, be more 
&gt; like Excel and nothing like Eclipse.

Give me an example of such tools that ordinary business people seek out.
Oh, and tools that don't require a multi-thousand dollar entry fee because
&gt;90% of business people (i.e. smaller businesses) won't ever go there.

&gt; Which happens if you allow small startups, system integrators 
&gt; and IT to play in this space.  But here's the thing, you can 
&gt; build and sell such a wonderful tool for helping you manage 
&gt; order, only if you don't have to build and sell the order 
&gt; management system along with it.
&gt; Doing the later puts you in competition with SAP or any of 
&gt; the other established players.  So you want to build 
&gt; something that can use an existing SAP (or insert your 
&gt; favorite) system.  SAP uses their proprietary RFC protocol; 
&gt; if you also need to integrate with Siebel, that's another 
&gt; proprietary protocol; PeopleSoft have their own, and so 
&gt; forth.  So now you have an EAI problem to solve, which is 
&gt; expensive to develop, and licensing one will shrink your 
&gt; market and eat your profits.
&gt; 
&gt; Not so if all the plumbing was talking one language.  So 
&gt; let's say you build a wonderful tool that lets business 
&gt; people customize how orders are entered into the system, at 
&gt; the level of abstraction they understand, and the engine 
&gt; (which they never see) uses XForms to produce XML which gets 
&gt; wrapped in a SOAP envelope and sent to a known port, which 
&gt; ends up being an IDoc function in SAP R/3, and you've got EDI.

Okay, with that we are clearly in two different worlds.  I'm looking to
empower the people who have websites and use Quickbooks, not the people who
use SAP or Siebel; they can fend for their themselves with their IT teams.

&gt; And that is appealing to a lot of companies who's sole 
&gt; purpose is to cater to people who don't care to program, 
&gt; intentionally or accidentally.  Those products are not sold 
&gt; because of their WS-* capabilities, end-users and buyers 
&gt; don't care for that, they're sold because they're possible 
&gt; and hit the right price point.

I'm also interested in open standards on open-source, not in solutions that
require some Enterprise Software company to first extract multiple pounds of
flesh.

&gt; The best thing you can do is give people tools that just 
&gt; solves the problem for them. If I want to add a del.icio.us 
&gt; widget on my blog, I don't want to see the JavaScript code 
&gt; and hack it to work against my account.  I go to the page 
&gt; which lets me configure it, and spits one one line of code I 
&gt; plant in my template, without having to understand how it 
&gt; works.  It might be putting action in the URL, or using GET 
&gt; to update state, or carrying the messages over SOAP.  If it 
&gt; just works, do I care?

Uh, that's similar to what I've been saying.  But there is a difference
between "Complexity is okay because tools solve all the problems" to "Let's
eliminate complexity so that tools become simple and ubiqutious."  Tools do
not solve all problems, tools only make simple things that much more
appropriate.

&gt; If I provide people with an online tool they can use to 
&gt; customize a script, I'll use forms and links and all other 
&gt; good things, and it will be HATEOAS.  The tool, but the 
&gt; script doesn't have to be.  I'm talking about the script 
&gt; here.  I think it matters indirectly, if it's cheap to do and 
&gt; resistent to change, you'll see more tools developed, and the 
&gt; more (and better) tools you have, the less people (myself
&gt; included) have to bother programming.

Again, that's what I'm trying to say except that you building a website to
do it is not an answer. Not everybody is going to go to your website to
process web services.  The answer is a standard way (or a few standard ways)
to interact with HATEOAS such that open-source tools will be developed and
browsers will incorporate.  And I completely want to see that; Alan Dean's
DSD is a good start.  Until then, HATEOAS is too high a barrier for most
people (who are accidental programmers) to hurdle and thus there is very
real benefit to publishing direct URL interfaces.

&gt; If I'm telling you that http://travels/{flight 
&gt; number}/arrival provides the current arrival time, then I 
&gt; just provided you with a pre-defined, finite (size 1) list of 
&gt; the things my service provides.

Ah, but that's not what you said earlier.  Earlier you said you could
provide all the needed URLs in advance. But whatever.

&gt; That's something I can spec, so other people can build 
&gt; clients to get the current arrival time on any given flight, 
&gt; widgets that let you track a particular flight, etc.

And that's what I advocate.  But this thread between us started by you
saying that publishing a URI Template was a bad idea because people would be
tempted to hardcode yet now you are saying exactly what I've been saying.

&gt; I think we were in agreement all along that #2 deviates from 
&gt; the pure HATEOAS model, and is the better choice for the 
&gt; Goolge Chart API, or at least I thought that way.  Just that 
&gt; I used map as analogy precisely for things like the Google 
&gt; Chart API, and you misunderstood my usage of maps to not be 
&gt; about things like the Google Charts API.

Okay, you have once again confused me.  I saw #2 as pure HATEOAS and was
saying it was impractical in many cases.

&gt; 
&gt; "With that in mind, we're announcing the rollout of a new API server:
&gt; api.del.icio.us. Everything passed back and forth from the 
&gt; machine will be done over SSL. You will have to do a bit of 
&gt; URL rewriting, and we apologize for that inconvenience, but 
&gt; it will be consistent across all the API calls"
&gt; 
&gt; http://blog.delicious.com/blog/2006/05/feel_secure.html

LOL!  The change was to incorporate SSL; the URL path did not change!  All
client code that didn't have to support SSL would need to be changed anyway,
and hardcoded clients that provided their own http vs. https handling in
advance would all have been okay.  This is a non-example as far as I'm
concerned.

&gt; "The consequence of this is that pretty soon many Flash based 
&gt; Flickr widgets that use the old urls will probably stop 
&gt; working until they have been updated to the new api 
&gt; structure. So if you are a user you should check out the 
&gt; pages where you downloaded your widget originally and see if 
&gt; the developer has already updated it."
&gt; 
&gt; http://www.quasimondo.com/archives/000630.php

That was an unnecessary change on the part of Flickr; they could have
maintained legacy services at the old location but choose not to. Further,
creating an api subdomain up front, which is an easily known best practice
can avoid that problem.

&gt; Just a couple of examples, more can be found here:
&gt; http://www.google.com/search?q={service_name}+api+change

I googled both of these and didn't find anything really else that dealt with
API change based on URLs (though I know I wasn't exhaustive.):

	http://www.google.com/search?q=api+change
	http://www.google.com/search?q=url+api+change

But what I did find were references to API changes that broke things that
had nothing to do with changed URLs which brings up a point that HATEOAS
advocates conveniently choose to never mention; even if your URLs are served
by a single entry point your API still breaks if the conceptual model of
your service changes.  Since there is no standard way for returned hypertext
documents that provide the URLs to use by web services, we haven't
collectively realized how the problem just gets moved upstream.  

For example, let's assume I have an RESTful HATEOAS api for a blog and I
have an RDF doc that defines the services available at
http://api.example.com.  It contains information that my client code must
know how to process such that there is some way to get the author's email
address. So I write a client to pull down the RDF and look for the
"author/email", dereference that URL, and all is good.

However, then the domain owner at example.com decides to allow multiple blog
authors but that changes the concepts for their API so they change their RDF
document to contain multiple authors hence multiple emails, i.e.
"authors/{author}/email."  But the problem is, my client that uses their API
to get the author's email and that I wrote to be faithful to HATEOAS because
I was a good RESTafarian doesn't work anymore because the concept of
"author/email" is no longer defined for the multi-author blog. All of a
sudden I feel cheated and loose my RESTful faith because the gospel of REST
preached that if I simply followed HATEOAS I would be granted the promised
land of never having my client break (sorry for the melodrama, but that
metaphor was so much fun to devise. :)

The reality is that a client has concepts that it understands and if your
API changes those concepts and does not provide legacy support no amount of
shielding yourself from URL changes is going to matter. Further, the same
techniques that can be used to mitigate the problems that result from
changes in concepts (i.e. such as designating one blog author as primary so
their email would be served to legacy clients) can be used to mitigate
problems with URL path changes.  

The only real problem I see is that of changing schemes and that of changing
domains which is what your two examples illustrated. Since those are two
known and finite problems, why not address those in clients rather than
requiring all URLs to deal with the conceptual, programmatic and execution
overhead of first having to first traverse a representation from an entry
point URL before calling a service based on URL construction?  IOW, why not
define web service URLs as {scheme}://{domain}/{path-and-params} and
instruct callers to support both http and https in advance and incorporate
an easy way to change the domain in their client code but allow them to
hardcode path and parameters?  After that I don't see a lot of reason why
you can't maintain a reasonably consistent URL structure, some of which may
be legacy; is the protocol and domains that are the most problematic and
accordinate to the URI spec, those aspects are not opaque.  From my
perspective that solves 99% of the situations that it seems to me that
HATEOAS was envisioned to solve but with much less burden on the client
developer.

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10271<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-18 23:27:08<br>
Subject:RE: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>John D. Heintz wrote:
&gt; Assaf,
&gt; 
&gt; I agree very, very much. So much that I used the metaphor of 
&gt; "signposts" for exactly this same idea [1].

Why is code gen a foregone conclusion? Why can't a DL be processed each
time? I really don't see the distinction between the two. 

But anyway, I think I'm 100% in agreement with your ideas in that post, just
not sure I agree that what you are doing is not a DL or that DL implies code
gen.

&gt; My most recent thinking [2] on this is that a "State 
&gt; Description Language" could provide a shared set of 
&gt; expectations that consumers of a RESTful system could 
&gt; opportunistically take advantage of. In this post I also 
&gt; refer to several interesting papers and systems that seem to 
&gt; indicate solutions in this light.

Sounds like you and Alan Dean are trying to solve the same problem[1] (as am
I); why not work together?

&gt; Mike Schinkel: Most developers won't step up to semantic web, 
&gt; RDF, state machines languages, and so on. We've agreed on 
&gt; this generally before. 

Yes, we have agreed on that before, and I still do.

&gt; (However, I don't like the names used 
&gt; to describe people in this thread - it is just important that 
&gt; people can get some value with small effort, and more value 
&gt; with more effort.) 

As a strong believer in Sapir-Whorf [2] I think it's important to give names
to things otherwise it is hard to have a shared understanding and discuss
them. And I'm certainly not the only one who does this [3][4].  Of course
it's important to try and avoid perjorative labels, and for the most part I
try to avoid being perjorative though I don't always succeed.

&gt; Any solution to this should introduce the 
&gt; smallest possible addition to enable useful and flexible processing.
&gt; 
&gt; In my opinion the example set by Microformats and GRDDL [3] 
&gt; together answer both the smallest implication and opportunity 
&gt; for predictive specification concerns.
&gt; * Microformats are simple (one or a few additional pieces of 
&gt; data added to content)
&gt; * GRDDL transforms HTML+microformats into a formal RDF model 
&gt; for any sophisticated processing
&gt;
&gt; In a uniform interface hypermedia system all of this (state 
&gt; transfer, signs, signposts, ...) is encoded into the MIME 
&gt; type of a Representation. How to build a good hypermedia 
&gt; system, extensible and machine processable hypermedia 
&gt; documents (and types), and process current documents with 
&gt; automation support is all very naive. Today the machine 
&gt; clients of HTTP are just starting to take advantage what 
&gt; could be done, there is a lot of opportunity.

I'm coming to the belief that we should distill out the concepts and make
those concepts available in a variety of representation formats.  For
example, they could be embedded in HTML+Semantic Markup (not "Microformats"
[5]), in JSON, in YAML, in RSS, in Atom, in RDF, or whichever works best for
the given circumstance. I'm off-and-on working on a RESTful framework in PHP
called RESTian that will have extract the essense of what is needed to
interact with a RESTful service and will provide representations in whatever
format the client prefers. This is much like how they are define HTML5; as a
DOM with and not as a syntax but where the DOM can be serialized to multiple
representations.  (So maybe what we have here would be a SOM, or Service
Object Model?)

I'm currently thinking YAML might be RESTian's default format for service
description because of its simplicity and readability.

Said another way, I think it will be a mistake to couple the information for
RESTful service description with any particular MIME type; let's identify
the essence and then come up with how to describe them in different media
types much as we would recognize a concept and then find the words in
different spoken languages that are using to identify the concept.

&gt; This quote from section 5.3.3 of the REST thesis points to 
&gt; the goal, but doesn't give the slightest advice on how to achieve it:
&gt;   "The model application is therefore an engine that moves 
&gt; from one state to the next by examining and choosing from 
&gt; among the alternative state transitions in the current set of 
&gt; representations."

With your comment "doesn't give the slightest advice on how to achieve it" I
cannot agree more! :-)

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 

[1] http://simplewebservices.org/index.php?title=Domain_Service_Discovery
[2] http://en.wikipedia.org/wiki/Sapir-Whorf_hypothesis
[3] http://wesnerm.blogs.com/net_undocumented/2003/09/who_are_you_mor.html
[4] http://en.wikipedia.org/wiki/Crossing_the_Chasm
[5] According to Tantek Celik his process "owns" the ability to christen
something a "Microformat" so better to go with the generic "Semantic
Markup."


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10272<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-01-19 00:53:45<br>
Subject:Re: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>On Jan 18, 2008 2:41 PM, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt; Assaf Arkin wrote:
&gt;
&gt; Okay, with that we are clearly in two different worlds.  I'm looking to
&gt; empower the people who have websites and use Quickbooks, not the people who
&gt; use SAP or Siebel; they can fend for their themselves with their IT teams.
&gt;
&gt; &gt; And that is appealing to a lot of companies who's sole
&gt; &gt; purpose is to cater to people who don't care to program,
&gt; &gt; intentionally or accidentally.  Those products are not sold
&gt; &gt; because of their WS-* capabilities, end-users and buyers
&gt; &gt; don't care for that, they're sold because they're possible
&gt; &gt; and hit the right price point.
&gt;
&gt; I'm also interested in open standards on open-source, not in solutions that
&gt; require some Enterprise Software company to first extract multiple pounds of
&gt; flesh.

The one thing I like about the Web is that it's an enormous piece of
infrastructure that's also a great equalizer and doesn't care if
you're Fortune 500 or broke and trying to start a new life.  I'm
looking for a solution that just like the Web is a great equalizer and
doesn't ask you where you work, or how much money you have in your
spending account.

The Lotus-123/PC type of revolution that if you remember was just
about the SOHO worker as it was about business people in large
companies with well funded IT departments maintaining state of the art
mainframes.  Neither the rich nor the poor had the equivalent, and it
solve the problem equally well for both.

&gt; &gt; If I provide people with an online tool they can use to
&gt; &gt; customize a script, I'll use forms and links and all other
&gt; &gt; good things, and it will be HATEOAS.  The tool, but the
&gt; &gt; script doesn't have to be.  I'm talking about the script
&gt; &gt; here.  I think it matters indirectly, if it's cheap to do and
&gt; &gt; resistent to change, you'll see more tools developed, and the
&gt; &gt; more (and better) tools you have, the less people (myself
&gt; &gt; included) have to bother programming.
&gt;
&gt; Again, that's what I'm trying to say except that you building a website to
&gt; do it is not an answer. Not everybody is going to go to your website to
&gt; process web services.  The answer is a standard way (or a few standard ways)
&gt; to interact with HATEOAS such that open-source tools will be developed and
&gt; browsers will incorporate.  And I completely want to see that; Alan Dean's
&gt; DSD is a good start.  Until then, HATEOAS is too high a barrier for most
&gt; people (who are accidental programmers) to hurdle and thus there is very
&gt; real benefit to publishing direct URL interfaces.

Because it's easier to develop a bunch of domain-specific solutions on
the Web, see which ones stick, target different audiences than it is
developing it into the browser.


&gt; &gt; If I'm telling you that http://travels/{flight
&gt; &gt; number}/arrival provides the current arrival time, then I
&gt; &gt; just provided you with a pre-defined, finite (size 1) list of
&gt; &gt; the things my service provides.
&gt;
&gt; Ah, but that's not what you said earlier.  Earlier you said you could
&gt; provide all the needed URLs in advance. But whatever.

I just did, using URL templates to do lossless compression.  It's the
equivalent of saying A..Z instead of repeating the alphabet, or 'every
saturday' without listing infinite number of dates.  Is there a
problem describing things in concise form?

&gt; &gt; That's something I can spec, so other people can build
&gt; &gt; clients to get the current arrival time on any given flight,
&gt; &gt; widgets that let you track a particular flight, etc.
&gt;
&gt; And that's what I advocate.  But this thread between us started by you
&gt; saying that publishing a URI Template was a bad idea because people would be
&gt; tempted to hardcode yet now you are saying exactly what I've been saying.

My statement, which I duely corrected, was that if you make the URI
template available dynamically as the first resource clients have to
retrieve, you risk developers caching it in their code.  You might as
well commit to giving developers the URI template up front.  That was
what I intended to say, and still saying.

&gt; &gt; Just a couple of examples, more can be found here:
&gt; &gt; http://www.google.com/search?q={service_name}+api+change
&gt;
&gt; I googled both of these and didn't find anything really else that dealt with
&gt; API change based on URLs (though I know I wasn't exhaustive.):
&gt;
&gt;         http://www.google.com/search?q=api+change
&gt;         http://www.google.com/search?q=url+api+change

Try looking with a specific service name, I only searched for two, so
only came up with two examples, and I only picked from the first
result page.  Also keep in mind that search results are indicative,
not exhaustive, there may be thousands of public APIs out there, but
once you get into the long tai, the chances of finding someone
complaining online about an API breaking approximates zero.  So if
you're actually looking to count incidents, Google search won't help,
if you're "do even big services do that"", the answer is yes.

(BTW del.icio.us pre-acquisition is famous for upgrading their API
without changing version numbers, Google and you'll find more
examples)


&gt; But what I did find were references to API changes that broke things that
&gt; had nothing to do with changed URLs which brings up a point that HATEOAS
&gt; advocates conveniently choose to never mention; even if your URLs are served
&gt; by a single entry point your API still breaks if the conceptual model of
&gt; your service changes.

Exactly.

&gt; The only real problem I see is that of changing schemes and that of changing
&gt; domains which is what your two examples illustrated. Since those are two
&gt; known and finite problems, why not address those in clients rather than
&gt; requiring all URLs to deal with the conceptual, programmatic and execution
&gt; overhead of first having to first traverse a representation from an entry
&gt; point URL before calling a service based on URL construction?  IOW, why not
&gt; define web service URLs as {scheme}://{domain}/{path-and-params} and
&gt; instruct callers to support both http and https in advance and incorporate
&gt; an easy way to change the domain in their client code but allow them to
&gt; hardcode path and parameters?

A lot of client libraries do just that.  You point to a base URL,
which is easy to change, if for no other reason that you dev, test and
production servers will all use different base URLs.  What happens
after that is often ingrained in the logic, changing it is as hard as
adding another mandatory request parameter, but then again just as
likely to happen and costly to change.


&gt;  After that I don't see a lot of reason why
&gt; you can't maintain a reasonably consistent URL structure, some of which may
&gt; be legacy; is the protocol and domains that are the most problematic and
&gt; accordinate to the URI spec, those aspects are not opaque.  From my
&gt; perspective that solves 99% of the situations that it seems to me that
&gt; HATEOAS was envisioned to solve but with much less burden on the client
&gt; developer.

But there are benefits to following URLs, they give you more
flexibility to change the implementation, especially around
long-lasting state when you may want to offer to implementations side
by side, or more across services (composition).

Assaf

&gt;
&gt;
&gt; -Mike Schinkel
&gt; http://www.mikeschinkel.com/blogs/
&gt; http://www.welldesignedurls.org
&gt; http://atlanta-web.org
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10273<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-01-19 01:17:32<br>
Subject:Re: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>On Jan 18, 2008 1:59 PM, John D. Heintz &lt;jheintz@...&gt; wrote:
&gt; Assaf,
&gt;
&gt; I agree very, very much. So much that I used the metaphor of
&gt; "signposts" for exactly this same idea [1].
&gt;
&gt; My most recent thinking [2] on this is that a "State Description
&gt; Language" could provide a shared set of expectations that consumers of
&gt; a RESTful system could opportunistically take advantage of. In this
&gt; post I also refer to several interesting papers and systems that seem
&gt; to indicate solutions in this light.

Exactly.

But I want to qualify something.  I think there are two separate
issues here.  I'm going to refer to this as specification, a
specification tells you what the service does and how to go about
doing it.

First, ignore how the specification is expressed, what would it
express?  The best practices if you will.  Do you provide a URL
template for every resource? Only a select few? In which contexts?  I
can think up of many more questions, all of which go in this category.

Second, comes the choice of language.  And there are a lot of
different opportunities, it can be written in human form, have a
visual notation, have a bunch of machine processable syntaxes, etc.

I fear that every discussion directed towards this goal starts out by
bikeshedding the choice of language.  Picking a language upfront you
run the risk of getting bogged down in the implementation details: can
I represent this RDF as JSON? elements or attributes? inheritence or
composition?  Good intentions that end up leading to an almost good
enough solution due to the inability to choose a color.  Some WS-*
specs are a good example for that, solving the problem in whichever
way the XML syntax makes easy or elegant looking.  Let's not go there
again.

If we can figure out the best practices for what you intend to
describe, it then becomes easier to come up with different styles for
expressing it, and avoid the language turf wars.


&gt;
&gt; Mike Schinkel: Most developers won't step up to semantic web, RDF,
&gt; state machines languages, and so on. We've agreed on this generally
&gt; before. (However, I don't like the names used to describe people in
&gt; this thread - it is just important that people can get some value with
&gt; small effort, and more value with more effort.) Any solution to this
&gt; should introduce the smallest possible addition to enable useful and
&gt; flexible processing.
&gt;
&gt; In my opinion the example set by Microformats and GRDDL [3] together
&gt; answer both the smallest implication and opportunity for predictive
&gt; specification concerns.
&gt; * Microformats are simple (one or a few additional pieces of data
&gt; added to content)
&gt; * GRDDL transforms HTML+microformats into a formal RDF model for any
&gt; sophisticated processing
&gt;
&gt; In a uniform interface hypermedia system all of this (state transfer,
&gt; signs, signposts, ...) is encoded into the MIME type of a
&gt; Representation. How to build a good hypermedia system, extensible and
&gt; machine processable hypermedia documents (and types), and process
&gt; current documents with automation support is all very naive. Today the
&gt; machine clients of HTTP are just starting to take advantage what could
&gt; be done, there is a lot of opportunity.
&gt;
&gt; This quote from section 5.3.3 of the REST thesis points to the goal,
&gt; but doesn't give the slightest advice on how to achieve it:
&gt;   "The model application is therefore an engine that moves from one
&gt; state to the next by examining and choosing from among the alternative
&gt; state transitions in the current set of representations."

I also keep referencing that quote, because it clearly does not
preclude implementations driven by specifications.

Assaf

&gt;
&gt; John Heintz
&gt;
&gt; [1] http://johnheintz.blogspot.com/2007/05/does-rest-need-dl.html
&gt; [2] http://johnheintz.blogspot.com/2008/01/comments-rest-interactions-and.html
&gt; [3] http://www.w3.org/TR/grddl/
&gt;
&gt; On Jan 17, 2008 9:17 PM, Assaf Arkin &lt;assaf@...&gt; wrote:
&gt;
&gt; &gt; On Jan 17, 2008 12:59 AM, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt; &gt; &gt; However, and I explain this so you'll know why I make some of my arguments,
&gt; &gt; &gt; I'm also concerned with empowering a class of people that I think most who
&gt; &gt; &gt; participate on these lists are not concerned with. I'll call those people
&gt; &gt; &gt; "occupational" programmers (as opposed to "professional") programmers.
&gt; &gt; &gt; Occupational programmers by nature program to get a job done not because
&gt; &gt; &gt; their job is programming. The more difficult something is the less likely an
&gt; &gt; &gt; occupational programmers will ever be able to do it because they don't
&gt; &gt; &gt; rarely have the time to learn more than beginner-level programming skills.
&gt; &gt;
&gt; &gt; I just call them developers.  Those working on the business needs like
&gt; &gt; order fullfilment and inventory management, far outweight those
&gt; &gt; working on infrastructure problems like how to connect any given
&gt; &gt; server to any given client.  I belong to the smaller category of
&gt; &gt; infrastructure developers, who worry about that stuff, but only so
&gt; &gt; other developers won't have to.
&gt; &gt;
&gt; &gt; Same difference, I just think it helps in remembering that what works
&gt; &gt; for me doesn't work for most developers.
&gt; &gt;
&gt; &gt;
&gt; &gt; &gt; IMO for the HATEOAS to be fully respected and generally used we need a
&gt; &gt; &gt; standard way to discover and interact with REST-based web services and that
&gt; &gt; &gt; standard way to interact need to then be built into browsers thus allowing
&gt; &gt; &gt; people to discover and interact with them without having to write code.
&gt; &gt; &gt; Until that happens, it's unrealistic to expect widespread use of HATEOAS for
&gt; &gt; &gt; any but the most standards-pedantic of web service publishers much like
&gt; &gt; &gt; people still use &lt;table&gt; elements instead of pure CSS because pure CSS
&gt; &gt; &gt; doesn't fully meet the needs of users.  Companies that have a strategic
&gt; &gt; &gt; reason for more people to use their externally published web services are
&gt; &gt; &gt; foolish not to publish direct URL interfaces because given the current state
&gt; &gt; &gt; of things HATEOAS signifcantly stunts adoption.
&gt; &gt;
&gt; &gt; HATEOAS, if I understand correctly, talks about links and their
&gt; &gt; equivalence, or how you navigate from one resource to another, or
&gt; &gt; change from one state to another.  The Web as we know it has another
&gt; &gt; thing called discovery.  Given a resource I can discover how to use
&gt; &gt; it, as I'm using it, and use hypermedia to drive the application
&gt; &gt; state.
&gt; &gt;
&gt; &gt; In my experience that doesn't work for the programmable Web.  You
&gt; &gt; really do need to know what the states and transitions are, before you
&gt; &gt; start coding for them.  Things like getting an order done is pursuing
&gt; &gt; known transitions, to a desired end state, but you'll never start if
&gt; &gt; you don't know there's a paved road leading to your destination.
&gt; &gt;
&gt; &gt; Working without a spec (i.e. pure discovery) has other down sides,
&gt; &gt; like not always finding the optimal path, not being able to develop in
&gt; &gt; parallel, QA servers on behalf of clients, or even determining what
&gt; &gt; changes break clients.
&gt; &gt;
&gt; &gt; You need a map, and post signs along the way.
&gt; &gt;
&gt; &gt; The problem with WSDL, and from what I've seen also WADL, is that
&gt; &gt; neither one provides a map.  They provide blueprints.  They tell you
&gt; &gt; exactly how to manufacture a service (and clients), but in doing so
&gt; &gt; eliminates necessary deviations, extensions and compositions that can
&gt; &gt; happen over time.  We need something better than that, which smartly
&gt; &gt; divides that which belongs in the map and what which belongs on signs.
&gt; &gt;
&gt; &gt; In that world view, dynamically downloading a map is unnecessary.  You
&gt; &gt; already have one, from which you're building your code.  And if the
&gt; &gt; one you have is different from the one you download, there's little
&gt; &gt; you can do about it.  But you pay attention to signs along the route,
&gt; &gt; in fact you can't get to your destination without following signs.
&gt; &gt;
&gt; &gt; So in this particular case, I would say that for all the known places,
&gt; &gt; you should just list them on a map, hand it to developers to build
&gt; &gt; clients from it.  As you point out, public services like Google do
&gt; &gt; that as a matter of practice, and that just means you have to honor
&gt; &gt; these specifications once you publish them.  But some routes may
&gt; &gt; change over time, in which case it's best to have the server resolve
&gt; &gt; them, which is a simple matter of "here's the data, give me back a
&gt; &gt; URL".
&gt; &gt;
&gt; &gt; The inbetween case is putting something up with intent that it be a
&gt; &gt; sign, but possibility to be used as a map.  If it's possible it will
&gt; &gt; happen, much more than developers reading the manual.  So rather than
&gt; &gt; hoping things will happen in a particular way, I say commit to them.
&gt; &gt; Make something a map or a sign, and only available in one form.
&gt; &gt;
&gt; &gt;
&gt; &gt; &gt; BTW, 99% of what I'm discussing in this email are web services published for
&gt; &gt; &gt; external use, not web services that are only used by others in the same
&gt; &gt; &gt; organization.
&gt; &gt;
&gt; &gt; It's been my experience that if you follow the successful practices of
&gt; &gt; the Web, it ends up working quite well internally, if you follow
&gt; &gt; practices only intended to work internally, they don't always work
&gt; &gt; internally.  There's obviously a benefit to writing a service that
&gt; &gt; only your coworker in the next room can use -- time being one of them
&gt; &gt; -- but that's also how we acquire technical debt.
&gt; &gt;
&gt; &gt; I plan on every service as if it was publish on the Web, because I
&gt; &gt; can't tell that the person who was at the design meeting today won't
&gt; &gt; be replaced by someone else tomorrow who doesn't share our same
&gt; &gt; understanding of doing things.
&gt; &gt;
&gt; &gt; -- Assaf
&gt; &gt; http://labnotes.org
&gt; &gt;
&gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; There are also cases where a HATEOAS requirement effectively nullifies the
&gt; &gt; &gt; benefit fo the service, for example the published URL interfaces for
&gt; &gt; &gt; Google's Chart API [1].  Given that the Google Chart API returns an image
&gt; &gt; &gt; for use in a &lt;img src="..."&gt; element, requiring the client to first call a
&gt; &gt; &gt; main URL to get the specific URL before it can use it elimates potential use
&gt; &gt; &gt; anywhere Javascript is not an option and for anyone who does not have the
&gt; &gt; &gt; required Javascript skills (My guess is more than 10 times more people know
&gt; &gt; &gt; HTML than Javascript.)  Again, I'm advocating for accessibility for the
&gt; &gt; &gt; lesser skilled. They, after all, are not here to advocate for themselves
&gt; &gt; &gt; (unless you count me in that category. :-)
&gt; &gt; &gt;
&gt; &gt; &gt; --
&gt; &gt; &gt; -Mike Schinkel
&gt; &gt; &gt; http://www.mikeschinkel.com/blogs/
&gt; &gt; &gt; http://www.welldesignedurls.org
&gt; &gt; &gt; http://atlanta-web.org
&gt; &gt; &gt;
&gt; &gt; &gt; [1] http://code.google.com/apis/chart/#url_format
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Assaf
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; But even your service is public, if it is important that the URL be
&gt; &gt; &gt; &gt; &gt; able to change then make that clear in no uncertain terms
&gt; &gt; &gt; &gt; in the docs
&gt; &gt; &gt; &gt; &gt; and in UPPERCASE comments in any representations returned.
&gt; &gt; &gt; &gt; And if you
&gt; &gt; &gt; &gt; &gt; are paranoid, literally change the URL every time with a
&gt; &gt; &gt; &gt; validatation
&gt; &gt; &gt; &gt; &gt; parameter so that anyone who did hard code quickly learns
&gt; &gt; &gt; &gt; better and
&gt; &gt; &gt; &gt; &gt; no time is given to allow hardcoded clients time is build up.
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; Or IMO best of all, just document it and commit to the URL
&gt; &gt; &gt; &gt; format just
&gt; &gt; &gt; &gt; &gt; as Google have done with their Chart service, for example.
&gt; &gt; &gt; &gt; Yes I know,
&gt; &gt; &gt; &gt; &gt; that violates the HATEOAS requirement but I personally don't think
&gt; &gt; &gt; &gt; &gt; being a fundamentalist in all things is such a good idea;
&gt; &gt; &gt; &gt; some times
&gt; &gt; &gt; &gt; &gt; it is better just to put a stake in the ground. If
&gt; &gt; &gt; &gt; *everything* were
&gt; &gt; &gt; &gt; &gt; meta, we'd never get anything done.
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; --
&gt; &gt; &gt; &gt; &gt; -Mike Schinkel
&gt; &gt; &gt; &gt; &gt; http://www.mikeschinkel.com/blogs/
&gt; &gt; &gt; &gt; &gt; http://www.welldesignedurls.org
&gt; &gt; &gt; &gt; &gt; http://atlanta-web.org
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; --
&gt; &gt; &gt; &gt; -- Assaf
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; http://labnotes.org
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; Yahoo! Groups Links
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt;
&gt;
&gt;
&gt;
&gt; --
&gt; John D. Heintz
&gt; Principal Consultant
&gt; New Aspects of Software
&gt; http://newaspects.com
&gt; http://johnheintz.blogspot.com
&gt; Austin, TX
&gt; (512) 633-1198
&gt;



-- 
-- Assaf

http://labnotes.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10274<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-19 01:56:34<br>
Subject:RE: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>Assaf Arkin wrote:
&gt; Second, comes the choice of language.  And there are a lot of 
&gt; different opportunities, it can be written in human form, 
&gt; have a visual notation, have a bunch of machine processable 
&gt; syntaxes, etc.
&gt; 
&gt; I fear that every discussion directed towards this goal 
&gt; starts out by bikeshedding the choice of language.  Picking a 
&gt; language upfront you run the risk of getting bogged down in 
&gt; the implementation details: can I represent this RDF as JSON? 
&gt; elements or attributes? inheritence or composition?  Good 
&gt; intentions that end up leading to an almost good enough 
&gt; solution due to the inability to choose a color.  Some WS-* 
&gt; specs are a good example for that, solving the problem in 
&gt; whichever way the XML syntax makes easy or elegant looking.  
&gt; Let's not go there again.
&gt; 
&gt; If we can figure out the best practices for what you intend 
&gt; to describe, it then becomes easier to come up with different 
&gt; styles for expressing it, and avoid the language turf wars.

I'm with you there, as I said to John in a prior email.  I think the HTML5
WG came up with a brilliant solution for a similar problem, i.e. that of
defining HTML5 as an abstract DOM and then defining different serializations
for it.  Similarly I think we might want to consider focusing on defining a
SOM (Service Object Model) and only later worry about the exact
serializations of it. Does that not work with what you were saying?

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10275<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-19 01:56:34<br>
Subject:RE: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>Assaf Arkin wrote:
&gt; The one thing I like about the Web is that it's an enormous 
&gt; piece of infrastructure that's also a great equalizer and 
&gt; doesn't care if you're Fortune 500 or broke and trying to 
&gt; start a new life.  I'm looking for a solution that just like 
&gt; the Web is a great equalizer and doesn't ask you where you 
&gt; work, or how much money you have in your spending account.
&gt; 
&gt; The Lotus-123/PC type of revolution that if you remember was 
&gt; just about the SOHO worker as it was about business people in 
&gt; large companies with well funded IT departments maintaining 
&gt; state of the art mainframes.  Neither the rich nor the poor 
&gt; had the equivalent, and it solve the problem equally well for both.

Well, that's exactly how I see the value of the web and those are the type
of people I'd like to empower. Empowering them creates more value for
everyone as the more that are empowered the more there are adding value to
the collective pot.

&gt; Because it's easier to develop a bunch of domain-specific 
&gt; solutions on the Web, see which ones stick, target different 
&gt; audiences than it is developing it into the browser.

Oh, I agree.  But I'm instead talking about "standardizing" a meta approach;
IOW a method for traversing web services that 5 years from now could be
built into browsers because it gained widespread usage.  I'd like to see a
well-known way to publish that they are "n" number of services available,
here are their local identifiers, their URLs/URI Templates, and here are the
content types they return.  Local identifiers might be things like
"shopping-cart", "add-item", "empty-cart", and so on.

Interestingly I just re-read Joe Gregorio's rant against WADL [1] and find
that I strongly agree with his mime-type centric view. So what I'm
discussing wouldn't be at the level of a WADL which as he presented defines
a service but instead something that lists available services for a human to
review and that can also later be called by a program that traverses the
list to support HATEOAS with eventual move toward a new mime-type with a
defined spec for the use-case if it is generally applicable.

Also, Joe made my point about internal vs. external using very different
words but basically his point is that for internal you don't necessarily
have to worry about publishing standard mime-types, but for external you
definitely do.  Given the lack of need to follow standards with internal
services makes them more more likely to need to be changed.

&gt; I just did, using URL templates to do lossless compression.  
&gt; It's the equivalent of saying A..Z instead of repeating the 
&gt; alphabet, or 'every saturday' without listing infinite number 
&gt; of dates.  Is there a problem describing things in concise form?

We definitely were arguing past each other there because I think the use of
URI Templates is a grand idea [2], even though I'm not enamored with the
newly cryptic syntax.

&gt; My statement, which I duely corrected, was that if you make 
&gt; the URI template available dynamically as the first resource 
&gt; clients have to retrieve, you risk developers caching it in 
&gt; their code.  You might as well commit to giving developers 
&gt; the URI template up front.  That was what I intended to say, 
&gt; and still saying.

Sorry for any misinterpretations.  That said, my argument is still valid and
it is that for many use-cases the medication (HATEOAS) is worse than the
disease (hard-coding URLs) and that rather than always prescribing HATEOAS
as the obvious solution for which one should never consider any other
alternative that we collectively identify and educate people on the
collective pros and cons of either approach.

&gt; Try looking with a specific service name, I only searched for 
&gt; two, so only came up with two examples, and I only picked 
&gt; from the first result page.  Also keep in mind that search 
&gt; results are indicative, not exhaustive, there may be 
&gt; thousands of public APIs out there, but once you get into the 
&gt; long tai, the chances of finding someone complaining online 
&gt; about an API breaking approximates zero.  So if you're 
&gt; actually looking to count incidents, Google search won't 
&gt; help, if you're "do even big services do that"", the answer is yes.

Well, I don't have time to guess at which services might have had problems
so if you want to give more examples feel free.  But even so I think it is a
moot point considering my discussion of changes in scheme vs. domain vs.
path-and-params.

&gt; (BTW del.icio.us pre-acquisition is famous for upgrading 
&gt; their API without changing version numbers, Google and you'll 
&gt; find more examples)

I'd argue that the problem was not necessarily lack of HATEOAS but instead
poor API management.

&gt; &gt; The only real problem I see is that of changing schemes and that of 
&gt; &gt; changing domains which is what your two examples illustrated. Since 
&gt; &gt; those are two known and finite problems, why not address those in 
&gt; &gt; clients rather than requiring all URLs to deal with the conceptual, 
&gt; &gt; programmatic and execution overhead of first having to 
&gt; first traverse 
&gt; &gt; a representation from an entry point URL before calling a service 
&gt; &gt; based on URL construction?  IOW, why not define web service URLs as 
&gt; &gt; {scheme}://{domain}/{path-and-params} and instruct callers 
&gt; to support 
&gt; &gt; both http and https in advance and incorporate an easy way 
&gt; to change 
&gt; &gt; the domain in their client code but allow them to hardcode 
&gt; path and parameters?
&gt; 
&gt; A lot of client libraries do just that.  You point to a base 
&gt; URL, which is easy to change, if for no other reason that you 
&gt; dev, test and production servers will all use different base 
&gt; URLs.  What happens after that is often ingrained in the 
&gt; logic, changing it is as hard as adding another mandatory 
&gt; request parameter, but then again just as likely to happen 
&gt; and costly to change.

So it sounds like ultimately you actually agree with me? :-)

&gt; &gt;  After that I don't see a lot of reason why you can't maintain a 
&gt; &gt; reasonably consistent URL structure, some of which may be 
&gt; legacy; is 
&gt; &gt; the protocol and domains that are the most problematic and 
&gt; accordinate 
&gt; &gt; to the URI spec, those aspects are not opaque.  From my perspective 
&gt; &gt; that solves 99% of the situations that it seems to me that 
&gt; HATEOAS was 
&gt; &gt; envisioned to solve but with much less burden on the client 
&gt; developer.
&gt; 
&gt; But there are benefits to following URLs, they give you more 
&gt; flexibility to change the implementation, especially around 
&gt; long-lasting state when you may want to offer to 
&gt; implementations side by side, or more across services (composition).

But what are those benefits, in concrete terms?  I don't claim that they are
not any only that I have yet to discover any.  I still don't see any reason
why hardcoding a path is a real problem for externally published services;
worst case URL rewriting can solve any breakage problems.  The only problem
I see is with changing schemes/protocols and changing domains.

So unless you can give me examples where following URLs is really beneficial
and hence can change my opinion then I'll summarize my point: rather than
universally prescribe HATEOAS I think it makes more sense to describe the
pros and the cons of each (simplier adoption vs. change management) and also
identify where the biggest problems with not using HATEPOAS lie i.e. in
scheme/protocol &amp; domain and let the implementor make their own decisions.

-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 

[1] http://bitworking.org/news/193/Do-we-need-WADL
[2]
http://blog.welldesignedurls.org/2007/01/11/proposing-uri-templates-for-webf
orms-2/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10276<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-01-19 03:09:23<br>
Subject:Re: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>On Jan 18, 2008 5:56 PM, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt; Assaf Arkin wrote:
&gt; &gt; Second, comes the choice of language.  And there are a lot of
&gt; &gt; different opportunities, it can be written in human form,
&gt; &gt; have a visual notation, have a bunch of machine processable
&gt; &gt; syntaxes, etc.
&gt; &gt;
&gt; &gt; I fear that every discussion directed towards this goal
&gt; &gt; starts out by bikeshedding the choice of language.  Picking a
&gt; &gt; language upfront you run the risk of getting bogged down in
&gt; &gt; the implementation details: can I represent this RDF as JSON?
&gt; &gt; elements or attributes? inheritence or composition?  Good
&gt; &gt; intentions that end up leading to an almost good enough
&gt; &gt; solution due to the inability to choose a color.  Some WS-*
&gt; &gt; specs are a good example for that, solving the problem in
&gt; &gt; whichever way the XML syntax makes easy or elegant looking.
&gt; &gt; Let's not go there again.
&gt; &gt;
&gt; &gt; If we can figure out the best practices for what you intend
&gt; &gt; to describe, it then becomes easier to come up with different
&gt; &gt; styles for expressing it, and avoid the language turf wars.
&gt;
&gt; I'm with you there, as I said to John in a prior email.  I think the HTML5
&gt; WG came up with a brilliant solution for a similar problem, i.e. that of
&gt; defining HTML5 as an abstract DOM and then defining different serializations
&gt; for it.  Similarly I think we might want to consider focusing on defining a
&gt; SOM (Service Object Model) and only later worry about the exact
&gt; serializations of it. Does that not work with what you were saying?

Go a step backward into the HTML5 conceptual model:
1.  Forms should support all HTML verbs.
2.  Elements for specific content types like audio and video.
3.  Should be possible to break document into sections.
And so forth.

Those are the things we need to decide on first, before we even get to
create an abstract model.  We might even have several abstract models,
maybe one is optimized for tooling and another for people, one for
static languages another for dynamic languages.  Each abstract model
can have different serializations.

XML Schema allows you to specify the structure of a document.  It has
an abstract model, from which you get XML serialization, Java API, RDF
representation, etc.  RelaxNG is also a language that allows you to
specify the structure of the document.  Turns out there are some
things you can say in XML Schema but not in RelaxNG and vice versa.
Their abstract models are not identical, we can't say one is a
serialization of the other.  But they both have a similar enough
conceptual model that, if I need to describe a given service, I can
choose either one (or both).

DocBook allows you to specify the structure of a document.  You can
list sections in a particular order, and you can group sections into
larger sections.  But that's a fundamentally different conceptual
model than XML Schema or RelaxNG.  For one, XML Schema is separate
from the document it describes, DocBook is self-describing; for
another, XML Schema is good at describing which address fields are
mandatory in a purchase order, DocBook not so.

From what I'm hearing, some people expect the description language to
be an XML Schema/RelaxNG of sort, while others expect it to be
DocBook.  That's the first thing we need to nail, the conceptual
model.  There are obviously more details to it, more points of
contention, I'm just using this as example.

Assaf

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10277<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-01-19 03:53:25<br>
Subject:Re: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>On Jan 18, 2008 5:56 PM, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt; &gt; Because it's easier to develop a bunch of domain-specific
&gt; &gt; solutions on the Web, see which ones stick, target different
&gt; &gt; audiences than it is developing it into the browser.
&gt;
&gt; Oh, I agree.  But I'm instead talking about "standardizing" a meta approach;
&gt; IOW a method for traversing web services that 5 years from now could be
&gt; built into browsers because it gained widespread usage.  I'd like to see a
&gt; well-known way to publish that they are "n" number of services available,
&gt; here are their local identifiers, their URLs/URI Templates, and here are the
&gt; content types they return.  Local identifiers might be things like
&gt; "shopping-cart", "add-item", "empty-cart", and so on.

Isn't that the responsibility of HTML?


&gt; Interestingly I just re-read Joe Gregorio's rant against WADL [1] and find
&gt; that I strongly agree with his mime-type centric view. So what I'm
&gt; discussing wouldn't be at the level of a WADL which as he presented defines
&gt; a service but instead something that lists available services for a human to
&gt; review and that can also later be called by a program that traverses the
&gt; list to support HATEOAS with eventual move toward a new mime-type with a
&gt; defined spec for the use-case if it is generally applicable.
&gt;
&gt; Also, Joe made my point about internal vs. external using very different
&gt; words but basically his point is that for internal you don't necessarily
&gt; have to worry about publishing standard mime-types, but for external you
&gt; definitely do.  Given the lack of need to follow standards with internal
&gt; services makes them more more likely to need to be changed.

That's how we end up with super expensive enterprise software :-)
Things that work _also_ for the enterprise, like PHP or MySQL, tend to
be very cheap.  Things that work _only_ for the enterprise, like J2EE
and Oracle, tend to be more expensive.  So wearing my enterprise hat,
I say give me more of that stuff that works everywhere!  I don't have
a hat like that, but I'm looking at the trends around open source,
dynamic languages, and what the cool CIOs are calling Enterprise 2.0,
and it looks like this just might be the shape of things to come.

&gt; &gt; I just did, using URL templates to do lossless compression.
&gt; &gt; It's the equivalent of saying A..Z instead of repeating the
&gt; &gt; alphabet, or 'every saturday' without listing infinite number
&gt; &gt; of dates.  Is there a problem describing things in concise form?
&gt;
&gt; We definitely were arguing past each other there because I think the use of
&gt; URI Templates is a grand idea [2], even though I'm not enamored with the
&gt; newly cryptic syntax.

Yep.

&gt; &gt; My statement, which I duely corrected, was that if you make
&gt; &gt; the URI template available dynamically as the first resource
&gt; &gt; clients have to retrieve, you risk developers caching it in
&gt; &gt; their code.  You might as well commit to giving developers
&gt; &gt; the URI template up front.  That was what I intended to say,
&gt; &gt; and still saying.
&gt;
&gt; Sorry for any misinterpretations.  That said, my argument is still valid and
&gt; it is that for many use-cases the medication (HATEOAS) is worse than the
&gt; disease (hard-coding URLs) and that rather than always prescribing HATEOAS
&gt; as the obvious solution for which one should never consider any other
&gt; alternative that we collectively identify and educate people on the
&gt; collective pros and cons of either approach.

And I fully agree with that.

In fact, that's one of the things that turned me away from REST
initially.  I'm not even sure it's essential for REST, just that a lot
of people were arguing for it and no other way.  So first I said no,
and they I relented and decide to HATEOAS all the way, and after the
learning period was over, on a clean slate project I found to my
dismay that:
a)  It took me way too much time to do that, but the 80/20 rule does
apply, the first 80% was a breeze, I should have stopped there.
b)  And it took more time than it would take to fix hard-coded URLs,
should they ever break.
c)  A task which could easily be automated given machine processable
specification.


&gt; &gt; A lot of client libraries do just that.  You point to a base
&gt; &gt; URL, which is easy to change, if for no other reason that you
&gt; &gt; dev, test and production servers will all use different base
&gt; &gt; URLs.  What happens after that is often ingrained in the
&gt; &gt; logic, changing it is as hard as adding another mandatory
&gt; &gt; request parameter, but then again just as likely to happen
&gt; &gt; and costly to change.
&gt;
&gt; So it sounds like ultimately you actually agree with me? :-)

Yep.

&gt; &gt; But there are benefits to following URLs, they give you more
&gt; &gt; flexibility to change the implementation, especially around
&gt; &gt; long-lasting state when you may want to offer to
&gt; &gt; implementations side by side, or more across services (composition).
&gt;
&gt; But what are those benefits, in concrete terms?  I don't claim that they are
&gt; not any only that I have yet to discover any.  I still don't see any reason
&gt; why hardcoding a path is a real problem for externally published services;
&gt; worst case URL rewriting can solve any breakage problems.  The only problem
&gt; I see is with changing schemes/protocols and changing domains.

Let me give you an example.  I'm writing a task manager (aka work
list) service, and one thing you can do is troll your list of pending
tasks, maybe you want to write a script that collects them and e-mails
to someone else.

So one option is to have a URL form which you can get a list of
people, so you can find one specific person, from which you can get
all that person's URLs (pending, completed, cancelled, etc) from which
you can get the specific task list.  That places a burden on the
client, not to mention the service (e.g. current implementation
doesn't even have a list of people you can query, people are listed in
LDAP).

Another option is to give you a URL template, you plug your name into
it, and with one line of curl get the result.  And writing a one-line
curl script that pipes to sendmail is so trivial, a big point in favor
of URL templates.

The list of pending task for a person is designated as an "entry
point", so the template exists and properly specified.  And as you
pointed out, the semantics will change several times over before the
URLs do, so worrying about URLs breaking for this case is like
worrying about swiss cheese having holes.

Then there are attachments.  You can go from a task to the list of
attachments and retrieve those as well.  You can assume there's some
URL template for attachment, and you'll be right.  It does exist, it's
just unspecified.

Someone may want to store those attachments in a content repository,
or file server, or some other product and we allow for that.  Except,
those URLs do not conform to the same template we use, and you can't
even easily redirect from one to the other because there's no logical
mapping from our organization scheme to theirs.

So what we have is a specification that defines certain URL templates
for designated entry points, but leaves some resources unspecified and
the only way to discover them is through navigation.  If you write a
client based on this specification, and you make sure the base URL is
easy to change, then you can use that client against any deployment of
the task manager.

What we did is say, the semantics of your task list is that tasks have
certain required and optional values, and certain state transitions,
and preconditions and such, and certain related resources, and also
they're directly accessible from your user id.  The semantics of
attachments is that they have certain required and optional values,
and certain state transitions, and so forth, but can exist anywhere in
the cloud and can only be reached from a task.

Assaf

&gt;
&gt; So unless you can give me examples where following URLs is really beneficial
&gt; and hence can change my opinion then I'll summarize my point: rather than
&gt; universally prescribe HATEOAS I think it makes more sense to describe the
&gt; pros and the cons of each (simplier adoption vs. change management) and also
&gt; identify where the biggest problems with not using HATEPOAS lie i.e. in
&gt; scheme/protocol &amp; domain and let the implementor make their own decisions.
&gt;
&gt; -Mike Schinkel
&gt; http://www.mikeschinkel.com/blogs/
&gt; http://www.welldesignedurls.org
&gt; http://atlanta-web.org
&gt;
&gt; [1] http://bitworking.org/news/193/Do-we-need-WADL
&gt; [2]
&gt;
&gt; http://blog.welldesignedurls.org/2007/01/11/proposing-uri-templates-for-webf
&gt; orms-2/
&gt;
&gt;



-- 
-- Assaf

http://labnotes.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10278<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-19 05:16:31<br>
Subject:RE: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>Assaf Arkin wrote:
&gt; &gt; I'm with you there, as I said to John in a prior email.  I 
&gt; think the 
&gt; &gt; HTML5 WG came up with a brilliant solution for a similar 
&gt; problem, i.e. 
&gt; &gt; that of defining HTML5 as an abstract DOM and then defining 
&gt; different 
&gt; &gt; serializations for it.  Similarly I think we might want to consider 
&gt; &gt; focusing on defining a SOM (Service Object Model) and only 
&gt; later worry 
&gt; &gt; about the exact serializations of it. Does that not work 
&gt; with what you were saying?
&gt; 
&gt; Go a step backward into the HTML5 conceptual model:
&gt; 1.  Forms should support all HTML verbs.
&gt; 2.  Elements for specific content types like audio and video.
&gt; 3.  Should be possible to break document into sections.
&gt; And so forth.
&gt; 
&gt; Those are the things we need to decide on first, before we 
&gt; even get to create an abstract model.  

So rather than use an analogy, what specific things do you think we need to
decide on first related to RESTful web services?

&gt; We might even have 
&gt; several abstract models, maybe one is optimized for tooling 
&gt; and another for people, one for static languages another for 
&gt; dynamic languages.  Each abstract model can have different 
&gt; serializations.

That doesn't sound like it is needed. Sure, some use cases might use
attributes that others don't but it seems to me that there really is one a
need for one abstract model. Can you give concrete examples that would
indicate otherwise?

&gt; XML Schema allows you to specify the structure of a document. 
&gt;  It has an abstract model, from which you get XML 
&gt; serialization, Java API, RDF representation, etc.  RelaxNG is 
&gt; also a language that allows you to specify the structure of 
&gt; the document.  Turns out there are some things you can say in 
&gt; XML Schema but not in RelaxNG and vice versa.
&gt; Their abstract models are not identical, we can't say one is 
&gt; a serialization of the other.  But they both have a similar 
&gt; enough conceptual model that, if I need to describe a given 
&gt; service, I can choose either one (or both).
&gt; 
&gt; DocBook allows you to specify the structure of a document.  
&gt; You can list sections in a particular order, and you can 
&gt; group sections into larger sections.  But that's a 
&gt; fundamentally different conceptual model than XML Schema or 
&gt; RelaxNG.  For one, XML Schema is separate from the document 
&gt; it describes, DocBook is self-describing; for another, XML 
&gt; Schema is good at describing which address fields are 
&gt; mandatory in a purchase order, DocBook not so.
&gt; 
&gt; From what I'm hearing, some people expect the description 
&gt; language to be an XML Schema/RelaxNG of sort, while others 
&gt; expect it to be DocBook.  That's the first thing we need to 
&gt; nail, the conceptual model.  There are obviously more details 
&gt; to it, more points of contention, I'm just using this as example.

Then, rather than debating about what to debate, why not make some
suggestions as to what abstract model would be from your perspective?

Alan Dean made a good start with DSD [1] though I think it needs a different
discovery model; I proposed [2] using a combination of robots.txt, HTTP
headers, and HTML headers. Why don't we discuss those specifics?

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 

[1] http://simplewebservices.org/index.php?title=Domain_Service_Discovery
[2] http://tech.groups.yahoo.com/group/rest-discuss/message/10211


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10279<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-19 06:02:00<br>
Subject:RE: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>Assaf Arkin wrote:
&gt; &gt; Oh, I agree.  But I'm instead talking about "standardizing" a meta 
&gt; &gt; approach; IOW a method for traversing web services that 5 
&gt; years from 
&gt; &gt; now could be built into browsers because it gained 
&gt; widespread usage.  
&gt; &gt; I'd like to see a well-known way to publish that they are 
&gt; "n" number 
&gt; &gt; of services available, here are their local identifiers, their 
&gt; &gt; URLs/URI Templates, and here are the content types they 
&gt; return.  Local 
&gt; &gt; identifiers might be things like "shopping-cart", 
&gt; "add-item", "empty-cart", and so on.
&gt; 
&gt; Isn't that the responsibility of HTML?

Uh, it can be. But riddle me this; given an abitrary HTML document, how does
my client figure out what URL is the "add-item" URL?  Or the "empty-cart"
URL?  Or, or, or...?

HTML (or JSON, or Atom, or, or, or...) are necessary, but not sufficient.

&gt; 
&gt; 
&gt; &gt; Interestingly I just re-read Joe Gregorio's rant against 
&gt; WADL [1] and 
&gt; &gt; find that I strongly agree with his mime-type centric view. So what 
&gt; &gt; I'm discussing wouldn't be at the level of a WADL which as he 
&gt; &gt; presented defines a service but instead something that 
&gt; lists available 
&gt; &gt; services for a human to review and that can also later be 
&gt; called by a 
&gt; &gt; program that traverses the list to support HATEOAS with 
&gt; eventual move 
&gt; &gt; toward a new mime-type with a defined spec for the use-case 
&gt; if it is generally applicable.
&gt; &gt;
&gt; &gt; Also, Joe made my point about internal vs. external using very 
&gt; &gt; different words but basically his point is that for 
&gt; internal you don't 
&gt; &gt; necessarily have to worry about publishing standard mime-types, but 
&gt; &gt; for external you definitely do.  Given the lack of need to follow 
&gt; &gt; standards with internal services makes them more more 
&gt; likely to need to be changed.
&gt; 
&gt; That's how we end up with super expensive enterprise software 
&gt; :-) 

What is how we end up with "super expensive enterprise software?"  Where do
you get that?  I am the *last* person you should assume advocates techniques
for expensive enterprise software. 

&gt; Things that work _also_ for the enterprise, like PHP or 
&gt; MySQL, tend to be very cheap.  Things that work _only_ for 
&gt; the enterprise, like J2EE and Oracle, tend to be more 
&gt; expensive.  

Funny you say that, I've never done any J2EE or Oracle work, ever.
Everything I've worked has been lightweight, scripting, and dynamic
languages and I drive towards simple, not complex.  Matter of fact, I just
gave a presentation on debugging PHP and MySQL at the Atlanta Drupal users
group last Tuesday[1], and I've been programming exclusively PHP and MySQL
for the past six months, experimented with Python+Sqlite, Ruby on Rails, and
Powershell for the year prior, and mostly ASP+VBScript+SQL Server for the
10+ years to that. So your assumptions about what I'm advocating are off.
:-)

&gt; So wearing my enterprise hat, I say give me more 
&gt; of that stuff that works everywhere!  I don't have a hat like 
&gt; that, but I'm looking at the trends around open source, 
&gt; dynamic languages, and what the cool CIOs are calling 
&gt; Enterprise 2.0, and it looks like this just might be the 
&gt; shape of things to come.

I have absolutely no disagreement with that paragraph, but your other
comments seem incongruous.

&gt; And I fully agree with that.
&gt; 
&gt; In fact, that's one of the things that turned me away from 
&gt; REST initially.  I'm not even sure it's essential for REST, 
&gt; just that a lot of people were arguing for it and no other 
&gt; way.  So first I said no, and they I relented and decide to 
&gt; HATEOAS all the way, and after the learning period was over, 
&gt; on a clean slate project I found to my dismay that:
&gt; a)  It took me way too much time to do that, but the 80/20 
&gt; rule does apply, the first 80% was a breeze, I should have 
&gt; stopped there.
&gt; b)  And it took more time than it would take to fix 
&gt; hard-coded URLs, should they ever break.
&gt; c)  A task which could easily be automated given machine 
&gt; processable specification.

So that last point, "c)", is what we should tackle.  We don't have that
spec; let's work together (with all the others on this list) to define it.

&gt; Let me give you an example.  I'm writing a task manager (aka work
&gt; list) service, and one thing you can do is troll your list of 
&gt; pending tasks, maybe you want to write a script that collects 
&gt; them and e-mails to someone else.
&gt; 
&gt; So one option is to have a URL form which you can get a list 
&gt; of people, so you can find one specific person, from which 
&gt; you can get all that person's URLs (pending, completed, 
&gt; cancelled, etc) from which you can get the specific task 
&gt; list.  That places a burden on the client, not to mention the 
&gt; service (e.g. current implementation doesn't even have a list 
&gt; of people you can query, people are listed in LDAP).

I agree 100%

&gt; Another option is to give you a URL template, you plug your 
&gt; name into it, and with one line of curl get the result.  And 
&gt; writing a one-line curl script that pipes to sendmail is so 
&gt; trivial, a big point in favor of URL templates.

Again, agree.

&gt; The list of pending task for a person is designated as an 
&gt; "entry point", so the template exists and properly specified. 
&gt;  And as you pointed out, the semantics will change several 
&gt; times over before the URLs do, so worrying about URLs 
&gt; breaking for this case is like worrying about swiss cheese 
&gt; having holes.
&gt; 
&gt; Then there are attachments.  You can go from a task to the 
&gt; list of attachments and retrieve those as well.  You can 
&gt; assume there's some URL template for attachment, and you'll 
&gt; be right.  It does exist, it's just unspecified.
&gt; 
&gt; Someone may want to store those attachments in a content 
&gt; repository, or file server, or some other product and we 
&gt; allow for that.  Except, those URLs do not conform to the 
&gt; same template we use, and you can't even easily redirect from 
&gt; one to the other because there's no logical mapping from our 
&gt; organization scheme to theirs.
&gt; 
&gt; So what we have is a specification that defines certain URL 
&gt; templates for designated entry points, but leaves some 
&gt; resources unspecified and the only way to discover them is 
&gt; through navigation.  If you write a client based on this 
&gt; specification, and you make sure the base URL is easy to 
&gt; change, then you can use that client against any deployment 
&gt; of the task manager.
&gt;
&gt; What we did is say, the semantics of your task list is that 
&gt; tasks have certain required and optional values, and certain 
&gt; state transitions, and preconditions and such, and certain 
&gt; related resources, and also they're directly accessible from 
&gt; your user id.  The semantics of attachments is that they have 
&gt; certain required and optional values, and certain state 
&gt; transitions, and so forth, but can exist anywhere in the 
&gt; cloud and can only be reached from a task.

With those paragraphs, you've lost me.  I mean I can understand at a high
level but I doubt I'd end up with the same implementation you'd mean.  So
that I can understand what you are saying I think what I'd need to see are
specifics i.e. URLs, URI Templates, and any the representations of content
types that provide navigation.

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 

[1] http://drupal.meetup.com/4/calendar/6779397/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10280<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-01-19 06:06:38<br>
Subject:Re: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>On Jan 18, 2008 9:16 PM, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt; Assaf Arkin wrote:
&gt; &gt; &gt; I'm with you there, as I said to John in a prior email.  I
&gt; &gt; think the
&gt; &gt; &gt; HTML5 WG came up with a brilliant solution for a similar
&gt; &gt; problem, i.e.
&gt; &gt; &gt; that of defining HTML5 as an abstract DOM and then defining
&gt; &gt; different
&gt; &gt; &gt; serializations for it.  Similarly I think we might want to consider
&gt; &gt; &gt; focusing on defining a SOM (Service Object Model) and only
&gt; &gt; later worry
&gt; &gt; &gt; about the exact serializations of it. Does that not work
&gt; &gt; with what you were saying?
&gt; &gt;
&gt; &gt; Go a step backward into the HTML5 conceptual model:
&gt; &gt; 1.  Forms should support all HTML verbs.
&gt; &gt; 2.  Elements for specific content types like audio and video.
&gt; &gt; 3.  Should be possible to break document into sections.
&gt; &gt; And so forth.
&gt; &gt;
&gt; &gt; Those are the things we need to decide on first, before we
&gt; &gt; even get to create an abstract model.
&gt;
&gt; So rather than use an analogy, what specific things do you think we need to
&gt; decide on first related to RESTful web services?

So far I mapped out the following:

1.  Describe a collection of resources (one or more).

2.  Describe which headers are used with that collection.  I'm
following HTTP 1.1, so no need to describe the headers themselves, but
you may want to know where I'm allowing conditional GET and PUT, for
example.

3.  Describe which content types are supported by that collection.
And that should allow you to go all the way into structure and
semantics of the various content types.

4.  Describe which status codes are returned and what they mean, for
cases that are more specific than the HTTP spec.

5.  URL templates for entry points (mapped to #1), optionally separate
from the base path.

6.  URL selection from content types (mapped to #1).

7.  Authentication mechanism.



&gt; &gt; We might even have
&gt; &gt; several abstract models, maybe one is optimized for tooling
&gt; &gt; and another for people, one for static languages another for
&gt; &gt; dynamic languages.  Each abstract model can have different
&gt; &gt; serializations.
&gt;
&gt; That doesn't sound like it is needed. Sure, some use cases might use
&gt; attributes that others don't but it seems to me that there really is one a
&gt; need for one abstract model. Can you give concrete examples that would
&gt; indicate otherwise?

That depends on which abstract model happens first.  If it's the one I
like, I'm going to side with you that there's no clear need to have
more than one.  If it's the one I don't like, I'm going to have a
laundry list of precise features I'm missing to justify a different
one.  And, I do reserve to change my opinion over time, and in the
words of the other camp, "see the light" :-)


&gt; Alan Dean made a good start with DSD [1] though I think it needs a different
&gt; discovery model; I proposed [2] using a combination of robots.txt, HTTP
&gt; headers, and HTML headers. Why don't we discuss those specifics?

Those deal with discovery, that's an important problem to solve, but
understand that until I have something to discover, I don't have a
discovery problem.

Assaf

&gt;
&gt; --
&gt; -Mike Schinkel
&gt; http://www.mikeschinkel.com/blogs/
&gt; http://www.welldesignedurls.org
&gt; http://atlanta-web.org
&gt;
&gt; [1] http://simplewebservices.org/index.php?title=Domain_Service_Discovery
&gt; [2] http://tech.groups.yahoo.com/group/rest-discuss/message/10211
&gt;
&gt;



-- 
-- Assaf

http://labnotes.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10281<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-01-19 06:37:43<br>
Subject:Re: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>On Jan 18, 2008 10:02 PM, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt; Assaf Arkin wrote:
&gt; &gt; &gt; Oh, I agree.  But I'm instead talking about "standardizing" a meta
&gt; &gt; &gt; approach; IOW a method for traversing web services that 5
&gt; &gt; years from
&gt; &gt; &gt; now could be built into browsers because it gained
&gt; &gt; widespread usage.
&gt; &gt; &gt; I'd like to see a well-known way to publish that they are
&gt; &gt; "n" number
&gt; &gt; &gt; of services available, here are their local identifiers, their
&gt; &gt; &gt; URLs/URI Templates, and here are the content types they
&gt; &gt; return.  Local
&gt; &gt; &gt; identifiers might be things like "shopping-cart",
&gt; &gt; "add-item", "empty-cart", and so on.
&gt; &gt;
&gt; &gt; Isn't that the responsibility of HTML?
&gt;
&gt; Uh, it can be. But riddle me this; given an abitrary HTML document, how does
&gt; my client figure out what URL is the "add-item" URL?  Or the "empty-cart"
&gt; URL?  Or, or, or...?

And do what with it?  If your client is able to add an item to an
Amazon shopping cart, that's because it's designed around the Amazon
shopping cart semantics, part of what it knows is how to find the
add-item URL, maybe by CSS selecting it from HTML, running XPath
against XML, navigating the object tree in JSON, etc.  If the client
is me, I just read the English that shows up on the HTML page.

&gt; HTML (or JSON, or Atom, or, or, or...) are necessary, but not sufficient.

I agree, I just don't see that as a browser problem.


&gt; &gt; Things that work _also_ for the enterprise, like PHP or
&gt; &gt; MySQL, tend to be very cheap.  Things that work _only_ for
&gt; &gt; the enterprise, like J2EE and Oracle, tend to be more
&gt; &gt; expensive.
&gt;
&gt; Funny you say that, I've never done any J2EE or Oracle work, ever.
&gt; Everything I've worked has been lightweight, scripting, and dynamic
&gt; languages and I drive towards simple, not complex.  Matter of fact, I just
&gt; gave a presentation on debugging PHP and MySQL at the Atlanta Drupal users
&gt; group last Tuesday[1], and I've been programming exclusively PHP and MySQL
&gt; for the past six months, experimented with Python+Sqlite, Ruby on Rails, and
&gt; Powershell for the year prior, and mostly ASP+VBScript+SQL Server for the
&gt; 10+ years to that. So your assumptions about what I'm advocating are off.
&gt; :-)

I wasn't making a person statement on you, and apologize that it came
across that way.

I'm making an observation that if you take something like Oracle
that's designed for the enterprise, it ends up being used only in the
enterprise.  If you take something like MySQL that's designed to be
used everywhere, it ends up being used everywhere including the
enterprise.  It's not so much inside vs outside, as some people thing,
but rather walled vs everywhere.

Wearing my enterprise hat, I would strongly favor everywhere
technology even for use inside the enterprise, and one of the reasons
I'm not particularly big on WS-* these days is because WS-* is walled
technology.

&gt; &gt; What we did is say, the semantics of your task list is that
&gt; &gt; tasks have certain required and optional values, and certain
&gt; &gt; state transitions, and preconditions and such, and certain
&gt; &gt; related resources, and also they're directly accessible from
&gt; &gt; your user id.  The semantics of attachments is that they have
&gt; &gt; certain required and optional values, and certain state
&gt; &gt; transitions, and so forth, but can exist anywhere in the
&gt; &gt; cloud and can only be reached from a task.
&gt;
&gt; With those paragraphs, you've lost me.  I mean I can understand at a high
&gt; level but I doubt I'd end up with the same implementation you'd mean.  So
&gt; that I can understand what you are saying I think what I'd need to see are
&gt; specifics i.e. URLs, URI Templates, and any the representations of content
&gt; types that provide navigation.

1. Let's say the URL template for a collection of pending tasks resources is:

{base}/person/{name}/pending

There's a few content type descriptions, the XML one will say (abbreviated):

&lt;tasks&gt;
  &lt;task&gt;
    . . .
    &lt;attachments&gt; ... &lt;/attachments&gt;
  &lt;/task&gt;*
&lt;/tasks&gt;

So now you have an entry point that, given an account name, let's you
find all the pending tasks for that person, which returns a list of
tasks.

2.  Separately it specifies a collection of resources dealing with
attachments, which doesn't have a URL template, but has a content type
description, again briefly:

&lt;attachments&gt;
  &lt;attachment&gt;
     ...
     &lt;url&gt; ... &lt;/url&gt;
  &lt;/attchment&gt;
&lt;/attachments&gt;

And specifies that the attachment element up above (in #1) is a URL to
a resource from that collection, so you know that navigating there
will get you the list of attachments for a given task.

3.  Separately it specifies a collection of resources for attachments
themselves, and specifies that the url element above (in #2) is a URL
to a resource from that collection.

So now you can write a client that given a name can download all the
attachments for that person's pending tasks.

Assaf

&gt;
&gt; --
&gt; -Mike Schinkel
&gt; http://www.mikeschinkel.com/blogs/
&gt; http://www.welldesignedurls.org
&gt; http://atlanta-web.org
&gt;
&gt; [1] http://drupal.meetup.com/4/calendar/6779397/
&gt;
&gt;



-- 
-- Assaf

http://labnotes.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10282<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-19 09:34:40<br>
Subject:RE: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>&gt; &gt; &gt; Those are the things we need to decide on first, before 
&gt; we even get 
&gt; &gt; &gt; to create an abstract model.
&gt; &gt;
&gt; &gt; So rather than use an analogy, what specific things do you think we 
&gt; &gt; need to decide on first related to RESTful web services?
&gt; 
&gt; So far I mapped out the following:
&gt; 
&gt; 1.  Describe a collection of resources (one or more).
&gt; 
&gt; 2.  Describe which headers are used with that collection.  
&gt; I'm following HTTP 1.1, so no need to describe the headers 
&gt; themselves, but you may want to know where I'm allowing 
&gt; conditional GET and PUT, for example.
&gt; 
&gt; 3.  Describe which content types are supported by that collection.
&gt; And that should allow you to go all the way into structure 
&gt; and semantics of the various content types.
&gt; 
&gt; 4.  Describe which status codes are returned and what they 
&gt; mean, for cases that are more specific than the HTTP spec.
&gt; 
&gt; 5.  URL templates for entry points (mapped to #1), optionally 
&gt; separate from the base path.
&gt; 
&gt; 6.  URL selection from content types (mapped to #1).
&gt; 
&gt; 7.  Authentication mechanism.

So how you would represent those, in an object model, and can you provide an
example so we are not dealing in abstracts?

&gt; That depends on which abstract model happens first.  If it's 
&gt; the one I like, I'm going to side with you that there's no 
&gt; clear need to have more than one.  If it's the one I don't 
&gt; like, I'm going to have a laundry list of precise features 
&gt; I'm missing to justify a different one.  And, I do reserve to 
&gt; change my opinion over time, and in the words of the other 
&gt; camp, "see the light" :-)


Well, unless we have some vested interests in doing something less than
optimal, which I don't, let's assume we'll work toward an optimal solution.
:-)

&gt; Those deal with discovery, that's an important problem to 
&gt; solve, but understand that until I have something to 
&gt; discover, I don't have a discovery problem.

Fine, but once you have something to discover you do have that problem so
let's work towards both.

Assaf Arkin wrote:
&gt; &gt; &gt; &gt; Oh, I agree.  But I'm instead talking about 
&gt; "standardizing" a meta 
&gt; &gt; &gt; &gt; approach; IOW a method for traversing web services that 5
&gt; &gt; &gt; years from
&gt; &gt; &gt; &gt; now could be built into browsers because it gained
&gt; &gt; &gt; widespread usage.
&gt; &gt; &gt; &gt; I'd like to see a well-known way to publish that they are
&gt; &gt; &gt; "n" number
&gt; &gt; &gt; &gt; of services available, here are their local identifiers, their 
&gt; &gt; &gt; &gt; URLs/URI Templates, and here are the content types they
&gt; &gt; &gt; return.  Local
&gt; &gt; &gt; &gt; identifiers might be things like "shopping-cart",
&gt; &gt; &gt; "add-item", "empty-cart", and so on.
&gt; &gt; &gt;
&gt; &gt; &gt; Isn't that the responsibility of HTML?
&gt; &gt;
&gt; &gt; Uh, it can be. But riddle me this; given an abitrary HTML document, 
&gt; &gt; how does my client figure out what URL is the "add-item" 
&gt; URL?  Or the "empty-cart"
&gt; &gt; URL?  Or, or, or...?
&gt; 
&gt; And do what with it?  If your client is able to add an item 
&gt; to an Amazon shopping cart, that's because it's designed 
&gt; around the Amazon shopping cart semantics, part of what it 
&gt; knows is how to find the add-item URL, maybe by CSS selecting 
&gt; it from HTML, running XPath against XML, navigating the 
&gt; object tree in JSON, etc.  

As some point you actually do have to start talking about concrete
implementations and not always discussing it in the abstract.  You can't
navigate the object tree in JSON unless you know what properties will
identifies what each URL is for, etc.

There's two approaches here; we can let everyone design their services from
scratch each time, such as you suggest with the hypothetical Amazon shopping
cart or we can extract out the commonalities such as coming up with a common
way to detemine the URL, content-type, status code, etc. needs to implement
the Amazon shopping cart. To me the latter is far more pragmatic because
you'll have to do it anyway for the former; why reinvent the wheel each
time?

&gt; &gt; HTML (or JSON, or Atom, or, or, or...) are necessary, but 
&gt; not sufficient.
&gt; 
&gt; I agree, I just don't see that as a browser problem.

I never said it was a browser "problem", but a browser could make it more
accessible and I see that as desirable.

&gt; I wasn't making a person statement on you, and apologize that 
&gt; it came across that way.

Accepted.

&gt; I'm making an observation that if you take something like 
&gt; Oracle that's designed for the enterprise, it ends up being 
&gt; used only in the enterprise.  If you take something like 
&gt; MySQL that's designed to be used everywhere, it ends up being 
&gt; used everywhere including the enterprise.  It's not so much 
&gt; inside vs outside, as some people thing, but rather walled vs 
&gt; everywhere.
&gt; 
&gt; Wearing my enterprise hat, I would strongly favor everywhere 
&gt; technology even for use inside the enterprise, and one of the 
&gt; reasons I'm not particularly big on WS-* these days is 
&gt; because WS-* is walled technology.

I agree completely.

&gt; 1. Let's say the URL template for a collection of pending 
&gt; tasks resources is:
&gt; 
&gt; {base}/person/{name}/pending
&gt; 
&gt; There's a few content type descriptions, the XML one will say 
&gt; (abbreviated):
&gt; 
&gt; &lt;tasks&gt;
&gt;   &lt;task&gt;
&gt;     . . .
&gt;     &lt;attachments&gt; ... &lt;/attachments&gt;
&gt;   &lt;/task&gt;*
&gt; &lt;/tasks&gt;
&gt; 
&gt; So now you have an entry point that, given an account name, 
&gt; let's you find all the pending tasks for that person, which 
&gt; returns a list of tasks.

By "content type description" do you mean "mime type" or something else?

And are you saying that for "{base}/person/{name}/pending" the software
would do the substitution on {base} and {name}, and if so, where does it get
that; from another URL?  Or are you envisioning that the URI Template would
simply be documented in a spoken language and the client developer would
translate that into code?  If yes, that is not consistent with HATEOAS as
far as I understand HATEOAS (although it is consistent with what I think is
a reasonable and even preferred approach in many use cases.)  

&gt; 2.  Separately it specifies a collection of resources dealing 
&gt; with attachments, which doesn't have a URL template, but has 
&gt; a content type description, again briefly:
&gt; 
&gt; &lt;attachments&gt;
&gt;   &lt;attachment&gt;
&gt;      ...
&gt;      &lt;url&gt; ... &lt;/url&gt;
&gt;   &lt;/attchment&gt;
&gt; &lt;/attachments&gt;
&gt; 
&gt; And specifies that the attachment element up above (in #1) is 
&gt; a URL to a resource from that collection, so you know that 
&gt; navigating there will get you the list of attachments for a 
&gt; given task.

When you say "Separately it specifies..." what is "it?"   The representation
returned by "{base}/person/{name}/pending", or something else?  If the
former, are you saying the &lt;attachments&gt; element provides the URL for the
attachments media type?  Answer only if you need to correct my
understanding.

&gt; 3.  Separately it specifies a collection of resources for 
&gt; attachments themselves, and specifies that the url element 
&gt; above (in #2) is a URL to a resource from that collection.
&gt; 
&gt; So now you can write a client that given a name can download 
&gt; all the attachments for that person's pending tasks.

Fine.  So why not just use "{base}/person/{name}/pending/{task}/attachments"
to return a list of URLs attached?  

And if the answer no because of HATEOAS, I'm going to question "Does it
really make a difference whether our client knows the word "attachments" but
that it be in the representation and not in the URL?  Either way the client
will need to know about attachments so the whole requirement to navigate
rather than just call a URL documented as a URI Template seems to me to be a
non-sequiter (except in the case where the client is doing something generic
*and* we have a generic way to handle HATEOAS navigation for well-known use
cases, so as "associated files" like your attachements. This "generic
method" I speak of is actually what I'm suggesting we identify as a Service
Object Model.)

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10283<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-01-19 10:54:07<br>
Subject:Re: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>On Jan 19, 2008 1:34 AM, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt; &gt; &gt; &gt; Those are the things we need to decide on first, before
&gt; &gt; we even get
&gt; &gt; &gt; &gt; to create an abstract model.
&gt; &gt; &gt;
&gt; &gt; &gt; So rather than use an analogy, what specific things do you think we
&gt; &gt; &gt; need to decide on first related to RESTful web services?
&gt; &gt;
&gt; &gt; So far I mapped out the following:
&gt; &gt;
&gt; &gt; 1.  Describe a collection of resources (one or more).
&gt; &gt;
&gt; &gt; 2.  Describe which headers are used with that collection.
&gt; &gt; I'm following HTTP 1.1, so no need to describe the headers
&gt; &gt; themselves, but you may want to know where I'm allowing
&gt; &gt; conditional GET and PUT, for example.
&gt; &gt;
&gt; &gt; 3.  Describe which content types are supported by that collection.
&gt; &gt; And that should allow you to go all the way into structure
&gt; &gt; and semantics of the various content types.
&gt; &gt;
&gt; &gt; 4.  Describe which status codes are returned and what they
&gt; &gt; mean, for cases that are more specific than the HTTP spec.
&gt; &gt;
&gt; &gt; 5.  URL templates for entry points (mapped to #1), optionally
&gt; &gt; separate from the base path.
&gt; &gt;
&gt; &gt; 6.  URL selection from content types (mapped to #1).
&gt; &gt;
&gt; &gt; 7.  Authentication mechanism.
&gt;
&gt; So how you would represent those, in an object model, and can you provide an
&gt; example so we are not dealing in abstracts?

I don't have a representation yet, although that would be a good
project to start on.

&gt; As some point you actually do have to start talking about concrete
&gt; implementations and not always discussing it in the abstract.  You can't
&gt; navigate the object tree in JSON unless you know what properties will
&gt; identifies what each URL is for, etc.
&gt;
&gt; There's two approaches here; we can let everyone design their services from
&gt; scratch each time, such as you suggest with the hypothetical Amazon shopping
&gt; cart or we can extract out the commonalities such as coming up with a common
&gt; way to detemine the URL, content-type, status code, etc. needs to implement
&gt; the Amazon shopping cart. To me the latter is far more pragmatic because
&gt; you'll have to do it anyway for the former; why reinvent the wheel each
&gt; time?

Let me add one more requirement to my list:

8.  Partial definition.

That means I can define some aspects of the service but not all of it,
e.g. the shopping cart interaction alone.   I can say that a resource
has a well define add-item link, but not talk about anything else
appearing in the representation, and have two different services with
widely different semantics except for that common part.

Although, I came to expect that everyone would pretty much go and
define their own stuff, and no two shopping sites will be
intentionally compatible.  It's still a cool way to offer some common
services, e.g. the same ordering stages for both books and MP3, even
though the catalogs work differently.


&gt; &gt; &gt; HTML (or JSON, or Atom, or, or, or...) are necessary, but
&gt; &gt; not sufficient.
&gt; &gt;
&gt; &gt; I agree, I just don't see that as a browser problem.
&gt;
&gt; I never said it was a browser "problem", but a browser could make it more
&gt; accessible and I see that as desirable.

I also see the accessible part as desirable, but my preference right
now is to serve HTML to people and something more concise (XML, JSON)
to programmed clients, on the same resources.  So if you were to walk
from a task to one of its attachment and delete it, you could be
following the same path from a browser and a program, except the
browser view would be much more friendly to you and the JSON view much
easier to code for.

(And you can automate using the HTML view with tools like
WWW:Mechanize, but only because the HTML is semantically rich)


&gt; &gt; 1. Let's say the URL template for a collection of pending
&gt; &gt; tasks resources is:
&gt; &gt;
&gt; &gt; {base}/person/{name}/pending
&gt; &gt;
&gt; &gt; There's a few content type descriptions, the XML one will say
&gt; &gt; (abbreviated):
&gt; &gt;
&gt; &gt; &lt;tasks&gt;
&gt; &gt;   &lt;task&gt;
&gt; &gt;     . . .
&gt; &gt;     &lt;attachments&gt; ... &lt;/attachments&gt;
&gt; &gt;   &lt;/task&gt;*
&gt; &gt; &lt;/tasks&gt;
&gt; &gt;
&gt; &gt; So now you have an entry point that, given an account name,
&gt; &gt; let's you find all the pending tasks for that person, which
&gt; &gt; returns a list of tasks.
&gt;
&gt; By "content type description" do you mean "mime type" or something else?

Telling you it's XML doesn't really help you do anything interesting
with the result, telling it it's a &lt;task&gt; with specific structure and
semantic does.  So right now the description covers the abstract
model, and separately the XML and JSON representation.  It's human
readable, so it's easier to start with the abstract model, which is
basically just a list of fields.


&gt; And are you saying that for "{base}/person/{name}/pending" the software
&gt; would do the substitution on {base} and {name}, and if so, where does it get
&gt; that; from another URL?

Base is absent because the same thing can be deployed in different
URLs, I might be running one on localhost:8080 for development, and a
couple in production at different locations (and so URLs).  Obviously
those will be resolved, you'll know what base is before you decide to
access the service.

Name is the account name, so if you can write a script that takes name
as an argument and grab all that person's tasks.


&gt;  Or are you envisioning that the URI Template would
&gt; simply be documented in a spoken language and the client developer would
&gt; translate that into code?  If yes, that is not consistent with HATEOAS as
&gt; far as I understand HATEOAS (although it is consistent with what I think is
&gt; a reasonable and even preferred approach in many use cases.)

I'm giving you the possibility to translate it into code in the
client.  Also the possibility to translate it into code in another
service that will return a list of all URLs for all known people, in
which case the client can HATEOAS from one resource to another in
bliss, even though behind the scenes we have to components sharing a
URL template.

There's a guarantee that the template is as permanent as any permanent
URL, and that it's composable.


&gt; &gt; 2.  Separately it specifies a collection of resources dealing
&gt; &gt; with attachments, which doesn't have a URL template, but has
&gt; &gt; a content type description, again briefly:
&gt; &gt;
&gt; &gt; &lt;attachments&gt;
&gt; &gt;   &lt;attachment&gt;
&gt; &gt;      ...
&gt; &gt;      &lt;url&gt; ... &lt;/url&gt;
&gt; &gt;   &lt;/attchment&gt;
&gt; &gt; &lt;/attachments&gt;
&gt; &gt;
&gt; &gt; And specifies that the attachment element up above (in #1) is
&gt; &gt; a URL to a resource from that collection, so you know that
&gt; &gt; navigating there will get you the list of attachments for a
&gt; &gt; given task.
&gt;
&gt; When you say "Separately it specifies..." what is "it?"

The specification.  It has several parts broken by functionality, and
those map nicely to different collections of resources.  Attachments,
for examples, are not just for tasks, but tasks reference them.

&gt; &gt; 3.  Separately it specifies a collection of resources for
&gt; &gt; attachments themselves, and specifies that the url element
&gt; &gt; above (in #2) is a URL to a resource from that collection.
&gt; &gt;
&gt; &gt; So now you can write a client that given a name can download
&gt; &gt; all the attachments for that person's pending tasks.
&gt;
&gt; Fine.  So why not just use "{base}/person/{name}/pending/{task}/attachments"
&gt; to return a list of URLs attached?

The scenario I have here is one of getting all the tasks and their
attachments, so you already have the URL to these attachments, from
the same source that provides the task ID, so why go to the pain of
composing that URL?

Separately, I haven't decided on /attachments being an entry point, so
there's no URL template for it.  I mentioned before we need to come up
with practices before the language, that's why.  There are places
where you want to use templates, places you don't, and places like
this ... how would you decide?


&gt; And if the answer no because of HATEOAS, I'm going to question "Does it
&gt; really make a difference whether our client knows the word "attachments" but
&gt; that it be in the representation and not in the URL?  Either way the client
&gt; will need to know about attachments so the whole requirement to navigate
&gt; rather than just call a URL documented as a URI Template seems to me to be a
&gt; non-sequiter (except in the case where the client is doing something generic
&gt; *and* we have a generic way to handle HATEOAS navigation for well-known use
&gt; cases, so as "associated files" like your attachements. This "generic
&gt; method" I speak of is actually what I'm suggesting we identify as a Service
&gt; Object Model.)

Least coupling is a goal, and least coupling is about specifying the
minimum stuff, with preference for that which is least likely to
change.

I'm thinking of it in terms of lines items in my spec.  A URL template
is one line item.  An attachment element is another line item.  I can
have both, I prefer to have none, but I'll settle for one.  So as a
rule of thumb which one should I pick.

These are thoughts, not conclusions:
- I don't have (yet) a use case for accessing attachments directly,
but certainly for accessing them from the task, so maybe link from the
task?
- There's also an HTML representation which will have the link, so
we're already documenting and testing the attachment element in one
representation.
- If you get a URL it points to the resource, if you get an ID it's
useless without the template, so one piece of data vs two?
- I can move the attachments to a different service, some place else,
and that composition would require no change to the client if they
always request the URL?
- But not necessarily if they cache them, or if the new service has
incompatible semantics.
- It's actually slightly easier to write functional code for
traversing links than composing URLs, which may be a sign that it's
the better model?

Assaf

&gt;
&gt; --
&gt;
&gt; -Mike Schinkel
&gt; http://www.mikeschinkel.com/blogs/
&gt; http://www.welldesignedurls.org
&gt; http://atlanta-web.org
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10284<br>
Sender:Elliotte Rusty Harold &lt;elharo@...&gt;<br>
Post Date/Time:2008-01-19 13:56:23<br>
Subject:Re: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>Mike Schinkel wrote:

&gt; I'm with you there, as I said to John in a prior email.  I think the HTML5
&gt; WG came up with a brilliant solution for a similar problem, i.e. that of
&gt; defining HTML5 as an abstract DOM and then defining different serializations
&gt; for it.

I tend to think that's 180 degrees backwards. I do not find object 
models to be interoperable, and I would prefer to define a concrete 
syntax completely separate from the definition of any particular object 
model. Syntax is interoperable and exchangeable. Object models are not.

However if people haven't yet learned that lesson from the DOM, I don't 
know that they ever will.  Sometimes the community sounds like patients 
being treated by bleeding and getting sicker and sicker. Clearly the 
treatment isn't working so the patients demand and the doctor prescribes 
even more bleeding.

DOM didn't fail because it was insufficiently specified. It failed 
because it was a fundamentally bad idea. Cross-platform, cross-language, 
cross-browser object models are the wrong solution to the problem. 
Expanding the spec from 20 pages to 200 won't fix the problem.

-- 
Elliotte Rusty Harold  elharo@...
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10285<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-19 20:13:32<br>
Subject:RE: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>Elliotte Rusty Harold wrote:
&gt; &gt; I'm with you there, as I said to John in a prior email.  I 
&gt; think the 
&gt; &gt; HTML5 WG came up with a brilliant solution for a similar 
&gt; problem, i.e. 
&gt; &gt; that of defining HTML5 as an abstract DOM and then defining 
&gt; different 
&gt; &gt; serializations for it.
&gt; 
&gt; I tend to think that's 180 degrees backwards. I do not find 
&gt; object models to be interoperable, and I would prefer to 
&gt; define a concrete syntax completely separate from the 
&gt; definition of any particular object model. Syntax is 
&gt; interoperable and exchangeable. Object models are not.
&gt; 
&gt; However if people haven't yet learned that lesson from the 
&gt; DOM, I don't know that they ever will.  Sometimes the 
&gt; community sounds like patients being treated by bleeding and 
&gt; getting sicker and sicker. Clearly the treatment isn't 
&gt; working so the patients demand and the doctor prescribes even 
&gt; more bleeding.

When I said DOM I was being convenient, basically because I knew of the
example from HTML5.  Frankly, I don't have an opinion on legitimacy or
illegitimacy of objects models and you didn't give me any reasons other than
opinion to believe they are bad so I will stay on that fence for now.
Without clear and compelling examples of how an object model is bad, as you
say, I'll reserve my judgement.

What I was really advocating was that we first determine an abstract model
that incorporates all things that are needed without the burden of having to
in parallel render it to a syntax. Once we do we render in multiple syntaxes
because rendering in only one syntax limits the appeal and usefullness to
only those for whom have experience with that syntax and to be use only in
the contexts where that syntax is easy to parse.

&gt; DOM didn't fail because it was insufficiently specified. It 
&gt; failed because it was a fundamentally bad idea. 
&gt; Cross-platform, cross-language, cross-browser object models 
&gt; are the wrong solution to the problem. 
&gt; Expanding the spec from 20 pages to 200 won't fix the problem.

It's all well and good that you tell us what you see the problem to be, but
since you don't offer any examples or even solutions, your statements are
impossible to validate and don't offer any value, at least not to me.

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10286<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-19 21:48:45<br>
Subject:RE: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>Assaf Arkin wrote:
&gt; &gt; So how you would represent those, in an object model, and can you 
&gt; &gt; provide an example so we are not dealing in abstracts?
&gt; 
&gt; I don't have a representation yet, although that would be a 
&gt; good project to start on.

So I've decided to map out a deliberately primative starting point in a
psuedo-yaml syntax (psuedo because 1.) I'm not an expert in yaml, and 2.) I
don't want syntax debates to bog down the discussion).  What follow is a
pseudo description language for a set of services which is deliberately not
fully fleshed out as that's the purpose of discussing it on the list:

  default:  
    - content-type: {content-type}
    - authentication: {authentication}
    - base-url: {url}
          
  parameters:
    - {parameter}: 
      - description: {description}
      - data-source: {url|uri-template}
        - content-types: [{content-type1}, ..., {content-typeN}]
      - validation: {uri-template}
        - content-types: [{content-type1}, ..., {content-typeN}]

  services:
    - {service-id}: 
      - description: {description}
      - location: {[relative-]url|[relative-]uri-template}
      - request: 	
        - content-types: [{content-type1}, ..., {content-typeN}]
        - headers: 
          - {header1}:
            - values: [{value1}, ..., {valueN}]
            - description: {description}
          - ...
          - {headerN}:
            - values: [{value1}, ..., {valueN}]
            - description: {description}
      - response: 	
        - content-types: [{content-type1}, ..., {content-typeN}]
        - headers: 
          - {header1}:
            - values: [{value1}, ..., {valueN}]
            - description: {description}
          - ...
          - {headerN}:
            - values: [{value1}, ..., {valueN}]
            - description: {description}
        - status-codes: 
          - {code1}:{description1}
          - ...
          - {codeN}:{descriptionN}

The ultimate purpose of this is to allow service publishers to specify their
services in this manner to 1.) document them and 2.) support both client and
server frameworks.  In both the client and server framework cases I envision
an event-driven model where the framework handles all the boring plumbing
and fires events when use-case specific work needs to be done.  Default
values are defined for all services so they need not be defined individually
for each service, and parameters are define outside of the URI Templates so
that lists of valid data sources can be retrieved and/or validated which of
course will require content types for such use to be identified. 

I envison the result of this exercise could result and "a" way to do RESTful
web services that would make it easier for someone to do it and do it right
w/o having to learn 100% of how to do it correctly on their own.  What I
*don't* envision is that we create the "only" way to do RESTful web
services, and my guess is that we'll specify some limiting constraints that
will result in the approach not being usable in some edge contexts or by
those not willing to accept the limiting contraints.


&gt; Let me add one more requirement to my list:
&gt; 
&gt; 8.  Partial definition.
&gt; 
&gt; That means I can define some aspects of the service but not all of it,
&gt; e.g. the shopping cart interaction alone.   I can say that a resource
&gt; has a well define add-item link, but not talk about anything 
&gt; else appearing in the representation, and have two different 
&gt; services with widely different semantics except for that common part.
&gt; 
&gt; Although, I came to expect that everyone would pretty much go 
&gt; and define their own stuff, and no two shopping sites will be 
&gt; intentionally compatible.  It's still a cool way to offer 
&gt; some common services, e.g. the same ordering stages for both 
&gt; books and MP3, even though the catalogs work differently.

I concur though I would probably think about it as "components" vs.
"partial" but that's just a bias.  What would be very beneficial IMO would
be to start creating reusable components for RESTful web services, and I'm
using the word "components" at a very high level here.

&gt; I also see the accessible part as desirable, but my 
&gt; preference right now is to serve HTML to people and something 
&gt; more concise (XML, JSON) to programmed clients, on the same 
&gt; resources.  So if you were to walk from a task to one of its 
&gt; attachment and delete it, you could be following the same 
&gt; path from a browser and a program, except the browser view 
&gt; would be much more friendly to you and the JSON view much 
&gt; easier to code for.

I assume you are talking about using content negotiation?  Yes, I agree that
it's great to have the same interfaces serving HTML to people and JSON, XML,
etc. to machines. That's much like how BlinkSale API works [1] except not
with conneg. Interestingly they don't use link traversal, or at least don't
require it:

	Resources &amp; URIs
	If you've used Blinksale, the URIs in the Blinksale API will look
familiar. 
	That's because both views of the application use the same URIs. In
REST 
	parlance, URIs are considered identifiers for resources, and each
resource 
	can have several representations-such as the standard HTML view, an 
	XML version, an Atom version, etc. Generally, each type of data has
one 
	collection resource (e.g., http://example.blinksale.com/clients) and
each 
	collection has several member resources (e.g., 
	http://example.blinksale.com/clients/client_id). 

Personally I really dislike conneg because, like a box of chocolates,  given
a URL you never know what someone else you give the link to is gonna get.
What I'm working on currently (called RESTian), which you can actually see
being used (though I probably shouldn't be publishing the domain, oh well)
serves either HTML or JSON depending on the file extension but with plans to
support RSS, RDF, XHTML, Atom, YAML, etc. etc. (Note that my framework maps
extensions to content types so ".json" maps to "application/json" and so
on): 

	http://atvillus.com/services/articles.json
	http://atvillus.com/services/articles.html
	http://atvillus.com/services/articles/37.json
	http://atvillus.com/services/articles/37.html

I'm only working on it as my project needs me to work on it and it is only
about 5% of the project so forward progress on it is slow. For example, I
haven't gotten to putting hyperlinks in place that serve representations
with links to other URLs representing the same content type, i.e. if I GET a
JSON representation then all it's links will be to JSON and if I GET an HTML
representation then all it's links will be to HTML, and so on. 

BTW, it is written in PHP accessing a MySQL database. :-)

&gt; &gt; By "content type description" do you mean "mime type" or 
&gt; something else?
&gt; 
&gt; Telling you it's XML doesn't really help you do anything 
&gt; interesting with the result, telling it it's a &lt;task&gt; with 
&gt; specific structure and semantic does.  So right now the 
&gt; description covers the abstract model, and separately the XML 
&gt; and JSON representation.  It's human readable, so it's easier 
&gt; to start with the abstract model, which is basically just a 
&gt; list of fields.

Well if you are saying that your &lt;task&gt; information is wrapped up in an
"application/xml" content type and that the caller "just has to know" that
its contains a list of tasks with specific structure and semantics than I'll
agree with Joe Gregorio [2] that you really need to find an existing
mime-type that already supports tasks and use it, or define and register a
new mime-type for your task list that fits your needs with a preference
towards reusing a specific task-specific mime-type.  A description just does
not cover it.

&gt; &gt; &gt; 2.  Separately it specifies a collection of resources 
&gt; dealing with 
&gt; &gt; &gt; attachments, which doesn't have a URL template, but has a content 
&gt; &gt; &gt; type description, again briefly:
&gt; &gt; &gt;
&gt; &gt; &gt; &lt;attachments&gt;
&gt; &gt; &gt;   &lt;attachment&gt;
&gt; &gt; &gt;      ...
&gt; &gt; &gt;      &lt;url&gt; ... &lt;/url&gt;
&gt; &gt; &gt;   &lt;/attchment&gt;
&gt; &gt; &gt; &lt;/attachments&gt;
&gt; &gt; &gt;
&gt; &gt; &gt; And specifies that the attachment element up above (in 
&gt; #1) is a URL 
&gt; &gt; &gt; to a resource from that collection, so you know that navigating 
&gt; &gt; &gt; there will get you the list of attachments for a given task.
&gt; &gt;
&gt; &gt; When you say "Separately it specifies..." what is "it?"
&gt; 
&gt; The specification.  It has several parts broken by 
&gt; functionality, and those map nicely to different collections 
&gt; of resources.  Attachments, for examples, are not just for 
&gt; tasks, but tasks reference them.

Your "specification" is an RFC for a mime-type then, right?  ;-)

&gt; &gt; Fine.  So why not just use 
&gt; "{base}/person/{name}/pending/{task}/attachments"
&gt; &gt; to return a list of URLs attached?
&gt; 
&gt; The scenario I have here is one of getting all the tasks and 
&gt; their attachments, so you already have the URL to these 
&gt; attachments, from the same source that provides the task ID, 
&gt; so why go to the pain of composing that URL?

Maybe my client code got the task list days ago (I'm assuming unique and
non-changing {task} ids which you'd scare me if you say they are not.)  Or I
might get that URL from another system that traversed the task list for me.
There are many use-cases for going directly to a task and/or its attachments
so requiring I first get the full list of tasks before I can access a task
seems to me to be an undue burden; it uses bandwidth unneccessarily, it
inhibits performance, and it adds complexity to development.

&gt; Separately, I haven't decided on /attachments being an entry 
&gt; point, so there's no URL template for it.  I mentioned before 
&gt; we need to come up with practices before the language, that's 
&gt; why.  There are places where you want to use templates, 
&gt; places you don't, and places like this ... how would you decide?

My preference, which I think violates HATEOAS in the extreme, is to publish
URI templates for all possible URLs, at least for the path-and-parameters
component of URLs.  But again, that's just my preference.

&gt; Least coupling is a goal, and least coupling is about 
&gt; specifying the minimum stuff, with preference for that which 
&gt; is least likely to change.
&gt;
&gt; I'm thinking of it in terms of lines items in my spec.  A URL 
&gt; template is one line item.  An attachment element is another 
&gt; line item.  I can have both, I prefer to have none, but I'll 
&gt; settle for one.  So as a rule of thumb which one should I pick.

I assert that least coupling is "a" goal, not the "only" goal, and not
always a "good" goal.  

Coupling can be a good thing when it sets forth well-considered constraints.
REST over HTTP is currently "coupled" to "GET", "PUT", "POST", and "DELETE"
and I think we all agree here that that is a good thing. There is more and
more code becoming coupled to the Atom specification and I doubt anyone here
would see that as bad either. So coupling when fundamental and
well-considered can actually be a very good thing.

&gt; These are thoughts, not conclusions:
&gt; - I don't have (yet) a use case for accessing attachments 
&gt; directly, but certainly for accessing them from the task, so 
&gt; maybe link from the task?

I want a list of all attachments, regardless of task, in order to be able to
archive attachments for space management; there's a use-case.  

&gt; - If you get a URL it points to the resource, if you get an 
&gt; ID it's useless without the template, so one piece of data vs two?

I don't follow.

&gt; - I can move the attachments to a different service, some 
&gt; place else, and that composition would require no change to 
&gt; the client if they always request the URL?
&gt; - But not necessarily if they cache them, or if the new 
&gt; service has incompatible semantics.

301 or proxy

&gt; - It's actually slightly easier to write functional code for 
&gt; traversing links than composing URLs, which may be a sign 
&gt; that it's the better model?

Yes, but it is easier for humans to compose URLs than traverse links when
the links don't return HTML as a content type.  And discovery is based on
the senses, not on pre-evaluation of abstract concepts. And as already
discussed, some use-cases (i.e. that &lt;img&gt; tag @src attribute) don't allow
for traversing links.  So there are benefits to both  URL traversing and URL
construction.

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 

[1] http://www.blinksale.com/api
[2] http://bitworking.org/news/193/Do-we-need-WADL


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10287<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-01-20 02:04:02<br>
Subject:Re: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>On Jan 19, 2008 1:48 PM, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt; Personally I really dislike conneg because, like a box of chocolates,  given
&gt; a URL you never know what someone else you give the link to is gonna get.

I like both, and I imagine you'd be able to do something like:

resource 'task'
  url '/tasks/{id}'
  url '/tasks/{id}.{format}'


&gt; Well if you are saying that your &lt;task&gt; information is wrapped up in an
&gt; "application/xml" content type and that the caller "just has to know" that
&gt; its contains a list of tasks with specific structure and semantics than I'll

No.  I'm saying I have caller specifically requesting tasks and
expecting an XML or JSON representation of that task.  If they didn't
know what to do with a task, why would they request it?


&gt; agree with Joe Gregorio [2] that you really need to find an existing
&gt; mime-type that already supports tasks and use it, or define and register a
&gt; new mime-type for your task list that fits your needs with a preference
&gt; towards reusing a specific task-specific mime-type.  A description just does
&gt; not cover it.

Some people suggested you can also return HTML with microformats, or
some other semantic HTML.  That's a possibility and turns out that
handling semantic HTML with CSS selector is not much more complicated
than XPath on XML.  So let's say that's an alternative content type
for some clients.

Would we go and define the application/html+task MIME type?  Is there
a MIME type for blog posts (hAtom)?  What about eBay auctions, and you
can bet people are scraping them left and right?


&gt; &gt; &gt; Fine.  So why not just use
&gt; &gt; "{base}/person/{name}/pending/{task}/attachments"
&gt; &gt; &gt; to return a list of URLs attached?
&gt; &gt;
&gt; &gt; The scenario I have here is one of getting all the tasks and
&gt; &gt; their attachments, so you already have the URL to these
&gt; &gt; attachments, from the same source that provides the task ID,
&gt; &gt; so why go to the pain of composing that URL?
&gt;
&gt; Maybe my client code got the task list days ago (I'm assuming unique and
&gt; non-changing {task} ids which you'd scare me if you say they are not.)  Or I
&gt; might get that URL from another system that traversed the task list for me.
&gt; There are many use-cases for going directly to a task and/or its attachments
&gt; so requiring I first get the full list of tasks before I can access a task
&gt; seems to me to be an undue burden; it uses bandwidth unneccessarily, it
&gt; inhibits performance, and it adds complexity to development.

Each task has a URL specifically so you can go and retrieve it, you
don't have to lookup a URL you already have.

Going from task URL to attachments URL requires one of three things:

1.  Query task to find where the attachments are.
2.  Compose the URL you have using a URL template.
3.  Decompose the URL you have into parameters, recompose them again
into a URL template.

Now, if the resulting URL happens to be {task_url}/attachments, you
can easily do #2.  If it doesn't, you'll have to follow the more
laborious #3.  Attachments is probably not a good specific example to
show why #3 is necessary, so let's talk about task owners.  The URL
for a task owner is not  /tasks/{id}/owner, maybe /people/{owner}, or
maybe some directory server.


&gt; I assert that least coupling is "a" goal, not the "only" goal, and not
&gt; always a "good" goal.
&gt;
&gt; Coupling can be a good thing when it sets forth well-considered constraints.
&gt; REST over HTTP is currently "coupled" to "GET", "PUT", "POST", and "DELETE"
&gt; and I think we all agree here that that is a good thing. There is more and
&gt; more code becoming coupled to the Atom specification and I doubt anyone here
&gt; would see that as bad either. So coupling when fundamental and
&gt; well-considered can actually be a very good thing.

No coupling says the client and server have to be de-coupled except
for cross-cutting generic knowledge, which would cover things like
HTTP, Atom.  Least coupling goes one step further and acknowledges
some coupling is desirables -- besides the cross-cutting stuff -- and
looks for optimal minimum.  I'm only concerned that it be possible to
do least coupling, for any value of least.


&gt; &gt; These are thoughts, not conclusions:
&gt; &gt; - I don't have (yet) a use case for accessing attachments
&gt; &gt; directly, but certainly for accessing them from the task, so
&gt; &gt; maybe link from the task?
&gt;
&gt; I want a list of all attachments, regardless of task, in order to be able to
&gt; archive attachments for space management; there's a use-case.

How would you find all the IDs to fit in the template?  Wouldn't it
just be easier to look up something like /attachments/updated, sorted
by update time, and operate on the returned list?


&gt; &gt; - If you get a URL it points to the resource, if you get an
&gt; &gt; ID it's useless without the template, so one piece of data vs two?
&gt;
&gt; I don't follow.

If you have a URL, you can always resolve it to that task.  If you
have an ID, you can only resolve it to that task if you know where the
task manager is, there may be more than one, so a client that stores
URLs has the added feature that it can operate on more than one.

&gt; &gt; - I can move the attachments to a different service, some
&gt; &gt; place else, and that composition would require no change to
&gt; &gt; the client if they always request the URL?
&gt; &gt; - But not necessarily if they cache them, or if the new
&gt; &gt; service has incompatible semantics.
&gt;
&gt; 301 or proxy

Proxy is absolutely out of the question, rewriting rules are very
hard.  My URL template may be something like:
  /tasks/{task_id}/attachments/{attach_id}
The content management may decide to store them as:
  /content/{uuid}

I just find it easier to write a generic client that works with either
one by following URLs, so a URL is definitely going to be present.

&gt; &gt; - It's actually slightly easier to write functional code for
&gt; &gt; traversing links than composing URLs, which may be a sign
&gt; &gt; that it's the better model?
&gt;
&gt; Yes, but it is easier for humans to compose URLs than traverse links when
&gt; the links don't return HTML as a content type.

1.  curl URL that returns JSON
2.  find the item you want to follow, double click the URL, Ctrl-C
3.  curl + Ctrl-V


Assaf

&gt;
&gt; --
&gt; -Mike Schinkel
&gt; http://www.mikeschinkel.com/blogs/
&gt; http://www.welldesignedurls.org
&gt; http://atlanta-web.org
&gt;
&gt; [1] http://www.blinksale.com/api
&gt; [2] http://bitworking.org/news/193/Do-we-need-WADL
&gt;
&gt;



-- 
-- Assaf

http://labnotes.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10288<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-20 04:35:09<br>
Subject:RE: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>Assaf Arkin wrote:
&gt; &gt; Personally I really dislike conneg because, like a box of 
&gt; &gt; chocolates,  given a URL you never know what someone 
&gt; &gt; else you give the link to is gonna get.
&gt; 
&gt; I like both, and I imagine you'd be able to do something like:
&gt; 
&gt; resource 'task'
&gt;   url '/tasks/{id}'
&gt;   url '/tasks/{id}.{format}'

Well, even though I don't like conneg I recognize others do so wouldn't
argue against incorporating conneg in a general purpose web service model.
:)

Just to be clear, I do see cases where conneg is useful but in most cases
I'd like to see it 302 redirected to an explicit URL that doesn't use
conneg.

&gt; &gt; Well if you are saying that your &lt;task&gt; information is 
&gt; wrapped up in 
&gt; &gt; an "application/xml" content type and that the caller "just has to 
&gt; &gt; know" that its contains a list of tasks with specific structure and 
&gt; &gt; semantics than I'll
&gt; 
&gt; No.  I'm saying I have caller specifically requesting tasks 
&gt; and expecting an XML or JSON representation of that task.  If 
&gt; they didn't know what to do with a task, why would they request it?

You are going to wrong direction. :-) I'm saying they should not only know
what to do with tasks, they should expect a task-specific mime-type too.

&gt; &gt; agree with Joe Gregorio [2] that you really need to find an 
&gt; &gt; existing mime-type that already supports tasks and use it, 
&gt; &gt; or define and register a new mime-type for your task list 
&gt; &gt; that fits your needs with a preference towards reusing a 
&gt; &gt; specific task-specific mime-type.  A description just does 
&gt; &gt; not cover it.
&gt; 
&gt; Some people suggested you can also return HTML with 
&gt; microformats, or some other semantic HTML.  That's a 
&gt; possibility and turns out that handling semantic HTML with 
&gt; CSS selector is not much more complicated than XPath on XML.  
&gt; So let's say that's an alternative content type for some clients.
&gt; 
&gt; Would we go and define the application/html+task MIME type?  
&gt; Is there a MIME type for blog posts (hAtom)?  What about eBay 
&gt; auctions, and you can bet people are scraping them left and right?

You ask good rhetorical questions. In reality I think that we should in fact
have an "application/html+task" MIME type, but ideally it would be
"text/html/task" where all software that could process "text/html" would
still process it as such, but sofware that understands "text/html/task"
could know to handle it specially. But we know that handling of MIME types
doesn't work that way, so unfortunately that wouldn't work, now will it?
Another approach would be to add a "Content-subtype" header to that could be
used to identify subtypes, but then we've split type into two values instead
of just one and that's not so good (although it could be a stop-gap approach
assuming we ammend the relevent mime-type specs to say that Content-type can
have any level of subtypes and use that when both client and server
understand and use a Content-subtype when they don't.

So what I'm seeing is a need to be able to have a content type seen as both
a general type "text/html" and as a more specific type "text/html/task" just
as an object-oriented language that supports inheritance can interact with
an object as it is was an instance of the base class and as an instance of
the inherited class. I think with Atom this would be especially useful
because Atom really is a great example of a generic abstract mime-type from
which specialized mime-types could be created but for which it would be
great of software that understand Atom could still process as Atom.  

But I general I don't have a perfect solution yet.  Suggestions?

&gt; &gt; &gt; &gt; Fine.  So why not just use
&gt; &gt; &gt; "{base}/person/{name}/pending/{task}/attachments"
&gt; &gt; &gt; &gt; to return a list of URLs attached?
&gt; &gt; &gt;
&gt; &gt; &gt; The scenario I have here is one of getting all the tasks 
&gt; and their 
&gt; &gt; &gt; attachments, so you already have the URL to these 
&gt; attachments, from 
&gt; &gt; &gt; the same source that provides the task ID, so why go to 
&gt; the pain of 
&gt; &gt; &gt; composing that URL?
&gt; &gt;
&gt; &gt; Maybe my client code got the task list days ago (I'm 
&gt; assuming unique 
&gt; &gt; and non-changing {task} ids which you'd scare me if you say 
&gt; they are 
&gt; &gt; not.)  Or I might get that URL from another system that 
&gt; traversed the task list for me.
&gt; &gt; There are many use-cases for going directly to a task and/or its 
&gt; &gt; attachments so requiring I first get the full list of tasks 
&gt; before I 
&gt; &gt; can access a task seems to me to be an undue burden; it 
&gt; uses bandwidth 
&gt; &gt; unneccessarily, it inhibits performance, and it adds 
&gt; complexity to development.
&gt; 
&gt; Each task has a URL specifically so you can go and retrieve 
&gt; it, you don't have to lookup a URL you already have.
&gt; 
&gt; Going from task URL to attachments URL requires one of three things:
&gt; 
&gt; 1.  Query task to find where the attachments are.
&gt; 2.  Compose the URL you have using a URL template.
&gt; 3.  Decompose the URL you have into parameters, recompose 
&gt; them again into a URL template.
&gt; 
&gt; Now, if the resulting URL happens to be 
&gt; {task_url}/attachments, you can easily do #2.  If it doesn't, 
&gt; you'll have to follow the more laborious #3.  Attachments is 
&gt; probably not a good specific example to show why #3 is 
&gt; necessary, so let's talk about task owners.  The URL for a 
&gt; task owner is not  /tasks/{id}/owner, maybe /people/{owner}, 
&gt; or maybe some directory server.

Good example.

&gt; &gt; I assert that least coupling is "a" goal, not the "only" 
&gt; goal, and not 
&gt; &gt; always a "good" goal.
&gt; &gt;
&gt; &gt; Coupling can be a good thing when it sets forth 
&gt; well-considered constraints.
&gt; &gt; REST over HTTP is currently "coupled" to "GET", "PUT", 
&gt; "POST", and "DELETE"
&gt; &gt; and I think we all agree here that that is a good thing. 
&gt; There is more 
&gt; &gt; and more code becoming coupled to the Atom specification 
&gt; and I doubt 
&gt; &gt; anyone here would see that as bad either. So coupling when 
&gt; fundamental 
&gt; &gt; and well-considered can actually be a very good thing.
&gt; 
&gt; No coupling says the client and server have to be de-coupled 
&gt; except for cross-cutting generic knowledge, which would cover 
&gt; things like HTTP, Atom.  Least coupling goes one step further 
&gt; and acknowledges some coupling is desirables -- besides the 
&gt; cross-cutting stuff -- and looks for optimal minimum.  I'm 
&gt; only concerned that it be possible to do least coupling, for 
&gt; any value of least.

I'm concerned that if it isn't spelled out people look at the goal of "least
coupling" to mean "minimize coupling at ALL costs."  Enough said.

&gt; &gt; &gt; These are thoughts, not conclusions:
&gt; &gt; &gt; - I don't have (yet) a use case for accessing attachments 
&gt; directly, 
&gt; &gt; &gt; but certainly for accessing them from the task, so maybe 
&gt; link from 
&gt; &gt; &gt; the task?
&gt; &gt;
&gt; &gt; I want a list of all attachments, regardless of task, in 
&gt; order to be 
&gt; &gt; able to archive attachments for space management; there's a 
&gt; use-case.
&gt; 
&gt; How would you find all the IDs to fit in the template?  

I call the "{base}/attachments" and get them. So as I say that, yes it is
link traversal but coming from another location.  But (IMO) I shouldn't have
to first GET the "{base}" URL to find the "{base}/attachments" URL in its
representation; I should just be able to know the URI Template from the docs
and GET the attachments URL directly.

&gt; Wouldn't it just be easier to look up something like 
&gt; /attachments/updated, sorted by update time, and operate on 
&gt; the returned list?

Point taken. We are coming to the same conclusions.  That's what good debate
results in. :)

&gt; &gt; 301 or proxy
&gt; 
&gt; Proxy is absolutely out of the question

In all cases?  Why?  

&gt; rewriting rules are very hard.  My URL template may 
&gt; be something like:
&gt;   /tasks/{task_id}/attachments/{attach_id}
&gt; The content management may decide to store them as:
&gt;   /content/{uuid}

	REQUEST
	GET /tasks/{task_id}/attachments/{attach_id}

	RESPONSE
	301 - Moved Permanently
	Location: {other}/content/{uuid}

&gt; I just find it easier to write a generic client that works 
&gt; with either one by following URLs, so a URL is definitely 
&gt; going to be present.

You may find it easier on you the service publisher, but I'm more concerned
with it being easier for the service client author.  There's one service
publisher but an infinite number of potential service client authors. The
economics are better to put the burden on the service publisher instead of
on all the service clients, IMO.

&gt; 
&gt; &gt; &gt; - It's actually slightly easier to write functional code for 
&gt; &gt; &gt; traversing links than composing URLs, which may be a sign 
&gt; that it's 
&gt; &gt; &gt; the better model?
&gt; &gt;
&gt; &gt; Yes, but it is easier for humans to compose URLs than 
&gt; traverse links 
&gt; &gt; when the links don't return HTML as a content type.
&gt; 
&gt; 1.  curl URL that returns JSON
&gt; 2.  find the item you want to follow, double click the URL, 
&gt; Ctrl-C 3.  curl + Ctrl-V

That works for a professional developer but not for an "accidental"
programmer.  Frankly, I don't even have CURL on my system (does it even
exist for Windows?) and until I found Fiddler for IE dealing with that kind
of stuff was even hard for me and around here I am consider *the* technical
guru, at least among some of my peers [1].  

And maybe those peers are the ones I should tell you about. They are "web
entrepreneurs" where probably 60-70% want to offer something on the web but
are not technical and don't have funding to hire others to do it so they
need to learn how to do it themselves. It's that type of person I want to
empower (and not as a vested interest; I genuinely want to empower them to
create great new web properties for purely altruistic reasons.)  And it's
most of those people (the 60-70%) who simply won't ever be able to
accomplish anything with REST if it is not as brain-dead simple as possible.

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 

[1] http://web.meetup.com/32/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10289<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-01-20 08:56:36<br>
Subject:Re: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>On Jan 19, 2008 8:35 PM, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt; &gt; &gt; agree with Joe Gregorio [2] that you really need to find an
&gt; &gt; &gt; existing mime-type that already supports tasks and use it,
&gt; &gt; &gt; or define and register a new mime-type for your task list
&gt; &gt; &gt; that fits your needs with a preference towards reusing a
&gt; &gt; &gt; specific task-specific mime-type.  A description just does
&gt; &gt; &gt; not cover it.
&gt; &gt;
&gt; &gt; Some people suggested you can also return HTML with
&gt; &gt; microformats, or some other semantic HTML.  That's a
&gt; &gt; possibility and turns out that handling semantic HTML with
&gt; &gt; CSS selector is not much more complicated than XPath on XML.
&gt; &gt; So let's say that's an alternative content type for some clients.
&gt; &gt;
&gt; &gt; Would we go and define the application/html+task MIME type?
&gt; &gt; Is there a MIME type for blog posts (hAtom)?  What about eBay
&gt; &gt; auctions, and you can bet people are scraping them left and right?
&gt;
&gt; You ask good rhetorical questions. In reality I think that we should in fact
&gt; have an "application/html+task" MIME type, but ideally it would be
&gt; "text/html/task" where all software that could process "text/html" would
&gt; still process it as such, but sofware that understands "text/html/task"
&gt; could know to handle it specially. But we know that handling of MIME types
&gt; doesn't work that way, so unfortunately that wouldn't work, now will it?
&gt; Another approach would be to add a "Content-subtype" header to that could be
&gt; used to identify subtypes, but then we've split type into two values instead
&gt; of just one and that's not so good (although it could be a stop-gap approach
&gt; assuming we ammend the relevent mime-type specs to say that Content-type can
&gt; have any level of subtypes and use that when both client and server
&gt; understand and use a Content-subtype when they don't.
&gt;
&gt; So what I'm seeing is a need to be able to have a content type seen as both
&gt; a general type "text/html" and as a more specific type "text/html/task" just
&gt; as an object-oriented language that supports inheritance can interact with
&gt; an object as it is was an instance of the base class and as an instance of
&gt; the inherited class. I think with Atom this would be especially useful
&gt; because Atom really is a great example of a generic abstract mime-type from
&gt; which specialized mime-types could be created but for which it would be
&gt; great of software that understand Atom could still process as Atom.

If I also decided to deliver a feed of recently completed tasks using
Atom, would that be text/xml/atom, or text/xml/atom/xml/tasks?

&gt; But I general I don't have a perfect solution yet.  Suggestions?

What's the problem it''s trying to solve?

Joe points to OpenSearch, which is a generic horizontal content type,
and like Atom and iCal deserves to have a MIME type.  I'm putting this
out as an example, hopefully a good use case, for a variety of
services you're going to have, each with their own specific semantics
and multiple content types.  I just don't see thousands of MIME types
as being a good approach for that, I don't see what it adds.

&gt; I'm concerned that if it isn't spelled out people look at the goal of "least
&gt; coupling" to mean "minimize coupling at ALL costs."  Enough said.

I agree, but don't have a better name for it.  I'm really looking for
something to capture optimal minimum, and cover all the coupling
possibilities.


&gt; &gt; &gt; &gt; These are thoughts, not conclusions:
&gt; &gt; &gt; &gt; - I don't have (yet) a use case for accessing attachments
&gt; &gt; directly,
&gt; &gt; &gt; &gt; but certainly for accessing them from the task, so maybe
&gt; &gt; link from
&gt; &gt; &gt; &gt; the task?
&gt; &gt; &gt;
&gt; &gt; &gt; I want a list of all attachments, regardless of task, in
&gt; &gt; order to be
&gt; &gt; &gt; able to archive attachments for space management; there's a
&gt; &gt; use-case.
&gt; &gt;
&gt; &gt; How would you find all the IDs to fit in the template?
&gt;
&gt; I call the "{base}/attachments" and get them. So as I say that, yes it is
&gt; link traversal but coming from another location.  But (IMO) I shouldn't have
&gt; to first GET the "{base}" URL to find the "{base}/attachments" URL in its
&gt; representation; I should just be able to know the URI Template from the docs
&gt; and GET the attachments URL directly.

/attachments/updated is an entry point, so there's a URL template for
it.  In fact, I don't have a use case for navigating to
/attachments/updated, only for using it in things like batch
processing, so there's no way to navigate to it, you must start from a
URL template.

But still no use case for exposing a URL template for accessing a
specific attachment directly.

&gt;
&gt; &gt; Wouldn't it just be easier to look up something like
&gt; &gt; /attachments/updated, sorted by update time, and operate on
&gt; &gt; the returned list?
&gt;
&gt; Point taken. We are coming to the same conclusions.  That's what good debate
&gt; results in. :)
&gt;
&gt; &gt; &gt; 301 or proxy
&gt; &gt;
&gt; &gt; Proxy is absolutely out of the question
&gt;
&gt; In all cases?  Why?

Proxies are complicated to get right and setup, so I'm not going to
mix a proxy server inside the application when a simpler solution
would do.  And I like that I can just deploy the app without setting
up an existing proxy server, less moving part.

I think the key factor is, if I were to write all the clients myself,
and the service, I would still not use a proxy server in there.  It's
not an overall simplification.  If it solves a problem for someone
else, they can always request to add this feature.

&gt; You may find it easier on you the service publisher, but I'm more concerned
&gt; with it being easier for the service client author.  There's one service
&gt; publisher but an infinite number of potential service client authors. The
&gt; economics are better to put the burden on the service publisher instead of
&gt; on all the service clients, IMO.



&gt;
&gt; &gt;
&gt; &gt; &gt; &gt; - It's actually slightly easier to write functional code for
&gt; &gt; &gt; &gt; traversing links than composing URLs, which may be a sign
&gt; &gt; that it's
&gt; &gt; &gt; &gt; the better model?
&gt; &gt; &gt;
&gt; &gt; &gt; Yes, but it is easier for humans to compose URLs than
&gt; &gt; traverse links
&gt; &gt; &gt; when the links don't return HTML as a content type.
&gt; &gt;
&gt; &gt; 1.  curl URL that returns JSON
&gt; &gt; 2.  find the item you want to follow, double click the URL,
&gt; &gt; Ctrl-C 3.  curl + Ctrl-V
&gt;
&gt; That works for a professional developer but not for an "accidental"
&gt; programmer.  Frankly, I don't even have CURL on my system (does it even
&gt; exist for Windows?) and until I found Fiddler for IE dealing with that kind
&gt; of stuff was even hard for me and around here I am consider *the* technical
&gt; guru, at least among some of my peers [1].

I'm still not seeing accidental programmers using JSON in IE, but
let's say they do, and you get the request, double-click the URL, copy
and paste it into the address bar.  Still easier that copy and pasting
a template, and then copy and pasting an ID into it.

Doing things in the address bar like changing an individual ID or
traversing the path is, IMO, useful and simple and a good idea for
maintaining hierarchy in a lot cases, but not all cases fall into
that.  Again, going from task to owner's profile is easier with a link
than ID.

&gt; And maybe those peers are the ones I should tell you about. They are "web
&gt; entrepreneurs" where probably 60-70% want to offer something on the web but
&gt; are not technical and don't have funding to hire others to do it so they
&gt; need to learn how to do it themselves. It's that type of person I want to
&gt; empower (and not as a vested interest; I genuinely want to empower them to
&gt; create great new web properties for purely altruistic reasons.)  And it's
&gt; most of those people (the 60-70%) who simply won't ever be able to
&gt; accomplish anything with REST if it is not as brain-dead simple as possible.

I'm looking at two factors here.  Use cases, where definitely
brain-dead trumps any conceptual integrity, which is why I think
committing to mallable URL templates is better than forcing
navigation from a single URL on everything.

But also cost or production.  If it's too complex it won't happen, and
simplifying something that doesn't exist is pointless.  Making states
accessible from multiple mallable URLs is some times a burden, and
doing it as a matter of practice is premature optimization.  YAGNI.

If a feature has a cost, it's easier to justify adding it once you
have enough clients as evidence for its need, then adding it up front
possibly not completing the projects and having zero clients not using
the non-existent feature.  The moment we have to bring up things like
rewrites and proxies, there's a cost involved.

Now, it's quite possible that a compelling use case does exist, it may
be the one you suggest, or even one neither of us imagined, and then
it will be added and the implementation will have to deal with it.  My
point was to illustrate a place where templates are a cost and the
benefit is not apparent.  If that's the case as a developer I would
prefer to delay this feature until the benefit becomes apparent.

Assaf

&gt;
&gt; --
&gt; -Mike Schinkel
&gt; http://www.mikeschinkel.com/blogs/
&gt; http://www.welldesignedurls.org
&gt; http://atlanta-web.org
&gt;
&gt; [1] http://web.meetup.com/32/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10290<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-20 14:10:33<br>
Subject:RE: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>Assaf Arkin wrote:
&gt; &gt; You ask good rhetorical questions. In reality I think that 
&gt; we should 
&gt; &gt; in fact have an "application/html+task" MIME type, but ideally it 
&gt; &gt; would be "text/html/task" where all software that could process 
&gt; &gt; "text/html" would still process it as such, but sofware 
&gt; that understands "text/html/task"
&gt; &gt; could know to handle it specially. But we know that 
&gt; handling of MIME 
&gt; &gt; types doesn't work that way, so unfortunately that wouldn't 
&gt; work, now will it?
&gt; &gt; Another approach would be to add a "Content-subtype" header to that 
&gt; &gt; could be used to identify subtypes, but then we've split 
&gt; type into two 
&gt; &gt; values instead of just one and that's not so good (although 
&gt; it could 
&gt; &gt; be a stop-gap approach assuming we ammend the relevent 
&gt; mime-type specs 
&gt; &gt; to say that Content-type can have any level of subtypes and 
&gt; use that 
&gt; &gt; when both client and server understand and use a 
&gt; Content-subtype when they don't.
&gt; &gt;
&gt; &gt; So what I'm seeing is a need to be able to have a content 
&gt; type seen as 
&gt; &gt; both a general type "text/html" and as a more specific type 
&gt; &gt; "text/html/task" just as an object-oriented language that supports 
&gt; &gt; inheritance can interact with an object as it is was an instance of 
&gt; &gt; the base class and as an instance of the inherited class. I 
&gt; think with 
&gt; &gt; Atom this would be especially useful because Atom really is a great 
&gt; &gt; example of a generic abstract mime-type from which specialized 
&gt; &gt; mime-types could be created but for which it would be great 
&gt; of software that understand Atom could still process as Atom.
&gt; 
&gt; If I also decided to deliver a feed of recently completed 
&gt; tasks using Atom, would that be text/xml/atom, or 
&gt; text/xml/atom/xml/tasks?

Well, if it worked, then it given my concept it would be
application/atom+xml/tasks but of course the spec doesn't specify matching
the just first characters, it matches all characters (at least that's what I
assume it says) so what I'd like to see wouldn't work, at least not without
some changes to the mime spec and a transition plan.

&gt; &gt; But I general I don't have a perfect solution yet.  Suggestions?
&gt; 
&gt; What's the problem it''s trying to solve?

Essentially, to allow subclassing of mime-types.  For example, if I have an
HTML document that follows the HTML 4.01 spec fully and completely but I
then add sematic markup which for web service usage what I have is a
specialization of HTML, but one that ideally should have it's own mime-type.
But if we given it it's own mime-type then clients such as browser will no
longer recognize it as the legitimate HTML 4.01 document that it still is.
Mime-types have not way to subclass, but having a way to do so would be
beneficial.

&gt; Joe points to OpenSearch, which is a generic horizontal 
&gt; content type, and like Atom and iCal deserves to have a MIME 
&gt; type.  I'm putting this out as an example, hopefully a good 
&gt; use case, for a variety of services you're going to have, 
&gt; each with their own specific semantics and multiple content 
&gt; types.  I just don't see thousands of MIME types as being a 
&gt; good approach for that, I don't see what it adds.

I don't see thousands of MIME types being good either.  But what I see as
worse is a people using generic mime for specialized uses types masquerading
as being generic so they can avoid re-using a specialized mime-type or
registering a new mime-type.  That's the problem with software in general;
it's too easy to create some only slightly different implementation so most
programmers create lots of only slightly different implementations rather
than come together to use the same.  Sure the latter does happen, but the
former happens far more often. If having to go through the extra effort of
registering a mime-type, If it can become a recognized best practice to
either re-use existing specialized mime-type or register a new mime-type
then we can demonized those who don't just like the CSS-advocates have
demonized table users and then maybe we can solve this problem.  But for
someone to just use a generic mime-type for a specialized use without
officially recognizing that they are dealing with a specialize use is in
fact rationalizing that they don't want to go to the effort to do it right
and find an existing appropriate mime type or register a new one.

BTW, I find it ironic that Joe advocates for either reusing mime types
and/or registering all new mime-types (which I think is wise) while at the
same time he recommends using Atom for specialized tasks which to me is the
antithesis of what he advocates.

&gt; /attachments/updated is an entry point, so there's a URL 
&gt; template for it.  In fact, I don't have a use case for 
&gt; navigating to /attachments/updated, only for using it in 
&gt; things like batch processing, so there's no way to navigate 
&gt; to it, you must start from a URL template.
&gt; 
&gt; But still no use case for exposing a URL template for 
&gt; accessing a specific attachment directly.

The use case is from within /attachments/updated itself.

&gt; Proxies are complicated to get right and setup, so I'm not 
&gt; going to mix a proxy server inside the application when a 
&gt; simpler solution would do.  And I like that I can just deploy 
&gt; the app without setting up an existing proxy server, less moving part.

By proxy I didn't mean proxy server, I mean proxy within the application. On
a GET to the old URL to a curl to the new URL until the traffic approaches
zero then retire the old URL.

&gt; I'm still not seeing accidental programmers using JSON in IE, 
&gt; but let's say they do, 

Firebug, and jQuery and things like it lower the bar significantly.  

&gt; and you get the request, double-click 
&gt; the URL, copy and paste it into the address bar.  Still 
&gt; easier that copy and pasting a template, and then copy and 
&gt; pasting an ID into it.
&gt; 
&gt; Doing things in the address bar like changing an individual 
&gt; ID or traversing the path is, IMO, useful and simple and a 
&gt; good idea for maintaining hierarchy in a lot cases, but not 
&gt; all cases fall into that. Again, going from task to owner's 
&gt; profile is easier with a link than ID.

I've repeated my point about five times but your responses tell me you still
don't what I've been trying to say so rather than proving I'm insane by
explaining it yet again and expecting a different result, I'm just going to
give up trying to explain it.

&gt; I'm looking at two factors here.  Use cases, where definitely 
&gt; brain-dead trumps any conceptual integrity, which is why I 
&gt; think committing to mallable URL templates is better than 
&gt; forcing navigation from a single URL on everything.

Agreed.

&gt; But also cost or production.  If it's too complex it won't 
&gt; happen, and simplifying something that doesn't exist is 
&gt; pointless.  Making states accessible from multiple mallable 
&gt; URLs is some times a burden, and doing it as a matter of 
&gt; practice is premature optimization.  YAGNI.

Making the leap that it is indeed premature, then yes.

&gt; If a feature has a cost, it's easier to justify adding it 
&gt; once you have enough clients as evidence for its need, then 
&gt; adding it up front possibly not completing the projects and 
&gt; having zero clients not using the non-existent feature.  
&gt; ...
&gt; Now, it's quite possible that a compelling use case does 
&gt; exist, it may be the one you suggest, or even one neither of 
&gt; us imagined, and then it will be added and the implementation 
&gt; will have to deal with it.  My point was to illustrate a 
&gt; place where templates are a cost and the benefit is not 
&gt; apparent.  If that's the case as a developer I would prefer 
&gt; to delay this feature until the benefit becomes apparent.

Features and architectures are two different things.  I've been discussing
architecture, not features, all along.

&gt; The 
&gt; moment we have to bring up things like rewrites and proxies, 
&gt; there's a cost involved.

You don't worry about rewrites and proxies until later when you forced
yourself to change URL paths and parameters, for which IMO most of the time
it's not really necessary anyway.

Anyway, I'm really tired of debating. We've been debating for going on 3-4
days now and we are really just going round-and-round wasting our own time
and other's inbox space.  If you want to do something productive like define
an abstract model and some implementations for services let's do it,
otherwise find something else to do with your time and I'll go off and work
on the abstract model and some implementations on my own and/or with others.
If you feel compelled to counterpoint me yet again, feel free but for
other's sake I'll do my best not to reply if you do.

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 

P.S. You really should fix your blog to work on IE7; as is it won't display
anything but an error.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10291<br>
Sender:"Chuck Hinson" &lt;chuck.hinson@...&gt;<br>
Post Date/Time:2008-01-20 14:26:21<br>
Subject:Re: [rest-discuss] REST and ESB<br>
Message:<br><br>
<pre>I'm not sure what definition you're using for an ESB, but the only two
things in your list where an ESB might be a match are multiple
adapters and monitoring.  Choreography is another aspect that might
suggest an ESB.

About a year ago, we did some research into ESBs - BEA's Aqualogic
ESB, and Progress Software's Sonic - and I have to say that while I
found some of the capabilities interesting or novel, I really couldn't
think of any problems I'd had (or might have) that an ESB would help
me solve.  Interestingly, when we tried to apply them to some problems
we thought they might help with, they came up short and we ended up
having to do stuff the old-fashioned way.

Of course, it may be that we just lacked sufficient imagination.

--Chuck





On Jan 17, 2008 6:27 AM, Antnio Mota &lt;amsmota@...&gt; wrote:
&gt;
&gt;  Can I have some help on this? Basically I have two competing models
&gt;
&gt; REST + isolated services build on Dynamic Languages
&gt;
&gt; REST + ESB
&gt;
&gt; and I have to justify when one or the other are better suited. As I said, I
&gt; have prepared a questionnaire to be answered for each of our conceived
&gt; services, in which the more "yes" answers the more a REST + ESB approach
&gt; should be taken.
&gt;
&gt;
&gt;
&gt;  - Are the processes long running processes ?
&gt;  - Do we need to interact with WS-* protocols ?
&gt;  - Is a Application Description necessary ?
&gt;  - Do we need multiple adapters ?
&gt;  - Do we need Modeling ?
&gt;  - Do we need Monitoring ?
&gt;  - Are there Performance issues, either measured or perceived ?
&gt;  - What the level of Compensation is required ?
&gt;  - Is there any legacy data integration needed ?
&gt;
&gt;
&gt;
&gt; Cheers all.
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; On 16/01/2008, amsmota &lt;amsmota@...&gt; wrote:
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; I have to put up a architecture design to implement some services and
&gt; &gt; we (at my department) already have agreed that it will be based on a
&gt; &gt; REST, meaning we will give access to the services by some public
&gt; &gt; available resources addressed by some URI's.
&gt; &gt;
&gt; &gt; Now the discussion is to use a ESB or do it the "REST + dynamic
&gt; &gt; languages" way. What I come up with was a kind of "questionnaire" to
&gt; &gt; be answered for each service (after we had agreed what are the
&gt; &gt; services exposed) in a manner that most of the answers is yes that is
&gt; &gt; a indication that using a ESB is more suitable for that particular
&gt; &gt; service.
&gt; &gt;
&gt; &gt; Also to note that this is a Java shop, so people are more confortable
&gt; &gt; with it than "dynamic languages" and we are already using Mule but
&gt; &gt; just to receive mails now.
&gt; &gt;
&gt; &gt; The questions I put up are:
&gt; &gt;
&gt; &gt; - Are the processes long running processes ?
&gt; &gt; - Do we need to interact with WS-* protocols ?
&gt; &gt; - Is a Application Description necessary ?
&gt; &gt; - Do we need multiple adapters ?
&gt; &gt; - Do we need Modeling ?
&gt; &gt; - Do we need Monitoring ?
&gt; &gt; - Are there Performance issues, either measured or perceived ?
&gt; &gt; - What the level of Compensation is required ?
&gt; &gt; - Is there any legacy data integration needed ?
&gt; &gt;
&gt; &gt; Are this ok? Is there other ways to access this question?
&gt; &gt;
&gt; &gt; Many thanks.
&gt; &gt;
&gt; &gt;
&gt;
&gt;
&gt;
&gt; --
&gt; Melhores cumprimentos / Beir beannacht / Best regards
&gt; Antnio Santos Mota 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10292<br>
Sender:Stuart Charlton &lt;stuartcharlton@...&gt;<br>
Post Date/Time:2008-01-20 16:10:50<br>
Subject:Re: [rest-discuss] REST and ESB<br>
Message:<br><br>
<pre>For what its worth, here is one version of history:

BEA's ESB arose from field experience with WebLogic Integration 8.1.   WLI was traditionally intended to be a "practical" process programming and workflow engine.  In WLI 7, it was more of a workflow engine, in WLI 8.1 it became more of a dynamic process programming language and data transformation engine.  You could draw a process, throw some transformations in, and if stateless, it would compile down to a stateless session bean and execute very quickly (milliseconds).  or you could do classic stateful "business processes" if you wanted.  

In 2003, this was arguably unheard of: most BPM environments were toys or very human task focused.  Here was something that could improve the productivity and monitoring of system to system interactions..

The most popular application seemed to be building processes to route mostly
stateless messages in a variety of message exchange patterns , transform data ( we made even COBOL copy books XQuery-able), track all activities, and handle exceptions or compensations.  You barely had to write any code:  it was all Xquery, graphical processes, and config.

The Aqualogic product started with the idea of improving WLI's message broker feature.  "what if we could split this out and make a product that specializes in this use?  eliminating all need for java coding?  making it more like a browser based appliance"

Anyway, that's "a folklore version" of what happened from a non-insider (I joined BEA as it was being built), but it fits how i saw WLI being used and how I've seem ALSB used these past 3 years.  it is primarily a config management environment for a couple of dynamic languages , a message queuing and transaction engine (weblogic) and a monitoring framework.

So, to the OP, i would say that :

1. any good ESB should be as productive as a dynamic language (and surrounding tools &amp; frameworks) at making your legacy RESTful.  Otherwise it probably will just be an impediment.  I consider Xquery quite productive, but Ruby or Python also rock.  I know ESBs that understand EBCDIC and zones decimal fields, but not many Ruby libraries.  etc.

2. Beware dependency management and config management.  ie. howbmucj is roll your own, how much is ootb? The dynamic approach may involve a lot of "roll your own", which is ok if you have the skills.  an ESB may have more ootb but that requires training, may be incomplete feature-wise, etc

3. Also, beware that some ESBs may not support HTTP fully.... (ALSB is overdue for some improvements here, thankfully they're going to do something about it, just not sure what point release. likely this year.)

Cheers
Stu

Sent from my iPhone

On Jan 20, 2008, at 9:26 AM, "Chuck Hinson" &lt;chuck.hinson@...&gt; wrote:

I'm not sure what definition you're using for an ESB, but the only two
things in your list where an ESB might be a match are multiple
adapters and monitoring. Choreography is another aspect that might
suggest an ESB.

About a year ago, we did some research into ESBs - BEA's Aqualogic
ESB, and Progress Software's Sonic - and I have to say that while I
found some of the capabilities interesting or novel, I really couldn't
think of any problems I'd had (or might have) that an ESB would help
me solve. Interestingly, when we tried to apply them to some problems
we thought they might help with, they came up short and we ended up
having to do stuff the old-fashioned way.

Of course, it may be that we just lacked sufficient imagination.

--Chuck

On Jan 17, 2008 6:27 AM, Antnio Mota &lt;amsmota@...&gt; wrote:
&gt;
&gt; Can I have some help on this? Basically I have two competing models
&gt;
&gt; REST + isolated services build on Dynamic Languages
&gt;
&gt; REST + ESB
&gt;
&gt; and I have to justify when one or the other are better suited. As I said, I
&gt; have prepared a questionnaire to be answered for each of our conceived
&gt; services, in which the more "yes" answers the more a REST + ESB approach
&gt; should be taken.
&gt;
&gt;
&gt;
&gt; - Are the processes long running processes ?
&gt; - Do we need to interact with WS-* protocols ?
&gt; - Is a Application Description necessary ?
&gt; - Do we need multiple adapters ?
&gt; - Do we need Modeling ?
&gt; - Do we need Monitoring ?
&gt; - Are there Performance issues, either measured or perceived ?
&gt; - What the level of Compensation is required ?
&gt; - Is there any legacy data integration needed ?
&gt;
&gt;
&gt;
&gt; Cheers all.
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; On 16/01/2008, amsmota &lt;amsmota@...&gt; wrote:
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; I have to put up a architecture design to implement some services and
&gt; &gt; we (at my department) already have agreed that it will be based on a
&gt; &gt; REST, meaning we will give access to the services by some public
&gt; &gt; available resources addressed by some URI's.
&gt; &gt;
&gt; &gt; Now the discussion is to use a ESB or do it the "REST + dynamic
&gt; &gt; languages" way. What I come up with was a kind of "questionnaire" to
&gt; &gt; be answered for each service (after we had agreed what are the
&gt; &gt; services exposed) in a manner that most of the answers is yes that is
&gt; &gt; a indication that using a ESB is more suitable for that particular
&gt; &gt; service.
&gt; &gt;
&gt; &gt; Also to note that this is a Java shop, so people are more confortable
&gt; &gt; with it than "dynamic languages" and we are already using Mule but
&gt; &gt; just to receive mails now.
&gt; &gt;
&gt; &gt; The questions I put up are:
&gt; &gt;
&gt; &gt; - Are the processes long running processes ?
&gt; &gt; - Do we need to interact with WS-* protocols ?
&gt; &gt; - Is a Application Description necessary ?
&gt; &gt; - Do we need multiple adapters ?
&gt; &gt; - Do we need Modeling ?
&gt; &gt; - Do we need Monitoring ?
&gt; &gt; - Are there Performance issues, either measured or perceived ?
&gt; &gt; - What the level of Compensation is required ?
&gt; &gt; - Is there any legacy data integration needed ?
&gt; &gt;
&gt; &gt; Are this ok? Is there other ways to access this question?
&gt; &gt;
&gt; &gt; Many thanks.
&gt; &gt;
&gt; &gt;
&gt;
&gt;
&gt;
&gt; --
&gt; Melhores cumprimentos / Beir beannacht / Best regards
&gt; Antnio Santos Mota 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10293<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-01-20 19:29:00<br>
Subject:announce:New REST library for C# available<br>
Message:<br><br>
<pre>I have been working on a HTTP/REST library for C# and have posted an
early version for download and comment.

You can start at http://exyus.com to see some samples and get a
pointer to the source code via google's public svn site. I also
created a google group for those wishing to start threads there (see
the home page for details).

This is an early attempt and I am looking for constructive feedback on
how I can improve the implementation as much as possible.

TIA -

mike amundsen.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10294<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-01-20 22:05:48<br>
Subject:Re: [rest-discuss] REST and ESB<br>
Message:<br><br>
<pre>On Jan 17, 2008 7:14 AM, John Kemp &lt;john@...&gt; wrote:
&gt; Stefan Tilkov wrote:
&gt; &gt; I consider the use of an ESB a questionable idea for a Web services-
&gt; &gt; based SOA. For REST, it seems even less useful.
&gt;
&gt; There are, however, many enterprises which have legacy "things" which
&gt; they want to expose as "services". How are they to integrate them with
&gt; the web - AFAIK most HTTP servers don't come with nice plugins to expose
&gt; (for example) mainframe-based Cobol apps, or massive SQL-based databases
&gt; as web services. Do they have to write completely custom applications to
&gt; do it, or buy an ESB solution, where the amount of custom code (should
&gt; be?) could be minimized?

COBOL and SQL are two interesting examples, because vendors actually
roll out these capabilities into their product, although by the time
they get there, we forget all about that :-)  Did you know that CICS
v3.1 has an HTTP server?

EAI products just get there faster, often do a better job, sometimes
just allowing you to use a more modern development model that's easier
than writing COBOL code or stored procedures, and I heard it's easier
to install an EAI product that upgrade a mainframe.

I count a good architecture as one that allows you to mix dynamic
languages and static languages, EAI, orchestration, and you just pick
the best tool for the job.  And sometimes you find one ESB vendor that
solves all your EAI and orchestration problems, sometimes you want to
get orchestration separately, and sometimes you end up using two ESBs,
because they're so different in capabilities.

But if you're doing SOA, it should be possible to mix all these
services without missing a beat.

If it's necessary to centralize everything inside a single product,
that's a warning sign that you're heading down the path to full
Product Oriented Architecture.  It's a goal, though not my favorite.
A good product, and ESBs are products, should strive to participate in
your architecture, not take over it.

Assaf

&gt;
&gt; Cheers,
&gt;
&gt; - John
&gt;
&gt;
&gt; &gt;
&gt; &gt; AFAICT, not even the ESB vendors claim they support REST.
&gt; &gt; Yet.
&gt; &gt;
&gt; &gt; Stefan
&gt; &gt;
&gt; &gt; On Jan 17, 2008, at 2:50 PM, Antnio Mota wrote:
&gt; &gt;
&gt; &gt;&gt; Well, my question is between
&gt; &gt;&gt;
&gt; &gt;&gt; REST + Dynamic Languages -&gt; no SOA here
&gt; &gt;&gt;
&gt; &gt;&gt;  REST + ESB -&gt; ESB is part of a SOA, but nevertheless the REST part
&gt; &gt;&gt; here is key
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; However I can always try it there too.
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; Cheers.
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; On 17/01/2008, dev &lt;dev.akhawe@...&gt; wrote:
&gt; &gt;&gt; Hey,
&gt; &gt;&gt;
&gt; &gt;&gt; I am not being a spoil sport but won't this be answered better and by
&gt; &gt;&gt; more experienced people (imho) at the service-oriented-architecture
&gt; &gt;&gt; yahoo! group.
&gt; &gt;&gt;
&gt; &gt;&gt; hth
&gt; &gt;&gt;
&gt; &gt;&gt; Regards,
&gt; &gt;&gt; devdatta
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; On Jan 17, 2008 4:57 PM, Antnio Mota &lt;amsmota@...&gt; wrote:
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; Can I have some help on this? Basically I have two competing models
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; REST + isolated services build on Dynamic Languages
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; REST + ESB
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; and I have to justify when one or the other are better suited. As
&gt; &gt;&gt; I said, I
&gt; &gt;&gt;&gt; have prepared a questionnaire to be answered for each of our
&gt; &gt;&gt; conceived
&gt; &gt;&gt;&gt; services, in which the more "yes" answers the more a REST + ESB
&gt; &gt;&gt; approach
&gt; &gt;&gt;&gt; should be taken.
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; - Are the processes long running processes ?
&gt; &gt;&gt;&gt; - Do we need to interact with WS-* protocols ?
&gt; &gt;&gt;&gt; - Is a Application Description necessary ?
&gt; &gt;&gt;&gt; - Do we need multiple adapters ?
&gt; &gt;&gt;&gt; - Do we need Modeling ?
&gt; &gt;&gt;&gt; - Do we need Monitoring ?
&gt; &gt;&gt;&gt; - Are there Performance issues, either measured or perceived ?
&gt; &gt;&gt;&gt; - What the level of Compensation is required ?
&gt; &gt;&gt;&gt; - Is there any legacy data integration needed ?
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; Cheers all.
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; On 16/01/2008, amsmota &lt;amsmota@...&gt; wrote:
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt; I have to put up a architecture design to implement some
&gt; &gt;&gt; services and
&gt; &gt;&gt;&gt;&gt; we (at my department) already have agreed that it will be based
&gt; &gt;&gt; on a
&gt; &gt;&gt;&gt;&gt; REST, meaning we will give access to the services by some public
&gt; &gt;&gt;&gt;&gt; available resources addressed by some URI's.
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt; Now the discussion is to use a ESB or do it the "REST + dynamic
&gt; &gt;&gt;&gt;&gt; languages" way. What I come up with was a kind of
&gt; &gt;&gt; "questionnaire" to
&gt; &gt;&gt;&gt;&gt; be answered for each service (after we had agreed what are the
&gt; &gt;&gt;&gt;&gt; services exposed) in a manner that most of the answers is yes
&gt; &gt;&gt; that is
&gt; &gt;&gt;&gt;&gt; a indication that using a ESB is more suitable for that particular
&gt; &gt;&gt;&gt;&gt; service.
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt; Also to note that this is a Java shop, so people are more
&gt; &gt;&gt; confortable
&gt; &gt;&gt;&gt;&gt; with it than "dynamic languages" and we are already using Mule but
&gt; &gt;&gt;&gt;&gt; just to receive mails now.
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt; The questions I put up are:
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt; - Are the processes long running processes ?
&gt; &gt;&gt;&gt;&gt; - Do we need to interact with WS-* protocols ?
&gt; &gt;&gt;&gt;&gt; - Is a Application Description necessary ?
&gt; &gt;&gt;&gt;&gt; - Do we need multiple adapters ?
&gt; &gt;&gt;&gt;&gt; - Do we need Modeling ?
&gt; &gt;&gt;&gt;&gt; - Do we need Monitoring ?
&gt; &gt;&gt;&gt;&gt; - Are there Performance issues, either measured or perceived ?
&gt; &gt;&gt;&gt;&gt; - What the level of Compensation is required ?
&gt; &gt;&gt;&gt;&gt; - Is there any legacy data integration needed ?
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt; Are this ok? Is there other ways to access this question?
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt; Many thanks.
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; --
&gt; &gt;&gt;&gt; Melhores cumprimentos / Beir beannacht / Best regards
&gt; &gt;&gt;&gt; Antnio Santos Mota
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; --
&gt; &gt;&gt;
&gt; &gt;&gt; Melhores cumprimentos / Beir beannacht / Best regards
&gt; &gt;&gt; Antnio Santos Mota
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; --
&gt; &gt;&gt; Melhores cumprimentos / Beir beannacht / Best regards
&gt; &gt;&gt; Antnio Santos Mota
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; Yahoo! Groups Links
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;



-- 
-- Assaf

http://labnotes.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10295<br>
Sender:Michaeljohn Clement &lt;mj@...&gt;<br>
Post Date/Time:2008-01-21 14:44:27<br>
Subject:Re: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>Elliotte Rusty Harold wrote:
&gt; DOM didn't fail because it was insufficiently specified. It failed 
&gt; because it was a fundamentally bad idea. Cross-platform, cross-language, 
&gt; cross-browser object models are the wrong solution to the problem. 
&gt; Expanding the spec from 20 pages to 200 won't fix the problem.

The DOM failed?  It is interoperably implemented in every major 
browser and a huge part of the Web relies on it.

I'm wondering if what you meant is only that the DOM fell out of 
favor as a server-side API for generating HTML.

If "the problem" includes the need for Web applications, then what 
solution, besides a cross-platform and cross-browser object model, 
would you suggest?

-- 
Michaeljohn Clement

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10296<br>
Sender:"=?ISO-8859-1?Q?Ant=F3nio_Mota?=" &lt;amsmota@...&gt;<br>
Post Date/Time:2008-01-21 16:22:51<br>
Subject:Re: [rest-discuss] Re: Resources and State<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10297<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-01-21 16:35:00<br>
Subject:Re: [rest-discuss] bootstrapping<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10298<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2008-01-22 01:42:52<br>
Subject:Re: [rest-discuss] Resources and State<br>
Message:<br><br>
<pre>On Jan 18, 2008, at 8:56 AM, Antnio Mota wrote:
&gt; Thank for that. So a definition of Application in REST,  (defined  
&gt; enough for me to include in one slide of my presentation), could be  
&gt; something like
&gt;
&gt; An "application" is a group of activities (services?) provided by a  
&gt; set of "resources" that together form the means necessary to  
&gt; achieve a goal" ?
&gt;

You must have made that one up -- it is not even remotely like
the definition I just gave you.

&gt; And "Application state" as
&gt;
&gt; A snapshot of the "data view" after a completed request/response  
&gt; (and before the next request?) ?
&gt;

No.  I do have such a snapshot in the dissertation, but it was
talking about steady-states in REST.  Application state exists
regardless of the style used -- in fact, one of the main goals
of any interaction style is to partition where application state
is kept or shared.  "state" is a well-defined term in I&amp;CS.

http://en.wikipedia.org/wiki/State_%28computer_science%29

Application state would be the state of the application at
some point in time, using the definition of application that
I gave you (which is also referred to in the dissertation).

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10299<br>
Sender:"=?ISO-8859-1?Q?Ant=F3nio_Mota?=" &lt;amsmota@...&gt;<br>
Post Date/Time:2008-01-22 11:44:49<br>
Subject:Fwd: [rest-discuss] Resources and State<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10300<br>
Sender:"=?ISO-8859-1?Q?Ant=F3nio_Mota?=" &lt;amsmota@...&gt;<br>
Post Date/Time:2008-01-22 16:25:26<br>
Subject:REST asynchronous services<br>
Message:<br><br>
<pre>Hi all:

I'm having some hard time trying to understand (and not only
understand but make others understand as well) how we can implement
REST asynchronous services, without using some kind of "push"
technology that I don't know if it's even possible in REST.

I understand that I can use some kind of message-queue or to create a
specific resource after a request and send it's URI in the response,
and in both situations use the queue/resource to take track of the
status of the service.

But how do I make sure that a user-agent is informed about a
failure/success condition after my service implementation reach one of
those states, without a "push" technology?

I appreciate your help.

-- 
Melhores cumprimentos / Beir beannacht / Best regards
Antnio Manuel dos Santos Mota

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10301<br>
Sender:"bertie_wooster_funny" &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-01-22 17:34:09<br>
Subject:Re: REST asynchronous services<br>
Message:<br><br>
<pre>Hey, 

Have you read the Atom Publishing Protocol RFC? There will always be
some issues in an asynchronous model with the sliding window we use in
HTTP, XMPP is a good example of protocol with a slingshot model.

Regards,
Devdatta


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10302<br>
Sender:Peter Keane &lt;pkeane@...&gt;<br>
Post Date/Time:2008-01-22 17:37:37<br>
Subject:Re: [rest-discuss] REST asynchronous services<br>
Message:<br><br>
<pre>

On Tue, 22 Jan 2008, Antnio Mota wrote:

&gt; Hi all:
&gt;
&gt; I'm having some hard time trying to understand (and not only
&gt; understand but make others understand as well) how we can implement
&gt; REST asynchronous services, without using some kind of "push"
&gt; technology that I don't know if it's even possible in REST.
&gt;
&gt; I understand that I can use some kind of message-queue or to create a
&gt; specific resource after a request and send it's URI in the response,
&gt; and in both situations use the queue/resource to take track of the
&gt; status of the service.
&gt;
&gt; But how do I make sure that a user-agent is informed about a
&gt; failure/success condition after my service implementation reach one of
&gt; those states, without a "push" technology?

It's up to the user-agent/client to poll the queue/resource.  The 
suggestion that it is the responsilbilty of the server to make sure a 
particular client is informed of a change is the sort of tight coupling 
that a REST architecture eschews.

--peter keane

&gt;
&gt; I appreciate your help.
&gt;
&gt; --
&gt; Melhores cumprimentos / Beir beannacht / Best regards
&gt; Antnio Manuel dos Santos Mota
&gt;</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10303<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-01-22 18:03:39<br>
Subject:Re: [rest-discuss] REST asynchronous services<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10304<br>
Sender:Peter Keane &lt;pkeane@...&gt;<br>
Post Date/Time:2008-01-22 19:03:44<br>
Subject:Re: [rest-discuss] REST asynchronous services<br>
Message:<br><br>
<pre>

On Tue, 22 Jan 2008, Nick Gall wrote:

&gt;
&gt; Of course, this will not usually work for browser to server interaction
&gt; since lots of things prevent the server from sending an HTTP request to the
&gt; browser.

I've done some experimenting with a Firefox extension called "POW" 
(plain-old webserver) [0], that runs a server within the browser.  It's a 
gem for file uploading:  The browser "posts" a url (saying "here's where I 
have the images), and the server then: Sends a "get" to that url, and 
retrieves a document containing URLs to all of the individual files.  The 
server then simply "gets" each of those files from the urls indicated 
(retrieving them from the browser-acting-as-server).  This the REST 
client-server constraint on its head (P2P rest, as you said), but even Roy 
F. hinted at such a "relaxation" being an interesting approach [1].

--peter keane

[0] https://addons.mozilla.org/en-US/firefox/addon/3002
[1] http://www.us.apachecon.com/us2007/program/talk/2012

&gt;
&gt; You may want to look at
&gt; Comet&lt;http://en.wikipedia.org/wiki/Comet_%28programming%29&gt;(see also
&gt; Comet
&gt; Daily &lt;http://cometdaily.com/&gt;), which provides a variety of ways of
&gt; "relaxing" REST constraints in order to enable server to browser "push".
&gt;
&gt; -- Nick
&gt;
&gt; --
&gt; Nick Gall
&gt; Phone: +1.781.608.5871
&gt; AOL IM: Nicholas Gall
&gt; Yahoo IM: nick_gall_1117
&gt; MSN IM: (same as email)
&gt; Google Talk: (same as email)
&gt; Email: nick.gall AT-SIGN gmail DOT com
&gt; Weblog: http://ironick.typepad.com/ironick/
&gt; Furl: http://www.furl.net/members/ngall
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10305<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-01-22 22:28:10<br>
Subject:Re: [rest-discuss] REST asynchronous services<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10306<br>
Sender:Peter Keane &lt;pkeane@...&gt;<br>
Post Date/Time:2008-01-22 22:46:10<br>
Subject:Re: [rest-discuss] REST asynchronous services<br>
Message:<br><br>
<pre>

On Tue, 22 Jan 2008, Nick Gall wrote:

&gt; On Jan 22, 2008 2:03 PM, Peter Keane &lt;pkeane@...&gt; wrote:
&gt;&gt; I've done some experimenting with a Firefox extension called "POW"
&gt;&gt; (plain-old webserver) [0], that runs a server within the browser.  It's a
&gt;&gt; gem for file uploading:  The browser "posts" a url (saying "here's where I
&gt;&gt; have the images), and the server then: Sends a "get" to that url, and
&gt;&gt; retrieves a document containing URLs to all of the individual files.  The
&gt;&gt; server then simply "gets" each of those files from the urls indicated
&gt;&gt; (retrieving them from the browser-acting-as-server).  This the REST
&gt;&gt; client-server constraint on its head (P2P rest, as you said), but even Roy
&gt;&gt; F. hinted at such a "relaxation" being an interesting approach [1].
&gt;
&gt; Very cool. But how often do corporate firewalls block incoming HTTP/Port 80
&gt; requests to "unofficial" IP addresses? I thought it was quite common; which
&gt; means the technique wouldn't work for the sizable population accessing the
&gt; web from behind corporate firewalls.

I don't know much about how firewalls are typically configured, but one 
nice thing about the POW extension is that you get to decide which port 
it'll run on as part of the configuration, which is fine since you get to 
tell the server-as-client where to make the request.  It would be ideal if 
POW only opened the port for the short period of time necessary and then 
shut down again.

I saw Stefano Mazzocchi give a talk at ApacheCon (2006??) about a project 
at MIT called PiggyBank [0], which also runs a server (Jetty, I believe) 
in the browser. I wonder what sort of issues they have run into re: 
firewalls, etc.  I know that the person behind POW was using it to develop 
a rich, searchable browsing history for the user which is similar, in some 
general way, to the goals of PiggyBank.

[0] http://www.betaversion.org/~stefano/linotype/news/94/
&gt;
&gt; -- Nick
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10307<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-01-22 23:19:44<br>
Subject:Re: [rest-discuss] REST asynchronous services<br>
Message:<br><br>
<pre>On Jan 22, 2008 2:46 PM, Peter Keane &lt;pkeane@...&gt; wrote:
&gt;
&gt;
&gt; On Tue, 22 Jan 2008, Nick Gall wrote:
&gt;
&gt; &gt; On Jan 22, 2008 2:03 PM, Peter Keane &lt;pkeane@...&gt; wrote:
&gt; &gt;&gt; I've done some experimenting with a Firefox extension called "POW"
&gt; &gt;&gt; (plain-old webserver) [0], that runs a server within the browser.  It's a
&gt; &gt;&gt; gem for file uploading:  The browser "posts" a url (saying "here's where I
&gt; &gt;&gt; have the images), and the server then: Sends a "get" to that url, and
&gt; &gt;&gt; retrieves a document containing URLs to all of the individual files.  The
&gt; &gt;&gt; server then simply "gets" each of those files from the urls indicated
&gt; &gt;&gt; (retrieving them from the browser-acting-as-server).  This the REST
&gt; &gt;&gt; client-server constraint on its head (P2P rest, as you said), but even Roy
&gt; &gt;&gt; F. hinted at such a "relaxation" being an interesting approach [1].
&gt; &gt;
&gt; &gt; Very cool. But how often do corporate firewalls block incoming HTTP/Port 80
&gt; &gt; requests to "unofficial" IP addresses? I thought it was quite common; which
&gt; &gt; means the technique wouldn't work for the sizable population accessing the
&gt; &gt; web from behind corporate firewalls.
&gt;
&gt; I don't know much about how firewalls are typically configured, but one
&gt; nice thing about the POW extension is that you get to decide which port
&gt; it'll run on as part of the configuration, which is fine since you get to
&gt; tell the server-as-client where to make the request.  It would be ideal if
&gt; POW only opened the port for the short period of time necessary and then
&gt; shut down again.
&gt;
&gt; I saw Stefano Mazzocchi give a talk at ApacheCon (2006??) about a project
&gt; at MIT called PiggyBank [0], which also runs a server (Jetty, I believe)
&gt; in the browser. I wonder what sort of issues they have run into re:
&gt; firewalls, etc.  I know that the person behind POW was using it to develop
&gt; a rich, searchable browsing history for the user which is similar, in some
&gt; general way, to the goals of PiggyBank.

As far as I can tell, it's only the browser that talks to PiggyBank,
so the only ports open are listening on 127.0.0.1.  No inbound, no
firewall issues.

You have to keep in mind two barriers.  One the firewall itself, and
those are more common than you think, check your operating system,
highly likely that you're running a firewall.  Second, NAT, your
machine is most likely not reachable from the outside world for
opening new connections.

Assaf

&gt;
&gt; [0] http://www.betaversion.org/~stefano/linotype/news/94/
&gt; &gt;
&gt; &gt; -- Nick
&gt; &gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10308<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-23 00:01:36<br>
Subject:RE: [rest-discuss] REST asynchronous services<br>
Message:<br><br>
<pre>Assaf Arkin wrote:
&gt; Second, NAT, your machine is most likely not 
&gt; reachable from the outside world for opening new connections.

What about NAT traversal?  (That is admittedly a nave question as I dont
understand NAT traversal but I know some apps I have used managed to work on
my NAT effectively.)

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 
 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10309<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-23 00:01:36<br>
Subject:RE: [rest-discuss] REST asynchronous services<br>
Message:<br><br>
<pre>Peter Keane wrote:
&gt; Nick Gall wrote:
&gt; &gt; Peter Keane wrote:
&gt; &gt;&gt; I've done some experimenting with a Firefox extension called "POW"
&gt; &gt;&gt; (plain-old webserver) [0], that runs a server within the browser.  
&gt; &gt;&gt; It's a gem for file uploading:  The browser "posts" a url (saying 
&gt; &gt;&gt; "here's where I have the images), and the server then: 
&gt; &gt;&gt; Sends a "get" to that url, and retrieves a document containing 
&gt; &gt;&gt; URLs to all of the individual files.  The server then simply "gets" 
&gt; &gt;&gt; each of those files from the urls indicated (retrieving them from the 
&gt; &gt;&gt; browser-acting-as-server).  This the REST client-server constraint 
&gt; &gt;&gt; on its head (P2P rest, as you said), but even Roy F. hinted 
&gt; &gt;&gt; at such a "relaxation" being an interesting approach [1].
&gt; &gt;
&gt; &gt; Very cool. But how often do corporate firewalls block incoming 
&gt; &gt; HTTP/Port 80 requests to "unofficial" IP addresses? I 
&gt; &gt; thought it was quite common; which means the technique 
&gt; &gt; the sizable wouldn't work for population accessing the web from 
&gt; &gt; behind corporate firewalls.
&gt; 
&gt; I don't know much about how firewalls are typically 
&gt; configured, but one nice thing about the POW extension is 
&gt; that you get to decide which port it'll run on as part of the 
&gt; configuration, which is fine since you get to tell the 
&gt; server-as-client where to make the request.  It would be 
&gt; ideal if POW only opened the port for the short period of 
&gt; time necessary and then shut down again.
&gt; 
&gt; I saw Stefano Mazzocchi give a talk at ApacheCon (2006??) 
&gt; about a project at MIT called PiggyBank [0], which also runs 
&gt; a server (Jetty, I believe) in the browser. I wonder what 
&gt; sort of issues they have run into re: 
&gt; firewalls, etc.  I know that the person behind POW was using 
&gt; it to develop a rich, searchable browsing history for the 
&gt; user which is similar, in some general way, to the goals of PiggyBank.

A web-server-in-a-browser is a very interesting idea and if it were widely
deployed could solve a lot of problem not the least is server load for apps
that have to poll. 

Of course the first thing I thought about when I read the post was the
firewall issue, but as Peter replies a different port could be used.  That
said, this could be a perfect areas for the W3C TAG or a WG to address. If
the W3C were to assign a well-known port for browser-based HTTP servers and
if they could study the problem to define a safe set of functionality that
browsers could implement (a sandbox-so-to-speak) and a standard object that
can be tested in Javascript to determine supporting browsers this could
usher in a whole new set of capabilities.  It could also benefit REST as it
would only make sense for the callbacks to be RESTful.  This could be the
next layer on top of AJAX.

Do the list participants think this idea has merit?

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10310<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-01-23 00:20:44<br>
Subject:Re: [rest-discuss] REST asynchronous services<br>
Message:<br><br>
<pre>On Jan 22, 2008 4:01 PM, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt; Assaf Arkin wrote:
&gt; &gt; Second, NAT, your machine is most likely not
&gt; &gt; reachable from the outside world for opening new connections.
&gt;
&gt; What about NAT traversal?  (That is admittedly a nave question as I don't
&gt; understand NAT traversal but I know some apps I have used managed to work on
&gt; my NAT effectively.)

You can configure an inbound port to route to a particular machine, so
port 9034 on the router can route to port 80 on your machine.  But
that's more setup than most people can stomach, doesn't travel with
you to other networks, and no easy way for the client to tell how to
reach it from the outside.

You can punch a hole by initiating an outbound connection from your
client to another one, which gives the other one an IP/port pair they
can use to open a connection back to your client.  But it means making
low-level calls, not something you can do with client-side JavaScript,
definitely something you can do in a browser extension.

Assaf

&gt;
&gt; --
&gt; -Mike Schinkel
&gt; http://www.mikeschinkel.com/blogs/
&gt; http://www.welldesignedurls.org
&gt; http://atlanta-web.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10311<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-23 00:47:10<br>
Subject:RE: [rest-discuss] REST asynchronous services<br>
Message:<br><br>
<pre>Assaf Arkin wrote:
&gt; You can configure an inbound port to route to a particular 
&gt; machine, so port 9034 on the router can route to port 80 on 
&gt; your machine.  But that's more setup than most people can 
&gt; stomach, doesn't travel with you to other networks, and no 
&gt; easy way for the client to tell how to reach it from the outside.

I'm familiar with that approach, I've actually done it myself.  

&gt; You can punch a hole by initiating an outbound connection 
&gt; from your client to another one, which gives the other one an 
&gt; IP/port pair they can use to open a connection back to your 
&gt; client.  But it means making low-level calls, not something 
&gt; you can do with client-side JavaScript, definitely something 
&gt; you can do in a browser extension.

That's what I was referring to.  I understand why you can't do it with
Javascript but why not with a browser extension?  Does said code have to be
in the kernal?  I wouldn't think so as I've run applications that could do
it; isn't a browser extension just an application?  Or is there a sandbox
I'm not aware of?

-- 
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10312<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-01-23 01:12:03<br>
Subject:Re: [rest-discuss] REST asynchronous services<br>
Message:<br><br>
<pre>On Jan 22, 2008 4:47 PM, Mike Schinkel &lt;mikeschinkel@...&gt; wrote:
&gt; &gt; You can punch a hole by initiating an outbound connection
&gt; &gt; from your client to another one, which gives the other one an
&gt; &gt; IP/port pair they can use to open a connection back to your
&gt; &gt; client.  But it means making low-level calls, not something
&gt; &gt; you can do with client-side JavaScript, definitely something
&gt; &gt; you can do in a browser extension.
&gt;
&gt; That's what I was referring to.  I understand why you can't do it with
&gt; Javascript but why not with a browser extension?  Does said code have to be
&gt; in the kernal?  I wouldn't think so as I've run applications that could do
&gt; it; isn't a browser extension just an application?  Or is there a sandbox
&gt; I'm not aware of?

Browser extension can do anything -- assuming a browser extension is a
viable option (not all browsers, corporate rules, OS dependent, etc)
-- but the hole punching sequence requires some handshake happening on
top of the IP stack, so if you're already going that route, other
compelling options emerge, like pull daemons, two-way connections, P2P
libraries, XMPP, etc.

Assaf

&gt; --
&gt;
&gt; -Mike Schinkel
&gt; http://www.mikeschinkel.com/blogs/
&gt; http://www.welldesignedurls.org
&gt; http://atlanta-web.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10313<br>
Sender:"=?ISO-8859-1?Q?Ant=F3nio_Mota?=" &lt;amsmota@...&gt;<br>
Post Date/Time:2008-01-24 11:26:20<br>
Subject:Re: [rest-discuss] REST and ESB<br>
Message:<br><br>
<pre>Hi again:

I ask for indulgence for this post, but I really need some advice with
this cause I'm not a "architect". After some analysis, this is what I
found about our will-be architecture solution, for which I need to
present one of three alternatives:

1) REST + centralized ESB (e.g. Mule)
2) REST + centralized Message Queue / Mediator (e.g. ActiveMQ)
3) REST + decentralized, "powerful" end-points


Our architecture will be characterized by

- Modifiability and Simplicity (very important)
- Performance and Scalability (somewhat important).

We need

 -Orchestration
- Service Monitoring
- Consume External Services

We don't need
- Choreography
- Business Modeling
- reusable autonomous services

By order of importance, our services (there are now 6 identified services)

(5) have short "time to deployment"
(4) Performance is a issue
(4) is a point-to-point service
(3) is data-centric service
(3) need multiple adapters
(3)  can have high concurrency of users
(2) have long running processes
(2) needs high level of Compensation
(2) needs integration with legacy data
(2) have complex business logic
(1) needs low latency

If someone can provide some insightful thoughts that will be very useful.

Many thanks for that.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10314<br>
Sender:"patrickdlogan" &lt;patrickdlogan@...&gt;<br>
Post Date/Time:2008-01-24 23:37:48<br>
Subject:Re: REST and ESB<br>
Message:<br><br>
<pre>&gt; present one of three alternatives:
&gt; 
&gt; 1) REST + centralized ESB (e.g. Mule)
&gt; 2) REST + centralized Message Queue / Mediator (e.g. ActiveMQ)
&gt; 3) REST + decentralized, "powerful" end-points

A big advantage of the REST/HTTP approach is that many kinds of
systems can participate. Reducing to one of these three appears to be
an artificial constraint. Why make that decision now, up-front?

&gt; (5) have short "time to deployment"
&gt; (4) Performance is a issue
&gt; (4) is a point-to-point service
&gt; (3) is data-centric service
&gt; (3) need multiple adapters
&gt; (3) can have high concurrency of users
&gt; (2) have long running processes
&gt; (2) needs high level of Compensation
&gt; (2) needs integration with legacy data
&gt; (2) have complex business logic
&gt; (1) needs low latency

You may want to choose one or two of your services, one or more of
your "REST + X" options, and two or three of your capabilities listed
here, and conduct time-boxed experiments, say over the next six weeks,
to investigate the most important or promising combinations of these.

These time-boxed experiments will provide a much greater wealth of
real experience than you would obtain trying to make a decision
through discussions on this list alone. Even though there are
incredibly bright people on this list, your own experience over six
months will tell you more than you could possibly imagine by sitting
and thinking alone.




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10315<br>
Sender:David Sidlinger &lt;david.sidlinger@...&gt;<br>
Post Date/Time:2008-01-27 07:30:54<br>
Subject:Re: [rest-discuss] REST asynchronous services<br>
Message:<br><br>
<pre>On 22 Jan, 2008, at 7:12 PM, Assaf Arkin wrote:

&gt; Browser extension can do anything -- assuming a browser extension is a
&gt; viable option (not all browsers, corporate rules, OS dependent, etc)
&gt; -- but the hole punching sequence requires some handshake happening on
&gt; top of the IP stack, so if you're already going that route, other
&gt; compelling options emerge, like pull daemons, two-way connections, P2P
&gt; libraries, XMPP, etc.
&gt;
&gt; Assaf


I think that the corporate rules alone would be an insurmountable  
barrier.  Security departments would (correctly) freak out about  
thousands of servers running on a corporate network.  It's hard enough  
to keep up with the security patches and hardening of the handful of  
servers normally allowed to communicate with the outside world.  I've  
never seen an environment that allowed for active FTP, for example.

-----
David Sidlinger





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10316<br>
Sender:"=?ISO-8859-1?Q?Ant=F3nio_Mota?=" &lt;amsmota@...&gt;<br>
Post Date/Time:2008-01-27 21:33:00<br>
Subject:Re: [rest-discuss] Re: REST and ESB<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10317<br>
Sender:"patrickdlogan" &lt;patrickdlogan@...&gt;<br>
Post Date/Time:2008-01-27 22:05:24<br>
Subject:Re: REST and ESB<br>
Message:<br><br>
<pre>&gt; - Monitoring of all services
&gt; - Traceability of all requests made by any client

Generally assume what you can do with these in a web server /
infrastructure, you can do in REST web services.

Something like Restlet (http://www.restlet.org/) has framework code
for logging, error handling, etc. within the services themselves.
Because this is just HTTP, you can use the intermediaries, etc. you'd
use for web applications as well for monitoring, etc.

Restlet can also run in a servlet, so anything you do now in a servlet
implementation or J2EE server, e.g. hook into mbeans, you can do with
Restlet.

&gt; ...the kind of support I can get on public forums...

Yeah, that could be here but more likely is going to be on a specific
list for the software you use. e.g. if you want to use Java and try
the Restlet framework, there is a page listing how to participate...

http://www.restlet.org/community/

&gt; Is Monitoring/Traceability achievable with a "REST + decentralized,
&gt; "powerful" end-points" solution?

&gt; Is there some "framework", or site(s) or akin...

See http://www.restlet.org/ for one in Java that's work pretty well
for my team. We've used Java, JRuby, and Groovy with this.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10318<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-01-27 22:06:31<br>
Subject:Re: [rest-discuss] Re: REST and ESB<br>
Message:<br><br>
<pre>On the subject of traceability:
If you are using REST-like HTTP (using PUT,DELETE, as well as GET and
POST) I think you'll find the server logs much more valuable than if
you are using a system that 'hides' much of the details of
client-server interactions behind a SOAP envelope, etc..

On the subject of monitoring...
This is a pretty nebulous area. Certainly there are lots of existing
(even open source) tools for monitoring servers (web, data, file,
etc.) that you  can use. If the "monitoring" is more about the actual
use of your published end-points (who is online, what's you
transaction throughput, queue lengths, wait-times, etc.)  then you can
get some of that data from the server logs (see above). But you will
probably need to add some details to your HTTP/REST endpoint code that
updates stand-alone custom stats. Not a big deal, really. In our
environment (Windows/IIS) we have the ability to create performance
counters that do just that.

Hope this helps.

MCA
On Jan 27, 2008 4:33 PM, Antnio Mota &lt;amsmota@...&gt; wrote:
&gt;
&gt;  Hi again:
&gt;
&gt; Friday I had a big discussion with my team, and I *almost* convince my team
&gt; leader of the merits of a "REST-only" solution - 3) below. On the other
&gt; hand, I think he *almost* convinced me of the merits of using a ESB...
&gt;
&gt; There are two features that are essential for any solution, and my TL said
&gt; if a RESTfull solution could implement it than we could go for it. Those
&gt; are:
&gt;
&gt; - Monitoring of all services
&gt; - Traceability of all requests made by any client
&gt;
&gt; Now the "feature" that concerns me about such solution, and could influence
&gt; me for the ESB solution, is the kind of support I can get on public forums
&gt; like this list. Although I have no doubt about the merits of this list, it
&gt; is not a list devoted to "implementation", as is for instance the Mule user
&gt; list, that would be probably our choice for ESB.
&gt;
&gt; So bear with me again, but can someone shred some light these questions?
&gt;
&gt; Is Monitoring/Traceability achievable with a "REST + decentralized,
&gt; "powerful" end-points" solution?
&gt;
&gt; Is there some "framework", or site(s) or akin resources dedicated to the
&gt; implementation of "REST + decentralized, "powerful" end-points" solutions?
&gt;
&gt;
&gt;  Many thanks to all.
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; On 24/01/2008, patrickdlogan &lt;patrickdlogan@gmail.com&gt; wrote:
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; &gt; present one of three alternatives:
&gt; &gt; &gt;
&gt; &gt; &gt; 1) REST + centralized ESB (e.g. Mule)
&gt; &gt; &gt; 2) REST + centralized Message Queue / Mediator (e.g. ActiveMQ)
&gt; &gt; &gt; 3) REST + decentralized, "powerful" end-points
&gt; &gt;
&gt; &gt; A big advantage of the REST/HTTP approach is that many kinds of
&gt; &gt; systems can participate. Reducing to one of these three appears to be
&gt; &gt; an artificial constraint. Why make that decision now, up-front?
&gt; &gt;
&gt; &gt; &gt; (5) have short "time to deployment"
&gt; &gt; &gt; (4) Performance is a issue
&gt; &gt; &gt; (4) is a point-to-point service
&gt; &gt; &gt; (3) is data-centric service
&gt; &gt; &gt; (3) need multiple adapters
&gt; &gt; &gt; (3) can have high concurrency of users
&gt; &gt; &gt; (2) have long running processes
&gt; &gt; &gt; (2) needs high level of Compensation
&gt; &gt; &gt; (2) needs integration with legacy data
&gt; &gt; &gt; (2) have complex business logic
&gt; &gt; &gt; (1) needs low latency
&gt; &gt;
&gt; &gt; You may want to choose one or two of your services, one or more of
&gt; &gt; your "REST + X" options, and two or three of your capabilities listed
&gt; &gt; here, and conduct time-boxed experiments, say over the next six weeks,
&gt; &gt; to investigate the most important or promising combinations of these.
&gt; &gt;
&gt; &gt; These time-boxed experiments will provide a much greater wealth of
&gt; &gt; real experience than you would obtain trying to make a decision
&gt; &gt; through discussions on this list alone. Even though there are
&gt; &gt; incredibly bright people on this list, your own experience over six
&gt; &gt; months will tell you more than you could possibly imagine by sitting
&gt; &gt; and thinking alone.
&gt; &gt;
&gt; &gt;
&gt;
&gt;
&gt;
&gt; --
&gt; --
&gt;
&gt; Melhores cumprimentos / Beir beannacht / Best regards
&gt;
&gt; Antnio Manuel dos Santos Mota
&gt;
&gt; mobile: +353(0)877718363
&gt; mail: amsmota@gmail.com
&gt;  skype: amsmota
&gt; msn: antoniomsmota@...
&gt; linkedin: www.linkedin.com/in/amsmota 



-- 
mca
"In a time of universal deceit, telling the truth becomes a
revolutionary act. " (George Orwell)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10319<br>
Sender:Berend de Boer &lt;berend@...&gt;<br>
Post Date/Time:2008-01-28 02:32:46<br>
Subject:Re: [rest-discuss] Re: REST and ESB<br>
Message:<br><br>
<pre>&gt;&gt;&gt;&gt;&gt; "Antnio" == Antnio Mota &lt;amsmota@...&gt; writes:

    Antnio&gt; - Monitoring of all services - Traceability of all requests
    Antnio&gt; made by any client

1. Monitoring:

     What's simpler than a simple GET call? HTTP monitoring is so simple
     that you found a great range of commercial services monitoring
     websites.

     Everything from "is alive" checking to "does something", so I think
     that indicates that REST based monitoring is vastly superior to any
     other solution.

2. Traceability:

     Most web servers can log in a variety of formats and there are many
     tools to convert that to many other formats, including writing it
     to databases.

     And your web server catches all requests.

-- 
Live long and prosper,

Berend de Boer
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10320<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-01-28 03:20:00<br>
Subject:announce: REST sample and tutorial posted<br>
Message:<br><br>
<pre>I posted a live sample app and an associated tutorial article that
covers building REST-ful apps over ASP.NET/IIS w/ C# here:
http://exyus.com/articles/tasklist/

Feedback is appreciated here or @ http://groups.google.com/group/exyus

TIA
MikeA

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10321<br>
Sender:"Steve Loughran" &lt;steve.loughran.soapbuilders@...&gt;<br>
Post Date/Time:2008-01-28 08:28:14<br>
Subject:Re: [rest-discuss] Re: REST and ESB<br>
Message:<br><br>
<pre>On Jan 27, 2008 9:33 PM, Antnio Mota &lt;amsmota@...&gt; wrote:
&gt;
&gt;  Hi again:
&gt;
&gt; Friday I had a big discussion with my team, and I *almost* convince my team
&gt; leader of the merits of a "REST-only" solution - 3) below. On the other
&gt; hand, I think he *almost* convinced me of the merits of using a ESB...

The ESB is the vision of the one, true, unified message bus, no?

I have one question. After rolling it out across your company, what
happens if you merge with another? One that also has an ESB? A
different one?

&gt;
&gt; There are two features that are essential for any solution, and my TL said
&gt; if a RESTfull solution could implement it than we could go for it. Those
&gt; are:
&gt;
&gt; - Monitoring of all services
&gt; - Traceability of all requests made by any client
&gt;
&gt; Now the "feature" that concerns me about such solution, and could influence
&gt; me for the ESB solution, is the kind of support I can get on public forums
&gt; like this list. Although I have no doubt about the merits of this list, it
&gt; is not a list devoted to "implementation", as is for instance the Mule user
&gt; list, that would be probably our choice for ESB.
&gt;
&gt; So bear with me again, but can someone shred some light these questions?
&gt;
&gt; Is Monitoring/Traceability achievable with a "REST + decentralized,
&gt; "powerful" end-points" solution?

-yes if you route via proxies (and the proxy has the ability to
generate its own trusted SSL certs for intercepting HTTPS)
-yes if you run REST over XMPP and then monitor at the XMPP server
farm (it has to be a farm, otherwise you have a single point of
failure for your entity)

-Steve

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10322<br>
Sender:amsmota &lt;amsmota@...&gt;<br>
Post Date/Time:2008-01-28 09:23:13<br>
Subject:Re: [rest-discuss] Re: REST and ESB<br>
Message:<br><br>
<pre>Thanks all for your responses. However, I see that all the answers 
focuses on HTTP, and since REST is a protocol-agnostic style I wonder 
how to apply your answers to other environments.

We are going to use, for sure, at least HTTP, JMS, POP and FTP. And for 
all those I have to have Monitoring and Traceability. So I don't see how 
can I have this without a centralized piece of software, either a ESB or 
at least some kind of Queue (ActiveMQ maybe).

Or can I have some kind of "hybrid" solution, where instead of having 
one end-point per service with the conectors needed for that service, 
and instead of one "big" middle end-point, I could have 4 end-points, 
each for one of the connectors needed?

Or even better, can I have 3 end-points for JMS, POP and FTP, and route 
then to a single HTTP point where all the Monitoring/Traceability will 
be made? But then again, isn't that creating a bottleneck and a single 
point of failure?

I'm sorry if I'm asking stupid questions, but I do have very limited 
experience with these kind of architecturing stuff.

Thanks all.



Steve Loughran wrote:
&gt;
&gt; On Jan 27, 2008 9:33 PM, Antnio Mota &lt;amsmota@... 
&gt; &lt;mailto:amsmota%40gmail.com&gt;&gt; wrote:
&gt; &gt;
&gt; &gt; Hi again:
&gt; &gt;
&gt; &gt; Friday I had a big discussion with my team, and I *almost* convince 
&gt; my team
&gt; &gt; leader of the merits of a "REST-only" solution - 3) below. On the other
&gt; &gt; hand, I think he *almost* convinced me of the merits of using a ESB...
&gt;
&gt; The ESB is the vision of the one, true, unified message bus, no?
&gt;
&gt; I have one question. After rolling it out across your company, what
&gt; happens if you merge with another? One that also has an ESB? A
&gt; different one?
&gt;
&gt; &gt;
&gt; &gt; There are two features that are essential for any solution, and my 
&gt; TL said
&gt; &gt; if a RESTfull solution could implement it than we could go for it. Those
&gt; &gt; are:
&gt; &gt;
&gt; &gt; - Monitoring of all services
&gt; &gt; - Traceability of all requests made by any client
&gt; &gt;
&gt; &gt; Now the "feature" that concerns me about such solution, and could 
&gt; influence
&gt; &gt; me for the ESB solution, is the kind of support I can get on public 
&gt; forums
&gt; &gt; like this list. Although I have no doubt about the merits of this 
&gt; list, it
&gt; &gt; is not a list devoted to "implementation", as is for instance the 
&gt; Mule user
&gt; &gt; list, that would be probably our choice for ESB.
&gt; &gt;
&gt; &gt; So bear with me again, but can someone shred some light these questions?
&gt; &gt;
&gt; &gt; Is Monitoring/Traceability achievable with a "REST + decentralized,
&gt; &gt; "powerful" end-points" solution?
&gt;
&gt; -yes if you route via proxies (and the proxy has the ability to
&gt; generate its own trusted SSL certs for intercepting HTTPS)
&gt; -yes if you run REST over XMPP and then monitor at the XMPP server
&gt; farm (it has to be a farm, otherwise you have a single point of
&gt; failure for your entity)
&gt;
&gt; -Steve
&gt;
&gt;  


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10323<br>
Sender:amsmota &lt;amsmota@...&gt;<br>
Post Date/Time:2008-01-28 11:17:40<br>
Subject:REST with non-HTTP protocols<br>
Message:<br><br>
<pre>Following my other post about REST + ESB (or should I say REST _minus_ 
ESB), I started looking for resources about creating RESTfull services 
with endpoints not based on HTTP, but I couldn't find any.

Mainly, all the resources I've seen so far says something like "REST is 
protocol independent, but for the sake of simplicity let's talk about 
HTTP only"...

My plan now was to try to convince my team leader to give me 1.5 week so 
I can write a very simple application (probably in Java) and enable it 
to be invoked directly by two different kind of connectors (HTTP and 
email probably). And then try to do the same with (probably) Mule in the 
middle. And see what's simpler.

So I know how to do it with HTTP (actually several ways come to my mind) 
and I know how I'll do it from some of the other protocols if it was RPC 
app, or a intra-VM app, but I can't understand how to do it in a 
RESTfull way and without a ESB.

Probably I'm not seeing this right and probably the best solution *is* 
to use a ESB?

Thanks all for your cooperation.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10324<br>
Sender:"Miles Crawford" &lt;mcrawfor@...&gt;<br>
Post Date/Time:2008-01-28 17:20:47<br>
Subject:Required ETag?<br>
Message:<br><br>
<pre>As an application writer, can I require PUTs to include an ETag?

The desire is obviously to enforce the avoidance of last-put-wins
problems with ill-behaved clients.

I see in the HTTP rfc that clients MAY include the ETAG, but it seems
to me that the server is still within its rights to just deny a client
who exercises this option:

http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.19

Thoughts?

-Miles

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10325<br>
Sender:Subbu Allamaraju &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-01-28 17:27:59<br>
Subject:Re: [rest-discuss] Required ETag?<br>
Message:<br><br>
<pre>
On Jan 28, 2008, at 9:20 AM, Miles Crawford wrote:

&gt; As an application writer, can I require PUTs to include an ETag?

You mean the "If-Match" or the "If-None-Match"? The "ETag" is a  
response header.

&gt; The desire is obviously to enforce the avoidance of last-put-wins
&gt; problems with ill-behaved clients.

To avoid such problems, you can do a conditional-PUT using either the  
If-Match, If-None-Match or the If-Unmodified-Since headers.

Subbu

http://subbu.org


&gt;
&gt;
&gt; I see in the HTTP rfc that clients MAY include the ETAG, but it seems
&gt; to me that the server is still within its rights to just deny a client
&gt; who exercises this option:
&gt;
&gt; http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.19
&gt;
&gt; Thoughts?
&gt;
&gt; -Miles
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10326<br>
Sender:"ddwoske" &lt;don.dwoske@...&gt;<br>
Post Date/Time:2008-01-28 16:43:30<br>
Subject:Re: REST with non-HTTP protocols<br>
Message:<br><br>
<pre>You've said many times that you have little experience with these
kinds of architectures.  Ditto for your boss.

It sounds like you don't have the right people on your team in
order to make this project successful.  I'm not sure how important
what you're doing is - maybe you can afford to make major blunders
along the way while you're learning.  But from a business perspective,
it doesn't sound like you have the "right people on the bus", as Jim
Collins might say.

I read quickly your posts and tried to get an understanding of what
it is you are trying to do, and I'm still not entirely clear.  But, this little
bit says a lot :

&gt;We are going to use, for sure, at least HTTP, JMS, POP and FTP. And for
&gt; all those I have to have Monitoring and Traceability. So I don't see how 
&gt; can I have this without a centralized piece of software, either a ESB or 
&gt; at least some kind of Queue (ActiveMQ maybe).

My first recommendation is to hire someone from the outside to come
in and look at what you are trying to do and make some recommendations.
The amount of information you've given us is a good start, but it really
requires more than just a few postings on a message board to figure out
exactly what solution is best for you. What are all these services, what are
they doing, why do you want them to be unified in any way, what's the
business goal?

Several different solutions come to my mind from what I've read so
far of your posts, and there isn't a good way to distinguish between
them (or others) without some kind of long-running
conversation.

Basic goal of any system :

1.  Keep it simple.  Simple things tend to work, and 
     really simple things tend to work really well. (Adam Bosworth)

In my mind, REST and HTTP are pretty simple.  The internet works.  Just about
any language can consume HTTP services, Atom or RSS feeds, XML messages.
Start with those things and see how far you get.

Tracing and monitoring of web sites is pretty clear, as others have said.  There
are lots of open source tools to do such things.  Take a look at 
http://www.tildeslash.com/monit/ for one such tool.

You can have distributed traceability, each system uses a logging package
which logs to a central database, or better yet (in some ways) have
each process/service provide an atom feed of log entries which
are then consolidated in a single stream by an aggregator.

If your systems are critical and performance and uptime are very important,
you may want some other kind of solution - like coding as much as
possible in Erlang over a distributed network.  Erlang has a great history
with building fault-tolerant distributed systems, has failure notification
of processes built-in, and many other things.

An important part of REST is providing a uniform interface to all services.
If you are dealing with many types of different protocols, FTP,
POP, HTTP, etc.. you should consider providing a uniform and well-understood
way of accessing *all* of those using the same interface or protocol.

You may want to look at the 9P (or Styx) protocol which is in heavy use
in Plan 9 and Inferno.  It is accidentally very RESTful.  Look for Plan 9
documents on 9P or Inferno Styx.  For Java, you will
find JStyx : 

http://www.resc.rdg.ac.uk/jstyx/

You could also possibly configure all your servers as grid processes and
use grid tools for monitoring and tracing, and perhaps workflow if
you need it.  Grids give you a central way to deploy, execute, and monitor
a variety of processes.  You'll find some grid information on that 
JStyx site, and also on the Inferno page. 

http://www.vitanuova.com/grid/

This also brings to mind the Microsoft Robotics Platform, which is very
RESTful, and could allow you to control and montitor your processes as
well.  Probably that's too much of a stretch for a Java-based team, and
the Platform takes a bit of digging into.

As a final note, it's my opinion that ESB products are not needed (usually), stick
to commonly used protocols and data formats.  As a final, final note,
REST doesn't solve every problem elegantly, and neither does anything
else - it depends on the problem.  I just don't know your problem well
enough to recommend one architecture over another.  

But, I would put forth that you use REST as a starting point and 
rule it out when you find some aspect of the problem that doesn't
fit within it's contraints.

Cheers,
-d-



--- In rest-discuss@yahoogroups.com, amsmota &lt;amsmota@...&gt; wrote:
&gt;
&gt; Following my other post about REST + ESB (or should I say REST _minus_ 
&gt; ESB), I started looking for resources about creating RESTfull services 
&gt; with endpoints not based on HTTP, but I couldn't find any.
&gt; 
&gt; Mainly, all the resources I've seen so far says something like "REST is 
&gt; protocol independent, but for the sake of simplicity let's talk about 
&gt; HTTP only"...
&gt; 
&gt; My plan now was to try to convince my team leader to give me 1.5 week so 
&gt; I can write a very simple application (probably in Java) and enable it 
&gt; to be invoked directly by two different kind of connectors (HTTP and 
&gt; email probably). And then try to do the same with (probably) Mule in the 
&gt; middle. And see what's simpler.
&gt; 
&gt; So I know how to do it with HTTP (actually several ways come to my mind) 
&gt; and I know how I'll do it from some of the other protocols if it was RPC 
&gt; app, or a intra-VM app, but I can't understand how to do it in a 
&gt; RESTfull way and without a ESB.
&gt; 
&gt; Probably I'm not seeing this right and probably the best solution *is* 
&gt; to use a ESB?
&gt; 
&gt; Thanks all for your cooperation.
&gt;




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10327<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-01-28 17:34:15<br>
Subject:Re: [rest-discuss] Required ETag?<br>
Message:<br><br>
<pre>I currently return 412 for PUT(update) where the "If-Match" header is
passed and no ETag was passed.

I also return 412 for cases PUT(create) where the "If-None-Match"
header is passed, no ETag was passed and the document already exists.
Hope this helps.

MCA


On Jan 28, 2008 12:20 PM, Miles Crawford &lt;mcrawfor@...&gt; wrote:
&gt; &gt; As an application writer, can I require PUTs to include an ETag?
&gt; &gt;
&gt; &gt; The desire is obviously to enforce the avoidance of last-put-wins
&gt; &gt; problems with ill-behaved clients.
&gt; &gt;
&gt; &gt; I see in the HTTP rfc that clients MAY include the ETAG, but it seems
&gt; &gt; to me that the server is still within its rights to just deny a client
&gt; &gt; who exercises this option:
&gt; &gt;
&gt; &gt; http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.19
&gt; &gt;
&gt; &gt; Thoughts?
&gt; &gt;
&gt; &gt; -Miles
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; Yahoo! Groups Links
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt;
&gt;
&gt;
&gt; --
&gt; mca
&gt; "In a time of universal deceit, telling the truth becomes a
&gt; revolutionary act. " (George Orwell)
&gt;



-- 
mca
"In a time of universal deceit, telling the truth becomes a
revolutionary act. " (George Orwell)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10328<br>
Sender:"Miles Crawford" &lt;mcrawfor@...&gt;<br>
Post Date/Time:2008-01-28 17:44:55<br>
Subject:Re: Required ETag?<br>
Message:<br><br>
<pre>I apologize, let me clarify.

Client GETs resource and is served an ETag.

Client PUTs resource back and includes no If-Match, If-None-Match,
If-modified, etc etc, basically ignoring the ETag it was given.

So, the server sees a valid , but with no conditional information -
can it return an error?  Can it always return an error if the client
does not provide conditional information?

-miles

On Jan 28, 2008 9:20 AM, Miles Crawford &lt;mcrawfor@...&gt; wrote:
&gt; As an application writer, can I require PUTs to include an ETag?
&gt;
&gt; The desire is obviously to enforce the avoidance of last-put-wins
&gt; problems with ill-behaved clients.
&gt;
&gt; I see in the HTTP rfc that clients MAY include the ETAG, but it seems
&gt; to me that the server is still within its rights to just deny a client
&gt; who exercises this option:
&gt;
&gt; http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.19
&gt;
&gt; Thoughts?
&gt;
&gt; -Miles
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10329<br>
Sender:Subbu Allamaraju &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-01-28 18:12:18<br>
Subject:Re: [rest-discuss] Re: Required ETag?<br>
Message:<br><br>
<pre>The conditional-PUT is optional, but I see no reason for a server to  
not require that clients always make their requests conditional.

Subbu

On Jan 28, 2008, at 9:44 AM, Miles Crawford wrote:

&gt; I apologize, let me clarify.
&gt;
&gt; Client GETs resource and is served an ETag.
&gt;
&gt; Client PUTs resource back and includes no If-Match, If-None-Match,
&gt; If-modified, etc etc, basically ignoring the ETag it was given.
&gt;
&gt; So, the server sees a valid , but with no conditional information -
&gt; can it return an error?  Can it always return an error if the client
&gt; does not provide conditional information?
&gt;
&gt; -miles
&gt;
&gt; On Jan 28, 2008 9:20 AM, Miles Crawford &lt;mcrawfor@...&gt;  
&gt; wrote:
&gt;&gt; As an application writer, can I require PUTs to include an ETag?
&gt;&gt;
&gt;&gt; The desire is obviously to enforce the avoidance of last-put-wins
&gt;&gt; problems with ill-behaved clients.
&gt;&gt;
&gt;&gt; I see in the HTTP rfc that clients MAY include the ETAG, but it seems
&gt;&gt; to me that the server is still within its rights to just deny a  
&gt;&gt; client
&gt;&gt; who exercises this option:
&gt;&gt;
&gt;&gt; http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.19
&gt;&gt;
&gt;&gt; Thoughts?
&gt;&gt;
&gt;&gt; -Miles
&gt;&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;

Subbu

http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10330<br>
Sender:"Tyler Close" &lt;tyler.close@...&gt;<br>
Post Date/Time:2008-01-28 20:21:00<br>
Subject:W3C Working Group on Cross-Domain requests needs your feedback<br>
Message:<br><br>
<pre>Hi all,

The Web Applications Format Working Group is currently finishing up
design work on a specification for Cross-Domain requests in the
browser that could have a significant impact on the design of future
web applications. I believe the WG's current proposal puts REST
designs at a significant disadvantage. The Working Group will be
taking up this issue in its weekly teleconference this Wednesday and I
hope feedback from the members of this mailing list might help
communicate the importance of this issue for web developers.

Currently, the Same Origin Policy limits the ways in which a web page
served by one site, Site A, can communicate with resources hosted on a
separate site, Site B. The WG aims to provide a way for Site B and the
browser to agree on a loosening of these restrictions. For example,
given the consent of Site B, the browser would allow a page from Site
A to receive the response to a GET request on a resource hosted by
Site B. Similarly, the page from Site A would be allowed to send an
arbitrary POST to a resource hosted by Site B and receive the
response.

Essentially, the WG's current proposal is for the server to express a
cross-domain request policy (XDRP) for each hosted resource. Before
sending a cross-domain, non-GET request to a particular resource, the
web browser must query that resource's XDRP and enforce any expressed
constraints. For more detail, please refer to the the WG's current
draft proposal &lt;http://dev.w3.org/2006/waf/access-control/&gt;.

One of the problems with this design is that there is a mandatory
network round-trip to fetch the XDRP for a resource before the browser
can begin communicating with that resource. Essentially, there's a one
network round-trip penalty for each distinct URI a web application
uses. For example, consider the effect of this design on a mashup that
uses the ATOM protocol to communicate with another site. When creating
a new member resource, the server sends the client a distinct URI
identifying the resource. In essence, the server is saying: "Send your
updates here". But before sending a PUT request to the specified URL,
the mashup application must first send a request for the XDRP, in
effect asking permission to use the resource it was just told to use.
The same happens for each distinct URL the client uses. The result is
a tragically comical network protocol in which the client repeatedly
asks permission to do what the server just told the client it could
do.

I've pointed out this problem to the WG and the response from one of
the main contributors to the specification was:

Ian Hickson wrote:
&gt; I do not believe that we should change the API to optimise for the one
&gt; case of an API that involves a lot of non-GET requests to unique
&gt; resources. It is trivial to optimise the server's protocol in
&gt; this case
&gt; anyway (just use one URI and put the parameters in the body), and this
&gt; more closely matches what most people will be doing anyway.

See: &lt;http://lists.w3.org/Archives/Public/public-appformats/2008Jan/0297.html&gt;

Members of this mailing list may see a similarity between this
proposed design advice and the long-ago discussions about the design
of SOAP where requests are all sent to a single URL and the actual
target resource is identified by arguments in the message body.

I also pointed out that this design advice discourages use of URIs,
whereas webarch encourages use of URIs. The reply was *only*:

Ian Hickson wrote:
&gt; I disagree with much of Web Arch.

See: &lt;http://lists.w3.org/Archives/Public/public-appformats/2008Jan/0299.html&gt;

Going forward, it seems likely that an important measure of the design
quality of a web application will be how well it works in a mashup.
Many designs that a REST proponent may favour involve heavy use of
URIs. Under the WG's current proposal, these designs will be penalized
with a network round-trip for each distinct URI. The proposal's main
designer dismisses this design style. The WG's editor sees this issue
as only a "quibble":

See: &lt;http://lists.w3.org/Archives/Public/public-appformats/2008Jan/0306.html&gt;

Mark Nottingham and I have proposed an alternate design for
cross-domain requests that does not have these performance problems
and negative design pressures. Essentially, the alternate proposal
asks the host, instead of each resource, if it is willing to accept
cross-domain requests. If so, these requests are then so labeled, in
the same way as the WG currently proposes. The task of enforcing a
per-resource policy is then managed solely by the host. Under such a
design, there is one network round-trip before requests begin to flow,
but it is one round-trip per host, not per resource. This way there is
no penalty for heavy use of URIs. To date, the WG has rejected
pursuing such a design.

This design discussion is also taking place under the time pressure of
the Firefox 3 release, which plans to implement the WG's current
proposal. Should this release happen, this topic may be a done deal.
Jonas Sicking seems to be the Mozilla representative participating on
this WG.

In my opinion, the WG's current proposal would have a negative impact
on the viability of REST design on the Web. I think members of this
mailing list should consider these issues and make their voices heard
on the WG's mailing list for public feedback. Before posting to this
list, you must first subscribe by sending an email to:

mailto:public-appformats-request@...?subject=subscribe

Hopefully, significant feedback from this community will positively
influence the discussion of these issues in Wednesday's telecon.

--Tyler

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10331<br>
Sender:Jerome Louvel &lt;contact@...&gt;<br>
Post Date/Time:2008-01-28 21:15:37<br>
Subject:Re: REST with non-HTTP protocols<br>
Message:<br><br>
<pre>Hi all,

Thanks for the great reply Don. I agree that this isn't an easy goal to 
achieve. In the Restlet framework, we did add multi-protocol support to 
our RESTful API.

http://www.restlet.org

We are centered on HTTP for the API and its uniform interface, but at 
the semantics level rather than the communication and format details. 
This allows us to relatively easily map those semantics to other protocols.

We have built-in support for local FILEs, SMTP/SMTPS, JDBC and others on 
the client-side, for JXTA or XMPP on the server-side. We also have plans 
for server-side FTP and SMTP, client-side POP3 and FTP.

http://www.restlet.org/documentation/1.1/connectors

We already have a flexible mechanism to plug extension connectors. That 
might provide you a good basis for your RESTful ESB project!

Best regards,
--
Jerome Louvel
http://www.noelios.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10332<br>
Sender:"patrickdlogan" &lt;patrickdlogan@...&gt;<br>
Post Date/Time:2008-01-28 21:25:42<br>
Subject:Re: REST and ESB<br>
Message:<br><br>
<pre>&gt; Thanks all for your responses. However, I see that all the answers
&gt; focuses on HTTP, and since REST is a protocol-agnostic style I
&gt; wonder how to apply your answers to other environments.

I think a more appropriate description is that "REST" is a style that
can be applied to more than just HTTP. Each application of REST to
some other protocol will hopefully describe the proper use of that
protocol, but will not necessarily be programmed the same way across
various protocols.

&gt; We are going to use, for sure, at least HTTP, JMS, POP and FTP. And
&gt; for all those I have to have Monitoring and Traceability. So I don't
&gt; see how can I have this without a centralized piece of software,
&gt; either a ESB or at least some kind of Queue (ActiveMQ maybe).

If you look at ESBs they usually take independently available Java
libraries for each of these and wrap them up in practically
unmanageable XML config files. Maybe that has an appeal to some folks,
but I've never appreciated it.

I don't see this as a REST topic per se.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10333<br>
Sender:"patrickdlogan" &lt;patrickdlogan@...&gt;<br>
Post Date/Time:2008-01-28 21:49:39<br>
Subject:Re: REST with non-HTTP protocols<br>
Message:<br><br>
<pre>"It sounds like you don't have the right people on your team in
order to make this project successful."

While I was busy down in the weeds, Don wrote what really needed to
said. Recognizing when to get help beyond the email list is critical
to success.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10334<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-01-29 03:50:36<br>
Subject:RE: [rest-discuss] W3C Working Group on Cross-Domain requests needs your feedback<br>
Message:<br><br>
<pre>
Tyler Close wrote:
&gt; The Web Applications Format Working Group is currently 
&gt; finishing up design work on a specification for Cross-Domain 
&gt; requests in the browser that could have a significant impact 
&gt; on the design of future web applications. I believe the WG's 
&gt; current proposal puts REST designs at a significant 
&gt; disadvantage. The Working Group will be taking up this issue 
&gt; in its weekly teleconference this Wednesday and I hope 
&gt; feedback from the members of this mailing list might help 
&gt; communicate the importance of this issue for web developers.
&gt; 
&gt; Currently, the Same Origin Policy limits the ways in which a 
&gt; web page served by one site, Site A, can communicate with 
&gt; resources hosted on a separate site, Site B. The WG aims to 
&gt; provide a way for Site B and the browser to agree on a 
&gt; loosening of these restrictions. For example, given the 
&gt; consent of Site B, the browser would allow a page from Site A 
&gt; to receive the response to a GET request on a resource hosted 
&gt; by Site B. Similarly, the page from Site A would be allowed 
&gt; to send an arbitrary POST to a resource hosted by Site B and 
&gt; receive the response.
&gt; 
&gt; Essentially, the WG's current proposal is for the server to 
&gt; express a cross-domain request policy (XDRP) for each hosted 
&gt; resource. Before sending a cross-domain, non-GET request to a 
&gt; particular resource, the web browser must query that 
&gt; resource's XDRP and enforce any expressed constraints. For 
&gt; more detail, please refer to the the WG's current draft 
&gt; proposal &lt;http://dev.w3.org/2006/waf/access-control/&gt;.
&gt; 
&gt; One of the problems with this design is that there is a 
&gt; mandatory network round-trip to fetch the XDRP for a resource 
&gt; before the browser can begin communicating with that 
&gt; resource. Essentially, there's a one network round-trip 
&gt; penalty for each distinct URI a web application uses. For 
&gt; example, consider the effect of this design on a mashup that 
&gt; uses the ATOM protocol to communicate with another site. When 
&gt; creating a new member resource, the server sends the client a 
&gt; distinct URI identifying the resource. In essence, the server 
&gt; is saying: "Send your updates here". But before sending a PUT 
&gt; request to the specified URL, the mashup application must 
&gt; first send a request for the XDRP, in effect asking 
&gt; permission to use the resource it was just told to use.
&gt; The same happens for each distinct URL the client uses. The 
&gt; result is a tragically comical network protocol in which the 
&gt; client repeatedly asks permission to do what the server just 
&gt; told the client it could do.
&gt; 
&gt; I've pointed out this problem to the WG and the response from 
&gt; one of the main contributors to the specification was:
&gt; 
&gt; Ian Hickson wrote:
&gt; &gt; I do not believe that we should change the API to optimise 
&gt; for the one 
&gt; &gt; case of an API that involves a lot of non-GET requests to unique 
&gt; &gt; resources. It is trivial to optimise the server's protocol in this 
&gt; &gt; case anyway (just use one URI and put the parameters in the 
&gt; body), and 
&gt; &gt; this more closely matches what most people will be doing anyway.
&gt; 
&gt; See: 
&gt; &lt;http://lists.w3.org/Archives/Public/public-appformats/2008Jan
&gt; /0297.html&gt;
&gt; 
&gt; Members of this mailing list may see a similarity between 
&gt; this proposed design advice and the long-ago discussions 
&gt; about the design of SOAP where requests are all sent to a 
&gt; single URL and the actual target resource is identified by 
&gt; arguments in the message body.
&gt; 
&gt; I also pointed out that this design advice discourages use of 
&gt; URIs, whereas webarch encourages use of URIs. The reply was *only*:
&gt; 
&gt; Ian Hickson wrote:
&gt; &gt; I disagree with much of Web Arch.
&gt; 
&gt; See: 
&gt; &lt;http://lists.w3.org/Archives/Public/public-appformats/2008Jan
&gt; /0299.html&gt;
&gt; 
&gt; Going forward, it seems likely that an important measure of 
&gt; the design quality of a web application will be how well it 
&gt; works in a mashup.
&gt; Many designs that a REST proponent may favour involve heavy 
&gt; use of URIs. Under the WG's current proposal, these designs 
&gt; will be penalized with a network round-trip for each distinct 
&gt; URI. The proposal's main designer dismisses this design 
&gt; style. The WG's editor sees this issue as only a "quibble":
&gt; 
&gt; See: 
&gt; &lt;http://lists.w3.org/Archives/Public/public-appformats/2008Jan
&gt; /0306.html&gt;
&gt; 
&gt; Mark Nottingham and I have proposed an alternate design for 
&gt; cross-domain requests that does not have these performance 
&gt; problems and negative design pressures. Essentially, the 
&gt; alternate proposal asks the host, instead of each resource, 
&gt; if it is willing to accept cross-domain requests. If so, 
&gt; these requests are then so labeled, in the same way as the WG 
&gt; currently proposes. The task of enforcing a per-resource 
&gt; policy is then managed solely by the host. Under such a 
&gt; design, there is one network round-trip before requests begin 
&gt; to flow, but it is one round-trip per host, not per resource. 
&gt; This way there is no penalty for heavy use of URIs. To date, 
&gt; the WG has rejected pursuing such a design.
&gt; 
&gt; This design discussion is also taking place under the time 
&gt; pressure of the Firefox 3 release, which plans to implement 
&gt; the WG's current proposal. Should this release happen, this 
&gt; topic may be a done deal.
&gt; Jonas Sicking seems to be the Mozilla representative 
&gt; participating on this WG.
&gt; 
&gt; In my opinion, the WG's current proposal would have a 
&gt; negative impact on the viability of REST design on the Web. I 
&gt; think members of this mailing list should consider these 
&gt; issues and make their voices heard on the WG's mailing list 
&gt; for public feedback. Before posting to this list, you must 
&gt; first subscribe by sending an email to:
&gt; 
&gt; mailto:public-appformats-request@...?subject=subscribe
&gt; 
&gt; Hopefully, significant feedback from this community will 
&gt; positively influence the discussion of these issues in 
&gt; Wednesday's telecon.

WOW.  Having spent some time on the HTMLWG and dealing with Ian's and Anne's
dismissive attitudes and authoritarian approaches, all I can say is "Same
shit, different day."

I hope others on this list agree with Tyler and subscribe to the appformats
list and let your voices be heard.

--
-Mike Schinkel
http://www.mikeschinkel.com/blogs/
http://www.welldesignedurls.org
http://atlanta-web.org 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10335<br>
Sender:amsmota &lt;amsmota@...&gt;<br>
Post Date/Time:2008-01-29 09:31:38<br>
Subject:Re: [rest-discuss] Re: REST with non-HTTP protocols<br>
Message:<br><br>
<pre>Hi.

Thanks for your insightful answer. Note that I said I'm not an 
"architect", mainly because I think "architects" belongs to... 
architecture. I'm a programmer in the sense that I write computer 
programs and I'm a analyst in the sense that I analyse real-world 
problems, their processes and interactions, from a logical point of view 
and come up with solutions to those problems using logical processes 
that are usually implemented with computers. That's all what I am.

Now in trying to solve a couple of problems we have in interacting with 
our customers, I have the "feeling" that using a REST approach will be 
the better solution. But although I do have experience in "architecting" 
some kind solutions, in the sense of "putting things together", it is 
the first time I apply the REST principles to it. Now some of the 
principles behind the REST principles are nothing new, so I think I can 
grasp it's essence. But since "feeling" is not enough in presenting 
solutions to my team, I'm trying to get some general "use cases" of how 
other people implemented the REST principles in services "architecture", 
so I can take then as rules of thumb.

I don't want someone to say - so you have this and want that? ok, use 
this and this and this. If that was the case we can bring someone to do 
that, yes. I want people to say - well, as a general rule you should do 
this and this, and in my particular experience I've done this and that.

That it was, in fact, what your answer does, for which I'm grateful.

Cheers.


 


ddwoske wrote:
&gt;
&gt; You've said many times that you have little experience with these
&gt; kinds of architectures. Ditto for your boss.
&gt;
&gt; It sounds like you don't have the right people on your team in
&gt; order to make this project successful. I'm not sure how important
&gt; what you're doing is - maybe you can afford to make major blunders
&gt; along the way while you're learning. But from a business perspective,
&gt; it doesn't sound like you have the "right people on the bus", as Jim
&gt; Collins might say.
&gt;
&gt; I read quickly your posts and tried to get an understanding of what
&gt; it is you are trying to do, and I'm still not entirely clear. But, 
&gt; this little
&gt; bit says a lot :
&gt;
&gt; &gt;We are going to use, for sure, at least HTTP, JMS, POP and FTP. And for
&gt; &gt; all those I have to have Monitoring and Traceability. So I don't see 
&gt; how
&gt; &gt; can I have this without a centralized piece of software, either a 
&gt; ESB or
&gt; &gt; at least some kind of Queue (ActiveMQ maybe).
&gt;
&gt; My first recommendation is to hire someone from the outside to come
&gt; in and look at what you are trying to do and make some recommendations.
&gt; The amount of information you've given us is a good start, but it really
&gt; requires more than just a few postings on a message board to figure out
&gt; exactly what solution is best for you. What are all these services, 
&gt; what are
&gt; they doing, why do you want them to be unified in any way, what's the
&gt; business goal?
&gt;
&gt; Several different solutions come to my mind from what I've read so
&gt; far of your posts, and there isn't a good way to distinguish between
&gt; them (or others) without some kind of long-running
&gt; conversation.
&gt;
&gt; Basic goal of any system :
&gt;
&gt; 1. Keep it simple. Simple things tend to work, and
&gt; really simple things tend to work really well. (Adam Bosworth)
&gt;
&gt; In my mind, REST and HTTP are pretty simple. The internet works. Just 
&gt; about
&gt; any language can consume HTTP services, Atom or RSS feeds, XML messages.
&gt; Start with those things and see how far you get.
&gt;
&gt; Tracing and monitoring of web sites is pretty clear, as others have 
&gt; said. There
&gt; are lots of open source tools to do such things. Take a look at
&gt; http://www.tildeslash.com/monit/ &lt;http://www.tildeslash.com/monit/&gt; 
&gt; for one such tool.
&gt;
&gt; You can have distributed traceability, each system uses a logging package
&gt; which logs to a central database, or better yet (in some ways) have
&gt; each process/service provide an atom feed of log entries which
&gt; are then consolidated in a single stream by an aggregator.
&gt;
&gt; If your systems are critical and performance and uptime are very 
&gt; important,
&gt; you may want some other kind of solution - like coding as much as
&gt; possible in Erlang over a distributed network. Erlang has a great history
&gt; with building fault-tolerant distributed systems, has failure notification
&gt; of processes built-in, and many other things.
&gt;
&gt; An important part of REST is providing a uniform interface to all 
&gt; services.
&gt; If you are dealing with many types of different protocols, FTP,
&gt; POP, HTTP, etc.. you should consider providing a uniform and 
&gt; well-understood
&gt; way of accessing *all* of those using the same interface or protocol.
&gt;
&gt; You may want to look at the 9P (or Styx) protocol which is in heavy use
&gt; in Plan 9 and Inferno. It is accidentally very RESTful. Look for Plan 9
&gt; documents on 9P or Inferno Styx. For Java, you will
&gt; find JStyx :
&gt;
&gt; http://www.resc.rdg.ac.uk/jstyx/ &lt;http://www.resc.rdg.ac.uk/jstyx/&gt;
&gt;
&gt; You could also possibly configure all your servers as grid processes and
&gt; use grid tools for monitoring and tracing, and perhaps workflow if
&gt; you need it. Grids give you a central way to deploy, execute, and monitor
&gt; a variety of processes. You'll find some grid information on that
&gt; JStyx site, and also on the Inferno page.
&gt;
&gt; http://www.vitanuova.com/grid/ &lt;http://www.vitanuova.com/grid/&gt;
&gt;
&gt; This also brings to mind the Microsoft Robotics Platform, which is very
&gt; RESTful, and could allow you to control and montitor your processes as
&gt; well. Probably that's too much of a stretch for a Java-based team, and
&gt; the Platform takes a bit of digging into.
&gt;
&gt; As a final note, it's my opinion that ESB products are not needed 
&gt; (usually), stick
&gt; to commonly used protocols and data formats. As a final, final note,
&gt; REST doesn't solve every problem elegantly, and neither does anything
&gt; else - it depends on the problem. I just don't know your problem well
&gt; enough to recommend one architecture over another.
&gt;
&gt; But, I would put forth that you use REST as a starting point and
&gt; rule it out when you find some aspect of the problem that doesn't
&gt; fit within it's contraints.
&gt;
&gt; Cheers,
&gt; -d-
&gt;
&gt; --- In rest-discuss@yahoogroups.com 
&gt; &lt;mailto:rest-discuss%40yahoogroups.com&gt;, amsmota &lt;amsmota@...&gt; wrote:
&gt; &gt;
&gt; &gt; Following my other post about REST + ESB (or should I say REST _minus_
&gt; &gt; ESB), I started looking for resources about creating RESTfull services
&gt; &gt; with endpoints not based on HTTP, but I couldn't find any.
&gt; &gt;
&gt; &gt; Mainly, all the resources I've seen so far says something like "REST is
&gt; &gt; protocol independent, but for the sake of simplicity let's talk about
&gt; &gt; HTTP only"...
&gt; &gt;
&gt; &gt; My plan now was to try to convince my team leader to give me 1.5 
&gt; week so
&gt; &gt; I can write a very simple application (probably in Java) and enable it
&gt; &gt; to be invoked directly by two different kind of connectors (HTTP and
&gt; &gt; email probably). And then try to do the same with (probably) Mule in 
&gt; the
&gt; &gt; middle. And see what's simpler.
&gt; &gt;
&gt; &gt; So I know how to do it with HTTP (actually several ways come to my 
&gt; mind)
&gt; &gt; and I know how I'll do it from some of the other protocols if it was 
&gt; RPC
&gt; &gt; app, or a intra-VM app, but I can't understand how to do it in a
&gt; &gt; RESTfull way and without a ESB.
&gt; &gt;
&gt; &gt; Probably I'm not seeing this right and probably the best solution *is*
&gt; &gt; to use a ESB?
&gt; &gt;
&gt; &gt; Thanks all for your cooperation.
&gt; &gt;
&gt;
&gt;  


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10336<br>
Sender:"Ebenezer Ikonne" &lt;amaeze@...&gt;<br>
Post Date/Time:2008-01-29 15:23:44<br>
Subject:Re: announce: REST sample and tutorial posted<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, "mike amundsen" &lt;mamund@...&gt; wrote:
&gt;
&gt; I posted a live sample app and an associated tutorial article that
&gt; covers building REST-ful apps over ASP.NET/IIS w/ C# here:
&gt; http://exyus.com/articles/tasklist/
&gt; 
&gt; Feedback is appreciated here or @ http://groups.google.com/group/exyus
&gt; 
&gt; TIA
&gt; MikeA
&gt;

Hey Mike -

I'm curious to know why you didn't use REST features available in WCF 
since it seems your work is being done in .NET.

Additionally, can you provide an explanation on the following statement:

It should be noted that XML (text/xml) is not a very useful "content 
type" for building HTTP applications. Other content types that would be 
more useful would be Atom (application/atom+xml) or RDF 
(application/rdf+xml). However, for this example, we'll use XML to keep 
things as simple as possible. If you wish, you can use this example as 
a starting point to add support for your favorite content type. 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10337<br>
Sender:"=?ISO-8859-1?Q?Ant=F3nio_Mota?=" &lt;amsmota@...&gt;<br>
Post Date/Time:2008-01-29 16:46:39<br>
Subject:Re: [rest-discuss] Re: REST and ESB<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10338<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-01-29 17:51:45<br>
Subject:Re: [rest-discuss] Re: announce: REST sample and tutorial posted<br>
Message:<br><br>
<pre>Thanks for your post.

On not using WCF...
My goal was to build something that defined base classes that had just
the HTTP methods (Get(), Head(), etc.) and didn't see that with WCF. I
also wanted to set up the idea of using UriPatterns mapped directly to
the resource class (instead of to particular methods or via a resource
map. I didn't find that too easy to do with WCF. Also, I secretly
harbor the idea that this pattern might catch on and would like to see
it go beyond the MS space. That would be not getting tied to a
pre-existing MS tech. Lastly, I didn't want to use WCF only to have it
drift or stagnate somewhere down the list and then be 'stuck'
somewhere down the pike.

BTW - It's been a while, so I might have mised the forests for the
trees. I'd be happy to check out some REST-ful examples built w/ WCF,
if you have any to recommend.

As for my comment on text/xml...
text/xml is a pretty 'non-informative[g]' mime-type. when i see Atom,
RDF, RSS, i know a great deal about the document - what's required,
data types, etc. All that without using a schema or other document to
tell me that. It would probably have been better for me to use a
custom content-type for my example:
"application/vnd.amundsen.tasklist+xml" or something like that. But,
as long as the client and server already understand the schema, there
is no big deal.

MCA

On Jan 29, 2008 10:23 AM, Ebenezer Ikonne &lt;amaeze@...&gt; wrote:
&gt;
&gt; --- In rest-discuss@yahoogroups.com, "mike amundsen" &lt;mamund@...&gt; wrote:
&gt; &gt;
&gt; &gt; I posted a live sample app and an associated tutorial article that
&gt; &gt; covers building REST-ful apps over ASP.NET/IIS w/ C# here:
&gt; &gt; http://exyus.com/articles/tasklist/
&gt; &gt;
&gt; &gt; Feedback is appreciated here or @ http://groups.google.com/group/exyus
&gt; &gt;
&gt; &gt; TIA
&gt; &gt; MikeA
&gt; &gt;
&gt;
&gt; Hey Mike -
&gt;
&gt; I'm curious to know why you didn't use REST features available in WCF
&gt; since it seems your work is being done in .NET.
&gt;
&gt; Additionally, can you provide an explanation on the following statement:
&gt;
&gt; It should be noted that XML (text/xml) is not a very useful "content
&gt; type" for building HTTP applications. Other content types that would be
&gt; more useful would be Atom (application/atom+xml) or RDF
&gt; (application/rdf+xml). However, for this example, we'll use XML to keep
&gt; things as simple as possible. If you wish, you can use this example as
&gt; a starting point to add support for your favorite content type.
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;



-- 
mca
"In a time of universal deceit, telling the truth becomes a
revolutionary act. " (George Orwell)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10339<br>
Sender:John Panzer &lt;jpanzer@...&gt;<br>
Post Date/Time:2008-01-29 18:06:43<br>
Subject:Re: [rest-discuss] W3C Working Group on Cross-Domain requests needs your feedback<br>
Message:<br><br>
<pre>It's difficult to jump into the middle of these threads and catch up.

(It sounds like they're not trying to do anything about proactive UA 
blocking of cross-site GETs, just POST/DELETE/PUT.  Cross site GETs can 
have serious resource usage consequences, up to and including DDOS 
attacks.  Though I understand why they might not want to tackle that, it 
would be awfully nice if a server could simply specify (to a compliant 
UA) which sets of resources are available for cross-site requests and 
which are not.  As long as we're changing browser code anyway we might 
as well go for it.  And this would handle all methods in one efficient 
mechanism.)

But yes, having to do two requests for each POST/PUT/DELETE is a major 
problem for protocols such as AtomPub / GData.  (Full disclosure:  I 
manage the Blogger engineering team at Google and this would impact us 
quite a bit.)

John

Tyler Close wrote:
&gt; Hi all,
&gt;
&gt; The Web Applications Format Working Group is currently finishing up
&gt; design work on a specification for Cross-Domain requests in the
&gt; browser that could have a significant impact on the design of future
&gt; web applications. I believe the WG's current proposal puts REST
&gt; designs at a significant disadvantage. The Working Group will be
&gt; taking up this issue in its weekly teleconference this Wednesday and I
&gt; hope feedback from the members of this mailing list might help
&gt; communicate the importance of this issue for web developers.
&gt;
&gt; Currently, the Same Origin Policy limits the ways in which a web page
&gt; served by one site, Site A, can communicate with resources hosted on a
&gt; separate site, Site B. The WG aims to provide a way for Site B and the
&gt; browser to agree on a loosening of these restrictions. For example,
&gt; given the consent of Site B, the browser would allow a page from Site
&gt; A to receive the response to a GET request on a resource hosted by
&gt; Site B. Similarly, the page from Site A would be allowed to send an
&gt; arbitrary POST to a resource hosted by Site B and receive the
&gt; response.
&gt;
&gt; Essentially, the WG's current proposal is for the server to express a
&gt; cross-domain request policy (XDRP) for each hosted resource. Before
&gt; sending a cross-domain, non-GET request to a particular resource, the
&gt; web browser must query that resource's XDRP and enforce any expressed
&gt; constraints. For more detail, please refer to the the WG's current
&gt; draft proposal &lt;http://dev.w3.org/2006/waf/access-control/&gt;.
&gt;
&gt; One of the problems with this design is that there is a mandatory
&gt; network round-trip to fetch the XDRP for a resource before the browser
&gt; can begin communicating with that resource. Essentially, there's a one
&gt; network round-trip penalty for each distinct URI a web application
&gt; uses. For example, consider the effect of this design on a mashup that
&gt; uses the ATOM protocol to communicate with another site. When creating
&gt; a new member resource, the server sends the client a distinct URI
&gt; identifying the resource. In essence, the server is saying: "Send your
&gt; updates here". But before sending a PUT request to the specified URL,
&gt; the mashup application must first send a request for the XDRP, in
&gt; effect asking permission to use the resource it was just told to use.
&gt; The same happens for each distinct URL the client uses. The result is
&gt; a tragically comical network protocol in which the client repeatedly
&gt; asks permission to do what the server just told the client it could
&gt; do.
&gt;
&gt; I've pointed out this problem to the WG and the response from one of
&gt; the main contributors to the specification was:
&gt;
&gt; Ian Hickson wrote:
&gt;   
&gt;&gt; I do not believe that we should change the API to optimise for the one
&gt;&gt; case of an API that involves a lot of non-GET requests to unique
&gt;&gt; resources. It is trivial to optimise the server's protocol in
&gt;&gt; this case
&gt;&gt; anyway (just use one URI and put the parameters in the body), and this
&gt;&gt; more closely matches what most people will be doing anyway.
&gt;&gt;     
&gt;
&gt; See: &lt;http://lists.w3.org/Archives/Public/public-appformats/2008Jan/0297.html&gt;
&gt;
&gt; Members of this mailing list may see a similarity between this
&gt; proposed design advice and the long-ago discussions about the design
&gt; of SOAP where requests are all sent to a single URL and the actual
&gt; target resource is identified by arguments in the message body.
&gt;
&gt; I also pointed out that this design advice discourages use of URIs,
&gt; whereas webarch encourages use of URIs. The reply was *only*:
&gt;
&gt; Ian Hickson wrote:
&gt;   
&gt;&gt; I disagree with much of Web Arch.
&gt;&gt;     
&gt;
&gt; See: &lt;http://lists.w3.org/Archives/Public/public-appformats/2008Jan/0299.html&gt;
&gt;
&gt; Going forward, it seems likely that an important measure of the design
&gt; quality of a web application will be how well it works in a mashup.
&gt; Many designs that a REST proponent may favour involve heavy use of
&gt; URIs. Under the WG's current proposal, these designs will be penalized
&gt; with a network round-trip for each distinct URI. The proposal's main
&gt; designer dismisses this design style. The WG's editor sees this issue
&gt; as only a "quibble":
&gt;
&gt; See: &lt;http://lists.w3.org/Archives/Public/public-appformats/2008Jan/0306.html&gt;
&gt;
&gt; Mark Nottingham and I have proposed an alternate design for
&gt; cross-domain requests that does not have these performance problems
&gt; and negative design pressures. Essentially, the alternate proposal
&gt; asks the host, instead of each resource, if it is willing to accept
&gt; cross-domain requests. If so, these requests are then so labeled, in
&gt; the same way as the WG currently proposes. The task of enforcing a
&gt; per-resource policy is then managed solely by the host. Under such a
&gt; design, there is one network round-trip before requests begin to flow,
&gt; but it is one round-trip per host, not per resource. This way there is
&gt; no penalty for heavy use of URIs. To date, the WG has rejected
&gt; pursuing such a design.
&gt;
&gt; This design discussion is also taking place under the time pressure of
&gt; the Firefox 3 release, which plans to implement the WG's current
&gt; proposal. Should this release happen, this topic may be a done deal.
&gt; Jonas Sicking seems to be the Mozilla representative participating on
&gt; this WG.
&gt;
&gt; In my opinion, the WG's current proposal would have a negative impact
&gt; on the viability of REST design on the Web. I think members of this
&gt; mailing list should consider these issues and make their voices heard
&gt; on the WG's mailing list for public feedback. Before posting to this
&gt; list, you must first subscribe by sending an email to:
&gt;
&gt; mailto:public-appformats-request@...?subject=subscribe
&gt;
&gt; Hopefully, significant feedback from this community will positively
&gt; influence the discussion of these issues in Wednesday's telecon.
&gt;
&gt; --Tyler
&gt;
&gt;
&gt;  
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;   

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10340<br>
Sender:Jerome Louvel &lt;contact@...&gt;<br>
Post Date/Time:2008-01-29 19:02:09<br>
Subject:Re: REST and ESB<br>
Message:<br><br>
<pre>Hi Antnio,

[...]

&gt; Does someone care to comment on this approach? It's probably not full 
&gt; RESTfull (!) and too Java-centric but we are avoiding RPC and other 
&gt; common pitfalls. I think...
&gt; 
&gt; Now I wonder if we should use Restlets instead of Servlets, but my boss 
&gt; doesn't see any point in creating another dependency just to handle the 
&gt; requests, ant thoughts on this?

The Restlet framework would bring you a higher level API than the 
Servlet API (content negotiation, easier caching control, template URI 
based routing, resource/representation classes, etc.). For more 
arguments, see this FAQ entry:
http://www.restlet.org/about/faq#03

It can be deployed as a standalone solution (using an HTTP connector 
such as Jetty) or embedded withing a Servlet container (using a small 
adapter piece).

&gt; Another nice piece of software I saw that could be useful is 
&gt; https://www.openadaptor.org/ &lt;https://www.openadaptor.org/&gt;, does anyone 
&gt; has experience with it?

You could also use existing client-side Restlet connectors for SMTP, 
FILE, JDBC and build new ones if necessary for FTP, POP3, etc.

Hope this helps,

Best regards,
-- 
Jerome Louvel
http://www.noelios.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10341<br>
Sender:"Steve Loughran" &lt;steve.loughran.soapbuilders@...&gt;<br>
Post Date/Time:2008-01-30 20:43:57<br>
Subject:Re: [rest-discuss] REST asynchronous services<br>
Message:<br><br>
<pre>On Jan 27, 2008 7:30 AM, David Sidlinger &lt;david.sidlinger@...&gt; wrote:
&gt; On 22 Jan, 2008, at 7:12 PM, Assaf Arkin wrote:
&gt;
&gt; &gt; Browser extension can do anything -- assuming a browser extension is a
&gt; &gt; viable option (not all browsers, corporate rules, OS dependent, etc)
&gt; &gt; -- but the hole punching sequence requires some handshake happening on
&gt; &gt; top of the IP stack, so if you're already going that route, other
&gt; &gt; compelling options emerge, like pull daemons, two-way connections, P2P
&gt; &gt; libraries, XMPP, etc.
&gt; &gt;
&gt; &gt; Assaf
&gt;
&gt;
&gt; I think that the corporate rules alone would be an insurmountable
&gt; barrier.  Security departments would (correctly) freak out about
&gt; thousands of servers running on a corporate network.  It's hard enough
&gt; to keep up with the security patches and hardening of the handful of
&gt; servers normally allowed to communicate with the outside world.  I've
&gt; never seen an environment that allowed for active FTP, for example.

I like XMPP as a protocol for lots of reasons
 -tracks moving devices like laptops
 -lets you bond to servers whose IP addr is chosen at deployment
 -good libraries (smack) with debugging
 -nice integration with the GUI. Not as easy as going  telnet host 80
then GET something HTTP/1.0, but you can use the presence indicators
to see if processes are there, and maybe send them messages.

What you can't rely on is the firewall punch through working
-unscathed- forever. It works today because IT havent noticed. Once
they do, if it is considered mission critical it will stay up
(somehow), if not, it gets blocked. Its easy enough in an internet to
change the DNS settings for talk.google.com, or alter your proxy to
block the main IM servers. There are also commercial relay products
which take that altered DNS/proxy settings and do a man-in-the-middle
on them, scanning attachments, maybe text. I dont know how they handle
arbitrary XMPP. I do know that a sufficiently organised corporation
can push out its own CA onto all its managed client PCs, so the
browsers dont even notice that the HTTPS link is being intercepted.

Enjoy the freedoms of XMPP while it lasts, and hope that we can come
up with enough value for them that they stay open. Even if locked out
from the outside world, installing OpenFire is fairly easy, there are
some SmartFrog components to do this and then let you talk between
nodes using the protocol.

-Steve

-steve

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10342<br>
Sender:"Ebenezer Ikonne" &lt;amaeze@...&gt;<br>
Post Date/Time:2008-01-31 02:15:11<br>
Subject:Re: announce: REST sample and tutorial posted<br>
Message:<br><br>
<pre>&gt; BTW - It's been a while, so I might have mised the forests for the
&gt; trees. I'd be happy to check out some REST-ful examples built w/ 
WCF,
&gt; if you have any to recommend.

There is "better" support in the 3.5 framework so you may want to 
take a look at that.  I'm working on something right now but there 
isn't much too much out there.

&gt; 
&gt; As for my comment on text/xml...
&gt; text/xml is a pretty 'non-informative[g]' mime-type. when i see 
Atom,
&gt; RDF, RSS, i know a great deal about the document - what's required,
&gt; data types, etc. All that without using a schema or other document 
to
&gt; tell me that. It would probably have been better for me to use a
&gt; custom content-type for my example:
&gt; "application/vnd.amundsen.tasklist+xml" or something like that. But,
&gt; as long as the client and server already understand the schema, 
there
&gt; is no big deal.

Agreed.  Unfortunately Atom and RSS are not always the best types for 
conveying representation of a resource.  I'm not sure I agree with 
the need to share schemas of represenation with clients - what if the 
type is JSON or something else?  Then I couldn't use a schema.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10343<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-01-31 02:43:05<br>
Subject:Re: [rest-discuss] Re: announce: REST sample and tutorial posted<br>
Message:<br><br>
<pre>&lt;snip&gt;
&gt; There is "better" support in the 3.5 framework so you may want to
&gt; take a look at that.  I'm working on something right now but there
&gt; isn't much too much out there.
&lt;/snip&gt;

Yes, i noticed that. after my post to you i revisited the WCF in 3.5.
seems a bit better at routing tables, etc. Still seems very SOAP-ish,
tho. I'm going to dig into it a bit more.

&lt;snip&gt;
&gt; Agreed.  Unfortunately Atom and RSS are not always the best types for
&gt; conveying representation of a resource.  I'm not sure I agree with
&gt; the need to share schemas of represenation with clients - what if the
&gt; type is JSON or something else?  Then I couldn't use a schema.
&lt;/snip&gt;

True, some formats are better at self-description than others.
Mime-types like JPEG, etc. are fully described and well understood by
clients. HTML is also well understood (if loose). XML really has
almost nothing. Niether does JSON in the way to description. some
basic rules and that's all.  Atom, however, is very well described.

I have worked up an Atom representation for the TaskList example this
week. Right now, I am working on a JSON representation.  I hope to
have them added to the sample over the next few days.

MCA

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10344<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-01-31 05:43:36<br>
Subject:Re: [rest-discuss] REST asynchronous services<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10345<br>
Sender:Brendan Taylor &lt;whateley@...&gt;<br>
Post Date/Time:2008-01-31 14:49:04<br>
Subject:Re: [rest-discuss] REST asynchronous services<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10346<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-01-31 16:18:30<br>
Subject:Re: Required ETag?<br>
Message:<br><br>
<pre>* Miles Crawford &lt;mcrawfor@...&gt; [2008-01-28 18:25]:
&gt; Thoughts?

The server is never under any obligation to honour a request. It
can always reject any request it wants to on whatever grounds it
deems sufficient.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10347<br>
Sender:Toby Thain &lt;toby@...&gt;<br>
Post Date/Time:2008-02-01 00:34:42<br>
Subject:Re: [rest-discuss] REST asynchronous services<br>
Message:<br><br>
<pre>
On 30-Jan-08, at 11:43 PM, dev wrote:

&gt; Hey,
&gt;
&gt; Only problem with XMPP right now is that they don't have any XEP on  
&gt; encryption.
&gt;

Servers such as ejabberd support TLS (SSL).

--Toby


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10348<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-02-05 09:48:48<br>
Subject:Re: [rest-discuss] W3C Working Group on Cross-Domain requests needs your feedback<br>
Message:<br><br>
<pre>On 1/28/08, Tyler Close &lt;tyler.close@...&gt; wrote:
&gt;
&gt;  Mark Nottingham and I have proposed an alternate design for
&gt;  cross-domain requests that does not have these performance problems
&gt;  and negative design pressures.

Do you have the alternative proposal drafted up anywhere?

Maybe I'm missing something, but I'm not seeing the benefit of the W3
proposal - surely any evil UA can simply bypass the constraints? (I'm
not including browser-hosted scripts in this comment).

Alan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10349<br>
Sender:"pavan.potti" &lt;pavan.potti@...&gt;<br>
Post Date/Time:2008-02-06 17:52:50<br>
Subject:Hi all i need some help on my thesis<br>
Message:<br><br>
<pre>
 Hi all,

                 My name is Pavan, and i am masters student started 
recently my thesis on REST. I started searching on net for REST 
research papers but hardly found 2 or 3. And in my software and 
hardware requirements i stated the use of Apache Axis, was that suite 
for designing REST.

                  
              Putting all together, Please help me where i can find 
very good resources of REST in the sense of programing REST using 
Java, its research papers et..

Thanks in Advance,

 ANy kind of reply is highly appreciated,

Pavan.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10350<br>
Sender:Kyumars Sheykh Esmaili &lt;kyumars1981@...&gt;<br>
Post Date/Time:2008-02-06 20:47:09<br>
Subject:Re: [rest-discuss] Hi all i need some help on my thesis<br>
Message:<br><br>
<pre>Hi Pavan,
This article might be useful for you:
http://java.sun.com/developer/technicalArticles/WebServices/restful/

Additionally, there is a Java api (AX-RS (JSR 311) for building restful web services. Here you can get an open source implementation of it:
https://jersey.dev.java.net/

Hope it helps,
--Kyumars


"pavan.potti" &lt;pavan.potti@...&gt; wrote:                               
  Hi all,
 
 My name is Pavan, and i am masters student started 
 recently my thesis on REST. I started searching on net for REST 
 research papers but hardly found 2 or 3. And in my software and 
 hardware requirements i stated the use of Apache Axis, was that suite 
 for designing REST.
 
 Putting all together, Please help me where i can find 
 very good resources of REST in the sense of programing REST using 
 Java, its research papers et..
 
 Thanks in Advance,
 
 ANy kind of reply is highly appreciated,
 
 Pavan.
 
 
     
                               

       
---------------------------------
Looking for last minute shopping deals?  Find them fast with Yahoo! Search.</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10351<br>
Sender:Damaris Fuentes &lt;dfl_maradentro@...&gt;<br>
Post Date/Time:2008-02-07 00:31:57<br>
Subject:Re: [rest-discuss] Hi all i need some help on my thesis<br>
Message:<br><br>
<pre>There is also a book called Restful Web Services[1] with lots of examples. And there is a framework for Java/J2EE called Restlet to implement REST applications.
   
  [1] http://www.amazon.com/RESTful-Web-Services-Leonard-Richardson/dp/0596529260/ref=pd_bbs_sr_1?ie=UTF8&amp;s=books&amp;qid=1202344175&amp;sr=1-1
  

Kyumars Sheykh Esmaili &lt;kyumars1981@...&gt; escribi:
          Hi Pavan,
This article might be useful for you:
http://java.sun.com/developer/technicalArticles/WebServices/restful/

Additionally, there is a Java api (AX-RS (JSR 311) for building restful web services. Here you can get an open source implementation of it:
https://jersey.dev.java.net/

Hope it helps,
--Kyumars


"pavan.potti" &lt;pavan.potti@...&gt; wrote:       
Hi all,

My name is Pavan, and i am masters student started 
recently my thesis on REST. I started searching on net for REST 
research papers but hardly found 2 or 3. And in my software and 
hardware requirements i stated the use of Apache Axis, was that suite 
for designing REST.

Putting all together, Please help me where i can find 
very good resources of REST in the sense of programing REST using 
Java, its research papers et..

Thanks in Advance,

ANy kind of reply is highly appreciated,

Pavan.




    
---------------------------------
  Looking for last minute shopping deals? Find them fast with Yahoo! Search.   

                         




****
"Y ya nadie distingue 
si las manchas de mi ropa
son de sangre o de carmn."
*****************************************
       
---------------------------------

Con Mascota por primera vez? - S un mejor Amigo
Entra en Yahoo! Respuestas.
  </pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10352<br>
Sender:"Teo Hui Ming" &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2008-02-07 15:30:33<br>
Subject:Re: [rest-discuss] Hi all i need some help on my thesis<br>
Message:<br><br>
<pre>On Feb 7, 2008 1:52 AM, pavan.potti &lt;pavan.potti@...&gt; wrote:
&gt;  Putting all together, Please help me where i can find
&gt;  very good resources of REST in the sense of programing REST using
&gt;  Java, its research papers et..

AFAIK, Justin R. Erenkrantz published a survey on a few web
application tools &amp; frameworks,
"Architectural Styles of Extensible REST-based Applications"
and more at &lt;http://www.erenkrantz.com/Geeks/Research/&gt;

Interestingly, there is a related early work in HP Lab (i.e. Cooltown)
led by Tim Kindberg, regarding the application of Web as middleware
for ubiquitous computing,
"Sensor-enhanced Mobile Web Clients: an XForms Approach"
and more at &lt;http://www.champignon.net/TimKindberg/projects.php&gt;

--
Teo Hui Ming

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10353<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-02-07 17:25:56<br>
Subject:Conditional GETs in the State Graph<br>
Message:<br><br>
<pre>Hey,

In most places, REST is said to be a style in which the application
state is a graph, with each resource/URI being a node, and hyperlinks
being edges from one node to another. Thus implying HATEOS.

What I am wondering about is - how does something lke
url.com/search?s=temp1 and url.com/search?s=temp2 etc. look like in
this graph? Is it a single node or infinites nodes? If it is a single
node, then shouldn't GET always give the same representation?

I know this might be a little academic, but it actually popped into my
mind while I was reading RESTful Web Services.

Regards,
Devdatta

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10354<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2008-02-07 17:42:43<br>
Subject:Re: [rest-discuss] Conditional GETs in the State Graph<br>
Message:<br><br>
<pre>Hi Devdatta,

each URI identifies a different resource and each will upon GET return a representation that when consumed by the client alters the state it is in with respect to the application it proceeds through (e.g. an Amazon purchase or a Google Search).

The impact of the representation returned by any of the two resources might not differ or even be insignificant, but this is entirely up to the application and cannot be discussed at the level of the application protocol (here HTTP).

Does that help?

Jan
 

On Thursday, February 07, 2008, at 06:26PM, "dev" &lt;dev.akhawe@...&gt; wrote:
&gt;Hey,
&gt;
&gt;In most places, REST is said to be a style in which the application
&gt;state is a graph, with each resource/URI being a node, and hyperlinks
&gt;being edges from one node to another. Thus implying HATEOS.
&gt;
&gt;What I am wondering about is - how does something lke
&gt;url.com/search?s=temp1 and url.com/search?s=temp2 etc. look like in
&gt;this graph? Is it a single node or infinites nodes? If it is a single
&gt;node, then shouldn't GET always give the same representation?
&gt;
&gt;I know this might be a little academic, but it actually popped into my
&gt;mind while I was reading RESTful Web Services.
&gt;
&gt;Regards,
&gt;Devdatta
&gt;
&gt;
&gt; 
&gt;Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10355<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-02-07 18:08:31<br>
Subject:Re: [rest-discuss] Conditional GETs in the State Graph<br>
Message:<br><br>
<pre>Hey,

&gt; Does that help?

Umm , no! :)

I know each URI represents a different resource etc. But I am asking a
specific question as to how this can be seen in the graph that is
generally used to depict Restful Apps or ROAs?

See for e.g from RESTful Web Services Fig 4.4(c) page 96.

If you give each possible query a node, then you will end up with a
possibly infinite number of nodes. A graph which is very sparse as the
nodes wouldn't mostly connect amongst each other.


This is not much of a practical question, more of a query (say academic!) .

&gt;but this is entirely up to the application and cannot be discussed at
the level of the application protocol (here HTTP).
Are you saying that this is not the concern of rest-discuss ?


Regards,
Devdatta

On 07/02/2008, Jan Algermissen &lt;algermissen1971@...&gt; wrote:
&gt; Hi Devdatta,
&gt;
&gt; each URI identifies a different resource and each will upon GET return a representation that when consumed by the client alters the state it is in with respect to the application it proceeds through (e.g. an Amazon purchase or a Google Search).
&gt;
&gt; The impact of the representation returned by any of the two resources might not differ or even be insignificant, but this is entirely up to the application and cannot be discussed at the level of the application protocol (here HTTP).
&gt;

&gt;
&gt; Jan
&gt;
&gt;
&gt; On Thursday, February 07, 2008, at 06:26PM, "dev" &lt;dev.akhawe@...&gt; wrote:
&gt; &gt;Hey,
&gt; &gt;
&gt; &gt;In most places, REST is said to be a style in which the application
&gt; &gt;state is a graph, with each resource/URI being a node, and hyperlinks
&gt; &gt;being edges from one node to another. Thus implying HATEOS.
&gt; &gt;
&gt; &gt;What I am wondering about is - how does something lke
&gt; &gt;url.com/search?s=temp1 and url.com/search?s=temp2 etc. look like in
&gt; &gt;this graph? Is it a single node or infinites nodes? If it is a single
&gt; &gt;node, then shouldn't GET always give the same representation?
&gt; &gt;
&gt; &gt;I know this might be a little academic, but it actually popped into my
&gt; &gt;mind while I was reading RESTful Web Services.
&gt; &gt;
&gt; &gt;Regards,
&gt; &gt;Devdatta
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;Yahoo! Groups Links
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10356<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2008-02-08 00:15:04<br>
Subject:Is PHP more RESTful than J2EE, Django or Rails?<br>
Message:<br><br>
<pre>See http://blog.ianbicking.org/2008/01/12/what-php-deployment-gets-right/

&lt;excerpt&gt;
With the recent talk on the blogosphere about deployment (and for
Django, and lots of other posts too), people are thinking about PHP a
bit more analytically. I think people mostly get it wrong[...]
every [PHP] request creates a new process, and the process handles
only one request.
&lt;/excerpt&gt;

Whereas J2EE, Django and Rails all keep long-running processes to
service many requests.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10357<br>
Sender:Jim Ancona &lt;jim@...&gt;<br>
Post Date/Time:2008-02-08 04:54:30<br>
Subject:Re: [rest-discuss] Is PHP more RESTful than J2EE, Django or Rails?<br>
Message:<br><br>
<pre>Bob Haugen wrote:
&gt; Whereas J2EE, Django and Rails all keep long-running processes to
&gt; service many requests.

And?? What do long-running processes (or the lack thereof) have to do 
with REST?

Jim


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10358<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2008-02-08 12:08:28<br>
Subject:Re: [rest-discuss] Is PHP more RESTful than J2EE, Django or Rails?<br>
Message:<br><br>
<pre>On Feb 7, 2008 10:54 PM, Jim Ancona &lt;jim@...&gt; wrote:
&gt; Bob Haugen wrote:
&gt; &gt; Whereas J2EE, Django and Rails all keep long-running processes to
&gt; &gt; service many requests.
&gt;
&gt; And?? What do long-running processes (or the lack thereof) have to do
&gt; with REST?

PHP is inherently stateless by design.  Altho people can cheat in ways
to make it more stateful, it cuts against the grain of each
request-response pair being independent of other interactions.

I'm not trying to champion PHP here, just to suggest (as the
referenced article did) that the the long-running processes of the
others on the subject line have some drawbacks, and those drawbacks
are related to REST's stateless constraint.

(I'm also trying to pick a platform for a new project, which is what
occasioned looking into these matters.)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10359<br>
Sender:"Teo Hui Ming" &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2008-02-08 12:41:08<br>
Subject:Re: [rest-discuss] Conditional GETs in the State Graph<br>
Message:<br><br>
<pre>On Feb 8, 2008 1:25 AM, dev &lt;dev.akhawe@...&gt; wrote:
&gt;  What I am wondering about is - how does something lke
&gt;  url.com/search?s=temp1 and url.com/search?s=temp2 etc. look like in
&gt;  this graph? Is it a single node or infinites nodes? If it is a single
&gt;  node, then shouldn't GET always give the same representation?

If you notice, in OO design, we seldom talk about the actual runtime
object graph. Instead, we use class diagram to represent an
abstraction of the actual object graph. Perhaps the same applies in
Web resource graph modeling.

A typical Web search application probably has a SearchDoc, represents
query form, which links to zero or more SearchResult.

 {Abstract Class} --hyperlink--&gt; [cardinality]{Abstract Class}

 {SearchDoc} -----&gt; [0..*]{SearchResult}


In Google search app, for example, we may further define that,
"http://www.google.com/" implements SearchDoc, and
"http://www.google.com/search?q={searchTerms}" implements
SearchResult.

 (Class) ---hyperlink---&gt; [cardinality](Class)

 ("http://g/")---&gt;[0..*]("http://g/search?q={searchTerms}")


Finally, in the runtime resource graph, we can say that, resource with
URI "http://g/search?q=foo" and resource with URI
"http://g/search?q=bar" are two distinct resources (or objects). They
are similar, simply because they are instantiated from the same class,
i.e. "http://g/search?q={searchTerms}".

-- 
Teo Hui Ming

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10360<br>
Sender:"Lawrence Oluyede" &lt;l.oluyede@...&gt;<br>
Post Date/Time:2008-02-08 12:48:12<br>
Subject:Re: [rest-discuss] Is PHP more RESTful than J2EE, Django or Rails?<br>
Message:<br><br>
<pre>&gt; PHP is inherently stateless by design.

What do you mean?

&gt;  Altho people can cheat in ways
&gt; to make it more stateful, it cuts against the grain of each
&gt; request-response pair being independent of other interactions.

If you discard state upon each request/response cycle you are are
stateless. In each framework, anywhere.

-- 
Lawrence, stacktrace.it - oluyede.org - neropercaso.it
"It is difficult to get a man to understand
something when his salary depends on not
understanding it" - Upton Sinclair

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10361<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2008-02-08 13:07:52<br>
Subject:Re: [rest-discuss] Is PHP more RESTful than J2EE, Django or Rails?<br>
Message:<br><br>
<pre>Comments inline.

On Feb 8, 2008 6:48 AM, Lawrence Oluyede &lt;l.oluyede@...&gt; wrote:
&gt; &gt; PHP is inherently stateless by design.
&gt;
&gt; What do you mean?

I mean each interaction is independent by the way PHP works: loading
and unloading completely per interaction.

&gt; &gt;  Altho people can cheat in ways
&gt; &gt; to make it more stateful, it cuts against the grain of each
&gt; &gt; request-response pair being independent of other interactions.
&gt;
&gt; If you discard state upon each request/response cycle you are are
&gt; stateless. In each framework, anywhere.

You can *use* any of the frameworks in a stateless manner.  But in
PHP, it is built-in.  And this appears to be significant not only for
RESTfulness but also for hosting companies.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10362<br>
Sender:Fabio Mancinelli &lt;fm@...&gt;<br>
Post Date/Time:2008-02-08 08:34:48<br>
Subject:Re: [rest-discuss] Conditional GETs in the State Graph<br>
Message:<br><br>
<pre>
On 7 fvr. 08, at 18:25, dev wrote:

&gt; Hey,
&gt;
&gt; In most places, REST is said to be a style in which the application
&gt; state is a graph, with each resource/URI being a node, and hyperlinks
&gt; being edges from one node to another. Thus implying HATEOS.
&gt;
&gt; What I am wondering about is - how does something lke
&gt; url.com/search?s=temp1 and url.com/search?s=temp2 etc. look like in
&gt; this graph? Is it a single node or infinites nodes? If it is a single
&gt; node, then shouldn't GET always give the same representation?
&gt;
&gt; I know this might be a little academic, but it actually popped into my
&gt; mind while I was reading RESTful Web Services.
&gt;
Hi Dev,

not sure of having understood the question.

However from my point of view each URI should be a node and each node
should "expose" an arbitrarily big set of representations that vary  
over time.

In fact, as Fielding states in his PhD thesis:
"More precisely, a resource R is a temporally varying membership  
function MR(t), which for time t maps to a set of entities, or values,  
which are equivalent. The values in the set may beresource  
representations and/or resource identifiers."

How to map all of this in a graph is not clear.

Cheers,
Fabio

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10363<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-02-08 16:23:05<br>
Subject:Re: [rest-discuss] Conditional GETs in the State Graph<br>
Message:<br><br>
<pre>Hey,

&gt;However from my point of view each URI should be a node and each node
&gt;should "expose" an arbitrarily big set of representations that vary
&gt;over time.
&gt; How to map all of this in a graph is not clear.

Mapping this is trivial. I don't care what is inside the node of a
graph is not my concern... a node is a resource, at some instance what
it will return is not my concern, as it will _always_ return the
representation of the resource.


&gt; Finally, in the runtime resource graph, we can say that, resource with
&gt; URI "http://g/search?q=foo" and resource with URI
&gt; "http://g/search?q=bar" are two distinct resources (or objects). They
&gt; are similar, simply because they are instantiated from the same class,
&gt; i.e. "http://g/search?q={searchTerms}".
&gt;

I thought so too. But in most cases , if you try to show a web
application by something akin to this there could be problems. say
page A has a search form. If every possible query is a new node then
there could be a infinite possible edges from A to other nodes, all of
which are essentially the same except for a parameter (which changes
the resource they represent , no doubt! ).

I sometimes think that it is a single node, which by some magic will
always return what the user wants (i.e the params of the GET aren't a
concern of the graph). It is a simple abstraction that could work .
But many a times, in places where people are not comfortable with
mod_rewrite , ? is used instead of URIs. For e.g in most forum
software , a thread is of the form :
&lt;home&gt;/subforum/thread-title-threadid
but if mod_rewrite didn't work it would be :
&lt;home&gt;/thread.php?sf=subforum&amp;tt=thread-title&amp;tid=threadid


Regards,
Devdatta

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10364<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2008-02-08 19:27:16<br>
Subject:Re: [rest-discuss] Is PHP more RESTful than J2EE, Django or Rails?<br>
Message:<br><br>
<pre>On Feb 8, 2008 7:07 AM, Bob Haugen &lt;bob.haugen@...&gt; wrote:
&gt; Comments inline.
&gt;
&gt;
&gt; On Feb 8, 2008 6:48 AM, Lawrence Oluyede &lt;l.oluyede@...&gt; wrote:
&gt; &gt; &gt; PHP is inherently stateless by design.
&gt; &gt;
&gt; &gt; What do you mean?
&gt;
&gt; I mean each interaction is independent by the way PHP works: loading
&gt; and unloading completely per interaction.
&gt;
&gt;
&gt; &gt; &gt;  Altho people can cheat in ways
&gt; &gt; &gt; to make it more stateful, it cuts against the grain of each
&gt; &gt; &gt; request-response pair being independent of other interactions.
&gt; &gt;
&gt; &gt; If you discard state upon each request/response cycle you are are
&gt; &gt; stateless. In each framework, anywhere.
&gt;
&gt; You can *use* any of the frameworks in a stateless manner.  But in
&gt; PHP, it is built-in.  And this appears to be significant not only for
&gt; RESTfulness but also for hosting companies.
&gt;
&gt;
&gt;

Bob,

That property of PHP has little to do with Restfulness. Of all things
to compare frameworks on, the fact that it runs like a CGI script is
about the least relevant.

Anyway, the shared state of web apps lives in e.g. MySQL or on the
local filesystem, so it's plenty easy to make a stateful session in
PHP, just as easy and no harder than doing it in Django or JSPs.
You're just talking about another kind of shared state, the kind that
lives in process memory. That's maybe the least interesting kind.

No matter what technique you use to subvert statelessness ... memory,
file system, rdbms... you have to set a cookie or decorate hyperlinks
to connect that shared state up properly. PHP makes it just as easy to
do that as any other framework.

What's a lot more relevant is how the framework divides up the URI
space. Most people use PHP, JSP/servlets, ASP, and CGI the same way:
the script lives at a given URI. That's the default, easiest way to
use these technologies. IOW the URI designates code, not a resource.

Django has a nice framework for dispatching based on Regexps. If you
follow this technique it's a lot more natural to identify resources
with a URI and attach the one script that takes some parameters, to a
bunch of URIs.. .e.g. http://server.com/(\w+)/(\w+) could map the
regex matches to variables like userName, pageId... or catalogId,
partNumber... whatever.

You can do the same thing in the other frameworks, you just have to
write the  code to dispatch based on the PATH_INFO. Django did this
for you.

Hugh

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10365<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2008-02-08 20:06:57<br>
Subject:Re: [rest-discuss] Is PHP more RESTful than J2EE, Django or Rails?<br>
Message:<br><br>
<pre>On Feb 8, 2008 1:27 PM, Hugh Winkler &lt;hughw@...&gt; wrote:
&gt; That property of PHP has little to do with Restfulness. Of all things
&gt; to compare frameworks on, the fact that it runs like a CGI script is
&gt; about the least relevant.

I disagree, but...

&gt; Django has a nice framework for dispatching based on Regexps. If you
&gt; follow this technique it's a lot more natural to identify resources
&gt; with a URI and attach the one script that takes some parameters, to a
&gt; bunch of URIs.. .e.g. http://server.com/(\w+)/(\w+) could map the
&gt; regex matches to variables like userName, pageId... or catalogId,
&gt; partNumber... whatever.

I actually picked Django for my project, at least until I run into
some showstopper.  But I find that it is a lot more difficult and
expensive to find hosting for Django than PHP.  (And more expensive
yet for J2EE...)

I know that is not exactly synonymous with RESTfulness, but there's
something about a language designed for the Web, regardless of its
other qualities, that makes it fit better.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10366<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-02-08 20:31:25<br>
Subject:Re: [rest-discuss] Is PHP more RESTful than J2EE, Django or Rails?<br>
Message:<br><br>
<pre>On Fri, Feb 8, 2008 at 12:06 PM, Bob Haugen &lt;bob.haugen@...&gt; wrote:
&gt;  I know that is not exactly synonymous with RESTfulness, but there's
&gt;  something about a language designed for the Web, regardless of its
&gt;  other qualities, that makes it fit better.

PHP has definite benefits when it comes to shared hosting, something
Rails and J2EE were not designed to do.  On the other hand, if you're
running on a manager server, Rails and J2EE have a lot more
capabilities than PHP.

I wouldn't say one is more Web than the other.  And I wouldn't say
shared hosting is a better model for the Web.  They won't let you run
a Web crawler, scale to more than one server/database, etc.

-- Assaf
http://labnotes.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10367<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2008-02-08 22:00:39<br>
Subject:Re: [rest-discuss] Is PHP more RESTful than J2EE, Django or Rails?<br>
Message:<br><br>
<pre>Hi Assaf,

On Feb 8, 2008 2:31 PM, Assaf Arkin &lt;assaf@...&gt; wrote:
&gt; PHP has definite benefits when it comes to shared hosting, something
&gt; Rails and J2EE were not designed to do.  On the other hand, if you're
&gt; running on a manager server, Rails and J2EE have a lot more
&gt; capabilities than PHP.
&gt;
&gt; I wouldn't say one is more Web than the other.  And I wouldn't say
&gt; shared hosting is a better model for the Web.  They won't let you run
&gt; a Web crawler, scale to more than one server/database, etc.

As I said, I am not pushing PHP here, and I understand what you are
saying.  I wd like to find a platform that can scale from the tiny to
the huge, but don't know what that is.  REST can do it, but the common
Web frameworks do not appear to be capable.  (And I do think J2EE
fights the Web more than it fits.)

In the meantime, Django looks like it will work for my immediate requirements.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10368<br>
Sender:Peter Keane &lt;pkeane@...&gt;<br>
Post Date/Time:2008-02-08 22:02:15<br>
Subject:Re: [rest-discuss] Is PHP more RESTful than J2EE, Django or Rails?<br>
Message:<br><br>
<pre>On Fri, Feb 08, 2008 at 02:06:57PM -0600, Bob Haugen wrote:
&gt; On Feb 8, 2008 1:27 PM, Hugh Winkler &lt;hughw@...&gt; wrote:
&gt; &gt; That property of PHP has little to do with Restfulness. Of all things
&gt; &gt; to compare frameworks on, the fact that it runs like a CGI script is
&gt; &gt; about the least relevant.
&gt; 
&gt; I disagree, but...
&gt; 

I would have to disagree as well. I find that the shared-nothing mindset
of PHP is certainly relevant and is quite "REST"-ish. Of course, what
you can do in one language you can do in another (Turing-completeness
and all), but the success of PHP (i.e., it is widely deployed) is due,
in some degree, to its inherent "web"-ness. Of course, that leads
to some shady practices like overuse of global variables (because
everything is wiped out at the end of the request anyway) which is bad
for all kinds of reasons. It's no more difficult to write good PHP than
good Python, it's just easier to write bad PHP than bad Python. I simply
find that PHP works "with the grain" of REST. The ability to distribute
processes that is a mark of good RESTful design is related to those
qualities that make PHP attractive to shared hosting providers.


&gt; &gt; Django has a nice framework for dispatching based on Regexps. If you
&gt; &gt; follow this technique it's a lot more natural to identify resources
&gt; &gt; with a URI and attach the one script that takes some parameters, to a
&gt; &gt; bunch of URIs.. .e.g. http://server.com/(\w+)/(\w+) could map the
&gt; &gt; regex matches to variables like userName, pageId... or catalogId,
&gt; &gt; partNumber... whatever.
&gt; 

Indeed it does, but taking on the overhead of a framework like Django
can be a bit much when what you need is URL dispatching. I realize some
folks will disagree, but the available frameworks out there are, for my
taste, too much overhead especially when taking a RESTful approach to
application design (i.e., client will request a url and I'll send back
a resource), not having to worry to much about side-effects, etc. In
fact, I find the opportunity to simply make a libcurl call or use the
document() function in XSLT against RESTful interfaces (in the course
of answering a single request), the application code itself become very
simple. Often the database access layer itself can be exposed as a
REST/HTTP interface, so that the entire application code is a set of
RESTful interfaces that will be consumed -- either by a client or by the
code itself.

All the framework you need for most (MVC) applications is a URL
dispatcher, a database layer or ORM, and a templating/presentation
layer.  In PHP, you have PDO, etc. for database layer, Smarty,XSLT, or
PHP itself for templating, and you can write a URL dispatcher w/o too
much difficulty.

I have taken a LOT from reading Joe Gregorio's posts about his
"throw-away" framework
(http://bitworking.org/news/Why_so_many_Python_web_frameworks) and one
lesson, although not perhaps the intended one, is that REST is your
framework, not Rails or Django or Struts or whatever.  REST provides
most of the "definitions" that you need to get the job done.  Why not
write a framework in 60 lines of Python (or PHP)?  And while you are at it, maybe
even change you mind about throwing it away...

--peter keane
http://daseproject.org
http://code.google.com/p/dase/


&gt; I actually picked Django for my project, at least until I run into
&gt; some showstopper.  But I find that it is a lot more difficult and
&gt; expensive to find hosting for Django than PHP.  (And more expensive
&gt; yet for J2EE...)
&gt; 
&gt; I know that is not exactly synonymous with RESTfulness, but there's
&gt; something about a language designed for the Web, regardless of its
&gt; other qualities, that makes it fit better.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10369<br>
Sender:Peter Keane &lt;pkeane@...&gt;<br>
Post Date/Time:2008-02-09 05:13:14<br>
Subject:Re: [rest-discuss] Is PHP more RESTful than J2EE, Django or Rails?<br>
Message:<br><br>
<pre>On Fri, Feb 08, 2008 at 12:31:25PM -0800, Assaf Arkin wrote:
&gt; On Fri, Feb 8, 2008 at 12:06 PM, Bob Haugen &lt;bob.haugen@...&gt; wrote:
&gt; &gt;  I know that is not exactly synonymous with RESTfulness, but there's
&gt; &gt;  something about a language designed for the Web, regardless of its
&gt; &gt;  other qualities, that makes it fit better.
&gt; 
&gt; PHP has definite benefits when it comes to shared hosting, something
&gt; Rails and J2EE were not designed to do.  On the other hand, if you're
&gt; running on a manager server, Rails and J2EE have a lot more
&gt; capabilities than PHP.
&gt; 
I would be curious to know what the "lot more capabilities" are
that Rails and J2EE have over PHP. While I would agree that in many
circumstances Rails or J2EE might be a better choice, the whole idea of
REST (as oppossed to, say, WS-*) is that there are a small, well-defined
set of "capabilites" required to share in the full richness of what the
web has to offer. I have seen on more than one occassion a J2EE project
fail due to development overhead (design complexity, over-engineering,
etc.) only to have a well-thought-out PHP application save the day.

And while I appreciate the "simple and clean is good" aesthetic that Rails
injected into this arena, I worry when folks think that Rails has some
corner on simple MVC/Front Controller-&gt;ORM-&gt;templating code. And when
books like "Advanced Rails" and "The Rails Way" appear, I have to wonder
if we are once again trying to abstract away the core "principles" of
HTTP and good application design. A coder who "knows" Rails but doesn't
really know what's happening underneath is worrisome. To my taste
(although I confess I have only dabbled with it), Rails seems to have a
bit too much magic and rails-ishness going on.
		
I use a simple ORM based on an IBM Developer Works article [0] that in
a few dozen lines of PHP, gives me all the object-relational mapping I
need, and I know EXACTLY how it works (and can subclass it accordingly).

I am not the world's hugest fan of PHP -- I prefer Perl myself and am
constantly amazed at the community surrounding Python (though I have
not yet had the pleasure of deploying a Python web application). I just
think that discussions of "what's the best programming language for
web application development" are quite often asking the wrong questions.
When debates about batch capabilities in the AtomPub discussions came
up, I was charmed by a Roy Fielding post where he mentioned that he'd
likely reach for "a shell script and curl" when faced with the task of
posting 10,000 entries. It just got me thinking -- the language, to a
large extent, just doesn't matter. Do what's simple &amp; practical.

--peter keane

[0] http://www.ibm.com/developerworks/xml/library/os-php-flexobj/
[1] http://www.imc.org/atom-protocol/mail-archive/msg01117.html

&gt; I wouldn't say one is more Web than the other.  And I wouldn't say
&gt; shared hosting is a better model for the Web.  They won't let you run
&gt; a Web crawler, scale to more than one server/database, etc.
&gt; 
&gt; -- Assaf
&gt; http://labnotes.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10370<br>
Sender:Peter Keane &lt;pkeane@...&gt;<br>
Post Date/Time:2008-02-09 05:34:03<br>
Subject:Re: [rest-discuss] Is PHP more RESTful than J2EE, Django or Rails?<br>
Message:<br><br>
<pre>&gt; corner on simple MVC/Front Controller-&gt;ORM-&gt;templating code. And when
&gt; books like "Advanced Rails" and "The Rails Way" appear, I have to wonder
&gt; if we are once again trying to abstract away the core "principles" of
&gt; HTTP and good application design. A coder who "knows" Rails but doesn't

A quick addendum: I actually like both of those books -- my point was to
emphasize the importance of the underlying principles and not *simply*
the favored implementation-of-the-day. And I look forward to "Ruby in
Practice" which I suspect will be a superb exploration of the principles
AND best practices, which is just what's needed.

--peter keane
  
&gt;ne &gt; I wouldn't say one is more Web than the other.  And I wouldn't say
&gt; &gt; shared hosting is a better model for the Web.  They won't let you run
&gt; &gt; a Web crawler, scale to more than one server/database, etc.
&gt; &gt; 
&gt; &gt; -- Assaf
&gt; &gt; http://labnotes.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10371<br>
Sender:"Teo Hui Ming" &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2008-02-09 07:04:08<br>
Subject:Re: [rest-discuss] Conditional GETs in the State Graph<br>
Message:<br><br>
<pre>On Feb 9, 2008 12:23 AM, dev &lt;dev.akhawe@...&gt; wrote:
&gt; &gt; Finally, in the runtime resource graph, we can say that, resource with
&gt; &gt; URI "http://g/search?q=foo" and resource with URI
&gt; &gt; "http://g/search?q=bar" are two distinct resources (or objects). They
&gt; &gt; are similar, simply because they are instantiated from the same class,
&gt; &gt; i.e. "http://g/search?q={searchTerms}".
&gt;
&gt; I thought so too. But in most cases , if you try to show a web
&gt; application by something akin to this there could be problems. say
&gt; page A has a search form. If every possible query is a new node then
&gt; there could be a infinite possible edges from A to other nodes, all of
&gt; which are essentially the same except for a parameter (which changes
&gt; the resource they represent , no doubt! ).

When documenting web application design, I find it easier not to draw
the runtime resource graph. Just like in OO design, we seldom draw the
runtime object graph, but we do draw class diagram. The "infinite
possible edges from A to other nodes" can be documented using
association link + cardinality (e.g. A ----&gt;[0..*]B).


-- 
Teo Hui Ming

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10372<br>
Sender:"Eric J. Bowman" &lt;ericbowman@...&gt;<br>
Post Date/Time:2008-02-09 06:27:19<br>
Subject:Wbox HTTP testing tool<br>
Message:<br><br>
<pre>I found this in pkgsrc-wip the other day, and wondered why I hadn't 
heard of it yet: 

http://www.hping.org/wbox/ 

I've found it quite useful already, thought it deserved a mention 
here. Enjoy! 

-Eric




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10373<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-02-10 01:53:54<br>
Subject:Re: Is PHP more RESTful than J2EE, Django or Rails?<br>
Message:<br><br>
<pre>* Peter Keane &lt;pkeane@...&gt; [2008-02-08 23:05]:
&gt; I find that the shared-nothing mindset of PHP is certainly
&gt; relevant and is quite "REST"-ish.

Shared-nothing mindset? Sessions are built right into the core of
PHP; AFAIK you cant even compile a PHP binary that doesnt have
session support. Not that it would be much use for anything,
because practically not a single PHP app in existence would run
on such a thing.

Then again, the values I calculate in the templates of my
Catalyst app start out undefined in every request, and likewise
would if I were using Rails, Django or whatever else. The kind of
shared-nothingness that PHP implements by default exists every
bit as much in MVC frameworks as it does in PHP.

&gt; the success of PHP (i.e., it is widely deployed) is due, in
&gt; some degree, to its inherent "web"-ness.

Yes, the fact that each page is ultimately a CGI that terminates
at the end of the request cycle means that PHP apps are
ridiculously stable: theres no long-running process that can get
wedged, so you can leave them deployed and unmaintained for years
and theyll still work when you come back.

But that has nothing to do with any sort of RESTfulness. Natively
PHP leads you toward a style where you structure your URI space
around operations implemented by scripts which operate on things
identified by a database key passed via query parameter. Thats
crystal clear RPC style: you put the verb in the URI and use
app-specific identifiers for your resources. PHP does not
encourage a resource-oriented design at all.

The success of PHP as a web platform is in some sense due to
the same reason as Excels success as a desktop programming
environment.

&gt; Often the database access layer itself can be exposed as a
&gt; REST/HTTP interface, so that the entire application code is a
&gt; set of RESTful interfaces that will be consumed -- either by a
&gt; client or by the code itself.

Thats an oversimplification, just like using an ORM directly as
the model in an MVC app is an oversimplification. It may work,
just like using an ORM as the model in an MVC app works in a
pinch; but its not a particularly good way to go about things.
The logic should all be in the model, with the database serving
as a layer below it; the controller has no other responsibility
than to translate from HTTP to your model. If your controller
methods are routinely longer than 2 or 3 lines, youre doing
something wrong.

&gt; All the framework you need for most (MVC) applications is a URL
&gt; dispatcher, a database layer or ORM, and a templating/
&gt; presentation layer.

Errm, yes, youve just described an MVC framework.

&gt; In PHP, you have PDO, etc. for database layer, Smarty, XSLT, or
&gt; PHP itself for templating, and you can write a URL dispatcher
&gt; w/o too much difficulty.

Or you can use a framework and not bother reinventing the URI
dispatcher wheel yet again.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10374<br>
Sender:Peter Keane &lt;pkeane@...&gt;<br>
Post Date/Time:2008-02-10 02:57:33<br>
Subject:Re: [rest-discuss] Re: Is PHP more RESTful than J2EE, Django or	Rails?<br>
Message:<br><br>
<pre>On Sun, Feb 10, 2008 at 02:53:54AM +0100, Aristotle Pagaltzis wrote:
&gt; * Peter Keane &lt;pkeane@...&gt; [2008-02-08 23:05]:
&gt; &gt; I find that the shared-nothing mindset of PHP is certainly
&gt; &gt; relevant and is quite "REST"-ish.
&gt; 
&gt; Shared-nothing mindset? Sessions are built right into the core of
&gt; PHP; AFAIK you can???t even compile a PHP binary that doesn???t have
&gt; session support. Not that it would be much use for anything,
&gt; because practically not a single PHP app in existence would run
&gt; on such a thing.
&gt; 
Well, in fact, I have built many PHP apps w/ lots of use &amp; users and
have never used PHP's built in session support -- in fact I generally
advise against using it.

&gt; Then again, the values I calculate in the templates of my
&gt; Catalyst app start out undefined in every request, and likewise
&gt; would if I were using Rails, Django or whatever else. The kind of
&gt; shared-nothingness that PHP implements by default exists every
&gt; bit as much in MVC frameworks as it does in PHP.
&gt; 

Sure, but for better or worse there is a persistant process that you
need to be at least mindful of if you are using mod_perl as opposed to
cgi 

&gt; &gt; the success of PHP (i.e., it is widely deployed) is due, in
&gt; &gt; some degree, to its inherent "web"-ness.
&gt; 
&gt; Yes, the fact that each page is ultimately a CGI that terminates
&gt; at the end of the request cycle means that PHP apps are
&gt; ridiculously stable: there???s no long-running process that can get
&gt; wedged, so you can leave them deployed and unmaintained for years
&gt; and they???ll still work when you come back.
&gt; 

Indeed, and in my field (Higher Ed), that's real important
(unfortunately!). 

&gt; But that has nothing to do with any sort of RESTfulness. Natively
&gt; PHP leads you toward a style where you structure your URI space
&gt; around operations implemented by scripts which operate on things
&gt; identified by a database key passed via query parameter. That???s
&gt; crystal clear RPC style: you put the verb in the URI and use
&gt; app-specific identifiers for your resources. PHP does not
&gt; encourage a resource-oriented design at all.

I never suggest it was RESTful, I DID say that there are qualities that
REST and a terminating CGI share, in terms of mindset.  Others might
rightly not feel that way.

But I need to take exception with "Natively PHP leads you towards..."
etc., as your description is nothing like any PHP app I have ever
built. Are there bad PHP programs (even widely popular ones) and
books that promote bad practices? Yup. I have spent a good bit of time
building apps in Struts &amp; Catalyst, but my favorite experiences were
with Template::Toolkit, Class::DBI (I suspect I'd use DBIx::Class now),
and a simple url dispatcher in mod_perl. While I'd prefer to be working
w/ Perl, I have found PHP to be a perfectly suitable way to build clean,
stable, resource-oriented apps.

&gt; The success of PHP as a web platform is in some sense due to
&gt; the same reason as Excel???s success as a desktop programming
&gt; environment.
&gt; 

:-). Probably, true... And I will note -- if Perl or Python ends up with
a deployment option that's as ubiquitous and stable as PHP's I'll switch
in a heartbeat. My sysadmins won't consider mod_perl OR mod_python.

&gt; &gt; Often the database access layer itself can be exposed as a
&gt; &gt; REST/HTTP interface, so that the entire application code is a
&gt; &gt; set of RESTful interfaces that will be consumed -- either by a
&gt; &gt; client or by the code itself.
&gt; 
&gt; That???s an oversimplification, just like using an ORM directly as
&gt; the model in an MVC app is an oversimplification. It may work,
&gt; just like using an ORM as the model in an MVC app works in a
&gt; pinch; but it???s not a particularly good way to go about things.
&gt; The logic should all be in the model, with the database serving
&gt; as a layer below it; the controller has no other responsibility
&gt; than to translate from HTTP to your model. If your controller
&gt; methods are routinely longer than 2 or 3 lines, you???re doing
&gt; something wrong.

Well, how about 5 lines? Note there is no db call, just a url pointer
to the atom feed for the collection which'll be consumed by the XSLT
stylesheet document() function, (i.e. the Atom feed is the "model").

class CollectionHandler {

public static function browse() {
	$params = Dase::instance()-&gt;params;
	$tmp = new Dase_Xslt;
	$tmp-&gt;stylesheet = XSLT_PATH.'collection/browse.xsl';
	$tmp-&gt;set('src',APP_ROOT.  '/atom/collection/' . $params['collection_ascii_id']);
	Dase::display($tmp-&gt;transform());
}
....
}
&gt;
&gt; 
&gt; &gt; All the framework you need for most (MVC) applications is a URL
&gt; &gt; dispatcher, a database layer or ORM, and a templating/
&gt; &gt; presentation layer.
&gt; 
&gt; Errm, yes, you???ve just described an MVC framework.
&gt; 
&gt; &gt; In PHP, you have PDO, etc. for database layer, Smarty, XSLT, or
&gt; &gt; PHP itself for templating, and you can write a URL dispatcher
&gt; &gt; w/o too much difficulty.
&gt; 
&gt; Or you can use a framework and not bother reinventing the URI
&gt; dispatcher wheel yet again.
&gt; 

Well, the URL dispatcher isn't so difficult to create, and it happens to
be something that I want to do my own way (not Django's or Catalyst's or
Rail's). And thankfully for open source code, I get to see how all of
those folks do it, so I can glean good ideas.

What would be ideal (for me) is a set of URL dispatchers I could choose
from, the way I can choose my favorite ORM or Templating solution.
CGI::Application comes to mind, and I have definitely enjoyed using
that.

Frankly, you can write bad code in *any* language and when the only
choice is PHP, it is certainly possible to make solid apps. I'd actually
like to see good practices encouraged in the PHP community rather than
have it all written off.

--peter keane

&gt; Regards,
&gt; -- 
&gt; Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10375<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-02-10 03:12:08<br>
Subject:Re: [rest-discuss] Is PHP more RESTful than J2EE, Django or Rails?<br>
Message:<br><br>
<pre>On Fri, Feb 8, 2008 at 9:13 PM, Peter Keane &lt;pkeane@...&gt; wrote:
&gt; On Fri, Feb 08, 2008 at 12:31:25PM -0800, Assaf Arkin wrote:
&gt;  &gt; On Fri, Feb 8, 2008 at 12:06 PM, Bob Haugen &lt;bob.haugen@...&gt; wrote:
&gt;  &gt; &gt;  I know that is not exactly synonymous with RESTfulness, but there's
&gt;  &gt; &gt;  something about a language designed for the Web, regardless of its
&gt;  &gt; &gt;  other qualities, that makes it fit better.
&gt;  &gt;
&gt;  &gt; PHP has definite benefits when it comes to shared hosting, something
&gt;  &gt; Rails and J2EE were not designed to do.  On the other hand, if you're
&gt;  &gt; running on a manager server, Rails and J2EE have a lot more
&gt;  &gt; capabilities than PHP.
&gt;  &gt;
&gt;  I would be curious to know what the "lot more capabilities" are
&gt;  that Rails and J2EE have over PHP. While I would agree that in many
&gt;  circumstances Rails or J2EE might be a better choice, the whole idea of
&gt;  REST (as oppossed to, say, WS-*) is that there are a small, well-defined
&gt;  set of "capabilites" required to share in the full richness of what the
&gt;  web has to offer. I have seen on more than one occassion a J2EE project
&gt;  fail due to development overhead (design complexity, over-engineering,
&gt;  etc.) only to have a well-thought-out PHP application save the day.

Let me pick three (*), in no particular order:

- If you choose GUI, Java has better tooling support for management,
debugging, troubleshooting, monitoring, etc.  PHP and Ruby do not come
close.  If you choose the command line, Ruby is the better contender.
PHP ... what command line tools?

(I'm only referring here to tools that benefit from using the same
language as the application, e.g. database migration in Rails).

- Love them or hate them, some of us do need to use SOAP services on
the back-end.  Java/.Net at a league ahead of Ruby/PHP.  But if you're
using SalesForce or Amazon Web Services, Ruby has some amazing
libraries to choose from.

- If you have to mix languages, Ruby and Python play nicely with Java
and .Net.  No such luck with PHP.

Assaf

(*) The hardest part is not finding them, but editing to just three.



&gt;  I am not the world's hugest fan of PHP -- I prefer Perl myself and am
&gt;  constantly amazed at the community surrounding Python (though I have
&gt;  not yet had the pleasure of deploying a Python web application). I just
&gt;  think that discussions of "what's the best programming language for
&gt;  web application development" are quite often asking the wrong questions.
&gt;  When debates about batch capabilities in the AtomPub discussions came
&gt;  up, I was charmed by a Roy Fielding post where he mentioned that he'd
&gt;  likely reach for "a shell script and curl" when faced with the task of
&gt;  posting 10,000 entries. It just got me thinking -- the language, to a
&gt;  large extent, just doesn't matter. Do what's simple &amp; practical.
&gt;
&gt;  --peter keane
&gt;
&gt;  [0] http://www.ibm.com/developerworks/xml/library/os-php-flexobj/
&gt;  [1] http://www.imc.org/atom-protocol/mail-archive/msg01117.html
&gt;
&gt;
&gt;
&gt;  &gt; I wouldn't say one is more Web than the other.  And I wouldn't say
&gt;  &gt; shared hosting is a better model for the Web.  They won't let you run
&gt;  &gt; a Web crawler, scale to more than one server/database, etc.
&gt;  &gt;
&gt;  &gt; -- Assaf
&gt;  &gt; http://labnotes.org
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10376<br>
Sender:Peter Keane &lt;pkeane@...&gt;<br>
Post Date/Time:2008-02-10 05:21:15<br>
Subject:Re: [rest-discuss] Is PHP more RESTful than J2EE, Django or Rails?<br>
Message:<br><br>
<pre>On Sat, Feb 09, 2008 at 07:12:08PM -0800, Assaf Arkin wrote:
&gt; On Fri, Feb 8, 2008 at 9:13 PM, Peter Keane &lt;pkeane@...&gt; wrote:
&gt; &gt; On Fri, Feb 08, 2008 at 12:31:25PM -0800, Assaf Arkin wrote:
&gt; &gt;  &gt; On Fri, Feb 8, 2008 at 12:06 PM, Bob Haugen &lt;bob.haugen@...&gt; wrote:
&gt; &gt;  &gt; &gt;  I know that is not exactly synonymous with RESTfulness, but there's
&gt; &gt;  &gt; &gt;  something about a language designed for the Web, regardless of its
&gt; &gt;  &gt; &gt;  other qualities, that makes it fit better.
&gt; &gt;  &gt;
&gt; &gt;  &gt; PHP has definite benefits when it comes to shared hosting, something
&gt; &gt;  &gt; Rails and J2EE were not designed to do.  On the other hand, if you're
&gt; &gt;  &gt; running on a manager server, Rails and J2EE have a lot more
&gt; &gt;  &gt; capabilities than PHP.
&gt; &gt;  &gt;
&gt; &gt;  I would be curious to know what the "lot more capabilities" are
&gt; &gt;  that Rails and J2EE have over PHP. While I would agree that in many
&gt; &gt;  circumstances Rails or J2EE might be a better choice, the whole idea of
&gt; &gt;  REST (as oppossed to, say, WS-*) is that there are a small, well-defined
&gt; &gt;  set of "capabilites" required to share in the full richness of what the
&gt; &gt;  web has to offer. I have seen on more than one occassion a J2EE project
&gt; &gt;  fail due to development overhead (design complexity, over-engineering,
&gt; &gt;  etc.) only to have a well-thought-out PHP application save the day.
&gt; 
&gt; Let me pick three (*), in no particular order:
&gt; 
&gt; - If you choose GUI, Java has better tooling support for management,
&gt; debugging, troubleshooting, monitoring, etc.  PHP and Ruby do not come
&gt; close.  If you choose the command line, Ruby is the better contender.
&gt; PHP ... what command line tools?
&gt; 
&gt; (I'm only referring here to tools that benefit from using the same
&gt; language as the application, e.g. database migration in Rails).
&gt; 
&gt; - Love them or hate them, some of us do need to use SOAP services on
&gt; the back-end.  Java/.Net at a league ahead of Ruby/PHP.  But if you're
&gt; using SalesForce or Amazon Web Services, Ruby has some amazing
&gt; libraries to choose from.
&gt; 
&gt; - If you have to mix languages, Ruby and Python play nicely with Java
&gt; and .Net.  No such luck with PHP.
&gt; 
&gt; Assaf
&gt; 
&gt; (*) The hardest part is not finding them, but editing to just three.
&gt; 

All true, but my point is that you don't automatically benefit from
those capabilities simply by choosing Java or Ruby if you do not not
need them -- and in many cases you won't. There's a significant overhead
that comes with Java development (and I could recount a number of
failures stemming from a perception that Java was simply "better"
somehow, when if fact PHP turned out to be the much more practical, and
ultimately successful, choice).

Ruby is another matter. I don't feel like deployment is completely
settled yet. If/when it is and deployment "best practices" are well
understood and well established, I do think it's benefits over PHP would
be salient.  But it's not the case just yet.
	   
--peter keane

&gt; 
&gt; 
&gt; &gt;  I am not the world's hugest fan of PHP -- I prefer Perl myself and am
&gt; &gt;  constantly amazed at the community surrounding Python (though I have
&gt; &gt;  not yet had the pleasure of deploying a Python web application). I just
&gt; &gt;  think that discussions of "what's the best programming language for
&gt; &gt;  web application development" are quite often asking the wrong questions.
&gt; &gt;  When debates about batch capabilities in the AtomPub discussions came
&gt; &gt;  up, I was charmed by a Roy Fielding post where he mentioned that he'd
&gt; &gt;  likely reach for "a shell script and curl" when faced with the task of
&gt; &gt;  posting 10,000 entries. It just got me thinking -- the language, to a
&gt; &gt;  large extent, just doesn't matter. Do what's simple &amp; practical.
&gt; &gt;
&gt; &gt;  --peter keane
&gt; &gt;
&gt; &gt;  [0] http://www.ibm.com/developerworks/xml/library/os-php-flexobj/
&gt; &gt;  [1] http://www.imc.org/atom-protocol/mail-archive/msg01117.html
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;  &gt; I wouldn't say one is more Web than the other.  And I wouldn't say
&gt; &gt;  &gt; shared hosting is a better model for the Web.  They won't let you run
&gt; &gt;  &gt; a Web crawler, scale to more than one server/database, etc.
&gt; &gt;  &gt;
&gt; &gt;  &gt; -- Assaf
&gt; &gt;  &gt; http://labnotes.org
&gt; &gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10377<br>
Sender:"Ebenezer Ikonne" &lt;amaeze@...&gt;<br>
Post Date/Time:2008-02-11 01:29:36<br>
Subject:Write-only resources<br>
Message:<br><br>
<pre>Does anyone see issues with exposing a resource as write-only?  If a 
resource is write-only, should the design be revisited?  I read 
somewhere that its good design to make all resources at least "read-
able", so if HTTP is the protocol of choice, the resource needs to be 
GET'able.

Any thoughts?




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10378<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-02-11 02:00:16<br>
Subject:Re: [rest-discuss] Write-only resources<br>
Message:<br><br>
<pre>I usually define a resource URL that allows POST (/postable/) that
writes data to the server (file- or data-store) and then define
another resource URL that allows reading that same data from the
server.

So it looks like this:
POST /postable/  (response 204)

Then later:
GET /recent-posts/ (returns list of items recently posted to /postable/)

Often I set rights on the /postable/ URL to POST=true and
GET,HEAD,PUT,DELETE=false.  The /recent-posts/ URL might be accessible
only by admins or other higher-level users.

Hope this helps.

Mike A

On Feb 10, 2008 8:29 PM, Ebenezer Ikonne &lt;amaeze@...&gt; wrote:
&gt; Does anyone see issues with exposing a resource as write-only?  If a
&gt; resource is write-only, should the design be revisited?  I read
&gt; somewhere that its good design to make all resources at least "read-
&gt; able", so if HTTP is the protocol of choice, the resource needs to be
&gt; GET'able.
&gt;
&gt; Any thoughts?
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10379<br>
Sender:"Ebenezer Ikonne" &lt;amaeze@...&gt;<br>
Post Date/Time:2008-02-11 02:28:08<br>
Subject:Re: Write-only resources<br>
Message:<br><br>
<pre>It helps in that you're thinking what I'm thinking. :)

Thanks.

--- In rest-discuss@yahoogroups.com, "mike amundsen" &lt;mamund@...&gt; 
wrote:
&gt;
&gt; I usually define a resource URL that allows POST (/postable/) that
&gt; writes data to the server (file- or data-store) and then define
&gt; another resource URL that allows reading that same data from the
&gt; server.
&gt; 
&gt; So it looks like this:
&gt; POST /postable/  (response 204)
&gt; 
&gt; Then later:
&gt; GET /recent-posts/ (returns list of items recently posted 
to /postable/)
&gt; 
&gt; Often I set rights on the /postable/ URL to POST=true and
&gt; GET,HEAD,PUT,DELETE=false.  The /recent-posts/ URL might be 
accessible
&gt; only by admins or other higher-level users.
&gt; 
&gt; Hope this helps.
&gt; 
&gt; Mike A
&gt; 
&gt; On Feb 10, 2008 8:29 PM, Ebenezer Ikonne &lt;amaeze@...&gt; wrote:
&gt; &gt; Does anyone see issues with exposing a resource as write-only?  
If a
&gt; &gt; resource is write-only, should the design be revisited?  I read
&gt; &gt; somewhere that its good design to make all resources at 
least "read-
&gt; &gt; able", so if HTTP is the protocol of choice, the resource needs 
to be
&gt; &gt; GET'able.
&gt; &gt;
&gt; &gt; Any thoughts?
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; Yahoo! Groups Links
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; 
&gt; 
&gt; 
&gt; -- 
&gt; mca
&gt; http://amundsen.com/blog/
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10380<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-02-11 02:38:04<br>
Subject:Re: [rest-discuss] Re: Write-only resources<br>
Message:<br><br>
<pre>[great minds think alike, eh&lt;grin&gt;]

I use a similar pattern for handling comments and emails back to me. I
expose a POST-only URL and handle the details on the server side.

Mike A

On Feb 10, 2008 9:28 PM, Ebenezer Ikonne &lt;amaeze@...&gt; wrote:
&gt; It helps in that you're thinking what I'm thinking. :)
&gt;
&gt; Thanks.
&gt;
&gt; --- In rest-discuss@yahoogroups.com, "mike amundsen" &lt;mamund@...&gt;
&gt; wrote:
&gt; &gt;
&gt; &gt; I usually define a resource URL that allows POST (/postable/) that
&gt; &gt; writes data to the server (file- or data-store) and then define
&gt; &gt; another resource URL that allows reading that same data from the
&gt; &gt; server.
&gt; &gt;
&gt; &gt; So it looks like this:
&gt; &gt; POST /postable/  (response 204)
&gt; &gt;
&gt; &gt; Then later:
&gt; &gt; GET /recent-posts/ (returns list of items recently posted
&gt; to /postable/)
&gt; &gt;
&gt; &gt; Often I set rights on the /postable/ URL to POST=true and
&gt; &gt; GET,HEAD,PUT,DELETE=false.  The /recent-posts/ URL might be
&gt; accessible
&gt; &gt; only by admins or other higher-level users.
&gt; &gt;
&gt; &gt; Hope this helps.
&gt; &gt;
&gt; &gt; Mike A
&gt; &gt;
&gt; &gt; On Feb 10, 2008 8:29 PM, Ebenezer Ikonne &lt;amaeze@...&gt; wrote:
&gt; &gt; &gt; Does anyone see issues with exposing a resource as write-only?
&gt; If a
&gt; &gt; &gt; resource is write-only, should the design be revisited?  I read
&gt; &gt; &gt; somewhere that its good design to make all resources at
&gt; least "read-
&gt; &gt; &gt; able", so if HTTP is the protocol of choice, the resource needs
&gt; to be
&gt; &gt; &gt; GET'able.
&gt; &gt; &gt;
&gt; &gt; &gt; Any thoughts?
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; Yahoo! Groups Links
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt;
&gt; &gt; --
&gt; &gt; mca
&gt; &gt; http://amundsen.com/blog/
&gt; &gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10381<br>
Sender:"Ebenezer Ikonne" &lt;amaeze@...&gt;<br>
Post Date/Time:2008-02-11 02:55:06<br>
Subject:Including "metadata" in representations<br>
Message:<br><br>
<pre>This is more of a design/implementation question but I'm wondering if 
its acceptable to include "metadata" with the representation of a 
resource when the representation is being sent from a client to a 
server.  I am assuming yes, but I want to make sure.

Most trivial examples show (for example) the sending of an order's 
representation when the order is being updated.  But what if the user 
needs to send credentials so that the server can validate before 
actually updating the order?  How does this information get sent?

In other cases, "processing instructions" need to be provided so that 
the system knows exactly what to do the resource being manipulated - 
these processing instructions are not really part of the resource.

Thanks.




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10382<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-02-11 03:15:13<br>
Subject:Re: [rest-discuss] Is PHP more RESTful than J2EE, Django or Rails?<br>
Message:<br><br>
<pre>On Feb 9, 2008 9:21 PM, Peter Keane &lt;pkeane@...&gt; wrote:
&gt; All true, but my point is that you don't automatically benefit from
&gt; those capabilities simply by choosing Java or Ruby if you do not not
&gt; need them -- and in many cases you won't. There's a significant overhead
&gt; that comes with Java development (and I could recount a number of
&gt; failures stemming from a perception that Java was simply "better"
&gt; somehow, when if fact PHP turned out to be the much more practical, and
&gt; ultimately successful, choice).

The original point was that mod_php is somehow the better alternative,
because Ruby and Java don't have the same level of support for shared
hosting.  But that feature is also a liability, it focused PHP in a
particular direction at the expense of other capabilities that are
well developed in the Java, .Net, Ruby and Python worlds.

You can get too involved in Java to miss on opportunities where PHP is
the much better choice, but in reverse you can get too involved in PHP
to miss on opportunities where PHP simply doesn't cut it.  And the
shared hosting model, while really great for a lot of things, is also
poor perfomer on others.

&gt; Ruby is another matter. I don't feel like deployment is completely
&gt; settled yet. If/when it is and deployment "best practices" are well
&gt; understood and well established, I do think it's benefits over PHP would
&gt; be salient.  But it's not the case just yet.

Again it depends on what you're doing.  I had an easier time setting
up reverse proxy into Rails than setting up PHP so it executes code
but never accidentally serves the script over to the client.  YMMV.

Assaf

&gt;
&gt; --peter keane
&gt;
&gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; &gt;  I am not the world's hugest fan of PHP -- I prefer Perl myself and am
&gt; &gt; &gt;  constantly amazed at the community surrounding Python (though I have
&gt; &gt; &gt;  not yet had the pleasure of deploying a Python web application). I just
&gt; &gt; &gt;  think that discussions of "what's the best programming language for
&gt; &gt; &gt;  web application development" are quite often asking the wrong questions.
&gt; &gt; &gt;  When debates about batch capabilities in the AtomPub discussions came
&gt; &gt; &gt;  up, I was charmed by a Roy Fielding post where he mentioned that he'd
&gt; &gt; &gt;  likely reach for "a shell script and curl" when faced with the task of
&gt; &gt; &gt;  posting 10,000 entries. It just got me thinking -- the language, to a
&gt; &gt; &gt;  large extent, just doesn't matter. Do what's simple &amp; practical.
&gt; &gt; &gt;
&gt; &gt; &gt;  --peter keane
&gt; &gt; &gt;
&gt; &gt; &gt;  [0] http://www.ibm.com/developerworks/xml/library/os-php-flexobj/
&gt; &gt; &gt;  [1] http://www.imc.org/atom-protocol/mail-archive/msg01117.html
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;  &gt; I wouldn't say one is more Web than the other.  And I wouldn't say
&gt; &gt; &gt;  &gt; shared hosting is a better model for the Web.  They won't let you run
&gt; &gt; &gt;  &gt; a Web crawler, scale to more than one server/database, etc.
&gt; &gt; &gt;  &gt;
&gt; &gt; &gt;  &gt; -- Assaf
&gt; &gt; &gt;  &gt; http://labnotes.org
&gt; &gt; &gt;
&gt;



-- 
-- Assaf

http://labnotes.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10383<br>
Sender:"niravpatels" &lt;niravpatels@...&gt;<br>
Post Date/Time:2008-02-12 06:29:59<br>
Subject:Requst for webservices<br>
Message:<br><br>
<pre> Hello Friends I am requst to get the simple webservices made in java
Can anyone give me with code?


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10384<br>
Sender:Subbu Allamaraju &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-02-14 05:45:56<br>
Subject:Re: [rest-discuss] Including "metadata" in representations<br>
Message:<br><br>
<pre>

On Feb 10, 2008, at 6:55 PM, Ebenezer Ikonne wrote:

&gt; This is more of a design/implementation question but I'm wondering if
&gt; its acceptable to include "metadata" with the representation of a
&gt; resource when the representation is being sent from a client to a
&gt; server.  I am assuming yes, but I want to make sure.
&gt;
&gt; Most trivial examples show (for example) the sending of an order's
&gt; representation when the order is being updated.  But what if the user
&gt; needs to send credentials so that the server can validate before
&gt; actually updating the order?  How does this information get sent?

Are these credentials different from those that could be sent via HTTP  
authentication?

&gt; In other cases, "processing instructions" need to be provided so that
&gt; the system knows exactly what to do the resource being manipulated -
&gt; these processing instructions are not really part of the resource.

Could you elaborate? It is strange for a client to specify  
instructions on how to process a resource.

Subbu
http://subbu.org
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10385<br>
Sender:Griffin Caprio &lt;griffin.caprio@...&gt;<br>
Post Date/Time:2008-02-14 15:15:30<br>
Subject:Returning a Response Body for 400 errors<br>
Message:<br><br>
<pre>Hi all,

What's the best way to return specific errors to a client if they make  
a malformed request?  My company has a REST web service that accepts  
POSTed data to it.  We wanted to return a 400 response code in cases  
where the data being sent is invalid for some reason ( invalid XML,  
invalid business rules, etc.. ) .  We also wanted to return specific  
validation messages as part of the response body.

However, we're running into problems with some java clients because  
apparently the HttpUrlConnection class in the JDK swallows the  
response bodies when a 400 or higher return code is sent back:

 From HttpUrlConnection ( around line 970 )

if (respCode &gt;= 400) {
    if (respCode == 404 || respCode == 410) {
        throw new FileNotFoundException(url.toString());
    } else {
       throw new java.io.IOException(
                          "Server returned HTTP"
                          + " response code: " + respCode
                          + " for URL: " + url.toString());
    }
}


So my question: Is what we're trying to do not really correct?  I've  
looked in the HTTP spec and it says that an Entity Body may be  
returned with a 400 error, so maybe it's just a bug in the Java  
implementation?

Any input would be appreciated.

Thanks,
Griffin</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10386<br>
Sender:Chris Burdess &lt;dog@...&gt;<br>
Post Date/Time:2008-02-14 16:18:39<br>
Subject:Re: [rest-discuss] Returning a Response Body for 400 errors<br>
Message:<br><br>
<pre>Griffin Caprio wrote:
&gt; What's the best way to return specific errors to a client if they make  
&gt; a malformed request?  My company has a REST web service that accepts  
&gt; POSTed data to it.  We wanted to return a 400 response code in cases  
&gt; where the data being sent is invalid for some reason ( invalid XML,  
&gt; invalid business rules, etc.. ) .  We also wanted to return specific  
&gt; validation messages as part of the response body.
&gt; 
&gt; However, we're running into problems with some java clients because  
&gt; apparently the HttpUrlConnection class in the JDK swallows the  
&gt; response bodies when a 400 or higher return code is sent back:
&gt; 
&gt; From HttpUrlConnection ( around line 970 )
&gt; 
&gt; if (respCode &gt;= 400) {
&gt;    if (respCode == 404 || respCode == 410) {
&gt;        throw new FileNotFoundException(url.toString());
&gt;    } else {
&gt;       throw new java.io.IOException(
&gt;                          "Server returned HTTP"
&gt;                          + " response code: " + respCode
&gt;                          + " for URL: " + url.toString());
&gt;    }
&gt; }
&gt; 
&gt; 
&gt; So my question: Is what we're trying to do not really correct?

It is correct.

&gt; I've  
&gt; looked in the HTTP spec and it says that an Entity Body may be  
&gt; returned with a 400 error, so maybe it's just a bug in the Java  
&gt; implementation?

It's more of a pain to do with the way that HttpURLConnection is
specified. There is a workaround: HttpURLConnection.getErrorStream -
see the Javadoc for this - but most developers probably don't know
or ignore this.

Just a poor design.
-- 
Chris Burdess

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10387<br>
Sender:Subbu Allamaraju &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-02-14 16:23:32<br>
Subject:Re: [rest-discuss] Returning a Response Body for 400 errors<br>
Message:<br><br>
<pre>This looks like a bug in the HttpURLConnection. Per RFC 2616, "the  
server SHOULD include an entity containing an explanation of the error  
situation" for all 4xx errors. Accordingly, it is not necessarily the  
best choice for a client side API such as HttpURLConnection to consume  
the body and translate those errors into generic exceptions.

Subbu

On Feb 14, 2008, at 7:15 AM, Griffin Caprio wrote:

&gt; Hi all,
&gt;
&gt; What's the best way to return specific errors to a client if they  
&gt; make a malformed request?  My company has a REST web service that  
&gt; accepts POSTed data to it.  We wanted to return a 400 response code  
&gt; in cases where the data being sent is invalid for some reason  
&gt; ( invalid XML, invalid business rules, etc.. ) .  We also wanted to  
&gt; return specific validation messages as part of the response body.
&gt;
&gt; However, we're running into problems with some java clients because  
&gt; apparently the HttpUrlConnection class in the JDK swallows the  
&gt; response bodies when a 400 or higher return code is sent back:
&gt;
&gt; From HttpUrlConnection ( around line 970 )
&gt;
&gt; if (respCode &gt;= 400) {
&gt;    if (respCode == 404 || respCode == 410) {
&gt;        throw new FileNotFoundException(url.toString());
&gt;    } else {
&gt;       throw new java.io.IOException(
&gt;                          "Server returned HTTP"
&gt;                          + " response code: " + respCode
&gt;                          + " for URL: " + url.toString());
&gt;    }
&gt; }
&gt;
&gt;
&gt; So my question: Is what we're trying to do not really correct?  I've  
&gt; looked in the HTTP spec and it says that an Entity Body may be  
&gt; returned with a 400 error, so maybe it's just a bug in the Java  
&gt; implementation?
&gt;
&gt; Any input would be appreciated.
&gt;
&gt; Thanks,
&gt; Griffin
&gt; 

Subbu

http://subbu.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10388<br>
Sender:"Ebenezer Ikonne" &lt;amaeze@...&gt;<br>
Post Date/Time:2008-02-14 17:53:32<br>
Subject:Re: Including "metadata" in representations<br>
Message:<br><br>
<pre>Credentials was probably a bad illustration and processing 
instructions is just a wrong way to express what I'm after. :)

Basically I have/had a situation where I have resources such as a 
Book that exist in different locations/stores.  I was struggling (for 
a while) on how to indicate the location/store where I wanted the 
resource manipulated.

Anyway, the "location" should be part of the URI in my opinion as its 
part of the resources address.  

Thanks.

--- In rest-discuss@yahoogroups.com, Subbu Allamaraju 
&lt;subbu.allamaraju@...&gt; wrote:
&gt;
&gt; 
&gt; 
&gt; On Feb 10, 2008, at 6:55 PM, Ebenezer Ikonne wrote:
&gt; 
&gt; &gt; This is more of a design/implementation question but I'm 
wondering if
&gt; &gt; its acceptable to include "metadata" with the representation of a
&gt; &gt; resource when the representation is being sent from a client to a
&gt; &gt; server.  I am assuming yes, but I want to make sure.
&gt; &gt;
&gt; &gt; Most trivial examples show (for example) the sending of an order's
&gt; &gt; representation when the order is being updated.  But what if the 
user
&gt; &gt; needs to send credentials so that the server can validate before
&gt; &gt; actually updating the order?  How does this information get sent?
&gt; 
&gt; Are these credentials different from those that could be sent via 
HTTP  
&gt; authentication?
&gt; 
&gt; &gt; In other cases, "processing instructions" need to be provided so 
that
&gt; &gt; the system knows exactly what to do the resource being 
manipulated -
&gt; &gt; these processing instructions are not really part of the resource.
&gt; 
&gt; Could you elaborate? It is strange for a client to specify  
&gt; instructions on how to process a resource.
&gt; 
&gt; Subbu
&gt; http://subbu.org
&gt; &gt;
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10389<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-02-14 18:37:49<br>
Subject:Re: [rest-discuss] Re: Including "metadata" in representations<br>
Message:<br><br>
<pre>On Thu, Feb 14, 2008 at 5:53 PM, Ebenezer Ikonne &lt;amaeze@...&gt; wrote:
&gt;
&gt;  Basically I have/had a situation where I have resources such as a
&gt;  Book that exist in different locations/stores. I was struggling (for
&gt;  a while) on how to indicate the location/store where I wanted the
&gt;  resource manipulated.
&gt;
&gt;  Anyway, the "location" should be part of the URI in my opinion as its
&gt;  part of the resources address.

Perhaps something like:

Start by finding out info about the book:

--&gt;
GET /isbn/0123456789012

&lt;--
200 OK

&lt;book isbn="0123456789012"&gt;
  &lt;title&gt;A Cool Book&lt;/title&gt;
  &lt;location name="Los Angeles" href="http://example.com/location/london"&gt;
    &lt;stock count="12"
href="http://example.com/isbn/0123456789012/location/london" /&gt;
  &lt;/location&gt;
  &lt;location name="New York" href="http://example.com/location/paris"&gt;
    &lt;stock count="5"
href="http://example.com/isbn/0123456789012/location/paris" /&gt;
  &lt;/location&gt;
  ...
&lt;/book&gt;

If the UA wants to know more about the location, it can request the
&lt;location&gt; href:

--&gt;
GET /location/paris

&lt;--
200 OK

&lt;location name="Paris"&gt;
  ...
&lt;/location&gt;

If the UA wants to know more about the stock, it can request the &lt;stock&gt; href:

--&gt;
GET /isbn/0123456789012/location/london

&lt;--
200 OK

&lt;stock count="5"&gt;
  &lt;sku condition="new" id="abc123" href="http://example.com/sku/abc123"&gt;
    &lt;price currency="GBP"&gt;10.99&lt;/price&gt;
    &lt;price currency="EUR"&gt;15.99&lt;/price&gt;
    &lt;price currency="USD"&gt;18.49&lt;/price&gt;
  &lt;/sku&gt;
  ...
&lt;/stock&gt;

Does that work for you?

Regards,
Alan Dean
http://thoughtpad.net/alan-dean

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10390<br>
Sender:"Ebenezer Ikonne" &lt;amaeze@...&gt;<br>
Post Date/Time:2008-02-14 19:20:04<br>
Subject:Re: Including "metadata" in representations<br>
Message:<br><br>
<pre>&gt; Perhaps something like:
&gt; 
&gt; Start by finding out info about the book:
&gt; 
&gt; --&gt;
&gt; GET /isbn/0123456789012
&gt; 
&gt; &lt;--
&gt; 200 OK
&gt; 
&gt; &lt;book isbn="0123456789012"&gt;
&gt;   &lt;title&gt;A Cool Book&lt;/title&gt;
&gt;   &lt;location name="Los Angeles" 
href="http://example.com/location/london"&gt;
&gt;     &lt;stock count="12"
&gt; href="http://example.com/isbn/0123456789012/location/london" /&gt;
&gt;   &lt;/location&gt;
&gt;   &lt;location name="New York" 
href="http://example.com/location/paris"&gt;
&gt;     &lt;stock count="5"
&gt; href="http://example.com/isbn/0123456789012/location/paris" /&gt;
&gt;   &lt;/location&gt;
&gt;   ...
&gt; &lt;/book&gt;
&gt; 
&gt; If the UA wants to know more about the location, it can request the
&gt; &lt;location&gt; href:
&gt; 
&gt; --&gt;
&gt; GET /location/paris
&gt; 
&gt; &lt;--
&gt; 200 OK
&gt; 
&gt; &lt;location name="Paris"&gt;
&gt;   ...
&gt; &lt;/location&gt;
&gt; 
&gt; If the UA wants to know more about the stock, it can request the 
&lt;stock&gt; href:
&gt; 
&gt; --&gt;
&gt; GET /isbn/0123456789012/location/london
&gt; 
&gt; &lt;--
&gt; 200 OK
&gt; 
&gt; &lt;stock count="5"&gt;
&gt;   &lt;sku condition="new" id="abc123" 
href="http://example.com/sku/abc123"&gt;
&gt;     &lt;price currency="GBP"&gt;10.99&lt;/price&gt;
&gt;     &lt;price currency="EUR"&gt;15.99&lt;/price&gt;
&gt;     &lt;price currency="USD"&gt;18.49&lt;/price&gt;
&gt;   &lt;/sku&gt;
&gt;   ...
&gt; &lt;/stock&gt;
&gt; 

Well not exactly, but I could see how it could work. :)  I am 
interested in the book as my resource and not the location.

I guess I was thinking that the URI would look more so like this:
http://example.com/location/london/isbn/0123456789012

This is assuming that there was a search engine (web service) that 
could aggregate the location of the books i.e. how you started.

Thanks.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10391<br>
Sender:Griffin Caprio &lt;griffin.caprio@...&gt;<br>
Post Date/Time:2008-02-14 19:22:31<br>
Subject:Re: [rest-discuss] Returning a Response Body for 400 errors<br>
Message:<br><br>
<pre>Chris,

Great, thanks for your help!

- Griffin
On Feb 14, 2008, at 10:18 AM, Chris Burdess wrote:

&gt; Griffin Caprio wrote:
&gt;&gt; What's the best way to return specific errors to a client if they  
&gt;&gt; make
&gt;&gt; a malformed request?  My company has a REST web service that accepts
&gt;&gt; POSTed data to it.  We wanted to return a 400 response code in cases
&gt;&gt; where the data being sent is invalid for some reason ( invalid XML,
&gt;&gt; invalid business rules, etc.. ) .  We also wanted to return specific
&gt;&gt; validation messages as part of the response body.
&gt;&gt;
&gt;&gt; However, we're running into problems with some java clients because
&gt;&gt; apparently the HttpUrlConnection class in the JDK swallows the
&gt;&gt; response bodies when a 400 or higher return code is sent back:
&gt;&gt;
&gt;&gt; From HttpUrlConnection ( around line 970 )
&gt;&gt;
&gt;&gt; if (respCode &gt;= 400) {
&gt;&gt;   if (respCode == 404 || respCode == 410) {
&gt;&gt;       throw new FileNotFoundException(url.toString());
&gt;&gt;   } else {
&gt;&gt;      throw new java.io.IOException(
&gt;&gt;                         "Server returned HTTP"
&gt;&gt;                         + " response code: " + respCode
&gt;&gt;                         + " for URL: " + url.toString());
&gt;&gt;   }
&gt;&gt; }
&gt;&gt;
&gt;&gt;
&gt;&gt; So my question: Is what we're trying to do not really correct?
&gt;
&gt; It is correct.
&gt;
&gt;&gt; I've
&gt;&gt; looked in the HTTP spec and it says that an Entity Body may be
&gt;&gt; returned with a 400 error, so maybe it's just a bug in the Java
&gt;&gt; implementation?
&gt;
&gt; It's more of a pain to do with the way that HttpURLConnection is
&gt; specified. There is a workaround: HttpURLConnection.getErrorStream -
&gt; see the Javadoc for this - but most developers probably don't know
&gt; or ignore this.
&gt;
&gt; Just a poor design.
&gt; -- 
&gt; Chris Burdess


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10392<br>
Sender:"Ebenezer Ikonne" &lt;amaeze@...&gt;<br>
Post Date/Time:2008-02-14 21:08:16<br>
Subject:Designing Batch Resources<br>
Message:<br><br>
<pre>I've read the various threads on exposing batch resources that accept 
multiple representations (for different resources).

I am just curious to know if there is an accepted/preferred design 
approach.  GData uses the [resource]/batch template.  Is this pretty 
much a standard?

Thanks


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10393<br>
Sender:Subbu Allamaraju &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-02-14 21:29:32<br>
Subject:Re: [rest-discuss] Designing Batch Resources<br>
Message:<br><br>
<pre>
&gt; I am just curious to know if there is an accepted/preferred design
&gt; approach.  GData uses the [resource]/batch template.  Is this pretty
&gt; much a standard?

I would say, No. Mainly because it is SOAPy and violates the ground  
rules. There were some interesting posts put forth by James Snell (not  
sure if he is on this thread). In particular, check this out:

http://www.snellspace.com/wp/?p=886

This uses an unspecified BATCH verb. There are other similar ideas  
around, and I am not aware of any consensus on this problem yet.

Subbu

&gt;
&gt;
&gt; Thanks
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10394<br>
Sender:John Panzer &lt;jpanzer@...&gt;<br>
Post Date/Time:2008-02-14 21:45:39<br>
Subject:Re: [rest-discuss] Designing Batch Resources<br>
Message:<br><br>
<pre>Subbu Allamaraju wrote:
&gt;&gt; I am just curious to know if there is an accepted/preferred design
&gt;&gt; approach.  GData uses the [resource]/batch template.  Is this pretty
&gt;&gt; much a standard?
&gt;&gt;     
&gt;
&gt; I would say, No. Mainly because it is SOAPy and violates the ground  
&gt; rules. There were some interesting posts put forth by James Snell (not  
&gt; sure if he is on this thread). In particular, check this out:
&gt;
&gt; http://www.snellspace.com/wp/?p=886
&gt;
&gt; This uses an unspecified BATCH verb. There are other similar ideas  
&gt; around, and I am not aware of any consensus on this problem yet.
&gt;
&gt; Subbu
&gt;   

My take:

http://www.abstractioneer.org/2008/02/id-rather-batch-than-fight.html

See also James Snell's response:

http://www.snellspace.com/wp/?p=885

So James and I agree on everything except the name of the method to use 
(and I don't even disagree with him except tactically).

YMMV.

John



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10395<br>
Sender:Subbu Allamaraju &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-02-14 21:54:59<br>
Subject:Re: [rest-discuss] Designing Batch Resources<br>
Message:<br><br>
<pre>What I meant by "consensus" is that the semantics of such a multipart  
request with respect to everything defined in 2616. PATCH went through  
this exercise, but not the batch model.

I read your post early this morning, and I agree with your comments. I  
am not really convinced that POSTing a batch would bypass any admin- 
set restrictions.

Subbu

On Feb 14, 2008, at 1:45 PM, John Panzer wrote:

&gt; Subbu Allamaraju wrote:
&gt;&gt;
&gt;&gt;&gt; I am just curious to know if there is an accepted/preferred design
&gt;&gt;&gt; approach.  GData uses the [resource]/batch template.  Is this pretty
&gt;&gt;&gt; much a standard?
&gt;&gt;&gt;
&gt;&gt; I would say, No. Mainly because it is SOAPy and violates the ground
&gt;&gt; rules. There were some interesting posts put forth by James Snell  
&gt;&gt; (not
&gt;&gt; sure if he is on this thread). In particular, check this out:
&gt;&gt;
&gt;&gt; http://www.snellspace.com/wp/?p=886
&gt;&gt;
&gt;&gt; This uses an unspecified BATCH verb. There are other similar ideas
&gt;&gt; around, and I am not aware of any consensus on this problem yet.
&gt;&gt;
&gt;&gt; Subbu
&gt;&gt;
&gt;
&gt; My take:
&gt;
&gt; http://www.abstractioneer.org/2008/02/id-rather-batch-than-fight.html
&gt;
&gt; See also James Snell's response:
&gt;
&gt; http://www.snellspace.com/wp/?p=885
&gt;
&gt; So James and I agree on everything except the name of the method to  
&gt; use (and I don't even disagree with him except tactically).
&gt;
&gt; YMMV.
&gt;
&gt; John
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10396<br>
Sender:"Ebenezer Ikonne" &lt;amaeze@...&gt;<br>
Post Date/Time:2008-02-15 01:13:39<br>
Subject:Re: Designing Batch Resources<br>
Message:<br><br>
<pre>I accidentally posted my reply to Subbu.

To summarize, I understand the need for POST given that BATCH does not 
exist.  However, I was just looking for URI design guidance.  If I want 
interface a batch of records e.g. /Books; any thoughts on the resource 
that should be exposed?


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10397<br>
Sender:Subbu Allamaraju &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-02-15 01:47:18<br>
Subject:Re: [rest-discuss] Re: Designing Batch Resources<br>
Message:<br><br>
<pre>In these models (with or without BATCH), the URI is does not  
necessarily address the actual resource(s) being manipulated. As you  
may have seen, the URI gets handled by an intermediary which will  
unpack the request and execute individual requests. Given this, the  
actual URI may end up looking like "/batchServer". If the same server  
processing the batch, then you may just be mapping /Books to some  
batch processing component in the server.

Subbu


On Feb 14, 2008, at 5:13 PM, Ebenezer Ikonne wrote:

&gt; I accidentally posted my reply to Subbu.
&gt;
&gt; To summarize, I understand the need for POST given that BATCH does not
&gt; exist.  However, I was just looking for URI design guidance.  If I  
&gt; want
&gt; interface a batch of records e.g. /Books; any thoughts on the resource
&gt; that should be exposed?
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10398<br>
Sender:"Ebenezer Ikonne" &lt;amaeze@...&gt;<br>
Post Date/Time:2008-02-15 02:23:49<br>
Subject:Re: Designing Batch Resources<br>
Message:<br><br>
<pre>Make sense.  

It's a good (maybe right?) approach, but from an implementation 
perspective, it does introduce some interesting challenges that I don't 
need to get into here.

Not sure if it's the right choice right now.

Thanks for the clarification.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10399<br>
Sender:Nic &lt;nferrier@...&gt;<br>
Post Date/Time:2008-02-15 10:10:26<br>
Subject:30 boxes<br>
Message:<br><br>
<pre>I've been too busy to follow what's been going on here recently.

However, I just ahd this amusing discussion with 30boxes and I thought
I'd copy the list in:

http://30boxes.com/forum/viewtopic.php?p=29491#29491


-- 
Nic Ferrier
http://www.woome.com - Enjoy the minute!


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10400<br>
Sender:"Ebenezer Ikonne" &lt;amaeze@...&gt;<br>
Post Date/Time:2008-02-17 01:04:56<br>
Subject:Re: Designing Batch Resources<br>
Message:<br><br>
<pre>I thought about this some more and now I'm wondering we need to do 
something special for the batch creation of a single resource.

We have no problem doing batch GETs i.e. when you do a GET on a factory-
type resource, it returns a list of representations for each that type 
of the resource e.g. GET /Books will return a list of books.  What is 
wrong with POST'ing multiple representations to a factory resource?

Thanks.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10401<br>
Sender:Subbu Allamaraju &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-02-17 03:15:14<br>
Subject:Re: [rest-discuss] Re: Designing Batch Resources<br>
Message:<br><br>
<pre>
&gt;
&gt; I thought about this some more and now I'm wondering we need to do
&gt; something special for the batch creation of a single resource.

Meaning?

&gt; We have no problem doing batch GETs i.e. when you do a GET on a  
&gt; factory-
&gt; type resource, it returns a list of representations for each that type
&gt; of the resource e.g. GET /Books will return a list of books.  What is
&gt; wrong with POST'ing multiple representations to a factory resource?
&gt;

Do you mean a URI such as /Books returning representations (one each)  
of multiple /Book resources? GETs don't usually return multiple  
"representations" at the same time.

Yes, POST can be used to create multiple resources, such as creating  
five books via POST /Books.

Subbu


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10402<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-02-17 05:01:59<br>
Subject:The collected utterances of Roy on [rest-discuss]<br>
Message:<br><br>
<pre>All,

I was thinking that a common impedance to discussions on this group
can be a lack of reference to what has already been said ...

Given that, I have just spent 7 hours trawling through the
[rest-discuss] archives to pull out all the valuable comments by Roy
for reference and putting them on del.icio.us

This way, we can easily parse the comments and then drill down into
the archive for context.

del.icio.us has a 255 character comment limit, so some have been
trimmed to fit and a very few edited to fit. I hope that my trimming
and editing has not altered the meaning of any of his comments.

The URI is:
http://del.icio.us/alan.dean/[rest-discuss]+Roy.Fielding

or the following to see all tagged comments:
http://del.icio.us/alan.dean/[rest-discuss]

If you see any errors or omissions, please let me know :-)

Regards,
Alan Dean
http://thoughtpad.net/alan-dean
http://simplewebservices.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10403<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2008-02-17 06:25:19<br>
Subject:Re: The collected utterances of Roy on [rest-discuss]<br>
Message:<br><br>
<pre>On Feb 16, 2008, at 9:01 PM, Alan Dean wrote:
&gt; Given that, I have just spent 7 hours trawling through the
&gt; [rest-discuss] archives to pull out all the valuable comments by Roy
&gt; for reference and putting them on del.icio.us
&gt;

Yowza, that's a weird coincidence...

    http://roy.gbiv.com/untangled/2008/why-untangled

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10404<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-02-17 06:46:11<br>
Subject:Re: The collected utterances of Roy on [rest-discuss]<br>
Message:<br><br>
<pre>Funny how coincidence happens more often than you expect :-)

I hope that it may be of help in your 'untangling' - and I think it is
excellent news that you have a blog! (subscribed)

I found that the exercise really helped clarify my thoughts on REST as
the comments form a more coherent whole than simply encountering them
during normal list discussions.

There are a couple of questions which I made a mental note of during
the exercise, and which I will post to the list shortly for additional
clarification (but surprisingly few considering that I went all the
way back to the start of the list in 2001/2002).

Alan

On Feb 17, 2008 6:25 AM, Roy T. Fielding &lt;fielding@...&gt; wrote:
&gt; On Feb 16, 2008, at 9:01 PM, Alan Dean wrote:
&gt; &gt; Given that, I have just spent 7 hours trawling through the
&gt; &gt; [rest-discuss] archives to pull out all the valuable comments by Roy
&gt; &gt; for reference and putting them on del.icio.us
&gt; &gt;
&gt;
&gt; Yowza, that's a weird coincidence...
&gt;
&gt;     http://roy.gbiv.com/untangled/2008/why-untangled
&gt;
&gt; ....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10405<br>
Sender:"Ebenezer Ikonne" &lt;amaeze@...&gt;<br>
Post Date/Time:2008-02-17 11:36:04<br>
Subject:Re: Designing Batch Resources<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, Subbu Allamaraju 
&lt;subbu.allamaraju@...&gt; wrote:
&gt;
&gt; 
&gt; &gt;
&gt; &gt; I thought about this some more and now I'm wondering we need to do
&gt; &gt; something special for the batch creation of a single resource.
&gt; 
&gt; Meaning?

Ah, was typing way too late at night - should have been: "...'why' we 
need something special for batch creation of a single type of 
resource"

&gt; &gt; We have no problem doing batch GETs i.e. when you do a GET on a  
&gt; &gt; factory-
&gt; &gt; type resource, it returns a list of representations for each that 
type
&gt; &gt; of the resource e.g. GET /Books will return a list of books.  
What is
&gt; &gt; wrong with POST'ing multiple representations to a factory 
resource?
&gt; &gt;
&gt; 
&gt; Do you mean a URI such as /Books returning representations (one 
each)  
&gt; of multiple /Book resources? GETs don't usually return multiple  
&gt; "representations" at the same time.
I guess multiple can be interpreted as "different" which is not what 
I meant.  You expressed my thoughts in a much better way!

&gt; Yes, POST can be used to create multiple resources, such as 
creating  
&gt; five books via POST /Books.

Good deal.
&gt; Subbu
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10406<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-02-17 13:32:14<br>
Subject:Re: Is PHP more RESTful than J2EE, Django or Rails?<br>
Message:<br><br>
<pre>* Peter Keane &lt;pkeane@...&gt; [2008-02-10 04:00]:
&gt; On Sun, Feb 10, 2008 at 02:53:54AM +0100, Aristotle Pagaltzis wrote:
&gt; &gt; Natively PHP leads you toward a style where you structure
&gt; &gt; your URI space around operations implemented by scripts which
&gt; &gt; operate on things identified by a database key passed via
&gt; &gt; query parameter. That???s crystal clear RPC style: you put
&gt; &gt; the verb in the URI and use app-specific identifiers for your
&gt; &gt; resources. PHP does not encourage a resource-oriented design
&gt; &gt; at all.
&gt; 
&gt; I need to take exception with [that], as your description is
&gt; nothing like any PHP app I have ever built. Are there bad PHP
&gt; programs (even widely popular ones) and books that promote bad
&gt; practices? Yup. I have spent a good bit of time building apps
&gt; in Struts &amp; Catalyst, but my favorite experiences were with
&gt; Template::Toolkit, Class::DBI (I suspect I'd use DBIx::Class
&gt; now), and a simple url dispatcher in mod_perl. While I'd prefer
&gt; to be working w/ Perl, I have found PHP to be a perfectly
&gt; suitable way to build clean, stable, resource-oriented apps.

When you built your first PHP app, were you new only to PHP or
also to HTTP? I know that when I was new to HTTP, I wrote my Perl
CGI scripts in the style that I outlined above as being what PHP
leads people to, and I know that many many people new to HTTP
write their first (or, indeed, every) PHP app that way.

Novices dont go meta as their first official act. They want to
get something practical done, and they use whatevers available
and seems like it will advance them toward that end. If a URI
dispatcher is not among those things, then theyll build one only
if they came to PHP from an environment that taught them why it
is a good idea to have one. If this is their first HTTP app, they
have no such instinct.

So I stand by my claim that PHP instills the opposite of good
HTTP design principles in people who are new to HTTP as well as
PHP. If you had the fortune of prior experience, more power to
you, but then you are not the rule.

&gt; &gt; Or you can use a framework and not bother reinventing the URI
&gt; &gt; dispatcher wheel yet again.
&gt; 
&gt; Well, the URL dispatcher isn't so difficult to create, and it
&gt; happens to be something that I want to do my own way (not
&gt; Django's or Catalyst's or Rail's). And thankfully for open
&gt; source code, I get to see how all of those folks do it, so I
&gt; can glean good ideas.

A regex-to-code map style dispatcher is not difficult to write at
all, but its also not very good in my opinion. I used to think
it was as good as youd want, like everyone else does, until I
encountered Catalysts Chained dispatch type.

(For thos who dont know, basically that lets you break up a URI
and dispatch the bits left to right to a series of intermediate
controller methods, so you can split out the tasks that are
common to several controller methods, going from the general to
the specific. It lets you write extremely DRY code.)

Another interesting idea is Nevow Object Traversal, although it
would need to be couched in sufficient syntactic sugar to make it
as concise as it is flexible. However, if you want flexible and
powerful, itll be rather hard to beat.

Basically, writing the most trivial and obvious possible
dispatcher *is* easy (6-lines-of-code easy), but writing one that
can actually help you write less code is quite a bit more work;
work that I dont really care to invest and then maintain for all
eternity.

&gt; Frankly, you can write bad code in *any* language and when the
&gt; only choice is PHP, it is certainly possible to make solid
&gt; apps.

Thats not really an argument; short of deliberately obfuscated
languages, you can write solid apps in just about anything. The
question is not whether it can be done; the question is whether
its a good idea.

&gt; I'd actually like to see good practices encouraged in the PHP
&gt; community rather than have it all written off.

Thats kind of like saying one would like to see good practices
encourages in Excel spreadsheet programming, rather than have it
all written off. A laudable goal, but

Not that it matters too much either way, anway: its never all
going to be written off, no matter what happens. (Which is in
fact a much stronger incentive for wanting to encourage good
practices.)

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10407<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-02-17 14:36:07<br>
Subject:HTTP Method Clarification<br>
Message:<br><br>
<pre>Roy,

The first of the questions which I felt needed clarification arising
from the "commentary" exercise is:

You have stated clearly that REST is not limited to the methods
defined in HTTP/1.1 [1]

What are the other HTTP methods that you consider to be RESTful,
Uniform and well-known?

For example, you quote LINK and PATCH as being RESTful [2] and exclude
the WebDAV [3] PROP* methods [4]

In particular, it is unclear to me what your position is on COPY and
MOVE and I haven't seen any commentary on LOCK and UNLOCK at all.

I know that you are not fond of the MS involvement with WebDAV but,
leaving that aside, it seems that there are some non-standard methods
employed by MS Exchange [5] which might, nonetheless, be RESTful and
Uniform (given that Exchange is rather widely deployed). Potentially
interesting ones are NOTIFY, POLL, SEARCH, SUBSCRIBE, and UNSUBSCRIBE.

[1] http://del.icio.us/alan.dean/%5Brest-discuss%5D%2Bmethod
[2] http://tech.groups.yahoo.com/group/rest-discuss/message/8109
[3]
http://www.webdav.org/specs/rfc2518.html#http.methods.for.distributed.authoring
[4] http://tech.groups.yahoo.com/group/rest-discuss/message/5874
[5] http://msdn2.microsoft.com/en-us/library/aa142917.aspx

Regards,
Alan Dean
http://thoughtpad.net/alan-dean
http://simplewebservices.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10408<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-02-17 14:43:47<br>
Subject:OPTIONS<br>
Message:<br><br>
<pre>Roy,

The second of the questions arising from the "commentary" exercise is:

You mentioned [1] that there is work 'underway' on the usage of
OPTIONS. Is any of that in the public domain and if so, where?

[1] http://tech.groups.yahoo.com/group/rest-discuss/message/3325

Regards,
Alan Dean
http://thoughtpad.net/alan-dean
http://simplewebservices.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10409<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-02-17 14:51:03<br>
Subject:Alternates and URI headers<br>
Message:<br><br>
<pre>Roy,

The third of the questions arising from the "commentary" exercise is:

You refer [1][2] to two HTTP headers that I am unfamiliar with:
Alternates and URI. I can see no reference to them in HTTP/1.1 [3] -
where can I find a specification of these?

[1] http://del.icio.us/alan.dean/Alternates
[2] http://del.icio.us/alan.dean/uri%2Bheader
[3] http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.1

Regards,
Alan Dean
http://thoughtpad.net/alan-dean
http://simplewebservices.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10410<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-02-17 14:58:30<br>
Subject:Multiple representation authoring<br>
Message:<br><br>
<pre>Roy,

The fourth of the questions arising from the "commentary" exercise is:

You say [1]:

"[] Authoring, for example, should always be performed on a specific
URI that is dependent on the format, since that allows you to author
many different representations for the more generic URI at the same
time without having to rely on server gymnastics to understand what
resource is being authored."

and [2]:

"[] if you design the system such that negotiated URIs cannot be
authored (they redirect using 300 instead), then the client doesn't
need to know in advance how the resource is implemented. If the server
receives an XML replacement for a negotiated URI, it can redirect to
the media-specific URI for XML. If the server receives the same for a
non-negotiated URI, it can simply replace the current representation
and respond with 200."

I have read and re-read these, but for the life of me I cannot grok
what you mean ... could you elaborate or show an HTTP message example
to assist please?

[1] http://tech.groups.yahoo.com/group/rest-discuss/message/5168
[2] http://tech.groups.yahoo.com/group/rest-discuss/message/5170

Regards,
Alan Dean
http://thoughtpad.net/alan-dean
http://simplewebservices.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10411<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-02-17 15:08:57<br>
Subject:Re: The collected utterances of Roy on [rest-discuss]<br>
Message:<br><br>
<pre>On Feb 17, 2008 6:46 AM, Alan Dean &lt;alan.dean@...&gt; wrote:
&gt;
&gt; There are a couple of questions which I made a mental note of during
&gt; the exercise, and which I will post to the list shortly for additional
&gt; clarification (but surprisingly few considering that I went all the
&gt; way back to the start of the list in 2001/2002).
&gt;
&gt; Alan

I have posted four clarification questions.

Given that I went all the way back to the start of the group in
2001/2002 I am very pleasantly surprised that there were only four
areas which I personally felt needed clarification (your mileage may
vary).

There are some archive posts dealing with the 'RESTful shopping'
question that I came across [1][2][3] and need to take away, think
about and perhaps change the approach used in SimpleWebServices for
this use case. I may need to raise some questions as part of that
exercise.

[1] http://tech.groups.yahoo.com/group/rest-discuss/message/8260
[2] http://tech.groups.yahoo.com/group/rest-discuss/message/9805
[3] http://tech.groups.yahoo.com/group/rest-discuss/message/4832

Regards,
Alan Dean
http://thoughtpad.net/alan-dean
http://simplewebservices.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10412<br>
Sender:Peter Keane &lt;pkeane@...&gt;<br>
Post Date/Time:2008-02-17 15:33:09<br>
Subject:Re: [rest-discuss] Re: Is PHP more RESTful than J2EE, Django or	Rails?<br>
Message:<br><br>
<pre>On Sun, Feb 17, 2008 at 02:32:14PM +0100, Aristotle Pagaltzis wrote:
&gt; * Peter Keane &lt;pkeane@...&gt; [2008-02-10 04:00]:
&gt; &gt; On Sun, Feb 10, 2008 at 02:53:54AM +0100, Aristotle Pagaltzis wrote:
&gt; 
&gt; When you built your first PHP app, were you new only to PHP or
&gt; also to HTTP? I know that when I was new to HTTP, I wrote my Perl
&gt; CGI scripts in the style that I outlined above as being what PHP
&gt; leads people to, and I know that many many people new to HTTP
&gt; write their first (or, indeed, every) PHP app that way.
&gt; 
&gt; Novices don???t go meta as their first official act. They want to
&gt; get something practical done, and they use whatever???s available
&gt; and seems like it will advance them toward that end. If a URI
&gt; dispatcher is not among those things, then they???ll build one only
&gt; if they came to PHP from an environment that taught them why it
&gt; is a good idea to have one. If this is their first HTTP app, they
&gt; have no such instinct.
&gt; 
Actually, I realized after I sent my message that I hadn't read your
description carefully enough.  You are correct, of course -- I DID
create apps just like you described (verb in the URI) until recently.
It was the use of a front-controller that I moved to in the early stages
of using PHP.

&gt; 
&gt; A regex-to-code map style dispatcher is not difficult to write at
&gt; all, but it???s also not very good in my opinion. I used to think
&gt; it was as good as you???d want, like everyone else does, until I
&gt; encountered Catalyst???s Chained dispatch type.
&gt; 
&gt; (For thos who don???t know, basically that lets you break up a URI
&gt; and dispatch the bits left to right to a series of intermediate
&gt; controller methods, so you can split out the tasks that are
&gt; common to several controller methods, going from the general to
&gt; the specific. It lets you write extremely DRY code.)
&gt; 
Interesting -- I'll need to take another look. My own dispatcher is
defined in an XML document, in the style of Cocoon.  It is "compiled"
with XSLT into a php hash (w/ regex as key) of config directives for that
regex (including named captures, etc), so it's pretty flexible.  But you
are correct in that a community built/documented solution would be
wiser.

&gt; Another interesting idea is Nevow Object Traversal, although it
&gt; would need to be couched in sufficient syntactic sugar to make it
&gt; as concise as it is flexible. However, if you want flexible and
&gt; powerful, it???ll be rather hard to beat.

I'll take a look -- sounds interesting.

&gt; 
&gt; That???s kind of like saying one would like to see good practices
&gt; encourages in Excel spreadsheet programming, rather than have it
&gt; all written off. A laudable goal, but???
&gt; 

Well...since I just discovered that I can ask clients to put their
spreadsheets up on Google Docs and then "consume" the Atom feed with my
application, I am a happy camper.  But that's Excel as structured data,
	NOT as programming environment :-).

&gt; Not that it matters too much either way, anway: it???s never all
&gt; going to be written off, no matter what happens. (Which is in
&gt; fact a much stronger incentive for wanting to encourage good
&gt; practices.)
&gt; 
Indeed.

thanks-
Peter Keane

&gt; Regards,
&gt; -- 
&gt; Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10413<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-02-17 15:38:59<br>
Subject:Re: [rest-discuss] Alternates and URI headers<br>
Message:<br><br>
<pre>Alan Dean wrote:
&gt; 
&gt; 
&gt; Roy,
&gt; 
&gt; The third of the questions arising from the "commentary" exercise is:
&gt; 
&gt; You refer [1][2] to two HTTP headers that I am unfamiliar with:
&gt; Alternates and URI. I can see no reference to them in HTTP/1.1 [3] -
&gt; where can I find a specification of these?
&gt; ...

See &lt;http://www.iana.org/assignments/message-headers/perm-headers.html&gt;, 
which points to &lt;http://tools.ietf.org/html/rfc4229#section-2.1.11&gt; and 
&lt;http://tools.ietf.org/html/rfc4229#section-2.1.108&gt;. Which in turn 
point to RFC2295 ("Transparent Content Negotiation in HTTP") and RFC2068 
(the predecessor of RFC2616).

BR, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10414<br>
Sender:Jeffrey Bonevich &lt;jeff@...&gt;<br>
Post Date/Time:2008-02-17 14:47:24<br>
Subject:Re: The collected utterances of Roy on [rest-discuss]<br>
Message:<br><br>
<pre>Alan -

The first link did not work for me.  This one seemed to work better 
(posting for posterity):

http://del.icio.us/alan.dean/Roy.Fielding

jeff

Alan Dean wrote:
&gt; All,
&gt;
&gt; I was thinking that a common impedance to discussions on this group
&gt; can be a lack of reference to what has already been said ...
&gt;
&gt; Given that, I have just spent 7 hours trawling through the
&gt; [rest-discuss] archives to pull out all the valuable comments by Roy
&gt; for reference and putting them on del.icio.us
&gt;
&gt; This way, we can easily parse the comments and then drill down into
&gt; the archive for context.
&gt;
&gt; del.icio.us has a 255 character comment limit, so some have been
&gt; trimmed to fit and a very few edited to fit. I hope that my trimming
&gt; and editing has not altered the meaning of any of his comments.
&gt;
&gt; The URI is:
&gt; http://del.icio.us/alan.dean/[rest-discuss]+Roy.Fielding
&gt;
&gt; or the following to see all tagged comments:
&gt; http://del.icio.us/alan.dean/[rest-discuss]
&gt;
&gt; If you see any errors or omissions, please let me know :-)
&gt;
&gt; Regards,
&gt; Alan Dean
&gt; http://thoughtpad.net/alan-dean
&gt; http://simplewebservices.org
&gt;
&gt;
&gt;
&gt;  
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;   


-- 
jeff bonevich
mailto: jeff@...

"Any sufficiently advanced technology is indistinguishable from magic."
Arthur C. Clarke

"Programming today is a race between software engineers striving to 
build bigger and better idiot-proof programs, and the Universe trying 
to produce bigger and better idiots. So far, the Universe is winning."
Rich Cook

"All programmers are playwrights and all computers are lousy actors."
Unknown

"I've seen things you people wouldn't believe. Attack ships on fire 
off the shoulder of Orion. I watched C-beams glitter in the dark near 
Tannhauser gate. All those moments will be lost in time, like tears in 
rain."
Roy Batty


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10415<br>
Sender:Petite Abeille &lt;petite.abeille@...&gt;<br>
Post Date/Time:2008-02-17 23:33:50<br>
Subject:[OT?] URL as UI<br>
Message:<br><br>
<pre>Hello,

Not sure if this really belong here, but...

Anyone has some opinion about using "URL as UI" [1]?

Here is a little concoction, a wiki engine, which tries to follow  
exemplify such conventions:

A page:

http://svr225.stepx.com:3388/nanoki

A page editor:

http://svr225.stepx.com:3388/nanoki/editor

A page revision history:

http://svr225.stepx.com:3388/nanoki/editor/revision

A revision:

http://svr225.stepx.com:3388/nanoki/editor/revision/n.2

A revision diff:

http://svr225.stepx.com:3388/nanoki/editor/revision/n.2/n.3

Note how the breadcrumbs reflect the URL:

Main  Nanoki  Editor  Revision   2   2   3

Thoughts?

Cheers,

PA.


[1] http://www.useit.com/alertbox/990321.html
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10416<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-02-18 02:46:59<br>
Subject:Re: [rest-discuss] [OT?] URL as UI<br>
Message:<br><br>
<pre>That's a pretty bad article.  I especially liked the part about "It  
is likely that domain names only have 3-5 years left..." (note the  
article was written in 1999). :)

Composeable URIs are generally not well regarded as they lead to  
brittle structures.  Instead, URIs should be "built" from templates  
or discovered by exploring the state graph.  A good example is the  
Atom specification, which annotates entries with edit links.  It's  
clean.  It's machine discoverable.  And it allows for changes in  
future URI structures without breaking the client.  That's the way it  
should be!


- Steve

--------------
Steve G. Bjorg
http://wiki.mindtouch.com
http://wiki.opengarden.org


On Feb 17, 2008, at 3:33 PM, Petite Abeille wrote:

&gt; Hello,
&gt;
&gt; Not sure if this really belong here, but...
&gt;
&gt; Anyone has some opinion about using "URL as UI" [1]?
&gt;
&gt; Here is a little concoction, a wiki engine, which tries to follow
&gt; exemplify such conventions:
&gt;
&gt; A page:
&gt;
&gt; http://svr225.stepx.com:3388/nanoki
&gt;
&gt; A page editor:
&gt;
&gt; http://svr225.stepx.com:3388/nanoki/editor
&gt;
&gt; A page revision history:
&gt;
&gt; http://svr225.stepx.com:3388/nanoki/editor/revision
&gt;
&gt; A revision:
&gt;
&gt; http://svr225.stepx.com:3388/nanoki/editor/revision/n.2
&gt;
&gt; A revision diff:
&gt;
&gt; http://svr225.stepx.com:3388/nanoki/editor/revision/n.2/n.3
&gt;
&gt; Note how the breadcrumbs reflect the URL:
&gt;
&gt; Main  Nanoki  Editor  Revision   2   2   3
&gt;
&gt; Thoughts?
&gt;
&gt; Cheers,
&gt;
&gt; PA.
&gt;
&gt; [1] http://www.useit.com/alertbox/990321.html
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10417<br>
Sender:"Lucas Gonze" &lt;lucas.gonze@...&gt;<br>
Post Date/Time:2008-02-18 03:57:48<br>
Subject:Re: [rest-discuss] [OT?] URL as UI<br>
Message:<br><br>
<pre>On Feb 17, 2008 6:46 PM, Steve Bjorg &lt;steveb@...&gt; wrote:
&gt; Composeable URIs are generally not well regarded as they lead to brittle
&gt; structures.  Instead, URIs should be "built" from templates or discovered by
&gt; exploring the state graph.  A good example is the Atom specification, which
&gt; annotates entries with edit links.  It's clean.  It's machine discoverable.
&gt; And it allows for changes in future URI structures without breaking the
&gt; client.  That's the way it should be!


This is true, but it does no harm for structures to be transparent to
the user.  This scheme of putting the breadcrumb in the path strikes
me as elegant and clean from a UI perspective, since it satisfies the
user goal of maintaining a mental model of the information hierarchy
they are navigating.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10418<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-02-18 04:42:53<br>
Subject:Re: [rest-discuss] [OT?] URL as UI<br>
Message:<br><br>
<pre>You can have your cake and eat it to.  Having nice URIs and keeping  
them decoupled is feasible.  Alas, some will infer structure where  
they shouldn't have.

- Steve

--------------
Steve G. Bjorg
http://wiki.mindtouch.com
http://wiki.opengarden.org


On Feb 17, 2008, at 7:57 PM, Lucas Gonze wrote:

&gt; On Feb 17, 2008 6:46 PM, Steve Bjorg &lt;steveb@...&gt; wrote:
&gt;&gt; Composeable URIs are generally not well regarded as they lead to  
&gt;&gt; brittle
&gt;&gt; structures.  Instead, URIs should be "built" from templates or  
&gt;&gt; discovered by
&gt;&gt; exploring the state graph.  A good example is the Atom  
&gt;&gt; specification, which
&gt;&gt; annotates entries with edit links.  It's clean.  It's machine  
&gt;&gt; discoverable.
&gt;&gt; And it allows for changes in future URI structures without  
&gt;&gt; breaking the
&gt;&gt; client.  That's the way it should be!
&gt;
&gt;
&gt; This is true, but it does no harm for structures to be transparent to
&gt; the user.  This scheme of putting the breadcrumb in the path strikes
&gt; me as elegant and clean from a UI perspective, since it satisfies the
&gt; user goal of maintaining a mental model of the information hierarchy
&gt; they are navigating.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10419<br>
Sender:"Subhash Chandran" &lt;subwiz@...&gt;<br>
Post Date/Time:2008-02-18 10:16:02<br>
Subject:[OT] RESTClient 2.1 Feature Request<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10420<br>
Sender:"gaurang patel" &lt;gaurangpatel9@...&gt;<br>
Post Date/Time:2008-02-20 10:31:20<br>
Subject:help me<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10421<br>
Sender:Erik Terpstra &lt;erik@...&gt;<br>
Post Date/Time:2008-02-20 09:00:52<br>
Subject:Re: The collected utterances of Roy on [rest-discuss]<br>
Message:<br><br>
<pre>They work better when you escape the square brackets:

http://del.icio.us/alan.dean/%5Brest-discuss%5D
http://del.icio.us/alan.dean/%5Brest-discuss%5D+Roy.Fielding

Regards,

Erik.

Jeffrey Bonevich wrote:
&gt; Alan -
&gt;
&gt; The first link did not work for me.  This one seemed to work better 
&gt; (posting for posterity):
&gt;
&gt; http://del.icio.us/alan.dean/Roy.Fielding
&gt;
&gt; jeff
&gt;
&gt; Alan Dean wrote:
&gt;   
&gt;&gt; All,
&gt;&gt;
&gt;&gt; I was thinking that a common impedance to discussions on this group
&gt;&gt; can be a lack of reference to what has already been said ...
&gt;&gt;
&gt;&gt; Given that, I have just spent 7 hours trawling through the
&gt;&gt; [rest-discuss] archives to pull out all the valuable comments by Roy
&gt;&gt; for reference and putting them on del.icio.us
&gt;&gt;
&gt;&gt; This way, we can easily parse the comments and then drill down into
&gt;&gt; the archive for context.
&gt;&gt;
&gt;&gt; del.icio.us has a 255 character comment limit, so some have been
&gt;&gt; trimmed to fit and a very few edited to fit. I hope that my trimming
&gt;&gt; and editing has not altered the meaning of any of his comments.
&gt;&gt;
&gt;&gt; The URI is:
&gt;&gt; http://del.icio.us/alan.dean/[rest-discuss]+Roy.Fielding
&gt;&gt;
&gt;&gt; or the following to see all tagged comments:
&gt;&gt; http://del.icio.us/alan.dean/[rest-discuss]
&gt;&gt;
&gt;&gt; If you see any errors or omissions, please let me know :-)
&gt;&gt;
&gt;&gt; Regards,
&gt;&gt; Alan Dean
&gt;&gt; http://thoughtpad.net/alan-dean
&gt;&gt; http://simplewebservices.org
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;  
&gt;&gt; Yahoo! Groups Links
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;   
&gt;&gt;     
&gt;
&gt;
&gt;   


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10422<br>
Sender:"pavan.potti" &lt;pavan.potti@...&gt;<br>
Post Date/Time:2008-02-24 05:17:56<br>
Subject:Hi all one more favor .<br>
Message:<br><br>
<pre>
Hi all,

             My name is Pavan, I am a masters students and starting my
thesis on REST. I will start using Java to built a web service with
REST. Please let me know the server/software that i have to use. May
be i dint framed my question well. I am using Apache Axis to develop
SOAP service, i want to know will that sufficient for REST too or i
need other software.

        And if possible please share some tutorial to built a REST
service to beginners using java and what thing i need to take care of.

Thanks,
Pavan.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10423<br>
Sender:"Subhash Chandran" &lt;subwiz@...&gt;<br>
Post Date/Time:2008-02-24 11:07:45<br>
Subject:Re: [rest-discuss] Hi all one more favor .<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10424<br>
Sender:"pavan.potti" &lt;pavan.potti@...&gt;<br>
Post Date/Time:2008-02-26 15:34:30<br>
Subject:SOAP 1.2 and REST<br>
Message:<br><br>
<pre>
Hi all,


        Its me pavan again with one more question. I have read that 
SOAP 1.2 incorporated some of the REST principles but no where i got 
the exact material regarding those. DO anybody know about any article 
or kind of like that to look for those.


Thanks,
Pavan.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10425<br>
Sender:Damaris Fuentes &lt;dfl_maradentro@...&gt;<br>
Post Date/Time:2008-02-26 15:54:27<br>
Subject:RE: [rest-discuss] SOAP 1.2 and REST<br>
Message:<br><br>
<pre>You can get something from:
  http://www.w3.org/TR/2003/PR-soap12-part2-20030507/#soapinhttp
   
  these are SOAP-HTTP binding constraints (I haven't read them, but I suppose that can give you an idea).
   
  Googling I can find slides such as:
  http://www.w3.org/2005/Talks/1115-hh-k-ecows
  http://www.wsmo.org/papers/presentations/WSMO%20Rest.ppt
  http://home.ccil.org/~cowan/restws.pdf
  or articles
  http://rest.blueoxen.net/cgi-bin/wiki.pl?HowSoapComparesToRest
  http://www.intertwingly.net/stories/2002/07/20/restSoap.html
  http://webservices.xml.com/pub/a/ws/2003/06/10/salz.html
   
  And a "formal" journal article for your thesis:
  http://dx.doi.org/10.1016/j.dss.2004.04.008 (PDF version is in http://www.workflow-research.de/Publications/PDF/MIZU.JENI.KESW-DSS(2004).pdf)
   
  Hope this help.

"pavan.potti" &lt;pavan.potti@...&gt; escribi:
          
Hi all,

Its me pavan again with one more question. I have read that 
SOAP 1.2 incorporated some of the REST principles but no where i got 
the exact material regarding those. DO anybody know about any article 
or kind of like that to look for those.

Thanks,
Pavan.



                         

       
---------------------------------

Con Mascota por primera vez? - S un mejor Amigo
Entra en Yahoo! Respuestas.
  </pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10426<br>
Sender:"Costello, Roger L." &lt;costello@...&gt;<br>
Post Date/Time:2008-02-27 14:21:11<br>
Subject:How does a search engine access web content that requires a query string in the URL?<br>
Message:<br><br>
<pre>Hi Folks,

How does a search engine access web content that requires a query
string in the URL?

For example, I typed "cellphones" into Google and one of the responses
was this URL:

http://www.amazon.com/cell-phones-service-plans-accessories/b?ie=UTF8&amp;n
ode=301185

Notice the query parameters being used in the URL: ie=UTF8&amp;node=301185

Somehow the Googlebot retrieved the content at that URL, indexed it,
and thus knew that the content was relevant to my query.

But how did the Googlebot find that content?  How did the Googlebot
know what query parameters to use, and what values to use?

Of course, if the URL (plus query parameters) is embedded in another
web page, then the Googlebot can find the content by following the link
in that web page.  But suppose the URL is not embedded in another web
page, how does the Googlebot know what query parameters and values to
use?

Thanks!

/Roger

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10427<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2008-02-27 14:26:42<br>
Subject:Re: [rest-discuss] How does a search engine access web content that requires a query string in the URL?<br>
Message:<br><br>
<pre>Hi Roger,

I guess it is a combination of evaluating the forms and some heuristics on the field names commonly used.

Jan
 
On Wednesday, February 27, 2008, at 03:21PM, "Costello, Roger L." &lt;costello@...&gt; wrote:
&gt;Hi Folks,
&gt;
&gt;How does a search engine access web content that requires a query
&gt;string in the URL?
&gt;
&gt;For example, I typed "cellphones" into Google and one of the responses
&gt;was this URL:
&gt;
&gt;http://www.amazon.com/cell-phones-service-plans-accessories/b?ie=UTF8&amp;n
&gt;ode=301185
&gt;
&gt;Notice the query parameters being used in the URL: ie=UTF8&amp;node=301185
&gt;
&gt;Somehow the Googlebot retrieved the content at that URL, indexed it,
&gt;and thus knew that the content was relevant to my query.
&gt;
&gt;But how did the Googlebot find that content?  How did the Googlebot
&gt;know what query parameters to use, and what values to use?
&gt;
&gt;Of course, if the URL (plus query parameters) is embedded in another
&gt;web page, then the Googlebot can find the content by following the link
&gt;in that web page.  But suppose the URL is not embedded in another web
&gt;page, how does the Googlebot know what query parameters and values to
&gt;use?
&gt;
&gt;Thanks!
&gt;
&gt;/Roger
&gt;
&gt;
&gt; 
&gt;Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10428<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-02-28 06:00:52<br>
Subject:MindTouch Dream 1.5 release<br>
Message:<br><br>
<pre>Thanks to everyone for your advice and thoughts on best practices  
around REST.  It helped me enormously in navigating the design space  
for our open source REST library and do many improvements to our 5th  
release of Dream.

Here is a short description:

&gt; MindTouch Dream is a .Net library for REST-oriented programming. It  
&gt; ships with a REST micro-server for Windows and Linux (thanks to  
&gt; Mono) that can be embedded into applications or used as a  
&gt; standalone .Net REST web-server. Dream is open source, written in  
&gt; C#, and licensed under LGPL. You can download Dream Emerald 1.5.0  
&gt; from SourceForge.net.


More details in my blog post:
http://www.mindtouch.com/blog/2008/02/27/dream-emerald-150-released/

Thanks for your feedback!


Cheers,

- Steve

--------------
Steve G. Bjorg
http://wiki.mindtouch.com
http://wiki.opengarden.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10429<br>
Sender:"jjn1056" &lt;jjn1056@...&gt;<br>
Post Date/Time:2008-02-28 21:28:29<br>
Subject:Best way to design URI namespaces with related resources?<br>
Message:<br><br>
<pre>Hi,

We're trying to redesign the way information is accessible on our site
and am trying hard to stick to a REST methodology.  However we have
run into a few cases where it's difficult to choose a path and would
appreciate anyone's thoughts about the up or downsides to various
approaches.  We have two basic problems we are trying to solve.

One nasty problem for us is in deciding the best way to handle related
resources, where one resource is both a top level browsable resource
AND a subset of another source.  

For example, let's say we have two basic resources on our site.  The
first is Users and the second is Photos.  Designing those basic
resources seems straightforward:

GET /users

&lt;ul&gt;
  &lt;li&gt;&lt;a href="/users/100"&gt;John&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="/users/101"&gt;Mary&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


GET /photos

&lt;ul&gt;
  &lt;li&gt;&lt;a href="/photos/200"&gt;Sunset&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="/photos/201"&gt;Tree&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="/photos/202"&gt;Horse&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

Now the first problem we have is to decide the best way to create a
URI hierarchy for photos that belong to users.  I think it's pretty
clear that belongs to the users resource collection.  However it's not
at all clear to us the best way to map that.  Here's an example of the
choice we have:

GET /users/100

&lt;dl&gt;
  &lt;dt&gt;name&lt;/dt&gt;
  &lt;dd&gt;John&lt;/dd&gt;
  &lt;dt&gt;photos  choice One&lt;/dt&gt;
  &lt;dd&gt;&lt;a href="/users/100/photos"&gt;John's Photos&lt;/a&gt;&lt;/dd&gt;
  &lt;dt&gt;photos  choice Two&lt;/dt&gt;
  &lt;dd&gt;&lt;a href="/photos/users/100"&gt;John's Photos&lt;/a&gt;&lt;/dd&gt;
&lt;/dl&gt;

From a programming perspective we prefer the second choice since it
allows us to have a base controller for the photos and then
discoverable 'filter' path parts below that which can inherit or
enhance the behavior.  From our perspective that's a lot better than
have to duplicate the photo controller behavior for stuff under our
user controller (and again where ever else we end up have sets of photos).

What do you think of this choice and reasoning?

Our second problem has to do how an item that is part of a collection
of items (say a particular photo in the big list of photos from the
above example) can carry the context of it's containing set and yet
meet the needs for canonical uris that seem to be an important part of
designing REST websites.  Here's an example of what I mean.

When the user navigates our website we would like her to be able to
get context relevant hints on where to go next.  So if she goes to the
photos and chooses a photo we will display 'previous' and 'next' links
as well as a link back to the big list of photos.

GET /photos/201

&lt;dl&gt;
  &lt;dt&gt;name&lt;/dt&gt;
  &lt;dd&gt;Tree&lt;/dd&gt;
  &lt;dt&gt;source&lt;/dt&gt;
  &lt;dd&gt;&lt;a href="/photos/201.jpg"&gt;Picture of a Tree&lt;/a&gt;&lt;/dd&gt;
  &lt;dt&gt;list&lt;/dt&gt;
  &lt;dd&gt;&lt;a href="/photos"&gt;All Photos&lt;/a&gt;&lt;/dd&gt;
  &lt;dt&gt;previous&lt;/dt&gt;
  &lt;dd&gt;&lt;a href="/photos/200"&gt;Sunset&lt;/a&gt;&lt;/dd&gt;
  &lt;dt&gt;next&lt;/dt&gt;
  &lt;dd&gt;&lt;a href="/photos/201"&gt;Horse&lt;/a&gt;&lt;/dd&gt;
&lt;/dl&gt;

Now here's our idea of what a similar resource would be like if the
user navigated to a photo via a user:


GET /photos/201/user/100

&lt;dl&gt;
  &lt;dt&gt;name&lt;/dt&gt;
  &lt;dd&gt;Tree&lt;/dd&gt;
  &lt;dt&gt;source&lt;/dt&gt;
  &lt;dd&gt;&lt;a href="/photos/201.jpg"&gt;Picture of a Tree&lt;/a&gt;&lt;/dd&gt;
  &lt;dt&gt;list&lt;/dt&gt;
  &lt;dd&gt;&lt;a href="/photos/user/100"&gt;All Photos&lt;/a&gt;&lt;/dd&gt;
  &lt;dt&gt;previous&lt;/dt&gt;
  &lt;dd&gt;&lt;a href="/photos/200/user/100"&gt;Sunset&lt;/a&gt;&lt;/dd&gt;
  &lt;dt&gt;next&lt;/dt&gt;
  &lt;dd&gt;&lt;a href="/photos/202/user/100"&gt;Horse&lt;/a&gt;&lt;/dd&gt;
&lt;/dl&gt;

One thing that bothers us here is that this is essentially the same
resource as the one above, but I guess it is different resource.  What
do you all think?

Would appreciate any thoughts, even thoughts that would involve a
total difference direction.  

Sincerely,
John


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10430<br>
Sender:Subbu Allamaraju &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-02-28 22:27:20<br>
Subject:Re: [rest-discuss] Best way to design URI namespaces with related resources?<br>
Message:<br><br>
<pre>&gt; GET /users/100
&gt;
&gt; &lt;dl&gt;
&gt;  &lt;dt&gt;name&lt;/dt&gt;
&gt;  &lt;dd&gt;John&lt;/dd&gt;
&gt;  &lt;dt&gt;photos  choice One&lt;/dt&gt;
&gt;  &lt;dd&gt;&lt;a href="/users/100/photos"&gt;John's Photos&lt;/a&gt;&lt;/dd&gt;
&gt;  &lt;dt&gt;photos  choice Two&lt;/dt&gt;
&gt;  &lt;dd&gt;&lt;a href="/photos/users/100"&gt;John's Photos&lt;/a&gt;&lt;/dd&gt;
&gt; &lt;/dl&gt;
&gt;
&gt; From a programming perspective we prefer the second choice since it
&gt; allows us to have a base controller for the photos and then
&gt; discoverable 'filter' path parts below that which can inherit or
&gt; enhance the behavior.  From our perspective that's a lot better than
&gt; have to duplicate the photo controller behavior for stuff under our
&gt; user controller (and again where ever else we end up have sets of  
&gt; photos).

Isn't this just a problem of mapping paths to your controllers? For  
example a pattern like /users/100/photos could be mapped to your  
photos controller.

Subbu


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10431<br>
Sender:John Napiorkowski &lt;jjn1056@...&gt;<br>
Post Date/Time:2008-02-28 23:46:52<br>
Subject:Re: [rest-discuss] Best way to design URI namespaces with related resources?<br>
Message:<br><br>
<pre>
--- Subbu Allamaraju &lt;subbu.allamaraju@...&gt;
wrote:

&gt; &gt; GET /users/100
&gt; &gt;
&gt; &gt; &lt;dl&gt;
&gt; &gt;  &lt;dt&gt;name&lt;/dt&gt;
&gt; &gt;  &lt;dd&gt;John&lt;/dd&gt;
&gt; &gt;  &lt;dt&gt;photos  choice One&lt;/dt&gt;
&gt; &gt;  &lt;dd&gt;&lt;a href="/users/100/photos"&gt;John's
&gt; Photos&lt;/a&gt;&lt;/dd&gt;
&gt; &gt;  &lt;dt&gt;photos  choice Two&lt;/dt&gt;
&gt; &gt;  &lt;dd&gt;&lt;a href="/photos/users/100"&gt;John's
&gt; Photos&lt;/a&gt;&lt;/dd&gt;
&gt; &gt; &lt;/dl&gt;
&gt; &gt;
&gt; &gt; From a programming perspective we prefer the
&gt; second choice since it
&gt; &gt; allows us to have a base controller for the photos
&gt; and then
&gt; &gt; discoverable 'filter' path parts below that which
&gt; can inherit or
&gt; &gt; enhance the behavior.  From our perspective that's
&gt; a lot better than
&gt; &gt; have to duplicate the photo controller behavior
&gt; for stuff under our
&gt; &gt; user controller (and again where ever else we end
&gt; up have sets of  
&gt; &gt; photos).
&gt; 
&gt; Isn't this just a problem of mapping paths to your
&gt; controllers? For  
&gt; example a pattern like /users/100/photos could be
&gt; mapped to your  
&gt; photos controller.
&gt; 
&gt; Subbu

Thanks for the idea.  Yes, this is a possibility since
our MVC system of choice (we're developing with a Perl
based frameworked called Catalyst) makes it easy to
separate controller classes from the path.  It could
also be handled in our Akamai cache if we wanted.  I
guess I'm just wondering what makes the most sense
considering we have photo groups by a lot of
difference relations and want a clear way to handle
it.  For example we have community groups that have
photos, schools, teams, affiliates, etc that all have
photos that are also part of the base group of photos
that people can browse.  That's one reason we thought
to have everything under the /photos namespace.

Thanks!
JohnN



      ____________________________________________________________________________________
Never miss a thing.  Make Yahoo your home page. 
http://www.yahoo.com/r/hs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10432<br>
Sender:Henrik Frystyk Nielsen &lt;henrikn@...&gt;<br>
Post Date/Time:2008-02-29 01:17:53<br>
Subject:RE: [rest-discuss] SOAP 1.2 and REST<br>
Message:<br><br>
<pre>Pavan,

The part you are thinking of is in the optional HTTP binding in part 2, however, it is really more a guidance for how to *use* SOAP than of SOAP itself. The reason is that SOAP doesn't define an app model; it only defines an extensible messaging model that can be used in any number of ways. This is one of the reasons why it is often being used in contexts that are absolutely not Web friendly.

However, it is possible to build REST/Web friendly app models that include SOAP. As an example you may want to have a look at Microsoft Robotics Studio [1] which uses a SOAP-based protocol that we call DSSP [2]. As the name suggests, we like robots but the model actually applies much broader (see for example [3]).

Hope this helps,

Henrik

[1] http://microsoft.com/robotics
[2] http://purl.org/msrs/dssp.pdf
[3] http://blogs.msdn.com/asehmi/archive/2008/02/27/distributed-computing-gets-spruced-up-with-ccr-dss.aspx

&gt;         Its me pavan again with one more question. I have read that
&gt; SOAP 1.2 incorporated some of the REST principles but no where i got
&gt; the exact material regarding those. DO anybody know about any article
&gt; or kind of like that to look for those.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10433<br>
Sender:Ben Ramsey &lt;benramsey.lists@...&gt;<br>
Post Date/Time:2008-03-02 16:41:05<br>
Subject:Re: [rest-discuss] Best way to design URI namespaces with related resources?<br>
Message:<br><br>
<pre>On 2/28/08 4:28 PM, jjn1056 wrote:
&gt; Now the first problem we have is to decide the best way to create a
&gt; URI hierarchy for photos that belong to users. 

[snip]

&gt; From a programming perspective we prefer the second choice since it
&gt; allows us to have a base controller for the photos and then
&gt; discoverable 'filter' path parts below that which can inherit or
&gt; enhance the behavior. From our perspective that's a lot better than
&gt; have to duplicate the photo controller behavior for stuff under our
&gt; user controller (and again where ever else we end up have sets of photos).
&gt; 
&gt; What do you think of this choice and reasoning?

I'm working on a project in which we faced a similar challenge. The URIs we 
launched the project with follow your /users/100 and /photos/201 approach, with 
no hierarchy information for photos belonging to users. However, we are changing 
this.

We will still maintain the /photos/201 URIs, but they will simply redirect to 
our canonical /users/100/photos/201 URIs. We settled on this structure because 
we believe it conveys the proper hierarchy.

As far as programming goes, we're using the routing features of the framework we 
use to allow us to keep the same controller structure we currently have, but the 
routes are set up as such that we don't have to duplicate any code.

&gt; Our second problem has to do how an item that is part of a collection
&gt; of items (say a particular photo in the big list of photos from the
&gt; above example) can carry the context of it's containing set and yet
&gt; meet the needs for canonical uris that seem to be an important part of
&gt; designing REST websites. Here's an example of what I mean.

[snip]

&gt; Now here's our idea of what a similar resource would be like if the
&gt; user navigated to a photo via a user:
&gt; 
&gt; GET /photos/201/user/100

To me, this URI looks as if you are viewing a user resource via a photo and not 
the other way around, as you have suggested. The hierarchy here isn't logical to me.

In our case, again, we settled on conveying the ownership of the photos in the 
canonical URIs, so in every place that "photos" appear in a collection of items 
(for example, at /photos), they still link to /users/100/photos/201.

Of course, you can contrast this with flickr, which uses /photos/{username}/201, 
but, in this case 201 refers to the photo resource, which I think is logical.

-- 
Ben Ramsey
http://benramsey.com/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10434<br>
Sender:"Steve Loughran" &lt;steve.loughran.soapbuilders@...&gt;<br>
Post Date/Time:2008-03-02 23:59:26<br>
Subject:Re: [rest-discuss] Returning a Response Body for 400 errors<br>
Message:<br><br>
<pre>On Thu, Feb 14, 2008 at 3:15 PM, Griffin Caprio
&lt;griffin.caprio@...&gt; wrote:
&gt;
&gt;  Hi all,
&gt;
&gt; What's the best way to return specific errors to a client if they make a
&gt; malformed request?  My company has a REST web service that accepts POSTed
&gt; data to it.  We wanted to return a 400 response code in cases where the data
&gt; being sent is invalid for some reason ( invalid XML, invalid business rules,
&gt; etc.. ) .  We also wanted to return specific validation messages as part of
&gt; the response body.
&gt;
&gt; However, we're running into problems with some java clients because
&gt; apparently the HttpUrlConnection class in the JDK swallows the response
&gt; bodies when a 400 or higher return code is sent back:

no, its worse than that. Historically, it's choice of action depended
on the extension of the remote URL. .html extensions tended to include
the test, but .jsp pages didnt.

One word: httpclient

-steve

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10435<br>
Sender:"paulevanscalgary" &lt;paulevanscalgary@...&gt;<br>
Post Date/Time:2008-03-03 13:52:13<br>
Subject:Parsing the URI or creating the REST Server in php<br>
Message:<br><br>
<pre>Hi there,
I'm trying to find an elegant way of processing the URI so that it
follows RESTful ideas and allows me to make changes in the future.

From what I understand the REST architecture prefers to access
resources by using URI which is akin to URLs.

When you make requests, preferably with one of the four action words
GET,POST,PUT,and DELETE, you use a URI to state which resource you
want to perform these actions on.

So now you have a set of possible URI's that must be parsed depending
on what action you are given.

eg.
http://localhost/vehicles/cars/toyota/corolla/2005
http://localhost/vehicles/trucks/
http://localhost/assemblyplants
etc.

How are people setting up their REST server so they can parse the URI's?

Are you:
1) creating the dirs statically and putting an index.php to parse what
it should do?

eg. ./corolla/2005/index.html

That seems very wrong because if I add another year, another
index.html would need to be created

2) at the root dir http://localhost/ you have a .htaccess with
mod_rewrite that parses the entire string and changes them to arguments?

eg. arg[] = { vehicles, cars, toyota, corolla, 2005 }

At this point you start from left to right and parse the values until
you reach the final token.

This would seem like a large switch statement or even a FSM type of
graph to determine what data the URI is supposed to retrieve. 

What happens to IIS servers that don't have mod_rewrite?

3) Any other suggestions?

I've been trying to find info on search engines and there really isn't
much out there. Any hints would be appreciated.

I bought the RESTful web services book, but it doesn't mention much on
how one should go about parsing the URI on the server side.

thanks




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10436<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-03-04 16:38:11<br>
Subject:ASP.NET MVC Framework Presentation<br>
Message:<br><br>
<pre>Hi,

I just thought that I would ping the group to let you know that I have
started giving a talk on the new ASP.NET MVC Framework in which I
reference REST:

http://www.slideshare.net/alan.dean/introduction-to-aspnet-mvc/

I gave the talk internally at Charteris in January. I am scheduled to
give it to NxtGenUG in April and at DDD Ireland in May.

Please note that the talk isn't *about* REST - I'm simply slipping it
in the back door ;-)

Regards,
Alan Dean
http://thoughtpad.net/alan-dean
http://simplewebservices.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10437<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-03-09 19:30:28<br>
Subject:Re: [OT?] URL as UI<br>
Message:<br><br>
<pre>* Petite Abeille &lt;petite.abeille@...&gt; [2008-02-18 00:35]:
&gt; Anyone has some opinion about using "URL as UI" [1]?

Yes: its a good thing to do. URI as *U*I has very different
concerns from URI as *AP*I; the former is desirable, the latter
is anything but.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10438<br>
Sender:Peter Keane &lt;pkeane@...&gt;<br>
Post Date/Time:2008-03-10 04:35:29<br>
Subject:Re: [rest-discuss] Re: [OT?] URL as UI<br>
Message:<br><br>
<pre>On Sun, 9 Mar 2008, Aristotle Pagaltzis wrote:

&gt; * Petite Abeille &lt;petite.abeille@...&gt; [2008-02-18 00:35]:
&gt;&gt; Anyone has some opinion about using "URL as UI" [1]?
&gt;
&gt; Yes: its a good thing to do. URI as *U*I has very different
&gt; concerns from URI as *AP*I; the former is desirable, the latter
&gt; is anything but.
&gt;

I have discovered an interesting side-effect of a RESTful design.  I have 
a digital asset management tool for which I created a simple search 
syntax, based on Opensearch and SRU/CQL [0].  A form helps the user 
"compose" the URL string and parameters (although they could do it by 
hand as well) and returns the resulting set of items. Internally, the 
search actually creates an Atom feed that is run through some XSLT to 
create the results page.  With a slight change to the search request 
(adding "atom" to the base url), the user can see the Atom result and can, 
for instance, subscribe to a search.

I have a simple plug-in module system that other developers can use to
build new search/display interfaces on top of the system. Originally,
plugins made database requests by way of the object model &amp; ORM. We
eventually realized that almost *every* database call can be as easily
expressed as an http request using our url search syntax (returning an
Atom document which is XPath/XSLT'ed into the desired xhtml). So the 
"controller" code need be nothing but a url fetch and a pass-off to an 
XSLT "view".

Perhaps this is not "URL as API", but it is certainly "URL search syntax
as API (not just *UI*).  To that extent, it has been incredibly useful
as a way to "separate concerns" and has had real impact on the way we
have been able to staff our projects.

--peter keane

[0] http://www.loc.gov/standards/sru/cql-bibliographic-searching.html




&gt; Regards,
&gt; --
&gt; Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;
&gt;</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10439<br>
Sender:"Subhash Chandran" &lt;subwiz@...&gt;<br>
Post Date/Time:2008-03-10 17:57:33<br>
Subject:[Announce] RESTClient 2.1 Released<br>
Message:<br><br>
<pre>I am happy to announce the immediate availability of WizTools.org
RESTClient 2.1 version:

http://rest-client.googlecode.com/

This release focuses on usability improvement and bug fixes.

Special thanks to the rest-discuss
(http://tech.groups.yahoo.com/group/rest-discuss/) members who
contributed bug reports and feature requests for this release. Among
all the good hearted people in this group, special mention should be
made to one Mr.Avi Flax who contributed about 15 requests/bugs for
this release.

Requesting users to pro-actively report bugs and request features:

http://code.google.com/p/rest-client/issues/list

Subhash (subwiz)
10th March 2008

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10440<br>
Sender:"Pat Maddox" &lt;pergesu@...&gt;<br>
Post Date/Time:2008-03-10 19:18:27<br>
Subject:Question about simple state change (draft-&gt;published and back again)<br>
Message:<br><br>
<pre>Here's a common scenario that I've never fully understood how to model
RESTfully.

I've got articles in the system, and when I first add them they're in
draft mode.  At some point I can publish them to make them public.
And at any time I can toggle between draft or published mode.

My object model is very simple - articles have a method for each of
these actions.  article.publish and article.make_draft.  I don't know
how I can easily map those to resources.

The ways I've thought of are
  - expose the state, so that clients would do something like PUT
/articles/1 with published=true or published=false
  - create a new intermediate resource like versions

I don't like either of those choices.  For the first one, my
controller code would have to look at the incoming params, then see if
published=true, and if so call the publish method on the article.  The
second choice has me creating resources where I don't really want any.
 All I want to do is map a HTTP request to an operation on my object
model.

Pat

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10441<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-03-10 19:35:30<br>
Subject:Re: [rest-discuss] Question about simple state change (draft-&gt;published and back again)<br>
Message:<br><br>
<pre>re-sending to the *list* this time...

On Mon, Mar 10, 2008 at 3:33 PM, mike amundsen &lt;mca@...&gt; wrote:

&gt; if your article id is globally unique you could safely use:
&gt;
&gt;  PUT /publish/1
&gt;  PUT /draft/1
&gt;
&gt;  MikeA
&gt;
&gt;
&gt;
&gt;  On Mon, Mar 10, 2008 at 3:18 PM, Pat Maddox &lt;pergesu@...&gt; wrote:
&gt;  &gt; Here's a common scenario that I've never fully understood how to model
&gt;  &gt;  RESTfully.
&gt;  &gt;
&gt;  &gt;  I've got articles in the system, and when I first add them they're in
&gt;  &gt;  draft mode.  At some point I can publish them to make them public.
&gt;  &gt;  And at any time I can toggle between draft or published mode.
&gt;  &gt;
&gt;  &gt;  My object model is very simple - articles have a method for each of
&gt;  &gt;  these actions.  article.publish and article.make_draft.  I don't know
&gt;  &gt;  how I can easily map those to resources.
&gt;  &gt;
&gt;  &gt;  The ways I've thought of are
&gt;  &gt;   - expose the state, so that clients would do something like PUT
&gt;  &gt;  /articles/1 with published=true or published=false
&gt;  &gt;   - create a new intermediate resource like versions
&gt;  &gt;
&gt;  &gt;  I don't like either of those choices.  For the first one, my
&gt;  &gt;  controller code would have to look at the incoming params, then see if
&gt;  &gt;  published=true, and if so call the publish method on the article.  The
&gt;  &gt;  second choice has me creating resources where I don't really want any.
&gt;  &gt;   All I want to do is map a HTTP request to an operation on my object
&gt;  &gt;  model.
&gt;  &gt;
&gt;  &gt;  Pat
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;  Yahoo! Groups Links
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt;
&gt;
&gt;
&gt;  --
&gt;  mca
&gt;  http://amundsen.com/blog/
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10442<br>
Sender:"Pat Maddox" &lt;pergesu@...&gt;<br>
Post Date/Time:2008-03-10 19:39:55<br>
Subject:Re: [rest-discuss] Question about simple state change (draft-&gt;published and back again)<br>
Message:<br><br>
<pre>Thanks for the reply, Mike.

It's not globally unique.  Also, what's the advantage of that over

PUT /articles/1/publish
PUT /articles/1/draft

?

On Mon, Mar 10, 2008 at 12:33 PM, mike amundsen &lt;mca@...&gt; wrote:
&gt; if your article id is globally unique you could safely use:
&gt;
&gt;  PUT /publish/1
&gt;  PUT /draft/1
&gt;
&gt;  MikeA
&gt;
&gt;
&gt;
&gt;  On Mon, Mar 10, 2008 at 3:18 PM, Pat Maddox &lt;pergesu@...&gt; wrote:
&gt;  &gt; Here's a common scenario that I've never fully understood how to model
&gt;  &gt;  RESTfully.
&gt;  &gt;
&gt;  &gt;  I've got articles in the system, and when I first add them they're in
&gt;  &gt;  draft mode.  At some point I can publish them to make them public.
&gt;  &gt;  And at any time I can toggle between draft or published mode.
&gt;  &gt;
&gt;  &gt;  My object model is very simple - articles have a method for each of
&gt;  &gt;  these actions.  article.publish and article.make_draft.  I don't know
&gt;  &gt;  how I can easily map those to resources.
&gt;  &gt;
&gt;  &gt;  The ways I've thought of are
&gt;  &gt;   - expose the state, so that clients would do something like PUT
&gt;  &gt;  /articles/1 with published=true or published=false
&gt;  &gt;   - create a new intermediate resource like versions
&gt;  &gt;
&gt;  &gt;  I don't like either of those choices.  For the first one, my
&gt;  &gt;  controller code would have to look at the incoming params, then see if
&gt;  &gt;  published=true, and if so call the publish method on the article.  The
&gt;  &gt;  second choice has me creating resources where I don't really want any.
&gt;  &gt;   All I want to do is map a HTTP request to an operation on my object
&gt;  &gt;  model.
&gt;  &gt;
&gt;  &gt;  Pat
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;  Yahoo! Groups Links
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt;
&gt;
&gt;
&gt;  --
&gt;  mca
&gt;  http://amundsen.com/blog/
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10443<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2008-03-10 19:59:59<br>
Subject:Re: [rest-discuss] Question about simple state change (draft-&gt;published and back again)<br>
Message:<br><br>
<pre>On Mon, Mar 10, 2008 at 3:18 PM, Pat Maddox &lt;pergesu@...&gt; wrote:
&gt; &gt; Here's a common scenario that I've never fully understood how to model
&gt; &gt; RESTfully.
&gt; &gt;
&gt; &gt; I've got articles in the system, and when I first add them they're in
&gt; &gt; draft mode. At some point I can publish them to make them public.
&gt; &gt; And at any time I can toggle between draft or published mode.

Alternatively, you could PUT
/articles/1/mode

(the state of which is either "draft" or "published")

Because that is literally what you are doing, changing the state of
mode of the article, which appears to be somewhat independent of
changing the state of the contents of the article.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10444<br>
Sender:"Pat Maddox" &lt;pergesu@...&gt;<br>
Post Date/Time:2008-03-10 20:08:50<br>
Subject:Re: [rest-discuss] Question about simple state change (draft-&gt;published and back again)<br>
Message:<br><br>
<pre>On Mon, Mar 10, 2008 at 12:59 PM, Bob Haugen &lt;bob.haugen@...&gt; wrote:
&gt;
&gt; On Mon, Mar 10, 2008 at 3:18 PM, Pat Maddox &lt;pergesu@...&gt; wrote:
&gt;  &gt; &gt; Here's a common scenario that I've never fully understood how to model
&gt;  &gt; &gt; RESTfully.
&gt;  &gt; &gt;
&gt;  &gt; &gt; I've got articles in the system, and when I first add them they're in
&gt;  &gt; &gt; draft mode. At some point I can publish them to make them public.
&gt;  &gt; &gt; And at any time I can toggle between draft or published mode.
&gt;
&gt;  Alternatively, you could PUT
&gt;  /articles/1/mode
&gt;
&gt;  (the state of which is either "draft" or "published")
&gt;
&gt;  Because that is literally what you are doing, changing the state of
&gt;  mode of the article, which appears to be somewhat independent of
&gt;  changing the state of the contents of the article.

Hey Bob,

That makes sense.  It leaves me with another question though.  In my
implementation, I prefer to have methods like article.setPublished,
article.setDraft vs article.setMode(Article.PUBLISHED) and
article.setMode(Article.DRAFT).  It's just cleaner and better
encapsulated, imo.

It seems to me though that on the web we're a bit more interested in
state, so perhaps PUT /articles/1/mode makes more sense.  It would be
very easy to use reflection to map from that request to the
appropriate method on the article object.

How does that sound?

Pat

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10445<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2008-03-10 20:16:01<br>
Subject:Re: [rest-discuss] Question about simple state change (draft-&gt;published and back again)<br>
Message:<br><br>
<pre>On Mon, Mar 10, 2008 at 3:08 PM, Pat Maddox &lt;pergesu@...&gt; wrote:
&gt;  In my
&gt;  implementation, I prefer to have methods like article.setPublished,
&gt;  article.setDraft vs article.setMode(Article.PUBLISHED) and
&gt;  article.setMode(Article.DRAFT).  It's just cleaner and better
&gt;  encapsulated, imo.
&gt;
&gt;  It seems to me though that on the web we're a bit more interested in
&gt;  state, so perhaps PUT /articles/1/mode makes more sense.  It would be
&gt;  very easy to use reflection to map from that request to the
&gt;  appropriate method on the article object.
&gt;
&gt;  How does that sound?

What you do on the server behind the URIs is your business.  But REST
is the acronym for REpresentational State Transfer, so yeah, it's
about representations of state using universal methods, of which
setMode is not one.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10446<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-03-10 20:30:22<br>
Subject:Re: [rest-discuss] Question about simple state change (draft-&gt;published and back again)<br>
Message:<br><br>
<pre>small thing, i guess but
PUT /publish/1
tells me to "PUT article 1 in publish mode"

PUT /articles/1/publish
tell me to "PUT publish to article 1"

see my thinking (it might be wonky)?

also, the above cases assume not important body information in the
PUT.  Bob gave an example where you'd use a /mode URI and use a body
that contains the state (draft or publish). this has a couple
advantages, i think. for example, we use a "deprecated" mode form some
documents. with a /mode URI, you can modify the document content rules
(draft,publish,pending,deprecated,etc.) without minting new URIs.

MikeA

On Mon, Mar 10, 2008 at 3:39 PM, Pat Maddox &lt;pergesu@...&gt; wrote:
&gt; Thanks for the reply, Mike.
&gt;
&gt;  It's not globally unique.  Also, what's the advantage of that over
&gt;
&gt;  PUT /articles/1/publish
&gt;  PUT /articles/1/draft
&gt;
&gt;  ?
&gt;
&gt;
&gt;
&gt;  On Mon, Mar 10, 2008 at 12:33 PM, mike amundsen &lt;mca@...&gt; wrote:
&gt;  &gt; if your article id is globally unique you could safely use:
&gt;  &gt;
&gt;  &gt;  PUT /publish/1
&gt;  &gt;  PUT /draft/1
&gt;  &gt;
&gt;  &gt;  MikeA
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;  On Mon, Mar 10, 2008 at 3:18 PM, Pat Maddox &lt;pergesu@...&gt; wrote:
&gt;  &gt;  &gt; Here's a common scenario that I've never fully understood how to model
&gt;  &gt;  &gt;  RESTfully.
&gt;  &gt;  &gt;
&gt;  &gt;  &gt;  I've got articles in the system, and when I first add them they're in
&gt;  &gt;  &gt;  draft mode.  At some point I can publish them to make them public.
&gt;  &gt;  &gt;  And at any time I can toggle between draft or published mode.
&gt;  &gt;  &gt;
&gt;  &gt;  &gt;  My object model is very simple - articles have a method for each of
&gt;  &gt;  &gt;  these actions.  article.publish and article.make_draft.  I don't know
&gt;  &gt;  &gt;  how I can easily map those to resources.
&gt;  &gt;  &gt;
&gt;  &gt;  &gt;  The ways I've thought of are
&gt;  &gt;  &gt;   - expose the state, so that clients would do something like PUT
&gt;  &gt;  &gt;  /articles/1 with published=true or published=false
&gt;  &gt;  &gt;   - create a new intermediate resource like versions
&gt;  &gt;  &gt;
&gt;  &gt;  &gt;  I don't like either of those choices.  For the first one, my
&gt;  &gt;  &gt;  controller code would have to look at the incoming params, then see if
&gt;  &gt;  &gt;  published=true, and if so call the publish method on the article.  The
&gt;  &gt;  &gt;  second choice has me creating resources where I don't really want any.
&gt;  &gt;  &gt;   All I want to do is map a HTTP request to an operation on my object
&gt;  &gt;  &gt;  model.
&gt;  &gt;  &gt;
&gt;  &gt;  &gt;  Pat
&gt;  &gt;  &gt;
&gt;  &gt;  &gt;
&gt;  &gt;  &gt;
&gt;  &gt;  &gt;  Yahoo! Groups Links
&gt;  &gt;  &gt;
&gt;  &gt;  &gt;
&gt;  &gt;  &gt;
&gt;  &gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;  --
&gt;  &gt;  mca
&gt;  &gt;  http://amundsen.com/blog/
&gt;  &gt;
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10447<br>
Sender:Subbu Allamaraju &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-03-10 21:00:18<br>
Subject:Re: [rest-discuss] Question about simple state change (draft-&gt;published and back again)<br>
Message:<br><br>
<pre>But that looks like a method-oriented URI and not a resource-oriented  
URI.

For example, what would

GET /publish/1

mean? Or am I misunderstanding your snippets below?

Subbu

On Mar 10, 2008, at 1:30 PM, mike amundsen wrote:

&gt; small thing, i guess but
&gt; PUT /publish/1
&gt; tells me to "PUT article 1 in publish mode"
&gt;
&gt; PUT /articles/1/publish
&gt; tell me to "PUT publish to article 1"
&gt;
&gt; see my thinking (it might be wonky)?
&gt;
&gt; also, the above cases assume not important body information in the
&gt; PUT.  Bob gave an example where you'd use a /mode URI and use a body
&gt; that contains the state (draft or publish). this has a couple
&gt; advantages, i think. for example, we use a "deprecated" mode form some
&gt; documents. with a /mode URI, you can modify the document content rules
&gt; (draft,publish,pending,deprecated,etc.) without minting new URIs.
&gt;
&gt; MikeA
&gt;
&gt; On Mon, Mar 10, 2008 at 3:39 PM, Pat Maddox &lt;pergesu@...&gt; wrote:
&gt;&gt; Thanks for the reply, Mike.
&gt;&gt;
&gt;&gt; It's not globally unique.  Also, what's the advantage of that over
&gt;&gt;
&gt;&gt; PUT /articles/1/publish
&gt;&gt; PUT /articles/1/draft
&gt;&gt;
&gt;&gt; ?
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; On Mon, Mar 10, 2008 at 12:33 PM, mike amundsen &lt;mca@...&gt;  
&gt;&gt; wrote:
&gt;&gt;&gt; if your article id is globally unique you could safely use:
&gt;&gt;&gt;
&gt;&gt;&gt; PUT /publish/1
&gt;&gt;&gt; PUT /draft/1
&gt;&gt;&gt;
&gt;&gt;&gt; MikeA
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On Mon, Mar 10, 2008 at 3:18 PM, Pat Maddox &lt;pergesu@...&gt;  
&gt;&gt;&gt; wrote:
&gt;&gt;&gt;&gt; Here's a common scenario that I've never fully understood how to  
&gt;&gt;&gt;&gt; model
&gt;&gt;&gt;&gt; RESTfully.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; I've got articles in the system, and when I first add them  
&gt;&gt;&gt;&gt; they're in
&gt;&gt;&gt;&gt; draft mode.  At some point I can publish them to make them public.
&gt;&gt;&gt;&gt; And at any time I can toggle between draft or published mode.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; My object model is very simple - articles have a method for each of
&gt;&gt;&gt;&gt; these actions.  article.publish and article.make_draft.  I don't  
&gt;&gt;&gt;&gt; know
&gt;&gt;&gt;&gt; how I can easily map those to resources.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; The ways I've thought of are
&gt;&gt;&gt;&gt;  - expose the state, so that clients would do something like PUT
&gt;&gt;&gt;&gt; /articles/1 with published=true or published=false
&gt;&gt;&gt;&gt;  - create a new intermediate resource like versions
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; I don't like either of those choices.  For the first one, my
&gt;&gt;&gt;&gt; controller code would have to look at the incoming params, then  
&gt;&gt;&gt;&gt; see if
&gt;&gt;&gt;&gt; published=true, and if so call the publish method on the  
&gt;&gt;&gt;&gt; article.  The
&gt;&gt;&gt;&gt; second choice has me creating resources where I don't really want  
&gt;&gt;&gt;&gt; any.
&gt;&gt;&gt;&gt;  All I want to do is map a HTTP request to an operation on my  
&gt;&gt;&gt;&gt; object
&gt;&gt;&gt;&gt; model.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Pat
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Yahoo! Groups Links
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; --
&gt;&gt;&gt; mca
&gt;&gt;&gt; http://amundsen.com/blog/
&gt;&gt;&gt;
&gt;&gt;
&gt;
&gt;
&gt;
&gt; -- 
&gt; mca
&gt; http://amundsen.com/blog/
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10448<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-03-10 21:21:25<br>
Subject:Re: [rest-discuss] Question about simple state change (draft-&gt;published and back again)<br>
Message:<br><br>
<pre>*ah!*

yep - would be better to put that "state" in the body of the PUT to /articles/1.

MikeA

On Mon, Mar 10, 2008 at 5:00 PM, Subbu Allamaraju
&lt;subbu.allamaraju@...&gt; wrote:
&gt; But that looks like a method-oriented URI and not a resource-oriented
&gt;  URI.
&gt;
&gt;  For example, what would
&gt;
&gt;  GET /publish/1
&gt;
&gt;  mean? Or am I misunderstanding your snippets below?
&gt;
&gt;  Subbu
&gt;
&gt;
&gt;
&gt;  On Mar 10, 2008, at 1:30 PM, mike amundsen wrote:
&gt;
&gt;  &gt; small thing, i guess but
&gt;  &gt; PUT /publish/1
&gt;  &gt; tells me to "PUT article 1 in publish mode"
&gt;  &gt;
&gt;  &gt; PUT /articles/1/publish
&gt;  &gt; tell me to "PUT publish to article 1"
&gt;  &gt;
&gt;  &gt; see my thinking (it might be wonky)?
&gt;  &gt;
&gt;  &gt; also, the above cases assume not important body information in the
&gt;  &gt; PUT.  Bob gave an example where you'd use a /mode URI and use a body
&gt;  &gt; that contains the state (draft or publish). this has a couple
&gt;  &gt; advantages, i think. for example, we use a "deprecated" mode form some
&gt;  &gt; documents. with a /mode URI, you can modify the document content rules
&gt;  &gt; (draft,publish,pending,deprecated,etc.) without minting new URIs.
&gt;  &gt;
&gt;  &gt; MikeA
&gt;  &gt;
&gt;  &gt; On Mon, Mar 10, 2008 at 3:39 PM, Pat Maddox &lt;pergesu@...&gt; wrote:
&gt;  &gt;&gt; Thanks for the reply, Mike.
&gt;  &gt;&gt;
&gt;  &gt;&gt; It's not globally unique.  Also, what's the advantage of that over
&gt;  &gt;&gt;
&gt;  &gt;&gt; PUT /articles/1/publish
&gt;  &gt;&gt; PUT /articles/1/draft
&gt;  &gt;&gt;
&gt;  &gt;&gt; ?
&gt;  &gt;&gt;
&gt;  &gt;&gt;
&gt;  &gt;&gt;
&gt;  &gt;&gt; On Mon, Mar 10, 2008 at 12:33 PM, mike amundsen &lt;mca@...&gt;
&gt;  &gt;&gt; wrote:
&gt;  &gt;&gt;&gt; if your article id is globally unique you could safely use:
&gt;  &gt;&gt;&gt;
&gt;  &gt;&gt;&gt; PUT /publish/1
&gt;  &gt;&gt;&gt; PUT /draft/1
&gt;  &gt;&gt;&gt;
&gt;  &gt;&gt;&gt; MikeA
&gt;  &gt;&gt;&gt;
&gt;  &gt;&gt;&gt;
&gt;  &gt;&gt;&gt;
&gt;  &gt;&gt;&gt; On Mon, Mar 10, 2008 at 3:18 PM, Pat Maddox &lt;pergesu@...&gt;
&gt;  &gt;&gt;&gt; wrote:
&gt;  &gt;&gt;&gt;&gt; Here's a common scenario that I've never fully understood how to
&gt;  &gt;&gt;&gt;&gt; model
&gt;  &gt;&gt;&gt;&gt; RESTfully.
&gt;  &gt;&gt;&gt;&gt;
&gt;  &gt;&gt;&gt;&gt; I've got articles in the system, and when I first add them
&gt;  &gt;&gt;&gt;&gt; they're in
&gt;  &gt;&gt;&gt;&gt; draft mode.  At some point I can publish them to make them public.
&gt;  &gt;&gt;&gt;&gt; And at any time I can toggle between draft or published mode.
&gt;  &gt;&gt;&gt;&gt;
&gt;  &gt;&gt;&gt;&gt; My object model is very simple - articles have a method for each of
&gt;  &gt;&gt;&gt;&gt; these actions.  article.publish and article.make_draft.  I don't
&gt;  &gt;&gt;&gt;&gt; know
&gt;  &gt;&gt;&gt;&gt; how I can easily map those to resources.
&gt;  &gt;&gt;&gt;&gt;
&gt;  &gt;&gt;&gt;&gt; The ways I've thought of are
&gt;  &gt;&gt;&gt;&gt;  - expose the state, so that clients would do something like PUT
&gt;  &gt;&gt;&gt;&gt; /articles/1 with published=true or published=false
&gt;  &gt;&gt;&gt;&gt;  - create a new intermediate resource like versions
&gt;  &gt;&gt;&gt;&gt;
&gt;  &gt;&gt;&gt;&gt; I don't like either of those choices.  For the first one, my
&gt;  &gt;&gt;&gt;&gt; controller code would have to look at the incoming params, then
&gt;  &gt;&gt;&gt;&gt; see if
&gt;  &gt;&gt;&gt;&gt; published=true, and if so call the publish method on the
&gt;  &gt;&gt;&gt;&gt; article.  The
&gt;  &gt;&gt;&gt;&gt; second choice has me creating resources where I don't really want
&gt;  &gt;&gt;&gt;&gt; any.
&gt;  &gt;&gt;&gt;&gt;  All I want to do is map a HTTP request to an operation on my
&gt;  &gt;&gt;&gt;&gt; object
&gt;  &gt;&gt;&gt;&gt; model.
&gt;  &gt;&gt;&gt;&gt;
&gt;  &gt;&gt;&gt;&gt; Pat
&gt;  &gt;&gt;&gt;&gt;
&gt;  &gt;&gt;&gt;&gt;
&gt;  &gt;&gt;&gt;&gt;
&gt;  &gt;&gt;&gt;&gt; Yahoo! Groups Links
&gt;  &gt;&gt;&gt;&gt;
&gt;  &gt;&gt;&gt;&gt;
&gt;  &gt;&gt;&gt;&gt;
&gt;  &gt;&gt;&gt;&gt;
&gt;  &gt;&gt;&gt;
&gt;  &gt;&gt;&gt;
&gt;  &gt;&gt;&gt;
&gt;
&gt;
&gt; &gt;&gt;&gt; --
&gt;  &gt;&gt;&gt; mca
&gt;  &gt;&gt;&gt; http://amundsen.com/blog/
&gt;  &gt;&gt;&gt;
&gt;  &gt;&gt;
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt;  &gt; --
&gt;  &gt; mca
&gt;  &gt; http://amundsen.com/blog/
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt;  &gt; Yahoo! Groups Links
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt;
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10449<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2008-03-10 21:24:07<br>
Subject:Re: [rest-discuss] Question about simple state change (draft-&gt;published and back again)<br>
Message:<br><br>
<pre>On Mon, Mar 10, 2008 at 4:00 PM, Subbu Allamaraju
&lt;subbu.allamaraju@...&gt; wrote:
&gt; But that looks like a method-oriented URI and not a resource-oriented
&gt;  URI.
&gt;
&gt;  For example, what would
&gt;
&gt;  GET /publish/1
&gt;
&gt;  mean?

On the other hand
GET/article/1/mode
is clear.  It's either "draft" or "published" or "deprecated" or whatever.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10450<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-03-10 21:34:18<br>
Subject:Re: [rest-discuss] Question about simple state change (draft-&gt;published and back again)<br>
Message:<br><br>
<pre>yep - *much* better.

On Mon, Mar 10, 2008 at 5:24 PM, Bob Haugen &lt;bob.haugen@...&gt; wrote:
&gt; On Mon, Mar 10, 2008 at 4:00 PM, Subbu Allamaraju
&gt;  &lt;subbu.allamaraju@...&gt; wrote:
&gt;
&gt; &gt; But that looks like a method-oriented URI and not a resource-oriented
&gt;  &gt;  URI.
&gt;  &gt;
&gt;  &gt;  For example, what would
&gt;  &gt;
&gt;  &gt;  GET /publish/1
&gt;  &gt;
&gt;  &gt;  mean?
&gt;
&gt;  On the other hand
&gt;  GET/article/1/mode
&gt;  is clear.  It's either "draft" or "published" or "deprecated" or whatever.
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10451<br>
Sender:"akleak" &lt;andy@...&gt;<br>
Post Date/Time:2008-03-10 23:15:30<br>
Subject:Resource 'Views' &amp; Application Architecture<br>
Message:<br><br>
<pre>I have a rails app with routes to users and topics.

    map.resources :users             # /users
    map.resources :users do |user|
      user.resources :topics         # /users/1/topics
    end
    map.resources :topics            # /topics

I want to access topics via 2 different 'views':
- /users/1/topics to see all topics associated with a user
- /topics to see all topics

By default, rails directs call to both 'views' to the same controller.

In 'multi-view' situation like this - is it best practice to establish 
a single controller that handles all views, or to set up a separate 
controller for each view??


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10452<br>
Sender:Subbu Allamaraju &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-03-11 18:46:20<br>
Subject:Re: [rest-discuss] Resource 'Views' &amp; Application Architecture<br>
Message:<br><br>
<pre>Isn't this a good question for some rails forum?

Subbu

On Mar 10, 2008, at 4:15 PM, akleak wrote:

&gt; I have a rails app with routes to users and topics.
&gt;
&gt;    map.resources :users             # /users
&gt;    map.resources :users do |user|
&gt;      user.resources :topics         # /users/1/topics
&gt;    end
&gt;    map.resources :topics            # /topics
&gt;
&gt; I want to access topics via 2 different 'views':
&gt; - /users/1/topics to see all topics associated with a user
&gt; - /topics to see all topics
&gt;
&gt; By default, rails directs call to both 'views' to the same controller.
&gt;
&gt; In 'multi-view' situation like this - is it best practice to establish
&gt; a single controller that handles all views, or to set up a separate
&gt; controller for each view??
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10453<br>
Sender:Petite Abeille &lt;petite.abeille@...&gt;<br>
Post Date/Time:2008-03-11 20:23:27<br>
Subject:[OT] HTTP headers status diagram<br>
Message:<br><br>
<pre>To paraphrase Woody Allen:

"Everything you always wanted to know about HTTP headers status, but  
were afraid to ask"

Alternatively:

"An activity diagram to describe the resolution of HTTP response  
status codes, given various headers."

http://thoughtpad.net/alan-dean/http-headers-status.html

http://thoughtpad.net/alan-dean/http-headers-status.gif

Cheers,

--
PA
http://alt.textdrive.com/nanoki/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10454<br>
Sender:"Andrzej Jan Taramina" &lt;andrzej@...&gt;<br>
Post Date/Time:2008-03-12 12:28:13<br>
Subject:Objects at REST...<br>
Message:<br><br>
<pre>Rick Jeliffe just posted a blog entry entitled "Objects at REST" on xml.com, 
found here:

   http://tinyurl.com/2oqrzm

where he proposes exposing objects using REST.

I've always had a problem with this approach.  Though it seems like a good 
and easy thing to do (urlrewritefilter, which Rick mentions, does rock and 
can help clean up REST URIs nicely), but there is typically an impedence 
mismatch between objects and resources that is very difficult to bridge while 
staying true to REST principles:

1) Objects tend to be much more fine-grained than is appropriate for 
distributed systems access.  I would have thought that we would have learned 
this from the ill-fated EJB Entity beans fiasco of a number of years ago.

2) WIth objects, the tendancy will always be towards using a RPC appoach, 
which is not in keeping with REST principles.  Objects tend to have little 
"data" and many methods, while resources (in the REST sense) are the reverse, 
with much data and few methods. Mapping between the two concepts will be 
problematic.

3) It may be rare to find a clean mapping between lower level objects and 
resources, without using an intermediary facade layer to bridge the two 
levels of abstraction, especially since most OO-based systems were not 
designed to be exposed as resources using REST.

I'm curious what others think of this notion of exposing objects using REST?

I'm especially keen to see what the patriarch of REST, Roy, has to say on 
this?


Andrzej Jan Taramina
Chaeron Corporation: Enterprise System Solutions
http://www.chaeron.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10455<br>
Sender:"Lawrence Oluyede" &lt;l.oluyede@...&gt;<br>
Post Date/Time:2008-03-12 12:39:33<br>
Subject:Re: [rest-discuss] Objects at REST...<br>
Message:<br><br>
<pre>&gt;  I'm curious what others think of this notion of exposing objects using REST?

I guess thinking about resources as objects and verbs as methods is
already within the boundaries of the REST architecture.
What do you mean specifically?

-- 
Lawrence, stacktrace.it - oluyede.org - neropercaso.it
"It is difficult to get a man to understand
something when his salary depends on not
understanding it" - Upton Sinclair

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10456<br>
Sender:"Alexander Johannesen" &lt;alexander.johannesen@...&gt;<br>
Post Date/Time:2008-03-12 12:53:34<br>
Subject:Re: [rest-discuss] Objects at REST...<br>
Message:<br><br>
<pre>On Wed, Mar 12, 2008 at 1:28 PM, Andrzej Jan Taramina
&lt;andrzej@...&gt; wrote:
&gt;  I'm curious what others think of this notion of exposing objects using
&gt; REST?

I'm not sure it's a bad thing, but it does tend to shift the focus of
REST from a web of resources to specific objects. I'm always keen to
push the micro/macro view of systems with REST more than objects per
se, but if you are dealing with specific objects, I guess they're
resources like other resources, no?

I think this more comes down to the definition of an object. Is there
a difference between an object and a resource? In the broad definition
of "resource", then no. In terms of REST, you can perfectly well
design objects that cater to that architectual style. The problem is
that "object" can be a lot of things, and specifically things that
don't fit into the REST way of doing things even if you expose them
through it.

Again, we're back to the old "if done right, then yes, and if done
wrong, then no" explanation.


Alexander
-- 
---------------------------------------------------------------------------
 Project Wrangler, SOA, Information Alchemist, UX, RESTafarian, Topic Maps
------------------------------------------ http://shelter.nu/blog/ --------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10457<br>
Sender:"Daniel Yokomizo" &lt;daniel.yokomizo@...&gt;<br>
Post Date/Time:2008-03-12 13:23:09<br>
Subject:Re: [rest-discuss] Objects at REST...<br>
Message:<br><br>
<pre>On Wed, Mar 12, 2008 at 12:28 PM, Andrzej Jan Taramina
&lt;andrzej@...&gt; wrote:
&gt; Rick Jeliffe just posted a blog entry entitled "Objects at REST" on xml.com,
&gt;  found here:
&gt;
&gt;    http://tinyurl.com/2oqrzm
&gt;
&gt;  where he proposes exposing objects using REST.
&gt;
&gt;  I've always had a problem with this approach.  Though it seems like a good
&gt;  and easy thing to do (urlrewritefilter, which Rick mentions, does rock and
&gt;  can help clean up REST URIs nicely), but there is typically an impedence
&gt;  mismatch between objects and resources that is very difficult to bridge while
&gt;  staying true to REST principles:
&gt;
&gt;  1) Objects tend to be much more fine-grained than is appropriate for
&gt;  distributed systems access.  I would have thought that we would have learned
&gt;  this from the ill-fated EJB Entity beans fiasco of a number of years ago.
&gt;
&gt;  2) WIth objects, the tendancy will always be towards using a RPC appoach,
&gt;  which is not in keeping with REST principles.  Objects tend to have little
&gt;  "data" and many methods, while resources (in the REST sense) are the reverse,
&gt;  with much data and few methods. Mapping between the two concepts will be
&gt;  problematic.
&gt;
&gt;  3) It may be rare to find a clean mapping between lower level objects and
&gt;  resources, without using an intermediary facade layer to bridge the two
&gt;  levels of abstraction, especially since most OO-based systems were not
&gt;  designed to be exposed as resources using REST.
&gt;
&gt;  I'm curious what others think of this notion of exposing objects using REST?

I'm currently writing a Java framework to do something similar to
this. Exposing objects directly to the end user is an approach similar
to http://en.wikipedia.org/wiki/Naked_objects, which has a certain
appeal. My work is a mix of naked objects ideas with domain driven
design and REST, the gist of it is expose aggregate roots (i.e. DDD
objects that are persistent and "top level") as primary URLs, mapping
the HTTP verbs to persistence related methods (the usual mapping of
/&lt;resource&gt;/ to find all, /&lt;resource&gt;/&lt;id&gt; to find by id, etc.) and
treating methods as second class citizens (i.e. much less emphasizes
on object methods than on HTTP verbs). There's an mapping of methods
to URLs if you really want to use them, the idea is that if you can
map the objects methods to a well defined HTTP verb (or webdav or
whatever) you do it, otherwise we treat methods as subordinate URLs of
the parent objects (e.g. /articles/1/publish()), but it only accepts
GET (we return a representation to fill the parameters and submit it,
usually is a xhtml form but it can be something else for other
media-types) and POST for invocation responding with redirect. It will
emphasize not using RPC style methods but if you must it should use
safe semantics.

Obviously I'm biased for it but I think it's a good way to develop an
application, because the user's interface will map the domain model.
As we can use URIs to identify objects we can save those in other
systems, so we are planning to use URIs for every inter application
references, which lends itself to very easy integration. Also if the
only interface to your app is via REST, everything can be an WS
without additional effort. It's also great because you think much more
about your domain and don't worry with user interfaces, because this
problem is solved, so essentially you know that in the interface you
can just navigate via URIs and find what do you want (e.g.
/authors/Joe_Blogger/posts?published=false) which makes much easier to
write ajax widgets in the app without up front design.

FWIW we are going to release it as free software in a couple of
months, I'll probably plug a link here (in rest-discuss) when it's
alpha and you'll be able to see if it's worth or not.

&gt;  I'm especially keen to see what the patriarch of REST, Roy, has to say on
&gt;  this?
&gt;
&gt;
&gt;  Andrzej Jan Taramina
&gt;  Chaeron Corporation: Enterprise System Solutions
&gt;  http://www.chaeron.com

Best regards,
Daniel Yokomizo

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10458<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-03-12 14:01:48<br>
Subject:Re: [rest-discuss] Objects at REST...<br>
Message:<br><br>
<pre>No, I don't agree with equating them.  Their similarities are far  
less than there differences.

First, REST is about representations and stateless protocols for  
state transitions.  So, for the latter, one would have to  
fundamentally assume Software Transacted Memory (STM) for all  
objects, but only up to its membrane (i.e. the boundary where  
internal objects tare not directly exposed).

Second, I know I am in the minority here, but pretty URIs are  
irrelevant.  It's something for humans to enjoy.  If you have them,  
great! If not, it's irrelevant.  Sub-structure, relationships are  
discovered by message exchange and never constructed unless told so  
by the source representation.  So, if you have http://foo/resource/ 
sub-resource or http://foo/resource/ and http://foo/sub-resource is  
simply not relevant.

Third, not all objects are equal.  The first wave of object-oriented  
programming was about class inheritance (class inheritance).  The  
second wave was about matching interfaces at the instance level only  
(prototype inheritance).  Notice how both have to do with the  
generalization process, not the actual instances.  In REST, we care  
about the instances and not the things that created them.  You can  
use structured programming, object-oriented programming, or one-offs  
to implement your web-services and web-applications.  Again, the  
methodology irrelevant, only the properties of the running system are.

Lastly, and most importantly, is the guaranteed decoupling of the  
resource's state from its representation.  This means that you have  
made the major leap already where the information consumer's view of  
the world may absolutely not be related to the producer's view of the  
world.  And certainly, this is where REST has made it's mark in web  
application design.  In object-oriented design, programmers  
fundamentally think about sharing objects.  This last point is  
relevant, because it ties back into the first point.  Creating  
membranes -- think of them as encapsulation at the instance level  
instead of the class level -- in object-oriented systems is hard  
because of the high-degree of interconnectedness of objects.  On the  
other and, in REST, you build everything as membranes since you never  
directly manipulate the bits, only their representations.  Hence,  
this problem is solved at the root.  This is important, because it's  
hard problem to solve in object-oriented systems.

In short, mapping concepts from object-oriented programming to REST  
will make people think about it in the wrong way and therefore do  
more harm than good, in my humble opinion.

- Steve

--------------
Steve G. Bjorg
http://wiki.mindtouch.com
http://wiki.opengarden.org


On Mar 12, 2008, at 5:53 AM, Alexander Johannesen wrote:

&gt; On Wed, Mar 12, 2008 at 1:28 PM, Andrzej Jan Taramina
&gt; &lt;andrzej@...&gt; wrote:
&gt; &gt; I'm curious what others think of this notion of exposing objects  
&gt; using
&gt; &gt; REST?
&gt;
&gt; I'm not sure it's a bad thing, but it does tend to shift the focus of
&gt; REST from a web of resources to specific objects. I'm always keen to
&gt; push the micro/macro view of systems with REST more than objects per
&gt; se, but if you are dealing with specific objects, I guess they're
&gt; resources like other resources, no?
&gt;
&gt; I think this more comes down to the definition of an object. Is there
&gt; a difference between an object and a resource? In the broad definition
&gt; of "resource", then no. In terms of REST, you can perfectly well
&gt; design objects that cater to that architectual style. The problem is
&gt; that "object" can be a lot of things, and specifically things that
&gt; don't fit into the REST way of doing things even if you expose them
&gt; through it.
&gt;
&gt; Again, we're back to the old "if done right, then yes, and if done
&gt; wrong, then no" explanation.
&gt;
&gt; Alexander
&gt; -- 
&gt; ----------------------------------------------------------
&gt; Project Wrangler, SOA, Information Alchemist, UX, RESTafarian,  
&gt; Topic Maps
&gt; ------------------------------------------ http://shelter.nu/blog/  
&gt; --------
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10459<br>
Sender:Elliotte Harold &lt;elharo@...&gt;<br>
Post Date/Time:2008-03-12 14:41:42<br>
Subject:Re: [rest-discuss] Objects at REST...<br>
Message:<br><br>
<pre>Andrzej Jan Taramina wrote:

&gt; I'm curious what others think of this notion of exposing objects using REST?
&gt; 

Distributed objects have been tried and failed numerous times before 
now. Sprinkling REST pixie dust on this bad idea won't magically make it 
work this time.

Even more strongly, I've recently begun to suspect that the problem is a 
little more fundamental than merely distributing objects. I'm beginning 
to suspect that any form of object persistence is a fantasy. Objects 
cannot be exported from their runtime environments; but that's a subject 
for another thread and perhaps a different mailing list.

That being said, I'm not sure distributed objects is really what 
Jelliffe's proposing, but he should probably avoid using object oriented 
language to describe what he is doing, which at first glance seems quite 
reasonable and commendable.

-- 
Elliotte Rusty Harold  elharo@...
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10460<br>
Sender:Subbu Allamaraju &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-03-12 15:14:00<br>
Subject:Re: [rest-discuss] Objects at REST...<br>
Message:<br><br>
<pre>&gt;
&gt; Distributed objects have been tried and failed numerous times before
&gt; now. Sprinkling REST pixie dust on this bad idea won't magically  
&gt; make it
&gt; work this time.

Well said.

Subbu

&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10461<br>
Sender:"Andrzej Jan Taramina" &lt;andrzej@...&gt;<br>
Post Date/Time:2008-03-12 21:42:49<br>
Subject:Re: [rest-discuss] Objects at REST...<br>
Message:<br><br>
<pre>Steve:

Brillant analysis of what I was trying to get at.  Thanks!

&gt; No, I don't agree with equating them. Their similarities are far less than
&gt; there differences. 

I absolutely agree with this.

&gt; First, REST is about representations and stateless protocols for state 
&gt; transitions. So, for the latter, one would have to fundamentally assume 
&gt; Software Transacted Memory (STM) for all objects, but only up to its membrane
&gt; (i.e. the boundary where internal objects tare not directly exposed). 

To clarify your comment, which I agree with, REST might work reasonably well 
for stateless "objects", like EJB Session Beans for instance.  Where the risk 
lies is that the un-discerning unwashed masses (and their PHM slavedrivers) 
will apply the approach to key business objects which were never designed to 
be stateless.  Down that path lies madness. ;-)

&gt; Second, I know I am in the minority here, but pretty URIs are irrelevant. It's
&gt; something for humans to enjoy. If you have them, great! If not, it's
&gt; irrelevant. Sub-structure, relationships are discovered by message exchange
&gt; and never constructed unless told so by the source representation. So, if you
&gt; have http://foo/resource/sub-resource orhttp://foo/resource/
&gt; andhttp://foo/sub-resource is simply not relevant. 

I'm a bit ambivalent on this comment.  Machine to machine, pretty URI's are 
quite irrelevant.  But when it comes to testing machine to machine 
integrations, debugging and the like, which is conducted by meatware, pretty 
URI's can provide some real productivity and value. It's also very difficult 
to predict how an interface might be re-purposed in the future (new mashups, 
new integrations, new applications, etc.), and again, having pretty URI's can 
help those developers to understand and utilize the URI's and representations 
more quickly/easily.  So why not make 'em pretty....doesn't take much more 
effort and can have some decent payback.

&gt; Third, not all objects are equal. The first wave of object-oriented 
&gt; programming was about class inheritance (class inheritance). The second wave
&gt; was about matching interfaces at the instance level only (prototype
&gt; inheritance). Notice how both have to do with thegeneralizationprocess, not
&gt; the actual instances. In REST, we care about the instances and not the things
&gt; that created them. You can use structured programming, object- oriented
&gt; programming, or one-offs to implement your web-services and web- applications.
&gt; Again, the methodology irrelevant, only the properties of the running system
&gt; are. 

So what you are saying is that the exposed interfaces and common lingua 
franca between such services/apps is what is key.  I subscribe to that, 
especially in the integration space.


&gt; Lastly, and most importantly, is the guaranteed decoupling of the resource's
&gt; state from its representation. This means that you have made the major leap
&gt; already where the information consumer's view of the world may absolutely not
&gt; be related to the producer's view of the world. And certainly, this is where
&gt; REST has made it's mark in web application design. In object-oriented design,
&gt; programmers fundamentally think about sharing objects. This last point is
&gt; relevant, because it ties back into the first point. 

And we run into the classic problems that attend object serialization!  
Better to design a representation from scratch that avoids those issues.

&gt; Creating membranes
&gt; --think of them as encapsulation at the instance level instead of the class
&gt; level --in object-oriented systems is hard because of the high-degree of
&gt; interconnectedness of objects. On the other and, in REST, you build
&gt; everything as membranes since you never directly manipulate the bits, only
&gt; their representations. Hence, this problem is solved at the root. This is
&gt; important, because it's hard problem to solve in object-oriented systems. 

Nicely put, Steve!

&gt; In short, mapping concepts from object-oriented programming to REST will
&gt; make people think about it in the wrong way and therefore do more harm than
&gt; good, in my humble opinion. 

And was the root of the unease I have with Rick's approach.  

Andrzej Jan Taramina
Chaeron Corporation: Enterprise System Solutions
http://www.chaeron.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10462<br>
Sender:"Andrzej Jan Taramina" &lt;andrzej@...&gt;<br>
Post Date/Time:2008-03-12 21:42:49<br>
Subject:Re: [rest-discuss] Objects at REST...<br>
Message:<br><br>
<pre>
Daniel suggests:

&gt; otherwise we treat methods as subordinate URLs of
&gt; the parent objects (e.g. /articles/1/publish()), but it only accepts
&gt; GET (we return a representation to fill the parameters and submit it,
&gt; usually is a xhtml form but it can be something else for other
&gt; media-types) and POST for invocation responding with redirect. It will
&gt; emphasize not using RPC style methods but if you must it should use
&gt; safe semantics.

That's the start of a very slippery slope.  You're basically encouraging the 
OO folks to tunnel RPC over HTTP.

I think we've had enough discussions of why that is not such a good idea on 
the rest forums already.

But you just proved my point...thanks!

&gt; Obviously I'm biased for it but I think it's a good way to develop an
&gt; application, because the user's interface will map the domain model.

That doesn't work in the world of machine to machine communications, since it 
is rare that disparate systems have common domain or object models.  

The better approach in that scenario is to design a data representation 
format that is better suited to the integration and transmission of 
information, rather than cater to internal implementation models on both 
sides.

&gt; As we can use URIs to identify objects we can save those in other
&gt; systems, so we are planning to use URIs for every inter application
&gt; references, which lends itself to very easy integration. 

I beg to differ.  Common/consistent URI's are a help, but a properly designed 
data representation, with concomittent semantic definitions, independent of 
back end domain/object models is what makes integration easier, though even 
at the best of times, integration is still hard.


&gt; Also if the
&gt; only interface to your app is via REST, everything can be an WS
&gt; without additional effort.

What you're doing isn't REST for the most part.  It's using HTTP as a 
transport mechanism for RPC and inter-object distributed communications.

 It's also great because you think much more
&gt; about your domain and don't worry with user interfaces, because this
&gt; problem is solved, so essentially you know that in the interface you
&gt; can just navigate via URIs and find what do you want (e.g.
&gt; /authors/Joe_Blogger/posts?published=false) which makes much easier to
&gt; write ajax widgets in the app without up front design.

You are mixing metaphors.  Integration is not an Ajax-based activity 
(usually), since Ajax is geared towards user UIs, not machine to machine 
integration, the latter being the much harder problem to solve, and providing 
much more benefit when it is solved (think healthcare for a good example of 
this).


Andrzej Jan Taramina
Chaeron Corporation: Enterprise System Solutions
http://www.chaeron.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10463<br>
Sender:"Andrzej Jan Taramina" &lt;andrzej@...&gt;<br>
Post Date/Time:2008-03-12 21:42:49<br>
Subject:Re: [xml-dev] Objects at REST...<br>
Message:<br><br>
<pre>Peter:

&gt; Again, I think it's a question of what the object abstraction is...

I agree, but am concerned that the OO modellers/architects will just design 
their models the way they always have, and then try to slap the REST layer on 
top, which is going end up a mess.

Sure, if you design your object model up front to be REST-exposed, then you 
won't run into that, but given how little understanding there is of REST in 
the enterprise world, I think it is likely to get quite ugly.  Then the PHM's 
will come into play, reading an article on how good REST is (same as what 
happened with CASE, EJB, SOA, ad nauseum) and how you can just layer an 
automated tool to RESTify existing legacy systems (J2EE classes as legacy 
now, doesn't it? ;-)  ), and then REST gains a bad rep, just like every other 
silver bullet has in the past.

I would prefer not to see that happen, though it may be unavoidable. ;-(

&gt; I think this is the real issue; you can't just go around exposing all
&gt; objects, you are going to have to make some conscious decision on what
&gt; to expose and pick some way of controlling that. Whether this is via a
&gt;  facade, annotations or something as simple as hacking package names
&gt; won't really matter, but the work will still need to be done if such
&gt; an approach is to be successful.

Exactly the point I was trying to make.  I think that this will be rarer than 
many people think, and the temptation to "retrofit" REST onto older OO models 
that lack such conscious design decision making will lead to disaster.

In the world of integration where I play, the back end object models are of 
little interest. What is of keen interest are the common data representations 
that lie in the interfaces between such systems.  And it's been my experience 
that in the longer term, those representations need a lot of design, thought 
and decision-making that is greatly independent of the participating systems.


Andrzej Jan Taramina
Chaeron Corporation: Enterprise System Solutions
http://www.chaeron.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10464<br>
Sender:"Andrzej Jan Taramina" &lt;andrzej@...&gt;<br>
Post Date/Time:2008-03-12 21:42:49<br>
Subject:Re: [rest-discuss] Objects at REST...<br>
Message:<br><br>
<pre>Alexander said:

&gt;  if you are dealing with specific objects, I guess they're
&gt; resources like other resources, no?

Typically not, in my experience.  Objects are finer grained and designed for 
purposes other than external interface needs.

&gt; I think this more comes down to the definition of an object. Is there
&gt; a difference between an object and a resource? In the broad definition
&gt; of "resource", then no. In terms of REST, you can perfectly well
&gt; design objects that cater to that architectual style. The problem is
&gt; that "object" can be a lot of things, and specifically things that
&gt; don't fit into the REST way of doing things even if you expose them
&gt; through it.

My point here is that the potential for abuse is too high.  The OO folks will 
go ahead and design object models the way they always have, or will reuse 
existing models, and then just slap some HTTP on top of them with some URLs 
that reference those objects, and will REST on the 7th day.

And then the distributed systems granularity and RPC issues will raise their 
ugly heads yet again.

At least, in the real world, that is my prediction of what the Objects at 
REST suggesting will inevitably lead to.

&gt; Again, we're back to the old "if done right, then yes, and if done
&gt; wrong, then no" explanation.

I predict way more wrong than right will be inflicted on business 
stakeholders and IT management with this approach. ;-)

Andrzej Jan Taramina
Chaeron Corporation: Enterprise System Solutions
http://www.chaeron.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10465<br>
Sender:"Andrzej Jan Taramina" &lt;andrzej@...&gt;<br>
Post Date/Time:2008-03-12 21:42:48<br>
Subject:Re: [rest-discuss] Objects at REST...<br>
Message:<br><br>
<pre>Lawrence:

&gt; I guess thinking about resources as objects and verbs as methods is
&gt; already within the boundaries of the REST architecture.
&gt; What do you mean specifically?

The power of REST comes from the constraints that it enforces.  There are 
only 4 methods, using HTTP, 5 if you include patch and a few more if you use 
WebDav.  Those rarely map to object methods which are much more prolific in 
any domain model I have seen.  OO does not enforce REST constraints, so 
trying to shoehorn and OO model into a REST approach is suboptimal at best.

REST is not just resources per se, meaning URI-based addressing (which point 
to a conceptual resource), but also implies the representations that are 
returned when you reference a resource (uring a URI). 

Representations could be a direct mapping from OO models, but are unlikely to 
fit the needs of more complex machine to machine integration scenarios, since 
different systems will have different domain/object models, thus 
necessitating transformations between them.  The better way to handle that is 
typically to have a canonical representation format between systems.  It 
resolves the n-squared transformations issue if you don't go that way.

BTW...my comments and focus tends to be oriented to the integration space, 
and not to the Web UI space, the latter being a much simpler issue to solve.
Andrzej Jan Taramina
Chaeron Corporation: Enterprise System Solutions
http://www.chaeron.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10466<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-03-12 21:02:52<br>
Subject:Re: [rest-discuss] Objects at REST...<br>
Message:<br><br>
<pre>REST was, at one time, called the "HTTP Object Model" according to
Roy.  And many of my RESTful designs are still motivated by my
circa-1994 view of distributed objects (before I got the Web);
identifiable things, on a network, which react to messages sent to
them.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10467<br>
Sender:Martin Grotzke &lt;mg@...&gt;<br>
Post Date/Time:2008-03-12 20:15:14<br>
Subject:How to design validation of e.g. username, email-address, password<br>
Message:<br><br>
<pre>Hi,

in the context of the registration of a new user we want to allow
external applications to immediatly show the user, if the selected
username, email-address or password is valid (in terms for syntax or
availability). So the question is how to provide this functionality in a
RESTful way...

Would one create a resource "validation" and use the kind
(username/email/password) as subresource, so that there were URLs
like /validation/username/{username}, /validation/email/{email} etc.
that would allow GET?

Or would it be better to have it at s.th.
like /username/validation/{username}, /email/validation/{email}

And what were possible response status codes? I'd think this could
always be 200, with more details in the response body, as even a GET
with a username that is syntactically not correct would be a valid
request. Or should 200 be only returned if everything is ok, and 400 if
the email address is not correct, and 409 if the username is already
taken?

I find it really hard to model such operations as resources, just to
mention this :)

I'm very thankful for any suggestions/advice!

Cheers,
Martin


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10468<br>
Sender:Martin Grotzke &lt;mg@...&gt;<br>
Post Date/Time:2008-03-12 19:58:33<br>
Subject:How to design generate-new-password<br>
Message:<br><br>
<pre>Hi,

I want to allow some external application (that has appropriate
permissions) to create a new password for a certain user (user forgot
his password). Probably we require the username and email-address of the
user to perform this operation.

So what is the best URL for such functionality?

S.th. like POST /users/{username}/generatepassword with the
email-address somewhere in the body, and the newly generated password in
the response body?

We also want to provide update-password via
POST /users/{username}/password, with oldPassword, newPassword in the
request body. As we have already a password resource, would it be better
then to use POST .../password/generate to generate a new password for
the user?

Or, completely different, would it be better to use s.th. like
POST /pwdgenerator/users/username (with the email address in the body)?

Thanx for suggestions in advance,
cheers,
Martin

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10469<br>
Sender:"Daniel Yokomizo" &lt;daniel.yokomizo@...&gt;<br>
Post Date/Time:2008-03-12 21:51:37<br>
Subject:Re: [rest-discuss] Objects at REST...<br>
Message:<br><br>
<pre>On Wed, Mar 12, 2008 at 6:42 PM, Andrzej Jan Taramina
&lt;andrzej@...&gt; wrote:
&gt;
&gt;  Daniel suggests:
&gt;
&gt;  &gt; otherwise we treat methods as subordinate URLs of
&gt;  &gt; the parent objects (e.g. /articles/1/publish()), but it only accepts
&gt;  &gt; GET (we return a representation to fill the parameters and submit it,
&gt;  &gt; usually is a xhtml form but it can be something else for other
&gt;  &gt; media-types) and POST for invocation responding with redirect. It will
&gt;  &gt; emphasize not using RPC style methods but if you must it should use
&gt;  &gt; safe semantics.
&gt;
&gt;  That's the start of a very slippery slope.  You're basically encouraging the
&gt;  OO folks to tunnel RPC over HTTP.

I'm not encouraging anything. As I said the primary method of
interaction is basically REST using whatever verbs you are want to
work with (e.g. HTTP, WebDAV), but there's a escape clause, which is
different from encouraging. As I said it only supports POST, which
gives almost no guarantees and it return a 303 if there's a return to
a know resource (no body in any case), so the user of the framework
must work with resources.

REST is an architectural choice that don't suit all needs, as a
framework provider I need to either address this (which I decided to
do in a way that is semantically correct) or ignore it and let the
programmers come with a thousand non-conforming solutions.

&gt;  I think we've had enough discussions of why that is not such a good idea on
&gt;  the rest forums already.
&gt;
&gt;  But you just proved my point...thanks!
&gt;
&gt;
&gt;  &gt; Obviously I'm biased for it but I think it's a good way to develop an
&gt;  &gt; application, because the user's interface will map the domain model.
&gt;
&gt;  That doesn't work in the world of machine to machine communications, since it
&gt;  is rare that disparate systems have common domain or object models.

It doesn't matter if the user is a machine or a human. If the model we
use to expose the resources is different from the domain model,
otherwise the programmer have to write especialized code to do the
mapping. It's the same issue with ORM, this kind of impedance mismatch
always requires more work.

&gt;  The better approach in that scenario is to design a data representation
&gt;  format that is better suited to the integration and transmission of
&gt;  information, rather than cater to internal implementation models on both
&gt;  sides.
&gt;
&gt;
&gt;  &gt; As we can use URIs to identify objects we can save those in other
&gt;  &gt; systems, so we are planning to use URIs for every inter application
&gt;  &gt; references, which lends itself to very easy integration.
&gt;
&gt;  I beg to differ.  Common/consistent URI's are a help, but a properly designed
&gt;  data representation, with concomittent semantic definitions, independent of
&gt;  back end domain/object models is what makes integration easier, though even
&gt;  at the best of times, integration is still hard.

Instead of sending &lt;customer id='XXX'/&gt; we respond with &lt;customer
ref='/customers/XXX'/&gt; which is the REST approach. It's easier to have
integration if we know that every resource is sent with its
corresponding URI.

&gt;  &gt; Also if the
&gt;  &gt; only interface to your app is via REST, everything can be an WS
&gt;  &gt; without additional effort.
&gt;
&gt;  What you're doing isn't REST for the most part.  It's using HTTP as a
&gt;  transport mechanism for RPC and inter-object distributed communications.

Why do you think so? If I have all my operations working on resources
and I'm able to issue a DELETE /orders/XXX, it can work if the client
is a browser or another app. The whole idea behind RESTful Web
Services is about this. My apps are resource oriented, the only usage
of POST in the app I'm working right now is when I want to create new
resources (i.e. POST /resources). To my app it doesn't matter if the
request comes from a browser or another machine, that's why I say that
I have no effort providing WS for everything.

&gt;   It's also great because you think much more
&gt;  &gt; about your domain and don't worry with user interfaces, because this
&gt;  &gt; problem is solved, so essentially you know that in the interface you
&gt;  &gt; can just navigate via URIs and find what do you want (e.g.
&gt;  &gt; /authors/Joe_Blogger/posts?published=false) which makes much easier to
&gt;  &gt; write ajax widgets in the app without up front design.
&gt;
&gt;  You are mixing metaphors.  Integration is not an Ajax-based activity
&gt;  (usually), since Ajax is geared towards user UIs, not machine to machine
&gt;  integration, the latter being the much harder problem to solve, and providing
&gt;  much more benefit when it is solved (think healthcare for a good example of
&gt; this).

Ajax is just an example. When I talked about ease of integration it
was an earlier point. My point is if you have a generic way to
exposing your domain via arbitrary composable URIs you don't need to
predict that in some place of yoru system you'll need to provide a
list of something filtered by some arbitrary criteria, the framework
just maps the URI to the objects, filter the available results,
chooses the response's content type using negotiation and the
registered representations for the resulting object and gives it to
the user. As an example you can build a mashup in another app that
calls an arbitrary URI of your app and gets the result as XML or JSON
or whatever. As the URI represents object navigation is possible to
just GET /blogs/XXX/posts/YYY/author and get a JSON which can be used
by a javascript widget or another app, instead of doing GET /blogs/XXX
parse the results, GET /posts/YYY parse the results and then GET
/authors/ZZZ.

&gt;  Andrzej Jan Taramina
&gt;  Chaeron Corporation: Enterprise System Solutions
&gt;  http://www.chaeron.com

Daniel Yokomizo.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10470<br>
Sender:"Daniel Yokomizo" &lt;daniel.yokomizo@...&gt;<br>
Post Date/Time:2008-03-12 22:15:33<br>
Subject:Re: [rest-discuss] How to design validation of e.g. username, email-address, password<br>
Message:<br><br>
<pre>On Wed, Mar 12, 2008 at 5:15 PM, Martin Grotzke &lt;mg@...&gt; wrote:
&gt; Hi,
&gt;
&gt;  in the context of the registration of a new user we want to allow
&gt;  external applications to immediatly show the user, if the selected
&gt;  username, email-address or password is valid (in terms for syntax or
&gt;  availability). So the question is how to provide this functionality in a
&gt;  RESTful way...
&gt;
&gt;  Would one create a resource "validation" and use the kind
&gt;  (username/email/password) as subresource, so that there were URLs
&gt;  like /validation/username/{username}, /validation/email/{email} etc.
&gt;  that would allow GET?

Why not just HEAD /user/{username}? If the status code is 404 then it
is free for use. If username isn't the UID for users in the URI you
can use queries for that: HEAD /user?username={username}. For email
something similar can be used. You can have both username and email as
UID to find a single user with HEAD /user/{uid}, if both identifiers
give an unique user, there's no reason to choose just one.

&gt;  Or would it be better to have it at s.th.
&gt;  like /username/validation/{username}, /email/validation/{email}

Unless username and email are resources in your app, it makes more
sense to go to the top level resource (i.e. user) and query it.

&gt;  And what were possible response status codes? I'd think this could
&gt;  always be 200, with more details in the response body, as even a GET
&gt;  with a username that is syntactically not correct would be a valid
&gt;  request. Or should 200 be only returned if everything is ok, and 400 if
&gt;  the email address is not correct, and 409 if the username is already
&gt;  taken?

400 for syntax errors (e.g. invalid characters in username/email)
should be ok. 409 shouldn't be used in this case, because the request
completed without errors, a 409 should be issued only if the request
could not be completed.

&gt;  I find it really hard to model such operations as resources, just to
&gt;  mention this :)

Instead of thinking about the interaction (i.e. validating a username)
try to focus on what resources are necessary to interact with. So we
can quickly figure out that the users resource is a good way to find
an user by username, so we ask for it and if there's none we know the
username is available.

&gt;  I'm very thankful for any suggestions/advice!
&gt;
&gt;  Cheers,
&gt;  Martin

Best regards,
Daniel Yokomizo.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10471<br>
Sender:"Daniel Yokomizo" &lt;daniel.yokomizo@...&gt;<br>
Post Date/Time:2008-03-12 22:40:32<br>
Subject:Re: [rest-discuss] How to design generate-new-password<br>
Message:<br><br>
<pre>On Wed, Mar 12, 2008 at 4:58 PM, Martin Grotzke &lt;mg@...&gt; wrote:
&gt; Hi,
&gt;
&gt;  I want to allow some external application (that has appropriate
&gt;  permissions) to create a new password for a certain user (user forgot
&gt;  his password). Probably we require the username and email-address of the
&gt;  user to perform this operation.
&gt;
&gt;  So what is the best URL for such functionality?
&gt;
&gt;  S.th. like POST /users/{username}/generatepassword with the
&gt;  email-address somewhere in the body, and the newly generated password in
&gt;  the response body?

That's a good question ;). The intent is to rest the password (i.e.
remove the current password and generate a new one). generatepassword
implies a RPC style of interaction. I see two solutions that I'm
uncomfortable with: POST /users/{username}/password or DELETE
/users/{username}/password, both returning 200 with the new password
in the response body. Both mean to remove the current password and
create a new one. POST is used to create things with URI different
from the request URI (i.e. we POST /resources and the created resource
can be accessed from /resource/XXX), but the entity we are sending
(i.e. email) is unrelated to the created resource (i.e. password).
DELETE is weird because deleted things should be removed, but nothing
in its semantics forbids the server to create a new password and
return it. I would go with POST, but I'm not satisfied with this
choice.

&gt;  We also want to provide update-password via
&gt;  POST /users/{username}/password, with oldPassword, newPassword in the
&gt;  request body. As we have already a password resource, would it be better
&gt;  then to use POST .../password/generate to generate a new password for
&gt;  the user?

You're replacing a resource state, so you can just PUT
/users/{username}/password, sending the new password in the body. You
don't need to send the old password as you already have the
authorization header with the credentials in the request (the usual
RESTful way is to just use basic authentication).

&gt;  Or, completely different, would it be better to use s.th. like
&gt;  POST /pwdgenerator/users/username (with the email address in the body)?
&gt;
&gt;  Thanx for suggestions in advance,
&gt;  cheers,
&gt;  Martin

Best regards,
Daniel Yokomizo.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10472<br>
Sender:Subbu Allamaraju &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-03-12 23:10:02<br>
Subject:Re: [rest-discuss] How to design generate-new-password<br>
Message:<br><br>
<pre>&gt; S.th. like POST /users/{username}/generatepassword with the
&gt; email-address somewhere in the body, and the newly generated  
&gt; password in
&gt; the response body?

How about GET /users/{username}/password?

&gt; We also want to provide update-password via
&gt; POST /users/{username}/password, with oldPassword, newPassword in the
&gt; request body. As we have already a password resource, would it be  
&gt; better
&gt; then to use POST .../password/generate to generate a new password for
&gt; the user?
&gt;
POST /users/{username}/password

should be fine. I would avoid putting verbs such as "generate" in URIs.

&gt; Or, completely different, would it be better to use s.th. like
&gt; POST /pwdgenerator/users/username (with the email address in the  
&gt; body)?

You mean a GET /pwdgenerator/users/username

Subbu


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10473<br>
Sender:Martin Grotzke &lt;mg@...&gt;<br>
Post Date/Time:2008-03-13 07:56:31<br>
Subject:Re: [rest-discuss] How to design validation of e.g. username,	email-address, password<br>
Message:<br><br>
<pre>Hi,

&gt; Why not just HEAD /user/{username}? If the status code is 404 then it
&gt; is free for use. If username isn't the UID for users in the URI you
&gt; can use queries for that: HEAD /user?username={username}. For email
&gt; something similar can be used. You can have both username and email as
&gt; UID to find a single user with HEAD /user/{uid}, if both identifiers
&gt; give an unique user, there's no reason to choose just one.
But we do not want that users can use the email-address of another user
as username. Additionally we validate email-addresses slightly different
than usernames. So it's important what's validated - username of
email-address.
But just for the username HEAD sounds well. So 404 would be the status
code if the username is still available, 409 if the username is already
taken, and 400 if the username is not well formed?

&gt; &gt;  Or would it be better to have it at s.th.
&gt; &gt;  like /username/validation/{username}, /email/validation/{email}
&gt; 
&gt; Unless username and email are resources in your app, it makes more
&gt; sense to go to the top level resource (i.e. user) and query it.
Given that we have to distinguish between username and email, you would
suggest to have s.th. like /users/validation/email/{email}?

&gt; &gt;  And what were possible response status codes? I'd think this could
&gt; &gt;  always be 200, with more details in the response body, as even a GET
&gt; &gt;  with a username that is syntactically not correct would be a valid
&gt; &gt;  request. Or should 200 be only returned if everything is ok, and 400 if
&gt; &gt;  the email address is not correct, and 409 if the username is already
&gt; &gt;  taken?
&gt; 
&gt; 400 for syntax errors (e.g. invalid characters in username/email)
&gt; should be ok. 409 shouldn't be used in this case, because the request
&gt; completed without errors, a 409 should be issued only if the request
&gt; could not be completed.
I thought 409 would be good to indicate s.th. like "usename already
taken". But this would occur in a PUT/POST request, not during a GET
request, what HEAD is related to. Does this mean, that if I want to be
able to return 409 to indicate a conflict, that I would have to use
PUT/POST? How else would it be possible to distinguish between "not well
formed" (400) and "already taken" (??) using response status codes?

&gt; &gt;  I find it really hard to model such operations as resources, just to
&gt; &gt;  mention this :)
&gt; 
&gt; Instead of thinking about the interaction (i.e. validating a username)
&gt; try to focus on what resources are necessary to interact with. So we
&gt; can quickly figure out that the users resource is a good way to find
&gt; an user by username, so we ask for it and if there's none we know the
&gt; username is available.
I'm trying hard, really! :) The username of course is an easy one. Using
others gets more complicated...

Thanx a lot,
cheers,
Martin



On Wed, 2008-03-12 at 19:15 -0300, Daniel Yokomizo wrote:
&gt; On Wed, Mar 12, 2008 at 5:15 PM, Martin Grotzke &lt;mg@...&gt; wrote:
&gt; &gt; Hi,
&gt; &gt;
&gt; &gt;  in the context of the registration of a new user we want to allow
&gt; &gt;  external applications to immediatly show the user, if the selected
&gt; &gt;  username, email-address or password is valid (in terms for syntax or
&gt; &gt;  availability). So the question is how to provide this functionality in a
&gt; &gt;  RESTful way...
&gt; &gt;
&gt; &gt;  Would one create a resource "validation" and use the kind
&gt; &gt;  (username/email/password) as subresource, so that there were URLs
&gt; &gt;  like /validation/username/{username}, /validation/email/{email} etc.
&gt; &gt;  that would allow GET?
&gt; 
&gt; Why not just HEAD /user/{username}? If the status code is 404 then it
&gt; is free for use. If username isn't the UID for users in the URI you
&gt; can use queries for that: HEAD /user?username={username}. For email
&gt; something similar can be used. You can have both username and email as
&gt; UID to find a single user with HEAD /user/{uid}, if both identifiers
&gt; give an unique user, there's no reason to choose just one.
&gt; 
&gt; &gt;  Or would it be better to have it at s.th.
&gt; &gt;  like /username/validation/{username}, /email/validation/{email}
&gt; 
&gt; Unless username and email are resources in your app, it makes more
&gt; sense to go to the top level resource (i.e. user) and query it.
&gt; 
&gt; &gt;  And what were possible response status codes? I'd think this could
&gt; &gt;  always be 200, with more details in the response body, as even a GET
&gt; &gt;  with a username that is syntactically not correct would be a valid
&gt; &gt;  request. Or should 200 be only returned if everything is ok, and 400 if
&gt; &gt;  the email address is not correct, and 409 if the username is already
&gt; &gt;  taken?
&gt; 
&gt; 400 for syntax errors (e.g. invalid characters in username/email)
&gt; should be ok. 409 shouldn't be used in this case, because the request
&gt; completed without errors, a 409 should be issued only if the request
&gt; could not be completed.
&gt; 
&gt; &gt;  I find it really hard to model such operations as resources, just to
&gt; &gt;  mention this :)
&gt; 
&gt; Instead of thinking about the interaction (i.e. validating a username)
&gt; try to focus on what resources are necessary to interact with. So we
&gt; can quickly figure out that the users resource is a good way to find
&gt; an user by username, so we ask for it and if there's none we know the
&gt; username is available.
&gt; 
&gt; &gt;  I'm very thankful for any suggestions/advice!
&gt; &gt;
&gt; &gt;  Cheers,
&gt; &gt;  Martin
&gt; 
&gt; Best regards,
&gt; Daniel Yokomizo.
&gt; 
&gt; 
&gt;  
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 
-- 
Martin Grotzke
Bernstorffstr. 17, 22767 Hamburg
Tel.      +49 (0) 40.98239888
Mobil     +49 (0) 170.9365656
E-Mail    mg@...
Online    http://www.javakaffee.de
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10474<br>
Sender:Martin Grotzke &lt;mg@...&gt;<br>
Post Date/Time:2008-03-13 08:01:43<br>
Subject:Re: [rest-discuss] How to design generate-new-password<br>
Message:<br><br>
<pre>On Wed, 2008-03-12 at 16:10 -0700, Subbu Allamaraju wrote:
&gt; &gt; S.th. like POST /users/{username}/generatepassword with the
&gt; &gt; email-address somewhere in the body, and the newly generated  
&gt; &gt; password in
&gt; &gt; the response body?
&gt; 
&gt; How about GET /users/{username}/password?
I'd say GET is not appropriate as GET should not modify resources.

&gt; 
&gt; &gt; We also want to provide update-password via
&gt; &gt; POST /users/{username}/password, with oldPassword, newPassword in the
&gt; &gt; request body. As we have already a password resource, would it be  
&gt; &gt; better
&gt; &gt; then to use POST .../password/generate to generate a new password for
&gt; &gt; the user?
&gt; &gt;
&gt; POST /users/{username}/password
&gt; 
&gt; should be fine. I would avoid putting verbs such as "generate" in URIs.
Good point.

&gt; 
&gt; &gt; Or, completely different, would it be better to use s.th. like
&gt; &gt; POST /pwdgenerator/users/username (with the email address in the  
&gt; &gt; body)?
&gt; 
&gt; You mean a GET /pwdgenerator/users/username
I would say the same as above, GET shouldn't modify resources.

Thanx &amp;&amp; cheers,
Martin


&gt; 
&gt; Subbu
&gt; 
&gt; 
&gt; 
&gt;  
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 
-- 
Martin Grotzke
Bernstorffstr. 17, 22767 Hamburg
Tel.      +49 (0) 40.98239888
Mobil     +49 (0) 170.9365656
E-Mail    mg@...
Online    http://www.javakaffee.de
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10475<br>
Sender:Martin Grotzke &lt;mg@...&gt;<br>
Post Date/Time:2008-03-13 08:05:14<br>
Subject:Re: [rest-discuss] How to design generate-new-password<br>
Message:<br><br>
<pre>Hi Daniel,

thanx for your hints, so we'll go for POST /users/{username}/password
for generating a new password and PUT to update the password with a
specified one.

Cheers,
Martin


On Wed, 2008-03-12 at 19:40 -0300, Daniel Yokomizo wrote:
&gt; On Wed, Mar 12, 2008 at 4:58 PM, Martin Grotzke &lt;mg@fsfe.org&gt; wrote:
&gt; &gt; Hi,
&gt; &gt;
&gt; &gt;  I want to allow some external application (that has appropriate
&gt; &gt;  permissions) to create a new password for a certain user (user forgot
&gt; &gt;  his password). Probably we require the username and email-address of the
&gt; &gt;  user to perform this operation.
&gt; &gt;
&gt; &gt;  So what is the best URL for such functionality?
&gt; &gt;
&gt; &gt;  S.th. like POST /users/{username}/generatepassword with the
&gt; &gt;  email-address somewhere in the body, and the newly generated password in
&gt; &gt;  the response body?
&gt; 
&gt; That's a good question ;). The intent is to rest the password (i.e.
&gt; remove the current password and generate a new one). generatepassword
&gt; implies a RPC style of interaction. I see two solutions that I'm
&gt; uncomfortable with: POST /users/{username}/password or DELETE
&gt; /users/{username}/password, both returning 200 with the new password
&gt; in the response body. Both mean to remove the current password and
&gt; create a new one. POST is used to create things with URI different
&gt; from the request URI (i.e. we POST /resources and the created resource
&gt; can be accessed from /resource/XXX), but the entity we are sending
&gt; (i.e. email) is unrelated to the created resource (i.e. password).
&gt; DELETE is weird because deleted things should be removed, but nothing
&gt; in its semantics forbids the server to create a new password and
&gt; return it. I would go with POST, but I'm not satisfied with this
&gt; choice.
&gt; 
&gt; &gt;  We also want to provide update-password via
&gt; &gt;  POST /users/{username}/password, with oldPassword, newPassword in the
&gt; &gt;  request body. As we have already a password resource, would it be better
&gt; &gt;  then to use POST .../password/generate to generate a new password for
&gt; &gt;  the user?
&gt; 
&gt; You're replacing a resource state, so you can just PUT
&gt; /users/{username}/password, sending the new password in the body. You
&gt; don't need to send the old password as you already have the
&gt; authorization header with the credentials in the request (the usual
&gt; RESTful way is to just use basic authentication).
&gt; 
&gt; &gt;  Or, completely different, would it be better to use s.th. like
&gt; &gt;  POST /pwdgenerator/users/username (with the email address in the body)?
&gt; &gt;
&gt; &gt;  Thanx for suggestions in advance,
&gt; &gt;  cheers,
&gt; &gt;  Martin
&gt; 
&gt; Best regards,
&gt; Daniel Yokomizo.
&gt; 
&gt; 
&gt;  
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 
-- 
Martin Grotzke
Bernstorffstr. 17, 22767 Hamburg
Tel.      +49 (0) 40.98239888
Mobil     +49 (0) 170.9365656
E-Mail    mg@...
Online    http://www.javakaffee.de
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10476<br>
Sender:"Miran Z." &lt;zlac53@...&gt;<br>
Post Date/Time:2008-03-13 10:11:26<br>
Subject:Re: How to design validation of e.g. username, email-address, password<br>
Message:<br><br>
<pre>
--- In rest-discuss@yahoogroups.com, Martin Grotzke &lt;mg@...&gt; wrote:
&gt;
&gt; Hi,
&gt;
&gt; &gt; Why not just HEAD /user/{username}? If the status code is 404 then
it
&gt; &gt; is free for use. If username isn't the UID for users in the URI you
&gt; &gt; can use queries for that: HEAD /user?username={username}. For email
&gt; &gt; something similar can be used. You can have both username and email
as
&gt; &gt; UID to find a single user with HEAD /user/{uid}, if both identifiers
&gt; &gt; give an unique user, there's no reason to choose just one.
&gt; But we do not want that users can use the email-address of another
user
&gt; as username. Additionally we validate email-addresses slightly
different
&gt; than usernames. So it's important what's validated - username of
&gt; email-address.
&gt; But just for the username HEAD sounds well. So 404 would be the status
&gt; code if the username is still available, 409 if the username is
already
&gt; taken, and 400 if the username is not well formed?
&gt;

Hmmm, since you have relatively complex validation, you could think of
validation as a process - a process that you will complete with your
actual back-end implementation, which is irrelevant right here. You
simply have to trigger that process - IMHO, a simple POST to a resource
like /validator might do the trick.

Cheers,
     Miran





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10477<br>
Sender:"Alexander Johannesen" &lt;alexander.johannesen@...&gt;<br>
Post Date/Time:2008-03-13 11:16:48<br>
Subject:Re: [rest-discuss] Objects at REST...<br>
Message:<br><br>
<pre>&gt;  &gt;  if you are dealing with specific objects, I guess they're
&gt;  &gt; resources like other resources, no?

On Wed, Mar 12, 2008 at 10:42 PM, Andrzej Jan Taramina
&lt;andrzej@...&gt; wrote:
&gt;  Typically not, in my experience.  Objects are finer grained and designed for
&gt;  purposes other than external interface needs.

I can agree on the former, but not generally on the latter. However, I
was more pointing to the fact that the word "resource" is really
whatever you make of it, including objects (whatever you make "object"
out to be). :)

&gt;  My point here is that the potential for abuse is too high.

Not sure that this RESTful objects thing is any more prone to abuse
(i.e; wrong use) than any other thing out there. HTTP by itself is
abused all the time, even the OO paradigm is overly abused by most
developers anyway. Unfortunately for the human race it requires proper
knowledge to do things well. There's always some smartness that goes
with every job well done, no matter what field, profession or
situation. Guns don't kill people; bullets do. Are you saying the
accessibility of our tool are to blame for the abuse of the tool?

&gt; The OO folks

Who are they?

&gt; will
&gt;  go ahead and design object models the way they always have, or will reuse
&gt;  existing models, and then just slap some HTTP on top of them with some URLs
&gt;  that reference those objects, and will REST on the 7th day.

Hmm, aren't you more saying they won't REST on the 7th day? :)

...

&gt;  I predict way more wrong than right will be inflicted on business
&gt;  stakeholders and IT management with this approach. ;-)

Given the knowledge business stakeholders / owners and IT management
in general show on REST, I'd say we're safe for a long time still. :)
If they don't understand the goodness of REST, then they're not
capable of understanding the trouble with not doing it right either.


Alex
-- 
---------------------------------------------------------------------------
 Project Wrangler, SOA, Information Alchemist, UX, RESTafarian, Topic Maps
------------------------------------------ http://shelter.nu/blog/ --------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10478<br>
Sender:Martin Grotzke &lt;mg@...&gt;<br>
Post Date/Time:2008-03-13 12:01:22<br>
Subject:Re: [rest-discuss] Re: How to design validation of e.g. username,	email-address, password<br>
Message:<br><br>
<pre>On Thu, 2008-03-13 at 10:11 +0000, Miran Z. wrote:
&gt; Hmmm, since you have relatively complex validation, you could think of
&gt; validation as a process - a process that you will complete with your
&gt; actual back-end implementation, which is irrelevant right here. You
&gt; simply have to trigger that process - IMHO, a simple POST to a resource
&gt; like /validator might do the trick.
That's why I also thought about resources
like /validation/username/{username} (as it should be possible to
validate the different "things" separately).

But /validator indeed sounds more resourceful than /validation :)

Cheers,
Martin


&gt; --- In rest-discuss@yahoogroups.com, Martin Grotzke &lt;mg@...&gt; wrote:
&gt; &gt;
&gt; &gt; Hi,
&gt; &gt;
&gt; &gt; &gt; Why not just HEAD /user/{username}? If the status code is 404 then
&gt; it
&gt; &gt; &gt; is free for use. If username isn't the UID for users in the URI you
&gt; &gt; &gt; can use queries for that: HEAD /user?username={username}. For email
&gt; &gt; &gt; something similar can be used. You can have both username and email
&gt; as
&gt; &gt; &gt; UID to find a single user with HEAD /user/{uid}, if both identifiers
&gt; &gt; &gt; give an unique user, there's no reason to choose just one.
&gt; &gt; But we do not want that users can use the email-address of another
&gt; user
&gt; &gt; as username. Additionally we validate email-addresses slightly
&gt; different
&gt; &gt; than usernames. So it's important what's validated - username of
&gt; &gt; email-address.
&gt; &gt; But just for the username HEAD sounds well. So 404 would be the status
&gt; &gt; code if the username is still available, 409 if the username is
&gt; already
&gt; &gt; taken, and 400 if the username is not well formed?
&gt; &gt;
&gt; 
&gt; Hmmm, since you have relatively complex validation, you could think of
&gt; validation as a process - a process that you will complete with your
&gt; actual back-end implementation, which is irrelevant right here. You
&gt; simply have to trigger that process - IMHO, a simple POST to a resource
&gt; like /validator might do the trick.
&gt; 
&gt; Cheers,
&gt;      Miran
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt;  
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 
-- 
Martin Grotzke
Bernstorffstr. 17, 22767 Hamburg
Tel.      +49 (0) 40.98239888
Mobil     +49 (0) 170.9365656
E-Mail    mg@...
Online    http://www.javakaffee.de
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10479<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-03-13 12:15:22<br>
Subject:Re: [rest-discuss] [OT] HTTP headers status diagram<br>
Message:<br><br>
<pre>Petite,

Thanks for the reference :-)

This group has seen the diagram before, in 2007.

However - I have just released a new version of it - incorporating
various revisions [1] that have built up over the last year but that I
hadn't made the time to implement until this week.

Also, the source (Visio) diagram is now available on Google Code [2]
under the MIT license.

Any feedback, such as any errors in the diagram, would be most appreciated.

[1] http://thoughtpad.net/alan-dean/http-headers-status.html#revised-2008-03-12
[2] http://code.google.com/p/http-headers-status/

Regards,
Alan Dean
http://thoughtpad.net/alan-dean
http://simplewebservices.org

On Tue, Mar 11, 2008 at 8:23 PM, Petite Abeille
&lt;petite.abeille@...&gt; wrote:
&gt;
&gt;
&gt;
&gt;
&gt; To paraphrase Woody Allen:
&gt;
&gt; "Everything you always wanted to know about HTTP headers status, but
&gt; were afraid to ask"
&gt;
&gt; Alternatively:
&gt;
&gt; "An activity diagram to describe the resolution of HTTP response
&gt; status codes, given various headers."
&gt;
&gt; http://thoughtpad.net/alan-dean/http-headers-status.html
&gt;
&gt; http://thoughtpad.net/alan-dean/http-headers-status.gif
&gt;
&gt; Cheers,
&gt;
&gt; --
&gt; PA
&gt; http://alt.textdrive.com/nanoki/
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10480<br>
Sender:"Miran Z." &lt;zlac53@...&gt;<br>
Post Date/Time:2008-03-13 12:38:03<br>
Subject:Re: How to design validation of e.g. username, email-address, password<br>
Message:<br><br>
<pre>
--- In rest-discuss@yahoogroups.com, Martin Grotzke &lt;mg@...&gt; wrote:
&gt;
&gt; On Thu, 2008-03-13 at 10:11 +0000, Miran Z. wrote:
&gt; &gt; Hmmm, since you have relatively complex validation, you could think
of
&gt; &gt; validation as a process - a process that you will complete with your
&gt; &gt; actual back-end implementation, which is irrelevant right here. You
&gt; &gt; simply have to trigger that process - IMHO, a simple POST to a
resource
&gt; &gt; like /validator might do the trick.
&gt; That's why I also thought about resources
&gt; like /validation/username/{username} (as it should be possible to
&gt; validate the different "things" separately).
&gt;

Something like POST to /validator/username, /validator/email etc.?



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10481<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-03-13 12:52:10<br>
Subject:Re: [rest-discuss] Objects at REST...<br>
Message:<br><br>
<pre>On Mar 12, 2008, at 2:42 PM, Andrzej Jan Taramina wrote:

&gt;&gt; Second, I know I am in the minority here, but pretty URIs are  
&gt;&gt; irrelevant. ...
&gt;
&gt; I'm a bit ambivalent on this comment.  Machine to machine, pretty  
&gt; URI's are
&gt; quite irrelevant.  But when it comes to testing machine to machine
&gt; integrations, debugging and the like, which is conducted by  
&gt; meatware, pretty
&gt; URI's can provide some real productivity and value. (snip)  So why  
&gt; not make 'em pretty....doesn't take much more
&gt; effort and can have some decent payback.

There are graduations of this.  For instance, URIs used on  
spaces.live.com are SO machine focused that it causes gag reflexes to  
visitors. :)

I agree with you 100% that it is a nice thing to have (especially  
when you need to look under the hood).  I only use (and sometimes  
abuse) REST for machine to machine interactions.  In that context,  
"pretty" doesn't scale as services are dynamically generated and  
assembled.

&gt; So what you are saying is that the exposed interfaces and common  
&gt; lingua
&gt; franca between such services/apps is what is key.  I subscribe to  
&gt; that,
&gt; especially in the integration space.

Yes.  That's exactly it.

&gt; Nicely put, Steve!

Thanks!  When I reposted it on my blog, I realized how poor my  
command of grammar is before morning coffee. :)  So thanks for  
powering through it!
A cleaned up version is here:
http://www.mindtouch.com/blog/2008/03/12/objects-at-unrest/

Also, for the curious, a primer on how we build our software using  
RESTful services is here:
http://wiki.mindtouch.com/Technology


Cheers,

- Steve

--------------
Steve G. Bjorg
http://wiki.mindtouch.com
http://wiki.opengarden.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10482<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-03-13 13:11:57<br>
Subject:Re: [rest-discuss] Objects at REST...<br>
Message:<br><br>
<pre>&gt; On Wed, Mar 12, 2008 at 6:42 PM, Andrzej Jan Taramina
&gt; &lt;andrzej@...&gt; wrote:
&gt;
&gt;&gt;
&gt;&gt;  Daniel suggests:
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; otherwise we treat methods as subordinate URLs of
&gt;&gt;&gt; the parent objects (e.g. /articles/1/publish()), but it only accepts
&gt;&gt;&gt; GET (we return a representation to fill the parameters and submit  
&gt;&gt;&gt; it,
&gt;&gt;&gt; usually is a xhtml form but it can be something else for other
&gt;&gt;&gt; media-types) and POST for invocation responding with redirect. It  
&gt;&gt;&gt; will
&gt;&gt;&gt; emphasize not using RPC style methods but if you must it should use
&gt;&gt;&gt; safe semantics.
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;  That's the start of a very slippery slope.  You're basically  
&gt;&gt; encouraging the
&gt;&gt;  OO folks to tunnel RPC over HTTP.
&gt;&gt;
&gt;
&gt; I'm not encouraging anything. As I said the primary method of
&gt; interaction is basically REST using whatever verbs you are want to
&gt; work with (e.g. HTTP, WebDAV), but there's a escape clause, which is
&gt; different from encouraging. As I said it only supports POST, which
&gt; gives almost no guarantees and it return a 303 if there's a return to
&gt; a know resource (no body in any case), so the user of the framework
&gt; must work with resources.

The problem in your thinking here is that you're still partitioning  
behavioral into sets of "methods."  If you fix the set of methods to  
HTTP verbs (GET, PUT, DELETE, POST), the only way you can partition  
the behavioral space is by topologies of resources (i.e. relationships).

Another way to think about is that you're building your software out  
of a few building blocks that you _cannot_ add behavior to.  These  
building blocks are entities (GET, PUT) and collections (GET, PUT,  
POST, DELETE).

In this view of the world, there is no URI that corresponds to the  
"publish" method found in OO.  However, "the act of publishing" is  
defined as POSTing a new entity to the publications collection.   
(Reading ahead, it appears you're already well familiar with this  
approach).

&gt;&gt;
&gt;&gt;&gt; Obviously I'm biased for it but I think it's a good way to  
&gt;&gt;&gt; develop an
&gt;&gt;&gt; application, because the user's interface will map the domain model.
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;  That doesn't work in the world of machine to machine  
&gt;&gt; communications, since it
&gt;&gt;  is rare that disparate systems have common domain or object models.
&gt;&gt;
&gt;
&gt; It doesn't matter if the user is a machine or a human. If the model we
&gt; use to expose the resources is different from the domain model,
&gt; otherwise the programmer have to write especialized code to do the
&gt; mapping. It's the same issue with ORM, this kind of impedance mismatch
&gt; always requires more work.

Having to "specialized code to do the mapping" is exactly what this  
is about.  If you don't, you're doomed because you're forcing  
everyone to buy into your view of the world.  In REST, there are many  
views of the world (representations), but none of them are  
necessarily the state of the world (the resource).

Coupling at the representation level is the weakest, and therefore  
the most flexible way to interface communicating systems.

&gt;
&gt;
&gt;&gt;  The better approach in that scenario is to design a data  
&gt;&gt; representation
&gt;&gt;  format that is better suited to the integration and transmission of
&gt;&gt;  information, rather than cater to internal implementation models  
&gt;&gt; on both
&gt;&gt;  sides.
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; As we can use URIs to identify objects we can save those in other
&gt;&gt;&gt; systems, so we are planning to use URIs for every inter application
&gt;&gt;&gt; references, which lends itself to very easy integration.
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;  I beg to differ.  Common/consistent URI's are a help, but a  
&gt;&gt; properly designed
&gt;&gt;  data representation, with concomittent semantic definitions,  
&gt;&gt; independent of
&gt;&gt;  back end domain/object models is what makes integration easier,  
&gt;&gt; though even
&gt;&gt;  at the best of times, integration is still hard.
&gt;&gt;
&gt;
&gt; Instead of sending &lt;customer id='XXX'/&gt; we respond with &lt;customer
&gt; ref='/customers/XXX'/&gt; which is the REST approach. It's easier to have
&gt; integration if we know that every resource is sent with its
&gt; corresponding URI.
&gt;
&gt;
&gt;&gt;&gt; Also if the
&gt;&gt;&gt; only interface to your app is via REST, everything can be an WS
&gt;&gt;&gt; without additional effort.
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;  What you're doing isn't REST for the most part.  It's using HTTP  
&gt;&gt; as a
&gt;&gt;  transport mechanism for RPC and inter-object distributed  
&gt;&gt; communications.
&gt;&gt;
&gt;
&gt; Why do you think so? If I have all my operations working on resources
&gt; and I'm able to issue a DELETE /orders/XXX, it can work if the client
&gt; is a browser or another app. The whole idea behind RESTful Web
&gt; Services is about this. My apps are resource oriented, the only usage
&gt; of POST in the app I'm working right now is when I want to create new
&gt; resources (i.e. POST /resources). To my app it doesn't matter if the
&gt; request comes from a browser or another machine, that's why I say that
&gt; I have no effort providing WS for everything.

Hmm, that was not the impression I got from the /articles/1/publish  
example given above.  Maybe this is a case of vehement agreement?


- Steve

--------------
Steve G. Bjorg
http://wiki.mindtouch.com
http://wiki.opengarden.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10483<br>
Sender:Martin Grotzke &lt;mg@...&gt;<br>
Post Date/Time:2008-03-13 14:05:12<br>
Subject:Re: [rest-discuss] Re: How to design validation of e.g. username,	email-address, password<br>
Message:<br><br>
<pre>
On Thu, 2008-03-13 at 12:38 +0000, Miran Z. wrote:
&gt; --- In rest-discuss@yahoogroups.com, Martin Grotzke &lt;mg@...&gt; wrote:
&gt; &gt;
&gt; &gt; On Thu, 2008-03-13 at 10:11 +0000, Miran Z. wrote:
&gt; &gt; &gt; Hmmm, since you have relatively complex validation, you could think of
&gt; &gt; &gt; validation as a process - a process that you will complete with your
&gt; &gt; &gt; actual back-end implementation, which is irrelevant right here. You
&gt; &gt; &gt; simply have to trigger that process - IMHO, a simple POST to a resource
&gt; &gt; &gt; like /validator might do the trick.
&gt; &gt; That's why I also thought about resources
&gt; &gt; like /validation/username/{username} (as it should be possible to
&gt; &gt; validate the different "things" separately).
&gt; &gt;
&gt; 
&gt; Something like POST to /validator/username, /validator/email etc.?

I thought it would be GET /validator/username/{username}, as one would
retrieve a representation of a username validation, and no data is
modified.

Do you think POST is more appropriate? Why should one use POST here?

Thanx &amp;&amp; cheers,
Martin

&gt; 
&gt; 
&gt; 
&gt; 
&gt;  
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 
-- 
Martin Grotzke
Bernstorffstr. 17, 22767 Hamburg
Tel.      +49 (0) 40.98239888
Mobil     +49 (0) 170.9365656
E-Mail    mg@...
Online    http://www.javakaffee.de
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10484<br>
Sender:"Miran Z." &lt;zlac53@...&gt;<br>
Post Date/Time:2008-03-13 15:14:12<br>
Subject:Re: How to design validation of e.g. username, email-address, password<br>
Message:<br><br>
<pre>
--- In rest-discuss@yahoogroups.com, Martin Grotzke &lt;mg@...&gt; wrote:
&gt;
&gt;
&gt; On Thu, 2008-03-13 at 12:38 +0000, Miran Z. wrote:
&gt; &gt; --- In rest-discuss@yahoogroups.com, Martin Grotzke mg@ wrote:
&gt; &gt; &gt;
&gt; &gt; &gt; On Thu, 2008-03-13 at 10:11 +0000, Miran Z. wrote:
&gt; &gt; &gt; &gt; Hmmm, since you have relatively complex validation, you could
think of
&gt; &gt; &gt; &gt; validation as a process - a process that you will complete with
your
&gt; &gt; &gt; &gt; actual back-end implementation, which is irrelevant right here.
You
&gt; &gt; &gt; &gt; simply have to trigger that process - IMHO, a simple POST to a
resource
&gt; &gt; &gt; &gt; like /validator might do the trick.
&gt; &gt; &gt; That's why I also thought about resources
&gt; &gt; &gt; like /validation/username/{username} (as it should be possible to
&gt; &gt; &gt; validate the different "things" separately).
&gt; &gt; &gt;
&gt; &gt;
&gt; &gt; Something like POST to /validator/username, /validator/email etc.?
&gt;
&gt; I thought it would be GET /validator/username/{username}, as one would
&gt; retrieve a representation of a username validation, and no data is
&gt; modified.
&gt;
&gt; Do you think POST is more appropriate? Why should one use POST here?
&gt;
&gt; Thanx &amp;&amp; cheers,
&gt; Martin
&gt;

Sorry, I've been under the impression that you wanted to create new
user, should one pass validation, all in one go. If it's only about
simple checking, then GET is more appropriate.

About response codes - hmm, this may sound odd, but - if GET to e.g.
/validator/username/joe succeeds, it means that username joe is already
taken - therefore, an affirmative 200 response code is going along with
representation that carries negative validation semantics ("Halt! That
username is already taken!").  Syntactically incorrect usernames or
emails could return 400 (Bad request) and correct but yet unused ones
could return 404 (Not Found).

Cheers,
    Miran



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10485<br>
Sender:"Daniel Yokomizo" &lt;daniel.yokomizo@...&gt;<br>
Post Date/Time:2008-03-13 15:17:17<br>
Subject:Re: [rest-discuss] How to design validation of e.g. username, email-address, password<br>
Message:<br><br>
<pre>On Thu, Mar 13, 2008 at 7:56 AM, Martin Grotzke &lt;mg@...&gt; wrote:
&gt; Hi,
&gt;
&gt;  &gt; Why not just HEAD /user/{username}? If the status code is 404 then it
&gt;  &gt; is free for use. If username isn't the UID for users in the URI you
&gt;  &gt; can use queries for that: HEAD /user?username={username}. For email
&gt;  &gt; something similar can be used. You can have both username and email as
&gt;  &gt; UID to find a single user with HEAD /user/{uid}, if both identifiers
&gt;  &gt; give an unique user, there's no reason to choose just one.
&gt;  But we do not want that users can use the email-address of another user
&gt;  as username. Additionally we validate email-addresses slightly different
&gt;  than usernames. So it's important what's validated - username of
&gt;  email-address.

I'm saying that your validation code can call HEAD /users/{username}
and HEAD /users/{email}, both must return 404 to be able to insert a
new user. There's no need to think that you can use two different
things in the URL (if you can unambiguously see which is which). I did
a login process that worked like that, you could log on with either an
uid or the email, both had to be unique. Also in both cases you can
return a 400 if the username or email is invalid.

&gt;  But just for the username HEAD sounds well. So 404 would be the status
&gt;  code if the username is still available, 409 if the username is already
&gt;  taken, and 400 if the username is not well formed?

409 should be returned when you are trying to PUT and there's a
conflict. In this moment we are trying to see if the resource is
available.

&gt;  &gt; &gt;  Or would it be better to have it at s.th.
&gt;  &gt; &gt;  like /username/validation/{username}, /email/validation/{email}
&gt;  &gt;
&gt;  &gt; Unless username and email are resources in your app, it makes more
&gt;  &gt; sense to go to the top level resource (i.e. user) and query it.
&gt;  Given that we have to distinguish between username and email, you would
&gt;  suggest to have s.th. like /users/validation/email/{email}?

Validation is an activity, not a resource. A validator would be an
resource, but it smells like a disguised RPC IMHO. In summary my
approach would be:

1. Client issues a HEAD /users/{username} and HEAD /users/{email}
2. Server process the request see if the uid provided is valid
(returning 400 if it's invalid), see if such value exists in the
database (returning a 404 if it doesn't exist) and returns 200.
3. Client sees if a 400 is returned and corrects the input, if a 404
is returned it can use the usernmae/email if 200 is returned it knows
it can't.
4. Client issues a POST /users with the information in the request
body url encoded. You could use a PUT /users/{username} but then the
server must be able to understand that this is a new user instead of
an existing one. One approach is to check the authorization header, if
it exists and is valid it's an update of an existing user, otherwise
it's a new user.
5. Server process the request and if there's a conflict it issues a
409, otherwise it returns a 201.

A concern you always need to have when exposing resources is how you
deal with sensitive information. If anyone can issue a GET
/users/{username} the server will return a representation of this
resource, so perhaps you want to require an authorization to GET (the
credential must match the user) and let anyone issue HEAD (as it
doesn't send a body). Also take care with the cache headers to ensure
that nothing is cached.

&gt;  &gt; &gt;  And what were possible response status codes? I'd think this could
&gt;  &gt; &gt;  always be 200, with more details in the response body, as even a GET
&gt;  &gt; &gt;  with a username that is syntactically not correct would be a valid
&gt;  &gt; &gt;  request. Or should 200 be only returned if everything is ok, and 400 if
&gt;  &gt; &gt;  the email address is not correct, and 409 if the username is already
&gt;  &gt; &gt;  taken?
&gt;  &gt;
&gt;  &gt; 400 for syntax errors (e.g. invalid characters in username/email)
&gt;  &gt; should be ok. 409 shouldn't be used in this case, because the request
&gt;  &gt; completed without errors, a 409 should be issued only if the request
&gt;  &gt; could not be completed.
&gt;  I thought 409 would be good to indicate s.th. like "usename already
&gt;  taken". But this would occur in a PUT/POST request, not during a GET
&gt;  request, what HEAD is related to. Does this mean, that if I want to be
&gt;  able to return 409 to indicate a conflict, that I would have to use
&gt;  PUT/POST? How else would it be possible to distinguish between "not well
&gt;  formed" (400) and "already taken" (??) using response status codes?

If HEAD /users/{username} return 200 it means that there's a user with
that username, so it's already taken.

&gt;  &gt; &gt;  I find it really hard to model such operations as resources, just to
&gt;  &gt; &gt;  mention this :)
&gt;  &gt;
&gt;  &gt; Instead of thinking about the interaction (i.e. validating a username)
&gt;  &gt; try to focus on what resources are necessary to interact with. So we
&gt;  &gt; can quickly figure out that the users resource is a good way to find
&gt;  &gt; an user by username, so we ask for it and if there's none we know the
&gt;  &gt; username is available.
&gt;  I'm trying hard, really! :) The username of course is an easy one. Using
&gt;  others gets more complicated...
&gt;
&gt;  Thanx a lot,
&gt;  cheers,
&gt;  Martin

Best regards,
Daniel Yokomizo.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10486<br>
Sender:Martin Grotzke &lt;mg@...&gt;<br>
Post Date/Time:2008-03-13 15:23:50<br>
Subject:RE: [rest-discuss] Re: How to design validation of e.g.	username,	email-address, password<br>
Message:<br><br>
<pre>On Thu, 2008-03-13 at 14:40 +0000, Sebastien Lambla wrote:
&gt; "I thought it would be GET /validator/username/{username}, as one would
&gt; retrieve a representation of a username validation, and no data is
&gt; modified."
&gt; 
&gt; With GET isn't the resource supposed to exist to be returned a
&gt; representation?
&gt; 
&gt; If you access a validator resource and want it to validate something, I'd
&gt; side with the POST to /validator/username/, as that resource exists. Going
&gt; to /validator/username/{username} would mean that you would _create_ a
&gt; representation of a username validation on each request, with a possibly
&gt; infinite number of resources you just created.
But isn't it somehow the other way round? I'd say that a POST
to /validator/username/ creates a new sub-resource of this resource?

I thought GET shouldn't modify any server state.

Am I wrong with this?

Asuming that not :) what about /validator/username/?username={username}

Cheers,
Martin


&gt; 
&gt; It's a bit borderline, but I prefer to expose my resources only if they
&gt; actually exist and are backed by something.
&gt; 
&gt; --
&gt; SerialSeb
&gt; 
-- 
Martin Grotzke
Bernstorffstr. 17, 22767 Hamburg
Tel.      +49 (0) 40.98239888
Mobil     +49 (0) 170.9365656
E-Mail    mg@...
Online    http://www.javakaffee.de
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10487<br>
Sender:Martin Grotzke &lt;mg@...&gt;<br>
Post Date/Time:2008-03-13 17:10:08<br>
Subject:Re: [rest-discuss] How to design validation of e.g. username,	email-address, password<br>
Message:<br><br>
<pre>Hi Daniel,

thanx for clarification - sorry for my 409/200 confusion :)

I have two issues/questions left:
1) How do I distinguish between username and email when I provide a HEAD
   for /users/{uid}? If it's meant to be the validation for email, I 
   must check that the given uid is a correct email address (syntax),
   for usernames I must not perform this validation...
2) What would you suggest for password validation?

Thanx &amp;&amp; cheers,
Martin


On Thu, 2008-03-13 at 15:17 +0000, Daniel Yokomizo wrote:
&gt; On Thu, Mar 13, 2008 at 7:56 AM, Martin Grotzke &lt;mg@...&gt; wrote:
&gt; &gt; Hi,
&gt; &gt;
&gt; &gt;  &gt; Why not just HEAD /user/{username}? If the status code is 404 then it
&gt; &gt;  &gt; is free for use. If username isn't the UID for users in the URI you
&gt; &gt;  &gt; can use queries for that: HEAD /user?username={username}. For email
&gt; &gt;  &gt; something similar can be used. You can have both username and email as
&gt; &gt;  &gt; UID to find a single user with HEAD /user/{uid}, if both identifiers
&gt; &gt;  &gt; give an unique user, there's no reason to choose just one.
&gt; &gt;  But we do not want that users can use the email-address of another user
&gt; &gt;  as username. Additionally we validate email-addresses slightly different
&gt; &gt;  than usernames. So it's important what's validated - username of
&gt; &gt;  email-address.
&gt; 
&gt; I'm saying that your validation code can call HEAD /users/{username}
&gt; and HEAD /users/{email}, both must return 404 to be able to insert a
&gt; new user. There's no need to think that you can use two different
&gt; things in the URL (if you can unambiguously see which is which). I did
&gt; a login process that worked like that, you could log on with either an
&gt; uid or the email, both had to be unique. Also in both cases you can
&gt; return a 400 if the username or email is invalid.
&gt; 
&gt; &gt;  But just for the username HEAD sounds well. So 404 would be the status
&gt; &gt;  code if the username is still available, 409 if the username is already
&gt; &gt;  taken, and 400 if the username is not well formed?
&gt; 
&gt; 409 should be returned when you are trying to PUT and there's a
&gt; conflict. In this moment we are trying to see if the resource is
&gt; available.
&gt; 
&gt; &gt;  &gt; &gt;  Or would it be better to have it at s.th.
&gt; &gt;  &gt; &gt;  like /username/validation/{username}, /email/validation/{email}
&gt; &gt;  &gt;
&gt; &gt;  &gt; Unless username and email are resources in your app, it makes more
&gt; &gt;  &gt; sense to go to the top level resource (i.e. user) and query it.
&gt; &gt;  Given that we have to distinguish between username and email, you would
&gt; &gt;  suggest to have s.th. like /users/validation/email/{email}?
&gt; 
&gt; Validation is an activity, not a resource. A validator would be an
&gt; resource, but it smells like a disguised RPC IMHO. In summary my
&gt; approach would be:
&gt; 
&gt; 1. Client issues a HEAD /users/{username} and HEAD /users/{email}
&gt; 2. Server process the request see if the uid provided is valid
&gt; (returning 400 if it's invalid), see if such value exists in the
&gt; database (returning a 404 if it doesn't exist) and returns 200.
&gt; 3. Client sees if a 400 is returned and corrects the input, if a 404
&gt; is returned it can use the usernmae/email if 200 is returned it knows
&gt; it can't.
&gt; 4. Client issues a POST /users with the information in the request
&gt; body url encoded. You could use a PUT /users/{username} but then the
&gt; server must be able to understand that this is a new user instead of
&gt; an existing one. One approach is to check the authorization header, if
&gt; it exists and is valid it's an update of an existing user, otherwise
&gt; it's a new user.
&gt; 5. Server process the request and if there's a conflict it issues a
&gt; 409, otherwise it returns a 201.
&gt; 
&gt; A concern you always need to have when exposing resources is how you
&gt; deal with sensitive information. If anyone can issue a GET
&gt; /users/{username} the server will return a representation of this
&gt; resource, so perhaps you want to require an authorization to GET (the
&gt; credential must match the user) and let anyone issue HEAD (as it
&gt; doesn't send a body). Also take care with the cache headers to ensure
&gt; that nothing is cached.
&gt; 
&gt; &gt;  &gt; &gt;  And what were possible response status codes? I'd think this could
&gt; &gt;  &gt; &gt;  always be 200, with more details in the response body, as even a GET
&gt; &gt;  &gt; &gt;  with a username that is syntactically not correct would be a valid
&gt; &gt;  &gt; &gt;  request. Or should 200 be only returned if everything is ok, and 400 if
&gt; &gt;  &gt; &gt;  the email address is not correct, and 409 if the username is already
&gt; &gt;  &gt; &gt;  taken?
&gt; &gt;  &gt;
&gt; &gt;  &gt; 400 for syntax errors (e.g. invalid characters in username/email)
&gt; &gt;  &gt; should be ok. 409 shouldn't be used in this case, because the request
&gt; &gt;  &gt; completed without errors, a 409 should be issued only if the request
&gt; &gt;  &gt; could not be completed.
&gt; &gt;  I thought 409 would be good to indicate s.th. like "usename already
&gt; &gt;  taken". But this would occur in a PUT/POST request, not during a GET
&gt; &gt;  request, what HEAD is related to. Does this mean, that if I want to be
&gt; &gt;  able to return 409 to indicate a conflict, that I would have to use
&gt; &gt;  PUT/POST? How else would it be possible to distinguish between "not well
&gt; &gt;  formed" (400) and "already taken" (??) using response status codes?
&gt; 
&gt; If HEAD /users/{username} return 200 it means that there's a user with
&gt; that username, so it's already taken.
&gt; 
&gt; &gt;  &gt; &gt;  I find it really hard to model such operations as resources, just to
&gt; &gt;  &gt; &gt;  mention this :)
&gt; &gt;  &gt;
&gt; &gt;  &gt; Instead of thinking about the interaction (i.e. validating a username)
&gt; &gt;  &gt; try to focus on what resources are necessary to interact with. So we
&gt; &gt;  &gt; can quickly figure out that the users resource is a good way to find
&gt; &gt;  &gt; an user by username, so we ask for it and if there's none we know the
&gt; &gt;  &gt; username is available.
&gt; &gt;  I'm trying hard, really! :) The username of course is an easy one. Using
&gt; &gt;  others gets more complicated...
&gt; &gt;
&gt; &gt;  Thanx a lot,
&gt; &gt;  cheers,
&gt; &gt;  Martin
&gt; 
&gt; Best regards,
&gt; Daniel Yokomizo.
&gt; 
-- 
Martin Grotzke
Bernstorffstr. 17, 22767 Hamburg
Tel.      +49 (0) 40.98239888
Mobil     +49 (0) 170.9365656
E-Mail    mg@...
Online    http://www.javakaffee.de
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10488<br>
Sender:Martin Grotzke &lt;mg@...&gt;<br>
Post Date/Time:2008-03-13 18:56:38<br>
Subject:Re: [rest-discuss] How to design validation of e.g. username,	email-address, password<br>
Message:<br><br>
<pre>Hi Daniel,

On Thu, 2008-03-13 at 17:56 +0000, Daniel Yokomizo wrote:
&gt; On Thu, Mar 13, 2008 at 5:10 PM, Martin Grotzke &lt;mg@...&gt; wrote:
&gt; &gt;  I have two issues/questions left:
&gt; &gt;  1) How do I distinguish between username and email when I provide a HEAD
&gt; &gt;    for /users/{uid}? If it's meant to be the validation for email, I
&gt; &gt;    must check that the given uid is a correct email address (syntax),
&gt; &gt;    for usernames I must not perform this validation...
&gt; 
&gt; If the characters sets for usernames and email don't mix (e.g. you
&gt; don't allow @ in username) you can just do a simple checking:
We can't do s.th. like this, email addresses can be used as usernames.

&gt; &gt;  2) What would you suggest for password validation?
&gt; ...
Sorry, my question was misleading. I wanted to ask what you would
suggest concerning RESTful password validation, not how to validate
passwords at all...

Cheers,
Martin


On Thu, 2008-03-13 at 17:56 +0000, Daniel Yokomizo wrote:
&gt; On Thu, Mar 13, 2008 at 5:10 PM, Martin Grotzke &lt;mg@...&gt; wrote:
&gt; &gt; Hi Daniel,
&gt; &gt;
&gt; &gt;  thanx for clarification - sorry for my 409/200 confusion :)
&gt; &gt;
&gt; &gt;  I have two issues/questions left:
&gt; &gt;  1) How do I distinguish between username and email when I provide a HEAD
&gt; &gt;    for /users/{uid}? If it's meant to be the validation for email, I
&gt; &gt;    must check that the given uid is a correct email address (syntax),
&gt; &gt;    for usernames I must not perform this validation...
&gt; 
&gt; If the characters sets for usernames and email don't mix (e.g. you
&gt; don't allow @ in username) you can just do a simple checking:
&gt; 
&gt; if (isValidUsername(uid)) {
&gt;      //treat as username
&gt; } else if (isValidEmail(uid)) {
&gt;      //treat as email
&gt; } else {
&gt;     throw 400
&gt; }
&gt; 
&gt; I usually use regular expressions, but beware that validating email
&gt; addresses with regular expressions is a PITA.
&gt; 
&gt; &gt;  2) What would you suggest for password validation?
&gt; 
&gt; Usually I just try to ensure that it's long enough (e.g. at least 8
&gt; characters), because I find most policies of forcing to choose a
&gt; "strong password" to be annoying and not effective. Looking from a
&gt; security viewpoint there's not much we can do to make the users use
&gt; good passwords, I encourage users to use passphrases, but in the end
&gt; it's up to them. OTOH it depend on your threat model: if you need
&gt; strong protection against dictionary attacks you can just run the
&gt; passwords against a dictionary and require no matches (but it's better
&gt; to create some monitoring services to see if there's some sort of dict
&gt; attack on your app), do regular password expiration. As I said such
&gt; policies depend on your threat model, usually for most web apps
&gt; there's no need for password expiration or dictionary attack
&gt; protection.
&gt; 
&gt; It's important to keep things safe at the backend, so I never keep the
&gt; password on database (just hashes salted with a unique salt per user),
&gt; avoid cookies and such things (cookies are vulnerable to CSRF
&gt; attacks), require another password for very sensitive operations (like
&gt; money transfer), use HTTPS, provide ways to restrain compromised
&gt; accounts, make easy to undo changes (so updates hacked accounts can be
&gt; undone), etc..
&gt; 
&gt; &gt;  Thanx &amp;&amp; cheers,
&gt; &gt;  Martin
&gt; 
&gt; Best regards,
&gt; Daniel Yokomizo.
&gt; 
&gt; P.S.: I took it off list because we're not discussing REST anymore,
&gt; but feel free to continue this if you want to.
&gt; 
-- 
Martin Grotzke
Bernstorffstr. 17, 22767 Hamburg
Tel.      +49 (0) 40.98239888
Mobil     +49 (0) 170.9365656
E-Mail    mg@fsfe.org
Online    http://www.javakaffee.de
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10489<br>
Sender:Petite Abeille &lt;petite.abeille@...&gt;<br>
Post Date/Time:2008-03-13 22:05:55<br>
Subject:Re: [rest-discuss] [OT] HTTP headers status diagram<br>
Message:<br><br>
<pre>Hello Alan,

On Mar 13, 2008, at 1:15 PM, Alan Dean wrote:

&gt; Thanks for the reference :-)

Thanks for putting it together in the first place :)

&gt; This group has seen the diagram before, in 2007.

Well worth pointing to it again then.

&gt; However - I have just released a new version of it - incorporating
&gt; various revisions [1] that have built up over the last year but that I
&gt; hadn't made the time to implement until this week.
&gt;
&gt; Also, the source (Visio) diagram is now available on Google Code [2]
&gt; under the MIT license.
&gt;
&gt; Any feedback, such as any errors in the diagram, would be most  
&gt; appreciated.
&gt;
&gt; [1] http://thoughtpad.net/alan-dean/http-headers-status.html#revised-2008-03-12
&gt; [2] http://code.google.com/p/http-headers-status/

Thank you very much for sharing such a fine resource :)

Cheers,

--
PA.
http://alt.textdrive.com/nanoki/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10490<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-03-13 15:58:31<br>
Subject:RE: [rest-discuss] Re: How to design validation of e.g.	username,	email-address, password<br>
Message:<br><br>
<pre>"But isn't it somehow the other way round? I'd say that a POST to
/validator/username/ creates a new sub-resource of this resource?"

Well, the POST is stated as "accept the entity enclosed in the request as a
new subordinate", but this is not a necessity. One of the examples the http
spec talks about is "providing a block of data, such as the result of
submitting a form, to a data-handling process". Replying to a POST with a
204 No content would imply that the validation of the enclosed entity (here
the username) has succeeded, without carrying the meaning of having created
an entity.
Another advantage of the POST approach is that you could theoretically use a
202 to "lock" that username for a few minutes, ensuring that no one else
would register it while the user continues the registration process.

The HEAD approach has the reverse effect, because a 200 or 204 would imply
the username already exists, a 404 that it doesn't exist. If what you want
to check is the existence of that resource, I'd be happy with a HEAD on
/users/{username}, no need for having a specific validator resource. You can
simply try and get a resource, get a 2xx if it exists, a 404 if it doesn't,
and a 400 if it's not acceptable.

I think i'm less happy with the /validator/username/{username} because you
try and access that resource, but if you return a 200/204 to say the
validation has passed, returning a 404 would imply the validation result
doesn't exist, rather than the username being already taken.

/validator/username?{username} defines this as a query against the
/validator/username resource so i'm happier with that, but this becomes very
similar to doing a post against /validator/username...

Then again I see POST as an instruction to the server to *do something*,
without a very strong definition of what the something actually is.

--
SerialSeb


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10491<br>
Sender:"Andrzej Jan Taramina" &lt;andrzej@...&gt;<br>
Post Date/Time:2008-03-14 14:13:14<br>
Subject:RE: Objects at REST...<br>
Message:<br><br>
<pre>MIchael:

&gt; It's pretty clear to me that the people who chose the words "object" and
&gt; "resource" were both trying to make the concepts as general as they could
&gt; possibly make them, and therefore by intent they are equivalent. If there is a
&gt; difference, then I don't think it's one that the originators of the terms
&gt; intended.

Obviously the case here.

GIven that most of us sling code and thus are quite familiar with the need 
for specificity, both at syntactic and semantic levels, it is rather 
dismaying to see how prevalent "loose language", overloaded/opaque personal 
definitions and vague conceptual idioms are when discussing topics like 
Objects at REST.

It's no wonder that the software world is in such a mess, and that the 
business folks, for the most part, ignore us. 

This has been a good thread, with some interesting insights from many 
quarters.  Time to give it a REST, at least from my end. ;-)

Andrzej Jan Taramina
Chaeron Corporation: Enterprise System Solutions
http://www.chaeron.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10492<br>
Sender:"tom.puzak" &lt;tom.puzak@...&gt;<br>
Post Date/Time:2008-03-17 15:33:43<br>
Subject:Data Grids and REST<br>
Message:<br><br>
<pre>Hello All,
When I look at data grid vendors (like Gemfire or Gigaspaces) one thing 
that is immediately clear is that processes can only communicate via a 
uniform interface.  That is, applications running on the grid can only 
do things like "get", "put", "watch", and "take" in order to interact 
with the grid and the other applications running there.  So, 
considering this framework, do these data grids constitute an 
implementation  of REST?  If I build my applications on top of a data 
grid, will I have a RESTful architecture?

Thanks,
Tom


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10493<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-03-17 16:02:18<br>
Subject:Re: [rest-discuss] Data Grids and REST<br>
Message:<br><br>
<pre>On Mon, Mar 17, 2008 at 11:33 AM, tom.puzak &lt;tom.puzak@...&gt; wrote:
&gt; Hello All,
&gt;  When I look at data grid vendors (like Gemfire or Gigaspaces) one thing
&gt;  that is immediately clear is that processes can only communicate via a
&gt;  uniform interface.  That is, applications running on the grid can only
&gt;  do things like "get", "put", "watch", and "take" in order to interact
&gt;  with the grid and the other applications running there.  So,
&gt;  considering this framework, do these data grids constitute an
&gt;  implementation  of REST?  If I build my applications on top of a data
&gt;  grid, will I have a RESTful architecture?

That does indeed sound like a uniform interface, but REST is more than
just that one constraint... or more precisely, the uniform interface
itself is about more than just the methods.  A sub-constraint of the
uniform interface constraint is the Hypermedia (... as the engine of
application state) constraint which I've never seen used in any
self-described Grid based system.  So no, probably not.

Mark.
-- 
Mark Baker. Ottawa, Ontario, CANADA. http://www.markbaker.ca
Coactus; Web-inspired integration strategies http://www.coactus.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10494<br>
Sender:"kumarkvgk" &lt;kumarkvgk@...&gt;<br>
Post Date/Time:2008-03-17 17:55:14<br>
Subject:Webservice URI for action on multiple objects<br>
Message:<br><br>
<pre>Hello,

I need to define a web service URI for an action which can be performed 
on multiple objects. I have read thru the book Restful web services and 
it contains numerous examples of an action on a single object but I'm 
not sure what convention to use on multiple objects. 

On a single object I use a URI
/printer/printer-name?action=stop

On multiple objects, can I use a URI like
/printer/printer-name1;printer-name2;printer-name3?action=stop

The number of objects can be large so is it safe to have the names of 
the objects in the URI or should I use POST? I'm not sure which one 
works and best fits REST principles.

Help appreciated

Kumar


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10495<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-03-17 18:41:08<br>
Subject:Re: [rest-discuss] Webservice URI for action on multiple objects<br>
Message:<br><br>
<pre>On Mar 17, 2008, at 6:55 PM, kumarkvgk wrote:
&gt; Hello,
&gt;
&gt; I need to define a web service URI for an action which can be  
&gt; performed
&gt; on multiple objects. I have read thru the book Restful web services  
&gt; and
&gt; it contains numerous examples of an action on a single object but I'm
&gt; not sure what convention to use on multiple objects.
&gt;
&gt; On a single object I use a URI
&gt; /printer/printer-name?action=stop
&gt;
&gt;

Not that the URI matters that much, but it seems to me that the action  
has no place there. You should rather use a PUT with a new state  
("stopped") to update /printer/printer-name.

&gt; On multiple objects, can I use a URI like
&gt; /printer/printer-name1;printer-name2;printer-name3?action=stop
&gt;
&gt;

Is it reasonable to expect that you will do operations to the same set  
of printers again? If so, it might make sense to create a "printer  
group" resource via POST and then update the collective state via PUT.

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/
&gt; The number of objects can be large so is it safe to have the names of
&gt; the objects in the URI or should I use POST? I'm not sure which one
&gt; works and best fits REST principles.
&gt;
&gt; Help appreciated
&gt;
&gt; Kumar
&gt;
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10496<br>
Sender:zooko &lt;zooko@...&gt;<br>
Post Date/Time:2008-03-17 19:30:22<br>
Subject:Re: [rest-discuss] Data Grids and REST<br>
Message:<br><br>
<pre>
On Mar 17, 2008, at 10:02 AM, Mark Baker wrote:
&gt;
&gt; That does indeed sound like a uniform interface, but REST is more than
&gt; just that one constraint... or more precisely, the uniform interface
&gt; itself is about more than just the methods. A sub-constraint of the
&gt; uniform interface constraint is the Hypermedia (... as the engine of
&gt; application state) constraint which I've never seen used in any
&gt; self-described Grid based system. So no, probably not.
&gt;

Hello Mark Baker:

I'm one of the authors of a self-described grid filesystem --  
allmydata.org "Tahoe", a.k.a. the Least AUthority Grid FileSystem --  
and we've tried to make our API RESTful, but we're not sure if we got  
it just right:

http://allmydata.org/trac/tahoe/browser/docs/webapi.txt

I'm not sure about the sub-constraint that you mention above.   
Identifiers in the allmydata.org system can be used as hyperlinks in  
documented stored in the grid, so what I think that the constraint  
means is that if you build an app on the allmydata.org grid  
filesystem, and you expose documents to your users which contain  
hyperlinks back into the grid, then you are obeying this sub- 
constraint, but if you build an app that hides such links from the  
user, then you aren't.

Am I close?

Regards,

Zooko

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10497<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-03-17 21:07:48<br>
Subject:Re: [rest-discuss] Data Grids and REST<br>
Message:<br><br>
<pre>On Mon, Mar 17, 2008 at 3:30 PM, zooko &lt;zooko@...&gt; wrote:
&gt;
&gt;  On Mar 17, 2008, at 10:02 AM, Mark Baker wrote:
&gt;  &gt;
&gt;  &gt; That does indeed sound like a uniform interface, but REST is more than
&gt;  &gt; just that one constraint... or more precisely, the uniform interface
&gt;  &gt; itself is about more than just the methods. A sub-constraint of the
&gt;  &gt; uniform interface constraint is the Hypermedia (... as the engine of
&gt;  &gt; application state) constraint which I've never seen used in any
&gt;  &gt; self-described Grid based system. So no, probably not.
&gt;  &gt;
&gt;
&gt;  Hello Mark Baker:
&gt;
&gt;  I'm one of the authors of a self-described grid filesystem --
&gt;  allmydata.org "Tahoe", a.k.a. the Least AUthority Grid FileSystem --
&gt;  and we've tried to make our API RESTful, but we're not sure if we got
&gt;  it just right:
&gt;
&gt;  http://allmydata.org/trac/tahoe/browser/docs/webapi.txt
&gt;
&gt;  I'm not sure about the sub-constraint that you mention above.
&gt;  Identifiers in the allmydata.org system can be used as hyperlinks in
&gt;  documented stored in the grid, so what I think that the constraint
&gt;  means is that if you build an app on the allmydata.org grid
&gt;  filesystem, and you expose documents to your users which contain
&gt;  hyperlinks back into the grid, then you are obeying this sub-
&gt;  constraint, but if you build an app that hides such links from the
&gt;  user, then you aren't.
&gt;
&gt;  Am I close?

Hey Zooko, long time.

That's interesting.  What you describe above certainly sounds like
hypermedia, but because we're talking about an architectural
constraint, we need to confirm that hypermedia is the *only*
application model you're using when we're testing for RESTfulness.

From the link you provided, some of the text there (I'm ignoring the
"XML-RPC coming soon" note!) gives me the impression that some
relationships between resources are established a priori, rather than
discovered as the application state progresses. e.g. it says "For
example, this identifies a file or directory: [...]
http://localhost:8123/uri/$URI".  If that's the case, then that isn't
using the hypermedia constraint.

Mark.
-- 
Mark Baker. Ottawa, Ontario, CANADA. http://www.markbaker.ca
Coactus; Web-inspired integration strategies http://www.coactus.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10498<br>
Sender:Berend de Boer &lt;berend@...&gt;<br>
Post Date/Time:2008-03-17 21:44:35<br>
Subject:Jon Postel revisited<br>
Message:<br><br>
<pre>Hi Guys,

A while ago we had a wee bit of discussion around John Postel's
principle: "Be conservative in what you do, be liberal in what you
accept from others."

Joel Spolsky visited it again:

  Postels robustness principle didnt really work.

Right. But Joel is kind:

  Jon Postel should be honored for his enormous contributions to the
  invention of the Internet, and there is really no reason to fault him
  for the infamous robustness principle. 1981 is prehistoric.

Anyway, it's an amusing read:

  http://www.joelonsoftware.com/items/2008/03/17.html

-- 
All the best,

Berend de Boer
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10499<br>
Sender:"Ebenezer Ikonne" &lt;amaeze@...&gt;<br>
Post Date/Time:2008-03-18 09:37:55<br>
Subject:Request sent with POST<br>
Message:<br><br>
<pre>All -

I'm a little confused as to the requirements (if there are any) of the 
request sent to a resource during a POST.  Does the request have to 
have to be limited to the full representation of the resource being 
POSTed or can it be "anything".

For example, I want to post to an /orders-shipped resource, however in 
addition to sending some information about the order, I need to also 
specify some additional shipping preferences.

My two questions are:
1. Is it ok for my request to be a partial representation of an Order?
2. Is it ok for my request to include shipping preference information 
which is really not part of the Order resource.

Thanks.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10500<br>
Sender:"Subbu Allamaraju" &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-03-19 00:52:16<br>
Subject:Re: [rest-discuss] Request sent with POST<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10501<br>
Sender:"Ebenezer Ikonne" &lt;amaeze@...&gt;<br>
Post Date/Time:2008-03-19 02:20:12<br>
Subject:Re: Request sent with POST<br>
Message:<br><br>
<pre>&gt; With both POST and PUT what is sent in the request is an "entity" and 
&gt;not a representation.


Don't know that I ever saw the "request" referred to as an "entity" so 
this is interesting.  I thought the R in REST spoke to moving 
around "representations", but I guess i was wrong.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10502<br>
Sender:"Ebenezer Ikonne" &lt;amaeze@...&gt;<br>
Post Date/Time:2008-03-19 02:28:31<br>
Subject:Re: Request sent with POST<br>
Message:<br><br>
<pre>
&gt; Don't know that I ever saw the "request" referred to as an "entity" 
&gt; so this is interesting.  I thought the R in REST spoke to moving 
&gt; around "representations", but I guess i was wrong.

I take that back. :) I never paid attention to detail.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10503<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-03-19 10:04:19<br>
Subject:RE: [rest-discuss] Request sent with POST<br>
Message:<br><br>
<pre>With both POST and PUT what is sent in the request is an "entity" and not a
representation.

 

Could you elaborate on that? In both put and post you have a payload
representing an entity in a certain content-type, I always understood this
as meaning that you pass an entity representation in your payload, just like
when a get is issued you get a representation in the responses payload.

 

If thats not hte case, are you saying that get returns a representation but
post and put submit an entity? In which case the symmetry is broken.

 

--

SerialSeb


No virus found in this outgoing message.
Checked by AVG. 
Version: 7.5.519 / Virus Database: 269.21.7/1334 - Release Date: 18/03/2008
20:52
 
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10504<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-03-19 13:48:35<br>
Subject:Re: [rest-discuss] Request sent with POST<br>
Message:<br><br>
<pre>On Mar 19, 2008, at 3:04 AM, Sebastien Lambla wrote:

&gt;
&gt; With both POST and PUT what is sent in the request is an "entity"  
&gt; and not a representation.
&gt;
&gt;
&gt;
&gt; Could you elaborate on that? In both put and post you have a  
&gt; payload representing an entity in a certain content-type, I always  
&gt; understood this as meaning that you pass an entity representation  
&gt; in your payload, just like when a get is issued you get a  
&gt; representation in the responses payload.
&gt;
&gt;
&gt;
&gt; If thats not hte case, are you saying that get returns a  
&gt; representation but post and put submit an entity? In which case the  
&gt; symmetry is broken.
&gt;
&gt;
&gt;
&gt; --
&gt;
&gt; SerialSeb
&gt;
&gt;
&gt; No virus found in this outgoing message.
&gt; Checked by AVG.
&gt; Version: 7.5.519 / Virus Database: 269.21.7/1334 - Release Date:  
&gt; 18/03/2008 20:52
&gt;
&gt;
&gt; 


It's always representations on the wire.  Always.  The resource/ 
entity is like sub-atomic particle: you may reason about through  
observation, but you can never touch it directly.

- Steve

--------------
Steve G. Bjorg
http://wiki.mindtouch.com
http://wiki.opengarden.org</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10505<br>
Sender:Subbu Allamaraju &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-03-19 14:56:29<br>
Subject:Re: [rest-discuss] Request sent with POST<br>
Message:<br><br>
<pre>On Mar 19, 2008, at 3:04 AM, Sebastien Lambla wrote:

&gt; With both POST and PUT what is sent in the request is an "entity"  
&gt; and not a representation.
&gt;
&gt; Could you elaborate on that? In both put and post you have a payload  
&gt; representing an entity in a certain content-type, I always  
&gt; understood this as meaning that you pass an entity representation in  
&gt; your payload, just like when a get is issued you get a  
&gt; representation in the responses payload.

Yes, entities have content types too, but one key difference is that  
representations are usually negotiable (through content-negotiation),  
where as the data that a client is POSTing or PUTting is not. See  
2616#1.3.

&gt;  If thats not hte case, are you saying that get returns a  
&gt; representation but post and put submit an entity? In which case the  
&gt; symmetry is broken.

Where does the symmetry requirement come from?

Subbu</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10506<br>
Sender:"Roger van de Kimmenade" &lt;rvdkimmenade@...&gt;<br>
Post Date/Time:2008-03-19 15:37:06<br>
Subject:Re: [rest-discuss] Request sent with POST<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10507<br>
Sender:Subbu Allamaraju &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-03-19 15:54:43<br>
Subject:Re: [rest-discuss] Request sent with POST<br>
Message:<br><br>
<pre>Exactly.

A web service may, optionally, provide some symmetry, but that does  
not mean that they must be symmetric.

Subbu

On Mar 19, 2008, at 8:37 AM, Roger van de Kimmenade wrote:

&gt; The way i see it:
&gt;
&gt; A resource has a representation which you can GET. A resource can  
&gt; have several representations, XML, HTML, Image etc.
&gt; With a POST and PUT you sent (or can sent) an entity within the  
&gt; body, to a resource.
&gt; The representation of that resource may change.
&gt;
&gt; Example:
&gt;
&gt; POST http://test/photos &lt;image&gt;
&gt; return 201 and Location http://test/photos/photo12
&gt;
&gt; GET http://test/photos/photo12
&gt; return
&gt; &lt;Photo&gt;
&gt;   &lt;Date&gt;2008-03-21T12:00:00&lt;/Date&gt;
&gt;   &lt;Image&gt;http://test/photos/images/image12&lt;/Image&gt;
&gt; &lt;/Photo&gt;
&gt;
&gt; So also in this case the entity is not symmetric with the  
&gt; representations. Those are different things !
&gt;
&gt; Regards
&gt; Roger van de Kimmenade
&gt;
&gt; On Wed, Mar 19, 2008 at 2:48 PM, Steve Bjorg &lt;steveb@...&gt;  
&gt; wrote:
&gt;
&gt; On Mar 19, 2008, at 3:04 AM, Sebastien Lambla wrote:
&gt;
&gt;&gt;
&gt;&gt; With both POST and PUT what is sent in the request is an "entity"  
&gt;&gt; and not a representation.
&gt;&gt;
&gt;&gt;
&gt;&gt; Could you elaborate on that? In both put and post you have a  
&gt;&gt; payloadrepresenting an entity in a certain content-type, I always  
&gt;&gt; understood this as meaning that you pass an entity representation  
&gt;&gt; in your payload, just like when a get is issued you get a  
&gt;&gt; representation in the response's payload.
&gt;&gt;
&gt;&gt;
&gt;&gt; If that's not hte case, are you saying that get returns a  
&gt;&gt; representation but post and put submit an entity? In which case the  
&gt;&gt; symmetry is broken.
&gt;&gt;
&gt;&gt;
&gt;&gt; --
&gt;&gt;
&gt;&gt; SerialSeb
&gt;&gt;
&gt;&gt;
&gt;&gt; No virus found in this outgoing message.
&gt;&gt; Checked by AVG.
&gt;&gt; Version: 7.5.519 / Virus Database: 269.21.7/1334 - Release Date:  
&gt;&gt; 18/03/2008 20:52
&gt;&gt;
&gt;&gt;
&gt;
&gt;
&gt; It's always representations on the wire.  Always.  The resource/ 
&gt; entity is like sub-atomic particle: you may reason about through  
&gt; observation, but you can never touch it directly.
&gt;
&gt; - Steve
&gt;
&gt; --------------
&gt; Steve G. Bjorg
&gt; http://wiki.mindtouch.com
&gt; http://wiki.opengarden.org
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10508<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-03-19 16:11:25<br>
Subject:Re: [rest-discuss] Request sent with POST<br>
Message:<br><br>
<pre>Yep. as a REST noob, I had to work through the asymmetry of entities
and representations a while back.

&lt;rant&gt;
As someone who grew up programming the web with Microsoft tools, my
understanding of entities, resources, and representations was fairly
stunted. MS tools (client and server) are so poor at supporting
content-type and accept properly that a whole 'community' has grown up
to learn to either ignore these issues or engage in a fatal dance of
content-sniffing and hackery in order to get things done.
&lt;/rant&gt;

Once I started learning the details of HTTP programming w/ REST,
things have gotten much better (for me, at least&lt;g&gt;).

MikeA


On Wed, Mar 19, 2008 at 11:54 AM, Subbu Allamaraju
&lt;subbu.allamaraju@...&gt; wrote:
&gt;
&gt;  Exactly.
&gt;
&gt; A web service may, optionally, provide some symmetry, but that does not mean
&gt; that they must be symmetric.
&gt;
&gt; Subbu
&gt;
&gt;
&gt;
&gt; On Mar 19, 2008, at 8:37 AM, Roger van de Kimmenade wrote:
&gt;
&gt; The way i see it:
&gt;
&gt; A resource has a representation which you can GET. A resource can have
&gt; several representations, XML, HTML, Image etc.
&gt; With a POST and PUT you sent (or can sent) an entity within the body, to a
&gt; resource.
&gt; The representation of that resource may change.
&gt;
&gt; Example:
&gt;
&gt; POST http://test/photos &lt;image&gt;
&gt; return 201 and Location http://test/photos/photo12
&gt;
&gt; GET http://test/photos/photo12
&gt; return
&gt; &lt;Photo&gt;
&gt;   &lt;Date&gt;2008-03-21T12:00:00&lt;/Date&gt;
&gt;   &lt;Image&gt;http://test/photos/images/image12&lt;/Image&gt;
&gt; &lt;/Photo&gt;
&gt;
&gt; So also in this case the entity is not symmetric with the representations.
&gt; Those are different things !
&gt;
&gt; Regards
&gt; Roger van de Kimmenade
&gt;
&gt;
&gt; On Wed, Mar 19, 2008 at 2:48 PM, Steve Bjorg &lt;steveb@...&gt; wrote:
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; On Mar 19, 2008, at 3:04 AM, Sebastien Lambla wrote:
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; With both POST and PUT what is sent in the request is an "entity" and not
&gt; a representation.
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; Could you elaborate on that? In both put and post you have a
&gt; payloadrepresenting an entity in a certain content-type, I always understood
&gt; this as meaning that you pass an entity representation in your payload, just
&gt; like when a get is issued you get a representation in the response's
&gt; payload.
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; If that's not hte case, are you saying that get returns a representation
&gt; but post and put submit an entity? In which case the symmetry is broken.
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; --
&gt; &gt;
&gt; &gt; SerialSeb
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; No virus found in this outgoing message.
&gt; &gt; Checked by AVG.
&gt; &gt; Version: 7.5.519 / Virus Database: 269.21.7/1334 - Release Date:
&gt; 18/03/2008 20:52
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; It's always representations on the wire.  Always.  The resource/entity is
&gt; like sub-atomic particle: you may reason about through observation, but you
&gt; can never touch it directly.
&gt; &gt;
&gt; &gt;
&gt; &gt; - Steve
&gt; &gt;
&gt; &gt;
&gt; &gt; --------------
&gt; &gt; Steve G. Bjorg
&gt; &gt; http://wiki.mindtouch.com
&gt; &gt; http://wiki.opengarden.org
&gt;
&gt;
&gt;  



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10509<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-03-19 16:18:22<br>
Subject:RE: [rest-discuss] Request sent with POST<br>
Message:<br><br>
<pre>
A resource has a representation which you can GET. A resource can have
several representations, XML, HTML, Image etc.
With a POST and PUT you sent (or can sent) an entity within the body, to a
resource.

A PUT doesnt send an entity to a resource. It sends an entity to a url that
may be a resource. If it is a resource, as per the spec, the enclosed
entity should be considered as a modified version of the one residing on the
origin server.

What Im advancing is that the entity you sent is a view of a resource  in a
couple entity headers / entity body, formatted in a certain way and
constrained by language/encoding/etc. And thats also what a representation
is. I fail to see how the distinction is meaningful to anything but the
terminology section of the specification?


The representation of that resource may change.

Example:
[...]
So also in this case the entity is not symmetric with the representations.
Those are different things !

Youre demonstrating that the type you POST and the type you GET are not
symmetric.

For POST, I dont see POSTing to any resource as having any form of symmetry
between the resource posted to and the entity i send. I certainly expect to
have a symmetry of resource (not its representations) between the entity i
sent and the Location: i get returned.

That the content-type is different between a PUT (a binary blob) and a get
(an xml document) is only one of the constraints of the representation for a
resource.

If I PUT with a Content-Language: en, I expect to be able to GET on the same
URL with that Content-Language and obtain the same resource I sent, be it
that its formatted using the same content type or not.

I think I fail to see the distinction between entity and resource, while i
certainly see the difference between a representation of a resource and a
resource...

 

Seb


No virus found in this outgoing message.
Checked by AVG. 
Version: 7.5.519 / Virus Database: 269.21.7/1334 - Release Date: 18/03/2008
20:52
 
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10510<br>
Sender:Subbu Allamaraju &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-03-19 16:28:18<br>
Subject:Re: [rest-discuss] Request sent with POST<br>
Message:<br><br>
<pre>You probably meant to reply to the group.

2616 leaves enough room to debate here. My key point is that the  
symmetry is not a requirement, but it may be nice to have it in  
certain classes of applications.

Subbu


&gt;
&gt;
&gt; Yes, entities have content types too, but one key difference is that  
&gt; representations are usually negotiable (through content- 
&gt; negotiation), where as the data that a client is POSTing or PUTting  
&gt; is not. See 2616#1.3.
&gt;
&gt; 2621-7, Request and Response messages may transfer an entity [...]
&gt;
&gt; So in both instances, whatever you pass around or return is an entity.
&gt;
&gt; As for 2616-10.4.6, The resource identified by the request is only  
&gt; capable of generating response entities which have content  
&gt; characteristics not acceptable according to the accept headers sent  
&gt; in the request.
&gt;
&gt; I understand this one as meaning the response entity has content  
&gt; characteristics. As you quite rightly say, so does the request  
&gt; entity (the content).
&gt;
&gt; If I understand you correctly, you are saying that the specification  
&gt; applies the term resource to an entity that has been serialized in a  
&gt; type / language / encoding that has been negotiated, whereas an  
&gt; entity that is a serialization with a type / language / encoding  
&gt; that has not been negotiated is not a representation of a resource  
&gt; but an entity?
&gt;
&gt; Youre accurate in your reading of the terminology section, and of  
&gt; course about the lack of content negotiation in a quest. Ill  
&gt; personally consider that the request entity you send in a request  
&gt; body in a certain content type / language / encoding is as much a  
&gt; representation of a resource as is the requested entity returned in  
&gt; a response with a content-type, negotiated with an accept or not.
&gt;
&gt; The only missing bit is to add an Accept: header to a 415:  
&gt; Unsupported media type and you have client negociation on a resource.
&gt;
&gt; The way I see things is that a resource can be represented in a  
&gt; multitude of ways based on type, language, etc. Waht gets sent back  
&gt; is a representation of a resource, with metadata describing the  
&gt; representation, and content formatted in a certain way. When you  
&gt; send a post or put, you provide content formatted in a certain way,  
&gt; with a language, a type, etc. This stuff is by definition a subset  
&gt; of what the resource is, but you decide how you describe your  
&gt; resource without asking the server what it expects.
&gt;
&gt;
&gt; Where does the symmetry requirement come from?
&gt;
&gt; Uniformity of access to a resource is a good thing. If I can PUT and  
&gt; POST in json or in xml, I really expect to be able to GET in the  
&gt; same content type. The other way is not necessarily true of course.
&gt;
&gt; --
&gt; SerialSeb
&gt;
&gt; No virus found in this outgoing message.
&gt; Checked by AVG.
&gt; Version: 7.5.519 / Virus Database: 269.21.7/1334 - Release Date:  
&gt; 18/03/2008 20:52
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10511<br>
Sender:Subbu Allamaraju &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-03-19 16:45:58<br>
Subject:Re: [rest-discuss] Request sent with POST<br>
Message:<br><br>
<pre>
On Mar 19, 2008, at 9:18 AM, Sebastien Lambla wrote:

&gt;
&gt; A resource has a representation which you can GET. A resource can  
&gt; have several representations, XML, HTML, Image etc.
&gt; With a POST and PUT you sent (or can sent) an entity within the  
&gt; body, to a resource.
&gt; A PUT doesnt send an entity to a resource. It sends an entity to a  
&gt; url that may be a resource. If it is a resource, as per the spec,  
&gt; the enclosed entity should be considered as a modified version of  
&gt; the one residing on the origin server.

Thanks for catching me.  You are right. The target is a URI and not a  
resource.

&gt; I think I fail to see the distinction between entity and resource,  
&gt; while i certainly see the difference between a representation of a  
&gt; resource and a resource...

I guess I went too far with the distinction.

Subbu

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10512<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-03-19 17:15:13<br>
Subject:RE: [rest-discuss] Request sent with POST<br>
Message:<br><br>
<pre>Just to add to the conversation, a small link. It might be quite outdated
but Im sure someone could point to more up-to-date views on the whole
thing.

 

HYPERLINK
"http://www.w3.org/TR/2004/REC-webarch-20041215/#def-representation"http://w
ww.w3.org/TR/2004/REC-webarch-20041215/#def-representation

 

heres a few quotes that I think are relevant to the subject:

 

Agents may use a URI to access the referenced resource; this is called
dereferencing the URI. Access may take many forms, including retrieving a
representation of the resource (for instance, by using HTTP GET or HEAD),
adding or modifying a representation of the resource (for instance, by using
HTTP POST or PUT, which in some cases may change the actual state of the
resource if the submitted representations are interpreted as instructions to
that end), 

 

and 

 

Representations of a resource may be sent or received using interaction
protocols. These protocols in turn determine the form in which
representations are conveyed on the Web. HTTP, for example, provides for
transmission of representations as octet streams typed using Internet media
types [HYPERLINK
"http://www.w3.org/TR/2004/REC-webarch-20041215/#RFC2046"RFC2046].

 

and 

 

HYPERLINK
"http://www.w3.org/TR/2004/REC-webarch-20041215/#def-representation"Represen
tation 

Data that encodes information about resource state. 

 

--

SerialSeb

http://serialseb.blogspot.com

 

From: rest-discuss@yahoogroups.com [mailto:rest-discuss@...m] On
Behalf Of Subbu Allamaraju
Sent: 19 March 2008 16:46
To: Sebastien Lambla
Cc: 'Roger van de Kimmenade'; 'Steve Bjorg'; rest-discuss@yahoogroups.com
Subject: Re: [rest-discuss] Request sent with POST

 

 

On Mar 19, 2008, at 9:18 AM, Sebastien Lambla wrote:






A resource has a representation which you can GET. A resource can have
several representations, XML, HTML, Image etc.
With a POST and PUT you sent (or can sent) an entity within the body, to a
resource.

A PUT doesnt send an entity to a resource. It sends an entity to a url that
may be a resource. If it is a resource, as per the spec, the enclosed
entity should be considered as a modified version of the one residing on the
origin server.

 

Thanks for catching me.  You are right. The target is a URI and not a
resource.

 

I think I fail to see the distinction between entity and resource, while i
certainly see the difference between a representation of a resource and a
resource...

 

I guess I went too far with the distinction.

 

Subbu

 

 

 

No virus found in this incoming message.
Checked by AVG.
Version: 7.5.519 / Virus Database: 269.21.7/1334 - Release Date: 18/03/2008
20:52


No virus found in this outgoing message.
Checked by AVG. 
Version: 7.5.519 / Virus Database: 269.21.7/1334 - Release Date: 18/03/2008
20:52
 
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10513<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2008-03-20 07:56:03<br>
Subject:Re: [rest-discuss] Request sent with POST<br>
Message:<br><br>
<pre>On Mar 18, 2008, at 5:52 PM, Subbu Allamaraju wrote:

&gt; With both POST and PUT what is sent in the request is an "entity"  
&gt; and not a representation.

That is incorrect.  The "entity" in HTTP messages is just a
representation as payload.  A POST entity is usually a representation
of an input form, though it may be other things (an appendage, a new
atom entry, etc.).  A PUT entity is a representation of the intended
result state for the requested resource.  Likewise, the entity within
a response is always a representation of something -- that something
can be determined by the looking at the status code.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10514<br>
Sender:Subbu Allamaraju &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-03-20 15:09:09<br>
Subject:Re: [rest-discuss] Request sent with POST<br>
Message:<br><br>
<pre>Thanks for correcting. I went too far with my statement.

Subbu

On Mar 20, 2008, at 12:56 AM, Roy T. Fielding wrote:

&gt; On Mar 18, 2008, at 5:52 PM, Subbu Allamaraju wrote:
&gt;
&gt;&gt; With both POST and PUT what is sent in the request is an "entity"  
&gt;&gt; and not a representation.
&gt;
&gt; That is incorrect.  The "entity" in HTTP messages is just a
&gt; representation as payload.  A POST entity is usually a representation
&gt; of an input form, though it may be other things (an appendage, a new
&gt; atom entry, etc.).  A PUT entity is a representation of the intended
&gt; result state for the requested resource.  Likewise, the entity within
&gt; a response is always a representation of something -- that something
&gt; can be determined by the looking at the status code.
&gt;
&gt; ....Roy
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10515<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-03-22 22:06:28<br>
Subject:"Addressing REST Doubts"<br>
Message:<br><br>
<pre>I've put up a new article on InfoQ:

http://www.infoq.com/articles/tilkov-rest-doubts

Feedback (here or there) would be much appreciated.

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10516<br>
Sender:"Lawrence Oluyede" &lt;l.oluyede@...&gt;<br>
Post Date/Time:2008-03-23 00:53:58<br>
Subject:Re: [rest-discuss] "Addressing REST Doubts"<br>
Message:<br><br>
<pre>On Sat, Mar 22, 2008 at 11:06 PM, Stefan Tilkov &lt;stefan.tilkov@...&gt; wrote:
&gt; I've put up a new article on InfoQ:
&gt;
&gt;  http://www.infoq.com/articles/tilkov-rest-doubts
&gt;
&gt;  Feedback (here or there) would be much appreciated.

I really enjoyed and passed along to coworkers who are learning the
ins and outs of the REST model.

Looking forward to the next one addressing the arguments left out.

Bye



-- 
Lawrence, stacktrace.it - oluyede.org - neropercaso.it
"It is difficult to get a man to understand
something when his salary depends on not
understanding it" - Upton Sinclair

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10517<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-03-26 03:37:44<br>
Subject:Re: "Addressing REST Doubts"<br>
Message:<br><br>
<pre>"After all, GET, PUT, POST and DELETE are all the operations you have... 
Using the approach of having multiple representations, you might 
actually have self-documenting resources  just do an HTTP GET on a 
resource from your browser and get an HTML document containing data 
as well as a list of the operations (HTTP verbs) you can perform on 
it and the content types it accepts and delivers."

No respect for OPTIONS, eh?  ;-)  I have no problem with putting 
alternate representations in hypertext, this is easily done in both 
HTML and Atom (for example).  But in terms of self-descriptive 
messages, particularly when the available operations vary by user 
role, wouldn't it be more RESTful to handle this at the protocol 
level?

In both examples below, a 300 response to an OPTIONS request is 
assumed to have no entity body.  So, the 300 response would have no 
Content-Type or ETag headers, and MUST send a Content-Length: 0 header:

(GET | HEAD | OPTIONS) http://example.org/feed.atom
(Status-Line) HTTP/1.1 200 OK (or 300 Multiple Choices for OPTIONS response)
Allow:	GET, HEAD, POST, DELETE
Accept:	application/atom+xml;type=entry; q=1.0, application/atom+xml; q=0.5
ETag:	foo
Vary:	Authentication
Content-Type:	application/atom+xml;type=feed

(GET | HEAD | OPTIONS) http://example.org/entry:1.atom
(Status-Line) HTTP/1.1 200 OK (or 300 Multiple Choices for OPTIONS response)
Allow:	GET, HEAD, PUT, DELETE
Accept:	application/atom+xml;type=entry; q=1.0, application/atom+xml; q=0.5
ETag:	bar
Vary:	Authentication
Content-Type:	application/atom+xml;type=entry

A client could infer that POST or PUT requests with Content-Type 
application/atom+xml;type=feed would most likely return 406 on this 
server, along with any other MIME type not specified in Accept.  (One 
could also expose alternate representations by presenting a list of 
links in an HTML message body returned with the 300 response, which 
seems to me like a neat place to tuck the "self-documentation" for a 
REST application.)

This seems to me, to be in the spirit of RESTful self-descriptive 
messaging over HTTP.  Sadly, RFC 2616 insists that the Accept header 
is only a request header.  Happily, I hear RFC 2616bis is back with 
an emphasis on extensibility... except... Accept still insists on 
being a request header only.  :-(  Although I could call it the Foo: 
header, apparently?  More importantly, what am I missing that requires 
this to be implemented as hypertext, a la the APP service document?

-Eric

[1] http://labs.apache.org/webarch/http/draft-fielding-http/p3-payload.html#header.accept

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10518<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-03-26 07:42:43<br>
Subject:Re: [rest-discuss] Re: "Addressing REST Doubts"<br>
Message:<br><br>
<pre>I agree that doing this on the protocol level would be preferable, but  
as far as I know (and as you point out) the missing Accept response  
header means there is no (standardized) way to inform the client of  
acceptable content types. Even an Expect: 100 (Continue) requires the  
client to take a guess.

You seem to agree, that's why I suggested using hypermedia. Or did I  
misunderstand you?

Slightly confused,
Stefan


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10519<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-03-26 08:28:08<br>
Subject:Re: "Addressing REST Doubts"<br>
Message:<br><br>
<pre>&gt; 
&gt; You seem to agree, that's why I suggested using hypermedia. Or did I  
&gt; misunderstand you?
&gt; 

Actually, half-and-half:  there's no reason not to use the Allow
header, as far as I know, and Vary: Authentication to indicate that a
different user may be allowed to use different methods.  For your
"self-documenting" idea, couldn't scripting could be used to read the
Allow and Vary headers?

For what I suggested could go in an Accept response header, current
practice is to use hypermedia, you have Atom Protocol on your side as 
well.  So we do agree there, I'm just wondering why Accept can't be a
response header in 2616bis, nothing to do with your article.  :-)

Still, why no luv for OPTIONS?  I ask because I'm currently considering
some novel uses for OPTIONS, like say, to return an XForms interface
[1], which in the example allows me to POST a new entry to my weblog if
you use your imagination.  Works best with X-smiles, imagine an
'options' button on the address bar.

I'd better confess that I've only spent one day working with XForms,
and most of my time was spent discovering that you can't solve the
&lt;category/&gt; generation problem with &lt;select&gt;, only &lt;select1&gt;, I'm
looking forward to disabling duplicate &lt;category/&gt; selection when I get
a chance.  Also, making the PUT interface for editing, and a bunch of
other stuff.  I don't know why I avoided trying XForms for so long...

-Eric

[1] http://canuck.bisonsystems.net/xforms/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10520<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-03-26 10:09:24<br>
Subject:Re: [rest-discuss] Re: "Addressing REST Doubts"<br>
Message:<br><br>
<pre>On Mar 26, 2008, at 9:28 AM, Eric J. Bowman wrote:

&gt; &gt;
&gt; &gt; You seem to agree, that's why I suggested using hypermedia. Or did I
&gt; &gt; misunderstand you?
&gt; &gt;
&gt;
&gt; Actually, half-and-half: there's no reason not to use the Allow
&gt; header, as far as I know, and Vary: Authentication to indicate that a
&gt; different user may be allowed to use different methods. For your
&gt; "self-documenting" idea, couldn't scripting could be used to read the
&gt; Allow and Vary headers?
&gt;
&gt;

Yes, of course - although this would only make it available to  
scripts, not to the casual browser user. So one would probably end up  
doing both.

&gt; For what I suggested could go in an Accept response header, current
&gt; practice is to use hypermedia, you have Atom Protocol on your side as
&gt; well. So we do agree there, I'm just wondering why Accept can't be a
&gt; response header in 2616bis, nothing to do with your article. :-)
&gt;
&gt;

Good question :-)


&gt; Still, why no luv for OPTIONS? I ask because I'm currently considering
&gt; some novel uses for OPTIONS, like say, to return an XForms interface
&gt; [1], which in the example allows me to POST a new entry to my weblog  
&gt; if
&gt; you use your imagination. Works best with X-smiles, imagine an
&gt; 'options' button on the address bar.
&gt;
&gt;

There's no particular reason I didn't include, except for a lack of  
first-hand experience in using it.

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10521<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-03-26 11:02:34<br>
Subject:Re: [rest-discuss] Re: "Addressing REST Doubts"<br>
Message:<br><br>
<pre>Eric J. Bowman wrote:
&gt; 
&gt; 
&gt;  &gt;
&gt;  &gt; You seem to agree, that's why I suggested using hypermedia. Or did I
&gt;  &gt; misunderstand you?
&gt;  &gt;
&gt; 
&gt; Actually, half-and-half: there's no reason not to use the Allow
&gt; header, as far as I know, and Vary: Authentication to indicate that a
&gt; different user may be allowed to use different methods. For your
&gt; "self-documenting" idea, couldn't scripting could be used to read the
&gt; Allow and Vary headers?

I think that's based on a misunderstanding. The "Allow" header, and the 
405 response code, are *not* about what the current user is allowed to 
do or not (that's why we also have 403 Forbidden), but what method names 
are allowed on a resource in general.

Yes, very misleading name.

&gt; For what I suggested could go in an Accept response header, current
&gt; practice is to use hypermedia, you have Atom Protocol on your side as
&gt; well. So we do agree there, I'm just wondering why Accept can't be a
&gt; response header in 2616bis, nothing to do with your article. :-)

The set of allowed media types may vary by method name; it's not clear 
how to deal with that...

&gt; ...

BR, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10522<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-03-26 11:14:32<br>
Subject:RE: [rest-discuss] Re: "Addressing REST Doubts"<br>
Message:<br><br>
<pre>I'm confused as to why OPTIONS would return a 300? Is there documented use
of this?

As for server capabilities, thats one of the things WADL could solve, as it
can document for each resource the content-types being accepted. Another way
would be to use rfc2295 but sadly its stayed at the experimental level.

That said, a GET request on a resource with multiple representation could
carry a specific format for the payload of the 300 to contain content that
can be supported by a user-agent. SO if you request application/html+xml,
you're probably not an automated agent, but that doesnt prevent you from
reading the alternate represetnations in head. Same goes with atom.

But in general I agree that protocol support for descriptions of available
representations would be beneficial 

--
SerialSeb
http://serialseb.blogspot.com


-----Original Message-----
From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On
Behalf Of Eric J. Bowman
Sent: 26 March 2008 08:28
To: Stefan Tilkov
Cc: rest-discuss@yahoogroups.com
Subject: [rest-discuss] Re: "Addressing REST Doubts"

&gt; 
&gt; You seem to agree, that's why I suggested using hypermedia. Or did I  
&gt; misunderstand you?
&gt; 

Actually, half-and-half:  there's no reason not to use the Allow
header, as far as I know, and Vary: Authentication to indicate that a
different user may be allowed to use different methods.  For your
"self-documenting" idea, couldn't scripting could be used to read the
Allow and Vary headers?

For what I suggested could go in an Accept response header, current
practice is to use hypermedia, you have Atom Protocol on your side as 
well.  So we do agree there, I'm just wondering why Accept can't be a
response header in 2616bis, nothing to do with your article.  :-)

Still, why no luv for OPTIONS?  I ask because I'm currently considering
some novel uses for OPTIONS, like say, to return an XForms interface
[1], which in the example allows me to POST a new entry to my weblog if
you use your imagination.  Works best with X-smiles, imagine an
'options' button on the address bar.

I'd better confess that I've only spent one day working with XForms,
and most of my time was spent discovering that you can't solve the
&lt;category/&gt; generation problem with &lt;select&gt;, only &lt;select1&gt;, I'm
looking forward to disabling duplicate &lt;category/&gt; selection when I get
a chance.  Also, making the PUT interface for editing, and a bunch of
other stuff.  I don't know why I avoided trying XForms for so long...

-Eric

[1] http://canuck.bisonsystems.net/xforms/

------------------------------------

Yahoo! Groups Links




No virus found in this incoming message.
Checked by AVG. 
Version: 7.5.519 / Virus Database: 269.22.0/1341 - Release Date: 24/03/2008
15:03
 

No virus found in this outgoing message.
Checked by AVG. 
Version: 7.5.519 / Virus Database: 269.22.0/1341 - Release Date: 24/03/2008
15:03
 
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10523<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-03-26 13:20:21<br>
Subject:Re: "Addressing REST Doubts"<br>
Message:<br><br>
<pre>On Wed, 26 Mar 2008 11:09:24 +0100
Stefan Tilkov wrote:

&gt;
&gt; &gt;
&gt; &gt; Actually, half-and-half: there's no reason not to use the Allow
&gt; &gt; header, as far as I know, and Vary: Authentication to indicate that
&gt; &gt; a different user may be allowed to use different methods. For your
&gt; &gt; "self-documenting" idea, couldn't scripting could be used to read
&gt; &gt; the Allow and Vary headers?
&gt; &gt;
&gt; &gt;
&gt; 
&gt; Yes, of course - although this would only make it available to  
&gt; scripts, not to the casual browser user. So one would probably end
&gt; up doing both.
&gt; 

Sorry, what I meant to suggest was that the casual browser user would
see HTML generated by Javascript, reflecting the response headers, in
a &lt;table&gt;.  That way there's no chance for a discrepancy between the
documentation and the server's actual configuration.  The headers are
treated as authoritative, instead of the content, that way.

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10524<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-03-26 13:42:46<br>
Subject:Re: "Addressing REST Doubts"<br>
Message:<br><br>
<pre>"Sebastien Lambla" wrote:
&gt;
&gt; I'm confused as to why OPTIONS would return a 300? Is there
&gt; documented use of this?
&gt; 

Does there have to be?  Both OPTIONS and 300 Multiple Choices are
underspecified, which I just love because it gives more room to
maneuver.

&gt;
&gt; As for server capabilities, thats one of the things WADL could solve,
&gt; as it can document for each resource the content-types being
&gt; accepted. Another way would be to use rfc2295 but sadly its stayed at
&gt; the experimental level.
&gt;

I'm far from sold on the notion of service documents.  Interesting that
you should bring up RFC 2295, I was looking at this earlier:

[1] http://gewis.win.tue.nl/~koen/conneg/draft-ietf-http-alternates-00.html

Let's just say I'm not as sad as you are over not having the alternates 
header... ;-)

&gt; 
&gt; That said, a GET request on a resource with multiple representation
&gt; could carry a specific format for the payload of the 300 to contain
&gt; content that can be supported by a user-agent. SO if you request
&gt; application/html+xml, you're probably not an automated agent, but
&gt; that doesnt prevent you from reading the alternate represetnations in
&gt; head. Same goes with atom.
&gt; 

Actually, the OPTIONS method allows content negotiation, out-of-band 
in relation to GET for the same URI.  My example document uses XHTML 
1.1, now that I've looked a little at FormFaces and DENG it seems 
that XHTML 1.0 is the way to go.  The response to OPTIONS requests 
would negotiate based on XForms support being detected, which would 
yield 'application/xhtml+xml', or not detected, which would yield 
'text/html' with the same document.  On GET and HEAD, the algorithm 
I'm using is completely different and toggles between XHTML 1.1 and 
HTML 4.01 in addition to Content-Type.

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10525<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-03-26 14:03:51<br>
Subject:Re: [rest-discuss] Re: "Addressing REST Doubts"<br>
Message:<br><br>
<pre>&gt; 
&gt; I'm far from sold on the notion of service documents.  Interesting
&gt; that you should bring up RFC 2295, I was looking at this earlier:
&gt; 
&gt; [1]
&gt; http://gewis.win.tue.nl/~koen/conneg/draft-ietf-http-alternates-00.html
&gt; 
&gt; Let's just say I'm not as sad as you are over not having the
&gt; alternates header... ;-)
&gt; 

That was too harsh of me, what I forgot to say was, if it's within the
realm of possibility for RFC 2616bis to include the q-value explanation
from RFC 2295, I'd like to see that.

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10526<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-03-26 14:53:30<br>
Subject:Re: "Addressing REST Doubts"<br>
Message:<br><br>
<pre>Julian Reschke wrote:
&gt;
&gt; Eric J. Bowman wrote:
&gt; &gt; 
&gt; &gt;  &gt;
&gt; &gt;  &gt; You seem to agree, that's why I suggested using hypermedia. Or
&gt; &gt;  &gt; did I misunderstand you?
&gt; &gt;  &gt;
&gt; &gt; 
&gt; &gt; Actually, half-and-half: there's no reason not to use the Allow
&gt; &gt; header, as far as I know, and Vary: Authentication to indicate that
&gt; &gt; a different user may be allowed to use different methods. For your
&gt; &gt; "self-documenting" idea, couldn't scripting could be used to read
&gt; &gt; the Allow and Vary headers?
&gt; 
&gt; I think that's based on a misunderstanding. The "Allow" header, and
&gt; the 405 response code, are *not* about what the current user is
&gt; allowed to do or not (that's why we also have 403 Forbidden), but
&gt; what method names are allowed on a resource in general.
&gt; 
&gt; Yes, very misleading name.
&gt; 

OK, I see...  Thanks for clarifying.  Wondering aloud about 2616bis
again, could HTTP be extended one of two ways.  First, if output varies
by Authentication, no assumption can be made about the Allow header.
Second, if a 403 response has an Allow header, clients may infer
"Method Disallowed for User".  The argument is, that would be a useful
self-descriptive message semantic if it could be pulled off in HTTP
without overloading the 405 response.

-Eric


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10527<br>
Sender:Subbu Allamaraju &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-03-26 15:27:13<br>
Subject:Re: [rest-discuss] Re: "Addressing REST Doubts"<br>
Message:<br><br>
<pre>It is not clear if adding a more descriptive Accept response header  
would solve anything. Let's say, if a server sends

Allow: GET, HEAD, POST, PUT, DELETE
Accept: application/xml,application/json

can a client write code without any additional knowledge?

Subbu

On Mar 26, 2008, at 7:53 AM, Eric J. Bowman wrote:
&gt; Second, if a 403 response has an Allow header, clients may infer
&gt; "Method Disallowed for User".  The argument is, that would be a useful
&gt; self-descriptive message semantic if it could be pulled off in HTTP
&gt; without overloading the 405 response.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10528<br>
Sender:John Panzer &lt;jpanzer@...&gt;<br>
Post Date/Time:2008-03-26 15:36:38<br>
Subject:Re: [rest-discuss] Re: "Addressing REST Doubts"<br>
Message:<br><br>
<pre>No; the same of course could be said for any existing service/resource 
description language.  The question should be, is it useful?  (Yes.)

Though there have been arguments advanced in the past on why Allow: 
should not vary per-user, I'm not sure I buy them.

Subbu Allamaraju wrote:
&gt; It is not clear if adding a more descriptive Accept response header  
&gt; would solve anything. Let's say, if a server sends
&gt;
&gt; Allow: GET, HEAD, POST, PUT, DELETE
&gt; Accept: application/xml,application/json
&gt;
&gt; can a client write code without any additional knowledge?
&gt;
&gt; Subbu
&gt;
&gt; On Mar 26, 2008, at 7:53 AM, Eric J. Bowman wrote:
&gt;   
&gt;&gt; Second, if a 403 response has an Allow header, clients may infer
&gt;&gt; "Method Disallowed for User".  The argument is, that would be a useful
&gt;&gt; self-descriptive message semantic if it could be pulled off in HTTP
&gt;&gt; without overloading the 405 response.
&gt;&gt;     
&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;   

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10529<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-03-26 15:40:28<br>
Subject:Fwd: [rest-discuss] Re: "Addressing REST Doubts"<br>
Message:<br><br>
<pre>It would be useful to have an list of valid media-types associated
with each method for each URI
 This could be part of the body of the OPTIONS response.

 OPTIONS /my-resource/
 GET:application/xml,application/json;text/html
 POST:application/xml,application/json;application/x-www-form-urlencoded
 PUT:application/xml,application/json;text/html
 DELETE:application/xml,application/json;text/html

 or it could be included as an extension to the Allow header
 OPTIONS /my-resource/
 Allow: GET:application/xml,application/json;text/html;POST:application/xml,application/json;application/x-www-form-urlencoded;...

 And it could be included as a response header for each request
 for GET:
 Acceptable:application/xml,application/json;text/html

 for POST
 Acceptable:application/xml,application/json;application/x-www-form-urlencoded

 MikeA




 On Wed, Mar 26, 2008 at 11:27 AM, Subbu Allamaraju
 &lt;subbu.allamaraju@...&gt; wrote:
 &gt; It is not clear if adding a more descriptive Accept response header
 &gt;  would solve anything. Let's say, if a server sends
 &gt;
 &gt;  Allow: GET, HEAD, POST, PUT, DELETE
 &gt;  Accept: application/xml,application/json
 &gt;
 &gt;  can a client write code without any additional knowledge?
 &gt;
 &gt;  Subbu
 &gt;
 &gt;
 &gt;  On Mar 26, 2008, at 7:53 AM, Eric J. Bowman wrote:
 &gt;  &gt; Second, if a 403 response has an Allow header, clients may infer
 &gt;  &gt; "Method Disallowed for User".  The argument is, that would be a useful
 &gt;  &gt; self-descriptive message semantic if it could be pulled off in HTTP
 &gt;  &gt; without overloading the 405 response.
 &gt;
 &gt;
 &gt;
 &gt;
 &gt; ------------------------------------
 &gt;
 &gt;  Yahoo! Groups Links
 &gt;
 &gt;
 &gt;
 &gt;



 --
 mca
 http://amundsen.com/blog/



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10530<br>
Sender:Subbu Allamaraju &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-03-26 15:48:18<br>
Subject:Re: [rest-discuss] Re: "Addressing REST Doubts"<br>
Message:<br><br>
<pre>
&gt; No; the same of course could be said for any existing service/ 
&gt; resource description language.  The question should be, is it  
&gt; useful?  (Yes.)

To some extent, yes.

&gt; Though there have been arguments advanced in the past on why Allow:  
&gt; should not vary per-user, I'm not sure I buy them.

It could vary per user, but do client application developers want to  
rely on those to write their applications? I am unsure.  It can get  
prohibitively expensive to check OPTIONS on every URI or every user. I  
see more value in varying it per resource/URI, and generally keep it  
static so that decisions can be made at design time and not runtime.

Subbu

&gt;
&gt;
&gt; Subbu Allamaraju wrote:
&gt;&gt;
&gt;&gt; It is not clear if adding a more descriptive Accept response header
&gt;&gt; would solve anything. Let's say, if a server sends
&gt;&gt;
&gt;&gt; Allow: GET, HEAD, POST, PUT, DELETE
&gt;&gt; Accept: application/xml,application/json
&gt;&gt;
&gt;&gt; can a client write code without any additional knowledge?
&gt;&gt;
&gt;&gt; Subbu
&gt;&gt;
&gt;&gt; On Mar 26, 2008, at 7:53 AM, Eric J. Bowman wrote:
&gt;&gt;
&gt;&gt;&gt; Second, if a 403 response has an Allow header, clients may infer
&gt;&gt;&gt; "Method Disallowed for User".  The argument is, that would be a  
&gt;&gt;&gt; useful
&gt;&gt;&gt; self-descriptive message semantic if it could be pulled off in HTTP
&gt;&gt;&gt; without overloading the 405 response.
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; ------------------------------------
&gt;&gt;
&gt;&gt; Yahoo! Groups Links
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10531<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-03-26 15:53:29<br>
Subject:Re: "Addressing REST Doubts"<br>
Message:<br><br>
<pre>OK, I see what you guys are saying, but I wasn't assuming that an
Accept response-header would be anything more than a non-authoritative
guideline for the client. Let's say a resource Allows GET, HEAD, PUT and
POST, and sends this Accept response header:

Accept: application/atom+xml;type=entry; q=1.0, 
application/atom+xml; q=0.9, 
application/some-delta-format; q=0.9, 
application/x-www-form-urlencoded; q=0.8

I assumed it was "good 'nuff" to provide the client with a _hint_ about
what was acceptable, with the authoritative answer coming in response
to an actual submission attempt.  In my example Accept header above, a
client could reasonably infer that application/x-www-form-urlencoded has
nothing to do with PUT or PATCH, that a delta has no relation to PUT or
POST, and that any form of Atom has nothing to do with PATCH, and 
that Atom Entry documents may be acceptable to PUT or POST.

I decided to use a /media/ subdirectory which could list acceptable
media types for upload, to avoid overloading Accept as a response 
header.  I think it's more than serviceable as a simple-syntax solution 
for giving clients a hint, even if it isn't ideal for all contingencies.

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10532<br>
Sender:Subbu Allamaraju &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-03-26 15:57:10<br>
Subject:Re: [rest-discuss] Re: "Addressing REST Doubts"<br>
Message:<br><br>
<pre>But then, don't you also want to extend this to

&gt; OPTIONS /my-resource/
&gt; GET:application/xml;somens:elementname,application/json;text/html
&gt; POST:application/xml,application/json;application/x-www-form- 
&gt; urlencoded;{param1,param2,...}

and so on. Where does this stop, and what's the usefulness of this? Is  
this hypermedia? Just probing, as I don't know the answer.

Subbu

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10533<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-03-26 16:05:09<br>
Subject:Re: [rest-discuss] Re: "Addressing REST Doubts"<br>
Message:<br><br>
<pre>Subbu:

&gt; POST:application/xml,application/json;application/x-www-form-urlencoded;{param1,param2,...}
Yes, that might be another way to implement the extension.

&gt;  Where does this stop, and what's the usefulness of this?
True, I'm not sure I like where I am headed [grin]

&gt; Is this hypermedia? Just probing, as I don't know the answer.
Not at all sure. Is this setting up some serendipity? Can clients use
this information to modify their requests?

And what about 303? I have not seen 303 much in the wild and I am
unsure about how it could/should work.

MikeA


On Wed, Mar 26, 2008 at 11:57 AM, Subbu Allamaraju
&lt;subbu.allamaraju@...&gt; wrote:
&gt; But then, don't you also want to extend this to
&gt;
&gt;  &gt; OPTIONS /my-resource/
&gt;  &gt; GET:application/xml;somens:elementname,application/json;text/html
&gt;
&gt; &gt; POST:application/xml,application/json;application/x-www-form-
&gt;  &gt; urlencoded;{param1,param2,...}
&gt;
&gt;  and so on. Where does this stop, and what's the usefulness of this? Is
&gt;  this hypermedia? Just probing, as I don't know the answer.
&gt;
&gt;  Subbu
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10534<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-03-26 16:09:19<br>
Subject:Re: "Addressing REST Doubts"<br>
Message:<br><br>
<pre>Subbu Allamaraju wrote:
&gt;
&gt; But then, don't you also want to extend this to
&gt; 
&gt; &gt; OPTIONS /my-resource/
&gt; &gt; GET:application/xml;somens:elementname,application/json;text/html
&gt; &gt; POST:application/xml,application/json;application/x-www-form- 
&gt; &gt; urlencoded;{param1,param2,...}
&gt; 
&gt; and so on. Where does this stop, and what's the usefulness of this?
&gt; Is this hypermedia? Just probing, as I don't know the answer.
&gt; 

No, I don't want to put the list of variants in the HTTP header, as RFC
2295 showed, that's a dead end due to complexity.  As to the usefulness, 
a client developed for my application (like the nascent XForms document
I linked to, which could also have a &lt;fieldset&gt; allowing new tags to be
defined) would know exactly what to infer from the Accept (and Vary) 
response headers it sees, and could adjust the user interface options
accordingly per resource (like the presence of a DELETE button for an
existing post being limited to the original author and site admins).

This is not hypermedia unless there's an entity body, if we're talking
about an OPTIONS response with no entity body and an Allow header we'd
be talking about a self-descriptive message. Unless nothing could be
inferred from the Accept response header, in which case we'd be talking
about a mess...  :-)

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10535<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-03-26 16:15:10<br>
Subject:Re: "Addressing REST Doubts"<br>
Message:<br><br>
<pre>"mike amundsen" wrote:
&gt; 
&gt; And what about 303? I have not seen 303 much in the wild and I am
&gt; unsure about how it could/should work.
&gt; 

Let's say you've engaged OPTIONS MULTIVIEWS on Apache.  You have
several files with the same name, but different file extensions.  You
have a negotiated URI which is the common filename, without an
extension.

When you GET this negotiated URI, the response includes a Content-
Location header which exposes the filename extension of the individual
variant which was (likely) chosen for you.  So, what happens when you
GET the URL given in Content-Location?

You get a 200 OK response, by definition a URI alias now exists for
each variant.  Unless, of course, you set up request forwarding such
that GET requests including file extensions, are 303-redirected to the
negotiated URI.

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10536<br>
Sender:"Daniel Yokomizo" &lt;daniel.yokomizo@...&gt;<br>
Post Date/Time:2008-03-26 16:16:11<br>
Subject:Fwd: [rest-discuss] Re: "Addressing REST Doubts"<br>
Message:<br><br>
<pre>Reposting, this time to the list.


---------- Forwarded message ----------
From: Daniel Yokomizo &lt;daniel.yokomizo@...&gt;
Date: Wed, Mar 26, 2008 at 1:40 PM
Subject: Re: [rest-discuss] Re: "Addressing REST Doubts"
To: "Eric J. Bowman" &lt;eric@...&gt;

On Wed, Mar 26, 2008 at 3:37 AM, Eric J. Bowman &lt;eric@...&gt; wrote:
 &gt; "After all, GET, PUT, POST and DELETE are all the operations you have...
 &gt; Using the approach of having multiple representations, you might
 &gt; actually have self-documenting resources  just do an HTTP GET on a
 &gt; resource from your browser and get an HTML document containing data
 &gt; as well as a list of the operations (HTTP verbs) you can perform on
 &gt; it and the content types it accepts and delivers."
 &gt;
 &gt; No respect for OPTIONS, eh? ;-) I have no problem with putting
 &gt; alternate representations in hypertext, this is easily done in both
 &gt; HTML and Atom (for example). But in terms of self-descriptive
 &gt; messages, particularly when the available operations vary by user
 &gt; role, wouldn't it be more RESTful to handle this at the protocol
 &gt; level?
 &gt;
 &gt; In both examples below, a 300 response to an OPTIONS request is
 &gt; assumed to have no entity body. So, the 300 response would have no
 &gt; Content-Type or ETag headers, and MUST send a Content-Length: 0 header:
 &gt;
 &gt; (GET | HEAD | OPTIONS) http://example.org/feed.atom
 &gt; (Status-Line) HTTP/1.1 200 OK (or 300 Multiple Choices for OPTIONS response)
 &gt; Allow: GET, HEAD, POST, DELETE
 &gt; Accept: application/atom+xml;type=entry; q=1.0, application/atom+xml; q=0.5
 &gt; ETag: foo
 &gt; Vary: Authentication
 &gt; Content-Type: application/atom+xml;type=feed
 &gt;
 &gt; (GET | HEAD | OPTIONS) http://example.org/entry:1.atom
 &gt; (Status-Line) HTTP/1.1 200 OK (or 300 Multiple Choices for OPTIONS response)
 &gt; Allow: GET, HEAD, PUT, DELETE
 &gt; Accept: application/atom+xml;type=entry; q=1.0, application/atom+xml; q=0.5
 &gt; ETag: bar
 &gt; Vary: Authentication
 &gt; Content-Type: application/atom+xml;type=entry
 &gt;
 &gt; A client could infer that POST or PUT requests with Content-Type
 &gt; application/atom+xml;type=feed would most likely return 406 on this
 &gt; server, along with any other MIME type not specified in Accept. (One
 &gt; could also expose alternate representations by presenting a list of
 &gt; links in an HTML message body returned with the 300 response, which
 &gt; seems to me like a neat place to tuck the "self-documentation" for a
 &gt; REST application.)
 &gt;
 &gt; This seems to me, to be in the spirit of RESTful self-descriptive
 &gt; messaging over HTTP. Sadly, RFC 2616 insists that the Accept header
 &gt; is only a request header. Happily, I hear RFC 2616bis is back with
 &gt; an emphasis on extensibility... except... Accept still insists on
 &gt; being a request header only. :-( Although I could call it the Foo:
 &gt; header, apparently? More importantly, what am I missing that requires
 &gt; this to be implemented as hypertext, a la the APP service document?
 &gt;
 &gt; -Eric
 &gt;
 &gt; [1] http://labs.apache.org/webarch/http/draft-fielding-http/p3-payload.html#header.accept

 I have no preference between a response header or a standard media
type (e.g. WADL) but a single header isn't sufficient, as different
verbs can accept different media-types, so we need to say something
"PUT-Accept: xxx", "PATCH-Accept: yyy".

 Other than that I agree that OPTIONS needs more love.

 Best regards,
 Daniel Yokomizo.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10537<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-03-26 17:03:18<br>
Subject:Re: [rest-discuss] Re: "Addressing REST Doubts"<br>
Message:<br><br>
<pre>Does the response really need to be a complete, machine readable,  
semantically correct document?  How about just including an  
additional header to the OPTIONS response that points to the online  
documentation:
	X-Documentation-Location: http://location/documents/help?resource=foo

If need be, that resource could allow content negotiation to fetch a  
WSDL, WADL, POODLE, or whatever else document.  Default should be  
HTML though, for us poor silly humans. :)


- Steve

--------------
Steve G. Bjorg
http://wiki.mindtouch.com
http://wiki.opengarden.org


On Mar 26, 2008, at 8:57 AM, Subbu Allamaraju wrote:

&gt; But then, don't you also want to extend this to
&gt;
&gt; &gt; OPTIONS /my-resource/
&gt; &gt; GET:application/xml;somens:elementname,application/json;text/html
&gt; &gt; POST:application/xml,application/json;application/x-www-form-
&gt; &gt; urlencoded;{param1,param2,...}
&gt;
&gt; and so on. Where does this stop, and what's the usefulness of this? Is
&gt; this hypermedia? Just probing, as I don't know the answer.
&gt;
&gt; Subbu
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10538<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-03-26 17:11:46<br>
Subject:Re: [rest-discuss] Re: "Addressing REST Doubts"<br>
Message:<br><br>
<pre>Steve:

That's a good approach.

Of course, you still have the issue of media-type info for the
documentation-location, but clients need only focus on sorting out
that one request (automating a set of requests using various "accept"
headers, etc.).

BTW - POODLE[grin]?

MikeA

On Wed, Mar 26, 2008 at 1:03 PM, Steve Bjorg &lt;steveb@...&gt; wrote:
&gt;
&gt; Does the response really need to be a complete, machine readable,
&gt; semantically correct document?  How about just including an additional
&gt; header to the OPTIONS response that points to the online documentation:
&gt;  X-Documentation-Location: http://location/documents/help?resource=foo
&gt;
&gt; If need be, that resource could allow content negotiation to fetch a WSDL,
&gt; WADL, POODLE, or whatever else document.  Default should be HTML though, for
&gt; us poor silly humans. :)
&gt;
&gt;
&gt;
&gt; - Steve
&gt;
&gt; --------------
&gt; Steve G. Bjorg
&gt; http://wiki.mindtouch.com
&gt; http://wiki.opengarden.org
&gt;
&gt;
&gt;
&gt; On Mar 26, 2008, at 8:57 AM, Subbu Allamaraju wrote:
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; But then, don't you also want to extend this to
&gt;
&gt; &gt; OPTIONS /my-resource/
&gt; &gt; GET:application/xml;somens:elementname,application/json;text/html
&gt; &gt; POST:application/xml,application/json;application/x-www-form-
&gt; &gt; urlencoded;{param1,param2,...}
&gt;
&gt; and so on. Where does this stop, and what's the usefulness of this? Is
&gt; this hypermedia? Just probing, as I don't know the answer.
&gt;
&gt; Subbu
&gt; 
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10539<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-03-26 17:21:22<br>
Subject:Re: [rest-discuss] Re: "Addressing REST Doubts"<br>
Message:<br><br>
<pre>Yeah, POODLE is a joke.  Should have put a smiley next to it. :)

- Steve

--------------
Steve G. Bjorg
http://wiki.mindtouch.com
http://wiki.opengarden.org


On Mar 26, 2008, at 10:11 AM, mike amundsen wrote:

&gt; Steve:
&gt;
&gt; That's a good approach.
&gt;
&gt; Of course, you still have the issue of media-type info for the
&gt; documentation-location, but clients need only focus on sorting out
&gt; that one request (automating a set of requests using various "accept"
&gt; headers, etc.).
&gt;
&gt; BTW - POODLE[grin]?
&gt;
&gt; MikeA
&gt;
&gt; On Wed, Mar 26, 2008 at 1:03 PM, Steve Bjorg &lt;steveb@...&gt;  
&gt; wrote:
&gt; &gt;
&gt; &gt; Does the response really need to be a complete, machine readable,
&gt; &gt; semantically correct document? How about just including an  
&gt; additional
&gt; &gt; header to the OPTIONS response that points to the online  
&gt; documentation:
&gt; &gt; X-Documentation-Location: http://location/documents/help? 
&gt; resource=foo
&gt; &gt;
&gt; &gt; If need be, that resource could allow content negotiation to  
&gt; fetch a WSDL,
&gt; &gt; WADL, POODLE, or whatever else document. Default should be HTML  
&gt; though, for
&gt; &gt; us poor silly humans. :)
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; - Steve
&gt; &gt;
&gt; &gt; --------------
&gt; &gt; Steve G. Bjorg
&gt; &gt; http://wiki.mindtouch.com
&gt; &gt; http://wiki.opengarden.org
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; On Mar 26, 2008, at 8:57 AM, Subbu Allamaraju wrote:
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; But then, don't you also want to extend this to
&gt; &gt;
&gt; &gt; &gt; OPTIONS /my-resource/
&gt; &gt; &gt; GET:application/xml;somens:elementname,application/json;text/html
&gt; &gt; &gt; POST:application/xml,application/json;application/x-www-form-
&gt; &gt; &gt; urlencoded;{param1,param2,...}
&gt; &gt;
&gt; &gt; and so on. Where does this stop, and what's the usefulness of  
&gt; this? Is
&gt; &gt; this hypermedia? Just probing, as I don't know the answer.
&gt; &gt;
&gt; &gt; Subbu
&gt; &gt;
&gt; &gt;
&gt;
&gt; -- 
&gt; mca
&gt; http://amundsen.com/blog/
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10540<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-03-26 17:26:28<br>
Subject:Re: [rest-discuss] Re: "Addressing REST Doubts"<br>
Message:<br><br>
<pre>Yep, I was just poking you.

("We not return to regularly scheduled programming....")

MIkeA

On Wed, Mar 26, 2008 at 1:21 PM, Steve Bjorg &lt;steveb@...&gt; wrote:
&gt;
&gt;
&gt; Yeah, POODLE is a joke.  Should have put a smiley next to it. :)
&gt;
&gt;
&gt; - Steve
&gt;
&gt; --------------
&gt; Steve G. Bjorg
&gt; http://wiki.mindtouch.com
&gt; http://wiki.opengarden.org
&gt;
&gt;
&gt;
&gt; On Mar 26, 2008, at 10:11 AM, mike amundsen wrote:
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Steve:
&gt;
&gt; That's a good approach.
&gt;
&gt; Of course, you still have the issue of media-type info for the
&gt; documentation-location, but clients need only focus on sorting out
&gt; that one request (automating a set of requests using various "accept"
&gt; headers, etc.).
&gt;
&gt; BTW - POODLE[grin]?
&gt;
&gt; MikeA
&gt;
&gt; On Wed, Mar 26, 2008 at 1:03 PM, Steve Bjorg &lt;steveb@...&gt; wrote:
&gt; &gt;
&gt; &gt; Does the response really need to be a complete, machine readable,
&gt; &gt; semantically correct document? How about just including an additional
&gt; &gt; header to the OPTIONS response that points to the online documentation:
&gt; &gt; X-Documentation-Location: http://location/documents/help?resource=foo
&gt; &gt;
&gt; &gt; If need be, that resource could allow content negotiation to fetch a WSDL,
&gt; &gt; WADL, POODLE, or whatever else document. Default should be HTML though,
&gt; for
&gt; &gt; us poor silly humans. :)
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; - Steve
&gt; &gt;
&gt; &gt; --------------
&gt; &gt; Steve G. Bjorg
&gt; &gt; http://wiki.mindtouch.com
&gt; &gt; http://wiki.opengarden.org
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; On Mar 26, 2008, at 8:57 AM, Subbu Allamaraju wrote:
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; But then, don't you also want to extend this to
&gt; &gt;
&gt; &gt; &gt; OPTIONS /my-resource/
&gt; &gt; &gt; GET:application/xml;somens:elementname,application/json;text/html
&gt; &gt; &gt; POST:application/xml,application/json;application/x-www-form-
&gt; &gt; &gt; urlencoded;{param1,param2,...}
&gt; &gt;
&gt; &gt; and so on. Where does this stop, and what's the usefulness of this? Is
&gt; &gt; this hypermedia? Just probing, as I don't know the answer.
&gt; &gt;
&gt; &gt; Subbu
&gt; &gt;
&gt; &gt;
&gt;
&gt; --
&gt;
&gt; mca
&gt; http://amundsen.com/blog/
&gt;
&gt;  



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10541<br>
Sender:Subbu Allamaraju &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-03-26 17:37:33<br>
Subject:Re: [rest-discuss] Re: "Addressing REST Doubts"<br>
Message:<br><br>
<pre>Ah - you disappointed me - I was just going to search for  
poodleToJava :)

Subbu

On Mar 26, 2008, at 10:21 AM, Steve Bjorg wrote:

&gt; Yeah, POODLE is a joke.  Should have put a smiley next to it. :)
&gt;
&gt; - Steve
&gt;
&gt; --------------
&gt; Steve G. Bjorg
&gt; http://wiki.mindtouch.com
&gt; http://wiki.opengarden.org
&gt;
&gt;
&gt; On Mar 26, 2008, at 10:11 AM, mike amundsen wrote:
&gt;&gt; Steve:
&gt;&gt;
&gt;&gt; That's a good approach.
&gt;&gt;
&gt;&gt; Of course, you still have the issue of media-type info for the
&gt;&gt; documentation-location, but clients need only focus on sorting out
&gt;&gt; that one request (automating a set of requests using various "accept"
&gt;&gt; headers, etc.).
&gt;&gt;
&gt;&gt; BTW - POODLE[grin]?
&gt;&gt;
&gt;&gt; MikeA
&gt;&gt;
&gt;&gt; On Wed, Mar 26, 2008 at 1:03 PM, Steve Bjorg &lt;steveb@...&gt;  
&gt;&gt; wrote:
&gt;&gt; &gt;
&gt;&gt; &gt; Does the response really need to be a complete, machine readable,
&gt;&gt; &gt; semantically correct document? How about just including an  
&gt;&gt; additional
&gt;&gt; &gt; header to the OPTIONS response that points to the online  
&gt;&gt; documentation:
&gt;&gt; &gt; X-Documentation-Location: http://location/documents/help?resource=foo
&gt;&gt; &gt;
&gt;&gt; &gt; If need be, that resource could allow content negotiation to  
&gt;&gt; fetch a WSDL,
&gt;&gt; &gt; WADL, POODLE, or whatever else document. Default should be HTML  
&gt;&gt; though, for
&gt;&gt; &gt; us poor silly humans. :)
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; - Steve
&gt;&gt; &gt;
&gt;&gt; &gt; --------------
&gt;&gt; &gt; Steve G. Bjorg
&gt;&gt; &gt; http://wiki.mindtouch.com
&gt;&gt; &gt; http://wiki.opengarden.org
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; On Mar 26, 2008, at 8:57 AM, Subbu Allamaraju wrote:
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; But then, don't you also want to extend this to
&gt;&gt; &gt;
&gt;&gt; &gt; &gt; OPTIONS /my-resource/
&gt;&gt; &gt; &gt; GET:application/xml;somens:elementname,application/json;text/html
&gt;&gt; &gt; &gt; POST:application/xml,application/json;application/x-www-form-
&gt;&gt; &gt; &gt; urlencoded;{param1,param2,...}
&gt;&gt; &gt;
&gt;&gt; &gt; and so on. Where does this stop, and what's the usefulness of  
&gt;&gt; this? Is
&gt;&gt; &gt; this hypermedia? Just probing, as I don't know the answer.
&gt;&gt; &gt;
&gt;&gt; &gt; Subbu
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; mca
&gt;&gt; http://amundsen.com/blog/
&gt;&gt;
&gt;&gt; 
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10543<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-03-28 04:30:24<br>
Subject:Re: "Addressing REST Doubts"<br>
Message:<br><br>
<pre>Josh Sled wrote:
&gt; 
&gt; Does any client library or consumer expose anything even related to
&gt; OPTIONS (or even HEAD)?
&gt;

Try curl -iX options http://groo.vi/date, you'll get a 300 Multiple
Choices response with a list of available representations, and you'll
see the headers.  It would be nice to have an 'options' button in
browsers, perhaps this isn't so tough to make into a Firefox extension.

&gt;
&gt; Is there any practical use of it?
&gt; 

Well, assuming a client with an 'options' button on its address bar,
the use would be an inline 'control panel' for a Web application.
Since a 300 response can't be cached, the fact that different users see
different options wouldn't get in the way of caching the GET response
like it would if the control panel were made part of each page, and
varied by user.  Using an OPTIONS response 'embeds' a control panel in
each URL (with capabilities varying by user), re-using code instead of
including it in each page, or having a control panel that isn't inline
(or content-specific, for that matter).

Just a thought.

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10544<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-03-28 05:12:07<br>
Subject:Re: "Addressing REST Doubts"<br>
Message:<br><br>
<pre>"Eric J. Bowman" wrote:
&gt; 
&gt; Well, assuming a client with an 'options' button on its address bar,
&gt; the use would be an inline 'control panel' for a Web application.
&gt; Since a 300 response can't be cached, the fact that different users
&gt; 

Whoops, I meant, "an OPTIONS response can't be cached", 300 is
cachable.  A good browser extension would be to add an 'options' button
to the address bar, which toggles to 'get' when the options response is
displayed.  Also, a 'delete' button, which is greyed-out unless the
response headers include Allow: DELETE.

I also just noticed an error in my http://groo.vi/date service, if you
try 'curl -iX head http://groo.vi/date' the response code is 200, it
should be 300 since content negotiation is implemented.

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10545<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-03-28 07:21:28<br>
Subject:More Fun with DELETE<br>
Message:<br><br>
<pre>Up until, well, yesterday, I thought the proper way to DELETE a
resource was to use a form of some sort.  But now, I think it would be
best for clients to have a 'delete' button on the address bar, which is
greyed out unless the response headers include Accept: DELETE.  Either
way, the issue of unintentional DELETE requests comes up, but more so
with a button in the browser chrome I would think.

What do y'all think about, if a server receives a DELETE request,
responding with a 202 Accepted with a message body including some sort
of confirmation form?  Could this be a simple HTML form with a POST, or
should the confirmation form make a DELETE request also?  Whichever
way, the response to the confirmation would be 204 No Content, right?

This group talked me out of the double-DELETE thing which was the topic
of my original "Fun with DELETE" thread, btw.  :-)

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10546<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2008-03-28 07:57:22<br>
Subject:Re: [rest-discuss] More Fun with DELETE<br>
Message:<br><br>
<pre>Eric,


On 28.03.2008, at 08:21, Eric J. Bowman wrote:

&gt; Whichever
&gt; way, the response to the confirmation would be 204 No Content, right?

I think a 2xx indicates that the resource is still producing mappings 
[1], after a DELETE I would expect a 404 or a 410, though it is up to  
the server in the end of course.

Jan



[1] In the sense of Roy's dissertation "A resource is a temporarily  
varying membership function..."

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10547<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-03-28 08:01:23<br>
Subject:Re: [rest-discuss] More Fun with DELETE<br>
Message:<br><br>
<pre>&gt; 
&gt; I think a 2xx indicates that the resource is still producing mappings 
&gt; [1], after a DELETE I would expect a 404 or a 410, though it is up
&gt; to the server in the end of course.
&gt; 

My goal in the original thread was to achieve some administrative
control over the final result being 404 or 410.  If I can use a 202
response to DELETE which consists of a confirmation form, that form can
have a checkbox (default checked) for 410 Gone, unchecked means 404.

If the client cancels or otherwise fails to submit the confirmation
form, the DELETE never happens, which is fine because the 202 response
doesn't promise success.

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10548<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-03-28 08:57:04<br>
Subject:Re: [rest-discuss] More Fun with DELETE<br>
Message:<br><br>
<pre>The problem with using a POST to confirm a DELETE, is that the DELETE
could be skipped, which amounts to tunneling DELETE over POST.  Unless
the server generates a random key in a hidden field on the 202 form,
which would effectively prevent such tunneling as a DELETE would be
required to initiate the process.  Am I missing something else?

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10549<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-03-28 12:19:32<br>
Subject:RE: [rest-discuss] More Fun with DELETE<br>
Message:<br><br>
<pre>Shouldnt the confirmation be a UI issue rather than something the protocol
is supporting? The http spec has a whole bunch of descriptive ways to
respond to status codes with UA confirmation. This most certainly should
involve a 303 (response available somewhere else) to redirect to an IR
asking for more information. It would be more accurate than a 202 imo.

As for 404 / 410, I'd implement it that way:
DELETE removes the address of the resource and the resource url will
generate a 410, but returns a 302 to a resource (say
/goneresources/resourceName), which is POSTable to change the properties of
the goneresource (for example cancel the delete), but against which you
could probably do a new DELETE that would turn the 410 in 404.
--
SerialSeb
http://serialseb.blogspot.com

-----Original Message-----
From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On
Behalf Of Eric J. Bowman
Sent: 28 March 2008 08:01
To: Jan Algermissen
Cc: rest-discuss@yahoogroups.com
Subject: Re: [rest-discuss] More Fun with DELETE

&gt; 
&gt; I think a 2xx indicates that the resource is still producing mappings 
&gt; [1], after a DELETE I would expect a 404 or a 410, though it is up
&gt; to the server in the end of course.
&gt; 

My goal in the original thread was to achieve some administrative
control over the final result being 404 or 410.  If I can use a 202
response to DELETE which consists of a confirmation form, that form can
have a checkbox (default checked) for 410 Gone, unchecked means 404.

If the client cancels or otherwise fails to submit the confirmation
form, the DELETE never happens, which is fine because the 202 response
doesn't promise success.

-Eric

------------------------------------

Yahoo! Groups Links




No virus found in this incoming message.
Checked by AVG. 
Version: 7.5.519 / Virus Database: 269.22.1/1345 - Release Date: 26/03/2008
18:50
 

No virus found in this outgoing message.
Checked by AVG. 
Version: 7.5.519 / Virus Database: 269.22.1/1345 - Release Date: 26/03/2008
18:50
 
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10550<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-03-28 12:30:46<br>
Subject:RE: [rest-discuss] More Fun with DELETE<br>
Message:<br><br>
<pre>The very nature of an undelete is teh recreation of a deleted resource.
Having a 410 gone for a deleted document and implying it has been deleted is
semantically correct. Undeleting it would simply create a new resource that
happens to be the same as the one that has been deleted. I don't see that as
being an issue.

But you may well be right in proposing the other way around, with a 404
returned temporarily until the resource is actually deleted, in which case
you return a 410.

As for returning other response codes to a DELETE, I see no provision in
2616 imposing the return codes that are described. The spec is pretty clear:
DELETE *SHOULD* return 200, 204 etc. Just like it doesn't mention the whole
range of 5xx and 4xx that can be returned.
303 makes also no normative reference as to which verbs it can be
associated, only splitting its definition between HEAD/GET and other verbs.

--
SerialSeb
http://serialseb.blogspot.com


-----Original Message-----
From: Eric J. Bowman [mailto:eric@...] 
Sent: 28 March 2008 12:19
To: Sebastien Lambla
Subject: Re: [rest-discuss] More Fun with DELETE

Did you mean this to be a private response?  Anyway, to recap the
original thread, a 410 is by nature, permanent.  So an intermediary
could very well cache a 410 response permanently -- it can't be undone
with a second DELETE changing it to 404, that was the gist of the
original thread.

-Eric

On Fri, 28 Mar 2008 11:38:10 +0000
"Sebastien Lambla" &lt;seb@...&gt; wrote:

&gt; Shouldnt the confirmation be a UI issue rather than something the
&gt; protocol is supporting? The http spec has a whole bunch of
&gt; descriptive ways to respond to status codes with UA confirmation.
&gt; This most certainly should involve a 303 (response available
&gt; somewhere else) to redirect to an IR asking for more information. It
&gt; would be more accurate than a 202 imo.
&gt; 
&gt; As for 404 / 410, I'd implement it that way:
&gt; DELETE removes the address of the resource and the resource url will
&gt; generate a 410, but returns a 302 to a resource (say
&gt; /goneresources/resourceName), which is POSTable to change the
&gt; properties of the goneresource (for example cancel the delete), but
&gt; against which you could probably do a new DELETE that would turn the
&gt; 410 in 404.
&gt; --
&gt; SerialSeb
&gt; http://serialseb.blogspot.com
&gt; 
&gt; -----Original Message-----
&gt; From: rest-discuss@yahoogroups.com
&gt; [mailto:rest-discuss@yahoogroups.com] On Behalf Of Eric J. Bowman
&gt; Sent: 28 March 2008 08:01
&gt; To: Jan Algermissen
&gt; Cc: rest-discuss@yahoogroups.com
&gt; Subject: Re: [rest-discuss] More Fun with DELETE
&gt; 
&gt; &gt; 
&gt; &gt; I think a 2xx indicates that the resource is still producing
&gt; &gt; mappings [1], after a DELETE I would expect a 404 or a 410, though
&gt; &gt; it is up to the server in the end of course.
&gt; &gt; 
&gt; 
&gt; My goal in the original thread was to achieve some administrative
&gt; control over the final result being 404 or 410.  If I can use a 202
&gt; response to DELETE which consists of a confirmation form, that form
&gt; can have a checkbox (default checked) for 410 Gone, unchecked means
&gt; 404.
&gt; 
&gt; If the client cancels or otherwise fails to submit the confirmation
&gt; form, the DELETE never happens, which is fine because the 202 response
&gt; doesn't promise success.
&gt; 
&gt; -Eric
&gt; 
&gt; ------------------------------------
&gt; 
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 
&gt; No virus found in this incoming message.
&gt; Checked by AVG. 
&gt; Version: 7.5.519 / Virus Database: 269.22.1/1345 - Release Date:
&gt; 26/03/2008 18:50
&gt;  
&gt; 
&gt; No virus found in this outgoing message.
&gt; Checked by AVG. 
&gt; Version: 7.5.519 / Virus Database: 269.22.1/1345 - Release Date:
&gt; 26/03/2008 18:50
&gt;  
&gt; 

No virus found in this incoming message.
Checked by AVG. 
Version: 7.5.519 / Virus Database: 269.22.1/1345 - Release Date: 26/03/2008
18:50
 

No virus found in this outgoing message.
Checked by AVG. 
Version: 7.5.519 / Virus Database: 269.22.1/1345 - Release Date: 26/03/2008
18:50
 

No virus found in this incoming message.
Checked by AVG. 
Version: 7.5.519 / Virus Database: 269.22.1/1345 - Release Date: 26/03/2008
18:50
 
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10551<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-03-28 12:51:48<br>
Subject:Re: [rest-discuss] More Fun with DELETE<br>
Message:<br><br>
<pre>"Sebastien Lambla" wrote:
&gt; 
&gt; As for returning other response codes to a DELETE, I see no provision
&gt; in 2616 imposing the return codes that are described. The spec is
&gt; pretty clear: DELETE *SHOULD* return 200, 204 etc. Just like it
&gt; doesn't mention the whole range of 5xx and 4xx that can be returned.
&gt; 303 makes also no normative reference as to which verbs it can be
&gt; associated, only splitting its definition between HEAD/GET and other
&gt; verbs.
&gt; 

You're correct, it says SHOULD.  However, I believe that implies that
other 2xx response codes could be used to indicate success.  When the
method is DELETE, the response code should indicate 2xx 'success' or
4xx 'failure', with the special 202 code indicating 'request accepted,
success or failure pending'.  If the DELETE request goes to a URI which
normally 301 redirects, I could see where the user could be given the
option of deleting the 301 mapping, or deleting the target resource,
using a 300 Multiple Choices response.

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10552<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-03-28 12:58:29<br>
Subject:Re: [rest-discuss] More Fun with DELETE<br>
Message:<br><br>
<pre>&gt;
&gt; The problem with using a POST to confirm a DELETE, is that the DELETE
&gt; could be skipped, which amounts to tunneling DELETE over POST.  Unless
&gt; the server generates a random key in a hidden field on the 202 form,
&gt; which would effectively prevent such tunneling as a DELETE would be
&gt; required to initiate the process.  Am I missing something else?
&gt; 

RFC 2616 (10.2.3) has this to say about 202 Accepted:

"The entity returned with this response SHOULD include an indication of
the request's current status and either a pointer to a status monitor
or some estimate of when the user can expect the request to be
fulfilled."

The server can be set up to expire the DELETE "key" after a desired
interval.  The message content of the 202 response can indicate, "You
have {countdown timer} minutes to confirm deletion, otherwise this
action will be cancelled."  The user can now estimate that their DELETE
will happen immediately upon clicking "confirm".  The "current status"
of the request is quite clearly described as, "in limbo."

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10553<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-03-28 14:57:49<br>
Subject:RE: [rest-discuss] More Fun with DELETE<br>
Message:<br><br>
<pre>But now you rely on the entity enclosed in your response to fullfill the
request, which seems to me limiting. How do I discover and process that
request using a non xhtml agent?

With a 202, you indicate *success* to the delete operation, but yu haven't
actually succeeded in executing the operation at all, as you require a
confirmation. That's quite counter-intuitive.

To quote 2616 about redirects: "this class of status code indicates that
further action needs to be taken by the user agent in order to fulfil the
request". It seems it covers the grounds of a confirmation quite well. 303
is described as "the response to the request can be found under a different
URI". Considering your use-case doesn't actually succeed in deleting the
resource on the DELETE but only in requesting a confirmation, returning 303
is non-conclusive and redirected to a confirmation url that you GET (your
form in your scenario).

From there you're at freedom to issue a successful DELETE, maybe simply on
calling DELETE on the same resource with a confirmation ticket
(/myresource?confirm=1234). Then a 2xx will be actually accurate.

--
SerialSeb
http://serialseb.blogspot.com


-----Original Message-----
From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On
Behalf Of Eric J. Bowman
Sent: 28 March 2008 12:58
To: rest-discuss@yahoogroups.com
Subject: Re: [rest-discuss] More Fun with DELETE

&gt;
&gt; The problem with using a POST to confirm a DELETE, is that the DELETE
&gt; could be skipped, which amounts to tunneling DELETE over POST.  Unless
&gt; the server generates a random key in a hidden field on the 202 form,
&gt; which would effectively prevent such tunneling as a DELETE would be
&gt; required to initiate the process.  Am I missing something else?
&gt; 

RFC 2616 (10.2.3) has this to say about 202 Accepted:

"The entity returned with this response SHOULD include an indication of
the request's current status and either a pointer to a status monitor
or some estimate of when the user can expect the request to be
fulfilled."

The server can be set up to expire the DELETE "key" after a desired
interval.  The message content of the 202 response can indicate, "You
have {countdown timer} minutes to confirm deletion, otherwise this
action will be cancelled."  The user can now estimate that their DELETE
will happen immediately upon clicking "confirm".  The "current status"
of the request is quite clearly described as, "in limbo."

-Eric

------------------------------------

Yahoo! Groups Links




No virus found in this incoming message.
Checked by AVG. 
Version: 7.5.519 / Virus Database: 269.22.1/1345 - Release Date: 26/03/2008
18:50
 

No virus found in this outgoing message.
Checked by AVG. 
Version: 7.5.519 / Virus Database: 269.22.1/1345 - Release Date: 26/03/2008
18:50
 
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10554<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-03-28 15:35:44<br>
Subject:Re: [rest-discuss] More Fun with DELETE<br>
Message:<br><br>
<pre>"Sebastien Lambla" wrote:
&gt;
&gt; But now you rely on the entity enclosed in your response to fullfill
&gt; the request, which seems to me limiting. How do I discover and
&gt; process that request using a non xhtml agent?
&gt; 

Content negotiation could be used.  For example, an Atom Protocol
client which doesn't know about confirmation could receive a 204
response, while (X)HTML clients receive the confirmation form.

&gt;
&gt; With a 202, you indicate *success* to the delete operation, but yu
&gt; haven't actually succeeded in executing the operation at all, as you
&gt; require a confirmation. That's quite counter-intuitive.
&gt; 

Not really.  The 202 response indicates that the request was received
and processed.  Since it *might* be successful, it would be
inappropriate to send a 4xx failure response code.  Reading from the
202 Accepted definition again:

"The request might or might not eventually be acted upon, as it might
be disallowed when processing actually takes place...  The 202 response
is intentionally non-committal."

If the users fail to confirm their intent within a reasonable amount of
time, the request might be disallowed.  It might not be acted on at
all, the 202 response makes no promises, like 200 and 204 explicitly do.

&gt;
&gt; To quote 2616 about redirects: "this class of status code indicates
&gt; that further action needs to be taken by the user agent in order to
&gt; fulfil the request". It seems it covers the grounds of a confirmation
&gt; quite well.
&gt;

There's always more than one way to skin a cat, perhaps you have
found another.  Then again, 3xx seeks further action from the user
agent, I'm seeking further action from the user.  I'm on board with a
300 Multiple Choices response to a DELETE, another use-case would be a
negotiated URI, where a DELETE returns a form allowing one or more
variants, or the resource as a whole, to be DELETEd.

And that's the bugger with HTTP, 3xx seeks further action from the user
agent, except when 300 seeks further action from the user.  2xx means
success, except when 202 means 'potential failure'.  4xx indicates a
temporary failure, except when 410 means a permanent condition... it's
dangerous to rely too much on generalizations with this protocol.

&gt; 
&gt; From there you're at freedom to issue a successful DELETE, maybe
&gt; simply on calling DELETE on the same resource with a confirmation
&gt; ticket (/myresource?confirm=1234). Then a 2xx will be actually
&gt; accurate.
&gt; 

From the sound of it, though, I have requested the skin of a calico,
and you have brought me the skin of a siamese.  I have no intention of
allowing resources to be un-DELETEd, so I see no reason to move them to
another URI, therefore I have nowhere to redirect anyone *to*.  I'm not
looking to implement any sort of trash-can mechanism, I simply want to
DELETE a resource upon user request.  Again, there is nothing
"inaccurate" about using a 202 response to indicate _potential_ failure.

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10555<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-03-28 16:23:00<br>
Subject:RE: [rest-discuss] More Fun with DELETE<br>
Message:<br><br>
<pre>&gt; Not really.  The 202 response indicates that the request was received
&gt; and processed.  Since it *might* be successful, it would be
&gt; inappropriate to send a 4xx failure response code.

I've always considered a 202 to be an asynchronous mechanism because it
doesn't carry an intent on further action required, which the meaning you
put behind it would suggest.


&gt;  Then again, 3xx seeks further action from the user
&gt; agent, I'm seeking further action from the user.  I'm on board with a
&gt; 300 Multiple Choices response to a DELETE, another use-case would be a
&gt; negotiated URI, where a DELETE returns a form allowing one or more
&gt; variants, or the resource as a whole, to be DELETEd.

I quite agree.

&gt; And that's the bugger with HTTP, 3xx seeks further action from the user
&gt; agent, except when 300 seeks further action from the user. 

302 and 303 are like Siamese twins, but in this instance maybe a 302 in
response to the DELETE would be appropriate: "If the 302 [..] is received to
a request other than get or head, the UA must not automatically redirect the
request unless it can be confirmed by the user."

302 seem to imply same http method for a redirect with confirmation from the
user.

&gt; it's
&gt; dangerous to rely too much on generalizations with this protocol.

Quite agree, but I'd have a tendancy to consider neighbourhood codes as
sharing properties, even when, or especially when, the http spec doesn't
mention it.

&gt; I have no intention of
&gt;allowing resources to be un-DELETEd, so I see no reason to move them to
&gt; another URI, therefore I have nowhere to redirect anyone *to*.

I was suggesting redirecting to a confirmation resource, not moving the
*resource* itself. This forces two requests from the server, one is a
delete, with a resulting redirect to a resource evaluating to a delete
cookie, upon which you can send a delete operation (or a post for that
matter) that will confirm the operation.

DELETE /a -&gt; 303: Go check my response at /a?deletecookie
GET /a?deletecookie -&gt; nice html form to confirm deletion
** USER CONFIRMATION THROUGH HTML **
DELETE /a?deletecookie -&gt; 204

Or if you want to go through the 302 route

DELETE /a -&gt; 302: go check /a?deletecookie
** USER CONFIRMATION REQUIRED TO CONTINUE, THROUGH ANY MEAN THE UA CAN
DISPLAY **
DELETE /a?deletecookie -&gt; 204

You're suggesting the following
DELETE /a -&gt; 202: Accepted
** USER CONFIRMATION THROUGH HTML **
_do somehow confirm the delete_


As you can see, the main and only difference between what you're suggesting
and what I suggest is that by redirecting the delete request, you allow
non-html UAs to process the request and notify the user the way they see
fit, as opposed to being completely reliant on the entity you pass in the
202.

--
SerialSeb 

No virus found in this outgoing message.
Checked by AVG. 
Version: 7.5.519 / Virus Database: 269.22.1/1345 - Release Date: 26/03/2008
18:50
 
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10556<br>
Sender:Story Henry &lt;henry.story@...&gt;<br>
Post Date/Time:2008-03-28 16:41:12<br>
Subject:RDFAuth: sketch of a buzzword compliant authentication protocol<br>
Message:<br><br>
<pre>Hi,

I have just posted a rather long sketch of an authentication protocol,  
where I make the following claims:

[[
Here is a proposal for an authentication scheme that is even simpler  
than OpenId, more secure, more RESTful, with fewer points of failure  
and fewer points of control, that is needed in order to make Open  
Distributed Social Networks with privacy controls possible.
]]

The post is rather long with a descriptive UML diagram, so in order to  
avoid filling in everyone's inbox, I'll just post a link to it

http://blogs.sun.com/bblfish/entry/rdfauth_sketch_of_a_buzzword

I'd welcome your thoughts about it. As I mention in the post it is  
just a (detailed) sketch, and most of the details need filling out.  
But it should on the whole be very simple, as I made sure to build on  
well known standards such as HTTP, and base the architecture on REST  
principles.

Thanks in advance,

Henry Story


Home page: http://bblfish.net/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10557<br>
Sender:"rest_sanju" &lt;rest_sanju@...&gt;<br>
Post Date/Time:2008-03-24 14:40:36<br>
Subject:rest websites<br>
Message:<br><br>
<pre>HI all,


           My name is Sanju, and i am new to this group. Found 
recently about REST and want to know about it.

       I find about this group in one of the lectures of Steve borge 
at mindtree. 

        My first question was,how can you say that a particular 
website is developed with REST by looking at it.

Thanks,
Sanju.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10558<br>
Sender:"Gaurang" &lt;gaurangpatel9@...&gt;<br>
Post Date/Time:2008-03-19 11:45:40<br>
Subject:Happy Holy<br>
Message:<br><br>

<table width='700' border='0' cellpadding='0' cellspacing='0' align='center'><br /><tr><td  height='305' align='left' valign='top'><img src='http://indyarocks.com/images/greetings/greeting_holi_01_08.jpg' border='0'/></td></tr><tr><td align='left' valign='middle' width='472' style='font-family:Verdana, Arial, Helvetica, sans-serif; font-size:13px; padding:5px;'>hi!<br />Happy Holi ..</td></tr><br /><tr><td  style='font-family:Verdana, Arial, Helvetica, sans-serif; font-size:13px; padding:5px;'>- Gaurang</td></tr><tr><td><hr/></td></tr><tr><td  style='font-family:Verdana, Arial, Helvetica, sans-serif; font-size:13px; padding:5px;'>To send your own personalized greetings log into <a href='http://www.indyarocks.com/profile/greetings.php'>indyarocks.com</a><br><a href='http://www.indyarocks.com/sms/index.php'>Click here</a> to send FREE SMS greetings</td></tr><tr><td colspan='2' style='font-size:10px;'><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />Please note: This message was sent to you by a user at Indyarocks.com. In case you do not wish to receive any more such messages, please contact the user who has sent you this message. If you do not know the user and continue to receive such messages from this user, please contact us at privacy@...<br /></td></tr></table>

<br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10559<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-03-30 06:29:56<br>
Subject:Re: [rest-discuss] More Fun with DELETE<br>
Message:<br><br>
<pre>"Sebastien Lambla" wrote:
&gt;
&gt; &gt; Not really.  The 202 response indicates that the request was
&gt; &gt; received and processed.  Since it *might* be successful, it would be
&gt; &gt; inappropriate to send a 4xx failure response code.
&gt; 
&gt; I've always considered a 202 to be an asynchronous mechanism because
&gt; it doesn't carry an intent on further action required, which the
&gt; meaning you put behind it would suggest.
&gt; 

I disagree that my method somehow makes the 202 response synchronous.
To be more RESTful and more in-line with RFC 2616, I suppose my
mechanism should allow 15 minutes to cancel out of a DELETE before it's
irrevocable.  The reason I've switched that around is usability, I
think people are more used to being asked to confirm a delete, than to
cancel or else.

For the majority of my use cases, I can't consider using a 3xx response
to a DELETE, because there is no reason to rule out the 202 response.
If there isn't a compelling reason to disregard that SHOULD regarding
200 - 202 - 204 responses to DELETE, I think I SHOULD use a 202.  Re-
reading 10.3 RFC 2616 with your example in mind, though, did enlighten
me about how to handle a DELETE issued against a resource which would
be a redirect on GET.

&gt; 
&gt; 302 seem to imply same http method for a redirect with confirmation
&gt; from the user.
&gt; 

The way I read 10.3 RFC 2616, concerning DELETE, is that the user is
being asked to confirm or reject the redirect.  Meaning, the user is
being asked to DELETE the target or the source of the redirect.
Presumably, if the target is chosen, the source URL would also be
removed since there's nothing left to redirect *to*.  If the user
rejects the DELETE redirect, only the source URL is removed -- the
redirect mapping is DELETEd.

I would handle a DELETE request on a 303 the same as a 301, 302, or a
307, as inferred by the spec, and issue a confirmation form with a 202
response after the user had worked out their intentions.  I would not
use a 300 response, like I was saying yesterday.  The only use-case I'm
left with for a 300 response to a DELETE request, is if the DELETE
refers to a negotiated URI.  Even then, the user should DELETE variants
directly, and only DELETE the negotiated URI when they want to remove
the whole works.  So I'm back to always responding 200 - 202 - 204 to
DELETE request... sorry.

&gt; 
&gt; I was suggesting redirecting to a confirmation resource, not moving
&gt; the *resource* itself. This forces two requests from the server, one
&gt; is a delete, with a resulting redirect to a resource evaluating to a
&gt; delete cookie, upon which you can send a delete operation (or a post
&gt; for that matter) that will confirm the operation.
&gt; 

This gives me the willies, a bit.  In REST, of course, the server may
take action beyond what the request calls for.  For example, a POST may
create multiple resources.  This gives me no queasy feeling because
each created resource is still obeying the semantics of the user
request method.  When a DELETE is used to create a resource, I'm not so
sure.

&gt; 
&gt; DELETE /a -&gt; 302: go check /a?deletecookie
&gt; ** USER CONFIRMATION REQUIRED TO CONTINUE, THROUGH ANY MEAN THE UA CAN
&gt; DISPLAY **
&gt; DELETE /a?deletecookie -&gt; 204
&gt; 

Or, did you create /a?deletecookie when you created /a ?  If you did,
then why not just DELETE /a?deletecookie, and have that also
DELETE /a ?  If /a is DELETEd directly, make subsequent GETs for /a
return 410, if /a?deletecookie is DELETEd, subsequent GETs for /a
return 404.  If /a?deletecookie is there all along, then it seems to me
that it ought to be independently DELETEable.

Using this mechanism to confirm a DELETE by using a DELETE to create a
resource doesn't feel right, though.  If you want to do that, I think
it's a complex enough interaction to be application-level, not protocol-
level.  I understand that you don't want to depend on the content-type
of the message body, like I'm doing with my 204 method, but I don't
think what you're describing works at the protocol level.  Mine does,
granted with the limitation of requiring HTML on the client.

&gt;
&gt; You're suggesting the following
&gt; DELETE /a -&gt; 202: Accepted
&gt; ** USER CONFIRMATION THROUGH HTML **
&gt; _do somehow confirm the delete_
&gt; 

No, like I said, the entity body can be anything, based on content
negotiation.  However, for my purposes HTML will do, most clients I
envision using the application at least use HTML to display error-
message text from the server and most also grok HTML forms.  So this 
just isn't that big a deal.  As I mention above, the DELETE could also
be time-delayed, giving the user a chance to opt out.  This is more
RESTful based on the notion of not fighting how things *are*, but it
isn't breaking any actual constraint to use opt-in confirmation, so the
ease-of-use concern trumps.

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10560<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-03-30 07:01:55<br>
Subject:Re: [rest-discuss] More Fun with DELETE<br>
Message:<br><br>
<pre>My question for the group, is whether it's even valid to issue a
redirect for DELETE when GET, HEAD, PUT and perhaps OPTIONS would
respond 200 OK for the same resource.  Does this violate the uniform
interface constraint, or the self-descriptive message constraint?  Or,
no big deal?

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10561<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-03-30 10:44:08<br>
Subject:RE: [rest-discuss] More Fun with DELETE<br>
Message:<br><br>
<pre>I have to say, I may not agree completely with your solution but I certainly
agree that it was well thought of, is logicial, and wouldnt cause friction
when using it, so I don't think my rants matter that much :)

That said, I don't think different response codes for different verbs break
the uniform interface. Certainly not if you apply httpRange-14 and 303 on
GET to redirect from resource to IR, whereas a delete could respond with a
204.

--
SerialSeb
http://serialseb.blogspot.com


-----Original Message-----
From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On
Behalf Of Eric J. Bowman
Sent: 30 March 2008 08:02
To: Sebastien Lambla
Cc: rest-discuss@yahoogroups.com
Subject: Re: [rest-discuss] More Fun with DELETE

My question for the group, is whether it's even valid to issue a
redirect for DELETE when GET, HEAD, PUT and perhaps OPTIONS would
respond 200 OK for the same resource.  Does this violate the uniform
interface constraint, or the self-descriptive message constraint?  Or,
no big deal?

-Eric

------------------------------------

Yahoo! Groups Links




No virus found in this incoming message.
Checked by AVG. 
Version: 7.5.519 / Virus Database: 269.22.1/1348 - Release Date: 28/03/2008
10:58
 

No virus found in this outgoing message.
Checked by AVG. 
Version: 7.5.519 / Virus Database: 269.22.1/1348 - Release Date: 28/03/2008
10:58
 
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10562<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-03-31 13:46:08<br>
Subject:Content negotiation unRESTful?<br>
Message:<br><br>
<pre>"The issue of content-type negotiation within the realm of REST  
architectures is one that comes up often, but seems to me Fielding has  
been pretty consistent in saying that such negotiation is problematic  
and usually not very RESTful."

http://blogs.msdn.com/dotnetinterop/archive/2008/03/28/content-type-negotiation-and-rest-and-how-wcf-fits-in.aspx

This seems all wrong to me, but maybe I'm missing something?

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10563<br>
Sender:"Alexander Johannesen" &lt;alexander.johannesen@...&gt;<br>
Post Date/Time:2008-03-31 13:52:52<br>
Subject:Re: [rest-discuss] Content negotiation unRESTful?<br>
Message:<br><br>
<pre>On Mon, Mar 31, 2008 at 3:46 PM, Stefan Tilkov &lt;stefan.tilkov@...&gt; wrote:
&gt; http://blogs.msdn.com/dotnetinterop/archive/2008/03/28/content-type-negotiation-and-rest-and-how-wcf-fits-in.aspx
&gt;
&gt;  This seems all wrong to me, but maybe I'm missing something?

Agreed; sounds more like wishful thinking than reality. In fact, Roy's
been pretty clear on the pillars of REST, and that if you break one
you're not that RESTful anymore. Content negotiation is one of the
more important aspects of REST, in my SOA eyes, wished away by people
who's thinking that the browser is the main HTTP client out there. I
guess most of this stem from the lack of standard content-types for
semantic content (which is why we got microformats, for example) but
this will surely change, Atom APP leading the pack.


Alex
-- 
---------------------------------------------------------------------------
 Project Wrangler, SOA, Information Alchemist, UX, RESTafarian, Topic Maps
------------------------------------------ http://shelter.nu/blog/ --------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10564<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-03-31 13:56:34<br>
Subject:Re: [rest-discuss] Content negotiation unRESTful?<br>
Message:<br><br>
<pre>I think Roy was quoted out of context in that article. The
rest-discuss post[1] to which the article refers is talking about
negotiating *languages*, not representations.

MikeA

[1] http://tech.groups.yahoo.com/group/rest-discuss/message/5916

On Mon, Mar 31, 2008 at 9:46 AM, Stefan Tilkov &lt;stefan.tilkov@...&gt; wrote:
&gt; "The issue of content-type negotiation within the realm of REST
&gt;  architectures is one that comes up often, but seems to me Fielding has
&gt;  been pretty consistent in saying that such negotiation is problematic
&gt;  and usually not very RESTful."
&gt;
&gt;  http://blogs.msdn.com/dotnetinterop/archive/2008/03/28/content-type-negotiation-and-rest-and-how-wcf-fits-in.aspx
&gt;
&gt;  This seems all wrong to me, but maybe I'm missing something?
&gt;
&gt;  Stefan
&gt;  --
&gt;  Stefan Tilkov, http://www.innoq.com/blog/st/
&gt;
&gt;  ------------------------------------
&gt;
&gt;  Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10565<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2008-03-31 14:06:15<br>
Subject:Re: [rest-discuss] Content negotiation unRESTful?<br>
Message:<br><br>
<pre>Hi Stefan,

On 31.03.2008, at 15:46, Stefan Tilkov wrote:
&gt; "The issue of content-type negotiation within the realm of REST
&gt; architectures is one that comes up often, but seems to me Fielding has
&gt; been pretty consistent in saying that such negotiation is problematic
&gt; and usually not very RESTful."
&gt;
&gt; http://blogs.msdn.com/dotnetinterop/archive/2008/03/28/content-type- 
&gt; negotiation-and-rest-and-how-wcf-fits-in.aspx
&gt;
&gt; This seems all wrong to me, but maybe I'm missing something?
&gt;

After taking a glance at it: I am not sure about the way he quotes  
Roy or  XML vs JSON being mechanical etc. but I think it is generally  
correct not to deliver different media types through the same  
resource. If you have several, then publish a single URI that  
redirects to media type specific ones based upon the Accept header.  
That way every resource gets its own URI which gives the client more  
control/possibilities.

Hmm...wonder how one would do this with an Atom entry's content,  
where there can only be one content which also should have a media  
type attribute set.

Jan



&gt; Stefan
&gt; --
&gt; Stefan Tilkov, http://www.innoq.com/blog/st/
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10566<br>
Sender:"Alexander Johannesen" &lt;alexander.johannesen@...&gt;<br>
Post Date/Time:2008-03-31 14:19:08<br>
Subject:Re: [rest-discuss] Content negotiation unRESTful?<br>
Message:<br><br>
<pre>On Mon, Mar 31, 2008 at 4:06 PM, Jan Algermissen
&lt;algermissen1971@...&gt; wrote:
&gt;  ... but I think it is generally
&gt;  correct not to deliver different media types through the same
&gt;  resource.

Certainly, lots do it this way, but the correctness of it can be
disputed, and I'd assert that the state of affairs again is how
browsers have handled HTTP; not only have the GET and POST syndrome
polluted the web as we know it, the lack of better support in browsers
for content-negation who have a set of defaults instead of letting the
user choose what they want. The whole point of being RESTful is that
the resource is a *representation*, not the actual thing. The whole
idea is the resource is very much like a Topic in Topic Maps (which I
know you know :), and then let you choose which Occurrence you want to
receive of that Topic.

In applications (somewhat unlike plain info websites), this is vital,
as various applications can support various things. Browsers handle
this in rather dumb ways, and just pick the first from the list they
know, but in reality I should be able to point to [picture], and if
there's different versions of that, be able to choose the
high-resolution instead of the default low-resolution one. If support
for this were better handled by browsers we wouldn't be in this messy
parameter and / or file extension soup we're in.


Alex
-- 
---------------------------------------------------------------------------
 Project Wrangler, SOA, Information Alchemist, UX, RESTafarian, Topic Maps
------------------------------------------ http://shelter.nu/blog/ --------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10567<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-03-31 14:39:16<br>
Subject:Re: [rest-discuss] Content negotiation unRESTful?<br>
Message:<br><br>
<pre>This thread prompts me to ask a question about my own approach to
conneg within REST implementations.

My understanding of REST is that the "important resources" deserve
their own URI and that representation is abstracted from the resource.
 The leads me to think that the following is a valid resource:
/some-path/index. In fact, most of my implementations use no 'file
extension' value for URIs.

In my implementation work, I have the server using the Accept header
sent by the client to decide which representation (text/html,
application/json, application/pdf, etc.) to send to the client. As an
aside, the server knows the 'perferred' representation and will send
that when the client has a 'vague' Accept header (*/*).

Am I going about this the wrong way?

MikeA


On Mon, Mar 31, 2008 at 10:06 AM, Jan Algermissen
&lt;algermissen1971@...&gt; wrote:
&gt; Hi Stefan,
&gt;
&gt;
&gt;  On 31.03.2008, at 15:46, Stefan Tilkov wrote:
&gt;  &gt; "The issue of content-type negotiation within the realm of REST
&gt;  &gt; architectures is one that comes up often, but seems to me Fielding has
&gt;  &gt; been pretty consistent in saying that such negotiation is problematic
&gt;  &gt; and usually not very RESTful."
&gt;  &gt;
&gt;  &gt; http://blogs.msdn.com/dotnetinterop/archive/2008/03/28/content-type-
&gt;  &gt; negotiation-and-rest-and-how-wcf-fits-in.aspx
&gt;  &gt;
&gt;  &gt; This seems all wrong to me, but maybe I'm missing something?
&gt;  &gt;
&gt;
&gt;  After taking a glance at it: I am not sure about the way he quotes
&gt;  Roy or  XML vs JSON being mechanical etc. but I think it is generally
&gt;  correct not to deliver different media types through the same
&gt;  resource. If you have several, then publish a single URI that
&gt;  redirects to media type specific ones based upon the Accept header.
&gt;  That way every resource gets its own URI which gives the client more
&gt;  control/possibilities.
&gt;
&gt;  Hmm...wonder how one would do this with an Atom entry's content,
&gt;  where there can only be one content which also should have a media
&gt;  type attribute set.
&gt;
&gt;  Jan
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;  &gt; Stefan
&gt;  &gt; --
&gt;  &gt; Stefan Tilkov, http://www.innoq.com/blog/st/
&gt;  &gt;
&gt;  &gt; ------------------------------------
&gt;  &gt;
&gt;  &gt; Yahoo! Groups Links
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt;
&gt;
&gt;  ------------------------------------
&gt;
&gt;  Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10568<br>
Sender:Subbu Allamaraju &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-03-31 15:02:05<br>
Subject:Re: [rest-discuss] Content negotiation unRESTful?<br>
Message:<br><br>
<pre>Isn't that what agent-driven negotiation is all about? Makes perfect  
sense to me. In the example below "index" is a resource, and the the  
server is letting the client negotiate to fetch a representation.

Subbu

On Mar 31, 2008, at 7:39 AM, mike amundsen wrote:
&gt; n my implementation work, I have the server using the Accept header
&gt; sent by the client to decide which representation (text/html,
&gt; application/json, application/pdf, etc.) to send to the client. As an
&gt; aside, the server knows the 'perferred' representation and will send
&gt; that when the client has a 'vague' Accept header (*/*).
&gt;
&gt; Am I going about this the wrong way?


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10569<br>
Sender:Subbu Allamaraju &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-03-31 15:07:10<br>
Subject:Re: [rest-discuss] Content negotiation unRESTful?<br>
Message:<br><br>
<pre>Strictly speaking, this is still agent-driven content-negotiation, and  
the redirect you are proposing may be an implementation detail. IMO,  
this redirect is not necessary. There is no need for each  
representation to get its own URI, and in some cases, it could create  
unnecessary proliferation without extra benefits.

Subbu

On Mar 31, 2008, at 7:06 AM, Jan Algermissen wrote:
&gt; After taking a glance at it: I am not sure about the way he quotes
&gt; Roy or  XML vs JSON being mechanical etc. but I think it is generally
&gt; correct not to deliver different media types through the same
&gt; resource. If you have several, then publish a single URI that
&gt; redirects to media type specific ones based upon the Accept header.
&gt; That way every resource gets its own URI which gives the client more
&gt; control/possibilities.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10570<br>
Sender:Subbu Allamaraju &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-03-31 15:16:07<br>
Subject:Re: [rest-discuss] More Fun with DELETE<br>
Message:<br><br>
<pre>I think the use of 202 for this use case is not correct. 202 is a non- 
committal response, meaning that, the server has accepted the request,  
but is not ready yet to provide an outcome. I don't see how this can  
be used to implement a "protocol" to delete a resource.

On Mar 28, 2008, at 1:01 AM, Eric J. Bowman wrote:
&gt;&gt;
&gt;&gt; I think a 2xx indicates that the resource is still producing mappings
&gt;&gt; [1], after a DELETE I would expect a 404 or a 410, though it is up
&gt;&gt; to the server in the end of course.
&gt;&gt;
&gt;
&gt; My goal in the original thread was to achieve some administrative
&gt; control over the final result being 404 or 410.  If I can use a 202
&gt; response to DELETE which consists of a confirmation form, that form  
&gt; can
&gt; have a checkbox (default checked) for 410 Gone, unchecked means 404.
&gt;
&gt; If the client cancels or otherwise fails to submit the confirmation
&gt; form, the DELETE never happens, which is fine because the 202 response
&gt; doesn't promise success.
&gt;
&gt; -Eric
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10571<br>
Sender:"Lawrence Oluyede" &lt;l.oluyede@...&gt;<br>
Post Date/Time:2008-03-31 15:39:19<br>
Subject:Re: [rest-discuss] More Fun with DELETE<br>
Message:<br><br>
<pre>On Mon, Mar 31, 2008 at 5:16 PM, Subbu Allamaraju
&lt;subbu.allamaraju@...&gt; wrote:
&gt; I think the use of 202 for this use case is not correct. 202 is a non-
&gt;  committal response, meaning that, the server has accepted the request,
&gt;  but is not ready yet to provide an outcome. I don't see how this can
&gt;  be used to implement a "protocol" to delete a resource.

Something like "I guarantee you that the resource will be deleted as
soon as possible"

IIRC, CouchDB uses 202 as response code for DELETE

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10572<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2008-03-31 18:35:08<br>
Subject:Re: [rest-discuss] Content negotiation unRESTful?<br>
Message:<br><br>
<pre>
On 31.03.2008, at 17:07, Subbu Allamaraju wrote:
&gt; Strictly speaking, this is still agent-driven content-negotiation, and
&gt; the redirect you are proposing may be an implementation detail. IMO,
&gt; this redirect is not necessary. There is no need for each
&gt; representation to get its own URI, and in some cases, it could create
&gt; unnecessary proliferation without extra benefits.

IIUC the benefit is better cacheability and better support for  
authoring (if you know the URI of that PDF it is straight forward to  
PUT to it, using a single URI for all formats removes that option).

Jan


&gt;
&gt; Subbu
&gt;
&gt; On Mar 31, 2008, at 7:06 AM, Jan Algermissen wrote:
&gt;&gt; After taking a glance at it: I am not sure about the way he quotes
&gt;&gt; Roy or  XML vs JSON being mechanical etc. but I think it is generally
&gt;&gt; correct not to deliver different media types through the same
&gt;&gt; resource. If you have several, then publish a single URI that
&gt;&gt; redirects to media type specific ones based upon the Accept header.
&gt;&gt; That way every resource gets its own URI which gives the client more
&gt;&gt; control/possibilities.
&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10573<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-03-31 18:50:24<br>
Subject:Re: [rest-discuss] Content negotiation unRESTful?<br>
Message:<br><br>
<pre>Yep. This is the primary reason I have worked to use URIs that do not
include the representation type. It makes invalidating/updating the
local cache much easier.

MikeA

On Mon, Mar 31, 2008 at 2:35 PM, Jan Algermissen
&lt;algermissen1971@...&gt; wrote:
&gt;
&gt;  On 31.03.2008, at 17:07, Subbu Allamaraju wrote:
&gt;  &gt; Strictly speaking, this is still agent-driven content-negotiation, and
&gt;  &gt; the redirect you are proposing may be an implementation detail. IMO,
&gt;  &gt; this redirect is not necessary. There is no need for each
&gt;  &gt; representation to get its own URI, and in some cases, it could create
&gt;  &gt; unnecessary proliferation without extra benefits.
&gt;
&gt;  IIUC the benefit is better cacheability and better support for
&gt;  authoring (if you know the URI of that PDF it is straight forward to
&gt;  PUT to it, using a single URI for all formats removes that option).
&gt;
&gt;  Jan
&gt;
&gt;
&gt;
&gt;
&gt;  &gt;
&gt;  &gt; Subbu
&gt;  &gt;
&gt;  &gt; On Mar 31, 2008, at 7:06 AM, Jan Algermissen wrote:
&gt;  &gt;&gt; After taking a glance at it: I am not sure about the way he quotes
&gt;  &gt;&gt; Roy or  XML vs JSON being mechanical etc. but I think it is generally
&gt;  &gt;&gt; correct not to deliver different media types through the same
&gt;  &gt;&gt; resource. If you have several, then publish a single URI that
&gt;  &gt;&gt; redirects to media type specific ones based upon the Accept header.
&gt;  &gt;&gt; That way every resource gets its own URI which gives the client more
&gt;  &gt;&gt; control/possibilities.
&gt;  &gt;
&gt;  &gt;
&gt;  &gt; ------------------------------------
&gt;  &gt;
&gt;  &gt; Yahoo! Groups Links
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt;
&gt;
&gt;  ------------------------------------
&gt;
&gt;  Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10574<br>
Sender:"Daniel Yokomizo" &lt;daniel.yokomizo@...&gt;<br>
Post Date/Time:2008-03-31 18:51:01<br>
Subject:Re: [rest-discuss] Content negotiation unRESTful?<br>
Message:<br><br>
<pre>On Mon, Mar 31, 2008 at 3:35 PM, Jan Algermissen
&lt;algermissen1971@...&gt; wrote:
&gt;
&gt;  On 31.03.2008, at 17:07, Subbu Allamaraju wrote:
&gt;  &gt; Strictly speaking, this is still agent-driven content-negotiation, and
&gt;  &gt; the redirect you are proposing may be an implementation detail. IMO,
&gt;  &gt; this redirect is not necessary. There is no need for each
&gt;  &gt; representation to get its own URI, and in some cases, it could create
&gt;  &gt; unnecessary proliferation without extra benefits.
&gt;
&gt;  IIUC the benefit is better cacheability and better support for
&gt;  authoring (if you know the URI of that PDF it is straight forward to
&gt;  PUT to it, using a single URI for all formats removes that option).

Not necessarily. The accepted input representations may not be related
to the output representations.
The cacheability aspect is dealt with Vary: Accept, which works well
in practice as most agents usually send similar Accept headers (e.g.
custom agents usually ask for specific media types and each browser
software has a default set of media types that it sends most of the
time).

OTOH I don't see a problem with providing an alternate URI for
specified media types. I usually let /&lt;resource&gt; do content
negotiation and return a Vary:Accept but also handle
/&lt;resource&gt;.&lt;extension&gt; and map the extension to some supported
media-type, not sending Vary:Accept this time.

&gt;  Jan

Best regards,
Daniel Yokomizo.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10576<br>
Sender:"Alexander Johannesen" &lt;alexander.johannesen@...&gt;<br>
Post Date/Time:2008-03-31 19:35:41<br>
Subject:Re: [rest-discuss] Content negotiation unRESTful?<br>
Message:<br><br>
<pre>On Mon, Mar 31, 2008 at 9:15 PM, Berend de Boer &lt;berend@...&gt; wrote:
&gt;  How can I have a link in the browser that requests the
&gt;  appropriate content type? The only thing I have is:
&gt;
&gt;   &lt;a href="/some/resource?format=xml"/&gt;
&gt;
&gt;  It's not just the browser, HTML is deficient here as well.

But your question was "how can I in the *browser* specify ...", and
the answer is ;

   &lt;a href="/some/resource"/&gt;

... and let the client a) give hints on best response in the request
header, then b) decide if the default values were good enough. HTML is
not needed for content *negotiation*.


Alex
-- 
---------------------------------------------------------------------------
 Project Wrangler, SOA, Information Alchemist, UX, RESTafarian, Topic Maps
------------------------------------------ http://shelter.nu/blog/ --------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10577<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-03-31 19:35:49<br>
Subject:Re: [rest-discuss] Content negotiation unRESTful?<br>
Message:<br><br>
<pre>One of the things I am coming to realize is that HTML is not the whole
picture. HTTP has headers to handle issues that the document markup
was never meant to deal with (i.e. Accept and Content-Type headers).

I agree, however, that some parts of HTML are particularly frustrating
in this regard. For example, the inability of common browsers to
support the full range of IANA media-types in the HTML FORM element is
one of those:

&lt;format method="POST" action="/path/" encoding="application/json"  /&gt;

I don't see this happening in HTML5, either.

MikeA


On Mon, Mar 31, 2008 at 3:15 PM, Berend de Boer &lt;berend@...&gt; wrote:
&gt; &gt;&gt;&gt;&gt;&gt; "Alexander" == Alexander Johannesen &lt;alexander.johannesen@...&gt; writes:
&gt;
&gt;     &gt;&gt; ... but I think it is generally correct not to deliver different
&gt;     &gt;&gt; media types through the same resource.
&gt;
&gt;     Alexander&gt; Certainly, lots do it this way, but the correctness of it
&gt;     Alexander&gt; can be disputed, and I'd assert that the state of affairs
&gt;     Alexander&gt; again is how browsers have handled HTTP
&gt;
&gt;  Yes and no. How can I have a link in the browser that requests the
&gt;  appropriate content type? The only thing I have is:
&gt;
&gt;   &lt;a href="/some/resource?format=xml"/&gt;
&gt;
&gt;  It's not just the browser, HTML is deficient here as well.
&gt;
&gt;  --
&gt;  Cheers,
&gt;
&gt;  Berend de Boer
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10579<br>
Sender:"Alexander Johannesen" &lt;alexander.johannesen@...&gt;<br>
Post Date/Time:2008-03-31 20:11:52<br>
Subject:Re: [rest-discuss] Content negotiation unRESTful?<br>
Message:<br><br>
<pre>On Mon, Mar 31, 2008 at 10:00 PM, Berend de Boer &lt;berend@...&gt; wrote:
&gt;  It is. I want the user to give the option to download a table in CSV or
&gt;  Excel format. You can't do that with content negotiation in HTML
&gt;  although my backend supports that perfectly well.

I think there's some confusion here. If you want to link to specific
formats through your browser, by all means do it through
?format=whatever *because* the browser doesn't support content
negotiation. This just goes back to the sad fact that most browsers
support for HTTP is rather lacking and simplistic.

A question; does anyone know about browsers that do support HTTP better?


Alex
-- 
---------------------------------------------------------------------------
 Project Wrangler, SOA, Information Alchemist, UX, RESTafarian, Topic Maps
------------------------------------------ http://shelter.nu/blog/ --------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10580<br>
Sender:Subbu Allamaraju &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-04-01 01:29:26<br>
Subject:Re: [rest-discuss] Content negotiation unRESTful?<br>
Message:<br><br>
<pre>&gt; On 31.03.2008, at 17:07, Subbu Allamaraju wrote:
&gt;&gt; Strictly speaking, this is still agent-driven content-negotiation,  
&gt;&gt; and
&gt;&gt; the redirect you are proposing may be an implementation detail. IMO,
&gt;&gt; this redirect is not necessary. There is no need for each
&gt;&gt; representation to get its own URI, and in some cases, it could create
&gt;&gt; unnecessary proliferation without extra benefits.
&gt;
&gt; IIUC the benefit is better cacheability and better support for  
&gt; authoring (if you know the URI of that PDF it is straight forward to  
&gt; PUT to it, using a single URI for all formats removes that option).
&gt;

How so? The Content-Type of a PUT tells the server what to do.

Subbu

&gt; Jan
&gt;
&gt;
&gt;&gt;
&gt;&gt; Subbu
&gt;&gt;
&gt;&gt; On Mar 31, 2008, at 7:06 AM, Jan Algermissen wrote:
&gt;&gt;&gt; After taking a glance at it: I am not sure about the way he quotes
&gt;&gt;&gt; Roy or  XML vs JSON being mechanical etc. but I think it is  
&gt;&gt;&gt; generally
&gt;&gt;&gt; correct not to deliver different media types through the same
&gt;&gt;&gt; resource. If you have several, then publish a single URI that
&gt;&gt;&gt; redirects to media type specific ones based upon the Accept header.
&gt;&gt;&gt; That way every resource gets its own URI which gives the client more
&gt;&gt;&gt; control/possibilities.
&gt;&gt;
&gt;&gt;
&gt;&gt; ------------------------------------
&gt;&gt;
&gt;&gt; Yahoo! Groups Links
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10581<br>
Sender:Subbu Allamaraju &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-04-01 01:34:28<br>
Subject:Re: [rest-discuss] Content negotiation unRESTful?<br>
Message:<br><br>
<pre>
On Mar 31, 2008, at 1:11 PM, Alexander Johannesen wrote:

&gt; I think there's some confusion here. If you want to link to specific
&gt; formats through your browser, by all means do it through
&gt; ?format=whatever *because* the browser doesn't support content
&gt; negotiation. This just goes back to the sad fact that most browsers
&gt; support for HTTP is rather lacking and simplistic.

Right. And so, the following question applies to HTML more than it  
applies to browsers.
&gt;
&gt;
&gt; A question; does anyone know about browsers that do support HTTP  
&gt; better?

Subbu
http://subbu.org




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10582<br>
Sender:Ben Ramsey &lt;benramsey.lists@...&gt;<br>
Post Date/Time:2008-04-01 18:44:49<br>
Subject:Re: [rest-discuss] Content negotiation unRESTful?<br>
Message:<br><br>
<pre>On 3/31/08 10:06 AM, Jan Algermissen wrote:
&gt; Hmm...wonder how one would do this with an Atom entry's content,
&gt; where there can only be one content which also should have a media
&gt; type attribute set.

The atom:entry represents a particular resource with whatever content is 
specified by the atom:content element.

The proper way to represent other types of representations of the same 
atom:entry would be to use an atom:link with a rel attribute of "alternate" and 
a type attribute for the specific media type represented by the URI in the link 
href.

You can have multiple "alternate" atom:link elements provided that there is not 
more than one with the same combination of type and hreflang.

-- 
Ben Ramsey
http://benramsey.com/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10583<br>
Sender:"James McGovern" &lt;james@...&gt;<br>
Post Date/Time:2008-04-02 09:45:27<br>
Subject:Open Web Application Security Project (OWASP) :  April 2008<br>
Message:<br><br>
<pre>&gt; When: Wednesday, April 30, 2008 5:00 PM-8:00 PM (GMT-05:00) Eastern Time
&gt; (US &amp; Canada).
&gt; Where: The Hartford, 690 Asylum Street, Hartford CT: Tower Building
&gt; 
&gt; *~*~*~*~*~*~*~*~*~*
&gt; 
&gt; At the core, OWASP is just a community of people passionate about software
&gt; development and making sure the applications we create are done with
&gt; security in mind. We all share a vision of a world where you can
&gt; confidently trust the software you use. Unfortunately, the current
&gt; software market doesn't encourage security - that's something we are
&gt; trying to change. One of our primary missions is to make application
&gt; security visible so that people can make informed decisions about risk.
&gt; All of our events are free to attend and materials are available under an
&gt; open source license... 
&gt; Agenda: Wednesday, April 30th, 2008 
&gt; Food and Networking: 5:30 - 5:45 PM: Sponsored by Ounce Labs
&gt; (&lt;http://www.ouncelabs.com&gt;) 
&gt; Opening Remarks: 5:45 - 6:00 PM James McGovern, Chapter Lead 
&gt; Session One: 6:00 - 6:45 PM: The idiots guide to developing bad enterprise
&gt; applications and worst logging practices
&gt; Anton Chuvakin, Chief Logging Evangelist, LogLogic 
&gt; Session Two: 6:45- 7:30 PM: Keeping Secrets - Application Security is a
&gt; Business Imperative
&gt; Jack Danahy, CTO and Founder, Ounce Labs 
&gt; Closing: 7:30- 7:45 PM: Raffles and Door Prizes
&gt; 
&gt; Next Meeting: Wednesday, June 11th, 2008 
&gt; Session One: 6:00 - 6:45 PM: Identity Governance Framework
&gt; Prateek Mishra, Director of Security Standards at Oracle. Pioneered
&gt; development of the SAML specification and brains behind Netegrity
&gt; Siteminder
&gt; Session Two: 6:45 - 7:30 PM: CardSpace and User-Centric Identity
&gt; Chris Winn, Security Evangelist, Microsoft 
&gt; To join the chapter mailing list, please visit our mailing list homepage
&gt; at &lt;https://lists.owasp.org/mailman/listinfo/owasp-hartford&gt;. Please check
&gt; the mailing list before coming to a meeting to confirm the location and
&gt; time and to catch any last minute notes. 
&gt; Future Meetings 
&gt; *	Jeffrey Margolies, Partner at Accenture (&lt;http://www.accenture.com&gt;)
&gt; 
&gt; *	Nick Selby, Industry Analyst at the 451 Group
&gt; (&lt;http://www.the451group.com/&gt;) 
&gt; *	Jim Routh, CISO of Depository Trust and Clearing Corporation
&gt; (&lt;http://www.dtcc.com&gt;) 
&gt; *	Grady Summers, CISO of General Electric (&lt;http://www.ge.com/&gt;) 
&gt; *	Peter Lindstrom, Industry Analyst at the Burton Group
&gt; (&lt;http://www.burtongroup.com/&gt;)
&gt; 
&gt; Directions: The Hartford, Tower Building 22nd Floor 
&gt; From East (via Route 84): 
&gt; *	Approaching Hartford, follow Route 84 West to Exit 48 (Asylum Ave.
&gt; Exit 
&gt; *	At light, take a right onto Asylum Avenue 
&gt; *	Turn into entrance on right near Home Office 
&gt; *	Proceed to the Ramp Garage and park 
&gt; *	Enter the Tower Building using the West Entrance 
&gt; From West (via Route 84): 
&gt; *	Approaching downtown Hartford, follow Route 84 East to Exit 48A
&gt; (Asylum Ave. Exit) 
&gt; *	At light, take a left onto Asylum Avenue 
&gt; *	Turn into entrance on right near Home Office 
&gt; *	Proceed to the Ramp Garage and park 
&gt; *	Enter the Tower Building using the West Entrance 
&gt; Sponsors: 
&gt; *	Artec Group: &lt;http://www.arctecgroup.net/&gt; 
&gt; *	Ounce Labs: &lt;http://www.ouncelabs.com/&gt; 
&gt; *	The Hartford: &lt;http://www.thehartford.com/&gt; 
&gt; *	White Hat Security: &lt;http://www.whitehatsec.com/&gt; 
&gt; *	LogLogic:&lt;http://www.loglogic.com/&gt; 
&gt; *	Forrester Research: &lt;http://www.forrester.com/&gt; 
&gt; *	Cigital: &lt;http://www.cigital.com/&gt; 
&gt; 
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10584<br>
Sender:"dfl_maradentro" &lt;dfl_maradentro@...&gt;<br>
Post Date/Time:2008-04-02 13:32:45<br>
Subject:REST for non-Web Applications<br>
Message:<br><br>
<pre>Hi you all,

reading the book in [1], they say that, as REST is not only applicable 
to the Web, they propose a specific REST-based Web architecture, name 
ROA (Resource Oriented Architecture). 

If any of you have read this book, can anybody tell me why this 
architecture cannot be applied to any other hypermedia distributed 
environment?

Thanks a lot.
 
[1] Leonard Richardson and Sam Ruby, RESTful Web Services. O'Reilly, 
mayo 2007


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10585<br>
Sender:"Roger van de Kimmenade" &lt;rvdkimmenade@...&gt;<br>
Post Date/Time:2008-04-02 13:38:34<br>
Subject:Re: [rest-discuss] REST for non-Web Applications<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10586<br>
Sender:Story Henry &lt;henry.story@...&gt;<br>
Post Date/Time:2008-04-02 13:41:14<br>
Subject:Re: [rest-discuss] REST for non-Web Applications<br>
Message:<br><br>
<pre>It is a nice book, and I started reviewing it here

http://blogs.sun.com/bblfish/entry/restful_web_services_the_book

But really there is no reason it could not work with Linked Data

http://en.wikipedia.org/wiki/Linked_Data

In fact ROA and RDF and REST are all designed to work together.

Henry

On 2 Apr 2008, at 15:32, dfl_maradentro wrote:
&gt; Hi you all,
&gt;
&gt; reading the book in [1], they say that, as REST is not only applicable
&gt; to the Web, they propose a specific REST-based Web architecture, name
&gt; ROA (Resource Oriented Architecture).
&gt;
&gt; If any of you have read this book, can anybody tell me why this
&gt; architecture cannot be applied to any other hypermedia distributed
&gt; environment?
&gt;
&gt; Thanks a lot.
&gt;
&gt; [1] Leonard Richardson and Sam Ruby, RESTful Web Services. O'Reilly,
&gt; mayo 2007
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10587<br>
Sender:"dfl_maradentro" &lt;dfl_maradentro@...&gt;<br>
Post Date/Time:2008-04-02 14:33:24<br>
Subject:Re: REST for non-Web Applications<br>
Message:<br><br>
<pre>More precisely, the book says something like:
"ROA, a way of turning a problem into a RESTful Web Service: an 
arrangement of URI's, HTTP, and XML... [...]",
"...REST is not tied to the Web..."
"ROA is explicitly tied to the technologies of the Web"

The problem is that I don't see any difference between ROA and REST, 
(just the architecture vs set of principles stuff).

--- In rest-discuss@yahoogroups.com, "Roger van de Kimmenade" 
&lt;rvdkimmenade@...&gt; wrote:
&gt;
&gt; I have read the book, but i do not know why it cannot.
&gt; It is just another name , and is just like OO-architecture, in my 
opinion.
&gt; Because the REST style is based around resources.
&gt; But maybe i missed something.
&gt; 
&gt; Regards
&gt; Roger van de Kimmenade
&gt; 
&gt; On Wed, Apr 2, 2008 at 3:32 PM, dfl_maradentro &lt;dfl_maradentro@...&gt;
&gt; wrote:
&gt; 
&gt; &gt;   Hi you all,
&gt; &gt;
&gt; &gt; reading the book in [1], they say that, as REST is not only 
applicable
&gt; &gt; to the Web, they propose a specific REST-based Web architecture, 
name
&gt; &gt; ROA (Resource Oriented Architecture).
&gt; &gt;
&gt; &gt; If any of you have read this book, can anybody tell me why this
&gt; &gt; architecture cannot be applied to any other hypermedia distributed
&gt; &gt; environment?
&gt; &gt;
&gt; &gt; Thanks a lot.
&gt; &gt;
&gt; &gt; [1] Leonard Richardson and Sam Ruby, RESTful Web Services. 
O'Reilly,
&gt; &gt; mayo 2007
&gt; &gt;
&gt; &gt;  
&gt; &gt;
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10588<br>
Sender:don.dwoske@...<br>
Post Date/Time:2008-04-02 15:00:13<br>
Subject:Re: [rest-discuss] Re: REST for non-Web Applications<br>
Message:<br><br>
<pre>REST is not tied to any specific implementation technology...they are
just design constraints. You can build a RESTful app on top of TCP,
Styx[1] (someday WAKA? [2]) or some other transport/application
protocol.  Representations could be sexp's instead of XML.  REST
doesn't care.

ROA as presented in the book specifies the implementation technologies
- HTTP, XML.. which ties it to the "technologies of the web".   Giving
it a name (ROA) may or may not be useful.. it may just be confusing
because it's already widely known as the World Wide Web.

If I were to try and describe it, I would say that ROA specifies the
implementation technologies using REST design constraints, and those
technologies happen to be a subset of those used in the broader "World
Wide Web".


[1] http://www.vitanuova.com/inferno/papers/styx.html
[2] http://en.wikipedia.org/wiki/Waka_(protocol)

On 4/2/08, dfl_maradentro &lt;dfl_maradentro@...&gt; wrote:
&gt; More precisely, the book says something like:
&gt; "ROA, a way of turning a problem into a RESTful Web Service: an
&gt; arrangement of URI's, HTTP, and XML... [...]",
&gt; "...REST is not tied to the Web..."
&gt; "ROA is explicitly tied to the technologies of the Web"
&gt;
&gt; The problem is that I don't see any difference between ROA and REST,
&gt; (just the architecture vs set of principles stuff).
&gt;
&gt; --- In rest-discuss@yahoogroups.com, "Roger van de Kimmenade"
&gt; &lt;rvdkimmenade@...&gt; wrote:
&gt; &gt;
&gt; &gt; I have read the book, but i do not know why it cannot.
&gt; &gt; It is just another name , and is just like OO-architecture, in my
&gt; opinion.
&gt; &gt; Because the REST style is based around resources.
&gt; &gt; But maybe i missed something.
&gt; &gt;
&gt; &gt; Regards
&gt; &gt; Roger van de Kimmenade
&gt; &gt;
&gt; &gt; On Wed, Apr 2, 2008 at 3:32 PM, dfl_maradentro &lt;dfl_maradentro@...&gt;
&gt; &gt; wrote:
&gt; &gt;
&gt; &gt; &gt;   Hi you all,
&gt; &gt; &gt;
&gt; &gt; &gt; reading the book in [1], they say that, as REST is not only
&gt; applicable
&gt; &gt; &gt; to the Web, they propose a specific REST-based Web architecture,
&gt; name
&gt; &gt; &gt; ROA (Resource Oriented Architecture).
&gt; &gt; &gt;
&gt; &gt; &gt; If any of you have read this book, can anybody tell me why this
&gt; &gt; &gt; architecture cannot be applied to any other hypermedia distributed
&gt; &gt; &gt; environment?
&gt; &gt; &gt;
&gt; &gt; &gt; Thanks a lot.
&gt; &gt; &gt;
&gt; &gt; &gt; [1] Leonard Richardson and Sam Ruby, RESTful Web Services.
&gt; O'Reilly,
&gt; &gt; &gt; mayo 2007
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt;
&gt;
&gt;
&gt;


-- 
---------------------------------------
Donald Dwoske
http://don.dwoske.com/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10589<br>
Sender:"Roger van de Kimmenade" &lt;rvdkimmenade@...&gt;<br>
Post Date/Time:2008-04-02 16:30:59<br>
Subject:Re: [rest-discuss] Re: REST for non-Web Applications<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10590<br>
Sender:"dfl_maradentro" &lt;dfl_maradentro@...&gt;<br>
Post Date/Time:2008-04-02 16:44:30<br>
Subject:Re: REST for non-Web Applications<br>
Message:<br><br>
<pre>Uummm, ok, I thought REST was tied to HTTP (cause WWW is tied mostly 
to HTTP and REST to WWW).

Thanks :)
&gt;
&gt; The difference is that ROA is based on HTTP, whereas in principle 
REST is
&gt; not tied to HTTP, but
&gt; HTTP 1.1 was setup the REST way.
&gt; I think that is the difference.
&gt; 
&gt; Roger van de Kimmenade
&gt; 
&gt; On Wed, Apr 2, 2008 at 4:33 PM, dfl_maradentro &lt;dfl_maradentro@...&gt;
&gt; wrote:
&gt; 
&gt; &gt;   More precisely, the book says something like:
&gt; &gt; "ROA, a way of turning a problem into a RESTful Web Service: an
&gt; &gt; arrangement of URI's, HTTP, and XML... [...]",
&gt; &gt; "...REST is not tied to the Web..."
&gt; &gt; "ROA is explicitly tied to the technologies of the Web"
&gt; &gt;
&gt; &gt; The problem is that I don't see any difference between ROA and 
REST,
&gt; &gt; (just the architecture vs set of principles stuff).
&gt; &gt;
&gt; &gt; --- In rest-discuss@yahoogroups.com &lt;rest-discuss%
40yahoogroups.com&gt;,
&gt; &gt; "Roger van de Kimmenade"
&gt; &gt; &lt;rvdkimmenade@&gt; wrote:
&gt; &gt; &gt;
&gt; &gt; &gt; I have read the book, but i do not know why it cannot.
&gt; &gt; &gt; It is just another name , and is just like OO-architecture, in 
my
&gt; &gt; opinion.
&gt; &gt; &gt; Because the REST style is based around resources.
&gt; &gt; &gt; But maybe i missed something.
&gt; &gt; &gt;
&gt; &gt; &gt; Regards
&gt; &gt; &gt; Roger van de Kimmenade
&gt; &gt; &gt;
&gt; &gt; &gt; On Wed, Apr 2, 2008 at 3:32 PM, dfl_maradentro &lt;dfl_maradentro@&gt;
&gt; &gt; &gt; wrote:
&gt; &gt; &gt;
&gt; &gt; &gt; &gt; Hi you all,
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; reading the book in [1], they say that, as REST is not only
&gt; &gt; applicable
&gt; &gt; &gt; &gt; to the Web, they propose a specific REST-based Web 
architecture,
&gt; &gt; name
&gt; &gt; &gt; &gt; ROA (Resource Oriented Architecture).
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; If any of you have read this book, can anybody tell me why 
this
&gt; &gt; &gt; &gt; architecture cannot be applied to any other hypermedia 
distributed
&gt; &gt; &gt; &gt; environment?
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Thanks a lot.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; [1] Leonard Richardson and Sam Ruby, RESTful Web Services.
&gt; &gt; O'Reilly,
&gt; &gt; &gt; &gt; mayo 2007
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt;
&gt; &gt;  
&gt; &gt;
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10591<br>
Sender:don.dwoske@...<br>
Post Date/Time:2008-04-02 18:18:40<br>
Subject:Re: [rest-discuss] Re: REST for non-Web Applications<br>
Message:<br><br>
<pre>It's very helpful to re-read Roy's dissertation.  REST is only one
chapter in a larger theme - the title of the dissertation is
"Architectural Styles and the Design of Network-based Software
Architectures"

I've read it probably half a dozen times now, and I learn something
new every single time.  I recall very strongly when I came up with the
idea that in RESTful apps, not only could resources be 'objects' or
'nouns' but they could be 'verbs' in the form of code... so I could
create (and deploy) an application by HTTP PUT-ting new versions of
source code on my website instead of deploying a .war file or
something like that.  The web server never goes down, you just update
the resources on it using the uniform interface inherent in the
application.

But of course that thought is not original, we use resources which are
actually code all the time (e.g.
http://jqueryjs.googlecode.com/files/jquery-1.2.3.js is a resource,
the jQuery javascript code) ..

That code-on-demand feature is in the dissertation.  But somehow, it
just didn't click that code could be a resource, even though I'm
familiar with the Lisp world where the lines between code and data are
blurred.

From 5.1.7
The final addition to our constraint set for REST comes from the
code-on-demand style of Section 3.5.3 (Figure 5-8). REST allows client
functionality to be extended by downloading and executing code in the
form of applets or scripts. This simplifies clients by reducing the
number of features required to be pre-implemented. Allowing features
to be downloaded after deployment improves system extensibility.
However, it also reduces visibility, and thus is only an optional
constraint within REST.


Then of course, you start to think about things like - if the code
resource was stored as an abstract syntax tree or bytecode, you could
request different representations of the code - such as Javascript,
Java, or C# or Lisp representations depending on your language of
choice... the server would have a disassembler of sorts to turn the
AST into source code.   But, we don't even have IDE workbenches that
do such things, and the usefulness of that is questionable, but that's
where my mind wandered.

-d-

On 4/2/08, dfl_maradentro &lt;dfl_maradentro@...&gt; wrote:
&gt; Uummm, ok, I thought REST was tied to HTTP (cause WWW is tied mostly
&gt; to HTTP and REST to WWW).
&gt;
&gt; Thanks :)
&gt; &gt;
&gt; &gt; The difference is that ROA is based on HTTP, whereas in principle
&gt; REST is
&gt; &gt; not tied to HTTP, but
&gt; &gt; HTTP 1.1 was setup the REST way.
&gt; &gt; I think that is the difference.
&gt; &gt;
&gt; &gt; Roger van de Kimmenade
&gt; &gt;
&gt; &gt; On Wed, Apr 2, 2008 at 4:33 PM, dfl_maradentro &lt;dfl_maradentro@...&gt;
&gt; &gt; wrote:
&gt; &gt;
&gt; &gt; &gt;   More precisely, the book says something like:
&gt; &gt; &gt; "ROA, a way of turning a problem into a RESTful Web Service: an
&gt; &gt; &gt; arrangement of URI's, HTTP, and XML... [...]",
&gt; &gt; &gt; "...REST is not tied to the Web..."
&gt; &gt; &gt; "ROA is explicitly tied to the technologies of the Web"
&gt; &gt; &gt;
&gt; &gt; &gt; The problem is that I don't see any difference between ROA and
&gt; REST,
&gt; &gt; &gt; (just the architecture vs set of principles stuff).
&gt; &gt; &gt;
&gt; &gt; &gt; --- In rest-discuss@yahoogroups.com &lt;rest-discuss%
&gt; 40yahoogroups.com&gt;,
&gt; &gt; &gt; "Roger van de Kimmenade"
&gt; &gt; &gt; &lt;rvdkimmenade@&gt; wrote:
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; I have read the book, but i do not know why it cannot.
&gt; &gt; &gt; &gt; It is just another name , and is just like OO-architecture, in
&gt; my
&gt; &gt; &gt; opinion.
&gt; &gt; &gt; &gt; Because the REST style is based around resources.
&gt; &gt; &gt; &gt; But maybe i missed something.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Regards
&gt; &gt; &gt; &gt; Roger van de Kimmenade
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; On Wed, Apr 2, 2008 at 3:32 PM, dfl_maradentro &lt;dfl_maradentro@&gt;
&gt; &gt; &gt; &gt; wrote:
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; Hi you all,
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; reading the book in [1], they say that, as REST is not only
&gt; &gt; &gt; applicable
&gt; &gt; &gt; &gt; &gt; to the Web, they propose a specific REST-based Web
&gt; architecture,
&gt; &gt; &gt; name
&gt; &gt; &gt; &gt; &gt; ROA (Resource Oriented Architecture).
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; If any of you have read this book, can anybody tell me why
&gt; this
&gt; &gt; &gt; &gt; &gt; architecture cannot be applied to any other hypermedia
&gt; distributed
&gt; &gt; &gt; &gt; &gt; environment?
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; Thanks a lot.
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; [1] Leonard Richardson and Sam Ruby, RESTful Web Services.
&gt; &gt; &gt; O'Reilly,
&gt; &gt; &gt; &gt; &gt; mayo 2007
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt;
&gt;
&gt;
&gt;


-- 
---------------------------------------
Donald Dwoske
http://don.dwoske.com/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10592<br>
Sender:"Leonardo Boiko" &lt;leoboiko@...&gt;<br>
Post Date/Time:2008-04-03 15:39:00<br>
Subject:Understanding hypermedia as the engine of application state<br>
Message:<br><br>
<pre>Hi list.  Recently Roy Fielding has posted in his blog about ROA as
defined in the RESTful book; he said that ROA doesn't focus enough in
the "hypertext constraint"   that is, "hypermedia as the engine of
application state" (aka HATEOAS). He also criticizes the
expression "conectedness" the book uses as being too resource-oriented
and too little engine-oriented.  Sam Ruby answered that they were
trying to describe it in a way easier to understand than HATEOAS[2].

I've asked this in Sam's blog, but the discussion was already over and
I guess no one noticed.  I'm just some random guy confused with all
the terminology, and now I can't sleep properly until I'm sure I
understand what HATEOAS mean.  I don't want to get out to buy alcohol
'cause it's cold, so could you guys help me sleep? I'm copying the
following list of tentative assertions from my comment; do they look
more or less correct, or am I saying things I don't really understand?


1. The book term "conectedness" means that the resources exposed by
    the service have hyperlinks to one another.  If you draw them as a
    graph, the whole graph is a single connected component.

2. "Application state" means whatever state is specific to the
    server-client interaction at hand; in other words, state that's only
    visible to a specific client.

3. "The hypertext constraint" Roy's talking about in his post means
    the same thing as "hypermedia as the engine of application state" in
    his thesis[3].

4. And HATEOAS means that the changes in application state are
    performed through hyperlinks.

5. Thus, HATEOAS implies the following requirements:

    1. All the possible application states are exposed as resources (and
        not implemented e.g. with cookies, javascript variables and whatnot).

    2. All the possible state changes are exposed as hyperlinks.  This
        implies conectedness, but is a stronger restriction.

6. Compared to simple conectedness, HATEOAS has the added benefit of
    "late binding of application alternatives" (Roy).  In other words, the
    path you take in the state graph is only decided at runtime, when
    you're actually using the application, and the server can present new
    states and transitions.  These "server-directed transitions" (Assaf)
    are how HATEOAS "eliminates the need to do installation and updates
    for web applications" (Sam).

References:

[1] http://roy.gbiv.com/untangled/2008/on-software-architecture
[2] http://intertwingly.net/blog/2008/03/23/Connecting
[3] http://article.gmane.org/gmane.comp.web.services.rest/6874

--
Leonardo Boiko
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10593<br>
Sender:"stephan.koops" &lt;Stephan.Koops@...&gt;<br>
Post Date/Time:2008-04-03 12:53:05<br>
Subject:current opinions to JAX-RS/JSR 311<br>
Message:<br><br>
<pre>Hi,

I'm writing my masterthesis about an implementation of JAX-RS / JSR311
on top of Restlet, and also collected opinions about JAX-RS. I've read
a lot of messages in the archive about opinions to JAX-RS from the
middle of february 2007. Now I'm interested what you are thinking now.
Do you think your objections are considered? Which ones not?
And especially I am interested, what Roy Fielding thinks now.

Who is interested to have a look in the pre-alpha version, could take
a look at
http://wiki.restlet.org/docs_1.1/g1/13-restlet/28-restlet/57-restlet.html
.

best regards
   Stephan Koops


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10594<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2008-04-03 16:34:39<br>
Subject:Re: [rest-discuss] Understanding hypermedia as the engine of application state<br>
Message:<br><br>
<pre>Leonardo,

it is all about minimizing the assumptions (and hence the coupling)  
the client of a Web application may make.

When you (the client) make your way through the Web app 'ordering a  
book at Amazon' you know what kinds of state changes there are you  
could look for, e.g. searching the catalog, looking a the details of  
a book, looking at reviews, placing book in cart, looking at cart,  
placing order of card content, canceling order etc.

You achieve any of these state changes by following typed links (you  
just know the types from reading the page, a machine client would  
need a bit more detailed link types (e.g. the edit-link in Atom/APP)  
to do the same - conceptually it is the same).

It is your choice to perform any of the state changes the hypermedia  
you look at contains and it is the server's choice

- at what state you see which transition possibilities
- which user sees which transition possibilities
- which links to follow to achive the transition

IOW, the servers delivers hypermedia to you that represents your  
current state in the application (your interaction with Amazon).
The server can provide URIs you can go to to allways retrieve you  
current state in case you lost it.

The most extreme effect of the constraint is that the server can  
change the state machine while you execute it (because it is not hard  
wired in the client!!). E.g. Amazon can introduce such a thing as 1- 
click without shutting down the clients that currently interact with  
the application - they simply see one more transition. Ifthey do not  
understand the semantics of '1-click' they can ignore them or follow  
the 'learn more' transition - or be incrementally updated by the  
development teams in the case of machine clients.

HTH,

Jan


On 03.04.2008, at 17:39, Leonardo Boiko wrote:
&gt; Hi list.  Recently Roy Fielding has posted in his blog about ROA as
&gt; defined in the RESTful book; he said that ROA doesn't focus enough in
&gt; the "hypertext constraint"   that is, "hypermedia as the engine of
&gt; application state" (aka HATEOAS). He also criticizes the
&gt; expression "conectedness" the book uses as being too resource-oriented
&gt; and too little engine-oriented.  Sam Ruby answered that they were
&gt; trying to describe it in a way easier to understand than HATEOAS[2].
&gt;
&gt; I've asked this in Sam's blog, but the discussion was already over and
&gt; I guess no one noticed.  I'm just some random guy confused with all
&gt; the terminology, and now I can't sleep properly until I'm sure I
&gt; understand what HATEOAS mean.  I don't want to get out to buy alcohol
&gt; 'cause it's cold, so could you guys help me sleep? I'm copying the
&gt; following list of tentative assertions from my comment; do they look
&gt; more or less correct, or am I saying things I don't really understand?
&gt;
&gt;
&gt; 1. The book term "conectedness" means that the resources exposed by
&gt;     the service have hyperlinks to one another.  If you draw them as a
&gt;     graph, the whole graph is a single connected component.
&gt;
&gt; 2. "Application state" means whatever state is specific to the
&gt;     server-client interaction at hand; in other words, state that's  
&gt; only
&gt;     visible to a specific client.
&gt;
&gt; 3. "The hypertext constraint" Roy's talking about in his post means
&gt;     the same thing as "hypermedia as the engine of application  
&gt; state" in
&gt;     his thesis[3].
&gt;
&gt; 4. And HATEOAS means that the changes in application state are
&gt;     performed through hyperlinks.
&gt;
&gt; 5. Thus, HATEOAS implies the following requirements:
&gt;
&gt;     1. All the possible application states are exposed as resources  
&gt; (and
&gt;         not implemented e.g. with cookies, javascript variables and  
&gt; whatnot).
&gt;
&gt;     2. All the possible state changes are exposed as hyperlinks.  This
&gt;         implies conectedness, but is a stronger restriction.
&gt;
&gt; 6. Compared to simple conectedness, HATEOAS has the added benefit of
&gt;     "late binding of application alternatives" (Roy).  In other  
&gt; words, the
&gt;     path you take in the state graph is only decided at runtime, when
&gt;     you're actually using the application, and the server can  
&gt; present new
&gt;     states and transitions.  These "server-directed  
&gt; transitions" (Assaf)
&gt;     are how HATEOAS "eliminates the need to do installation and  
&gt; updates
&gt;     for web applications" (Sam).
&gt;
&gt; References:
&gt;
&gt; [1] http://roy.gbiv.com/untangled/2008/on-software-architecture
&gt; [2] http://intertwingly.net/blog/2008/03/23/Connecting
&gt; [3] http://article.gmane.org/gmane.comp.web.services.rest/6874
&gt;
&gt; --
&gt; Leonardo Boiko
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10595<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-04-03 18:18:08<br>
Subject:Re: [rest-discuss] Understanding hypermedia as the engine of application state<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10596<br>
Sender:"Leonardo Boiko" &lt;leoboiko@...&gt;<br>
Post Date/Time:2008-04-03 19:11:29<br>
Subject:Re: [rest-discuss] Understanding hypermedia as the engine of application state<br>
Message:<br><br>
<pre>So it seems I was not that far off?

In that case, I think HATEOAS is actually a good, concise technical
term.  The problem is that it depends on understanding the exact
meaning of "application state" (as opposed to resource state).  I
don't think it's possible to state HATEOAS in significantly simpler
words without losing accuracy.  If we settle for that, I'd use
"hypermedia states"  close to Roy's suggestion of "hyperstates", but
less eighties.  This is a simplification of the idea that HATEOAS
means 1) all states as resources, and 2) all changes of state as
hyperlinks between resources.

Thanks for the replies.
-- 
Leonardo Boiko
http://namakajiri.net
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10597<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2008-04-03 19:34:43<br>
Subject:Re: [rest-discuss] Understanding hypermedia as the engine of application state<br>
Message:<br><br>
<pre>Leonardo,

On 03.04.2008, at 21:11, Leonardo Boiko wrote:
&gt; So it seems I was not that far off?
&gt;
&gt; In that case, I think HATEOAS is actually a good, concise technical
&gt; term.  The problem is that it depends on understanding the exact
&gt; meaning of "application state" (as opposed to resource state).  I
&gt; don't think it's possible to state HATEOAS in significantly simpler
&gt; words without losing accuracy.  If we settle for that, I'd use
&gt; "hypermedia states"  close to Roy's suggestion of "hyperstates", but
&gt; less eighties.  This is a simplification of the idea that HATEOAS
&gt; means 1) all states as resources, and 2) all changes of state as
&gt; hyperlinks between resources.

In my reading this sounds misleading. I'd rather say:

1) Transferring state as representations
2) Communicating state transition options as hyperlinks
3) Changing state/proceeding through the application (or service for  
that matter) by traversal of hyperlinks

Eh?

Jan





&gt;
&gt; Thanks for the replies.
&gt; -- 
&gt; Leonardo Boiko
&gt; http://namakajiri.net
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10598<br>
Sender:"Leonardo Boiko" &lt;leoboiko@...&gt;<br>
Post Date/Time:2008-04-03 19:37:35<br>
Subject:Re: [rest-discuss] Understanding hypermedia as the engine of application state<br>
Message:<br><br>
<pre>On Thu, Apr 3, 2008 at 12:34 PM, Jan Algermissen
&lt;algermissen1971@...&gt; wrote:
&gt; &gt; means 1) all states as resources, and 2) all changes of state as
&gt; &gt; hyperlinks between resources.
&gt;
&gt;  In my reading this sounds misleading. I'd rather say:
&gt;
&gt;  1) Transferring state as representations
&gt;  2) Communicating state transition options as hyperlinks
&gt;  3) Changing state/proceeding through the application (or service for that
&gt; matter) by traversal of hyperlinks

Isn't that saying the same thing, only more detailed? Or am I missing
something again?

-- 
Leonardo Boiko
http://namakajiri.net

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10599<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-04-03 19:42:20<br>
Subject:Re: [rest-discuss] Understanding hypermedia as the engine of application state<br>
Message:<br><br>
<pre>&gt;  &gt; &gt;1) all states as resources,
&gt;  &gt;
&gt;  &gt;  1) Transferring state as representations

States aren't resources! Resources are well resources , any useful
thing , data etc. in the real world*.... sayings states are resources
is just wrong.

it is REpresentational State Transfer + HATEOS , which covers it all.

Regards
Devdatta

* not meant in the way OOP people talk about objects being some real
world entity ... you can read up on the any number of definitions of
resources.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10600<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2008-04-03 19:43:49<br>
Subject:Re: [rest-discuss] Understanding hypermedia as the engine of application state<br>
Message:<br><br>
<pre>
On 03.04.2008, at 21:37, Leonardo Boiko wrote:
&gt; On Thu, Apr 3, 2008 at 12:34 PM, Jan Algermissen
&gt; &lt;algermissen1971@...&gt; wrote:
&gt;&gt;&gt; means 1) all states as resources, and 2) all changes of state as
&gt;&gt;&gt; hyperlinks between resources.
&gt;&gt;
&gt;&gt;  In my reading this sounds misleading. I'd rather say:
&gt;&gt;
&gt;&gt;  1) Transferring state as representations
&gt;&gt;  2) Communicating state transition options as hyperlinks
&gt;&gt;  3) Changing state/proceeding through the application (or service  
&gt;&gt; for that
&gt;&gt; matter) by traversal of hyperlinks
&gt;
&gt; Isn't that saying the same thing, only more detailed?

Just wanted to be more precise because your wording (in my reading)  
could be read differently.

&gt; Or am I missing
&gt; something again?

If you agree with my wording (and if I am not missing something  
myself :-) than you seem not
to be missing something :-)

Cheers,
Jan



&gt;
&gt; -- 
&gt; Leonardo Boiko
&gt; http://namakajiri.net
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10601<br>
Sender:"Leonardo Boiko" &lt;leoboiko@...&gt;<br>
Post Date/Time:2008-04-03 19:54:04<br>
Subject:Re: [rest-discuss] Understanding hypermedia as the engine of application state<br>
Message:<br><br>
<pre>On Thu, Apr 3, 2008 at 12:42 PM, dev &lt;dev.akhawe@gmail.com&gt; wrote:
&gt; &gt;  &gt; &gt;1) all states as resources,
&gt; &gt;  &gt;  1) Transferring state as representations
&gt;
&gt;  States aren't resources! Resources are well resources , any useful
&gt;  thing , data etc. in the real world*.... sayings states are resources
&gt;  is just wrong.

Doesn't the point of HATEOAS requires that application states be
exposed as resources, as described in "RESTful Web Services"? How you
can use hypermedia as the engine of application state if hyperlinks
can't link to new application states?

Sure, an resource is any useful thing with an unique identifier.  I'm
not saying that resources = states, I'm saying that states 
resources.  For HATEOAS to work, you need the states to be resources
(with proper representations).  If you have some application state not
visible as a resource, you can't access it with an hyperlink, and thus
the engine for state changing is not hypermedia.  No?

-- 
Leonardo Boiko
http://namakajiri.net
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10602<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2008-04-03 19:58:15<br>
Subject:Re: [rest-discuss] Understanding hypermedia as the engine of application state<br>
Message:<br><br>
<pre>
On 03.04.2008, at 21:54, Leonardo Boiko wrote:
&gt; On Thu, Apr 3, 2008 at 12:42 PM, dev &lt;dev.akhawe@...&gt; wrote:
&gt;&gt;&gt;&gt;&gt; 1) all states as resources,
&gt;&gt;&gt;&gt;  1) Transferring state as representations
&gt;&gt;
&gt;&gt;  States aren't resources! Resources are well resources , any useful
&gt;&gt;  thing , data etc. in the real world*.... sayings states are  
&gt;&gt; resources
&gt;&gt;  is just wrong.
&gt;
&gt; Doesn't the point of HATEOAS requires that application states be
&gt; exposed as resources, as described in "RESTful Web Services"? How you
&gt; can use hypermedia as the engine of application state if hyperlinks
&gt; can't link to new application states?
&gt;
&gt; Sure, an resource is any useful thing with an unique identifier.  I'm
&gt; not saying that resources = states, I'm saying that states 
&gt; resources.  For HATEOAS to work, you need the states to be resources
&gt; (with proper representations).  If you have some application state not
&gt; visible as a resource, you can't access it with an hyperlink, and thus
&gt; the engine for state changing is not hypermedia.  No?

resources != states  (resource == membership function[1])

You can obtain applications state by dereferencing a resource.

Jan

[1] http://www.ics.uci.edu/~fielding/pubs/dissertation/ 
rest_arch_style.htm#sec_5_2_1_1
"More precisely, a resource R is a temporally varying membership  
function MR(t), which for time t maps to a set of entities, or  
values, which are equivalent. The values in the set may be resource  
representations and/or resource identifiers. A resource can map to  
the empty set, which allows references to be made to a concept before  
any realization of that concept exists -- a notion that was foreign  
to most hypertext systems prior to the Web [61]. Some resources are  
static in the sense that, when examined at any time after their  
creation, they always correspond to the same value set. Others have a  
high degree of variance in their value over time. The only thing that  
is required to be static for a resource is the semantics of the  
mapping, since the semantics is what distinguishes one resource from  
another."





&gt;
&gt; -- 
&gt; Leonardo Boiko
&gt; http://namakajiri.net


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10603<br>
Sender:"Leonardo Boiko" &lt;leoboiko@...&gt;<br>
Post Date/Time:2008-04-03 20:22:02<br>
Subject:Re: [rest-discuss] Understanding hypermedia as the engine of application state<br>
Message:<br><br>
<pre>On Thu, Apr 3, 2008 at 12:58 PM, Jan Algermissen
&lt;algermissen1971@mac.com&gt; wrote:
&gt;  resources != states  (resource == membership function[1])
&gt;
&gt;  You can obtain applications state by dereferencing a resource.

Which is what I tried to said (fuzzly) with "application states as
resources": application states as things with global identifiers, and
valid representations.  In other words, for every application state
there's a corresponding resource mapping (identifier 
representation*).  No?
-- 
Leonardo Boiko
http://namakajiri.net
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10604<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-04-03 21:53:16<br>
Subject:Re: [rest-discuss] Understanding hypermedia as the engine of application state<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10605<br>
Sender:"Leonardo Boiko" &lt;leoboiko@...&gt;<br>
Post Date/Time:2008-04-03 21:57:53<br>
Subject:Re: [rest-discuss] Understanding hypermedia as the engine of application state<br>
Message:<br><br>
<pre>I see, thanks.  Jan's description sounds much better than mine now.

-- 
Leonardo Boiko
http://namakajiri.net

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10606<br>
Sender:"Steve Loughran" &lt;steve.loughran.soapbuilders@...&gt;<br>
Post Date/Time:2008-04-04 08:23:58<br>
Subject:Re: [rest-discuss] Re: REST for non-Web Applications<br>
Message:<br><br>
<pre>On Wed, Apr 2, 2008 at 5:44 PM, dfl_maradentro &lt;dfl_maradentro@...&gt; wrote:
&gt; Uummm, ok, I thought REST was tied to HTTP (cause WWW is tied mostly
&gt;  to HTTP and REST to WWW).
&gt;

There's  no requirement that you have to have a network in the REST
architecture either, both Restlet and NetKernel let you glue things
together in process using common REST interface/operations. Caching
and content negotiation can still apply here.

why do that? Well, loose coupling of code turns out to be a good idea all round

-steve

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10607<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2008-04-04 09:56:11<br>
Subject:Re: [rest-discuss] Understanding hypermedia as the engine of application state<br>
Message:<br><br>
<pre>I think the easiest way to consider hypermedia-as-engine is the consider 
an *extremely* simple web site that you might do when teaching a child HTML.

/index.html -&gt; "My Stories". List of two links to two stories the child 
has written.
/story1.html -&gt; "What I did during the summer". Links back to /index.html.
/story2.html -&gt; "The Unbearable Lightness of Being". What a precocious 
child! Links back to /index.html

So. Without any links from these three pages to the outside world, we 
have three states we can have the client in:

1. Displaying /index.html
2. Displaying /story1.html
3. Displaying /story2.html

We can move from state 1 to state 2 or 3 and from state 2 or 3 to state 
1. The change in application state happens due to links.

The above is so simple that we're unlikely to think of it as an 
application, but it is still an application, and still representative of 
the principle of how hypermedia is the engine of much more complicated 
applications.

It doesn't do anything which alters the state of the server, but if we 
add a guestbook then we've just added 2 more states (viewing guestbook 
and adding guestbook entry) and a way to change the nature of one of 
those states (viewing guestbook).

The way links change the state of a client looking at such a 
my-first-website application is exactly how they do so on a rich 
interactive updateable web application or web service.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10609<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-04-07 11:26:40<br>
Subject:RE: [rest-discuss] Content negotiation unRESTful?<br>
Message:<br><br>
<pre>303 and httpRange-14 is a benefit.

-----Original Message-----
From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On
Behalf Of Subbu Allamaraju
Sent: 31 March 2008 16:07
To: Jan Algermissen
Cc: Stefan Tilkov; REST Discuss
Subject: Re: [rest-discuss] Content negotiation unRESTful?

Strictly speaking, this is still agent-driven content-negotiation, and  
the redirect you are proposing may be an implementation detail. IMO,  
this redirect is not necessary. There is no need for each  
representation to get its own URI, and in some cases, it could create  
unnecessary proliferation without extra benefits.

Subbu

On Mar 31, 2008, at 7:06 AM, Jan Algermissen wrote:
&gt; After taking a glance at it: I am not sure about the way he quotes
&gt; Roy or  XML vs JSON being mechanical etc. but I think it is generally
&gt; correct not to deliver different media types through the same
&gt; resource. If you have several, then publish a single URI that
&gt; redirects to media type specific ones based upon the Accept header.
&gt; That way every resource gets its own URI which gives the client more
&gt; control/possibilities.


------------------------------------

Yahoo! Groups Links





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10610<br>
Sender:"Steve Loughran" &lt;steve.loughran.soapbuilders@...&gt;<br>
Post Date/Time:2008-04-08 11:55:31<br>
Subject:Re: [rest-discuss] Re: REST for non-Web Applications<br>
Message:<br><br>
<pre>On Sun, Apr 6, 2008 at 4:18 PM, Josh Sled &lt;jsled@...&gt; wrote:
&gt;
&gt; "Steve Loughran" &lt;steve.loughran.soapbuilders@...&gt; writes:
&gt;  &gt; On Wed, Apr 2, 2008 at 5:44 PM, dfl_maradentro &lt;dfl_maradentro@...&gt; wrote:
&gt;  &gt;&gt; Uummm, ok, I thought REST was tied to HTTP (cause WWW is tied mostly
&gt;  &gt;&gt; to HTTP and REST to WWW).
&gt;  &gt;&gt;
&gt;  &gt;
&gt;  &gt; There's no requirement that you have to have a network in the REST
&gt;  &gt; architecture either, both Restlet and NetKernel let you glue things
&gt;  &gt; together in process using common REST interface/operations. Caching
&gt;  &gt; and content negotiation can still apply here.
&gt;  &gt;
&gt;  &gt; why do that? Well, loose coupling of code turns out to be a good idea all round
&gt;
&gt;  While that might be a good idea, I notice that the thesis is dominated by a
&gt;  discussion of network-based architecture.  Chapters 2 and 3 are titled
&gt;  "Network-based Application Architectures" and "Network-based Architectural
&gt;  style".  The first non-Null constraint is Client-Server (not "Model-View" or
&gt;  "Separation of Concerns"), which is inherently a network-based term.
&gt;
&gt;  Some of the tradeoffs described in the style (optimizing for coarse-grained
&gt;  transfer stands out) are in terms of network latency and overhead, factors
&gt;  that don't exist in local and especially intra-VM exchanges.

-If you've ever spent time with intra-process communications using
COM, you'd see that latency can still be an issue. The time taken to
marshall and send a message across processes (including scheduling the
destination process and working on the response) is still many tens to
hundreds of times slower than in-process communications. Even
in-process messaging is slow if you have to convert everything into
some serialized form, be it XML, Serialize java objects, etc.

-What you dont get on a single machine is all the obscure failure
modes of distributed systems

-In theory, it is easier to keep all the code on a single machine (or
even a managed cluster of boxes) in sync, so that you can have custom
interfaces that you upgrade across the machine/cluster, so that you
can  change the wire format of serialized objects without problems.
Certainly we happily use Java RMI between VMs, between nodes in the
farm, without version problems. But even there, the cost of rolling
out an upgrade can be steep. Change an interface and you need to
rebuild everything, relink things, push the new RPMs out. Its not
something you want to do every 30 minutes, not if it takes 12 minutes
to build.

that's why there are some advantages to REST on a single box

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10611<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-04-13 09:56:24<br>
Subject:Re: [rest-discuss] Understanding hypermedia as the engine of application state<br>
Message:<br><br>
<pre>Hey
In the same post, Dr. Fielding says
"
it makes sense to compare REST to the
blackboard style (they do have a lot in common, as styles go).
"
And the thesis says :

"the blackboard architectural style consists of a central repository
and a set of components (knowledge sources) that operate
opportunistically upon the repository"


I am just curious as to how blackboard and REST have a lot in common.
In a REST style, where is this central repository? Other than the fact
that REST could also be said to consist of a set of components (which
is also there in pipe and filter ), where is this central repository
needed to compare REST to a blackboard style ?


Regards
dev

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10612<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2008-04-13 10:17:37<br>
Subject:Re: [rest-discuss] Understanding hypermedia as the engine of application state<br>
Message:<br><br>
<pre>On Apr 13, 2008, at 11:56 AM, dev wrote:
&gt; Hey
&gt; In the same post, Dr. Fielding says
&gt; "
&gt; it makes sense to compare REST to the
&gt; blackboard style (they do have a lot in common, as styles go).
&gt; "
&gt; And the thesis says :
&gt;
&gt; "the blackboard architectural style consists of a central repository
&gt; and a set of components (knowledge sources) that operate
&gt; opportunistically upon the repository"
&gt;
&gt; I am just curious as to how blackboard and REST have a lot in common.
&gt; In a REST style, where is this central repository? Other than the fact
&gt; that REST could also be said to consist of a set of components (which
&gt; is also there in pipe and filter ), where is this central repository
&gt; needed to compare REST to a blackboard style ?
&gt;

I said they had a lot in common, not everything in common.
It mostly has to do with the uniform interface.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10613<br>
Sender:"Steve Loughran" &lt;steve.loughran.soapbuilders@...&gt;<br>
Post Date/Time:2008-04-14 11:00:10<br>
Subject:Amazon S3 tacks a COPY under PUT<br>
Message:<br><br>
<pre>hmmm: http://doc.s3.amazonaws.com/proposals/copy.html

Well, at least it's not WebDAV, whose semantics are effectively
defined by the FAT32 filesystem. I think we can safely assume that S3
copies will be atomic.

-steve

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10614<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-04-14 11:18:42<br>
Subject:Re: [rest-discuss] Amazon S3 tacks a COPY under PUT<br>
Message:<br><br>
<pre>Steve Loughran wrote:
&gt; 
&gt; 
&gt; hmmm: http://doc.s3. amazonaws. com/proposals/ copy.html 
&gt; &lt;http://doc.s3.amazonaws.com/proposals/copy.html&gt;

Urgh.

That's a misuse of PUT.

Can anybody explain why that is better than either just adopting COPY, 
or using POST?

&gt; Well, at least it's not WebDAV, whose semantics are effectively
&gt; defined by the FAT32 filesystem. I think we can safely assume that S3

Sorry?

&gt; copies will be atomic.

BR, Julian


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10615<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-04-14 11:48:33<br>
Subject:Re: [rest-discuss] Amazon S3 tacks a COPY under PUT<br>
Message:<br><br>
<pre>On Mon, Apr 14, 2008 at 7:18 AM, Julian Reschke &lt;julian.reschke@...&gt; wrote:
&gt;  Can anybody explain why that is better than either just adopting COPY,
&gt;  or using POST?

Yah, COPY seems to be exactly what they want.  There's no mention of
WebDAV there, so I expect they don't know it exists.

They also need to read this;

http://roy.gbiv.com/untangled/2008/on-software-architecture

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10616<br>
Sender:"Steve Loughran" &lt;steve.loughran.soapbuilders@...&gt;<br>
Post Date/Time:2008-04-14 11:58:27<br>
Subject:Re: [rest-discuss] Amazon S3 tacks a COPY under PUT<br>
Message:<br><br>
<pre>On Mon, Apr 14, 2008 at 12:18 PM, Julian Reschke &lt;julian.reschke@...&gt; wrote:
&gt; Steve Loughran wrote:
&gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; hmmm: http://doc.s3. amazonaws. com/proposals/ copy.html
&gt; &lt;http://doc.s3.amazonaws.com/proposals/copy.html&gt;
&gt; &gt;
&gt;
&gt;  Urgh.
&gt;
&gt;  That's a misuse of PUT.
&gt;
&gt;  Can anybody explain why that is better than either just adopting COPY, or
&gt; using POST?
&gt;
&gt;
&gt;
&gt; &gt; Well, at least it's not WebDAV, whose semantics are effectively
&gt; &gt; defined by the FAT32 filesystem.

in WebDav the resultant state of an interrupted operation (copy, move,
etc) was defined to be exactly the same indeterminate state you'd get
interrupting a copy or move on win9x with FAT32 underneath...whatever
you got left with mid-operation was whatever the OS felt you deserved.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10617<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-04-14 12:07:42<br>
Subject:Re: [rest-discuss] Amazon S3 tacks a COPY under PUT<br>
Message:<br><br>
<pre>Steve Loughran wrote:
&gt;&gt;&gt; Well, at least it's not WebDAV, whose semantics are effectively
&gt;&gt;&gt; defined by the FAT32 filesystem.
&gt; 
&gt; in WebDav the resultant state of an interrupted operation (copy, move,
&gt; etc) was defined to be exactly the same indeterminate state you'd get
&gt; interrupting a copy or move on win9x with FAT32 underneath...whatever
&gt; you got left with mid-operation was whatever the OS felt you deserved.

How is that different from copy operations on other file systems? What 
does it have to do with FAT? Which filesystems back then (1998) did 
support copy as an API call?

BR, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10618<br>
Sender:"Steve Loughran" &lt;steve.loughran.soapbuilders@...&gt;<br>
Post Date/Time:2008-04-14 12:07:57<br>
Subject:Re: [rest-discuss] Amazon S3 tacks a COPY under PUT<br>
Message:<br><br>
<pre>On Mon, Apr 14, 2008 at 12:48 PM, Mark Baker &lt;distobj@...&gt; wrote:
&gt; On Mon, Apr 14, 2008 at 7:18 AM, Julian Reschke &lt;julian.reschke@...&gt; wrote:
&gt;  &gt;  Can anybody explain why that is better than either just adopting COPY,
&gt;  &gt;  or using POST?
&gt;
&gt;  Yah, COPY seems to be exactly what they want.  There's no mention of
&gt;  WebDAV there, so I expect they don't know it exists.
&gt;


good review of wdav bits and bobs here too, though it doesnt go into
the deep painfulness of a multi-status response
http://www.ics.uci.edu/~ejw/http-future/whitehead/http_pos_paper.html

One thing we forget about WebDAV is how it is built into things like
winxp' if you try and mount a filesystem and give a fully qualified
host in

NET USE z: \\people.apache.org\~stevel

the system will do a PROPFIND on people.apache.org before even trying
the SAMBA level chit chat. You can verify this by setting up a logging
proxy and mounting things. Which means that the OS would like to find
DAV filesystems before SMB servers. As webdav embraces PUT, it means
you get drag-drop putting of resources through the fairly mediocre GUI
that is the winXP explorer shell.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10619<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-04-14 12:08:13<br>
Subject:Re: [rest-discuss] Amazon S3 tacks a COPY under PUT<br>
Message:<br><br>
<pre>Mark Baker wrote:
&gt; Yah, COPY seems to be exactly what they want.  There's no mention of
&gt; WebDAV there, so I expect they don't know it exists.
&gt; ...

Does anybody happen to know how to tell them?

BR, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10620<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-04-14 12:11:25<br>
Subject:Re: [rest-discuss] Amazon S3 tacks a COPY under PUT<br>
Message:<br><br>
<pre>Steve Loughran wrote:
&gt; good review of wdav bits and bobs here too, though it doesnt go into
&gt; the deep painfulness of a multi-status response
&gt; http://www.ics.uci.edu/~ejw/http-future/whitehead/http_pos_paper.html

Note that whether to use COPY or not to is completely orthogonal.

Of course a server is free to implement COPY in an atomic way, and to 
expose that fact in some way.

&gt; One thing we forget about WebDAV is how it is built into things like
&gt; winxp' if you try and mount a filesystem and give a fully qualified
&gt; host in
&gt; 
&gt; NET USE z: \\people.apache.org\~stevel
&gt; 
&gt; the system will do a PROPFIND on people.apache.org before even trying
&gt; the SAMBA level chit chat. You can verify this by setting up a logging
&gt; proxy and mounting things. Which means that the OS would like to find
&gt; DAV filesystems before SMB servers. As webdav embraces PUT, it means
&gt; you get drag-drop putting of resources through the fairly mediocre GUI
&gt; that is the winXP explorer shell.

That may all be true, but I'm not sure how this is relevant here?

BR, Julian



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10621<br>
Sender:"Steve Loughran" &lt;steve.loughran.soapbuilders@...&gt;<br>
Post Date/Time:2008-04-14 12:59:25<br>
Subject:Re: [rest-discuss] Amazon S3 tacks a COPY under PUT<br>
Message:<br><br>
<pre>On Mon, Apr 14, 2008 at 1:11 PM, Julian Reschke &lt;julian.reschke@...&gt; wrote:
&gt; Steve Loughran wrote:
&gt;
&gt; &gt; good review of wdav bits and bobs here too, though it doesnt go into
&gt; &gt; the deep painfulness of a multi-status response
&gt; &gt; http://www.ics.uci.edu/~ejw/http-future/whitehead/http_pos_paper.html
&gt; &gt;
&gt;
&gt;  Note that whether to use COPY or not to is completely orthogonal.
&gt;
&gt;  Of course a server is free to implement COPY in an atomic way, and to
&gt; expose that fact in some way.
&gt;
&gt;
&gt;
&gt; &gt; One thing we forget about WebDAV is how it is built into things like
&gt; &gt; winxp' if you try and mount a filesystem and give a fully qualified
&gt; &gt; host in
&gt; &gt;
&gt; &gt; NET USE z: \\people.apache.org\~stevel
&gt; &gt;
&gt; &gt; the system will do a PROPFIND on people.apache.org before even trying
&gt; &gt; the SAMBA level chit chat. You can verify this by setting up a logging
&gt; &gt; proxy and mounting things. Which means that the OS would like to find
&gt; &gt; DAV filesystems before SMB servers. As webdav embraces PUT, it means
&gt; &gt; you get drag-drop putting of resources through the fairly mediocre GUI
&gt; &gt; that is the winXP explorer shell.
&gt; &gt;
&gt;
&gt;  That may all be true, but I'm not sure how this is relevant here?

well, given how often we complain about the lack of support for PUT in
HTTP forms, the fact that every copy of WinXP has PUT support built in
to the shell might actually be of interest,

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10622<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-04-14 13:53:39<br>
Subject:Re: [rest-discuss] Amazon S3 tacks a COPY under PUT<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10623<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-04-14 13:57:27<br>
Subject:Re: [rest-discuss] Amazon S3 tacks a COPY under PUT<br>
Message:<br><br>
<pre>Nick Gall wrote:
&gt; Sorry to ask such a naive question, but WHY exactly is it a misuse of PUT?
&gt; 
&gt; Here's the example Amazon uses:
&gt; 
&gt; PUT /destinationObject HTTP/1.1
&gt; Host: destinationbucket.s3.amazonaws.com 
&gt; &lt;http://destinationbucket.s3.amazonaws.com&gt;
&gt; x-amz-copy-source: /sourcebucket/sourceObject
&gt; Authorization: AWS 15B4D3461F177624206A:ENoSbxYByFA0UGLZUqJN5EUnLDg=
&gt; Date: Wed, 20 Feb 2008 22:12:21 +0000
&gt; 
&gt; Since the PUT is creating a new resource corresponding to the provided 
&gt; URL (/destinationObject) it seems like a valid use of PUT to me. Is the 

So far, yes.

&gt; problem the fact that the PUT request is not providing a representation 
&gt; for the resource (eg an XML document), but is only providing a URL to 
&gt; the representation (via the x-amz-copy-source header)?

Correct. An important aspect of good use of HTTP is that the message is 
self-descriptive. This one isn't anymore -- any recipient that isn't 
aware of the Amazon extension will simply create an empty resource. As 
such, it creates a close coupling between client and server (and it may 
also confuse intermediates).

&gt; Again, sorry if this question is hopelessly naive.

No, it's always good to ask if something wasn't clear in the first case.

BR, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10624<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2008-04-14 14:09:36<br>
Subject:Re: [rest-discuss] Amazon S3 tacks a COPY under PUT<br>
Message:<br><br>
<pre>Nick Gall wrote:
&gt; Is the 
&gt; problem the fact that the PUT request is not providing a representation 
&gt; for the resource (eg an XML document), but is only providing a URL to 
&gt; the representation (via the x-amz-copy-source header)?

That does make it not do what the spec says PUT does.

Me, I'd be perfectly happy to see it PUT a resource like &lt;copyFrom 
xmlns="http://amazon.com/someAmazonDefinedNamespace" 
href="/sourcebucket/sourceObject" /&gt; and have the server "know" that 
this represents a resource that would be best represented with a copy of 
the current representation of /sourcebucket/sourceObject and do the 
requested copy.

Other people will disagree (previous debate on the semantics of PUT gets 
regurgitated here).

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10625<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-04-14 15:24:11<br>
Subject:Re: [rest-discuss] Amazon S3 tacks a COPY under PUT<br>
Message:<br><br>
<pre>On Mon, Apr 14, 2008 at 8:08 AM, Julian Reschke &lt;julian.reschke@...&gt; wrote:
&gt; Mark Baker wrote:
&gt;
&gt; &gt;
&gt; &gt; Yah, COPY seems to be exactly what they want.  There's no mention of
&gt; &gt; WebDAV there, so I expect they don't know it exists.
&gt; &gt; ...
&gt; &gt;
&gt;
&gt;  Does anybody happen to know how to tell them?

I'll send Werner a quick note.

Mark.
-- 
Mark Baker. Ottawa, Ontario, CANADA. http://www.markbaker.ca
Coactus; Web-inspired integration strategies http://www.coactus.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10626<br>
Sender:Subbu Allamaraju &lt;subbu.allamaraju@...&gt;<br>
Post Date/Time:2008-04-14 16:12:52<br>
Subject:Re: [rest-discuss] Amazon S3 tacks a COPY under PUT<br>
Message:<br><br>
<pre>&gt;
&gt;
&gt; Since the PUT is creating a new resource corresponding to the  
&gt; provided URL (/destinationObject) it seems like a valid use of PUT  
&gt; to me. Is the problem the fact that the PUT request is not providing  
&gt; a representation for the resource (eg an XML document), but is only  
&gt; providing a URL to the representation (via the x-amz-copy-source  
&gt; header)?

Yes, with PUT, apart from naming the resource, the client should also  
be submitting a representation, and as Julian pointed out, a client  
who does not know this extension would end up creating empty resources.

Subbu

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10627<br>
Sender:"seandkennedy" &lt;seandkennedy@...&gt;<br>
Post Date/Time:2008-04-14 14:12:21<br>
Subject:PhD ideas?<br>
Message:<br><br>
<pre>Hi everyone,

 My name is Sean Kennedy. I am a lecturer in the Athlone 
Institute of Technology in Ireland. I am also doing a PhD. - Web 
services has caught my attention and REST in particular. 

The reason I am writing to you all is that I am struggling to find 
that "angle" in my PhD. I would love to help in the propogation of REST 
but am at a loss as to how my research can help. 
My superviser suggested either a) developing the concept further or b) 
solving issues with regard to REST and QoS e.g. reliability, security 
and transactions.
My understanding with regard to b) is that REST uses https for security 
and Post Once Only for reliability. The area of reliability is 
attractive but I am open to ideas... 

Thanks and regards,
Sean.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10628<br>
Sender:"Donald J. Ankney" &lt;dankney@...&gt;<br>
Post Date/Time:2008-04-14 17:52:52<br>
Subject:Re: [rest-discuss] PhD ideas?<br>
Message:<br><br>
<pre>The 10,000 lb gorilla in my corner of the world is pass-through 
authentication. One can directly authenticate a client to a resource. A 
resource "mash-up" via an intermediary service where the original 
resource is sensitive and needs end-user (personal, not server) 
authentication is a whole different ball-game.

Honestly, it may not be possible without a trusting relationship between 
the intermediary  service and the original data resources. It's worth 
some thought, though ...

seandkennedy wrote:
&gt; Hi everyone,
&gt;
&gt;  My name is Sean Kennedy. I am a lecturer in the Athlone 
&gt; Institute of Technology in Ireland. I am also doing a PhD. - Web 
&gt; services has caught my attention and REST in particular. 
&gt;
&gt; The reason I am writing to you all is that I am struggling to find 
&gt; that "angle" in my PhD. I would love to help in the propogation of REST 
&gt; but am at a loss as to how my research can help. 
&gt; My superviser suggested either a) developing the concept further or b) 
&gt; solving issues with regard to REST and QoS e.g. reliability, security 
&gt; and transactions.
&gt; My understanding with regard to b) is that REST uses https for security 
&gt; and Post Once Only for reliability. The area of reliability is 
&gt; attractive but I am open to ideas... 
&gt;
&gt; Thanks and regards,
&gt; Sean.
&gt;
&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;   


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10629<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2008-04-14 18:35:04<br>
Subject:Re: [rest-discuss] Amazon S3 tacks a COPY under PUT<br>
Message:<br><br>
<pre>On Mon, Apr 14, 2008 at 8:57 AM, Julian Reschke &lt;julian.reschke@...&gt; wrote:
&gt; Nick Gall wrote:

&lt;snip&gt;
&gt;
&gt;  &gt; problem the fact that the PUT request is not providing a representation
&gt;  &gt; for the resource (eg an XML document), but is only providing a URL to
&gt;  &gt; the representation (via the x-amz-copy-source header)?
&gt;
&gt;  Correct. An important aspect of good use of HTTP is that the message is
&gt;  self-descriptive. This one isn't anymore -- any recipient that isn't
&gt;  aware of the Amazon extension will simply create an empty resource.

Quibble: Agents aren't going to PUT  messages like that to just any
URL -- only to URLs they've been instructed  will understand them (by
some previous hypertext, or by reading AWS documentation).

The problem is that generic agents that know how to PUT e.g. HTML5
forms and Atpompub clients, can't do this kind of PUT correctly.

Although I can imagine crazy arguments that that's a defect in HTML5
or Atom, since *theoretically* you could have a hypertext language
telling how to form arbitrary HTTP entity headers for any request.  In
which case assholes [1] could argue that the AWS copy is RESTful.


Hugh
(Moron)

[1]http://diveintomark.org/archives/2004/08/16/specs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10630<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-04-14 18:36:57<br>
Subject:Re: [rest-discuss] PhD ideas?<br>
Message:<br><br>
<pre>+1 on that excellent suggestion.

- Steve

--------------
Steve G. Bjorg
http://wiki.mindtouch.com
http://wiki.opengarden.org


On Apr 14, 2008, at 10:52 AM, Donald J. Ankney wrote:

&gt; The 10,000 lb gorilla in my corner of the world is pass-through
&gt; authentication. One can directly authenticate a client to a  
&gt; resource. A
&gt; resource "mash-up" via an intermediary service where the original
&gt; resource is sensitive and needs end-user (personal, not server)
&gt; authentication is a whole different ball-game.
&gt;
&gt; Honestly, it may not be possible without a trusting relationship  
&gt; between
&gt; the intermediary service and the original data resources. It's worth
&gt; some thought, though ...
&gt;
&gt; seandkennedy wrote:
&gt; &gt; Hi everyone,
&gt; &gt;
&gt; &gt; My name is Sean Kennedy. I am a lecturer in the Athlone
&gt; &gt; Institute of Technology in Ireland. I am also doing a PhD. - Web
&gt; &gt; services has caught my attention and REST in particular.
&gt; &gt;
&gt; &gt; The reason I am writing to you all is that I am struggling to find
&gt; &gt; that "angle" in my PhD. I would love to help in the propogation of  
&gt; REST
&gt; &gt; but am at a loss as to how my research can help.
&gt; &gt; My superviser suggested either a) developing the concept further  
&gt; or b)
&gt; &gt; solving issues with regard to REST and QoS e.g. reliability,  
&gt; security
&gt; &gt; and transactions.
&gt; &gt; My understanding with regard to b) is that REST uses https for  
&gt; security
&gt; &gt; and Post Once Only for reliability. The area of reliability is
&gt; &gt; attractive but I am open to ideas...
&gt; &gt;
&gt; &gt; Thanks and regards,
&gt; &gt; Sean.
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; ------------------------------------
&gt; &gt;
&gt; &gt; Yahoo! Groups Links
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt;
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10631<br>
Sender:John Panzer &lt;jpanzer@...&gt;<br>
Post Date/Time:2008-04-14 20:08:34<br>
Subject:Re: [rest-discuss] PhD ideas?<br>
Message:<br><br>
<pre>OAuth (http://oauth.net) attempts to lay a common foundation for this.  
It's not fully fleshed out but the hope is that extensions can be built 
to make this work (mostly) transparently. 

Steve Bjorg wrote:
&gt; +1 on that excellent suggestion.
&gt;
&gt; - Steve
&gt;
&gt; --------------
&gt; Steve G. Bjorg
&gt; http://wiki.mindtouch.com
&gt; http://wiki.opengarden.org
&gt;
&gt;
&gt; On Apr 14, 2008, at 10:52 AM, Donald J. Ankney wrote:
&gt;
&gt;&gt; The 10,000 lb gorilla in my corner of the world is pass-through 
&gt;&gt; authentication. One can directly authenticate a client to a resource. A 
&gt;&gt; resource "mash-up" via an intermediary service where the original 
&gt;&gt; resource is sensitive and needs end-user (personal, not server) 
&gt;&gt; authentication is a whole different ball-game.
&gt;&gt;
&gt;&gt; Honestly, it may not be possible without a trusting relationship between 
&gt;&gt; the intermediary service and the original data resources. It's worth 
&gt;&gt; some thought, though ...
&gt;&gt;
&gt;&gt; seandkennedy wrote:
&gt;&gt; &gt; Hi everyone,
&gt;&gt; &gt;
&gt;&gt; &gt; My name is Sean Kennedy. I am a lecturer in the Athlone 
&gt;&gt; &gt; Institute of Technology in Ireland. I am also doing a PhD. - Web 
&gt;&gt; &gt; services has caught my attention and REST in particular. 
&gt;&gt; &gt;
&gt;&gt; &gt; The reason I am writing to you all is that I am struggling to find 
&gt;&gt; &gt; that "angle" in my PhD. I would love to help in the propogation of REST 
&gt;&gt; &gt; but am at a loss as to how my research can help. 
&gt;&gt; &gt; My superviser suggested either a) developing the concept further or b) 
&gt;&gt; &gt; solving issues with regard to REST and QoS e.g. reliability, security 
&gt;&gt; &gt; and transactions.
&gt;&gt; &gt; My understanding with regard to b) is that REST uses https for security 
&gt;&gt; &gt; and Post Once Only for reliability. The area of reliability is 
&gt;&gt; &gt; attractive but I am open to ideas... 
&gt;&gt; &gt;
&gt;&gt; &gt; Thanks and regards,
&gt;&gt; &gt; Sean.
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; ------------------------------------
&gt;&gt; &gt;
&gt;&gt; &gt; Yahoo! Groups Links
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; 
&gt;&gt;
&gt;
&gt;  

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10632<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2008-04-14 20:28:16<br>
Subject:Re: [rest-discuss] PhD ideas?<br>
Message:<br><br>
<pre>Hi Sean,

I'd go for suggestion a) of your supervisor. Take a damn close look at  
Roy's dissertation (and make sure you also get most of his excellent  
references) and the work of Garlan and Shaw and then try to evolve the  
framework to serve as a foundation to reason about architectures  
derived from REST (along the lines: if we add constraint X then the  
effect on system property Y is such and such - or: what is the effect  
of removing constraint Z from REST? What is the benefit in what  
scenarios, what is the cost). See also Rohit Khares dissertation[1].

This is likely by far the hardest topic but also the most rewarding  
one for you - and everyone else.

HTH,
Jan

P.S. Another one I like is "Authentication without shared knowledge".  
Read a paper on this a while ago but cannot remember where. ACM I think.



[1] &lt;http://www.ics.uci.edu/~rohit/Khare-Thesis-FINAL.pdf&gt;


On Apr 14, 2008, at 4:12 PM, seandkennedy wrote:
&gt; Hi everyone,
&gt;
&gt; My name is Sean Kennedy. I am a lecturer in the Athlone
&gt; Institute of Technology in Ireland. I am also doing a PhD. - Web
&gt; services has caught my attention and REST in particular.
&gt;
&gt; The reason I am writing to you all is that I am struggling to find
&gt; that "angle" in my PhD. I would love to help in the propogation of  
&gt; REST
&gt; but am at a loss as to how my research can help.
&gt; My superviser suggested either a) developing the concept further or b)
&gt; solving issues with regard to REST and QoS e.g. reliability, security
&gt; and transactions.
&gt; My understanding with regard to b) is that REST uses https for  
&gt; security
&gt; and Post Once Only for reliability. The area of reliability is
&gt; attractive but I am open to ideas...
&gt;
&gt; Thanks and regards,
&gt; Sean.
&gt;
&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10633<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-04-14 22:05:55<br>
Subject:Re: [rest-discuss] Amazon S3 tacks a COPY under PUT<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10634<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-04-14 22:31:01<br>
Subject:Re: [rest-discuss] Amazon S3 tacks a COPY under PUT<br>
Message:<br><br>
<pre>Jon Hanna wrote:
&gt;
&gt; Nick Gall wrote:
&gt; &gt; Is the 
&gt; &gt; problem the fact that the PUT request is not providing a
&gt; &gt; representation for the resource (eg an XML document), but is only
&gt; &gt; providing a URL to the representation (via the x-amz-copy-source
&gt; &gt; header)?
&gt; 
&gt; That does make it not do what the spec says PUT does.
&gt; 
&gt; Me, I'd be perfectly happy to see it PUT a resource like &lt;copyFrom 
&gt; xmlns="http://amazon.com/someAmazonDefinedNamespace" 
&gt; href="/sourcebucket/sourceObject" /&gt; and have the server "know" that 
&gt; this represents a resource that would be best represented with a copy
&gt; of the current representation of /sourcebucket/sourceObject and do
&gt; the requested copy.
&gt; 
&gt; Other people will disagree (previous debate on the semantics of PUT
&gt; gets regurgitated here).
&gt; 

Prolly... ;-)  Actually, I don't see why you wouldn't use POST instead
of PUT in your example, and also include the filename of the result in
that XML snippet.  The POST goes to the collection, which creates the
URI requested by the client, then snarfs the original URI, copy made.
Perhaps this goes against the spirit of RFC 2616 (9.5), but it doesn't
go against the spirit of (9.6).

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10635<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2008-04-14 22:44:40<br>
Subject:Re: [rest-discuss] Amazon S3 tacks a COPY under PUT<br>
Message:<br><br>
<pre>On Mon, Apr 14, 2008 at 5:05 PM, Nick Gall &lt;nick.gall@...&gt; wrote:

&gt; I'm glad to see that my question wasn't completely naive. As I understand
&gt; the comments, the problem is not the use of PUT to make a copy per se,
&gt; merely the use of an HTTP header to provide the URL for source of the copy
&gt; instead of using an "enclosed entity" (as RFC 2616 calls it) containing the
&gt; URL for the source of the copy.

Well, an entity includes its entity headers too, including any special
headers AWS invents.

AWS has invented a hypertext message with all the link information in
its extension headers.

They don't seem to have invented a special Content-type for it, but I
haven't read their whole spec. If they would invent a Content-type,
then a server receiving that PUT message would know how to process
these (bodyless) documents properly.

Seems ok to me.

The questionable part might overloading PUT to mean COPY, but if you
believe PUT has the flexibility to interpret the entity and do
something creative that ends up with a resource being available at
that URI, then no problem. This is like the PATCH discussion. I think
most people thought it was wrong to PUT a special differences document
-- but I was unconvinced.

It's wrong to suppose that any agent is going to PUT these documents
to some unsuspecting server and something bad will happen. I'm not
going to let my agent PUT these anywhere I haven't been instructed to
by some hypertext I received earlier, or by reading the documentation.

If I do PUT it to some random server, I can't say what exactly what
will happen, but whatever it is, it will be what I deserve.


&gt;
&gt; What threw me off a bit was Julian's question about why Amazon didn't use
&gt; COPY or POST. As I understand it, simply substituting POST for PUT in the
&gt; example I posted earlier in the thread wouldn't really solve the problem
&gt; since POST, like PUT, requires that an enclosed entity be used -- not an
&gt; HTTP header.
&gt;
&gt; Specifically, the section on PUT (9.6) says: "The PUT method requests that
&gt; the enclosed entity be stored under the supplied Request-URI." While the
&gt; section on POST (9.5) says: "The POST method is used to request that the
&gt; origin server accept the entity enclosed in the request as a new subordinate
&gt; of the resource identified by the Request-URI in the Request-Line."
&gt;

Hugh

(asshole?)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10636<br>
Sender:"Teo Hui Ming" &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2008-04-15 00:06:00<br>
Subject:Re: [rest-discuss] PhD ideas?<br>
Message:<br><br>
<pre>On Mon, Apr 14, 2008 at 10:12 PM, seandkennedy &lt;seandkennedy@...&gt; wrote:
&gt;  My understanding with regard to b) is that REST uses https for security
&gt;  and Post Once Only for reliability. The area of reliability is
&gt;  attractive but I am open to ideas...

Hi Sean,

Besides making POST reliable, IMHO, idempotent request and stateless
communication also contribute a major part of the reliability in
REST/Web.

As a novice, I would wish to have a catalog of REST-based application
design patterns. :-) Just like OO design patterns guide us to
understand good ways of organizing objects, it would be useful to have
design patterns on how to model different types of applications into
resource graph.

-- 
Teo Hui Ming

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10637<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-04-15 00:17:26<br>
Subject:Re: [rest-discuss] PhD ideas?<br>
Message:<br><br>
<pre>A few members of this mailing list started working on REST Patterns a  
while ago, but our daily responsibilities distracted us and it started  
gathering dust.

It's a wiki, so anybody can login and add to it:
http://restpatterns.org/

- Steve

--------------
Steve G. Bjorg
http://wiki.mindtouch.com
http://wiki.opengarden.org


On Apr 14, 2008, at 5:06 PM, Teo Hui Ming wrote:

&gt; On Mon, Apr 14, 2008 at 10:12 PM, seandkennedy &lt;seandkennedy@... 
&gt; &gt; wrote:
&gt; &gt; My understanding with regard to b) is that REST uses https for  
&gt; security
&gt; &gt; and Post Once Only for reliability. The area of reliability is
&gt; &gt; attractive but I am open to ideas...
&gt;
&gt; Hi Sean,
&gt;
&gt; Besides making POST reliable, IMHO, idempotent request and stateless
&gt; communication also contribute a major part of the reliability in
&gt; REST/Web.
&gt;
&gt; As a novice, I would wish to have a catalog of REST-based application
&gt; design patterns. :-) Just like OO design patterns guide us to
&gt; understand good ways of organizing objects, it would be useful to have
&gt; design patterns on how to model different types of applications into
&gt; resource graph.
&gt;
&gt; -- 
&gt; Teo Hui Ming
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10638<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-04-15 00:20:25<br>
Subject:RE: [rest-discuss] Amazon S3 tacks a COPY under PUT<br>
Message:<br><br>
<pre>So this leads me to a follow up question: Using just GPPD (not COPY), what
would be the most restful way of implementing a COPY operation? Would it
simply be, as Jon Hanna suggested, to provide an app specific minimal XML
wrapper around the source URL as the "enclosed entity"?

 

What about

PUT /myNewResource

Content-Type: text/uri-list

--

# Oh look, I attach a Uri as an entity body!

/myOldResource

 

 

Allegedly this would mean creating a resource from a link, which could be
confuse with creating a link to another resource, or simply creating a url,
but I don't see a fundamental issue in letting the service decide how
content gets created by a put based on a representation.

 

As an added bonus, you can reply with a correct response code if the
content-type is not the correct one.

 

Now the interesting question is to know if a uri can be both an identifier
and a representation of a resource. Interesting debate.

--

SerialSeb

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10639<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-04-15 07:18:36<br>
Subject:Re: [rest-discuss] Amazon S3 tacks a COPY under PUT<br>
Message:<br><br>
<pre>Nick Gall wrote:
&gt; ...
&gt; I'm glad to see that my question wasn't completely naive. As I 
&gt; understand the comments, the problem is not the use of PUT to make a 
&gt; copy per se, merely the use of an HTTP header to provide the URL for 
&gt; source of the copy instead of using an "enclosed entity" (as RFC 2616 
&gt; calls it) containing the URL for the source of the copy.
&gt; 
&gt; What threw me off a bit was Julian's question about why Amazon didn't 
&gt; use COPY or POST. As I understand it, simply substituting POST for PUT 
&gt; in the example I posted earlier in the thread wouldn't really solve the 
&gt; problem since POST, like PUT, requires that an enclosed entity be used 
&gt; -- not an HTTP header.
&gt; ...

Well, I didn't recommend using the *same* message with POST. What I 
tried to say is that Amazon is inventing something new that will only 
work with clients written for that service, so it seems strange using 
PUT for it (which has well-defined semantics that IMHO aren't compatible 
with what they're doing).

The right thing to do would be to use COPY which seems to do *exactly* 
what they want.

&gt; Specifically, the section on PUT (9.6) says: "The PUT method requests 
&gt; that the enclosed entity be stored under the supplied Request-URI." 
&gt; While the section on POST (9.5) says: "The POST method is used to 
&gt; request that the origin server accept the entity enclosed in the request 
&gt; as a new subordinate of the resource identified by the Request-URI in 
&gt; the Request-Line."

That's RFC2616. In practice, POST nowadays is used for *anything* that 
doesn't fit anywhere else, and the description in RFC2616bis has been 
adjusted accordingly:

"The POST method is used to request that the origin server accept the 
entity enclosed in the request as data to be processed by the resource 
identified by the Request-URI in the Request-Line." -- 
&lt;http://greenbytes.de/tech/webdav/draft-ietf-httpbis-p2-semantics-02.html#rfc.section.8.5&gt;

&gt; So this leads me to a follow up question: Using just GPPD (not COPY), 
&gt; what would be the most restful way of implementing a COPY operation? 
&gt; Would it simply be, as Jon Hanna suggested, to provide an app specific 
&gt; minimal XML wrapper around the source URL as the "enclosed entity"?

I don't see how COPY is not "restful". Could you explain?

Yes, it doesn't use representations to transfer state, but that's mainly 
because the whole point of copying things within a server is that the 
client does not need to download and then re-upload the contents.

BR, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10640<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-04-15 07:23:39<br>
Subject:Re: [rest-discuss] Amazon S3 tacks a COPY under PUT<br>
Message:<br><br>
<pre>Hugh Winkler wrote:
&gt; On Mon, Apr 14, 2008 at 5:05 PM, Nick Gall &lt;nick.gall@...&gt; wrote:
&gt; 
&gt;&gt; I'm glad to see that my question wasn't completely naive. As I understand
&gt;&gt; the comments, the problem is not the use of PUT to make a copy per se,
&gt;&gt; merely the use of an HTTP header to provide the URL for source of the copy
&gt;&gt; instead of using an "enclosed entity" (as RFC 2616 calls it) containing the
&gt;&gt; URL for the source of the copy.
&gt; 
&gt; Well, an entity includes its entity headers too, including any special
&gt; headers AWS invents.
&gt; 
&gt; AWS has invented a hypertext message with all the link information in
&gt; its extension headers.
&gt; 
&gt; They don't seem to have invented a special Content-type for it, but I
&gt; haven't read their whole spec. If they would invent a Content-type,
&gt; then a server receiving that PUT message would know how to process
&gt; these (bodyless) documents properly.
&gt; 
&gt; Seems ok to me.
&gt; ...

Nope.

Even if they did have a content type for it, that would still not change 
the defined semantics of PUT.

Please don't abuse PUT for RPC (and instructing a server to copy 
something from A to B is something like a RPC). If there's nothing more 
specific, use POST. In this case, there already is a method that does 
have the desired semantics, and that is POST.

&gt; The questionable part might overloading PUT to mean COPY, but if you
&gt; believe PUT has the flexibility to interpret the entity and do
&gt; something creative that ends up with a resource being available at
&gt; that URI, then no problem. This is like the PATCH discussion. I think
&gt; most people thought it was wrong to PUT a special differences document
&gt; -- but I was unconvinced.

I see. And disagree with you :-).

&gt; It's wrong to suppose that any agent is going to PUT these documents
&gt; to some unsuspecting server and something bad will happen. I'm not
&gt; going to let my agent PUT these anywhere I haven't been instructed to
&gt; by some hypertext I received earlier, or by reading the documentation.

Well, maybe not you.

If a server, for instance through OPTIONS, claims to support PUT, *my* 
clients will use PUT and will assume it does what RFC2616 says.

&gt; If I do PUT it to some random server, I can't say what exactly what
&gt; will happen, but whatever it is, it will be what I deserve.

Nope.

If the server doesn't do what the spec says ("store the entity"), then 
you can blame the server.

That's the whole point of having specifying semantics.

&gt; ...

BR, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10641<br>
Sender:"Steve Loughran" &lt;steve.loughran.soapbuilders@...&gt;<br>
Post Date/Time:2008-04-15 08:18:34<br>
Subject:Re: [rest-discuss] Amazon S3 tacks a COPY under PUT<br>
Message:<br><br>
<pre>On Tue, Apr 15, 2008 at 8:18 AM, Julian Reschke &lt;julian.reschke@...&gt; wrote:
&gt; Nick Gall wrote:
&gt;
&gt; &gt; ...
&gt; &gt;
&gt; &gt; I'm glad to see that my question wasn't completely naive. As I understand
&gt; the comments, the problem is not the use of PUT to make a copy per se,
&gt; merely the use of an HTTP header to provide the URL for source of the copy
&gt; instead of using an "enclosed entity" (as RFC 2616 calls it) containing the
&gt; URL for the source of the copy.
&gt; &gt;
&gt; &gt; What threw me off a bit was Julian's question about why Amazon didn't use
&gt; COPY or POST. As I understand it, simply substituting POST for PUT in the
&gt; example I posted earlier in the thread wouldn't really solve the problem
&gt; since POST, like PUT, requires that an enclosed entity be used -- not an
&gt; HTTP header.
&gt; &gt; ...
&gt; &gt;
&gt;
&gt;  Well, I didn't recommend using the *same* message with POST. What I tried
&gt; to say is that Amazon is inventing something new that will only work with
&gt; clients written for that service, so it seems strange using PUT for it
&gt; (which has well-defined semantics that IMHO aren't compatible with what
&gt; they're doing).


On a positive note, Amazon's AWS authentication protocol is also
non-standard, so you need a patched client (reslet is one example) to
work with it. But Restlet (or Sun's JAX-RS impl) wont have S3 copy
support
&gt;
&gt;  The right thing to do would be to use COPY which seems to do *exactly* what
&gt; they want.
&gt;

I concur

Once you are into verb overloading based on extra headers, you are one
step away from
POST with a SOAPMethodName header.

&gt; &gt; So this leads me to a follow up question: Using just GPPD (not COPY), what
&gt; would be the most restful way of implementing a COPY operation? Would it
&gt; simply be, as Jon Hanna suggested, to provide an app specific minimal XML
&gt; wrapper around the source URL as the "enclosed entity"?
&gt; &gt;
&gt;
&gt;  I don't see how COPY is not "restful". Could you explain?
&gt;
&gt;  Yes, it doesn't use representations to transfer state, but that's mainly
&gt; because the whole point of copying things within a server is that the client
&gt; does not need to download and then re-upload the contents.

Its a tough call this. If you are working with multi GB files and you
have to both wait and pay for the move/copy operations, you like to
have the server to do all the work themselves. But it is effectively
an optimisation. You don't need it. I guess that's the solution: if we
don't like it, we ignore it.

oh, and speaking of aws people to complain to, Jeff Barr is another
name I've encountered in the distant past, but I have no email addr.

one thing that is clear from AWS is that there are multiple teams each
given fairly free reign architecturally
-S3: (nearly) pure REST
-EC2: SOAP API which is probably built on apache Axis (as it works
best); all development going forward appears focused on the HTTP Query
API which works with more clients.
-SimpleDB: HTTP GET Queries again
underneath they have AWS authentication, and a standard XML format for
errors that includes extra diagnostics.

Id have hoped that there'd be more RESTy stuff, but HTTP queries with
their custom auth protocol (one that is brittle against client-side
clock drift) seems to be their most common approach.

-steve

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10642<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-04-16 21:07:08<br>
Subject:Re: [rest-discuss] Amazon S3 tacks a COPY under PUT<br>
Message:<br><br>
<pre>Steve Loughran wrote:

&gt; Its a tough call this. If you are working with multi GB files and you
&gt; have to both wait and pay for the move/copy operations, you like to
&gt; have the server to do all the work themselves. But it is effectively
&gt; an optimisation. You don't need it. I guess that's the solution: if we
&gt; don't like it, we ignore it.

TESLABEAM /overthere/kirk HTTP/1.1
Host: planetzorg.s3.amazonaws.com
x-amz-transporter: http://enterprise.s3.amazonaws.com/fromhere/kirk
Authorization: AWS PR1M3D1R3CT1V3
Date: Wed, 20 Feb 2330 22:12:21 +0000


it would need some some work to be robust to clockdrift.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10643<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-04-16 22:14:58<br>
Subject:RE: [rest-discuss] Amazon S3 tacks a COPY under PUT<br>
Message:<br><br>
<pre>&gt; TESLABEAM /overthere/kirk HTTP/1.1

302 Found
Location: Freakin Lazeeeeeer



Sorry.

Seb


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10644<br>
Sender:"yadnem" &lt;r.menday@...&gt;<br>
Post Date/Time:2008-04-18 08:17:11<br>
Subject:REST and the iPod<br>
Message:<br><br>
<pre>
Hi, 

I blogged about the way I think about REST at 
http://thegridisawebapplication.blogspot.com/2008/04/rest-and-ipod.html
(content inlined below)
I would like to know from you guys how badly wrong I am ? 

Roger

---

Something occurred to me a while back, which I choose not to mention,
essentially because if I had it badly wrong, I would embarrass myself.
But, I googled a bit, and didn't find the analogy made elsewhere, so I
don't have confirmation from the REST experts.

I have 2nd generation iPod nano (not that the version matters), and as
I navigate around the interface, I see something which in lots of
places seem to be RESTful design. Firstly it seems to have a uniform
interface. Furthermore, as I go through 'music-&gt;artists-&gt;elvis', etc
... I am navigating links. This is "connectedness" as described in
RESTful Web Services. Actually, I would like to see more from the Pod
in this direction - for example, for the song I am currently listening
to, it would be nice to see how this is linked into which playlist,
genre, etc. This would be going in the linked data direction.
Furthermore, I believe I see a very nice example of the mysterious
hypermedia as the engine of application state, in, for example, the
stopwatch function of the ipod.




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10645<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-04-18 08:43:41<br>
Subject:Re: [rest-discuss] REST and the iPod<br>
Message:<br><br>
<pre>Hi
There is nothing RESTful about this. REST is a style for network architecture.

what you ARE seeing is hypermedia, which is hardly surprising... the
original intent for hypermedia WAS for such things. See the orignal
hypermedia paper by Ted Nelson*

As for the uniform interface, that is plain common sense for such a
small device.


Regards
devdatta

*http://en.wikipedia.org/wiki/Hypermedia





On 18/04/2008, yadnem &lt;r.menday@...&gt; wrote:
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;  Hi,
&gt;
&gt;  I blogged about the way I think about REST at
&gt;  http://thegridisawebapplication.blogspot.com/2008/04/rest-and-ipod.html
&gt;  (content inlined below)
&gt;  I would like to know from you guys how badly wrong I am ?
&gt;
&gt;  Roger
&gt;
&gt;  ---
&gt;
&gt;  Something occurred to me a while back, which I choose not to mention,
&gt;  essentially because if I had it badly wrong, I would embarrass myself.
&gt;  But, I googled a bit, and didn't find the analogy made elsewhere, so I
&gt;  don't have confirmation from the REST experts.
&gt;
&gt;  I have 2nd generation iPod nano (not that the version matters), and as
&gt;  I navigate around the interface, I see something which in lots of
&gt;  places seem to be RESTful design. Firstly it seems to have a uniform
&gt;  interface. Furthermore, as I go through 'music-&gt;artists-&gt;elvis', etc
&gt;  ... I am navigating links. This is "connectedness" as described in
&gt;  RESTful Web Services. Actually, I would like to see more from the Pod
&gt;  in this direction - for example, for the song I am currently listening
&gt;  to, it would be nice to see how this is linked into which playlist,
&gt;  genre, etc. This would be going in the linked data direction.
&gt;  Furthermore, I believe I see a very nice example of the mysterious
&gt;  hypermedia as the engine of application state, in, for example, the
&gt;  stopwatch function of the ipod.
&gt;
&gt;                    

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10646<br>
Sender:"yadnem" &lt;r.menday@...&gt;<br>
Post Date/Time:2008-04-18 09:07:09<br>
Subject:Re: REST and the iPod<br>
Message:<br><br>
<pre>
Hi 

&gt; Hi
&gt; There is nothing RESTful about this.

my worst fears ... :)

&gt; REST is a style for network architecture.

Does it help the analogy if you pretend that the representations you
see are from some server somewhere ? 

&gt; 
&gt; what you ARE seeing is hypermedia, which is hardly surprising... the
&gt; original intent for hypermedia WAS for such things. See the orignal
&gt; hypermedia paper by Ted Nelson*
&gt; 
&gt; As for the uniform interface, that is plain common sense for such a
&gt; small device.

Point taken. but not all small devices have followed that strategy,
right ?

Roger

&gt; 
&gt; Regards
&gt; devdatta
&gt; 
&gt; *http://en.wikipedia.org/wiki/Hypermedia
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; On 18/04/2008, yadnem &lt;r.menday@...&gt; wrote:
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;  Hi,
&gt; &gt;
&gt; &gt;  I blogged about the way I think about REST at
&gt; &gt; 
http://thegridisawebapplication.blogspot.com/2008/04/rest-and-ipod.html
&gt; &gt;  (content inlined below)
&gt; &gt;  I would like to know from you guys how badly wrong I am ?
&gt; &gt;
&gt; &gt;  Roger
&gt; &gt;
&gt; &gt;  ---
&gt; &gt;
&gt; &gt;  Something occurred to me a while back, which I choose not to mention,
&gt; &gt;  essentially because if I had it badly wrong, I would embarrass
myself.
&gt; &gt;  But, I googled a bit, and didn't find the analogy made elsewhere,
so I
&gt; &gt;  don't have confirmation from the REST experts.
&gt; &gt;
&gt; &gt;  I have 2nd generation iPod nano (not that the version matters),
and as
&gt; &gt;  I navigate around the interface, I see something which in lots of
&gt; &gt;  places seem to be RESTful design. Firstly it seems to have a uniform
&gt; &gt;  interface. Furthermore, as I go through 'music-&gt;artists-&gt;elvis', etc
&gt; &gt;  ... I am navigating links. This is "connectedness" as described in
&gt; &gt;  RESTful Web Services. Actually, I would like to see more from the Pod
&gt; &gt;  in this direction - for example, for the song I am currently
listening
&gt; &gt;  to, it would be nice to see how this is linked into which playlist,
&gt; &gt;  genre, etc. This would be going in the linked data direction.
&gt; &gt;  Furthermore, I believe I see a very nice example of the mysterious
&gt; &gt;  hypermedia as the engine of application state, in, for example, the
&gt; &gt;  stopwatch function of the ipod.
&gt; &gt;
&gt; &gt;
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10647<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-04-18 09:26:13<br>
Subject:Re: [rest-discuss] Re: REST and the iPod<br>
Message:<br><br>
<pre>Hey

My point is ... what you are seeing is an idea thought off by some
very smart people a long long time ago (1945 I think was the first
one*). The credit for realizing that personal , ever changing data
should be shown via set of entries interconnected via links, should go
to them and not to REST.

REST just says that using HATEOS as a constraint, you would induce
some very interesting properties in a network based application, not
the least of which is loose coupling.

Regards
Devdatta

*again , see Nelson's paper! :)

On 18/04/2008, yadnem &lt;r.menday@...&gt; wrote:
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;  Hi
&gt;
&gt;  &gt; Hi
&gt;  &gt; There is nothing RESTful about this.
&gt;
&gt;  my worst fears ... :)
&gt;
&gt;  &gt; REST is a style for network architecture.
&gt;
&gt;  Does it help the analogy if you pretend that the representations you
&gt;  see are from some server somewhere ?
&gt;
&gt;  &gt;
&gt;  &gt; what you ARE seeing is hypermedia, which is hardly surprising... the
&gt;  &gt; original intent for hypermedia WAS for such things. See the orignal
&gt;  &gt; hypermedia paper by Ted Nelson*
&gt;  &gt;
&gt;  &gt; As for the uniform interface, that is plain common sense for such a
&gt;  &gt; small device.
&gt;
&gt;  Point taken. but not all small devices have followed that strategy,
&gt;  right ?
&gt;
&gt;  Roger
&gt;
&gt;  &gt;
&gt;  &gt; Regards
&gt;  &gt; devdatta
&gt;  &gt;
&gt;  &gt; *http://en.wikipedia.org/wiki/Hypermedia
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt;
&gt;  &gt; On 18/04/2008, yadnem &lt;r.menday@...&gt; wrote:
&gt;  &gt; &gt;
&gt;  &gt; &gt;
&gt;  &gt; &gt;
&gt;  &gt; &gt;
&gt;  &gt; &gt;
&gt;  &gt; &gt;
&gt;  &gt; &gt;
&gt;  &gt; &gt;  Hi,
&gt;  &gt; &gt;
&gt;  &gt; &gt;  I blogged about the way I think about REST at
&gt;  &gt; &gt;
&gt;  http://thegridisawebapplication.blogspot.com/2008/04/rest-and-ipod.html
&gt;  &gt; &gt;  (content inlined below)
&gt;  &gt; &gt;  I would like to know from you guys how badly wrong I am ?
&gt;  &gt; &gt;
&gt;  &gt; &gt;  Roger
&gt;  &gt; &gt;
&gt;  &gt; &gt;  ---
&gt;  &gt; &gt;
&gt;  &gt; &gt;  Something occurred to me a while back, which I choose not to mention,
&gt;  &gt; &gt;  essentially because if I had it badly wrong, I would embarrass
&gt;  myself.
&gt;  &gt; &gt;  But, I googled a bit, and didn't find the analogy made elsewhere,
&gt;  so I
&gt;  &gt; &gt;  don't have confirmation from the REST experts.
&gt;  &gt; &gt;
&gt;  &gt; &gt;  I have 2nd generation iPod nano (not that the version matters),
&gt;  and as
&gt;  &gt; &gt;  I navigate around the interface, I see something which in lots of
&gt;  &gt; &gt;  places seem to be RESTful design. Firstly it seems to have a uniform
&gt;  &gt; &gt;  interface. Furthermore, as I go through 'music-&gt;artists-&gt;elvis', etc
&gt;  &gt; &gt;  ... I am navigating links. This is "connectedness" as described in
&gt;  &gt; &gt;  RESTful Web Services. Actually, I would like to see more from the Pod
&gt;  &gt; &gt;  in this direction - for example, for the song I am currently
&gt;  listening
&gt;  &gt; &gt;  to, it would be nice to see how this is linked into which playlist,
&gt;  &gt; &gt;  genre, etc. This would be going in the linked data direction.
&gt;  &gt; &gt;  Furthermore, I believe I see a very nice example of the mysterious
&gt;  &gt; &gt;  hypermedia as the engine of application state, in, for example, the
&gt;  &gt; &gt;  stopwatch function of the ipod.
&gt;  &gt; &gt;
&gt;  &gt; &gt;
&gt;  &gt;
&gt;
&gt;
&gt;
&gt;                   

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10648<br>
Sender:"yadnem" &lt;r.menday@...&gt;<br>
Post Date/Time:2008-04-18 09:56:08<br>
Subject:Re: REST and the iPod<br>
Message:<br><br>
<pre>
&gt; Hey
&gt; 
&gt; My point is ... what you are seeing is an idea thought off by some
&gt; very smart people a long long time ago (1945 I think was the first
&gt; one*). The credit for realizing that personal , ever changing data
&gt; should be shown via set of entries interconnected via links, should go
&gt; to them and not to REST.
&gt; 
&gt; REST just says that using HATEOS as a constraint, you would induce
&gt; some very interesting properties in a network based application, not
&gt; the least of which is loose coupling.


Thanks for your insights Devdatta.

I am working on the practical-side of things. and i see real
advantages in the REST approach.

For example, HATEOAS was/is a difficult concept to grasp, and I found
that the stopwatch in the ipod, was for me, a nice, focussed example
of this part of REST and why it is good. That's all. Unless I am
wrong. In which case I want to know why ... :)

Roger

&gt; 
&gt; Regards
&gt; Devdatta
&gt; 
&gt; *again , see Nelson's paper! :)
&gt; 
&gt; On 18/04/2008, yadnem &lt;r.menday@...&gt; wrote:
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;  Hi
&gt; &gt;
&gt; &gt;  &gt; Hi
&gt; &gt;  &gt; There is nothing RESTful about this.
&gt; &gt;
&gt; &gt;  my worst fears ... :)
&gt; &gt;
&gt; &gt;  &gt; REST is a style for network architecture.
&gt; &gt;
&gt; &gt;  Does it help the analogy if you pretend that the representations you
&gt; &gt;  see are from some server somewhere ?
&gt; &gt;
&gt; &gt;  &gt;
&gt; &gt;  &gt; what you ARE seeing is hypermedia, which is hardly
surprising... the
&gt; &gt;  &gt; original intent for hypermedia WAS for such things. See the orignal
&gt; &gt;  &gt; hypermedia paper by Ted Nelson*
&gt; &gt;  &gt;
&gt; &gt;  &gt; As for the uniform interface, that is plain common sense for such a
&gt; &gt;  &gt; small device.
&gt; &gt;
&gt; &gt;  Point taken. but not all small devices have followed that strategy,
&gt; &gt;  right ?
&gt; &gt;
&gt; &gt;  Roger
&gt; &gt;
&gt; &gt;  &gt;
&gt; &gt;  &gt; Regards
&gt; &gt;  &gt; devdatta
&gt; &gt;  &gt;
&gt; &gt;  &gt; *http://en.wikipedia.org/wiki/Hypermedia
&gt; &gt;  &gt;
&gt; &gt;  &gt;
&gt; &gt;  &gt;
&gt; &gt;  &gt;
&gt; &gt;  &gt;
&gt; &gt;
&gt; &gt;  &gt; On 18/04/2008, yadnem &lt;r.menday@&gt; wrote:
&gt; &gt;  &gt; &gt;
&gt; &gt;  &gt; &gt;
&gt; &gt;  &gt; &gt;
&gt; &gt;  &gt; &gt;
&gt; &gt;  &gt; &gt;
&gt; &gt;  &gt; &gt;
&gt; &gt;  &gt; &gt;
&gt; &gt;  &gt; &gt;  Hi,
&gt; &gt;  &gt; &gt;
&gt; &gt;  &gt; &gt;  I blogged about the way I think about REST at
&gt; &gt;  &gt; &gt;
&gt; &gt; 
http://thegridisawebapplication.blogspot.com/2008/04/rest-and-ipod.html
&gt; &gt;  &gt; &gt;  (content inlined below)
&gt; &gt;  &gt; &gt;  I would like to know from you guys how badly wrong I am ?
&gt; &gt;  &gt; &gt;
&gt; &gt;  &gt; &gt;  Roger
&gt; &gt;  &gt; &gt;
&gt; &gt;  &gt; &gt;  ---
&gt; &gt;  &gt; &gt;
&gt; &gt;  &gt; &gt;  Something occurred to me a while back, which I choose not to
mention,
&gt; &gt;  &gt; &gt;  essentially because if I had it badly wrong, I would embarrass
&gt; &gt;  myself.
&gt; &gt;  &gt; &gt;  But, I googled a bit, and didn't find the analogy made
elsewhere,
&gt; &gt;  so I
&gt; &gt;  &gt; &gt;  don't have confirmation from the REST experts.
&gt; &gt;  &gt; &gt;
&gt; &gt;  &gt; &gt;  I have 2nd generation iPod nano (not that the version matters),
&gt; &gt;  and as
&gt; &gt;  &gt; &gt;  I navigate around the interface, I see something which in
lots of
&gt; &gt;  &gt; &gt;  places seem to be RESTful design. Firstly it seems to have a
uniform
&gt; &gt;  &gt; &gt;  interface. Furthermore, as I go through
'music-&gt;artists-&gt;elvis', etc
&gt; &gt;  &gt; &gt;  ... I am navigating links. This is "connectedness" as
described in
&gt; &gt;  &gt; &gt;  RESTful Web Services. Actually, I would like to see more
from the Pod
&gt; &gt;  &gt; &gt;  in this direction - for example, for the song I am currently
&gt; &gt;  listening
&gt; &gt;  &gt; &gt;  to, it would be nice to see how this is linked into which
playlist,
&gt; &gt;  &gt; &gt;  genre, etc. This would be going in the linked data direction.
&gt; &gt;  &gt; &gt;  Furthermore, I believe I see a very nice example of the
mysterious
&gt; &gt;  &gt; &gt;  hypermedia as the engine of application state, in, for
example, the
&gt; &gt;  &gt; &gt;  stopwatch function of the ipod.
&gt; &gt;  &gt; &gt;
&gt; &gt;  &gt; &gt;
&gt; &gt;  &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10649<br>
Sender:David Sidlinger &lt;david.sidlinger@...&gt;<br>
Post Date/Time:2008-04-20 13:02:06<br>
Subject:Re: [rest-discuss] Amazon S3 tacks a COPY under PUT<br>
Message:<br><br>
<pre>On 15 Apr, 2008, at 2:23 AM, Julian Reschke wrote:

&gt; If a server, for instance through OPTIONS, claims to support PUT, *my*
&gt; clients will use PUT and will assume it does what RFC2616 says.


That brings up an interesting question.  My understanding of the S3  
API is that your clients would still work. If a service breaks the  
RESTful interface, but in a purely additive way, is it still RESTful?

David


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10650<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2008-04-20 14:24:17<br>
Subject:Re: [rest-discuss] Amazon S3 tacks a COPY under PUT<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10651<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-04-20 14:44:49<br>
Subject:Re: [rest-discuss] Amazon S3 tacks a COPY under PUT<br>
Message:<br><br>
<pre>Hugh Winkler wrote:
&gt; Then you're not using  HATEOAS. The semantics of the hypertext tells you 
&gt; whether you can PUT something there, and what you should expect to happen.
&gt; 
&gt; HTTP != REST, of course. Perfectly OK to rely on OPTIONS under HTTP, but 
&gt; not RESTful.

And that's because the OPTIONS response is text, not hypertext?

Julian (shaking his head)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10652<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2008-04-20 15:02:33<br>
Subject:Re: [rest-discuss] Amazon S3 tacks a COPY under PUT<br>
Message:<br><br>
<pre>On Sun, Apr 20, 2008 at 9:44 AM, Julian Reschke &lt;julian.reschke@...&gt; wrote:
&gt;
&gt; Hugh Winkler wrote:
&gt;
&gt; &gt; Then you're not using  HATEOAS. The semantics of the hypertext tells you whether you can PUT something there, and what you should expect to happen.
&gt; &gt;
&gt; &gt; HTTP != REST, of course. Perfectly OK to rely on OPTIONS under HTTP, but not RESTful.
&gt; &gt;
&gt;
&gt; And that's because the OPTIONS response is text, not hypertext?
&gt;
&gt; Julian (shaking his head)
&gt;

It's not part of the application's exchange of hypertext -- it's an
out of band message.

Hugh

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10654<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2008-04-21 22:35:23<br>
Subject:Re: [rest-discuss] ExtJS claims full REST support<br>
Message:<br><br>
<pre>Dojo also supports PUT and DELETE as well as GET and POST:
http://api.dojotoolkit.org/jsdoc/dojo/HEAD/dojo.xhr

Don't know if it's recent or not.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10655<br>
Sender:"Patrick Donelan" &lt;pat@...&gt;<br>
Post Date/Time:2008-04-22 01:38:51<br>
Subject:Re: [rest-discuss] ExtJS claims full REST support<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10656<br>
Sender:"Gary Bernhardt" &lt;gary.bernhardt@...&gt;<br>
Post Date/Time:2008-04-14 18:57:35<br>
Subject:Re: [rest-discuss] PhD ideas?<br>
Message:<br><br>
<pre>On 4/14/08, Donald J. Ankney &lt;dankney@...&gt; wrote:
&gt; The 10,000 lb gorilla in my corner of the world is pass-through
&gt;  authentication. One can directly authenticate a client to a resource. A
&gt;  resource "mash-up" via an intermediary service where the original
&gt;  resource is sensitive and needs end-user (personal, not server)
&gt;  authentication is a whole different ball-game.

I don't know how RESTful it is, but I believe this is what OAuth does.
 From oauth.net: "Use OAuth to give your users access to their data
while protecting their account credentials."

&gt;  Honestly, it may not be possible without a trusting relationship between
&gt;  the intermediary  service and the original data resources. It's worth
&gt;  some thought, though ...

-- 
Gary
http://blog.extracheese.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10657<br>
Sender:"Subhash Chandran" &lt;subwiz@...&gt;<br>
Post Date/Time:2008-04-23 07:31:50<br>
Subject:Re: [rest-discuss] PhD ideas?<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10658<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-04-23 19:15:09<br>
Subject:REST service initialization<br>
Message:<br><br>
<pre>I'm curious to hear how others have addressed the initialization  
problem for RESTful services.

For example, in many object-oriented programming languages, it's not  
possible to interact with a new instance before the constructor has  
finished running.  However, in other languages, such as Objective-C,  
the instance construction process has two parts: allocation, then  
initialization.  I'm personally a fan of the latter as it removes the  
special case of the "constructor" concept.  The less moving parts, the  
better, imho.

Now, for REST services, there is a bit of a problem it appears.
1) create a new service A
2) send a initialization message
3) send regular messages

Clearly, this stateful.  If a regular message arrives before the  
initialization message (or, gasp, during), things don't work as  
expected.

Now, in case you think this is trivial, let's assume that during  
initialization of service A, other services need to be created and  
they need to interact with service A during initialization.  In other  
words, service A needs to be reachable before initialization has  
completed.

Thoughts?  Thanks.


- Steve

--------------
Steve G. Bjorg
http://wiki.mindtouch.com
http://wiki.opengarden.org



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10659<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2008-04-23 20:04:34<br>
Subject:Re: [rest-discuss] REST service initialization<br>
Message:<br><br>
<pre>Steve,

I do not get your problem....

Why expose a resource to the Web before it is capable of handling  
requests properly?

Jan



On Apr 23, 2008, at 9:15 PM, Steve Bjorg wrote:
&gt; I'm curious to hear how others have addressed the initialization
&gt; problem for RESTful services.
&gt;
&gt; For example, in many object-oriented programming languages, it's not
&gt; possible to interact with a new instance before the constructor has
&gt; finished running.  However, in other languages, such as Objective-C,
&gt; the instance construction process has two parts: allocation, then
&gt; initialization.  I'm personally a fan of the latter as it removes the
&gt; special case of the "constructor" concept.  The less moving parts, the
&gt; better, imho.
&gt;
&gt; Now, for REST services, there is a bit of a problem it appears.
&gt; 1) create a new service A
&gt; 2) send a initialization message
&gt; 3) send regular messages
&gt;
&gt; Clearly, this stateful.  If a regular message arrives before the
&gt; initialization message (or, gasp, during), things don't work as
&gt; expected.
&gt;
&gt; Now, in case you think this is trivial, let's assume that during
&gt; initialization of service A, other services need to be created and
&gt; they need to interact with service A during initialization.  In other
&gt; words, service A needs to be reachable before initialization has
&gt; completed.
&gt;
&gt; Thoughts?  Thanks.
&gt;
&gt;
&gt; - Steve
&gt;
&gt; --------------
&gt; Steve G. Bjorg
&gt; http://wiki.mindtouch.com
&gt; http://wiki.opengarden.org
&gt;
&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10660<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-04-23 20:14:31<br>
Subject:Re: [rest-discuss] REST service initialization<br>
Message:<br><br>
<pre>Because it needs to interact with dependent resources during startup  
in a bi-directional manner.

This is the blurg that ment to convey that:
&gt; ...service A needs to be reachable before initialization has  
&gt; completed.

- Steve

--------------
Steve G. Bjorg
http://wiki.mindtouch.com
http://wiki.opengarden.org


On Apr 23, 2008, at 1:04 PM, Jan Algermissen wrote:

&gt; Steve,
&gt;
&gt; I do not get your problem....
&gt;
&gt; Why expose a resource to the Web before it is capable of handling  
&gt; requests properly?
&gt;
&gt; Jan
&gt;
&gt;
&gt;
&gt; On Apr 23, 2008, at 9:15 PM, Steve Bjorg wrote:
&gt;&gt; I'm curious to hear how others have addressed the initialization
&gt;&gt; problem for RESTful services.
&gt;&gt;
&gt;&gt; For example, in many object-oriented programming languages, it's not
&gt;&gt; possible to interact with a new instance before the constructor has
&gt;&gt; finished running.  However, in other languages, such as Objective-C,
&gt;&gt; the instance construction process has two parts: allocation, then
&gt;&gt; initialization.  I'm personally a fan of the latter as it removes the
&gt;&gt; special case of the "constructor" concept.  The less moving parts,  
&gt;&gt; the
&gt;&gt; better, imho.
&gt;&gt;
&gt;&gt; Now, for REST services, there is a bit of a problem it appears.
&gt;&gt; 1) create a new service A
&gt;&gt; 2) send a initialization message
&gt;&gt; 3) send regular messages
&gt;&gt;
&gt;&gt; Clearly, this stateful.  If a regular message arrives before the
&gt;&gt; initialization message (or, gasp, during), things don't work as
&gt;&gt; expected.
&gt;&gt;
&gt;&gt; Now, in case you think this is trivial, let's assume that during
&gt;&gt; initialization of service A, other services need to be created and
&gt;&gt; they need to interact with service A during initialization.  In other
&gt;&gt; words, service A needs to be reachable before initialization has
&gt;&gt; completed.
&gt;&gt;
&gt;&gt; Thoughts?  Thanks.
&gt;&gt;
&gt;&gt;
&gt;&gt; - Steve
&gt;&gt;
&gt;&gt; --------------
&gt;&gt; Steve G. Bjorg
&gt;&gt; http://wiki.mindtouch.com
&gt;&gt; http://wiki.opengarden.org
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; ------------------------------------
&gt;&gt;
&gt;&gt; Yahoo! Groups Links
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10661<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-04-23 20:26:47<br>
Subject:Re: [rest-discuss] REST service initialization<br>
Message:<br><br>
<pre>Sorry, but I don't understand why this is a problem related to REST.  
The problem seems to be related to how you want to initialize/ 
bootstrap server code.

Subbu

On Apr 23, 2008, at 12:15 PM, Steve Bjorg wrote:
&gt; I'm curious to hear how others have addressed the initialization
&gt; problem for RESTful services.
&gt;
&gt; For example, in many object-oriented programming languages, it's not
&gt; possible to interact with a new instance before the constructor has
&gt; finished running.  However, in other languages, such as Objective-C,
&gt; the instance construction process has two parts: allocation, then
&gt; initialization.  I'm personally a fan of the latter as it removes the
&gt; special case of the "constructor" concept.  The less moving parts, the
&gt; better, imho.
&gt;
&gt; Now, for REST services, there is a bit of a problem it appears.
&gt; 1) create a new service A
&gt; 2) send a initialization message
&gt; 3) send regular messages
&gt;
&gt; Clearly, this stateful.  If a regular message arrives before the
&gt; initialization message (or, gasp, during), things don't work as
&gt; expected.
&gt;
&gt; Now, in case you think this is trivial, let's assume that during
&gt; initialization of service A, other services need to be created and
&gt; they need to interact with service A during initialization.  In other
&gt; words, service A needs to be reachable before initialization has
&gt; completed.
&gt;
&gt; Thoughts?  Thanks.
&gt;
&gt;
&gt; - Steve
&gt;
&gt; --------------
&gt; Steve G. Bjorg
&gt; http://wiki.mindtouch.com
&gt; http://wiki.opengarden.org
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10662<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-04-23 20:34:47<br>
Subject:Re: [rest-discuss] REST service initialization<br>
Message:<br><br>
<pre>Oh, the problem might very well be PEBCAK! :)

My mental anguish comes from the fact that initialization protocols  
are stateful.  So, how do you do a stateless (i.e. RESTful)  
initialization protocol?


- Steve

--------------
Steve G. Bjorg
http://wiki.mindtouch.com
http://wiki.opengarden.org


On Apr 23, 2008, at 1:26 PM, Subbu Allamaraju wrote:

&gt; Sorry, but I don't understand why this is a problem related to REST.  
&gt; The problem seems to be related to how you want to initialize/ 
&gt; bootstrap server code.
&gt;
&gt; Subbu
&gt;
&gt; On Apr 23, 2008, at 12:15 PM, Steve Bjorg wrote:
&gt;&gt; I'm curious to hear how others have addressed the initialization
&gt;&gt; problem for RESTful services.
&gt;&gt;
&gt;&gt; For example, in many object-oriented programming languages, it's not
&gt;&gt; possible to interact with a new instance before the constructor has
&gt;&gt; finished running.  However, in other languages, such as Objective-C,
&gt;&gt; the instance construction process has two parts: allocation, then
&gt;&gt; initialization.  I'm personally a fan of the latter as it removes the
&gt;&gt; special case of the "constructor" concept.  The less moving parts,  
&gt;&gt; the
&gt;&gt; better, imho.
&gt;&gt;
&gt;&gt; Now, for REST services, there is a bit of a problem it appears.
&gt;&gt; 1) create a new service A
&gt;&gt; 2) send a initialization message
&gt;&gt; 3) send regular messages
&gt;&gt;
&gt;&gt; Clearly, this stateful.  If a regular message arrives before the
&gt;&gt; initialization message (or, gasp, during), things don't work as
&gt;&gt; expected.
&gt;&gt;
&gt;&gt; Now, in case you think this is trivial, let's assume that during
&gt;&gt; initialization of service A, other services need to be created and
&gt;&gt; they need to interact with service A during initialization.  In other
&gt;&gt; words, service A needs to be reachable before initialization has
&gt;&gt; completed.
&gt;&gt;
&gt;&gt; Thoughts?  Thanks.
&gt;&gt;
&gt;&gt;
&gt;&gt; - Steve
&gt;&gt;
&gt;&gt; --------------
&gt;&gt; Steve G. Bjorg
&gt;&gt; http://wiki.mindtouch.com
&gt;&gt; http://wiki.opengarden.org
&gt;&gt;
&gt;&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10663<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-04-23 20:41:27<br>
Subject:Re: [rest-discuss] REST service initialization<br>
Message:<br><br>
<pre>On Wed, Apr 23, 2008 at 1:34 PM, Steve Bjorg &lt;steveb@...&gt; wrote:
&gt; Oh, the problem might very well be PEBCAK! :)
&gt;
&gt;  My mental anguish comes from the fact that initialization protocols
&gt;  are stateful.  So, how do you do a stateless (i.e. RESTful)
&gt;  initialization protocol?

Create resource, which sends the client a URL pointing back to that
resource.  Now you have a state the client can  reference and operate
on.

Like wise, you can create another resource used during initialization,
separate from the one seen by the client.  I assume that one gets
destroyed after the first resource changes state to "initialized".


-- Assaf
http://labnotes.org


&gt;
&gt;
&gt;
&gt;  - Steve
&gt;
&gt;  --------------
&gt;  Steve G. Bjorg
&gt;  http://wiki.mindtouch.com
&gt;  http://wiki.opengarden.org
&gt;
&gt;
&gt;
&gt;
&gt; On Apr 23, 2008, at 1:26 PM, Subbu Allamaraju wrote:
&gt;
&gt;  &gt; Sorry, but I don't understand why this is a problem related to REST.
&gt;  &gt; The problem seems to be related to how you want to initialize/
&gt;  &gt; bootstrap server code.
&gt;  &gt;
&gt;  &gt; Subbu
&gt;  &gt;
&gt;  &gt; On Apr 23, 2008, at 12:15 PM, Steve Bjorg wrote:
&gt;  &gt;&gt; I'm curious to hear how others have addressed the initialization
&gt;  &gt;&gt; problem for RESTful services.
&gt;  &gt;&gt;
&gt;  &gt;&gt; For example, in many object-oriented programming languages, it's not
&gt;  &gt;&gt; possible to interact with a new instance before the constructor has
&gt;  &gt;&gt; finished running.  However, in other languages, such as Objective-C,
&gt;  &gt;&gt; the instance construction process has two parts: allocation, then
&gt;  &gt;&gt; initialization.  I'm personally a fan of the latter as it removes the
&gt;  &gt;&gt; special case of the "constructor" concept.  The less moving parts,
&gt;  &gt;&gt; the
&gt;  &gt;&gt; better, imho.
&gt;  &gt;&gt;
&gt;  &gt;&gt; Now, for REST services, there is a bit of a problem it appears.
&gt;  &gt;&gt; 1) create a new service A
&gt;  &gt;&gt; 2) send a initialization message
&gt;  &gt;&gt; 3) send regular messages
&gt;  &gt;&gt;
&gt;  &gt;&gt; Clearly, this stateful.  If a regular message arrives before the
&gt;  &gt;&gt; initialization message (or, gasp, during), things don't work as
&gt;  &gt;&gt; expected.
&gt;  &gt;&gt;
&gt;  &gt;&gt; Now, in case you think this is trivial, let's assume that during
&gt;  &gt;&gt; initialization of service A, other services need to be created and
&gt;  &gt;&gt; they need to interact with service A during initialization.  In other
&gt;  &gt;&gt; words, service A needs to be reachable before initialization has
&gt;  &gt;&gt; completed.
&gt;  &gt;&gt;
&gt;  &gt;&gt; Thoughts?  Thanks.
&gt;  &gt;&gt;
&gt;  &gt;&gt;
&gt;  &gt;&gt; - Steve
&gt;  &gt;&gt;
&gt;  &gt;&gt; --------------
&gt;  &gt;&gt; Steve G. Bjorg
&gt;  &gt;&gt; http://wiki.mindtouch.com
&gt;  &gt;&gt; http://wiki.opengarden.org
&gt;  &gt;&gt;
&gt;  &gt;&gt;
&gt;  &gt;
&gt;  &gt;
&gt;
&gt;
&gt;  ------------------------------------
&gt;
&gt;  Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10664<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-04-23 20:43:20<br>
Subject:Re: [rest-discuss] REST service initialization<br>
Message:<br><br>
<pre>Steve:

This sounds like a server-side requirement. Why expose this to the client?

Mike A.

On Wed, Apr 23, 2008 at 4:34 PM, Steve Bjorg &lt;steveb@...&gt; wrote:
&gt; Oh, the problem might very well be PEBCAK! :)
&gt;
&gt;  My mental anguish comes from the fact that initialization protocols
&gt;  are stateful.  So, how do you do a stateless (i.e. RESTful)
&gt;  initialization protocol?
&gt;
&gt;
&gt;
&gt;  - Steve
&gt;
&gt;  --------------
&gt;  Steve G. Bjorg
&gt;  http://wiki.mindtouch.com
&gt;  http://wiki.opengarden.org
&gt;
&gt;
&gt;
&gt;
&gt; On Apr 23, 2008, at 1:26 PM, Subbu Allamaraju wrote:
&gt;
&gt;  &gt; Sorry, but I don't understand why this is a problem related to REST.
&gt;  &gt; The problem seems to be related to how you want to initialize/
&gt;  &gt; bootstrap server code.
&gt;  &gt;
&gt;  &gt; Subbu
&gt;  &gt;
&gt;  &gt; On Apr 23, 2008, at 12:15 PM, Steve Bjorg wrote:
&gt;  &gt;&gt; I'm curious to hear how others have addressed the initialization
&gt;  &gt;&gt; problem for RESTful services.
&gt;  &gt;&gt;
&gt;  &gt;&gt; For example, in many object-oriented programming languages, it's not
&gt;  &gt;&gt; possible to interact with a new instance before the constructor has
&gt;  &gt;&gt; finished running.  However, in other languages, such as Objective-C,
&gt;  &gt;&gt; the instance construction process has two parts: allocation, then
&gt;  &gt;&gt; initialization.  I'm personally a fan of the latter as it removes the
&gt;  &gt;&gt; special case of the "constructor" concept.  The less moving parts,
&gt;  &gt;&gt; the
&gt;  &gt;&gt; better, imho.
&gt;  &gt;&gt;
&gt;  &gt;&gt; Now, for REST services, there is a bit of a problem it appears.
&gt;  &gt;&gt; 1) create a new service A
&gt;  &gt;&gt; 2) send a initialization message
&gt;  &gt;&gt; 3) send regular messages
&gt;  &gt;&gt;
&gt;  &gt;&gt; Clearly, this stateful.  If a regular message arrives before the
&gt;  &gt;&gt; initialization message (or, gasp, during), things don't work as
&gt;  &gt;&gt; expected.
&gt;  &gt;&gt;
&gt;  &gt;&gt; Now, in case you think this is trivial, let's assume that during
&gt;  &gt;&gt; initialization of service A, other services need to be created and
&gt;  &gt;&gt; they need to interact with service A during initialization.  In other
&gt;  &gt;&gt; words, service A needs to be reachable before initialization has
&gt;  &gt;&gt; completed.
&gt;  &gt;&gt;
&gt;  &gt;&gt; Thoughts?  Thanks.
&gt;  &gt;&gt;
&gt;  &gt;&gt;
&gt;  &gt;&gt; - Steve
&gt;  &gt;&gt;
&gt;  &gt;&gt; --------------
&gt;  &gt;&gt; Steve G. Bjorg
&gt;  &gt;&gt; http://wiki.mindtouch.com
&gt;  &gt;&gt; http://wiki.opengarden.org
&gt;  &gt;&gt;
&gt;  &gt;&gt;
&gt;  &gt;
&gt;  &gt;
&gt;
&gt;
&gt;  ------------------------------------
&gt;
&gt;  Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10665<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2008-04-23 20:58:21<br>
Subject:Re: [rest-discuss] REST service initialization<br>
Message:<br><br>
<pre>Steve,

It might help to explain more about the use case.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10666<br>
Sender:"wahbedahbe" &lt;andrew.wahbe@...&gt;<br>
Post Date/Time:2008-04-23 21:30:52<br>
Subject:Re: REST service initialization<br>
Message:<br><br>
<pre>This is a classic opportunity to leverage HATEOAS isn't it?

The initial POST (to create the resource) returns hypermedia
containing a form to initialize the resource. There are no other
links/forms to indicate that this is the only next step you can take.
The PUT/POST that initializes the resource (exact method depends on
specifics) returns hypermedia with the links/forms for all the
"regular" methods.

Andrew Wahbe

--- In rest-discuss@yahoogroups.com, Steve Bjorg &lt;steveb@...&gt; wrote:
&gt;
&gt; I'm curious to hear how others have addressed the initialization  
&gt; problem for RESTful services.
&gt; 
&gt; For example, in many object-oriented programming languages, it's not  
&gt; possible to interact with a new instance before the constructor has  
&gt; finished running.  However, in other languages, such as Objective-C,  
&gt; the instance construction process has two parts: allocation, then  
&gt; initialization.  I'm personally a fan of the latter as it removes the  
&gt; special case of the "constructor" concept.  The less moving parts, the  
&gt; better, imho.
&gt; 
&gt; Now, for REST services, there is a bit of a problem it appears.
&gt; 1) create a new service A
&gt; 2) send a initialization message
&gt; 3) send regular messages
&gt; 
&gt; Clearly, this stateful.  If a regular message arrives before the  
&gt; initialization message (or, gasp, during), things don't work as  
&gt; expected.
&gt; 
&gt; Now, in case you think this is trivial, let's assume that during  
&gt; initialization of service A, other services need to be created and  
&gt; they need to interact with service A during initialization.  In other  
&gt; words, service A needs to be reachable before initialization has  
&gt; completed.
&gt; 
&gt; Thoughts?  Thanks.
&gt; 
&gt; 
&gt; - Steve
&gt; 
&gt; --------------
&gt; Steve G. Bjorg
&gt; http://wiki.mindtouch.com
&gt; http://wiki.opengarden.org
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10667<br>
Sender:Sean Kennedy &lt;seandkennedy@...&gt;<br>
Post Date/Time:2008-04-29 13:24:47<br>
Subject:REST vs POX<br>
Message:<br><br>
<pre>Folks,
      I work in academia and was recently talking to some former industry colleagues (financial people). I asked them how they implemented SOA and they said POX. They didnt know must about REST (something I intend to rectify!). They didnt like SOAP because there was too much XML involved and they dont use WSDL because "we know where the service is". However, I found it difficult to argue the point of the advantages of REST versus POX...

Sean.


      __________________________________________________________
Sent from Yahoo! Mail.
A Smarter Email http://uk.docs.yahoo.com/nowyoucan.html</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10668<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-04-29 19:19:55<br>
Subject:Re: [rest-discuss] REST vs POX<br>
Message:<br><br>
<pre>Sean:

While I'm no expert in REST, here's how I approach the whole POX discussion:

REST deals with addressing resources (pages, data docs, images, .etc)
via URI, media-types, and HTTP methods. Well-constructed URI (unique
for each "important" resource) called with the proper HTTP method (GET
for reading, POST/PUT/DELETE when updating) will result in the most
efficient network effects (GET on unique URI allows you to support
validation and expiration caching).  Note that POX does not change any
of this. Because POX  (text/xml) is a media-type.

The REST model encourages loose-coupling of the media-types for a
resource. That means clients can make a request and tell the server
what content-type they wish to receive. For example, AJAX-enabled
clients can request JSON objects (GET /users/ accept:appliation/json)
and non-scripted HTML clients can request static HTML (GET /users/
accept:text/html), etc.  Media-types can also be used to send data to
the server ("here's my new user record in Atom format" = POST /users/
content-type:application/atom+xml). Designing a POX-based server
couples the format with the URI. Clients can't request a JSON version.
They can only request text/xml. When clients update the server, they
must always send using "text/xml."

Finally, media-types also inform the client (and server) what's
"inside."  If a web browser client gets a resource marked "text/html"
it knows to render the results including showing any links and/or
forms properly. That's the fourth of Fielding's REST pillars -
hypermedia. POX is not a *hypermedia* media-type. If the client is
just required to display XML, then you're all set. However, if the
client is supposed to render a list of users with hyperlinks for each
one along with a form for adding a new user, POX does provide a way to
tell this to the client. The client will need to know where to look
for links and how to create a form with the right fields ahead of time
- at design time. This binds the client code to the POX document.
Change the document and you might break the client ("hey! what
happened to the user links?"). Change the server and you might break
the client ("what do you mean there is a new required field?"). This
does not happen with the text/html media-type since anytime the HTML
document changes (new form fields, new links, etc.) the client renders
it faithfully and prompts the user with the correct fields and links.

So...
As long as you don't foresee needing to support any other media-type
except XML *and* you understand that changing the content of document
or workflow on the server might require re-writing clients, then POX
can work. This can be acceptable for small, one-off, short-lived
projects. But long-term, involved projects that touch lots of clients
might not work well as POX implementations.

Mike Amundsen


On Tue, Apr 29, 2008 at 9:24 AM, Sean Kennedy &lt;seandkennedy@...&gt; wrote:
&gt;
&gt;
&gt; Folks,
&gt;       I work in academia and was recently talking to some former industry
&gt; colleagues (financial people). I asked them how they implemented SOA and
&gt; they said POX. They didnt know must about REST (something I intend to
&gt; rectify!). They didnt like SOAP because there was too much XML involved and
&gt; they dont use WSDL because "we know where the service is". However, I found
&gt; it difficult to argue the point of the advantages of REST versus POX...
&gt;
&gt; Sean.
&gt;
&gt;
&gt;  ________________________________
&gt;  Sent from Yahoo! Mail.
&gt;  A Smarter Email. 



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10669<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-04-30 00:24:30<br>
Subject:Yet another thread on URI Opacitity (aka Use of Metadata in URIs)<br>
Message:<br><br>
<pre>A discussion on the subject of this post recent broke out in the SOA
discussion group -- see WOA vs SOA
&lt;http://tech.groups.yahoo.com/group/service-orientated-architecture/mess\
age/10217&gt;   and URI design
&lt;http://tech.groups.yahoo.com/group/service-orientated-architecture/mess\
age/10222&gt; . I think this group is the more appropriate forum for such a
discussion, so I am posting my reply here.

On Tue, Apr 29, 2008 at 1:59 PM, Andrew S. Townley &lt;ast@...
&lt;mailto:ast@...&gt; &gt; wrote:
&gt; I see it that the client should save a reference to the current
resource
&gt; if it finds that resulting resource "interesting", but it shouldn't
know
&gt; that it can retrieve that resource again using some kind of template
&gt; operation to construct a URI. That's what I meant about "URIs only
&gt; being meaningful to whomever resolves them". Certain layers of the
&gt; client may need to resolve parts of the URI, e.g. the scheme, host and
&gt; port in the case of HTTP, but that's as far as it should go, because
&gt; that's the only part that's meaningful to the client according to the
&gt; published specification.

While I agree with many of your sentiments overall, I think your
strictprohibition against URI templates goes too far. I posted my reply
as acomment to your blog post on URI opacity
&lt;http://atownley.org/2008/04/uri-opacity-revisited/&gt;  . I also posted my
reply in theREST discussion group. I think that is the more appropriate
forum forthis issue. I look forward to continuing the insightful
discussionthere.

While I agree that there is a tradeoff between the ease of
use/understanding gained by placing human-understandable metadata in
URIs and the ease of interface change (enabled by loose coupling), I
think you are leaning a bit too far on the ease of change side.

In particular, the advice in the Dan Connolly quote is out of date and
out of touch with the TAG recommendation concerning this Metadata in
URIs &lt;http://www.w3.org/2001/tag/doc/metaDataInURI-31&gt; . One of key its
conclusions is:

"Assignment authorities may publish specifications detailing the
structure and semantics of the URIs they assign. Other users of those
URIs may use such specifications to infer information about resources
identified by URI assigned by that authority."

Both Tim Berners-Lee (whose "Cool URIs" is also superceded by
the finding) and Dan Connolly approved this finding.

So your statement that "if you think this [Flickr's URI
template] is a "hypermedia application", you need some serious
help" seems a bit over the top, given that the TAG finding
explicitly allows such templating  both in HTML FORMs and
out-of-band interface documentation.

I'd be curious about your thoughts on the finding, especially what
parts you disagree with. For me, the key takeaway is the following:

"Good Practice: Resource metadata that will change SHOULD NOT be
encoded in a URI."

I would generalize that to:

"Resource metadata that will change should not be encoded in the
client in either hardcoded URI metadata elements or hardcoded format
metadata elements."

It doesn't matter whether a metadata element is in a documented URI
template or in a documented microformat template, or in a documented
resource representation schema  if the element documented and then
encoded (eg "hardcoded") into the client, then you have tight
coupling.

But there is no escaping some amount of tight coupling. All loosely
coupled aspects of an interface depend directly or indirectly on tight
coupling somewhere else. In other words loose coupling must be
bootstrapped via tight coupling.

Thinking through what parts of an interface must be tight so that the
other parts can be loose is the essence of good interface design. Choose
wisely and you get stable interfaces that are productive for decades (eg
TCP/IP, SCSI, HTTP, HTML, URI). Choose poorly and you get either
unstable interfaces are arthritic ones.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10670<br>
Sender:"aconrad96" &lt;aconrad@...&gt;<br>
Post Date/Time:2008-04-30 04:41:30<br>
Subject:Project Astoria is hiring.<br>
Message:<br><br>
<pre>Sorry in advance if this is bad etiquette to post job openings to 
this group. I couldn't find the group policy on this anywhere.

The Project Astoria team
(http://en.wikipedia.org/wiki/ADO.NET_Data_Services) at Microsoft is 
significantly expanding and now has several open developer, program 
manager, and testing positions.

The project covers a diverse set of technical areas (databases, Linq, 
O/R, REST, etc) so we value passion for the technology more than deep 
expertise in any particular area. The Astoria team uses an agile 
development model, so the project moves fast and we encourage 
individuals to take on a variety of roles and responsibilities. 
Further, we would really like to hire some external folks who are an 
active part of the Alt.Net community to mix things up a bit!

For more information, see here:

http://blogs.msdn.com/aconrad/archive/2008/03/24/astoria-team-is-
hiring.aspx

or feel free to contact me directly.

Andrew Conrad
Development Lead
Project Astoria



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10671<br>
Sender:"Kevin Ortman" &lt;kevin_ortman@...&gt;<br>
Post Date/Time:2008-04-30 02:13:53<br>
Subject:Re: [rest-discuss] REST vs POX<br>
Message:<br><br>
<pre>Hi Sean,

Not sure I understand.  POX is simply a way to represent a resource, right?
A resource might be text, might be HTML markup, might be plain old XML, etc.

I think of REST as a method of exposing those text, HTML, or POX resources. 
So it's not really REST vs POX.  It's REST+POX, REST+HTML, etc.

In your colleagues' industry they may be able to leverage their existing POX 
payloads in a RESTful manner through sensible URL's, stateless execution, etc.  
In the process of doing so, they may decide to rationalize their POX payloads 
into more resource-centric representations of their data.  Or they may find that 
their POX payloads are already resource-centric and they just want to 
beautify their access patterns.

Regards,
Kevin 



From: Sean Kennedy 
Sent: Tuesday, April 29, 2008 8:24 AM
To: Rest Discussion Group 
Subject: [rest-discuss] REST vs POX



Folks,
      I work in academia and was recently talking to some former industry colleagues (financial people). I asked them how they implemented SOA and they said POX. They didnt know must about REST (something I intend to rectify!). They didnt like SOAP because there was too much XML involved and they dont use WSDL because "we know where the service is". However, I found it difficult to argue the point of the advantages of REST versus POX...

Sean.




--------------------------------------------------------------------------------
Sent from Yahoo! Mail. 
A Smarter Email. 

 </pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10672<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-04-30 06:39:27<br>
Subject:Re: [rest-discuss] REST vs POX<br>
Message:<br><br>
<pre>On Tue, Apr 29, 2008 at 7:13 PM, Kevin Ortman &lt;kevin_ortman@...&gt; wrote:
&gt;
&gt;
&gt; Hi Sean,
&gt;
&gt; Not sure I understand.  POX is simply a way to represent a resource, right?
&gt; A resource might be text, might be HTML markup, might be plain old XML, etc.

A lot of people use that term to denote RPC over XML over HTTP.  The
URL is the operation you're invoking, XML is the payload, and
everything is carried using POST.

Assaf

&gt;
&gt; I think of REST as a method of exposing those text, HTML, or POX resources.
&gt; So it's not really REST vs POX.  It's REST+POX, REST+HTML, etc.
&gt;
&gt; In your colleagues' industry they may be able to leverage their existing POX
&gt; payloads in a RESTful manner through sensible URL's, stateless execution,
&gt; etc.
&gt; In the process of doing so, they may decide to rationalize their POX
&gt; payloads
&gt; into more resource-centric representations of their data.  Or they may find
&gt; that
&gt; their POX payloads are already resource-centric and they just want to
&gt; beautify their access patterns.
&gt;
&gt; Regards,
&gt; Kevin
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; From: Sean Kennedy
&gt; Sent: Tuesday, April 29, 2008 8:24 AM
&gt; To: Rest Discussion Group
&gt; Subject: [rest-discuss] REST vs POX
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Folks,
&gt;       I work in academia and was recently talking to some former industry
&gt; colleagues (financial people). I asked them how they implemented SOA and
&gt; they said POX. They didnt know must about REST (something I intend to
&gt; rectify!). They didnt like SOAP because there was too much XML involved and
&gt; they dont use WSDL because "we know where the service is". However, I found
&gt; it difficult to argue the point of the advantages of REST versus POX...
&gt;
&gt; Sean.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10673<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-04-30 07:38:37<br>
Subject:Re: [rest-discuss] REST vs POX<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10674<br>
Sender:"Andrew S. Townley" &lt;ast@...&gt;<br>
Post Date/Time:2008-04-30 10:35:16<br>
Subject:Re: [rest-discuss] Yet another thread on URI Opacitity (aka Use of	Metadata in URIs)<br>
Message:<br><br>
<pre>On Wed, 2008-04-30 at 00:24 +0000, Nick Gall wrote:
&gt; A discussion on the subject of this post recent broke out in the SOA
&gt; discussion group -- see WOA vs SOA  and URI design. I think this group
&gt; is the more appropriate forum for such a discussion, so I am posting
&gt; my reply here.
&gt; 
&gt; On Tue, Apr 29, 2008 at 1:59 PM, Andrew S. Townley &lt;ast@...&gt;
&gt; wrote:
&gt; &gt; I see it that the client should save a reference to the current
&gt; resource
&gt; &gt; if it finds that resulting resource "interesting", but it shouldn't
&gt; know
&gt; &gt; that it can retrieve that resource again using some kind of template
&gt; &gt; operation to construct a URI. That's what I meant about "URIs only
&gt; &gt; being meaningful to whomever resolves them". Certain layers of the
&gt; &gt; client may need to resolve parts of the URI, e.g. the scheme, host
&gt; and
&gt; &gt; port in the case of HTTP, but that's as far as it should go, because
&gt; &gt; that's the only part that's meaningful to the client according to
&gt; the
&gt; &gt; published specification.
&gt; 
&gt; While I agree with many of your sentiments overall, I think your
&gt; strictprohibition against URI templates goes too far. I posted my
&gt; reply as acomment to your blog post on URI opacity . I also posted my
&gt; reply in theREST discussion group. I think that is the more
&gt; appropriate forum forthis issue. I look forward to continuing the
&gt; insightful discussionthere.
&gt; 
&gt; While I agree that there is a tradeoff between the ease of
&gt; use/understanding gained by placing human-understandable metadata in
&gt; URIs and the ease of interface change (enabled by loose coupling), I
&gt; think you are leaning a bit too far on the ease of change side.
&gt; 
&gt; In particular, the advice in the Dan Connolly quote is out of date and
&gt; out of touch with the TAG recommendation concerning this Metadata in
&gt; URIs. One of key its conclusions is:
&gt; 
&gt; "Assignment authorities may publish specifications detailing the
&gt; structure and semantics of the URIs they assign. Other users of those
&gt; URIs may use such specifications to infer information about resources
&gt; identified by URI assigned by that authority."
&gt; 
&gt; Both Tim Berners-Lee (whose "Cool URIs" is also superceded by the
&gt; finding) and Dan Connolly approved this finding.
&gt; 
&gt; So your statement that "if you think this [Flickr's URI template] is a
&gt; "hypermedia application", you need some serious help" seems a bit over
&gt; the top, given that the TAG finding explicitly allows such templating
&gt;  both in HTML FORMs and out-of-band interface documentation.
&gt; 
&gt; I'd be curious about your thoughts on the finding, especially what
&gt; parts you disagree with. 

Hi Nick,

Thanks for your comments.  I fully understand and agree that loose
coupling must be bootstrapped by tight coupling somewhere.  I think
there's a number of issues intertwined here, so I'll do my best to try
and untangle them so you can see where I'm coming from.

First off, I'm not prohibiting anything.  I'm trying to say that there
must be a better way.  The Web's a bit like society:  you can't really
prohibit anything, all you can really do is choose to penalize someone
after they do something you don't like in the hopes that it won't happen
again.

Thanks for the link to the TAG recommendation.  I hadn't seen it because
I hadn't gone looking for things like that for a while.  Where I am with
my thinking mostly comes from giving a lot of thought to URIs being used
"universally" to identify things from the perspective of trying to hang
semantics off them using Topic Maps, and then determine what rights the
users of those URIs have to "peek inside", generate or augment them
within their own system implementations.

I've given this question a lot of thought and gone around in a more than
a few circles to get where I am, but I stand by my assertion that URIs
are just sequences of bytes conforming to the RFC specification that
have context-dependent meaning.  Those contexts are pretty limited in my
view, and anywhere outside of those contexts, you'd better be treating
URIs as sequences of bytes.

The first of these contexts is the naming authority.  This is the entity
that *constructs* the URI in the first place and then somehow publishes
that URI into the void.  Because they create it, they own it and the
detailed interpretation of what resource the URI actually identifies can
only be determined by the naming authority.  Other entities can make
assertions about the URI, but those assertions should ultimately be
based on things like "this byte sequence" (the URI) identifies "this
byte sequence" (the representation).  If someone wants or needs to get
back to the representation, they need to have the URI as created by the
naming authority.

The second of these contexts is the act of dereferencing the URI by a
client so that it can request the representation it identifies.  Here's
where the RFC comes into play, because it says how that byte sequence
should be interpreted during URI resolution.  In this context, the
client needs to know how to resolve the server, so it can then process
the scheme, host, port, etc. so it can make the TCP connection and then
hand off the byte sequence to the thing on the other end of the
connection to hopefully resolve the resource.

I want to be clear that while this context involves the client, it is
completely separate from any application-specific logic or processing
that the client needs to do to interact with the service.

So, that means we've 3 broad contexts of use for the URI:

1) use by the naming authority
2) use by the client agent in connecting to the naming authority
3) everything else

So far, I think this is in-line with the TAG recommendation.  The area
of debate is all about context #3:  everything else.

&gt; For me, the key takeaway is the following:
&gt; 
&gt; "Good Practice: Resource metadata that will change SHOULD NOT be
&gt; encoded in a URI."
&gt; 
&gt; I would generalize that to:
&gt; 
&gt; "Resource metadata that will change should not be encoded in the
&gt; client in either hardcoded URI metadata elements or hardcoded format
&gt; metadata elements."
&gt; 
&gt; It doesn't matter whether a metadata element is in a documented URI
&gt; template or in a documented microformat template, or in a documented
&gt; resource representation schema  if the element documented and then
&gt; encoded (eg "hardcoded") into the client, then you have tight
&gt; coupling.

As you say, you've got to have tight coupling somewhere, but I don't
necessarily agree with your generalization or your assertion that it
doesn't mater where the metadata lives.  I don't see how you're going to
get any useful application processing done if you don't have some amount
of hard-coded data processing in your client somewhere.  The question is
where to put it.

My answer to this part of the issue is that you should put your "hard
coded", tightly-coupled processing as far away as possible from anything
to do with interacting with the information service provider's service
interface.  Maybe an example will help.

If I'm interacting via the Web, I know my client needs to deal with
URIs--primarily HTTP URLs.  It doesn't make sense to hard-code the URL
of my service provider into my client, but it's logical to hard-code URI
processing and TCP connection logic into a library used by my client
because I can use that in a much wider context than this particular
service.

To me, the same sort of rules should apply to interacting with the
service.  Let's say I have an invoice management service that holds
digitized versions of all my organizations AP invoices.  I want to write
a tool that processes those invoices in some way (what it does exactly
doesn't really matter).  Because my invoice management service is
outsourced to a 3rd-party that does all of the manual data entry, I
don't have direct access to the information, but my invoices are
available via a Web service accessible using HTTP.  My invoice data is
represented using UBL's NES profile so I don't have to re-invent what an
invoice looks like.

So far, there's the following architectural aspects in this scenario:

1) Information transfer will be accomplished using HTTP
2) Information representation will be accomplished using UBL/NES
3) Information identification will require a URI (implied from #1)
4) Information location, resolution and retrieval will require a URI
(also implied from #1)

Looking at this, I see 3 very broad application scopes and 1 very narrow
application scope.  Items 1-3 will likely be the same across any
outsourcing partner that I choose, however, #4 is totally specific to
the service provider and is a by-product of the way they implement their
information service.

Some time passes.  I acquire another company in a geographically remote
location.  I want to integrate their AP function with the corporate one,
but because they're geographically remote, it doesn't make sense to have
the same 3rd-party outsourcing partner.  Eventually, I end up with 2 AP
processing outsourcing partners, both of whom use HTTP, URIs and UBL/NES
to get me my information, but who use dramatically different
implementation technologies, causing differences in the way their URIs
are constructed.  I don't have any influence over their technology
platform decisions, but both of them do provide me with the most
economically viable AP processing services for their geographic
location.

The difference between #3 and #4 is why this whole opacity or URI
metadata issue matters at all.  While you're using the same byte
sequence for both, you're using it very differently.

My argument is that you should be able to design your client's
application logic entirely based around #3 and not need to care about #4
at all.  I see hypermedia as a way to make that happen.

Before I go any further, I stand by my statement that you said was OTT,
because to me hypermedia applications are driven by the services that
provide them.  Once the client has *initially* accessed the service, the
available operations and further interactions should be completely under
the control of the service.  The client can make decisions based on the
hypermedia it is presented, but its interactions should be entirely
driven by the service's current application state, represented to the
client through the hypermedia resource it is given.

Looking at the remainder of the TAG recommendation, sections 2.2,
Guessing information from a URI, and 2.5, URIs that are convenient for
people to use, are interesting.  Earlier on the other list, I said:
"each human-readable URL should be a separate service."  I think the
ultimate definition of "service" is defined by those being served and
not by the service provider.

In 2.2 &amp; 2.5, the example is http://example.org/weather/Chicago is used
as an example that can be printed on a bus and will provide the current
representation of the weather in Chicago.  In this case, I'd say the
service is "providing the weather in Chicago" and not "providing the
weather".  Some other service may provide the same weather at
http://airports.org/weather?location=ORD.  This is fine, and I won't
argue with you that one isn't more logical and 'friendlier' or easier to
type than the other.  The good practice recommendation is that

"URIs intended for direct use by people should be easy to understand,
and should be suggestive of the resource actually named."

Again, not dramatically different than my earlier position.  Regarding
the guessing discussed in 2.2, this is something that you're never going
to be able to stop.  I do find myself thinking about my own URI usage as
a URI consumer and the number of times I'm tempted to guess.  Most of
them seem to boil down to a single, more fundamental issue:  the service
UI is difficult to use.

Every instance that I can think of where I've typed in a URI beyond the
DNS name was because finding the information I wanted was either
convoluted or deliberately inaccessible after I ended up at a page
through search results that was obviously part of a larger resource, but
there wasn't any obvious link to the rest of it.

Either way, I don't really have an issue with the recommendation, but I
would expect the interaction model of the service presented to me once I
actually retrieved that initial resource to allow me to easily explore
other information provided by the service so that I wouldn't have to
resort to URI guessing games.

This really only leaves 2.3 HTML Forms, and Documenting Metadata
Assignment policies.  Here's where I think the initial jump-off point
for URI templating started, and here's probably where I have my biggest
issues regarding the recommendation.

&gt;From the recommendation:

"HTML forms [HTMLForms] and now XForms [XFORMS] each provide a means by
which an authority can assert its support for a class of parameterized
URIs, while simultaneously programming Web clients to prompt for the
necessary parameters."

I think the terminology used and subsequent inferences made from this
statement isn't as clear as it could be and open to broader
interpretation than it should be.  The reason is related to one of my
points on the other list:

On Tue, 2008-04-29 at 18:59 +0100, Andrew S. Townley wrote:
&gt; URIs are funny beasts in [regarding the URI design of a particular service] 
&gt; because of the nature of the Web. I really see them doing a bit of double
&gt; duty at times.  On one hand, Anne's right that they do constitute the 
&gt; service's external interface, but I find myself asking if that's by design
&gt; or by accident.
&gt; 
&gt; On the Web, you need URIs to interact with a service so that the service
&gt; can walk you through the valid application states it's willing to
&gt; support, but does that mean that each one of these URIs is or should be
&gt; equally important?  By definition of the URIs and the Web, the answer is
&gt; yes, because the "dangling hyperlink" capability was the real innovation
&gt; of the Web over other hypermedia systems.

To me, what an HTML or XForm does is provide an assertion to the client
that:

        for this resource, representing this service application state,
        you have the following potential state transition.  To
        accomplish the state transition, you can supply additional
        information (as specified by the form).
        
I don't agree that the form's action and method imply any sort of
*long-lived*, binding assertion that a naming authority will broadly
support a class of parameterized URIs.  Again, this comes back to my
understanding of hypermedia (and we can argue about that separately).
To me, the *hypermedia* aspect of this interaction says that:

        For *this particular* resource representation, identified by the
        *current URI used to retrieve it*, the client has the following
        state transition options.
        
That's a big difference from saying "an authority can assert its support
for a class of parameterized URIs" and subsequently taking that to mean
"unconditionally and outside the context of the particular resource
defining said support".

This is the crux of why I stand behind my assertion that using URI
templates over HTTP does not imply you have a hypermedia application.

I make a clear and distinct difference between the actions of a
hypermedia interaction handling library constructing a URI and
submitting a subsequent request to a service based on information
extracted from the hypermedia it received as the result of a previous
resource request and a client creating a URI following a published
service API specification and submitting that URI to a service without
the service first expressing that this is a valid state transition.

With API's based on URI templates, the API specification is playing the
role that I believe could be fulfilled by a semantically stable
hypermedia interaction vocabulary.  Because no such critter currently
exists and is widely adopted, people building automated clients for
Web-based information services have no choice but to come up with some
other means to "get the job done".

Just because it has to be done, doesn't mean that it should or must be
done, and it certainly doesn't mean that it's a hypermedia application.
If your interaction model depends on following an API call sequence
based on constructed URIs (the API parameters) that is not defined
within the hypermedia exchanged between the client and the service, then
I truly fail to see how you have a hypermedia application.  You may be
pushing hypermedia representations around, but then they're effectively
opaque data blobs and not part of the interaction model.

If the service provider/URI naming authority wants to use parameterized
templates to construct the URIs it places in hypermedia representations,
then that's perfectly fine and makes good architectural sense.  However,
if it's done by the client, I think it's a potential danger and means
that your service consumer must support N APIs and N API-specific
templating models to interact with N services.

Why should this be necessary?

&gt; But there is no escaping some amount of tight coupling. All loosely
&gt; coupled aspects of an interface depend directly or indirectly on tight
&gt; coupling somewhere else. In other words loose coupling must be
&gt; bootstrapped via tight coupling.
&gt; 
&gt; Thinking through what parts of an interface must be tight so that the
&gt; other parts can be loose is the essence of good interface design.
&gt; Choose wisely and you get stable interfaces that are productive for
&gt; decades (eg TCP/IP, SCSI, HTTP, HTML, URI). Choose poorly and you get
&gt; either unstable interfaces are arthritic ones.

Agreed.

ast
-- 
Andrew S. Townley &lt;ast@...
http://atownley.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10675<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-04-30 17:50:13<br>
Subject:Re: [rest-discuss] REST vs POX<br>
Message:<br><br>
<pre>Very good summary.

On Apr 29, 2008, at 12:19 PM, mike amundsen wrote:
&gt; happened to the user links?"). Change the server and you might break
&gt; the client ("what do you mean there is a new required field?"). This
&gt; does not happen with the text/html media-type since anytime the HTML
&gt; document changes (new form fields, new links, etc.) the client renders
&gt; it faithfully and prompts the user with the correct fields and links.

While I agree with this, and that this is ideal, in reality,  
incompatible changes (whether there is hypermedia or not) may break  
machine clients.

Subbu


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10676<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-04-30 17:51:30<br>
Subject:Re: [rest-discuss] REST vs POX<br>
Message:<br><br>
<pre>That's true. A lot of POX usage is rooted in RPC with XML treated as a  
serialization format.

Subbu

On Apr 29, 2008, at 11:39 PM, Assaf Arkin wrote:
&gt; On Tue, Apr 29, 2008 at 7:13 PM, Kevin Ortman &lt;kevin_ortman@...&gt;  
&gt; wrote:
&gt;&gt;
&gt;&gt;
&gt;&gt; Hi Sean,
&gt;&gt;
&gt;&gt; Not sure I understand.  POX is simply a way to represent a  
&gt;&gt; resource, right?
&gt;&gt; A resource might be text, might be HTML markup, might be plain old  
&gt;&gt; XML, etc.
&gt;
&gt; A lot of people use that term to denote RPC over XML over HTTP.  The
&gt; URL is the operation you're invoking, XML is the payload, and
&gt; everything is carried using POST.
&gt;
&gt; Assaf
&gt;
&gt;&gt;
&gt;&gt; I think of REST as a method of exposing those text, HTML, or POX  
&gt;&gt; resources.
&gt;&gt; So it's not really REST vs POX.  It's REST+POX, REST+HTML, etc.
&gt;&gt;
&gt;&gt; In your colleagues' industry they may be able to leverage their  
&gt;&gt; existing POX
&gt;&gt; payloads in a RESTful manner through sensible URL's, stateless  
&gt;&gt; execution,
&gt;&gt; etc.
&gt;&gt; In the process of doing so, they may decide to rationalize their POX
&gt;&gt; payloads
&gt;&gt; into more resource-centric representations of their data.  Or they  
&gt;&gt; may find
&gt;&gt; that
&gt;&gt; their POX payloads are already resource-centric and they just want to
&gt;&gt; beautify their access patterns.
&gt;&gt;
&gt;&gt; Regards,
&gt;&gt; Kevin
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; From: Sean Kennedy
&gt;&gt; Sent: Tuesday, April 29, 2008 8:24 AM
&gt;&gt; To: Rest Discussion Group
&gt;&gt; Subject: [rest-discuss] REST vs POX
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; Folks,
&gt;&gt;      I work in academia and was recently talking to some former  
&gt;&gt; industry
&gt;&gt; colleagues (financial people). I asked them how they implemented  
&gt;&gt; SOA and
&gt;&gt; they said POX. They didnt know must about REST (something I intend to
&gt;&gt; rectify!). They didnt like SOAP because there was too much XML  
&gt;&gt; involved and
&gt;&gt; they dont use WSDL because "we know where the service is". However,  
&gt;&gt; I found
&gt;&gt; it difficult to argue the point of the advantages of REST versus  
&gt;&gt; POX...
&gt;&gt;
&gt;&gt; Sean.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10677<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-04-30 20:52:29<br>
Subject:The Use of Metadata in URIs: How long does a FORM assertion last?<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10678<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2008-04-30 21:05:26<br>
Subject:Re: [rest-discuss] The Use of Metadata in URIs: How long does a FORM assertion last?<br>
Message:<br><br>
<pre>
On Apr 30, 2008, at 10:52 PM, Nick Gall wrote:
&gt; Discussions about URI schemas/templates, parametric URIs, URI  
&gt; opaqueness go back a long way.I am highlighting what I believe is a  
&gt; critical issue that came up in my discussion with Andrew Townley. I  
&gt; would really like feedback on this interesting issue.
&gt;
&gt; The TAG finding on the use of metadata in URIs states that the use  
&gt; of FORM in a returned HTML representation effectively "asserts" or  
&gt; "assures" that the "assigning authority" is "supporting a class of  
&gt; parameterized URIs". This raises the following questions:
&gt; 	 Do you agree?

Yes, sure. That is how clients bind to the objects they want to invoke  
methods on. This not only applies to forms but to anything the client  
learns about the resources it comes across.
Statements made by the authority of the resource take precedence over  
statements made by other authorities, tough.

&gt; 	 If so, then how long is such an assertion/assurance good for?

As long as the representation is said to be valid (IOW cacheable).

&gt; 	 For example, if I save an HTML page on my client, should the  
&gt; embedded FORM(s) work hours, days, weeks, months, years later?

See e.g. the Expires header.

&gt;
&gt; 	 Since every use of any URI (parametric or not) is an assertion or  
&gt; assurance that the assigning authority will support the specific URI  
&gt; for a long time -- at least if the authority is following the "cool  
&gt; URI" practice -- why shouldn't the use of a FORM-based parametric  
&gt; URI also be an assertion or assurance that the assigning authority  
&gt; will support the specific FORM for a long time?
&gt; 	 In other words, should "cool FORMs" like cool URIs last a long  
&gt; time?

No, not at all. The important part of the hypermedia as the engine of  
app state is that the server can *change* it without breaking client  
assumptions.

There is a caveat to all this: by the time the client actually makes  
the request, there is no way for it to communicate any specific  
expectation it has (e.g. by submitting this form I want to order that  
book), it must rely on the server being what it said before it is.  
Even if the client checks back right before the request, there still  
is a gap and the resource it POSTs to could change dramatically.

The intended solution for this gap is the Expect header which allows  
the client to tell the server what it expects and allow the server to  
report back if that expectation can no longer e met. In practice  
Expect is not implemented as far as I know (IIRC there is a reason in  
terms of architectural principles that it is not used, but I cannot  
remember it now).

HTH,
Jan


&gt; -- Nick
&gt;
&gt; -- 
&gt; Nick Gall
&gt; Phone: +1.781.608.5871
&gt; AOL IM: Nicholas Gall
&gt; Yahoo IM: nick_gall_1117
&gt; MSN IM: (same as email)
&gt; Google Talk: (same as email)
&gt; Email: nick.gall AT-SIGN gmail DOT com
&gt; Weblog: http://ironick.typepad.com/ironick/
&gt; Furl: http://www.furl.net/members/ngall 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10679<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-04-30 21:07:37<br>
Subject:Re: [rest-discuss] The Use of Metadata in URIs: How long does a FORM assertion last?<br>
Message:<br><br>
<pre>On Wed, Apr 30, 2008 at 4:52 PM, Nick Gall &lt;nick.gall@...&gt; wrote:
&gt;  The TAG finding on the use of metadata in URIs states that the use of FORM
&gt; in a returned HTML representation effectively "asserts" or "assures" that
&gt; the "assigning authority" is "supporting a class of parameterized URIs".
&gt; This raises the following questions:
&gt;
&gt; Do you agree?

Yes.

&gt; If so, then how long is such an assertion/assurance good for?

As long as the representation is considered fresh.  Check the cache headers.

Mark.
-- 
Mark Baker. Ottawa, Ontario, CANADA. http://www.markbaker.ca
Coactus; Web-inspired integration strategies http://www.coactus.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10680<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2008-04-30 21:09:31<br>
Subject:Re: [rest-discuss] The Use of Metadata in URIs: How long does a FORM assertion last?<br>
Message:<br><br>
<pre>
On Apr 30, 2008, at 11:05 PM, Jan Algermissen wrote:
&gt;&gt; 	 In other words, should "cool FORMs" like cool URIs last a long
&gt;&gt; time?
&gt;
&gt; No, not at all. The important part of the hypermedia as the engine of
&gt; app state is that the server can *change* it without breaking client
&gt; assumptions.

To stress that point again: if you hard-code what you know about the  
form into your client, you work exactly against what REST is trying to  
give you. If you'd hard-code the form you are in fact pretty damn  
close to WS-*- WSDLism.

Jan


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10681<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-04-30 21:13:58<br>
Subject:Re: [rest-discuss] Yet another thread on URI Opacitity (aka Use of Metadata in URIs)<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10682<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-04-30 21:28:11<br>
Subject:Re: The Use of Metadata in URIs: How long does a FORM assertion last?<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10683<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-05-01 04:12:07<br>
Subject:Re: [rest-discuss] Re: The Use of Metadata in URIs: How long does a FORM assertion last?<br>
Message:<br><br>
<pre>On Wed, Apr 30, 2008 at 5:28 PM, Nick Gall &lt;nick.gall@...&gt; wrote:
&gt;
&gt;  Hmmm...Given Jan and Marks answers I think I need to provide more context.
&gt; Both Mark and Jan claim to agree with the TAG finding, yet at the same time
&gt; claim roughly that the "assurance" lasts only as long as the cache header
&gt; says. I don't think this is what the TAG finding means. Let me quote a bit
&gt; more from the finding:
&gt;
&gt;
&gt; [begin quote]
&gt;
&gt;
&gt;  A browser receiving this form, or Bob if he views the source of the form,
&gt; is assured that the assigning authority is supporting an entire class of
&gt; URIs of the form: http://example.org/cityweather?city=CityName
&gt;
&gt;
&gt;
&gt;  The same HTML Form is also a computer program, executable by the browser,
&gt; that prompts for and retrieves representations for all such URIs, and the
&gt; English text in the form assures Bob that these are indeed for weather
&gt; reports. Bob is not guessing the encoding of the URI or the nature of the
&gt; resources referenced  he is acting on authoritative information provided by
&gt; the assignor of the URIs. He can assume not just that he will get weather
&gt; reports for certain cities, but that no URIs in the class correspond to
&gt; anything other than weather reports (though some may correspond to no
&gt; resource at all). Bob could, with this assurance, write his own software to
&gt; construct and use such URIs to retrieve weather reports. Of course, the
&gt; typical Web user would neither directly inspect the URIs nor write software
&gt; to build them, but would instead type in city names and push the handy "Get
&gt; the weather" button on his or her browser screen.
&gt; [emphasis added]
&gt;
&gt; [end quote]
&gt;
&gt; Assuming that the code Bob writes lasts longer than what the cache header
&gt; says &lt;grin&gt;:
&gt;
&gt; Do you agree that by this example, the TAG is claiming that the mere
&gt; appearance of a FORM in a representation provides sufficient assurance from
&gt; the providing authority to subsequently encode the FORM's URI schema into
&gt; software for an extended period of use by the client?

No.

&gt; If no, what do you think the TAG is claiming with this example?

I would hope that the software Bob is writing just parses the form,
and doesn't assume the URI structure will remain static for all time.
It's not clear what Bob's software is doing there though, so it could
probably use a clarification.  Why don't you bring it up with them?

BTW, when discussing GET forms specifically, the whole"Cool URIs don't
change" issue might get dragged in.  That's only a best practice of
course, and so a Web consumer cannot assume that a URI discovered from
a publisher will continue to identify the same resource over time.
Some people might miss that though.

Mark.
-- 
Mark Baker. Ottawa, Ontario, CANADA. http://www.markbaker.ca
Coactus; Web-inspired integration strategies http://www.coactus.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10684<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-05-01 05:20:54<br>
Subject:Re: [rest-discuss] Re: The Use of Metadata in URIs: How long does a FORM assertion last?<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10685<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2008-05-01 07:20:42<br>
Subject:Re: [rest-discuss] Re: The Use of Metadata in URIs: How long does a FORM assertion last?<br>
Message:<br><br>
<pre>On Apr 30, 2008, at 10:20 PM, Nick Gall wrote:
&gt; "Not clear what Bob's software is doing"? Do you really believe  
&gt; that, Mark? I think it's pretty darn clear what the TAG thinks the  
&gt; software is doing:
&gt;
&gt;
&gt; "Bob if he views the source of the form is assured that the  
&gt; assigning authority issupporting an entire class of URIs of the  
&gt; form: http://example.org/cityweather?city=CityName. ... Bob could,  
&gt; with this assurance, write his ownsoftware to construct and use  
&gt; such URIs to retrieve weather reports."
&gt;
&gt; The TAG is clearly not suggesting that Bob is merely authorized by  
&gt; the FORM to write generic FORM-parsing software as you suggest. On  
&gt; the contrary, It is clearly stating that given the specific  
&gt; "weather URI" parameters that appear in the FORM, Bob is authorized  
&gt; to write software that can generate "an entire class of URIs" "to  
&gt; retrieve weather reports". In other words the software can use a  
&gt; URI template.

I don't see why we should care.  Anyone is "authorized" to write any  
software.
Anyone is authorized to perform a GET on any URI.  The server will  
respond
however it sees fit.  The document got stuck in the weeds somewhere and
is struggling to make sense out of nonsense.

Don't read too much into what is obviously a poor choice of words.
What they meant to say is that some services correspond to a range
(template) of URIs for which guessing the potential values in that
range is a perfectly reasonable thing to do, even if there turns
out to be no resource for a given guess.  There are no guarantees
on the Web.

....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10686<br>
Sender:Stefan Eissing &lt;stefan.eissing@...&gt;<br>
Post Date/Time:2008-05-01 08:53:19<br>
Subject:Re: [rest-discuss] Re: The Use of Metadata in URIs: How long does a FORM assertion last?<br>
Message:<br><br>
<pre>The HTML form is just one way of discovering a RESTful "service" or,  
better named, a family of resources with a commen URL pattern (which  
hopefully is expressable in URI templates). A friend sending you the  
uri template or telling you about it in suaheli are other ways to  
discover the same thing.

If that is worth the investement to hard-code that in software is  
entirely up to you.

//Stefan

resources with structure
inviting retrieval of content
- cache control.

Am 01.05.2008 um 07:20 schrieb Nick Gall:

&gt; On Thu, May 1, 2008 at 12:12 AM, Mark Baker &lt;distobj@...&gt; wrote:
&gt; &gt; I would hope that the software Bob is writing just parses the form,
&gt; &gt; and doesn't assume the URI structure will remain static for all  
&gt; time.
&gt; &gt; It's not clear what Bob's software is doing there though, so it  
&gt; could
&gt; &gt; probably use a clarification.
&gt;
&gt; "Not clear what Bob's software is doing"? Do you really believe  
&gt; that, Mark? I think it's pretty darn clear what the TAG thinks the  
&gt; software is doing:
&gt;
&gt;
&gt; "Bob if he views the source of the form is assured that the  
&gt; assigning authority issupporting an entire class of URIs of the  
&gt; form: http://example.org/cityweather?city=CityName. ... Bob could,  
&gt; with this assurance, write his ownsoftware to construct and use  
&gt; such URIs to retrieve weather reports."
&gt;
&gt; The TAG is clearly not suggesting that Bob is merely authorized by  
&gt; the FORM to write generic FORM-parsing software as you suggest. On  
&gt; the contrary, It is clearly stating that given the specific  
&gt; "weather URI" parameters that appear in the FORM, Bob is authorized  
&gt; to write software that can generate "an entire class of URIs" "to  
&gt; retrieve weather reports". In other words the software can use a  
&gt; URI template.
&gt;
&gt; &gt; Why don't you bring it up with them?
&gt;
&gt; Good idea. I wanted to check with this group to see if I was just  
&gt; confused about the finding before going to the TAG. Plus, I am  
&gt; hoping some of them will read my post here and respond. If they  
&gt; don't, I'll forward a part of the thread to them.
&gt;
&gt; I'll suggest that if they do intend that the mere appearance of a  
&gt; FORM in an HTML representation assures a developer that the FORM's  
&gt; parameters will be long lived enough to justify writing URI- 
&gt; template-processing software based on them, then the TAG should  
&gt; publish a "cool FORMs don't change" good practice finding to  
&gt; clarify their intent.
&gt;
&gt; -- Nick
&gt;
&gt; 

--
&lt;green/&gt;bytes GmbH, Hafenweg 16, D-48155 Mnster, Germany
Amtsgericht Mnster: HRB5782





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10687<br>
Sender:"Andrew S. Townley" &lt;ast@...&gt;<br>
Post Date/Time:2008-05-01 09:03:37<br>
Subject:Re: [rest-discuss] Re: The Use of Metadata in URIs: How long does	a FORM assertion last?<br>
Message:<br><br>
<pre>On Thu, 2008-05-01 at 00:20 -0700, Roy T. Fielding wrote:
&gt; Don't read too much into what is obviously a poor choice of words.
&gt; What they meant to say is that some services correspond to a range
&gt; (template) of URIs for which guessing the potential values in that
&gt; range is a perfectly reasonable thing to do, even if there turns
&gt; out to be no resource for a given guess. There are no guarantees
&gt; on the Web.

If you have a hypermedia application client/agent that interprets the
resources it receives and then uses that resource as the basis for
determining the available state transitions supported by the server, why
would you need to bother with guessing (or relying on a URI template)
for an automated agent?

Maybe I'm wrong, but I see URI templates as a pragmatic shortcut so that
agent authors don't need to bother with interpreting the hypermedia they
receive.  This makes writing agents more in line with standard modes of
thinking about software design and implementation, e.g. to accomplish a
task, you make calls to functions with known parameters in an order
determined by the caller to trigger state transitions and/or receive
some expected output.

However, if that's the way you approach development of a hypermedia
application where the service has the opportunity - by design - to tell
you about the available state transitions and the location of other
resources that it thinks are related/relevant to the current resource,
how is your agent really part of a hypermedia application?

As Nick pointed out, there aren't many systems out there that do this
(interactive Web browsers being a notable exception).  I think this is
one of the drivers for the sem-web initiatives, but I also think there's
value in trying to leverage this approach today to build more robust
software systems that can gracefully handle changes in the service
implementation.

ast
-- 
Andrew S. Townley &lt;ast@...&gt;
http://atownley.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10688<br>
Sender:Peter Williams &lt;pezra@...&gt;<br>
Post Date/Time:2008-05-01 14:51:23<br>
Subject:Re: [rest-discuss] Re: The Use of Metadata in URIs: How long does a FORM assertion last?<br>
Message:<br><br>
<pre>Andrew S. Townley wrote:
&gt; 
&gt; Maybe I'm wrong, but I see URI templates as a pragmatic shortcut so that
&gt; agent authors don't need to bother with interpreting the hypermedia they
&gt; receive. This makes writing agents more in line with standard modes of
&gt; thinking about software design and implementation, e.g. to accomplish a
&gt; task, you make calls to functions with known parameters in an order
&gt; determined by the caller to trigger state transitions and/or receive
&gt; some expected output.

Well, it may be that many people use URI templates as a shortcut for
using hypermedia but there *are* valid uses of URI templates that do
not entail cheating.

For example, in the application on which I work tracks time series
data for a large number of metrics.  Each metric is a resource, as is
the observations for those metrics.  Many (non-browser) agents need all 
the observations from specific time frames to perform their work.  To
facilitate this we have provided a "link" in the metric
representations to any time based subset of the observations for that
metric using a template. For example,

http://foo.example/metrics/232/observations?start={start_time}&amp;end={end_time}

This works quite well for us, and I cannot think of any other approach
that would be as efficient and simple.  It is worth noting that we do
not guarantee that URL will exist in the future.  Rather, we guarantee
that there will be a URL template in the metric representations that
you can substitute `start_time` and `end_time` into and use get the
set of observation in that time frame.

Peter Williams
http://pezra.barelyenough.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10689<br>
Sender:"Andrew S. Townley" &lt;ast@...&gt;<br>
Post Date/Time:2008-05-01 15:17:54<br>
Subject:Re: [rest-discuss] Re: The Use of Metadata in URIs: How long does	a FORM assertion last?<br>
Message:<br><br>
<pre>On Thu, 2008-05-01 at 08:51 -0600, Peter Williams wrote:
&gt; Andrew S. Townley wrote:
&gt; &gt; 
&gt; &gt; Maybe I'm wrong, but I see URI templates as a pragmatic shortcut so that
&gt; &gt; agent authors don't need to bother with interpreting the hypermedia they
&gt; &gt; receive. This makes writing agents more in line with standard modes of
&gt; &gt; thinking about software design and implementation, e.g. to accomplish a
&gt; &gt; task, you make calls to functions with known parameters in an order
&gt; &gt; determined by the caller to trigger state transitions and/or receive
&gt; &gt; some expected output.
&gt; 
&gt; Well, it may be that many people use URI templates as a shortcut for
&gt; using hypermedia but there *are* valid uses of URI templates that do
&gt; not entail cheating.
&gt; 
&gt; For example, in the application on which I work tracks time series
&gt; data for a large number of metrics.  Each metric is a resource, as is
&gt; the observations for those metrics.  Many (non-browser) agents need all 
&gt; the observations from specific time frames to perform their work.  To
&gt; facilitate this we have provided a "link" in the metric
&gt; representations to any time based subset of the observations for that
&gt; metric using a template. For example,
&gt; 
&gt; http://foo.example/metrics/232/observations?start={start_time}&amp;end={end_time}
&gt; 
&gt; This works quite well for us, and I cannot think of any other approach
&gt; that would be as efficient and simple.  It is worth noting that we do
&gt; not guarantee that URL will exist in the future.  Rather, we guarantee
&gt; that there will be a URL template in the metric representations that
&gt; you can substitute `start_time` and `end_time` into and use get the
&gt; set of observation in that time frame.

Hi Peter,

So, are you saying that you embed the template in the representation
for
http://foo.example/metrics/232?  If so, why wouldn't you just put a 2
field form there instead?  I agree that it means you don't have the
ability to just make one request.  If the template's in the resource
anyway, I would see the form as being less work to ensure you were
constructing the correct URIs because the representation+form would do
it for you automatically.

Cheers,

ast
-- 
Andrew S. Townley &lt;ast@...&gt;
http://atownley.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10690<br>
Sender:Peter Williams &lt;pezra@...&gt;<br>
Post Date/Time:2008-05-01 15:28:15<br>
Subject:Re: [rest-discuss] Re: The Use of Metadata in URIs: How long does a FORM assertion last?<br>
Message:<br><br>
<pre>Andrew S. Townley wrote:
&gt;&gt; For example, in the application on which I work tracks time series
&gt;&gt; data for a large number of metrics.  Each metric is a resource, as is
&gt;&gt; the observations for those metrics.  Many (non-browser) agents need all 
&gt;&gt; the observations from specific time frames to perform their work.  To
&gt;&gt; facilitate this we have provided a "link" in the metric
&gt;&gt; representations to any time based subset of the observations for that
&gt;&gt; metric using a template. For example,
&gt;&gt;
&gt;&gt; http://foo.example/metrics/232/observations?start={start_time}&amp;end={end_time}
&gt; 
&gt; So, are you saying that you embed the template in the representation
&gt; for
&gt; http://foo.example/metrics/232?  If so, why wouldn't you just put a 2
&gt; field form there instead?  I agree that it means you don't have the
&gt; ability to just make one request.  If the template's in the resource
&gt; anyway, I would see the form as being less work to ensure you were
&gt; constructing the correct URIs because the representation+form would do
&gt; it for you automatically.


The main reason is that the representations I am thinking of are JSON 
documents that look a bit like this:

     {
      "_type": "Metric",
      "observations_in_interval_href": 
"http://foo.example/metrics/232/observations?start={start_time}&amp;end={end_time}",
     }

(There are lots of other attributes of course.)  So using a form is not 
really a very appealing option.  However, we do implement this as a two 
field form in the HTML representations.

Hope that clears up the confusion.

--
Peter Williams
http://pezra.barelyenough.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10691<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-05-01 20:01:31<br>
Subject:Re: [rest-discuss] Re: The Use of Metadata in URIs: How long does a FORM assertion last?<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10692<br>
Sender:"Andrew S. Townley" &lt;ast@...&gt;<br>
Post Date/Time:2008-05-01 20:25:40<br>
Subject:Re: [rest-discuss] Re: The Use of Metadata in URIs: How long does	a FORM assertion last?<br>
Message:<br><br>
<pre>On Thu, 2008-05-01 at 16:01 -0400, Nick Gall wrote:

&gt; As I wrote this up, it dawned on me that establishing the use of
&gt; server-generated ephemeral URLs in returned representations as a good
&gt; practice is effectively contradicting the cool URL good practice. The
&gt; former seeks to minimize the number of cool (long lived) URLs and the
&gt; latter practice seeks to maximize them. Put another way, proponents of
&gt; server-generated ephemeral URLs appear to believe that long-lived URLs
&gt; are not cool because they create long-lived dependencies.
&gt; 
&gt; So which is the better design -- a hypermedia application rich in long
&gt; lived URLs or a hypermedia application poor in long lived URLs, just a
&gt; few "bootstrap" URLs? Up til now I always assumed the former, but now
&gt; I'm not so sure. Again this reminds me a bit of the deep-linking
&gt; debate, eg a building with many doors vs a building with few doors.

That reminds me, I meant to get back to your earlier question to me
about deep linking.  In the approach I was talking about, deep linking
isn't an issue, because either way, the service should give you an
"out", i.e. a navigable state transition URI regardless of whether it
gives you the page you expected or not.  As long as you "bookmarked" or
otherwise saved a URI that was given to you from the service, it follows
what I was trying to specify via my definition of hypermedia.

I hadn't thought about the cache header point that Mark made earlier,
but I like the idea of using it as a hint.  Even if you tried to
dereference it after it expires, the service will hopefully give you a
navigable resource instead--even if it's an error page with a pointer to
the "front door".

Personally, I think that if you're only using the URIs presented to you
from the server (or the 'friendly' ones printed on the side of a bus
which are bound to be *a* 'front door' if not *the* 'front door'), then
you can bookmark any URI you like.  My issue is with URI generation or
"guessing" in the case of automated agents; it's less about the TTL of
the particular URI.  However, the TTL is more relevant if you're going
to use template-based approaches and you don't want your system to break
in the face of changes in the service.

ast
-- 
Andrew S. Townley &lt;ast@...&gt;
http://atownley.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10693<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-05-01 20:38:42<br>
Subject:Re: [rest-discuss] Re: The Use of Metadata in URIs: How long does a FORM assertion last?<br>
Message:<br><br>
<pre>On Thu, May 1, 2008 at 4:01 PM, Nick Gall &lt;nick.gall@...&gt; wrote:
&gt; I infer from "we do not guarantee that [any observation interval] URL will
&gt; exist in the future" that you've decided that such URLs should be considered
&gt; ephemeral, ie not "cool URLs".

Those URLs might very well be cool, but there's just no way to
communicate that (IIRC HTTP has a 1 year age limit - a good thing).
But declaring a space of them in an HTML form that expires in a week
doesn't mean they're *not* cool.

Mark.
-- 
Mark Baker. Ottawa, Ontario, CANADA. http://www.markbaker.ca
Coactus; Web-inspired integration strategies http://www.coactus.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10694<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-05-01 20:47:37<br>
Subject:Re: [rest-discuss] Re: The Use of Metadata in URIs: How long does a FORM assertion last?<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10695<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2008-05-01 21:03:01<br>
Subject:Re: [rest-discuss] Re: The Use of Metadata in URIs: How long does a FORM assertion last?<br>
Message:<br><br>
<pre>On May 1, 2008, at 2:03 AM, Andrew S. Townley wrote:
&gt; On Thu, 2008-05-01 at 00:20 -0700, Roy T. Fielding wrote:
&gt; &gt; Don't read too much into what is obviously a poor choice of words.
&gt; &gt; What they meant to say is that some services correspond to a range
&gt; &gt; (template) of URIs for which guessing the potential values in that
&gt; &gt; range is a perfectly reasonable thing to do, even if there turns
&gt; &gt; out to be no resource for a given guess. There are no guarantees
&gt; &gt; on the Web.
&gt;
&gt; If you have a hypermedia application client/agent that interprets the
&gt; resources it receives and then uses that resource as the basis for
&gt; determining the available state transitions supported by the  
&gt; server, why
&gt; would you need to bother with guessing (or relying on a URI template)
&gt; for an automated agent?
&gt;

For the same reason that you would bother using Google search.
Look in the HTTP spec for the phrase "all modern information  
systems ...".

&gt; Maybe I'm wrong, but I see URI templates as a pragmatic shortcut so  
&gt; that
&gt; agent authors don't need to bother with interpreting the hypermedia  
&gt; they
&gt; receive. This makes writing agents more in line with standard modes of
&gt; thinking about software design and implementation, e.g. to  
&gt; accomplish a
&gt; task, you make calls to functions with known parameters in an order
&gt; determined by the caller to trigger state transitions and/or receive
&gt; some expected output.
&gt;

That's one way to use them, yes.  The other way is computed links.

&gt; However, if that's the way you approach development of a hypermedia
&gt; application where the service has the opportunity - by design - to  
&gt; tell
&gt; you about the available state transitions and the location of other
&gt; resources that it thinks are related/relevant to the current resource,
&gt; how is your agent really part of a hypermedia application?
&gt;

Again, the other way is computed links (see hypertext research).

&gt; As Nick pointed out, there aren't many systems out there that do this
&gt; (interactive Web browsers being a notable exception). I think this is
&gt; one of the drivers for the sem-web initiatives, but I also think  
&gt; there's
&gt; value in trying to leverage this approach today to build more robust
&gt; software systems that can gracefully handle changes in the service
&gt; implementation.
&gt;

There are many systems that use computed links.  Almost all of the
closed-world hypertext systems had automated dictionary lookup
(click on any non-linked word and it retrieves the dictionary
entry for that word).  Programming IDEs do much the same.  A template
is just a way for a server to tell a client that there is a range
of resources available -- just like server-side image maps, HTML
forms, and (in less visible ways) javascript.  As long as the template
is defined by the server, they are still links.  As long as the template
is defined by the server in a recent representation, it is RESTful.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10696<br>
Sender:"Andrew S. Townley" &lt;ast@...&gt;<br>
Post Date/Time:2008-05-01 21:56:40<br>
Subject:Re: [rest-discuss] Re: The Use of Metadata in URIs: How long does	a FORM assertion last?<br>
Message:<br><br>
<pre>On Thu, 2008-05-01 at 14:03 -0700, Roy T. Fielding wrote:
&gt; On May 1, 2008, at 2:03 AM, Andrew S. Townley wrote:
&gt; &gt; On Thu, 2008-05-01 at 00:20 -0700, Roy T. Fielding wrote:
&gt; &gt;
&gt; &gt; If you have a hypermedia application client/agent that interprets
&gt; the
&gt; &gt; resources it receives and then uses that resource as the basis for
&gt; &gt; determining the available state transitions supported by the 
&gt; &gt; server, why
&gt; &gt; would you need to bother with guessing (or relying on a URI
&gt; template)
&gt; &gt; for an automated agent?
&gt; &gt;
&gt; 
&gt; For the same reason that you would bother using Google search.
&gt; Look in the HTTP spec for the phrase "all modern information 
&gt; systems ...".

Sorry for being thick, but I'm not quite sure the point you're trying to
make here.  The closest I could find was in 1.1 Purpose:

        "Practical information systems require more functionality than
        simple retrieval, including search, front-end update, and
        annotation."

Is that what you meant?  If so, I understand that and agree, but I still
don't get your point, sorry...

&gt; &gt; As Nick pointed out, there aren't many systems out there that do
&gt; this
&gt; &gt; (interactive Web browsers being a notable exception). I think this
&gt; is
&gt; &gt; one of the drivers for the sem-web initiatives, but I also think 
&gt; &gt; there's
&gt; &gt; value in trying to leverage this approach today to build more robust
&gt; &gt; software systems that can gracefully handle changes in the service
&gt; &gt; implementation.
&gt; &gt;
&gt; 
&gt; There are many systems that use computed links. Almost all of the
&gt; closed-world hypertext systems had automated dictionary lookup
&gt; (click on any non-linked word and it retrieves the dictionary
&gt; entry for that word). Programming IDEs do much the same. A template
&gt; is just a way for a server to tell a client that there is a range
&gt; of resources available -- just like server-side image maps, HTML
&gt; forms, and (in less visible ways) javascript. As long as the template
&gt; is defined by the server, they are still links. As long as the
&gt; template
&gt; is defined by the server in a recent representation, it is RESTful.

Thanks for the pointer to the computed links concept.  It's been a
couple years since I read much of the hypertext research, and I didn't
remember this.  With a quick google, I found this paper that looked
pretty relevant:  "Hand-made and Computed Links, Precomputed and Dynamic
Links (1997)" (http://citeseer.ist.psu.edu/161116.html).  From the
introduction:

        "This paper surveys the use of hand-made and computed links in hypermedia systems and
        contrasts precomputation and dynamic computation of those links which are computed.
        This paper seeks to raise all the issues in one place, so that designers of hypermedia
        systems can consider the issues together, whether they can afford to ignore some forms of
        link, which forms are the most suitable to their working environment, and so on."

Based on a quick skim of the paper, I guess I should qualify my
uneasiness about URI templates.  I can see how the server could specify
a URI template in the resource it sends to allow computed links (for
dictionary, glossary or other types of lookup) using JavaScript or
something like XForms and an agreement about what the form did as part
of the specification of the content model.  In effect, as you say, it's
functionally equivalent to an HTML form, because the form effectively
defines the template as stated by the recommendation Nick referenced.

This use of template URIs still wouldn't bother me because they would be
defined (potentially) dynamically by the server and be a part of the
representation used by the client.  Since they're part of the hypermedia
that must be processed by the client to accomplish any state transition,
I 100% agree that they would, in fact, be RESTful.

However, I see URI templates defined in a different resource -
especially out-of-band API documentation - as a totally different beast.
Admittedly, I only did a quick skim of the paper and a couple of other
sources, but I would find it a bit of a stretch to say that these could
be considered computed links of the same kind.  By their very nature,
aren't they documented so that they can become part of the client's
implementation rather than having it use the information in the resource
from the service?  The template isn't defined by the server at all in
this case, right, so how can this use of template URIs be RESTful?

Thanks again for the reference.

ast
-- 
Andrew S. Townley &lt;ast@...&gt;
http://atownley.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10697<br>
Sender:"Stefano Masini" &lt;stefano.masini@...&gt;<br>
Post Date/Time:2008-05-02 20:56:16<br>
Subject:Updating metadata of multiple resources<br>
Message:<br><br>
<pre>Hi,

I'm still trying to figure rest out. Let's see if I hit a sweet spot
or if I'm just missing something (more likely, please forgive me).

I have several images, each with its own uri that have metadata.
If I want to update the metadata of a given image I send a POST
request on its uri. Right?
What if I want to atomically update some metadata (say, a tag) for a
group of images, how do I approach that?
Sending multiple POST requests, one for each uri, is not atomic, so I
can't accept it.

I thought about posting on the common parent of all the image uris
(say, if I have /images/1, /images/2, etc., then I post on /images).
In the parameters of the post request I would put a list of all the
imaged ids (or entire uri), so that the server can handle the request
atomically.

But then what should I get in return? What should /images return if I
issued a GET? The whole repository? Naaa... too big.
Isn't the POST supposed to return the same representation? Just after
handling the posted request.

How much am I missing from the rest picture?

Thanks
Stefano

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10698<br>
Sender:"Gary Bernhardt" &lt;gary.bernhardt@...&gt;<br>
Post Date/Time:2008-05-03 00:12:03<br>
Subject:Re: [rest-discuss] Updating metadata of multiple resources<br>
Message:<br><br>
<pre>On Fri, May 2, 2008 at 4:56 PM, Stefano Masini
&lt;stefano.masini@...&gt; wrote:
&gt; Hi,
&gt;
&gt;  I'm still trying to figure rest out. Let's see if I hit a sweet spot
&gt;  or if I'm just missing something (more likely, please forgive me).
&gt;
&gt;  I have several images, each with its own uri that have metadata.
&gt;  If I want to update the metadata of a given image I send a POST
&gt;  request on its uri. Right?
&gt;  What if I want to atomically update some metadata (say, a tag) for a
&gt;  group of images, how do I approach that?
&gt;  Sending multiple POST requests, one for each uri, is not atomic, so I
&gt;  can't accept it.

First, it sounds like you want PUT, not POST.  PUT means "create or
replace the entity"; POST means "accept this entity as a child".  What
you want to do here is GET the full representation, make whatever
changes you want, then PUT the whole thing back.  It's a
"read-modify-write" operation.

&gt;  I thought about posting on the common parent of all the image uris
&gt;  (say, if I have /images/1, /images/2, etc., then I post on /images).
&gt;  In the parameters of the post request I would put a list of all the
&gt;  imaged ids (or entire uri), so that the server can handle the request
&gt;  atomically.

I'd define a way to refer to a specific set of images.  Say you want
to modify images 1, 4, and 13.  You can PUT (and GET) to
"/images/1,4,13" with an entity fully describing three images.  This
is just like your proposed idea, except you're referring to a limited
set of images instead of all of them.  The server then atomically
replaces images 1, 4, and 13 with the entities you provided.

One thing to note is that URIs like this require more complex linking.
 The client needs to be able to construct those "1,4,13" URIs somehow,
but it must be told how to, at runtime, by the server; otherwise it
would violate HATEoAS.  You need a way to say something like &lt;a
href="/images/\d(,\d)*"&gt;, where the href there is actually a regex
describing how to build a URI out of a series of integers.  Maybe
someone else can chime on how to do this well, because I have no idea.
 I do know that you do *not* want to actually use regexes, though. :)

&gt;  But then what should I get in return? What should /images return if I
&gt;  issued a GET? The whole repository? Naaa... too big.
&gt;  Isn't the POST supposed to return the same representation? Just after
&gt;  handling the posted request.

This question is answered by the limited-subset solution above.  When
you GET "/images/1,4,13", you get back exactly what you'd expect -
images 1, 4, and 13, just as they were when you PUT them in.

&gt;  How much am I missing from the rest picture?

Well, the PUT/POST thing, but everyone makes that mistake at first. :)
I think another thing people often miss is that the URI space doesn't
have to be rigid or static.  That's exactly the issue here.  What
you're trying to do is modify a subset of a collection, so just say it
in the URI! :)

-- 
Gary
http://blog.extracheese.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10699<br>
Sender:"Leonardo Boiko" &lt;leoboiko@...&gt;<br>
Post Date/Time:2008-05-03 00:31:22<br>
Subject:Re: [rest-discuss] Updating metadata of multiple resources<br>
Message:<br><br>
<pre>For the case of image tags (like flickr, etc.) maybe you could expose
the tags as resources. Then if you want to add the tag "chunkybacon"
to a set of images, you could POST to e.g. /tag/chunkybacon/ an
entity-body with the list of the URIs of images you want to add the
tag. Of course if you GET /tag/chunkybacon/ you'll see a
representation of a list of all chunkybacon images so far.

A similar trick using lists is to expose a list of all image tags
under /images/&lt;id&gt;/tags; then you can POST multiple tags to a single
image. A more complex application would be to support image sets at
URI level, like "/images/&lt;id1&gt;;&lt;id2&gt;;&lt;id3&gt;"; then you can POST
multiple tags to multiple images at "/images/&lt;id1&gt;;&lt;idN&gt;/tags"... You
got the idea. Whatever method you use, be sure to link to or create
forms to it elsewhere.

Side note: the "list URIs" above, as a not-much-known convention, use
"," as separator when order matters and ";" when it doesn't. Note also
that URIs have a maximum lenght.



On 5/2/08, Gary Bernhardt &lt;gary.bernhardt@...&gt; wrote:
&gt; On Fri, May 2, 2008 at 4:56 PM, Stefano Masini
&gt; &lt;stefano.masini@...&gt; wrote:
&gt; &gt; Hi,
&gt; &gt;
&gt; &gt;  I'm still trying to figure rest out. Let's see if I hit a sweet spot
&gt; &gt;  or if I'm just missing something (more likely, please forgive me).
&gt; &gt;
&gt; &gt;  I have several images, each with its own uri that have metadata.
&gt; &gt;  If I want to update the metadata of a given image I send a POST
&gt; &gt;  request on its uri. Right?
&gt; &gt;  What if I want to atomically update some metadata (say, a tag) for a
&gt; &gt;  group of images, how do I approach that?
&gt; &gt;  Sending multiple POST requests, one for each uri, is not atomic, so I
&gt; &gt;  can't accept it.
&gt;
&gt; First, it sounds like you want PUT, not POST.  PUT means "create or
&gt; replace the entity"; POST means "accept this entity as a child".  What
&gt; you want to do here is GET the full representation, make whatever
&gt; changes you want, then PUT the whole thing back.  It's a
&gt; "read-modify-write" operation.
&gt;
&gt; &gt;  I thought about posting on the common parent of all the image uris
&gt; &gt;  (say, if I have /images/1, /images/2, etc., then I post on /images).
&gt; &gt;  In the parameters of the post request I would put a list of all the
&gt; &gt;  imaged ids (or entire uri), so that the server can handle the request
&gt; &gt;  atomically.
&gt;
&gt; I'd define a way to refer to a specific set of images.  Say you want
&gt; to modify images 1, 4, and 13.  You can PUT (and GET) to
&gt; "/images/1,4,13" with an entity fully describing three images.  This
&gt; is just like your proposed idea, except you're referring to a limited
&gt; set of images instead of all of them.  The server then atomically
&gt; replaces images 1, 4, and 13 with the entities you provided.
&gt;
&gt; One thing to note is that URIs like this require more complex linking.
&gt;  The client needs to be able to construct those "1,4,13" URIs somehow,
&gt; but it must be told how to, at runtime, by the server; otherwise it
&gt; would violate HATEoAS.  You need a way to say something like &lt;a
&gt; href="/images/\d(,\d)*"&gt;, where the href there is actually a regex
&gt; describing how to build a URI out of a series of integers.  Maybe
&gt; someone else can chime on how to do this well, because I have no idea.
&gt;  I do know that you do *not* want to actually use regexes, though. :)
&gt;
&gt; &gt;  But then what should I get in return? What should /images return if I
&gt; &gt;  issued a GET? The whole repository? Naaa... too big.
&gt; &gt;  Isn't the POST supposed to return the same representation? Just after
&gt; &gt;  handling the posted request.
&gt;
&gt; This question is answered by the limited-subset solution above.  When
&gt; you GET "/images/1,4,13", you get back exactly what you'd expect -
&gt; images 1, 4, and 13, just as they were when you PUT them in.
&gt;
&gt; &gt;  How much am I missing from the rest picture?
&gt;
&gt; Well, the PUT/POST thing, but everyone makes that mistake at first. :)
&gt; I think another thing people often miss is that the URI space doesn't
&gt; have to be rigid or static.  That's exactly the issue here.  What
&gt; you're trying to do is modify a subset of a collection, so just say it
&gt; in the URI! :)
&gt;
&gt; --
&gt; Gary
&gt; http://blog.extracheese.org
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

-- 
Sent from Google Mail for mobile | mobile.google.com

Leonardo Boiko
http://namakajiri.net

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10700<br>
Sender:"Gary Bernhardt" &lt;gary.bernhardt@...&gt;<br>
Post Date/Time:2008-05-03 00:52:48<br>
Subject:Re: [rest-discuss] Updating metadata of multiple resources<br>
Message:<br><br>
<pre>On Fri, May 2, 2008 at 8:31 PM, Leonardo Boiko &lt;leoboiko@...&gt; wrote:
&gt;  Side note: the "list URIs" above, as a not-much-known convention, use
&gt;  "," as separator when order matters and ";" when it doesn't. Note also
&gt;  that URIs have a maximum lenght.

The specs don't have any URI length restrictions, but current browsers
do, so it depends on what your client is.  BitBacker, the system I've
used this technique in, regularly generates URLs over 10,000
characters long.  This works fine, since both the server and client
sides are prepared to deal with that.  However, it can get very
annoying when manually reading the log files. :)

-- 
Gary
http://blog.extracheese.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10701<br>
Sender:Peter Williams &lt;pezra@...&gt;<br>
Post Date/Time:2008-05-03 04:23:50<br>
Subject:Re: [rest-discuss] Re: The Use of Metadata in URIs: How long does a FORM assertion last?<br>
Message:<br><br>
<pre>Nick Gall wrote:
&gt;    1. I infer from "we do not guarantee that [any observation interval]
&gt;       URL will exist in the future" that you've decided that such URLs
&gt;       should be considered ephemeral, ie not "cool URLs". Since cool
&gt;       URLs are good practice according to the AWWWv1 and TBL, can you
&gt;       share the thinking behind not following good practice? Would users
&gt;       never want to bookmark such observation intervals?

In practice these URLs are "cool", I suppose.  When we change the shapes 
of URLs we always implement redirections from the old to the new shapes.

My statement about them not being guaranteed arose from the fact that we 
encourage automated agents not store URLs unless it is absolutely 
necessary.  That policy is mostly about avoiding having many URLs in the 
wild that are obsolescent and taking the multi request overhead of 
redirection.

&gt;    2. I assume that the URLs to the metrics are cool, eg
&gt;       http://foo.example/ metrics/232/ &lt;http://foo.example/metrics/232/&gt;
&gt;       . If not, what is the cool URL that bootstraps me into the system
&gt;       and how do I navigate to metric URLs like this one? And again, why
&gt;       was the decision made to not follow good practice by making metric
&gt;       URL ephemeral.

As with observations, any particular metric URL will be supported for a 
long time.  However that longevity may be achieved by the use of 
redirection should we need to change the disposition of the resource.

As for how to navigate to the metric, we have implemented a resource 
discovery mechanism which we generally use as the main entry point.  I 
have describing it at 
http://pezra.barelyenough.org/blog/2008/01/restful-service-discovery-and-description/ 
if you are interested.

&gt;    3. I am trying to measure the coupling of your approach in terms of
&gt;       fixed points: dependencies that must be established "out of band"
&gt;       before the client and server can share information. In other
&gt;       words, these are long-lived, static dependencies that are NOT
&gt;       dynamically and ephemerally established in the course of a
&gt;       sequence of request/replies between the client and server. I count
&gt;       five fixed points required to access an observation interval using
&gt;       the indirect method you describe:
&gt;          1. the metric authority:http://foo.example/
&gt;          2. the metric relative URL: metrics/232/
&gt;          3. the JSON name/value pair for the URL template: observations_
&gt;             in_interval_ href: &lt;template&gt;
&gt;          4. the template variable name: start_time
&gt;          5. the template variable name: stop_time

I am not sure I would count 1 and 2 as separate.  I generally conceive 
of URLs as atomic entities.  Other than that it looks about right.


&gt;    4. Direct use of an observation interval template alone has only four
&gt;       fixed points:
&gt;          1. the observation authority: http://foo.example/
&gt;          2. the observations relative URL: /metrics/232/ observations?
&gt;          3. the URL argument name: start
&gt;          4. The URL argument name: end
&gt;    5. Given that your approach has more fixed point dependencies than a
&gt;       simple direct use of a URL, can you explain what dependencies you
&gt;       were trying to eliminate and why? For example, is observations_
&gt;       in_interval_ href less likely to change than /metrics/232/
&gt;       observations? Is start_time less likely to change than start?

The main thing we were trying to achieve is to allow the server a great 
deal of freedom in the disposition of resources.  For example, if a 
server becomes overloaded we need the freedom to relocate the 
observations for any metrics we choose.  While we can, and do, continue 
to support obsolesce URLs via redirection, having the original location 
of the resource forced to handle the initial requests and redirection is 
less optimal than just having agents go to the right place in the first 
place.

&gt; 
&gt; As I wrote this up, it dawned on me that establishing the use of 
&gt; server-generated ephemeral URLs in returned representations as a good 
&gt; practice is effectively contradicting the cool URL good practice. The 
&gt; former seeks to minimize the number of cool (long lived) URLs and the 
&gt; latter practice seeks to maximize them. Put another way, proponents of 
&gt; server-generated ephemeral URLs appear to believe that long-lived URLs 
&gt; are not cool because they create long-lived dependencies.
&gt; 
&gt; So which is the better design -- a hypermedia application rich in long 
&gt; lived URLs or a hypermedia application poor in long lived URLs, just a 
&gt; few "bootstrap" URLs? Up til now I always assumed the former, but now 
&gt; I'm not so sure. Again this reminds me a bit of the deep-linking debate, 
&gt; eg a building with many doors vs a building with few doors.

I tend to prefer having as few long lived URLs as possible.  Each long 
lived URL represents an additional maintenance burden for the system 
over time.   In my experience, however, it turns out that most URLs in a 
system do need to be long lived.  It is probably easier and safer to 
just assume that all the URLs in a system will have to be supported for 
a very long time.

--
Peter Williams
http://pezra.barelyenough.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10702<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-05-03 16:04:12<br>
Subject:RE: [rest-discuss] Updating metadata of multiple resources<br>
Message:<br><br>
<pre>Microsoft has proposed a bulk format so you can process all your requests in
one go, using multipart messages as the payload, with each message being an
http request. That way you can PUT on each of those resources in one go if
you so wish.

See:

http://blogs.msdn.com/astoriateam/archive/2008/04/06/batching-data-service-r
equests.aspx

I'm not sure yet what I think about that proposal  but it certainly does
solve the problem of batching requests much better than http pipelining does
it.

And I personally find the whole POSt to http://server/resource/1,2,3,4 to be
akward, with low visibility and discoverability, but that's a matter of
taste :)

SerialSeb
-----Original Message-----
From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On
Behalf Of Stefano Masini
Sent: 02 May 2008 21:56
To: rest-discuss@yahoogroups.com
Subject: [rest-discuss] Updating metadata of multiple resources

Hi,

I'm still trying to figure rest out. Let's see if I hit a sweet spot
or if I'm just missing something (more likely, please forgive me).

I have several images, each with its own uri that have metadata.
If I want to update the metadata of a given image I send a POST
request on its uri. Right?
What if I want to atomically update some metadata (say, a tag) for a
group of images, how do I approach that?
Sending multiple POST requests, one for each uri, is not atomic, so I
can't accept it.

I thought about posting on the common parent of all the image uris
(say, if I have /images/1, /images/2, etc., then I post on /images).
In the parameters of the post request I would put a list of all the
imaged ids (or entire uri), so that the server can handle the request
atomically.

But then what should I get in return? What should /images return if I
issued a GET? The whole repository? Naaa... too big.
Isn't the POST supposed to return the same representation? Just after
handling the posted request.

How much am I missing from the rest picture?

Thanks
Stefano

------------------------------------

Yahoo! Groups Links





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10703<br>
Sender:"Gary Bernhardt" &lt;gary.bernhardt@...&gt;<br>
Post Date/Time:2008-05-03 16:54:36<br>
Subject:Re: [rest-discuss] Updating metadata of multiple resources<br>
Message:<br><br>
<pre>On Sat, May 3, 2008 at 12:04 PM, Sebastien Lambla &lt;seb@...&gt; wrote:
&gt; Microsoft has proposed a bulk format so you can process all your requests in
&gt;  one go, using multipart messages as the payload, with each message being an
&gt;  http request. That way you can PUT on each of those resources in one go if
&gt;  you so wish.
&gt;
&gt;  See:
&gt;
&gt;  http://blogs.msdn.com/astoriateam/archive/2008/04/06/batching-data-service-r
&gt;  equests.aspx
&gt;
&gt;  I'm not sure yet what I think about that proposal  but it certainly does
&gt;  solve the problem of batching requests much better than http pipelining does
&gt;  it.
&gt;
&gt;  And I personally find the whole POSt to http://server/resource/1,2,3,4 to be
&gt;  akward, with low visibility and discoverability, but that's a matter of
&gt;  taste :)

By definition, it's either discoverable or it's not REST.  If the
representation linking to that resource tells the client how to
construct the URL, it's fully discoverable.  If it fails to tell the
client how, then the client has no way to construct the URL at all
without violating HATEoAS.

Now, if by "low visibility and discoverability" you mean "doesn't
conform directly to the rigid 1990s view of the URL space", then sure.
 REST does require a bit of a mental leap.  But I don't find "REST is
hard, let's go shopping!" a very convincing argument. :)

I've thought a lot about the idea of nesting multiple requests in a
multipart payload.  The more I've come to understand REST, the less
useful that technique has seemed.  If examples like the one above are
motivating it, it's tremendous overkill.  The URL space does not have
to be rigid!  Free your mind! :)

-- 
Gary
http://blog.extracheese.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10704<br>
Sender:"Leonardo Boiko" &lt;leoboiko@...&gt;<br>
Post Date/Time:2008-05-03 17:09:29<br>
Subject:Re: [rest-discuss] Updating metadata of multiple resources<br>
Message:<br><br>
<pre>On Sat, May 3, 2008 at 1:04 PM, Sebastien Lambla &lt;seb@...&gt; wrote:
&gt; That way you can PUT on each of those resources in one go if
&gt;  you so wish.

I don't feel that PUT is a natural way of assign "folksonomy" tags to
pictures; POSTing tag URIs to an image resource or vice-versa feels
more "right" to me.  But it may be just me.

-- 
Leonardo Boiko
http://namakajiri.net

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10705<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-05-03 17:24:48<br>
Subject:Re: [rest-discuss] Re: The Use of Metadata in URIs: How long does a FORM assertion last?<br>
Message:<br><br>
<pre>&gt;So which is the better design -- a hypermedia application rich in
long lived URLs or a &gt;hypermedia application poor in long lived URLs,
just a few "bootstrap" URLs?

Hypermedia as the engine of application state!
Hypermedia as the engine of application state!
HATEOAS induces loose coupling in your network application. This
causes interesting stuff in your application like anarchic scalability
etc. etc. (see Roy's Thesis). Thus you want to use HATEOAS, as much as
you can. You WANT to try and use the links / hrefs as much as
possible. Its just nice software engineering to decouple your client
and servers from each other.

"When we think about WS-* style services, there's little notion of
graphs of information resources. One exchanges documents with
embedded, "managed" data identifiers, like primary keys. The client
has to maintain the context of what the identifier signifies and know
the provider's assumptions in how, when, and where the identifier
should be accessed. All of these assumptions are tacit, and hence,
tightly coupled."[1]

Cool URIs are a nice etiquette . But do NOT put this above your basic
requirement viz. building an application that will scale to the web
and be able to live on the web (for which it will need various
interesting properties .. again see the REST-bible :)

The whole thrust of the "cool uris don't change" note , was that it is
frustrating for humans to see a dangling or broken link. But this
won't be the case if you are building a bot / your own application
that traverses your network based application.

While I have concentrated on Scalability till now , you know that on
the net it is ANARCHIC scalability. There are NO guarentees and it is
wrong of you to assume any (even if some "best practices" document
tells you to).

[1] http://www.stucharlton.com/blog/archives/000141.html

Regards
Devdatta

On 02/05/2008, Nick Gall &lt;nick.gall@...&gt; wrote:
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; On Thu, May 1, 2008 at 10:51 AM, Peter Williams &lt;pezra@...&gt; wrote:
&gt; &gt; For example, in the application on which I work tracks time series
&gt; &gt; data for a large number of metrics. Each metric is a resource, as is
&gt;  &gt; the observations for those metrics. Many (non-browser) agents need all
&gt; &gt; the observations from specific time frames to perform their work. To
&gt; &gt; facilitate this we have provided a "link" in the metric
&gt;  &gt; representations to any time based subset of the observations for that
&gt; &gt; metric using a template. For example,
&gt; &gt;
&gt; &gt; http://foo.example/metrics/232/observations?start={start_time}&amp;end={end_time}
&gt;  &gt;
&gt; &gt; This works quite well for us, and I cannot think of any other approach
&gt; &gt; that would be as efficient and simple. It is worth noting that we do
&gt; &gt; not guarantee that URL will exist in the future. Rather, we guarantee
&gt;  &gt; that there will be a URL template in the metric representations that
&gt; &gt; you can substitute `start_time` and `end_time` into and use get the
&gt; &gt; set of observation in that time frame.
&gt;
&gt; An elegant approach. A couple of observations/questions:
&gt;
&gt;
&gt; I infer from "we do not guarantee that [any observation interval] URL will exist in the future" that you've decided that such URLs should be considered ephemeral, ie not "cool URLs". Since cool URLs are good practice according to the AWWWv1 and TBL, can you share the thinking behind not following good practice? Would users never want to bookmark such observation intervals?
&gt; I assume that the URLs to the metrics are cool, eg http://foo.example/metrics/232/ . If not, what is the cool URL that bootstraps me into the system and how do I navigate to metric URLs like this one? And again, why was the decision made to not follow good practice by making metric URL ephemeral.
&gt; I am trying to measure the coupling of your approach in terms of fixed points: dependencies that must be established "out of band" before the client and server can share information. In other words, these are long-lived, static dependencies that are NOT dynamically and ephemerally established in the course of a sequence of request/replies between the client and server. I count five fixed points required to access an observation interval using the indirect method you describe:
&gt;
&gt;
&gt; the metric authority:http://foo.example/
&gt; the metric relative URL: metrics/232/
&gt; the JSON name/value pair for the URL template: observations_in_interval_href: &lt;template&gt;
&gt;
&gt; the template variable name: start_time
&gt; the template variable name: stop_time
&gt; Direct use of an observation interval template alone has only four fixed points:
&gt;
&gt; the observation authority: http://foo.example/
&gt; the observations relative URL: /metrics/232/observations?
&gt; the URL argument name: start
&gt; The URL argument name: end
&gt; Given that your approach has more fixed point dependencies than a simple direct use of a URL, can you explain what dependencies you were trying to eliminate and why? For example, is observations_in_interval_href less likely to change than /metrics/232/observations? Is start_time less likely to change than start? As I wrote this up, it dawned on me that establishing the use of server-generated ephemeral URLs in returned representations as a good practice is effectively contradicting the cool URL good practice. The former seeks to minimize the number of cool (long lived) URLs and the latter practice seeks to maximize them. Put another way, proponents of server-generated ephemeral URLs appear to believe that long-lived URLs are not cool because they create long-lived dependencies.
&gt;
&gt; So which is the better design -- a hypermedia application rich in long lived URLs or a hypermedia application poor in long lived URLs, just a few "bootstrap" URLs? Up til now I always assumed the former, but now I'm not so sure. Again this reminds me a bit of the deep-linking debate, eg a building with many doors vs a building with few doors.
&gt;
&gt; -- Nick
&gt;
&gt;
&gt;                   

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10706<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-05-03 17:28:49<br>
Subject:RE: [rest-discuss] Updating metadata of multiple resources<br>
Message:<br><br>
<pre>&gt; I don't feel that PUT is a natural way of assign "folksonomy" tags to
&gt; pictures; POSTing tag URIs to an image resource or vice-versa feels
&gt; more "right" to me.  But it may be just me.

Metadata is probably a resource about a resource, so it could be said that it is in itself a resource that can be PUT to for updates, or POSTed to the image as a sub resource (rather than a child as I've seen it called earlier).

Same could be said about rdf documents

--
SerialSeb


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10707<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-05-03 17:37:13<br>
Subject:Re: [rest-discuss] Updating metadata of multiple resources<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10708<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-05-03 17:48:18<br>
Subject:RE: [rest-discuss] Updating metadata of multiple resources<br>
Message:<br><br>
<pre>&gt; By definition, it's either discoverable or it's not REST.  If the
&gt; representation linking to that resource tells the client how to
&gt; construct the URL, it's fully discoverable.  If it fails to tell the
&gt; client how, then the client has no way to construct the URL at all
&gt; without violating HATEoAS.

I fail to see how the server can instruct the client in any meaningful way
that urls in the form of http://server/resource/1,2,3,4 represent a pool of
documents equal to /resource/1, /resource/2 etc. If you want to set that
convention up thats fine with me, but it's just that, a convention specific
to the way you define your service, and in that it is opaque with low
discoverability.

&gt; REST does require a bit of a mental leap.  But I don't find "REST is
&gt; hard, let's go shopping!" a very convincing argument. :)

I don't believe I'm making this argument, quite the contrary. The solution
you seem to be promoting isn't more rest than batching requests in one go
through a multipart message. At least with that solution the semantics of
Urls are respected and still general purpose, as opposed to
convention-driven url construction.

&gt; The URL space does not have to be rigid!  Free your mind! :)

They have to be discoverable and not built by private conventions. I don't
believe in the value of transient composite Urls that have only meaning when
in the context of the documentation of your service, be it that it is 1,2,3
or 1;2;3.

If you start doing /1,2,3 supporting POST that translates in 3 POSTS to /1,
/2 and /3, do you support a GET on the same conventional URL? If not you
don't have a uniform interface anymore. If you do, you cannot support things
like ETags, caching etc, unless you do it as a collection.

Overall it seems to me it introduces more mess than it solves issues.

--
SerialSeb 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10709<br>
Sender:"Gary Bernhardt" &lt;gary.bernhardt@...&gt;<br>
Post Date/Time:2008-05-03 21:40:43<br>
Subject:Re: [rest-discuss] Updating metadata of multiple resources<br>
Message:<br><br>
<pre>(Apologies for top posting; my response was getting huge and
fragmented, so I summarized.)

Let's get specific.  If you're going to implement my method, you need
a new media type.  Here's one possible implementation.  Call it
"text/html-with-javascript-links".  We add an extension to the &lt;a&gt; tag
so you can do things like this:

&lt;a href="javascript:function(ids) { return '/resources/' + ids.join(','); }"&gt;

That little javascript function will return a string of the form
"/resources/1,2,3,4" when called with the list [1, 2, 3, 4].  This is
still perfectly RESTful, because the server is telling the client
exactly how to construct the URL.  This is not a "convention" any more
than HTML forms are; it's just another media type.  It's not "specific
to my service" because, once again, it's a (hypothetical) standard
media type.  If you support it once, you support it for every service.
 It's not "opaque" or "undiscoverable" because you have to have a
priori knowledge of it to even negotiate for a representation in the
first place.

It's also *much* simpler to implement than the proposed multi-part
request solution.  Current clients support neither of the proposed
methods.  I happen to be most familiar with Python's httplib, and I
can say without a doubt that multi-part requests would require serious
changes, since you can no longer make the assumption that HTTP
requests are of the form "send request, then block until the response
comes".  Httplib makes exactly that assumption.

Contrast that with my proposed solution - all you're doing is
constructing the URL a little differently.  There are no underlying
HTTP library changes.  I can testify that this is very simple to do,
because I'm doing it right now, in a production system!  It took maybe
an hour to add my first aggregate resource, and most of that time was
spent on the server-side business logic.  It's been in production for
about six months and I've not given it a thought since; it's always
just worked.  The media-type issues are separate, of course; I haven't
tackled them yet.

Aside from implementation complexity, the multi-part request solution
breaks HTTP in numerous subtle ways.  It throws "one request, one
response" out the window.  It also brings up thorny questions, like
"What happens if the 47th request in the series fails?  How do you
tell the client?  How does he recover?"  The client now has a
fragmented concept of an "HTTP request" - sometimes a request is a
request; sometimes a request is actually a batch of requests.  This
will trickle its way down into the client logic, not just the HTTP
library.

The application programmer will have to *explicitly* batch requests.
When he's batching request #13 out of 17, what is his current state?
What is the representation of that state?  He sure as heck didn't get
it from the server!  If your client states don't correspond one-to-one
with representations from the server, you're not doing
"representational state transfer"; you're just doing "state transfer"!
 It ain't REST! :)

There's also the fundamental question of which method to use for your
multi-part request.  Do you use POST?  What if the batch of requests
is made up only of DELETEs?  Is "delete these 57 resources" within the
definition of POST?  Do you really have a uniform interface at that
point, or is your multi-part request really RPC in disguise?  These
are the questions that made me back away from the "multi-part request"
technique, although it was initially tempting.

Sometimes widening your solution space a little is easier than digging
1,000 feet deeper into the hole you're already in. :)

-- 
Gary
http://blog.extracheese.org

On Sat, May 3, 2008 at 1:48 PM, Sebastien Lambla &lt;seb@...&gt; wrote:
&gt; &gt; By definition, it's either discoverable or it's not REST.  If the
&gt;  &gt; representation linking to that resource tells the client how to
&gt;  &gt; construct the URL, it's fully discoverable.  If it fails to tell the
&gt;  &gt; client how, then the client has no way to construct the URL at all
&gt;  &gt; without violating HATEoAS.
&gt;
&gt;  I fail to see how the server can instruct the client in any meaningful way
&gt;  that urls in the form of http://server/resource/1,2,3,4 represent a pool of
&gt;  documents equal to /resource/1, /resource/2 etc. If you want to set that
&gt;  convention up thats fine with me, but it's just that, a convention specific
&gt;  to the way you define your service, and in that it is opaque with low
&gt;  discoverability.
&gt;
&gt;
&gt;  &gt; REST does require a bit of a mental leap.  But I don't find "REST is
&gt;  &gt; hard, let's go shopping!" a very convincing argument. :)
&gt;
&gt;  I don't believe I'm making this argument, quite the contrary. The solution
&gt;  you seem to be promoting isn't more rest than batching requests in one go
&gt;  through a multipart message. At least with that solution the semantics of
&gt;  Urls are respected and still general purpose, as opposed to
&gt;  convention-driven url construction.
&gt;
&gt;
&gt;  &gt; The URL space does not have to be rigid!  Free your mind! :)
&gt;
&gt;  They have to be discoverable and not built by private conventions. I don't
&gt;  believe in the value of transient composite Urls that have only meaning when
&gt;  in the context of the documentation of your service, be it that it is 1,2,3
&gt;  or 1;2;3.
&gt;
&gt;  If you start doing /1,2,3 supporting POST that translates in 3 POSTS to /1,
&gt;  /2 and /3, do you support a GET on the same conventional URL? If not you
&gt;  don't have a uniform interface anymore. If you do, you cannot support things
&gt;  like ETags, caching etc, unless you do it as a collection.
&gt;
&gt;  Overall it seems to me it introduces more mess than it solves issues.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10710<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-05-04 00:39:28<br>
Subject:RE: [rest-discuss] Updating metadata of multiple resources<br>
Message:<br><br>
<pre>&gt; Let's get specific.  If you're going to implement my method, you need
&gt; a new media type.  Here's one possible implementation.  Call it
&gt; "text/html-with-javascript-links". 


This is where I think we differ: I believe infrastructure issues should be
dealt at the infrastructure level, not pushed at the app level. By defining
your javascript / html, you are rest, no doubt about it. But you do not
solve the problem of sending a whole bunch of requests that you would like
see processed in one block.

What is not provided in either solutions is to decide the behaviour on
failure: Updating on resources 1,2,3 would may fail for resource 2. What
happens then? Stop all of them, considering 1,2,3 were modified in one
transaction? Do you continue to 3 even though 2 failed? Do you stop at 2 and
leave 1 having been modified? And how do you communicate the result? By
wrapping several changes in one url, you can leverage the http status code
only in an atomic fashion, which may or may not be what your application
needs. The multipart approach lets you differentiate should you need it, and
only buy into the atomic change when and if you need it.

&gt; [...] This is not a "convention" any more
&gt; than HTML forms are; it's just another media type.  It's not "specific
&gt; to my service" because, once again, it's a (hypothetical) standard
&gt; media type.

You may well be right in the sense that you rely on an informational
resource to tell you how to construct a url. That said, I fail to see how
this could be implemented easily in most toolkits: you rely on either having
prior knowledge or executing javascript. In that respect I don't see the
difference between your solution and the multipart one.

&gt; If you support it once, you support it for every service.

I don't understand this assertion? Surely, any solution you come up with
will be generalizable to any resource, be it pipelining extended to
PUT/POST, multipart or your javascript-based URL building?

&gt; It's not "opaque" or "undiscoverable" because you have to have a
&gt; priori knowledge of it to even negotiate for a representation in the
&gt; first place.

You need to understand the resource type, just like you need to understand
the batch multipart format, so in this respect I don't think you're adding
much value.

&gt; It's also *much* simpler to implement than the proposed multi-part
&gt; request solution.  Current clients support neither of the proposed
&gt; methods.

It may be a bit simpler to implement, but multipart mime is a known format
with plenty of supporting libraries supporting it. In itself it wouldn't
take much to support that bulk format from javascript, but certainly much
more than your solution.

&gt;  since you can no longer make the assumption that HTTP
&gt; requests are of the form "send request, then block until the response
&gt; comes".  Httplib makes exactly that assumption.

I'm not sure we're talking about hte same proposal. All the requests are
sent in one go, and all the response are received in one go. On the wire you
have a simple request / response, so you can still do blocking stuff.

&gt;  It throws "one request, one
&gt; response" out the window. 

I don't understand how does it do that? You still get one response per
request, they just happened to be sent and received in bulk?

&gt; "What happens if the 47th request in the series fails?

See my point earlier: this is the space of convention in both solutions.

&gt; [...] sometimes a request is a
&gt; request; sometimes a request is actually a batch of requests.

See above, n requests =&gt; n responses, this doesn't change this. What changes
is that you transmit all your requests as a payload.

&gt; The application programmer will have to *explicitly* batch requests.
&gt; When he's batching request #13 out of 17, what is his current state?

You assume that each set of changes is dependent on the new representation
you get after the previous operation. When you update the two picture's
metadata, you will receive an updated representation or a 204, be it that
you did a bulk update through url construction or through bulking the
requests. I really fail to see how your solution would be REST and the
multipart would only be ST, as the only difference is that you rely on
understanding a specific representation to build infrastructure bulk
changes, and multipart would rely on... The same thing! without the need for
the transient urls.

&gt; There's also the fundamental question of which method to use for your
&gt; multi-part request.  Do you use POST?  What if the batch of requests
&gt; is made up only of DELETEs?  Is "delete these 57 resources" within the
&gt; definition of POST?  Do you really have a uniform interface at that
&gt; point, or is your multi-part request really RPC in disguise?  These
&gt; are the questions that made me back away from the "multi-part request"
&gt; technique, although it was initially tempting.

That is certainly a shortcoming of the current solution and I agree with
you: is defining a _service_ called $batch supporting a post and always
returing a 200 the right thing to do? I'm not bothered too much about the
operations that are contained in the payload, as this url serves essentially
as a proxy to execute all the attached requests as if they were individual.

&gt; Sometimes widening your solution space a little is easier than digging
&gt; 1,000 feet deeper into the hole you're already in. :)

You assume that the batching requirements can be resolved simply by
combining resources of a same type and building transient uri through a
language sent down to the client, and that all those operations will always
be one operation and one type of operation. That's a lot of assumptions that
don't necessarily apply. This is a good solution for the small scope of the
issue that was presented though, but it doesn't resolve the more global
problem of batching a bunch of operations against n resources without
issuing n connections and waiting for the response n*m seconds.

In that respect the multipart approach solves the same kind of issues Http
pipelining should have solved for GET, as well as provide a way to group a
bunch of http operations in one unit of work.

That said the solution doesn't make me feel warm and fuzzy inside, but
neither does yours.

--
SerialSeb


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10711<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-05-04 14:36:19<br>
Subject:Re: [rest-discuss] Updating metadata of multiple resources<br>
Message:<br><br>
<pre>While this approach looks better than pipelining, it is more like SOAP  
than HTTP. What is the difference between this, and say, packaging the  
same parts as some XML elements inside some envelope element?

Regards,
Subbu

On May 3, 2008, at 9:04 AM, Sebastien Lambla wrote:
&gt; Microsoft has proposed a bulk format so you can process all your  
&gt; requests in
&gt; one go, using multipart messages as the payload, with each message  
&gt; being an
&gt; http request. That way you can PUT on each of those resources in one  
&gt; go if
&gt; you so wish.
&gt;
&gt; See:
&gt;
&gt; http://blogs.msdn.com/astoriateam/archive/2008/04/06/batching-data-service-r
&gt; equests.aspx
&gt;
&gt; I'm not sure yet what I think about that proposal  but it certainly  
&gt; does
&gt; solve the problem of batching requests much better than http  
&gt; pipelining does
&gt; it.
&gt;
&gt; And I personally find the whole POSt to http://server/resource/ 
&gt; 1,2,3,4 to be
&gt; akward, with low visibility and discoverability, but that's a matter  
&gt; of
&gt; taste :)
&gt;
&gt; SerialSeb
&gt; -----Original Message-----
&gt; From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com 
&gt; ] On
&gt; Behalf Of Stefano Masini
&gt; Sent: 02 May 2008 21:56
&gt; To: rest-discuss@yahoogroups.com
&gt; Subject: [rest-discuss] Updating metadata of multiple resources
&gt;
&gt; Hi,
&gt;
&gt; I'm still trying to figure rest out. Let's see if I hit a sweet spot
&gt; or if I'm just missing something (more likely, please forgive me).
&gt;
&gt; I have several images, each with its own uri that have metadata.
&gt; If I want to update the metadata of a given image I send a POST
&gt; request on its uri. Right?
&gt; What if I want to atomically update some metadata (say, a tag) for a
&gt; group of images, how do I approach that?
&gt; Sending multiple POST requests, one for each uri, is not atomic, so I
&gt; can't accept it.
&gt;
&gt; I thought about posting on the common parent of all the image uris
&gt; (say, if I have /images/1, /images/2, etc., then I post on /images).
&gt; In the parameters of the post request I would put a list of all the
&gt; imaged ids (or entire uri), so that the server can handle the request
&gt; atomically.
&gt;
&gt; But then what should I get in return? What should /images return if I
&gt; issued a GET? The whole repository? Naaa... too big.
&gt; Isn't the POST supposed to return the same representation? Just after
&gt; handling the posted request.
&gt;
&gt; How much am I missing from the rest picture?
&gt;
&gt; Thanks
&gt; Stefano
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10712<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-05-04 15:39:50<br>
Subject:RE: [rest-discuss] Updating metadata of multiple resources<br>
Message:<br><br>
<pre>&gt; While this approach looks better than pipelining, it is more like SOAP  
&gt; than HTTP. What is the difference between this, and say, packaging the  
&gt; same parts as some XML elements inside some envelope element?

Several benefits:
- Multipart messages are a standard way to represent compound payloads
- You don't enforce the use of xml

If you were to compound those requests in a specific xml document, you need
to define a custom mime type rather than reuse an existing one, force the
understanding of the compound payload on the consumer, and you will end up
having to represent the semantics of multiple requests by serializing your
http message in one way or another, at which point it makes more sense from
my perspective to just package the message in its natural format
(application/http is defined in rfc2616).

Where you are right is that the $batch is the definition of a service, and
some would argue that services have no place in a rest architecture, because
all visible area should be resources. I don't think it's inherently bad to
have some resources be services that have no semantic value, I am just
concerned that you lose a lot of discoverability and you create orthogonal
concerns when dealing with an API.

To be clear on my position on this proposal: I really like the idea of
multipart of application/http and get the result in the same format. I am
however not certain I like the semantics of the $batch url and the semantics
associated with that endpoint, how discoverable it is and how knowledge of
the transfer and format is sent to the client, so it's mixed reaction from
me. But I don't like other proposals for the reasons i've invoked in my
previous emails and the inherent flexibility of the multipart approach is
very seductive.

--
SerialSeb 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10713<br>
Sender:Etan Wexler &lt;yahoo.com@...&gt;<br>
Post Date/Time:2008-05-04 15:41:09<br>
Subject:The uniform interface in REST [rest-discuss]<br>
Message:<br><br>
<pre>Without consulting any writings or people, describe the uniform
interface in REST. Consider your effort a charitable act toward a
layperson.

-- 
Etan Wexler.

P.S. To maintain the thread in various user agents, please leave
"[rest-discuss]" at the end of the subject field. Feel free to curse
Yahoo Groups.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10714<br>
Sender:"Stefano Masini" &lt;stefano.masini@...&gt;<br>
Post Date/Time:2008-05-04 21:11:07<br>
Subject:Re: [rest-discuss] Updating metadata of multiple resources<br>
Message:<br><br>
<pre>First of all thank you all for the great responses this thread got.
They were very helpful to a starter like me. So thank you.

But now let me get this straight. I hope you'll forgive my naive questions.

On Sun, May 4, 2008 at 2:39 AM, Sebastien Lambla &lt;seb@...&gt; wrote:
&gt;  &gt; than HTML forms are; it's just another media type. It's not "specific
&gt;  &gt; to my service" because, once again, it's a (hypothetical) standard
&gt;  &gt; media type.
&gt;
&gt;  You may well be right in the sense that you rely on an informational
&gt;  resource to tell you how to construct a url. That said, I fail to see how
&gt;  [...]

I'll hook up here, and try to go back to my original example.

So I think I understand (and like) the principle of discoverability,
in the sense that the client should not be held responsible to come up
with urls. Instead it should somehow be told about them by the server.
The client remains responsible for is the _why_ a given url is needed,
but the _how_ is told by the server. Good.

So, back to my image repository example: let's assume that the
preferred representation is Json and that the client wants to make use
of a url identifying a given set of images. Gary proposed an approach
making use of a "text/html-with-javascript-links" media type, with the
representation being some html containing a javascript code snippet.
My first question: can I safely translate that proposal to my example
by rewriting that code snippet as the following Json data structure?
{
  imageSetUrlBuilder: "function(ids) { return '/resources/' + ids.join(','); }"
}

The client application, of course, should know how to deal with such
information, just like it should know about the
text/html-with-javascript-links media type, or anything else. I'd say,
it actually _expects_ it, rather than just knowing how to deal with
it.

Now my second question: which part of my url space is better suited
for containing this piece of Json?
If I think about it, it seems like some sort of application global
"information". It's a piece of functionality (in the form of a
javascript code snippet) that the client app needs to fetch right at
the beginning in order to be fully functional. So, I'd say, the root
url (/) is the best place, together with all the other stuff I might
like to include in the root url, i.e. the one representing my
application in general, including other urls. For example:
{
  imageSetUrlBuilder: "function(ids) { return '/resources/' + ids.join(','); }",
  allImagesUrl: "/images",
  title: "My fancy application"
}

What do you think? Am I beginning to see more RESTy? :)

Thanks
Stefano

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10715<br>
Sender:"Stefano Masini" &lt;stefano.masini@...&gt;<br>
Post Date/Time:2008-05-04 21:28:55<br>
Subject:Server side verification<br>
Message:<br><br>
<pre>Hi,

given the great answers to my previous question, I'll come up with
another one, so you guys can keep teaching me REST. :)

Let's say I want to PUT some HTML to a given url. This HTML is being
edited by a human being using a wordeditor like TinyMCE, FCKEditor,
Kupu, or whatever.
When I click on "Save", a PUT request is fired containing the HTML.
The server updates its internal state, and replies ok. At the next
GET, I'll see the HTML I just sent.

Now let's say that the server needs to do some html cleanup, like
stripping some tags, or modifying some attributes. This might be done
in the PUT request handler, just before updating the internal state,
so that I store the cleaned up version. Fine. When I do GET, I'll see
the cleaned up version.

Now, let's say that I want to support another button: "Cleanup". This
button cleans up the currently edited content, but doesn't save it on
the server yet. It's useful because I might be working on a "dirty"
html for a long time, and I need to clean it up from time to time
before finally saving. Unfortunately only the server knows how to
clean it up, so the operation could never be performed in javascript
by my browser.

How does this last requirement fit inside the REST view of the world?
Up to the last point it looked like a very simple problem of putting
and getting a resource.
But if I just want a simple "Cleanup" button, all of a sudden this
looks so much like RPC. So? I'm a little confused. Should I just say
that this part of my application doesn't fit the REST assumptions, so
it doesn't even make sense talking about it? Or does it make sense to
consider it under a different light?

Thanks a lot!
Stefano

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10716<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-05-04 21:59:40<br>
Subject:Re: [rest-discuss] Server side verification<br>
Message:<br><br>
<pre>&gt; 
&gt; How does this last requirement fit inside the REST view of the world?
&gt; Up to the last point it looked like a very simple problem of putting
&gt; and getting a resource.
&gt; But if I just want a simple "Cleanup" button, all of a sudden this
&gt; looks so much like RPC. So? I'm a little confused. Should I just say
&gt; that this part of my application doesn't fit the REST assumptions, so
&gt; it doesn't even make sense talking about it? Or does it make sense to
&gt; consider it under a different light?
&gt; 

It fits in just fine.  POST your draft to the real URL for your
document instead of using PUT.  Clean up the submitted HTML in whatever
way the server would if the method were PUT.  You can return the result
at the real URL for your document, but with '.draft' appended, or
'/draft', whatever floats your boat.  Nothing like RPC.

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10717<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-05-04 23:44:09<br>
Subject:Re: [rest-discuss] Updating metadata of multiple resources<br>
Message:<br><br>
<pre>
On May 4, 2008, at 8:39 AM, Sebastien Lambla wrote:
&gt;&gt; While this approach looks better than pipelining, it is more like  
&gt;&gt; SOAP
&gt;&gt; than HTTP. What is the difference between this, and say, packaging  
&gt;&gt; the
&gt;&gt; same parts as some XML elements inside some envelope element?
&gt;
&gt; Several benefits:
&gt; - Multipart messages are a standard way to represent compound payloads
&gt; - You don't enforce the use of xml

I don't disagree. But today's infrastructure does not deal with POST,  
PUT etc packaged inside multipart messages. For instance, a cache  
can't mark an entry in the cache stale when a PUT is submitted via a  
multipart message. Yes, there are theoretical benefits, but it is  
difficult to realize those benefits in reality.

The basic motivation for proposals like this is to let a client submit  
a bunch of requests and get them executed in at once. The supposed  
benefit for the client is that it does not have to make "n" number of  
requests. However, IMO, once we get into the details, the picture  
won't be as simple as this. For instance, what is the cost for the  
client to recover from partial failures? What is cost for the client  
and server to use two different code paths - one for regular requests  
and another for batch requests? Does the client sufficiently  
understand the difference between non-idempotent requests and  
idempotent requests bundled in the same batch? For the simple cases,  
yes, the answers may be simple, but IMO, the complexity of batch may  
outweigh the benefits.

Moreover, in most cases, even if pipelining could not be replied upon  
for whatever reasons, by modeling resources cleverly, it may be  
possible to avoid the need for batch.

Sincerely,
Subbu

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10718<br>
Sender:"erlingwl" &lt;erlingwl@...&gt;<br>
Post Date/Time:2008-05-05 08:04:38<br>
Subject:Workflow<br>
Message:<br><br>
<pre>Hi,

I am creating a RESTful interface for issue trackers. However, I have
run into a little problem, some issue trackers have workflow
constraints that depends on the state.. For instance an issue cannot
be reopened if it isn't resolved or closed. Furthermore, let's say I
have a resolved issue but I'm conducting a PUT with state = "Open".
This is not allowed, unless I make my wrapper first reopen the issue,
then start progress, and then stop progress again. I might just
implement this hack, but what I want to know is how I should express
these workflow constraints RESTfully if i want to..

I figure one can use urls like: issues/open, issues/resolved etc.. But
how do I then move an open issue to /issues/resolved ? If I conduct a
POST to /resolved I would create a new issues.. and that would be
wrong? Furthermore I would probably have to delete the issue from
/open too? 

Any good ideas / best practices? 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10719<br>
Sender:"Roger van de Kimmenade" &lt;rvdkimmenade@...&gt;<br>
Post Date/Time:2008-05-05 09:15:32<br>
Subject:Re: [rest-discuss] Workflow<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10720<br>
Sender:"erlingwl" &lt;erlingwl@...&gt;<br>
Post Date/Time:2008-05-05 09:44:48<br>
Subject:Re: Workflow<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, "Roger van de Kimmenade"
&lt;rvdkimmenade@...&gt; wrote:
&gt;
&gt; When the resource is in an incorrect state just return that the
state is not
&gt; correct
&gt; (there is a HTTP error code for it).
&gt; In this case the application state is stored within the client, so the
&gt; client knows what is allowed.
&gt; 

Okay, but doesn't this break with the REST Server-side statelessness
principle? Hmm.. I thought maybe that incrementing state would be just
as wrong as incrementing a value.. but as you say, the client do know
the state, and it sends the new state with the PUT.. 

However, what happens on the server side, e.g. if you use Jira - you
have to execute the progressWorkflow() method.. such methods has
potential side-effects on an issue.. is this okay with the REST
constraints really? 

&gt; Further thoughts
&gt; 
&gt; /issues - Contains all issues
&gt; /issues/open - Contains the open issues (list with resource links to
&gt; /issues/{issue})
&gt; /issues/resolved - contains the resolved issues (list with resource
links to
&gt; /issues/{issue})
&gt; 
&gt; Open to resolve send PUT to /issues/{issue} with state RESOLVED.
&gt; In case GET /issues/open will return the list without the resolved
issue and
&gt; GET /issues/resolved will return the list with the resolved issue added.
&gt; 

Yes, okay, so /issues/ would still return all issues then, that's
simple enough.. 

&gt; Hope this helps,
&gt; 
&gt; Regards 
&gt; Roger van de Kimmenade
&gt; 
&gt; 
&gt; On 5/5/08, erlingwl &lt;erlingwl@...&gt; wrote:
&gt; &gt;
&gt; &gt;   Hi,
&gt; &gt;
&gt; &gt; I am creating a RESTful interface for issue trackers. However, I have
&gt; &gt; run into a little problem, some issue trackers have workflow
&gt; &gt; constraints that depends on the state.. For instance an issue cannot
&gt; &gt; be reopened if it isn't resolved or closed. Furthermore, let's say I
&gt; &gt; have a resolved issue but I'm conducting a PUT with state = "Open".
&gt; &gt; This is not allowed, unless I make my wrapper first reopen the issue,
&gt; &gt; then start progress, and then stop progress again. I might just
&gt; &gt; implement this hack, but what I want to know is how I should express
&gt; &gt; these workflow constraints RESTfully if i want to..
&gt; &gt;
&gt; &gt; I figure one can use urls like: issues/open, issues/resolved etc.. But
&gt; &gt; how do I then move an open issue to /issues/resolved ? If I conduct a
&gt; &gt; POST to /resolved I would create a new issues.. and that would be
&gt; &gt; wrong? Furthermore I would probably have to delete the issue from
&gt; &gt; /open too?
&gt; &gt;
&gt; &gt; Any good ideas / best practices?
&gt; &gt;
&gt; &gt; 
&gt; &gt;
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10721<br>
Sender:Barbara Van De Keer &lt;Barbara.VanDeKeer@...&gt;<br>
Post Date/Time:2008-05-05 08:22:15<br>
Subject:[rest-discuss] search query in body<br>
Message:<br><br>
<pre>Hi,

I'm having trouble mapping the act of 'doing a search based on a complex 
query' to a REST service. This query is not simple enough to put in the 
URI (too long, too complex,...)

I've been reading through previous messages on this mailing list and 
noticed that this issue has been talked about multiple times here, but I 
still haven't found a solution I'm completely satisfied with.

These are the options I have gone through:

1. GET with a body

Isn't supported by application servers and proxy's.

2. Assume the query, or the result of the query (doesn't really matter) 
to be a resource by itself, do a POST to create it. The resource is now 
remembered by the server and still accessible through a GET (maybe only 
for a certain time).

I don't like this option, because I didn't want to change the state of 
the server, in fact I intrinsically just wanted to do some kind of a 
GET, which shouldn't change the state of the server.

3. Overload POST, don't change the server's state by POSTing the query

This is the most practical solution that I can come up with, but it's 
not really REST... The uniform interface is broken since I use POST 
already for creating resources.


I hope this opens the discussion again, I'd really like to find a 
RESTful solution to this problem.

Thanks!
Barbara

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10722<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-05-05 14:54:23<br>
Subject:Re: [rest-discuss] search query in body<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10723<br>
Sender:Barbara Van De Keer &lt;Barbara.VanDeKeer@...&gt;<br>
Post Date/Time:2008-05-05 15:21:43<br>
Subject:Re: [rest-discuss] search query in body<br>
Message:<br><br>
<pre>The URL wouldn't be readable anymore, this seems like a big disadvantage 
to me.

In fact, I gave the example of a query, but the problem isn't limited to 
search queries. I almost don't dare to say it, but what if I wanted a 
service that does some editing actions on an image, like removing red 
eyes. Would I _have_ to consider an image as a resource and store it 
before requesting the image without red eyes? What I initially wanted to 
do was a stateless editing request, while I had to change the server's 
state (for quite some time) to achieve it.


Nick Gall schreef:
&gt;
&gt; How about compressing the query string with gzip before embedding it 
&gt; in the URL?
&gt;
&gt; -- Nick
&gt;
&gt; On Mon, May 5, 2008 at 4:22 AM, Barbara Van De Keer 
&gt; &lt;Barbara.VanDeKeer@... &lt;mailto:Barbara.VanDeKeer@...&gt;&gt; wrote:
&gt;
&gt;     Hi,
&gt;
&gt;     I'm having trouble mapping the act of 'doing a search based on a
&gt;     complex
&gt;     query' to a REST service. This query is not simple enough to put
&gt;     in the
&gt;     URI (too long, too complex,...)
&gt;
&gt;     I've been reading through previous messages on this mailing list and
&gt;     noticed that this issue has been talked about multiple times here,
&gt;     but I
&gt;     still haven't found a solution I'm completely satisfied with.
&gt;
&gt;     These are the options I have gone through:
&gt;
&gt;     1. GET with a body
&gt;
&gt;     Isn't supported by application servers and proxy's.
&gt;
&gt;     2. Assume the query, or the result of the query (doesn't really
&gt;     matter)
&gt;     to be a resource by itself, do a POST to create it. The resource
&gt;     is now
&gt;     remembered by the server and still accessible through a GET (maybe
&gt;     only
&gt;     for a certain time).
&gt;
&gt;     I don't like this option, because I didn't want to change the
&gt;     state of
&gt;     the server, in fact I intrinsically just wanted to do some kind of a
&gt;     GET, which shouldn't change the state of the server.
&gt;
&gt;     3. Overload POST, don't change the server's state by POSTing the query
&gt;
&gt;     This is the most practical solution that I can come up with, but it's
&gt;     not really REST... The uniform interface is broken since I use POST
&gt;     already for creating resources.
&gt;
&gt;     I hope this opens the discussion again, I'd really like to find a
&gt;     RESTful solution to this problem.
&gt;
&gt;     Thanks!
&gt;     Barbara
&gt;
&gt;
&gt;
&gt;
&gt; -- 
&gt; Nick Gall
&gt; Phone: +1.781.608.5871
&gt; AOL IM: Nicholas Gall
&gt; Yahoo IM: nick_gall_1117
&gt; MSN IM: (same as email)
&gt; Google Talk: (same as email)
&gt; Email: nick.gall AT-SIGN gmail DOT com
&gt; Weblog: http://ironick.typepad.com/ironick/ 
&gt; &lt;http://ironick.typepad.com/ironick/&gt;
&gt; Furl: http://www.furl.net/members/ngall 
&gt; &lt;http://www.furl.net/members/ngall&gt;
&gt;  


-- 
Barbara Van De Keer

Ghent University - IBBT
Faculty of Engineering
Department of Electronics and Information Systems
Multimedia Lab
Gaston Crommenlaan 8 bus 201, B-9050 Ledeberg-Ghent, Belgium

t: +32 9 33 14985
f: +32 9 33 14896
t secr: +32 9 33 14911
e: barbara.vandekeer@...

URL: http://multimedialab.elis.ugent.be

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10724<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-05-05 15:22:11<br>
Subject:Re: [rest-discuss] search query in body<br>
Message:<br><br>
<pre>Barbara Van De Keer wrote:
&gt; ...
&gt; I hope this opens the discussion again, I'd really like to find a
&gt; RESTful solution to this problem.
&gt; ...

Use a different method, such as SEARCH or REPORT.

BR, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10725<br>
Sender:Barbara Van De Keer &lt;Barbara.VanDeKeer@...&gt;<br>
Post Date/Time:2008-05-05 15:38:26<br>
Subject:Re: [rest-discuss] search query in body<br>
Message:<br><br>
<pre>Ok, that was option number 4 :) I'm just not sure what the impact is of 
own defined HTTP methods on firewalls, getting it across Tomcat, ... I 
might have to take a look at that.

I was / am hoping to stay conformed with HTTP/1.1 but I might have to 
give in to this.

Julian Reschke schreef:
&gt; Barbara Van De Keer wrote:
&gt;&gt; ...
&gt;&gt; I hope this opens the discussion again, I'd really like to find a
&gt;&gt; RESTful solution to this problem.
&gt;&gt; ...
&gt;
&gt; Use a different method, such as SEARCH or REPORT.
&gt;
&gt; BR, Julian


-- 
Barbara Van De Keer

Ghent University - IBBT
Faculty of Engineering
Department of Electronics and Information Systems
Multimedia Lab
Gaston Crommenlaan 8 bus 201, B-9050 Ledeberg-Ghent, Belgium

t: +32 9 33 14985
f: +32 9 33 14896
t secr: +32 9 33 14911
e: barbara.vandekeer@...

URL: http://multimedialab.elis.ugent.be

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10726<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-05-05 15:45:00<br>
Subject:Re: [rest-discuss] search query in body<br>
Message:<br><br>
<pre>Barbara Van De Keer wrote:
&gt; 
&gt; 
&gt; Ok, that was option number 4 :) I'm just not sure what the impact is of
&gt; own defined HTTP methods on firewalls, getting it across Tomcat, ... I
&gt; might have to take a look at that.
&gt; 
&gt; I was / am hoping to stay conformed with HTTP/1.1 but I might have to
&gt; give in to this.

It's still conformant with HTTP/1.1 :-).

Both REPORT (RFC3253) and SEARCH (still waiting for the IESG to 
progress) explicitly allow request bodies, and both are defined to be 
safe and idempotent, so in theory they do exactly what you want...

BR, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10727<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-05-05 17:06:41<br>
Subject:Re: [rest-discuss] Re: Workflow<br>
Message:<br><br>
<pre>&gt;Okay, but doesn't this break with the REST Server-side statelessness
&gt;principle?
How ? Every message should be complete in itself ... that is another
way to look at the statelessness constraint . I think you are confused
regarding what STATE means over here.

&gt; have to execute the progressWorkflow() method.. such methods has
&gt;potential side-effects on an issue..

Anything other than GET which has a potential side-effect is fine.
Even with GET a potential is side-effect is fine as long as you don't
hold the user responsible for it.

Please also read the HTTP error codes and see what are all the
responses you could generate ... you will be surprised (I was ! :)

Regards
Devdatta


On 05/05/2008, erlingwl &lt;erlingwl@...&gt; wrote:
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; --- In rest-discuss@yahoogroups.com, "Roger van de Kimmenade"
&gt;  &lt;rvdkimmenade@...&gt; wrote:
&gt;  &gt;
&gt;  &gt; When the resource is in an incorrect state just return that the
&gt;  state is not
&gt;  &gt; correct
&gt;  &gt; (there is a HTTP error code for it).
&gt;  &gt; In this case the application state is stored within the client, so the
&gt;  &gt; client knows what is allowed.
&gt;  &gt;
&gt;
&gt;  Okay, but doesn't this break with the REST Server-side statelessness
&gt;  principle? Hmm.. I thought maybe that incrementing state would be just
&gt;  as wrong as incrementing a value.. but as you say, the client do know
&gt;  the state, and it sends the new state with the PUT..
&gt;
&gt;  However, what happens on the server side, e.g. if you use Jira - you
&gt;  have to execute the progressWorkflow() method.. such methods has
&gt;  potential side-effects on an issue.. is this okay with the REST
&gt;  constraints really?
&gt;
&gt;  &gt; Further thoughts
&gt;  &gt;
&gt;  &gt; /issues - Contains all issues
&gt;  &gt; /issues/open - Contains the open issues (list with resource links to
&gt;  &gt; /issues/{issue})
&gt;  &gt; /issues/resolved - contains the resolved issues (list with resource
&gt;  links to
&gt;  &gt; /issues/{issue})
&gt;  &gt;
&gt;  &gt; Open to resolve send PUT to /issues/{issue} with state RESOLVED.
&gt;  &gt; In case GET /issues/open will return the list without the resolved
&gt;  issue and
&gt;  &gt; GET /issues/resolved will return the list with the resolved issue added.
&gt;  &gt;
&gt;
&gt;  Yes, okay, so /issues/ would still return all issues then, that's
&gt;  simple enough..
&gt;
&gt;  &gt; Hope this helps,
&gt;  &gt;
&gt;  &gt; Regards
&gt;  &gt; Roger van de Kimmenade
&gt;  &gt;
&gt;  &gt;
&gt;  &gt; On 5/5/08, erlingwl &lt;erlingwl@...&gt; wrote:
&gt;  &gt; &gt;
&gt;  &gt; &gt;   Hi,
&gt;  &gt; &gt;
&gt;  &gt; &gt; I am creating a RESTful interface for issue trackers. However, I have
&gt;  &gt; &gt; run into a little problem, some issue trackers have workflow
&gt;  &gt; &gt; constraints that depends on the state.. For instance an issue cannot
&gt;  &gt; &gt; be reopened if it isn't resolved or closed. Furthermore, let's say I
&gt;  &gt; &gt; have a resolved issue but I'm conducting a PUT with state = "Open".
&gt;  &gt; &gt; This is not allowed, unless I make my wrapper first reopen the issue,
&gt;  &gt; &gt; then start progress, and then stop progress again. I might just
&gt;  &gt; &gt; implement this hack, but what I want to know is how I should express
&gt;  &gt; &gt; these workflow constraints RESTfully if i want to..
&gt;  &gt; &gt;
&gt;  &gt; &gt; I figure one can use urls like: issues/open, issues/resolved etc.. But
&gt;  &gt; &gt; how do I then move an open issue to /issues/resolved ? If I conduct a
&gt;  &gt; &gt; POST to /resolved I would create a new issues.. and that would be
&gt;  &gt; &gt; wrong? Furthermore I would probably have to delete the issue from
&gt;  &gt; &gt; /open too?
&gt;  &gt; &gt;
&gt;  &gt; &gt; Any good ideas / best practices?
&gt;  &gt; &gt;
&gt;  &gt; &gt;
&gt;  &gt; &gt;
&gt;  &gt;
&gt;
&gt;                    

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10728<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-05-05 17:09:10<br>
Subject:Re: [rest-discuss] search query in body<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10729<br>
Sender:Peter Williams &lt;pezra@...&gt;<br>
Post Date/Time:2008-05-05 17:20:57<br>
Subject:Re: [rest-discuss] search query in body<br>
Message:<br><br>
<pre>Barbara Van De Keer wrote:
&gt; 2. Assume the query, or the result of the query (doesn't really matter)
&gt; to be a resource by itself, do a POST to create it. The resource is now
&gt; remembered by the server and still accessible through a GET (maybe only
&gt; for a certain time).

I have used this approach with good results in several different situations.

&gt; I don't like this option, because I didn't want to change the state of
&gt; the server, in fact I intrinsically just wanted to do some kind of a
&gt; GET, which shouldn't change the state of the server.

I personally don't a real disadvantage here.  The extra sets of posting 
to create a new query resource before getting it's results is a bit 
annoying I suppose, but only if these queries are single use.  If the 
client need to execute the same query repeatedly (which in my experience 
  seems to be more common) it is actually easier for clients once the 
query is promoted to a first class resource.

--
Peter Williams
http://pezra.barelyenough.org






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10730<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-05-05 17:41:57<br>
Subject:RE: [rest-discuss] search query in body<br>
Message:<br><br>
<pre>I support an X-HttpMethodOVerride in Rasta that lets you do any http method
over a POST. This is a compat thing handled at the framework level to let
flash applets play nicely (or rather not too awkwardly) with a REST site. 

 

GData supports it for proxy compat issues.

 

That said, as a framework-level extension it's fine, but it shouldn't change
the interface and should enforce the semantics, aka if you have a method
override of GET i will strip the content if you sent one and overwrite the
headers before anything else is processed. I also only support it on POST.

 

--

SerialSeb

 

From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On
Behalf Of dev
Sent: 05 May 2008 18:09
To: Julian Reschke
Cc: Barbara Van De Keer; rest-discuss@yahoogroups.com
Subject: Re: [rest-discuss] search query in body

 

I had heard somewhere , someone (Google iirc) does a POST , with a
X-HTTP-Method-Override=GET (or PUT) in the HTTP Request.

-d

On 05/05/2008, Julian Reschke &lt;julian.reschke@...&gt; wrote:

Barbara Van De Keer wrote:
&gt; 
&gt; 
&gt; Ok, that was option number 4 :) I'm just not sure what the impact is of
&gt; own defined HTTP methods on firewalls, getting it across Tomcat, ... I
&gt; might have to take a look at that.
&gt; 
&gt; I was / am hoping to stay conformed with HTTP/1.1 but I might have to
&gt; give in to this.

It's still conformant with HTTP/1.1 :-).

Both REPORT (RFC3253) and SEARCH (still waiting for the IESG to 
progress) explicitly allow request bodies, and both are defined to be 
safe and idempotent, so in theory they do exactly what you want...

BR, Julian


 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10731<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-05-05 17:56:40<br>
Subject:Re: [rest-discuss] Server side verification<br>
Message:<br><br>
<pre>In other words, the server will create a new draft resource, and send  
its location via the Location header in response. Subsequently, the  
client can PUT the draft version for further clan up.

But, what benefits does the server get in supporting such an  
implementation?

Subbu

On May 4, 2008, at 2:59 PM, Eric J. Bowman wrote:
&gt;&gt;
&gt;&gt; How does this last requirement fit inside the REST view of the world?
&gt;&gt; Up to the last point it looked like a very simple problem of putting
&gt;&gt; and getting a resource.
&gt;&gt; But if I just want a simple "Cleanup" button, all of a sudden this
&gt;&gt; looks so much like RPC. So? I'm a little confused. Should I just say
&gt;&gt; that this part of my application doesn't fit the REST assumptions, so
&gt;&gt; it doesn't even make sense talking about it? Or does it make sense to
&gt;&gt; consider it under a different light?
&gt;&gt;
&gt;
&gt; It fits in just fine.  POST your draft to the real URL for your
&gt; document instead of using PUT.  Clean up the submitted HTML in  
&gt; whatever
&gt; way the server would if the method were PUT.  You can return the  
&gt; result
&gt; at the real URL for your document, but with '.draft' appended, or
&gt; '/draft', whatever floats your boat.  Nothing like RPC.
&gt;
&gt; -Eric


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10732<br>
Sender:"Alexander Johannesen" &lt;alexander.johannesen@...&gt;<br>
Post Date/Time:2008-05-05 18:02:54<br>
Subject:Re: [rest-discuss] search query in body<br>
Message:<br><br>
<pre>On Mon, May 5, 2008 at 10:22 AM, Barbara Van De Keer
&lt;Barbara.VanDeKeer@...&gt; wrote:
&gt;  I hope this opens the discussion again, I'd really like to find a
&gt;  RESTful solution to this problem.

I feel the need to get more info on the query you're performing. What
exactly is it? What does it look like? What are you doing?


Regards,

Alex
-- 
---------------------------------------------------------------------------
 Project Wrangler, SOA, Information Alchemist, UX, RESTafarian, Topic Maps
------------------------------------------ http://shelter.nu/blog/ --------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10733<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-05-05 18:05:31<br>
Subject:Re: [rest-discuss] search query in body<br>
Message:<br><br>
<pre>This solves the framework/code problem but not the protocol problem.  
But the protocol would still think it as a POST while the search  
example is a prime candidate for caching. IMHO, it is difficult to  
justify X-HTTP-Method-Override for anything other than proxy/network  
related issues.

Subbu

On May 5, 2008, at 10:41 AM, Sebastien Lambla wrote:
&gt;
&gt; I support an X-HttpMethodOVerride in Rasta that lets you do any http  
&gt; method over a POST. This is a compat thing handled at the framework  
&gt; level to let flash applets play nicely (or rather not too awkwardly)  
&gt; with a REST site.
&gt;
&gt;
&gt;
&gt; GData supports it for proxy compat issues.
&gt;
&gt;
&gt;
&gt; That said, as a framework-level extension its fine, but it  
&gt; shouldnt change the interface and should enforce the semantics, aka  
&gt; if you have a method override of GET i will strip the content if you  
&gt; sent one and overwrite the headers before anything else is  
&gt; processed. I also only support it on POST.
&gt;
&gt;
&gt;
&gt; --
&gt;
&gt; SerialSeb
&gt;
&gt;
&gt;
&gt; From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com 
&gt; ]On Behalf Of dev
&gt; Sent: 05 May 2008 18:09
&gt; To: Julian Reschke
&gt; Cc: Barbara Van De Keer; rest-discuss@yahoogroups.com
&gt; Subject: Re: [rest-discuss] search query in body
&gt;
&gt;
&gt;
&gt; I had heard somewhere , someone (Google iirc) does a POST , with a X- 
&gt; HTTP-Method-Override=GET (or PUT) in the HTTP Request.
&gt;
&gt; -d
&gt;
&gt; On 05/05/2008, Julian Reschke &lt;julian.reschke@...&gt; wrote:
&gt;
&gt; Barbara Van De Keer wrote:
&gt; &gt;
&gt; &gt;
&gt; &gt; Ok, that was option number 4 :) I'm just not sure what the impact  
&gt; is of
&gt; &gt; own defined HTTP methods on firewalls, getting it across  
&gt; Tomcat, ... I
&gt; &gt; might have to take a look at that.
&gt; &gt;
&gt; &gt; I was / am hoping to stay conformed with HTTP/1.1 but I might have  
&gt; to
&gt; &gt; give in to this.
&gt;
&gt; It's still conformant with HTTP/1.1 :-).
&gt;
&gt; Both REPORT (RFC3253) and SEARCH (still waiting for the IESG to
&gt; progress) explicitly allow request bodies, and both are defined to be
&gt; safe and idempotent, so in theory they do exactly what you want...
&gt;
&gt; BR, Julian
&gt;
&gt;
&gt;
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10734<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-05-05 18:14:47<br>
Subject:Re: [rest-discuss] search query in body<br>
Message:<br><br>
<pre>I'm with Subbu on this one - override for proxy, but not client or
server-framework reasons.

For example, I end up creating  a new POST URI ("/resource/{id};PUT")
for HTML-only FORM-based clients that is then 're-played' on the
server as a pure PUT (including handling ETag support). This allows
GET/POST clients to operate, but still results in the benefits of the
standard set of HTTP commands. This is especially valuable for
handling cache invalidations.

MCA

On Mon, May 5, 2008 at 2:05 PM, Subbu Allamaraju &lt;subbu@...&gt; wrote:
&gt; This solves the framework/code problem but not the protocol problem.
&gt;  But the protocol would still think it as a POST while the search
&gt;  example is a prime candidate for caching. IMHO, it is difficult to
&gt;  justify X-HTTP-Method-Override for anything other than proxy/network
&gt;  related issues.
&gt;
&gt;  Subbu
&gt;
&gt;
&gt;
&gt;  On May 5, 2008, at 10:41 AM, Sebastien Lambla wrote:
&gt;  &gt;
&gt;  &gt; I support an X-HttpMethodOVerride in Rasta that lets you do any http
&gt;  &gt; method over a POST. This is a compat thing handled at the framework
&gt;  &gt; level to let flash applets play nicely (or rather not too awkwardly)
&gt;  &gt; with a REST site.
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt;  &gt; GData supports it for proxy compat issues.
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt;  &gt; That said, as a framework-level extension it's fine, but it
&gt;  &gt; shouldn't change the interface and should enforce the semantics, aka
&gt;  &gt; if you have a method override of GET i will strip the content if you
&gt;  &gt; sent one and overwrite the headers before anything else is
&gt;  &gt; processed. I also only support it on POST.
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt;  &gt; --
&gt;  &gt;
&gt;  &gt; SerialSeb
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt;  &gt; From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com
&gt;  &gt; ]On Behalf Of dev
&gt;  &gt; Sent: 05 May 2008 18:09
&gt;  &gt; To: Julian Reschke
&gt;  &gt; Cc: Barbara Van De Keer; rest-discuss@yahoogroups.com
&gt;  &gt; Subject: Re: [rest-discuss] search query in body
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt;  &gt; I had heard somewhere , someone (Google iirc) does a POST , with a X-
&gt;  &gt; HTTP-Method-Override=GET (or PUT) in the HTTP Request.
&gt;  &gt;
&gt;  &gt; -d
&gt;  &gt;
&gt;  &gt; On 05/05/2008, Julian Reschke &lt;julian.reschke@...&gt; wrote:
&gt;  &gt;
&gt;  &gt; Barbara Van De Keer wrote:
&gt;  &gt; &gt;
&gt;  &gt; &gt;
&gt;  &gt; &gt; Ok, that was option number 4 :) I'm just not sure what the impact
&gt;  &gt; is of
&gt;  &gt; &gt; own defined HTTP methods on firewalls, getting it across
&gt;  &gt; Tomcat, ... I
&gt;  &gt; &gt; might have to take a look at that.
&gt;  &gt; &gt;
&gt;  &gt; &gt; I was / am hoping to stay conformed with HTTP/1.1 but I might have
&gt;  &gt; to
&gt;  &gt; &gt; give in to this.
&gt;  &gt;
&gt;  &gt; It's still conformant with HTTP/1.1 :-).
&gt;  &gt;
&gt;  &gt; Both REPORT (RFC3253) and SEARCH (still waiting for the IESG to
&gt;  &gt; progress) explicitly allow request bodies, and both are defined to be
&gt;  &gt; safe and idempotent, so in theory they do exactly what you want...
&gt;  &gt;
&gt;  &gt; BR, Julian
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt;
&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt;  Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10735<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-05-05 18:24:10<br>
Subject:RE: [rest-discuss] search query in body<br>
Message:<br><br>
<pre>POST, PUT or DELETE don't support caching anyway, so providing this
functionality for REST-disabled clients such as silverlight and flash is a
best effort solution. Sadly, the majority of the cross-domain RIA world sees
the world as GET and POST.

-----Original Message-----
From: Subbu Allamaraju [mailto:subbu@...] 
Sent: 05 May 2008 19:06
To: Sebastien Lambla
Cc: rest-discuss@yahoogroups.com
Subject: Re: [rest-discuss] search query in body

This solves the framework/code problem but not the protocol problem.  
But the protocol would still think it as a POST while the search  
example is a prime candidate for caching. IMHO, it is difficult to  
justify X-HTTP-Method-Override for anything other than proxy/network  
related issues.

Subbu

On May 5, 2008, at 10:41 AM, Sebastien Lambla wrote:
&gt;
&gt; I support an X-HttpMethodOVerride in Rasta that lets you do any http  
&gt; method over a POST. This is a compat thing handled at the framework  
&gt; level to let flash applets play nicely (or rather not too awkwardly)  
&gt; with a REST site.
&gt;
&gt;
&gt;
&gt; GData supports it for proxy compat issues.
&gt;
&gt;
&gt;
&gt; That said, as a framework-level extension it's fine, but it  
&gt; shouldn't change the interface and should enforce the semantics, aka  
&gt; if you have a method override of GET i will strip the content if you  
&gt; sent one and overwrite the headers before anything else is  
&gt; processed. I also only support it on POST.
&gt;
&gt;
&gt;
&gt; --
&gt;
&gt; SerialSeb
&gt;
&gt;
&gt;
&gt; From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com 
&gt; ]On Behalf Of dev
&gt; Sent: 05 May 2008 18:09
&gt; To: Julian Reschke
&gt; Cc: Barbara Van De Keer; rest-discuss@yahoogroups.com
&gt; Subject: Re: [rest-discuss] search query in body
&gt;
&gt;
&gt;
&gt; I had heard somewhere , someone (Google iirc) does a POST , with a X- 
&gt; HTTP-Method-Override=GET (or PUT) in the HTTP Request.
&gt;
&gt; -d
&gt;
&gt; On 05/05/2008, Julian Reschke &lt;julian.reschke@...&gt; wrote:
&gt;
&gt; Barbara Van De Keer wrote:
&gt; &gt;
&gt; &gt;
&gt; &gt; Ok, that was option number 4 :) I'm just not sure what the impact  
&gt; is of
&gt; &gt; own defined HTTP methods on firewalls, getting it across  
&gt; Tomcat, ... I
&gt; &gt; might have to take a look at that.
&gt; &gt;
&gt; &gt; I was / am hoping to stay conformed with HTTP/1.1 but I might have  
&gt; to
&gt; &gt; give in to this.
&gt;
&gt; It's still conformant with HTTP/1.1 :-).
&gt;
&gt; Both REPORT (RFC3253) and SEARCH (still waiting for the IESG to
&gt; progress) explicitly allow request bodies, and both are defined to be
&gt; safe and idempotent, so in theory they do exactly what you want...
&gt;
&gt; BR, Julian
&gt;
&gt;
&gt;
&gt;
&gt; 



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10736<br>
Sender:Etan Wexler &lt;yahoo.com@...&gt;<br>
Post Date/Time:2008-05-05 19:04:33<br>
Subject:HTTP/1.1 and other HTTP [rest-discuss]<br>
Message:<br><br>
<pre>Julian Reschke wrote (in
&lt;http://tech.groups.yahoo.com/group/rest-discuss/message/10726&gt;) of the
use of HTTP methods "SEARCH" and "REPORT":

&gt; It's still conformant with HTTP/1.1 [...]

What is HTTP/1.1, Julian? The abstract of RFC 2616
(&lt;http://www.rfc-editor.org/rfc/rfc2616.txt&gt;) reads, in part, as
follows.

'The Hypertext Transfer Protocol (HTTP) is an application-level protocol
[...] which can be used for many tasks [...] through extension of its
request methods, error codes and headers [...]. [...] This specification
defines the protocol referred to as "HTTP/1.1".'

If RFC 2616 is definitive on HTTP/1.1, then any method that is not
specified in RFC 2616 is not part of HTTP/1.1 and is not conformant with
HTTP/1.1. Sure, the methods "SEARCH" and "REPORT" are part of the larger
family of HTTP, as the abstract implies. Sure, these methods are often
in messages whose HTTP-Version is "HTTP/1.1". If you take the stand that
RFC 2616 is not definitive on HTTP/1.1, I won't censor you or dislike
you or speak ill of you behind your back. I'll just disagree.

In any case, none of this matters regarding Representational State
Transfer, which has no constraint on which specifications define which
protocol features.

-- 
Etan Wexler.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10737<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2008-05-05 19:20:46<br>
Subject:Re: HTTP/1.1 and other HTTP [rest-discuss]<br>
Message:<br><br>
<pre>Etan,

one of the primary goals of REST (and the HTTP design) is to enable  
fragmented change. It is perfectly ok to use extension methods in your  
particular scenario - the important aspect is that REST guarantees  
that existing clients and servers will not need to be touched. Sure -  
they do not understand your methods, but they will not break either.

The only important thing to keep in mind is that the meaning of the  
methods must not be specific to your use case domain, but must  
potentially make sense for any resource.

REPORT, WATCH, PATCH, for example are fine, while GET_STOCK_QUOTE or  
WATCH_TEMPERATURE are not.

Jan


On May 5, 2008, at 9:04 PM, Etan Wexler wrote:
&gt; Julian Reschke wrote (in
&gt; &lt;http://tech.groups.yahoo.com/group/rest-discuss/message/10726&gt;) of  
&gt; the
&gt; use of HTTP methods "SEARCH" and "REPORT":
&gt;
&gt;&gt; It's still conformant with HTTP/1.1 [...]
&gt;
&gt; What is HTTP/1.1, Julian? The abstract of RFC 2616
&gt; (&lt;http://www.rfc-editor.org/rfc/rfc2616.txt&gt;) reads, in part, as
&gt; follows.
&gt;
&gt; 'The Hypertext Transfer Protocol (HTTP) is an application-level  
&gt; protocol
&gt; [...] which can be used for many tasks [...] through extension of its
&gt; request methods, error codes and headers [...]. [...] This  
&gt; specification
&gt; defines the protocol referred to as "HTTP/1.1".'
&gt;
&gt; If RFC 2616 is definitive on HTTP/1.1, then any method that is not
&gt; specified in RFC 2616 is not part of HTTP/1.1 and is not conformant  
&gt; with
&gt; HTTP/1.1. Sure, the methods "SEARCH" and "REPORT" are part of the  
&gt; larger
&gt; family of HTTP, as the abstract implies. Sure, these methods are often
&gt; in messages whose HTTP-Version is "HTTP/1.1". If you take the stand  
&gt; that
&gt; RFC 2616 is not definitive on HTTP/1.1, I won't censor you or dislike
&gt; you or speak ill of you behind your back. I'll just disagree.
&gt;
&gt; In any case, none of this matters regarding Representational State
&gt; Transfer, which has no constraint on which specifications define which
&gt; protocol features.
&gt;
&gt; -- 
&gt; Etan Wexler.
&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10738<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-05-05 20:02:00<br>
Subject:Re: HTTP/1.1 and other HTTP [rest-discuss]<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10739<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2008-05-05 20:13:04<br>
Subject:Re: HTTP/1.1 and other HTTP [rest-discuss]<br>
Message:<br><br>
<pre>
On May 5, 2008, at 10:02 PM, dev wrote:
&gt; &gt;one of the primary goals of REST (and the HTTP design) is to enable
&gt; &gt;fragmented change.
&gt;
&gt; I am too young to know about the HTTP design part :). But do  you  
&gt; have any references stating "primary goal of REST is to enable  
&gt; fragmented change" ?
&gt;

http://www.ics.uci.edu/~fielding/pubs/dissertation/net_app_arch.htm#sec_2_3_4


&gt; Fragmented change is good. etc. etc.
&gt; But I don't remember it being called as the primary goal of REST.

IMHO, it is among *the* two  architectural property behind many trade  
offs made by REST in other areas (e.g. efficiency).

Placing all application state on the client side is the other one,  
again IMHO

Jan


&gt;
&gt;
&gt; Regards
&gt; Devdatta
&gt;
&gt; On 06/05/2008, Jan Algermissen &lt;algermissen1971@...&gt; wrote:
&gt; Etan,
&gt;
&gt; one of the primary goals of REST (and the HTTP design) is to enable
&gt; fragmented change. It is perfectly ok to use extension methods in your
&gt; particular scenario - the important aspect is that REST guarantees
&gt; that existing clients and servers will not need to be touched. Sure -
&gt; they do not understand your methods, but they will not break either.
&gt;
&gt; The only important thing to keep in mind is that the meaning of the
&gt; methods must not be specific to your use case domain, but must
&gt; potentially make sense for any resource.
&gt;
&gt; REPORT, WATCH, PATCH, for example are fine, while GET_STOCK_QUOTE or
&gt; WATCH_TEMPERATURE are not.
&gt;
&gt; Jan
&gt;
&gt;
&gt;
&gt; On May 5, 2008, at 9:04 PM, Etan Wexler wrote:
&gt; &gt; Julian Reschke wrote (in
&gt; &gt; &lt;http://tech.groups.yahoo.com/group/rest-discuss/message/10726&gt;) of
&gt; &gt; the
&gt; &gt; use of HTTP methods "SEARCH" and "REPORT":
&gt; &gt;
&gt; &gt;&gt; It's still conformant with HTTP/1.1 [...]
&gt; &gt;
&gt; &gt; What is HTTP/1.1, Julian? The abstract of RFC 2616
&gt; &gt; (&lt;http://www.rfc-editor.org/rfc/rfc2616.txt&gt;) reads, in part, as
&gt; &gt; follows.
&gt; &gt;
&gt; &gt; 'The Hypertext Transfer Protocol (HTTP) is an application-level
&gt; &gt; protocol
&gt; &gt; [...] which can be used for many tasks [...] through extension of  
&gt; its
&gt; &gt; request methods, error codes and headers [...]. [...] This
&gt; &gt; specification
&gt; &gt; defines the protocol referred to as "HTTP/1.1".'
&gt; &gt;
&gt; &gt; If RFC 2616 is definitive on HTTP/1.1, then any method that is not
&gt; &gt; specified in RFC 2616 is not part of HTTP/1.1 and is not conformant
&gt; &gt; with
&gt; &gt; HTTP/1.1. Sure, the methods "SEARCH" and "REPORT" are part of the
&gt; &gt; larger
&gt; &gt; family of HTTP, as the abstract implies. Sure, these methods are  
&gt; often
&gt; &gt; in messages whose HTTP-Version is "HTTP/1.1". If you take the stand
&gt; &gt; that
&gt; &gt; RFC 2616 is not definitive on HTTP/1.1, I won't censor you or  
&gt; dislike
&gt; &gt; you or speak ill of you behind your back. I'll just disagree.
&gt; &gt;
&gt; &gt; In any case, none of this matters regarding Representational State
&gt; &gt; Transfer, which has no constraint on which specifications define  
&gt; which
&gt; &gt; protocol features.
&gt; &gt;
&gt; &gt; --
&gt; &gt; Etan Wexler.
&gt; &gt;
&gt; &gt;
&gt; &gt; ------------------------------------
&gt; &gt;
&gt; &gt; Yahoo! Groups Links
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt;
&gt;
&gt; 
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10740<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2008-05-05 21:17:42<br>
Subject:REST is not just file storage<br>
Message:<br><br>
<pre>There seems to be a common thread with most posts here.  People
have been busy modeling everything as a resource and now they
want to know how to do everything in a PUT or DELETE instead of
any of the other HTTP methods.  That is wrong.  That is thinking
HTTP is just a "Save as..." dialog.

REST is not limited to GET, PUT, and DELETE.  Anyone who says so
is just making things up as they go along.  REST is limited to the
client being told what to do next by the current state of where
they are now, aside from the entry point(s) we call a bookmark.
That is feasible because the set of methods is uniform, not because
it is limited to CRUD.  POST is an equal party in the REST interface,
particularly when actions are being applied to the resources that
are a composite of multiple source resources.  So is PATCH.

Doing RESTful actions on multiple resources is no different from
selecting multiple tunes in iTunes and using the info dialog
to set certain properties across all selected tunes.  It is a UI issue.
The UI builds a set of actions to perform and then performs them
in whatever way is most efficiently provided by the set of resources
being operated upon.  If those resources (or, rather, the index to
those resources) say they can be operated upon as a group by POST
of a selection form, then so be it -- that is perfectly RESTful
even without the benefit of per-resource cache invalidation.
Likewise for PATCH or PUT to a meta-resource, or PROPPATCH to a
WebDAV resource, it is RESTful if there is some engine described
by a representation provided by the origin server that instructs
the client on what to do next.

The goals are to remove coupling and maximize the number of
reusable resources.

....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10741<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-05-05 21:38:17<br>
Subject:RE: [rest-discuss] search query in body<br>
Message:<br><br>
<pre>I think I am missing something crucial here.

How is the following:

POST /resource/{id};PUT
	(Turned by the server into)
PUT /resource/{id}

Different from:

POST /resource/{id}
X-HttpMethodOverride: PUT
	(Turned by the server into)
PUT /resource/{id}


?

Let's take an example

==&gt;
GET /entity
&lt;==
200
ETag: "abc"

And then
==&gt;
POST /entity
If-Match: "abc"
X-HttpVerbOverride: PUT
&lt;==
200
Vary: ETag, X-HttpVerbOverride
Content-Location: /entity

Using the second form, the second request would be:
==&gt;
POST /entity;PUT
If-Match: "abc"
&lt;==
200
Vary: ETag
Content-Location: /entity

Any particular reason why a cache in the middle of that would have different
cache invalidation rules for those solutions?

--
SerialSeb



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10742<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-05-06 03:23:00<br>
Subject:Re: [rest-discuss] search query in body<br>
Message:<br><br>
<pre>I don't see any difference between these two outside client/server  
side code. I mentioned caching since the use case involved GETting  
some search results.

Subbu

On May 5, 2008, at 2:38 PM, Sebastien Lambla wrote:
&gt; I think I am missing something crucial here.
&gt;
&gt; How is the following:
&gt;
&gt; POST /resource/{id};PUT
&gt; 	(Turned by the server into)
&gt; PUT /resource/{id}
&gt;
&gt; Different from:
&gt;
&gt; POST /resource/{id}
&gt; X-HttpMethodOverride: PUT
&gt; 	(Turned by the server into)
&gt; PUT /resource/{id}
&gt;
&gt;
&gt; ?
&gt;
&gt; Let's take an example
&gt;
&gt; ==&gt;
&gt; GET /entity
&gt; &lt;==
&gt; 200
&gt; ETag: "abc"
&gt;
&gt; And then
&gt; ==&gt;
&gt; POST /entity
&gt; If-Match: "abc"
&gt; X-HttpVerbOverride: PUT
&gt; &lt;==
&gt; 200
&gt; Vary: ETag, X-HttpVerbOverride
&gt; Content-Location: /entity
&gt;
&gt; Using the second form, the second request would be:
&gt; ==&gt;
&gt; POST /entity;PUT
&gt; If-Match: "abc"
&gt; &lt;==
&gt; 200
&gt; Vary: ETag
&gt; Content-Location: /entity
&gt;
&gt; Any particular reason why a cache in the middle of that would have  
&gt; different
&gt; cache invalidation rules for those solutions?
&gt;
&gt; --
&gt; SerialSeb
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10743<br>
Sender:"wahbedahbe" &lt;andrew.wahbe@...&gt;<br>
Post Date/Time:2008-05-06 05:23:52<br>
Subject:Re: REST is not just file storage<br>
Message:<br><br>
<pre>Yes! And it's not just here -- this same take on REST can be found all
over the web. For some reason, people just don't appreciate the
hypermedia engine aspect of REST. Leaving it out is a bit like a joke
without a punchline -- an elaborate setup that's missing that final,
key element.

Unfortunately, the misinformation dominates the available (mostly
online) literature. Many seem to venture into REST without spending
the time to understand or even read your thesis, and then off they go
blogging about the wonders of these CRUD-based "RESTful" interfaces,
and it just gets worse.

There is a real lack of good introductory information though. On your
blog, you criticized the RESTful Web Services book of not stressing
the hypermedia engine enough -- and its pretty much the best thing out
there.

Worse, people haven't been given any good examples to learn from.
Well, we obviously have the HTML web -- but unfortunately there hasn't
been too much success building automated clients that can do much more
than follow links with GET. And machine-driven agents are why most
people are interested in REST. There's the Atom Publishing Protocol,
but let's face it -- while RESTful, it's really not THAT much more
than a big "Save As..." dialog is it? There's nothing wrong with that,
but it doesn't really help deal with the confusion.

An excellent example IMHO that's been mostly ignored is CCXML
(http://www.w3.org/TR/ccxml/). It's an XML language for controlling
phone calls (redirecting them, joining them to conferences, etc.).
Unfortunately, it has a steep learning curve for those not familiar
with telephony, especially if your goal is to learn from it rather
than use it. Its basic model -- a state machine that interacts with a
set of local resources via events and with resources via HTTP -- is
fairly attractive though. Fortunately, this model is being distilled
into SCXML (http://www.w3.org/TR/scxml/) which I think is very
promising. Disclaimer: I used to participate in the W3C working groups
behind these formats so I'm obviously biased. 

Even though both these languages use HTTP pretty minimally (actually
it's quite abysmal; they could be improved a lot in this regard) they
do a much better job of decoupling the client and the server than most
of the ROA/CRUD stuff that gets thrown around. And they are
particularly interesting because they aren't focused on presenting
information to a human user. Rather, they provide an event-based
controller that acts as an adapter between client side resources and
network resources. This is a very compelling architecture for
machine-driven agents, one that meets the constraints of REST, but
likely wouldn't be deemed "RESTful" by many.

The community desperately needs a good set of authoritative tutorials
and examples that gets the whole picture across. Something that's easy
to digest and gets you off on the right foot. Something that's edited
and/or approved by the experts (you know who you are ;-). The
information is out there, but you really have to dig to get to it. And
it's impossible for the newcomer to filter out the misinformation.
There has to be a way to make it easier...

Andrew Wahbe

--- In rest-discuss@yahoogroups.com, "Roy T. Fielding" &lt;fielding@...&gt;
wrote:
&gt;
&gt; There seems to be a common thread with most posts here.  People
&gt; have been busy modeling everything as a resource and now they
&gt; want to know how to do everything in a PUT or DELETE instead of
&gt; any of the other HTTP methods.  That is wrong.  That is thinking
&gt; HTTP is just a "Save as..." dialog.
&gt; 
&gt; REST is not limited to GET, PUT, and DELETE.  Anyone who says so
&gt; is just making things up as they go along.  REST is limited to the
&gt; client being told what to do next by the current state of where
&gt; they are now, aside from the entry point(s) we call a bookmark.
&gt; That is feasible because the set of methods is uniform, not because
&gt; it is limited to CRUD.  POST is an equal party in the REST interface,
&gt; particularly when actions are being applied to the resources that
&gt; are a composite of multiple source resources.  So is PATCH.
&gt; 
&gt; Doing RESTful actions on multiple resources is no different from
&gt; selecting multiple tunes in iTunes and using the info dialog
&gt; to set certain properties across all selected tunes.  It is a UI issue.
&gt; The UI builds a set of actions to perform and then performs them
&gt; in whatever way is most efficiently provided by the set of resources
&gt; being operated upon.  If those resources (or, rather, the index to
&gt; those resources) say they can be operated upon as a group by POST
&gt; of a selection form, then so be it -- that is perfectly RESTful
&gt; even without the benefit of per-resource cache invalidation.
&gt; Likewise for PATCH or PUT to a meta-resource, or PROPPATCH to a
&gt; WebDAV resource, it is RESTful if there is some engine described
&gt; by a representation provided by the origin server that instructs
&gt; the client on what to do next.
&gt; 
&gt; The goals are to remove coupling and maximize the number of
&gt; reusable resources.
&gt; 
&gt; ....Roy
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10744<br>
Sender:"erlingwl" &lt;erlingwl@...&gt;<br>
Post Date/Time:2008-05-06 07:02:56<br>
Subject:Re: Workflow<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, dev &lt;dev.akhawe@...&gt; wrote:
&gt;
&gt; &gt;Okay, but doesn't this break with the REST Server-side statelessness
&gt; &gt;principle?
&gt; How ? Every message should be complete in itself ... that is another
&gt; way to look at the statelessness constraint . I think you are confused
&gt; regarding what STATE means over here.

Okay, thanks! I think I overcomplicated this a bit :D

&gt; 
&gt; &gt; have to execute the progressWorkflow() method.. such methods has
&gt; &gt;potential side-effects on an issue..
&gt; 
&gt; Anything other than GET which has a potential side-effect is fine.
&gt; Even with GET a potential is side-effect is fine as long as you don't
&gt; hold the user responsible for it.
&gt; 
&gt; Please also read the HTTP error codes and see what are all the
&gt; responses you could generate ... you will be surprised (I was ! :)

Yes, I have seen some already :D 

&gt; 
&gt; Regards
&gt; Devdatta
&gt; 
&gt; 
&gt; On 05/05/2008, erlingwl &lt;erlingwl@...&gt; wrote:
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; --- In rest-discuss@yahoogroups.com, "Roger van de Kimmenade"
&gt; &gt;  &lt;rvdkimmenade@&gt; wrote:
&gt; &gt;  &gt;
&gt; &gt;  &gt; When the resource is in an incorrect state just return that the
&gt; &gt;  state is not
&gt; &gt;  &gt; correct
&gt; &gt;  &gt; (there is a HTTP error code for it).
&gt; &gt;  &gt; In this case the application state is stored within the client,
so the
&gt; &gt;  &gt; client knows what is allowed.
&gt; &gt;  &gt;
&gt; &gt;
&gt; &gt;  Okay, but doesn't this break with the REST Server-side statelessness
&gt; &gt;  principle? Hmm.. I thought maybe that incrementing state would be
just
&gt; &gt;  as wrong as incrementing a value.. but as you say, the client do know
&gt; &gt;  the state, and it sends the new state with the PUT..
&gt; &gt;
&gt; &gt;  However, what happens on the server side, e.g. if you use Jira - you
&gt; &gt;  have to execute the progressWorkflow() method.. such methods has
&gt; &gt;  potential side-effects on an issue.. is this okay with the REST
&gt; &gt;  constraints really?
&gt; &gt;
&gt; &gt;  &gt; Further thoughts
&gt; &gt;  &gt;
&gt; &gt;  &gt; /issues - Contains all issues
&gt; &gt;  &gt; /issues/open - Contains the open issues (list with resource
links to
&gt; &gt;  &gt; /issues/{issue})
&gt; &gt;  &gt; /issues/resolved - contains the resolved issues (list with resource
&gt; &gt;  links to
&gt; &gt;  &gt; /issues/{issue})
&gt; &gt;  &gt;
&gt; &gt;  &gt; Open to resolve send PUT to /issues/{issue} with state RESOLVED.
&gt; &gt;  &gt; In case GET /issues/open will return the list without the resolved
&gt; &gt;  issue and
&gt; &gt;  &gt; GET /issues/resolved will return the list with the resolved
issue added.
&gt; &gt;  &gt;
&gt; &gt;
&gt; &gt;  Yes, okay, so /issues/ would still return all issues then, that's
&gt; &gt;  simple enough..
&gt; &gt;
&gt; &gt;  &gt; Hope this helps,
&gt; &gt;  &gt;
&gt; &gt;  &gt; Regards
&gt; &gt;  &gt; Roger van de Kimmenade
&gt; &gt;  &gt;
&gt; &gt;  &gt;
&gt; &gt;  &gt; On 5/5/08, erlingwl &lt;erlingwl@&gt; wrote:
&gt; &gt;  &gt; &gt;
&gt; &gt;  &gt; &gt;   Hi,
&gt; &gt;  &gt; &gt;
&gt; &gt;  &gt; &gt; I am creating a RESTful interface for issue trackers.
However, I have
&gt; &gt;  &gt; &gt; run into a little problem, some issue trackers have workflow
&gt; &gt;  &gt; &gt; constraints that depends on the state.. For instance an issue
cannot
&gt; &gt;  &gt; &gt; be reopened if it isn't resolved or closed. Furthermore,
let's say I
&gt; &gt;  &gt; &gt; have a resolved issue but I'm conducting a PUT with state =
"Open".
&gt; &gt;  &gt; &gt; This is not allowed, unless I make my wrapper first reopen
the issue,
&gt; &gt;  &gt; &gt; then start progress, and then stop progress again. I might just
&gt; &gt;  &gt; &gt; implement this hack, but what I want to know is how I should
express
&gt; &gt;  &gt; &gt; these workflow constraints RESTfully if i want to..
&gt; &gt;  &gt; &gt;
&gt; &gt;  &gt; &gt; I figure one can use urls like: issues/open, issues/resolved
etc.. But
&gt; &gt;  &gt; &gt; how do I then move an open issue to /issues/resolved ? If I
conduct a
&gt; &gt;  &gt; &gt; POST to /resolved I would create a new issues.. and that would be
&gt; &gt;  &gt; &gt; wrong? Furthermore I would probably have to delete the issue from
&gt; &gt;  &gt; &gt; /open too?
&gt; &gt;  &gt; &gt;
&gt; &gt;  &gt; &gt; Any good ideas / best practices?
&gt; &gt;  &gt; &gt;
&gt; &gt;  &gt; &gt;
&gt; &gt;  &gt; &gt;
&gt; &gt;  &gt;
&gt; &gt;
&gt; &gt;
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10745<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-05-06 08:06:05<br>
Subject:Re: [rest-discuss] REST is not just file storage<br>
Message:<br><br>
<pre>&gt;want to know how to do everything in a PUT or DELETE instead of
&gt;any of the other HTTP methods. That is wrong. That is thinking
&gt;HTTP is just a "Save as..." dialog.

At first I thought that using non-standard methods like PATCH would be
wrong as it wouldn't allow for serendipitous reuse . But what you are
saying is using non-standard methods is fine as long as there is an
engine which can tell the client what to do next. That engine should
support introspection via GET. Is this correct ?

Regards
Devdatta

2008/5/6 Roy T. Fielding &lt;fielding@...&gt;:
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; There seems to be a common thread with most posts here. People
&gt;  have been busy modeling everything as a resource and now they
&gt;  want to know how to do everything in a PUT or DELETE instead of
&gt;  any of the other HTTP methods. That is wrong. That is thinking
&gt;  HTTP is just a "Save as..." dialog.
&gt;
&gt;  REST is not limited to GET, PUT, and DELETE. Anyone who says so
&gt;  is just making things up as they go along. REST is limited to the
&gt;  client being told what to do next by the current state of where
&gt;  they are now, aside from the entry point(s) we call a bookmark.
&gt;  That is feasible because the set of methods is uniform, not because
&gt;  it is limited to CRUD. POST is an equal party in the REST interface,
&gt;  particularly when actions are being applied to the resources that
&gt;  are a composite of multiple source resources. So is PATCH.
&gt;
&gt;  Doing RESTful actions on multiple resources is no different from
&gt;  selecting multiple tunes in iTunes and using the info dialog
&gt;  to set certain properties across all selected tunes. It is a UI issue.
&gt;  The UI builds a set of actions to perform and then performs them
&gt;  in whatever way is most efficiently provided by the set of resources
&gt;  being operated upon. If those resources (or, rather, the index to
&gt;  those resources) say they can be operated upon as a group by POST
&gt;  of a selection form, then so be it -- that is perfectly RESTful
&gt;  even without the benefit of per-resource cache invalidation.
&gt;  Likewise for PATCH or PUT to a meta-resource, or PROPPATCH to a
&gt;  WebDAV resource, it is RESTful if there is some engine described
&gt;  by a representation provided by the origin server that instructs
&gt;  the client on what to do next.
&gt;
&gt;  The goals are to remove coupling and maximize the number of
&gt;  reusable resources.
&gt;
&gt;  ....Roy
&gt;  

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10746<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2008-05-06 21:57:15<br>
Subject:Re: [rest-discuss] REST is not just file storage<br>
Message:<br><br>
<pre>On May 6, 2008, at 1:06 AM, dev wrote:
&gt; &gt;want to know how to do everything in a PUT or DELETE instead of
&gt; &gt;any of the other HTTP methods. That is wrong. That is thinking
&gt; &gt;HTTP is just a "Save as..." dialog.
&gt;
&gt; At first I thought that using non-standard methods like PATCH would be
&gt; wrong as it wouldn't allow for serendipitous reuse.
&gt;

Serendipitous reuse comes from providing a URI for everything that is
of value as a resource (even when that value is not used by your own
application).  As long as you are using GET for retrieval, then reuse
will be there.  POST can be used in serendipitous ways as well, but
there are no special tricks in HTTP that make POST actions any more or
less reusable than any form of RPC/RMI -- we simply rely on the
media type telling us where to POST to describe the service on the fly
(late-binding is always better than compiled contracts because any
late binding can self-identify its own expected "contract").
More importantly, it is very hard to see that it is safe to reuse
a POST in unforeseen ways, whereas that is required of GET.

Even when POST is used to perform the equivalent of GET, for whatever
crazy reason, it can be compensated somewhat by responding to the POST
with 303 or 201 + Location, or simply by limiting the 200 response
content to a list of references to reusable resources.

PUT, DELETE, and PATCH are essentially editing operations on the
mapping from URI to representation.  In many cases, those will translate
down to what is essentially file-like CRUD operations, but only for
a very small subset of resources.  If you think of it in MVC terms,
then those operations should only be active when M=V.  It is the
application's job to determine when M=V; i.e., which models are
capable of being edited by representation exchange, which models can
be edited by indirect action on some other resource(s) (e.g., edit
links in Atom or wiki post forms on pages), and which models can't
be edited at all via HTTP.

In any case, there are plenty of RESTful services that do nothing
but GET and POST.  The key is how those methods are used, not what
methods are used.  To give a specific example, what makes a wiki
more or less RESTful is almost always determined by how it (ab)uses
GET and sessions -- whether it uses PUT or POST for editing pages
is sugar topping in comparison.

&gt; But what you are
&gt; saying is using non-standard methods is fine as long as there is an
&gt; engine which can tell the client what to do next. That engine should
&gt; support introspection via GET. Is this correct ?
&gt;

I wouldn't go as far as saying all "non-standard methods" are fine.
The methods still need to be standardized in order for intermediaries
to take part in the conversation and for generic clients to know how
to follow the instructions.  The methods still need to be resource- 
neutral
in terms of semantics.  However, for actions that do not benefit
from intermediaries (non-retrieval actions), the focus of REST is to
make the results visible as reusable resources after the action is
complete rather than worry too much about the standard-ness of any
non-GET method name.

....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10747<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-05-06 23:06:10<br>
Subject:Re: [rest-discuss] REST is not just file storage<br>
Message:<br><br>
<pre>On Mon, May 5, 2008 at 2:17 PM, Roy T. Fielding &lt;fielding@...&gt; wrote:
&gt; There seems to be a common thread with most posts here.  People
&gt; have been busy modeling everything as a resource and now they
&gt; want to know how to do everything in a PUT or DELETE instead of
&gt; any of the other HTTP methods.  That is wrong.  That is thinking
&gt; HTTP is just a "Save as..." dialog.
&gt;
&gt; REST is not limited to GET, PUT, and DELETE.  Anyone who says so
&gt; is just making things up as they go along.  REST is limited to the
&gt; client being told what to do next by the current state of where
&gt; they are now, aside from the entry point(s) we call a bookmark.
&gt; That is feasible because the set of methods is uniform, not because
&gt; it is limited to CRUD.  POST is an equal party in the REST interface,
&gt; particularly when actions are being applied to the resources that
&gt; are a composite of multiple source resources.  So is PATCH.

Anyone remembers Royce and the Waterfall Model?  In a 1970 he criticed
the waterfall approach and argued for iterative development.  Most
people's take from that piece was to just go and do more waterfall.
After all, if someone wrote about it, and it was published in the
Proceedings of IEEE, then it must be good, right?

When I talk to people about REST, almost always the conversation
revolves around one of two interpretations of REST.  That "REST is not
SOAP": the catchy sound byte is the battle between REST and SOAP, and
if you're not doing SOAP then you must be doing REST.  Or that "REST
is CRUD": developers intuitively grasp how to do SQL or EJB or insert
your favorite data access layer, over HTTP; data storage on the cloud
is the Next Great Thing, coupled with all the easy-CRUD frameworks
playing catch up to Rails.

The EJB over HTTP interpretation works because you can explain it in a
Twitter message, grok it in seconds, try it out on a handful of Web
2.0 services, and prototype something with your new shiny framework of
choice.  I don't see that changing by bringing up hypermedia as the
something of something else.  If you can't explain it in one short
sentence, don't be surprised when some other short explanation catches
on.

I tried "REST is links and forms", and that one works quite nicely,
because it starts we something that people grasp, and everything else
like GET vs POST, caching, naming resources, moving beyond HTTP, all
fall nicely into place.  If someone asks how do to this or that, you
start with "why don't you show me your links and forms?"


-- Assaf
http://labnotes.org



&gt; Doing RESTful actions on multiple resources is no different from
&gt; selecting multiple tunes in iTunes and using the info dialog
&gt; to set certain properties across all selected tunes.  It is a UI issue.
&gt; The UI builds a set of actions to perform and then performs them
&gt; in whatever way is most efficiently provided by the set of resources
&gt; being operated upon.  If those resources (or, rather, the index to
&gt; those resources) say they can be operated upon as a group by POST
&gt; of a selection form, then so be it -- that is perfectly RESTful
&gt; even without the benefit of per-resource cache invalidation.
&gt; Likewise for PATCH or PUT to a meta-resource, or PROPPATCH to a
&gt; WebDAV resource, it is RESTful if there is some engine described
&gt; by a representation provided by the origin server that instructs
&gt; the client on what to do next.
&gt;
&gt; The goals are to remove coupling and maximize the number of
&gt; reusable resources.
&gt;
&gt; ....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10748<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-05-06 23:30:26<br>
Subject:response code for an upload quota<br>
Message:<br><br>
<pre>For an AtomPub service that places a limit on either the number or 
uploaded items or the overall volume of content in a collection, what 
would be a suitable response code?

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10749<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-05-06 23:36:23<br>
Subject:Re: [rest-discuss] Updating metadata of multiple resources<br>
Message:<br><br>
<pre>Stefano Masini wrote:
&gt; 
&gt; 
&gt; Hi,
&gt; 
&gt; I'm still trying to figure rest out. Let's see if I hit a sweet spot
&gt; or if I'm just missing something (more likely, please forgive me).
&gt; 
&gt; I have several images, each with its own uri that have metadata.
&gt; If I want to update the metadata of a given image I send a POST
&gt; request on its uri. Right?
&gt; What if I want to atomically update some metadata (say, a tag) for a
&gt; group of images, how do I approach that?
&gt; Sending multiple POST requests, one for each uri, is not atomic, so I
&gt; can't accept it.

For AtomPub servers, I implement this for batch tagging:

POST /categorise
host: example.org

&lt;categories  ...&gt;
   &lt;category term="foo" &gt;
	&lt;atom:id&gt;...&lt;/atom:id&gt;
	&lt;atom:id&gt;...&lt;/atom:id&gt;
	&lt;atom:id&gt;...&lt;/atom:id&gt;
   &lt;/category&gt;
   &lt;category term="foo" &gt;
	&lt;atom:id&gt;...&lt;/atom:id&gt;
	&lt;atom:id&gt;...&lt;/atom:id&gt;
	&lt;atom:id&gt;...&lt;/atom:id&gt;
   &lt;/category&gt;
&lt;/categories&gt;

and have a symmetric uncategorise service for removing tags. I'm still 
working on batch title edits, which is the other common usecase I run into.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10751<br>
Sender:"Robert Sayre" &lt;sayrer@...&gt;<br>
Post Date/Time:2008-05-06 23:40:20<br>
Subject:Re: [rest-discuss] response code for an upload quota<br>
Message:<br><br>
<pre>WebDAV [RFC2518] defines the status code 507 (Insufficient Storage).


On Tue, May 6, 2008 at 4:30 PM, Bill de hOra &lt;bill@...&gt; wrote:
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; For an AtomPub service that places a limit on either the number or
&gt;  uploaded items or the overall volume of content in a collection, what
&gt;  would be a suitable response code?
&gt;
&gt;  Bill
&gt;  



-- 

Robert Sayre

"I would have written a shorter letter, but I did not have the time."

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10752<br>
Sender:"Brian Smith" &lt;brian@...&gt;<br>
Post Date/Time:2008-05-07 00:39:32<br>
Subject:Re: [rest-discuss] response code for an upload quota<br>
Message:<br><br>
<pre>Bill de hOra wrote:
&gt; For an AtomPub service that places a limit on either the number or
&gt; uploaded items or the overall volume of content in a collection, what
&gt; would be a suitable response code?

If you are looking for a standard status code, then "403 Forbidden" is the 
only one that makes sense, and then only if the response entity contains an 
error message describing the specific problem.

Cheers,
Brian 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10753<br>
Sender:"Brian Smith" &lt;brian@...&gt;<br>
Post Date/Time:2008-05-07 00:50:11<br>
Subject:Re: [rest-discuss] response code for an upload quota<br>
Message:<br><br>
<pre>Robert Sayre wrote:
&gt; WebDAV [RFC2518] defines the status code 507 (Insufficient Storage).

That is true. RFC 4331 [1] is even more specific about 507:

   WebDAV [RFC2518] defines the status code 507 (Insufficient Storage).
   This status code SHOULD be used when a client request (e.g., a PUT,
   PROPFIND, MKCOL, MOVE, or COPY) fails because it would exceed their
   quota or physical storage limits.  In order to differentiate the
   response from other storage problems, the server SHOULD include an
   XML error body as defined by DeltaV [RFC3253] with the appropriate
   precondition tag.
   ...

However, I think 5xx errors are supposed to be for cases where the client 
did the right thing and the server cannot fulfill the request due to some 
server-related problem. If the server is functioning well (in this case, 
properly enforcing the quota) , then it should never issue 5xx responses, 
IMO.

[1] http://tools.ietf.org/html/rfc4331#6 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10754<br>
Sender:"Robert Sayre" &lt;sayrer@...&gt;<br>
Post Date/Time:2008-05-07 00:59:47<br>
Subject:Re: [rest-discuss] response code for an upload quota<br>
Message:<br><br>
<pre>On Tue, May 6, 2008 at 5:50 PM, Brian Smith &lt;brian@...&gt; wrote:
&gt;   ...
&gt;
&gt;  However, I think 5xx errors are supposed to be for cases where the client
&gt; did the right thing and the server cannot fulfill the request due to some
&gt; server-related problem. If the server is functioning well (in this case,
&gt; properly enforcing the quota) , then it should never issue 5xx responses,
&gt; IMO.

Eh, 507 seems good enough to issue an "out of space" message. If the
user really cares about the difference between physical and quota
limits, by all means go into detail in the response body. I don't see
much point in debating a 4xx status code. It's not like users care
about the blame game.

- Rob



-- 

Robert Sayre

"I would have written a shorter letter, but I did not have the time."

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10755<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-05-07 10:07:52<br>
Subject:Re: [rest-discuss] REST is not just file storage<br>
Message:<br><br>
<pre>&gt; Serendipitous reuse comes from providing a URI for everything that is
&gt; of value as a resource (even when that value is not used by your own

Along with addressability , isn't a uniform interface necessary too[1] ?

I am not saying uniform interface means that PUT should always do this
, DELETE should always do this to the resource , so that the client
can guess what method to call on a resource directly . That should be
done via a nudge from the application itself via a hypermedia engine.
The 'serendipity' should come by first a GET on the resource and then
based on the representation returned do something.

But what I /AM/ saying is that those 4 methods only should be used ,
and not the other methods. How would using PATCH still be a part of
uniform interface ?


&gt; application).  As long as you are using GET for retrieval, then reuse
&gt; will be there.
Thats what I meant by 'you introspect with a GET' , and then decide what to do.

&gt; PUT, DELETE, and PATCH are essentially editing operations on the
&gt; mapping from URI to representation.  In many cases, those will translate

You mean , POST is used for invoking some functionality of the actual
underlying application , while PUT/DELETE are for manipulating the
interface model ? (and if the M=V then that would also imply changing
something in the application )

Reading your first post again, I think I am still not clear on the last line :

&gt;it is RESTful if there is some engine described
&gt;by a representation provided by the origin server that instructs
&gt;the client on what to do next.

Do you mean that the representation returned from the origin server
has a set of (hypermedia) links
that allow it move about in the application?


Regards
Devdatta


[1] http://steve.vinoski.net/pdf/IEEE-Serendipitous_Reuse.pdf

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10756<br>
Sender:"Andrew S. Townley" &lt;ast@...&gt;<br>
Post Date/Time:2008-05-07 10:28:38<br>
Subject:Re: [rest-discuss] REST is not just file storage<br>
Message:<br><br>
<pre>On Wed, 2008-05-07 at 15:37 +0530, dev wrote:

&gt; But what I /AM/ saying is that those 4 methods only should be used ,
&gt; and not the other methods. How would using PATCH still be a part of
&gt; uniform interface ?

My understanding (and I'm sure I'll get corrected if I'm wrong) is that
the interface is uniform due to the way the service tells the client
what operations it can perform, not that the operations are particularly
part of a particular set.  Of course the client needs to understand what
to do if it gets some hypermedia serving an equivalent function as an
HTML form that says "invoke operation(PATCH) on URI" instead of "invoke
operation(GET) on URI", but, as I see it, the way that the operation and
its parameters is expressed using hypermedia is really where the
uniformity comes in, e.g. the service has a uniform way to describe the
available state transitions away from the current resource.  The
mechanics of actually performing those operations is secondary because
it boils down to support for the underlying transfer protocol used.
Probably not as important now, but may be extremely important for
anything after HTTP/1.1.

&gt; &gt;it is RESTful if there is some engine described
&gt; &gt;by a representation provided by the origin server that instructs
&gt; &gt;the client on what to do next.
&gt; 
&gt; Do you mean that the representation returned from the origin server
&gt; has a set of (hypermedia) links
&gt; that allow it move about in the application?

Again, my understanding is that this is the essence of "hypermedia as
the engine of application state", so I think the answer is "yes".

ast
-- 
Andrew S. Townley &lt;ast@...&gt;
http://atownley.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10757<br>
Sender:"Steve Loughran" &lt;steve.loughran.soapbuilders@...&gt;<br>
Post Date/Time:2008-05-07 12:23:29<br>
Subject:Re: [rest-discuss] Re: The Use of Metadata in URIs: How long does a FORM assertion last?<br>
Message:<br><br>
<pre>On Thu, May 1, 2008 at 6:20 AM, Nick Gall &lt;nick.gall@...&gt; wrote:
&gt;
&gt;  On Thu, May 1, 2008 at 12:12 AM, Mark Baker &lt;distobj@...&gt; wrote:
.
&gt;
&gt;
&gt; &gt; Why don't you bring it up with them?
&gt;
&gt; Good idea. I wanted to check with this group to see if I was just confused
&gt; about the finding before going to the TAG. Plus, I am hoping some of them
&gt; will read my post here and respond. If they don't, I'll forward a part of
&gt; the thread to them.

There's nothing wrong with disagreeing with the W3C TAG. I have a
difference of opinion on testing for example (me: any standard without
tests doesn't exist), but the TAG happily waved through WS-Addressing
without a single test case. I normally give my local representative a
hard time about such things, when I get to corner him at the coffee
machine. Speaking of which, the next TAG meeting will actually be on
our site, 19-21 may. Is there anyone else I need to get hold of and
raise any pressing matters?

-steve

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10758<br>
Sender:"Steve Loughran" &lt;steve.loughran.soapbuilders@...&gt;<br>
Post Date/Time:2008-05-07 12:32:34<br>
Subject:Re: [rest-discuss] Updating metadata of multiple resources<br>
Message:<br><br>
<pre>On Mon, May 5, 2008 at 12:44 AM, Subbu Allamaraju &lt;subbu@...&gt; wrote:
&gt;
&gt;  On May 4, 2008, at 8:39 AM, Sebastien Lambla wrote:
&gt;  &gt;&gt; While this approach looks better than pipelining, it is more like
&gt;  &gt;&gt; SOAP
&gt;  &gt;&gt; than HTTP. What is the difference between this, and say, packaging
&gt;  &gt;&gt; the
&gt;  &gt;&gt; same parts as some XML elements inside some envelope element?
&gt;  &gt;
&gt;  &gt; Several benefits:
&gt;  &gt; - Multipart messages are a standard way to represent compound payloads
&gt;  &gt; - You don't enforce the use of xml
&gt;
&gt;  I don't disagree. But today's infrastructure does not deal with POST,
&gt;  PUT etc packaged inside multipart messages. For instance, a cache
&gt;  can't mark an entry in the cache stale when a PUT is submitted via a
&gt;  multipart message. Yes, there are theoretical benefits, but it is
&gt;  difficult to realize those benefits in reality.
&gt;
&gt;  The basic motivation for proposals like this is to let a client submit
&gt;  a bunch of requests and get them executed in at once. The supposed
&gt;  benefit for the client is that it does not have to make "n" number of
&gt;  requests. However, IMO, once we get into the details, the picture
&gt;  won't be as simple as this. For instance, what is the cost for the
&gt;  client to recover from partial failures? What is cost for the client
&gt;  and server to use two different code paths - one for regular requests
&gt;  and another for batch requests? Does the client sufficiently
&gt;  understand the difference between non-idempotent requests and
&gt;  idempotent requests bundled in the same batch? For the simple cases,
&gt;  yes, the answers may be simple, but IMO, the complexity of batch may
&gt;  outweigh the benefits.

1. There is some bulk operation in WebDAV, which then requires the
notion of partial failure to come back in the response; a simple
single error code is no longer enough

2. WS-ResourceFramework, while near the pinnacle of WS-*, tried to
retrofit bulk operations to its resource-model-atop-SOAP world view,
and again, got into a mess about atomicity of updates as well as
failures. What I dont like about it (apart from it being the pinnacle
of WS-*) is that there was no per-resource metadata about the
atomicity, and no guarantee that all servers worked the same.

the nice thing about doing bulk operations as a sequence of requests
is that you can be sure that
 -the bulk operation is not atomic
 -if one operation fails, everything you havent yet pushed out wont
have gone through
 -state changes are observable to others during the sequence of operations.
 -the single update code path==the bulk update code path
It may not be the exact behaviour you want, but at least you can be
sure that it will be consistent, that no server updates will suddenly
change their behaviour without you noticing. Which is good, as it is
surprisingly hard to write tests to determine exactly what the bulk
update semantics of a remote system are.

-steve

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10759<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-05-07 16:05:09<br>
Subject:Re: [rest-discuss] Updating metadata of multiple resources<br>
Message:<br><br>
<pre>I agree.

&gt; 1. There is some bulk operation in WebDAV, which then requires the
&gt; notion of partial failure to come back in the response; a simple
&gt; single error code is no longer enough

Exactly, that is why I compared this to SOAP.

&gt; 2. WS-ResourceFramework, while near the pinnacle of WS-*, tried to
&gt; retrofit bulk operations to its resource-model-atop-SOAP world view,
&gt; and again, got into a mess about atomicity of updates as well as
&gt; failures. What I dont like about it (apart from it being the pinnacle
&gt; of WS-*) is that there was no per-resource metadata about the
&gt; atomicity, and no guarantee that all servers worked the same.
&gt;

:)

&gt; the nice thing about doing bulk operations as a sequence of requests
&gt; is that you can be sure that
&gt; -the bulk operation is not atomic
&gt; -if one operation fails, everything you havent yet pushed out wont
&gt; have gone through
&gt; -state changes are observable to others during the sequence of  
&gt; operations.
&gt; -the single update code path==the bulk update code path
&gt; It may not be the exact behaviour you want, but at least you can be
&gt; sure that it will be consistent, that no server updates will suddenly
&gt; change their behaviour without you noticing. Which is good, as it is
&gt; surprisingly hard to write tests to determine exactly what the bulk
&gt; update semantics of a remote system are.

Well said.

Subbu


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10760<br>
Sender:"Miles Crawford" &lt;mcrawfor@...&gt;<br>
Post Date/Time:2008-05-07 20:37:13<br>
Subject:Versioning of RESTful services<br>
Message:<br><br>
<pre>Hello,

My question is about versioning RESTful resources with URIs.

I often see as a "best practice" the user of a version number in URIs such as:

/v1/person/{username}

and then, if your service changes:

/v2/person/{username}

So - here's my question.  Say my organization wants to create two
services that relate to one another, a generic person service and a
student service. How do I avoid loops that cause troubles with version
numbers?

A timeline:
v1 person released, links to v1 student
v1 student releasted, links to v1 person.
time passes...
v2 person released, links to v1 student
time passes...
v2 student released, links to v2 person.

Now a client can get a v2 student, link to a v2 person and then link
back to a v1 student.

Has anyone had problems with this type of mismatch? Anyone see clean solutions?

-miles

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10761<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2008-05-08 08:46:01<br>
Subject:Re: [rest-discuss] Versioning of RESTful services<br>
Message:<br><br>
<pre>Miles,

I think you are primarily concerned with links between versions.  
(Mixing this with the notion of service versioning
is a bit confusing - see subject line).

In general the solution is, IMHO, to be very precise on the meaning of  
your resources and links. Do the links
really have to point to versions specifically or can they point to  
'master' resources that represent the target
concept as such?

If you really must point to a version and really must point from a  
version (instead of accumulating the
links in the master resource) then you probably just need to duplicate  
the links.

Maybe it helps to make the links first class objects and version them  
also?

You can find a deeper treatment of the subject here:

&lt;http://www.coolheads.com/SRNPUBS/ref-track-docs-paper.pdf&gt;

And propably it also helps to have a look at repository software such as
CVS and SVN and how they manage versions and releases etc.

HTH,

Jan



On May 7, 2008, at 10:37 PM, Miles Crawford wrote:

&gt; Hello,
&gt;
&gt; My question is about versioning RESTful resources with URIs.
&gt;
&gt; I often see as a "best practice" the user of a version number in  
&gt; URIs such as:
&gt;
&gt; /v1/person/{username}
&gt;
&gt; and then, if your service changes:
&gt;
&gt; /v2/person/{username}
&gt;
&gt; So - here's my question.  Say my organization wants to create two
&gt; services that relate to one another, a generic person service and a
&gt; student service. How do I avoid loops that cause troubles with version
&gt; numbers?
&gt;
&gt; A timeline:
&gt; v1 person released, links to v1 student
&gt; v1 student releasted, links to v1 person.
&gt; time passes...
&gt; v2 person released, links to v1 student
&gt; time passes...
&gt; v2 student released, links to v2 person.
&gt;
&gt; Now a client can get a v2 student, link to a v2 person and then link
&gt; back to a v1 student.
&gt;
&gt; Has anyone had problems with this type of mismatch? Anyone see clean  
&gt; solutions?
&gt;
&gt; -miles
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;


--
Jan Algermissen
INTAKI . http://www.intaki.com/






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10762<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2008-05-08 08:49:10<br>
Subject:Re: [rest-discuss] Versioning of RESTful services<br>
Message:<br><br>
<pre>Miles,

I forgot: just because the versions are link inside some system does  
not mean the client
of the REST interface to that system needs to know. Before you go into  
all that trouble,
think if you need it or if proper links and redirections presented to  
the client don't also
solve your problem.

Jan

On May 8, 2008, at 10:46 AM, Jan Algermissen wrote:

&gt; Miles,
&gt;
&gt; I think you are primarily concerned with links between versions.
&gt; (Mixing this with the notion of service versioning
&gt; is a bit confusing - see subject line).
&gt;
&gt; In general the solution is, IMHO, to be very precise on the meaning of
&gt; your resources and links. Do the links
&gt; really have to point to versions specifically or can they point to
&gt; 'master' resources that represent the target
&gt; concept as such?
&gt;
&gt; If you really must point to a version and really must point from a
&gt; version (instead of accumulating the
&gt; links in the master resource) then you probably just need to duplicate
&gt; the links.
&gt;
&gt; Maybe it helps to make the links first class objects and version them
&gt; also?
&gt;
&gt; You can find a deeper treatment of the subject here:
&gt;
&gt; &lt;http://www.coolheads.com/SRNPUBS/ref-track-docs-paper.pdf&gt;
&gt;
&gt; And propably it also helps to have a look at repository software  
&gt; such as
&gt; CVS and SVN and how they manage versions and releases etc.
&gt;
&gt; HTH,
&gt;
&gt; Jan
&gt;
&gt;
&gt;
&gt; On May 7, 2008, at 10:37 PM, Miles Crawford wrote:
&gt;
&gt;&gt; Hello,
&gt;&gt;
&gt;&gt; My question is about versioning RESTful resources with URIs.
&gt;&gt;
&gt;&gt; I often see as a "best practice" the user of a version number in
&gt;&gt; URIs such as:
&gt;&gt;
&gt;&gt; /v1/person/{username}
&gt;&gt;
&gt;&gt; and then, if your service changes:
&gt;&gt;
&gt;&gt; /v2/person/{username}
&gt;&gt;
&gt;&gt; So - here's my question.  Say my organization wants to create two
&gt;&gt; services that relate to one another, a generic person service and a
&gt;&gt; student service. How do I avoid loops that cause troubles with  
&gt;&gt; version
&gt;&gt; numbers?
&gt;&gt;
&gt;&gt; A timeline:
&gt;&gt; v1 person released, links to v1 student
&gt;&gt; v1 student releasted, links to v1 person.
&gt;&gt; time passes...
&gt;&gt; v2 person released, links to v1 student
&gt;&gt; time passes...
&gt;&gt; v2 student released, links to v2 person.
&gt;&gt;
&gt;&gt; Now a client can get a v2 student, link to a v2 person and then link
&gt;&gt; back to a v1 student.
&gt;&gt;
&gt;&gt; Has anyone had problems with this type of mismatch? Anyone see clean
&gt;&gt; solutions?
&gt;&gt;
&gt;&gt; -miles
&gt;&gt;
&gt;&gt; ------------------------------------
&gt;&gt;
&gt;&gt; Yahoo! Groups Links
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
&gt;
&gt; --
&gt; Jan Algermissen
&gt; INTAKI . http://www.intaki.com/
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;


--
Jan Algermissen
INTAKI . http://www.intaki.com/






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10763<br>
Sender:"Lucas Gonze" &lt;lucas.gonze@...&gt;<br>
Post Date/Time:2008-05-10 01:19:11<br>
Subject:auto-discovery of multiple representation types<br>
Message:<br><br>
<pre>oEmbed is a way to fetch metadata resources associated with a
multimedia resource: http://oembed.com/

I'm wondering about auto-discovery of the metadata URI. Is there a
RESTful way for a server to let a client fetching a multimedia
resource to know that there is a metadata resource associated with it?

It's possible to use content negotiation for an aspect of the
exchange.  If the metadata and multimedia were considered different
representations of the same resource, they could be distinguished by
media type and fetched separately by using the Accept header.

How does the client learn that this is an option, given that it starts
with a single multimedia URI?

If the method relies on request and response headers, how can an AJAX
app view and control the headers?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10764<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-05-10 06:43:04<br>
Subject:Re: [rest-discuss] auto-discovery of multiple representation types<br>
Message:<br><br>
<pre>Lucas,

I have thought about this a number of times and it seems to be a
weakness in the current HTTP spec.

I have considered an "Acceptable" response header for facilitate discovery, e.g.

--&gt;
GET /foo.html
Accept: text/plain

&lt;--
406 Not Acceptable
Acceptable: application/xhtml+xml, text/plain

or:

--&gt;
OPTIONS /foo.html

&lt;--
200 OK
Acceptable: application/xhtml+xml, text/plain

Regards,
Alan Dean
http://thoughtpad.net/alan-dean
http://simplewebservices.org

On Sat, May 10, 2008 at 2:19 AM, Lucas Gonze &lt;lucas.gonze@...&gt; wrote:
&gt;
&gt; oEmbed is a way to fetch metadata resources associated with a
&gt; multimedia resource: http://oembed.com/
&gt;
&gt; I'm wondering about auto-discovery of the metadata URI. Is there a
&gt; RESTful way for a server to let a client fetching a multimedia
&gt; resource to know that there is a metadata resource associated with it?
&gt;
&gt; It's possible to use content negotiation for an aspect of the
&gt; exchange. If the metadata and multimedia were considered different
&gt; representations of the same resource, they could be distinguished by
&gt; media type and fetched separately by using the Accept header.
&gt;
&gt; How does the client learn that this is an option, given that it starts
&gt; with a single multimedia URI?
&gt;
&gt; If the method relies on request and response headers, how can an AJAX
&gt; app view and control the headers?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10765<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-05-10 14:29:52<br>
Subject:Re: [rest-discuss] auto-discovery of multiple representation types<br>
Message:<br><br>
<pre>I implemented some custom response headers for the OPTIONS call
(X-Content-Types and X-Accept-Types). I also added an X-Acceptable
response header whenever the server issues a 406 (Not Acceptable)
response code.

Here's my blog post on the idea:
http://amundsen.com/blog/archives/716

MCA

On Sat, May 10, 2008 at 2:43 AM, Alan Dean &lt;alan.dean@...&gt; wrote:
&gt; Lucas,
&gt;
&gt; I have thought about this a number of times and it seems to be a
&gt; weakness in the current HTTP spec.
&gt;
&gt; I have considered an "Acceptable" response header for facilitate discovery, e.g.
&gt;
&gt; --&gt;
&gt; GET /foo.html
&gt; Accept: text/plain
&gt;
&gt; &lt;--
&gt; 406 Not Acceptable
&gt; Acceptable: application/xhtml+xml, text/plain
&gt;
&gt; or:
&gt;
&gt; --&gt;
&gt; OPTIONS /foo.html
&gt;
&gt; &lt;--
&gt; 200 OK
&gt; Acceptable: application/xhtml+xml, text/plain
&gt;
&gt; Regards,
&gt; Alan Dean
&gt; http://thoughtpad.net/alan-dean
&gt; http://simplewebservices.org
&gt;
&gt; On Sat, May 10, 2008 at 2:19 AM, Lucas Gonze &lt;lucas.gonze@...&gt; wrote:
&gt;&gt;
&gt;&gt; oEmbed is a way to fetch metadata resources associated with a
&gt;&gt; multimedia resource: http://oembed.com/
&gt;&gt;
&gt;&gt; I'm wondering about auto-discovery of the metadata URI. Is there a
&gt;&gt; RESTful way for a server to let a client fetching a multimedia
&gt;&gt; resource to know that there is a metadata resource associated with it?
&gt;&gt;
&gt;&gt; It's possible to use content negotiation for an aspect of the
&gt;&gt; exchange. If the metadata and multimedia were considered different
&gt;&gt; representations of the same resource, they could be distinguished by
&gt;&gt; media type and fetched separately by using the Accept header.
&gt;&gt;
&gt;&gt; How does the client learn that this is an option, given that it starts
&gt;&gt; with a single multimedia URI?
&gt;&gt;
&gt;&gt; If the method relies on request and response headers, how can an AJAX
&gt;&gt; app view and control the headers?
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10766<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-05-10 15:48:08<br>
Subject:Re: [rest-discuss] auto-discovery of multiple representation types<br>
Message:<br><br>
<pre>Mike,

Do we need three new headers?
  * Accept-Types
  * Content-Types
  * Acceptable

My first question is this: what is the difference between Accept-Types
and Acceptable? At first glance, they appear to be the same thing.

My second question is: what does Content-Types bring to the party that
Acceptable doesn't?

The particular name isn't my concern. Let's take a step back. What
does the client need to discover?

1) The request body type

There are two classes of request body type. The first (exemplified by
application/x-www-form-urlencoded) doesn't need to be discovered - it
is a product of the hypermedia delivered to the client (such as an
HTML FORM). The second is a representation MIME type, such as
application/atom+xml, which ought to be discoverable.

2) The response body type

This is what my earlier message addressed.

Put these together and you end up with two new headers instead of
three: Request-Types and Response-Types.

For example:

--&gt;
GET /foo.html
Accept: text/plain

&lt;--
406 Not Acceptable
Request-Types: application/x-www-form-urlencoded;POST,
application/atom+xml;POST|PUT

- another example -

--&gt;
POST /foo.html
Content-Type: multipart/form-data

...

&lt;--
415 Unsupported Media Type
Response-Types: text/html;GET, application/atom+xml;GET

- an OPTIONS example -

--&gt;
OPTIONS /foo.html

&lt;--
200 OK
Allow: DELETE,GET,OPTIONS,POST,PUT
Request-Types: application/x-www-form-urlencoded;POST,
application/atom+xml;POST|PUT
Response-Types: text/html;GET, application/atom+xml;GET

Regards,
Alan Dean

On Sat, May 10, 2008 at 3:29 PM, mike amundsen &lt;mamund@...&gt; wrote:
&gt; I implemented some custom response headers for the OPTIONS call
&gt; (X-Content-Types and X-Accept-Types). I also added an X-Acceptable
&gt; response header whenever the server issues a 406 (Not Acceptable)
&gt; response code.
&gt;
&gt; Here's my blog post on the idea:
&gt; http://amundsen.com/blog/archives/716
&gt;
&gt; MCA
&gt;
&gt; On Sat, May 10, 2008 at 2:43 AM, Alan Dean &lt;alan.dean@...&gt; wrote:
&gt;&gt; Lucas,
&gt;&gt;
&gt;&gt; I have thought about this a number of times and it seems to be a
&gt;&gt; weakness in the current HTTP spec.
&gt;&gt;
&gt;&gt; I have considered an "Acceptable" response header for facilitate discovery, e.g.
&gt;&gt;
&gt;&gt; --&gt;
&gt;&gt; GET /foo.html
&gt;&gt; Accept: text/plain
&gt;&gt;
&gt;&gt; &lt;--
&gt;&gt; 406 Not Acceptable
&gt;&gt; Acceptable: application/xhtml+xml, text/plain
&gt;&gt;
&gt;&gt; or:
&gt;&gt;
&gt;&gt; --&gt;
&gt;&gt; OPTIONS /foo.html
&gt;&gt;
&gt;&gt; &lt;--
&gt;&gt; 200 OK
&gt;&gt; Acceptable: application/xhtml+xml, text/plain
&gt;&gt;
&gt;&gt; Regards,
&gt;&gt; Alan Dean
&gt;&gt; http://thoughtpad.net/alan-dean
&gt;&gt; http://simplewebservices.org
&gt;&gt;
&gt;&gt; On Sat, May 10, 2008 at 2:19 AM, Lucas Gonze &lt;lucas.gonze@...&gt; wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; oEmbed is a way to fetch metadata resources associated with a
&gt;&gt;&gt; multimedia resource: http://oembed.com/
&gt;&gt;&gt;
&gt;&gt;&gt; I'm wondering about auto-discovery of the metadata URI. Is there a
&gt;&gt;&gt; RESTful way for a server to let a client fetching a multimedia
&gt;&gt;&gt; resource to know that there is a metadata resource associated with it?
&gt;&gt;&gt;
&gt;&gt;&gt; It's possible to use content negotiation for an aspect of the
&gt;&gt;&gt; exchange. If the metadata and multimedia were considered different
&gt;&gt;&gt; representations of the same resource, they could be distinguished by
&gt;&gt;&gt; media type and fetched separately by using the Accept header.
&gt;&gt;&gt;
&gt;&gt;&gt; How does the client learn that this is an option, given that it starts
&gt;&gt;&gt; with a single multimedia URI?
&gt;&gt;&gt;
&gt;&gt;&gt; If the method relies on request and response headers, how can an AJAX
&gt;&gt;&gt; app view and control the headers?
&gt;&gt;
&gt;&gt; ------------------------------------
&gt;&gt;
&gt;&gt; Yahoo! Groups Links
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
&gt;
&gt;
&gt; --
&gt; mca
&gt; http://amundsen.com/blog/
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10767<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-05-10 16:41:39<br>
Subject:Re: [rest-discuss] auto-discovery of multiple representation types<br>
Message:<br><br>
<pre>Alan:

yeah, three might be overkill. I decided to have a different header as
a response for the Not Acceptable response code - maybe that's not
needed.

As for names, I decided that I'd mirror the "Content-Type" and
"Accept" headers by using similar names.  Since "Content-Type is used
both for server response and for client POST/PUT requests, I decided
to not use "Request" and "Response" in the header names. I agree,
however, that the names are not essential.

As for including "application/x-www-form-urlencoded" - i decided not
to assume this is a valid content type since about 50% of the clients
I work with are either not browsers (bots, desktop applications) or
are AJAX-enabled clients that can use multiple content-types for
POST/PUT. I actually have some server apps that do not support
"application/x-www-form-urlencoded" at all.

MCA

On Sat, May 10, 2008 at 11:48 AM, Alan Dean &lt;alan.dean@...&gt; wrote:
&gt; Mike,
&gt;
&gt; Do we need three new headers?
&gt;  * Accept-Types
&gt;  * Content-Types
&gt;  * Acceptable
&gt;
&gt; My first question is this: what is the difference between Accept-Types
&gt; and Acceptable? At first glance, they appear to be the same thing.
&gt;
&gt; My second question is: what does Content-Types bring to the party that
&gt; Acceptable doesn't?
&gt;
&gt; The particular name isn't my concern. Let's take a step back. What
&gt; does the client need to discover?
&gt;
&gt; 1) The request body type
&gt;
&gt; There are two classes of request body type. The first (exemplified by
&gt; application/x-www-form-urlencoded) doesn't need to be discovered - it
&gt; is a product of the hypermedia delivered to the client (such as an
&gt; HTML FORM). The second is a representation MIME type, such as
&gt; application/atom+xml, which ought to be discoverable.
&gt;
&gt; 2) The response body type
&gt;
&gt; This is what my earlier message addressed.
&gt;
&gt; Put these together and you end up with two new headers instead of
&gt; three: Request-Types and Response-Types.
&gt;
&gt; For example:
&gt;
&gt; --&gt;
&gt; GET /foo.html
&gt; Accept: text/plain
&gt;
&gt; &lt;--
&gt; 406 Not Acceptable
&gt; Request-Types: application/x-www-form-urlencoded;POST,
&gt; application/atom+xml;POST|PUT
&gt;
&gt; - another example -
&gt;
&gt; --&gt;
&gt; POST /foo.html
&gt; Content-Type: multipart/form-data
&gt;
&gt; ...
&gt;
&gt; &lt;--
&gt; 415 Unsupported Media Type
&gt; Response-Types: text/html;GET, application/atom+xml;GET
&gt;
&gt; - an OPTIONS example -
&gt;
&gt; --&gt;
&gt; OPTIONS /foo.html
&gt;
&gt; &lt;--
&gt; 200 OK
&gt; Allow: DELETE,GET,OPTIONS,POST,PUT
&gt; Request-Types: application/x-www-form-urlencoded;POST,
&gt; application/atom+xml;POST|PUT
&gt; Response-Types: text/html;GET, application/atom+xml;GET
&gt;
&gt; Regards,
&gt; Alan Dean
&gt;
&gt; On Sat, May 10, 2008 at 3:29 PM, mike amundsen &lt;mamund@...&gt; wrote:
&gt;&gt; I implemented some custom response headers for the OPTIONS call
&gt;&gt; (X-Content-Types and X-Accept-Types). I also added an X-Acceptable
&gt;&gt; response header whenever the server issues a 406 (Not Acceptable)
&gt;&gt; response code.
&gt;&gt;
&gt;&gt; Here's my blog post on the idea:
&gt;&gt; http://amundsen.com/blog/archives/716
&gt;&gt;
&gt;&gt; MCA
&gt;&gt;
&gt;&gt; On Sat, May 10, 2008 at 2:43 AM, Alan Dean &lt;alan.dean@...&gt; wrote:
&gt;&gt;&gt; Lucas,
&gt;&gt;&gt;
&gt;&gt;&gt; I have thought about this a number of times and it seems to be a
&gt;&gt;&gt; weakness in the current HTTP spec.
&gt;&gt;&gt;
&gt;&gt;&gt; I have considered an "Acceptable" response header for facilitate discovery, e.g.
&gt;&gt;&gt;
&gt;&gt;&gt; --&gt;
&gt;&gt;&gt; GET /foo.html
&gt;&gt;&gt; Accept: text/plain
&gt;&gt;&gt;
&gt;&gt;&gt; &lt;--
&gt;&gt;&gt; 406 Not Acceptable
&gt;&gt;&gt; Acceptable: application/xhtml+xml, text/plain
&gt;&gt;&gt;
&gt;&gt;&gt; or:
&gt;&gt;&gt;
&gt;&gt;&gt; --&gt;
&gt;&gt;&gt; OPTIONS /foo.html
&gt;&gt;&gt;
&gt;&gt;&gt; &lt;--
&gt;&gt;&gt; 200 OK
&gt;&gt;&gt; Acceptable: application/xhtml+xml, text/plain
&gt;&gt;&gt;
&gt;&gt;&gt; Regards,
&gt;&gt;&gt; Alan Dean
&gt;&gt;&gt; http://thoughtpad.net/alan-dean
&gt;&gt;&gt; http://simplewebservices.org
&gt;&gt;&gt;
&gt;&gt;&gt; On Sat, May 10, 2008 at 2:19 AM, Lucas Gonze &lt;lucas.gonze@...&gt; wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; oEmbed is a way to fetch metadata resources associated with a
&gt;&gt;&gt;&gt; multimedia resource: http://oembed.com/
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; I'm wondering about auto-discovery of the metadata URI. Is there a
&gt;&gt;&gt;&gt; RESTful way for a server to let a client fetching a multimedia
&gt;&gt;&gt;&gt; resource to know that there is a metadata resource associated with it?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; It's possible to use content negotiation for an aspect of the
&gt;&gt;&gt;&gt; exchange. If the metadata and multimedia were considered different
&gt;&gt;&gt;&gt; representations of the same resource, they could be distinguished by
&gt;&gt;&gt;&gt; media type and fetched separately by using the Accept header.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; How does the client learn that this is an option, given that it starts
&gt;&gt;&gt;&gt; with a single multimedia URI?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; If the method relies on request and response headers, how can an AJAX
&gt;&gt;&gt;&gt; app view and control the headers?
&gt;&gt;&gt;
&gt;&gt;&gt; ------------------------------------
&gt;&gt;&gt;
&gt;&gt;&gt; Yahoo! Groups Links
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; --
&gt;&gt; mca
&gt;&gt; http://amundsen.com/blog/
&gt;&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10768<br>
Sender:"Houghton,Andrew" &lt;houghtoa@...&gt;<br>
Post Date/Time:2008-05-10 14:15:33<br>
Subject:RE: [rest-discuss] auto-discovery of multiple representation types<br>
Message:<br><br>
<pre>&gt; From: rest-discuss@yahoogroups.com [mailto:rest- 
&gt; discuss@yahoogroups.com] On Behalf Of Lucas Gonze
&gt; Sent: Friday, May 09, 2008 9:19 PM
&gt; To: rest-discuss@yahoogroups.com
&gt; Subject: [rest-discuss] auto-discovery of multiple representation 
&gt; types
&gt; 
&gt; I'm wondering about auto-discovery of the metadata URI. Is there a 
&gt; RESTful way for a server to let a client fetching a multimedia 
&gt; resource to know that there is a metadata resource associated with it?
&gt; 
&gt; It's possible to use content negotiation for an aspect of the 
&gt; exchange.  If the metadata and multimedia were considered different 
&gt; representations of the same resource, they could be distinguished by 
&gt; media type and fetched separately by using the Accept header.
&gt; 
&gt; How does the client learn that this is an option, given that it starts 
&gt; with a single multimedia URI?
&gt; 
&gt; If the method relies on request and response headers, how can an AJAX 
&gt; app view and control the headers?

You might find what we have done for a service that we are developing to be applicable or adaptable to your situation.  One aspect of the service we are developing is that a resource can return multiple representations, e.g., HTML, JSON, RDF or XML.  Each representation has its own URI:

http://example.org/content/resource.html
http://example.org/content/resource.json
http://example.org/content/resource.rdf
http://example.org/content/resource.xml

The service also uses a generic URI for the resource that allows content negotiation and auto-discovery of the multiple representations.  For example, the generic request:

GET http://example.org/content/resource
Accept: application/xhtml+xml

returns a 200 OK HTTP status with the same HTML representation returned by the URI:

http://example.org/content/resource.html

When an Accept header is not given or the Accept header is */* then the service returns a 300 MULTIPLE REPRESENTATIONS HTTP status along with a stripped RDF-XML entity that describes the multiple representations that are available for the resource.  We chose to use a stripped RDF-XML document since 1) we could generate a concrete XML schema that the server and clients could validate against or process with standard XML tools like XSLT or XQuery and 2) the document was also usable by RDF tools in a semantic context.

The stripped RDF-XML document looks like the following, but is probably generic enough that we might officially publish the schema if there is community interest.  I would welcome thoughts on whether we should officially publish the schema or any other comments or suggestions on the schema.

Here is a basic description of the schema:

1) The document element is the Resource element.
2) The document element specifies an rdf:about attribute containing the relative URI for the generic resource.
3) The document element specifies an xml:base attribute containing the base URI for the generic resource. Note you can use absolute URI's, but the xml:base reduces redundancy for the URI's described in each representation, see (6) below.
4) The document element contains a Representations element that is a collection of all the representations for the resource.
5) The Representations element contains a Representation element for each representation of the resource.
6) Each Representation element specifies an rdf:about attribute containing the relative URI for the resource representation.  See note in (3).
7) Each Representation element contains a generic type describing the type of resource.
8) Each Representation element contains one or more languages that the resource is available in.
9) Each Representation element contains one or more formats that the resource is available in.  Note format covers both media type and character sets the resource is available in which are specified by the rdf:datatype attribute.
10) Each Representation element contains references to one or more standards that the representation conforms to.
11) Each Representation element asserts that it is a format of the generic resource.

This document is used to drive validation of incoming requests to the generic resource URI.  For example:

1) dct:language drives what is acceptable for the Accept-Language HTTP header.
2) dct:format drives what is acceptable for the Accept HTTP header. Preferred content type is specified first.
3) dct:format drives what is acceptable for the Accept-Charset HTTP header.
4) dct:conformsTo drives schema validation or implemented features on either the server or client side.

It is possible that multiple representations may contain the same content types.  For example, you might have multiple XML representations using different schemas, but the content types for them are always application/xml and text/xml.  When a client uses an Accept HTTP header with the content type application/xml the service will return a 300 MULTIPLE REPRESENTATIONS HTTP status with just the representations that have a dct:format with a content type of application/xml.  To retrieve a specific XML schema the service assigns a local content type for each XML representation, e.g., application/x-example.org-schema1 for XML schema 1 and application/x-example.org-schema2 for XML schema 2.  This allows the client to retrieve the specific schema they require.

You can verify that this is in fact a valid RDF document by using the RDF validator's *extended interface* where you *must* check the Advanced Feature "RDF is NOT enclosed in &lt;RDF&gt;...&lt;/RDF&gt; tags".

&lt;http://www.w3.org/rdf/validator&gt;

&lt;?xml version="1.0"?&gt;
&lt;Resource
  rdf:about="resource"
  xml:base="http://example.org/content/"
  xmlns="urn:uuid:D30A7E67-31BF-40A3-9956-9668674FCD84"
  xmlns:dct="http://purl.org/dc/terms/"
  xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
&gt;
  &lt;Representations rdf:parseType="Collection"&gt;

    &lt;Representation rdf:about="resource.html"&gt;
      &lt;dct:type rdf:datatype="http://www.w3.org/2001/XMLSchema#token"&gt;XHTML document&lt;/dct:type&gt;
      &lt;dct:language rdf:datatype="http://purl.org/dc/terms/RFC1766"&gt;en&lt;/dct:language&gt;
      &lt;dct:format rdf:datatype="http://purl.org/dc/terms/IMT"&gt;application/xhtml+xml&lt;/dct:format&gt;
      &lt;dct:format rdf:datatype="http://purl.org/dc/terms/IMT"&gt;text/html&lt;/dct:format&gt;
      &lt;dct:format rdf:datatype="http://www.iana.org/assignments/character-sets#"&gt;UTF-8&lt;/dct:format&gt;
      &lt;dct:conformsTo rdf:resource="http://www.w3.org/TR/2002/REC-xhtml1-20020801"/&gt;
      &lt;dct:isFormatOf rdf:resource="resource"/&gt;
    &lt;/Representation&gt;

    &lt;Representation rdf:about="resource.json"&gt;
      &lt;dct:type rdf:datatype="http://www.w3.org/2001/XMLSchema#token"&gt;JSON document&lt;/dct:type&gt;
      &lt;dct:language rdf:datatype="http://purl.org/dc/terms/RFC1766"&gt;en&lt;/dct:language&gt;
      &lt;dct:format rdf:datatype="http://purl.org/dc/terms/IMT"&gt;application/json&lt;/dct:format&gt;
      &lt;dct:format rdf:datatype="http://purl.org/dc/terms/IMT"&gt;application/ecmascript&lt;/dct:format&gt;
      &lt;dct:format rdf:datatype="http://purl.org/dc/terms/IMT"&gt;application/javascript&lt;/dct:format&gt;
      &lt;dct:format rdf:datatype="http://purl.org/dc/terms/IMT"&gt;text/ecmascript&lt;/dct:format&gt;
      &lt;dct:format rdf:datatype="http://purl.org/dc/terms/IMT"&gt;text/javascript&lt;/dct:format&gt;
      &lt;dct:format rdf:datatype="http://www.iana.org/assignments/character-sets#"&gt;UTF-8&lt;/dct:format&gt;
      &lt;dct:conformsTo rdf:resource="http://www.ietf.org/rfc/rfc4627"/&gt;
      &lt;dct:isFormatOf rdf:resource="resource"/&gt;
    &lt;/Representation&gt;

    &lt;Representation rdf:about="resource.rdf"&gt;
      &lt;dct:type rdf:datatype="http://www.w3.org/2001/XMLSchema#token"&gt;RDF document&lt;/dct:type&gt;
      &lt;dct:language rdf:datatype="http://purl.org/dc/terms/RFC1766"&gt;en&lt;/dct:language&gt;
      &lt;dct:format rdf:datatype="http://purl.org/dc/terms/IMT"&gt;application/rdf+xml&lt;/dct:format&gt;
      &lt;dct:format rdf:datatype="http://www.iana.org/assignments/character-sets#"&gt;UTF-8&lt;/dct:format&gt;
      &lt;dct:conformsTo rdf:resource="http://www.w3.org/TR/2004/REC-rdf-syntax-grammar-20040210"/&gt;
      &lt;dct:isFormatOf rdf:resource="resource"/&gt;
    &lt;/Representation&gt;

    &lt;Representation rdf:about="resource.xml"&gt;
      &lt;dct:type rdf:datatype="http://www.w3.org/2001/XMLSchema#token"&gt;XML document&lt;/dct:type&gt;
      &lt;dct:language rdf:datatype="http://purl.org/dc/terms/RFC1766"&gt;en&lt;/dct:language&gt;
      &lt;dct:format rdf:datatype="http://purl.org/dc/terms/IMT"&gt;application/xml&lt;/dct:format&gt;
      &lt;dct:format rdf:datatype="http://purl.org/dc/terms/IMT"&gt;text/xml&lt;/dct:format&gt;
      &lt;dct:format rdf:datatype="http://www.iana.org/assignments/character-sets#"&gt;UTF-8&lt;/dct:format&gt;
      &lt;dct:conformsTo rdf:resource="http://www.w3.org/TR/2006/REC-xml-20060816"/&gt;
      &lt;dct:isFormatOf rdf:resource="resource"/&gt;
    &lt;/Representation&gt;

  &lt;/Representations&gt;
&lt;/Resource&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10769<br>
Sender:"Lucas Gonze" &lt;lucas.gonze@...&gt;<br>
Post Date/Time:2008-05-10 18:48:02<br>
Subject:Re: [rest-discuss] auto-discovery of multiple representation types<br>
Message:<br><br>
<pre>The link-rel pattern is also an option.

Example from http://www.w3.org/TR/html4/struct/links.html#edef-LINK
&lt;LINK title="The manual in Dutch"
      type="text/html"
      rel="alternate"
      hreflang="nl"
      href="http://someplace.com/manual/dutch.html"&gt;

Let's say we started out with the page as the primary object, rather
than the media file.  Then the alternate could be the media file, and
this would leave the HTML for formatting and metadata:

in http://someplace.com/manual.html:
&lt;link title="The manual as an audio book"
      type="audio/mpeg"
      rel="alternate"
      href="http://someplace.com/manual.mp3"&gt;

If the media file was the primary or initial object, it might use a
response header to notify the requester about alternate formats:

--&gt;
GET /foo.mp3

&lt;--
200 OK
Alternate-link: audio/mpeg; http://someplace.com/manual.html:

...

This would maximize efficiency, since there would only be an extra
request if there did exist a related meta-document.  It would also be
backward compatible with current practice.  A browser would start a
plugin to play the media object, then use a plugin API from javascript
to check for the extra header.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10770<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-05-10 19:11:33<br>
Subject:Re: [rest-discuss] auto-discovery of multiple representation types<br>
Message:<br><br>
<pre>Lucas:

The link-rel works well for HTML documents (possibly also any formats
in the XML family), but the headers work well for all types.

MCA

On Sat, May 10, 2008 at 2:48 PM, Lucas Gonze &lt;lucas.gonze@...&gt; wrote:
&gt; The link-rel pattern is also an option.
&gt;
&gt; Example from http://www.w3.org/TR/html4/struct/links.html#edef-LINK
&gt; &lt;LINK title="The manual in Dutch"
&gt;      type="text/html"
&gt;      rel="alternate"
&gt;      hreflang="nl"
&gt;      href="http://someplace.com/manual/dutch.html"&gt;
&gt;
&gt; Let's say we started out with the page as the primary object, rather
&gt; than the media file.  Then the alternate could be the media file, and
&gt; this would leave the HTML for formatting and metadata:
&gt;
&gt; in http://someplace.com/manual.html:
&gt; &lt;link title="The manual as an audio book"
&gt;      type="audio/mpeg"
&gt;      rel="alternate"
&gt;      href="http://someplace.com/manual.mp3"&gt;
&gt;
&gt; If the media file was the primary or initial object, it might use a
&gt; response header to notify the requester about alternate formats:
&gt;
&gt; --&gt;
&gt; GET /foo.mp3
&gt;
&gt; &lt;--
&gt; 200 OK
&gt; Alternate-link: audio/mpeg; http://someplace.com/manual.html:
&gt;
&gt; ...
&gt;
&gt; This would maximize efficiency, since there would only be an extra
&gt; request if there did exist a related meta-document.  It would also be
&gt; backward compatible with current practice.  A browser would start a
&gt; plugin to play the media object, then use a plugin API from javascript
&gt; to check for the extra header.
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10771<br>
Sender:"Lucas Gonze" &lt;lucas.gonze@...&gt;<br>
Post Date/Time:2008-05-10 19:22:46<br>
Subject:Re: [rest-discuss] auto-discovery of multiple representation types<br>
Message:<br><br>
<pre>I agree.  And I think that this gets to the heart of the problem that
oEmbed is addressing -- generalizing link-rel functions to arbitrary
payload types.

So how does the link-rel response header feel to you, Mike?



On Sat, May 10, 2008 at 12:11 PM, mike amundsen &lt;mamund@...&gt; wrote:
&gt; Lucas:
&gt;
&gt; The link-rel works well for HTML documents (possibly also any formats
&gt; in the XML family), but the headers work well for all types.
&gt;
&gt; MCA
&gt;
&gt; On Sat, May 10, 2008 at 2:48 PM, Lucas Gonze &lt;lucas.gonze@...&gt; wrote:
&gt;&gt; The link-rel pattern is also an option.
&gt;&gt;
&gt;&gt; Example from http://www.w3.org/TR/html4/struct/links.html#edef-LINK
&gt;&gt; &lt;LINK title="The manual in Dutch"
&gt;&gt;      type="text/html"
&gt;&gt;      rel="alternate"
&gt;&gt;      hreflang="nl"
&gt;&gt;      href="http://someplace.com/manual/dutch.html"&gt;
&gt;&gt;
&gt;&gt; Let's say we started out with the page as the primary object, rather
&gt;&gt; than the media file.  Then the alternate could be the media file, and
&gt;&gt; this would leave the HTML for formatting and metadata:
&gt;&gt;
&gt;&gt; in http://someplace.com/manual.html:
&gt;&gt; &lt;link title="The manual as an audio book"
&gt;&gt;      type="audio/mpeg"
&gt;&gt;      rel="alternate"
&gt;&gt;      href="http://someplace.com/manual.mp3"&gt;
&gt;&gt;
&gt;&gt; If the media file was the primary or initial object, it might use a
&gt;&gt; response header to notify the requester about alternate formats:
&gt;&gt;
&gt;&gt; --&gt;
&gt;&gt; GET /foo.mp3
&gt;&gt;
&gt;&gt; &lt;--
&gt;&gt; 200 OK
&gt;&gt; Alternate-link: audio/mpeg; http://someplace.com/manual.html:
&gt;&gt;
&gt;&gt; ...
&gt;&gt;
&gt;&gt; This would maximize efficiency, since there would only be an extra
&gt;&gt; request if there did exist a related meta-document.  It would also be
&gt;&gt; backward compatible with current practice.  A browser would start a
&gt;&gt; plugin to play the media object, then use a plugin API from javascript
&gt;&gt; to check for the extra header.
&gt;&gt;
&gt;
&gt;
&gt;
&gt; --
&gt; mca
&gt; http://amundsen.com/blog/
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10772<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-05-11 01:07:34<br>
Subject:Re: [rest-discuss] auto-discovery of multiple representation types<br>
Message:<br><br>
<pre>On Sat, May 10, 2008 at 2:48 PM, Lucas Gonze &lt;lucas.gonze@...&gt; wrote:
&gt; If the media file was the primary or initial object, it might use a
&gt; response header to notify the requester about alternate formats:
&gt;
&gt; --&gt;
&gt; GET /foo.mp3
&gt;
&gt; &lt;--
&gt; 200 OK
&gt; Alternate-link: audio/mpeg; http://someplace.com/manual.html:

It was never, AFAIK, fully specified, but this was Roy's preferred way
(AIUI) of doing conneg;

http://www.rfc.net/rfc2068.html#s19.6.2

Also on topic;

http://tools.ietf.org/id/draft-nottingham-http-link-header

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10773<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-05-11 15:50:43<br>
Subject:Re: [rest-discuss] auto-discovery of multiple representation types<br>
Message:<br><br>
<pre>Lucas:

As Mark has pointed out, the Link Header has been around for a while.
FireFox and Opera both support it for stylesheets
(http://www.w3.org/TR/html401/present/styles.html#h-14.6), but Safari
and IE do not.  I think using this for related/alternate content is a
good idea.

FWIW, I think Content-Type and Accept headers (and any 'hints' of such
that server would offer up) are a different thing. I use custom
headers (X-Content-Types and X-AcceptTypes) to help a client make it's
own decision about what media types it wants to use to communicate
with the server ("Hmm, I wonder if I can post a JSON object to this
server"). I would use Link headers to tell clients what alternate or
related content is also available ("Hey client, you can also check out
these related SVG documents!")


On Sat, May 10, 2008 at 3:22 PM, Lucas Gonze &lt;lucas.gonze@...&gt; wrote:
&gt; I agree.  And I think that this gets to the heart of the problem that
&gt; oEmbed is addressing -- generalizing link-rel functions to arbitrary
&gt; payload types.
&gt;
&gt; So how does the link-rel response header feel to you, Mike?
&gt;
&gt;
&gt;
&gt; On Sat, May 10, 2008 at 12:11 PM, mike amundsen &lt;mamund@...&gt; wrote:
&gt;&gt; Lucas:
&gt;&gt;
&gt;&gt; The link-rel works well for HTML documents (possibly also any formats
&gt;&gt; in the XML family), but the headers work well for all types.
&gt;&gt;
&gt;&gt; MCA
&gt;&gt;
&gt;&gt; On Sat, May 10, 2008 at 2:48 PM, Lucas Gonze &lt;lucas.gonze@...&gt; wrote:
&gt;&gt;&gt; The link-rel pattern is also an option.
&gt;&gt;&gt;
&gt;&gt;&gt; Example from http://www.w3.org/TR/html4/struct/links.html#edef-LINK
&gt;&gt;&gt; &lt;LINK title="The manual in Dutch"
&gt;&gt;&gt;      type="text/html"
&gt;&gt;&gt;      rel="alternate"
&gt;&gt;&gt;      hreflang="nl"
&gt;&gt;&gt;      href="http://someplace.com/manual/dutch.html"&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Let's say we started out with the page as the primary object, rather
&gt;&gt;&gt; than the media file.  Then the alternate could be the media file, and
&gt;&gt;&gt; this would leave the HTML for formatting and metadata:
&gt;&gt;&gt;
&gt;&gt;&gt; in http://someplace.com/manual.html:
&gt;&gt;&gt; &lt;link title="The manual as an audio book"
&gt;&gt;&gt;      type="audio/mpeg"
&gt;&gt;&gt;      rel="alternate"
&gt;&gt;&gt;      href="http://someplace.com/manual.mp3"&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; If the media file was the primary or initial object, it might use a
&gt;&gt;&gt; response header to notify the requester about alternate formats:
&gt;&gt;&gt;
&gt;&gt;&gt; --&gt;
&gt;&gt;&gt; GET /foo.mp3
&gt;&gt;&gt;
&gt;&gt;&gt; &lt;--
&gt;&gt;&gt; 200 OK
&gt;&gt;&gt; Alternate-link: audio/mpeg; http://someplace.com/manual.html:
&gt;&gt;&gt;
&gt;&gt;&gt; ...
&gt;&gt;&gt;
&gt;&gt;&gt; This would maximize efficiency, since there would only be an extra
&gt;&gt;&gt; request if there did exist a related meta-document.  It would also be
&gt;&gt;&gt; backward compatible with current practice.  A browser would start a
&gt;&gt;&gt; plugin to play the media object, then use a plugin API from javascript
&gt;&gt;&gt; to check for the extra header.
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; --
&gt;&gt; mca
&gt;&gt; http://amundsen.com/blog/
&gt;&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10774<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-05-11 19:03:17<br>
Subject:RE: [rest-discuss] auto-discovery of multiple representation types<br>
Message:<br><br>
<pre>There's been a huge long discussion about this very issue in TAG, you may want to check it out. It comes down to the result of having httpRange-14. If you get a 200, you have an Informational Resource, whereas an RDF is a document about a resource that is most certainly not a resource representation.

Seems the TAG is of the idea that every _thing_ should 303 so you can make assertion on Uris that return 200. And an RDF is not a representation of a resource, but an informational resource about a resource, with its own Uri. Hence why the Link: header is being reintroduced, with the fallacious argument that it was in the previous http spec and lack of time was the reason for it not being included in 2616. That no one had the time to go over 2616 again and that 2616 doesn't complement 2068 but supersedes it seems to be conveniently ignored. 

That said, many people are happy not living in httpRange-14 and serving any resource about a resource, and resource attached to a resource, through conneg. I used to be fine with it, but if you start doing it with RDF, you would do it with css, and it can become quite a mess, as they're essentially different documents, not different representations of the same resource.

To wrap up: with httpRange-14 you should never return a 200 from a resource that is not a document, and use only a 303. Related documents can be added using the Link: http header (even though it's current standardized status is discussable at best, and one cannot rely on the intent of the author more than on the publication). Link in HTML and the XHTML families are still there for that, as well as in ATOM feeds.

If you want to be more flexible, you would argue that the following two are equivalent:
  - The httpRange-14 way -
=&gt;
GET /resource
Accept: text/html
&lt;=
303 Location: /resource.html
=&gt;
GET /resource.html
&lt;=
200 Ok &lt;- httpRange-14 assertion that /resource.html is not a thing but an IR, aka a document


  - Another way to assert the same thing:
=&gt;
GET /resource
Accept: text/html
&lt;=
200 Ok
Content-Location: /resource.html &lt;- you do your assertion on the Content-Location, not on the url you requested

From the discussions I had with a couple of people, this method is not accepted for reasons I still don't understand.

So it's fine to do your conneg on different mimetypes for your resources, *provided* they are different representations of a same resource.

Css and Rdf *are not* different representations of a same resource and should *never* share the same url. Use Link: header, and the capabilities of your representation (html and xhtml, atom and others) to link to other documents.

As for the alternate documents, see
http://www.w3.org/2001/tag/doc/alternatives-discovery.html

and something I quite like myself (because it has the quality of existing): rfc2295 at http://rfc.net/rfc2295.html .


--
SerialSeb



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10775<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-05-13 11:41:21<br>
Subject:Re: [rest-discuss] auto-discovery of multiple representation types<br>
Message:<br><br>
<pre>&gt; 
&gt; Seems the TAG is of the idea that every _thing_ should 303 so you can
&gt; make assertion on Uris that return 200. And an RDF is not a
&gt; representation of a resource, but an informational resource about a
&gt; resource, with its own Uri.
&gt;

Really?  An RDF document can't be a representation of a resource?  I
don't see where httpRange-14 or anything else makes such an assertion.

&gt;
&gt; Hence why the Link: header is being
&gt; reintroduced, with the fallacious argument that it was in the
&gt; previous http spec and lack of time was the reason for it not being
&gt; included in 2616. That no one had the time to go over 2616 again and
&gt; that 2616 doesn't complement 2068 but supersedes it seems to be
&gt; conveniently ignored. 
&gt; 

Fallacious?  How?  The source for this notion is the *authors* of the
spec.  Who is in a position to call their argument fallacious,
exactly?  Where are you people getting this notion that RFC 2616
supersedes RFC 2068?  I read this:

"This specification defines the protocol referred to as "HTTP/1.1", and
is an update to RFC 2068."

How does an update to a spec, deprecate anything in that spec, unless
it specifically says "this is deprecated"?  Is there some IETF rule
which says updates to earlier versions of a spec, deprecate anything
not carried through to the new version?  I would agree that the Link
header wasn't part of HTTP, if RFC 2616 said that, but it doesn't:

"The Alternates, Content-Version, Derived-From, Link, URI, Public and
Content-Base header fields were defined in previous versions of this
specification, but not commonly implemented."

That says nothing about deprecation or obsolescence.  In fact, it
explicitly states that Link was defined in RFC 2068, which taken in the
context of "[this] is an update to RFC 2068" means that there's nothing
fallacious whatsoever about the assertion that Link is part of HTTP.

&gt;
&gt; Link in HTML and the XHTML families are still there for that, as well
&gt; as in ATOM feeds.
&gt; 

OK, but let's say you have a collection of images, managed with Atom
Protocol.  Each image has an associated metadata document.  Yeah, you
can associate the image with the metadata in the Atom markup, but what
about associating the metadata with the image?  Also, how does one link
a raw text file to another document without a Link header?  That's why
the debate is about *uniform* access to metadata, the whole idea is
to _not_ restrict linking to metadata, to only a select few media types.

&gt; 
&gt; So it's fine to do your conneg on different mimetypes for your
&gt; resources, *provided* they are different representations of a same
&gt; resource.
&gt; 

I don't see that as a requirement of HTTP or REST, or of any pragmatic
concern.  Please refer to Roy's post [1], there is a difference between
redirected conneg and true conneg.  Whether we're talking about
multiple languages or multiple anything else, a negotiated redirect
makes no assertion that the target is part of the set of
representations for the requested resource.  Quoting REST:

"Depending on the message control data, a given representation may
indicate the current state of the requested resource, the desired state
for the requested resource, or the value of some other resource, such
as... a representation of some error condition for a response."

If we can define a resource as "404 response page" we can serve a
representation of it anywhere we need to.  In which case, the request
for a nonexistent resource returns a representation of some other
resource, i.e. "404 response page".  The 404 response message body
isn't a representation of the requested resource, but the 404 response
itself is.

Similarly, if we request 'application/rdf+xml' from a URI which has no
RDF representation, but is described by an RDF document at some other
URI, then we can return a 303 representation which indicates the value
of some other resource -- in this case, its URI.  To my way of
thinking, it's better to respond "maybe" (303) rather than "no" (412)
in such a scenario, if possible.

The target RDF document is not a representation of the requested
resource, the 303 redirect is.  The same applies if the target is a CSS
document -- the CSS isn't a representation of the requested resource,
the 303 response is.  303 and 404 representations of a requested URI
indicate the value of _some other resource_.

&gt;
&gt; Css and Rdf *are not* different representations of a same resource
&gt; and should *never* share the same url. Use Link: header, and the
&gt; capabilities of your representation (html and xhtml, atom and others)
&gt; to link to other documents.
&gt; 

If the server is issuing a 303 redirect to an RDF document, or even a
CSS document, then those documents *are not* "sharing the same URL".
The only documents in the set of variant representations sharing an URL
are those which respond 200 OK.  I agree with you, a CSS document and
an RDF document can never be representations of the same resource, so
they shouldn't share a URI using true conneg and 200 OK responses.

But I see no pragmatic, or even theoretical, reason not to use conneg to
303 redirect to an RDF document.  Yeah, this means you could also use
conneg and 303 redirects to serve CSS documents.  So?

-Eric

[1] http://tech.groups.yahoo.com/group/rest-discuss/message/5857

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10776<br>
Sender:Erik Hetzner &lt;erik.hetzner@...&gt;<br>
Post Date/Time:2008-05-13 16:17:12<br>
Subject:Re: [rest-discuss] auto-discovery of multiple representation types<br>
Message:<br><br>
<pre>At Tue, 13 May 2008 05:41:21 -0600,
"Eric J. Bowman" &lt;eric@...&gt; wrote:
&gt; []
&gt;
&gt; Fallacious?  How?  The source for this notion is the *authors* of the
&gt; spec.  Who is in a position to call their argument fallacious,
&gt; exactly?  Where are you people getting this notion that RFC 2616
&gt; supersedes RFC 2068?  I read this:
&gt; 
&gt; "This specification defines the protocol referred to as "HTTP/1.1", and
&gt; is an update to RFC 2068."
&gt; 
&gt; How does an update to a spec, deprecate anything in that spec, unless
&gt; it specifically says "this is deprecated"?  Is there some IETF rule
&gt; which says updates to earlier versions of a spec, deprecate anything
&gt; not carried through to the new version? 

Yes. Look at the top of RFC 2616:

| Obsoletes: 2068

Now have a look at RFC 2223, Instructions to RFC authors, sec. 12:

| Obsoletes
|
|      To be used to refer to an earlier document that is replaced by
|      this document.  This document contains either revised information,
|      or else all of the same information plus some new information,
|      however extensive or brief that new information is; i.e., this
|      document can be used alone, without reference to the older
|      document.

&gt; []

best,
Erik Hetzner
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10777<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-05-14 23:49:20<br>
Subject:Re: [rest-discuss] auto-discovery of multiple representation types<br>
Message:<br><br>
<pre>&gt; 
&gt; | Obsoletes
&gt; |
&gt; |      To be used to refer to an earlier document that is replaced by
&gt; |      this document.  This document contains either revised
&gt; | information, or else all of the same information plus some new
&gt; | information, however extensive or brief that new information is;
&gt; | i.e., this document can be used alone, without reference to the
&gt; | older document.
&gt; 

Sorry, I only meant to use the word 'deprecates' not 'obsoletes'.  Yes,
RFC 2068 is obsoleted as a standalone reference for HTTP.  But, if I
were to agree with the POV that says obsoletes has the same meaning as
deprecates, then I would have to say that RFC 2518 is also "obsoleted"
by RFC 2616, because RFC 2518 explicitly refers to RFC 2068, not 2616.

As a reference for HTTP, RFC 2616 may be "used alone without reference
to the older document".  But this doesn't mean it can't be extended by
referring to some other document, older or newer.  Otherwise WebDAV
can't be "part of HTTP", and RFC 2518 (plus Lord knows how many other
IETF specs) would require immediate and long-overdue re-editing to
conform and refer to RFC 2616 instead.

Nothing about the release of RFC 2616 would have required existing
implementations of PATCH to have been disabled, or rejected by
intermediaries going forwards.  You just don't have to implement it.
Such a hard-core reinterpretation of the meaning of 'obsoletes' goes
against the grain of my experience working with IETF specs over the
years, and I'm just not reading that into the paragraph quoted above.

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10778<br>
Sender:Sean Kennedy &lt;seandkennedy@...&gt;<br>
Post Date/Time:2008-05-15 09:46:17<br>
Subject:S/W engineering radio webcast comments<br>
Message:<br><br>
<pre>Hi,
    I was recently listening to a webcast by Olaf Zimmerman on Software Engineering radio www.se-radio.net. In this webcast he stated that a good share of the WS-* vs REST debate was "totally pointless" because "if you look at the WS-* specs., if you just compare the things the RESTafarians promote; the WS-* (the core of it) does implement these concepts". He goes on to say  "the architectural principles you see in the REST style, they are present in the WS-* technology. Yes, there are lots of optional specifications, that big WS-* jungle, but you don't have to use all of those if you don't have (the) requirements". At which point his interviewer (Markus Volter) stated "if you use REST style you dont get all those things so you should just compare REST with the core (of WS-*) and not all the other things" i.e. specs.

As I am presenting as paper on this very debate later in the year I was wondering if his point is valid. My own opinion is that he is just comparing capabilities and may have missed the critical point of approach (which I have seen raised by Mark Baker and Ryan Tomakyo) i.e. WSDL promotes unique interface naming which breaks the core tenet of Uniform Interface. As Steve Vinoski points out in his "REST Eye for the SOA guy" article, this has a serious impact on scalability.

Another point is the fact that the SOAP URL is of the SOAP server causes problems for Web intermediaries also e.g. proxies cant determine what the request is specifically trying to access. Also, given that the Semantic Web vision is that each resource should have its own URI, this means that SOAP is at odds with the Semantic Web. 

Caching q:  I know SOAP 1.2 introduced the WebMethod so that one could use any HTTP method with SOAP messages (POST, which was the default SOAP 1.1 verb is not cacheable). However, given that the URL for SOAP messages will be the SOAP server URL and not a specific resource I don't see how this gets SOAP out of the "caching" problem?

When comparing REST with the core WS-* specs, are there other arguments that I should be making...

Thanks,
Sean.

PS I was talking to a large well-known telecoms company recently and I asked them what do they use for WS. To which he replied "we use both SOAP and REST but its all moving towards REST"...

PS2 If anybody would like to view my paper then please let me know. I would be delighted to get your comments on it...



      __________________________________________________________
Sent from Yahoo! Mail.
A Smarter Email http://uk.docs.yahoo.com/nowyoucan.html</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10779<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-05-15 09:54:56<br>
Subject:Re: [rest-discuss] S/W engineering radio webcast comments<br>
Message:<br><br>
<pre>I thought that even the WS-* folks now acknowledge that there is a  
huge architectural difference, even if they don't concede that there's  
any benefit to the REST approach. To claim that "WS-* core implements  
REST concepts" shows a severe lack of understanding.

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/



On May 15, 2008, at 11:46 AM, Sean Kennedy wrote:

&gt;
&gt; Hi,
&gt;     I was recently listening to a webcast by Olaf Zimmerman on  
&gt; Software Engineering radio www.se-radio.net. In this webcast he  
&gt; stated that a good share of the WS-* vs REST debate was "totally  
&gt; pointless" because "if you look at the WS-* specs., if you just  
&gt; compare the things the RESTafarians promote; the WS-* (the core of  
&gt; it) does implement these concepts". He goes on to say  "the  
&gt; architectural principles you see in the REST style, they are present  
&gt; in the WS-* technology. Yes, there are lots of optional  
&gt; specifications, that big WS-* jungle, but you don't have to use all  
&gt; of those if you don't have (the) requirements". At which point his  
&gt; interviewer (Markus Volter) stated "if you use REST style you dont  
&gt; get all those things so you should just compare REST with the core  
&gt; (of WS-*) and not all the other things" i.e. specs.
&gt;
&gt; As I am presenting as paper on this very debate later in the year I  
&gt; was wondering if his point is valid. My own opinion is that he is  
&gt; just comparing capabilities and may have missed the critical point  
&gt; of approach(which I have seen raised by Mark Baker and Ryan Tomakyo)  
&gt; i.e. WSDL promotes unique interface naming which breaks the core  
&gt; tenet of Uniform Interface. As Steve Vinoski points out in his "REST  
&gt; Eye for the SOA guy" article, this has a serious impact on  
&gt; scalability.
&gt;
&gt; Another point is the fact that the SOAP URL is of the SOAP server  
&gt; causes problems for Web intermediaries also e.g. proxies cant  
&gt; determine what the request is specifically trying to access. Also,  
&gt; given that the Semantic Web vision is that each resource should have  
&gt; its own URI, this means that SOAP is at odds with the Semantic Web.
&gt;
&gt; Caching q:  I know SOAP 1.2 introduced the WebMethod so that one  
&gt; could use any HTTP method with SOAP messages (POST, which was the  
&gt; default SOAP 1.1 verb is not cacheable). However, given that the URL  
&gt; for SOAP messages will be the SOAP server URL and not a specific  
&gt; resource I don't see how this gets SOAP out of the "caching" problem?
&gt;
&gt; When comparing REST with the core WS-* specs, are there other  
&gt; arguments that I should be making...
&gt;
&gt; Thanks,
&gt; Sean.
&gt;
&gt; PS I was talking to a large well-known telecoms company recently and  
&gt; I asked them what do they use for WS. To which he replied "we use  
&gt; both SOAP and REST but its all moving towards REST"...
&gt;
&gt; PS2 If anybody would like to view my paper then please let me know.  
&gt; I would be delighted to get your comments on it...
&gt;
&gt; Sent from Yahoo! Mail.
&gt; A Smarter Email.
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10780<br>
Sender:zooko &lt;zooko@...&gt;<br>
Post Date/Time:2008-05-15 13:02:27<br>
Subject:character encodings and binary data and URLs<br>
Message:<br><br>
<pre>Dear people of rest-discuss:

What's the right way to specify character encoding in URLs, POST  
forms, and JSON-encoded data?

I work on an open source secure, decentralized filesystem -- the  
"Tahoe" Least-Authority Filesystem [1] -- with a RESTful API [2].

We need to decide, when the user specifies a filename, either in the  
URL or in a POST form, or or when the server returns a filename to  
the user in an HTTP response, what character encoding to use.

Our current rules are like this:

1.  Filenames in URLs are always utf-8 encoded.  So after splitting  
on "/" to get individual segments, we utf-8 decode each segment  
before doing anything else with it.

2.  POST forms have a _charset field which specifies the encoding of  
all the values in the form, and if not present it is assumed to be  
utf-8.

3.  Responses are encoded in JSON, so the filenames are in unicode.

It seems unfortunate to constrain users of our system to unicode  
filenames, and further to constrain them to utf-8 encoding, but I  
can't think of another alternative which doesn't leave things  
underspecified.

Are these type of rules for encoding fairly standard in the REST world?

Thanks!

Regards,

Zooko

[1] http://allmydata.org
[2] http://allmydata.org/trac/tahoe/browser/docs/webapi.txt

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10781<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-05-15 13:10:08<br>
Subject:RE: [rest-discuss] auto-discovery of multiple representation types<br>
Message:<br><br>
<pre>[reposted, as I have forgotten the list] 

&gt; Really?  An RDF document can't be a representation of a resource?  I
&gt; don't see where httpRange-14 or anything else makes such an assertion.

A representation of a resource carries some or all parts of a resource. A
picture of a horse is a representation of a horse. A transcript of a
judgement is a representation of that judgement. However a political adviser
making assertions on that judgement is *not* a representation of that
judgement. It's something else, which have its own representation (the video
content).

So I'd say quite clearly that no, RDF is definitely not a representation of
a resource, but a resource about a resource.

&gt; Fallacious?  How?  The source for this notion is the *authors* of the
&gt; spec.  Who is in a position to call their argument fallacious,
&gt; exactly?

Actually, the whole concept of an RFC is to document something at some point
in time. Just because the authors of an RFC would have included something
but didn't have the time, or were thinking very loud about it doesn't make
it part of an RFC. A written law applies based on the text, not on what
someone had in his head.

Expecting people to "know" what the authors were thinking in an RFC is
fallacious and unreasonable. If something was left out of a spec for
practical reasons or lack of time, the solution is to update the RFC or
create a new one. 

&gt;  Where are you people getting this notion that RFC 2616
&gt; supersedes RFC 2068?  I read this:

That's been responded to so I won't go any further.

&gt; Link in HTML and the XHTML families are still there for that, as well
&gt; as in ATOM feeds.
&gt; 

&gt; [...] That's why
&gt; the debate is about *uniform* access to metadata, the whole idea is
&gt; to _not_ restrict linking to metadata, to only a select few media types.
&gt; I don't see that as a requirement of HTTP or REST, or of any pragmatic
&gt; concern.  Please refer to Roy's post [1], there is a difference between
&gt; redirected conneg and true conneg.  Whether we're talking about
&gt; multiple languages or multiple anything else, a negotiated redirect
&gt; makes no assertion that the target is part of the set of
&gt; representations for the requested resource.

httpRange-14 makes no such distinction: it specifies that a 200 means that
you're faced with a document. And it says that anything that returns a 303
could be anything at all.

Without a redirection, by httprange-14 you make the assertion that what you
requested *is* an awww-IR, aka a document, that may have several
representations, *because* you get a 200.

So to answer your question, if when you dereference /customer with Accept:
application/rdf+xml you get a 200, /customer is *not* a customer or a thing,
it *is* a document. With a redirect, you make no assertion on /customer at
all, you redirect to /customer.rdf, which when dereferenced returns a 200:
the rdf *is* a doucument about something, you just don't know what about
until you parse the rdf.

&gt; If we can define a resource as "404 response page" we can serve a
&gt; representation of it anywhere we need to.  In which case, the request
&gt; for a nonexistent resource returns a representation of some other
&gt; resource, i.e. "404 response page".  The 404 response message body
&gt; isn't a representation of the requested resource, but the 404 response
&gt; itself is.

I don't see the point you're making. A 404 response to a dereferencing of a
uri makes no assertion on that uri at all. The fact that you send an entity
body with your response changes absolutely nothing. At most you could add a
Content-Location in your 404 to specify that the entity returned lives at
/404.html. If that Uri dereference to a 200 then you made an assertion on
that resource. They're two different things.

&gt; Similarly, if we request 'application/rdf+xml' from a URI which has no
&gt; RDF representation, but is described by an RDF document at some other
&gt; URI, then we can return a 303 representation which indicates the value
&gt; of some other resource -- in this case, its URI.  To my way of
&gt; thinking, it's better to respond "maybe" (303) rather than "no" (412)
&gt; in such a scenario, if possible.

Absolutely agreed.

&gt; 303 and 404 representations of a requested URI
&gt; indicate the value of _some other resource_.

Now you're confusing me, how can a return code be considered a
representation? It's teh result of dereferencing, it's not a representation
of anything.

&gt; But I see no pragmatic, or even theoretical, reason not to use conneg to
&gt; 303 redirect to an RDF document.  Yeah, this means you could also use
&gt; conneg and 303 redirects to serve CSS documents.  So?


I think we agree on this. If I copy my previous message on this:
 "Css and Rdf *are not* different representations of a same resource and
should *never* share the same url."

If you 303, *you are not sharing the Url*, because the rdf and css will have
*different urls*, the ones returned by the 303.

Let's put it back into context of what the original question was:

=====
It's possible to use content negotiation for an aspect of the exchange.  If
the metadata and multimedia were considered different representations of the
same resource, they could be distinguished by media type and fetched
separately by using the Accept header.
=====

So I will stand by my previous explanation:
1. Metadata about a resource is *not* a representation of that resource.
It's something else.
2. If you 303, you distinguish by *url* because you redirect somewhere

Fundamentally, it comes down to what the url you're dereferencing is:
a. it's a document, because you got a 200 using any combination of headers.
You now *know* that this is a document and not an IR. So when you return a
303 from /customer.html because it has an Accept" application/xml+rdf, you
say that querying a document with Accept: application/rdf+xml has a response
at another location. To me this is wrong, and exactly what the Link: header
should cover. 
b. It's a thing as far as you know, because you have no known 200 response
when dereferencing. Again it's a fragile assertion to make, but in that case
the 303 return is more acceptable.

To sum up my position, I don't think returning other resources through
conneg on an IR is a good idea, it introduces confusion. On a non-IR it may
or may not be a good idea, I don't have a very strong position on this yet.

Seb


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10782<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-05-15 13:45:58<br>
Subject:Re: [rest-discuss] auto-discovery of multiple representation types<br>
Message:<br><br>
<pre>Sebastien Lambla wrote:
&gt; 
&gt; So I'd say quite clearly that no, RDF is definitely not a
&gt; representation of a resource, but a resource about a resource.
&gt; 

Your terminology is a bit confusing.  A resource is not served by a
webserver, only representations are.  A resource has an identifier,
which a webserver maps to a set of representations.  An RDF document is
a representation of a resource, even if its content describes some other
resource (or resources), it is still a resource in its own right if it
has an URL.

Given URL A file.html, URL B file.rdf, and a negotiated URI C, file.
Depending on how the RDF is written, both A and B could easily be
representations of C (each returned in Content-Location).  Or, B may
just make assertions about A, in which case it is not a representation
of C and would not appear in Content-Location when C is dereferenced.

In that case, where B is a resource which makes assertions about A,
dereferencing B returns an RDF representation of B.  If you can
dereference it over the Web, it's a representation, even if it's RDF.

&gt; 
&gt; Actually, the whole concept of an RFC is to document something at
&gt; some point in time. Just because the authors of an RFC would have
&gt; included something but didn't have the time, or were thinking very
&gt; loud about it doesn't make it part of an RFC. A written law applies
&gt; based on the text, not on what someone had in his head.
&gt; 

Exactly, and that's why RFC 2068 serves as the foundation of WebDAV,
that was the state of HTTP 1.1 at the time WebDAV was finalized.  Thus
were the PATCH method and Link header, etc. written into law...

&gt;
&gt; Expecting people to "know" what the authors were thinking in an RFC is
&gt; fallacious and unreasonable. If something was left out of a spec for
&gt; practical reasons or lack of time, the solution is to update the RFC
&gt; or create a new one. 
&gt; 

I will grant that RFCs are an imperfect solution, but I won't argue
with their success either.  You realize there are errors in RFC 2616,
right?  That doesn't mean you really MUST NOT cache 303 responses, in
slavish devotion to the letter of the law.  Absolute law is the
antithesis of trial by jury, and I think some folks are seeing a similar
level of constraint in RFCs that was never the intent of the IETF.

But, the cachability of 303 responses despite what the spec says, is
something you have to just "know" by reading the spec authors'
responses to feedback concerning the issue (or by asking them outright).
No system is perfect.

&gt; 
&gt; &gt; [...] That's why
&gt; &gt; the debate is about *uniform* access to metadata, the whole idea is
&gt; &gt; to _not_ restrict linking to metadata, to only a select few media
&gt; &gt; types. I don't see that as a requirement of HTTP or REST, or of any
&gt; &gt; pragmatic concern.  Please refer to Roy's post [1], there is a
&gt; &gt; difference between redirected conneg and true conneg.  Whether
&gt; &gt; we're talking about multiple languages or multiple anything else, a
&gt; &gt; negotiated redirect makes no assertion that the target is part of
&gt; &gt; the set of representations for the requested resource.
&gt; 
&gt; httpRange-14 makes no such distinction: it specifies that a 200 means
&gt; that you're faced with a document. And it says that anything that
&gt; returns a 303 could be anything at all.
&gt; 

A resource can be anything, an IR is limited to documents which may be
dereferenced using HTTP.  A person can't be identified by the same URI
that identifies a document about that person.  The person is a
resource, the document is an IR, using the same URI for both is a
collision because they are not the same resource.

My interpretation of httpRange-14, is that if the URI identifies a
person then it MUST NOT return 200 OK, at all, ever.  I do not take
this to mean that if a URI identifies a document it MUST NOT return
303, at all, ever.

&gt;
&gt; Without a redirection, by httprange-14 you make the assertion that
&gt; what you requested *is* an awww-IR, aka a document, that may have
&gt; several representations, *because* you get a 200.
&gt; 

Right.  An IR has a set of representations.  But this set is not
restricted to 200 OK responses, nor does httpRange-14 disallow 303
representations to be included in the set for that IR.

&gt;
&gt; So to answer your question, if when you dereference /customer with
&gt; Accept: application/rdf+xml you get a 200, /customer is *not* a
&gt; customer or a thing, it *is* a document. With a redirect, you make no
&gt; assertion on /customer at all, you redirect to /customer.rdf, which
&gt; when dereferenced returns a 200: the rdf *is* a doucument about
&gt; something, you just don't know what about until you parse the rdf.
&gt; 

If, from my example above, B is dereferenced and responds 200 OK then
you know that file.rdf is a representation of resource B.  Yes, it must
be parsed to determine its relationship to A.  If C is dereferenced as
'application/rdf+xml' and 303-redirects to B in response, it tells you
absolutely nothing.

And that is a problem, ideally there would be some means of labeling a
303 response as part of a set, instead of the only response possible,
to disambiguate whether the resource is a document or a thing...  Ah,
but there is, RFC 2068's Alternates header -- if it's present then the
resource is most likely an IR, if it's absent the resource is most
likely a thing.

&gt;
&gt; &gt; If we can define a resource as "404 response page" we can serve a
&gt; &gt; representation of it anywhere we need to.  In which case, the
&gt; &gt; request for a nonexistent resource returns a representation of some
&gt; &gt; other resource, i.e. "404 response page".  The 404 response message
&gt; &gt; body isn't a representation of the requested resource, but the 404
&gt; &gt; response itself is.
&gt; 
&gt; I don't see the point you're making.
&gt;

The point I'm trying to make, is that the set of representations for a
resource is not limited to 200 OK responses.  I probably should have
used 406 and 503 as examples.  A 406 representation comes about when
there's no representation matching the Accept headers sent by the
client.  A 503 response is a temporal member of the resource's set of
representations.  Neither one may be taken to mean the resource is or
is not a document -- reloading may yield a 200 OK.

&gt; 
&gt; &gt; 303 and 404 representations of a requested URI
&gt; &gt; indicate the value of _some other resource_.
&gt; 
&gt; Now you're confusing me, how can a return code be considered a
&gt; representation? It's teh result of dereferencing, it's not a
&gt; representation of anything.
&gt; 

If you're looking at a 503 response page, you're looking at a
representation of the dereferenced resource.  The response code, is
part of the representation.  Quoting REST again:

"REST components perform actions on a resource by using a
representation to capture the current or intended state of that
resource and transferring that representation between components. A
representation is a sequence of bytes, plus representation metadata to
describe those bytes."

A 503 response, is a representation of the state of the dereferenced
resource, i.e. "busy - check back later".  The sequence of bytes
returned in response to the request, is defined as a representation of
the requested resource.  The set of temporally varying representations
of the requested resource, temporarily includes a 503 response in such
a case.

&gt; 
&gt; Let's put it back into context of what the original question was:
&gt; 
&gt; =====
&gt; It's possible to use content negotiation for an aspect of the
&gt; exchange.  If the metadata and multimedia were considered different
&gt; representations of the same resource, they could be distinguished by
&gt; media type and fetched separately by using the Accept header.
&gt; =====
&gt; 
&gt; So I will stand by my previous explanation:
&gt; 1. Metadata about a resource is *not* a representation of that
&gt; resource. It's something else.
&gt;
&gt; 2. If you 303, you distinguish by *url* because you redirect somewhere
&gt; 
&gt; Fundamentally, it comes down to what the url you're dereferencing is:
&gt; a. it's a document, because you got a 200 using any combination of
&gt; headers. You now *know* that this is a document and not an IR. So
&gt; when you return a 303 from /customer.html because it has an Accept"
&gt; application/xml+rdf, you say that querying a document with Accept:
&gt; application/rdf+xml has a response at another location. To me this is
&gt; wrong, and exactly what the Link: header should cover. 
&gt;

OK, I think I see what you're saying.  Responding 406 with a Link
header is preferable to a 303 response?  Maybe.  Maybe not.  Reasonable
people may disagree on this point, as allowed by the spec:

http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.7

I would suggest that if a client is using q=0 in the Accept headers,
then a 406 with a Link header is the most appropriate response.
However, 4xx responses indicate failure due to an error on the client's
part, was it really so wrong of the client to request RDF for the
resource?  Bad client!  Very bad client!  ;-)  No, I don't think so.

Servers are allowed to return 303 in such a case, and a 303 response
could even include multiple Link headers if there are multiple
resources which describe the requested resource.  I don't see the need
to rule this out, "confusion" is far too subjective a reason to forbid
a practice which doesn't break Web architecture and accomplishes the
same goal, for the restrictive sake of having only one anointed method.

&gt;
&gt; b. It's a thing as far as you know, because you have no known 200
&gt; response when dereferencing. Again it's a fragile assertion to make,
&gt; but in that case the 303 return is more acceptable.
&gt; 

If I get a 303 response, then as far as I know it could be anything.
If that 303 response has an Alternates header then I'm pretty sure an
IR was dereferenced, and I have a list of URLs to check for 200 OK
responses to confirm that suspicion.  Without checking, or without an
Alternates header, then I can't assume it's a thing, parsing is
required.

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10783<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-05-15 14:03:08<br>
Subject:Re: [rest-discuss] auto-discovery of multiple representation types<br>
Message:<br><br>
<pre>Eric J. Bowman wrote:
&gt; ...
&gt; Exactly, and that's why RFC 2068 serves as the foundation of WebDAV,
&gt; that was the state of HTTP 1.1 at the time WebDAV was finalized. Thus
&gt; were the PATCH method and Link header, etc. written into law...
&gt; ...

Nit: WebDAV nowadays is defined by RFC4918, which *is* based on RFC2616.

&gt; I will grant that RFCs are an imperfect solution, but I won't argue
&gt; with their success either. You realize there are errors in RFC 2616,
&gt; right? That doesn't mean you really MUST NOT cache 303 responses, in
&gt; slavish devotion to the letter of the law. Absolute law is the
&gt; antithesis of trial by jury, and I think some folks are seeing a similar
&gt; level of constraint in RFCs that was never the intent of the IETF.
&gt; 
&gt; But, the cachability of 303 responses despite what the spec says, is
&gt; something you have to just "know" by reading the spec authors'
&gt; responses to feedback concerning the issue (or by asking them outright).
&gt; No system is perfect.

Or, the issue tracker: &lt;http://tools.ietf.org/wg/httpbis/trac/ticket/70&gt;.

&gt; A resource can be anything, an IR is limited to documents which may be
&gt; dereferenced using HTTP. A person can't be identified by the same URI
&gt; that identifies a document about that person. The person is a
&gt; resource, the document is an IR, using the same URI for both is a
&gt; collision because they are not the same resource.
&gt; 
&gt; My interpretation of httpRange-14, is that if the URI identifies a
&gt; person then it MUST NOT return 200 OK, at all, ever. I do not take
&gt; this to mean that if a URI identifies a document it MUST NOT return
&gt; 303, at all, ever.

I think that interpretation is not correct. For 200, you simply don't know.

&gt;  &gt; &gt; 303 and 404 representations of a requested URI
&gt;  &gt; &gt; indicate the value of _some other resource_.
&gt;  &gt;
&gt;  &gt; Now you're confusing me, how can a return code be considered a
&gt;  &gt; representation? It's teh result of dereferencing, it's not a
&gt;  &gt; representation of anything.
&gt;  &gt;
&gt; 
&gt; If you're looking at a 503 response page, you're looking at a
&gt; representation of the dereferenced resource. The response code, is
&gt; part of the representation. Quoting REST again:
&gt; 
&gt; "REST components perform actions on a resource by using a
&gt; representation to capture the current or intended state of that
&gt; resource and transferring that representation between components. A
&gt; representation is a sequence of bytes, plus representation metadata to
&gt; describe those bytes."
&gt; 
&gt; A 503 response, is a representation of the state of the dereferenced
&gt; resource, i.e. "busy - check back later". The sequence of bytes
&gt; returned in response to the request, is defined as a representation of
&gt; the requested resource. The set of temporally varying representations
&gt; of the requested resource, temporarily includes a 503 response in such
&gt; a case.

Not convinced.

A 503 response is not a representation of the resource you asked for.

It may be (as Roy just pointed out on the http mailing list) a 
representation of an error resource, but that's it.

 &gt; ...

BR, Julian


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10784<br>
Sender:"Daniel Yokomizo" &lt;daniel.yokomizo@...&gt;<br>
Post Date/Time:2008-05-15 14:17:22<br>
Subject:Re: [rest-discuss] character encodings and binary data and URLs<br>
Message:<br><br>
<pre>On Thu, May 15, 2008 at 10:02 AM, zooko &lt;zooko@...&gt; wrote:
&gt; Dear people of rest-discuss:
&gt;
&gt; What's the right way to specify character encoding in URLs, POST
&gt; forms, and JSON-encoded data?
&gt;
&gt; I work on an open source secure, decentralized filesystem -- the
&gt; "Tahoe" Least-Authority Filesystem [1] -- with a RESTful API [2].
&gt;
&gt; We need to decide, when the user specifies a filename, either in the
&gt; URL or in a POST form, or or when the server returns a filename to
&gt; the user in an HTTP response, what character encoding to use.
&gt;
&gt; Our current rules are like this:
&gt;
&gt; 1.  Filenames in URLs are always utf-8 encoded.  So after splitting
&gt; on "/" to get individual segments, we utf-8 decode each segment
&gt; before doing anything else with it.

This is a reference (together with RFC1738 and RFC3986) I use to solve
URL encoding issues:
http://www.blooberry.com/indexdot/html/topics/urlencoding.htm

Assuming UTF-8 is kind of tricky though, you depend on clients using
UTF-8 which is the default for URI schemes that follow RFC3986 but
many common URI schemes predate the RFC. AFAIK assuming UTF-8 don't
hurt too much.

&gt; 2.  POST forms have a _charset field which specifies the encoding of
&gt; all the values in the form, and if not present it is assumed to be
&gt; utf-8.

The Content-Type header can have a charset parameter (see 14.17). So
the server can see it to check for the charset:

Content-Type: text/html; charset=ISO-8859-4

To overcome browser deficiencies you may want to use a hidden field to
indicate that it overrides the header (e.g.
X-HTTP-Header-Override-Content-Type) and use it as a convention in the
server (while supporting the behavior from non browser clients).

&gt; 3.  Responses are encoded in JSON, so the filenames are in unicode.

Response should also use Content-Type with charset.

&gt; It seems unfortunate to constrain users of our system to unicode
&gt; filenames, and further to constrain them to utf-8 encoding, but I
&gt; can't think of another alternative which doesn't leave things
&gt; underspecified.
&gt;
&gt; Are these type of rules for encoding fairly standard in the REST world?
&gt;
&gt; Thanks!
&gt;
&gt; Regards,
&gt;
&gt; Zooko
&gt;
&gt; [1] http://allmydata.org
&gt; [2] http://allmydata.org/trac/tahoe/browser/docs/webapi.txt

Best regards,
Daniel Yokomizo.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10785<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-05-15 14:41:59<br>
Subject:Re: [rest-discuss] S/W engineering radio webcast comments<br>
Message:<br><br>
<pre>
On May 15, 2008, at 2:46 AM, Sean Kennedy wrote:
&gt; He goes on to say  "the architectural principles you see in the REST  
&gt; style, they are present in the WS-* technology.

These are two *distinct* architectural styles. Not sure what he is  
trying to sell.

Regards,
Subbu

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10786<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2008-05-16 09:45:14<br>
Subject:Re: [rest-discuss] S/W engineering radio webcast comments<br>
Message:<br><br>
<pre>
On May 15, 2008, at 4:41 PM, Subbu Allamaraju wrote:

&gt;
&gt; On May 15, 2008, at 2:46 AM, Sean Kennedy wrote:
&gt;&gt; He goes on to say  "the architectural principles you see in the REST
&gt;&gt; style, they are present in the WS-* technology.
&gt;
&gt; These are two *distinct* architectural styles.

Take it even further: Whatever WS-* is, it is definitely not an  
architectural style because it does not constrain anything.

Jan


&gt; Not sure what he is
&gt; trying to sell.
&gt;
&gt; Regards,
&gt; Subbu
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;


--
Jan Algermissen
INTAKI . http://www.intaki.com/






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10787<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-05-17 15:43:25<br>
Subject:Re: [rest-discuss] S/W engineering radio webcast comments<br>
Message:<br><br>
<pre>Subbu Allamaraju wrote:
&gt; 
&gt; 
&gt; 
&gt; On May 15, 2008, at 2:46 AM, Sean Kennedy wrote:
&gt;  &gt; He goes on to say "the architectural principles you see in the REST
&gt;  &gt; style, they are present in the WS-* technology.
&gt; 
&gt; These are two *distinct* architectural styles. Not sure what he is
&gt; trying to sell.

Not sell, rationalise, the investment in WS-*. When you take out the 
security and reliable messaging stuff, WS-* looks like a bad bet. In 
other technology cycles it might have be fine, but there was enough 
solid criticism of the WS-* approach from very early on that it's hard 
to position moving away from it as a learning or evolutionary matter.

And I can relate with Sean's statement on where the (mobile) telco 
industry is going. I can't see SOAP based S/MMSCs and their ilk being 
around for the long haul. Mobile operators have become quite savvy on 
web architecture, they just don't go about it as much as the webcos.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10788<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-05-19 18:37:57<br>
Subject:Re: [rest-discuss] auto-discovery of multiple representation types<br>
Message:<br><br>
<pre>&gt; 
&gt; Nit: WebDAV nowadays is defined by RFC4918, which *is* based on
&gt; RFC2616.
&gt; 

Oops, forgot about that, thanks!  Doesn't change the point, which is
that for eight years (and counting, I'm sure there are still legacy
implementations) both RFC 2068 and RFC 2616 were official, overlapping
definitions of HTTP. I'm sure if I looked I could find other examples,
but I think the onus is on those who claim RFC 2068 became deprecated
in 1999, to prove that the WebDAV case is some sort of aberration in
terms of major IETF standards.

&gt; 
&gt; &gt; A resource can be anything, an IR is limited to documents which may
&gt; &gt; be dereferenced using HTTP. A person can't be identified by the
&gt; &gt; same URI that identifies a document about that person. The person
&gt; &gt; is a resource, the document is an IR, using the same URI for both
&gt; &gt; is a collision because they are not the same resource.
&gt; &gt; 
&gt; &gt; My interpretation of httpRange-14, is that if the URI identifies a
&gt; &gt; person then it MUST NOT return 200 OK, at all, ever. I do not take
&gt; &gt; this to mean that if a URI identifies a document it MUST NOT return
&gt; &gt; 303, at all, ever.
&gt; 
&gt; I think that interpretation is not correct. For 200, you simply don't
&gt; know.
&gt; 

You're right, but only in the case of hash URIs.  I forgot about that,
too.

&gt;
&gt; &gt;  &gt; &gt; 303 and 404 representations of a requested URI
&gt; &gt;  &gt; &gt; indicate the value of _some other resource_.
&gt; &gt;  &gt;
&gt; &gt;  &gt; Now you're confusing me, how can a return code be considered a
&gt; &gt;  &gt; representation? It's teh result of dereferencing, it's not a
&gt; &gt;  &gt; representation of anything.
&gt; &gt;  &gt;
&gt; &gt; 
&gt; &gt; If you're looking at a 503 response page, you're looking at a
&gt; &gt; representation of the dereferenced resource. The response code, is
&gt; &gt; part of the representation. Quoting REST again:
&gt; &gt; 
&gt; &gt; "REST components perform actions on a resource by using a
&gt; &gt; representation to capture the current or intended state of that
&gt; &gt; resource and transferring that representation between components. A
&gt; &gt; representation is a sequence of bytes, plus representation metadata
&gt; &gt; to describe those bytes."
&gt; &gt; 
&gt; &gt; A 503 response, is a representation of the state of the dereferenced
&gt; &gt; resource, i.e. "busy - check back later". The sequence of bytes
&gt; &gt; returned in response to the request, is defined as a representation
&gt; &gt; of the requested resource. The set of temporally varying
&gt; &gt; representations of the requested resource, temporarily includes a
&gt; &gt; 503 response in such a case.
&gt; 
&gt; Not convinced.
&gt; 
&gt; A 503 response is not a representation of the resource you asked for.
&gt; 
&gt; It may be (as Roy just pointed out on the http mailing list) a 
&gt; representation of an error resource, but that's it.
&gt; 

Let me re-write my last message a bit, then:  "If you're looking at a
503 response page, you're looking at a representation of some other
resource...  A 503 response, is a representation of the 'busy - check
back back later' resource.  The sequence of bytes returned in
response to the request, is defined as a representation of the 503
resource. The 503 response status code indicates the state of the
requested resource, i.e. 'busy - check back later'.  The client may
serve a cached representation of the requested resource, even if stale."

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10789<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-05-19 19:34:59<br>
Subject:RE: [rest-discuss] auto-discovery of multiple representation types<br>
Message:<br><br>
<pre>&gt; but I think the onus is on those who claim RFC 2068 became deprecated
&gt; in 1999, to prove that the WebDAV case is some sort of aberration in
&gt; terms of major IETF standards.

I was making no such point. I was saying that the argument that in all those
years no one had the time to redefine http through a new rfc to complete
what the apparent lack of time in completing 2616 left out was fairly over
the top, and that considering you should "know" both rfc apply when 2616 is
not explicit about that is not the easiest way to push people to evaluate
Link: or any other things defined in 2068. And I make the point that an rfc
that obsolete another rfc doesn't complete it but replace it.

That doesn't mean I don't like what I see in Link:. It means I think http
should be cleaned and a new spec defined to clean up the previous one. Call
it http 1.1 revision 1 or http 1.2, it doesn't change the fundamental that
the current document is ageing.


Seb


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10790<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-05-19 20:26:46<br>
Subject:Re: [rest-discuss] auto-discovery of multiple representation types<br>
Message:<br><br>
<pre>It's worth having a look at Roy's ApacheCon talk from April this year.

You can see the video [1] or go straight to the slides [2]. The call
to action for Apache 3.0 is on slide 39 and includes:

"All APIs are based on Waka
- get those sticky hands off my data structures"

Waka [3] and HTTP/2.x get addressed on slides 49 to 69

Example of HTTP/2.x Syntax (slide 65):

G http://kiwi.ics.uci.edu:8080/Test/hello.html
HTTP20\r\n
\r\n

HTTP20 200\r\n
DT:47FC71DD\r\n
CT:t/html\r\n
CL:en\r\n
TE:c\r\n
ET:"a797cd-465af"\r\n
CC:ma=3600\r\n
VY:AL\r\n
\r\n
4090\r\n
&lt;HTML&gt;&lt;HEAD&gt;


Example of Waka Syntax (slide 66):

waka22\r\n
QAG100#http://kiwi.ics.uci.edu:8080/Test/hello.html
SSakaw\r\n

waka22\r\n
RAG120#http://kiwi.ics.uci.edu:8080/Test/hello.html
D847FC71DDCT6t/htmlCL2enTEL1c0ETCa797cd-465afCCLmav36VYL2AL0
D2h4&lt;HTML&gt;&lt;HEAD&gt;

[1] http://streaming.linux-magazin.de/events/apacheconfree/archive/rfielding/frames-java.htm
[2] http://www.slideshare.net/royfielding/apache-30-a-tall-tale
[3] http://del.icio.us/alan.dean/waka

Regards,
Alan Dean

On Mon, May 19, 2008 at 8:34 PM, Sebastien Lambla &lt;seb@serialseb.com&gt; wrote:
&gt;&gt; but I think the onus is on those who claim RFC 2068 became deprecated
&gt;&gt; in 1999, to prove that the WebDAV case is some sort of aberration in
&gt;&gt; terms of major IETF standards.
&gt;
&gt; I was making no such point. I was saying that the argument that in all those
&gt; years no one had the time to redefine http through a new rfc to complete
&gt; what the apparent lack of time in completing 2616 left out was fairly over
&gt; the top, and that considering you should "know" both rfc apply when 2616 is
&gt; not explicit about that is not the easiest way to push people to evaluate
&gt; Link: or any other things defined in 2068. And I make the point that an rfc
&gt; that obsolete another rfc doesn't complete it but replace it.
&gt;
&gt; That doesn't mean I don't like what I see in Link:. It means I think http
&gt; should be cleaned and a new spec defined to clean up the previous one. Call
&gt; it http 1.1 revision 1 or http 1.2, it doesn't change the fundamental that
&gt; the current document is ageing.
&gt;
&gt; Seb
&gt;
&gt; 
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10791<br>
Sender:"Peter Williams" &lt;pezra@...&gt;<br>
Post Date/Time:2008-05-19 21:42:10<br>
Subject:Re: [rest-discuss] Versioning of RESTful services<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10792<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-05-20 01:11:17<br>
Subject:Re: [rest-discuss] Versioning of RESTful services<br>
Message:<br><br>
<pre>As long as the changes are compatible, the version identifier is  
redundant.

But when it comes to incompatible changes, all bets are off anyway.  
Does it matter whether a the server designates a new set of URIs or  
relies on conneg as you are proposing?

Subbu

On May 19, 2008, at 2:42 PM, Peter Williams wrote:

&gt; In rest-discuss@yahoogroups.com, "Miles Crawford" &lt;mcrawfor@...&gt;  
&gt; wrote:
&gt; &gt;
&gt; &gt; My question is about versioning RESTful resources with URIs.
&gt; &gt; I often see as a "best practice" the user of a version number in
&gt; &gt;  URIs such as:
&gt; &gt;
&gt; &gt; /v1/person/{username}
&gt; &gt;
&gt; &gt; and then, if your service changes:
&gt; &gt;
&gt; &gt; /v2/person/{username}
&gt; &gt;
&gt; &gt; So - here's my question.  Say my organization wants to create two
&gt; &gt; services that relate to one another, a generic person service and a
&gt; &gt; student service. How do I avoid loops that cause troubles with  
&gt; version
&gt; &gt; numbers?
&gt;
&gt; Personally, I am quite uncomfortable with the idea mangling my URIs  
&gt; with a version number.  The issue you are asking about here is  
&gt; definitely one of the reasons.  Using content negotiation handle  
&gt; REST/HTTP service versioning works much better, in my experience.  I  
&gt; have written about such an approach at &lt;http://pezra.barelyenough.org/blog/2008/05/versioning-rest-web-services/ 
&gt; &gt; if you are interested.
&gt;
&gt; --
&gt; Peter Willams
&gt; http://pezra.barelyenough.org
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10793<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-05-20 01:34:02<br>
Subject:Re: [rest-discuss] Versioning of RESTful services<br>
Message:<br><br>
<pre>copied to the list (sorry, bout that...)

On Mon, May 19, 2008 at 9:33 PM, mike amundsen &lt;mca@...&gt; wrote:
&gt; I've thought about this one and one possible way to look at it is this:
&gt;
&gt; If you use a "fully-hypermedia" document model (i.e. you have a single
&gt; bookmark into the application and then serve all other links via the
&gt; response documents), then using a different media type can handle all
&gt; the reasonable details of versioning your application.
&gt;
&gt; The 'entry URI' (bookmarkable link) could determine the proper
&gt; response based on the media type and:
&gt; - serve up the proper document for this version (including the links
&gt; appropriate for this version)
&gt; - redirect (301) to an entirely new URI that contains the proper
&gt; version of the document w/ links for the apprpriate version)
&gt; - eventually return 415 (unsupported media type) for versions that
&gt; have been 'deprecated' completely.
&gt;
&gt; This begs the question of how to handle 'deep linking' cases where the
&gt; client has bookmarked other URI for your server application. Yeah, the
&gt; messy part[grin]. As long as you are using custom media types, most of
&gt; this will 'automagically' work out fine:
&gt; - links to the 'old version' URI with the 'old version' media type can
&gt; behave as usual (supporting deprecated version of the app)
&gt; - links to the 'old version' with the 'old version' media type can
&gt; result in a redirect (301) (maybe to a warning page, or to workable
&gt; data)
&gt; - links to the 'old version' URI with a new media type will return 415
&gt; (mismatched media types)
&gt; - again, eventually, links to the 'old' URI w/ the 'old' media-type
&gt; can return 415 (we no longer support this version).
&gt;
&gt; In my mental experiments, this means that more thought must go into
&gt; managing the URI set for a server application. Mainly, that you need
&gt; to have some ideas for how to handle a deprecated URI (redirect is not
&gt; safe for some workflow URI). Apps that use this model also need to be
&gt; prepared to handle common web browsers where custom media types are
&gt; usually not workable (expect via scripted Ajax, etc.). In that case,
&gt; media-type resolution for "text/html" should result in the most recent
&gt; version of the server application (ampping more than one media-type to
&gt; a response document). This results in web browsers getting the latest
&gt; version of the app as soon as it's publicly available.
&gt;
&gt; I'd also be interested in Peter's comments on my musings. Am I coming
&gt; close to the way you are thinking/using this pattern?
&gt;
&gt; MIke A
&gt;
&gt;
&gt; On Mon, May 19, 2008 at 9:11 PM, Subbu Allamaraju &lt;subbu@...&gt; wrote:
&gt;&gt; As long as the changes are compatible, the version identifier is
&gt;&gt; redundant.
&gt;&gt;
&gt;&gt; But when it comes to incompatible changes, all bets are off anyway.
&gt;&gt; Does it matter whether a the server designates a new set of URIs or
&gt;&gt; relies on conneg as you are proposing?
&gt;&gt;
&gt;&gt; Subbu
&gt;&gt;
&gt;&gt; On May 19, 2008, at 2:42 PM, Peter Williams wrote:
&gt;&gt;
&gt;&gt;&gt; In rest-discuss@yahoogroups.com, "Miles Crawford" &lt;mcrawfor@...&gt;
&gt;&gt;&gt; wrote:
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt; My question is about versioning RESTful resources with URIs.
&gt;&gt;&gt; &gt; I often see as a "best practice" the user of a version number in
&gt;&gt;&gt; &gt;  URIs such as:
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt; /v1/person/{username}
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt; and then, if your service changes:
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt; /v2/person/{username}
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt; So - here's my question.  Say my organization wants to create two
&gt;&gt;&gt; &gt; services that relate to one another, a generic person service and a
&gt;&gt;&gt; &gt; student service. How do I avoid loops that cause troubles with
&gt;&gt;&gt; version
&gt;&gt;&gt; &gt; numbers?
&gt;&gt;&gt;
&gt;&gt;&gt; Personally, I am quite uncomfortable with the idea mangling my URIs
&gt;&gt;&gt; with a version number.  The issue you are asking about here is
&gt;&gt;&gt; definitely one of the reasons.  Using content negotiation handle
&gt;&gt;&gt; REST/HTTP service versioning works much better, in my experience.  I
&gt;&gt;&gt; have written about such an approach at &lt;http://pezra.barelyenough.org/blog/2008/05/versioning-rest-web-services/
&gt;&gt;&gt; &gt; if you are interested.
&gt;&gt;&gt;
&gt;&gt;&gt; --
&gt;&gt;&gt; Peter Willams
&gt;&gt;&gt; http://pezra.barelyenough.org
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; ------------------------------------
&gt;&gt;
&gt;&gt; Yahoo! Groups Links
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
&gt;
&gt;
&gt; --
&gt; mca
&gt; http://amundsen.com/blog/
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10794<br>
Sender:"Peter Williams" &lt;pezra@...&gt;<br>
Post Date/Time:2008-05-20 04:31:16<br>
Subject:Re: [rest-discuss] Versioning of RESTful services<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10795<br>
Sender:"akleak" &lt;andy@...&gt;<br>
Post Date/Time:2008-05-18 21:58:46<br>
Subject:Stack operations using Rest<br>
Message:<br><br>
<pre>I would like to provide a REST interface to some Stack (Lifo)
collections on my system.

Here is my idea for a restful STACK interface:

&gt;Push (add an item to the top of the stack)
POST /queue (action:create, controller: stack)

&gt; Pop (read the top item, then destroy it)
GET /queue/top (action:read, controller: stack)
DEL /queue/top (action:delete, controller: stack)

What is the best way to implement this??  Any feedback welcome.

Thanks, Andy








</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10796<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-05-20 05:06:25<br>
Subject:Re: [rest-discuss] Stack operations using Rest<br>
Message:<br><br>
<pre>
On May 18, 2008, at 2:58 PM, akleak wrote:

&gt; What is the best way to implement this?? Any feedback welcome.

Other than the way you described?

Subbu

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10797<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-05-20 05:57:10<br>
Subject:Re: [rest-discuss] auto-discovery of multiple representation types<br>
Message:<br><br>
<pre>Sebastien Lambla wrote:
&gt; 
&gt; 
&gt;  &gt; but I think the onus is on those who claim RFC 2068 became deprecated
&gt;  &gt; in 1999, to prove that the WebDAV case is some sort of aberration in
&gt;  &gt; terms of major IETF standards.
&gt; 
&gt; I was making no such point. I was saying that the argument that in all those
&gt; years no one had the time to redefine http through a new rfc to complete
&gt; what the apparent lack of time in completing 2616 left out was fairly over

Well, it takes *much* more than a single person's time to update an RFC 
as important as HTTP/1.1.

Trust me, I know, because that's what we're currently doing in the 
HTTPbis working group.

&gt; the top, and that considering you should "know" both rfc apply when 2616 is
&gt; not explicit about that is not the easiest way to push people to evaluate
&gt; Link: or any other things defined in 2068. And I make the point that an rfc
&gt; that obsolete another rfc doesn't complete it but replace it.

It does replace it, but it doesn't invalidate what was left out. Think 
of it that what's in RFC 2068, but not in RFC 2616, didn't progress 
(yet) on the IETF standards track.

&gt; That doesn't mean I don't like what I see in Link:. It means I think http
&gt; should be cleaned and a new spec defined to clean up the previous one. Call
&gt; it http 1.1 revision 1 or http 1.2, it doesn't change the fundamental that
&gt; the current document is ageing.

That activity started almost two years ago, leading to the IETF forming 
the HTTPbis working group, which has been active for several months now.

BR, Julian



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10798<br>
Sender:Vidar Larsen &lt;vi_larsen@...&gt;<br>
Post Date/Time:2008-05-20 21:27:33<br>
Subject:Re: [rest-discuss] Stack operations using Rest<br>
Message:<br><br>
<pre>
On 18. mai. 2008, at 23.58, akleak wrote:

&gt; I would like to provide a REST interface to some Stack (Lifo)
&gt; collections on my system.
&gt;
&gt; Here is my idea for a restful STACK interface:
&gt;
&gt; &gt;Push (add an item to the top of the stack)
&gt; POST /queue (action:create, controller: stack)
&gt;
&gt; &gt; Pop (read the top item, then destroy it)
&gt; GET /queue/top (action:read, controller: stack)
&gt; DEL /queue/top (action:delete, controller: stack)
&gt;
&gt; What is the best way to implement this?? Any feedback welcome.

The /queue/top resource should act as a reference to the actual top  
element, i.e. you should not DELETE it, as it should still exist while  
there are items left on the stack.

I would have the POST respond with 201 Created, and a Location: uri  
(like /queue/item/{id}) to the new item resource.
Then GET /queue/top could return a 200 OK+representation of the  
topmost item, but use the real uri in the Location:
So the GET whould be more like a 'peek' rather than a proper 'pop'.

To actually 'pop' the stack, you would DELETE the real item uri (/ 
queue/item/{id}), not /queue/top

But, the just deleted item/{id} must not be reused on a future POST  
creation (i.e. push), to guarantee that the item is 404 whenever in  
the future. So after a few pushes and pops, you could  have something  
like

/queue/item/5   &lt;-   /queue/top
/queue/item/4
/queue/item/1
/queue/item/0

If you need to ensure that the user is limited to only removing the  
topmost item, I think you would need to resort to some kind of POST  
to /queue/op with "pop", unless you want to respond with 403 Forbidden  
if the user tries to DELETE anything that is not on top.

--
/vidar




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10799<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-05-20 21:56:55<br>
Subject:Re: [rest-discuss] Stack operations using Rest<br>
Message:<br><br>
<pre>On Sun, May 18, 2008 at 2:58 PM, akleak &lt;andy@...&gt; wrote:
&gt; I would like to provide a REST interface to some Stack (Lifo)
&gt; collections on my system.
&gt;
&gt; Here is my idea for a restful STACK interface:
&gt;
&gt;&gt;Push (add an item to the top of the stack)
&gt; POST /queue (action:create, controller: stack)
&gt;
&gt;&gt; Pop (read the top item, then destroy it)
&gt; GET /queue/top (action:read, controller: stack)
&gt; DEL /queue/top (action:delete, controller: stack)
&gt;
&gt; What is the best way to implement this??  Any feedback welcome.

POST /queue/in
POST /queue/out

Assaf

&gt;
&gt; Thanks, Andy
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10800<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2008-05-21 21:38:15<br>
Subject:Re: [rest-discuss] Stack operations using Rest<br>
Message:<br><br>
<pre>Andy,

what is your use case? Why do you need this 'stack service'.

Jan



On May 18, 2008, at 11:58 PM, akleak wrote:

&gt; I would like to provide a REST interface to some Stack (Lifo)
&gt; collections on my system.
&gt;
&gt; Here is my idea for a restful STACK interface:
&gt;
&gt;&gt; Push (add an item to the top of the stack)
&gt; POST /queue (action:create, controller: stack)
&gt;
&gt;&gt; Pop (read the top item, then destroy it)
&gt; GET /queue/top (action:read, controller: stack)
&gt; DEL /queue/top (action:delete, controller: stack)
&gt;
&gt; What is the best way to implement this??  Any feedback welcome.
&gt;
&gt; Thanks, Andy
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;


--
Jan Algermissen
INTAKI . http://www.intaki.com/






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10801<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-05-22 02:16:21<br>
Subject:Re: [rest-discuss] Stack operations using Rest<br>
Message:<br><br>
<pre>&gt; The /queue/top resource should act as a reference to the actual top
&gt; element, i.e. you should not DELETE it, as it should still exist while
&gt; there are items left on the stack.
&gt;

I disagree. The HTTP RFC says that DELETE is to delete the resource at
the URI said. Popping is deleting the topmost uri. Allowing Deletes
directly on elements would be wrong as that would allow you to delete
any element( unless you hack through a solution in which every
resource checks whether it is the topmost resource before getting
deleted).

Delete the TOP just does that .. delete the current top. How does it
matter if after that another element becomes the top?

Again, there might be arguments against what I just said , but the
increase in coupling caused by any other solution imho makes for an
overwhelming choice for this option.

In short, I like the OPs solution.

Regards
Devdatta

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10802<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-05-22 02:42:12<br>
Subject:Re: [rest-discuss] Stack operations using Rest<br>
Message:<br><br>
<pre>On Wed, May 21, 2008 at 7:16 PM, dev &lt;dev.akhawe@...&gt; wrote:
&gt;&gt; The /queue/top resource should act as a reference to the actual top
&gt;&gt; element, i.e. you should not DELETE it, as it should still exist while
&gt;&gt; there are items left on the stack.
&gt;&gt;
&gt;
&gt; I disagree. The HTTP RFC says that DELETE is to delete the resource at
&gt; the URI said. Popping is deleting the topmost uri. Allowing Deletes
&gt; directly on elements would be wrong as that would allow you to delete
&gt; any element( unless you hack through a solution in which every
&gt; resource checks whether it is the topmost resource before getting
&gt; deleted).

It would be very helpful to envision how this GET/DELETE scheme would
actually work.

So two clients make a GET request to /top, do they both get to see the
same element?  That would be a pick, but if both deleted /top, the
stack would be two elements short, and only one was ever seen.

Or each GET is a different element and somehow the DELETE is
correlated to that GET.  Where is that state conveyed?

Assaf


&gt;
&gt; Delete the TOP just does that .. delete the current top. How does it
&gt; matter if after that another element becomes the top?
&gt;
&gt; Again, there might be arguments against what I just said , but the
&gt; increase in coupling caused by any other solution imho makes for an
&gt; overwhelming choice for this option.
&gt;
&gt; In short, I like the OPs solution.
&gt;
&gt; Regards
&gt; Devdatta
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10803<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-05-22 02:55:03<br>
Subject:Re: [rest-discuss] Stack operations using Rest<br>
Message:<br><br>
<pre>&gt;
&gt; So two clients make a GET request to /top, do they both get to see the
&gt; same element?
Ofcourse!

&gt;That would be a pick, but if both deleted /top, the
&gt; stack would be two elements short, and only one was ever seen.

Thats similar to the problem caused when two threads concurrently
access a stack. I personally don't see anything wrong with that but If
you really don't want something like this happening, then you can ask
the client to send the hash or something of the resource it wants to
delete. Or maybe the pop could be done via a POST instead of DELETE.
My orignal point was that making the DELETE on the element instead of
'top' would break the semantics with which a stack is thought up and
used. whatever you do with the stack has to be via the TOP and not
through the individual resource.

Regards
Devdatta


&gt; Or each GET is a different element and somehow the DELETE is
&gt; correlated to that GET. Where is that state conveyed?
&gt;
&gt; Assaf
&gt;
&gt;&gt;
&gt;&gt; Delete the TOP just does that .. delete the current top. How does it
&gt;&gt; matter if after that another element becomes the top?
&gt;&gt;
&gt;&gt; Again, there might be arguments against what I just said , but the
&gt;&gt; increase in coupling caused by any other solution imho makes for an
&gt;&gt; overwhelming choice for this option.
&gt;&gt;
&gt;&gt; In short, I like the OPs solution.
&gt;&gt;
&gt;&gt; Regards
&gt;&gt; Devdatta
&gt;&gt;
&gt;&gt; ------------------------------------
&gt;&gt;
&gt;&gt; Yahoo! Groups Links
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10804<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-05-22 03:09:49<br>
Subject:Re: [rest-discuss] Stack operations using Rest<br>
Message:<br><br>
<pre>Sounds like a job for a conditional DELETE using Etags.

-Eric

dev wrote:

&gt; &gt;
&gt; &gt; So two clients make a GET request to /top, do they both get to see
&gt; &gt; the same element?
&gt; Ofcourse!
&gt; 
&gt; &gt;That would be a pick, but if both deleted /top, the
&gt; &gt; stack would be two elements short, and only one was ever seen.
&gt; 
&gt; Thats similar to the problem caused when two threads concurrently
&gt; access a stack. I personally don't see anything wrong with that but If
&gt; you really don't want something like this happening, then you can ask
&gt; the client to send the hash or something of the resource it wants to
&gt; delete. Or maybe the pop could be done via a POST instead of DELETE.
&gt; My orignal point was that making the DELETE on the element instead of
&gt; 'top' would break the semantics with which a stack is thought up and
&gt; used. whatever you do with the stack has to be via the TOP and not
&gt; through the individual resource.
&gt; 
&gt; Regards
&gt; Devdatta
&gt; 
&gt; 
&gt; &gt; Or each GET is a different element and somehow the DELETE is
&gt; &gt; correlated to that GET. Where is that state conveyed?
&gt; &gt;
&gt; &gt; Assaf
&gt; &gt;
&gt; &gt;&gt;
&gt; &gt;&gt; Delete the TOP just does that .. delete the current top. How does
&gt; &gt;&gt; it matter if after that another element becomes the top?
&gt; &gt;&gt;
&gt; &gt;&gt; Again, there might be arguments against what I just said , but the
&gt; &gt;&gt; increase in coupling caused by any other solution imho makes for an
&gt; &gt;&gt; overwhelming choice for this option.
&gt; &gt;&gt;
&gt; &gt;&gt; In short, I like the OPs solution.
&gt; &gt;&gt;
&gt; &gt;&gt; Regards
&gt; &gt;&gt; Devdatta
&gt; &gt;&gt;
&gt; &gt;&gt; ------------------------------------
&gt; &gt;&gt;
&gt; &gt;&gt; Yahoo! Groups Links
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;
&gt; &gt; 
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10805<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-05-22 03:11:30<br>
Subject:Re: [rest-discuss] Stack operations using Rest<br>
Message:<br><br>
<pre>On Wed, May 21, 2008 at 7:55 PM, dev &lt;dev.akhawe@...&gt; wrote:
&gt;&gt;
&gt;&gt; So two clients make a GET request to /top, do they both get to see the
&gt;&gt; same element?
&gt; Ofcourse!
&gt;
&gt;&gt;That would be a pick, but if both deleted /top, the
&gt;&gt; stack would be two elements short, and only one was ever seen.
&gt;
&gt; Thats similar to the problem caused when two threads concurrently
&gt; access a stack. I personally don't see anything wrong with that but If
&gt; you really don't want something like this happening, then you can ask
&gt; the client to send the hash or something of the resource it wants to
&gt; delete. Or maybe the pop could be done via a POST instead of DELETE.
&gt; My orignal point was that making the DELETE on the element instead of
&gt; 'top' would break the semantics with which a stack is thought up and
&gt; used. whatever you do with the stack has to be via the TOP and not
&gt; through the individual resource.

If I had a stack which lets you do:

top = stack.get();
top.discard();

That would still be a stack, even through your discarding from the
element, not the stack.

I think DELETE /top is correct for some semantics, you can imagine
there's only resource which you place and remove an element from.  And
the moment you remove that resource, someone else goes and creates
that resource again. There are other ways to do stacks with entirely
different semantics.

Assaf

&gt;
&gt; Regards
&gt; Devdatta
&gt;
&gt;
&gt;&gt; Or each GET is a different element and somehow the DELETE is
&gt;&gt; correlated to that GET. Where is that state conveyed?
&gt;&gt;
&gt;&gt; Assaf
&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Delete the TOP just does that .. delete the current top. How does it
&gt;&gt;&gt; matter if after that another element becomes the top?
&gt;&gt;&gt;
&gt;&gt;&gt; Again, there might be arguments against what I just said , but the
&gt;&gt;&gt; increase in coupling caused by any other solution imho makes for an
&gt;&gt;&gt; overwhelming choice for this option.
&gt;&gt;&gt;
&gt;&gt;&gt; In short, I like the OPs solution.
&gt;&gt;&gt;
&gt;&gt;&gt; Regards
&gt;&gt;&gt; Devdatta
&gt;&gt;&gt;
&gt;&gt;&gt; ------------------------------------
&gt;&gt;&gt;
&gt;&gt;&gt; Yahoo! Groups Links
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10806<br>
Sender:"wahbedahbe" &lt;andrew.wahbe@...&gt;<br>
Post Date/Time:2008-05-22 03:46:55<br>
Subject:Re: Stack operations using Rest<br>
Message:<br><br>
<pre>The problem with using DELETE on /queue/top to implement pop is that
it's not an idempotent operation.

--- In rest-discuss@yahoogroups.com, dev &lt;dev.akhawe@...&gt; wrote:
&gt;
&gt; &gt; The /queue/top resource should act as a reference to the actual top
&gt; &gt; element, i.e. you should not DELETE it, as it should still exist while
&gt; &gt; there are items left on the stack.
&gt; &gt;
&gt; 
&gt; I disagree. The HTTP RFC says that DELETE is to delete the resource at
&gt; the URI said. Popping is deleting the topmost uri. Allowing Deletes
&gt; directly on elements would be wrong as that would allow you to delete
&gt; any element( unless you hack through a solution in which every
&gt; resource checks whether it is the topmost resource before getting
&gt; deleted).
&gt; 
&gt; Delete the TOP just does that .. delete the current top. How does it
&gt; matter if after that another element becomes the top?
&gt; 
&gt; Again, there might be arguments against what I just said , but the
&gt; increase in coupling caused by any other solution imho makes for an
&gt; overwhelming choice for this option.
&gt; 
&gt; In short, I like the OPs solution.
&gt; 
&gt; Regards
&gt; Devdatta
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10807<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-05-22 04:25:41<br>
Subject:Re: [rest-discuss] Re: Stack operations using Rest<br>
Message:<br><br>
<pre>Good point. Is this a theoretical problem or is there is a real use  
case behind the original question?

Subbu

On May 21, 2008, at 8:46 PM, wahbedahbe wrote:

&gt; The problem with using DELETE on /queue/top to implement pop is that
&gt; it's not an idempotent operation.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10808<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-05-22 06:37:32<br>
Subject:Re: Workflow<br>
Message:<br><br>
<pre>* erlingwl &lt;erlingwl@...&gt; [2008-05-05 10:05]:
&gt; However, I have run into a little problem, some issue trackers
&gt; have workflow constraints that depends on the state.. For
&gt; instance an issue cannot be reopened if it isn't resolved or
&gt; closed. Furthermore, let's say I have a resolved issue but I'm
&gt; conducting a PUT with state = "Open".

Then the server should return 409, since trying to PUT the status
Open to the bug conflicts with the current state of the resource.
That is a textbook application of 409, in fact.


* erlingwl &lt;erlingwl@...&gt; [2008-05-05 11:45]:
&gt; Okay, but doesn't this break with the REST Server-side
&gt; statelessness principle? Hmm.. I thought maybe that
&gt; incrementing state would be just as wrong as incrementing a
&gt; value.. but as you say, the client do know the state, and it
&gt; sends the new state with the PUT.. 

The statelessness issue is highly misunderstood. The server
obviously *has* to keep state *somehow*, no? Otherwise, how could
it ever store the content of a PUT?

No, what statelessness means is that the server should not keep
track of what the client has done in previous requests
implicitly. State on the server should be resource state, ie.
exposed through a resource available under a URI and manipulated
by the client explicitly via the verbs other than GET. Client
state, or application state in REST lingo, remains on the client.

Remember that REST means Representational State Transfer? That is
exactly what that term means: the server affects the application
state on the client by sending a representations of a resource,
and likewise the client affects resource state on the server by
sending a representation of a resource.


Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10809<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-05-22 06:41:12<br>
Subject:Re: HTTP/1.1 and other HTTP<br>
Message:<br><br>
<pre>* dev &lt;dev.akhawe@...&gt; [2008-05-05 22:05]:
&gt; I am too young to know about the HTTP design part :). But do
&gt; you have any references stating "primary goal of REST is to
&gt; enable fragmented change" ?

Roy explains the rationale briefly in this talk:
http://www.parleys.com/display/PARLEYS/A+little+REST+and+Relaxation

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10810<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-05-22 09:03:28<br>
Subject:RE: [rest-discuss] Re: Stack operations using Rest<br>
Message:<br><br>
<pre>Shouldn't the /stack/top simply do a 303 SEE OTHER to Location: stack/item21
on which you can then do your delete?

That makes the DELETE idempotent, as you'd only ever be able to DELETE on
the returned resource. Of course earch resource need to check if it's on the
top of the queue before accepting a delete request, but as your resource is
stack specific, and may in fact simply be a pointer to the resource that has
been queued.

Seb

-----Original Message-----
From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On
Behalf Of wahbedahbe
Sent: 22 May 2008 04:47
To: rest-discuss@yahoogroups.com
Subject: [rest-discuss] Re: Stack operations using Rest

The problem with using DELETE on /queue/top to implement pop is that
it's not an idempotent operation.

--- In rest-discuss@yahoogroups.com, dev &lt;dev.akhawe@...&gt; wrote:
&gt;
&gt; &gt; The /queue/top resource should act as a reference to the actual top
&gt; &gt; element, i.e. you should not DELETE it, as it should still exist while
&gt; &gt; there are items left on the stack.
&gt; &gt;
&gt; 
&gt; I disagree. The HTTP RFC says that DELETE is to delete the resource at
&gt; the URI said. Popping is deleting the topmost uri. Allowing Deletes
&gt; directly on elements would be wrong as that would allow you to delete
&gt; any element( unless you hack through a solution in which every
&gt; resource checks whether it is the topmost resource before getting
&gt; deleted).
&gt; 
&gt; Delete the TOP just does that .. delete the current top. How does it
&gt; matter if after that another element becomes the top?
&gt; 
&gt; Again, there might be arguments against what I just said , but the
&gt; increase in coupling caused by any other solution imho makes for an
&gt; overwhelming choice for this option.
&gt; 
&gt; In short, I like the OPs solution.
&gt; 
&gt; Regards
&gt; Devdatta
&gt;



------------------------------------

Yahoo! Groups Links





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10811<br>
Sender:Martin Grotzke &lt;mg@...&gt;<br>
Post Date/Time:2008-05-22 12:59:34<br>
Subject:Resource design - items and item categories<br>
Message:<br><br>
<pre>Hi all,

I have a question concerning a resource design: I want to provide a
resource for items, and the user shall be able to restrict the result to
certain item categories:

GET /items?cat={cat}&amp;cat={cat}

When no category is specified, all items shall be returned.

Additionally I want the user to retrieve a list of all available
categories. I can think of this resource:

GET /items/categories

Are there better alternatives for retrieving a list of available
categories?

Thanx for your suggestions,
cheers,
Martin


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10812<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-05-22 13:13:06<br>
Subject:Re: [rest-discuss] Resource design - items and item categories<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10813<br>
Sender:"wahbedahbe" &lt;andrew.wahbe@...&gt;<br>
Post Date/Time:2008-05-22 14:42:22<br>
Subject:Re: Stack operations using Rest<br>
Message:<br><br>
<pre>Ya that works.
It also allows you to make sure that only one client successfully
deletes the item, effectively transferring the item to that one client.

But after your 2 GETs and 1 DELETE (and possibly multiple rounds of
this if another client beats you to the DELETE) you really have to ask
yourself what you've gained over the 1 POST solution.

The one flaw in all these solutions though is that they are not
tolerant of a dropped connection or timeout. For example, what if you
never get the response to the DELETE, there's no way to know if you
were the one to successfully delete the item. The POST solution has a
similar flaw (though you can fix it), because you don't know which
item was returned to you in the response if you never got it. 

You can fix the POST solution by changing it so that you POST a URI of
a bucket that you want to move the item to (I suppose you could just
MOVE it if you are so inclined). Each bucket belongs to a different
client. (You can also turn this around by POSTing to your bucket the
URI of the stack you want to pop an item from.) You can then delete
items from your bucket at your leisure.

If you are allergic to POST then you could PUT your client's bucketId
to /stack/item21/owner which moves the item to the bucket (i.e.
because you make it so that /buckets/&lt;bucketId&gt;/ contains all items
with an owner of &lt;bucketId&gt; and /stack/top points to the first item
with no owner).

Andrew Wahbe

--- In rest-discuss@yahoogroups.com, "Sebastien Lambla" &lt;seb@...&gt; wrote:
&gt;
&gt; Shouldn't the /stack/top simply do a 303 SEE OTHER to Location:
stack/item21
&gt; on which you can then do your delete?
&gt; 
&gt; That makes the DELETE idempotent, as you'd only ever be able to
DELETE on
&gt; the returned resource. Of course earch resource need to check if
it's on the
&gt; top of the queue before accepting a delete request, but as your
resource is
&gt; stack specific, and may in fact simply be a pointer to the resource
that has
&gt; been queued.
&gt; 
&gt; Seb
&gt; 
&gt; -----Original Message-----
&gt; From: rest-discuss@yahoogroups.com
[mailto:rest-discuss@yahoogroups.com] On
&gt; Behalf Of wahbedahbe
&gt; Sent: 22 May 2008 04:47
&gt; To: rest-discuss@yahoogroups.com
&gt; Subject: [rest-discuss] Re: Stack operations using Rest
&gt; 
&gt; The problem with using DELETE on /queue/top to implement pop is that
&gt; it's not an idempotent operation.
&gt; 
&gt; --- In rest-discuss@yahoogroups.com, dev &lt;dev.akhawe@&gt; wrote:
&gt; &gt;
&gt; &gt; &gt; The /queue/top resource should act as a reference to the actual top
&gt; &gt; &gt; element, i.e. you should not DELETE it, as it should still exist
while
&gt; &gt; &gt; there are items left on the stack.
&gt; &gt; &gt;
&gt; &gt; 
&gt; &gt; I disagree. The HTTP RFC says that DELETE is to delete the resource at
&gt; &gt; the URI said. Popping is deleting the topmost uri. Allowing Deletes
&gt; &gt; directly on elements would be wrong as that would allow you to delete
&gt; &gt; any element( unless you hack through a solution in which every
&gt; &gt; resource checks whether it is the topmost resource before getting
&gt; &gt; deleted).
&gt; &gt; 
&gt; &gt; Delete the TOP just does that .. delete the current top. How does it
&gt; &gt; matter if after that another element becomes the top?
&gt; &gt; 
&gt; &gt; Again, there might be arguments against what I just said , but the
&gt; &gt; increase in coupling caused by any other solution imho makes for an
&gt; &gt; overwhelming choice for this option.
&gt; &gt; 
&gt; &gt; In short, I like the OPs solution.
&gt; &gt; 
&gt; &gt; Regards
&gt; &gt; Devdatta
&gt; &gt;
&gt; 
&gt; 
&gt; 
&gt; ------------------------------------
&gt; 
&gt; Yahoo! Groups Links
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10814<br>
Sender:Martin Grotzke &lt;mg@...&gt;<br>
Post Date/Time:2008-05-22 15:20:23<br>
Subject:Re: [rest-discuss] Resource design - items and item categories<br>
Message:<br><br>
<pre>On Thu, 2008-05-22 at 09:13 -0400, Nick Gall wrote:
&gt; Why not just
&gt; 
&gt; GET /categories
&gt; 
&gt; In other words, why shouldn't "categories" be a "first class" resource
&gt; like "items"?
Because these categories are specific to items. To be more specific, the
items are "pictures", and the categories are picture-categories like
e.g. "Background", "Points" or stuff.

Because these categories are related to pictures I thought that it makes
sense to have /pictures/categories ...

Would you say that categories should even then be a first class
resource?

Thanx &amp;&amp; cheers,
Martin


&gt; 
&gt; -- Nick
&gt; 
&gt; On Thu, May 22, 2008 at 8:59 AM, Martin Grotzke &lt;mg@...&gt; wrote:
&gt;         Hi all,
&gt;         
&gt;         I have a question concerning a resource design: I want to
&gt;         provide a
&gt;         resource for items, and the user shall be able to restrict the
&gt;         result to
&gt;         certain item categories:
&gt;         
&gt;         GET /items?cat={cat}&amp;cat={cat}
&gt;         
&gt;         When no category is specified, all items shall be returned.
&gt;         
&gt;         Additionally I want the user to retrieve a list of all
&gt;         available
&gt;         categories. I can think of this resource:
&gt;         
&gt;         GET /items/categories
&gt;         
&gt;         Are there better alternatives for retrieving a list of
&gt;         available
&gt;         categories?
&gt;         
&gt;         Thanx for your suggestions,
&gt;         cheers,
&gt;         Martin
&gt;         
&gt;         
&gt; 
&gt; 
&gt; 
&gt; -- 
&gt; Nick Gall
&gt; Phone: +1.781.608.5871
&gt; AOL IM: Nicholas Gall
&gt; Yahoo IM: nick_gall_1117
&gt; MSN IM: (same as email)
&gt; Google Talk: (same as email)
&gt; Email: nick.gall AT-SIGN gmail DOT com
&gt; Weblog: http://ironick.typepad.com/ironick/
&gt; Furl: http://www.furl.net/members/ngall
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10815<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-05-22 15:47:09<br>
Subject:Re: [rest-discuss] Resource design - items and item categories<br>
Message:<br><br>
<pre>You might consider these options:

GET /categories/
GET /categories/?filter=pictures
GET /categories/pictures/
GET /pictures/categories/

then think about these:
POST /categories/
POST /categories/pictures/
POST /pictures/categories/

The body you send around (POST and GET) may help clear this up, too.
Is the "category" resource the same for all item types (same
properties, etc) or is the property list different for some item
types?

Mike A

On Thu, May 22, 2008 at 11:20 AM, Martin Grotzke &lt;mg@...&gt; wrote:
&gt; On Thu, 2008-05-22 at 09:13 -0400, Nick Gall wrote:
&gt;&gt; Why not just
&gt;&gt;
&gt;&gt; GET /categories
&gt;&gt;
&gt;&gt; In other words, why shouldn't "categories" be a "first class" resource
&gt;&gt; like "items"?
&gt; Because these categories are specific to items. To be more specific, the
&gt; items are "pictures", and the categories are picture-categories like
&gt; e.g. "Background", "Points" or stuff.
&gt;
&gt; Because these categories are related to pictures I thought that it makes
&gt; sense to have /pictures/categories ...
&gt;
&gt; Would you say that categories should even then be a first class
&gt; resource?
&gt;
&gt; Thanx &amp;&amp; cheers,
&gt; Martin
&gt;
&gt;
&gt;&gt;
&gt;&gt; -- Nick
&gt;&gt;
&gt;&gt; On Thu, May 22, 2008 at 8:59 AM, Martin Grotzke &lt;mg@...&gt; wrote:
&gt;&gt;         Hi all,
&gt;&gt;
&gt;&gt;         I have a question concerning a resource design: I want to
&gt;&gt;         provide a
&gt;&gt;         resource for items, and the user shall be able to restrict the
&gt;&gt;         result to
&gt;&gt;         certain item categories:
&gt;&gt;
&gt;&gt;         GET /items?cat={cat}&amp;cat={cat}
&gt;&gt;
&gt;&gt;         When no category is specified, all items shall be returned.
&gt;&gt;
&gt;&gt;         Additionally I want the user to retrieve a list of all
&gt;&gt;         available
&gt;&gt;         categories. I can think of this resource:
&gt;&gt;
&gt;&gt;         GET /items/categories
&gt;&gt;
&gt;&gt;         Are there better alternatives for retrieving a list of
&gt;&gt;         available
&gt;&gt;         categories?
&gt;&gt;
&gt;&gt;         Thanx for your suggestions,
&gt;&gt;         cheers,
&gt;&gt;         Martin
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; --
&gt;&gt; Nick Gall
&gt;&gt; Phone: +1.781.608.5871
&gt;&gt; AOL IM: Nicholas Gall
&gt;&gt; Yahoo IM: nick_gall_1117
&gt;&gt; MSN IM: (same as email)
&gt;&gt; Google Talk: (same as email)
&gt;&gt; Email: nick.gall AT-SIGN gmail DOT com
&gt;&gt; Weblog: http://ironick.typepad.com/ironick/
&gt;&gt; Furl: http://www.furl.net/members/ngall
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10816<br>
Sender:Martin Grotzke &lt;mg@...&gt;<br>
Post Date/Time:2008-05-22 16:59:59<br>
Subject:Re: [rest-discuss] Resource design - items and item categories<br>
Message:<br><br>
<pre>Hi,

On Thu, 2008-05-22 at 11:47 -0400, mike amundsen wrote:
&gt; You might consider these options:
&gt; 
&gt; GET /categories/
&gt; GET /categories/?filter=pictures
&gt; GET /categories/pictures/
&gt; GET /pictures/categories/
&gt; 
&gt; then think about these:
&gt; POST /categories/
&gt; POST /categories/pictures/
&gt; POST /pictures/categories/
&gt; 
&gt; The body you send around (POST and GET) may help clear this up, too.
&gt; Is the "category" resource the same for all item types (same
&gt; properties, etc) or is the property list different for some item
&gt; types?
This is a good point. The categories for pictures have other properties
than categories for e.g. /products. Therefore I'd say it should be

/pictures/categories/

Thanx &amp;&amp; cheers,
Martin

&gt; 
&gt; Mike A
&gt; 
&gt; On Thu, May 22, 2008 at 11:20 AM, Martin Grotzke &lt;mg@...&gt; wrote:
&gt; &gt; On Thu, 2008-05-22 at 09:13 -0400, Nick Gall wrote:
&gt; &gt;&gt; Why not just
&gt; &gt;&gt;
&gt; &gt;&gt; GET /categories
&gt; &gt;&gt;
&gt; &gt;&gt; In other words, why shouldn't "categories" be a "first class" resource
&gt; &gt;&gt; like "items"?
&gt; &gt; Because these categories are specific to items. To be more specific, the
&gt; &gt; items are "pictures", and the categories are picture-categories like
&gt; &gt; e.g. "Background", "Points" or stuff.
&gt; &gt;
&gt; &gt; Because these categories are related to pictures I thought that it makes
&gt; &gt; sense to have /pictures/categories ...
&gt; &gt;
&gt; &gt; Would you say that categories should even then be a first class
&gt; &gt; resource?
&gt; &gt;
&gt; &gt; Thanx &amp;&amp; cheers,
&gt; &gt; Martin
&gt; &gt;
&gt; &gt;
&gt; &gt;&gt;
&gt; &gt;&gt; -- Nick
&gt; &gt;&gt;
&gt; &gt;&gt; On Thu, May 22, 2008 at 8:59 AM, Martin Grotzke &lt;mg@...&gt; wrote:
&gt; &gt;&gt;         Hi all,
&gt; &gt;&gt;
&gt; &gt;&gt;         I have a question concerning a resource design: I want to
&gt; &gt;&gt;         provide a
&gt; &gt;&gt;         resource for items, and the user shall be able to restrict the
&gt; &gt;&gt;         result to
&gt; &gt;&gt;         certain item categories:
&gt; &gt;&gt;
&gt; &gt;&gt;         GET /items?cat={cat}&amp;cat={cat}
&gt; &gt;&gt;
&gt; &gt;&gt;         When no category is specified, all items shall be returned.
&gt; &gt;&gt;
&gt; &gt;&gt;         Additionally I want the user to retrieve a list of all
&gt; &gt;&gt;         available
&gt; &gt;&gt;         categories. I can think of this resource:
&gt; &gt;&gt;
&gt; &gt;&gt;         GET /items/categories
&gt; &gt;&gt;
&gt; &gt;&gt;         Are there better alternatives for retrieving a list of
&gt; &gt;&gt;         available
&gt; &gt;&gt;         categories?
&gt; &gt;&gt;
&gt; &gt;&gt;         Thanx for your suggestions,
&gt; &gt;&gt;         cheers,
&gt; &gt;&gt;         Martin
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; --
&gt; &gt;&gt; Nick Gall
&gt; &gt;&gt; Phone: +1.781.608.5871
&gt; &gt;&gt; AOL IM: Nicholas Gall
&gt; &gt;&gt; Yahoo IM: nick_gall_1117
&gt; &gt;&gt; MSN IM: (same as email)
&gt; &gt;&gt; Google Talk: (same as email)
&gt; &gt;&gt; Email: nick.gall AT-SIGN gmail DOT com
&gt; &gt;&gt; Weblog: http://ironick.typepad.com/ironick/
&gt; &gt;&gt; Furl: http://www.furl.net/members/ngall
&gt; &gt;
&gt; 
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10817<br>
Sender:"Erling Wegger Linde" &lt;erlingwl@...&gt;<br>
Post Date/Time:2008-05-23 07:00:06<br>
Subject:Re: [rest-discuss] Re: Workflow<br>
Message:<br><br>
<pre>Thanks :D

On Thu, May 22, 2008 at 8:37 AM, Aristotle Pagaltzis &lt;pagaltzis@...&gt; wrote:
&gt; * erlingwl &lt;erlingwl@...&gt; [2008-05-05 10:05]:
&gt;&gt; However, I have run into a little problem, some issue trackers
&gt;&gt; have workflow constraints that depends on the state.. For
&gt;&gt; instance an issue cannot be reopened if it isn't resolved or
&gt;&gt; closed. Furthermore, let's say I have a resolved issue but I'm
&gt;&gt; conducting a PUT with state = "Open".
&gt;
&gt; Then the server should return 409, since trying to PUT the status
&gt; Open to the bug conflicts with the current state of the resource.
&gt; That is a textbook application of 409, in fact.
&gt;
&gt; * erlingwl &lt;erlingwl@...&gt; [2008-05-05 11:45]:
&gt;&gt; Okay, but doesn't this break with the REST Server-side
&gt;&gt; statelessness principle? Hmm.. I thought maybe that
&gt;&gt; incrementing state would be just as wrong as incrementing a
&gt;&gt; value.. but as you say, the client do know the state, and it
&gt;&gt; sends the new state with the PUT..
&gt;
&gt; The statelessness issue is highly misunderstood. The server
&gt; obviously *has* to keep state *somehow*, no? Otherwise, how could
&gt; it ever store the content of a PUT?
&gt;
&gt; No, what statelessness means is that the server should not keep
&gt; track of what the client has done in previous requests
&gt; implicitly. State on the server should be resource state, ie.
&gt; exposed through a resource available under a URI and manipulated
&gt; by the client explicitly via the verbs other than GET. Client
&gt; state, or application state in REST lingo, remains on the client.
&gt;
&gt; Remember that REST means Representational State Transfer? That is
&gt; exactly what that term means: the server affects the application
&gt; state on the client by sending a representations of a resource,
&gt; and likewise the client affects resource state on the server by
&gt; sending a representation of a resource.
&gt;
&gt; Regards,
&gt; --
&gt; Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;
&gt;
&gt; 



-- 
Med vennlig hilsen
Erling Wegger Linde

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10818<br>
Sender:Simon Reinhardt &lt;simon.reinhardt@...&gt;<br>
Post Date/Time:2008-05-26 20:34:07<br>
Subject:CSRF attacks in RESTful authenticated web applications<br>
Message:<br><br>
<pre>Hi,

After reading about cross-site request forgery (XSRF/CSRF) attacks and common ways to circumvent them, I wasn't quite satisfied with how people approach this.

To sum it up: A user is authenticated for ("logged into") a website A in their browser session and the attacker uses that fact to execute a request (there are ways to not only do GET but also POST requests without the user noticing) from a another website B in the same browser session. That request has website A as the target with the result that the attacker can perform actions on that website under the authentication of the user.
Web developers circumvent this by adding hidden form fields containing a random token (bound to the session) or just the session ID to the form which is supposed to precede the action. Requests to perform the action will only be accepted if they contain this shared secret. Therefore the token has to be stored with the session on the server.
The downsides are obvious: you have server state, handling several parallel tokens for the same action becomes unwieldy and since you have to time-out the tokens after some time for increased security, people can't just post an open form days later. Also you have to handle web service calls specifically - you don't want to negotiate shared secrets before service calls, so you have to find out what is a web service call and what a website call (content-type?).

It would appear that all this is a cookie-session problem anyway and RESTful websites wouldn't have that vulnerability since they would use HTTP authentication. But wait: HTTP authentication is also present at any time during the browser session. I don't think browsers make sure to only send authentication credentials they hold for a website in the current session when the request origins from the website it is for. Maybe they should. But there are just so many vectors for CSRF that I think you always have to anticipate them when developing web applications and as far as I can see RESTful websites are just as vulnerable.

So, has anyone put some thought into this from a REST point of view?

Regards,
Simon

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10820<br>
Sender:Simon Reinhardt &lt;simon.reinhardt@...&gt;<br>
Post Date/Time:2008-05-26 21:57:10<br>
Subject:Re: [rest-discuss] CSRF attacks in RESTful authenticated web applications<br>
Message:<br><br>
<pre>Berend de Boer wrote:
&gt; Just try to access another domain using an XmlHttpRequest from
&gt; JavaScript originating from your domain. Won't work.

Hmm no, XHR is not really the main target. This would only be the case if the attacker exploits browser bugs or uses cross-site scripting as a vector for the CSRF attack. But on any page you can have invisible forms which get automatically submitted through JavaScript (and you can hide the output by setting the target of the form to an invisible frame/iframe). There's some good information about it on http://www.cgisecurity.com/articles/csrf-faq.shtml and http://www.isecpartners.com/files/XSRF_Paper_0.pdf btw.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10821<br>
Sender:"Daniel Yokomizo" &lt;daniel.yokomizo@...&gt;<br>
Post Date/Time:2008-05-26 22:15:20<br>
Subject:Re: [rest-discuss] CSRF attacks in RESTful authenticated web applications<br>
Message:<br><br>
<pre>On Mon, May 26, 2008 at 5:34 PM, Simon Reinhardt
&lt;simon.reinhardt@...&gt; wrote:
&gt; Hi,
&gt;
&gt; After reading about cross-site request forgery (XSRF/CSRF) attacks and common ways to circumvent them, I wasn't quite satisfied with how people approach this.
&gt;
&gt; To sum it up: A user is authenticated for ("logged into") a website A in their browser session and the attacker uses that fact to execute a request (there are ways to not only do GET but also POST requests without the user noticing) from a another website B in the same browser session. That request has website A as the target with the result that the attacker can perform actions on that website under the authentication of the user.
&gt; Web developers circumvent this by adding hidden form fields containing a random token (bound to the session) or just the session ID to the form which is supposed to precede the action. Requests to perform the action will only be accepted if they contain this shared secret. Therefore the token has to be stored with the session on the server.
&gt; The downsides are obvious: you have server state, handling several parallel tokens for the same action becomes unwieldy and since you have to time-out the tokens after some time for increased security, people can't just post an open form days later. Also you have to handle web service calls specifically - you don't want to negotiate shared secrets before service calls, so you have to find out what is a web service call and what a website call (content-type?).
&gt;
&gt; It would appear that all this is a cookie-session problem anyway and RESTful websites wouldn't have that vulnerability since they would use HTTP authentication. But wait: HTTP authentication is also present at any time during the browser session. I don't think browsers make sure to only send authentication credentials they hold for a website in the current session when the request origins from the website it is for. Maybe they should. But there are just so many vectors for CSRF that I think you always have to anticipate them when developing web applications and as far as I can see RESTful websites are just as vulnerable.
&gt;
&gt; So, has anyone put some thought into this from a REST point of view?

CSRF has two components: the attacker being able to name a resource
(i.e. the target URI) and the browser willing to use ambient authority
(e.g. cookies, authentication credentials) without the explicit
consent of the user (BTW these are well known in the capability
security community). Using HATEOAS you can avoid the first issue: the
client of the app must use the links in the response to navigate to
the next states, so the server can generate URIs that are unguessable
(e.g. GUIDs, cryptography) and the attacker is unable to name a
resource used in the session. The entry point of the application can
also use an unguessable URI, so you just send it out of band and the
client use it without problems. If you use a well known entry point
and rely on ambient authority then the attacker can go from it and
navigate to the relevant URIs, so it's best to use another approach
(e.g. form based authentication) to authentication if you want a well
know entry point (e.g. the root URL of your site). For
inter-application integration using unguessable URIs is no problem and
is a very good security mechanism.

Other ways to reduce damage is to use a two-factor authentication
scheme, so you can use authentication credentials to GET. HEAD,
OPTIONS and require the client to send alternate credentials in
another Header or in the entity body, ensuring that an attacker can't
do much damage, but this can leak confidential information.

CSRF is a both a browser and application security hole, but we (app
devs) can only close the application hole. The browser is unsafe and
will be for the immediate future, our best choice is too not rely on
ambient authority and (if we want to remain RESTful) use unguessable
URIs and HATEOAS.

&gt; Regards,
&gt; Simon

Best regards,
Daniel Yokomizo.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10823<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-05-26 22:55:28<br>
Subject:Re: [rest-discuss] CSRF attacks in RESTful authenticated web applications<br>
Message:<br><br>
<pre>
On May 26, 2008, at 3:39 PM, Berend de Boer wrote:

&gt; If you embed a form in an iframe, you don't get cookies or data from  
&gt; the
&gt; embedding site, unless you have JS, so that's not an issue as far as I

Unless there are browser bugs, even with JS, you can't access cookies  
across iframes due to same origin policy.

&gt; can see. You got a case where such a form is open to CSRF? I thought  
&gt; the
&gt; definition of CSRF was that scripting was involved.

CRSF can be done via anything that can submit a request to a server,  
and hence includes images, script/css links as well. Scripting is not  
necessary.

The key point is that, irrespective of whether the target site is XHR  
or not, all HTTP requests need to be validated using URIs can that can  
not generated by arbitrary sites, as Daniel was explaining in his  
response.

Subbu

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10825<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-05-26 23:23:12<br>
Subject:Re: [rest-discuss] CSRF attacks in RESTful authenticated web applications<br>
Message:<br><br>
<pre>
On May 26, 2008, at 4:13 PM, Berend de Boer wrote:

&gt;&gt;&gt;&gt;&gt;&gt; "Subbu" == Subbu Allamaraju &lt;subbu@...&gt; writes:
&gt;
&gt;    Subbu&gt; CRSF can be done via anything that can submit a request to a
&gt;    Subbu&gt; server, and hence includes images, script/css links as
&gt;    Subbu&gt; well. Scripting is not necessary.
&gt;
&gt; Right, but that's only for non-REST sites. I.e. GET should be safe, so
&gt; it doesn't matter if the URL is unguessable or not.

Whether a GET is safe or not depends on the data.
&gt;
&gt;    Subbu&gt; The key point is that, irrespective of whether the target
&gt;    Subbu&gt; site is XHR or not, all HTTP requests need to be validated
&gt;    Subbu&gt; using URIs can that can not generated by arbitrary sites, as
&gt;    Subbu&gt; Daniel was explaining in his response.
&gt;
&gt; I think we miss here the part: for non-REST sites. Isn't that the  
&gt; point?

What exactly do you mean by a  non-REST site?

Subbu

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10826<br>
Sender:"Daniel Yokomizo" &lt;daniel.yokomizo@...&gt;<br>
Post Date/Time:2008-05-26 23:30:05<br>
Subject:Re: [rest-discuss] CSRF attacks in RESTful authenticated web applications<br>
Message:<br><br>
<pre>On Mon, May 26, 2008 at 8:13 PM, Berend de Boer &lt;berend@...&gt; wrote:
&gt;&gt;&gt;&gt;&gt;&gt; "Subbu" == Subbu Allamaraju &lt;subbu@...&gt; writes:
&gt;
&gt;    Subbu&gt; CRSF can be done via anything that can submit a request to a
&gt;    Subbu&gt; server, and hence includes images, script/css links as
&gt;    Subbu&gt; well. Scripting is not necessary.
&gt;
&gt; Right, but that's only for non-REST sites. I.e. GET should be safe, so
&gt; it doesn't matter if the URL is unguessable or not.

Even if GET is safe, if the URL can be guessed and you use an
exploitable authority, CSRF can leak confidential information. If my
bank has a CSRF vulnerable account statement functionality any
attacker can exploit the bug and trick my browser into leaking my
information. The GMAIL CSRF bug could even be exploited this way (it
was actually exploited by creation of filters) Alice request for a new
password for Bob in site X, also Alice knows (or guesses) that Bob
uses webmail from X, which is vulnerable to GET
/mailbox/bob/new-messages, Alice tricks Bob into accessing a page that
exploits the bug and sends the result of GET /mailbox/bob/new-messages
to Alice's own mailbox and voil, Alice now can go to site X, access
with the new password and do whatever she wants with Bob stuff (in
site X). Confidentiality matters too.

&gt;    Subbu&gt; The key point is that, irrespective of whether the target
&gt;    Subbu&gt; site is XHR or not, all HTTP requests need to be validated
&gt;    Subbu&gt; using URIs can that can not generated by arbitrary sites, as
&gt;    Subbu&gt; Daniel was explaining in his response.
&gt;
&gt; I think we miss here the part: for non-REST sites. Isn't that the point?
&gt;
&gt; --
&gt; Cheers,
&gt;
&gt; Berend de Boer
&gt;

Best regards,
Daniel Yokomizo.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10828<br>
Sender:Berend de Boer &lt;berend@...&gt;<br>
Post Date/Time:2008-05-27 01:07:16<br>
Subject:Re: [rest-discuss] CSRF attacks in RESTful authenticated web applications<br>
Message:<br><br>
<pre>&gt;&gt;&gt;&gt;&gt; "Daniel" == Daniel Yokomizo &lt;daniel.yokomizo@...&gt; writes:

    Daniel&gt; Even if GET is safe, if the URL can be guessed and you use
    Daniel&gt; an exploitable authority, CSRF can leak confidential
    Daniel&gt; information. If my bank has a CSRF vulnerable account
    Daniel&gt; statement functionality any attacker can exploit the bug and
    Daniel&gt; trick my browser into leaking my information.

How? In your example:


    Daniel&gt; The GMAIL CSRF bug could even be exploited this way (it was
    Daniel&gt; actually exploited by creation of filters) Alice request for
    Daniel&gt; a new password for Bob in site X, also Alice knows (or
    Daniel&gt; guesses) that Bob uses webmail from X, which is vulnerable
    Daniel&gt; to GET /mailbox/bob/new-messages, Alice tricks Bob into
    Daniel&gt; accessing a page that exploits the bug and sends the result
    Daniel&gt; of GET /mailbox/bob/new-messages to Alice's own mailbox and
    Daniel&gt; voil, Alice now can go to site X, access with the new
    Daniel&gt; password and do whatever she wants with Bob stuff (in site
    Daniel&gt; X). Confidentiality matters too.

I don't really see how this can happen. I'm probably not the greatest
light in this group :-)

When I tried to reason how that could happen, I came up with this. 

Bob visits malicious.com and malicious.com has an iframe that goes to
bank/my/balance.

So far I see the big picture. But how can get Alice send that data to
her? If she can write JavaScript that accesses that data in the iframe,
it's a browser bug, because you can't do that. She can't use XHR to
retrieve that data, that's also forbidden.

So how, given we have a site at REST, can Alice get Bob's data assuming
Bob will visit any page Alice will send him?

-- 
Cheers,

Berend de Boer
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10829<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-05-27 01:22:38<br>
Subject:Re: [rest-discuss] CSRF attacks in RESTful authenticated web applications<br>
Message:<br><br>
<pre>In the context of CSRF, by "safety" I meant serving data to  
unauthorized clients. On this note, all verbs are vulnerable unless  
designed carefully.

On May 26, 2008, at 5:56 PM, Berend de Boer wrote:

&gt;&gt;&gt;&gt;&gt;&gt; "Subbu" == Subbu Allamaraju &lt;subbu@...&gt; writes:
&gt;
&gt;&gt;&gt; Right, but that's only for non-REST sites. I.e. GET should be
&gt;&gt;&gt; safe, so it doesn't matter if the URL is unguessable or not.
&gt;
&gt;    Subbu&gt; Whether a GET is safe or not depends on the data.
&gt;
&gt;    Subbu&gt; What exactly do you mean by a non-REST site?
&gt;
&gt; No. GET is idempotent, you can repeat it endlessly. A client would not
&gt; be able to detect changes if submitted once or twice. Obviously a buy
&gt; action or a payment action through GET will cause visible changes
&gt; because the balance statement would have changed.
&gt;
&gt; -- 
&gt; Cheers,
&gt;
&gt; Berend de Boer


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10830<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-05-27 01:28:01<br>
Subject:Re: [rest-discuss] CSRF attacks in RESTful authenticated web applications<br>
Message:<br><br>
<pre>&gt; So far I see the big picture. But how can get Alice send that data to
&gt; her? If she can write JavaScript that accesses that data in the  
&gt; iframe,
&gt; it's a browser bug, because you can't do that. She can't use XHR to
&gt; retrieve that data, that's also forbidden.

Does not matter. Once the user sees his/her confidential data rendered  
in the browser, the user is more likely to trust that site and let  
other bad things happen.

&gt; So how, given we have a site at REST, can Alice get Bob's data  
&gt; assuming
&gt; Bob will visit any page Alice will send him?

I am a bit confused by your reference to REST in this discussion. What  
exactly has CRSF got to do with REST? Please elaborate.

Sincerely,
Subbu

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10832<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-05-27 11:34:20<br>
Subject:Re: Stack operations using Rest<br>
Message:<br><br>
<pre>* akleak &lt;andy@...&gt; [2008-05-20 06:55]:
&gt; I would like to provide a REST interface to some Stack (Lifo)
&gt; collections on my system.
&gt; 
&gt; Here is my idea for a restful STACK interface:
&gt; 
&gt; &gt;Push (add an item to the top of the stack)
&gt; POST /queue (action:create, controller: stack)
&gt; 
&gt; &gt; Pop (read the top item, then destroy it)
&gt; GET /queue/top (action:read, controller: stack)
&gt; DEL /queue/top (action:delete, controller: stack)
&gt; 
&gt; What is the best way to implement this??  Any feedback welcome.

Theres be a container resource, a pointer to the top of the
stack, and individual elements, as outlined. For the purposes of
illustration lets assume we put the container at `/stack`, the
pointer to top of stack at `/stack/top`, and elements at
`/stack/{num}`, where `num` increases monotonically in the
interest of idempotency (ie. no two elements are ever assigned
the same number).

`GET /stack` --&gt; `200 OK`, Content:

    &lt;stack top="/stack/top" self="/stack"&gt;
        &lt;elt pos="0" href="/stack/10"/&gt; &lt;!-- top of stack --&gt;
        &lt;elt pos="1" href="/stack/8"/&gt;
        &lt;elt pos="2" href="/stack/7"/&gt;
    &lt;/stack&gt;

Interesting, so lets see.

`GET /queue/top` --&gt; `303 See Other /queue/10`

Aha; well, we knew what the top of stack is.

`POST /queue` --&gt; `201 Created /queue/15`

OK, fine.

`GET /queue/top` --&gt; `303 See Other /queue/15`

Yeap, as expected.

`DELETE /queue/15` --&gt; `204 No Content`

Hm, so I can delete any element I want? Isnt this a stack?

`DELETE /queue/7` --&gt; `409 Conflict`

Oh; no I cant. Its a stack, and deleting elements from
elsewhere than the top would conflict with the state of the
system.

`DELETE /queue/top` --&gt; `403 Forbidden`

So I cant delete the top-of-stack pointer. Handling this request
in this fashion is actually important. Making it respond 2xx, but
actually deleting a resource *other* than `/stack/top` *but not*
`/stack/top` itself is broken. (It would be fine to delete
another resource *and* `/stack/top`, however.) It violates the
semantics of `DELETE`. This means that intermediaries, f.ex.,
which do not know the particulars of the stack protocol after
all, will get the wrong impression about what actually happened.
Dont do that.

In any case the most important part here is actually the design
of the resource you `GET` from `/stack`: that is where the
hypermedia happens. Hypermedia is the cornerstone of REST: the
format design needs to make all parts of the service explicit via
links. The URI design particulars are actually irrelevant; what
matters is where in the document the link is found. This is the
basis for how to communicate to the client how it can interact
with resources linked by `elt` elements as opposed to the one
linked by the `top` attribute as opposed to the one linked by the
`self` attribute. Given a spec of these semantics, every link
could point to a completely different host, each with a
completely different URI structure  and as long as that
conglomerate adhered to the semantics promised to clients by the
specification of the stack document format, to the client it
would all look just the same.

This means, f.ex., that the client actually knew ahead of time
that it couldnt successfully `DELETE /stack/7`, because there is
no other conclusion to draw from the given document based on the
semantics of the format.

REST is hypermedia. URI design is orthogonal to hypermedia.
Therefore, URI design is not part of REST (although its
undeniably a good thing; its just good because of reasons
other than REST).

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10833<br>
Sender:Simon Reinhardt &lt;simon.reinhardt@...&gt;<br>
Post Date/Time:2008-05-27 18:37:34<br>
Subject:Re: [rest-discuss] CSRF attacks in RESTful authenticated web applications<br>
Message:<br><br>
<pre>First of all, thanks to you all for your insightful comments!

Daniel Yokomizo wrote:
&gt; Using HATEOAS you can avoid the first issue: the
&gt; client of the app must use the links in the response to navigate to
&gt; the next states, so the server can generate URIs that are unguessable
&gt; (e.g. GUIDs, cryptography) and the attacker is unable to name a
&gt; resource used in the session.

How exactly would that work? If the URIs are unguessable then they have to be unrelated to anything the client knows, i.e. they contain random tokens. But the server would have to remember those tokens and relate them to the user (which is really just sessions with a session ID in a request parameter) and then you have server state. How is that still RESTful? Treating sessions as resources always seemed to me like just phrasing things differently and pretending them to be better.
What I don't like about this is that:
- you get ugly URIs
- sending them to friends leads to problems
- you have several URIs for one and the same resource
- you just need to have one URI which doesn't contain the session ID (maybe a link to a wiki related to your application which is coded as a separate application but integrated into the same framing template with menus and stuff) and you are "logged out"; clicking on links in the menu will not lead you back into the application in an authenticated state.
So even pages which contain public, non-personalised content need to contain authentication hints. Doesn't this muddle identifying resources and authentication?

Well, I didn't intend to let this turn into a discussion of the basic principles of REST, maybe I don't understand them enough yet, maybe I'm not convinced enough. This has all surely been discussed elsewhere extensively.

Thanks,
Simon

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10834<br>
Sender:Simon Reinhardt &lt;simon.reinhardt@...&gt;<br>
Post Date/Time:2008-05-27 18:39:58<br>
Subject:Re: [rest-discuss] CSRF attacks in RESTful authenticated web applications<br>
Message:<br><br>
<pre>Berend de Boer wrote:
&gt; If you embed a form in an iframe, you don't get cookies or data from the
&gt; embedding site, unless you have JS, so that's not an issue as far as I
&gt; can see.

No, you don't embed the form into an iframe, the form is just on the page but its target is an iframe.

&gt; You got a case where such a form is open to CSRF? I thought the
&gt; definition of CSRF was that scripting was involved.

Not neccessarily, you can trick people into submitting normal forms. E.g. you can have a search form which doesn't do a search though but submits hidden fields to the target site (with the actual search field that the user can see not even being part of that form). Or a picture which the user would click on which is a submit for a form though.

Regards,
Simon 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10835<br>
Sender:Simon Reinhardt &lt;simon.reinhardt@...&gt;<br>
Post Date/Time:2008-05-27 18:41:14<br>
Subject:Re: [rest-discuss] CSRF attacks in RESTful authenticated web applications<br>
Message:<br><br>
<pre>Subbu Allamaraju wrote:
&gt; In the context of CSRF, by "safety" I meant serving data to unauthorized 
&gt; clients. On this note, all verbs are vulnerable unless designed carefully.

I don't see a way for an attacker to get to the results of a forged request. Normally CSRF only provides ways to just send requests which do something harmful (not intended by the user) in a web application. I think in order to retrieve results you would have to use XSS as well.

Regards,
Simon

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10836<br>
Sender:"Daniel Yokomizo" &lt;daniel.yokomizo@...&gt;<br>
Post Date/Time:2008-05-27 19:44:52<br>
Subject:Re: [rest-discuss] CSRF attacks in RESTful authenticated web applications<br>
Message:<br><br>
<pre>On Tue, May 27, 2008 at 3:37 PM, Simon Reinhardt
&lt;simon.reinhardt@...&gt; wrote:
&gt; First of all, thanks to you all for your insightful comments!
&gt;
&gt; Daniel Yokomizo wrote:
&gt;&gt; Using HATEOAS you can avoid the first issue: the
&gt;&gt; client of the app must use the links in the response to navigate to
&gt;&gt; the next states, so the server can generate URIs that are unguessable
&gt;&gt; (e.g. GUIDs, cryptography) and the attacker is unable to name a
&gt;&gt; resource used in the session.
&gt;
&gt; How exactly would that work? If the URIs are unguessable then they have to be unrelated to anything the client knows, i.e. they contain random tokens. But the server would have to remember those tokens and relate them to the user (which is really just sessions with a session ID in a request parameter) and then you have server state. How is that still RESTful?

REST don't prohibit state, as long as you can name it. The URI /foo/1
denotes a resource that can be retrieved from database, to make it
unguessable you can use a GUID (e.g /{GUID}/foo/1 or /foo/{GUID} or
/{GUID}), cryptography (e.g. /{encrypted URI} so the server decrypts
the URI before using it), etc.. Also REST don't favor (or prohibit)
pretty or hackable URIs (it's a design decision) and it don't
guarantee that some URI will exist later (as it can always return 404,
410, etc.) so you can enforce the rule that the client (a human or an
app) must GET the entry point and navigate using links to the
interesting states (i.e. other URIs), generating the URIs to be useful
only for some predefined period or whatever (I don't like this
approach, but it's important to understand that it isn't RESTful).

&gt; Treating sessions as resources always seemed to me like just phrasing things differently and pretending them to be better.

Sessions as resources have one additional property that usual
cookie-based sessions don't have: they can be named (i.e. they are
bound to one or more URIs). So you can start a session in one agent
and end it in another, save it to continue later, etc..

I said that it need to be unguessable but it don't need to be session
locked. If I give you an unguessable URI it'll be still unguessable
tomorrow.

&gt; What I don't like about this is that:
&gt; - you get ugly URIs

They don't need to be particularly ugly, you can use 128 bit numbers
for URIs and render them using RFC1751 rules, it wouldn't be so bad ;)

&gt; - sending them to friends leads to problems

Which kind of problems?

&gt; - you have several URIs for one and the same resource

Why would it be a problem?

&gt; - you just need to have one URI which doesn't contain the session ID (maybe a link to a wiki related to your application which is coded as a separate application but integrated into the same framing template with menus and stuff) and you are "logged out"; clicking on links in the menu will not lead you back into the application in an authenticated state.

You can send an unguessable entry point URI using an out of band
channel (e.g. email). Or you can use a guessable entry point and use
some form of login to redirect to the unguessable world.

It's important to understand that most of the time there's a trade-off
between security and convenience. You need to define your security
policy, for example if your app don't do external transactions (i.e.
credit-card payments, send e-mails, update other apps) you don't need
much security beyond being able to undo changes in your own data, so a
revision aware storage system and a simple simple authentication
process could solve most of your problems. Banking apps, the checkout
of e-commerce apps, etc., have different security needs. You could use
guessable URIs in some parts of your app and unguessable in other
parts, using some stronger form of authentication to separate them. It
all depends on your needs, there's no one-size fits all solution.

&gt; So even pages which contain public, non-personalised content need to contain authentication hints. Doesn't this muddle identifying resources and authentication?
&gt;
&gt; Well, I didn't intend to let this turn into a discussion of the basic principles of REST, maybe I don't understand them enough yet, maybe I'm not convinced enough. This has all surely been discussed elsewhere extensively.
&gt;
&gt; Thanks,
&gt; Simon

Best regards,
Daniel Yokomizo.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10837<br>
Sender:Simon Reinhardt &lt;simon.reinhardt@...&gt;<br>
Post Date/Time:2008-05-27 21:27:35<br>
Subject:Re: [rest-discuss] CSRF attacks in RESTful authenticated web applications<br>
Message:<br><br>
<pre>Daniel Yokomizo wrote:
&gt; On Tue, May 27, 2008 at 3:37 PM, Simon Reinhardt
&gt; &lt;simon.reinhardt@...&gt; wrote:
&gt;&gt; Daniel Yokomizo wrote:
&gt;&gt;&gt; Using HATEOAS you can avoid the first issue: the
&gt;&gt;&gt; client of the app must use the links in the response to navigate to
&gt;&gt;&gt; the next states, so the server can generate URIs that are unguessable
&gt;&gt;&gt; (e.g. GUIDs, cryptography) and the attacker is unable to name a
&gt;&gt;&gt; resource used in the session.
&gt;&gt;
&gt;&gt; How exactly would that work? If the URIs are unguessable then they have to be unrelated to anything the client knows, i.e. they contain random tokens. But the server would have to remember those tokens and relate them to the user (which is really just sessions with a session ID in a request parameter) and then you have server state. How is that still RESTful?
&gt; 
&gt; REST don't prohibit state, as long as you can name it. The URI /foo/1
&gt; denotes a resource that can be retrieved from database, to make it
&gt; unguessable you can use a GUID (e.g /{GUID}/foo/1 or /foo/{GUID} or
&gt; /{GUID})

But the server still needs to relate the GUID to something? Otherwise any GUID would work and then it's "guessable" again.

&gt; cryptography (e.g. /{encrypted URI} so the server decrypts
&gt; the URI before using it), etc..

Ah, makes sense.

&gt; Also REST don't favor (or prohibit)
&gt; pretty or hackable URIs (it's a design decision) and it don't
&gt; guarantee that some URI will exist later (as it can always return 404,
&gt; 410, etc.) so you can enforce the rule that the client (a human or an
&gt; app) must GET the entry point and navigate using links to the
&gt; interesting states (i.e. other URIs), generating the URIs to be useful
&gt; only for some predefined period or whatever

I pretty much prefer pretty and hackable URIs. And I also think that cool URIs shouldn't change. ;-)

&gt; (I don't like this
&gt; approach, but it's important to understand that it isn't RESTful).

Did you mean "is" here?

&gt;&gt; - sending them to friends leads to problems
&gt; 
&gt; Which kind of problems?

Well, there's always the argument that they could hijack your session but of course you would check the IP address of the requester. :-) (Would *that* be RESTful?)
So what would the friend see? A 401? a 403? A redirect to the login form? Of course if they login from there they could get redirected back to the resource, just with their session parameter appended to the URI instead of mine. But why create a new session for them if they are already logged in with another session? Ok, this is the trade-off between security and convenience you talk about below.

&gt;&gt; - you have several URIs for one and the same resource
&gt; 
&gt; Why would it be a problem?

It makes referring to resources ambiguous, especially on the Semantic Web.

&gt;&gt; - you just need to have one URI which doesn't contain the session ID (maybe a link to a wiki related to your application which is coded as a separate application but integrated into the same framing template with menus and stuff) and you are "logged out"; clicking on links in the menu will not lead you back into the application in an authenticated state.
&gt; 
&gt; You can send an unguessable entry point URI using an out of band
&gt; channel (e.g. email). Or you can use a guessable entry point and use
&gt; some form of login to redirect to the unguessable world.

So you said, but if your website contains both public pages which should be viewable without logging in and protected pages, then every pointer from a protected page to a public page can either include the session identifier (but a related wiki might use its own session system?) or not include it, meaning that the user can't go from the public page back into the protected section without logging in with a new session or using the back-button.

&gt; It's important to understand that most of the time there's a trade-off
&gt; between security and convenience. You need to define your security
&gt; policy, for example if your app don't do external transactions (i.e.
&gt; credit-card payments, send e-mails, update other apps) you don't need
&gt; much security beyond being able to undo changes in your own data, so a
&gt; revision aware storage system and a simple simple authentication
&gt; process could solve most of your problems. Banking apps, the checkout
&gt; of e-commerce apps, etc., have different security needs. You could use
&gt; guessable URIs in some parts of your app and unguessable in other
&gt; parts, using some stronger form of authentication to separate them. It
&gt; all depends on your needs, there's no one-size fits all solution.

Right, this makes sense. It helps me figuring out how to secure my next web application. :-)
I think I have a much better picture of authentication possibilities now, thanks!

Simon

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10838<br>
Sender:"Daniel Yokomizo" &lt;daniel.yokomizo@...&gt;<br>
Post Date/Time:2008-05-27 21:42:53<br>
Subject:Re: [rest-discuss] CSRF attacks in RESTful authenticated web applications<br>
Message:<br><br>
<pre>On Tue, May 27, 2008 at 6:27 PM, Simon Reinhardt
&lt;simon.reinhardt@...&gt; wrote:
&gt; Daniel Yokomizo wrote:
&gt;&gt; On Tue, May 27, 2008 at 3:37 PM, Simon Reinhardt
&gt;&gt; &lt;simon.reinhardt@...&gt; wrote:
&gt;&gt;&gt; Daniel Yokomizo wrote:
&gt;&gt;&gt;&gt; Using HATEOAS you can avoid the first issue: the
&gt;&gt;&gt;&gt; client of the app must use the links in the response to navigate to
&gt;&gt;&gt;&gt; the next states, so the server can generate URIs that are unguessable
&gt;&gt;&gt;&gt; (e.g. GUIDs, cryptography) and the attacker is unable to name a
&gt;&gt;&gt;&gt; resource used in the session.
&gt;&gt;&gt;
&gt;&gt;&gt; How exactly would that work? If the URIs are unguessable then they have to be unrelated to anything the client knows, i.e. they contain random tokens. But the server would have to remember those tokens and relate them to the user (which is really just sessions with a session ID in a request parameter) and then you have server state. How is that still RESTful?
&gt;&gt;
&gt;&gt; REST don't prohibit state, as long as you can name it. The URI /foo/1
&gt;&gt; denotes a resource that can be retrieved from database, to make it
&gt;&gt; unguessable you can use a GUID (e.g /{GUID}/foo/1 or /foo/{GUID} or
&gt;&gt; /{GUID})
&gt;
&gt; But the server still needs to relate the GUID to something? Otherwise any GUID would work and then it's "guessable" again.

You can use a database, as long as the resource is identified by the
URI nothing is wrong with that.

&gt;&gt; cryptography (e.g. /{encrypted URI} so the server decrypts
&gt;&gt; the URI before using it), etc..
&gt;
&gt; Ah, makes sense.
&gt;
&gt;&gt; Also REST don't favor (or prohibit)
&gt;&gt; pretty or hackable URIs (it's a design decision) and it don't
&gt;&gt; guarantee that some URI will exist later (as it can always return 404,
&gt;&gt; 410, etc.) so you can enforce the rule that the client (a human or an
&gt;&gt; app) must GET the entry point and navigate using links to the
&gt;&gt; interesting states (i.e. other URIs), generating the URIs to be useful
&gt;&gt; only for some predefined period or whatever
&gt;
&gt; I pretty much prefer pretty and hackable URIs. And I also think that cool URIs shouldn't change. ;-)
&gt;
&gt;&gt; (I don't like this
&gt;&gt; approach, but it's important to understand that it isn't RESTful).
&gt;
&gt; Did you mean "is" here?

Yup, "it is RESTful".

&gt;&gt;&gt; - sending them to friends leads to problems
&gt;&gt;
&gt;&gt; Which kind of problems?
&gt;
&gt; Well, there's always the argument that they could hijack your session but of course you would check the IP address of the requester. :-) (Would *that* be RESTful?)
&gt; So what would the friend see? A 401? a 403? A redirect to the login form? Of course if they login from there they could get redirected back to the resource, just with their session parameter appended to the URI instead of mine. But why create a new session for them if they are already logged in with another session? Ok, this is the trade-off between security and convenience you talk about below.

If you send your friend an URI pointing to you bank statement and the
bank app don't use cookies or authentication headers then he should
see everything you see. You can protect it both with authentication
headers and using an unguessable URI. I like to see unguessable URIs
as capabilities, so you should be able to share then (at your
discretion).

&gt;&gt;&gt; - you have several URIs for one and the same resource
&gt;&gt;
&gt;&gt; Why would it be a problem?
&gt;
&gt; It makes referring to resources ambiguous, especially on the Semantic Web.

While a canonical, unambiguous, URI for each URI is a good thing to
have, it usually isn't a problem to have more than one URI to a single
resource. Also you can always use redirect to enforce a canonical URI
or even ensure that no two different GUIDs point to the same resource.

&gt;&gt;&gt; - you just need to have one URI which doesn't contain the session ID (maybe a link to a wiki related to your application which is coded as a separate application but integrated into the same framing template with menus and stuff) and you are "logged out"; clicking on links in the menu will not lead you back into the application in an authenticated state.
&gt;&gt;
&gt;&gt; You can send an unguessable entry point URI using an out of band
&gt;&gt; channel (e.g. email). Or you can use a guessable entry point and use
&gt;&gt; some form of login to redirect to the unguessable world.
&gt;
&gt; So you said, but if your website contains both public pages which should be viewable without logging in and protected pages, then every pointer from a protected page to a public page can either include the session identifier (but a related wiki might use its own session system?) or not include it, meaning that the user can't go from the public page back into the protected section without logging in with a new session or using the back-button.

Depending on how you add the unguessable part to the URI you can hack
your way: you could use the form /{unguessable}/{whatever} to denote a
private resource and /{whatever} to denote a public resource and use a
relative path in the public parts.

&gt;&gt; It's important to understand that most of the time there's a trade-off
&gt;&gt; between security and convenience. You need to define your security
&gt;&gt; policy, for example if your app don't do external transactions (i.e.
&gt;&gt; credit-card payments, send e-mails, update other apps) you don't need
&gt;&gt; much security beyond being able to undo changes in your own data, so a
&gt;&gt; revision aware storage system and a simple simple authentication
&gt;&gt; process could solve most of your problems. Banking apps, the checkout
&gt;&gt; of e-commerce apps, etc., have different security needs. You could use
&gt;&gt; guessable URIs in some parts of your app and unguessable in other
&gt;&gt; parts, using some stronger form of authentication to separate them. It
&gt;&gt; all depends on your needs, there's no one-size fits all solution.
&gt;
&gt; Right, this makes sense. It helps me figuring out how to secure my next web application. :-)
&gt; I think I have a much better picture of authentication possibilities now, thanks!
&gt;
&gt; Simon


Best regards,
Daniel Yokomizo

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10840<br>
Sender:EdPimentl &lt;edpimentl@...&gt;<br>
Post Date/Time:2008-05-27 01:06:53<br>
Subject:RESTful messaging with DHT overlay<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10841<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-05-28 07:00:41<br>
Subject:RE: [rest-discuss] RESTful messaging with DHT overlay<br>
Message:<br><br>
<pre>Has anyone deployed RESTful messaging with a DHT overlay?



I designed a DHT protocol circa 2001. I suppose you could say it was REST because there was mainly 3 operations: PUSH to publish a new node, DELETE to attempt a removal, GET to attempt a retrieval, and a pubsub module.

 

Not sure theres that much difference from a unicast network in that sense, the only difference is that you dont need a Url to dereference, and everything is a node instead of a resource.

 

What dht are you leveraging?

 

Seb 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10842<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-05-28 15:40:16<br>
Subject:Re: [rest-discuss] RESTful messaging with DHT overlay<br>
Message:<br><br>
<pre>On Mon, May 26, 2008 at 9:06 PM, EdPimentl &lt;edpimentl@...&gt; wrote:
&gt; Has anyone deployed RESTful messaging with a DHT overlay?

allmydata.org has the tahoe distributed file system based on a DHT
that claims to use a RESTful interface to access the files. There is a
commercial file backup service using it: allmydata.com .

See http://allmydata.org/~warner/pycon-tahoe.html and
http://allmydata.org/trac/tahoe/browser/docs/webapi.txt .

-- Nick

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10843<br>
Sender:Jerome Louvel &lt;contact@...&gt;<br>
Post Date/Time:2008-05-29 09:13:01<br>
Subject:Is PUT with no entity allowed?<br>
Message:<br><br>
<pre>Hi all,

We had an interesting question in the Restlet list regarding PUT 
requests with no entity. The idea is to create (or update) a resource 
with an empty content, like a 'null' list item. See the discussion thread:
http://restlet.tigris.org/servlets/BrowseList?list=discuss&amp;by=thread&amp;from=656617

 From an HTTP 1.1 specification point of view this isn't clear either. 
Of course there are easy workarounds such as sending a special 'empty' 
representation (ex: "&lt;content/&gt;").

Any thought?

-- 
Jerome Louvel
http://www.restlet.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10844<br>
Sender:"Erling Wegger Linde" &lt;erlingwl@...&gt;<br>
Post Date/Time:2008-05-29 10:47:51<br>
Subject:Re: [rest-discuss] Re: Stack operations using Rest<br>
Message:<br><br>
<pre>This might be a bit off topic, but here's how GDATA has implemented
optimistic concurrency:
http://code.google.com/apis/gdata/reference.html#Optimistic-concurrency

I think that fits well with Aristotle's suggestion (which is even more generic):

GET /queue/top` --&gt; `303 See Other /queue/15`

DELETE /queue/15` --&gt; `204 No Content`

- Erling

On Tue, May 27, 2008 at 1:34 PM, Aristotle Pagaltzis &lt;pagaltzis@...&gt; wrote:
&gt; * akleak &lt;andy@...&gt; [2008-05-20 06:55]:
&gt;
&gt;&gt; I would like to provide a REST interface to some Stack (Lifo)
&gt;&gt; collections on my system.
&gt;&gt;
&gt;&gt; Here is my idea for a restful STACK interface:
&gt;&gt;
&gt;&gt; &gt;Push (add an item to the top of the stack)
&gt;&gt; POST /queue (action:create, controller: stack)
&gt;&gt;
&gt;&gt; &gt; Pop (read the top item, then destroy it)
&gt;&gt; GET /queue/top (action:read, controller: stack)
&gt;&gt; DEL /queue/top (action:delete, controller: stack)
&gt;&gt;
&gt;&gt; What is the best way to implement this?? Any feedback welcome.
&gt;
&gt; There's be a container resource, a pointer to the top of the
&gt; stack, and individual elements, as outlined. For the purposes of
&gt; illustration let's assume we put the container at `/stack`, the
&gt; pointer to top of stack at `/stack/top`, and elements at
&gt; `/stack/{num}`, where `num` increases monotonically in the
&gt; interest of idempotency (ie. no two elements are ever assigned
&gt; the same number).
&gt;
&gt; `GET /stack` --&gt; `200 OK`, Content:
&gt;
&gt; &lt;stack top="/stack/top" self="/stack"&gt;
&gt; &lt;elt pos="0" href="/stack/10"/&gt; &lt;!-- top of stack --&gt;
&gt; &lt;elt pos="1" href="/stack/8"/&gt;
&gt; &lt;elt pos="2" href="/stack/7"/&gt;
&gt; &lt;/stack&gt;
&gt;
&gt; Interesting, so let's see.
&gt;
&gt; `GET /queue/top` --&gt; `303 See Other /queue/10`
&gt;
&gt; Aha; well, we knew what the top of stack is.
&gt;
&gt; `POST /queue` --&gt; `201 Created /queue/15`
&gt;
&gt; OK, fine.
&gt;
&gt; `GET /queue/top` --&gt; `303 See Other /queue/15`
&gt;
&gt; Yeap, as expected.
&gt;
&gt; `DELETE /queue/15` --&gt; `204 No Content`
&gt;
&gt; Hm, so I can delete any element I want? Isn't this a stack?
&gt;
&gt; `DELETE /queue/7` --&gt; `409 Conflict`
&gt;
&gt; Oh; no I can't. It's a stack, and deleting elements from
&gt; elsewhere than the top would conflict with the state of the
&gt; system.
&gt;
&gt; `DELETE /queue/top` --&gt; `403 Forbidden`
&gt;
&gt; So I can't delete the top-of-stack pointer. Handling this request
&gt; in this fashion is actually important. Making it respond 2xx, but
&gt; actually deleting a resource *other* than `/stack/top` *but not*
&gt; `/stack/top` itself is broken. (It would be fine to delete
&gt; another resource *and* `/stack/top`, however.) It violates the
&gt; semantics of `DELETE`. This means that intermediaries, f.ex.,
&gt; which do not know the particulars of the stack protocol after
&gt; all, will get the wrong impression about what actually happened.
&gt; Don't do that.
&gt;
&gt; In any case the most important part here is actually the design
&gt; of the resource you `GET` from `/stack`: that is where the
&gt; hypermedia happens. Hypermedia is the cornerstone of REST: the
&gt; format design needs to make all parts of the service explicit via
&gt; links. The URI design particulars are actually irrelevant; what
&gt; matters is where in the document the link is found. This is the
&gt; basis for how to communicate to the client how it can interact
&gt; with resources linked by `elt` elements as opposed to the one
&gt; linked by the `top` attribute as opposed to the one linked by the
&gt; `self` attribute. Given a spec of these semantics, every link
&gt; could point to a completely different host, each with a
&gt; completely different URI structure  and as long as that
&gt; conglomerate adhered to the semantics promised to clients by the
&gt; specification of the stack document format, to the client it
&gt; would all look just the same.
&gt;
&gt; This means, f.ex., that the client actually knew ahead of time
&gt; that it couldn't successfully `DELETE /stack/7`, because there is
&gt; no other conclusion to draw from the given document based on the
&gt; semantics of the format.
&gt;
&gt; REST is hypermedia. URI design is orthogonal to hypermedia.
&gt; Therefore, URI design is not part of REST (although it's
&gt; undeniably a good thing; it's just good because of reasons
&gt; other than REST).
&gt;
&gt; Regards,
&gt; --
&gt; Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;
&gt; 



-- 
Med vennlig hilsen
Erling Wegger Linde

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10845<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2008-05-29 10:56:08<br>
Subject:Re: [rest-discuss] Is PUT with no entity allowed?<br>
Message:<br><br>
<pre>Jerome Louvel wrote:
&gt; Hi all,
&gt; 
&gt; We had an interesting question in the Restlet list regarding PUT 
&gt; requests with no entity. The idea is to create (or update) a resource 
&gt; with an empty content, like a 'null' list item. See the discussion thread:
&gt; http://restlet.tigris.org/servlets/BrowseList?list=discuss&amp;by=thread&amp;from=656617

I don't see how you could have no entity. On the other hand I don't see 
how you couldn't be allowed to have a zero-length entity, which might 
suit what you need.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10846<br>
Sender:"Erling Wegger Linde" &lt;erlingwl@...&gt;<br>
Post Date/Time:2008-05-29 10:54:04<br>
Subject:Re: [rest-discuss] Versioning of RESTful services<br>
Message:<br><br>
<pre>I think http://www.w3.org/Provider/Style/URI is highly relevant for this thread.

- Erling

On Tue, May 20, 2008 at 6:31 AM, Peter Williams &lt;pezra@...&gt; wrote:
&gt; What you outline below matches pretty quite well how I use this pattern.
&gt;
&gt; I think this pattern holds up quite well deep linking, too.  Resources that
&gt; exist in a particular version of the API continue to exist for that version
&gt; of the API regardless of future versions.  A component that have saved a
&gt; link to one, or more, of those resources will work just fine until the
&gt; authors of that component choose to upgrade the version of the API it uses.
&gt;
&gt; At that point, there are couple of alternatives.  If the resource still
&gt; exists in the new version of the API the component will need to be updated
&gt; to handle any changes to the representations of that resources.  But that
&gt; should be fairly straight forward because the resource will be the same
&gt; conceptual thing in both API versions.
&gt;
&gt; The more complicated alternative is that the resources that are targeted by
&gt; the links has been deprecated and is no longer available in the new version
&gt; of API.  If the old resources have been replaced by some analogous resources
&gt; in the new API, the server should provide permanent redirects to the new
&gt; resources.  (I have experienced this sort of change.  We needed to
&gt; generalize a particular sort of resource so to that we could model a larger
&gt; set of entities.)  As the client makes requests for the old resources (using
&gt; the new media type) it can update it's stored links to point to the new type
&gt; of resource.
&gt;
&gt; If the resources pointed to by the component have no analogs in the new API
&gt; then all bets are off.  This seems a rather unlikely scenario in practice,
&gt; though.  The capabilities of systems tend to increase, not decrease, over
&gt; time.
&gt;
&gt; As for common media types like HTML, I don't really see the need for them to
&gt; be versioned in the same way as the more semantically rich APIs.  If
&gt; resources are deprecated redirects would need to the added to the analogous
&gt; new resources, as above.  But, as far as I am concerned, the HTML
&gt; representations can change as much as the developers want them time as long
&gt; as they remain valid HTML and the human users of the system can still figure
&gt; out what is going on.
&gt;
&gt; --
&gt; Peter Williams
&gt; http://pezra.barelyenough.org
&gt;
&gt; On Mon, May 19, 2008 at 7:33 PM, mike amundsen &lt;mca@...&gt; wrote:
&gt;&gt;
&gt;&gt; I've thought about this one and one possible way to look at it is this:
&gt;&gt;
&gt;&gt; If you use a "fully-hypermedia" document model (i.e. you have a single
&gt;&gt; bookmark into the application and then serve all other links via the
&gt;&gt; response documents), then using a different media type can handle all
&gt;&gt; the reasonable details of versioning your application.
&gt;&gt;
&gt;&gt; The 'entry URI' (bookmarkable link) could determine the proper
&gt;&gt; response based on the media type and:
&gt;&gt; - serve up the proper document for this version (including the links
&gt;&gt; appropriate for this version)
&gt;&gt; - redirect (301) to an entirely new URI that contains the proper
&gt;&gt; version of the document w/ links for the apprpriate version)
&gt;&gt; - eventually return 415 (unsupported media type) for versions that
&gt;&gt; have been 'deprecated' completely.
&gt;&gt;
&gt;&gt; This begs the question of how to handle 'deep linking' cases where the
&gt;&gt; client has bookmarked other URI for your server application. Yeah, the
&gt;&gt; messy part[grin]. As long as you are using custom media types, most of
&gt;&gt; this will 'automagically' work out fine:
&gt;&gt; - links to the 'old version' URI with the 'old version' media type can
&gt;&gt; behave as usual (supporting deprecated version of the app)
&gt;&gt; - links to the 'old version' with the 'old version' media type can
&gt;&gt; result in a redirect (301) (maybe to a warning page, or to workable
&gt;&gt; data)
&gt;&gt; - links to the 'old version' URI with a new media type will return 415
&gt;&gt; (mismatched media types)
&gt;&gt; - again, eventually, links to the 'old' URI w/ the 'old' media-type
&gt;&gt; can return 415 (we no longer support this version).
&gt;&gt;
&gt;&gt; In my mental experiments, this means that more thought must go into
&gt;&gt; managing the URI set for a server application. Mainly, that you need
&gt;&gt; to have some ideas for how to handle a deprecated URI (redirect is not
&gt;&gt; safe for some workflow URI). Apps that use this model also need to be
&gt;&gt; prepared to handle common web browsers where custom media types are
&gt;&gt; usually not workable (expect via scripted Ajax, etc.). In that case,
&gt;&gt; media-type resolution for "text/html" should result in the most recent
&gt;&gt; version of the server application (ampping more than one media-type to
&gt;&gt; a response document). This results in web browsers getting the latest
&gt;&gt; version of the app as soon as it's publicly available.
&gt;&gt;
&gt;&gt; I'd also be interested in Peter's comments on my musings. Am I coming
&gt;&gt; close to the way you are thinking/using this pattern?
&gt;&gt;
&gt;&gt; MIke A
&gt;&gt;
&gt;&gt;
&gt;&gt; On Mon, May 19, 2008 at 9:11 PM, Subbu Allamaraju &lt;subbu@...&gt; wrote:
&gt;&gt; &gt; As long as the changes are compatible, the version identifier is
&gt;&gt; &gt; redundant.
&gt;&gt; &gt;
&gt;&gt; &gt; But when it comes to incompatible changes, all bets are off anyway.
&gt;&gt; &gt; Does it matter whether a the server designates a new set of URIs or
&gt;&gt; &gt; relies on conneg as you are proposing?
&gt;&gt; &gt;
&gt;&gt; &gt; Subbu
&gt;&gt; &gt;
&gt;&gt; &gt; On May 19, 2008, at 2:42 PM, Peter Williams wrote:
&gt;&gt; &gt;
&gt;&gt; &gt;&gt; In rest-discuss@yahoogroups.com, "Miles Crawford" &lt;mcrawfor@...&gt;
&gt;&gt; &gt;&gt; wrote:
&gt;&gt; &gt;&gt; &gt;
&gt;&gt; &gt;&gt; &gt; My question is about versioning RESTful resources with URIs.
&gt;&gt; &gt;&gt; &gt; I often see as a "best practice" the user of a version number in
&gt;&gt; &gt;&gt; &gt;  URIs such as:
&gt;&gt; &gt;&gt; &gt;
&gt;&gt; &gt;&gt; &gt; /v1/person/{username}
&gt;&gt; &gt;&gt; &gt;
&gt;&gt; &gt;&gt; &gt; and then, if your service changes:
&gt;&gt; &gt;&gt; &gt;
&gt;&gt; &gt;&gt; &gt; /v2/person/{username}
&gt;&gt; &gt;&gt; &gt;
&gt;&gt; &gt;&gt; &gt; So - here's my question.  Say my organization wants to create two
&gt;&gt; &gt;&gt; &gt; services that relate to one another, a generic person service and a
&gt;&gt; &gt;&gt; &gt; student service. How do I avoid loops that cause troubles with
&gt;&gt; &gt;&gt; version
&gt;&gt; &gt;&gt; &gt; numbers?
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; Personally, I am quite uncomfortable with the idea mangling my URIs
&gt;&gt; &gt;&gt; with a version number.  The issue you are asking about here is
&gt;&gt; &gt;&gt; definitely one of the reasons.  Using content negotiation handle
&gt;&gt; &gt;&gt; REST/HTTP service versioning works much better, in my experience.  I
&gt;&gt; &gt;&gt; have written about such an approach at
&gt;&gt; &gt;&gt; &lt;http://pezra.barelyenough.org/blog/2008/05/versioning-rest-web-services/
&gt;&gt; &gt;&gt; &gt; if you are interested.
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; --
&gt;&gt; &gt;&gt; Peter Willams
&gt;&gt; &gt;&gt; http://pezra.barelyenough.org
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; ------------------------------------
&gt;&gt; &gt;
&gt;&gt; &gt; Yahoo! Groups Links
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; --
&gt;&gt; mca
&gt;&gt; http://amundsen.com/blog/
&gt;
&gt; 



-- 
Med vennlig hilsen
Erling Wegger Linde

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10847<br>
Sender:Stephan Koops &lt;Stephan.Koops@...&gt;<br>
Post Date/Time:2008-05-29 11:05:13<br>
Subject:Re: [rest-discuss] Is PUT with no entity allowed?<br>
Message:<br><br>
<pre>Hi Jon,

 &gt; I don't see how you could have no entity. On the other hand I don't see
 &gt; how you couldn't be allowed to have a zero-length entity, which might
 &gt; suit what you need.

You could have an restful internal right management used by an 
organisation softwares to check if the user is allowed to do something. 
This is a bool value: he has the right or not, no other value. If a 
resource exists (e.g. .../users/jon/rights/addEmployee), the user has 
the right (to add an employee), otherwise not.
To give Jon this right, an admin could PUT (not POST !) to this URI, to 
remove the right he DELETEs it. No entity is needed.
The software GETs or HEADs the URI. If 200 or 204: user has right, if 
404: right does not exist, steve is not allowed to add an employee.

best regards
Stephan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10848<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2008-05-29 11:16:55<br>
Subject:Re: [rest-discuss] Is PUT with no entity allowed?<br>
Message:<br><br>
<pre>Stephan Koops wrote:
&gt; To give Jon this right, an admin could PUT (not POST !) to this URI, to 
&gt; remove the right he DELETEs it. No entity is needed.

I'm not sure that not including an entity when using the method that 
PUTs an entity, makes sense that that level though.

I also see little reason to not PUT a zero-length entity.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10849<br>
Sender:Stephan Koops &lt;Stephan.Koops@...&gt;<br>
Post Date/Time:2008-05-29 11:16:11<br>
Subject:Re: [rest-discuss] Is PUT with no entity allowed?<br>
Message:<br><br>
<pre>Hi Jon,

 &gt; &gt; To give Jon this right, an admin could PUT (not POST !) to this 
URI, to
 &gt; &gt; remove the right he DELETEs it. No entity is needed.
 &gt;
 &gt; I'm not sure that not including an entity when using the method that
 &gt; PUTs an entity, makes sense that that level though.
 &gt;
 &gt; I also see little reason to not PUT a zero-length entity.

How would you design this use case?

best regards
   Stephan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10850<br>
Sender:Bruno Harbulot &lt;Bruno.Harbulot@...&gt;<br>
Post Date/Time:2008-05-29 11:19:04<br>
Subject:Re: Is PUT with no entity allowed?<br>
Message:<br><br>
<pre>Hi Stephan,

Stephan Koops wrote:
&gt; 
&gt; 
&gt; Hi Jon,
&gt; 
&gt;  &gt; I don't see how you could have no entity. On the other hand I don't see
&gt;  &gt; how you couldn't be allowed to have a zero-length entity, which might
&gt;  &gt; suit what you need.
&gt; 
&gt; You could have an restful internal right management used by an
&gt; organisation softwares to check if the user is allowed to do something.
&gt; This is a bool value: he has the right or not, no other value. If a
&gt; resource exists (e.g. .../users/jon/rights/addEmployee), the user has
&gt; the right (to add an employee), otherwise not.
&gt; To give Jon this right, an admin could PUT (not POST !) to this URI, to
&gt; remove the right he DELETEs it. No entity is needed.
&gt; The software GETs or HEADs the URI. If 200 or 204: user has right, if
&gt; 404: right does not exist, steve is not allowed to add an employee.

This would certainly work, but in terms of REST, I think this would be 
better modelled by exchanging a representation that represents these 
rights, even plain-text such as "allow", "deny". The client would really 
have to know in advance that this particular URI models an access right.

Best wishes,

Bruno.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10851<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2008-05-29 12:12:42<br>
Subject:Re: [rest-discuss] Is PUT with no entity allowed?<br>
Message:<br><br>
<pre>Stephan Koops wrote:
&gt; How would you design this use case?

By taking yours and substituting the phrase "zero-length entity" for "no 
entity" :)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10852<br>
Sender:"Brian Smith" &lt;brian@...&gt;<br>
Post Date/Time:2008-05-29 13:41:03<br>
Subject:RE: [rest-discuss] Re: Is PUT with no entity allowed?<br>
Message:<br><br>
<pre>Bruno Harbulot wrote:
&gt; Stephan Koops wrote:
&gt; &gt; &gt; I don't see how you could have no entity. On the other 
&gt; &gt; &gt; hand I don't see how you couldn't be allowed to have
&gt; &gt; &gt; a zero-length entity, which might suit what you need.

You must include an entity. You can use Content-Length: 0 to mark that you have an empty entity. I don't know what Content-Type you would use, though.

&gt; This would certainly work, but in terms of REST, I think this 
&gt; would be better modelled by exchanging a representation
&gt; that represents these rights, even plain-text such as
&gt; "allow", "deny". The client would really have to know in
&gt; advance that this particular URI models an access right.

I agree with Bruno. Mapping "200 OK" = allow and "404 Not Found" = deny is an abuse of HTTP response codes.

Regards,
Brian


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10853<br>
Sender:Stephan Koops &lt;Stephan.Koops@...&gt;<br>
Post Date/Time:2008-05-29 13:45:03<br>
Subject:Re: [rest-discuss] Re: Is PUT with no entity allowed?<br>
Message:<br><br>
<pre>Hi Brian,

 &gt; Mapping "200 OK" = allow and "404 Not Found" = deny is an abuse of 
HTTP response codes.

The design is, that a resource represents the right to do something. Why 
is this now allowed?

best regards
  Stephan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10854<br>
Sender:"Brian Smith" &lt;brian@...&gt;<br>
Post Date/Time:2008-05-29 14:10:07<br>
Subject:RE: [rest-discuss] Re: Is PUT with no entity allowed?<br>
Message:<br><br>
<pre>Stephan Koops wrote:
&gt;  &gt; Mapping "200 OK" = allow and "404 Not Found" = deny is an abuse of 
&gt; &gt; HTTP response codes.
&gt; 
&gt; The design is, that a resource represents the right to do 
&gt; something. Why is this now allowed?

I'm not saying that is not allowed. I'm just saying it is a bad idea.

- Brian


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10855<br>
Sender:Stephan Koops &lt;Stephan.Koops@...&gt;<br>
Post Date/Time:2008-05-29 14:18:22<br>
Subject:Re: [rest-discuss] Re: Is PUT with no entity allowed?<br>
Message:<br><br>
<pre>Hi Brian,
&gt;&gt;&gt; Mapping "200 OK" = allow and "404 Not Found" = deny is an abuse of HTTP response codes.
&gt;&gt;&gt;       
&gt;&gt; The design is, that a resource represents the right to do 
&gt;&gt; something. Why is this now allowed?
&gt;&gt;     
&gt; I'm not saying that is not allowed. I'm just saying it is a bad idea.
&gt;   
Ok, that was nearly equal for me in this case.
Why is it a bad idea to represent a right as resource, and the absence 
of a right with the absence of the resource?

Stephan
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10856<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-05-29 14:29:07<br>
Subject:Re: [rest-discuss] Is PUT with no entity allowed?<br>
Message:<br><br>
<pre>There may be better ways to model the particular use case(s) being  
discussed in that thread, but it is legal for PUT to have empty  
entities.

Subbu

On May 29, 2008, at 2:13 AM, Jerome Louvel wrote:

&gt; Hi all,
&gt;
&gt; We had an interesting question in the Restlet list regarding PUT  
&gt; requests with no entity. The idea is to create (or update) a  
&gt; resource with an empty content, like a 'null' list item. See the  
&gt; discussion thread:
&gt; http://restlet.tigris.org/servlets/BrowseList?list=discuss&amp;by=thread&amp;from=656617
&gt;
&gt; From an HTTP 1.1 specification point of view this isn't clear  
&gt; either. Of course there are easy workarounds such as sending a  
&gt; special 'empty' representation (ex: "&lt;content/&gt;").
&gt;
&gt; Any thought?
&gt;
&gt; -- 
&gt; Jerome Louvel
&gt; http://www.restlet.org
&gt;
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10857<br>
Sender:Bruno Harbulot &lt;Bruno.Harbulot@...&gt;<br>
Post Date/Time:2008-05-29 15:14:50<br>
Subject:Re: Is PUT with no entity allowed?<br>
Message:<br><br>
<pre>

Stephan Koops wrote:
&gt; 
&gt; 
&gt; Hi Brian,
&gt; 
&gt;&gt;&gt;&gt; Mapping "200 OK" = allow and "404 Not Found" = deny is an abuse of HTTP response codes.
&gt;&gt;&gt;&gt;       
&gt;&gt;&gt; The design is, that a resource represents the right to do 
&gt;&gt;&gt; something. Why is this now allowed?
&gt;&gt;&gt;     
&gt;&gt; I'm not saying that is not allowed. I'm just saying it is a bad idea.
&gt;&gt;   
&gt; Ok, that was nearly equal for me in this case.
&gt; Why is it a bad idea to represent a right as resource, and the absence 
&gt; of a right with the absence of the resource?

It has to do with HATEOAS. The representation you obtain and maintain on 
the client can guide it as to what it can do with that resource. This 
representation could also be cached (either internally or via proxies). 
It seems harder to be consistent in modelling the application state by 
interpreting the meaning of a non-existing resource. How would you even 
know it's a resource that models an access-right otherwise?

Best wishes,

Bruno.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10858<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-05-29 17:11:04<br>
Subject:Re: [rest-discuss] Re: Stack operations using Rest<br>
Message:<br><br>
<pre>Well said.

Regards,
Subbu

On May 27, 2008, at 4:34 AM, Aristotle Pagaltzis wrote:

&gt; * akleak &lt;andy@...&gt; [2008-05-20 06:55]:
&gt; &gt; I would like to provide a REST interface to some Stack (Lifo)
&gt; &gt; collections on my system.
&gt; &gt;
&gt; &gt; Here is my idea for a restful STACK interface:
&gt; &gt;
&gt; &gt; &gt;Push (add an item to the top of the stack)
&gt; &gt; POST /queue (action:create, controller: stack)
&gt; &gt;
&gt; &gt; &gt; Pop (read the top item, then destroy it)
&gt; &gt; GET /queue/top (action:read, controller: stack)
&gt; &gt; DEL /queue/top (action:delete, controller: stack)
&gt; &gt;
&gt; &gt; What is the best way to implement this?? Any feedback welcome.
&gt;
&gt; Theres be a container resource, a pointer to the top of the
&gt; stack, and individual elements, as outlined. For the purposes of
&gt; illustration lets assume we put the container at `/stack`, the
&gt; pointer to top of stack at `/stack/top`, and elements at
&gt; `/stack/{num}`, where `num` increases monotonically in the
&gt; interest of idempotency (ie. no two elements are ever assigned
&gt; the same number).
&gt;
&gt; `GET /stack` --&gt; `200 OK`, Content:
&gt;
&gt; &lt;stack top="/stack/top" self="/stack"&gt;
&gt; &lt;elt pos="0" href="/stack/10"/&gt; &lt;!-- top of stack --&gt;
&gt; &lt;elt pos="1" href="/stack/8"/&gt;
&gt; &lt;elt pos="2" href="/stack/7"/&gt;
&gt; &lt;/stack&gt;
&gt;
&gt; Interesting, so lets see.
&gt;
&gt; `GET /queue/top` --&gt; `303 See Other /queue/10`
&gt;
&gt; Aha; well, we knew what the top of stack is.
&gt;
&gt; `POST /queue` --&gt; `201 Created /queue/15`
&gt;
&gt; OK, fine.
&gt;
&gt; `GET /queue/top` --&gt; `303 See Other /queue/15`
&gt;
&gt; Yeap, as expected.
&gt;
&gt; `DELETE /queue/15` --&gt; `204 No Content`
&gt;
&gt; Hm, so I can delete any element I want? Isnt this a stack?
&gt;
&gt; `DELETE /queue/7` --&gt; `409 Conflict`
&gt;
&gt; Oh; no I cant. Its a stack, and deleting elements from
&gt; elsewhere than the top would conflict with the state of the
&gt; system.
&gt;
&gt; `DELETE /queue/top` --&gt; `403 Forbidden`
&gt;
&gt; So I cant delete the top-of-stack pointer. Handling this request
&gt; in this fashion is actually important. Making it respond 2xx, but
&gt; actually deleting a resource *other* than `/stack/top` *but not*
&gt; `/stack/top` itself is broken. (It would be fine to delete
&gt; another resource *and* `/stack/top`, however.) It violates the
&gt; semantics of `DELETE`. This means that intermediaries, f.ex.,
&gt; which do not know the particulars of the stack protocol after
&gt; all, will get the wrong impression about what actually happened.
&gt; Dont do that.
&gt;
&gt; In any case the most important part here is actually the design
&gt; of the resource you `GET` from `/stack`: that is where the
&gt; hypermedia happens. Hypermedia is the cornerstone of REST: the
&gt; format design needs to make all parts of the service explicit via
&gt; links. The URI design particulars are actually irrelevant; what
&gt; matters is where in the document the link is found. This is the
&gt; basis for how to communicate to the client how it can interact
&gt; with resources linked by `elt` elements as opposed to the one
&gt; linked by the `top` attribute as opposed to the one linked by the
&gt; `self` attribute. Given a spec of these semantics, every link
&gt; could point to a completely different host, each with a
&gt; completely different URI structure  and as long as that
&gt; conglomerate adhered to the semantics promised to clients by the
&gt; specification of the stack document format, to the client it
&gt; would all look just the same.
&gt;
&gt; This means, f.ex., that the client actually knew ahead of time
&gt; that it couldnt successfully `DELETE /stack/7`, because there is
&gt; no other conclusion to draw from the given document based on the
&gt; semantics of the format.
&gt;
&gt; REST is hypermedia. URI design is orthogonal to hypermedia.
&gt; Therefore, URI design is not part of REST (although its
&gt; undeniably a good thing; its just good because of reasons
&gt; other than REST).
&gt;
&gt; Regards,
&gt; --  
&gt; Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10859<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-05-31 01:04:35<br>
Subject:Re: Is PUT with no entity allowed?<br>
Message:<br><br>
<pre>* Stephan Koops &lt;Stephan.Koops@...&gt; [2008-05-29 16:20]:
&gt; Why is it a bad idea to represent a right as resource, and
&gt; the absence of a right with the absence of the resource?

The absence of a resource is explicitly devoid of meaning in
HTTP. If you assign a meaning to it on some semantical level
in the app, that level will be inaccessible to generic HTTP
implementations. This probably wont make your service entirely
non-compliant with HTTP, but it reduces all the benefits that
are contingent on the uniform interface.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10860<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-05-31 01:19:15<br>
Subject:REST: The short version<br>
Message:<br><br>
<pre>I've posted a short article (@1000 words) on REST that encapsulates my
own understanding of the style. It's based on my notes from various
internal presentations.

http://exyus.com/articles/rest-the-short-version/

I welcome any and all constructive feedback. You can use the comment
system at the page and I'll respond there as well.

Thanks in advance.

Mike Amundsen

-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10862<br>
Sender:"wahbedahbe" &lt;andrew.wahbe@...&gt;<br>
Post Date/Time:2008-05-31 04:50:54<br>
Subject:Re: REST: The short version<br>
Message:<br><br>
<pre>Well done -- complex subjects are always hard to summarize like that.
I like the images you added to each subsection too -- it's a nice touch.

Your description of the HATEOAS constraint doesn't match my
understanding of it however. The application state is in the client.
It's not the same thing as the resource state on the server (which is
how I interpreted your description). The simplest way to think about
it is as a web of connected resources being a state machine. The
client navigates the state machine by executing GETs -- the current
state of the application is determined by the resource representation
it is currently "viewing" (it's actually defined by multiple resource
representations at one time, such as images and scripts linked from an
HTML doc, but let's ignore that complexity for now). The hyperlinks in
the representation are the possible transitions through the state machine.

But the state machine has more to it -- the client can change the
state machine as well as navigate it. A POST allows a client to add a
state (and usually navigate to that new state in one step). A PUT
allows a client to change a state and a DELETE lets it remove a state.
The changes that a client can make at any time are also governed by
the representation that it is currently viewing. This is usually done
through forms embedded in the representation.

At least that's my take on it...

Andrew Wahbe

--- In rest-discuss@yahoogroups.com, "mike amundsen" &lt;mamund@...&gt; wrote:
&gt;
&gt; I've posted a short article (@1000 words) on REST that encapsulates my
&gt; own understanding of the style. It's based on my notes from various
&gt; internal presentations.
&gt; 
&gt; http://exyus.com/articles/rest-the-short-version/
&gt; 
&gt; I welcome any and all constructive feedback. You can use the comment
&gt; system at the page and I'll respond there as well.
&gt; 
&gt; Thanks in advance.
&gt; 
&gt; Mike Amundsen
&gt; 
&gt; -- 
&gt; mca
&gt; http://amundsen.com/blog/
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10863<br>
Sender:"Xavier Noria" &lt;fxn@...&gt;<br>
Post Date/Time:2008-05-31 09:30:06<br>
Subject:Re: [rest-discuss] Re: REST: The short version<br>
Message:<br><br>
<pre>My understanding is that resource URIs may not be unique. Canonical example:

  /dists/foo-2.0.tar.gz
  /dists/stable.tar.gz

-- fxn

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10864<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-05-31 12:08:15<br>
Subject:Restful validation error reporting<br>
Message:<br><br>
<pre>Hi all,

 

I am wondering how you would react to a POST that does not pass a set of
criterias?

 

An example: a POST to /customers can create a new customer based on a number
of content-types. One of them is www-urlencoded from a browser. That browser
uses a form that lives at /customers;editor.html and has a &lt;form&gt; pointing
to /customer. The editor page was accessed after the client dereferenced
/customers and was given a 300.

 

Enoug said, data validation fails, /customers cannot accept the request
entity. Would you 400 to the request and pass /customers;editor.html in the
body with an appropriate Content-Location header (assuming the client has
Accept: application/html+xml) and the details of why the validation failed?

 

It seems to be the best solution I've found so far but I'm sure other people
have come up with better alternatives J

 

Seb

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10865<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-05-31 13:15:40<br>
Subject:Re: [rest-discuss] Re: REST: The short version<br>
Message:<br><br>
<pre>Thanks for the feedback.

If I understand your comment, you mean to say that a single resource
may have more than one URI, right?

MikeA

On Sat, May 31, 2008 at 5:30 AM, Xavier Noria &lt;fxn@...&gt; wrote:
&gt; My understanding is that resource URIs may not be unique. Canonical example:
&gt;
&gt;  /dists/foo-2.0.tar.gz
&gt;  /dists/stable.tar.gz
&gt;
&gt; -- fxn
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10866<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-05-31 13:24:19<br>
Subject:Re: [rest-discuss] Restful validation error reporting<br>
Message:<br><br>
<pre>Seb:

I usually do just what you describe: return 400 with an informative
error message.

As for the media-type of the return, I do this:
- return a helpful (possibly brief) message as the status description
(400 "Invalid Document ID")
- build up a body in the same media-type as the Content-Type header
used in the POST
- if the Content-Type of the POST was "www-urlencoded", use
"text/html" as the body type
- if the Content-Type of the POST was some form of binary", use
"text/plain" as the body type

This way clients that do not render the body will have some helpful
data they can echo in a dialog box

MikeA

On Sat, May 31, 2008 at 8:08 AM, Sebastien Lambla &lt;seb@...&gt; wrote:
&gt; Hi all,
&gt;
&gt;
&gt;
&gt; I am wondering how you would react to a POST that does not pass a set of
&gt; criterias?
&gt;
&gt;
&gt;
&gt; An example: a POST to /customers can create a new customer based on a number
&gt; of content-types. One of them is www-urlencoded from a browser. That browser
&gt; uses a form that lives at /customers;editor.html and has a &lt;form&gt; pointing
&gt; to /customer. The editor page was accessed after the client dereferenced
&gt; /customers and was given a 300.
&gt;
&gt;
&gt;
&gt; Enoug said, data validation fails, /customers cannot accept the request
&gt; entity. Would you 400 to the request and pass /customers;editor.html in the
&gt; body with an appropriate Content-Location header (assuming the client has
&gt; Accept: application/html+xml) and the details of why the validation failed?
&gt;
&gt;
&gt;
&gt; It seems to be the best solution I've found so far but I'm sure other people
&gt; have come up with better alternatives J
&gt;
&gt;
&gt;
&gt; Seb
&gt;
&gt; 



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10867<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-05-31 13:29:39<br>
Subject:Fwd: Unable to deliver your message<br>
Message:<br><br>
<pre>Andrew:

I'm very interested in exploring this particular constraint more. I've
not seen many clear descriptions of HATEOS and your feedback is
helpful.

You say "The application state is in the client. It's not the same
thing as the resource state on the server..." So you are saying that
hypermedia is the way the client changes the client's state, right? I
don't read Fielding as talking about client state here. Maybe
somewhere else?

You say "...the client can change the state machine as well as
navigate it..." when I am saying the client can change the state of
the application. Are we really talking about two different things or
just the same thing w/ different names?


Finally, I'm fully on board with the "state machine" concept. I have
another short piece I'm working on that centers on that.

MikeA

On Sat, May 31, 2008 at 12:50 AM, wahbedahbe &lt;andrew.wahbe@...&gt; wrote:
&gt; Well done -- complex subjects are always hard to summarize like that.
&gt; I like the images you added to each subsection too -- it's a nice touch.
&gt;
&gt; Your description of the HATEOAS constraint doesn't match my
&gt; understanding of it however. The application state is in the client.
&gt; It's not the same thing as the resource state on the server (which is
&gt; how I interpreted your description). The simplest way to think about
&gt; it is as a web of connected resources being a state machine. The
&gt; client navigates the state machine by executing GETs -- the current
&gt; state of the application is determined by the resource representation
&gt; it is currently "viewing" (it's actually defined by multiple resource
&gt; representations at one time, such as images and scripts linked from an
&gt; HTML doc, but let's ignore that complexity for now). The hyperlinks in
&gt; the representation are the possible transitions through the state machine.
&gt;
&gt; But the state machine has more to it -- the client can change the
&gt; state machine as well as navigate it. A POST allows a client to add a
&gt; state (and usually navigate to that new state in one step). A PUT
&gt; allows a client to change a state and a DELETE lets it remove a state.
&gt; The changes that a client can make at any time are also governed by
&gt; the representation that it is currently viewing. This is usually done
&gt; through forms embedded in the representation.
&gt;
&gt; At least that's my take on it...
&gt;
&gt; Andrew Wahbe
&gt;
&gt; --- In rest-discuss@yahoogroups.com, "mike amundsen" &lt;mamund@...&gt; wrote:
&gt;&gt;
&gt;&gt; I've posted a short article (@1000 words) on REST that encapsulates my
&gt;&gt; own understanding of the style. It's based on my notes from various
&gt;&gt; internal presentations.
&gt;&gt;
&gt;&gt; http://exyus.com/articles/rest-the-short-version/
&gt;&gt;
&gt;&gt; I welcome any and all constructive feedback. You can use the comment
&gt;&gt; system at the page and I'll respond there as well.
&gt;&gt;
&gt;&gt; Thanks in advance.
&gt;&gt;
&gt;&gt; Mike Amundsen
&gt;&gt;
&gt;&gt; --
&gt;&gt; mca
&gt;&gt; http://amundsen.com/blog/
&gt;&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10868<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2008-05-31 14:16:58<br>
Subject:Re: [rest-discuss] Re: REST: The short version<br>
Message:<br><br>
<pre>"wahbedahbe" &lt;andrew.wahbe@...&gt; writes:
&gt; Your description of the HATEOAS constraint doesn't match my
&gt; understanding of it however. The application state is in the client.
&gt; It's not the same thing as the resource state on the server (which is
&gt; how I interpreted your description). The simplest way to think about
&gt; it is as a web of connected resources being a state machine. The
&gt; client navigates the state machine by executing GETs -- the current
&gt; state of the application is determined by the resource representation
&gt; it is currently "viewing" (it's actually defined by multiple resource
&gt; representations at one time, such as images and scripts linked from an
&gt; HTML doc, but let's ignore that complexity for now). The hyperlinks in
&gt; the representation are the possible transitions through the state machine.
&gt;
&gt; But the state machine has more to it -- the client can change the
&gt; state machine as well as navigate it. A POST allows a client to add a
&gt; state (and usually navigate to that new state in one step). A PUT
&gt; allows a client to change a state and a DELETE lets it remove a state.
&gt; The changes that a client can make at any time are also governed by
&gt; the representation that it is currently viewing. This is usually done
&gt; through forms embedded in the representation.

I didn't get such a different reading from Mike's article, but I think I have
a different view of the Hypermedia constraint than you do

The client doesn't only execute GETs to transition between states, POSTs
transition between states just as well.

The client doesn't *change* the state machine, per se  it merely transitions
between the states allowed by the server, as described by the hypermedia.
Those transitions might end up mutating the state machine, but that's not the
same as the client mutating the state machine.

Let's posit a recipe app.  One can view recipes, and use a form to create new
ones.  The states then are:

&lt;/&gt;  --GET-&gt; &lt;/recipe/1/&gt;
    `--GET-&gt; &lt;/recipe/2/&gt;
    `-POST-&gt; &lt;/recipe/&gt; -201-&gt; &lt;/recipe/3&gt;

POSTing (and this is POST-as-process, which is most of the web is, really)
the form to /recipe/ doesn't itself create /recipe/3/, instead the server
creates a new state in the machine, and transitions the client to it (via the
Location header).

Even in the POST-as-append case (and for PUT and DELETE), the server is still
involved.  If the original form says to the client, "go ahead and PUT
&lt;/recipe/3/&gt;" (which doesn't already exist, the PUT would create it), one
could consider the PUT not as transitioning to the new state that it created,
but instead transitioning to a now-enabled state that the server advertised.
The state /recipe/3/ exists in the state machine, whether the PUT "creates"
("enables") it or not.

&lt;/&gt; -PUT-&gt; &lt;/recipe/3/&gt; -201-&gt; &lt;/recipe/3/&gt;


: I think "HATEOAS" is a bad name.  "Hypermedia constraint" is more
descriptive, and less "HATE"-filled. :)

-- 
...jsled
http://asynchronous.org/ - a=jsled; b=asynchronous.org; echo ${a}@${b}
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10869<br>
Sender:"Xavier Noria" &lt;fxn@...&gt;<br>
Post Date/Time:2008-05-31 17:33:17<br>
Subject:Re: [rest-discuss] Re: REST: The short version<br>
Message:<br><br>
<pre>On Sat, May 31, 2008 at 3:15 PM, mike amundsen &lt;mamund@...&gt; wrote:

&gt; Thanks for the feedback.
&gt;
&gt; If I understand your comment, you mean to say that a single resource
&gt; may have more than one URI, right?

That's right.

Nevertheless I said it is my interpretation because in my view it
depends on the metaphor behind a resource. One could argue that
foo-2.0.tar.gz and stable.tar.gz are diferent resources, in the sense
that conceptually they respond to different definitions. The fact that
their representation coincide would not be relevant.

But I think it is commonly accepted that resources may have more than
one URI, and that one involving tarballs is a  common example.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10870<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-05-31 18:56:03<br>
Subject:Re: [rest-discuss] Re: REST: The short version<br>
Message:<br><br>
<pre>Xavier:

Yep, I've recieved some other comments along the same line. I'm
working on clarifying the text for the first constraint to cover this
aspect.

Thanks again.

MikeA

On Sat, May 31, 2008 at 1:33 PM, Xavier Noria &lt;fxn@...&gt; wrote:
&gt; On Sat, May 31, 2008 at 3:15 PM, mike amundsen &lt;mamund@...&gt; wrote:
&gt;
&gt;&gt; Thanks for the feedback.
&gt;&gt;
&gt;&gt; If I understand your comment, you mean to say that a single resource
&gt;&gt; may have more than one URI, right?
&gt;
&gt; That's right.
&gt;
&gt; Nevertheless I said it is my interpretation because in my view it
&gt; depends on the metaphor behind a resource. One could argue that
&gt; foo-2.0.tar.gz and stable.tar.gz are diferent resources, in the sense
&gt; that conceptually they respond to different definitions. The fact that
&gt; their representation coincide would not be relevant.
&gt;
&gt; But I think it is commonly accepted that resources may have more than
&gt; one URI, and that one involving tarballs is a  common example.
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10871<br>
Sender:"wahbedahbe" &lt;andrew.wahbe@...&gt;<br>
Post Date/Time:2008-06-01 19:00:43<br>
Subject:Re: REST: The short version<br>
Message:<br><br>
<pre>Hmmm I don't think we are that far off... 


&gt; I didn't get such a different reading from Mike's article, but I
think I have
&gt; a different view of the Hypermedia constraint than you do
&gt; 
&gt; The client doesn't only execute GETs to transition between states, POSTs
&gt; transition between states just as well.

Agreed. That is what I meant when I said "and usually navigate to that
state in one step". When you are looking at things from a state
machine perspective, POST is often like a request that says "Please
add the state described in the body and transition me to that new
state". Though its not necessarily always like that I suppose. It
could perhaps be generalized to something like this: "Please change
the state machine as described in the body and transition me to the
state that represents my changes"? 

&gt; 
&gt; The client doesn't *change* the state machine, per se  it merely
transitions
&gt; between the states allowed by the server, as described by the
hypermedia.
&gt; Those transitions might end up mutating the state machine, but
that's not the
&gt; same as the client mutating the state machine.
&gt; 

So I agree that the server is changing the state machine in response
to the requests from the client. The client can't directly change the
state machine (i.e. the resources) -- it has to ask the server to do
it on its behalf. The requests made by the clients effect the changes
to the resources/state machine performed by the server (though of
course resources could change for other reasons -- e.g. a resource
that represents the weather in New York).

Was I missing something other than the server being involved though?


&gt; 
&gt; : I think "HATEOAS" is a bad name.  "Hypermedia constraint" is more
&gt; descriptive, and less "HATE"-filled. :)
&gt; 

Ya, HATEOAS is a mouth-full... but I think the "engine" and
"application state" parts are important as well. I think they
represent specific areas where attempts at REST tend to fall short.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10873<br>
Sender:"Daniel Yokomizo" &lt;daniel.yokomizo@...&gt;<br>
Post Date/Time:2008-06-01 19:59:49<br>
Subject:Re: [rest-discuss] Restful validation error reporting<br>
Message:<br><br>
<pre>On Sun, Jun 1, 2008 at 4:39 PM, Berend de Boer &lt;berend@...&gt; wrote:
&gt;&gt;&gt;&gt;&gt;&gt; "mike" == mike amundsen &lt;mamund@...&gt; writes:
&gt;
&gt;    mike&gt; As for the media-type of the return, I do this: - return a
&gt;    mike&gt; helpful (possibly brief) message as the status description
&gt;    mike&gt; (400 "Invalid Document ID")
&gt;
&gt; I do this as well.
&gt;
&gt;    mike&gt; - build up a body in the same
&gt;    mike&gt; media-type as the Content-Type header used in the POST
&gt;
&gt; Nice idea, however wouldn't you say that text/plain would suffice in all
&gt; cases? A browser renders text/plain just as well, if it is just a short
&gt; message. For more complex responses and formatting text/html is ideal of
&gt; course.
&gt;
&gt; Is that the reason for you to return text/html? I.e. you have error
&gt; content that renders better in HTML?

I use something similar to Mike's approach. If we use the same
media-type as the request we can ensure the agent will understand it,
sometimes the agent is a browser but sometimes it isn't. Also if the
Content-Type is extensible you can just return the POSTed entity with
annotated error messages. The difference in my approach is that we
check the Accepts header to see if the Content-Type is acceptable to
the agent, because if it isn't the agent probably won't be prepared to
handle it.

&gt; --
&gt; Cheers,
&gt;
&gt; Berend de Boer

Best regards,
Daniel Yokomizo

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10874<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2008-06-01 21:33:46<br>
Subject:Re: [rest-discuss] Re: REST: The short version<br>
Message:<br><br>
<pre>"wahbedahbe" &lt;andrew.wahbe@...&gt; writes:
&gt; Hmmm I don't think we are that far off...
[]
&gt; Was I missing something other than the server being involved though?

No, I don't think so.

&gt;&gt; : I think "HATEOAS" is a bad name. "Hypermedia constraint" is more
&gt;&gt; descriptive, and less "HATE"-filled. :)
&gt;&gt;
&gt;
&gt; Ya, HATEOAS is a mouth-full... but I think the "engine" and
&gt; "application state" parts are important as well. I think they
&gt; represent specific areas where attempts at REST tend to fall short.

Oh, certainly they're important, and I'd strongly agree that many visible
"REST" APIs are woefully insufficient with respect to hypermedia.

But we often don't include all the details of a thing in its name.  Simply as
a name, HATEOAS is just bad, imho.

-- 
...jsled
http://asynchronous.org/ - a=jsled; b=asynchronous.org; echo ${a}@${b}
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10875<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-06-02 11:21:04<br>
Subject:RE: [rest-discuss] Restful validation error reporting<br>
Message:<br><br>
<pre>Rasta automatically returns an error message in whatever is in the Accept:
header, using hte request media type as a differenciating factor only when
there's a doubt as to what conneg would return.

The issue here is for browsers. Returning text/plain is not an option and
returning the original form with a marker of what the error was (missing
email address for example) is the expectation. Hence why I was suggesting
sending back the editor html page in the body of the 400, it will be the
same response code as with other media-types, but the user's expectations in
form validation are preserved. 

-----Original Message-----
From: Daniel Yokomizo [mailto:daniel.yokomizo@...] 
Sent: 01 June 2008 21:00
To: Berend de Boer
Cc: mike amundsen; Sebastien Lambla; rest-discuss@yahoogroups.com
Subject: Re: [rest-discuss] Restful validation error reporting

On Sun, Jun 1, 2008 at 4:39 PM, Berend de Boer &lt;berend@...&gt; wrote:
&gt;&gt;&gt;&gt;&gt;&gt; "mike" == mike amundsen &lt;mamund@...&gt; writes:
&gt;
&gt;    mike&gt; As for the media-type of the return, I do this: - return a
&gt;    mike&gt; helpful (possibly brief) message as the status description
&gt;    mike&gt; (400 "Invalid Document ID")
&gt;
&gt; I do this as well.
&gt;
&gt;    mike&gt; - build up a body in the same
&gt;    mike&gt; media-type as the Content-Type header used in the POST
&gt;
&gt; Nice idea, however wouldn't you say that text/plain would suffice in all
&gt; cases? A browser renders text/plain just as well, if it is just a short
&gt; message. For more complex responses and formatting text/html is ideal of
&gt; course.
&gt;
&gt; Is that the reason for you to return text/html? I.e. you have error
&gt; content that renders better in HTML?

I use something similar to Mike's approach. If we use the same
media-type as the request we can ensure the agent will understand it,
sometimes the agent is a browser but sometimes it isn't. Also if the
Content-Type is extensible you can just return the POSTed entity with
annotated error messages. The difference in my approach is that we
check the Accepts header to see if the Content-Type is acceptable to
the agent, because if it isn't the agent probably won't be prepared to
handle it.

&gt; --
&gt; Cheers,
&gt;
&gt; Berend de Boer

Best regards,
Daniel Yokomizo


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10876<br>
Sender:"Avi Flax" &lt;avif@...&gt;<br>
Post Date/Time:2008-06-04 04:32:04<br>
Subject:Article: Building RESTful Web Apps with Groovy and Restlet Part 1<br>
Message:<br><br>
<pre>Hi all, I just posted this article and I thought it might be of interest:

http://blog.arc90.com/2008/06/building_restful_web_apps_groovy_restlet_part_1.php

It's very, very basic, but the idea is that if there's interest, it'll
be a series, so it'll get more advanced. If you want to see more
please let me know!

Thanks,
Avi

-- 
Avi Flax  Lead Technologist  Partner  Arc90  http://arc90.com
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10877<br>
Sender:vikranth katanguri &lt;kvikranth@...&gt;<br>
Post Date/Time:2008-06-04 07:05:38<br>
Subject:Re: [rest-discuss] Article: Building RESTful Web Apps with Groovy and Restlet Part 1<br>
Message:<br><br>
<pre>Hi All,
I have been far for a long time....i have a small clarification ..
WHAT IS THE DIFFERENCE BETWEEN REST AND SERVLET..............

can any one explain me the answer.......................
Thanks,
vikranth


----- Original Message ----
From: Avi Flax &lt;avif@...&gt;
To: rest-discuss@yahoogroups.com
Sent: Wednesday, June 4, 2008 10:02:04 AM
Subject: [rest-discuss] Article: Building RESTful Web Apps with Groovy and Restlet Part 1


Hi all, I just posted this article and I thought it might be of interest:

http://blog. arc90.com/ 2008/06/building _restful_ web_apps_ groovy_restlet_ part_1.php

It's very, very basic, but the idea is that if there's interest, it'll
be a series, so it'll get more advanced. If you want to see more
please let me know!

Thanks,
Avi

-- 
Avi Flax  Lead Technologist  Partner  Arc90  http://arc90. com
    


      </pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10878<br>
Sender:Stephan Koops &lt;Stephan.Koops@...&gt;<br>
Post Date/Time:2008-06-04 14:54:36<br>
Subject:Re: [rest-discuss] Article: Building RESTful Web Apps with Groovy and Restlet Part 1<br>
Message:<br><br>
<pre>Hi Vikranth,

REST is an architectural style and Servlet is a Specification of Sun to 
implement web applications.
If you want to build Restful web applications, you could use e.g. 
Restlet (www.restlet.org)

best regards
    Stephan

vikranth katanguri schrieb:
&gt; Hi All,
&gt; I have been far for a long time....i have a small clarification ..
&gt; WHAT IS THE DIFFERENCE BETWEEN REST AND SERVLET..............
&gt;
&gt; can any one explain me the answer.......................
&gt; Thanks,
&gt; vikranth
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10879<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2008-06-05 16:14:11<br>
Subject:Certified HTTP<br>
Message:<br><br>
<pre>Any opinions on this among those who have designed previous reliable
HTTP protocols? (Or anybody else?)
http://wiki.secondlife.com/wiki/Certified_HTTP_Project

(They do cite http://www.dehora.net/doc/httplr/draft-httplr-01.html )

They appear to claim RESTfulness, but not exactly explicitly:
"The bigger-picture goal is to make a simple way to conduct reliable
delivery and receipt such that general adoption by the wider community
is possible. This means that we have to respect HTTP where we can in
order to take advantage of existing tools and methodology, and to
never contradict common conventions in a REST world."

See also:
http://wiki.secondlife.com/wiki/Certified_HTTP#reliable_application_logic_in_body

"This includes technologies like httpr and ws-reliable.

"These tend to be thoroughly engineered protocol specifications which
regrettably repeat the mistakes of the nearly defunct XMLRPC and the
soon to join it SOAP -- namely, treating services as a function call.
This is a reasonable approach, and is probably the most obvious to the
engineers working on the problem. The most obvious path, which is
followed in both of the examples, is to package a traditional message
queue body into an HTTP body sent via POST. Treating web services as
function calls severely limits the expressive nature of HTTP and
should be avoided.

"Consumers of web services prefer REST APIs rather than function calls
over HTTP. I believe this is because REST is inherently more
comprehensible to consumers since all of the data is data the consumer
requested. In one telling data point, Amazon has both SOAP and REST
interfaces to their web services, and 85% of their usage is of the
REST interface[1]. I believe ceding power to the consumer is the only
path to make wide adoption possible. In doing so, we must drop the
entire concept of burying data the consumer wants inside application
data."

Also, what do you think of their attempt at a distributed transaction protocol?
http://wiki.secondlife.com/wiki/Certified_HTTP_Escrow

It claims to be atomic, but not ACID.  (As far as I know, you must
relax the ACID guarantees to do distributed agreement protocols among
multiple independent agents.)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10880<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-06-08 20:16:43<br>
Subject:Re: More Fun with DELETE<br>
Message:<br><br>
<pre>This thread is old (I am only just catching up on rest-discuss),
but I had to respond to this as I think the crucial point wasnt
made by anyone else.

* Jan Algermissen &lt;algermissen1971@...&gt; [2008-03-28 09:00]:
&gt; On 28.03.2008, at 08:21, Eric J. Bowman wrote:
&gt; &gt; Whichever way, the response to the confirmation would be 204
&gt; &gt; No Content, right?
&gt; 
&gt; I think a 2xx indicates that the resource is still producing
&gt; mappings [1], after a DELETE I would expect a 404 or a 410,
&gt; though it is up to the server in the end of course.
&gt; 
&gt; [1] In the sense of Roy's dissertation "A resource is a
&gt; temporarily varying membership function..."

This is incorrect. 404 always has the same meaning: no resource
was bound here. This is the same meaning it has when you GET
something, f.ex. So if the server responds to a DELETE with 404,
what its saying is that the DELETE was a no-op: there was no
resource bound to that URI before, and there isnt one now.

2xx is the right response to DELETE when the server wants to say
this URI used to be bound to a resource, but at your request, it
no longer is. In other words, 2xx is the status to return in the
case of an actual, successful deletion.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10881<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-06-08 20:30:56<br>
Subject:Re: More Fun with DELETE<br>
Message:<br><br>
<pre>* Eric J. Bowman &lt;eric@...&gt; [2008-03-30 09:05]:
&gt; My question for the group, is whether it's even valid to issue
&gt; a redirect for DELETE when GET, HEAD, PUT and perhaps OPTIONS
&gt; would respond 200 OK for the same resource. Does this violate
&gt; the uniform interface constraint, or the self-descriptive
&gt; message constraint? Or, no big deal?

I dont see any problem with it.

However, I also see no problem with your proposal to use 202 to
return a document requesting confirmation as long as the eventual
deletion is done using DELETE. I suppose you could generate a key
upon receipt of the first DELETE and send it to the client in the
202 response body, which should include a link that informs the
client it can DELETE the resource at the given URI by sending the
given token along in some particular header (within the next X
minutes or whatever). In this way, the protocol contract can be
encapsulated in the specification of the hypermedia format and
the URI space can be kept completely orthogonal to the operation.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10882<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-06-09 10:55:00<br>
Subject:Re: [rest-discuss] Re: More Fun with DELETE<br>
Message:<br><br>
<pre>Aristotle Pagaltzis wrote:
&gt; 
&gt; 
&gt; * Eric J. Bowman &lt;eric@... 
&gt; &lt;mailto:eric%40bisonsystems.net&gt;&gt; [2008-03-30 09:05]:
&gt;  &gt; My question for the group, is whether it's even valid to issue
&gt;  &gt; a redirect for DELETE when GET, HEAD, PUT and perhaps OPTIONS
&gt;  &gt; would respond 200 OK for the same resource. Does this violate
&gt;  &gt; the uniform interface constraint, or the self-descriptive
&gt;  &gt; message constraint? Or, no big deal?
&gt; 
&gt; I dont see any problem with it.
&gt; 
&gt; However, I also see no problem with your proposal to use 202 to
&gt; return a document requesting confirmation as long as the eventual
&gt; deletion is done using DELETE. 

Aristotle, I think 202 isn't right here. It would mean the request is 
accepted, but to be done later on, not that it requires further 
intervention.

There isn't a good mapping for this. 403 Forbidden (which I've seen used 
for terms and conditions) comes to mind as an option, or maybe 409 with 
instructions.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10883<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-06-09 19:32:13<br>
Subject:Re: More Fun with DELETE<br>
Message:<br><br>
<pre>* Bill de hOra &lt;bill@...&gt; [2008-06-09 13:00]:
&gt; Aristotle Pagaltzis wrote:
&gt; &gt; I also see no problem with your proposal to use 202 to return
&gt; &gt; a document requesting confirmation as long as the eventual
&gt; &gt; deletion is done using DELETE. 
&gt; 
&gt; Aristotle, I think 202 isn't right here. It would mean the
&gt; request is accepted, but to be done later on, not that it
&gt; requires further intervention.

Oh. You are right. I hadnt thought that through. 202 implies
that the server may later successfully perform the requested
operation on its own, which is not what it would really mean
in Erics confirmation protocol really. What he wants to say
is I wont fulfill that request unless you prove to me that
you meant it.

&gt; There isn't a good mapping for this. 403 Forbidden (which I've
&gt; seen used for terms and conditions) comes to mind as an option,
&gt; or maybe 409 with instructions.

Based on my phrasing above, 403 is in fact the right status code,
though it cannot convey the precise meaning. 409 requires a lot
of squiting to make it work in this case.

(I have used 403 in place of 401 for sending back an auth form
in the body in cases where HTTP Auth was not acceptable, btw.)

Thanks for your reply!

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10884<br>
Sender:Stephan Koops &lt;Stephan.Koops@...&gt;<br>
Post Date/Time:2008-06-10 07:35:09<br>
Subject:How to model a missing method?<br>
Message:<br><br>
<pre>Hi,

how should I model something, if I need a 5th method, but there are only 
GET, POST, PUT and DELETE?Example: I want to deactivate a user in a user 
or employee management. With SOAP, RPC or something like that I create a 
method deactivate, an call it with the user number. How should I model 
this with REST over HTTP? Do I have to GET the full user data (JSON, 
XML, ...), change the state to "deactivated" and PUT this back? Or 
should I PUT to the users sub resource /users/1234/status/ the entity 
"deactivated"?

best regards
   Stephan



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10885<br>
Sender:"Etan Wexler" &lt;yahoo.com@...&gt;<br>
Post Date/Time:2008-06-10 13:00:03<br>
Subject:Hypermedia as the engine of application state in REST-based architectures, and presumptions about the set of methods in REST-based architectures<br>
Message:<br><br>
<pre>Stephan Koops wrote (in
http://tech.groups.yahoo.com/group/rest-discuss/message/10884 ):

&gt; how should I model something, if I need a 5th method, but there are only 
&gt; GET, POST, PUT and DELETE?

There are at least 27 HTTP methods that have public descriptions. Other
methods are in private use. I do not know where you get the notion that
"GET", "POST", "PUT", and "DELETE" are the only methods. After all, you
submitted your question to rest-discuss, a forum for discussing the
Representational State Transfer and not much a forum for discussing
tricks for dealing with software tools that are broken as designed.

&gt; Example: I want to deactivate a user in a user 
&gt; or employee management. With SOAP, RPC or something like that I create a 
&gt; [method, "deactivate", and] call it with the user number. How should I model 
&gt; this with REST over HTTP?

What is REST over HTTP? It seems that you mean the use of HTTP in a
manner that is as faithful to REST as is possible. Honestly, though, I
have a tendency to be wrong when, given wording that is unclear to me, I
presume what people mean.

&gt; Do I have to GET the full user data (JSON, 
&gt; XML, ...), change the state to "deactivated" and PUT this back?

That is a possibility. Roy Fielding would tell you that you could also
send a request with the method "PATCH".

&gt; Or should I PUT to the [user's] sub resource /users/1234/status/ the entity 
&gt; "deactivated"?

Even with my tendency towards incorrect presumption, I hereby presume
that you mean that you would submit an HTTP "PUT" request for a resource
related to the user, where the related resource is the activation status
of the user and where the request has an entity-body that indicates
deactivation. I favor such an approach if the user and the activation
status explicitly relate to each other via hyperlinks in their
representations and if the representations explain or imply, by way of
the semantics of the media type of the representations, the operations
that a user agent and its clients must execute to achieve a successful
result.

-- 
Etan Wexler.
Please do not reply to me when replying to rest-discuss. I read the
messages that people send to rest-discuss and I do not want duplicates.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10886<br>
Sender:Michael Schuerig &lt;michael@...&gt;<br>
Post Date/Time:2008-06-10 13:03:46<br>
Subject:Pretty URLs, sessions, and no cookies<br>
Message:<br><br>
<pre>
I've come to see pretty URLs as part of a resource-oriented system, 
although this is not strictly true, of course. That I've been using 
Ruby on Rails for several years may have had some influence.

For layering sessions on top of stateless HTTP I know of two common 
ways: cookies and encoding a session ID in each URL. The latter is 
potentially vulnerable to hijacking and fixation attacks. The former 
obviously requires cookies and doesn't allow two parallel sessions in 
the same browser.

I'm looking for a way to have my cake and eat it: pretty and public 
URLs, no cookies or javascript required, and sessions nevertheless. And 
everything nicely RESTful, of course. I'm rather certain that this is 
an impossible combination, however, I thought I'd ask before giving up 
early.

Michael

-- 
Michael Schuerig
mailto:michael@...
http://www.schuerig.de/michael/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10887<br>
Sender:"Daniel Yokomizo" &lt;daniel.yokomizo@...&gt;<br>
Post Date/Time:2008-06-10 13:55:51<br>
Subject:Re: [rest-discuss] How to model a missing method?<br>
Message:<br><br>
<pre>On Tue, Jun 10, 2008 at 4:35 AM, Stephan Koops &lt;Stephan.Koops@...&gt; wrote:
&gt; Hi,
&gt;
&gt; how should I model something, if I need a 5th method, but there are only
&gt; GET, POST, PUT and DELETE?

Just to clear (or complicate ;) things up you can use other methods
(e.g. WebDAV methods), as long as they are well defined. Usually
though we use just the ones defined in RFC2616 but other well defined
methods are RESTful too.

&gt;Example: I want to deactivate a user in a user
&gt; or employee management. With SOAP, RPC or something like that I create a
&gt; method deactivate, an call it with the user number. How should I model
&gt; this with REST over HTTP? Do I have to GET the full user data (JSON,
&gt; XML, ...), change the state to "deactivated" and PUT this back? Or
&gt; should I PUT to the users sub resource /users/1234/status/ the entity
&gt; "deactivated"?

I would go with this option (i.e. "PUT /users/1234/status" with entity
text/plain "deactivated"). The mime type can be something else if it's
a better choice.

Now you could define a ACTIVATE/DEACTIVATE pair of new methods, but
it's tricky to do it correctly (i.e. applicable to many resources,
well defined semantics, etc.) and most applications (e.g. browsers,
proxies) won't be able to understand it, but it provides a better fit
(because the semantics are much less generic). Doing PUT sending
"activated"/"deactivated" works with other applications but the
semantics of PUT is underspecified (for this case). I wouldn't use
this approach unless I knew that I can control the client application
and it would be worth the effort (e.g. many resources have this
capability with a common semantics, the semantics is tricky enough
that it's interesting to other applications to be able to treat the
request different than a simple PUT)  to specify a custom method.

Both approaches can be made to work, but each has it's own set of
benefits. For example with a custom method you can call "OPTIONS
/users/1234" and receive a "Allow: GET, PUT, DEACTIVATE" header which
is easier to the user agent, overloading PUT will require a link in
the hypermedia (or in a Link header) of "/users/1234" to tell the user
that a transition to a active/inactive state is possible (i.e. inform
that the user can call "PUT /users/1234/status"), but then the
semantics is unclear because the server rely on the entity to
distinguish between each state and it's tricky to tell the user that
one entity is fine while the other isn't, other than the user trying
and getting an error. Of course the agent can inspect the
representation returned from "GET /users/1234" and see that the
current state is "inactive" and infer that "PUT /users/status/1234"
should have a entity "active".

Also it's important to not be seduced by the extension method approach
(i.e. define your own method instead of overloading the existing ones)
because without much thought it ends up with many new methods that
won't work on more than a couple of resources and severely reduce the
number of applications that can interact with yours. The atom spec is
a good example on how using just the basic HTTP methods with a good
mime type can go a long way.

&gt; best regards
&gt;   Stephan

Best regards,
Daniel Yokomizo

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10888<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-06-10 14:09:07<br>
Subject:Re: [rest-discuss] Pretty URLs, sessions, and no cookies<br>
Message:<br><br>
<pre>When I want to track a user throughout multiple requests (session)
without using a cookie, I use HTTP Authentication. I will point out
that most of the time I employ "user-specific" URIs - even when using
a cookie to track the user. I do this via 3xx redirects to maintain
consistent (and cache-able) hypermedia documents.

For example, after establishing the user tracking element (cookie or
http auth), my HTML document might have this link:
&lt;a href="/read-mail/"&gt;read my mail&lt;/a&gt;

When the user activates the link the HTTP request/response will look like this:

REQUEST:
GET /read-mail/
Cookie: mail-session:&lt;secured-random-value&gt;

RESPONSE
303 See Other
Location /read-mail/&lt;mail-box-id&gt;/

BTW - in the case of cookie-tracking, you also need to guard against
all the common security problems associated w/ stealing forging cookie
data. For that reason, I prefer HTTP Auth in cases like these.

Mike Amundsen


On Tue, Jun 10, 2008 at 9:03 AM, Michael Schuerig &lt;michael@...&gt; wrote:
&gt;
&gt; I've come to see pretty URLs as part of a resource-oriented system,
&gt; although this is not strictly true, of course. That I've been using
&gt; Ruby on Rails for several years may have had some influence.
&gt;
&gt; For layering sessions on top of stateless HTTP I know of two common
&gt; ways: cookies and encoding a session ID in each URL. The latter is
&gt; potentially vulnerable to hijacking and fixation attacks. The former
&gt; obviously requires cookies and doesn't allow two parallel sessions in
&gt; the same browser.
&gt;
&gt; I'm looking for a way to have my cake and eat it: pretty and public
&gt; URLs, no cookies or javascript required, and sessions nevertheless. And
&gt; everything nicely RESTful, of course. I'm rather certain that this is
&gt; an impossible combination, however, I thought I'd ask before giving up
&gt; early.
&gt;
&gt; Michael
&gt;
&gt; --
&gt; Michael Schuerig
&gt; mailto:michael@...
&gt; http://www.schuerig.de/michael/
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10889<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-06-10 18:05:13<br>
Subject:Re: [rest-discuss] Hypermedia as the engine of application state in REST-based architectures, and presumptions about the set of methods in REST-based architectures<br>
Message:<br><br>
<pre>&gt; Or should I PUT to the [user's] sub resource /users/1234/status/ the entity
&gt; "deactivated"?

You can do whatever you want! You can use a POST if you want. Just
make sure that this is coded in via a resource which is GETtable. That
is you don't hard code using a PUT on a named resource into your code.
Rather you do a GET and first find out the allowed methods and then
decide what you want to do. The key is reduced coupling via HATEOAS.

(ofcourse using POST is ugly etc. etc. , but it doesn't REALLY break
the REST constraints afaik).

Regards
Devdatta

2008/6/10 Etan Wexler &lt;yahoo.com@...&gt;:
&gt; Stephan Koops wrote (in
&gt; http://tech.groups.yahoo.com/group/rest-discuss/message/10884 ):
&gt;
&gt;&gt; how should I model something, if I need a 5th method, but there are only
&gt;&gt; GET, POST, PUT and DELETE?
&gt;
&gt; There are at least 27 HTTP methods that have public descriptions. Other
&gt; methods are in private use. I do not know where you get the notion that
&gt; "GET", "POST", "PUT", and "DELETE" are the only methods. After all, you
&gt; submitted your question to rest-discuss, a forum for discussing the
&gt; Representational State Transfer and not much a forum for discussing
&gt; tricks for dealing with software tools that are broken as designed.
&gt;
&gt;&gt; Example: I want to deactivate a user in a user
&gt;&gt; or employee management. With SOAP, RPC or something like that I create a
&gt;&gt; [method, "deactivate", and] call it with the user number. How should I
&gt;&gt; model
&gt;&gt; this with REST over HTTP?
&gt;
&gt; What is REST over HTTP? It seems that you mean the use of HTTP in a
&gt; manner that is as faithful to REST as is possible. Honestly, though, I
&gt; have a tendency to be wrong when, given wording that is unclear to me, I
&gt; presume what people mean.
&gt;
&gt;&gt; Do I have to GET the full user data (JSON,
&gt;&gt; XML, ...), change the state to "deactivated" and PUT this back?
&gt;
&gt; That is a possibility. Roy Fielding would tell you that you could also
&gt; send a request with the method "PATCH".
&gt;
&gt;&gt; Or should I PUT to the [user's] sub resource /users/1234/status/ the
&gt;&gt; entity
&gt;&gt; "deactivated"?
&gt;
&gt; Even with my tendency towards incorrect presumption, I hereby presume
&gt; that you mean that you would submit an HTTP "PUT" request for a resource
&gt; related to the user, where the related resource is the activation status
&gt; of the user and where the request has an entity-body that indicates
&gt; deactivation. I favor such an approach if the user and the activation
&gt; status explicitly relate to each other via hyperlinks in their
&gt; representations and if the representations explain or imply, by way of
&gt; the semantics of the media type of the representations, the operations
&gt; that a user agent and its clients must execute to achieve a successful
&gt; result.
&gt;
&gt; --
&gt; Etan Wexler.
&gt; Please do not reply to me when replying to rest-discuss. I read the
&gt; messages that people send to rest-discuss and I do not want duplicates.
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10890<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-06-10 21:46:50<br>
Subject:Re: How to model a missing method?<br>
Message:<br><br>
<pre>Hi Stephan,

* Stephan Koops &lt;Stephan.Koops@...&gt; [2008-06-10 09:40]:
&gt; how should I model something, if I need a 5th method, but there
&gt; are only GET, POST, PUT and DELETE?

generally, when you think you need more methods, what you
actually want is more resources. Remember that there is no
requirement for resources to relate to objects in your server
app, or to rows in a database, or anything like that; any bit of
server state that is interesting on its own can be considered a
resource.

&gt; Example: I want to deactivate a user in a user or employee
&gt; management. With SOAP, RPC or something like that I create a
&gt; method deactivate, an call it with the user number. How should
&gt; I model this with REST over HTTP? Do I have to GET the full
&gt; user data (JSON, XML, ...), change the state to "deactivated"
&gt; and PUT this back? Or should I PUT to the users sub resource
&gt; /users/1234/status/ the entity "deactivated"?

You can do it both ways. They are both appropriate, though one
more than the other depending on various circumstances.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10891<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-06-10 22:10:31<br>
Subject:Re: How to model a missing method?<br>
Message:<br><br>
<pre>* Daniel Yokomizo &lt;daniel.yokomizo@...&gt; [2008-06-10 16:00]:
&gt; I would go with this option (i.e. "PUT /users/1234/status" with
&gt; entity text/plain "deactivated"). The mime type can be
&gt; something else if it's a better choice.

I generally prefer `application/x-www-urlencoded`; in this
example, that would make the entity `active=1` or `active=0`.

&gt; Doing PUT sending "activated"/"deactivated" works with other
&gt; applications but the semantics of PUT is underspecified (for
&gt; this case).

No, theyre not: they depend on the hypermedia format that
contained the link which the client is using to PUT.

&gt; overloading PUT will require a link in the hypermedia (or in a
&gt; Link header) of "/users/1234" to tell the user that a
&gt; transition to a active/inactive state is possible (i.e. inform
&gt; that the user can call "PUT /users/1234/status")

You say that as if its bad thing. Hypermedia is the cornerstone
of REST.

And whats with this FUD about overloading PUT? This use of PUT
doesnt deviate from PUTs meaning in the uniform interface *at
all*: the client is sending a representation of the desired new
state of a resource to the server. Just because the resource has
a particular meaning in this application does not mean this is
something other than a PUT. There is no overloading going on.

REST is not CRUD (nor, of course, RPC). Its the representations
that carry meaning; methods are generic state-change operators
and no more.

&gt; but then the semantics is unclear because the server rely on
&gt; the entity to distinguish between each state

I see nothing unclear about that at all.

&gt; and it's tricky to tell the user that one entity is fine while
&gt; the other isn't, other than the user trying and getting an
&gt; error. Of course the agent can inspect the representation
&gt; returned from "GET /users/1234" and see that the current state
&gt; is "inactive" and infer that "PUT /users/status/1234" should
&gt; have a entity "active".

So to recap:

 In one case I have to send an OPTIONS request to the resource
  and then check whether the Accept header contains ACTIVATE or
  DEACTIVATE, so that I can use the right method to change the
  state.

 In the other case I have to send a GET request to the resource
  and then check the representation to see whether it contains
  `active=0` or `active=1`, so that I can PUT the right entity
  to change the state.

And you are saying the former is less tricky than the latter?

If you ask me, its the other way around.

&gt; Also it's important to not be seduced by the extension method
&gt; approach (i.e. define your own method instead of overloading
&gt; the existing ones) because without much thought it ends up with
&gt; many new methods that won't work on more than a couple of
&gt; resources and severely reduce the number of applications that
&gt; can interact with yours. The atom spec is a good example on how
&gt; using just the basic HTTP methods with a good mime type can go
&gt; a long way.

Now that I can wholeheartedly agree with.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10892<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-06-10 22:16:34<br>
Subject:Re: Pretty URLs, sessions, and no cookies<br>
Message:<br><br>
<pre>* Michael Schuerig &lt;michael@...&gt; [2008-06-10 15:55]:
&gt; I'm looking for a way to have my cake and eat it: pretty and
&gt; public URLs, no cookies or javascript required, and sessions
&gt; nevertheless.

I think you should start by questioning whether you need sessions
in the first place. What data are you storing in them and why
does that data not deserve to be a named first class resource?

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10893<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-06-10 22:27:56<br>
Subject:Re: Hypermedia as the engine of application state in REST-based	architectures, and presumptions about the set of methods in	REST-based architectures<br>
Message:<br><br>
<pre>* dev &lt;dev.akhawe@...&gt; [2008-06-10 20:10]:
&gt; (ofcourse using POST is ugly etc. etc. , but it doesn't REALLY
&gt; break the REST constraints afaik).

Its easy to abuse, and the fact that the HTML subset of HTTP has
no other method for affecting server state does not help with
this. But not only does it not break any REST constraint, in fact
as Roy posted just recently, its an equal party in the uniform
interface. Avoiding POST when it would be appropriate does not
improve the design of a service.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10894<br>
Sender:Michael Schuerig &lt;michael@...&gt;<br>
Post Date/Time:2008-06-10 22:33:43<br>
Subject:Re: Pretty URLs, sessions, and no cookies<br>
Message:<br><br>
<pre>On Wednesday 11 June 2008, Aristotle Pagaltzis wrote:
&gt; * Michael Schuerig &lt;michael@...&gt; [2008-06-10 15:55]:
&gt; &gt; I'm looking for a way to have my cake and eat it: pretty and
&gt; &gt; public URLs, no cookies or javascript required, and sessions
&gt; &gt; nevertheless.
&gt;
&gt; I think you should start by questioning whether you need sessions
&gt; in the first place. What data are you storing in them and why
&gt; does that data not deserve to be a named first class resource?

When I have a *user* interface where some resources need authenticated 
access, then I need some kind of session, don't I?

Michael

-- 
Michael Schuerig
mailto:michael@...
http://www.schuerig.de/michael/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10895<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-06-10 22:58:04<br>
Subject:Re: [rest-discuss] Re: How to model a missing method?<br>
Message:<br><br>
<pre>Aristotle Pagaltzis wrote:
&gt; 
&gt; 
&gt; Hi Stephan,
&gt; 
&gt; * Stephan Koops &lt;Stephan.Koops@... &lt;mailto:Stephan.Koops%40web.de&gt;&gt; 
&gt;  &gt; Example: I want to deactivate a user in a user or employee
&gt;  &gt; management. With SOAP, RPC or something like that I create a
&gt;  &gt; method deactivate, an call it with the user number. How should
&gt;  &gt; I model this with REST over HTTP? Do I have to GET the full
&gt;  &gt; user data (JSON, XML, ...), change the state to "deactivated"
&gt;  &gt; and PUT this back? Or should I PUT to the users sub resource
&gt;  &gt; /users/1234/status/ the entity "deactivated"?
&gt; 
&gt; You can do it both ways. They are both appropriate, though one
&gt; more than the other depending on various circumstances.

In this case (deactivate) I think you'll find the user has a lifecycle 
and therefor there's a state machine implicit in the domain. Once that's 
captured it can be modeled as a series of PUT calls updating the user 
state to either the user or the state URI.

If you already are using a extensible format for the user 
representation, this might be easier to develop at the cost of clients 
having to know how to articulate the state transitions (eg by embedding 
markup representing the desired next state in some kind of user profile 
document). Having the extra "state" URI always seems attractive but it 
always seems to require defining a new top level format just to 
manipulate the state. The client ha to know that as well. My preference 
of late has been the former - define extensions to open formats like 
Atom and manipulate user state via the user URI.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10896<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-06-10 23:10:44<br>
Subject:Re: [rest-discuss] Re: Hypermedia as the engine of application state in REST-based architectures, and presumptions about the set of methods in REST-based architectures<br>
Message:<br><br>
<pre>&gt;&gt; (ofcourse using POST is ugly etc. etc. , but it doesn't REALLY
&gt;&gt; break the REST constraints afaik).
&gt; this. But not only does it not break any REST constraint, in fact
&gt; as Roy posted just recently, it's an equal party in the uniform
&gt; interface. Avoiding POST when it would be appropriate does not
&gt; improve the design of a service.

Yeah I know. I just added that cos I didn't have the energy to fight
with everyone else on this. I have seen too many discussions on this
list where saying POST is just sacrilege :O !

The only thing (in my opinion) that using POST recklessly breaks is
"Engineer for Serendipity" (Roy's often quoted maxim). But in a well
designed system with proper GETtable resources driving the application
(sorry for the english there :) , I am not sure whether you would
break that too.

Regards
Devdatta

2008/6/10 Aristotle Pagaltzis &lt;pagaltzis@...&gt;:
&gt; * dev &lt;dev.akhawe@...&gt; [2008-06-10 20:10]:
&gt;
&gt;
&gt; It's easy to abuse, and the fact that the HTML subset of HTTP has
&gt; no other method for affecting server state does not help with
&gt;
&gt; Regards,
&gt; --
&gt; Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10897<br>
Sender:"Etan Wexler" &lt;yahoo.com@...&gt;<br>
Post Date/Time:2008-06-10 23:25:33<br>
Subject:[rest-discuss] Re: Pretty URLs, sessions, and no cookies<br>
Message:<br><br>
<pre>Michael Schuerig wrote (in
&lt;http://tech.groups.yahoo.com/group/rest-discuss/message/10894&gt;):

&gt; When I have a *user* interface where some resources need authenticated 
&gt; access, then I need some kind of session, don't I?

When you have a user interface in which access to some resources
requires authentication (and, presumably, authorization), there is no
need for maintaining a session at the origin server. As the
administrator of the origin server, all that you need is that each
request bear acceptable credentials. Even that is not quite correct,
because a request that fails to bear acceptable credentials should
prompt a response that bears a challenge for credentials. Did I miss
something?

-- 
Please do not reply to me when replying to rest-discuss. I read the
messages that people send to rest-discuss and I do not want duplicates.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10899<br>
Sender:"Daniel Yokomizo" &lt;daniel.yokomizo@...&gt;<br>
Post Date/Time:2008-06-10 23:41:03<br>
Subject:Re: [rest-discuss] Re: How to model a missing method?<br>
Message:<br><br>
<pre>On Tue, Jun 10, 2008 at 7:10 PM, Aristotle Pagaltzis &lt;pagaltzis@...&gt; wrote:
&gt; * Daniel Yokomizo &lt;daniel.yokomizo@...&gt; [2008-06-10 16:00]:
&gt;&gt; I would go with this option (i.e. "PUT /users/1234/status" with
&gt;&gt; entity text/plain "deactivated"). The mime type can be
&gt;&gt; something else if it's a better choice.
&gt;
&gt; I generally prefer `application/x-www-urlencoded`; in this
&gt; example, that would make the entity `active=1` or `active=0`.
&gt;
&gt;&gt; Doing PUT sending "activated"/"deactivated" works with other
&gt;&gt; applications but the semantics of PUT is underspecified (for
&gt;&gt; this case).
&gt;
&gt; No, they're not: they depend on the hypermedia format that
&gt; contained the link which the client is using to PUT.

My point is that PUT has a well defined semantics, while
activating/deactivating a resource may have different semantics. After
sending "PUT /users/1234/status active=0" the intermediates can't
possibly know that the cached representation for "GET /users/1234" is
stale (because the status text changed, for example). I'm talking
about the semantics of the method, which is defined in the RFC, not
what both ends know about the implied semantics of calling PUT in this
particular URI at this moment in time.

&gt;&gt; overloading PUT will require a link in the hypermedia (or in a
&gt;&gt; Link header) of "/users/1234" to tell the user that a
&gt;&gt; transition to a active/inactive state is possible (i.e. inform
&gt;&gt; that the user can call "PUT /users/1234/status")
&gt;
&gt; You say that as if it's bad thing. Hypermedia is the cornerstone
&gt; of REST.

You read it as if I said it as if it's a bad thing, but I think
HATEOAS is the best thing about REST.

&gt; And what's with this FUD about overloading PUT? This use of PUT
&gt; doesn't deviate from PUT's meaning in the uniform interface *at
&gt; all*: the client is sending a representation of the desired new
&gt; state of a resource to the server. Just because the resource has
&gt; a particular meaning in this application does not mean this is
&gt; something other than a PUT. There is no overloading going on.

Why are you so defensive? It's overloading as in it is using the PUT
verb to do some stuff to this particular URI, with the intention of
doing whatever PUT is supposed to (i.e. it's semantics) and some
additional stuff. Of course the effect is something more than simply
replacing the resource.

There's nothing wrong with the word overloading and nothing wrong with
handling a HTTP method doing the things specified in the RFC (i.e. the
semantics) and having more effects (if they don't conflict). I was
trying to explain the issue and the rationale behind it, instead of
just replying with a "do this" answer (BTW I'm not implying that you
did that).

&gt; REST is not CRUD (nor, of course, RPC).

When did I said it was CRUD? Instead of trying to read my mind could
you please just reply to the text I actually wrote.

&gt; It's the representations
&gt; that carry meaning; methods are generic state-change operators
&gt; and no more.

Of course the methods have meaning, otherwise we could just tunnel
everything over POST (which can be also generic state-change
operator).

&gt;&gt; but then the semantics is unclear because the server rely on
&gt;&gt; the entity to distinguish between each state
&gt;
&gt; I see nothing unclear about that at all.

If we send "GET /users/1234" and get back an hypermedia
representation, the hypermedia have to embed the entity body too:

request: GET /users/1234
response: &lt;user href='/users/1234'&gt;&lt;form name='activate'
href='/users/1234/status' method='put'
content-type='application/x-www-urlencoded'&gt;active=1&lt;/form&gt;&lt;/user&gt;

That's what I meant by unclear: it's not sufficient to send back the
URI and both the client and the server must understand that for this
particular URI PUT can have two different effects depending on the
entity. Usually when people talk about HATEOAS they say follow the
links, not follow the links and send just this exact representation
and nothing else.

&gt;&gt; and it's tricky to tell the user that one entity is fine while
&gt;&gt; the other isn't, other than the user trying and getting an
&gt;&gt; error. Of course the agent can inspect the representation
&gt;&gt; returned from "GET /users/1234" and see that the current state
&gt;&gt; is "inactive" and infer that "PUT /users/status/1234" should
&gt;&gt; have a entity "active".
&gt;
&gt; So to recap:
&gt;
&gt;  In one case I have to send an OPTIONS request to the resource
&gt;  and then check whether the Accept header contains ACTIVATE or
&gt;  DEACTIVATE, so that I can use the right method to change the
&gt;  state.
&gt;
&gt;  In the other case I have to send a GET request to the resource
&gt;  and then check the representation to see whether it contains
&gt;  `active=0` or `active=1`, so that I can PUT the right entity
&gt;  to change the state.
&gt;
&gt; And you are saying the former is less tricky than the latter?
&gt;
&gt; If you ask me, it's the other way around.

The first situation relies only on two extension methods
(ACTIVATE/DEACTIVATE), one standard method (OPTIONS), one  standard
header and one URI. The second situation relies on two standard
methods, two URIs, and the knowledge of a media-type that has a
unusual definition of how a link can be followed. In both situations
we have to determine how both ends will know what effects happen when
a particular verb is sent to a particular URI, in the first case it's
defined by the methods (which hopefully are applicable to many other
resources, as I said many times in my original reply), in the second
case we depend on understand the user media-type. We can't just ignore
the semantics, even if it is just a piece of documentation. Using the
media-type is a good approach (and I admit that I didn't thought about
encoding the valid representation in the response media-type) but it
doesn't specify what happens to /users/1234 if I follow the link to
/users/1234/status, while the method can specify it.

&gt;&gt; Also it's important to not be seduced by the extension method
&gt;&gt; approach (i.e. define your own method instead of overloading
&gt;&gt; the existing ones) because without much thought it ends up with
&gt;&gt; many new methods that won't work on more than a couple of
&gt;&gt; resources and severely reduce the number of applications that
&gt;&gt; can interact with yours. The atom spec is a good example on how
&gt;&gt; using just the basic HTTP methods with a good mime type can go
&gt;&gt; a long way.
&gt;
&gt; Now that I can wholeheartedly agree with.
&gt;
&gt; Regards,
&gt; --
&gt; Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

The OP seemed confused about REST (particularly saying that it has
only four verbs) and I was trying to explain that extension verbs is a
valid approach, but it depends on the particular problem being solved
and that different approaches are possible and each has it's own
benefits/problems. I think it's a fool's attempt to embed everything
in GET/PUT/POST/DELETE and multiply the resources/media-types ad
infinitum. The constraint isn't a fixed set of verbs but uniform
interface. WebDAV has its particular set of verbs because the
additional semantics they carry is useful. Atom uses only the basic
four verbs because they don't need the added semantics. Both
approaches are valid (and useful).

Best regards,
Daniel Yokomizo

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10900<br>
Sender:Michael Schuerig &lt;michael@...&gt;<br>
Post Date/Time:2008-06-11 00:26:47<br>
Subject:Re: Pretty URLs, sessions, and no cookies<br>
Message:<br><br>
<pre>On Wednesday 11 June 2008, Josh Sled wrote:
&gt; Michael Schuerig &lt;michael@...&gt; writes:
&gt; &gt; On Wednesday 11 June 2008, Aristotle Pagaltzis wrote:
&gt; &gt;&gt; * Michael Schuerig &lt;michael@...&gt; [2008-06-10 15:55]:
&gt; &gt;&gt; &gt; I'm looking for a way to have my cake and eat it: pretty and
&gt; &gt;&gt; &gt; public URLs, no cookies or javascript required, and sessions
&gt; &gt;&gt; &gt; nevertheless.
&gt; &gt;&gt;
&gt; &gt;&gt; I think you should start by questioning whether you need sessions
&gt; &gt;&gt; in the first place. What data are you storing in them and why
&gt; &gt;&gt; does that data not deserve to be a named first class resource?
&gt; &gt;
&gt; &gt; When I have a *user* interface where some resources need
&gt; &gt; authenticated access, then I need some kind of session, don't I?
&gt;
&gt; Not necessarily.
&gt;
&gt; If you want to be purely RESTful, you'd strive to use HTTP
&gt; authentication for such things, but practically that's tough.  Often,
&gt; frameworks/tools use a cookie to represent a transient auth token.
[snip]
&gt; So, what data are you storing in the sessions?  Why?

Authentication information is usually enough.

Michael

-- 
Michael Schuerig
mailto:michael@...
http://www.schuerig.de/michael/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10901<br>
Sender:Michael Schuerig &lt;michael@...&gt;<br>
Post Date/Time:2008-06-11 00:58:14<br>
Subject:Re: Pretty URLs, sessions, and no cookies<br>
Message:<br><br>
<pre>On Wednesday 11 June 2008, Etan Wexler wrote:
&gt; Michael Schuerig wrote (in
&gt;
&gt; &lt;http://tech.groups.yahoo.com/group/rest-discuss/message/10894&gt;):
&gt; &gt; When I have a *user* interface where some resources need
&gt; &gt; authenticated access, then I need some kind of session, don't I?
&gt;
&gt; When you have a user interface in which access to some resources
&gt; requires authentication (and, presumably, authorization), there is no
&gt; need for maintaining a session at the origin server.

Most respondents have apparently understood "session" as meaning 
server-side conversational state. That's not what I had in mind, I'm 
quite content with authentication information or possibly a set of 
capabilities.

&gt; As the 
&gt; administrator of the origin server, all that you need is that each
&gt; request bear acceptable credentials. Even that is not quite correct,
&gt; because a request that fails to bear acceptable credentials should
&gt; prompt a response that bears a challenge for credentials. Did I miss
&gt; something?

Possibly. Let's say I have a resource where the representation depends 
on the credentials of the requester. I could associate each 
representation with its own URL, but that's not what I want. 
Essentially, I only ever want to have one canonical URL and a requester 
gets to see what their credentials allow. In particular, someone with 
no credentials at all may still get to see a rudimentary 
representation. In such a scenario there is no point in challenging the 
requester -- human user. They may decide to log in or log in with 
different credentials, but that's up to the them.

Also, as far as I can tell, an http auth challenge involves popping up a 
browser-level dialog. I take it, most users aren't accustomed to this. 
And, at any rate, it modally drags them out of the application context 
without a chance for inline help messages or "I forgot my password" 
links.

I'd really like to make this work, but I'm not convinced there is a way.

Michael

-- 
Michael Schuerig
mailto:michael@...
http://www.schuerig.de/michael/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10902<br>
Sender:Peter Keane &lt;pkeane@...&gt;<br>
Post Date/Time:2008-06-11 01:21:22<br>
Subject:Re: [rest-discuss] Re: Pretty URLs, sessions, and no cookies<br>
Message:<br><br>
<pre>Michael-

I've had good luck with a two-step page load: the html page is rendered
regardless of identity/authorization and is identical for all users (and
is thus cache-able). There *is* an identity cookie on the client (how
it got there is a longer explanation, not entirely REST-copacetic, but
as close as I could get). Once the page loads, javascript make a second
XHR request which "customizes" the page (dom insertions that include
hypertext links to other resources only this user can get at). The url
for that second request *does* include the username, meaning it is a
resource unique to this user. I do authenticate that second request w/
the secure identity token in the cookie (again, not so REST). There
is no application state on the server. The code ends up being nicely
organized as a set of resources easily manageable w/ a simple framework.
There's more to it (AtomPub &amp; JSONRest interfaces) but you get the idea.
Obviously, not a universally acceptable solution (requires javascript,
uses cookies, etc.) but works well in my case.

--peter keane
http://dase.googlecode.com

On Wed, Jun 11, 2008 at 02:58:14AM +0200, Michael Schuerig wrote:
&gt;    On Wednesday 11 June 2008, Etan Wexler wrote:
&gt;    &gt; Michael Schuerig wrote (in
&gt;    &gt;
&gt;    &gt; &lt;[1]http://tech.groups.yahoo.com/group/rest-discuss/message/10894&gt;):
&gt;    &gt; &gt; When I have a *user* interface where some resources need
&gt;    &gt; &gt; authenticated access, then I need some kind of session, don't I?
&gt;    &gt;
&gt;    &gt; When you have a user interface in which access to some resources
&gt;    &gt; requires authentication (and, presumably, authorization), there is no
&gt;    &gt; need for maintaining a session at the origin server.
&gt;    Most respondents have apparently understood "session" as meaning
&gt;    server-side conversational state. That's not what I had in mind, I'm
&gt;    quite content with authentication information or possibly a set of
&gt;    capabilities.
&gt;    &gt; As the
&gt;    &gt; administrator of the origin server, all that you need is that each
&gt;    &gt; request bear acceptable credentials. Even that is not quite correct,
&gt;    &gt; because a request that fails to bear acceptable credentials should
&gt;    &gt; prompt a response that bears a challenge for credentials. Did I miss
&gt;    &gt; something?
&gt;    Possibly. Let's say I have a resource where the representation depends
&gt;    on the credentials of the requester. I could associate each
&gt;    representation with its own URL, but that's not what I want.
&gt;    Essentially, I only ever want to have one canonical URL and a requester
&gt;    gets to see what their credentials allow. In particular, someone with
&gt;    no credentials at all may still get to see a rudimentary
&gt;    representation. In such a scenario there is no point in challenging the
&gt;    requester -- human user. They may decide to log in or log in with
&gt;    different credentials, but that's up to the them.
&gt;    Also, as far as I can tell, an http auth challenge involves popping up
&gt;    a
&gt;    browser-level dialog. I take it, most users aren't accustomed to this.
&gt;    And, at any rate, it modally drags them out of the application context
&gt;    without a chance for inline help messages or "I forgot my password"
&gt;    links.
&gt;    I'd really like to make this work, but I'm not convinced there is a
&gt;    way.
&gt;    Michael
&gt;    --
&gt;    Michael Schuerig
&gt;    mailto:[2]michael@...
&gt;    [3]http://www.schuerig.de/michael/
&gt;    

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10903<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-06-11 01:22:25<br>
Subject:Re: [rest-discuss] Re: Pretty URLs, sessions, and no cookies<br>
Message:<br><br>
<pre>Michael:

Some comments on the HTTP Auth issue:
First, HTTP Auth is your best (safest, easiest, most portable) way to
identify your users. This is especially true when you start supporting
non-human interaction with your applications.  While the dialogs
offered by common browsers are disappointing, they are what they are.

Second, I found that I *want* authentication to be 'out-of-band.'  I
don't want to write code in my application to present these dialogs,
accept, validate, and process the inputs. I just want the
authentication to be done and the results handed off to me.  I also do
not want to 'carry' lots of (possibly dangerous) metadata around or
store it in disk or memory on the server. HTTP Auth handles all this
quite nicely.

Thrid, there are a number of 'work-arounds' to the browser dialog if
you really want to try to hide this. Paul James has posted some fine
material on the subject. There are others, too.

Now about the the URLs:
I've come to think that URLs are cheap and you can mint lots of them.
I see no reason to *not* present users w/ 'personalized' URLs
(/recent-updates/mike/). That doesn't mean you need to always pass
these personalized URIs to the client. For example, a call to
/recent-updates/ might get the server to check the credentials and
then forward the request to the 'personalized' URL. If the client has
not authenticated, then the server will not forward to the custom URL
and just present the 'public' document that lives at /recent-updates/
(which might include a link to login).

Another reason to consider URLs that include identifying data is that
they are rather easy to secure. For example, if your personalized URLs
all contain ../users/&lt;user-id&gt;/.. you can write server code that
validates the requested URL against the login credentails and rejects
improperly authenticated requests.

Caching comes into play, too. If you present a document from /my-data/
that has been built up on the server using metadata (user id,
session-id, etc.), it's possible that some server will cache that
page. If another user comes along (an un-authed user) and requests the
same URL, they might get the wrong data. Of course, you can mark all
your content as non-cacheable, but is that what you want?

Just some things to consider.

MikeA

On Tue, Jun 10, 2008 at 8:58 PM, Michael Schuerig &lt;michael@...&gt; wrote:
&gt; On Wednesday 11 June 2008, Etan Wexler wrote:
&gt;&gt; Michael Schuerig wrote (in
&gt;&gt;
&gt;&gt; &lt;http://tech.groups.yahoo.com/group/rest-discuss/message/10894&gt;):
&gt;&gt; &gt; When I have a *user* interface where some resources need
&gt;&gt; &gt; authenticated access, then I need some kind of session, don't I?
&gt;&gt;
&gt;&gt; When you have a user interface in which access to some resources
&gt;&gt; requires authentication (and, presumably, authorization), there is no
&gt;&gt; need for maintaining a session at the origin server.
&gt;
&gt; Most respondents have apparently understood "session" as meaning
&gt; server-side conversational state. That's not what I had in mind, I'm
&gt; quite content with authentication information or possibly a set of
&gt; capabilities.
&gt;
&gt;&gt; As the
&gt;&gt; administrator of the origin server, all that you need is that each
&gt;&gt; request bear acceptable credentials. Even that is not quite correct,
&gt;&gt; because a request that fails to bear acceptable credentials should
&gt;&gt; prompt a response that bears a challenge for credentials. Did I miss
&gt;&gt; something?
&gt;
&gt; Possibly. Let's say I have a resource where the representation depends
&gt; on the credentials of the requester. I could associate each
&gt; representation with its own URL, but that's not what I want.
&gt; Essentially, I only ever want to have one canonical URL and a requester
&gt; gets to see what their credentials allow. In particular, someone with
&gt; no credentials at all may still get to see a rudimentary
&gt; representation. In such a scenario there is no point in challenging the
&gt; requester -- human user. They may decide to log in or log in with
&gt; different credentials, but that's up to the them.
&gt;
&gt; Also, as far as I can tell, an http auth challenge involves popping up a
&gt; browser-level dialog. I take it, most users aren't accustomed to this.
&gt; And, at any rate, it modally drags them out of the application context
&gt; without a chance for inline help messages or "I forgot my password"
&gt; links.
&gt;
&gt; I'd really like to make this work, but I'm not convinced there is a way.
&gt;
&gt; Michael
&gt;
&gt; --
&gt; Michael Schuerig
&gt; mailto:michael@...
&gt; http://www.schuerig.de/michael/
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10904<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-06-11 01:59:19<br>
Subject:Re: [rest-discuss] Re: More Fun with DELETE<br>
Message:<br><br>
<pre>Aristotle Pagaltzis wrote:
&gt; 
&gt; &gt; I think a 2xx indicates that the resource is still producing
&gt; &gt; mappings [1], after a DELETE I would expect a 404 or a 410,
&gt; &gt; though it is up to the server in the end of course.
&gt; &gt; 
&gt; &gt; [1] In the sense of Roy's dissertation "A resource is a
&gt; &gt; temporarily varying membership function..."
&gt; 
&gt; This is incorrect. 404 always has the same meaning: no resource
&gt; was bound here. This is the same meaning it has when you GET
&gt; something, f.ex. So if the server responds to a DELETE with 404,
&gt; what its saying is that the DELETE was a no-op: there was no
&gt; resource bound to that URI before, and there isnt one now.
&gt; 
&gt; 2xx is the right response to DELETE when the server wants to say
&gt; this URI used to be bound to a resource, but at your request, it
&gt; no longer is. In other words, 2xx is the status to return in the
&gt; case of an actual, successful deletion.
&gt; 

You're right, of course -- but in context, we were actually discussing
404/410 as a response to subsequent GET requests, not the response to
the DELETE request itself.  Sorry for the confusion.

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10905<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-06-11 02:05:13<br>
Subject:Re: [rest-discuss] Re: How to model a missing method?<br>
Message:<br><br>
<pre>Aristotle Pagaltzis wrote:
&gt; 
&gt; &gt; Doing PUT sending "activated"/"deactivated" works with other
&gt; &gt; applications but the semantics of PUT is underspecified (for
&gt; &gt; this case).
&gt; 
&gt; No, theyre not: they depend on the hypermedia format that
&gt; contained the link which the client is using to PUT.
&gt; 

Is that what you meant to say?  I'm of the opinion that method
semantics are specific to protocol (HTTP, FTP etc.), and that 
defining other semantics for these methods via media-type is 
not consistent with the uniform interface constraint of REST.

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10906<br>
Sender:Bruno Harbulot &lt;Bruno.Harbulot@...&gt;<br>
Post Date/Time:2008-06-11 01:19:27<br>
Subject:Re: Pretty URLs, sessions, and no cookies<br>
Message:<br><br>
<pre>Hello,

Josh Sled wrote:
&gt; Michael Schuerig &lt;michael@...&gt; writes:
&gt;&gt; On Wednesday 11 June 2008, Aristotle Pagaltzis wrote:
&gt;&gt;&gt; * Michael Schuerig &lt;michael@...&gt; [2008-06-10 15:55]:
&gt;&gt;&gt;&gt; I'm looking for a way to have my cake and eat it: pretty and
&gt;&gt;&gt;&gt; public URLs, no cookies or javascript required, and sessions
&gt;&gt;&gt;&gt; nevertheless.
&gt;&gt;&gt; I think you should start by questioning whether you need sessions
&gt;&gt;&gt; in the first place. What data are you storing in them and why
&gt;&gt;&gt; does that data not deserve to be a named first class resource?
&gt;&gt; When I have a *user* interface where some resources need authenticated
&gt;&gt; access, then I need some kind of session, don't I?
&gt; 
&gt; Not necessarily.
&gt; 
&gt; If you want to be purely RESTful, you'd strive to use HTTP authentication for
&gt; such things, but practically that's tough.  Often, frameworks/tools use a
&gt; cookie to represent a transient auth token.
&gt; 
&gt; But even the latter is slightly different from having a stateful session.
&gt; The general use-case of a session is the server-side software keeping an
&gt; object "around" in the user's session such that some subsequent request's
&gt; handling can get at that object without needing to "carry" it through the
&gt; intervening pages/requests.
&gt; 
&gt; It is *that* session state that REST eschews.

I agree entirely. Although I'd also prefer authentication mechanisms 
based on WWW-Authenticate (and related headers), sometimes, it's 
practically impossible, hence the use of a cookie to maintain an 
authenticated session (using a cookie being by far better than using a 
session id in a URI parameter).

I think this doesn't contradict the stateless interactions principle of 
REST, as long as the session is only used for authentication purposes. 
In my opinion, authentication should be considered as orthogonal to the 
function of the application.
In fact, I think most secure authentication mechanisms maintain some 
form of state during a set of interactions with the client. If that's of 
interest, I tried to make a list of HTTP authentication mechanisms a 
couple of days ago, looking at this with Restlet in mind (*).

Best wishes,

Bruno.


(*) 
http://blog.distributedmatter.net/post/2008/06/09/HTTP-authentication-mechanisms-and-how-they-could-work-in-Restlet


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10907<br>
Sender:"Etan Wexler" &lt;yahoo.com@...&gt;<br>
Post Date/Time:2008-06-11 02:44:48<br>
Subject:[rest-discuss] Re: Pretty URLs, sessions, and no cookies<br>
Message:<br><br>
<pre>Michael Schuerig wrote (in
&lt;http://tech.groups.yahoo.com/group/rest-discuss/message/10901&gt;):

&gt; Let's say I have a resource where the representation depends 
&gt; on the credentials of the requester. I could associate each 
&gt; representation with its own URL, but that's not what I want.

Identification of resources is fundamental to the Representational State
Transfer. I favor promoting representations to resources in their own
right, because doing so facilitates discussion, nuanced linking, and
manipulation.
 
&gt; Essentially, I only ever want to have one canonical URL and a requester 
&gt; gets to see what their credentials allow.

So, in HTTP, send a response with a "Vary" header-field that indicates
that responses vary depending on credentials.

&gt; In particular, someone with 
&gt; no credentials at all may still get to see a rudimentary 
&gt; representation. In such a scenario there is no point in challenging the 
&gt; requester -- human user. They may decide to log in or log in with 
&gt; different credentials, but that's up to the them.

So, in HTTP, send a response with a status-code of "200" and still send
the challenge.

&gt; Also, as far as I can tell, an http auth challenge involves popping up a 
&gt; browser-level dialog. I take it [that] most users aren't accustomed to this. 
&gt; And, at any rate, it modally drags them out of the application context 
&gt; without a chance for inline help messages or "I forgot my password" 
&gt; links.

While the scene on the ground is rough and shabby, there is nothing in
the HTTP specifications or in REST that mandates a lousy presentation of
authentication challenges. Clever people have found graceful ways of
using HTTP authentication challenges and HTTP authentication that work
even in the current crop of disgraceful implementations. Still, it would
be great to have user agents that present authentication challenges
along with and at the same time as entity-bodies.

Dear LazyWeb,

Make for me a Web browser that includes an informational banner where I
can easily evaluate and meet authentication challenges. I want clear
indications of the authority issuing the challenge, the IRI of the
resource in question, the authentication scheme, the security of the
authentication scheme, and the status of the response as a whole.

-- 
Please do not reply to me when replying to rest-discuss. I read the
messages that people send to rest-discuss and I do not want duplicates.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10908<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-06-11 06:08:00<br>
Subject:Re: Hypermedia as the engine of application state in REST-based	architectures, and presumptions about the set of methods in	REST-based architectures<br>
Message:<br><br>
<pre>* dev &lt;dev.akhawe@...&gt; [2008-06-11 01:15]:
&gt; The only thing (in my opinion) that using POST recklessly
&gt; breaks is "Engineer for Serendipity" (Roy's often quoted
&gt; maxim).

Not any more than any other non-GET method.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10909<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-06-11 06:26:31<br>
Subject:Re: Pretty URLs, sessions, and no cookies<br>
Message:<br><br>
<pre>* Michael Schuerig &lt;michael@...&gt; [2008-06-11 02:30]:
&gt; Authentication information is usually enough.

Then you dont need to store anything on the server. There is no
need for a session at all. Either use HTTP Auth or, in case you
are talking to a browser, use a cookie like this:

    auth_token = concat( username, ":", expiration_datetime );
    msghash = digest_hmac( concat( server_secret, ":", auth_token ) );
    cookie = concat( msghash, ":", auth_token );

With this scheme, cookies cannot be forged because generating
a correct message hash requires knowledge of the server secret
that is not part of the cookie. So if the client sends you a
cookie whose hash checks out, you know its a cookie you minted
and you can therefore trust the username portion of the cookie.
Aside from the server secret, which is easily kept in memory,
you dont need any information external to the cookie in order
to verify it: no on-disk session.


* Bruno Harbulot &lt;Bruno.Harbulot@...&gt; [2008-06-11 04:45]:
&gt; I think this doesn't contradict the stateless interactions
&gt; principle of REST, as long as the session is only used for
&gt; authentication purposes. 

Indeed it doesnt.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10910<br>
Sender:Michael Schuerig &lt;michael@...&gt;<br>
Post Date/Time:2008-06-11 07:34:45<br>
Subject:Re: Pretty URLs, sessions, and no cookies<br>
Message:<br><br>
<pre>On Wednesday 11 June 2008, Peter Keane wrote:

&gt; I've had good luck with a two-step page load: the html page is
&gt; rendered regardless of identity/authorization and is identical for
&gt; all users (and is thus cache-able). There *is* an identity cookie on
&gt; the client (how it got there is a longer explanation, not entirely
&gt; REST-copacetic, but as close as I could get). Once the page loads,
&gt; javascript make a second XHR request which "customizes" the page (dom
&gt; insertions that include hypertext links to other resources only this
&gt; user can get at).

That's an interesting approach. I wouldn't object to "private" URLs in 
this case, but there's still the cookie.

Michael

-- 
Michael Schuerig
mailto:michael@...
http://www.schuerig.de/michael/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10911<br>
Sender:Michael Schuerig &lt;michael@...&gt;<br>
Post Date/Time:2008-06-11 07:36:25<br>
Subject:Re: Pretty URLs, sessions, and no cookies<br>
Message:<br><br>
<pre>On Wednesday 11 June 2008, Aristotle Pagaltzis wrote:
&gt; &gt; Authentication information is usually enough.
&gt;
&gt; Then you dont need to store anything on the server. There is no
&gt; need for a session at all. Either use HTTP Auth or, in case you
&gt; are talking to a browser, use a cookie like this:

I don't want to use a cookie, that's more or less the whole point of my 
original message. I know how to get what I want with a cookie, my 
question is, whether I can get the same result without a cookie.

Michael

-- 
Michael Schuerig
mailto:michael@...
http://www.schuerig.de/michael/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10912<br>
Sender:Michael Schuerig &lt;michael@...&gt;<br>
Post Date/Time:2008-06-11 08:01:56<br>
Subject:Re: Pretty URLs, sessions, and no cookies<br>
Message:<br><br>
<pre>On Wednesday 11 June 2008, mike amundsen wrote:
&gt; Michael:
&gt;
&gt; Some comments on the HTTP Auth issue:
&gt; First, HTTP Auth is your best (safest, easiest, most portable) way to
&gt; identify your users. This is especially true when you start
&gt; supporting non-human interaction with your applications.  While the
&gt; dialogs offered by common browsers are disappointing, they are what
&gt; they are.

Unfortunately, because they are what they are, they are not acceptable. 
I see your point regarding non-human interaction, but that's a 
different issue.

&gt; Second, I found that I *want* authentication to be 'out-of-band.'  I
&gt; don't want to write code in my application to present these dialogs,
&gt; accept, validate, and process the inputs. I just want the
&gt; authentication to be done and the results handed off to me.  I also
&gt; do not want to 'carry' lots of (possibly dangerous) metadata around
&gt; or store it in disk or memory on the server. HTTP Auth handles all
&gt; this quite nicely.

I agree with the general point, but the practical problem really is how 
the HTTP Auth header gets populated, i.e., the out-of-band dialog. Just 
imagine any major site switching to this kind of authentication dialog. 
I wouldn't expect users to be pleased.

&gt; Thrid, there are a number of 'work-arounds' to the browser dialog if
&gt; you really want to try to hide this. Paul James has posted some fine
&gt; material on the subject. There are others, too.

I've skimmed some of &lt;http://www.peej.co.uk/&gt; and tried 
&lt;http://www.peej.co.uk/articles/http-auth-with-html-forms.html&gt;. It 
didn't work in my browser (Konqueror). 

&gt; Now about the the URLs:
&gt; I've come to think that URLs are cheap and you can mint lots of them.
&gt; I see no reason to *not* present users w/ 'personalized' URLs
&gt; (/recent-updates/mike/). That doesn't mean you need to always pass
&gt; these personalized URIs to the client. For example, a call to
&gt; /recent-updates/ might get the server to check the credentials and
&gt; then forward the request to the 'personalized' URL. If the client has
&gt; not authenticated, then the server will not forward to the custom URL
&gt; and just present the 'public' document that lives at /recent-updates/
&gt; (which might include a link to login).
&gt;
&gt; Another reason to consider URLs that include identifying data is that
&gt; they are rather easy to secure. For example, if your personalized
&gt; URLs all contain ../users/&lt;user-id&gt;/.. you can write server code that
&gt; validates the requested URL against the login credentails and rejects
&gt; improperly authenticated requests.

I really want to avoid personalized URLs. Most of all, because users 
pass URLs to other users. As you say, a personalized URL can be secured 
nonetheless, but the effect is that the receiver can't really get at 
the resource they were pointed to. Better to give them a URL that they 
can retrieve.

&gt; Caching comes into play, too. If you present a document from
&gt; /my-data/ that has been built up on the server using metadata (user
&gt; id, session-id, etc.), it's possible that some server will cache that
&gt; page. If another user comes along (an un-authed user) and requests
&gt; the same URL, they might get the wrong data. Of course, you can mark
&gt; all your content as non-cacheable, but is that what you want?

Yes, I think making authorized content non-cacheable is what I want.


I'd like to point out that I appreciate all the replies I've received. 
My fussyness about the proposed solutions is mainly due to the fact 
that I'm already quite happy with my current approach using cookies. 
It's just that I'd like to make that further step of getting rid of the 
cookies.

Michael

-- 
Michael Schuerig
mailto:michael@...
http://www.schuerig.de/michael/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10913<br>
Sender:Michael Schuerig &lt;michael@...&gt;<br>
Post Date/Time:2008-06-11 08:04:40<br>
Subject:Re: Pretty URLs, sessions, and no cookies<br>
Message:<br><br>
<pre>On Wednesday 11 June 2008, Etan Wexler wrote:
&gt; Michael Schuerig wrote (in
&gt;
&gt; &lt;http://tech.groups.yahoo.com/group/rest-discuss/message/10901&gt;):
&gt; &gt; Let's say I have a resource where the representation depends
&gt; &gt; on the credentials of the requester. I could associate each
&gt; &gt; representation with its own URL, but that's not what I want.
&gt;
&gt; Identification of resources is fundamental to the Representational
&gt; State Transfer. I favor promoting representations to resources in
&gt; their own right, because doing so facilitates discussion, nuanced
&gt; linking, and manipulation.

I agree when it comes to non-human requesters, for human beings I'm not 
convinced.

&gt; &gt; Also, as far as I can tell, an http auth challenge involves popping
&gt; &gt; up a browser-level dialog. I take it [that] most users aren't
&gt; &gt; accustomed to this. And, at any rate, it modally drags them out of
&gt; &gt; the application context without a chance for inline help messages
&gt; &gt; or "I forgot my password" links.
&gt;
&gt; While the scene on the ground is rough and shabby, there is nothing
&gt; in the HTTP specifications or in REST that mandates a lousy
&gt; presentation of authentication challenges.

Agreed, but that is the state of things, and to my mind it is a 
show-stopper.

Michael

-- 
Michael Schuerig
mailto:michael@...
http://www.schuerig.de/michael/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10914<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-06-11 08:33:11<br>
Subject:Re: [rest-discuss] Re: Pretty URLs, sessions, and no cookies<br>
Message:<br><br>
<pre>On Jun 11, 2008, at 10:01 AM, Michael Schuerig wrote:

&gt; It's just that I'd like to make that further step of getting rid of  
&gt; the
&gt; cookies.

As you point out, the only problem with cookies used in a RESTful way  
(i.e. not identifying server-side conversation state) is that you  
can't have two browser sessions with different credentials. Maybe you  
could require the subset of users who are interested in actually doing  
this with the HTTP Auth alternative, using a common backend?

If you offer protected syndication feeds or some other form of Web  
API, you need something other than cookies anyway. It seems to boil  
down to a usable UI design.

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10915<br>
Sender:Michael Schuerig &lt;michael@...&gt;<br>
Post Date/Time:2008-06-11 08:48:07<br>
Subject:Re: Pretty URLs, sessions, and no cookies<br>
Message:<br><br>
<pre>On Wednesday 11 June 2008, Stefan Tilkov wrote:
&gt; On Jun 11, 2008, at 10:01 AM, Michael Schuerig wrote:
&gt; &gt; It's just that I'd like to make that further step of getting rid of
&gt; &gt; the cookies.
&gt;
&gt; As you point out, the only problem with cookies used in a RESTful way
&gt; (i.e. not identifying server-side conversation state) is that you
&gt; can't have two browser sessions with different credentials.

Another issue is that some users don't want (allow, trust) cookies. I 
can't tell how much of a problem this really is, but I know that I get 
annoyed when I notice that a site is throwing lots of cookies at me.

&gt; Maybe you 
&gt; could require the subset of users who are interested in actually
&gt; doing this with the HTTP Auth alternative, using a common backend?

I don't think that'd be worth the trouble.

&gt; If you offer protected syndication feeds or some other form of Web
&gt; API, you need something other than cookies anyway. It seems to boil
&gt; down to a usable UI design.

Yes.

Michael

-- 
Michael Schuerig
mailto:michael@...
http://www.schuerig.de/michael/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10916<br>
Sender:Bruno Harbulot &lt;Bruno.Harbulot@...&gt;<br>
Post Date/Time:2008-06-11 08:49:27<br>
Subject:Re: Pretty URLs, sessions, and no cookies<br>
Message:<br><br>
<pre>

Stefan Tilkov wrote:
&gt; 
&gt; 
&gt; On Jun 11, 2008, at 10:01 AM, Michael Schuerig wrote:
&gt; 
&gt;&gt; It's just that I'd like to make that further step of getting rid of the 
&gt;&gt; cookies.
&gt; 
&gt; As you point out, the only problem with cookies used in a RESTful way 
&gt; (i.e. not identifying server-side conversation state) is that you can't 
&gt; have two browser sessions with different credentials. Maybe you could 
&gt; require the subset of users who are interested in actually doing this 
&gt; with the HTTP Auth alternative, using a common backend?

As far as I know, most browsers also effectively perform single-sign on 
of a single user (for that realm) across tabs and windows with HTTP 
authentication. Moving from cookies to HTTP Auth wouldn't help in that 
respect.

Best wishes,

Bruno.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10917<br>
Sender:Bruno Harbulot &lt;Bruno.Harbulot@...&gt;<br>
Post Date/Time:2008-06-11 09:27:24<br>
Subject:Re: Pretty URLs, sessions, and no cookies<br>
Message:<br><br>
<pre>

Michael Schuerig wrote:
&gt; 
&gt; 
&gt; On Wednesday 11 June 2008, Etan Wexler wrote:
&gt;  &gt; Michael Schuerig wrote (in
&gt;  &gt;
&gt;  &gt; &lt;http://tech.groups.yahoo.com/group/rest-discuss/message/10901 
&gt; &lt;http://tech.groups.yahoo.com/group/rest-discuss/message/10901&gt;&gt;):
&gt;  &gt; &gt; Let's say I have a resource where the representation depends
&gt;  &gt; &gt; on the credentials of the requester. I could associate each
&gt;  &gt; &gt; representation with its own URL, but that's not what I want.
&gt;  &gt;
&gt;  &gt; Identification of resources is fundamental to the Representational
&gt;  &gt; State Transfer. I favor promoting representations to resources in
&gt;  &gt; their own right, because doing so facilitates discussion, nuanced
&gt;  &gt; linking, and manipulation.
&gt; 
&gt; I agree when it comes to non-human requesters, for human beings I'm not
&gt; convinced.

It does matter, even for human users: think of it as "bookmarkable" 
URLs. Have you ever been on a shopping website, looked at a product, 
found it interesting, bookmarked it for later use, come back the day 
after and been told "your session has expired, go back to the main 
page"? That's not great for the user.

Best wishes,

Bruno.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10918<br>
Sender:Bruno Harbulot &lt;Bruno.Harbulot@...&gt;<br>
Post Date/Time:2008-06-11 09:51:14<br>
Subject:Re: Pretty URLs, sessions, and no cookies<br>
Message:<br><br>
<pre>

Michael Schuerig wrote:
&gt; 
&gt; 
&gt; On Wednesday 11 June 2008, Aristotle Pagaltzis wrote:
&gt;  &gt; &gt; Authentication information is usually enough.
&gt;  &gt;
&gt;  &gt; Then you dont need to store anything on the server. There is no
&gt;  &gt; need for a session at all. Either use HTTP Auth or, in case you
&gt;  &gt; are talking to a browser, use a cookie like this:
&gt; 
&gt; I don't want to use a cookie, that's more or less the whole point of my
&gt; original message. I know how to get what I want with a cookie, my
&gt; question is, whether I can get the same result without a cookie.

I'm not sure why you're so against cookies. They usually conflict with 
the stateless interactions principle, but in this case you have little 
choice.


To quote your original message:
&gt; I'm looking for a way to have my cake and eat it: pretty and public
&gt; URLs, no cookies or javascript required, and sessions nevertheless.

I'm assuming, with all this, that you want it to work from most major 
browsers, without any plugin.


Obviously, authentication requires that you be able to send some 
information as part of your request.

As it's been said before, you get 3 ways to do it: in the URI, in HTTP 
Auth or in a cookie.

1. As part of the URI.

You could in principle send representations that contain URI specially 
crafted for the authenticated user (using a token in the query for 
example). Somehow, this would probably be the most RESTful but have a 
number of downsides and change the meaning of your application. You 
would no longer interact with resource "X" identified by URI "http://x", 
but with resource "X when authenticated using A" identified by URI 
"http://x?auth=a" (or some other way to put 'a' in the URI). There's a 
number of downsides with that, mainly because you would have to make 
these URIs (with an authentication token) short-lived to enforce some 
sort of security (which would be limited anyway). What you could do, 
however, is to change the state of resource "http://x?auth=a" when the 
user authentication token has expired so that its returns a 
representation it returns a representation that invites the user to log in.
This wouldn't be my favourite solution, since it is likely to imply so 
tangling of the application code with the authentication code on the 
server and also make the representations the client obtains only usable 
for a limited amount of time.


2. Using HTTP authentication (WWW-Authenticate/Authorization headers).

This would be the cleanest way. Unfortunately, you don't seem to want it 
because you don't like the dialog box that would appear. I'm yet to find 
any user critically injured by such a box, but there are reasons indeed 
for not wanting them:
- corporate identity and style of the web-site: this could potentially 
be overcome by leading your user to the protected pages via a 
non-protected page that would have the pretty background and logos you 
want and that would say: "you're going to be prompted for your 
password". It's really cosmetic, but it may matter.
- offering the user the possibility to reset their password: nothing 
prevents you from putting a link to such a page in the representation 
returned with a "401 Unauthorized" or "403 Forbidden" if they've 
cancelled the dialog box or used a wrong password.

You could also use something like SPNEGO instead of Basic/Digest 
authentication, but that requires some control over the environment in 
which the browser runs, to set up Kerberos/Active Directory.

As far as I know, these are the only mechanisms that are supported 
across a wide range of browsers. There are other HTTP Auth mechanisms, 
unfortunately, they're unlikely to be supported out of the box by most 
browsers. You could potentially emulate them via Ajax tricks, but you 
said you didn't want any JavaScript.


3. Using a cookie.

The only way most browsers support the addition of custom metadata 
(authentication is metadata, whether using HTTP Auth or cookie or 
another header) is via cookies. You seem to say from another message 
that the main reason against it is that users don't want to allow cookies.

I'm a bit lost on that last point, and how it seems to conflict with not 
using dialog authentication boxes:
   a) If your users insist on the prettiness/corporate identity of the 
website to have authentication forms because that's what everyone does 
and it looks trendy, that's fair enough. However, users who are used to 
this certainly allow cookies on a regular basis (knowingly or not).
   b) If your users have been taught how to deal with cookies (perhaps 
not appropriately, cookies are not necessarily "evil"), surely they'll 
be able to understand how a Basic/Digest authentication dialog box works.


Another way, which is supported by most browsers, would be to use 
client-side certificates for SSL authentication. This works well, but 
deploying a PKI is not trivial and also requires to train users to 
handle their private keys and certificates with appropriate care.



I'd use cookies in the short term and try to lobby browser vendors and 
talk with organisations like IETF to support other HTTP authentication 
schemes (perhaps something like "WWW-Authenticate: Form ...") in the 
long term, if you have some spare time...


Best wishes,

Bruno.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10919<br>
Sender:Michael Schuerig &lt;michael@...&gt;<br>
Post Date/Time:2008-06-11 11:01:06<br>
Subject:Re: Pretty URLs, sessions, and no cookies<br>
Message:<br><br>
<pre>On Wednesday 11 June 2008, Bruno Harbulot wrote:
&gt; I'd use cookies in the short term and try to lobby browser vendors
&gt; and talk with organisations like IETF to support other HTTP
&gt; authentication schemes (perhaps something like "WWW-Authenticate:
&gt; Form ...") in the long term, if you have some spare time...

Bruno, thanks for your extensive reply. I'm not a fervent opponent of 
cookies and JavaScript, indeed, I'm happily using both of them. The 
reason for my original question was not that I have an urgent, very 
complicated problem. It's rather that I already have a working 
solution, but if possible would like to improve it in some ways. Where 
my idea of what constitutes an improvement isn't shared by everyone. 
Furthermore, that explains why I may react somewhat obstinate to the 
proposed solutions: I already have the cake and now I'm being choosey 
when it comes to decide what icing would be the nicest.

Michael

-- 
Michael Schuerig
mailto:michael@...
http://www.schuerig.de/michael/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10920<br>
Sender:"Etan Wexler" &lt;yahoo.com@...&gt;<br>
Post Date/Time:2008-06-11 18:53:58<br>
Subject:HTTP cookies as unconditional violations of REST [rest-discuss]<br>
Message:<br><br>
<pre>Bruno Harbulot wrote (in
&lt;http://tech.groups.yahoo.com/group/rest-discuss/message/10906&gt;):

&gt; Although I'd also prefer authentication mechanisms 
&gt; based on WWW-Authenticate (and related headers), sometimes, it's 
&gt; practically impossible, hence the use of a cookie to maintain an 
&gt; authenticated session (using a cookie being by far better than using a 
&gt; session id in a URI parameter).
&gt; 
&gt; I think this doesn't contradict the stateless interactions principle of 
&gt; REST, as long as the session is only used for authentication purposes.

In that last sentence, "principle" should be "constraint". I think that
you may have meant "cookie" where you wrote "session". Is that the case?

Cookies in HTTP always violate REST. By definition, cookies are a
mechanism for associating requests with a session maintained on an
origin server. If an application uses cookies as intended, the use of
the cookies violates the constraint of stateless communication. If an
application uses cookies but does not use them as intended, the use of
the cookies violates the constraint of self-descriptive messages. Maybe
my premise is wrong and cookies are not a mechanism for associating
requests with a session maintained on an origin server. Maybe cookies
pass arbitrary information from origin server to user agent and back. If
that is so, then the use of cookies still violates the constraint of
self-descriptive messages, because cookies are not self-descriptive at
all.

Given that cookies in HTTP always violate REST, I add that violating
REST is not the end of the world, and so using cookies is not the end of
the world. Sometimes cookies are a decent way to get a job done.

-- 
Please do not reply to me when replying to rest-discuss. I read the
messages that people send to rest-discuss and I do not want duplicates.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10921<br>
Sender:Peter Keane &lt;pkeane@...&gt;<br>
Post Date/Time:2008-06-11 19:37:46<br>
Subject:Re: HTTP cookies as unconditional violations of REST [rest-discuss]<br>
Message:<br><br>
<pre>On Wed, Jun 11, 2008 at 11:53:58AM -0700, Etan Wexler wrote:

{snip}

&gt;    Given that cookies in HTTP always violate REST


I would recommend a previous thread here ("Are Cookies ever RESTful?")
and particularly a comment from Roy Fielding that seems to contradict
this statement:

http://tech.groups.yahoo.com/group/rest-discuss/message/10027


&gt;    , I add that violating
&gt;    REST is not the end of the world, and so using cookies is not the end
&gt;    of
&gt;    the world. Sometimes cookies are a decent way to get a job done.
&gt;    --
&gt;    Please do not reply to me when replying to rest-discuss. I read the
&gt;    messages that people send to rest-discuss and I do not want duplicates.
&gt;    

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10922<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-06-11 20:20:56<br>
Subject:Re: Pretty URLs, sessions, and no cookies<br>
Message:<br><br>
<pre>* Michael Schuerig &lt;michael@...&gt; [2008-06-11 09:40]:
&gt; I don't want to use a cookie, that's more or less the whole
&gt; point of my original message. I know how to get what I want
&gt; with a cookie, my question is, whether I can get the same
&gt; result without a cookie.

Ah, I sort of missed that part. How could you possibly do that?
The auth information has to be *some*where  either in the URI,
or in headers, or in the request body. There is no other place
to put it.

In the body is out, because that means using POST as GET.

In the header means you have to do HTTP Auth or cookies.

In the URI means you have to do personalised URIs.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10923<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-06-11 20:27:43<br>
Subject:Re: Pretty URLs, sessions, and no cookies<br>
Message:<br><br>
<pre>* Michael Schuerig &lt;michael@...&gt; [2008-06-11 10:05]:
&gt; I really want to avoid personalized URLs. Most of all, because
&gt; users pass URLs to other users. As you say, a personalized URL
&gt; can be secured nonetheless, but the effect is that the receiver
&gt; can't really get at the resource they were pointed to. Better
&gt; to give them a URL that they can retrieve.

Then instead of sending 403 with a login page in the body, send
303 with the non-personalised URI in Location. Dont forget to
Vary on whatever header you use for your auth token, be it a
cookie or HTTP Auth.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10924<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-06-11 20:36:29<br>
Subject:Re: How to model a missing method?<br>
Message:<br><br>
<pre>* Eric J. Bowman &lt;eric@...&gt; [2008-06-11 04:10]:
&gt; * Aristotle Pagaltzis &lt;pagaltzis@...&gt; [2008-06-11 00:15]:
&gt; &gt; * Daniel Yokomizo &lt;daniel.yokomizo@...&gt; [2008-06-10 16:00]:
&gt; &gt; &gt; Doing PUT sending "activated"/"deactivated" works with
&gt; &gt; &gt; other applications but the semantics of PUT is
&gt; &gt; &gt; underspecified (for this case).
&gt; &gt; 
&gt; &gt; No, theyre not: they depend on the hypermedia format that
&gt; &gt; contained the link which the client is using to PUT.
&gt; 
&gt; Is that what you meant to say? I'm of the opinion that method
&gt; semantics are specific to protocol (HTTP, FTP etc.), and that
&gt; defining other semantics for these methods via media-type is
&gt; not consistent with the uniform interface constraint of REST.

No, its not inconsistent. Narrowing the semantics of a method
based on hypermedia is not only acceptable, its how you properly
use HTTP. Thats what Atompub is  a specialisation of HTTP.

HTTP is an application protocol, not a filesystem. As long as
youre only narrowing the semantics, then more generic clients
oblivious to your application semantics will continue to function
properly.

What you mustnt do is widen or shift the semantics of a method,
because then when a generic client or intermediary sends/mediates
a request, it will understand the operation incorrectly.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10925<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-06-11 20:44:48<br>
Subject:Re: HTTP cookies as unconditional violations of REST<br>
Message:<br><br>
<pre>* Etan Wexler &lt;yahoo.com@...&gt; [2008-06-11 20:55]:
&gt; Cookies in HTTP always violate REST. By definition, cookies are
&gt; a mechanism for associating requests with a session maintained
&gt; on an origin server.

No, they are a mechanism for asking the client to send some piece
of information along with every request it will make to some part
of a URI space within some timeframe.

That information need not address a session on the server at all,
as I showed in my example of using cookies, a server secret and
HMAC digest to use cookies as a substitute for HTTP Auth.

Note that this in fact requires the server to keep less state
than some HTTP Auth methods such as Digest.

&gt; Maybe my premise is wrong and cookies are not a mechanism for
&gt; associating requests with a session maintained on an origin
&gt; server. Maybe cookies pass arbitrary information from origin
&gt; server to user agent and back. If that is so, then the use of
&gt; cookies still violates the constraint of self-descriptive
&gt; messages, because cookies are not self-descriptive at all.

So cookies violate they constraint because they violate the
constraint? You have begged the question but not actually given
any reason for your claim.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10926<br>
Sender:"max.scheffler" &lt;max_scheffler@...&gt;<br>
Post Date/Time:2008-06-11 16:35:30<br>
Subject:Upload files in RESTful way<br>
Message:<br><br>
<pre>Hi,

I want to upload a file and was wondering how to do so in a RESTful way.

My idea is to use POST and set the enctype to 'multipart/form-data'.
After successfully saving the uploaded file I would return the status
code 201 and perhaps the URI where the uploaded file could be found now.

Is this approach practicable?

Greetings
    Max


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10927<br>
Sender:"Xavier Noria" &lt;fxn@...&gt;<br>
Post Date/Time:2008-06-11 20:50:49<br>
Subject:Re: [rest-discuss] Re: Pretty URLs, sessions, and no cookies<br>
Message:<br><br>
<pre>On Wed, Jun 11, 2008 at 8:26 AM, Aristotle Pagaltzis &lt;pagaltzis@...&gt; wrote:

&gt; Then you don't need to store anything on the server. There is no
&gt; need for a session at all. Either use HTTP Auth or, in case you
&gt; are talking to a browser, use a cookie like this:
&gt;
&gt; auth_token = concat( username, ":", expiration_datetime );
&gt; msghash = digest_hmac( concat( server_secret, ":", auth_token ) );
&gt; cookie = concat( msghash, ":", auth_token );

Something similar to this is what Rails does by default since version 2.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10928<br>
Sender:Peter Keane &lt;pkeane@...&gt;<br>
Post Date/Time:2008-06-11 21:16:30<br>
Subject:Re: [rest-discuss] Re: Pretty URLs, sessions, and no cookies<br>
Message:<br><br>
<pre>On Wed, Jun 11, 2008 at 10:50:49PM +0200, Xavier Noria wrote:
&gt;    On Wed, Jun 11, 2008 at 8:26 AM, Aristotle Pagaltzis &lt;[1]pagaltzis@gmx.
&gt;    de&gt; wrote:
&gt;    &gt; Then you don't need to store anything on the server. There is no
&gt;    &gt; need for a session at all. Either use HTTP Auth or, in case you
&gt;    &gt; are talking to a browser, use a cookie like this:
&gt;    &gt;
&gt;    &gt; auth_token = concat( username, ":", expiration_datetime );
&gt;    &gt; msghash = digest_hmac( concat( server_secret, ":", auth_token ) );
&gt;    &gt; cookie = concat( msghash, ":", auth_token );
&gt;    Something similar to this is what Rails does by default since version
&gt;    2.

I spent quite a lot of time on this issue a few months back, determined to not use cookies. I implemented an http basic auth solutionfor parts of the api, but ultimately settled on the solution Aristotle describes for interaction w/ browsers.  As far as I am concerned, this is the current best practice for RESTful authentication. This &lt;user_id:expiration:hash&gt; cookie was by far the cleanest for the "browser facing" parts as compared to other mechanisms. 

Note that it is always ONLY used for a thumbs-up or thumbs-down for requests that require authentication (not all do).  It in no way ties into server state not addressed in the url.

--peter keane

&gt;    
&gt; 
&gt; References
&gt; 
&gt;    1. mailto:pagaltzis%40gmx.de
&gt;    2. http://groups.yahoo.com/group/rest-discuss/message/10886;_ylc=X3oDMTM2NW1uaHBwBF9TAzk3MzU5NzE0BGdycElkAzQzMTkyNTUEZ3Jwc3BJZAMxNzA1NzAxMDE0BG1zZ0lkAzEwOTI3BHNlYwNmdHIEc2xrA3Z0cGMEc3RpbWUDMTIxMzIxNzQ1MQR0cGNJZAMxMDg4Ng--
&gt;    3. http://groups.yahoo.com/group/rest-discuss/post;_ylc=X3oDMTJxZ2E5aDE5BF9TAzk3MzU5NzE0BGdycElkAzQzMTkyNTUEZ3Jwc3BJZAMxNzA1NzAxMDE0BG1zZ0lkAzEwOTI3BHNlYwNmdHIEc2xrA3JwbHkEc3RpbWUDMTIxMzIxNzQ1MQ--?act=reply&amp;messageNum=10927
&gt;    4. http://groups.yahoo.com/group/rest-discuss/post;_ylc=X3oDMTJlcGRlOWluBF9TAzk3MzU5NzE0BGdycElkAzQzMTkyNTUEZ3Jwc3BJZAMxNzA1NzAxMDE0BHNlYwNmdHIEc2xrA250cGMEc3RpbWUDMTIxMzIxNzQ1MQ--
&gt;    5. http://groups.yahoo.com/group/rest-discuss/messages;_ylc=X3oDMTJlMzQ3ajVoBF9TAzk3MzU5NzE0BGdycElkAzQzMTkyNTUEZ3Jwc3BJZAMxNzA1NzAxMDE0BHNlYwNmdHIEc2xrA21zZ3MEc3RpbWUDMTIxMzIxNzQ1MQ--
&gt;    6. http://groups.yahoo.com/group/rest-discuss/members;_ylc=X3oDMTJlOGQ4azFpBF9TAzk3MzU5NzE0BGdycElkAzQzMTkyNTUEZ3Jwc3BJZAMxNzA1NzAxMDE0BHNlYwNmdHIEc2xrA21icnMEc3RpbWUDMTIxMzIxNzQ1MQ--
&gt;    7. http://us.ard.yahoo.com/SIG=13rmher3p/M=624381.12730922.13032918.10835568/D=groups/S=1705701014:MKP1/Y=YAHOO/EXP=1213224651/L=/B=GEhoBELaX9E-/J=1213217451885490/A=5379723/R=0/SIG=14evd63no/*http://media.adrevolver.com/adrevolver/href?banner=189158&amp;place=26143&amp;url_=http://tc.deals.yahoo.com/tc/blockbuster/display.com?cid=bbi00027
&gt;    8. http://us.ard.yahoo.com/SIG=13rmher3p/M=624381.12730922.13032918.10835568/D=groups/S=1705701014:MKP1/Y=YAHOO/EXP=1213224651/L=/B=GEhoBELaX9E-/J=1213217451885490/A=5379723/R=1/SIG=14evd63no/*http://media.adrevolver.com/adrevolver/href?banner=189158&amp;place=26143&amp;url_=http://tc.deals.yahoo.com/tc/blockbuster/display.com?cid=bbi00027
&gt;    9. http://groups.yahoo.com/;_ylc=X3oDMTJkN3A2YTdhBF9TAzk3MzU5NzE0BGdycElkAzQzMTkyNTUEZ3Jwc3BJZAMxNzA1NzAxMDE0BHNlYwNmdHIEc2xrA2dmcARzdGltZQMxMjEzMjE3NDUx
&gt;   10. http://groups.yahoo.com/group/rest-discuss/join;_ylc=X3oDMTJmdWhoZGo2BF9TAzk3MzU5NzE0BGdycElkAzQzMTkyNTUEZ3Jwc3BJZAMxNzA1NzAxMDE0BHNlYwNmdHIEc2xrA3N0bmdzBHN0aW1lAzEyMTMyMTc0NTE-
&gt;   11. mailto:rest-discuss-digest@yahoogroups.com?subject=Email%20Delivery:%20Digest
&gt;   12. mailto:rest-discuss-traditional@yahoogroups.com?subject=Change%20Delivery%20Format:%20Traditional
&gt;   13. http://groups.yahoo.com/group/rest-discuss;_ylc=X3oDMTJkODIwcW9sBF9TAzk3MzU5NzE0BGdycElkAzQzMTkyNTUEZ3Jwc3BJZAMxNzA1NzAxMDE0BHNlYwNmdHIEc2xrA2hwZgRzdGltZQMxMjEzMjE3NDUx
&gt;   14. http://docs.yahoo.com/info/terms/
&gt;   15. mailto:rest-discuss-unsubscribe@yahoogroups.com?subject=
&gt;   16. http://groups.yahoo.com/group/rest-discuss/members;_ylc=X3oDMTJmMGdlcGk1BF9TAzk3MzU5NzE0BGdycElkAzQzMTkyNTUEZ3Jwc3BJZAMxNzA1NzAxMDE0BHNlYwN2dGwEc2xrA3ZtYnJzBHN0aW1lAzEyMTMyMTc0NTE-
&gt;   17. http://groups.yahoo.com/group/rest-discuss;_ylc=X3oDMTJlaHVrc3JtBF9TAzk3MzU5NzE0BGdycElkAzQzMTkyNTUEZ3Jwc3BJZAMxNzA1NzAxMDE0BHNlYwN2dGwEc2xrA3ZnaHAEc3RpbWUDMTIxMzIxNzQ1MQ--
&gt;   18. http://us.ard.yahoo.com/SIG=13o761p5q/M=493064.12016257.12445664.8674578/D=groups/S=1705701014:NC/Y=YAHOO/EXP=1213224651/L=/B=GUhoBELaX9E-/J=1213217451885490/A=4507179/R=0/SIG=12de4rskk/*http://us.rd.yahoo.com/evt=50284/*http://finance.yahoo.com/personal-finance
&gt;   19. http://us.ard.yahoo.com/SIG=13of8gpst/M=493064.12016306.12445698.8674578/D=groups/S=1705701014:NC/Y=YAHOO/EXP=1213224651/L=/B=GkhoBELaX9E-/J=1213217451885490/A=4763762/R=0/SIG=11ou7otip/*http://advision.webevents.yahoo.com/bestofyahoogroups/
&gt;   20. http://us.ard.yahoo.com/SIG=13o47de48/M=493064.12662708.12980600.8674578/D=groups/S=1705701014:NC/Y=YAHOO/EXP=1213224651/L=/B=G0hoBELaX9E-/J=1213217451885490/A=5349272/R=0/SIG=11nhsqmjq/*http://advision.webevents.yahoo.com/EverydayWellness/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10929<br>
Sender:Michael Schuerig &lt;michael@...&gt;<br>
Post Date/Time:2008-06-11 21:33:20<br>
Subject:Re: Pretty URLs, sessions, and no cookies<br>
Message:<br><br>
<pre>On Wednesday 11 June 2008, Aristotle Pagaltzis wrote:
&gt; * Michael Schuerig &lt;michael@...&gt; [2008-06-11 09:40]:
&gt; &gt; I don't want to use a cookie, that's more or less the whole
&gt; &gt; point of my original message. I know how to get what I want
&gt; &gt; with a cookie, my question is, whether I can get the same
&gt; &gt; result without a cookie.
&gt;
&gt; Ah, I sort of missed that part. How could you possibly do that?

I don't know, that's why I asked.

Michael

-- 
Michael Schuerig
mailto:michael@...
http://www.schuerig.de/michael/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10930<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-06-11 21:46:29<br>
Subject:Re: Upload files in RESTful way<br>
Message:<br><br>
<pre>* max.scheffler &lt;max_scheffler@...&gt; [2008-06-11 22:50]:
&gt; My idea is to use POST and set the enctype to
&gt; 'multipart/form-data'. After successfully saving the uploaded
&gt; file I would return the status code 201 and perhaps the URI
&gt; where the uploaded file could be found now.
&gt; 
&gt; Is this approach practicable?

Yep.

I would be curious about how browsers handle 201 though. You may
be forced to use 303 if they dont take well to it.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10931<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-06-11 22:12:53<br>
Subject:Re: How to model a missing method?<br>
Message:<br><br>
<pre>* Daniel Yokomizo &lt;daniel.yokomizo@...&gt; [2008-06-11 01:45]:
&gt; On Tue, Jun 10, 2008 at 7:10 PM, Aristotle Pagaltzis &lt;pagaltzis@...&gt; wrote:
&gt;&gt; * Daniel Yokomizo &lt;daniel.yokomizo@...&gt; [2008-06-10 16:00]:
&gt;&gt;&gt; Doing PUT sending "activated"/"deactivated" works with other
&gt;&gt;&gt; applications but the semantics of PUT is underspecified (for
&gt;&gt;&gt; this case).
&gt;&gt;
&gt;&gt; No, they're not: they depend on the hypermedia format that
&gt;&gt; contained the link which the client is using to PUT.
&gt;
&gt; My point is that PUT has a well defined semantics, while
&gt; activating/deactivating a resource may have different
&gt; semantics. After sending "PUT /users/1234/status active=0" the
&gt; intermediates can't possibly know that the cached
&gt; representation for "GET /users/1234" is stale (because the
&gt; status text changed, for example).

So dont send an Expires header for /users/1234.

&gt; I'm talking about the semantics of the method, which is defined
&gt; in the RFC, not what both ends know about the implied semantics
&gt; of calling PUT in this particular URI at this moment in time.

Yes. My point is that as long as the semantics of a method in the
context of an application are a subset of the semantics of the
method as defined in the RFC, you are in the clear.

&gt;&gt; It's the representations that carry meaning; methods are
&gt;&gt; generic state-change operators and no more.
&gt;
&gt; Of course the methods have meaning, otherwise we could just
&gt; tunnel everything over POST (which can be also generic
&gt; state-change operator).

Yes, but their meaning is limited to the operation. The semantics
of PUT say nothing about what the enclosed entity means, they
only define the intent of the client that uses such a request.

&gt;&gt;&gt; but then the semantics is unclear because the server rely on
&gt;&gt;&gt; the entity to distinguish between each state
&gt;&gt;
&gt;&gt; I see nothing unclear about that at all.
&gt;
&gt; If we send "GET /users/1234" and get back an hypermedia
&gt; representation, the hypermedia have to embed the entity body
&gt; too:
&gt;
&gt; request: GET /users/1234
&gt; response: &lt;user href='/users/1234'&gt;&lt;form name='activate'
&gt; href='/users/1234/status' method='put'
&gt; content-type='application/x-www-urlencoded'&gt;active=1&lt;/form&gt;&lt;/user&gt;
&gt;
&gt; That's what I meant by unclear: it's not sufficient to send
&gt; back the URI and both the client and the server must understand
&gt; that for this particular URI PUT can have two different effects
&gt; depending on the entity.

With extension methods the client and server must understand that
one of two different methods is applicable based on the state of
the resource. You have not removed any coupling, you have merely
shifted it to another aspect of the protocol.

&gt; Usually when people talk about HATEOAS they say follow the
&gt; links, not follow the links and send just this exact
&gt; representation and nothing else.

Counterexample: Atompub.

&gt;&gt; So to recap:
&gt;&gt;
&gt;&gt;  In one case I have to send an OPTIONS request to the
&gt;&gt;   resource and then check whether the Accept header contains
&gt;&gt;   ACTIVATE or DEACTIVATE, so that I can use the right method
&gt;&gt;   to change the state.
&gt;&gt;
&gt;&gt;  In the other case I have to send a GET request to the
&gt;&gt;   resource and then check the representation to see whether it
&gt;&gt;   contains `active=0` or `active=1`, so that I can PUT the
&gt;&gt;   right entity to change the state.
&gt;&gt;
&gt;&gt; And you are saying the former is less tricky than the latter?
&gt;&gt;
&gt;&gt; If you ask me, it's the other way around.
&gt;
&gt; The first situation relies only on two extension methods
&gt; (ACTIVATE/DEACTIVATE), one standard method (OPTIONS), one  standard
&gt; header and one URI. The second situation relies on two standard
&gt; methods, two URIs, and the knowledge of a media-type that has a
&gt; unusual definition of how a link can be followed.

No more unusual than Atompub. And what you brush over with two
extension methods is arguably more unusual.

&gt; but it doesn't specify what happens to /users/1234 if I follow
&gt; the link to /users/1234/status, while the method can specify
&gt; it.

Oh? So does Atompub not specify that the collection feed will
change if you PUT to an entry in that collection?

&gt; The OP seemed confused about REST (particularly saying that it
&gt; has only four verbs) and I was trying to explain that extension
&gt; verbs is a valid approach, but it depends on the particular
&gt; problem being solved and that different approaches are possible
&gt; and each has it's own benefits/problems.

It can be valid. PATCH is a good extension method. MOVE in WebDAV
is another worthwhile one.

&gt; I think it's a fool's attempt to embed everything in
&gt; GET/PUT/POST/DELETE and multiply the resources/media-types ad
&gt; infinitum. The constraint isn't a fixed set of verbs but
&gt; uniform interface.

True, but erring on the side of hypermedia seems like a
no-brainer to me, whereas extra methods require extraordinary
justification.

And Id also say that people like the OP who come from a SOAP
background should definitely lay off the methods and try to think
in terms of resources for a while until they have a firmer grasp
of REST and how to design applications according to it.

&gt; WebDAV has its particular set of verbs because the additional
&gt; semantics they carry is useful. Atom uses only the basic four
&gt; verbs because they don't need the added semantics. Both
&gt; approaches are valid (and useful).

I think WebDAV went way overboard with extra methods. Some of
them are worthwhile, but many of them would be unnecessary given
more hypermedia.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10932<br>
Sender:"Brandon Carlson" &lt;bcarlso@...&gt;<br>
Post Date/Time:2008-06-11 22:18:01<br>
Subject:Re: [rest-discuss] Re: Upload files in RESTful way<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10933<br>
Sender:"Etan Wexler" &lt;yahoo.com@...&gt;<br>
Post Date/Time:2008-06-12 03:08:07<br>
Subject:Satus-code "201" and common Web browsers circa 2008 [rest-discuss]<br>
Message:<br><br>
<pre>Brandon Carlson wrote (in
&lt;http://tech.groups.yahoo.com/group/rest-discuss/message/10932&gt;):

&gt; I haven't had much luck with browsers and [status-code "201", but]
&gt; things may have changed since I last did it a couple of years ago.

What problems did you encounter in this regard? What problems have other
people encountered in this regard?

-- 
Please do not reply to me when replying to rest-discuss. I read the
messages that people send to rest-discuss and I do not want duplicates.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10934<br>
Sender:"Etan Wexler" &lt;yahoo.com@...&gt;<br>
Post Date/Time:2008-06-12 03:17:40<br>
Subject:Re: HTTP cookies as unconditional violations of REST [rest-discuss]<br>
Message:<br><br>
<pre>I (Etan Wexler) wrote:

&gt; &gt;    Given that cookies in HTTP always violate REST [...]

Peter Keane responded (in
&lt;http://tech.groups.yahoo.com/group/rest-discuss/message/10921&gt;):

&gt; I would recommend a previous thread here ("Are Cookies ever RESTful?")
&gt; and particularly a comment from Roy Fielding that seems to contradict
&gt; this statement:
&gt; 
&gt; http://tech.groups.yahoo.com/group/rest-discuss/message/10027

I read Roy Fielding's statements there. He treated the subject of user
agents algorithmically constructing resource identifiers and, as far as
I can tell, wrote nothing about cookies in HTTP. Did I miss something?

-- 
Please do not reply to me when replying to rest-discuss. I read the
messages that people send to rest-discuss and I do not want duplicates.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10935<br>
Sender:Peter Keane &lt;pkeane@...&gt;<br>
Post Date/Time:2008-06-12 03:56:11<br>
Subject:Re: HTTP cookies as unconditional violations of REST [rest-discuss]<br>
Message:<br><br>
<pre>On Wed, Jun 11, 2008 at 08:17:40PM -0700, Etan Wexler wrote:
&gt;    I (Etan Wexler) wrote:
&gt;    &gt; &gt; Given that cookies in HTTP always violate REST [...]
&gt;    Peter Keane responded (in
&gt;    &lt;[1]http://tech.groups.yahoo.com/group/rest-discuss/message/10921&gt;):
&gt;    &gt; I would recommend a previous thread here ("Are Cookies ever
&gt;    RESTful?")
&gt;    &gt; and particularly a comment from Roy Fielding that seems to contradict
&gt;    &gt; this statement:
&gt;    &gt;
&gt;    &gt; [2]http://tech.groups.yahoo.com/group/rest-discuss/message/10027
&gt;    I read Roy Fielding's statements there. He treated the subject of user
&gt;    agents algorithmically constructing resource identifiers and, as far as
&gt;    I can tell, wrote nothing about cookies in HTTP. Did I miss something?
&gt;    --

Yes, you are correct. But note that the questioner was also asking
about cookies (and I took Roy's remark to include cookes). There is
no significant distinction (in this specific case) between the server
giving the client a form or a uri template or a cookie that the client
can then use to create a request. Note that the cookie is to be used 1.
to construct the proper uri for the resource (by including the username,
which is the value of the cookie) in the uri and 2, in conjunction with
another cookie (which contains a hash of &lt;a secret key + usename&gt;) to
provide a means to authenticate the request.

While cookies are *generally* used in a non-RESTful way, it's not
correct to say that cookies in HTTP always violate REST (to the extent
that we have a common understanding of "in HTTP," "violate," and "REST"
which may, I suppose, not be the case).

--peter keane

&gt;    Please do not reply to me when replying to rest-discuss. I read the
&gt;    messages that people send to rest-discuss and I do not want duplicates.
&gt;    
&gt; 
&gt; References
&gt; 
&gt;    1. http://tech.groups.yahoo.com/group/rest-discuss/message/10921
&gt;    2. http://tech.groups.yahoo.com/group/rest-discuss/message/10027
&gt;    3. http://groups.yahoo.com/group/rest-discuss/message/10920;_ylc=X3oDMTM2b2cyZWUzBF9TAzk3MzU5NzE0BGdycElkAzQzMTkyNTUEZ3Jwc3BJZAMxNzA1NzAxMDE0BG1zZ0lkAzEwOTM0BHNlYwNmdHIEc2xrA3Z0cGMEc3RpbWUDMTIxMzI0MDY2MwR0cGNJZAMxMDkyMA--
&gt;    4. http://groups.yahoo.com/group/rest-discuss/post;_ylc=X3oDMTJxdWRiaHIyBF9TAzk3MzU5NzE0BGdycElkAzQzMTkyNTUEZ3Jwc3BJZAMxNzA1NzAxMDE0BG1zZ0lkAzEwOTM0BHNlYwNmdHIEc2xrA3JwbHkEc3RpbWUDMTIxMzI0MDY2Mw--?act=reply&amp;messageNum=10934
&gt;    5. http://groups.yahoo.com/group/rest-discuss/post;_ylc=X3oDMTJlamo0NG90BF9TAzk3MzU5NzE0BGdycElkAzQzMTkyNTUEZ3Jwc3BJZAMxNzA1NzAxMDE0BHNlYwNmdHIEc2xrA250cGMEc3RpbWUDMTIxMzI0MDY2Mw--
&gt;    6. http://groups.yahoo.com/group/rest-discuss/messages;_ylc=X3oDMTJla2RkczZhBF9TAzk3MzU5NzE0BGdycElkAzQzMTkyNTUEZ3Jwc3BJZAMxNzA1NzAxMDE0BHNlYwNmdHIEc2xrA21zZ3MEc3RpbWUDMTIxMzI0MDY2Mw--
&gt;    7. http://groups.yahoo.com/group/rest-discuss/members;_ylc=X3oDMTJlZHJvNGoxBF9TAzk3MzU5NzE0BGdycElkAzQzMTkyNTUEZ3Jwc3BJZAMxNzA1NzAxMDE0BHNlYwNmdHIEc2xrA21icnMEc3RpbWUDMTIxMzI0MDY2Mw--
&gt;    8. http://us.ard.yahoo.com/SIG=13r9f4pep/M=624381.12730922.13032918.10835568/D=groups/S=1705701014:MKP1/Y=YAHOO/EXP=1213247864/L=/B=.rG9BELaX9o-/J=1213240664080788/A=5368226/R=0/SIG=14erof5si/*http://media.adrevolver.com/adrevolver/href?banner=189161&amp;place=26143&amp;url_=http://tc.deals.yahoo.com/tc/blockbuster/display.com?cid=bbi00028
&gt;    9. http://groups.yahoo.com/;_ylc=X3oDMTJkNmk1aGxoBF9TAzk3MzU5NzE0BGdycElkAzQzMTkyNTUEZ3Jwc3BJZAMxNzA1NzAxMDE0BHNlYwNmdHIEc2xrA2dmcARzdGltZQMxMjEzMjQwNjYz
&gt;   10. http://groups.yahoo.com/group/rest-discuss/join;_ylc=X3oDMTJmODJyOWpsBF9TAzk3MzU5NzE0BGdycElkAzQzMTkyNTUEZ3Jwc3BJZAMxNzA1NzAxMDE0BHNlYwNmdHIEc2xrA3N0bmdzBHN0aW1lAzEyMTMyNDA2NjM-
&gt;   11. mailto:rest-discuss-digest@yahoogroups.com?subject=Email%20Delivery:%20Digest
&gt;   12. mailto:rest-discuss-traditional@yahoogroups.com?subject=Change%20Delivery%20Format:%20Traditional
&gt;   13. http://groups.yahoo.com/group/rest-discuss;_ylc=X3oDMTJkazhwbHJmBF9TAzk3MzU5NzE0BGdycElkAzQzMTkyNTUEZ3Jwc3BJZAMxNzA1NzAxMDE0BHNlYwNmdHIEc2xrA2hwZgRzdGltZQMxMjEzMjQwNjYz
&gt;   14. http://docs.yahoo.com/info/terms/
&gt;   15. mailto:rest-discuss-unsubscribe@yahoogroups.com?subject=
&gt;   16. http://groups.yahoo.com/group/rest-discuss/members;_ylc=X3oDMTJma281ZGwxBF9TAzk3MzU5NzE0BGdycElkAzQzMTkyNTUEZ3Jwc3BJZAMxNzA1NzAxMDE0BHNlYwN2dGwEc2xrA3ZtYnJzBHN0aW1lAzEyMTMyNDA2NjM-
&gt;   17. http://groups.yahoo.com/group/rest-discuss;_ylc=X3oDMTJlZmJudTZoBF9TAzk3MzU5NzE0BGdycElkAzQzMTkyNTUEZ3Jwc3BJZAMxNzA1NzAxMDE0BHNlYwN2dGwEc2xrA3ZnaHAEc3RpbWUDMTIxMzI0MDY2Mw--
&gt;   18. http://us.ard.yahoo.com/SIG=13omgsr6b/M=493064.12016257.12445664.8674578/D=groups/S=1705701014:NC/Y=YAHOO/EXP=1213247864/L=/B=.7G9BELaX9o-/J=1213240664080788/A=4507179/R=0/SIG=12de4rskk/*http://us.rd.yahoo.com/evt=50284/*http://finance.yahoo.com/personal-finance
&gt;   19. http://us.ard.yahoo.com/SIG=13onga84m/M=493064.12016308.12445700.8674578/D=groups/S=1705701014:NC/Y=YAHOO/EXP=1213247864/L=/B=_LG9BELaX9o-/J=1213240664080788/A=3848644/R=0/SIG=131l83flq/*http://searchmarketing.yahoo.com/arp/srchv2.php?o=US2006&amp;cmp=Yahoo&amp;ctv=Groups5&amp;s=Y&amp;s2=&amp;s3=&amp;b=50
&gt;   20. http://us.ard.yahoo.com/SIG=13ore8vn9/M=493064.12016263.12445670.8674578/D=groups/S=1705701014:NC/Y=YAHOO/EXP=1213247864/L=/B=_bG9BELaX9o-/J=1213240664080788/A=4836044/R=0/SIG=11o19ppl5/*http://advision.webevents.yahoo.com/dogzone/index.html

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10936<br>
Sender:Peter Keane &lt;pkeane@...&gt;<br>
Post Date/Time:2008-06-12 04:05:06<br>
Subject:Re: HTTP cookies as unconditional violations of REST [rest-discuss]<br>
Message:<br><br>
<pre>On Wed, Jun 11, 2008 at 08:17:40PM -0700, Etan Wexler wrote:
&gt;    I (Etan Wexler) wrote:
&gt;    &gt; &gt; Given that cookies in HTTP always violate REST [...]
&gt;    Peter Keane responded (in
&gt;    &lt;[1]http://tech.groups.yahoo.com/group/rest-discuss/message/10921&gt;):
&gt;    &gt; I would recommend a previous thread here ("Are Cookies ever
&gt;    RESTful?")
&gt;    &gt; and particularly a comment from Roy Fielding that seems to contradict
&gt;    &gt; this statement:
&gt;    &gt;
&gt;    &gt; [2]http://tech.groups.yahoo.com/group/rest-discuss/message/10027
&gt;    I read Roy Fielding's statements there. He treated the subject of user
&gt;    agents algorithmically constructing resource identifiers and, as far as
&gt;    I can tell, wrote nothing about cookies in HTTP. Did I miss something?
&gt;    --

I should also mention that in Dr. Fielding's Dissertation (section
6.3.4.2) he discusses the ways that cookies violate REST. But I would
note that the uses of cookies he describes there are *not* the same as
the uses described in the cited thread.

--peter keane

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10937<br>
Sender:"Etan Wexler" &lt;yahoo.com@...&gt;<br>
Post Date/Time:2008-06-12 04:13:39<br>
Subject:[rest-discuss] Re: HTTP cookies as unconditional violations of REST<br>
Message:<br><br>
<pre>I (Etan Wexler) wrote:

&gt; &gt; Maybe my premise is wrong and cookies are not a mechanism for
&gt; &gt; associating requests with a session maintained on an origin
&gt; &gt; server. Maybe cookies pass arbitrary information from origin
&gt; &gt; server to user agent and back. If that is so, then the use of
&gt; &gt; cookies still violates the constraint of self-descriptive
&gt; &gt; messages, because cookies are not self-descriptive at all.

Aristotle Pagaltzis responded (in
&lt;http://tech.groups.yahoo.com/group/rest-discuss/message/10925&gt;):

&gt; So cookies violate they constraint because they violate the
&gt; constraint? You have begged the question but not actually given
&gt; any reason for your claim.

If cookies are vehicles for passing arbitrary information, as you tell
me that they are, then it is the arbitrary nature that prevents
self-description. User agents and intermediaries are unable to determine
whether a cookie carries authentication credentials, a reference to
session state, a directive to override the method, or something else. In
terms of desirable properties, the effect is to reduce visibility, thus
reducing cacheability, thus reducing network performance.

I truly struggle to explain my point because, to me, it seems extremely
obvious. Yeah, if an application fails to conform to a constraint, then
it has violated the constraint. I don't see self-descriptiveness as a
default for data. On the contrary, I see that it takes nontrivial effort
on the part of designers to craft self-descriptive data. If you agree
that self-descriptiveness is not a default for data, then the onus is on
the people who find cookies in harmony with REST to show how cookies are
self-descriptive. If you disagree and posit that self-descriptiveness is
the default for data, then I would ask that you provide some evidence
for your claim.

-- 
(I'm trying to be open-minded and friendly and to presume that others
are doing the same. I think that my writing failed to convey my attempt,
but please know that I come to the table in good faith.) 

Please do not reply to me when replying to rest-discuss. I read the
messages that people send to rest-discuss and I do not want duplicates.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10938<br>
Sender:"Etan Wexler" &lt;yahoo.com@...&gt;<br>
Post Date/Time:2008-06-12 04:45:49<br>
Subject:Re: HTTP cookies as unconditional violations of REST [rest-discuss]<br>
Message:<br><br>
<pre>Peter Keane wrote (in
&lt;http://tech.groups.yahoo.com/group/rest-discuss/message/10936&gt;):

&gt; I should also mention that in Dr. Fielding's Dissertation (section
&gt; 6.3.4.2) he discusses the ways that cookies violate REST. But I would
&gt; note that the uses of cookies he describes there are *not* the same as
&gt; the uses described in the cited thread.

Roy Fielding wrote (in
&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/evaluation.htm#sec_6_3_4_2&gt;):

"Cookies also violate REST because they allow data to be passed without
sufficiently identifying its semantics, thus becoming a concern for both
security and privacy."

In other words, cookies violate the constraint of self-descriptive
messages. I tend to think that cookies are well defined as references to
session state kept on origin servers and so violate only the constraint
of statelessness. I accounted for the possibility that cookies have no
solid definition, writing that cookies would, in that case, violate the
constraint of self-descriptive messages. Roy Fielding seems to posit
that cookies violate both constraints (to get my drift, one has to read
more of the cited section of the dissertation than the sentence that I
quoted).

Now that I think more on the subject, I admit that I failed to account
for a fourth possibility: cookies could have a solid definition as
something other than references to session state kept on origin servers.
I think that this is not the case, but I'm game to read arguments to the
contrary.

-- 
Please do not reply to me when replying to rest-discuss. I read the
messages that people send to rest-discuss and I do not want duplicates.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10939<br>
Sender:"Etan Wexler" &lt;yahoo.com@...&gt;<br>
Post Date/Time:2008-06-12 05:26:10<br>
Subject:Re: HTTP cookies as unconditional violations of REST [rest-discuss]<br>
Message:<br><br>
<pre>Peter Keane wrote (in
&lt;http://tech.groups.yahoo.com/group/rest-discuss/message/10935&gt;):

&gt; There is
&gt; no significant distinction (in this specific case) between the server
&gt; giving the client a form or a uri template or a cookie that the client
&gt; can then use to create a request.

I'll presume that you mean that the form or the URI template would be in
a representation with a media type that identifies the form or URI
template as such. And therein is the significant distinction. A
REST-conformant user agent would process the form or URI template and
present it decently to the user only because the media type dictates a
set of shared conventions. (For example, HTML documents in the World
Wide Web are HTML documents because their media-type label is
"text/html". If one changes the label to "text/plain", the entity body
has lost most of its meaning and is no longer HTML.) The cookie is
opaque to the user agent (and to connectors and to intermediary
components).

&gt; Note that the cookie is to be used 1.
&gt; to construct the proper uri for the resource (by including the username,
&gt; which is the value of the cookie) in the uri

Did you mean "Note that the cookie is to be used to construct the proper
URI for the resource (by including the username, which is the value of
the cookie, in the URI)"? If that is what you meant, did you also mean
that the user agent would construct the URI from the cookie? I don't
know of such a practice, so I'm curious to read about it. If, instead,
you mean that the origin server would construct the URI from the cookie,
then we have a situation in which the user agent is clueless about the
meaning of the cookie and we are back to a violation

&gt; [the cookie is to be used] in conjunction with
&gt; another cookie (which contains a hash of &lt;a secret key + usename&gt;) to
&gt; provide a means to authenticate the request.

Here, again, we would have a violation of the constraint of
self-descriptive messages. Cookies are not defined as vehicles for
authentication credentials.

&gt; [...] it's not
&gt; correct to say that cookies in HTTP always violate REST (to the extent
&gt; that we have a common understanding of "in HTTP," "violate," and "REST"
&gt; which may, I suppose, not be the case).

I think that we have a common understanding of the phrases "in HTTP" and
"violate". I am unsure about whether we have a common understanding of
"REST", but I think that our understandings of "REST" are close enough
that the discussion is beneficial.

-- 
Please do not reply to me when replying to rest-discuss. I read the
messages that people send to rest-discuss and I do not want duplicates.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10940<br>
Sender:"Lawrence Oluyede" &lt;l.oluyede@...&gt;<br>
Post Date/Time:2008-06-12 07:31:55<br>
Subject:Re: Satus-code "201" and common Web browsers circa 2008 [rest-discuss]<br>
Message:<br><br>
<pre>On Thu, Jun 12, 2008 at 5:08 AM, Etan Wexler &lt;yahoo.com@...&gt; wrote:
&gt; Brandon Carlson wrote (in
&gt; &lt;http://tech.groups.yahoo.com/group/rest-discuss/message/10932&gt;):
&gt;
&gt;&gt; I haven't had much luck with browsers and [status-code "201", but]
&gt;&gt; things may have changed since I last did it a couple of years ago.
&gt;
&gt; What problems did you encounter in this regard? What problems have other
&gt; people encountered in this regard?

None, browsers treat 201 as a success code like it should be


-- 
Lawrence, stacktrace.it - oluyede.org - neropercaso.it
"It is difficult to get a man to understand
something when his salary depends on not
understanding it" - Upton Sinclair

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10941<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-06-12 07:46:07<br>
Subject:Re: Satus-code "201" and common Web browsers circa 2008 [rest-discuss]<br>
Message:<br><br>
<pre>Lawrence Oluyede wrote:
&gt; 
&gt; 
&gt; On Thu, Jun 12, 2008 at 5:08 AM, Etan Wexler &lt;yahoo.com@r- 6.org 
&gt; &lt;mailto:yahoo.com%40r-6.org&gt;&gt; wrote:
&gt;  &gt; Brandon Carlson wrote (in
&gt;  &gt; &lt;http://tech. groups.yahoo. com/group/ rest-discuss/ message/10932 
&gt; &lt;http://tech.groups.yahoo.com/group/rest-discuss/message/10932&gt;&gt;):
&gt;  &gt;
&gt;  &gt;&gt; I haven't had much luck with browsers and [status-code "201", but]
&gt;  &gt;&gt; things may have changed since I last did it a couple of years ago.
&gt;  &gt;
&gt;  &gt; What problems did you encounter in this regard? What problems have other
&gt;  &gt; people encountered in this regard?
&gt; 
&gt; None, browsers treat 201 as a success code like it should be
&gt; ...

Is there a bug raised against Firefox with respect to this?

BR, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10942<br>
Sender:"Xavier Noria" &lt;fxn@...&gt;<br>
Post Date/Time:2008-06-12 09:47:17<br>
Subject:bulk upload of resources?<br>
Message:<br><br>
<pre>Say I have an application with users whose listing is at

   GET /users

and POST /users creates a new user.

Now, I want to provide bulk load of users, for example a CSV file with
hundreds of users, would you PUT the file to /users? Does it matter
whether that's a partial set of records rather than the entire
collection?

-- fxn

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10943<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-06-12 12:37:54<br>
Subject:Re: [rest-discuss] bulk upload of resources?<br>
Message:<br><br>
<pre>My first thought would be to create a new URI for bulk loading:
/users/bulk

Another possibility would be to use the content-type header to signal
this to the server

POST /users
Content-Type: text/csv

MikeA

On Thu, Jun 12, 2008 at 5:47 AM, Xavier Noria &lt;fxn@...&gt; wrote:
&gt; Say I have an application with users whose listing is at
&gt;
&gt;   GET /users
&gt;
&gt; and POST /users creates a new user.
&gt;
&gt; Now, I want to provide bulk load of users, for example a CSV file with
&gt; hundreds of users, would you PUT the file to /users? Does it matter
&gt; whether that's a partial set of records rather than the entire
&gt; collection?
&gt;
&gt; -- fxn
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10944<br>
Sender:"Xavier Noria" &lt;fxn@...&gt;<br>
Post Date/Time:2008-06-12 13:10:23<br>
Subject:Re: [rest-discuss] bulk upload of resources?<br>
Message:<br><br>
<pre>On Thu, Jun 12, 2008 at 2:37 PM, mike amundsen &lt;mamund@...&gt; wrote:

&gt; My first thought would be to create a new URI for bulk loading:
&gt; /users/bulk
&gt;
&gt; Another possibility would be to use the content-type header to signal
&gt; this to the server
&gt;
&gt; POST /users
&gt; Content-Type: text/csv

I think it is considered bad practice to have an if/else like this
based on the Content-Type. Anyone?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10945<br>
Sender:Bruno Harbulot &lt;Bruno.Harbulot@...&gt;<br>
Post Date/Time:2008-06-12 13:25:07<br>
Subject:Re: HTTP cookies as unconditional violations of REST<br>
Message:<br><br>
<pre>Hi,

Etan Wexler wrote:
&gt; 
&gt; 
&gt; Bruno Harbulot wrote (in
&gt; &lt;http://tech.groups.yahoo.com/group/rest-discuss/message/10906 
&gt; &lt;http://tech.groups.yahoo.com/group/rest-discuss/message/10906&gt;&gt;):
&gt; 
&gt;  &gt; Although I'd also prefer authentication mechanisms
&gt;  &gt; based on WWW-Authenticate (and related headers), sometimes, it's
&gt;  &gt; practically impossible, hence the use of a cookie to maintain an
&gt;  &gt; authenticated session (using a cookie being by far better than using a
&gt;  &gt; session id in a URI parameter).
&gt;  &gt;
&gt;  &gt; I think this doesn't contradict the stateless interactions principle of
&gt;  &gt; REST, as long as the session is only used for authentication purposes.
&gt; 
&gt; In that last sentence, "principle" should be "constraint". I think that
&gt; you may have meant "cookie" where you wrote "session". Is that the case?

Well... I suppose I meant "cookie, and therefore session, [...]", since, 
as you point out below, "cookies are a mechanism for associating 
requests with a session maintained on an origin server".

As much as an SSL session that is used for authentication is not 
particularly relevant to the REST/non-REST argument, there are also 
other authentication mechanisms that rely on a form of session or at 
least some shared state (often temporarily) between the client and the 
server, and this is not strictly related to the "RESTfulness" of the 
application.
By lack of support (especially in browsers) for transferring this 
authentication-state information in the defined authentication headers 
of HTTP, some web servers rely on a cookie to check that a client has 
been authenticated, effectively by giving them a shared secret which 
they are supposed send back so that it can be verified in subsequent 
requests.


Instead of it being done via cookies with:
S-&gt;C: Set-Cookie: auth_token=0123456789
C-&gt;S: Cookie: auth_token=0123456789

This could be done with something along the lines of:
S-&gt;C: Authentication-Info: auth_token=0123456789
C-&gt;S: Authorization: SharedToken auth_token=0123456789

In addition to this, if that shared token were to be obtained via a 
form, there could be an initial challenge along these lines:
S-&gt;C: WWW-Authenticate: Form http://the/logon/form


My point was that such cookies are (or at least can and should be) 
completely distinct from the REST concern.


The difficulty with forms for authentication is that they are a subset 
of the application itself and not handled separately by the user-agent. 
They carry out the authentication task by changing the application 
state. What servers that challenge clients with a form should do is to 
enable the client to respond to the authentication challenge but invite 
the client to re-attempt their initial request, by responding with a 
sufficiently self-descriptive message.
Once authentication has been performed, the authentication information 
should be treated separately from the main application (cookie or not). 
Whether-or-not that application is RESTful should be a different problem.


Best wishes,

Bruno.


&gt; Cookies in HTTP always violate REST. By definition, cookies are a
&gt; mechanism for associating requests with a session maintained on an
&gt; origin server. If an application uses cookies as intended, the use of
&gt; the cookies violates the constraint of stateless communication. If an
&gt; application uses cookies but does not use them as intended, the use of
&gt; the cookies violates the constraint of self-descriptive messages. Maybe
&gt; my premise is wrong and cookies are not a mechanism for associating
&gt; requests with a session maintained on an origin server. Maybe cookies
&gt; pass arbitrary information from origin server to user agent and back. If
&gt; that is so, then the use of cookies still violates the constraint of
&gt; self-descriptive messages, because cookies are not self-descriptive at
&gt; all.
&gt; 
&gt; Given that cookies in HTTP always violate REST, I add that violating
&gt; REST is not the end of the world, and so using cookies is not the end of
&gt; the world. Sometimes cookies are a decent way to get a job done.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10946<br>
Sender:"Daniel Yokomizo" &lt;daniel.yokomizo@...&gt;<br>
Post Date/Time:2008-06-12 13:35:55<br>
Subject:Re: [rest-discuss] bulk upload of resources?<br>
Message:<br><br>
<pre>On Thu, Jun 12, 2008 at 10:10 AM, Xavier Noria &lt;fxn@...&gt; wrote:
&gt; On Thu, Jun 12, 2008 at 2:37 PM, mike amundsen &lt;mamund@...&gt; wrote:
&gt;
&gt;&gt; My first thought would be to create a new URI for bulk loading:
&gt;&gt; /users/bulk
&gt;&gt;
&gt;&gt; Another possibility would be to use the content-type header to signal
&gt;&gt; this to the server
&gt;&gt;
&gt;&gt; POST /users
&gt;&gt; Content-Type: text/csv
&gt;
&gt; I think it is considered bad practice to have an if/else like this
&gt; based on the Content-Type. Anyone?

A couple of thoughts:

1. You could accept multiple (new) user definitions for any media-type
(as long as it supported multiple definitions), so it wouldn't
necessarily be a hack, just usual representation handling. For example
the resource could accept XML or JSON representations of multiple
users or of a single user as well.
2. Using POST to create a single user can use the Location header to
inform the client what is the created URI, with multiple users you
can't do this. The server can respond with a representation with all
the created URIs, or with a Location header pointing to a resource
that represents the bulk upload (e.g. /users/bulk/1234) results. Using
this second design would indicate that POSTing to /users/bulk would be
more appropriate (IMHO).

Best regards,
Daniel Yokomizo

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10948<br>
Sender:Peter Keane &lt;pkeane@...&gt;<br>
Post Date/Time:2008-06-12 13:58:30<br>
Subject:Re: HTTP cookies as unconditional violations of REST [rest-discuss]<br>
Message:<br><br>
<pre>On Wed, Jun 11, 2008 at 10:26:10PM -0700, Etan Wexler wrote:
&gt;    Peter Keane wrote (in
&gt;    &lt;[1]http://tech.groups.yahoo.com/group/rest-discuss/message/10935&gt;):
&gt;    &gt; There is
&gt;    &gt; no significant distinction (in this specific case) between the server
&gt;    &gt; giving the client a form or a uri template or a cookie that the
&gt;    client
&gt;    &gt; can then use to create a request.
&gt;    I'll presume that you mean that the form or the URI template would be
&gt;    in
&gt;    a representation with a media type that identifies the form or URI
&gt;    template as such. And therein is the significant distinction. A
&gt;    REST-conformant user agent would process the form or URI template and

I am aware of
http://www.ietf.org/internet-drafts/draft-gregorio-uritemplate-03.txt,
but I am unaware of any standard practice for uri templates commonly
used at this point (among the contenders: Opensearch,SRU,Google's query
language). So we do not yet have a set of shared conventions there.
It'll be great when we do, but it is still a practice waiting to be
standardized. I'd suggest that some of those approaches could be deemed
more RESTful than others, even though there is no standard practice.
Same w/ using a cookie in the way I suggest (although admittedly, my use
of cookies is largely a "fix" to compensate for inadequate support for
HTTP auth in the browser).


&gt;    present it decently to the user only because the media type dictates a
&gt;    set of shared conventions. (For example, HTML documents in the World
&gt;    Wide Web are HTML documents because their media-type label is
&gt;    "text/html". If one changes the label to "text/plain", the entity body
&gt;    has lost most of its meaning and is no longer HTML.) The cookie is
&gt;    opaque to the user agent (and to connectors and to intermediary
&gt;    components).
&gt;    &gt; Note that the cookie is to be used 1.
&gt;    &gt; to construct the proper uri for the resource (by including the
&gt;    username,
&gt;    &gt; which is the value of the cookie) in the uri
&gt;    Did you mean "Note that the cookie is to be used to construct the
&gt;    proper
&gt;    URI for the resource (by including the username, which is the value of
&gt;    the cookie, in the URI)"? If that is what you meant, did you also mean
&gt;    that the user agent would construct the URI from the cookie? I don't
&gt;    know of such a practice, so I'm curious to read about it. If, instead,

Yes, I mean the browser reads the cookie to figure out how to construct
a URI. This is my approach to "personalized" resources: the bulk of the
page is available at a generic URI, and an AJAX request makes a second
request, using a URI that includes the username: some JSON is returned
that is then inserted in to the page to display information and/or
hyperlinks available to this user. While cookies typically "refer" to
state saved on the server, in this scenario that "state" lives at a url
and must be retrived and inserted into the page, thus becoming hypertext
(In the interest of HATEOS).

&gt;    you mean that the origin server would construct the URI from the
&gt;    cookie,
&gt;    then we have a situation in which the user agent is clueless about the
&gt;    meaning of the cookie and we are back to a violation
&gt;    &gt; [the cookie is to be used] in conjunction with
&gt;    &gt; another cookie (which contains a hash of &lt;a secret key + usename&gt;) to
&gt;    &gt; provide a means to authenticate the request.
&gt;    Here, again, we would have a violation of the constraint of
&gt;    self-descriptive messages. Cookies are not defined as vehicles for
&gt;    authentication credentials.

Yes, that's true. I am as much describing a useful practice as
anything, given a less-than-ideal reality regarding browsers and
identity/authentication.

&gt;    &gt; [...] it's not
&gt;    &gt; correct to say that cookies in HTTP always violate REST (to the
&gt;    extent
&gt;    &gt; that we have a common understanding of "in HTTP," "violate," and
&gt;    "REST"
&gt;    &gt; which may, I suppose, not be the case).
&gt;    I think that we have a common understanding of the phrases "in HTTP"
&gt;    and
&gt;    "violate". I am unsure about whether we have a common understanding of
&gt;    "REST", but I think that our understandings of "REST" are close enough
&gt;    that the discussion is beneficial.

One thing I am trying to avoid is treating REST as if it were just
another spec like RFC 2616. While it is, of course, no more and no less
than what Roy Fielding says it is in his dissertation, he has commented
that the dissertation was as much about "principled design." Meaning
that REST is a set of principles/constraints, the use of which maximizes
some positive effects and the violation of which minimizes or cancels
those positive effects. While one can take a hard line about what
techniques "violate REST," I find it somewhat more useful to consider a
range of practices that, given the curent state of browser support for
HTTP/1.1, maximizes the same positive effects that the constraints of
REST maximize. Is what I am describing REST? Well, perhaps not in the
strictest sense, but in another sense -- a set of principles, adherence
to which results in beneficial effects, I think so. I personally think
that building RESTful web applications without ever using cookies is
impractical. As Aristotle has pointed out, intelligent use of cookies
quite consonant with the aims of REST.

What I enjoy about this list is the airing and critiquing of techniques
useful to real world RESTful web application design. You might be amused
to see my commit log trail a day or two behind some of the discussions
here (as well as atom-syntax &amp; atom-protocol) as I learned about or
gained a greater understanding of particular techniques. I am generally
grateful when others point out why an approach I am using is unRESTful
or unwise, so I am certainly open to hearing about alternatives.

thanks-
peter keane


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10949<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2008-06-12 14:12:48<br>
Subject:Re: [rest-discuss] bulk upload of resources?<br>
Message:<br><br>
<pre>I've done something like this for batches of inventory transactions.

I had a resource for accepting POSTs of batches of transactions.

Upon acceptance, the client was redirected to a URL for the
batch-as-resource, with hyperlinks to resources for all of the
associated transactions.

The batch resource also showed the status of each transaction (e.g. if
some of them had errors).  In that case, the transaction could be
corrected and PUT back again singly.

The transaction resources could also be found from other parents, e.g.
the inventory item that they modified, the parties involved, the
locations, a resource which listed all transactions, a search
resource, etc.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10950<br>
Sender:"Brandon Carlson" &lt;bcarlso@...&gt;<br>
Post Date/Time:2008-06-12 15:00:56<br>
Subject:Re: Satus-code "201" and common Web browsers circa 2008 [rest-discuss]<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10951<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-06-12 16:13:31<br>
Subject:Re: [rest-discuss] Re: HTTP cookies as unconditional violations of REST<br>
Message:<br><br>
<pre>Just a small point ... please don't change the subject of the thread
.. it breaks the Gmail conversation view.


Regards
Devdatta

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10952<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-06-14 03:03:20<br>
Subject:Re: [rest-discuss] HTTP cookies as unconditional violations of REST<br>
Message:<br><br>
<pre>Etan Wexler wrote:
&gt;
&gt; I (Etan Wexler) wrote:
&gt; 
&gt; &gt; &gt; Maybe my premise is wrong and cookies are not a mechanism for
&gt; &gt; &gt; associating requests with a session maintained on an origin
&gt; &gt; &gt; server. Maybe cookies pass arbitrary information from origin
&gt; &gt; &gt; server to user agent and back. If that is so, then the use of
&gt; &gt; &gt; cookies still violates the constraint of self-descriptive
&gt; &gt; &gt; messages, because cookies are not self-descriptive at all.
&gt; 
&gt; Aristotle Pagaltzis responded (in
&gt; &lt;http://tech.groups.yahoo.com/group/rest-discuss/message/10925&gt;):
&gt; 
&gt; &gt; So cookies violate they constraint because they violate the
&gt; &gt; constraint? You have begged the question but not actually given
&gt; &gt; any reason for your claim.
&gt; 
&gt; If cookies are vehicles for passing arbitrary information, as you tell
&gt; me that they are, then it is the arbitrary nature that prevents
&gt; self-description. User agents and intermediaries are unable to
&gt; determine whether a cookie carries authentication credentials, a
&gt; reference to session state, a directive to override the method, or
&gt; something else. In terms of desirable properties, the effect is to
&gt; reduce visibility, thus reducing cacheability, thus reducing network
&gt; performance.
&gt; 
&gt; I truly struggle to explain my point because, to me, it seems
&gt; extremely obvious. Yeah, if an application fails to conform to a
&gt; constraint, then it has violated the constraint. I don't see
&gt; self-descriptiveness as a default for data. On the contrary, I see
&gt; that it takes nontrivial effort on the part of designers to craft
&gt; self-descriptive data. If you agree that self-descriptiveness is not
&gt; a default for data, then the onus is on the people who find cookies
&gt; in harmony with REST to show how cookies are self-descriptive. If you
&gt; disagree and posit that self-descriptiveness is the default for data,
&gt; then I would ask that you provide some evidence for your claim.
&gt; 

The thing with cookies is, they're out there, man... so all anyone,
even Dr. Fielding, can argue against are existing uses of cookies.
Like for authentication.  But once again, absolute law isn't the order
of the day around here, we prefer the jury system (or as some would say,
REST is the Pirate Code).  In that spirit, we recognize that basing
opposition to cookies in general, based on shortcomings in the realm of
authentication (i.e. security and privacy) or any other singular
evidence, would be to commit a logical fallacy by stating that any use
of cookies is a risk to security and privacy.  Or, as the case may be
in section 6.3.4.2, that any use for cookies will ever be devised which
doesn't break the 'back' button.

REST does provide architectural guidelines a Web system may be compared 
against, for the purposes of identifying and avoiding scaling issues
through judicious use of caching, avoiding stateful connections, and the
late binding of representations to resources (Content Negotiation).  But
here's the flaw in conneg... this is my local IE 6 install's User-Agent
header -- this week, bound to change every time Windows Update runs:

Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; formsPlayer
1.5; .NET CLR 1.1.4322; .NET CLR 2.0.50727; .NET CLR 3.0.04506.30; .NET
CLR 3.0.04506.648)

Every Web cache I'm familiar with, when encountering Vary: User-Agent, 
will create separate entries for every User-Agent string it encounters, 
for IE alone the possibilities are almost endless.  But the only reason 
I'm sniffing the User-Agent string in the first place, is to detect
IE. Beyond that I don't particularly care about version, or extensions,
or the user's .NET version (if any, but caching is flawed without it).
So, in terms of REST my application's negotiated content is already
limited to HTTP 1.1 caches, with this "cache alias" problem I've
described... not good!  But there is a solution, using cookies...

By storing the coarse-grained result of content negotiation in a
cookie, and responding to requests with this cookie by sending 'Vary:
Cookie' instead of 'Vary: User-Agent', the cache alias problem is
cleaned up and the application benefits exponentially in terms of
scale -- because all visitors' IE installations are assigned the same
cookie, and cache-control is Public.  This is storing the results of
conneg, which is not application state.  All variant representations
reflect the same application state, regardless of cookie values.

Once a user-agent has obtained a cookie (which expires after a time
interval), it knows how to directly request its desired variant,
bypassing content negotiation (less CPU cycles on the server) -- if
the request even *gets* to the origin server.  Intermediaries, unless
cookied content is configured as uncacheable, know which variant to
serve, without needing to know the conneg algorithm.  Less CPU, less
bandwidth, a fraction of the usual penalties for implementing very
RESTful Content Negotiation, with none of the downsides Roy talks about
in 6.3.4.2...

Yet I should shun this contraption for purely stigmatic reasons?  ;-)
You'll have to do better than that!  Your point about self-descriptive 
messages is a good one, and in fact all the arguments against cookies
cite examples where cookies are used to maintain state. However, my
overloading (hijacking?) of cookie headers to function as cache-
control headers violates nothing in section 5.2.2, specifically:

"All REST interactions are stateless. That is, each request contains
all of the information necessary for a connector to understand the
request, independent of any requests that may have preceded it. This
restriction accomplishes four functions: 1) it removes any need for the
connectors to retain application state between requests, thus reducing
consumption of physical resources and improving scalability; 2) it
allows interactions to be processed in parallel without requiring that
the processing mechanism understand the interaction semantics; 3) it
allows an intermediary to view and understand a request in isolation,
which may be necessary when services are dynamically rearranged; and,
4) it forces all of the information that might factor into the
reusability of a cached response to be present in each request."

The point is, stateless uses of cookies (and I've seen a few) shouldn't
be shunned for using cookies, when the reason cookies aren't normally
thought of as RESTful comes with the assumption that all uses of
cookies result in stateful connections.  My method has no cookie-
derived security concerns, as they are stateless, nor does it have
privacy concerns, as 'view=html' is opaque and at most reflects what
sort of browser a visitor is using.

What if cookies are disabled on the client?  Well, since the response
is public and cacheable anyway, such a client will always have to hit
the origin server to renegotiate, even when actual content is delivered
by an intermediary (with a far lower probability for a match based on
Vary: User-Agent).  So the worst-case scenario in my case, is the
status quo scenario for using conneg to do browser detection.

If cookies are disallowed on an intermediary, that intermediary won't
be caching my negotiated content based on the cookie header.  It should
function exactly as it would if no cookies were involved, i.e. cache
based on User-Agent string, which is far less efficient as time goes on
due to the proliferation of little differences between installations in
certain products.  Again, the worst-case scenario is the status quo.

Oh, and it took some tinkering with cache-control settings, but the
'back' button now functions properly in my setup and pulls content
direct from browser cache without 'pinging' the origin server (the user
can always reload the cached page).  Before, there was considerable
latency involved with the 'back' button, which I considered broken.

Sorry, the example links I've posted previously aren't working, there
were several regression errors in the final update of the alpha.  At
some point there will be a beta, until then we don't have the resources
to bother fixing the somewhat-broken alpha, or the /date web service.

Etan Wexler wrote:
&gt;
&gt; Peter Keane wrote (in
&gt; &lt;http://tech.groups.yahoo.com/group/rest-discuss/message/10935&gt;):
&gt; 
&gt; &gt; There is
&gt; &gt; no significant distinction (in this specific case) between the
&gt; &gt; server giving the client a form or a uri template or a cookie that
&gt; &gt; the client can then use to create a request.
&gt; 
&gt; I'll presume that you mean that the form or the URI template would be
&gt; in a representation with a media type that identifies the form or URI
&gt; template as such. And therein is the significant distinction. A
&gt; REST-conformant user agent would process the form or URI template and
&gt; present it decently to the user only because the media type dictates a
&gt; set of shared conventions. (For example, HTML documents in the World
&gt; Wide Web are HTML documents because their media-type label is
&gt; "text/html". If one changes the label to "text/plain", the entity body
&gt; has lost most of its meaning and is no longer HTML.) The cookie is
&gt; opaque to the user agent (and to connectors and to intermediary
&gt; components).
&gt; 

I'm not sure what you're saying, here.  The URI is opaque to all of the
above, just like cookies.  In REST, the server delivers algorithms to
user-agents, which derive state changes (links, form submissions) which 
are presented to the user, from said algorithm.  Header fields are not
off-limits.  If a response header has no meaning to the user-agent,
fine, but this doesn't mean a script can't refer to it to build a URI.

"The important bit is that the algorithm is defined by the server
and the resource remains accessible regardless of how the URI
was calculated (i.e., the result of the algorithm is bookmarkable)."

http://tech.groups.yahoo.com/group/rest-discuss/message/10027

In my system, the cookie expires quickly, but any page bookmarked after
the cookie was assigned will be valid long after the cookie has
expired, the only consequence is that the client must re-negotiate with
the origin server.  I don't understand why the natural behavior of
cookies is a bad thing to exploit for RESTful purposes, IOW there's no
reason I can see why cookies being opaque to the client is a Bad Thing.

My cookie headers would normally be ignored by intermediaries, except
by sending 'Vary: Cookie', which explicitly makes them cache headers.
Just like sending 'Vary: User-Agent', which is also normally ignored by
intermediaries, makes it a cache header.  So this is typical behavior in
a RESTful system, even if my choice of headers to Vary is atypical...
unless it breaks an actual REST constraint, implementing anything in
HTTP goes, IMHO.

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10953<br>
Sender:"Will Sargent" &lt;will.sargent@...&gt;<br>
Post Date/Time:2008-06-17 18:01:02<br>
Subject:Re: [rest-discuss] bulk upload of resources?<br>
Message:<br><br>
<pre>On Thu, Jun 12, 2008 at 2:47 AM, Xavier Noria &lt;fxn@...&gt; wrote:
&gt; Say I have an application with users whose listing is at
&gt;
&gt; GET /users
&gt;
&gt; and POST /users creates a new user.
&gt;
&gt; Now, I want to provide bulk load of users, for example a CSV file with
&gt; hundreds of users, would you PUT the file to /users? Does it matter
&gt; whether that's a partial set of records rather than the entire
&gt; collection?

I have the same question; there doesn't seem to be a consensus on the
blogosphere as to the correct solution.

Subbu: http://www.subbu.org/weblogs/main/2008/02/rest_and_batch.html

James Snell: http://www.snellspace.com/wp/?p=925

Bill De Hora: http://dehora.net/journal/2008/02/10/batch-http10/

What's the best way to do this?

Will.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10954<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-06-17 18:39:44<br>
Subject:Re: [rest-discuss] bulk upload of resources?<br>
Message:<br><br>
<pre>Will:

I treat *bulk* different than *batch.* We don't do any real 'batch'
work (mixing of operations in a single request) so I can't comment on
that.

Here's how we handle bulk work:
- create custom media type that signals the bulk loading
(content-type:application/vnd.bulk-users-load+xml)
- publish a resource URI that accepts requests for this media type
(POST, PUT, DELETE, GET, HEAD)
- if this will be a long-running operation, return 202 with a body
document that contains a url to be queried for results
(accept:application/vnd.bulk-users-status+xml)
- establish a custom media type that signals the results operation
(accept:application/vnd.bulk-users-results+xml)

The server can return 404 for the results URI until the data is
available, or 400 if the process fails (possibly with interesting
results document in both cases).

MIkeA


On Tue, Jun 17, 2008 at 2:01 PM, Will Sargent &lt;will.sargent@...&gt; wrote:
&gt; On Thu, Jun 12, 2008 at 2:47 AM, Xavier Noria &lt;fxn@...&gt; wrote:
&gt;&gt; Say I have an application with users whose listing is at
&gt;&gt;
&gt;&gt; GET /users
&gt;&gt;
&gt;&gt; and POST /users creates a new user.
&gt;&gt;
&gt;&gt; Now, I want to provide bulk load of users, for example a CSV file with
&gt;&gt; hundreds of users, would you PUT the file to /users? Does it matter
&gt;&gt; whether that's a partial set of records rather than the entire
&gt;&gt; collection?
&gt;
&gt; I have the same question; there doesn't seem to be a consensus on the
&gt; blogosphere as to the correct solution.
&gt;
&gt; Subbu: http://www.subbu.org/weblogs/main/2008/02/rest_and_batch.html
&gt;
&gt; James Snell: http://www.snellspace.com/wp/?p=925
&gt;
&gt; Bill De Hora: http://dehora.net/journal/2008/02/10/batch-http10/
&gt;
&gt; What's the best way to do this?
&gt;
&gt; Will.
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10955<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-06-25 20:27:32<br>
Subject:"HTTP/1.1 (DELETE, GET, HEAD, PUT, POST)" v3 Draft<br>
Message:<br><br>
<pre>Hi everyone,

A couple of times in the past I have referenced my HTTP diagram [1]
and I last updated it back in March.

Over the last couple of months, I have been collaborating with Justin
Sheehy to improve the diagram. Justin has proffered many excellent
proposals which I have incorporated. As background, Justin is actively
developing something against the diagram (I'll leave it to Justin to
elaborate if he wants to).

After quite a bit of effort, we think that the draft of v3 is ready
for some peer review by the members of this list.

The collective set of changes has resulted in a significantly
different diagram (and, I hope, more accurate to the RFC2616 [2]).

The Visio document that I use to edit the diagram is published on
Google Code [3]. To make review easier (especially if people don't
happen to have a copy of Visio) I have created a PNG [4] in the
download section [5].

[1] http://thoughtpad.net/alan-dean/http-headers-status.html
[2] http://www.w3.org/Protocols/rfc2616/rfc2616.html
[3] http://code.google.com/p/http-headers-status/
[4]
http://http-headers-status.googlecode.com/files/http-headers-status%20v3%20draft.png
[5] http://code.google.com/p/http-headers-status/downloads/list

Regards,
Alan Dean


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10956<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2008-06-25 22:37:28<br>
Subject:Re: [rest-discuss] "HTTP/1.1 (DELETE, GET, HEAD, PUT, POST)" v3 Draft<br>
Message:<br><br>
<pre>No peer review yet, just an admiring comment: Nice. Looks damn useful.

Will try to get some cycles to match it up against what we do.


On Wed, Jun 25, 2008 at 3:27 PM, Alan Dean &lt;alan.dean@...&gt; wrote:
&gt;
&gt; Hi everyone,
&gt;
&gt; A couple of times in the past I have referenced my HTTP diagram [1]
&gt; and I last updated it back in March.
&gt;
&gt; Over the last couple of months, I have been collaborating with Justin
&gt; Sheehy to improve the diagram. Justin has proffered many excellent
&gt; proposals which I have incorporated. As background, Justin is actively
&gt; developing something against the diagram (I'll leave it to Justin to
&gt; elaborate if he wants to).
&gt;
&gt; After quite a bit of effort, we think that the draft of v3 is ready
&gt; for some peer review by the members of this list.
&gt;
&gt; The collective set of changes has resulted in a significantly
&gt; different diagram (and, I hope, more accurate to the RFC2616 [2]).
&gt;
&gt; The Visio document that I use to edit the diagram is published on
&gt; Google Code [3]. To make review easier (especially if people don't
&gt; happen to have a copy of Visio) I have created a PNG [4] in the
&gt; download section [5].
&gt;
&gt; [1] http://thoughtpad.net/alan-dean/http-headers-status.html
&gt; [2] http://www.w3.org/Protocols/rfc2616/rfc2616.html
&gt; [3] http://code.google.com/p/http-headers-status/
&gt; [4]
&gt; http://http-headers-status.googlecode.com/files/http-headers-status%20v3%20draft.png
&gt; [5] http://code.google.com/p/http-headers-status/downloads/list
&gt;
&gt; Regards,
&gt; Alan Dean
&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;



--
Hugh Winkler, CEO
Wellstorm Development
31900 Ranch Road 12
Suite 206
Dripping Springs, TX 78620
USA
http://www.wellstorm.com/
+1 512 264 3998 x801

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10957<br>
Sender:"pkeane_littlehat" &lt;pkeane@...&gt;<br>
Post Date/Time:2008-06-26 00:55:48<br>
Subject:REST presentation<br>
Message:<br><br>
<pre>One the chance it might be useful to someone else and/or I might
elicit some useful critique/corrections, here is the PDF of slides
from a talk given to the IT community at The University of Texas at
Austin earlier today.

Real World REST with Atom/AtomPub
https://webspace.utexas.edu/keanepj/www/talks/rest.pdf

--peter keane


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10958<br>
Sender:"Alexander Johannesen" &lt;alexander.johannesen@...&gt;<br>
Post Date/Time:2008-06-26 07:38:03<br>
Subject:Re: [rest-discuss] "HTTP/1.1 (DELETE, GET, HEAD, PUT, POST)" v3 Draft<br>
Message:<br><br>
<pre>On Wed, Jun 25, 2008 at 22:27, Alan Dean &lt;alan.dean@...&gt; wrote:
&gt; The collective set of changes has resulted in a significantly
&gt; different diagram (and, I hope, more accurate to the RFC2616 [2]).

I've been following your diagram from the first version you published,
and I have to just commend you for a damn good job. I was using the
previous version for actual implementation work, and your update looks
good (saved me a few lines of code, even :) and I'll be using it over
the next few days to confirm its already presumed greatness. Thanks!


Alexander
-- 
---------------------------------------------------------------------------
 Project Wrangler, SOA, Information Alchemist, UX, RESTafarian, Topic Maps
------------------------------------------ http://shelter.nu/blog/ --------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10959<br>
Sender:"Alexander Johannesen" &lt;alexander.johannesen@...&gt;<br>
Post Date/Time:2008-06-26 07:42:11<br>
Subject:Re: [rest-discuss] REST presentation<br>
Message:<br><br>
<pre>On Thu, Jun 26, 2008 at 02:55, pkeane_littlehat &lt;pkeane@...&gt; wrote:
&gt; Real World REST with Atom/AtomPub
&gt; https://webspace.utexas.edu/keanepj/www/talks/rest.pdf

Thanks, looks great. Saved for later good use. :)


Alex
-- 
---------------------------------------------------------------------------
 Project Wrangler, SOA, Information Alchemist, UX, RESTafarian, Topic Maps
------------------------------------------ http://shelter.nu/blog/ --------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10960<br>
Sender:Simon Reinhardt &lt;simon.reinhardt@...&gt;<br>
Post Date/Time:2008-06-26 13:33:03<br>
Subject:Re: [rest-discuss] "HTTP/1.1 (DELETE, GET, HEAD, PUT, POST)" v3 Draft<br>
Message:<br><br>
<pre>Hey Alan,

Your diagram is really awesome. Your first version already gave me some good overview and insight into how things are supposed to work. Thanks for doing that hard job!

After skimming the draft I noticed a typo on C2: "Is method allow on this resource?" -&gt; "Is method allowed on this resource?".

Take care,
  Simon

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10961<br>
Sender:"Jason Murray" &lt;jason@...&gt;<br>
Post Date/Time:2008-06-26 12:37:36<br>
Subject:Re: [rest-discuss] "HTTP/1.1 (DELETE, GET, HEAD, PUT, POST)" v3 Draft<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10962<br>
Sender:Story Henry &lt;henry.story@...&gt;<br>
Post Date/Time:2008-06-26 14:56:32<br>
Subject:IDEs and REST<br>
Message:<br><br>
<pre>Hi,

I recently posted some thoughts on how to make Integrated Development  
Environments more RESTful and Resource Oriented.

http://blogs.sun.com/bblfish/entry/webifying_integrated_development_environments

The discussion in the comments got a little side tracked into Maven,  
which seems to do a lot of this. It certainly looks like a huge help,  
but it is not quite what I was aiming at.

Anyway, food for thought perhaps,

	Henry

Home page: http://bblfish.net/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10963<br>
Sender:"inkdroid" &lt;ehs@...&gt;<br>
Post Date/Time:2008-06-27 19:53:47<br>
Subject:Re: Satus-code "201" and common Web browsers circa 2008 [rest-discuss]<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, "Brandon Carlson" &lt;bcarlso@...&gt; 
&gt; Ok, I guess that is an accurate statement. The behavior I was
expecting is
&gt; that the browser follow the Location header after receiving the
response,
&gt; which it does not. I just made an assumption regarding the browsers
expected
&gt; behavior.

I was expecting the same thing just yesterday in fact. Strange to see
the exact question I was going to ask on here as the latest thread :-)

One thing you might consider doing is doing a bit conneg to figure out
if you talking to an HTML browser and sending them a representation of
the resource they just created in the body of the 201 Created
response. In the HTML you can then use JavaScript to redirect to the
newly created resource:

HTTP/1.x 201 Created
Location: /ammem/14
Transfer-Encoding: chunked
Date: Fri, 27 Jun 2008 19:06:41 GMT
Server: CherryPy/3.0.1
Content-type: text/html

&lt;html&gt;
  &lt;head&gt;
    &lt;script language="JavaScript"&gt;
      window.location = '/ammem/14';
    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    Created /ammem/14 !!
  &lt;/body&gt;
&lt;/html&gt;

I'd be interested to know from others who are more experienced if this
is kosher, particularly in an AtomPub implementation.

//Ed

ps. shout out to eikeon for this straightforward solution :-)


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10964<br>
Sender:"Stefano Masini" &lt;stefano.masini@...&gt;<br>
Post Date/Time:2008-07-03 07:46:20<br>
Subject:Image thumbnails, URIs and content negotiation<br>
Message:<br><br>
<pre>Hello,

how would you model an image archive where the client could retrieve:
- images in their original format
- thumbnails in different size (small, medium, large)

I initially thought about a url scheme such as the following. Respectively:
- /images/&lt;imageid&gt;
- /images/&lt;imageid&gt;/thumbnails/&lt;size&gt; (where &lt;size&gt; is "small",
"medium" or "large")

But then, on second thoughs, I considered the principle of content
negotiation: should I consider a thumbnail just as a different
representation of the same image? In this case I should probably use
the sare URL for both cases, and specify a different Accept header.
In the latter scenario though, I wouldn't be able to easily build an
html page showing thumbnails, because html &lt;img&gt; tag simply doesn't
allow to specify request headers in the "src" attribute, but simply a
url.

Maybe I just answered myself, but I was wondering if anybody had an
opinion (or better yet, experience) on this matter.

Thanks
Stefano

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10965<br>
Sender:Sebastien Lambla &lt;seb@...&gt;<br>
Post Date/Time:2008-07-03 09:51:19<br>
Subject:RE: [rest-discuss] Image thumbnails, URIs and content negotiation<br>
Message:<br><br>
<pre>I model /image/2 to represent the image resource, and each resolution that exists as an individual document gets its own url too at /image/2/{format}
 
By default the /image/2 does a 300 with /image/2/thumbnail, /image/2/screen and /image/2/original for most content-type requests, for an image specific one i 303 to /image/2/screen automatically.
 
Seb



http://www.searchcharades.com/</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10966<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-07-03 10:44:31<br>
Subject:Re: Satus-code "201" and common Web browsers circa 2008 [rest-discuss]<br>
Message:<br><br>
<pre>On Jun 12, 2008, at 9:46 AM, Julian Reschke wrote:
&gt; Lawrence Oluyede wrote:
&gt; &gt;
&gt; &gt;
&gt; &gt; None, browsers treat 201 as a success code like it should be
&gt; &gt; ...
&gt;
&gt; Is there a bug raised against Firefox with respect to this?
&gt;
&gt;

What exactly do you consider to be the bug?

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10967<br>
Sender:"Lawrence Oluyede" &lt;l.oluyede@...&gt;<br>
Post Date/Time:2008-07-03 11:41:25<br>
Subject:Re: [rest-discuss] Image thumbnails, URIs and content negotiation<br>
Message:<br><br>
<pre>On Thu, Jul 3, 2008 at 9:46 AM, Stefano Masini
&lt;stefano.masini@...&gt; wrote:
&gt; Maybe I just answered myself, but I was wondering if anybody had an
&gt; opinion (or better yet, experience) on this matter.

I'd look at what flickr does for its tons of images in different sizes:

You can see here
http://www.flickr.com/services/api/flickr.photos.getSizes.html (and in
any photo page) that the images are represented in various sizes.
It uses /s, /m for the pages of the various sizes and _s.jpg, _m.jpg
for the image itself.

HTH


-- 
Lawrence, stacktrace.it - oluyede.org - neropercaso.it
"It is difficult to get a man to understand
something when his salary depends on not
understanding it" - Upton Sinclair

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10968<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-07-03 14:46:44<br>
Subject:Re: [rest-discuss] Image thumbnails, URIs and content negotiation<br>
Message:<br><br>
<pre>Conneg could be used for this use case for non-HTML clients. However,  
conneg is based on each of these representations having a different  
media type, and you will need some extension to let the client  
negotiate.

On Jul 3, 2008, at 12:46 AM, Stefano Masini wrote:

&gt; Hello,
&gt;
&gt; how would you model an image archive where the client could retrieve:
&gt; - images in their original format
&gt; - thumbnails in different size (small, medium, large)
&gt;
&gt; I initially thought about a url scheme such as the following.  
&gt; Respectively:
&gt; - /images/&lt;imageid&gt;
&gt; - /images/&lt;imageid&gt;/thumbnails/&lt;size&gt; (where &lt;size&gt; is "small",
&gt; "medium" or "large")
&gt;
&gt; But then, on second thoughs, I considered the principle of content
&gt; negotiation: should I consider a thumbnail just as a different
&gt; representation of the same image? In this case I should probably use
&gt; the sare URL for both cases, and specify a different Accept header.
&gt; In the latter scenario though, I wouldn't be able to easily build an
&gt; html page showing thumbnails, because html &lt;img&gt; tag simply doesn't
&gt; allow to specify request headers in the "src" attribute, but simply a
&gt; url.
&gt;
&gt; Maybe I just answered myself, but I was wondering if anybody had an
&gt; opinion (or better yet, experience) on this matter.
&gt;
&gt; Thanks
&gt; Stefano
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10969<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-07-03 15:20:15<br>
Subject:Re: Satus-code "201" and common Web browsers circa 2008<br>
Message:<br><br>
<pre>* Stefan Tilkov &lt;stefan.tilkov@...&gt; [2008-07-03 12:45]:
&gt; On Jun 12, 2008, at 9:46 AM, Julian Reschke wrote:
&gt; &gt; Is there a bug raised against Firefox with respect to this?
&gt; 
&gt; What exactly do you consider to be the bug?

Arguably, a 201 response with a Location header and an empty
entity body should be treated like a 303 status.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10970<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-07-03 15:23:51<br>
Subject:Re: Image thumbnails, URIs and content negotiation<br>
Message:<br><br>
<pre>* Stefano Masini &lt;stefano.masini@...&gt; [2008-07-03 09:50]:
&gt; I initially thought about a url scheme such as the following.
&gt; [] But then, on second thoughs, I considered the principle of
&gt; content negotiation

Dont forget that there is no reason you cannot do both.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10971<br>
Sender:Sebastien Lambla &lt;seb@...&gt;<br>
Post Date/Time:2008-07-04 13:14:12<br>
Subject:RE: [rest-discuss] Re: Image thumbnails, URIs and content negotiation<br>
Message:<br><br>
<pre>I wonder if extensions to a mime type in this instance would be allowed? Provided the server is implemented correctly, requesting image/jpeg;size=medium should still work. THat's an approach I didn't think of, but I like it.

http://clk.atdmt.com/UKM/go/101719807/direct/01/</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10972<br>
Sender:Sebastien Lambla &lt;seb@...&gt;<br>
Post Date/Time:2008-07-04 13:28:35<br>
Subject:RE: [rest-discuss] Re: Satus-code "201" and common Web browsers circa 2008<br>
Message:<br><br>
<pre>It should be up to the user to decide if they want to see what they just created. Nothing prevents you from returning the view of what you just created in the body, or to return a body with a meta refresh directing to the proper location, or simply let the user know with a message " Whatever you did created something over there, click to have a look".
 
Just like 300 shouldn't redirect, neither should 201, because http means several things could be created. Although maybe we need a new response for a 201 with a 303 functionality in case of unique creation result.



http://clk.atdmt.com/UKM/go/101719807/direct/01/</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10973<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-07-04 15:44:23<br>
Subject:AtomPub copy/move extension: [was Amazon S3 tacks a COPY under PUT]<br>
Message:<br><br>
<pre>More seriously this time:

[[[
POST /collection
Host: www.example.org
X-Http-Method-Override: X-CLONE
Content-Location: http://example.org/data/bob/entry/aefeeibc
Content-Length: 0
]]]

means: take the representation @ Content-Location and figure out how to 
POST it to the collection as if it were an AtomPub create operation.

The client doesn't have to GET and POST which is the problem AWS are 
trying to solve. If the origin server happens to have the copy 
internally it can do something clever, but the interface doesn't assume 
the data is local to that server.

The client also doesn't tell the server what the destination URI is, 
which is a problem with WebDAV COPY as far as AtomPub goes. Hence the 
override method is X-CLONE not COPY. X-RELOCATE would be the option to 
have the old URI removed as well.

The responses would be 201 Created + Location as per AtomPub; ie the 
collection should issue a URL immediately so the client is released. But 
maybe 202 accepted + Location would be more explicit.

If the copy operation is ongoing in the the background, GETs to the URL 
can return 503 Service Unavailable and a Retry-After. If for some reason 
the op failed, 410 Gone can be returned.

One issue is that the client didn't sent any authorization to the 
collection that allows it to fetch the resource.

What do you think?

Bill


Bill de hOra wrote:
&gt; 
&gt; 
&gt; Steve Loughran wrote:
&gt; 
&gt;  &gt; Its a tough call this. If you are working with multi GB files and you
&gt;  &gt; have to both wait and pay for the move/copy operations, you like to
&gt;  &gt; have the server to do all the work themselves. But it is effectively
&gt;  &gt; an optimisation. You don't need it. I guess that's the solution: if we
&gt;  &gt; don't like it, we ignore it.
&gt; 
&gt; TESLABEAM /overthere/kirk HTTP/1.1
&gt; Host: planetzorg.s3.amazonaws.com
&gt; x-amz-transporter: http://enterprise.s3.amazonaws.com/fromhere/kirk 
&gt; &lt;http://enterprise.s3.amazonaws.com/fromhere/kirk&gt;
&gt; Authorization: AWS PR1M3D1R3CT1V3
&gt; Date: Wed, 20 Feb 2330 22:12:21 +0000
&gt; 
&gt; it would need some some work to be robust to clockdrift.
&gt; 
&gt; Bill
&gt; 
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10974<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-07-04 16:02:41<br>
Subject:Re: [rest-discuss] AtomPub copy/move extension: [was Amazon S3 tacks a COPY under PUT]<br>
Message:<br><br>
<pre>Bill de hOra wrote:
&gt; 
&gt; 
&gt; More seriously this time:
&gt; 
&gt; [[[
&gt; POST /collection
&gt; Host: www.example. org
&gt; X-Http-Method- Override: X-CLONE
&gt; Content-Location: http://example. org/data/ bob/entry/ aefeeibc 
&gt; &lt;http://example.org/data/bob/entry/aefeeibc&gt;
&gt; Content-Length: 0
&gt; ]]]
&gt; 
&gt; means: take the representation @ Content-Location and figure out how to
&gt; POST it to the collection as if it were an AtomPub create operation.
&gt; 
&gt; The client doesn't have to GET and POST which is the problem AWS are
&gt; trying to solve. If the origin server happens to have the copy
&gt; internally it can do something clever, but the interface doesn't assume
&gt; the data is local to that server.
&gt; 
&gt; The client also doesn't tell the server what the destination URI is,
&gt; which is a problem with WebDAV COPY as far as AtomPub goes. Hence the
&gt; override method is X-CLONE not COPY. X-RELOCATE would be the option to
&gt; have the old URI removed as well.
&gt; 
&gt; The responses would be 201 Created + Location as per AtomPub; ie the
&gt; collection should issue a URL immediately so the client is released. But
&gt; maybe 202 accepted + Location would be more explicit.
&gt; 
&gt; If the copy operation is ongoing in the the background, GETs to the URL
&gt; can return 503 Service Unavailable and a Retry-After. If for some reason
&gt; the op failed, 410 Gone can be returned.
&gt; 
&gt; One issue is that the client didn't sent any authorization to the
&gt; collection that allows it to fetch the resource.
&gt; 
&gt; What do you think?
&gt; ...

I think it would be better to extend COPY accordingly.

Oh wait, Microsoft already did (I think for Exchange)... if you're 
interested, I can try to locate the description on MSDN.

BR, Julian



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10975<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-07-04 16:05:00<br>
Subject:Re: [rest-discuss] AtomPub copy/move extension: [was Amazon S3 tacks a COPY under PUT]<br>
Message:<br><br>
<pre>Julian Reschke wrote:

&gt; I think it would be better to extend COPY accordingly.
&gt; 
&gt; Oh wait, Microsoft already did (I think for Exchange)... if you're 
&gt; interested, I can try to locate the description on MSDN.
&gt; 
&gt; BR, Julian

Just remembered the header name, now it was easy to find: 
&lt;http://msdn.microsoft.com/en-us/library/aa142703(EXCHG.65).aspx&gt;.

BR, Julian


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10976<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-07-04 16:31:15<br>
Subject:Re: [rest-discuss] AtomPub copy/move extension: [was Amazon S3 tacks a COPY under PUT]<br>
Message:<br><br>
<pre>Julian Reschke wrote:
&gt; 
&gt; 
&gt; Julian Reschke wrote:
&gt; 
&gt;  &gt; I think it would be better to extend COPY accordingly.
&gt;  &gt;
&gt;  &gt; Oh wait, Microsoft already did (I think for Exchange)... if you're
&gt;  &gt; interested, I can try to locate the description on MSDN.
&gt;  &gt;
&gt;  &gt; BR, Julian
&gt; 
&gt; Just remembered the header name, now it was easy to find:
&gt; &lt;http://msdn.microsoft.com/en-us/library/aa142703 
&gt; &lt;http://msdn.microsoft.com/en-us/library/aa142703&gt;(EXCHG.65).aspx&gt;.

Cool. There's still something I'm stuck on, which is, aside from my 
AtomPub bias showing, imo a copy operation is to the target server not 
the thing being copied.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10977<br>
Sender:"Brian Smith" &lt;brian@...&gt;<br>
Post Date/Time:2008-07-04 17:03:55<br>
Subject:RE: [rest-discuss] AtomPub copy/move extension: [was Amazon S3 tacks a COPY under PUT]<br>
Message:<br><br>
<pre>Bill de hOra wrote:
&gt; [[[
&gt; POST /collection
&gt; Host: www.example.org
&gt; X-Http-Method-Override: X-CLONE
&gt; Content-Location: http://example.org/data/bob/entry/aefeeibc
&gt; Content-Length: 0
&gt; ]]]

How about:

GETPUT /collection/slug
Host: www.example.org
Allow-Rename: t
Content-Type: message/http
Content-Length &lt;...&gt;
Authorization: &lt;...&gt;

GET /data/bob/entry/aefeeibc
Host: www.example.org
If-Match: &lt;....&gt;
Authorization: &lt;...&gt;

Basically, stuff a GET request in the request entity and tell the server to
do the equivalent of that GET followed by a PUT. Notice that you can make
the GET conditional so that you can implement "copy if the resource hasn't
changed". You could include a separate authorization header for the GET
request, but more likely you would need the server to .

I think an atomic MOVE can only safely implemented in a same-server scenerio
so WebDAV MOVE is good enough for that.

For AtomPub, this is based on the idea that the server can provide a way for
a client to use PUT to create new resources. It seems like the Allow-Rename
mechanism would enable more AtomPub servers to implement such an extension
without giving up control of their URI mappings.

What do you think?

Regards,
Brian


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10978<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-07-05 08:55:02<br>
Subject:Re: [rest-discuss] AtomPub copy/move extension: [was Amazon S3 tacks a COPY under PUT]<br>
Message:<br><br>
<pre>Bill de hOra wrote:
&gt; ...
&gt;  &gt; Just remembered the header name, now it was easy to find:
&gt;  &gt; &lt;http://msdn. microsoft. com/en-us/ library/aa142703 
&gt; &lt;http://msdn.microsoft.com/en-us/library/aa142703&gt;
&gt;  &gt; &lt;http://msdn. microsoft. com/en-us/ library/aa142703 
&gt; &lt;http://msdn.microsoft.com/en-us/library/aa142703&gt;&gt;(EXCHG.65). aspx&gt;.
&gt; 
&gt; Cool. There's still something I'm stuck on, which is, aside from my
 &gt; ...

Note that I'm not saying this is the best way to do it. But, it's 
possible, and if there's enough interest we (the AtomPub/HTTP/WebDAV 
community) should be able to come up with something decent.

&gt; AtomPub bias showing, imo a copy operation is to the target server not
&gt; the thing being copied.
&gt; ...

Could you elaborate on that? I'm not sure what the concern is...

BR, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10979<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-07-05 09:55:08<br>
Subject:Re: Satus-code "201" and common Web browsers circa 2008<br>
Message:<br><br>
<pre>* Sebastien Lambla &lt;seb@...&gt; [2008-07-04 15:35]:
&gt; It should be up to the user to decide if they want to see what
&gt; they just created. Nothing prevents you from returning the view
&gt; of what you just created in the body, or to return a body with
&gt; a meta refresh directing to the proper location, or simply let
&gt; the user know with a message " Whatever you did created
&gt; something over there, click to have a look".

Thats not a solution, its a bad workaround. If a user fills in
a New Thread page on a web forum and then sends me a POST, and I
create a new thread, I want to send the user to the thread they
just created, and the user *expects* me to do that. Forcing an
extra click on the user is pointless.

Currently what I do is sniff the user agent to see if I should
send 303 (its a browser) or 201 (its some kind of programmatic
client). Terribly ugly, but if empty 201 with Location isnt
treated as a redirect, well I guess I will just have to continue
doing it this way. I was hoping to be able to throw this wart out
of my code someday.

&gt; Just like 300 shouldn't redirect, neither should 201, because
&gt; http means several things could be created.

Thats why I said only 201 responses with an *empty* body should
be treated like redirects. If I return such a response, what
browser behaviour is useful? Showing the user a blank page?
Throwing up a dialog box? Both of those seem like unhelpfully
literalistic interpretations of the RFC2616 text to me. The
meaning of such a response seems pretty obvious and umabiguous
to me.

Do you have any substantive objections against treating 201 as
a redirect *if and only if* the entity body is empty *and* it
contains a Location header?

&gt; Although maybe we need a new response for a 201 with a 303
&gt; functionality in case of unique creation result.

That would work for me. Im just not convinced its necessary,
nor am I convinced of the harm in special-casing empty 201 with
Location. And it seems to me that the latter has much better
chances to be supported in the forseeable future than the former.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10980<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-07-05 09:56:23<br>
Subject:Re: Image thumbnails, URIs and content negotiation<br>
Message:<br><br>
<pre>* Sebastien Lambla &lt;seb@...&gt; [2008-07-04 15:20]:
&gt; I wonder if extensions to a mime type in this instance would be
&gt; allowed? Provided the server is implemented correctly,
&gt; requesting image/jpeg;size=medium should still work. THat's an
&gt; approach I didn't think of, but I like it.

The registration of each MIME type specifies the parameters you
may attach to it. You cant make up new ones willy nilly.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10981<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-07-05 10:11:15<br>
Subject:Re: [rest-discuss] Re: Satus-code "201" and common Web browsers circa 2008<br>
Message:<br><br>
<pre>Aristotle Pagaltzis wrote:
&gt; 
&gt; 
&gt; * Sebastien Lambla &lt;seb@serialseb. com &lt;mailto:seb%40serialseb.com&gt;&gt; 
&gt; [2008-07-04 15:35]:
&gt;  &gt; It should be up to the user to decide if they want to see what
&gt;  &gt; they just created. Nothing prevents you from returning the view
&gt;  &gt; of what you just created in the body, or to return a body with
&gt;  &gt; a meta refresh directing to the proper location, or simply let
&gt;  &gt; the user know with a message " Whatever you did created
&gt;  &gt; something over there, click to have a look".
&gt; 
&gt; Thats not a solution, its a bad workaround. If a user fills in
&gt; a New Thread page on a web forum and then sends me a POST, and I
&gt; create a new thread, I want to send the user to the thread they
&gt; just created, and the user *expects* me to do that. Forcing an
&gt; extra click on the user is pointless.
&gt; ...

...you may want to raise this on the HTML WG's mailing list (or their 
issue tracker -- 
&lt;http://www.w3.org/Bugs/Public/buglist.cgi?quicksearch=ALL+product:HTML&gt;.

BR, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10982<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-07-05 12:04:14<br>
Subject:Re: [rest-discuss] AtomPub copy/move extension: [was Amazon S3 tacks a COPY under PUT]<br>
Message:<br><br>
<pre>Julian Reschke wrote:
&gt; 
&gt; 
&gt; Bill de hOra wrote:
&gt;  &gt; ...
&gt;  &gt; &gt; Just remembered the header name, now it was easy to find:
&gt;  &gt; &gt; &lt;http://msdn. microsoft. com/en-us/ library/aa142703
&gt;  &gt; &lt;http://msdn.microsoft.com/en-us/library/aa142703 
&gt; &lt;http://msdn.microsoft.com/en-us/library/aa142703&gt;&gt;
&gt;  &gt; &gt; &lt;http://msdn. microsoft. com/en-us/ library/aa142703
&gt;  &gt; &lt;http://msdn.microsoft.com/en-us/library/aa142703 
&gt; &lt;http://msdn.microsoft.com/en-us/library/aa142703&gt;&gt;&gt;(EXCHG.65). aspx&gt;.
&gt;  &gt;
&gt;  &gt; Cool. There's still something I'm stuck on, which is, aside from my
&gt;  &gt; ...
&gt; 
&gt; Note that I'm not saying this is the best way to do it. But, it's
&gt; possible, and if there's enough interest we (the AtomPub/HTTP/WebDAV
&gt; community) should be able to come up with something decent.
&gt; 
&gt;  &gt; AtomPub bias showing, imo a copy operation is to the target server not
&gt;  &gt; the thing being copied.
&gt;  &gt; ...
&gt; 
&gt; Could you elaborate on that? I'm not sure what the concern is...

The semantics of WebDAV are backways imo - I don't say "copy yourself to 
there", I say "copy this to that". Aside from that it seems the latter 
fits closer with how AtomPub currently does posting which is an 
instruction to the collection; the clone option I gave above is also an 
instruction to the collection.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10983<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-07-05 13:31:54<br>
Subject:Re: HTTP cookies as unconditional violations of REST<br>
Message:<br><br>
<pre>* Etan Wexler &lt;yahoo.com@...&gt; [2008-06-12 06:15]:
&gt; If cookies are vehicles for passing arbitrary information, as
&gt; you tell me that they are, then it is the arbitrary nature that
&gt; prevents self-description.

I see your point. Yes, that is a good objection.

&gt; I don't see self-descriptiveness as a default for data. On the
&gt; contrary, I see that it takes nontrivial effort on the part of
&gt; designers to craft self-descriptive data.

I guess what I was thinking of should possibly be termed
self-containedness rather than self-descriptiveness. A cookie
which serves as an address into a session store whence the server
retrieves information that will affect the messages processing
means that the request is no longer self-contained.

This concern is actually orthogonal to self-descriptiveness. It
is conceivable that a message could contain a header that serves
as a key into a server-side session which is understood as such
by both ends as well as any intermediaries. In that case the
request would be self-descriptive, yet not self-contained.

What I meant is that cookies dont violate self-containedness if
they are merely opaque adjunct information sent along with a
request, such as a proprietary form of auth token.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10984<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-07-05 14:03:35<br>
Subject:Re: Amazon S3 tacks a COPY under PUT<br>
Message:<br><br>
<pre>* Hugh Winkler &lt;hughw@...&gt; [2008-04-15 00:45]:
&gt; The questionable part might overloading PUT to mean COPY, but
&gt; if you believe PUT has the flexibility to interpret the entity
&gt; and do something creative that ends up with a resource being
&gt; available at that URI, then no problem. This is like the PATCH
&gt; discussion. I think most people thought it was wrong to PUT a
&gt; special differences document -- but I was unconvinced.

The reason to have PATCH is that if the only way to patch a
resource is to PUT the patch, then clients have no way to *store*
patch documents (ie. use PUT for PUT semantics).

That might not be a concern in *your* web app, since yours might
be able to accept only a limited range of media types in PUT
requests, so the question of disambiguating patching from storing
might not come up. But in the general case it is an issue.

&gt; It's wrong to suppose that any agent is going to PUT these
&gt; documents to some unsuspecting server and something bad will
&gt; happen. I'm not going to let my agent PUT these anywhere I
&gt; haven't been instructed to by some hypertext I received
&gt; earlier, or by reading the documentation.

If S3 is the only place that demands as well as understands such
requests, you are not engineering for serendipity.

Also, keep intermediaries in mind.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10985<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-07-05 16:36:26<br>
Subject:Re: [rest-discuss] AtomPub copy/move extension: [was Amazon S3 tacks a COPY under PUT]<br>
Message:<br><br>
<pre>Bill de hOra wrote:
&gt; The semantics of WebDAV are backways imo - I don't say "copy yourself to
&gt; there", I say "copy this to that". Aside from that it seems the latter

Indeed. It should have been defined as COPY from, with a Source: instead 
of a Destination: server. We still could to that.

&gt; fits closer with how AtomPub currently does posting which is an
&gt; instruction to the collection; the clone option I gave above is also an
&gt; instruction to the collection.

Agreed.

I think we only disagree on whether this should be a new method, or 
whether it would make sense to extend COPY to do what's being asked for. 
I think I would prefer making COPY more useful, instead of defining yet 
another method.

BR, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10986<br>
Sender:"Brian Smith" &lt;brian@...&gt;<br>
Post Date/Time:2008-07-05 18:19:46<br>
Subject:RE: [rest-discuss] AtomPub copy/move extension: [was Amazon S3 tacks a COPY under PUT]<br>
Message:<br><br>
<pre>Julian Reschke wrote:
&gt; Bill de hOra wrote:
&gt; &gt; The semantics of WebDAV are backways imo - I don't say 
&gt; "copy yourself 
&gt; &gt; to there", I say "copy this to that". Aside from that it seems the 
&gt; &gt; latter
&gt; 
&gt; Indeed. It should have been defined as COPY from, with a 
&gt; Source: instead of a Destination: server. We still could to that.
&gt; 
&gt; &gt; fits closer with how AtomPub currently does posting which is an 
&gt; &gt; instruction to the collection; the clone option I gave 
&gt; above is also 
&gt; &gt; an instruction to the collection.
&gt; 
&gt; Agreed.
&gt; 
&gt; I think we only disagree on whether this should be a new 
&gt; method, or whether it would make sense to extend COPY to do 
&gt; what's being asked for. 
&gt; I think I would prefer making COPY more useful, instead of 
&gt; defining yet another method.

Aren't WebDAV COPY requests are sent to the source so that content
negotiation works? Using WebDAV COPY you can hint as to which variant you
want copied. If you have a Source: header instead of a Destination: header
then don't have any place to put any headers that influence which source
variant is copied. The GETPUT method I suggested allows the client to
provide a separate set of request headers that the destination server can
send to the source server, so that the source server can (but not
necessarily will) choose a variant that is suitable for what the client
wants.

- Brian


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10987<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-07-06 10:05:22<br>
Subject:Re: [rest-discuss] AtomPub copy/move extension: [was Amazon S3 tacks a COPY under PUT]<br>
Message:<br><br>
<pre>Brian Smith wrote:
&gt; Aren't WebDAV COPY requests are sent to the source so that content
&gt; negotiation works? Using WebDAV COPY you can hint as to which variant you
&gt; want copied. If you have a Source: header instead of a Destination: header

That's an interesting question. I have been involved in WebDAV since 
2001, and the WG never has explored content negotiation / variant 
handling. I think the consensus always was that for authorable 
resources, you better assign a separate URI for each entity 
(discoverable through Content-Location).

&gt; then don't have any place to put any headers that influence which source
&gt; variant is copied. The GETPUT method I suggested allows the client to
&gt; provide a separate set of request headers that the destination server can
&gt; send to the source server, so that the source server can (but not
&gt; necessarily will) choose a variant that is suitable for what the client
&gt; wants.

Interesting idea. Before going there I'd like to understand whether 
anybody is asking for that feature...

BR, Julian


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10988<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-07-06 15:38:28<br>
Subject:Re: AtomPub copy/move extension: [was Amazon S3 tacks a COPY under	PUT]<br>
Message:<br><br>
<pre>* Brian Smith &lt;brian@...&gt; [2008-07-04 19:05]:
&gt; How about:
&gt; 
&gt; GETPUT /collection/slug
&gt; Host: www.example.org
&gt; Allow-Rename: t
&gt; Content-Type: message/http
&gt; Content-Length &lt;...&gt;
&gt; Authorization: &lt;...&gt;
&gt; 
&gt; GET /data/bob/entry/aefeeibc
&gt; Host: www.example.org
&gt; If-Match: &lt;....&gt;
&gt; Authorization: &lt;...&gt;

The one thing that makes me vaguely uncomfortable is that the
request in the body MUST be a GET request. I think I would rather
end up pulling the source URI up into the headers and pass just
the headers of the GET request in the body using `message/rfc822`.

For similar reasons I would have the source URI header contain
the host name if the resource is on a foreign server, and throw
away any Host header included in the embedded GET headers.

    GETPUT /collection/slug
    Host: www.example.org
    Source-URI: /data/bob/entry/aefeeibc
    Allow-Rename: t
    Content-Type: message/rfc822
    Content-Length &lt;...&gt;
    Authorization: &lt;...&gt;
    
    If-Match: &lt;....&gt;
    Authorization: &lt;...&gt;

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10989<br>
Sender:Stefan Eissing &lt;stefan.eissing@...&gt;<br>
Post Date/Time:2008-07-07 06:50:54<br>
Subject:Re: [rest-discuss] Re: AtomPub copy/move extension: [was Amazon S3 tacks a COPY under PUT]<br>
Message:<br><br>
<pre>HTTP injection, cool! Who would have thought that we could invent a  
new attack vector so easily!

Security issues aside, there are quite some obstacles when doing  
*cross-server* copying. The first one is authentication, second is  
coookies/session handling and third is content negotiation. All are  
avoided if the client does the copying.

Admittedly, there are lots of scenarios where these issues do not  
come up. But perhaps its worth to take another look at why the client  
cannot do the GET+PUT itself?

//Stefan

Am 06.07.2008 um 17:38 schrieb Aristotle Pagaltzis:

&gt; * Brian Smith &lt;brian@...&gt; [2008-07-04 19:05]:
&gt; &gt; How about:
&gt; &gt;
&gt; &gt; GETPUT /collection/slug
&gt; &gt; Host: www.example.org
&gt; &gt; Allow-Rename: t
&gt; &gt; Content-Type: message/http
&gt; &gt; Content-Length &lt;...&gt;
&gt; &gt; Authorization: &lt;...&gt;
&gt; &gt;
&gt; &gt; GET /data/bob/entry/aefeeibc
&gt; &gt; Host: www.example.org
&gt; &gt; If-Match: &lt;....&gt;
&gt; &gt; Authorization: &lt;...&gt;
&gt;
&gt; The one thing that makes me vaguely uncomfortable is that the
&gt; request in the body MUST be a GET request. I think I would rather
&gt; end up pulling the source URI up into the headers and pass just
&gt; the headers of the GET request in the body using `message/rfc822`.
&gt;
&gt; For similar reasons I would have the source URI header contain
&gt; the host name if the resource is on a foreign server, and throw
&gt; away any Host header included in the embedded GET headers.
&gt;
&gt; GETPUT /collection/slug
&gt; Host: www.example.org
&gt; Source-URI: /data/bob/entry/aefeeibc
&gt; Allow-Rename: t
&gt; Content-Type: message/rfc822
&gt; Content-Length &lt;...&gt;
&gt; Authorization: &lt;...&gt;
&gt;
&gt; If-Match: &lt;....&gt;
&gt; Authorization: &lt;...&gt;
&gt;
&gt; Regards,
&gt; -- 
&gt; Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;
&gt;
&gt; 

--
&lt;green/&gt;bytes GmbH, Hafenweg 16, D-48155 Mnster, Germany
Amtsgericht Mnster: HRB5782





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10990<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-07-07 07:51:23<br>
Subject:Re: AtomPub copy/move extension: [was Amazon S3 tacks a COPY under	PUT]<br>
Message:<br><br>
<pre>* Stefan Eissing &lt;stefan.eissing@...&gt; [2008-07-07 08:55]:
&gt; HTTP injection, cool! Who would have thought that we could
&gt; invent a new attack vector so easily!
&gt;
&gt; Security issues aside, there are quite some obstacles when
&gt; doing *cross-server* copying.

There is no reason any server has to process GETPUTs that would
involve an actual over-the-network HTTP GET. If I wrote server
code to handle GETPUT I certainly wouldnt support real GETs. All
I would do is run the URI and supplied headers through the
dispatcher to see whether the client could use this request to
GET an application object for which I support copying or moving,
then create an alias for the object internally.

That means that in some cases I would actually support inter-host
copying, eg. from img.blog1.example.com to img.blog2.example.com,
where both blogs belong to the same user who can therefore supply
correct auth credentials for both.

&gt; Admittedly, there are lots of scenarios where these issues do
&gt; not come up. But perhaps its worth to take another look at why
&gt; the client cannot do the GET+PUT itself?

Because they have already uploaded a copy of that 7.3 GB file and
dont want to download and re-upload it, particularly since the
service bills for bandwidth?

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10991<br>
Sender:Stefan Eissing &lt;stefan.eissing@...&gt;<br>
Post Date/Time:2008-07-07 08:16:02<br>
Subject:Re: [rest-discuss] Re: AtomPub copy/move extension: [was Amazon S3 tacks a COPY under PUT]<br>
Message:<br><br>
<pre>
Am 07.07.2008 um 09:51 schrieb Aristotle Pagaltzis:
&gt; * Stefan Eissing &lt;stefan.eissing@...&gt; [2008-07-07 08:55]:
&gt; &gt; HTTP injection, cool! Who would have thought that we could
&gt; &gt; invent a new attack vector so easily!
&gt; &gt;
&gt; &gt; Security issues aside, there are quite some obstacles when
&gt; &gt; doing *cross-server* copying.
&gt;
&gt; There is no reason any server has to process GETPUTs that would
&gt; involve an actual over-the-network HTTP GET. If I wrote server
&gt; code to handle GETPUT I certainly wouldnt support real GETs. All
&gt; I would do is run the URI and supplied headers through the
&gt; dispatcher to see whether the client could use this request to
&gt; GET an application object for which I support copying or moving,
&gt; then create an alias for the object internally.
&gt;

Following redirects? Having the cookies for that namespace on your  
server? Etc. I understand that you want to resolve the URI only in  
your very own application namespace and forbid everything else. Could  
work.

Regarding PUT semantics: creating an "alias" (I interpret this as  
some kind of symbolic internal link/bind) would break it if your app  
uses content-negotiation. A PUT JPEG stays a JPEG, but an aliased app  
object will not. And if you do not use content negotiation, supplying  
the URI for a "COPY/BIND" would suffice. No headers needed, or?

&gt; That means that in some cases I would actually support inter-host
&gt; copying, eg. from img.blog1.example.com to img.blog2.example.com,
&gt; where both blogs belong to the same user who can therefore supply
&gt; correct auth credentials for both.
&gt;

If you think along the lines of "aliasing" (BIND) or duplicating  
application objects (COPY), the WebDAV methods seem better suited  
(although they sometimes get the target uri wrong way around, I agree).
&gt;
&gt; &gt; Admittedly, there are lots of scenarios where these issues do
&gt; &gt; not come up. But perhaps its worth to take another look at why
&gt; &gt; the client cannot do the GET+PUT itself?
&gt;
&gt; Because they have already uploaded a copy of that 7.3 GB file and
&gt; dont want to download and re-upload it, particularly since the
&gt; service bills for bandwidth?
&gt;

If I have posted this large resource and have a URI for it, why would  
I need to simulate another POST for it in ATOM? Seems something  
missing in the protocol in that case. Could you elaborate?

Cheers,

Stefan
--
&lt;green/&gt;bytes GmbH, Hafenweg 16, D-48155 Mnster, Germany
Amtsgericht Mnster: HRB5782





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10992<br>
Sender:Sebastien Lambla &lt;seb@...&gt;<br>
Post Date/Time:2008-07-07 09:41:21<br>
Subject:RE: [rest-discuss] Re: Satus-code "201" and common Web browsers circa 2008<br>
Message:<br><br>
<pre>My issue would be with special casing any status code, it obfuscate them quite a bit. Just like we have a different code for a success no content and a success with no entity body, and we have a multiple representations and a see other.
After all, introducing a special-casing or implementing a new status code are requiring new deployments of UAs, I'd rather go for a cleaner solution.
 
That said, why do you simply not return the newly created entity as the entity body of your 201 when html has been conneged?



http://clk.atdmt.com/UKM/go/101719806/direct/01/</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10993<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-07-07 10:33:36<br>
Subject:Re: Satus-code "201" and common Web browsers circa 2008<br>
Message:<br><br>
<pre>* Sebastien Lambla &lt;seb@...&gt; [2008-07-07 11:45]:
&gt; My issue would be with special casing any status code, it
&gt; obfuscate them quite a bit.

That was just a case of word choice on my part. What about 201
with Location and an empty entity seems ambiguous to you? What
other way could this reasonably be interpreted than look over
there if you want to see the result of your request? How is
this obsure?

&gt; That said, why do you simply not return the newly created
&gt; entity as the entity body of your 201 when html has been
&gt; conneged?

Because then the address bar would show the containers URI
instead of the created resources. And Id have to include a
Content-Location anyway which is broken in browsers and good
luck with fixing *that*. (Thanks, Microsoft.)

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10994<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-07-07 12:09:41<br>
Subject:Re: [rest-discuss] Re: Satus-code "201" and common Web browsers circa 2008<br>
Message:<br><br>
<pre>On Jul 3, 2008, at 5:20 PM, Aristotle Pagaltzis wrote:

&gt; * Stefan Tilkov &lt;stefan.tilkov@...&gt; [2008-07-03 12:45]:
&gt; &gt; On Jun 12, 2008, at 9:46 AM, Julian Reschke wrote:
&gt; &gt; &gt; Is there a bug raised against Firefox with respect to this?
&gt; &gt;
&gt; &gt; What exactly do you consider to be the bug?
&gt;
&gt; Arguably, a 201 response with a Location header and an empty
&gt; entity body should be treated like a 303 status.
&gt;
&gt;

Thanks. I emphatically agree this would be the *best* behavior, I'm  
just not able to find something in the spec that mandates this.

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/

&gt; Regards,
&gt; -- 
&gt; Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10995<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-07-07 12:13:45<br>
Subject:Re: Satus-code "201" and common Web browsers circa 2008<br>
Message:<br><br>
<pre>* Stefan Tilkov &lt;stefan.tilkov@...&gt; [2008-07-07 14:10]:
&gt; On Jul 3, 2008, at 5:20 PM, Aristotle Pagaltzis wrote:
&gt; &gt; Arguably, a 201 response with a Location header and an empty
&gt; &gt; entity body should be treated like a 303 status.
&gt; 
&gt; Thanks. I emphatically agree this would be the *best* behavior,
&gt; I'm just not able to find something in the spec that mandates
&gt; this.

There isnt any mandate. Sadly so, as far as Im concerned

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10996<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-07-07 12:14:27<br>
Subject:Re: Satus-code "201" and common Web browsers circa 2008<br>
Message:<br><br>
<pre>* Julian Reschke &lt;julian.reschke@...&gt; [2008-07-05 12:15]:
&gt; ...you may want to raise this on the HTML WG's mailing list (or
&gt; their issue tracker -- 
&gt; &lt;http://www.w3.org/Bugs/Public/buglist.cgi?quicksearch=ALL+product:HTML&gt;.

Hmm, are you sure you meant the *HTML* WG rather than HTTPbis?

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10997<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-07-07 12:43:05<br>
Subject:Re: [rest-discuss] Re: Satus-code "201" and common Web browsers circa 2008<br>
Message:<br><br>
<pre>Aristotle Pagaltzis wrote:
&gt; 
&gt; 
&gt; * Julian Reschke &lt;julian.reschke@ gmx.de 
&gt; &lt;mailto:julian.reschke%40gmx.de&gt;&gt; [2008-07-05 12:15]:
&gt;  &gt; ...you may want to raise this on the HTML WG's mailing list (or
&gt;  &gt; their issue tracker --
&gt;  &gt; &lt;http://www.w3. org/Bugs/ Public/buglist. cgi?quicksearch= 
&gt; ALL+product: HTML 
&gt; &lt;http://www.w3.org/Bugs/Public/buglist.cgi?quicksearch=ALL+product:HTML&gt;&gt;.
&gt; 
&gt; Hmm, are you sure you meant the *HTML* WG rather than HTTPbis?

Yes. You want the UAs to behave differently, right?

BR, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10998<br>
Sender:"prashanthshenoyu" &lt;prashanthshenoyu@...&gt;<br>
Post Date/Time:2008-07-07 11:55:12<br>
Subject:Query regarding batch updates<br>
Message:<br><br>
<pre>I am developing a web service based on REST architectural style.
The web service exposes something called a JOB as a resource.
A JOB  has something called a JOBSTATE that internally has various
fields that indicate the state of the JOB 
Our deployment scenario is such that , because of performance
considerations I have to update the state of multiple jobs in one
single request.

The xml snippet looks like this
&lt;JobStates&gt;
&lt;JobState&gt;
 &lt;JobId&gt;Unique id of Job 1&lt;/JobId&gt;
 &lt;Field1&gt;&lt;/Field1&gt;
 &lt;Field2&gt;&lt;/Field2&gt; and so on..
&lt;JobState&gt;
&lt;JobState&gt;
 &lt;JobId&gt;Unique id of Job 2&lt;/JobId&gt;
 &lt;Field1&gt;&lt;/Field1&gt;
 &lt;Field2&gt;&lt;/Field2&gt; and so on..
&lt;JobState&gt;
&lt;JobStates&gt;

I was thinking of using HTTP PUT , in this manner

HttpRequest:
PUT jobs/state? jobId=1 &amp; jobId=2&amp; jobId=3

HttpBody:
&lt;JobStates&gt;
&lt;JobState&gt;
 &lt;JobId&gt;Unique id of Job 1&lt;/JobId&gt;
 &lt;Field1&gt;&lt;/Field1&gt;
 &lt;Field2&gt;&lt;/Field2&gt; and so on..
&lt;JobState&gt;
&lt;JobState&gt;
 &lt;JobId&gt;Unique id of Job 2&lt;/JobId&gt;
 &lt;Field1&gt;&lt;/Field1&gt;
 &lt;Field2&gt;&lt;/Field2&gt; and so on..
&lt;JobState&gt;
&lt;JobStates&gt;

Ideally if everything goes well, then I return a 204 (NO CONTENT)
status to the client.

But what should I do if some state updates go through and some dont?
For instance state updation for job1 is successful but job2 fails?


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:10999<br>
Sender:"wahbedahbe" &lt;andrew.wahbe@...&gt;<br>
Post Date/Time:2008-07-08 03:37:56<br>
Subject:Re: Satus-code "201" and common Web browsers circa 2008<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, Sebastien Lambla &lt;seb@...&gt; wrote:

&gt;  
&gt; That said, why do you simply not return the newly created entity as
the entity body of your 201 when html has been conneged?
&gt; 

To me, that is part of the problem, not the solution. The fact that a
RESTful web framework has to use conneg to determine what response
code to use is a symptom of something being broken. If a POST creates
a resource, shouldn't you be able to return a 201, regardless of what
type of representation the client accepts?

I don't feel that this problem is specific to 201 either. The same
applies to 200 (if I want to indicate that my POST did *not* create a
new resource). The root of the problem is that it has become
best-practice to always return a 303 in response to a POST (when
writing an HTML application). Rather than using a response code that
reflects the semantics of the outcome, the preferred behavior is to
redirect (via GET) to a URL in order to avoid all the pitfalls of
having content in your POST response.

Especially if you are using HTML w/ MicroFormats as your content type,
wouldn't it be ideal if your web site and your web service were one
and the same? The redirect on POST best-practice seems to stand in the
way of that.

I believe that the right "fix" here would either 1) resolve the
browser problems that require redirect on POST so that you are free to
use the response code that best matches your semantics; or 2) allows a
"next" URL to be communicated with any response to a POST/PUT/DELETE
request.

Andrew Wahbe


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11000<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2008-07-08 04:27:15<br>
Subject:Re: [rest-discuss] Re: Satus-code "201" and common Web browsers circa 2008<br>
Message:<br><br>
<pre>On Sat, Jul 5, 2008 at 4:55 AM, Aristotle Pagaltzis &lt;pagaltzis@...&gt; wrote:
&gt;

&gt; Do you have any substantive objections against treating 201 as
&gt; a redirect *if and only if* the entity body is empty *and* it
&gt; contains a Location header?
&gt;

What if I just POSTed a 40 MB file? I wouldn't be happy to be
redirected to GET it.

Hugh

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11001<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-07-08 14:57:07<br>
Subject:Re: Satus-code "201" and common Web browsers circa 2008<br>
Message:<br><br>
<pre>* Hugh Winkler &lt;hughw@...&gt; [2008-07-08 06:30]:
&gt; On Sat, Jul 5, 2008 at 4:55 AM, Aristotle Pagaltzis &lt;pagaltzis@...&gt; wrote:
&gt; &gt; Do you have any substantive objections against treating 201
&gt; &gt; as a redirect *if and only if* the entity body is empty *and*
&gt; &gt; it contains a Location header?
&gt; 
&gt; What if I just POSTed a 40 MB file? I wouldn't be happy to be
&gt; redirected to GET it.

So including the 40MB file in the 201 entity body would be
better?

(What you have is a legitimate case for putting something in the
201 response body that *is not* the newly created resouce, which
is irrelevant to my argument. Alternatively it is a legitimate
case for directing the client to a resource with metadata instead
of the resource for the file itself, which is equally irrelevant
to my argument, if for a different reason.)

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11002<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2008-07-08 15:35:43<br>
Subject:Re: [rest-discuss] Re: Satus-code "201" and common Web browsers circa 2008<br>
Message:<br><br>
<pre>On Tue, Jul 8, 2008 at 9:57 AM, Aristotle Pagaltzis &lt;pagaltzis@...&gt; wrote:
&gt; * Hugh Winkler &lt;hughw@...&gt; [2008-07-08 06:30]:
&gt;&gt; On Sat, Jul 5, 2008 at 4:55 AM, Aristotle Pagaltzis &lt;pagaltzis@...&gt; wrote:
&gt;&gt; &gt; Do you have any substantive objections against treating 201
&gt;&gt; &gt; as a redirect *if and only if* the entity body is empty *and*
&gt;&gt; &gt; it contains a Location header?
&gt;&gt;
&gt;&gt; What if I just POSTed a 40 MB file? I wouldn't be happy to be
&gt;&gt; redirected to GET it.
&gt;
&gt; So including the 40MB file in the 201 entity body would be
&gt; better?

 I'm not going to return it in the entity body either. For 201, "The
response SHOULD include an entity containing a list of resource
characteristics and location(s) from which the user or user agent can
choose the one most appropriate. "

I've stored it at an URL where you can retrieve it, and I tell you
that URL in the Location header and in the response entity.

&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11003<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2008-07-08 15:41:12<br>
Subject:Re: [rest-discuss] Re: Satus-code "201" and common Web browsers circa 2008<br>
Message:<br><br>
<pre>On Tue, Jul 8, 2008 at 10:35 AM, Hugh Winkler &lt;hughw@...&gt; wrote:
&gt; On Tue, Jul 8, 2008 at 9:57 AM, Aristotle Pagaltzis &lt;pagaltzis@...&gt; wrote:
&gt;&gt; * Hugh Winkler &lt;hughw@...&gt; [2008-07-08 06:30]:
&gt;&gt;&gt; On Sat, Jul 5, 2008 at 4:55 AM, Aristotle Pagaltzis &lt;pagaltzis@...&gt; wrote:
&gt;&gt;&gt; &gt; Do you have any substantive objections against treating 201
&gt;&gt;&gt; &gt; as a redirect *if and only if* the entity body is empty *and*
&gt;&gt;&gt; &gt; it contains a Location header?
&gt;&gt;&gt;
&gt;&gt;&gt; What if I just POSTed a 40 MB file? I wouldn't be happy to be
&gt;&gt;&gt; redirected to GET it.
&gt;&gt;
&gt;&gt; So including the 40MB file in the 201 entity body would be
&gt;&gt; better?
&gt;
&gt;  I'm not going to return it in the entity body either. For 201, "The
&gt; response SHOULD include an entity containing a list of resource
&gt; characteristics and location(s) from which the user or user agent can
&gt; choose the one most appropriate. "
&gt;
&gt; I've stored it at an URL where you can retrieve it, and I tell you
&gt; that URL in the Location header and in the response entity.
&gt;
&gt;&gt;
&gt;
The point being that after uploading a large video via POST, nobody
wants that thing downloaded again in the response OR in a redirect.
It's already on my disk!

Hugh

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11004<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-07-08 15:41:41<br>
Subject:RE: [rest-discuss] Re: Satus-code "201" and common Web browsers circa 2008<br>
Message:<br><br>
<pre>&gt; shouldn't you be able to return a 201, regardless of what
&gt; type of representation the client accepts?

Uh, you can. That's what conneg is for. Browser gets an html version, maybe
redirecting if it makes sense, others get whatever the client and server
agreed upon?

&gt; Especially if you are using HTML w/ MicroFormats as your content type,
&gt; wouldn't it be ideal if your web site and your web service were one
&gt; and the same? The redirect on POST best-practice seems to stand in the
&gt; way of that.

Don't see how it does that. And the idea that you ahve pages and services
seems to forget that conneg, 300 and 303 is there *exactly* to ensure
several representations (vcard, html, json, xml, image) are all available
for the same entity. See httpRange-14 et al.

&gt; I believe that the right "fix" here would either 1) resolve the
&gt; browser problems that require redirect on POST so that you are free to
&gt; use the response code that best matches your semantics; or 

I fail to see where a POST always triggers a redirect? I happily send back
whatever code I want based on the scenario, 204, 200, 201 etc.

&gt; 2) allows a "next" URL to be communicated with any response to a
POST/PUT/DELETE
&gt; request.

What's the problem with the Location: header, the Link: header or simply
leveraging the content type? Like &lt;link&gt; ?

Seb



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11005<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-07-08 15:50:17<br>
Subject:Re: Satus-code "201" and common Web browsers circa 2008<br>
Message:<br><br>
<pre>* Hugh Winkler &lt;hughw@...&gt; [2008-07-08 17:45]:
&gt; The point being that after uploading a large video via POST,
&gt; nobody wants that thing downloaded again in the response OR in
&gt; a redirect.

You snipped the part of my reply where I said just that. You are
talking about a different use case so I hold that your argument
is not relevant to mine.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11006<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2008-07-08 16:21:10<br>
Subject:Re: [rest-discuss] Re: Satus-code "201" and common Web browsers circa 2008<br>
Message:<br><br>
<pre>On Sat, Jul 5, 2008 at 4:55 AM, Aristotle Pagaltzis &lt;pagaltzis@...&gt; wrote:

&gt; Currently what I do is sniff the user agent to see if I should
&gt; send 303 (it's a browser) or 201 (it's some kind of programmatic
&gt; client). Terribly ugly, but if empty 201 with Location isn't
&gt; treated as a redirect, well I guess I will just have to continue
&gt; doing it this way. I was hoping to be able to throw this wart out
&gt; of my code someday.
&gt;

Couldn't you send 303 unconditionally , redirecting to a URI that
gives the result of the request? That page could return your 201 and
Location header, satisfying your programmatic client.

Hugh

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11007<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2008-07-08 21:26:34<br>
Subject:Re: [rest-discuss] Re: Satus-code "201" and common Web browsers circa 2008<br>
Message:<br><br>
<pre>On Tue, Jul 8, 2008 at 4:08 PM, Sebastien Lambla &lt;seb@...&gt; wrote:
&gt; If you redirect to the new url, how would the server know the difference
&gt; between your request when transferred from a 303 and the one from another
&gt; client?
&gt;

It doesn't. The 303 doesn't redirect to the URI of the created
resource; it redirects to the URI  of "the response to the request"
per 2616.

In Aristotle's case, the response is a 201 with a Location header. The
representation he sends could be identical to the rendering of the
thread the user just POSTed to.

iow after the 303, the user's address bar would show a different URL,
not the thread's URL. Maybe it would be the base URI of the thread,
but decorated with some parameter telling the server to return "the
response to the request".

             --&gt; POST /entries
             &lt;-- 303 Location = "/thread/2341?status", Body = the thread

             --&gt; GET /thread/2341?status
             &lt;-- 201 Created Location="/thread/2341", Body = the thread


&gt;
&gt;
&gt; -----Original Message-----
&gt; From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On
&gt; Behalf Of Hugh Winkler
&gt; Sent: 08 July 2008 17:21
&gt; To: rest-discuss@yahoogroups.com
&gt; Subject: Re: [rest-discuss] Re: Satus-code "201" and common Web browsers
&gt; circa 2008
&gt;
&gt; On Sat, Jul 5, 2008 at 4:55 AM, Aristotle Pagaltzis &lt;pagaltzis@...&gt;
&gt; wrote:
&gt;
&gt;&gt; Currently what I do is sniff the user agent to see if I should
&gt;&gt; send 303 (it's a browser) or 201 (it's some kind of programmatic
&gt;&gt; client). Terribly ugly, but if empty 201 with Location isn't
&gt;&gt; treated as a redirect, well I guess I will just have to continue
&gt;&gt; doing it this way. I was hoping to be able to throw this wart out
&gt;&gt; of my code someday.
&gt;&gt;
&gt;
&gt; Couldn't you send 303 unconditionally , redirecting to a URI that
&gt; gives the result of the request? That page could return your 201 and
&gt; Location header, satisfying your programmatic client.
&gt;
&gt; Hugh
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;



-- 
Hugh Winkler, CEO
Wellstorm Development
31900 Ranch Road 12
Suite 206
Dripping Springs, TX 78620
USA
http://www.wellstorm.com/
+1 512 264 3998 x801

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11008<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2008-07-08 21:48:10<br>
Subject:Re: [rest-discuss] Re: Satus-code "201" and common Web browsers circa 2008<br>
Message:<br><br>
<pre>On Tue, Jul 8, 2008 at 4:26 PM, Hugh Winkler &lt;hughw@...&gt; wrote:
&gt; On Tue, Jul 8, 2008 at 4:08 PM, Sebastien Lambla &lt;seb@...&gt; wrote:
&gt;&gt; If you redirect to the new url, how would the server know the difference
&gt;&gt; between your request when transferred from a 303 and the one from another
&gt;&gt; client?
&gt;&gt;
&gt;
&gt; It doesn't. The 303 doesn't redirect to the URI of the created
&gt; resource; it redirects to the URI  of "the response to the request"
&gt; per 2616.
&gt;
&gt; In Aristotle's case, the response is a 201 with a Location header. The
&gt; representation he sends could be identical to the rendering of the
&gt; thread the user just POSTed to.
&gt;
&gt; iow after the 303, the user's address bar would show a different URL,
&gt; not the thread's URL. Maybe it would be the base URI of the thread,
&gt; but decorated with some parameter telling the server to return "the
&gt; response to the request".
&gt;
&gt;             --&gt; POST /entries
&gt;             &lt;-- 303 Location = "/thread/2341?status", Body = the thread
&gt;
&gt;             --&gt; GET /thread/2341?status
&gt;             &lt;-- 201 Created Location="/thread/2341", Body = the thread
&gt;
&gt;

Correcting some hasty mistakes above:
Suppose POSTing the entry results in creating entry 2341 on thread 12.

            --&gt; POST /entries/12
             &lt;-- 303 Location = "/thread/12?status=2341"
             --&gt; GET /thread/12?status=2341
            &lt;-- 201 Created Location="/thread/12/2341",
                        Body = the representation of the thread, same
as a GET on  "/thread/12"


Hugh

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11009<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-07-08 22:04:04<br>
Subject:Re: Query regarding batch updates<br>
Message:<br><br>
<pre>* prashanthshenoyu &lt;prashanthshenoyu@...&gt; [2008-07-07 17:10]:
&gt; Ideally if everything goes well, then I return a 204 (NO
&gt; CONTENT) status to the client.
&gt; 
&gt; But what should I do if some state updates go through and some
&gt; dont? For instance state updation for job1 is successful but
&gt; job2 fails?

You might be able to use 207 Multi-Status as defined in WebDAV
(RFC4918 section 13), but even with that it still requires
complex logic on both ends of the wire.

Youve hit upon one of the big hairballs when dealing with
request batches. As Roy said recently, any attempt at batching
means HTTP-in-HTTP, which requires re-addressing all of HTTPs
concerns inside the batch operation (auth, status codes, caching,
etc), which means squaring the complexity of the implementation
(of both the client and the server).

Are you sure you dont want to simply pipeline a bunch of single-
resource PUT requests?

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11010<br>
Sender:"wahbedahbe" &lt;andrew.wahbe@...&gt;<br>
Post Date/Time:2008-07-09 02:25:07<br>
Subject:Re: Satus-code "201" and common Web browsers circa 2008<br>
Message:<br><br>
<pre>I think I may not have explained myself very well. Let me try to
clarify. (Apologies if I'm just repeating myself...)

I'm talking about the best practice described in the following pages
(found randomly w/ a google search):
http://www.theserverside.com/patterns/thread.tss?thread_id=20936
http://www.ervacon.com/products/swf/tips/tip4.html

It's often called "POST-REDIRECT-GET" or "Redirect After Submit".

IMHO this pattern exists to get around web browser shortcomings. You
don't use the 303 response to the POST because it conveys the right
semantics; you do it to prevent double submits when the user plays
with the back and reload buttons.

It would really be nice to not have to worry about this and return 200
or 201 to the POST regardless of whether the client is a browser or a
web service client. Or maybe have some way to convey the right
semantics as well as trigger the redirect.

I think its especially important if you want to use the same HTML w/
Microformats for both your web site and your web service -- i.e.
browsers and web services clients are accessing the exact same URLs
and representations. In both cases the client will be asking for HTML
so how could you use conneg to tell them apart?

Anyways... how could I use the Location header or link header to solve
this? Could you give me an example?

Andrew Wahbe

--- In rest-discuss@yahoogroups.com, "Sebastien Lambla" &lt;seb@...&gt; wrote:
&gt;
&gt; &gt; shouldn't you be able to return a 201, regardless of what
&gt; &gt; type of representation the client accepts?
&gt; 
&gt; Uh, you can. That's what conneg is for. Browser gets an html
version, maybe
&gt; redirecting if it makes sense, others get whatever the client and server
&gt; agreed upon?
&gt; 
&gt; &gt; Especially if you are using HTML w/ MicroFormats as your content type,
&gt; &gt; wouldn't it be ideal if your web site and your web service were one
&gt; &gt; and the same? The redirect on POST best-practice seems to stand in the
&gt; &gt; way of that.
&gt; 
&gt; Don't see how it does that. And the idea that you ahve pages and
services
&gt; seems to forget that conneg, 300 and 303 is there *exactly* to ensure
&gt; several representations (vcard, html, json, xml, image) are all
available
&gt; for the same entity. See httpRange-14 et al.
&gt; 
&gt; &gt; I believe that the right "fix" here would either 1) resolve the
&gt; &gt; browser problems that require redirect on POST so that you are free to
&gt; &gt; use the response code that best matches your semantics; or 
&gt; 
&gt; I fail to see where a POST always triggers a redirect? I happily
send back
&gt; whatever code I want based on the scenario, 204, 200, 201 etc.
&gt; 
&gt; &gt; 2) allows a "next" URL to be communicated with any response to a
&gt; POST/PUT/DELETE
&gt; &gt; request.
&gt; 
&gt; What's the problem with the Location: header, the Link: header or simply
&gt; leveraging the content type? Like &lt;link&gt; ?
&gt; 
&gt; Seb
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11011<br>
Sender:"prashanthshenoyu" &lt;prashanthshenoyu@...&gt;<br>
Post Date/Time:2008-07-09 11:27:56<br>
Subject:Query string format<br>
Message:<br><br>
<pre>I am currently developing a RESTful Web Service and will be using
query strings extensively.

There seems to be no guide line regarding how to form the query
strings and parse it , in a uniform manner.

For instance some frameworks like Windows Communication Foundation
treat   query strings as a part of URI.

For example http://localhost//MyResources/{Id}/State

Here Id is treated as a query string and the value of Id is provided
as a part of URI

Something like this -&gt; http://localhost//MyResources/1/State 

However most frameworks treat query strings as key value pairs.
Something like http://localhost//MyResources/State?Id =1

RFC 3986 says both mechanisms MAY be used.

Is there a uniform format for specifying the query strings?






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11012<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-07-09 15:03:38<br>
Subject:Re: [rest-discuss] Query string format<br>
Message:<br><br>
<pre>This is strictly implementation level detail. Unless you are expecting  
clients to manufacture URIs by using HTML forms or URI templates or  
some other pre-specified form, URIs is opaque to the client. It should  
not matter what form you choose for constructing query strings.

Subbu

On Jul 9, 2008, at 4:27 AM, prashanthshenoyu wrote:

&gt; I am currently developing a RESTful Web Service and will be using
&gt; query strings extensively.
&gt;
&gt; There seems to be no guide line regarding how to form the query
&gt; strings and parse it , in a uniform manner.
&gt;
&gt; For instance some frameworks like Windows Communication Foundation
&gt; treat query strings as a part of URI.
&gt;
&gt; For example http://localhost//MyResources/{Id}/State
&gt;
&gt; Here Id is treated as a query string and the value of Id is provided
&gt; as a part of URI
&gt;
&gt; Something like this -&gt; http://localhost//MyResources/1/State
&gt;
&gt; However most frameworks treat query strings as key value pairs.
&gt; Something like http://localhost//MyResources/State?Id =1
&gt;
&gt; RFC 3986 says both mechanisms MAY be used.
&gt;
&gt; Is there a uniform format for specifying the query strings?
&gt;
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11013<br>
Sender:Kevin Duffey &lt;andjarnic@...&gt;<br>
Post Date/Time:2008-07-09 16:32:38<br>
Subject:Re: [rest-discuss] Query string format<br>
Message:<br><br>
<pre>So I could be wrong here, but I thought what prashanthshenoyu describes is infact standard... in that..

http://localhost//MyResources/{Id}/State

would be parsed as MyResources/1/State would be a complete path to a specific MyResources instance (1), and with that, the State resource would be used?

At least in using the JSR-311 with Java, I would set up a path handler for /MyResources/{id}/State and in that method handler I could get the ID and from it determine the State resource to work with, return, etc.

As for the other way around

http://localhost//MyResources/State?Id =1

This would be a completely different resource, where MyResources/State would be comparable to the above example of MyResources/1, but instead of a numeric id value, you're using State. From that, you are passing in to the State resource a query string of id=1, thus a key/value of id/1.

The first uri above seems to be a one extra resource handler. That is to say, if you had a

GET /MyResources
GET /MyResources/1
GET /MyResources/1/State

each would return something different.

The 2nd URI is a little different.. you only have 

GET /MyResources
GET /MyResources/State

Now, I don't know if this is correct, I am very new to all this too, this is just my understanding of how it would work. If I am wrong, I am very interested in knowing why/how so I can learn more.

Thank you.


----- Original Message ----
From: Subbu Allamaraju &lt;subbu@...&gt;
To: prashanthshenoyu &lt;prashanthshenoyu@...&gt;
Cc: rest-discuss@yahoogroups.com
Sent: Wednesday, July 9, 2008 8:03:38 AM
Subject: Re: [rest-discuss] Query string format

This is strictly implementation level detail. Unless you are expecting  
clients to manufacture URIs by using HTML forms or URI templates or  
some other pre-specified form, URIs is opaque to the client. It should  
not matter what form you choose for constructing query strings.

Subbu

On Jul 9, 2008, at 4:27 AM, prashanthshenoyu wrote:

&gt; I am currently developing a RESTful Web Service and will be using
&gt; query strings extensively.
&gt;
&gt; There seems to be no guide line regarding how to form the query
&gt; strings and parse it , in a uniform manner.
&gt;
&gt; For instance some frameworks like Windows Communication Foundation
&gt; treat query strings as a part of URI.
&gt;
&gt; For example http://localhost//MyResources/{Id}/State
&gt;
&gt; Here Id is treated as a query string and the value of Id is provided
&gt; as a part of URI
&gt;
&gt; Something like this -&gt; http://localhost//MyResources/1/State
&gt;
&gt; However most frameworks treat query strings as key value pairs.
&gt; Something like http://localhost//MyResources/State?Id =1
&gt;
&gt; RFC 3986 says both mechanisms MAY be used.
&gt;
&gt; Is there a uniform format for specifying the query strings?
&gt;
&gt;
&gt; 


------------------------------------

Yahoo! Groups Links




      </pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11014<br>
Sender:Justin Sheehy &lt;justin@...&gt;<br>
Post Date/Time:2008-07-09 20:13:53<br>
Subject:Re: [rest-discuss] Query string format<br>
Message:<br><br>
<pre>Kevin,

On Jul 9, 2008, at 12:32 PM, Kevin Duffey wrote:

&gt; So I could be wrong here, but I thought what prashanthshenoyu  
&gt; describes is infact standard... in that..
&gt;
&gt; http://localhost//MyResources/{Id}/State
&gt;
&gt; would be parsed as MyResources/1/State would be a complete path to a  
&gt; specific MyResources instance (1), and with that, the State resource  
&gt; would be used?

I don't quite follow your point and I'm not sure which part you mean  
is standard, but there's certainly nothing about classes or instances  
that is standard about URIs.

URI path interpretation is server-specific, and unless a given server  
says otherwise a client shouldn't assume any particular meaning to the  
content of any URI path.

-Justin



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11015<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-07-09 21:29:39<br>
Subject:Re: [rest-discuss] Query string format<br>
Message:<br><br>
<pre>This is just a convention adopted by an implementation. RoR has a  
similar convention, but there is nothing standard about it. It is all  
about convenience to extract data (e.g. IDs) from path segments and/or  
query strings in particular implementations.

Subbu

On Jul 9, 2008, at 9:32 AM, Kevin Duffey wrote:

&gt;
&gt; So I could be wrong here, but I thought what prashanthshenoyu  
&gt; describes is infact standard... in that..
&gt;
&gt; http://localhost//MyResources/{Id}/State
&gt;
&gt; would be parsed as MyResources/1/State would be a complete path to a  
&gt; specific MyResources instance (1), and with that, the State resource  
&gt; would be used?
&gt;
&gt; At least in using the JSR-311 with Java, I would set up a path  
&gt; handler for /MyResources/{id}/State and in that method handler I  
&gt; could get the ID and from it determine the State resource to work  
&gt; with, return, etc.
&gt;
&gt; As for the other way around
&gt;
&gt; http://localhost//MyResources/State?Id =1
&gt;
&gt; This would be a completely different resource, where MyResources/ 
&gt; State would be comparable to the above example of MyResources/1, but  
&gt; instead of a numeric id value, you're using State. From that, you  
&gt; are passing in to the State resource a query string of id=1, thus a  
&gt; key/value of id/1.
&gt;
&gt; The first uri above seems to be a one extra resource handler. That  
&gt; is to say, if you had a
&gt;
&gt; GET /MyResources
&gt; GET /MyResources/1
&gt; GET /MyResources/1/State
&gt;
&gt; each would return something different.
&gt;
&gt; The 2nd URI is a little different.. you only have
&gt;
&gt; GET /MyResources
&gt; GET /MyResources/State
&gt;
&gt; Now, I don't know if this is correct, I am very new to all this too,  
&gt; this is just my understanding of how it would work. If I am wrong, I  
&gt; am very interested in knowing why/how so I can learn more.
&gt;
&gt; Thank you.
&gt;
&gt; ----- Original Message ----
&gt; From: Subbu Allamaraju &lt;subbu@...&gt;
&gt; To: prashanthshenoyu &lt;prashanthshenoyu@...&gt;
&gt; Cc: rest-discuss@...m
&gt; Sent: Wednesday, July 9, 2008 8:03:38 AM
&gt; Subject: Re: [rest-discuss] Query string format
&gt;
&gt; This is strictly implementation level detail. Unless you are expecting
&gt; clients to manufacture URIs by using HTML forms or URI templates or
&gt; some other pre-specified form, URIs is opaque to the client. It should
&gt; not matter what form you choose for constructing query strings.
&gt;
&gt; Subbu
&gt;
&gt; On Jul 9, 2008, at 4:27 AM, prashanthshenoyu wrote:
&gt;
&gt; &gt; I am currently developing a RESTful Web Service and will be using
&gt; &gt; query strings extensively.
&gt; &gt;
&gt; &gt; There seems to be no guide line regarding how to form the query
&gt; &gt; strings and parse it , in a uniform manner.
&gt; &gt;
&gt; &gt; For instance some frameworks like Windows Communication Foundation
&gt; &gt; treat query strings as a part of URI.
&gt; &gt;
&gt; &gt; For example http://localhost//MyResources/{Id}/State
&gt; &gt;
&gt; &gt; Here Id is treated as a query string and the value of Id is provided
&gt; &gt; as a part of URI
&gt; &gt;
&gt; &gt; Something like this -&gt; http://localhost//MyResources/1/State
&gt; &gt;
&gt; &gt; However most frameworks treat query strings as key value pairs.
&gt; &gt; Something like http://localhost//MyResources/State?Id =1
&gt; &gt;
&gt; &gt; RFC 3986 says both mechanisms MAY be used.
&gt; &gt;
&gt; &gt; Is there a uniform format for specifying the query strings?
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11016<br>
Sender:Kevin Duffey &lt;andjarnic@...&gt;<br>
Post Date/Time:2008-07-09 22:39:22<br>
Subject:Re: [rest-discuss] Query string format<br>
Message:<br><br>
<pre>Ah, my bad then. I thought there was a general direction the REST community at large was taking with regards to the URI and how it breaks down, hence my use of "standard". Wrong choice of words.




----- Original Message ----
From: Subbu Allamaraju &lt;subbu@...&gt;
To: Kevin Duffey &lt;andjarnic@...&gt;
Cc: rest-discuss@yahoogroups.com
Sent: Wednesday, July 9, 2008 2:29:39 PM
Subject: Re: [rest-discuss] Query string format

This is just a convention adopted by an implementation. RoR has a  
similar convention, but there is nothing standard about it. It is all  
about convenience to extract data (e.g. IDs) from path segments and/or  
query strings in particular implementations.

Subbu

On Jul 9, 2008, at 9:32 AM, Kevin Duffey wrote:

&gt;
&gt; So I could be wrong here, but I thought what prashanthshenoyu  
&gt; describes is infact standard... in that..
&gt;
&gt; http://localhost//MyResources/{Id}/State
&gt;
&gt; would be parsed as MyResources/1/State would be a complete path to a  
&gt; specific MyResources instance (1), and with that, the State resource  
&gt; would be used?
&gt;
&gt; At least in using the JSR-311 with Java, I would set up a path  
&gt; handler for /MyResources/{id}/State and in that method handler I  
&gt; could get the ID and from it determine the State resource to work  
&gt; with, return, etc.
&gt;
&gt; As for the other way around
&gt;
&gt; http://localhost//MyResources/State?Id =1
&gt;
&gt; This would be a completely different resource, where MyResources/ 
&gt; State would be comparable to the above example of MyResources/1, but  
&gt; instead of a numeric id value, you're using State. From that, you  
&gt; are passing in to the State resource a query string of id=1, thus a  
&gt; key/value of id/1.
&gt;
&gt; The first uri above seems to be a one extra resource handler. That  
&gt; is to say, if you had a
&gt;
&gt; GET /MyResources
&gt; GET /MyResources/1
&gt; GET /MyResources/1/State
&gt;
&gt; each would return something different.
&gt;
&gt; The 2nd URI is a little different.. you only have
&gt;
&gt; GET /MyResources
&gt; GET /MyResources/State
&gt;
&gt; Now, I don't know if this is correct, I am very new to all this too,  
&gt; this is just my understanding of how it would work. If I am wrong, I  
&gt; am very interested in knowing why/how so I can learn more.
&gt;
&gt; Thank you.
&gt;
&gt; ----- Original Message ----
&gt; From: Subbu Allamaraju &lt;subbu@...&gt;
&gt; To: prashanthshenoyu &lt;prashanthshenoyu@...&gt;
&gt; Cc: rest-discuss@yahoogroups.com
&gt; Sent: Wednesday, July 9, 2008 8:03:38 AM
&gt; Subject: Re: [rest-discuss] Query string format
&gt;
&gt; This is strictly implementation level detail. Unless you are expecting
&gt; clients to manufacture URIs by using HTML forms or URI templates or
&gt; some other pre-specified form, URIs is opaque to the client. It should
&gt; not matter what form you choose for constructing query strings.
&gt;
&gt; Subbu
&gt;
&gt; On Jul 9, 2008, at 4:27 AM, prashanthshenoyu wrote:
&gt;
&gt; &gt; I am currently developing a RESTful Web Service and will be using
&gt; &gt; query strings extensively.
&gt; &gt;
&gt; &gt; There seems to be no guide line regarding how to form the query
&gt; &gt; strings and parse it , in a uniform manner.
&gt; &gt;
&gt; &gt; For instance some frameworks like Windows Communication Foundation
&gt; &gt; treat query strings as a part of URI.
&gt; &gt;
&gt; &gt; For example http://localhost//MyResources/{Id}/State
&gt; &gt;
&gt; &gt; Here Id is treated as a query string and the value of Id is provided
&gt; &gt; as a part of URI
&gt; &gt;
&gt; &gt; Something like this -&gt; http://localhost//MyResources/1/State
&gt; &gt;
&gt; &gt; However most frameworks treat query strings as key value pairs.
&gt; &gt; Something like http://localhost//MyResources/State?Id =1
&gt; &gt;
&gt; &gt; RFC 3986 says both mechanisms MAY be used.
&gt; &gt;
&gt; &gt; Is there a uniform format for specifying the query strings?
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; 


------------------------------------

Yahoo! Groups Links




      </pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11017<br>
Sender:Craig McClanahan &lt;craigmcc@...&gt;<br>
Post Date/Time:2008-07-09 22:32:17<br>
Subject:Re: [rest-discuss] Query string format<br>
Message:<br><br>
<pre>Subbu Allamaraju wrote:
&gt; This is just a convention adopted by an implementation. RoR has a  
&gt; similar convention, but there is nothing standard about it. It is all  
&gt; about convenience to extract data (e.g. IDs) from path segments and/or  
&gt; query strings in particular implementations.
&gt;
&gt;   
Agreed that it's just a convention, and that neither is "standard" in 
any sense.  But there is (at least) one important consideration that 
might affect your choice of one format versus another ... caching.  The 
format that includes the identifier in the URI itself, such as:

    http://localhost/MyResources/{Id}/State

offers you the opportunity (if you set your cache control headers 
correctly) to let the data for each particular value of {Id} to be 
cached by an intermediary between you and the client, while the 
parameter based format:

    http://localhost/MyResources/State?id={Id}

does not, because request parameters are not considered part of the key 
under which caching occurs.
&gt; Subbu
&gt;   
Craig McClanahan

&gt; On Jul 9, 2008, at 9:32 AM, Kevin Duffey wrote:
&gt;
&gt;   
&gt;&gt; So I could be wrong here, but I thought what prashanthshenoyu  
&gt;&gt; describes is infact standard... in that..
&gt;&gt;
&gt;&gt; http://localhost//MyResources/{Id}/State
&gt;&gt;
&gt;&gt; would be parsed as MyResources/1/State would be a complete path to a  
&gt;&gt; specific MyResources instance (1), and with that, the State resource  
&gt;&gt; would be used?
&gt;&gt;
&gt;&gt; At least in using the JSR-311 with Java, I would set up a path  
&gt;&gt; handler for /MyResources/{id}/State and in that method handler I  
&gt;&gt; could get the ID and from it determine the State resource to work  
&gt;&gt; with, return, etc.
&gt;&gt;
&gt;&gt; As for the other way around
&gt;&gt;
&gt;&gt; http://localhost//MyResources/State?Id =1
&gt;&gt;
&gt;&gt; This would be a completely different resource, where MyResources/ 
&gt;&gt; State would be comparable to the above example of MyResources/1, but  
&gt;&gt; instead of a numeric id value, you're using State. From that, you  
&gt;&gt; are passing in to the State resource a query string of id=1, thus a  
&gt;&gt; key/value of id/1.
&gt;&gt;
&gt;&gt; The first uri above seems to be a one extra resource handler. That  
&gt;&gt; is to say, if you had a
&gt;&gt;
&gt;&gt; GET /MyResources
&gt;&gt; GET /MyResources/1
&gt;&gt; GET /MyResources/1/State
&gt;&gt;
&gt;&gt; each would return something different.
&gt;&gt;
&gt;&gt; The 2nd URI is a little different.. you only have
&gt;&gt;
&gt;&gt; GET /MyResources
&gt;&gt; GET /MyResources/State
&gt;&gt;
&gt;&gt; Now, I don't know if this is correct, I am very new to all this too,  
&gt;&gt; this is just my understanding of how it would work. If I am wrong, I  
&gt;&gt; am very interested in knowing why/how so I can learn more.
&gt;&gt;
&gt;&gt; Thank you.
&gt;&gt;
&gt;&gt; ----- Original Message ----
&gt;&gt; From: Subbu Allamaraju &lt;subbu@...&gt;
&gt;&gt; To: prashanthshenoyu &lt;prashanthshenoyu@...&gt;
&gt;&gt; Cc: rest-discuss@yahoogroups.com
&gt;&gt; Sent: Wednesday, July 9, 2008 8:03:38 AM
&gt;&gt; Subject: Re: [rest-discuss] Query string format
&gt;&gt;
&gt;&gt; This is strictly implementation level detail. Unless you are expecting
&gt;&gt; clients to manufacture URIs by using HTML forms or URI templates or
&gt;&gt; some other pre-specified form, URIs is opaque to the client. It should
&gt;&gt; not matter what form you choose for constructing query strings.
&gt;&gt;
&gt;&gt; Subbu
&gt;&gt;
&gt;&gt; On Jul 9, 2008, at 4:27 AM, prashanthshenoyu wrote:
&gt;&gt;
&gt;&gt;     
&gt;&gt;&gt; I am currently developing a RESTful Web Service and will be using
&gt;&gt;&gt; query strings extensively.
&gt;&gt;&gt;
&gt;&gt;&gt; There seems to be no guide line regarding how to form the query
&gt;&gt;&gt; strings and parse it , in a uniform manner.
&gt;&gt;&gt;
&gt;&gt;&gt; For instance some frameworks like Windows Communication Foundation
&gt;&gt;&gt; treat query strings as a part of URI.
&gt;&gt;&gt;
&gt;&gt;&gt; For example http://localhost//MyResources/{Id}/State
&gt;&gt;&gt;
&gt;&gt;&gt; Here Id is treated as a query string and the value of Id is provided
&gt;&gt;&gt; as a part of URI
&gt;&gt;&gt;
&gt;&gt;&gt; Something like this -&gt; http://localhost//MyResources/1/State
&gt;&gt;&gt;
&gt;&gt;&gt; However most frameworks treat query strings as key value pairs.
&gt;&gt;&gt; Something like http://localhost//MyResources/State?Id =1
&gt;&gt;&gt;
&gt;&gt;&gt; RFC 3986 says both mechanisms MAY be used.
&gt;&gt;&gt;
&gt;&gt;&gt; Is there a uniform format for specifying the query strings?
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;       
&gt;&gt; ------------------------------------
&gt;&gt;
&gt;&gt; Yahoo! Groups Links
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;     
&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;   


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11018<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-07-10 00:06:26<br>
Subject:Re: [rest-discuss] Query string format<br>
Message:<br><br>
<pre>&gt;
&gt;   http://localhost/MyResources/State?id={Id}
&gt;
&gt; does not, because request parameters are not considered part of the  
&gt; key under which caching occurs.

&gt;

Craig - which cache are you talking about? Request parameters are  
indeed part of the URI, and if a cache is ignoring it, it is broken.

Subbu


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11019<br>
Sender:Erik Hetzner &lt;erik.hetzner@...&gt;<br>
Post Date/Time:2008-07-10 00:07:33<br>
Subject:Re: [rest-discuss] Query string format<br>
Message:<br><br>
<pre>At Wed, 09 Jul 2008 15:32:17 -0700,
Craig McClanahan &lt;craigmcc@...&gt; wrote:
&gt; Agreed that it's just a convention, and that neither is "standard" in 
&gt; any sense.  But there is (at least) one important consideration that 
&gt; might affect your choice of one format versus another ... caching.  The 
&gt; format that includes the identifier in the URI itself, such as:
&gt; 
&gt;     http://localhost/MyResources/{Id}/State
&gt; 
&gt; offers you the opportunity (if you set your cache control headers 
&gt; correctly) to let the data for each particular value of {Id} to be 
&gt; cached by an intermediary between you and the client, while the 
&gt; parameter based format:
&gt; 
&gt;     http://localhost/MyResources/State?id={Id}
&gt; 
&gt; does not, because request parameters are not considered part of the key 
&gt; under which caching occurs.

Do you have an example of a cache which exhibits this behavior? The
subtleties of web caching have often eluded me, but Ive never heard
this before, and its not part of 2616, as I read it.

best,
Erik Hetzner
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11020<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-07-10 02:07:25<br>
Subject:Re: Query string format<br>
Message:<br><br>
<pre>* Craig McClanahan &lt;craigmcc@...&gt; [2008-07-10 01:15]:
&gt; The format that includes the identifier in the URI itself []
&gt; offers you the opportunity (if you set your cache control
&gt; headers correctly) to let the data for each particular value of
&gt; {Id} to be cached by an intermediary between you and the
&gt; client, while the parameter based format [] does not, because
&gt; request parameters are not considered part of the key under
&gt; which caching occurs.

If that were true the cache in question would be broken (as
others have pointed out).

What you are probably thinking of is that many caches are
configured to ignore responses for URIs with a query string.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11021<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-07-10 02:16:27<br>
Subject:Re: Query string format<br>
Message:<br><br>
<pre>* prashanthshenoyu &lt;prashanthshenoyu@...&gt; [2008-07-09 13:30]:
&gt; Is there a uniform format for specifying the query strings?

No. There are at most vague guidelines.

I use this criterion: do I want to parametrise a computed
resource, or is the thing I want an application level thing in
its own right and with its own identity? Only in the former case
do I use query strings.

In general, I use the query string only for collections, such as
a list of users or a search results page, as a way to narrow down
the list. My query string keys have names like `q`, `tag`, `page`
and `per-page`.

In general, before you have developed a better sense for when and
where to use the query string I think it is better to always
avoid it than to always use it. The free-form structure of the
query string easily leads you into thinking in terms of RPC with
named parameters, which is the wrong way to go about HTTP.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11022<br>
Sender:Craig McClanahan &lt;craigmcc@...&gt;<br>
Post Date/Time:2008-07-10 00:49:02<br>
Subject:Re: [rest-discuss] Query string format<br>
Message:<br><br>
<pre>Erik Hetzner wrote:
&gt; At Wed, 09 Jul 2008 15:32:17 -0700,
&gt; Craig McClanahan &lt;craigmcc@...&gt; wrote:
&gt;   
&gt;&gt; Agreed that it's just a convention, and that neither is "standard" in 
&gt;&gt; any sense.  But there is (at least) one important consideration that 
&gt;&gt; might affect your choice of one format versus another ... caching.  The 
&gt;&gt; format that includes the identifier in the URI itself, such as:
&gt;&gt;
&gt;&gt;     http://localhost/MyResources/{Id}/State
&gt;&gt;
&gt;&gt; offers you the opportunity (if you set your cache control headers 
&gt;&gt; correctly) to let the data for each particular value of {Id} to be 
&gt;&gt; cached by an intermediary between you and the client, while the 
&gt;&gt; parameter based format:
&gt;&gt;
&gt;&gt;     http://localhost/MyResources/State?id={Id}
&gt;&gt;
&gt;&gt; does not, because request parameters are not considered part of the key 
&gt;&gt; under which caching occurs.
&gt;&gt;     
&gt;
&gt; Do you have an example of a cache which exhibits this behavior? The
&gt; subtleties of web caching have often eluded me, but Ive never heard
&gt; this before, and its not part of 2616, as I read it.
&gt;
&gt;   
Interesting ...

I first noticed this behavior with Squid[1], when I was experimenting 
with trying to cache the results of Google-like search requests that 
pass the query string as a request parameter (q=.....), and Squid was 
refusing to cache the search results at all, no matter what I tried with 
setting response headers.  When I looked at the time, searching various 
articles and email lists led me to the belief that this was, in fact, 
required behavior.  Sadly, I did not maintain any bookmarks to the 
documents that (at the time) led me to that conclusion.

Digging a bit further, it looks like this is (at least for Squid 2 or 
later) simply the *default* behavior, and you can configure Squid to 
cache such responses if you want to -- [2] includes one example of how 
to cache things with request parameters as long as expiry information 
was included.  However, it still seems doubtful to me that one could 
count on this unless it is on a cache that you control the configuration 
of (such as a cache in front of your search application to reduce the 
load when there are many equivalent queries).  Based on that, I'd still 
select the former format if I thought caching would matter for my app 
(in addition to other reasons, like an aesthetic preference for 
including the complete resource identifier in the URL itself, and using 
request parameters for other purposes).
&gt; best,
&gt; Erik Hetzner
&gt;   
Craig

[1] http://www.squid-cache.org/
[2] http://wiki.squid-cache.org/Features/StoreUrlRewrite

&gt; ------------------------------------------------------------------------
&gt;
&gt; ;; Erik Hetzner, California Digital Library
&gt; ;; gnupg key id: 1024D/01DB07E3
&gt;   

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11023<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-07-10 03:28:13<br>
Subject:Re: [rest-discuss] Query string format<br>
Message:<br><br>
<pre>&gt;
&gt;
&gt; I first noticed this behavior with Squid[1], when I was  
&gt; experimenting with trying to cache the results of Google-like search  
&gt; requests that pass the query string as a request parameter  
&gt; (q=.....), and Squid was refusing to cache the search results at  
&gt; all, no matter what I tried with setting response headers.  When I  
&gt; looked at the time, searching various articles and email lists led  
&gt; me to the belief that this was, in fact, required behavior.  Sadly,  
&gt; I did not maintain any bookmarks to the documents that (at the time)  
&gt; led me to that conclusion.
&gt;
&gt; Digging a bit further, it looks like this is (at least for Squid 2  
&gt; or later) simply the *default* behavior, and you can configure Squid  
&gt; to cache such responses if you want to -- [2] includes one example  
&gt; of how to cache things with request parameters as long as expiry  
&gt; information was included.  However, it still seems doubtful to me  
&gt; that one could count on this unless it is on a cache that you  
&gt; control the configuration of (such as a cache in front of your  
&gt; search application to reduce the load when there are many equivalent  
&gt; queries).  Based on that, I'd still select the former format if I  
&gt; thought caching would matter for my app (in addition to other  
&gt; reasons, like an aesthetic preference for including the complete  
&gt; resource identifier in the URL itself, and using request parameters  
&gt; for other purposes).

That's an interesting conclusion to come to. By that conclusion, most  
of cache hits on the web will be negative - i.e., http://mystore.com, http://mystore.com/product?id=1 
  and http://mystore.com/product?id=2 will all be treated equivalent  
by caches. It would be a confusing web indeed ;)

I am not a squid expert, but the link [http://wiki.squid-cache.org/Features/StoreUrlRewrite 
] does not have anything to do with ignoring query strings from URIs.  
The only thing relevant I notice is the DENY setting for URIs  
containing cgi-bin. This setting is still questionable, but there may  
be some historical reasons for that.

Subbu

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11024<br>
Sender:Craig McClanahan &lt;craigmcc@...&gt;<br>
Post Date/Time:2008-07-10 05:09:30<br>
Subject:Re: [rest-discuss] Query string format<br>
Message:<br><br>
<pre>Subbu Allamaraju wrote:
&gt;&gt;
&gt;&gt;
&gt;&gt; I first noticed this behavior with Squid[1], when I was experimenting 
&gt;&gt; with trying to cache the results of Google-like search requests that 
&gt;&gt; pass the query string as a request parameter (q=.....), and Squid was 
&gt;&gt; refusing to cache the search results at all, no matter what I tried 
&gt;&gt; with setting response headers.  When I looked at the time, searching 
&gt;&gt; various articles and email lists led me to the belief that this was, 
&gt;&gt; in fact, required behavior.  Sadly, I did not maintain any bookmarks 
&gt;&gt; to the documents that (at the time) led me to that conclusion.
&gt;&gt;
&gt;&gt; Digging a bit further, it looks like this is (at least for Squid 2 or 
&gt;&gt; later) simply the *default* behavior, and you can configure Squid to 
&gt;&gt; cache such responses if you want to -- [2] includes one example of 
&gt;&gt; how to cache things with request parameters as long as expiry 
&gt;&gt; information was included.  However, it still seems doubtful to me 
&gt;&gt; that one could count on this unless it is on a cache that you control 
&gt;&gt; the configuration of (such as a cache in front of your search 
&gt;&gt; application to reduce the load when there are many equivalent 
&gt;&gt; queries).  Based on that, I'd still select the former format if I 
&gt;&gt; thought caching would matter for my app (in addition to other 
&gt;&gt; reasons, like an aesthetic preference for including the complete 
&gt;&gt; resource identifier in the URL itself, and using request parameters 
&gt;&gt; for other purposes).
&gt;
&gt; That's an interesting conclusion to come to. By that conclusion, most 
&gt; of cache hits on the web will be negative - i.e., http://mystore.com, 
&gt; http://mystore.com/product?id=1 and http://mystore.com/product?id=2 
&gt; will all be treated equivalent by caches. It would be a confusing web 
&gt; indeed ;)
&gt;
Yep, it would.  Treating them as non-cacheable is lesser evil than that :-).
&gt; I am not a squid expert, but the link 
&gt; [http://wiki.squid-cache.org/Features/StoreUrlRewrite] does not have 
&gt; anything to do with ignoring query strings from URIs. The only thing 
&gt; relevant I notice is the DENY setting for URIs containing cgi-bin.
It denies on '?' characters as well, by default.
&gt; This setting is still questionable, but there may be some historical 
&gt; reasons for that.
Did a bit more digging, and found a more relevant Squid wiki 
reference[1].  It seems like denying caching on these URLs was indeed 
based on a pragmatic reality that much dynamic content didn't have valid 
cache-control headers.  The author of this wiki page, anyway, seems to 
think the world has changed since then.

Of course, that still begs a question that bothers me about using 
request parameters as part of a resource identifier, especially when 
there is more than one identifier.  Do the following URLs specify the 
same resource?

    http://localhost/mysubresource?foo=bar&amp;baz=bop

    http://localhost/mysubresource?baz=bop&amp;foo=bar

If they do (and, with my server side programming hat on, every app *I* 
have ever written would return identical results), then I sure hope that 
a cache would know that too (Squid doesn't *appear* to treat these 
identically, but I haven't dug through all the code yet).  To say 
nothing of the fact that, at the end of the day, I hope the clients are 
actually getting such URIs from previous responses, instead of 
understanding the syntax.  Request parameters make client side 
assumptions like that *awfully* tempting.  I'd generally prefer 
something like this instead:

    http://localhost/myresource/bar/mysubresource/bop

or even

    http://localhost/foos/bar/bazzes/bop
 
&gt;
&gt; Subbu

Craig

[1] http://wiki.squid-cache.org/ConfigExamples/DynamicContent


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11025<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-07-10 05:37:41<br>
Subject:Re: [rest-discuss] Query string format<br>
Message:<br><br>
<pre>&gt; Did a bit more digging, and found a more relevant Squid wiki  
&gt; reference[1].  It seems like denying caching on these URLs was  
&gt; indeed based on a pragmatic reality that much dynamic content didn't  
&gt; have valid cache-control headers.  The author of this wiki page,  
&gt; anyway, seems to think the world has changed since then.
&gt;
&gt; Of course, that still begs a question that bothers me about using  
&gt; request parameters as part of a resource identifier, especially when  
&gt; there is more than one identifier.  Do the following URLs specify  
&gt; the same resource?
&gt;
&gt;   http://localhost/mysubresource?foo=bar&amp;baz=bop
&gt;
&gt;   http://localhost/mysubresource?baz=bop&amp;foo=bar
&gt;

That's good point. They do not represent the same resource. If the  
sever thinks that the resource is indeed the same, it could very well  
use the Content-Location header, as in

GET /mysubresource?baz=bop&amp;foo=bar

200 OK
Content-Location: http://localhost/mysubresource?foo=bar&amp;baz=bop

so that caches can treat both resources the same.

&gt; If they do (and, with my server side programming hat on, every app  
&gt; *I* have ever written would return identical results), then I sure  
&gt; hope that a cache would know that too (Squid doesn't *appear* to  
&gt; treat these identically, but I haven't dug through all the code  
&gt; yet).  To say nothing of the fact that, at the end of the day, I  
&gt; hope the clients are actually getting such URIs from previous  
&gt; responses, instead of understanding the syntax.  Request parameters  
&gt; make client side assumptions like that *awfully* tempting.  I'd  
&gt; generally prefer something like this instead:
&gt;
&gt;   http://localhost/myresource/bar/mysubresource/bop
&gt;
&gt; or even
&gt;
&gt;   http://localhost/foos/bar/bazzes/bop

Of course, that is an option. Nonetheless, I can't see why one form is  
better than the other for machine clients, and certainly caching is  
not the reason.

Subbu
http://subbu.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11026<br>
Sender:vikranth katanguri &lt;kvikranth@...&gt;<br>
Post Date/Time:2008-07-10 06:43:37<br>
Subject:HOW DO WE PREVENT DYNAMIC CACHING IN BROWSER IN AJAX APPLICATIONS<br>
Message:<br><br>
<pre>Hi All,
I have a small clarifications,

    HOW DO WE PREVENT DYNAMIC CACHING IN BROWSER IN AJAX APPLICATIONS.

Thanks,
Vikranth



      </pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11027<br>
Sender:Prashanth Shenoy &lt;prashanthshenoyu@...&gt;<br>
Post Date/Time:2008-07-10 08:36:23<br>
Subject:Re: [rest-discuss] Query string format<br>
Message:<br><br>
<pre>Kevin, this is exactly what prompted me to ask the question in the first place.

Semantically the two formats of the query string seem to be different to me

Format 1 : http://localhost/MyResources/1/State
In this case I am using the Id to identify a single resource among a list of resources encapsulated within "MyResources" and then operating on the "State" of that specific resource.

Format 2: http://localhost/MyResources/State?id=1
chooses the state of "MyResources" and provides id=1 as input to this state.

But web frameworks that I have worked with treat both formats similarly and do not make any distinction. The value of Id is parsed appropriately in both cases, provided the path handler is specified accordingly.


The REST apis exposed by the service I am developing will be used by different clients and they will be programming against it . All the clients will be backend services(HTML Form.Post() and ajax based UI applications are ruled out.)

So I would like to know if semantically if the query string formats make any difference to the client? ( The implementation part on the server is easy either ways)








--- On Wed, 7/9/08, Kevin Duffey &lt;andjarnic@...&gt; wrote:

From: Kevin Duffey &lt;andjarnic@...&gt;
Subject: Re: [rest-discuss] Query string format
To: rest-discuss@yahoogroups.com
Date: Wednesday, July 9, 2008, 4:32 PM








So I could be wrong here, but I thought what prashanthshenoyu describes is infact standard... in that..

http://localhost/ /MyResources/{Id}/State

would be parsed as MyResources/ 1/State would be a complete path to a specific MyResources instance (1), and with that, the State resource would be used?

At least in using the JSR-311 with Java, I would set up a path handler for /MyResources/ {id}/State and in that method handler I could get the ID and from it determine the State resource to work with, return, etc.

As for the other way around

http://localhost/ /MyResources/ State?Id =1

This would be a completely different resource, where MyResources/ State would be comparable to the above example of MyResources/ 1, but instead of a numeric id value, you're using State. From that, you are passing in to the State resource a query string of id=1, thus a key/value of id/1.

The first uri above seems to be a one extra resource handler. That is to say, if you had a

GET /MyResources
GET /MyResources/ 1
GET /MyResources/ 1/State

each would return something different.

The 2nd URI is a little different.. you only have 

GET /MyResources
GET /MyResources/ State

Now, I don't know if this is correct, I am very new to all this too, this is just my understanding of how it would work. If I am wrong, I am very interested in knowing why/how so I can learn more.

Thank you.


----- Original Message ----
From: Subbu Allamaraju &lt;subbu@subbu. org&gt;
To: prashanthshenoyu &lt;prashanthshenoyu@ yahoo.com&gt;
Cc: rest-discuss@ yahoogroups. com
Sent: Wednesday, July 9, 2008 8:03:38 AM
Subject: Re: [rest-discuss] Query string format

This is strictly implementation level detail. Unless you are expecting 
clients to manufacture URIs by using HTML forms or URI templates or 
some other pre-specified form, URIs is opaque to the client. It should 
not matter what form you choose for constructing query strings.

Subbu

On Jul 9, 2008, at 4:27 AM, prashanthshenoyu wrote:

&gt; I am currently developing a RESTful Web Service and will be using
&gt; query strings extensively.
&gt;
&gt; There seems to be no guide line regarding how to form the query
&gt; strings and parse it , in a uniform manner.
&gt;
&gt; For instance some frameworks like Windows Communication Foundation
&gt; treat query strings as a part of URI.
&gt;
&gt; For example http://localhost/ /MyResources/{Id}/State
&gt;
&gt; Here Id is treated as a query string and the value of Id is provided
&gt; as a part of URI
&gt;
&gt; Something like this -&gt; http://localhost/ /MyResources/ 1/State
&gt;
&gt; However most frameworks treat query strings as key value pairs.
&gt; Something like http://localhost/ /MyResources/ State?Id =1
&gt;
&gt; RFC 3986 says both mechanisms MAY be used.
&gt;
&gt; Is there a uniform format for specifying the query strings?
&gt;
&gt;
&gt; 


------------ --------- --------- ------

Yahoo! Groups Links




 














      </pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11028<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-07-10 10:12:38<br>
Subject:Adding parameters to content-types<br>
Message:<br><br>
<pre>Hey all,

 

We've talked very recently about adding random parameters to a content-type,
and someone mentioned it wasn't allowed. I re-read the spec and thought it
meant that any known parameter MUST be documented with the submission, but
didn't find anything defining the behaviour in case of unspecified
content-types being added.

 

IE8 has a feature that prevents mime sniffing by adding an
authoritative=true parameter to any content-type.

 

What's everyone opinion on it? Maybe it should be enforced that non-nomative
parameters to mime-types be prefixed with x. or x-?

 

Seb

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11029<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-07-10 12:41:19<br>
Subject:Re: Query string format<br>
Message:<br><br>
<pre>Hi Prashanth,

* Prashanth Shenoy &lt;prashanthshenoyu@...&gt; [2008-07-10 10:40]:
&gt; Semantically the two formats of the query string seem to be
&gt; different to me 
&gt; 
&gt; Format 1 : http://localhost/MyResources/1/State
&gt; In this case I am using the Id to identify a single resource
&gt; among a list of resources encapsulated within "MyResources" and
&gt; then operating on the "State" of that specific resource. 

actually, the URI carries no semantics at all, as far as clients
are concerned. The server may parse the URI, but to clients it is
nothing more than a slightly structured but opaque string. (The
structural aspect is that you can compose relative URIs. You do
not convey meaning in that way, however.)

&gt; Format 2: http://localhost/MyResources/State?id=1
&gt; chooses the state of "MyResources" and provides id=1 as input
&gt; to this state.

This is what I meant by RPCish thinking. This is more like a
function call, where the URI names the function and the query
string supplies the parameters. There is a resource in your app,
but its only selected by a private numeric identifier passed to
various functions.

In contrast, in the other case, you should think of the entire
http://localhost/MyResources/1 as the identifier of the
resource in question. Its not just the record with the primary
key 1 that you retrieve via http://localhost/MyResources/. In
other words, the 2nd resource might just as well have the URI
http://example.com/res/two with both of them belonging to the
same collection.

In practice that doesnt happen much, but it might  as a small
example, LiveJournal and various 37Signals apps include the
username in the hostname.

A practical benefit of thinking in this terms is that it makes it
easier to use reverse proxy caches to route traffic based purely
on features of the URI space, so that you can at least partially
push partitioning concerns out of your code and make it largely
a concern of deployment. Small pieces loosely coupled.

&gt; So I would like to know if semantically if the query string
&gt; formats make any difference to the client?

No, none.

In a properly REST-respecting situation, the client only follows
links and submits forms without parsing URIs or constructing them
based on out-of-band information (such as some kind of service
document).

So to the client it really doesnt matter at all how the URIs
look.

The only pragmatic consideration you *might* have is that its
easier to construct key-value query strings using HTML forms
alone, whereas instructing the client about how to construct
other parts of the URI at run time is reserved for programmatic
clients or Ajax.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11030<br>
Sender:Erik Hetzner &lt;erik.hetzner@...&gt;<br>
Post Date/Time:2008-07-10 17:35:06<br>
Subject:Re: [rest-discuss] Query string format<br>
Message:<br><br>
<pre>At Wed, 9 Jul 2008 20:28:13 -0700,
Subbu Allamaraju &lt;subbu@...&gt; wrote:
&gt; []
&gt;
&gt; That's an interesting conclusion to come to. By that conclusion,
&gt; most of cache hits on the web will be negative - i.e.,
&gt; http://mystore.com, http://mystore.com/product?id=1 and
&gt; http://mystore.com/product?id=2 will all be treated equivalent by
&gt; caches. It would be a confusing web indeed ;)
&gt; 
&gt; I am not a squid expert, but the link
&gt; [http://wiki.squid-cache.org/Features/StoreUrlRewrite ] does not
&gt; have anything to do with ignoring query strings from URIs. The only
&gt; thing relevant I notice is the DENY setting for URIs containing
&gt; cgi-bin. This setting is still questionable, but there may be some
&gt; historical reasons for that.

I think the relevant text from [1] is:

| These rules make sure that you don't try caching cgi-bin and ? URLs
| unless expiry information is explictly given.

which conforms with the text of 2616, that:

| [] since some applications have traditionally used GETs and HEADs
| with query URLs (those containing a "?" in the rel_path part) to
| perform operations with significant side effects, caches MUST NOT
| treat responses to such URIs as fresh unless the server provides an
| explicit expiration time.

In any case I think that there is some confusion in this thread,
between a) treating the URIs:

http://example.org/index
http://example.org/index?query=foo
http://example.org/index?query=bar

as equivalent and giving them the same representation, which I cant
imagine any cache ever being broken enough to do, and b) treating any
URI with a query string as uncacheable, which only seems
marginally broken.

best,
Erik Hetzner

1. http://wiki.squid-cache.org/Features/StoreUrlRewrite
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11031<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-07-10 18:49:42<br>
Subject:Re: [rest-discuss] Query string format<br>
Message:<br><br>
<pre>
On Jul 10, 2008, at 10:35 AM, Erik Hetzner wrote:

&gt; At Wed, 9 Jul 2008 20:28:13 -0700,
&gt; Subbu Allamaraju &lt;subbu@...&gt; wrote:
&gt;&gt; []
&gt;&gt;
&gt;&gt; That's an interesting conclusion to come to. By that conclusion,
&gt;&gt; most of cache hits on the web will be negative - i.e.,
&gt;&gt; http://mystore.com, http://mystore.com/product?id=1 and
&gt;&gt; http://mystore.com/product?id=2 will all be treated equivalent by
&gt;&gt; caches. It would be a confusing web indeed ;)
&gt;&gt;
&gt;&gt; I am not a squid expert, but the link
&gt;&gt; [http://wiki.squid-cache.org/Features/StoreUrlRewrite ] does not
&gt;&gt; have anything to do with ignoring query strings from URIs. The only
&gt;&gt; thing relevant I notice is the DENY setting for URIs containing
&gt;&gt; cgi-bin. This setting is still questionable, but there may be some
&gt;&gt; historical reasons for that.
&gt;
&gt; I think the relevant text from [1] is:
&gt;
&gt; | These rules make sure that you don't try caching cgi-bin and ? URLs
&gt; | unless expiry information is explictly given.
&gt;
&gt; which conforms with the text of 2616, that:
&gt;
&gt; | [] since some applications have traditionally used GETs and HEADs
&gt; | with query URLs (those containing a "?" in the rel_path part) to
&gt; | perform operations with significant side effects, caches MUST NOT
&gt; | treat responses to such URIs as fresh unless the server provides an
&gt; | explicit expiration time.

Today, this directive from 2616 is mostly meaningless since rewrite  
rules can be used to turn query params into path segments and vice  
versa, and so caching without expiration remains a guessing game.

&gt; In any case I think that there is some confusion in this thread,
&gt; between a) treating the URIs:
&gt;
&gt; http://example.org/index
&gt; http://example.org/index?query=foo
&gt; http://example.org/index?query=bar
&gt;
&gt; as equivalent and giving them the same representation, which I cant
&gt; imagine any cache ever being broken enough to do, and b) treating any
&gt; URI with a query string as uncacheable, which only seems
&gt; marginally broken.

I agree. The reference [1] is only concerned about (b), while Craig's  
response was referring to (a). These are unrelated.

Subbu
http://subbu.org
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11032<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-07-10 19:54:00<br>
Subject:Re: [rest-discuss] HOW DO WE PREVENT DYNAMIC CACHING IN BROWSER IN AJAX APPLICATIONS<br>
Message:<br><br>
<pre>By using proper caching headers. See, e.g. http://www.subbu.org/weblogs/main/2005/10/xmlhttprequest.html

Subbu

On Jul 9, 2008, at 11:43 PM, vikranth katanguri wrote:

&gt;
&gt; Hi All,
&gt; I have a small clarifications,
&gt;
&gt;     HOW DO WE PREVENT DYNAMIC CACHING IN BROWSER IN AJAX APPLICATIONS.
&gt;
&gt; Thanks,
&gt; Vikranth
&gt;
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11033<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-07-10 20:02:41<br>
Subject:Re: [rest-discuss] Query string format<br>
Message:<br><br>
<pre>Craig McClanahan wrote:

&gt; Of course, that still begs a question that bothers me about using
&gt; request parameters as part of a resource identifier, especially when
&gt; there is more than one identifier. Do the following URLs specify the
&gt; same resource?
&gt; 
&gt; http://localhost/mysubresource?foo=bar&amp;baz=bop 
&gt; &lt;http://localhost/mysubresource?foo=bar&amp;baz=bop&gt;
&gt; 
&gt; http://localhost/mysubresource?baz=bop&amp;foo=bar 
&gt; &lt;http://localhost/mysubresource?baz=bop&amp;foo=bar&gt;

The resource to my mind is "http://localhost/mysubresource". In other 
words most of these problems go away if you avoid using parameters to 
identify things. They're good for querying (of course), good for 
services, and good for managing coordinate spaces. They're weak sauce 
for identification. You can guess what I think of most web frameworks as 
a result :)

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11034<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-07-10 21:19:29<br>
Subject:Re: [rest-discuss] Query string format<br>
Message:<br><br>
<pre>
On Jul 10, 2008, at 1:02 PM, Bill de hOra wrote:

&gt; You can guess what I think of most web frameworks as a result :)

Not to mention how badly some of these innovative(?) frameworks treat  
caching, and their particular distaste for GET ...

Subbu

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11035<br>
Sender:"Brian Smith" &lt;brian@...&gt;<br>
Post Date/Time:2008-07-11 01:38:05<br>
Subject:RE: [rest-discuss] Query string format<br>
Message:<br><br>
<pre>Subbu Allamaraju wrote:
&gt; &gt; there is more than one identifier.  Do the following URLs 
&gt; &gt; specify the same resource?
&gt; &gt;
&gt; &gt;   http://localhost/mysubresource?foo=bar&amp;baz=bop
&gt; &gt;
&gt; &gt;   http://localhost/mysubresource?baz=bop&amp;foo=bar
&gt; &gt;
&gt; 
&gt; That's good point. They do not represent the same resource. 
&gt; If the sever thinks that the resource is indeed the same, it 
&gt; could very well use the Content-Location header, as in
&gt; 
&gt; GET /mysubresource?baz=bop&amp;foo=bar
&gt; 
&gt; 200 OK
&gt; Content-Location: http://localhost/mysubresource?foo=bar&amp;baz=bop
&gt; 
&gt; so that caches can treat both resources the same.

A cache is not allowed to do that: "A cache cannot assume that an entity
with a Content-Location different from the URI used to retrieve it can be
used to respond to later requests on that Content-Location URI." -
http://tools.ietf.org/html/rfc2616#section-14.14

- Brian


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11036<br>
Sender:Sergio Andreozzi &lt;sergio.andreozzi@...&gt;<br>
Post Date/Time:2008-07-11 13:40:53<br>
Subject:on the HTTP operations on multiple resources<br>
Message:<br><br>
<pre>Dear all,

I'm dealing with the issue of defining a REST-oriented API. I need to 
define operations working on multiple resources at the same time.

I'm aware that HTTP does not support this feature, nevertheless 
extensions or best practice exist. So far, I found out the following ones:

1. WEBDAV
http://www.ietf.org/rfc/rfc2518.txt
introduces the concept of collections and multi-status (207)

2. Atom Publishing Protocol
http://www.ietf.org/rfc/rfc5023.txt
introduces the concept of collections, nevertheless batch operations 
seem not to be supported

3. the GDATA API and batch operations
the Google Data API defines a way to handle batch operations (they can 
be also heterogeneous)
http://code.google.com/apis/gdata/batch.html

4. the book RESTFul Web Services
it mentions the possibility of URI embedding (i.e., concatenating 
multiple URIs in one using ";") and the WEBDAV 207 multi-status code
(the URI concatenation seems not to be a "standard" feature)


I'd like to ask about other approaches or best practice that you may 
have taken with regards to this issue.

Thanks, Sergio




-- 
Sergio Andreozzi
INFN-CNAF,                    Tel: +39 051 609 2860
Viale Berti Pichat, 6/2       Fax: +39 051 609 2746
40126 Bologna (Italy)         Web: http://www.cnaf.infn.it/~andreozzi

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11037<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-07-11 14:32:40<br>
Subject:Re: [rest-discuss] Query string format<br>
Message:<br><br>
<pre>Thanks for picking up. I missed that.

On Jul 10, 2008, at 6:38 PM, Brian Smith wrote:

&gt; A cache is not allowed to do that: "A cache cannot assume that an  
&gt; entity
&gt; with a Content-Location different from the URI used to retrieve it  
&gt; can be
&gt; used to respond to later requests on that Content-Location URI." -
&gt; http://tools.ietf.org/html/rfc2616#section-14.14


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11038<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2008-07-11 23:54:11<br>
Subject:Re: [rest-discuss] on the HTTP operations on multiple resources<br>
Message:<br><br>
<pre>On Jul 11, 2008, at 6:40 AM, Sergio Andreozzi wrote:
&gt; I'm dealing with the issue of defining a REST-oriented API. I need to
&gt; define operations working on multiple resources at the same time.
&gt;

Just define a resource that maps to all of the resources you intend
to operate upon.  Resources often overlap.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11039<br>
Sender:Sebastien Lambla &lt;seb@...&gt;<br>
Post Date/Time:2008-07-13 21:14:51<br>
Subject:RE: [rest-discuss] Re: Satus-code "201" and common Web browsers circa 2008<br>
Message:<br><br>
<pre>Sorry for the late reply, just noticed the message now.
 
This is what I was suggesting
 
POST /resources
[...]
 
201 Created
Location: /resources/myResource
 
&lt;html&gt;
  &lt;head&gt;
    &lt;meta http-equiv="refresh" content="0;http://myserver/resources/myResource" /&gt;
  &lt;/head&gt;
  &lt;body&gt;&lt;a href="/resources/myResource"&gt;Your resource has been created&lt;/a&gt;&lt;/body&gt;
&lt;/html&gt;
 
 
Let's see the flow
 
303
GET /resourceEditor -&gt; 200 *
POST /resources -&gt; 303 *
GET /resources/myNewResource 200 *
 
201:
GET /resourceEditor -&gt; 200
POST /resources -&gt; 201 (html) *
GET /resources/myNewResource
 
Both flows prevent the issue with posting again when refreshing. You woudl think the difference would be in the back button, but the 201 response doesn't enter the browser's cache history and a back will send you back to /resourceEditor. (tested with safari 3, firefox 3 and ie 7, not sure what ie6 behavior is as i dont have a vm handy)
 
Hence my suggestion that really, there is no issue with returning a 201.
 
 
 



http://clk.atdmt.com/UKM/go/101719649/direct/01/</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11040<br>
Sender:"zfade3" &lt;jimmy.zimmerman@...&gt;<br>
Post Date/Time:2008-07-14 22:16:02<br>
Subject:REST Tools and Utilities<br>
Message:<br><br>
<pre>Hi All,

I'm looking for tools/utilities that may help developers in developing
with a RESTful API. 

For example, one utility I have found helpful is the Firefox extension
named Poster (https://addons.mozilla.org/en-US/firefox/addon/2691)
which enables you to do GET, PUT, POST, etc. with any kind of data
(XML, JSON, etc) and modify headers being sent.

Do you all know of any other good utilities like this one, or
utilities that have been particularly useful in your development?

I'm looking for anything that may help with the following:

* in setting up environments for testing
* generating test data based on XML schema
* mock web service servers that you can run on a local machine so that
you don't have to send requests over the wire in unit/component tests.
* XML comparison
* Anything else that you have found to be very helpful

Thank you.

Jimmy Z


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11041<br>
Sender:Jerome Louvel &lt;contact@...&gt;<br>
Post Date/Time:2008-07-15 17:39:54<br>
Subject:Re: REST Tools and Utilities<br>
Message:<br><br>
<pre>Hi Jimmy,

With Restlet (REST toolkit for Java, http://www.restlet.org), you can 
easily create mock requests to locally test your resources and 
applications.

This can indeed speed up tests and let you focus on the business logic. 
The communication layer can be tested separately.

Best regards,
Jrme Louvel
--
*Noelios Consulting*
http://www.noelios.com

zfade3 a crit :
&gt;
&gt; Hi All,
&gt;
&gt; I'm looking for tools/utilities that may help developers in developing
&gt; with a RESTful API.
&gt;
&gt; For example, one utility I have found helpful is the Firefox extension
&gt; named Poster (https://addons.mozilla.org/en-US/firefox/addon/2691 
&gt; &lt;https://addons.mozilla.org/en-US/firefox/addon/2691&gt;)
&gt; which enables you to do GET, PUT, POST, etc. with any kind of data
&gt; (XML, JSON, etc) and modify headers being sent.
&gt;
&gt; Do you all know of any other good utilities like this one, or
&gt; utilities that have been particularly useful in your development?
&gt;
&gt; I'm looking for anything that may help with the following:
&gt;
&gt; * in setting up environments for testing
&gt; * generating test data based on XML schema
&gt; * mock web service servers that you can run on a local machine so that
&gt; you don't have to send requests over the wire in unit/component tests.
&gt; * XML comparison
&gt; * Anything else that you have found to be very helpful
&gt;
&gt; Thank you.
&gt;
&gt; Jimmy Z
&gt;
&gt;  

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11042<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-07-15 17:53:39<br>
Subject:Re: [rest-discuss] Re: REST Tools and Utilities<br>
Message:<br><br>
<pre>I use the following on my Windows machines:

Firefox w/ Firebug, Live HTTP Headers, and View Source Chart (to do
client-side debugging)
WFetch.exe (to do HTTP-level debugging and testing)
MSFT Visual Studio/Visual Web Developer[free] (to do server-side debugging)

MikeA

On Tue, Jul 15, 2008 at 1:39 PM, Jerome Louvel &lt;contact@...&gt; wrote:
&gt; Hi Jimmy,
&gt;
&gt; With Restlet (REST toolkit for Java, http://www.restlet.org), you can easily
&gt; create mock requests to locally test your resources and applications.
&gt;
&gt; This can indeed speed up tests and let you focus on the business logic. The
&gt; communication layer can be tested separately.
&gt;
&gt; Best regards,
&gt; Jrme Louvel
&gt; --
&gt; Noelios Consulting
&gt; http://www.noelios.com
&gt;
&gt; zfade3 a crit :
&gt;
&gt; Hi All,
&gt;
&gt; I'm looking for tools/utilities that may help developers in developing
&gt; with a RESTful API.
&gt;
&gt; For example, one utility I have found helpful is the Firefox extension
&gt; named Poster (https://addons.mozilla.org/en-US/firefox/addon/2691)
&gt; which enables you to do GET, PUT, POST, etc. with any kind of data
&gt; (XML, JSON, etc) and modify headers being sent.
&gt;
&gt; Do you all know of any other good utilities like this one, or
&gt; utilities that have been particularly useful in your development?
&gt;
&gt; I'm looking for anything that may help with the following:
&gt;
&gt; * in setting up environments for testing
&gt; * generating test data based on XML schema
&gt; * mock web service servers that you can run on a local machine so that
&gt; you don't have to send requests over the wire in unit/component tests.
&gt; * XML comparison
&gt; * Anything else that you have found to be very helpful
&gt;
&gt; Thank you.
&gt;
&gt; Jimmy Z
&gt;
&gt;
&gt; 



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11043<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-07-15 18:54:16<br>
Subject:Re: [rest-discuss] Re: REST Tools and Utilities<br>
Message:<br><br>
<pre>I haven't used it much , but I saw fiddler2 and thought it was
awesome. I can really see being able to do lotsa stuff with it and
imho its more usable.

-devdatta

2008/7/15 mike amundsen &lt;mamund@...&gt;:
&gt; I use the following on my Windows machines:
&gt;
&gt; Firefox w/ Firebug, Live HTTP Headers, and View Source Chart (to do
&gt; client-side debugging)
&gt; WFetch.exe (to do HTTP-level debugging and testing)
&gt; MSFT Visual Studio/Visual Web Developer[free] (to do server-side debugging)
&gt;
&gt; MikeA
&gt;
&gt; On Tue, Jul 15, 2008 at 1:39 PM, Jerome Louvel &lt;contact@...&gt; wrote:
&gt;&gt; Hi Jimmy,
&gt;&gt;
&gt;&gt; With Restlet (REST toolkit for Java, http://www.restlet.org), you can
&gt;&gt; easily
&gt;&gt; create mock requests to locally test your resources and applications.
&gt;&gt;
&gt;&gt; This can indeed speed up tests and let you focus on the business logic.
&gt;&gt; The
&gt;&gt; communication layer can be tested separately.
&gt;&gt;
&gt;&gt; Best regards,
&gt;&gt; Jrme Louvel
&gt;&gt; --
&gt;&gt; Noelios Consulting
&gt;&gt; http://www.noelios.com
&gt;&gt;
&gt;&gt; zfade3 a crit :
&gt;&gt;
&gt;&gt; Hi All,
&gt;&gt;
&gt;&gt; I'm looking for tools/utilities that may help developers in developing
&gt;&gt; with a RESTful API.
&gt;&gt;
&gt;&gt; For example, one utility I have found helpful is the Firefox extension
&gt;&gt; named Poster (https://addons.mozilla.org/en-US/firefox/addon/2691)
&gt;&gt; which enables you to do GET, PUT, POST, etc. with any kind of data
&gt;&gt; (XML, JSON, etc) and modify headers being sent.
&gt;&gt;
&gt;&gt; Do you all know of any other good utilities like this one, or
&gt;&gt; utilities that have been particularly useful in your development?
&gt;&gt;
&gt;&gt; I'm looking for anything that may help with the following:
&gt;&gt;
&gt;&gt; * in setting up environments for testing
&gt;&gt; * generating test data based on XML schema
&gt;&gt; * mock web service servers that you can run on a local machine so that
&gt;&gt; you don't have to send requests over the wire in unit/component tests.
&gt;&gt; * XML comparison
&gt;&gt; * Anything else that you have found to be very helpful
&gt;&gt;
&gt;&gt; Thank you.
&gt;&gt;
&gt;&gt; Jimmy Z
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
&gt; --
&gt; mca
&gt; http://amundsen.com/blog/
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11044<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-07-15 18:58:28<br>
Subject:Re: [rest-discuss] Re: REST Tools and Utilities<br>
Message:<br><br>
<pre>dev:

I've had trouble w/ Fiddler and localhost.  WFetch offers almost all
the same functionality for me and I don't need to set a proxy on my
browser [grin].
Maybe I just need some schooling on how to setup and use Fiddler.

MikeA

On Tue, Jul 15, 2008 at 2:54 PM, dev &lt;dev.akhawe@...&gt; wrote:
&gt; I haven't used it much , but I saw fiddler2 and thought it was
&gt; awesome. I can really see being able to do lotsa stuff with it and
&gt; imho its more usable.
&gt;
&gt; -devdatta
&gt;
&gt; 2008/7/15 mike amundsen &lt;mamund@...&gt;:
&gt;&gt; I use the following on my Windows machines:
&gt;&gt;
&gt;&gt; Firefox w/ Firebug, Live HTTP Headers, and View Source Chart (to do
&gt;&gt; client-side debugging)
&gt;&gt; WFetch.exe (to do HTTP-level debugging and testing)
&gt;&gt; MSFT Visual Studio/Visual Web Developer[free] (to do server-side debugging)
&gt;&gt;
&gt;&gt; MikeA
&gt;&gt;
&gt;&gt; On Tue, Jul 15, 2008 at 1:39 PM, Jerome Louvel &lt;contact@...&gt; wrote:
&gt;&gt;&gt; Hi Jimmy,
&gt;&gt;&gt;
&gt;&gt;&gt; With Restlet (REST toolkit for Java, http://www.restlet.org), you can
&gt;&gt;&gt; easily
&gt;&gt;&gt; create mock requests to locally test your resources and applications.
&gt;&gt;&gt;
&gt;&gt;&gt; This can indeed speed up tests and let you focus on the business logic.
&gt;&gt;&gt; The
&gt;&gt;&gt; communication layer can be tested separately.
&gt;&gt;&gt;
&gt;&gt;&gt; Best regards,
&gt;&gt;&gt; Jrme Louvel
&gt;&gt;&gt; --
&gt;&gt;&gt; Noelios Consulting
&gt;&gt;&gt; http://www.noelios.com
&gt;&gt;&gt;
&gt;&gt;&gt; zfade3 a crit :
&gt;&gt;&gt;
&gt;&gt;&gt; Hi All,
&gt;&gt;&gt;
&gt;&gt;&gt; I'm looking for tools/utilities that may help developers in developing
&gt;&gt;&gt; with a RESTful API.
&gt;&gt;&gt;
&gt;&gt;&gt; For example, one utility I have found helpful is the Firefox extension
&gt;&gt;&gt; named Poster (https://addons.mozilla.org/en-US/firefox/addon/2691)
&gt;&gt;&gt; which enables you to do GET, PUT, POST, etc. with any kind of data
&gt;&gt;&gt; (XML, JSON, etc) and modify headers being sent.
&gt;&gt;&gt;
&gt;&gt;&gt; Do you all know of any other good utilities like this one, or
&gt;&gt;&gt; utilities that have been particularly useful in your development?
&gt;&gt;&gt;
&gt;&gt;&gt; I'm looking for anything that may help with the following:
&gt;&gt;&gt;
&gt;&gt;&gt; * in setting up environments for testing
&gt;&gt;&gt; * generating test data based on XML schema
&gt;&gt;&gt; * mock web service servers that you can run on a local machine so that
&gt;&gt;&gt; you don't have to send requests over the wire in unit/component tests.
&gt;&gt;&gt; * XML comparison
&gt;&gt;&gt; * Anything else that you have found to be very helpful
&gt;&gt;&gt;
&gt;&gt;&gt; Thank you.
&gt;&gt;&gt;
&gt;&gt;&gt; Jimmy Z
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; --
&gt;&gt; mca
&gt;&gt; http://amundsen.com/blog/
&gt;&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11045<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-07-15 19:23:31<br>
Subject:Re: [rest-discuss] Re: REST Tools and Utilities<br>
Message:<br><br>
<pre>I've got some bookmarks on del.icio.us that you will likely find help:

http://del.icio.us/alan.dean/fiddler

Regards,
Alan Dean

On Tue, Jul 15, 2008 at 7:58 PM, mike amundsen &lt;mamund@yahoo.com&gt; wrote:
&gt; dev:
&gt;
&gt; I've had trouble w/ Fiddler and localhost. WFetch offers almost all
&gt; the same functionality for me and I don't need to set a proxy on my
&gt; browser [grin].
&gt; Maybe I just need some schooling on how to setup and use Fiddler.
&gt;
&gt; MikeA
&gt;
&gt; On Tue, Jul 15, 2008 at 2:54 PM, dev &lt;dev.akhawe@gmail.com&gt; wrote:
&gt;&gt; I haven't used it much , but I saw fiddler2 and thought it was
&gt;&gt; awesome. I can really see being able to do lotsa stuff with it and
&gt;&gt; imho its more usable.
&gt;&gt;
&gt;&gt; -devdatta
&gt;&gt;
&gt;&gt; 2008/7/15 mike amundsen &lt;mamund@yahoo.com&gt;:
&gt;&gt;&gt; I use the following on my Windows machines:
&gt;&gt;&gt;
&gt;&gt;&gt; Firefox w/ Firebug, Live HTTP Headers, and View Source Chart (to do
&gt;&gt;&gt; client-side debugging)
&gt;&gt;&gt; WFetch.exe (to do HTTP-level debugging and testing)
&gt;&gt;&gt; MSFT Visual Studio/Visual Web Developer[free] (to do server-side
&gt;&gt;&gt; debugging)
&gt;&gt;&gt;
&gt;&gt;&gt; MikeA
&gt;&gt;&gt;
&gt;&gt;&gt; On Tue, Jul 15, 2008 at 1:39 PM, Jerome Louvel &lt;contact@noelios.com&gt;
&gt;&gt;&gt; wrote:
&gt;&gt;&gt;&gt; Hi Jimmy,
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; With Restlet (REST toolkit for Java, http://www.restlet.org), you can
&gt;&gt;&gt;&gt; easily
&gt;&gt;&gt;&gt; create mock requests to locally test your resources and applications.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; This can indeed speed up tests and let you focus on the business logic.
&gt;&gt;&gt;&gt; The
&gt;&gt;&gt;&gt; communication layer can be tested separately.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Best regards,
&gt;&gt;&gt;&gt; Jrme Louvel
&gt;&gt;&gt;&gt; --
&gt;&gt;&gt;&gt; Noelios Consulting
&gt;&gt;&gt;&gt; http://www.noelios.com
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; zfade3 a crit :
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Hi All,
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; I'm looking for tools/utilities that may help developers in developing
&gt;&gt;&gt;&gt; with a RESTful API.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; For example, one utility I have found helpful is the Firefox extension
&gt;&gt;&gt;&gt; named Poster (https://addons.mozilla.org/en-US/firefox/addon/2691)
&gt;&gt;&gt;&gt; which enables you to do GET, PUT, POST, etc. with any kind of data
&gt;&gt;&gt;&gt; (XML, JSON, etc) and modify headers being sent.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Do you all know of any other good utilities like this one, or
&gt;&gt;&gt;&gt; utilities that have been particularly useful in your development?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; I'm looking for anything that may help with the following:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; * in setting up environments for testing
&gt;&gt;&gt;&gt; * generating test data based on XML schema
&gt;&gt;&gt;&gt; * mock web service servers that you can run on a local machine so that
&gt;&gt;&gt;&gt; you don't have to send requests over the wire in unit/component tests.
&gt;&gt;&gt;&gt; * XML comparison
&gt;&gt;&gt;&gt; * Anything else that you have found to be very helpful
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Thank you.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Jimmy Z
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; --
&gt;&gt;&gt; mca
&gt;&gt;&gt; http://amundsen.com/blog/
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; ------------------------------------
&gt;&gt;
&gt;&gt; Yahoo! Groups Links
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
&gt; --
&gt; mca
&gt; http://amundsen.com/blog/
&gt; 
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11046<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-07-15 19:38:36<br>
Subject:Re: [rest-discuss] Re: REST Tools and Utilities<br>
Message:<br><br>
<pre>Alan:

Thanks. I'll check these out.

MikeA

On Tue, Jul 15, 2008 at 3:23 PM, Alan Dean &lt;alan.dean@...&gt; wrote:
&gt; I've got some bookmarks on del.icio.us that you will likely find help:
&gt;
&gt; http://del.icio.us/alan.dean/fiddler
&gt;
&gt; Regards,
&gt; Alan Dean
&gt;
&gt; On Tue, Jul 15, 2008 at 7:58 PM, mike amundsen &lt;mamund@...&gt; wrote:
&gt;&gt; dev:
&gt;&gt;
&gt;&gt; I've had trouble w/ Fiddler and localhost. WFetch offers almost all
&gt;&gt; the same functionality for me and I don't need to set a proxy on my
&gt;&gt; browser [grin].
&gt;&gt; Maybe I just need some schooling on how to setup and use Fiddler.
&gt;&gt;
&gt;&gt; MikeA
&gt;&gt;
&gt;&gt; On Tue, Jul 15, 2008 at 2:54 PM, dev &lt;dev.akhawe@...&gt; wrote:
&gt;&gt;&gt; I haven't used it much , but I saw fiddler2 and thought it was
&gt;&gt;&gt; awesome. I can really see being able to do lotsa stuff with it and
&gt;&gt;&gt; imho its more usable.
&gt;&gt;&gt;
&gt;&gt;&gt; -devdatta
&gt;&gt;&gt;
&gt;&gt;&gt; 2008/7/15 mike amundsen &lt;mamund@...&gt;:
&gt;&gt;&gt;&gt; I use the following on my Windows machines:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Firefox w/ Firebug, Live HTTP Headers, and View Source Chart (to do
&gt;&gt;&gt;&gt; client-side debugging)
&gt;&gt;&gt;&gt; WFetch.exe (to do HTTP-level debugging and testing)
&gt;&gt;&gt;&gt; MSFT Visual Studio/Visual Web Developer[free] (to do server-side
&gt;&gt;&gt;&gt; debugging)
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; MikeA
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; On Tue, Jul 15, 2008 at 1:39 PM, Jerome Louvel &lt;contact@noelios.com&gt;
&gt;&gt;&gt;&gt; wrote:
&gt;&gt;&gt;&gt;&gt; Hi Jimmy,
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; With Restlet (REST toolkit for Java, http://www.restlet.org), you can
&gt;&gt;&gt;&gt;&gt; easily
&gt;&gt;&gt;&gt;&gt; create mock requests to locally test your resources and applications.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; This can indeed speed up tests and let you focus on the business logic.
&gt;&gt;&gt;&gt;&gt; The
&gt;&gt;&gt;&gt;&gt; communication layer can be tested separately.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Best regards,
&gt;&gt;&gt;&gt;&gt; Jrme Louvel
&gt;&gt;&gt;&gt;&gt; --
&gt;&gt;&gt;&gt;&gt; Noelios Consulting
&gt;&gt;&gt;&gt;&gt; http://www.noelios.com
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; zfade3 a crit :
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Hi All,
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; I'm looking for tools/utilities that may help developers in developing
&gt;&gt;&gt;&gt;&gt; with a RESTful API.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; For example, one utility I have found helpful is the Firefox extension
&gt;&gt;&gt;&gt;&gt; named Poster (https://addons.mozilla.org/en-US/firefox/addon/2691)
&gt;&gt;&gt;&gt;&gt; which enables you to do GET, PUT, POST, etc. with any kind of data
&gt;&gt;&gt;&gt;&gt; (XML, JSON, etc) and modify headers being sent.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Do you all know of any other good utilities like this one, or
&gt;&gt;&gt;&gt;&gt; utilities that have been particularly useful in your development?
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; I'm looking for anything that may help with the following:
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; * in setting up environments for testing
&gt;&gt;&gt;&gt;&gt; * generating test data based on XML schema
&gt;&gt;&gt;&gt;&gt; * mock web service servers that you can run on a local machine so that
&gt;&gt;&gt;&gt;&gt; you don't have to send requests over the wire in unit/component tests.
&gt;&gt;&gt;&gt;&gt; * XML comparison
&gt;&gt;&gt;&gt;&gt; * Anything else that you have found to be very helpful
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Thank you.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Jimmy Z
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; --
&gt;&gt;&gt;&gt; mca
&gt;&gt;&gt;&gt; http://amundsen.com/blog/
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; ------------------------------------
&gt;&gt;&gt;
&gt;&gt;&gt; Yahoo! Groups Links
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; --
&gt;&gt; mca
&gt;&gt; http://amundsen.com/blog/
&gt;&gt; 
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11047<br>
Sender:Sergio Andreozzi &lt;sergio.andreozzi@...&gt;<br>
Post Date/Time:2008-07-16 10:16:58<br>
Subject:Re: [rest-discuss] on the HTTP operations on multiple resources<br>
Message:<br><br>
<pre>Dear Roy,

I'm really glad to get your feedback. Let me elaborate more below on my 
scenario:

Roy T. Fielding wrote:
&gt; On Jul 11, 2008, at 6:40 AM, Sergio Andreozzi wrote:
&gt;&gt; I'm dealing with the issue of defining a REST-oriented API. I need to
&gt;&gt; define operations working on multiple resources at the same time.
&gt;&gt;
&gt; 
&gt; Just define a resource that maps to all of the resources you intend
&gt; to operate upon.  Resources often overlap.

the service for which we are trying to define a RESTful API should 
handle in the order of thousands of resources with the following 
characteristics:

- lifecycle: resources can be dynamically created by clients and may 
last from minutes to hours
- state: each resource has a state, which can be read and modified by 
clients

the specific need for HTTP operation on multiple resources is about the
ability for clients to query (or update) the state of a list of 
specified resources (via their ID/URI).

current ideas:
a. resource URI: http://.../resource/IDx
b. resource state URI: http://.../resource/IDx/state
c. resource state set URI: 
http://.../resource/ID1/state;ID2/state;...;IDn/state

c. can be a possible URI structure for the resource set. We want to 
enable clients to ask for the status of a certain number of resources at 
once (this is a requirement).
In that case, we need to handle the possibility of having many different 
HTTP response code (e.g., some resource may not exist, for others the 
client may not be authorized).

Our open questions are:

1. is it the proposed URI structure for the resource set a good choice?
2. for the multi-status code, should we consider what was done in WEBDAV 
with the 207 status code? Another possibility which is used by other 
REST interfaces is to have the service return a "202 Accepted" status 
code, and let the HTTP response body contain detailed status 
informations for each resource (e.g. using an appropriate XML document).


thanks in advance, Sergio


-- 
Sergio Andreozzi
INFN-CNAF,                    Tel: +39 051 609 2860
Viale Berti Pichat, 6/2       Fax: +39 051 609 2746
40126 Bologna (Italy)         Web: http://www.cnaf.infn.it/~andreozzi

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11048<br>
Sender:"jm04469" &lt;james@...&gt;<br>
Post Date/Time:2008-07-16 11:35:09<br>
Subject:Certification for IT Professionals<br>
Message:<br><br>
<pre>The Open Web Application Security Project (OWASP) is working on 
creating a certification targeted at software development
professionals. The survey is located here:
http://www.surveymonkey.com/s.aspx?sm=mPXlkuSXdePFRiS79VL8Sg_3d_3d
 
The survey closes on Friday July 25th so please complete survey as
soon as possible...


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11049<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-07-16 18:03:48<br>
Subject:Re: [rest-discuss] on the HTTP operations on multiple resources<br>
Message:<br><br>
<pre>&gt; 1. is it the proposed URI structure for the resource set a good choice?

Don't spend tooo much time thinking about the URI structure design ,
it doesn't really matter.

Have you remembered to link together stuff ?

Possibly you should think about how you would use it if you were human
- you would probably have a main page with a bunch of checkboxes
denoting which resources you want to work on, ticking the set of
checkboxes and doing submit (via GET) would take you to a page with
those resources. Model it exactly like that.

But as I said, it doesn't matter much.


&gt; 2. for the multi-status code, should we consider what was done in WEBDAV
&gt; with the 207 status code? Another possibility which is used by other
&gt; REST interfaces is to have the service return a "202 Accepted" status
&gt; code, and let the HTTP response body contain detailed status
&gt; informations for each resource (e.g. using an appropriate XML document).
&gt;

202 would imply that everything was accepted. If a few are wrong, then
you might need 207.


-devdatta

2008/7/16 Sergio Andreozzi &lt;sergio.andreozzi@...&gt;:
&gt; Dear Roy,
&gt;
&gt; I'm really glad to get your feedback. Let me elaborate more below on my
&gt; scenario:
&gt;
&gt; Roy T. Fielding wrote:
&gt;&gt; On Jul 11, 2008, at 6:40 AM, Sergio Andreozzi wrote:
&gt;&gt;&gt; I'm dealing with the issue of defining a REST-oriented API. I need to
&gt;&gt;&gt; define operations working on multiple resources at the same time.
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; Just define a resource that maps to all of the resources you intend
&gt;&gt; to operate upon. Resources often overlap.
&gt;
&gt; the service for which we are trying to define a RESTful API should
&gt; handle in the order of thousands of resources with the following
&gt; characteristics:
&gt;
&gt; - lifecycle: resources can be dynamically created by clients and may
&gt; last from minutes to hours
&gt; - state: each resource has a state, which can be read and modified by
&gt; clients
&gt;
&gt; the specific need for HTTP operation on multiple resources is about the
&gt; ability for clients to query (or update) the state of a list of
&gt; specified resources (via their ID/URI).
&gt;
&gt; current ideas:
&gt; a. resource URI: http://.../resource/IDx
&gt; b. resource state URI: http://.../resource/IDx/state
&gt; c. resource state set URI:
&gt; http://.../resource/ID1/state;ID2/state;...;IDn/state
&gt;
&gt; c. can be a possible URI structure for the resource set. We want to
&gt; enable clients to ask for the status of a certain number of resources at
&gt; once (this is a requirement).
&gt; In that case, we need to handle the possibility of having many different
&gt; HTTP response code (e.g., some resource may not exist, for others the
&gt; client may not be authorized).
&gt;
&gt; Our open questions are:
&gt;
&gt; 1. is it the proposed URI structure for the resource set a good choice?
&gt; 2. for the multi-status code, should we consider what was done in WEBDAV
&gt; with the 207 status code? Another possibility which is used by other
&gt; REST interfaces is to have the service return a "202 Accepted" status
&gt; code, and let the HTTP response body contain detailed status
&gt; informations for each resource (e.g. using an appropriate XML document).
&gt;
&gt; thanks in advance, Sergio
&gt;
&gt; --
&gt; Sergio Andreozzi
&gt; INFN-CNAF, Tel: +39 051 609 2860
&gt; Viale Berti Pichat, 6/2 Fax: +39 051 609 2746
&gt; 40126 Bologna (Italy) Web: http://www.cnaf.infn.it/~andreozzi
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11050<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-07-16 20:56:19<br>
Subject:Re: on the HTTP operations on multiple resources<br>
Message:<br><br>
<pre>* dev &lt;dev.akhawe@...&gt; [2008-07-16 20:05]:
&gt; 202 would imply that everything was accepted.

Yes. Quoth RFC2616 on 202:

    The request has been accepted for processing, but the
    processing has not been completed.

&gt; If a few are wrong, then you might need 207.

No.

    [Contd:] The request might or might not eventually be acted
    upon, as it might be disallowed when processing actually
    takes place. There is no facility for re-sending a status
    code from an asynchronous operation such as this.

    The 202 response is intentionally non-committal. Its purpose
    is to allow a server to accept a request for some other
    process (perhaps a batch-oriented process that is only run
    once per day) without requiring that the user agent's
    connection to the server persist until the process is
    completed. The entity returned with this response SHOULD
    include an indication of the request's current status and
    either a pointer to a status monitor or some estimate of when
    the user can expect the request to be fulfilled.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11051<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2008-07-16 21:06:55<br>
Subject:Re: [rest-discuss] Re: on the HTTP operations on multiple resources<br>
Message:<br><br>
<pre>If you define a resource as a batch of resources-to-be-updated, then
that batch resource can show the status of all of the individual
updates and their updated (or not) resources.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11052<br>
Sender:"icetbr" &lt;icetbr@...&gt;<br>
Post Date/Time:2008-07-18 14:46:21<br>
Subject:What's the best way to implement a REST cache?<br>
Message:<br><br>
<pre>Hi, I'm used to do some caching for static content (I follow yahoo's
rules and all). I also do some caching in my business/dao layers.

How would the "REST cache" be any different? I'm imagining a "service
layer caching" here, sort of like: (I use tomcat/java/jersey btw)

1) Client requests resource "/users"
2) The service layer will be intercepted (AOP, or a filter) perhaps by
my caching service and check the last-modified date for the "/users"
resource. So I would have an entry in a hashtable like {"/users",
10/23/08 14:25, [john, mary, bob]}
3) I compare the dates and either return [john, mary, bob] or a
ResponseObject with the not-modified header.

The only difference here from a tradicional (ehcache, oscache) cache
is the date based caching. Something like this? What other
alternatives are there? 

I know something about Etags, expiration header and other specifics of
the HTTP protocol. I'm talking about the caching "framework" really.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11053<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-07-18 16:05:12<br>
Subject:Re: [rest-discuss] What's the best way to implement a REST cache?<br>
Message:<br><br>
<pre>
On Jul 18, 2008, at 7:46 AM, icetbr wrote:

&gt; I know something about Etags, expiration header and other specifics of
&gt; the HTTP protocol. I'm talking about the caching "framework" really.

So, why not take advantage of an HTTP cache, say, e.g. squid to do the  
caching for you? In fact, that is the advantage of using a uniform  
interface such as HTTP. The cache need not be application aware.

Subbu

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11054<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-07-18 16:40:45<br>
Subject:Re: [rest-discuss] What's the best way to implement a REST cache?<br>
Message:<br><br>
<pre>On Fri, Jul 18, 2008 at 7:46 AM, icetbr &lt;icetbr@...&gt; wrote:
&gt; Hi, I'm used to do some caching for static content (I follow yahoo's
&gt; rules and all). I also do some caching in my business/dao layers.
&gt;
&gt; How would the "REST cache" be any different? I'm imagining a "service
&gt; layer caching" here, sort of like: (I use tomcat/java/jersey btw)
&gt;
&gt; 1) Client requests resource "/users"
&gt; 2) The service layer will be intercepted (AOP, or a filter) perhaps by
&gt; my caching service and check the last-modified date for the "/users"
&gt; resource. So I would have an entry in a hashtable like {"/users",
&gt; 10/23/08 14:25, [john, mary, bob]}
&gt; 3) I compare the dates and either return [john, mary, bob] or a
&gt; ResponseObject with the not-modified header.

Then, what does the client do?

If you're sending back not-modified (which is a status code, not a
header, btw), the client doesn't have to do much: there's no response
to process.

So now the client has less workload.  And maybe the client's client
(if the client is another service, and itself returns not modified).
That works end-to-end.

If you're just caching the database then you can save a hit on the
database, but you still have to generate and send back a response,
client has to wait for it and then process the response, which may
have no new information.

Assaf

&gt;
&gt; The only difference here from a tradicional (ehcache, oscache) cache
&gt; is the date based caching. Something like this? What other
&gt; alternatives are there?
&gt;
&gt; I know something about Etags, expiration header and other specifics of
&gt; the HTTP protocol. I'm talking about the caching "framework" really.
&gt;
&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11055<br>
Sender:"icetbr" &lt;icetbr@...&gt;<br>
Post Date/Time:2008-07-18 17:27:58<br>
Subject:Re: What's the best way to implement a REST cache?<br>
Message:<br><br>
<pre>Ok, I'm sort of out of touch here. Do you you mind explaining me the
basic concept of this cache? When an image changes, the file's date in
the filesystem is changed, and that's how you know you need a new
version. How do you know when a resource changes? Where do you store
its representation? Squid acts in the client, and only enterprises use
it. I'm not sure we're talking about the same thing here (if so, sorry
about my lack of explanation). When you talk about "REST cache", is it
always about the client?

--- In rest-discuss@yahoogroups.com, Subbu Allamaraju &lt;subbu@...&gt; wrote:
&gt;
&gt; 
&gt; On Jul 18, 2008, at 7:46 AM, icetbr wrote:
&gt; 
&gt; &gt; I know something about Etags, expiration header and other specifics of
&gt; &gt; the HTTP protocol. I'm talking about the caching "framework" really.
&gt; 
&gt; So, why not take advantage of an HTTP cache, say, e.g. squid to do the  
&gt; caching for you? In fact, that is the advantage of using a uniform  
&gt; interface such as HTTP. The cache need not be application aware.
&gt; 
&gt; Subbu
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11056<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-07-18 18:17:32<br>
Subject:Re: Adding parameters to content-types<br>
Message:<br><br>
<pre>* Sebastien Lambla &lt;seb@...&gt; [2008-07-10 12:15]:
&gt; We've talked very recently about adding random parameters to a
&gt; content-type, and someone mentioned it wasn't allowed.

That would be me.

&gt; I re-read the spec and thought it meant that any known
&gt; parameter MUST be documented with the submission, but didn't
&gt; find anything defining the behaviour in case of unspecified
&gt; content-types being added.

RFC2046 does say this much:

    MIME implementations must also ignore any parameters whose
    names they do not recognize.

So in practice, inventing new paramaters willy nilly wont cause
overt problems.

&gt; IE8 has a feature that prevents mime sniffing by adding an
&gt; authoritative=true parameter to any content-type.



&gt; What's everyone opinion on it? Maybe it should be enforced that
&gt; non-nomative parameters to mime-types be prefixed with x. or
&gt; x-?

I dont know. I dont know the rationale behind the current form
of the MIME RFCs, including whether it was a conscious decision
to mostly-but-not-entirely prohibit made-up parameters and what
the thinking behind that may have been. (With HTTP, f.ex., quite
a lot of thought went into what classes of headers exist and how
and why each party should treat them and what they mean, in order
to minimise the potential for destructive interactions.)

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11057<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-07-18 19:49:59<br>
Subject:Re: [rest-discuss] Re: What's the best way to implement a REST cache?<br>
Message:<br><br>
<pre>First, you might want to check out Mark Nottingham's talk on howSquid
can be used within the enterprise:
http://www.mnot.net/blog/2007/04/29/squid

This is what I am currently doing right now to implement a 'local
cache' within my coding framework:

I define a CaheObject that has a set of properties including Uri,
VaryBy, ContentType, ETag, LastModDate, Payload and others
I define a CacheService class that has methods like AddToCache,
GetFromCache, RemoveFromCache
I modify my HTTPRequest handlers to implement the local caching:
- on GET/HEAD requests, pass the Uri to the GetFromCache()
  if I get an object, check the ETag/Last-Mod info against the request
and return 304 if appropriate
  if I get valid object, return the payload and stop
  if I get a null object, do wahtever is needed to build the object,
stick it in cache, and return the results as usual
- on POST/DELETE
  after doing the work, clear out any related cache items (i keep a
running list)
- on PUT
  use the Etag of the cached item to make sure this is a valid update
(return 412 if not)
  do the update
  remove any related cache items (using my list)

I implement this pattern throughout my coding. For example, between
the middel-ware and the datastore (database or file-based system). I
use it for things like application meta-data (configuraitons,
templates, transformations, etc.), too.

Of course, I allow squid to act as the caching proxy *in front* of the
code I have running on the HTTP Web server, too.

MikeA


On Fri, Jul 18, 2008 at 1:27 PM, icetbr &lt;icetbr@...&gt; wrote:
&gt; Ok, I'm sort of out of touch here. Do you you mind explaining me the
&gt; basic concept of this cache? When an image changes, the file's date in
&gt; the filesystem is changed, and that's how you know you need a new
&gt; version. How do you know when a resource changes? Where do you store
&gt; its representation? Squid acts in the client, and only enterprises use
&gt; it. I'm not sure we're talking about the same thing here (if so, sorry
&gt; about my lack of explanation). When you talk about "REST cache", is it
&gt; always about the client?
&gt;
&gt; --- In rest-discuss@yahoogroups.com, Subbu Allamaraju &lt;subbu@...&gt; wrote:
&gt;&gt;
&gt;&gt;
&gt;&gt; On Jul 18, 2008, at 7:46 AM, icetbr wrote:
&gt;&gt;
&gt;&gt; &gt; I know something about Etags, expiration header and other specifics of
&gt;&gt; &gt; the HTTP protocol. I'm talking about the caching "framework" really.
&gt;&gt;
&gt;&gt; So, why not take advantage of an HTTP cache, say, e.g. squid to do the
&gt;&gt; caching for you? In fact, that is the advantage of using a uniform
&gt;&gt; interface such as HTTP. The cache need not be application aware.
&gt;&gt;
&gt;&gt; Subbu
&gt;&gt;
&gt;
&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11058<br>
Sender:=?ISO-8859-1?Q?Rickard_=D6berg?= &lt;rickardoberg@...&gt;<br>
Post Date/Time:2008-07-20 03:16:42<br>
Subject:Retrieving multiple resources efficiently ("eagerloading")<br>
Message:<br><br>
<pre>Hi! (first post btw)

I've been reading Steve Vinoskis articles, and have begun to think about 
how to take my current systems and convert them from the RMI-ish 
approach to a RESTful one. One of the problems that needs to be dealt 
with, I think, is how to access the data of multiple resources 
efficiently. With RMI I would just make a call that describes the graph 
of objects I want to access, and then return the dataset. With REST, it 
seems, it would be better to just let each object have a URI and access 
that, but if I then want to access related objects that would mean that 
I would have to do subsequent calls to fetch them (i.e. no eagerloading 
is possible). The good side of this seems to be that the accesses are 
easily cacheable, whereas fetching a graph would not be since each call 
would require a slightly different graph most likely.

How do you deal with this? Do you typically let clients access resources 
individually (for cacheability), or is there a "bulk fetch" way to do it?

thanks,
   Rickard

ps. If this is answered on the list already, if anyone has a reference 
to the thread that would be appreciated.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11059<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-07-20 04:21:48<br>
Subject:Re: Retrieving multiple resources efficiently ("eagerloading")<br>
Message:<br><br>
<pre>* Rickard berg &lt;rickardoberg@...&gt; [2008-07-20 05:55]:
&gt; With RMI I would just make a call that describes the graph of
&gt; objects I want to access, and then return the dataset. With
&gt; REST, it seems, it would be better to just let each object have
&gt; a URI and access that, but if I then want to access related
&gt; objects that would mean that I would have to do subsequent
&gt; calls to fetch them (i.e. no eagerloading is possible). The
&gt; good side of this seems to be that the accesses are easily
&gt; cacheable, whereas fetching a graph would not be since each
&gt; call would require a slightly different graph most likely.

Mostly thats how it is. Of course, resources neednt be distinct
entities nor need they be static; they can overlap and they can
be computed. F.ex. a search engine returns a computed resource,
and with some kind of collection resource mechanism such as feeds
you can deliver a representation of several combined resources at
once. In other words you seem to be looking for Atom (possibly
along with AtomPub) plus some kind of query interface  maybe
OpenSearch, maybe roll-your-own.

Do be aware of HTTP pipelining also.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11060<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2008-07-20 06:48:18<br>
Subject:Re: [rest-discuss] Re: Retrieving multiple resources efficiently ("eagerloading")<br>
Message:<br><br>
<pre>I would think this has the same solution as Roy describes here:
http://tech.groups.yahoo.com/group/rest-discuss/message/11038

That is:
"Just define a resource that maps to all of the resources you intend
to operate upon. Resources often overlap."

For example, I define a resource called orders-this-week, which
contains a representation of the same, with some extra details about
product availability, contacts, etc.   You can also get the same
collected data for any date range.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11061<br>
Sender:John O'Shea &lt;joshea@...&gt;<br>
Post Date/Time:2008-07-20 09:52:16<br>
Subject:Re: [rest-discuss] Retrieving multiple resources efficiently ("eagerloading")<br>
Message:<br><br>
<pre>Hi Rickard
  You could think about basing your revised system on the Atom/AtomPub  
specs - they will give you a leg up, at the very least for prototyping  
your resource design.  Modelling on Atom, you GET feeds to 'bulk  
fetch' resources and you can GET an individual resource via entry  
resources.  AtomPub defines how you can create/update/delete  
collections of, and individual, entries and adds a higher level  
service (collection listing) resource for service discovery.

John.
	
On 20 Jul 2008, at 04:16, Rickard berg wrote:

&gt; Hi! (first post btw)
&gt;
&gt; I've been reading Steve Vinoskis articles, and have begun to think  
&gt; about
&gt; how to take my current systems and convert them from the RMI-ish
&gt; approach to a RESTful one. One of the problems that needs to be dealt
&gt; with, I think, is how to access the data of multiple resources
&gt; efficiently. With RMI I would just make a call that describes the  
&gt; graph
&gt; of objects I want to access, and then return the dataset. With REST,  
&gt; it
&gt; seems, it would be better to just let each object have a URI and  
&gt; access
&gt; that, but if I then want to access related objects that would mean  
&gt; that
&gt; I would have to do subsequent calls to fetch them (i.e. no  
&gt; eagerloading
&gt; is possible). The good side of this seems to be that the accesses are
&gt; easily cacheable, whereas fetching a graph would not be since each  
&gt; call
&gt; would require a slightly different graph most likely.
&gt;
&gt; How do you deal with this? Do you typically let clients access  
&gt; resources
&gt; individually (for cacheability), or is there a "bulk fetch" way to  
&gt; do it?
&gt;
&gt; thanks,
&gt; Rickard
&gt;
&gt; ps. If this is answered on the list already, if anyone has a reference
&gt; to the thread that would be appreciated.
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11062<br>
Sender:zooko &lt;zooko@...&gt;<br>
Post Date/Time:2008-07-20 18:48:53<br>
Subject:CSRF attacks, sharing, REST, Hack Tahoe!<br>
Message:<br><br>
<pre>Dear people of rest-discuss:

Apropos some recent discussion on this list about security and
references, I thought you would be interested in one of the results
from the Hack Tahoe! contest.

Tahoe, the Least-Authority Filesystem is a secure decentralized
filesystem with a RESTfull web interface [1].

The Hack Tahoe! contest [2] is a challenge that we've issued to the
security experts of the world to help us improve its security.  (Many
of them seem willing to help, probably in large part because Tahoe is
a Free and Open project.)

The first and so far best attack on Tahoe was a CSRF attack due to
Nathan Wilcox.  A full write-up of the history of that attack and our
general strategy for making RESTful services secure against CSRF
attacks is here:

http://hacktahoe.org/nathan_wilcox.html

I would be very interested in your comments, either on this list or on
the tahoe-dev list [3], or cross-posted, as appropriate.

Regards,

Zooko O'Whielacronx

[1] http://allmydata.org
[2] http://hacktahoe.org
[3] http://allmydata.org/cgi-bin/mailman/listinfo/tahoe-dev


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11063<br>
Sender:"icetbr" &lt;icetbr@...&gt;<br>
Post Date/Time:2008-07-21 13:25:01<br>
Subject:Re: What's the best way to implement a REST cache?<br>
Message:<br><br>
<pre>Thanks, I understand now. I read the link you posted. You're talking
about "Web proxy cache", that's something I never had to deal with so
far, because I'm used to developing low visits/day sites.

It's good to know I have this available, but for the moment, that
increases complexibility and reduces flexibility in my solution. All
my caching is controlled through my application. I have 2 types of
cache so far, one for the midle tiers, as you described, and another
for the Web tier. This last one is a filter (servlet) that modifies my
requests and set far future expires and such. It retrieves all its
configurations from may application database, and I have a very simple
crud interface where the final (admin) user can change these values at
will.

Thank you all for your answers, very enlightening. I've read about
squid before (I use it in my company btw), and I read a lot about
caching too. Never made the squid/application-side-caching connection
before.

--- In rest-discuss@yahoogroups.com, "mike amundsen" &lt;mamund@...&gt; wrote:
&gt;
&gt; First, you might want to check out Mark Nottingham's talk on howSquid
&gt; can be used within the enterprise:
&gt; http://www.mnot.net/blog/2007/04/29/squid
&gt; 
&gt; This is what I am currently doing right now to implement a 'local
&gt; cache' within my coding framework:
&gt; 
&gt; I define a CaheObject that has a set of properties including Uri,
&gt; VaryBy, ContentType, ETag, LastModDate, Payload and others
&gt; I define a CacheService class that has methods like AddToCache,
&gt; GetFromCache, RemoveFromCache
&gt; I modify my HTTPRequest handlers to implement the local caching:
&gt; - on GET/HEAD requests, pass the Uri to the GetFromCache()
&gt;   if I get an object, check the ETag/Last-Mod info against the request
&gt; and return 304 if appropriate
&gt;   if I get valid object, return the payload and stop
&gt;   if I get a null object, do wahtever is needed to build the object,
&gt; stick it in cache, and return the results as usual
&gt; - on POST/DELETE
&gt;   after doing the work, clear out any related cache items (i keep a
&gt; running list)
&gt; - on PUT
&gt;   use the Etag of the cached item to make sure this is a valid update
&gt; (return 412 if not)
&gt;   do the update
&gt;   remove any related cache items (using my list)
&gt; 
&gt; I implement this pattern throughout my coding. For example, between
&gt; the middel-ware and the datastore (database or file-based system). I
&gt; use it for things like application meta-data (configuraitons,
&gt; templates, transformations, etc.), too.
&gt; 
&gt; Of course, I allow squid to act as the caching proxy *in front* of the
&gt; code I have running on the HTTP Web server, too.
&gt; 
&gt; MikeA
&gt; 
&gt; 
&gt; On Fri, Jul 18, 2008 at 1:27 PM, icetbr &lt;icetbr@...&gt; wrote:
&gt; &gt; Ok, I'm sort of out of touch here. Do you you mind explaining me the
&gt; &gt; basic concept of this cache? When an image changes, the file's date in
&gt; &gt; the filesystem is changed, and that's how you know you need a new
&gt; &gt; version. How do you know when a resource changes? Where do you store
&gt; &gt; its representation? Squid acts in the client, and only enterprises use
&gt; &gt; it. I'm not sure we're talking about the same thing here (if so, sorry
&gt; &gt; about my lack of explanation). When you talk about "REST cache", is it
&gt; &gt; always about the client?
&gt; &gt;
&gt; &gt; --- In rest-discuss@yahoogroups.com, Subbu Allamaraju &lt;subbu@&gt; wrote:
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; On Jul 18, 2008, at 7:46 AM, icetbr wrote:
&gt; &gt;&gt;
&gt; &gt;&gt; &gt; I know something about Etags, expiration header and other
specifics of
&gt; &gt;&gt; &gt; the HTTP protocol. I'm talking about the caching "framework"
really.
&gt; &gt;&gt;
&gt; &gt;&gt; So, why not take advantage of an HTTP cache, say, e.g. squid to
do the
&gt; &gt;&gt; caching for you? In fact, that is the advantage of using a uniform
&gt; &gt;&gt; interface such as HTTP. The cache need not be application aware.
&gt; &gt;&gt;
&gt; &gt;&gt; Subbu
&gt; &gt;&gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; ------------------------------------
&gt; &gt;
&gt; &gt; Yahoo! Groups Links
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; 
&gt; 
&gt; 
&gt; -- 
&gt; mca
&gt; http://amundsen.com/blog/
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11064<br>
Sender:"patrickdlogan" &lt;patrickdlogan@...&gt;<br>
Post Date/Time:2008-07-26 20:16:47<br>
Subject:Re: CSRF attacks, sharing, REST, Hack Tahoe!<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, zooko &lt;zooko@...&gt; wrote:
&gt;
&gt; Dear people of rest-discuss:
&gt; 
...
&gt; 
&gt; Tahoe, the Least-Authority Filesystem is a secure decentralized
&gt; filesystem with a RESTfull web interface [1].
&gt; 
...
&gt;
&gt; http://hacktahoe.org/nathan_wilcox.html
&gt; 
&gt; I would be very interested in your comments...

I was hoping to see some replies to this here. I like the idea of
capability-based systems.

What do you think are the down-sides of this approach?



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11065<br>
Sender:zooko &lt;zooko@...&gt;<br>
Post Date/Time:2008-07-27 15:26:47<br>
Subject:Re: [rest-discuss] Re: CSRF attacks, sharing, REST, Hack Tahoe!<br>
Message:<br><br>
<pre>Patrick Logan, with whom I remember corresponding on the Eiffel
newsgroup, wrote:

 &gt; &gt; http://hacktahoe.org/nathan_wilcox.html
...
 &gt; I was hoping to see some replies to this here. I like the idea of
 &gt; capability-based systems.
 &gt;
 &gt; What do you think are the down-sides of this approach?

It occurs to me that maybe the lack of responses is because people may
not have followed the links and read the backstory.  Let me post a
"teaser" here which suggests the core idea, with the caveat that you
really ought to read the article [1, 2] before following-up.

The core idea is:

    Solve CSRF attacks by making references unforgeable, not by making
    them unshareable.

This has a cost (it makes URLs long and opaque), but on the other hand
it is the only possible defense against CSRF attack that also allows
people to share powerful resources at the web layer (by sharing URLs,
HTML pages, Javascript, etc.).

Our inspiration for taking this strategy is from the
object-capabilities community.  That community's definitive document
is Mark S. Miller's PhD thesis [3].

This idea that we have deployed in Tahoe, the Least-Authority
Filesystem, is relevant to several recent discussions on this mailing
list, such as [4, 5], and this post of last year by Roy Fielding: [6].

Regards,

Zooko

[1] http://hacktahoe.org/nathan_wilcox.html
      # Nathan Wilcox and CSRF attacks

[2] http://hacktahoe.org/csrf.html
      # solve CSRF attacks by making references unforgeable, not by
        making them unshareable

[3] http://www.erights.org/talks/thesis
      # Robust Composition: Towards a Unified Approach to Access
        Control and Concurrency Control

[4] http://article.gmane.org/gmane.comp.web.services.rest/8123
      # Subject: HTTP cookies as unconditional violations of REST

[5] http://article.gmane.org/gmane.comp.web.services.rest/8089
      # Subject: Pretty URLs, sessions, and no cookies

[6] http://article.gmane.org/gmane.comp.web.services.rest/6814
      # Subject: Re: Work-arounds for RESTful use of unsupported PUT  
and DELETE?


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11066<br>
Sender:"Brandon Carlson" &lt;bcarlso@...&gt;<br>
Post Date/Time:2008-07-28 02:50:48<br>
Subject:APP library for Java<br>
Message:<br><br>
<pre>All,

I'm looking for a good APP library to use in a new Java API I'm
working on. Does anyone on this list have any suggestions?

Thanks!
Brandon

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11067<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-07-28 03:15:02<br>
Subject:ETags and Empty Body<br>
Message:<br><br>
<pre>I need a quick check on my thinking.

I am working with a server that is returning ETags from a POST/PUT to
a resource, but this server is not returning a document body with that
response. This seems incorrect to me.

My initial code against this server was clearing the local cache on
POST/PUT and then doing a GET request w/ the ETag and getting a 304
response from the remote server.  The end result is no body document
for this URI in my local cache. To fix this, I changed my code to
ignore the ETag returned on POST/PUT when attempting to update my
local cache w/ a GET.

Was my initial code faulty?  Is returning an ETag in POST/PUT response
w/ an empty body standard practice?

Thanks in advance for any feedback.

-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11068<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-07-28 03:37:10<br>
Subject:Re: [rest-discuss] APP library for Java<br>
Message:<br><br>
<pre>http://en.wikipedia.org/wiki/Apache_Abdera

I am not sure .. never having used it myself , but please check it out
if you haven't already. I apologize if you already have checked it.

Thanks
Devdatta

2008/7/27 Brandon Carlson &lt;bcarlso@...&gt;:
&gt; All,
&gt;
&gt; I'm looking for a good APP library to use in a new Java API I'm
&gt; working on. Does anyone on this list have any suggestions?
&gt;
&gt; Thanks!
&gt; Brandon
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11069<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-07-28 03:41:25<br>
Subject:Re: [rest-discuss] ETags and Empty Body<br>
Message:<br><br>
<pre>Hi

&gt; Was my initial code faulty? Is returning an ETag in POST/PUT response
&gt; w/ an empty body standard practice?

I don't know about the practice , but the standard is :

"the 304 response MUST NOT contain a message-body"
from http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html


Thanks
Devdatta

P.S : Just write "with" for god's sake ... is it just me who finds it
disconcerting? :)


2008/7/27 mike amundsen &lt;mamund@...&gt;:
&gt; I need a quick check on my thinking.
&gt;
&gt; I am working with a server that is returning ETags from a POST/PUT to
&gt; a resource, but this server is not returning a document body with that
&gt; response. This seems incorrect to me.
&gt;
&gt; My initial code against this server was clearing the local cache on
&gt; POST/PUT and then doing a GET request w/ the ETag and getting a 304
&gt; response from the remote server. The end result is no body document
&gt; for this URI in my local cache. To fix this, I changed my code to
&gt; ignore the ETag returned on POST/PUT when attempting to update my
&gt; local cache w/ a GET.
&gt;
&gt;
&gt; Thanks in advance for any feedback.
&gt;
&gt; --
&gt; mca
&gt; http://amundsen.com/blog/
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11070<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-07-28 03:45:48<br>
Subject:Re: [rest-discuss] ETags and Empty Body<br>
Message:<br><br>
<pre>On Sun, Jul 27, 2008 at 11:15 PM, mike amundsen &lt;mamund@...&gt; wrote:
&gt; I need a quick check on my thinking.
&gt;
&gt; I am working with a server that is returning ETags from a POST/PUT to
&gt; a resource, but this server is not returning a document body with that
&gt; response. This seems incorrect to me.
&gt;
&gt; My initial code against this server was clearing the local cache on
&gt; POST/PUT and then doing a GET request w/ the ETag and getting a 304
&gt; response from the remote server.  The end result is no body document
&gt; for this URI in my local cache. To fix this, I changed my code to
&gt; ignore the ETag returned on POST/PUT when attempting to update my
&gt; local cache w/ a GET.
&gt;
&gt; Was my initial code faulty?  Is returning an ETag in POST/PUT response
&gt; w/ an empty body standard practice?

This is the subject of an outstanding issue in the HTTPBIS WG;

http://wiki.tools.ietf.org/wg/httpbis/trac/ticket/22

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11071<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-07-28 03:54:08<br>
Subject:Re: [rest-discuss] ETags and Empty Body<br>
Message:<br><br>
<pre>aww sorry about my mess .. I didn't notice that the rfc seemed to only
talk about GET

-devdatta

2008/7/27 Mark Baker &lt;distobj@...&gt;:
&gt; On Sun, Jul 27, 2008 at 11:15 PM, mike amundsen &lt;mamund@...&gt; wrote:
&gt;&gt; I need a quick check on my thinking.
&gt;&gt;
&gt;&gt; I am working with a server that is returning ETags from a POST/PUT to
&gt;&gt; a resource, but this server is not returning a document body with that
&gt;&gt; response. This seems incorrect to me.
&gt;&gt;
&gt;&gt; My initial code against this server was clearing the local cache on
&gt;&gt; POST/PUT and then doing a GET request w/ the ETag and getting a 304
&gt;&gt; response from the remote server. The end result is no body document
&gt;&gt; for this URI in my local cache. To fix this, I changed my code to
&gt;&gt; ignore the ETag returned on POST/PUT when attempting to update my
&gt;&gt; local cache w/ a GET.
&gt;&gt;
&gt;&gt; Was my initial code faulty? Is returning an ETag in POST/PUT response
&gt;&gt; w/ an empty body standard practice?
&gt;
&gt; This is the subject of an outstanding issue in the HTTPBIS WG;
&gt;
&gt; http://wiki.tools.ietf.org/wg/httpbis/trac/ticket/22
&gt;
&gt; Mark.
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11072<br>
Sender:Prashanth Shenoy &lt;prashanthshenoyu@...&gt;<br>
Post Date/Time:2008-07-28 09:52:00<br>
Subject:Re: [rest-discuss] Re: Query regarding batch updates<br>
Message:<br><br>
<pre>Can I use a custom XML vocabulary in the response body along with the 207 Multi Status code?

In other words, if the clients know that they have to interpret the response body differently , when they receive the 207, is it ok?

Does this go against the spirit of REST?





--- On Tue, 7/8/08, Aristotle Pagaltzis &lt;pagaltzis@...&gt; wrote:

From: Aristotle Pagaltzis &lt;pagaltzis@...&gt;
Subject: [rest-discuss] Re: Query regarding batch updates
To: rest-discuss@yahoogroups.com
Date: Tuesday, July 8, 2008, 10:04 PM






* prashanthshenoyu &lt;prashanthshenoyu@ yahoo.com&gt; [2008-07-07 17:10]:
&gt; Ideally if everything goes well, then I return a 204 (NO
&gt; CONTENT) status to the client.
&gt; 
&gt; But what should I do if some state updates go through and some
&gt; dont? For instance state updation for job1 is successful but
&gt; job2 fails?

You might be able to use 207 Multi-Status as defined in WebDAV
(RFC4918 section 13), but even with that it still requires
complex logic on both ends of the wire.

Youve hit upon one of the big hairballs when dealing with
request batches. As Roy said recently, any attempt at batching
means HTTP-in-HTTP, which requires re-addressing all of HTTPs
concerns inside the batch operation (auth, status codes, caching,
etc), which means squaring the complexity of the implementation
(of both the client and the server).

Are you sure you dont want to simply pipeline a bunch of single-
resource PUT requests?

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm. org/&gt;
 














      </pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11073<br>
Sender:"Brian Smith" &lt;brian@...&gt;<br>
Post Date/Time:2008-07-28 14:36:36<br>
Subject:RE: [rest-discuss] ETags and Empty Body<br>
Message:<br><br>
<pre>Mike Amundsen wrote:
&gt; My initial code against this server was clearing the local 
&gt; cache on POST/PUT and then doing a GET request w/ the ETag 
&gt; and getting a 304 response from the remote server.  The end 
&gt; result is no body document for this URI in my local cache. To 
&gt; fix this, I changed my code to ignore the ETag returned on 
&gt; POST/PUT when attempting to update my local cache w/ a GET.

&gt; Was my initial code faulty?

Yes. It doesn't make sense to do a conditional get when you want the server
to return the response body unconditionally. In other words, don't make GET
requests conditional when you have no entity for the resource in your cache.

&gt; Is returning an ETag in POST/PUT 
&gt; response w/ an empty body standard practice?

Kinda. It depends on the response code, not just the method. If the ETag is
returned in a "201 Created" response, then the ETag is for one of the
representations of the resource referenced in the Location header field
(but, a 201 response should have a body). See the definitions of the other
status codes to see what ETag means for those kinds of responses. If nothing
is mentioned for a particular status code, then the use of the ETag header
is undefined for that response and the ETag should be ignored.

Out of curiousity, what response code was the server returning?

Regards,
Brian


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11074<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-07-28 14:39:35<br>
Subject:Re: [rest-discuss] ETags and Empty Body<br>
Message:<br><br>
<pre>Mark:

Thanks for the pointer to HTTPBIS. I'd missed that.


On Sun, Jul 27, 2008 at 11:45 PM, Mark Baker &lt;distobj@...&gt; wrote:
&gt; On Sun, Jul 27, 2008 at 11:15 PM, mike amundsen &lt;mamund@...&gt; wrote:
&gt;&gt; I need a quick check on my thinking.
&gt;&gt;
&gt;&gt; I am working with a server that is returning ETags from a POST/PUT to
&gt;&gt; a resource, but this server is not returning a document body with that
&gt;&gt; response. This seems incorrect to me.
&gt;&gt;
&gt;&gt; My initial code against this server was clearing the local cache on
&gt;&gt; POST/PUT and then doing a GET request w/ the ETag and getting a 304
&gt;&gt; response from the remote server.  The end result is no body document
&gt;&gt; for this URI in my local cache. To fix this, I changed my code to
&gt;&gt; ignore the ETag returned on POST/PUT when attempting to update my
&gt;&gt; local cache w/ a GET.
&gt;&gt;
&gt;&gt; Was my initial code faulty?  Is returning an ETag in POST/PUT response
&gt;&gt; w/ an empty body standard practice?
&gt;
&gt; This is the subject of an outstanding issue in the HTTPBIS WG;
&gt;
&gt; http://wiki.tools.ietf.org/wg/httpbis/trac/ticket/22
&gt;
&gt; Mark.
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11075<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-07-28 14:44:29<br>
Subject:Re: [rest-discuss] ETags and Empty Body<br>
Message:<br><br>
<pre>Brian:

Thanks for the reply.

First, Your feedback on my code makes sense. I had not made
accommodations for getting ETags on empty responses. I now do as you
say - no conditional GETs when refreshing after POST/PUT.

Second, the POST response is a 201.  Since this server makes some
alterations to the document body that was POSTed, I think a 205 would
be more appropriate.

Finally, the server currently does not return a Location header. But
the server authors are aware of this and are adding the Location
header for both PUT and POST.

MikeA


On Mon, Jul 28, 2008 at 10:36 AM, Brian Smith &lt;brian@...&gt; wrote:
&gt; Mike Amundsen wrote:
&gt;&gt; My initial code against this server was clearing the local
&gt;&gt; cache on POST/PUT and then doing a GET request w/ the ETag
&gt;&gt; and getting a 304 response from the remote server.  The end
&gt;&gt; result is no body document for this URI in my local cache. To
&gt;&gt; fix this, I changed my code to ignore the ETag returned on
&gt;&gt; POST/PUT when attempting to update my local cache w/ a GET.
&gt;
&gt;&gt; Was my initial code faulty?
&gt;
&gt; Yes. It doesn't make sense to do a conditional get when you want the server
&gt; to return the response body unconditionally. In other words, don't make GET
&gt; requests conditional when you have no entity for the resource in your cache.
&gt;
&gt;&gt; Is returning an ETag in POST/PUT
&gt;&gt; response w/ an empty body standard practice?
&gt;
&gt; Kinda. It depends on the response code, not just the method. If the ETag is
&gt; returned in a "201 Created" response, then the ETag is for one of the
&gt; representations of the resource referenced in the Location header field
&gt; (but, a 201 response should have a body). See the definitions of the other
&gt; status codes to see what ETag means for those kinds of responses. If nothing
&gt; is mentioned for a particular status code, then the use of the ETag header
&gt; is undefined for that response and the ETag should be ignored.
&gt;
&gt; Out of curiousity, what response code was the server returning?
&gt;
&gt; Regards,
&gt; Brian
&gt;
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11076<br>
Sender:"Ivan Bodunov" &lt;ivanbodunov@...&gt;<br>
Post Date/Time:2008-07-28 07:16:44<br>
Subject:RESTful protocol other than HTTP<br>
Message:<br><br>
<pre>Hi all,

Many people often treat REST and RESTful HTTP as synonyms. 
Since these are actually different, I was curious about other
implementations of REST using different technologies than HTTP. 

There is Roy Fielding's "waka" (that is anyway based on HTTP).

Are there any other (well)known non-HTTP RESTful protocols
successfully implemented/used?

Thanks!
Ivan


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11077<br>
Sender:"Brian Smith" &lt;brian@...&gt;<br>
Post Date/Time:2008-07-28 17:39:51<br>
Subject:RE: [rest-discuss] ETags and Empty Body<br>
Message:<br><br>
<pre>Mike Amundsen wrote:
&gt; Second, the POST response is a 201.  Since this server makes 
&gt; some alterations to the document body that was POSTed, I 
&gt; think a 205 would be more appropriate.

If the server creates a new resource then 201 makes sense; otherwise, how
will you know the location of the new resource? 205 is more for the case
where you have an HTML form that you want to user to keep submitting over
and over, with the form being cleared in between each submission. I don't
even know if UAs implement that.

&gt; Finally, the server currently does not return a Location 
&gt; header. But the server authors are aware of this and are 
&gt; adding the Location header for both PUT and POST.

Right. You can't interpret the ETag of a 201 response correctly without the
Location header.

Regards,
Brian


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11078<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-07-28 17:54:28<br>
Subject:Re: [rest-discuss] ETags and Empty Body<br>
Message:<br><br>
<pre>Brian:

Thanks for the clarification on 205. I've used it in the past to
signal to custom clients that they need to do a GET immediately after
the PUT/POST. This was all my own internal coding that didn't seem to
break common clients.

MikeA

On Mon, Jul 28, 2008 at 1:39 PM, Brian Smith &lt;brian@...&gt; wrote:
&gt; Mike Amundsen wrote:
&gt;&gt; Second, the POST response is a 201.  Since this server makes
&gt;&gt; some alterations to the document body that was POSTed, I
&gt;&gt; think a 205 would be more appropriate.
&gt;
&gt; If the server creates a new resource then 201 makes sense; otherwise, how
&gt; will you know the location of the new resource? 205 is more for the case
&gt; where you have an HTML form that you want to user to keep submitting over
&gt; and over, with the form being cleared in between each submission. I don't
&gt; even know if UAs implement that.
&gt;
&gt;&gt; Finally, the server currently does not return a Location
&gt;&gt; header. But the server authors are aware of this and are
&gt;&gt; adding the Location header for both PUT and POST.
&gt;
&gt; Right. You can't interpret the ETag of a 201 response correctly without the
&gt; Location header.
&gt;
&gt; Regards,
&gt; Brian
&gt;
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11079<br>
Sender:"Erling Wegger Linde" &lt;erlingwl@...&gt;<br>
Post Date/Time:2008-07-28 17:55:50<br>
Subject:Re: [rest-discuss] APP library for Java<br>
Message:<br><br>
<pre>https://rome.dev.java.net/ + its subproject Propono works well with AtomPub

- Erling

On Mon, Jul 28, 2008 at 4:50 AM, Brandon Carlson &lt;bcarlso@...&gt; wrote:
&gt; All,
&gt;
&gt; I'm looking for a good APP library to use in a new Java API I'm
&gt; working on. Does anyone on this list have any suggestions?
&gt;
&gt; Thanks!
&gt; Brandon
&gt;
&gt; 



-- 
Med vennlig hilsen
Erling Wegger Linde

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11080<br>
Sender:"ddwoske" &lt;don.dwoske@...&gt;<br>
Post Date/Time:2008-07-28 18:53:55<br>
Subject:Re: RESTful protocol other than HTTP<br>
Message:<br><br>
<pre>I think the 9P (or Styx) protocol is an example.   It's well worth the time to understand how 
it works, and how Plan 9 accesses (and controls) resources, both local and remote.

"These systems depend on, advocate, and generally push to the limit a fruitful idea: to 
present their resources as files in a hierarchical name space. The objects appearing as files 
may represent stored data, but may also be devices, dynamic information sources, 
interfaces to services, and control points. The approach unifies and provides basic naming, 
structuring, and access control mechanisms for all system resources. A simple underlying 
network protocol, Styx, forms the core of the architecture by presenting a common 
language for communication within the system."

Google it, or start here : http://en.wikipedia.org/wiki/9P
or here : http://doc.cat-v.org/inferno/4th_edition/styx


-Don


--- In rest-discuss@yahoogroups.com, "Ivan Bodunov" &lt;ivanbodunov@...&gt; wrote:
&gt;
&gt; Hi all,
&gt; 
&gt; Many people often treat REST and RESTful HTTP as synonyms. 
&gt; Since these are actually different, I was curious about other
&gt; implementations of REST using different technologies than HTTP. 
&gt; 
&gt; There is Roy Fielding's "waka" (that is anyway based on HTTP).
&gt; 
&gt; Are there any other (well)known non-HTTP RESTful protocols
&gt; successfully implemented/used?
&gt; 
&gt; Thanks!
&gt; Ivan
&gt;




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11081<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-07-29 00:24:53<br>
Subject:Re: [rest-discuss] ETags and Empty Body<br>
Message:<br><br>
<pre>&gt; and over, with the form being cleared in between each submission. I don't
&gt; even know if UAs implement that.

IE does. Didnt test with firefox.

&gt;&gt; Finally, the server currently does not return a Location
&gt;&gt; header. But the server authors are aware of this and are
&gt;&gt; adding the Location header for both PUT and POST.
&gt;
&gt; Right. You can't interpret the ETag of a 201 response correctly without 
&gt; the
&gt; Location header.

Note that it is possible for several resources to be created and each of the 
urls being presented in the entity body. The Etag of a 201 response would 
only apply to the entity body of that response, a different resource than 
the one created.

Seb 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11082<br>
Sender:"Brian Smith" &lt;brian@...&gt;<br>
Post Date/Time:2008-07-29 00:50:21<br>
Subject:RE: [rest-discuss] ETags and Empty Body<br>
Message:<br><br>
<pre>Sebastien Lambla wrote:
&gt; Brian Smith wrote:
&gt; &gt; and over, with the form being cleared in between each submission. I 
&gt; &gt; don't even know if UAs implement that.
&gt; 
&gt; IE does. Didnt test with firefox.

Interesting. 

https://bugzilla.mozilla.org/show_bug.cgi?id=198309 
http://www.whatwg.org/specs/web-forms/current-work/#replaceSemantics


&gt; &gt;&gt; Finally, the server currently does not return a Location 
&gt; header. But 
&gt; &gt;&gt; the server authors are aware of this and are adding the Location 
&gt; &gt;&gt; header for both PUT and POST.
&gt; &gt;
&gt; &gt; Right. You can't interpret the ETag of a 201 response correctly 
&gt; &gt; without the Location header.
&gt; 
&gt; Note that it is possible for several resources to be created 
&gt; and each of the urls being presented in the entity body. The 
&gt; Etag of a 201 response would only apply to the entity body of 
&gt; that response, a different resource than the one created.

No. "A 201 response MAY contain an ETag response header field indicating the
current value of the entity tag for the requested variant just created."
This section will be clarified in HTTPbis but basically if there is an ETag
then it is an ETag for one of the resources created, presumably the resource
listed in the Location header. However, there is also no defined meaning for
when the 201 response to a PUT has a Location header that is different than
the Request URI; most clients treat PUT as creating a resource always at the
request URI.

The important point is that the precise meaning of the ETag response header
is dependent on the request method and the response code. There are many
cases where the ETag doesn't have a well-defined meaning and in those cases
we are better off ignoring it entirely.

Regards,
Brian


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11083<br>
Sender:=?ISO-8859-1?Q?Rickard_=D6berg?= &lt;rickardoberg@...&gt;<br>
Post Date/Time:2008-07-29 03:53:29<br>
Subject:REST for rich client persistence<br>
Message:<br><br>
<pre>Hi!

Has anyone tried using REST/HTTP as protocol for rich clients talking to 
servers, for persistence? In my case I want to have a Java client 
talking to a Java server, where both sides use a rich domain model to 
modify state, but the means to get state from client to server and back 
would be AtomPub or similar. Any experience with this on the list?

thanks,
   Rickard

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11084<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-07-29 06:35:58<br>
Subject:Re: [rest-discuss] Re: Query regarding batch updates<br>
Message:<br><br>
<pre>Prashanth Shenoy wrote:
&gt; 
&gt; 
&gt; Can I use a custom XML vocabulary in the response body along with the 
&gt; 207 Multi Status code? 
&gt; 
&gt;  
&gt; 
&gt; In other words, if the clients know that they have to interpret the 
&gt; response body differently , when they receive the 207, is it ok?
&gt; 
&gt;  
&gt; 
&gt; Does this go against the spirit of REST?

I don't think that REST says anything about it.

It certainly goes against the letter of the RFC (4918) which defines 
status code 207.

Is there a specific reason why the given XML vocabulary can't be used? 
Keep in mind that it's extensible.

BR, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11085<br>
Sender:Jerome Louvel &lt;contact@...&gt;<br>
Post Date/Time:2008-07-29 06:37:10<br>
Subject:Re: APP library for Java<br>
Message:<br><br>
<pre>Hi all,

I would mention two additional options based on Restlet:

Atomojo (client and server, based on Restlet)
http://code.google.com/p/atomojo/

Restlet Atom extension (APP client, Atom feeds server)
http://www.restlet.org/documentation/snapshot/ext/index.html?org/restlet/ext/atom/package-summary.html

Best regards,
Jerome
http://www.restlet.org


Brandon Carlson a crit :
&gt;
&gt; All,
&gt;
&gt; I'm looking for a good APP library to use in a new Java API I'm
&gt; working on. Does anyone on this list have any suggestions?
&gt;
&gt; Thanks!
&gt; Brandon
&gt;
&gt;  

-- 
Jerome Louvel
http://www.noelios.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11086<br>
Sender:"Chuck Hinson" &lt;chuck.hinson@...&gt;<br>
Post Date/Time:2008-07-29 14:27:26<br>
Subject:Re: [rest-discuss] APP library for Java<br>
Message:<br><br>
<pre>We did use abdera about a year ago and it worked very well for us.  We
selected it over rome - I don't recall exactly why anymore, but I
think it was because abdera was just atom whereas rome seemed more
about abstracting out the differences between rss and atom and we
really had no need for that.

I'll also point out that http://atomserver.codehaus.org/ is based on abdera.

--Chuck

On Sun, Jul 27, 2008 at 11:37 PM, dev &lt;dev.akhawe@...&gt; wrote:
&gt; http://en.wikipedia.org/wiki/Apache_Abdera
&gt;
&gt; I am not sure .. never having used it myself , but please check it out
&gt; if you haven't already. I apologize if you already have checked it.
&gt;
&gt; Thanks
&gt; Devdatta
&gt;
&gt; 2008/7/27 Brandon Carlson &lt;bcarlso@...&gt;:
&gt;&gt; All,
&gt;&gt;
&gt;&gt; I'm looking for a good APP library to use in a new Java API I'm
&gt;&gt; working on. Does anyone on this list have any suggestions?
&gt;&gt;
&gt;&gt; Thanks!
&gt;&gt; Brandon
&gt;&gt;
&gt;&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11087<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-07-29 18:08:46<br>
Subject:"It's what all the smart people are asking"<br>
Message:<br><br>
<pre>Just a comic strip ... but it made me chuckle :-)

http://blogs.msdn.com/officeoffline/archive/2008/07/29/it-s-what-all-the-smart-people-are-asking.aspx

[alt] http://tinyurl.com/5f5qep

Regards,
Alan Dean


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11088<br>
Sender:Prashanth Shenoy &lt;prashanthshenoyu@...&gt;<br>
Post Date/Time:2008-07-30 06:54:06<br>
Subject:Re: [rest-discuss] Re: Query regarding batch updates<br>
Message:<br><br>
<pre>I am developing a service that exposes REST apis. 

The schema of the payloads and the responses for every API followsour own custom format. (unlike say ATOM where the structure is standard).

A typical schema could be like this..

&lt;Data xmlns="www.MyWebService.com"&gt;
 &lt;DataItem&gt;&lt;/DataItem&gt;
&lt;DataItem&gt;&lt;/DataItem&gt;
&lt;/Data&gt;

Now, when a client sends a payload conforming to the above schema, at the server the framework automatically maps this to a class object that can be used within the server code in an object oriented fashion.

Similarly sending a response back to the client in the above schema is easy..

Lets assume that I am doing a batch operation on a set of resourcesand I want to indicate the status using 207, then instead of using the WebDav response which goes something like this...

&lt;D:multistatus xmlns:D="DAV:"
 xmlns:Z="http://www.w3.com/standards/z39.50"&gt;
 &lt;D:response&gt;
 &lt;D:href&gt;http://www.foo.com/bar.html&lt;/D:href&gt;
 &lt;D:propstat&gt;
 &lt;D:prop&gt;&lt;Z:Authors/&gt;&lt;/D:prop&gt;
 &lt;D:status&gt;HTTP/1.1 424 Failed Dependency&lt;/D:status&gt;
 &lt;/D:propstat&gt;
 &lt;D:propstat&gt;
 &lt;D:prop&gt;&lt;Z:Copyright-Owner/&gt;&lt;/D:prop&gt;
 &lt;D:status&gt;HTTP/1.1 409 Conflict&lt;/D:status&gt;
 &lt;/D:propstat&gt;
 &lt;D:responsedescription&gt; Copyright Owner can not be deleted or
 altered.&lt;/D:responsedescription&gt;
 &lt;/D:response&gt;
 &lt;/D:multistatus&gt;

Can I use something like this...?

&lt;ErrorCodes&gt;
 &lt;Error&gt;
 &lt;Resource&gt;1&lt;/Resource&gt;
&lt;Status&gt;200 OK&lt;/Status&gt;
 &lt;/Error&gt;
 &lt;Error&gt;
 &lt;Resource&gt;2&lt;/Resource&gt;
 &lt;Status&gt;404 Not Found&lt;/Status&gt;
 &lt;/Error&gt;
&lt;/ErrorCodes&gt;

The advantage here is as I mentioned earlier, the ease of implementation and the uniformity in the schemasas far as my service is concerned.

I hope I am clear





--- On Tue, 7/29/08, Julian Reschke &lt;julian.reschke@...&gt; wrote:

From: Julian Reschke &lt;julian.reschke@...&gt;
Subject: Re: [rest-discuss] Re: Query regarding batch updates
To: prashanthshenoyu@...
Cc: rest-discuss@yahoogroups.com, "Aristotle Pagaltzis" &lt;pagaltzis@...&gt;
Date: Tuesday, July 29, 2008, 6:35 AM

Prashanth Shenoy wrote:
&gt; 
&gt; 
&gt; Can I use a custom XML vocabulary in the response body along with the 
&gt; 207 Multi Status code? 
&gt; 
&gt;  
&gt; 
&gt; In other words, if the clients know that they have to interpret the 
&gt; response body differently , when they receive the 207, is it ok?
&gt; 
&gt;  
&gt; 
&gt; Does this go against the spirit of REST?

I don't think that REST says anything about it.

It certainly goes against the letter of the RFC (4918) which defines 
status code 207.

Is there a specific reason why the given XML vocabulary can't be used? 
Keep in mind that it's extensible.

BR, Julian

------------------------------------

Yahoo! Groups Links




      </pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11089<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-07-30 07:00:22<br>
Subject:Re: [rest-discuss] Re: Query regarding batch updates<br>
Message:<br><br>
<pre>Hi,

yes, most of the time it's simpler to come up with a minimal format that 
just reflects the internals of some objects.

You can do it, and it will work. Until you want to interface with 
others, use standard libraries, etc.

BR, Julian




Prashanth Shenoy wrote:
&gt; 
&gt; 
&gt; I am developing a service that exposes REST apis.
&gt; 
&gt;  
&gt; 
&gt; The schema of the payloads and the responses for every API follows our 
&gt; own custom format. (unlike say ATOM where the structure is standard).
&gt; 
&gt;  
&gt; 
&gt; A typical schema could be like this..
&gt; 
&gt;  
&gt; 
&gt; &lt;Data xmlns="www.MyWebService.com"&gt;
&gt; 
&gt;    &lt;DataItem&gt;&lt;/DataItem&gt;
&gt; 
&gt;    &lt;DataItem&gt;&lt;/DataItem&gt;
&gt; 
&gt; &lt;/Data&gt;
&gt; 
&gt;  
&gt; 
&gt; Now, when a client sends a payload conforming to the above schema, at 
&gt; the server the framework automatically maps this to a class object that 
&gt; can be used within the server code in an object oriented fashion.
&gt; 
&gt;  
&gt; 
&gt; Similarly sending a response back to the client in the above schema is easy.
&gt; 
&gt;  
&gt; 
&gt; Lets assume that I am doing a batch operation on a set of resources and 
&gt; I want to indicate the status using 207, then instead of using the 
&gt; WebDav response which goes something like this...
&gt; 
&gt;  
&gt; 
&gt;  &lt;D:multistatus xmlns:D="DAV:"
&gt;    xmlns:Z="http://www.w3.com/standards/z39.50"&gt;
&gt;      &lt;D:response&gt;
&gt;           &lt;D:href&gt;http://www.foo.com/bar.html&lt;/D:href&gt;
&gt;           &lt;D:propstat&gt;
&gt;                &lt;D:prop&gt;&lt;Z:Authors/&gt;&lt;/D:prop&gt;
&gt;                &lt;D:status&gt;HTTP/1.1 424 Failed Dependency&lt;/D:status&gt;
&gt;           &lt;/D:propstat&gt;
&gt;           &lt;D:propstat&gt;
&gt;                &lt;D:prop&gt;&lt;Z:Copyright-Owner/&gt;&lt;/D:prop&gt;
&gt;                &lt;D:status&gt;HTTP/1.1 409 Conflict&lt;/D:status&gt;
&gt;           &lt;/D:propstat&gt;
&gt;           &lt;D:responsedescription&gt; Copyright Owner can not be deleted or
&gt;    altered.&lt;/D:responsedescription&gt;
&gt;      &lt;/D:response&gt;
&gt;    &lt;/D:multistatus&gt;
&gt; 
&gt;  
&gt; 
&gt; Can I use something like this...?
&gt; 
&gt;  
&gt; 
&gt; &lt; ErrorCodes &gt;
&gt; 
&gt;    &lt; Error &gt;
&gt; 
&gt;          &lt; Resource &gt; 1 &lt;/ Resource &gt;
&gt; 
&gt;          &lt; Status &gt; 200 OK &lt;/ Status &gt;
&gt; 
&gt;    &lt;/ Error &gt;
&gt; 
&gt;    &lt; Error &gt;
&gt; 
&gt;           &lt; Resource &gt; 2 &lt;/ Resource &gt;
&gt; 
&gt;           &lt; Status &gt; 404 Not Found &lt;/ Status &gt;
&gt; 
&gt;    &lt;/ Error &gt;
&gt; 
&gt; &lt;/ ErrorCodes &gt;
&gt; 
&gt;  
&gt; 
&gt; The advantage here is as I mentioned earlier, the ease of implementation 
&gt; and the uniformity in the schemas as far as my service is concerned.
&gt; 
&gt;  
&gt; 
&gt; I hope I am clear
&gt; 
&gt; 
&gt; 
&gt; 
&gt; --- On *Tue, 7/29/08, Julian Reschke /&lt;julian.reschke@...&gt;/* wrote:
&gt; 
&gt;     From: Julian Reschke &lt;julian.reschke@...&gt;
&gt;     Subject: Re: [rest-discuss] Re: Query regarding batch updates
&gt;     To: prashanthshenoyu@...
&gt;     Cc: rest-discuss@yahoogroups.com, "Aristotle Pagaltzis"
&gt;     &lt;pagaltzis@...&gt;
&gt;     Date: Tuesday, July 29, 2008, 6:35 AM
&gt; 
&gt;     Prashanth Shenoy wrote:
&gt;     &gt; 
&gt;     &gt; 
&gt;     &gt; Can I use a custom XML vocabulary in the response body along with the 
&gt;     &gt; 207 Multi Status code? 
&gt;     &gt; 
&gt;     &gt;  
&gt;     &gt; 
&gt;     &gt; In other words, if the clients know that they have to interpret the 
&gt;     &gt; response body differently , when they receive the 207, is it ok?
&gt;     &gt; 
&gt;     &gt;  
&gt;     &gt; 
&gt;     &gt; Does this go against the spirit of REST?
&gt; 
&gt;     I don't think that REST says anything about it.
&gt; 
&gt;     It certainly goes against the letter of the RFC (4918) which defines 
&gt;     status code 207.
&gt; 
&gt;     Is there a specific reason why the given XML vocabulary can't be used? 
&gt;     Keep in mind that it's extensible.
&gt; 
&gt;     BR, Julian
&gt; 
&gt;     ------------------------------------
&gt; 
&gt;     Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11090<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-07-29 17:01:01<br>
Subject:"It's what all the smart people are asking"<br>
Message:<br><br>
<pre>Just a comic strip ... but it made me chuckle :-)

http://blogs.msdn.com/officeoffline/archive/2008/07/29/it-s-what-all-the-smart-people-are-asking.aspx

[alt] http://tinyurl.com/5f5qep

Regards,
Alan Dean


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11091<br>
Sender:"Brandon Carlson" &lt;bcarlso@...&gt;<br>
Post Date/Time:2008-07-30 23:26:58<br>
Subject:Re: [rest-discuss] APP library for Java<br>
Message:<br><br>
<pre>Thanks for everyone's input. I'll definitely be checking them out.

Thanks!
Brandon

On 7/29/08, Chuck Hinson &lt;chuck.hinson@...&gt; wrote:
&gt; We did use abdera about a year ago and it worked very well for us.  We
&gt; selected it over rome - I don't recall exactly why anymore, but I
&gt; think it was because abdera was just atom whereas rome seemed more
&gt; about abstracting out the differences between rss and atom and we
&gt; really had no need for that.
&gt;
&gt; I'll also point out that http://atomserver.codehaus.org/ is based on abdera.
&gt;
&gt; --Chuck
&gt;
&gt; On Sun, Jul 27, 2008 at 11:37 PM, dev &lt;dev.akhawe@...&gt; wrote:
&gt;&gt; http://en.wikipedia.org/wiki/Apache_Abdera
&gt;&gt;
&gt;&gt; I am not sure .. never having used it myself , but please check it out
&gt;&gt; if you haven't already. I apologize if you already have checked it.
&gt;&gt;
&gt;&gt; Thanks
&gt;&gt; Devdatta
&gt;&gt;
&gt;&gt; 2008/7/27 Brandon Carlson &lt;bcarlso@...&gt;:
&gt;&gt;&gt; All,
&gt;&gt;&gt;
&gt;&gt;&gt; I'm looking for a good APP library to use in a new Java API I'm
&gt;&gt;&gt; working on. Does anyone on this list have any suggestions?
&gt;&gt;&gt;
&gt;&gt;&gt; Thanks!
&gt;&gt;&gt; Brandon
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; ------------------------------------
&gt;&gt;
&gt;&gt; Yahoo! Groups Links
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11092<br>
Sender:"Erling Wegger Linde" &lt;erlingwl@...&gt;<br>
Post Date/Time:2008-07-31 06:10:23<br>
Subject:Re: [rest-discuss] REST for rich client persistence<br>
Message:<br><br>
<pre>Hi,

I've been experimenting with this for a little while, and it works
great to me. (I have a Grails webapp, a Confluence Plugin and an
Eclipse Plugin I'm working on)

You could just put your serialized objects in RDF, XML, JSON(?) etc.
in the &lt;content type="yourtype"&gt; element of the &lt;entry&gt;s... If they
don't map directly to the other elements of Atom.

I have created parser + serialize methods on my objects and are using
them on both client and server side.. You only need an AtomPub library
to handle the communication (++).

You might have to cache, or do something clever on the client side if
the response times are slow, but I guess there are a lot of techniques
to do that both for GUIs and of course for REST in general.

- Erling

On Tue, Jul 29, 2008 at 5:53 AM, Rickard berg &lt;rickardoberg@...&gt; wrote:
&gt; Hi!
&gt;
&gt; Has anyone tried using REST/HTTP as protocol for rich clients talking to
&gt; servers, for persistence? In my case I want to have a Java client
&gt; talking to a Java server, where both sides use a rich domain model to
&gt; modify state, but the means to get state from client to server and back
&gt; would be AtomPub or similar. Any experience with this on the list?
&gt;
&gt; thanks,
&gt; Rickard
&gt;
&gt; 



-- 
Med vennlig hilsen
Erling Wegger Linde

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11093<br>
Sender:=?ISO-8859-1?Q?Rickard_=D6berg?= &lt;rickardoberg@...&gt;<br>
Post Date/Time:2008-07-31 06:17:42<br>
Subject:Re: [rest-discuss] REST for rich client persistence<br>
Message:<br><br>
<pre>Erling Wegger Linde wrote:
&gt; You could just put your serialized objects in RDF, XML, JSON(?) etc.
&gt; in the &lt;content type="yourtype"&gt; element of the &lt;entry&gt;s... If they
&gt; don't map directly to the other elements of Atom.

Yeah that was the scheme I was thinking of (using RDF+Atom, specifically).

&gt; I have created parser + serialize methods on my objects and are using
&gt; them on both client and server side.. You only need an AtomPub library
&gt; to handle the communication (++).

Abdera seems like a good fit for that.

&gt; You might have to cache, or do something clever on the client side if
&gt; the response times are slow, but I guess there are a lot of techniques
&gt; to do that both for GUIs and of course for REST in general.

I expect my clients to be in Java, so caching should be fine. And the 
caching, and possibility to do routing, is one of the main reasons I 
want to use REST as the "protocol", even though an all-Java RMI-based 
one would have "worked" as well.

/Rickard

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11094<br>
Sender:"Erling Wegger Linde" &lt;erlingwl@...&gt;<br>
Post Date/Time:2008-07-31 06:30:46<br>
Subject:Re: [rest-discuss] REST for rich client persistence<br>
Message:<br><br>
<pre>On Thu, Jul 31, 2008 at 8:17 AM, Rickard berg &lt;rickardoberg@...&gt; wrote:
&gt; Erling Wegger Linde wrote:
&gt;&gt;
&gt;&gt; You could just put your serialized objects in RDF, XML, JSON(?) etc.
&gt;&gt; in the &lt;content type="yourtype"&gt; element of the &lt;entry&gt;s... If they
&gt;&gt; don't map directly to the other elements of Atom.
&gt;
&gt; Yeah that was the scheme I was thinking of (using RDF+Atom, specifically).

One great thing about Atom + RDF is that you get very stable
interfaces - and hence a very loose coupling, especially if you use
ontologies that are widely known, such as FOAF, SIOC ++ You can
implement your clients and servers in any language you want.

&gt;
&gt;&gt; I have created parser + serialize methods on my objects and are using
&gt;&gt; them on both client and server side.. You only need an AtomPub library
&gt;&gt; to handle the communication (++).
&gt;
&gt; Abdera seems like a good fit for that.

I guess so, I have used Rome and that works great too.

&gt;
&gt;&gt; You might have to cache, or do something clever on the client side if
&gt;&gt; the response times are slow, but I guess there are a lot of techniques
&gt;&gt; to do that both for GUIs and of course for REST in general.
&gt;
&gt; I expect my clients to be in Java, so caching should be fine. And the
&gt; caching, and possibility to do routing, is one of the main reasons I want to
&gt; use REST as the "protocol", even though an all-Java RMI-based one would have
&gt; "worked" as well.

As mentioned above, REST gives you a language independent stable
interface (even more with AtomPub). So if you decide to implement you
client or server in something else than Java in the future, it would
still work as before =)

- Erling

&gt;
&gt; /Rickard
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11095<br>
Sender:"Matthias Ernst" &lt;ernst.matthias@...&gt;<br>
Post Date/Time:2008-07-31 16:57:12<br>
Subject:Re: [rest-discuss] REST for rich client persistence<br>
Message:<br><br>
<pre>I've once built a very simple case. There was only one resource
holding the configuration data of a video headend. It could be GOT and
PUT.
Content format was XML which I processed using JAXB on the server
side, looked at the changes, reconfigured the headend, persisted the
config.
Clients were a rich Java client, curl and MS Infopath.

Worked like a charm.

Matthias

On Tue, Jul 29, 2008 at 5:53 AM, Rickard berg &lt;rickardoberg@...&gt; wrote:
&gt; Hi!
&gt;
&gt; Has anyone tried using REST/HTTP as protocol for rich clients talking to
&gt; servers, for persistence? In my case I want to have a Java client
&gt; talking to a Java server, where both sides use a rich domain model to
&gt; modify state, but the means to get state from client to server and back
&gt; would be AtomPub or similar. Any experience with this on the list?
&gt;
&gt; thanks,
&gt; Rickard
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11096<br>
Sender:=?ISO-8859-1?Q?Rickard_=D6berg?= &lt;rickardoberg@...&gt;<br>
Post Date/Time:2008-08-01 01:39:55<br>
Subject:Re: [rest-discuss] REST for rich client persistence<br>
Message:<br><br>
<pre>Matthias Ernst wrote:
&gt; I've once built a very simple case. There was only one resource
&gt; holding the configuration data of a video headend. It could be GOT and
&gt; PUT.
&gt; Content format was XML which I processed using JAXB on the server
&gt; side, looked at the changes, reconfigured the headend, persisted the
&gt; config.
&gt; Clients were a rich Java client, curl and MS Infopath.

That's great, but it still sounds like a rather simple way. Is there 
anyone who has used REST(/Atom/RDF/XML/?) more like a backend for 
object-mapping *on the client*, so that the client uses Java objects and 
the changes are persisted using REST principles.

I'm looking for patterns on how to map resources, do collections, send 
changes (as commands or state), handle security, do domain rules on the 
client, etc.

/Rickard

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11097<br>
Sender:"Erling Wegger Linde" &lt;erlingwl@...&gt;<br>
Post Date/Time:2008-08-02 10:59:38<br>
Subject:URLs in URLs<br>
Message:<br><br>
<pre>Hi,

I'm creating a RESTful web service (actually AtomPub).

../projects/ returns an Atom feed
../projects/{project} returns an Atom entry with a DOAP description of
a project in the &lt;content&gt; element

DOAP is an ontology for describing projects (see
https://trac.usefulinc.com/doap)

My original plan was to use the projects name (e.g. doap:name) as the
key for the project, i.e.

../projects/{name}

But in DOAP a project is uniquely defined from its homepage
(doap:homepage) which of course is much better than to use the
doap:name.

So I'm thinking of using a hash of the doap:homepage such as

../projects/{hash of doap:homepage}

Has anyone done something similar before? I'm thinking that my case is
not very unique and that this is a general topic for REST. (i.e. how
to embed URLs in URLs - if one can say that).

So as I'm searching for a hash algorithm that I could use (a client
should be able to reverse the hash to get the URL an vice versa), I'm
thinking that if there was a best practice for doing this in REST,
that would be a good thing. E.g. clients could exploit this
information somehow. Does there exist such a "best practice", or
should there be one?

And finally; any hash-algorithms that you recommend?

Thanks,
- Erling

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11098<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-08-02 11:40:28<br>
Subject:Re: [rest-discuss] URLs in URLs<br>
Message:<br><br>
<pre>Erling,

You could simply encode the doap:homepage address, e.g.

.../projects/http%3A%2F%2Fexample%2Ecom%2Fprojectname

or if you prefer something more opaque, you can MD5 hash the address, e.g.

.../projects/90e94d81a090e2e9d1317655c3355ad7

or Base64 MD5 hash:

.../projects/kOlNgaCQ4unRMXZVwzVa1w==

I'll throw a final option in just for the fun of it. Consider that
http://example.com/projectname can be represented as
http://tinyurl.com/5mdzjd (I created this myself) you could 'hash' it
using the tinyurl path (or write your own tiny-clone), e.g.

.../projects/5mdzjd

Regards,
Alan Dean

On Sat, Aug 2, 2008 at 11:59 AM, Erling Wegger Linde &lt;erlingwl@...&gt; wrote:
&gt; Hi,
&gt;
&gt; I'm creating a RESTful web service (actually AtomPub).
&gt;
&gt; ../projects/ returns an Atom feed
&gt; ../projects/{project} returns an Atom entry with a DOAP description of
&gt; a project in the &lt;content&gt; element
&gt;
&gt; DOAP is an ontology for describing projects (see
&gt; https://trac.usefulinc.com/doap)
&gt;
&gt; My original plan was to use the projects name (e.g. doap:name) as the
&gt; key for the project, i.e.
&gt;
&gt; ../projects/{name}
&gt;
&gt; But in DOAP a project is uniquely defined from its homepage
&gt; (doap:homepage) which of course is much better than to use the
&gt; doap:name.
&gt;
&gt; So I'm thinking of using a hash of the doap:homepage such as
&gt;
&gt; ../projects/{hash of doap:homepage}
&gt;
&gt; Has anyone done something similar before? I'm thinking that my case is
&gt; not very unique and that this is a general topic for REST. (i.e. how
&gt; to embed URLs in URLs - if one can say that).
&gt;
&gt; So as I'm searching for a hash algorithm that I could use (a client
&gt; should be able to reverse the hash to get the URL an vice versa), I'm
&gt; thinking that if there was a best practice for doing this in REST,
&gt; that would be a good thing. E.g. clients could exploit this
&gt; information somehow. Does there exist such a "best practice", or
&gt; should there be one?
&gt;
&gt; And finally; any hash-algorithms that you recommend?
&gt;
&gt; Thanks,
&gt; - Erling
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11099<br>
Sender:Brendan Taylor &lt;whateley@...&gt;<br>
Post Date/Time:2008-08-02 19:11:13<br>
Subject:Re: [rest-discuss] URLs in URLs<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11100<br>
Sender:"Erling Wegger Linde" &lt;erlingwl@...&gt;<br>
Post Date/Time:2008-08-02 19:32:04<br>
Subject:Re: [rest-discuss] URLs in URLs<br>
Message:<br><br>
<pre>On Sat, Aug 2, 2008 at 1:40 PM, Alan Dean &lt;alan.dean@...&gt; wrote:
&gt; Erling,
&gt;
&gt; You could simply encode the doap:homepage address, e.g.
&gt;
&gt; .../projects/http%3A%2F%2Fexample%2Ecom%2Fprojectname

Aah, I hadn't thought about that - keep it simple =)

&gt;
&gt; or if you prefer something more opaque, you can MD5 hash the address, e.g.
&gt;
&gt; .../projects/90e94d81a090e2e9d1317655c3355ad7
&gt;
&gt; or Base64 MD5 hash:
&gt;
&gt; .../projects/kOlNgaCQ4unRMXZVwzVa1w==

That keeps the urls a bit shorter, which is good, but I'm wondering,
can a client deduce the hashed URL from the MD5 hash? (reverse it?). I
think that would be a great feature..

&gt;
&gt; I'll throw a final option in just for the fun of it. Consider that
&gt; http://example.com/projectname can be represented as
&gt; http://tinyurl.com/5mdzjd (I created this myself) you could 'hash' it
&gt; using the tinyurl path (or write your own tiny-clone), e.g.
&gt;
&gt; .../projects/5mdzjd

That's a short and nice URL, but then I'm making my service dependent
on tinyurl.com right? Which I think is best to avoid in the long run.
I could create my own "clone" as you suggest, but I think that might
bee a bit complex solution.

I think maybe I'll try encoding the URL, and perhaps support some hash
format of the URL too. (Hopefully, they won't overlap).

Thanks,
- Erling



&gt;
&gt; Regards,
&gt; Alan Dean
&gt;
&gt; On Sat, Aug 2, 2008 at 11:59 AM, Erling Wegger Linde &lt;erlingwl@...&gt; wrote:
&gt;&gt; Hi,
&gt;&gt;
&gt;&gt; I'm creating a RESTful web service (actually AtomPub).
&gt;&gt;
&gt;&gt; ../projects/ returns an Atom feed
&gt;&gt; ../projects/{project} returns an Atom entry with a DOAP description of
&gt;&gt; a project in the &lt;content&gt; element
&gt;&gt;
&gt;&gt; DOAP is an ontology for describing projects (see
&gt;&gt; https://trac.usefulinc.com/doap)
&gt;&gt;
&gt;&gt; My original plan was to use the projects name (e.g. doap:name) as the
&gt;&gt; key for the project, i.e.
&gt;&gt;
&gt;&gt; ../projects/{name}
&gt;&gt;
&gt;&gt; But in DOAP a project is uniquely defined from its homepage
&gt;&gt; (doap:homepage) which of course is much better than to use the
&gt;&gt; doap:name.
&gt;&gt;
&gt;&gt; So I'm thinking of using a hash of the doap:homepage such as
&gt;&gt;
&gt;&gt; ../projects/{hash of doap:homepage}
&gt;&gt;
&gt;&gt; Has anyone done something similar before? I'm thinking that my case is
&gt;&gt; not very unique and that this is a general topic for REST. (i.e. how
&gt;&gt; to embed URLs in URLs - if one can say that).
&gt;&gt;
&gt;&gt; So as I'm searching for a hash algorithm that I could use (a client
&gt;&gt; should be able to reverse the hash to get the URL an vice versa), I'm
&gt;&gt; thinking that if there was a best practice for doing this in REST,
&gt;&gt; that would be a good thing. E.g. clients could exploit this
&gt;&gt; information somehow. Does there exist such a "best practice", or
&gt;&gt; should there be one?
&gt;&gt;
&gt;&gt; And finally; any hash-algorithms that you recommend?
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; - Erling
&gt;&gt;
&gt;&gt; 
&gt;



-- 
Med vennlig hilsen
Erling Wegger Linde

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11101<br>
Sender:"Erling Wegger Linde" &lt;erlingwl@...&gt;<br>
Post Date/Time:2008-08-02 19:34:19<br>
Subject:Re: [rest-discuss] URLs in URLs<br>
Message:<br><br>
<pre>On Sat, Aug 2, 2008 at 9:11 PM, Brendan Taylor &lt;whateley@...&gt; wrote:
&gt; For my AtomPub client (which tries to be a RESTful web service itself;
&gt; it's kind of a proxy that bridges application/x-www-form-urlencoded and
&gt; application/atom+xml), I just put the URL in the query string, eg.
&gt;
&gt; http://necronomicorp.com/pushpin/collection?url=http%3A%2F%2Fnecronomicorp.com%2Fpushpin%2Fsandbox%3Ft%3Datom
&gt;
&gt; It's ugly, but functional.

Hi,

Thanks for the example, I don't think that would work so good for my
service as I would like to have URLs like

projecs/{project-url}/repositories

projecs/{project-url}/issues

etc.. so it might be a bit difficult to keep track of all the
parameters in the long run.

- Erling

&gt;
&gt; I used the query string instead of just making the URL part of the path
&gt; section because it seemed a bit confusing when you're handling a URL
&gt; that itself has a query portion, but either way works.
&gt;



-- 
Med vennlig hilsen
Erling Wegger Linde

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11102<br>
Sender:Justin Sheehy &lt;justin@...&gt;<br>
Post Date/Time:2008-08-02 19:51:39<br>
Subject:Re: [rest-discuss] URLs in URLs<br>
Message:<br><br>
<pre>Erling,

On Aug 2, 2008, at 3:32 PM, Erling Wegger Linde wrote:

&gt; That keeps the urls a bit shorter, which is good, but I'm wondering,
&gt; can a client deduce the hashed URL from the MD5 hash? (reverse it?). I
&gt; think that would be a great feature..

No, in general they cannot.

Most hash functions are intended to be preimage-resistant, which means
that one of their goals is that given hash(X) alone it is hard to  
discover X.

You want a URI-safe encoding, not a cryptographic hash function.

-Justin



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11103<br>
Sender:"Erling Wegger Linde" &lt;erlingwl@...&gt;<br>
Post Date/Time:2008-08-03 10:08:48<br>
Subject:Re: [rest-discuss] URLs in URLs<br>
Message:<br><br>
<pre>On Sat, Aug 2, 2008 at 9:51 PM, Justin Sheehy &lt;justin@...&gt; wrote:
&gt; Erling,
&gt;
&gt; On Aug 2, 2008, at 3:32 PM, Erling Wegger Linde wrote:
&gt;
&gt;&gt; That keeps the urls a bit shorter, which is good, but I'm wondering,
&gt;&gt; can a client deduce the hashed URL from the MD5 hash? (reverse it?). I
&gt;&gt; think that would be a great feature..
&gt;
&gt; No, in general they cannot.
&gt;
&gt; Most hash functions are intended to be preimage-resistant, which means
&gt; that one of their goals is that given hash(X) alone it is hard to discover
&gt; X.
&gt;
&gt; You want a URI-safe encoding, not a cryptographic hash function.

That is what I suspected. I'll start with encoding my URLs with the
application/x-www-form-urlencoded  MIME format then.

Thanks a lot guys,
- Erling

&gt;
&gt; -Justin
&gt;
&gt;
&gt;



-- 
Med vennlig hilsen
Erling Wegger Linde

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11104<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-08-03 21:25:02<br>
Subject:forms for web APIs<br>
Message:<br><br>
<pre>I got asked an interesting question a while back, for which I did not 
have a snappy answer - why aren't html forms a basis for an API? Other 
than the early blogging APIs being based on XML-RPC and eventually 
evolving into AtomPub I don't really know why forms with well-known 
query params aren't a a de-facto standard.

Thoughts?

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11105<br>
Sender:Berend de Boer &lt;berend@...&gt;<br>
Post Date/Time:2008-08-03 22:32:43<br>
Subject:Re: [rest-discuss] forms for web APIs<br>
Message:<br><br>
<pre>&gt;&gt;&gt;&gt;&gt; "Bill" == Bill de hOra &lt;bill@...&gt; writes:

    Bill&gt; I got asked an interesting question a while back, for which I
    Bill&gt; did not have a snappy answer - why aren't html forms a basis
    Bill&gt; for an API? Other than the early blogging APIs being based on
    Bill&gt; XML-RPC and eventually evolving into AtomPub I don't really
    Bill&gt; know why forms with well-known query params aren't a a
    Bill&gt; de-facto standard.

Maybe it's a well-hidden secret? I'm using form submissions as they work
are easy to work with.

But what they don't support is submitting complex data of course, so at
that point you need to step outside the form paradigm a bit. I solved
that using JSON for complex parameters.

But obviously that leads to the question: why not use JSON/XML all the way?


PS: I chose  JSON because Ext only has a JSON encoding function and
secondly because it's more compact. But wherever I can, I use XML as
that can be validated and transformed.

-- 
Cheers,

Berend de Boer

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11106<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-08-03 23:26:34<br>
Subject:Re: [rest-discuss] forms for web APIs<br>
Message:<br><br>
<pre>I guess I am puzzled by the question a bit. An HTML form is just a  
server-supplied hypermedia, and I don't see how the form itself can be  
an API. Does it matter for the server whether some URI with some well- 
known query parameters was manufactured by a form or some other means?

Subbu

On Aug 3, 2008, at 2:25 PM, Bill de hOra wrote:

&gt; I got asked an interesting question a while back, for which I did not
&gt; have a snappy answer - why aren't html forms a basis for an API? Other
&gt; than the early blogging APIs being based on XML-RPC and eventually
&gt; evolving into AtomPub I don't really know why forms with well-known
&gt; query params aren't a a de-facto standard.
&gt;
&gt; Thoughts?
&gt;
&gt; Bill
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11107<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-08-03 23:30:45<br>
Subject:Re: [rest-discuss] forms for web APIs<br>
Message:<br><br>
<pre>I always thought it was because (in REST terms) the &lt;form method=""&gt;
can only be GET or POST.

Alan

On Sun, Aug 3, 2008 at 10:25 PM, Bill de hOra &lt;bill@...&gt; wrote:
&gt; I got asked an interesting question a while back, for which I did not
&gt; have a snappy answer - why aren't html forms a basis for an API? Other
&gt; than the early blogging APIs being based on XML-RPC and eventually
&gt; evolving into AtomPub I don't really know why forms with well-known
&gt; query params aren't a a de-facto standard.
&gt;
&gt; Thoughts?
&gt;
&gt; Bill
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11108<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-08-03 23:53:37<br>
Subject:Re: [rest-discuss] forms for web APIs<br>
Message:<br><br>
<pre>On Sun, Aug 3, 2008 at 2:25 PM, Bill de hOra &lt;bill@...&gt; wrote:
&gt; I got asked an interesting question a while back, for which I did not
&gt; have a snappy answer - why aren't html forms a basis for an API? Other
&gt; than the early blogging APIs being based on XML-RPC and eventually
&gt; evolving into AtomPub I don't really know why forms with well-known
&gt; query params aren't a a de-facto standard.

Because forms are expressed using HTML, and HTML deals with
presentation and content, which is clearly different from what APIs
are about.


Now, before we discuss how well in holds, this wasn't a statement but
an attempt to summarize in one line the gist of the reactions I got
when suggesting that people just use forms.  There are obviously some
limitations to current specifications, HTML 4 not the most capable
form language, but even for use cases which it does very well, that
was pretty much the knee jerk reaction I always received.

I once illustrated how easily you can use forms to update a blog post
by using curl instead of a Web browser.  The query parameters are
actually common enough that the same code would work on different
blogs, at least the two I tested with (WP and Blogger).  I got sent to
look at AtomPub and XML-RPC, because regardless of how many posts I
created that way (around a thousand), forms are apparently unable to
scale to the grueling demands presented by APIs.

I think it's mostly -- again, speaking of cases where forms are
successfully used -- a matter of perception.

Assaf

&gt;
&gt; Thoughts?
&gt;
&gt; Bill
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11109<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-08-03 23:56:11<br>
Subject:Re: [rest-discuss] forms for web APIs<br>
Message:<br><br>
<pre>On Sun, Aug 3, 2008 at 4:53 PM, Assaf Arkin &lt;assaf@...&gt; wrote:
&gt; On Sun, Aug 3, 2008 at 2:25 PM, Bill de hOra &lt;bill@...&gt; wrote:
&gt;&gt; I got asked an interesting question a while back, for which I did not
&gt;&gt; have a snappy answer - why aren't html forms a basis for an API? Other
&gt;&gt; than the early blogging APIs being based on XML-RPC and eventually
&gt;&gt; evolving into AtomPub I don't really know why forms with well-known
&gt;&gt; query params aren't a a de-facto standard.

here's that 15-minute exercise:
http://blog.labnotes.org/2007/08/16/the-simple-publishing-protocol/

Assaf

&gt;
&gt; Because forms are expressed using HTML, and HTML deals with
&gt; presentation and content, which is clearly different from what APIs
&gt; are about.
&gt;
&gt;
&gt; Now, before we discuss how well in holds, this wasn't a statement but
&gt; an attempt to summarize in one line the gist of the reactions I got
&gt; when suggesting that people just use forms.  There are obviously some
&gt; limitations to current specifications, HTML 4 not the most capable
&gt; form language, but even for use cases which it does very well, that
&gt; was pretty much the knee jerk reaction I always received.
&gt;
&gt; I once illustrated how easily you can use forms to update a blog post
&gt; by using curl instead of a Web browser.  The query parameters are
&gt; actually common enough that the same code would work on different
&gt; blogs, at least the two I tested with (WP and Blogger).  I got sent to
&gt; look at AtomPub and XML-RPC, because regardless of how many posts I
&gt; created that way (around a thousand), forms are apparently unable to
&gt; scale to the grueling demands presented by APIs.
&gt;
&gt; I think it's mostly -- again, speaking of cases where forms are
&gt; successfully used -- a matter of perception.
&gt;
&gt; Assaf
&gt;
&gt;&gt;
&gt;&gt; Thoughts?
&gt;&gt;
&gt;&gt; Bill
&gt;&gt;
&gt;&gt; ------------------------------------
&gt;&gt;
&gt;&gt; Yahoo! Groups Links
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11110<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2008-08-03 23:58:29<br>
Subject:Re: [rest-discuss] forms for web APIs<br>
Message:<br><br>
<pre>Better than "API" is a scheme to populate certain well known form
fields, as they do in [1]. I always thought Atompub should have done
that [2].

[1] http://www.ietf.org/rfc/rfc3106.txt
[2] http://hughw.blogspot.com/2007/01/forms-driven-atom.html


On Sun, Aug 3, 2008 at 4:25 PM, Bill de hOra &lt;bill@...&gt; wrote:
&gt; I got asked an interesting question a while back, for which I did not
&gt; have a snappy answer - why aren't html forms a basis for an API? Other
&gt; than the early blogging APIs being based on XML-RPC and eventually
&gt; evolving into AtomPub I don't really know why forms with well-known
&gt; query params aren't a a de-facto standard.
&gt;
&gt; Thoughts?
&gt;
&gt; Bill
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;



-- 
Hugh Winkler, CEO
Wellstorm Development
31900 Ranch Road 12
Suite 206
Dripping Springs, TX 78620
USA
http://www.wellstorm.com/
+1 512 264 3998 x801

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11111<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2008-08-04 00:09:10<br>
Subject:Re: [rest-discuss] forms for web APIs<br>
Message:<br><br>
<pre>On Sun, Aug 3, 2008 at 6:58 PM, Hugh Winkler &lt;hughw@...&gt; wrote:
&gt; Better than "API" is a scheme to populate certain well known form
&gt; fields,

Oh, I think that's what you meant by "well known query params". Well,
I can't say why there hasn't been more uptake, but my browser does
know how to populate certain well known form field names.  We just
need more of them (well defined form field names, or class names).
Atompub would be a great place to start.


&gt; as they do in [1]. I always thought Atompub should have done
&gt; that [2].
&gt;
&gt; [1] http://www.ietf.org/rfc/rfc3106.txt
&gt; [2] http://hughw.blogspot.com/2007/01/forms-driven-atom.html
&gt;
&gt;
&gt; On Sun, Aug 3, 2008 at 4:25 PM, Bill de hOra &lt;bill@...&gt; wrote:
&gt;&gt; I got asked an interesting question a while back, for which I did not
&gt;&gt; have a snappy answer - why aren't html forms a basis for an API? Other
&gt;&gt; than the early blogging APIs being based on XML-RPC and eventually
&gt;&gt; evolving into AtomPub I don't really know why forms with well-known
&gt;&gt; query params aren't a a de-facto standard.
&gt;&gt;
&gt;&gt; Thoughts?
&gt;&gt;
&gt;&gt; Bill
&gt;&gt;
&gt;&gt; ------------------------------------
&gt;&gt;
&gt;&gt; Yahoo! Groups Links
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
&gt;
&gt;
&gt; --
&gt; Hugh Winkler, CEO
&gt; Wellstorm Development
&gt; 31900 Ranch Road 12
&gt; Suite 206
&gt; Dripping Springs, TX 78620
&gt; USA
&gt; http://www.wellstorm.com/
&gt; +1 512 264 3998 x801
&gt;



-- 
Hugh Winkler, CEO
Wellstorm Development
31900 Ranch Road 12
Suite 206
Dripping Springs, TX 78620
USA
http://www.wellstorm.com/
+1 512 264 3998 x801

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11112<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-08-04 10:12:44<br>
Subject:Re: forms for web APIs<br>
Message:<br><br>
<pre>* Assaf Arkin &lt;assaf@...&gt; [2008-08-04 01:55]:
&gt; I got sent to look at AtomPub and XML-RPC, because regardless
&gt; of how many posts I created that way (around a thousand), forms
&gt; are apparently unable to scale to the grueling demands
&gt; presented by APIs.

Blog entries consist of up to 4 or so unstructured text blobs.
Thats not very hard to do with `application/x-www-url-encoded`.
For data thats structured you need ever so slightly more. Up to
a point you can get by with dot notation in form key names, but
your structural options are limited and it gets ugly quickly.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11113<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-08-04 10:25:58<br>
Subject:Re: forms for web APIs<br>
Message:<br><br>
<pre>* Bill de hOra &lt;bill@...&gt; [2008-08-04 00:10]:
&gt; I got asked an interesting question a while back, for which I did not 
&gt; have a snappy answer - why aren't html forms a basis for an API? Other 
&gt; than the early blogging APIs being based on XML-RPC and eventually 
&gt; evolving into AtomPub I don't really know why forms with well-known 
&gt; query params aren't a a de-facto standard.

When the query params are well known, what do you need the form
for? You really only need an annotated link, like a `rel`
attribute on a generic link element or a special link element
names, so that machine clients will know what to do with it, at
which point they already know what to do with it without being
told about each form field, because they have well-known names.
All of which is the essence of AtomPub.

The other end of the question is application/x-www-url-encoded
and whether it suffices as a wire format for an API. Sure; a bag
of key-value pairs is a completely sufficient data structure to
cover a huge range of use cases.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11114<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-08-04 13:01:21<br>
Subject:Re: [rest-discuss] Re: forms for web APIs<br>
Message:<br><br>
<pre>Aristotle Pagaltzis wrote:
&gt; 
&gt; 
&gt; * Bill de hOra &lt;bill@... &lt;mailto:bill%40dehora.net&gt;&gt; [2008-08-04 
&gt; 00:10]:
&gt;  &gt; I got asked an interesting question a while back, for which I did not
&gt;  &gt; have a snappy answer - why aren't html forms a basis for an API? Other
&gt;  &gt; than the early blogging APIs being based on XML-RPC and eventually
&gt;  &gt; evolving into AtomPub I don't really know why forms with well-known
&gt;  &gt; query params aren't a a de-facto standard.
&gt; 
&gt; When the query params are well known, what do you need the form
&gt; for? 

Easy integration with a lot of deployed software.

&gt; You really only need an annotated link, like a `rel`
&gt; attribute on a generic link element or a special link element
&gt; names, so that machine clients will know what to do with it, at
&gt; which point they already know what to do with it without being
&gt; told about each form field, because they have well-known names.
&gt; All of which is the essence of AtomPub.

And also the essence of opensearch, if I understand you properly.


&gt; The other end of the question is application/x-www-url-encoded
&gt; and whether it suffices as a wire format for an API. Sure; a bag
&gt; of key-value pairs is a completely sufficient data structure to
&gt; cover a huge range of use cases.

My suspicion is that it's to a Web Data API as a HashMap is to an OO API.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11115<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-08-04 13:09:10<br>
Subject:Re: [rest-discuss] Re: forms for web APIs<br>
Message:<br><br>
<pre>Aristotle Pagaltzis wrote:
&gt; 
&gt; 
&gt; * Assaf Arkin &lt;assaf@... &lt;mailto:assaf%40labnotes.org&gt;&gt; 
&gt; [2008-08-04 01:55]:
&gt;  &gt; I got sent to look at AtomPub and XML-RPC, because regardless
&gt;  &gt; of how many posts I created that way (around a thousand), forms
&gt;  &gt; are apparently unable to scale to the grueling demands
&gt;  &gt; presented by APIs.
&gt; 
&gt; Blog entries consist of up to 4 or so unstructured text blobs.
&gt; Thats not very hard to do with `application/x-www-url-encoded`.
&gt; For data thats structured you need ever so slightly more. Up to
&gt; a point you can get by with dot notation in form key names, but
&gt; your structural options are limited and it gets ugly quickly.

This is one thing I'm wondering about - the tradeoff between domain 
specific posting protocols and a generic carries-anything one like 
AtomPub. It seems in the read (non-posting), case, a preference towards 
something domain specific has worked very well for OpenSearch.

In particular this - I'd like to have a way to update an individual 
datum. A "forms POST" seems like a reasonable option for updates, given 
'PUT everything back' places pressure on clients to have everything to 
PUT back, and the various patch/delta/diff options that get suggested 
from time to time are (imo) very complicated.

So, if we go back to the the client controlled fields from early revs of 
atompub, it seems they are the common case and could be updated via 
application/x-www-url-encoded against the entry/mle using POST, which 
gives a clean split from PUT.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11116<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-08-04 14:43:03<br>
Subject:Re: [rest-discuss] Re: forms for web APIs<br>
Message:<br><br>
<pre>
On Aug 4, 2008, at 6:01 AM, Bill de hOra wrote:

&gt; Aristotle Pagaltzis wrote:
&gt; &gt;
&gt; &gt;
&gt; &gt; * Bill de hOra &lt;bill@... &lt;mailto:bill%40dehora.net&gt;&gt;  
&gt; [2008-08-04
&gt; &gt; 00:10]:
&gt; &gt; &gt; I got asked an interesting question a while back, for which I  
&gt; did not
&gt; &gt; &gt; have a snappy answer - why aren't html forms a basis for an API?  
&gt; Other
&gt; &gt; &gt; than the early blogging APIs being based on XML-RPC and eventually
&gt; &gt; &gt; evolving into AtomPub I don't really know why forms with well- 
&gt; known
&gt; &gt; &gt; query params aren't a a de-facto standard.
&gt; &gt;
&gt; &gt; When the query params are well known, what do you need the form
&gt; &gt; for?
&gt;
&gt; Easy integration with a lot of deployed software.
&gt;

If you mean that browsers are the deployed software, true, and that's  
the intent of hypermedia where the server itself is providing the  
forms. Once the server chose to document the URI to POST/GET to, and  
the names of parameters, does it matter for the server to know how the  
request was manufactured?

Subbu

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11117<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-08-04 15:47:31<br>
Subject:Re: [rest-discuss] Re: forms for web APIs<br>
Message:<br><br>
<pre>On Mon, Aug 4, 2008 at 6:09 AM, Bill de hOra &lt;bill@...&gt; wrote:
&gt; Aristotle Pagaltzis wrote:
&gt;&gt;
&gt;&gt;
&gt;&gt; * Assaf Arkin &lt;assaf@... &lt;mailto:assaf%40labnotes.org&gt;&gt;
&gt;&gt; [2008-08-04 01:55]:
&gt;&gt;  &gt; I got sent to look at AtomPub and XML-RPC, because regardless
&gt;&gt;  &gt; of how many posts I created that way (around a thousand), forms
&gt;&gt;  &gt; are apparently unable to scale to the grueling demands
&gt;&gt;  &gt; presented by APIs.
&gt;&gt;
&gt;&gt; Blog entries consist of up to 4 or so unstructured text blobs.
&gt;&gt; That's not very hard to do with `application/x-www-url-encoded`.
&gt;&gt; For data that's structured you need ever so slightly more. Up to
&gt;&gt; a point you can get by with dot notation in form key names, but
&gt;&gt; your structural options are limited and it gets ugly quickly.
&gt;
&gt; This is one thing I'm wondering about - the tradeoff between domain
&gt; specific posting protocols and a generic carries-anything one like
&gt; AtomPub. It seems in the read (non-posting), case, a preference towards
&gt; something domain specific has worked very well for OpenSearch.

If it already exists and is widely used, why not extract it?

I think it would be closer to microformats: looking at common use
cases that are already out there, extracting from them, and creating
something that a lot of existing implementations can use with little
modification.

Assaf

&gt;
&gt; In particular this - I'd like to have a way to update an individual
&gt; datum. A "forms POST" seems like a reasonable option for updates, given
&gt; 'PUT everything back' places pressure on clients to have everything to
&gt; PUT back, and the various patch/delta/diff options that get suggested
&gt; from time to time are (imo) very complicated.
&gt;
&gt; So, if we go back to the the client controlled fields from early revs of
&gt; atompub, it seems they are the common case and could be updated via
&gt; application/x-www-url-encoded against the entry/mle using POST, which
&gt; gives a clean split from PUT.
&gt;
&gt; Bill
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11118<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-08-04 15:32:22<br>
Subject:Re: [rest-discuss] Re: forms for web APIs<br>
Message:<br><br>
<pre>On Mon, Aug 4, 2008 at 3:12 AM, Aristotle Pagaltzis &lt;pagaltzis@...&gt; wrote:
&gt; * Assaf Arkin &lt;assaf@...&gt; [2008-08-04 01:55]:
&gt;&gt; I got sent to look at AtomPub and XML-RPC, because regardless
&gt;&gt; of how many posts I created that way (around a thousand), forms
&gt;&gt; are apparently unable to scale to the grueling demands
&gt;&gt; presented by APIs.
&gt;
&gt; Blog entries consist of up to 4 or so unstructured text blobs.
&gt; That's not very hard to do with `application/x-www-url-encoded`.
&gt; For data that's structured you need ever so slightly more. Up to
&gt; a point you can get by with dot notation in form key names, but
&gt; your structural options are limited and it gets ugly quickly.

Indeed forms cannot solve all the problems, but they do solve a large
number of problems very well.  That's how I understood Bill's
question, and the context of my reply.  There are a lot of interesting
use cases where forms are used million of times daily, so why not
extract?

Blog posting is one particular use case where the functionality is
available in a form, the majority of usage happens using forms, and
it's just a matter of extracting an API from these forms.

Your response reads very much like the typical response I receive to
this crazy suggestion.  I think it's a matter of perception, but why
do you think it's better to work something else even when the use case
doesn't need more than what forms already provide?

Assaf

&gt;
&gt; Regards,
&gt; --
&gt; Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11119<br>
Sender:Griffin Caprio &lt;griffin.caprio@...&gt;<br>
Post Date/Time:2008-08-04 17:02:49<br>
Subject:Different resource 'views'<br>
Message:<br><br>
<pre>Hi all,

I'm curious to know what are doing to allow clients to request  
different views of a resource?  For example, say I had this resource:

/team/cubs

I'd like to represent the resulting resource as HTML, JSON, CSV,  
etc....  The easiest way would be to append a "view" query string value:

/team/cubs?view=csv
/team/cubs?view=json
....

Another option would be to rely on the request HTTP headers sent from  
the client.  I like this approach from an athestic pov, since it  
doesn't muck up the URLs.  But it places a big dependency on the  
clients being able to correctly set the right headers.  Also, some  
headers could have more than one value, so you get into situations  
where ordering must be figured out.  So it seems like the query string  
approach is the most deterministic and also the least complex.

Anybody else have other options?

Thanks,
Griffin Caprio
http://blog.1530technologies.com
http://www.oreillynet.com/xml/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11120<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-08-04 17:17:27<br>
Subject:Re: [rest-discuss] Different resource 'views'<br>
Message:<br><br>
<pre>
On Aug 4, 2008, at 10:02 AM, Griffin Caprio wrote:

&gt; Hi all,
&gt;
&gt; I'm curious to know what are doing to allow clients to request
&gt; different views of a resource? For example, say I had this resource:
&gt;
&gt; /team/cubs
&gt;
&gt; I'd like to represent the resulting resource as HTML, JSON, CSV,
&gt; etc.... The easiest way would be to append a "view" query string  
&gt; value:
&gt;
&gt; /team/cubs?view=csv
&gt; /team/cubs?view=json
&gt; ....
&gt;
&gt;

These are different representations of the same resource, and this use  
case is better addressed via content negotiation (i.e. via Accept  
headers). You may still want to add query parameters like the above  
for those clients that can't generate headers (like using a browser to  
quickly fetch a representation).
&gt; Another option would be to rely on the request HTTP headers sent from
&gt; the client. I like this approach from an athestic pov, since it
&gt; doesn't muck up the URLs. But it places a big dependency on the
&gt; clients being able to correctly set the right headers. Also, some
&gt; headers could have more than one value, so you get into situations
&gt; where ordering must be figured out. So it seems like the query string
&gt; approach is the most deterministic and also the least complex.
&gt;

Completely ignoring content negotiation through accept headers means  
that the server will end up inventing its own rules for content  
negotiation for media types, and potentially for languages. Supporting  
multiple values for Accept headers may add some extra complexity, but  
it is just a one time code that could be centralized.

A better approach is to support both content negotiation through  
accept headers, as well as through a query parameter, with the latter  
being an override for clients that can't support Accept headers.

Subbu


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11121<br>
Sender:Justin Sheehy &lt;justin@...&gt;<br>
Post Date/Time:2008-08-04 17:21:31<br>
Subject:Re: [rest-discuss] Different resource 'views'<br>
Message:<br><br>
<pre>On Aug 4, 2008, at 1:02 PM, Griffin Caprio wrote:

&gt; /team/cubs?view=csv
&gt; /team/cubs?view=json

Do both.  When the parameter is present, use it to select the media  
type.

When it is not, then fall back to standard conneg.

A reasonable way to think about this is that you're always doing  
standard
conneg, but you're using the view parameter to reduce (to 1) the number
of available media types for negotiation.

-Justin



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11122<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-08-04 17:27:27<br>
Subject:Re: [rest-discuss] Different resource 'views'<br>
Message:<br><br>
<pre>Justin Sheehy wrote:
&gt; 
&gt; 
&gt; On Aug 4, 2008, at 1:02 PM, Griffin Caprio wrote:
&gt; 
&gt;  &gt; /team/cubs?view=csv
&gt;  &gt; /team/cubs?view=json
&gt; 
&gt; Do both. When the parameter is present, use it to select the media
&gt; type.
&gt; 
&gt; When it is not, then fall back to standard conneg.
&gt; 
&gt; A reasonable way to think about this is that you're always doing
&gt; standard
&gt; conneg, but you're using the view parameter to reduce (to 1) the number
&gt; of available media types for negotiation.

If you have time, I agree with Justin, and ideally you define a ladder 
(as some frameworks do for making locale decisions). HTTP Accept doesn't 
always work, so it's a good idea to have a parameter based option. 
Speaking for myself, I'd implement the parameter switch before 
supporting an Accept header.

[Fwiw, some mobile systems won't pass the Accept header along, and in 
one  case I've heard of, will drop the entire request.]

Bill


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11123<br>
Sender:Griffin Caprio &lt;griffin.caprio@...&gt;<br>
Post Date/Time:2008-08-04 18:20:50<br>
Subject:Re: [rest-discuss] Different resource 'views'<br>
Message:<br><br>
<pre>On Aug 4, 2008, at 12:27 PM, Bill de hOra wrote:

Bill,
&gt;
&gt; [Fwiw, some mobile systems won't pass the Accept header along, and in
&gt; one case I've heard of, will drop the entire request.]
&gt;
&gt; Bill
&gt;
This is interesting.  Do you remember where you heard this?

- Griffin


&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11124<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-08-04 18:25:41<br>
Subject:Re: [rest-discuss] Different resource 'views'<br>
Message:<br><br>
<pre>On Mon, Aug 4, 2008 at 10:27 AM, Bill de hOra &lt;bill@...&gt; wrote:
&gt; Justin Sheehy wrote:
&gt;&gt;
&gt;&gt;
&gt;&gt; On Aug 4, 2008, at 1:02 PM, Griffin Caprio wrote:
&gt;&gt;
&gt;&gt;  &gt; /team/cubs?view=csv
&gt;&gt;  &gt; /team/cubs?view=json
&gt;&gt;
&gt;&gt; Do both. When the parameter is present, use it to select the media
&gt;&gt; type.
&gt;&gt;
&gt;&gt; When it is not, then fall back to standard conneg.
&gt;&gt;
&gt;&gt; A reasonable way to think about this is that you're always doing
&gt;&gt; standard
&gt;&gt; conneg, but you're using the view parameter to reduce (to 1) the number
&gt;&gt; of available media types for negotiation.
&gt;
&gt; If you have time, I agree with Justin, and ideally you define a ladder
&gt; (as some frameworks do for making locale decisions). HTTP Accept doesn't
&gt; always work, so it's a good idea to have a parameter based option.
&gt; Speaking for myself, I'd implement the parameter switch before
&gt; supporting an Accept header.

Another reason, if you have a CSV (or JSON or XML or whatever) view
and you know the URL you can check out the output with your Web
browser (or curl or wget).  In my experience it was a big time saver,
by itself worth having these URLs around.

Assaf

&gt;
&gt; [Fwiw, some mobile systems won't pass the Accept header along, and in
&gt; one  case I've heard of, will drop the entire request.]
&gt;
&gt; Bill
&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11125<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-08-04 18:33:29<br>
Subject:Re: [rest-discuss] Different resource 'views'<br>
Message:<br><br>
<pre>one thing to keep in mind is that the 'parameterized' URLs are now new
items in any cache.  That means *invalidating* the /team/cubs?view=csv
URL will not necessarily invalidate the ?view=json version.

adding parameter versions like this effectively doubles the cache
invalidation/update work you need to keep track of.

one way to reduce this impact is to use URL rewriters to convert
parameterized URLs into 'standards' URLs that carry the requested
content-type and process that request instead.

MikeA

On Mon, Aug 4, 2008 at 2:25 PM, Assaf Arkin &lt;assaf@...&gt; wrote:
&gt; On Mon, Aug 4, 2008 at 10:27 AM, Bill de hOra &lt;bill@...&gt; wrote:
&gt;&gt; Justin Sheehy wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On Aug 4, 2008, at 1:02 PM, Griffin Caprio wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;  &gt; /team/cubs?view=csv
&gt;&gt;&gt;  &gt; /team/cubs?view=json
&gt;&gt;&gt;
&gt;&gt;&gt; Do both. When the parameter is present, use it to select the media
&gt;&gt;&gt; type.
&gt;&gt;&gt;
&gt;&gt;&gt; When it is not, then fall back to standard conneg.
&gt;&gt;&gt;
&gt;&gt;&gt; A reasonable way to think about this is that you're always doing
&gt;&gt;&gt; standard
&gt;&gt;&gt; conneg, but you're using the view parameter to reduce (to 1) the number
&gt;&gt;&gt; of available media types for negotiation.
&gt;&gt;
&gt;&gt; If you have time, I agree with Justin, and ideally you define a ladder
&gt;&gt; (as some frameworks do for making locale decisions). HTTP Accept doesn't
&gt;&gt; always work, so it's a good idea to have a parameter based option.
&gt;&gt; Speaking for myself, I'd implement the parameter switch before
&gt;&gt; supporting an Accept header.
&gt;
&gt; Another reason, if you have a CSV (or JSON or XML or whatever) view
&gt; and you know the URL you can check out the output with your Web
&gt; browser (or curl or wget).  In my experience it was a big time saver,
&gt; by itself worth having these URLs around.
&gt;
&gt; Assaf
&gt;
&gt;&gt;
&gt;&gt; [Fwiw, some mobile systems won't pass the Accept header along, and in
&gt;&gt; one  case I've heard of, will drop the entire request.]
&gt;&gt;
&gt;&gt; Bill
&gt;&gt;
&gt;&gt;
&gt;&gt; ------------------------------------
&gt;&gt;
&gt;&gt; Yahoo! Groups Links
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11126<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-08-04 18:36:50<br>
Subject:Re: [rest-discuss] Different resource 'views'<br>
Message:<br><br>
<pre>On Mon, Aug 4, 2008 at 11:32 AM, mike amundsen &lt;mca@...&gt; wrote:
&gt; one thing to keep in mind is that the 'parameterized' URLs are now new
&gt; items in any cache.  That means *invalidating* the /team/cubs?view=csv
&gt; URL will not necessarily invalidate the ?view=json version.
&gt;
&gt; adding parameter versions like this effectively doubles the cache
&gt; invalidation/update work you need to keep track of.
&gt;
&gt; one way to reduce this impact is to use URL rewriters to convert
&gt; parameterized URLs into 'standards' URLs that carry the requested
&gt; content-type and process that request instead.

How do you do that?

Assaf

&gt;
&gt; MikeA
&gt;
&gt; On Mon, Aug 4, 2008 at 2:25 PM, Assaf Arkin &lt;assaf@...&gt; wrote:
&gt;&gt; On Mon, Aug 4, 2008 at 10:27 AM, Bill de hOra &lt;bill@...&gt; wrote:
&gt;&gt;&gt; Justin Sheehy wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; On Aug 4, 2008, at 1:02 PM, Griffin Caprio wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;  &gt; /team/cubs?view=csv
&gt;&gt;&gt;&gt;  &gt; /team/cubs?view=json
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Do both. When the parameter is present, use it to select the media
&gt;&gt;&gt;&gt; type.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; When it is not, then fall back to standard conneg.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; A reasonable way to think about this is that you're always doing
&gt;&gt;&gt;&gt; standard
&gt;&gt;&gt;&gt; conneg, but you're using the view parameter to reduce (to 1) the number
&gt;&gt;&gt;&gt; of available media types for negotiation.
&gt;&gt;&gt;
&gt;&gt;&gt; If you have time, I agree with Justin, and ideally you define a ladder
&gt;&gt;&gt; (as some frameworks do for making locale decisions). HTTP Accept doesn't
&gt;&gt;&gt; always work, so it's a good idea to have a parameter based option.
&gt;&gt;&gt; Speaking for myself, I'd implement the parameter switch before
&gt;&gt;&gt; supporting an Accept header.
&gt;&gt;
&gt;&gt; Another reason, if you have a CSV (or JSON or XML or whatever) view
&gt;&gt; and you know the URL you can check out the output with your Web
&gt;&gt; browser (or curl or wget).  In my experience it was a big time saver,
&gt;&gt; by itself worth having these URLs around.
&gt;&gt;
&gt;&gt; Assaf
&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; [Fwiw, some mobile systems won't pass the Accept header along, and in
&gt;&gt;&gt; one  case I've heard of, will drop the entire request.]
&gt;&gt;&gt;
&gt;&gt;&gt; Bill
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; ------------------------------------
&gt;&gt;&gt;
&gt;&gt;&gt; Yahoo! Groups Links
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; ------------------------------------
&gt;&gt;
&gt;&gt; Yahoo! Groups Links
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
&gt;
&gt;
&gt; --
&gt; mca
&gt; http://amundsen.com/blog/
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11127<br>
Sender:Griffin Caprio &lt;griffin.caprio@...&gt;<br>
Post Date/Time:2008-08-04 18:44:27<br>
Subject:Re: [rest-discuss] Different resource 'views'<br>
Message:<br><br>
<pre>
On Aug 4, 2008, at 1:33 PM, mike amundsen wrote:

&gt; one thing to keep in mind is that the 'parameterized' URLs are now new
&gt; items in any cache. That means *invalidating* the /team/cubs?view=csv
&gt; URL will not necessarily invalidate the ?view=json version.
&gt;
&gt; adding parameter versions like this effectively doubles the cache
&gt; invalidation/update work you need to keep track of.
&gt;
&gt;
Yes, i forgot to mention the caching concerns in my original email.   
It's one of the reasons I wanted to stay clear of query string option.

&gt; one way to reduce this impact is to use URL rewriters to convert
&gt; parameterized URLs into 'standards' URLs that carry the requested
&gt; content-type and process that request instead.
&gt;
&gt;
Hmm, i've never done something like that before.  Is it safe to mess  
w/ the HTTP headers like that?

- Griffin

&gt; MikeA
&gt;


&gt;
&gt;
&gt; On Mon, Aug 4, 2008 at 2:25 PM, Assaf Arkin &lt;assaf@...&gt;  
&gt; wrote:
&gt; &gt; On Mon, Aug 4, 2008 at 10:27 AM, Bill de hOra &lt;bill@...&gt;  
&gt; wrote:
&gt; &gt;&gt; Justin Sheehy wrote:
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; On Aug 4, 2008, at 1:02 PM, Griffin Caprio wrote:
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; &gt; /team/cubs?view=csv
&gt; &gt;&gt;&gt; &gt; /team/cubs?view=json
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; Do both. When the parameter is present, use it to select the media
&gt; &gt;&gt;&gt; type.
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; When it is not, then fall back to standard conneg.
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; A reasonable way to think about this is that you're always doing
&gt; &gt;&gt;&gt; standard
&gt; &gt;&gt;&gt; conneg, but you're using the view parameter to reduce (to 1) the  
&gt; number
&gt; &gt;&gt;&gt; of available media types for negotiation.
&gt; &gt;&gt;
&gt; &gt;&gt; If you have time, I agree with Justin, and ideally you define a  
&gt; ladder
&gt; &gt;&gt; (as some frameworks do for making locale decisions). HTTP Accept  
&gt; doesn't
&gt; &gt;&gt; always work, so it's a good idea to have a parameter based option.
&gt; &gt;&gt; Speaking for myself, I'd implement the parameter switch before
&gt; &gt;&gt; supporting an Accept header.
&gt; &gt;
&gt; &gt; Another reason, if you have a CSV (or JSON or XML or whatever) view
&gt; &gt; and you know the URL you can check out the output with your Web
&gt; &gt; browser (or curl or wget). In my experience it was a big time saver,
&gt; &gt; by itself worth having these URLs around.
&gt; &gt;
&gt; &gt; Assaf
&gt; &gt;
&gt; &gt;&gt;
&gt; &gt;&gt; [Fwiw, some mobile systems won't pass the Accept header along,  
&gt; and in
&gt; &gt;&gt; one case I've heard of, will drop the entire request.]
&gt; &gt;&gt;
&gt; &gt;&gt; Bill
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; ------------------------------------
&gt; &gt;&gt;
&gt; &gt;&gt; Yahoo! Groups Links
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;
&gt; &gt; ------------------------------------
&gt; &gt;
&gt; &gt; Yahoo! Groups Links
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt;
&gt; -- 
&gt; mca
&gt; http://amundsen.com/blog/
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11128<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-08-04 18:46:26<br>
Subject:Re: [rest-discuss] Different resource 'views'<br>
Message:<br><br>
<pre>Griffin Caprio wrote:
&gt; On Aug 4, 2008, at 12:27 PM, Bill de hOra wrote:
&gt; 
&gt; Bill,
&gt;&gt; [Fwiw, some mobile systems won't pass the Accept header along, and in
&gt;&gt; one case I've heard of, will drop the entire request.]
&gt;&gt;
&gt;&gt; Bill
&gt;&gt;
&gt; This is interesting.  Do you remember where you heard this?

In work ;) I asked a while back if we could use accept headers to 
negotiate formats (for backward compatibility reasons and to avoid 
having to formally version an API). Our handset engineers hit a 
showstopping problem with an intermediary.

Generally the mobile web is more restricted when it comes to leveraging 
HTTP. For example a good protocol robustness test is to see what happens 
when all headers except Host and Content-Length are removed from requests.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11129<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-08-04 18:48:29<br>
Subject:Re: [rest-discuss] Different resource 'views'<br>
Message:<br><br>
<pre>mike amundsen wrote:
&gt; one thing to keep in mind is that the 'parameterized' URLs are now new
&gt; items in any cache.  That means *invalidating* the /team/cubs?view=csv
&gt; URL will not necessarily invalidate the ?view=json version.
&gt; 
&gt; adding parameter versions like this effectively doubles the cache
&gt; invalidation/update work you need to keep track of.

Good point. Also this happens when the parameters are reordered.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11130<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-08-04 18:52:45<br>
Subject:Re: [rest-discuss] Different resource 'views'<br>
Message:<br><br>
<pre>I work on the Windows platform and the ISAPI_Rewrite tool offers a
RewriteHeader rule:
http://www.isapirewrite.com/docs/#RewriteHeader

I've been told you can use the type|T rule w/ mod_rewrite on Apache, too.
(RewriteRule ^(.+\.php)s$ $1 [T=application/x-httpd-php-source])

I will offer that i've only done this a few times, but w/o any
noticeable problems.  For the most part, I stick with pure conneg.

MikeA

On Mon, Aug 4, 2008 at 2:36 PM, Assaf Arkin &lt;assaf@...&gt; wrote:
&gt; On Mon, Aug 4, 2008 at 11:32 AM, mike amundsen &lt;mca@...&gt; wrote:
&gt;&gt; one thing to keep in mind is that the 'parameterized' URLs are now new
&gt;&gt; items in any cache.  That means *invalidating* the /team/cubs?view=csv
&gt;&gt; URL will not necessarily invalidate the ?view=json version.
&gt;&gt;
&gt;&gt; adding parameter versions like this effectively doubles the cache
&gt;&gt; invalidation/update work you need to keep track of.
&gt;&gt;
&gt;&gt; one way to reduce this impact is to use URL rewriters to convert
&gt;&gt; parameterized URLs into 'standards' URLs that carry the requested
&gt;&gt; content-type and process that request instead.
&gt;
&gt; How do you do that?
&gt;
&gt; Assaf
&gt;
&gt;&gt;
&gt;&gt; MikeA
&gt;&gt;
&gt;&gt; On Mon, Aug 4, 2008 at 2:25 PM, Assaf Arkin &lt;assaf@...&gt; wrote:
&gt;&gt;&gt; On Mon, Aug 4, 2008 at 10:27 AM, Bill de hOra &lt;bill@...&gt; wrote:
&gt;&gt;&gt;&gt; Justin Sheehy wrote:
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; On Aug 4, 2008, at 1:02 PM, Griffin Caprio wrote:
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;  &gt; /team/cubs?view=csv
&gt;&gt;&gt;&gt;&gt;  &gt; /team/cubs?view=json
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Do both. When the parameter is present, use it to select the media
&gt;&gt;&gt;&gt;&gt; type.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; When it is not, then fall back to standard conneg.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; A reasonable way to think about this is that you're always doing
&gt;&gt;&gt;&gt;&gt; standard
&gt;&gt;&gt;&gt;&gt; conneg, but you're using the view parameter to reduce (to 1) the number
&gt;&gt;&gt;&gt;&gt; of available media types for negotiation.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; If you have time, I agree with Justin, and ideally you define a ladder
&gt;&gt;&gt;&gt; (as some frameworks do for making locale decisions). HTTP Accept doesn't
&gt;&gt;&gt;&gt; always work, so it's a good idea to have a parameter based option.
&gt;&gt;&gt;&gt; Speaking for myself, I'd implement the parameter switch before
&gt;&gt;&gt;&gt; supporting an Accept header.
&gt;&gt;&gt;
&gt;&gt;&gt; Another reason, if you have a CSV (or JSON or XML or whatever) view
&gt;&gt;&gt; and you know the URL you can check out the output with your Web
&gt;&gt;&gt; browser (or curl or wget).  In my experience it was a big time saver,
&gt;&gt;&gt; by itself worth having these URLs around.
&gt;&gt;&gt;
&gt;&gt;&gt; Assaf
&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; [Fwiw, some mobile systems won't pass the Accept header along, and in
&gt;&gt;&gt;&gt; one  case I've heard of, will drop the entire request.]
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Bill
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; ------------------------------------
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Yahoo! Groups Links
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; ------------------------------------
&gt;&gt;&gt;
&gt;&gt;&gt; Yahoo! Groups Links
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; --
&gt;&gt; mca
&gt;&gt; http://amundsen.com/blog/
&gt;&gt;
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11131<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-08-05 00:52:51<br>
Subject:Re: Different resource 'views'<br>
Message:<br><br>
<pre>* mike amundsen &lt;mamund@...&gt; [2008-08-04 20:35]:
&gt; one way to reduce this impact is to use URL rewriters to
&gt; convert parameterized URLs into 'standards' URLs that carry the
&gt; requested content-type and process that request instead.

But that will fix caching only at the origin server. (Or to be
precise, upstream (closer to the origin server) from the point
where the URL rewriting is done.) Any intermediaries ahead of
that point will still cache multiple differently-named versions
of the resource.

Theoretically, sending Content-Location should fix this, but
RFC2616 does not stipulate that intermediaries use the header
for any kind of cache invalidation purposes, so probably very
few, if any, actually do that.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11132<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-08-05 01:00:08<br>
Subject:Re: [rest-discuss] Different resource 'views'<br>
Message:<br><br>
<pre>Sebastien:

to you point on cache invalidation:
&gt; Again, they are a represnetation of the resource but all exist at their own
&gt; urls as they are different documents.
&gt;

&gt; I do not see how or why a cache should ever invalidate /car.json when it
&gt; invalidates /car.html, and this is no different than invalidation rules on
&gt; /car?format=json and /car?format=html, or simply /car with Vary:
&gt; Content-Type, the same amount of cache is done.
&gt;
&gt; As far as I know, we have no way to associate or differenciate a resource
&gt; and its representations without resorting to assertion tools like rdf, and
&gt; it doesnt seem to me those are handled in most http caches these days.

First I think it it *possible* that folks will create resources that
*do* share underlying data that *might* result in the need to
invalidate caches when the underlying data is changed. While you are
right - this is nothing new or special, it is something that i think
should be considered when designing public resources. In the example
that started this thread, I assumed that:
   /team/cubs?view=csv
   /team/cubs?view=json
did, in fact share the same data and therefore made my comments
regarding this case.

Second, I agree that, in the above example, each representation is a
actually different resource. I also agree that just because two
resources *look* like they share the same underlying data, they may
not, in fact share the data and should not be assumed to share that
data. I also agree they should be treated as their own resources for
caching purposes.

Thanks for the chance to clear up my remarks.

MikeA

On Mon, Aug 4, 2008 at 8:41 PM, Sebastien Lambla &lt;seb@...&gt; wrote:
&gt; My OpenRasta framework maps the following urls per resource. Here's a small
&gt; example
&gt;
&gt; GET /car
&gt; generic url used for content-type negociation.
&gt; if the RedirectOnConneg option is enabled, you will get
&gt;
&gt; 303 SeeOther
&gt; Location: /car.html
&gt;
&gt; otherwise you'll get a 200 with Content-Location: /car.html and the
&gt; necessary contenttype and vary headers.
&gt;
&gt; /car.{type}
&gt; type-specific url against which an attempt at content type negociation will
&gt; fail. Those are documents rather than resources so won't provide any content
&gt; type negociation at all.
&gt;
&gt; Some formats can have multiple views, html being the prime example.
&gt; Alternates are provided in the html documents and in Link: headers (and
&gt; sometimes in 300 responses) and follow the pattern
&gt; /car;{view}.html
&gt;
&gt; Again, they are a represnetation of the resource but all exist at their own
&gt; urls as they are different documents.
&gt;
&gt;&gt;&gt;&gt; adding parameter versions like this effectively doubles the cache
&gt;&gt;&gt;&gt; invalidation/update work you need to keep track of.
&gt;
&gt; I do not see how or why a cache should ever invalidate /car.json when it
&gt; invalidates /car.html, and this is no different than invalidation rules on
&gt; /car?format=json and /car?format=html, or simply /car with Vary:
&gt; Content-Type, the same amount of cache is done.
&gt;
&gt; As far as I know, we have no way to associate or differenciate a resource
&gt; and its representations without resorting to assertion tools like rdf, and
&gt; it doesnt seem to me those are handled in most http caches these days.
&gt;
&gt;
&gt; Sebastien Lambla
&gt;



-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11133<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-08-05 01:34:15<br>
Subject:Re: forms for web APIs<br>
Message:<br><br>
<pre>* Assaf Arkin &lt;assaf@...&gt; [2008-08-04 18:00]:
&gt; Your response reads very much like the typical response I
&gt; receive to this crazy suggestion. I think it's a matter of
&gt; perception, but why do you think it's better to work something
&gt; else even when the use case doesn't need more than what forms
&gt; already provide?

Short version: YAGNI is all well and good, but you cant refactor
a protocol. Thats probably too cryptic, so let me make a feeble
attempt to explain.

The main point is: I think AtomPubs potential to disrupt is
greatly dependent on the fact that it is capable of covering 97%
of all possible use cases, instead of just 85%. (Figures derived
by posterior extraction.)

With narrower aspirations, application/x-www-url-encoded is
certainly fine and as a matter of fact I use that for the
majority of my work.

Note too that theres no reason someone couldnt specify an
AtomPub extension that would let clients operate a limited range
of a collections features using application/x-www-url-encoded.

But in general, there is a strong pressure in protocols toward
having fewer options and moving parts. RFC3339 lays out the
rationale nicely. So if you should restrict yourself to only a
single choice, which one would that be? I think picking one that
neither limits your reach nor is *too* complex is a natural
outcome.

F.ex., is it OK for application/x-www-url-encoded extension aware
clients to not be able to operate the AtomPub service using Atom
at all? It would seem to me that as long as the mapping is
incomplete, there would be pressure on clients to acquire the
ability to operate the full feature set. But if youre going to
implement application/atom+xml anyway, then also implemeting
application/x-www-url-encoded is no reduction in complexity for
the client.

I could go on for another dozen of paragraphs, but the point is
that as far as I can see as yet, you are taking a programmers
view to complexity, to which I am sympathetic as a programmer;
however I am finding that concerns and evolutionary pressures in
protocols differ from code such that complexity and simplicity
are rewarded or punished differently  not entirely, but in some
important ways , simply because there is a massive pressure
against any change at all in protocols.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11134<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-08-05 08:34:46<br>
Subject:Re: [rest-discuss] Re: forms for web APIs<br>
Message:<br><br>
<pre>On Mon, Aug 4, 2008 at 6:34 PM, Aristotle Pagaltzis &lt;pagaltzis@...&gt; wrote:
&gt; * Assaf Arkin &lt;assaf@...&gt; [2008-08-04 18:00]:
&gt;&gt; Your response reads very much like the typical response I
&gt;&gt; receive to this crazy suggestion. I think it's a matter of
&gt;&gt; perception, but why do you think it's better to work something
&gt;&gt; else even when the use case doesn't need more than what forms
&gt;&gt; already provide?
&gt;
&gt; Short version: YAGNI is all well and good, but you can't refactor
&gt; a protocol. That's probably too cryptic, so let me make a feeble
&gt; attempt to explain.
&gt;
&gt; The main point is: I think AtomPub's potential to disrupt is
&gt; greatly dependent on the fact that it is capable of covering 97%
&gt; of all possible use cases, instead of just 85%. (Figures derived
&gt; by posterior extraction.)
&gt;
&gt; With narrower aspirations, application/x-www-url-encoded is
&gt; certainly fine and as a matter of fact I use that for the
&gt; majority of my work.
&gt;
&gt; Note too that there's no reason someone couldn't specify an
&gt; AtomPub extension that would let clients operate a limited range
&gt; of a collection's features using application/x-www-url-encoded.
&gt;
&gt; But in general, there is a strong pressure in protocols toward
&gt; having fewer options and moving parts. RFC 3339 lays out the
&gt; rationale nicely. So if you should restrict yourself to only a
&gt; single choice, which one would that be? I think picking one that
&gt; neither limits your reach nor is *too* complex is a natural
&gt; outcome.
&gt;
&gt; F.ex., is it OK for application/x-www-url-encoded extension aware
&gt; clients to not be able to operate the AtomPub service using Atom
&gt; at all? It would seem to me that as long as the mapping is
&gt; incomplete, there would be pressure on clients to acquire the
&gt; ability to operate the full feature set. But if you're going to
&gt; implement application/atom+xml anyway, then also implemeting
&gt; application/x-www-url-encoded is no reduction in complexity for
&gt; the client.
&gt;
&gt; I could go on for another dozen of paragraphs, but the point is
&gt; that as far as I can see as yet, you are taking a programmer's
&gt; view to complexity, to which I am sympathetic as a programmer;
&gt; however I am finding that concerns and evolutionary pressures in
&gt; protocols differ from code such that complexity and simplicity
&gt; are rewarded or punished differently  not entirely, but in some
&gt; important ways , simply because there is a massive pressure
&gt; against any change at all in protocols.

You're right, I don't do politics.  I judge protocols on their merit.
If a protocol is the best solution for the use cases it was designed
for, it will surface to the top.  But I won't recommend unnecessary
complexity to promote a spec.

In the long term, that does more harm than good.  I'm actually
surprised that we're not looking at the WS-* agenda games as a lesson
learned.  I'm not convinced the answer is more politics, and I'm very
worried about cargo culting.

It's our job to recommend the best technology we know is sufficient to
solve the problem at hand.  And sometimes that means saying "No. Not
for this use case. Use your head, use [that] instead."

Hammering is something WS-* has suffered from, and I'd hate to see the
same happen to REST, because once the false claims turn into broken
promises, all that's left is backlash, and backlash has a way of
diminishing the value of even the best technologies.

I'm seeing too many people enveloping everything they send with
AtomPub, for no reason other than it's AtomPub, so it might be good,
right?  I see people who don't bother to learn REST, they just
envelope with AtomPub  enveloping is easy, architecture style is
hard.  They're not even using it right, but they marked the checkbox,
and yes, there's one case involving wrapping RPC calls inside AtomPub.

So when the time comes and we get to see SOAP passing over the wire,
except the envelope is called AtomPub, would we stand back and smile
and think to ourselves "mission accomplished"?

AtomPub is a good solution, just not the best solution to every
problem.  Using it like a hammer would be worse than not using it
enough, possibly the worst thing that could happen to it.

We need to teach developers how to engineer the right solution, that's
the only way they could rise to the problem, not help them cargo cult
the next shiny spec or the next best whatever.

I don't see enough of that, and quite frankly it saddens me and in
some way even scares me.

Assaf

&gt;
&gt; Regards,
&gt; --
&gt; Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11135<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-08-05 10:25:15<br>
Subject:Re: forms for web APIs<br>
Message:<br><br>
<pre>* Assaf Arkin &lt;assaf@...&gt; [2008-08-05 10:40]:
&gt; You're right, I don't do politics. I judge protocols on their
&gt; merit. If a protocol is the best solution for the use cases it
&gt; was designed for, it will surface to the top. But I won't
&gt; recommend unnecessary complexity to promote a spec.
&gt;
&gt; In the long term, that does more harm than good. I'm actually
&gt; surprised that we're not looking at the WS-* agenda games as a
&gt; lesson learned. I'm not convinced the answer is more politics,
&gt; and I'm very worried about cargo culting.
&gt;
&gt; It's our job to recommend the best technology we know is
&gt; sufficient to solve the problem at hand. And sometimes that
&gt; means saying "No. Not for this use case. Use your head, use
&gt; [that] instead."
&gt;
&gt; Hammering is something WS-* has suffered from, and I'd hate to
&gt; see the same happen to REST, because once the false claims turn
&gt; into broken promises, all that's left is backlash, and backlash
&gt; has a way of diminishing the value of even the best
&gt; technologies.

You seem to have lost the plot. Do you accept that having fewer,
more generically useful media types is good REST design? Is that
for political reasons, too? If you find it acceptable, why do you
accept the technical reasoning there but characterise it as
despicable politics in protocols?

&gt; I'm seeing too many people enveloping everything they send with
&gt; AtomPub, for no reason other than it's AtomPub, so it might be
&gt; good, right? I see people who don't bother to learn REST, they
&gt; just envelope with AtomPub  enveloping is easy, architecture
&gt; style is hard. They're not even using it right, but they marked
&gt; the checkbox, and yes, there's one case involving wrapping RPC
&gt; calls inside AtomPub.
&gt;
&gt; So when the time comes and we get to see SOAP passing over the
&gt; wire, except the envelope is called AtomPub, would we stand
&gt; back and smile and think to ourselves "mission accomplished"?
&gt;
&gt; AtomPub is a good solution, just not the best solution to every
&gt; problem. Using it like a hammer would be worse than not using
&gt; it enough, possibly the worst thing that could happen to it.

HTTP has been suffering from a massive case of hammering for a
decade.

&gt; We need to teach developers how to engineer the right solution,
&gt; that's the only way they could rise to the problem, not help
&gt; them cargo cult the next shiny spec or the next best whatever.
&gt;
&gt; I don't see enough of that, and quite frankly it saddens me and
&gt; in some way even scares me.

Cargo cult happens. You cannot stop it. All you can do is design
for surviving it. The technologies that succeed in the long term
are those that have been so designed. People are morons; this is
not a bug.[1]

[1]: http://diveintomark.org/archives/2004/08/16/specs

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11136<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-08-05 11:52:23<br>
Subject:Re: [rest-discuss] Re: forms for web APIs<br>
Message:<br><br>
<pre>One cannot deny that imposing a wrapper tax on all things rest as AtomPub is 
being used at the moment is not going in the right direction. Suddenly you 
impose having an xml parser and other semantics in a container format and 
get dragged into wrapping your content-types within yet another content-type 
to manage.

The so-called reuse of content-types that atom provides is an illusion as 
your entities will still need to exist in a format you have to define.

Saying the complexity is being absorbed by the frameworks is like saying 
transactions will magically all scale because we have WS-AtomicTransactions. 
It's not true, it requires more and more layers of tools and toolkits and 
increase the price you pay for your first shot.

Be it in flash, XHR or plain Html forms, atom is not supported, and it 
should probably never be. If you want to pass atom because the format makes 
sense and the client negotiated, that is quite fine. If you pass everything 
wrapped in ATOM saying that somehow putting an entity in an xml feed is 
fine, in the name of so-called commoditization of frameworks (something that 
companies that have been known to *create* the WS-* mess are now pushing 
very hardly for), and not even providing other alternate content types that 
make sense, is going against the simplicity and capability discovery that 
REST support out of the box.

Would you wrap a jpeg file in an atom entry and base64 it? So why do it with 
anything else but namespaced composable xml languages, of which very few are 
actually composeable?

Seb

--------------------------------------------------
From: "Aristotle Pagaltzis" &lt;pagaltzis@...&gt;
Sent: Tuesday, August 05, 2008 11:25 AM
To: "Rest List" &lt;rest-discuss@yahoogroups.com&gt;
Subject: [rest-discuss] Re: forms for web APIs

&gt; * Assaf Arkin &lt;assaf@...&gt; [2008-08-05 10:40]:
&gt;&gt; You're right, I don't do politics. I judge protocols on their
&gt;&gt; merit. If a protocol is the best solution for the use cases it
&gt;&gt; was designed for, it will surface to the top. But I won't
&gt;&gt; recommend unnecessary complexity to promote a spec.
&gt;&gt;
&gt;&gt; In the long term, that does more harm than good. I'm actually
&gt;&gt; surprised that we're not looking at the WS-* agenda games as a
&gt;&gt; lesson learned. I'm not convinced the answer is more politics,
&gt;&gt; and I'm very worried about cargo culting.
&gt;&gt;
&gt;&gt; It's our job to recommend the best technology we know is
&gt;&gt; sufficient to solve the problem at hand. And sometimes that
&gt;&gt; means saying "No. Not for this use case. Use your head, use
&gt;&gt; [that] instead."
&gt;&gt;
&gt;&gt; Hammering is something WS-* has suffered from, and I'd hate to
&gt;&gt; see the same happen to REST, because once the false claims turn
&gt;&gt; into broken promises, all that's left is backlash, and backlash
&gt;&gt; has a way of diminishing the value of even the best
&gt;&gt; technologies.
&gt;
&gt; You seem to have lost the plot. Do you accept that having fewer,
&gt; more generically useful media types is good REST design? Is that
&gt; for political reasons, too? If you find it acceptable, why do you
&gt; accept the technical reasoning there but characterise it as
&gt; despicable politics in protocols?
&gt;
&gt;&gt; I'm seeing too many people enveloping everything they send with
&gt;&gt; AtomPub, for no reason other than it's AtomPub, so it might be
&gt;&gt; good, right? I see people who don't bother to learn REST, they
&gt;&gt; just envelope with AtomPub  enveloping is easy, architecture
&gt;&gt; style is hard. They're not even using it right, but they marked
&gt;&gt; the checkbox, and yes, there's one case involving wrapping RPC
&gt;&gt; calls inside AtomPub.
&gt;&gt;
&gt;&gt; So when the time comes and we get to see SOAP passing over the
&gt;&gt; wire, except the envelope is called AtomPub, would we stand
&gt;&gt; back and smile and think to ourselves "mission accomplished"?
&gt;&gt;
&gt;&gt; AtomPub is a good solution, just not the best solution to every
&gt;&gt; problem. Using it like a hammer would be worse than not using
&gt;&gt; it enough, possibly the worst thing that could happen to it.
&gt;
&gt; HTTP has been suffering from a massive case of hammering for a
&gt; decade.
&gt;
&gt;&gt; We need to teach developers how to engineer the right solution,
&gt;&gt; that's the only way they could rise to the problem, not help
&gt;&gt; them cargo cult the next shiny spec or the next best whatever.
&gt;&gt;
&gt;&gt; I don't see enough of that, and quite frankly it saddens me and
&gt;&gt; in some way even scares me.
&gt;
&gt; Cargo cult happens. You cannot stop it. All you can do is design
&gt; for surviving it. The technologies that succeed in the long term
&gt; are those that have been so designed. People are morons; this is
&gt; not a bug.[1]
&gt;
&gt; [1]: http://diveintomark.org/archives/2004/08/16/specs
&gt;
&gt; Regards,
&gt; -- 
&gt; Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11137<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-08-05 14:12:16<br>
Subject:Re: forms for web APIs<br>
Message:<br><br>
<pre>* Sebastien Lambla &lt;seb@...&gt; [2008-08-05 13:55]:
&gt; One cannot deny that imposing a wrapper tax on all things rest
&gt; as AtomPub is being used at the moment is not going in the
&gt; right direction. Suddenly you impose having an xml parser and
&gt; other semantics in a container format and get dragged into
&gt; wrapping your content-types within yet another content-type to
&gt; manage.

Sure. All Im saying is that people *will* misuse it and trying
to ward that off is not going to achieve anything.

&gt; The so-called reuse of content-types that atom provides is an
&gt; illusion as  your entities will still need to exist in a format
&gt; you have to define.

I wasnt referring to that. The same thing that applies to HTTP
messages applies to Atom Entries: to maximise serendipity the
content needs to be in a commonly understood format, not an
application-specific one. AtomPub changes nothing about this.

&gt; Saying the complexity is being absorbed by the frameworks is
&gt; like saying  transactions will magically all scale because we
&gt; have WS-AtomicTransactions. It's not true, it requires more and
&gt; more layers of tools and toolkits and increase the price you
&gt; pay for your first shot.

Just to be clear, I never said any of that. I like AtomPub
because its a nice protocol to directly code against, without
any abstraction layers.

&gt; Be it in flash, XHR or plain Html forms, atom is not supported,
&gt; and it  should probably never be.

I wouldnt be so quick to make that judgement

&gt; If you want to pass atom because the format makes sense and the
&gt; client negotiated, that is quite fine. If you pass everything
&gt; wrapped in ATOM saying that somehow putting an entity in an xml
&gt; feed is fine, in the name of so-called commoditization of
&gt; frameworks (something that companies that have been known to
&gt; *create* the WS-* mess are now pushing very hardly for), and
&gt; not even providing other alternate content types that make
&gt; sense, is going against the simplicity and capability discovery
&gt; that REST support out of the box.

People have been abusing HTTP in that exact fashion for a very
long time. Its harmful, but to the perpetrators more than the
wider web as a whole.

&gt; Would you wrap a jpeg file in an atom entry and base64 it? So
&gt; why do it with anything else but namespaced composable xml
&gt; languages, of which very few are actually composeable?

No, of course not. AtomPub is explicitly designed to allow using
any Content-Type, not just Atom.

Thats not at all how I meant my remark anyway.

What I meant is that its RESTful systems work better when
representations are of generic media types, even when the generic
media type is not an exact fit for the application and may be
more complex than the applications immediate needs demand. Just
in the same way, having fewer application protocols is better
even when the protocol in question may not be an exact fit for
each application and might be more complex than the applications
immediate needs require.

Of course, this doesnt mean that application/octet-stream is the
best choice of media type. So too does having fewer protocols not
mean that using a single one for every last thing is a good idea.

Both absence and abundance of diversity are harmful.

As for Assafs comparison to WS-*, the fact is that it is both
practical to write code directly against AtomPub (which was never
even a consideration in the design of WS-*) *and* likely to
achieve very good interoperability on the first try. (The interop
meetups of early implementers demonstrated that very clearly; the
major pain point was HTTP Auth, not AtomPub per se.) Comparing
AtomPub to the WS-* stack is therefore a mere rhetorical device;
in absolute terms, there is a vast chasm in complexity between
the two.

And I think AtomPub hits a sweetspot in that respect. It is
complex enough to be useful for *a LOT* of use cases (a lot more
than a simple application/x-www-url-encoded protocol would be),
but it still doesnt try cover them *all*, and in this way it
does  IMO anyway  avoid being prohibitively complex for the
simple cases, while offering them the advantages of conformity.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11138<br>
Sender:"Alexander Johannesen" &lt;alexander.johannesen@...&gt;<br>
Post Date/Time:2008-08-05 14:31:49<br>
Subject:Re: [rest-discuss] forms for web APIs<br>
Message:<br><br>
<pre>On Sun, Aug 3, 2008 at 23:25, Bill de hOra &lt;bill@...&gt; wrote:
&gt; why aren't html forms a basis for an API?

I'll try to get a bit back on topic. I've designed a number of systems
(apps and SOAs) around the notion of RESTful discoverability, using
XHTML forms as a basis for interaction, something like ;

GET http://example.com/order/o454
 -&gt; 200 Ok. -&gt;

&lt;topic id="o454"&gt;
  &lt;type href="#order" /&gt;
  &lt;occurrence type="#actions" xmlns="...xhtml..."&gt;
     &lt;form tm:type="#add-order" action="http://example.com/order"
method="post" title="Add items to an order"&gt;
        &lt;input type="text" id="itemid" value="" /&gt;
     &lt;/form&gt;
     &lt;form tm:type="#get-order"
action="http://example.com/order/o454" method="get" title="Get info on
this order" /&gt;
     &lt;form tm:type="#delete-order"
action="http://example.com/order/o454" method="delete" title="Delete
this order" /&gt;
  &lt;/occurrence&gt;
&lt;/topic&gt;

These are XHTML forms for actions, wrapped in a Topic Maps occurrence.
Can I suggest that the lack of strong semantics within action URIs is
the problem? Notice that I use an extra @tm:type to denote this, as
get|put|delete|post with resource orientation alone are simply too
weak for business context. (Note: There could be better type
inferencing, but that's a bit risky in high-profile systems)

This works extremely well for me and those clients who have used it.
I've tinkered with using microformats instead of the tm: namespace,
but think serious developers think microformats still is a toy (which
I could agree with, without proper namespacing or some other safe
method of microformat identification). Thoughts?


Alex
-- 
---------------------------------------------------------------------------
 Project Wrangler, SOA, Information Alchemist, UX, RESTafarian, Topic Maps
------------------------------------------ http://shelter.nu/blog/ --------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11139<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-08-05 16:37:11<br>
Subject:Re: forms for web APIs<br>
Message:<br><br>
<pre>* Alexander Johannesen &lt;alexander.johannesen@...&gt; [2008-08-05 16:35]:
&gt; Thoughts?

Looks good; did you consciously decide against XForms?

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11140<br>
Sender:"Alexander Johannesen" &lt;alexander.johannesen@...&gt;<br>
Post Date/Time:2008-08-05 17:34:00<br>
Subject:Re: [rest-discuss] Re: forms for web APIs<br>
Message:<br><br>
<pre>On Tue, Aug 5, 2008 at 18:37, Aristotle Pagaltzis &lt;pagaltzis@...&gt; wrote:
&gt; Looks good; did you consciously decide against XForms?

I've never liked XForms, so perhaps unconsciously? Perhaps when
support for it is widespread?


Alex
-- 
---------------------------------------------------------------------------
 Project Wrangler, SOA, Information Alchemist, UX, RESTafarian, Topic Maps
------------------------------------------ http://shelter.nu/blog/ --------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11141<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-08-05 18:11:57<br>
Subject:Re: [rest-discuss] Re: forms for web APIs<br>
Message:<br><br>
<pre>On Tue, Aug 5, 2008 at 7:12 AM, Aristotle Pagaltzis &lt;pagaltzis@...&gt; wrote:
&gt; * Sebastien Lambla &lt;seb@...&gt; [2008-08-05 13:55]:
&gt;&gt; One cannot deny that imposing a wrapper tax on all things rest
&gt;&gt; as AtomPub is being used at the moment is not going in the
&gt;&gt; right direction. Suddenly you impose having an xml parser and
&gt;&gt; other semantics in a container format and get dragged into
&gt;&gt; wrapping your content-types within yet another content-type to
&gt;&gt; manage.
&gt;
&gt; Sure. All I'm saying is that people *will* misuse it and trying
&gt; to ward that off is not going to achieve anything.

I interact with people who are very knowledgeable in what they do.
What they do is not REST, so that's something they're not
knowledgeable about, and with all the constraints they have to deal
with, they often don't even have time to find out where to learn more
about it.  So they end up picking soundbytes without proper context,
and often applying them wrong.

Much the same way I wrongly apply technologies I don't know much
about.  So I ask them to teach me about their area of expertise, and I
take the time to teach them as much as I can of what I know.  And just
this little act, repeated a few times over, can save a lot of people
from misusing technologies.

&gt;
&gt;&gt; The so-called reuse of content-types that atom provides is an
&gt;&gt; illusion as  your entities will still need to exist in a format
&gt;&gt; you have to define.
&gt;
&gt; I wasn't referring to that. The same thing that applies to HTTP
&gt; messages applies to Atom Entries: to maximise serendipity the
&gt; content needs to be in a commonly understood format, not an
&gt; application-specific one. AtomPub changes nothing about this.
&gt;
&gt;&gt; Saying the complexity is being absorbed by the frameworks is
&gt;&gt; like saying  transactions will magically all scale because we
&gt;&gt; have WS-AtomicTransactions. It's not true, it requires more and
&gt;&gt; more layers of tools and toolkits and increase the price you
&gt;&gt; pay for your first shot.
&gt;
&gt; Just to be clear, I never said any of that. I like AtomPub
&gt; because it's a nice protocol to directly code against, without
&gt; any abstraction layers.
&gt;
&gt;&gt; Be it in flash, XHR or plain Html forms, atom is not supported,
&gt;&gt; and it  should probably never be.
&gt;
&gt; I wouldn't be so quick to make that judgement
&gt;
&gt;&gt; If you want to pass atom because the format makes sense and the
&gt;&gt; client negotiated, that is quite fine. If you pass everything
&gt;&gt; wrapped in ATOM saying that somehow putting an entity in an xml
&gt;&gt; feed is fine, in the name of so-called commoditization of
&gt;&gt; frameworks (something that companies that have been known to
&gt;&gt; *create* the WS-* mess are now pushing very hardly for), and
&gt;&gt; not even providing other alternate content types that make
&gt;&gt; sense, is going against the simplicity and capability discovery
&gt;&gt; that REST support out of the box.
&gt;
&gt; People have been abusing HTTP in that exact fashion for a very
&gt; long time. It's harmful, but to the perpetrators more than the
&gt; wider web as a whole.
&gt;
&gt;&gt; Would you wrap a jpeg file in an atom entry and base64 it? So
&gt;&gt; why do it with anything else but namespaced composable xml
&gt;&gt; languages, of which very few are actually composeable?
&gt;
&gt; No, of course not. AtomPub is explicitly designed to allow using
&gt; any Content-Type, not just Atom.
&gt;
&gt; That's not at all how I meant my remark anyway.
&gt;
&gt; What I meant is that it's RESTful systems work better when
&gt; representations are of generic media types, even when the generic
&gt; media type is not an exact fit for the application and may be
&gt; more complex than the application's immediate needs demand. Just
&gt; in the same way, having fewer application protocols is better
&gt; even when the protocol in question may not be an exact fit for
&gt; each application and might be more complex than the application's
&gt; immediate needs require.
&gt;
&gt; Of course, this doesn't mean that application/octet-stream is the
&gt; best choice of media type. So too does having fewer protocols not
&gt; mean that using a single one for every last thing is a good idea.
&gt;
&gt; Both absence and abundance of diversity are harmful.
&gt;
&gt; As for Assaf's comparison to WS-*, the fact is that it is both
&gt; practical to write code directly against AtomPub (which was never
&gt; even a consideration in the design of WS-*) *and* likely to
&gt; achieve very good interoperability on the first try. (The interop
&gt; meetups of early implementers demonstrated that very clearly; the
&gt; major pain point was HTTP Auth, not AtomPub per se.) Comparing
&gt; AtomPub to the WS-* stack is therefore a mere rhetorical device;
&gt; in absolute terms, there is a vast chasm in complexity between
&gt; the two.

I do use WS-* as a rhetorical device.  And separate from SOAP (the
literal part), which I think did a good job saving us from
multiplicity of, sometimes badly designed, enveloping wire formats,
all targeted at the same problem set.  It's pretty good at solving the
"less content type" problem, and it's very easy to code against.

SOAP expanded into WS-* because, instead of limiting where it should,
what it should be used for and keeping to the simple thing that could
possibly work, it became The Answer.  Apply liberally.  It doesn't do
everything, but because it's The Answer, you just keep lumping until
you end up reinventing REST and XMPP whatnot into the WS-* stack.

I don't want to see AtomPub going there.  I'm not saying it is, I'm
saying, let's make sure it doesn't.  We should be critical in where we
use it, and we should help other people apply the same critical
thinking.  And sometimes the answer is "yes, use AtomPub" and
sometimes the answer is "no, don't".

Assaf

&gt;
&gt; And I think AtomPub hits a sweetspot in that respect. It is
&gt; complex enough to be useful for *a LOT* of use cases (a lot more
&gt; than a simple application/x-www-url-encoded protocol would be),
&gt; but it still doesn't try cover them *all*, and in this way it
&gt; does  IMO anyway  avoid being prohibitively complex for the
&gt; simple cases, while offering them the advantages of conformity.
&gt;
&gt; Regards,
&gt; --
&gt; Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11142<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-08-05 18:14:47<br>
Subject:Re: [rest-discuss] Re: forms for web APIs<br>
Message:<br><br>
<pre>On Tue, Aug 5, 2008 at 3:25 AM, Aristotle Pagaltzis &lt;pagaltzis@...&gt; wrote:
&gt; * Assaf Arkin &lt;assaf@...&gt; [2008-08-05 10:40]:
&gt;&gt; You're right, I don't do politics. I judge protocols on their
&gt;&gt; merit. If a protocol is the best solution for the use cases it
&gt;&gt; was designed for, it will surface to the top. But I won't
&gt;&gt; recommend unnecessary complexity to promote a spec.
&gt;&gt;
&gt;&gt; In the long term, that does more harm than good. I'm actually
&gt;&gt; surprised that we're not looking at the WS-* agenda games as a
&gt;&gt; lesson learned. I'm not convinced the answer is more politics,
&gt;&gt; and I'm very worried about cargo culting.
&gt;&gt;
&gt;&gt; It's our job to recommend the best technology we know is
&gt;&gt; sufficient to solve the problem at hand. And sometimes that
&gt;&gt; means saying "No. Not for this use case. Use your head, use
&gt;&gt; [that] instead."
&gt;&gt;
&gt;&gt; Hammering is something WS-* has suffered from, and I'd hate to
&gt;&gt; see the same happen to REST, because once the false claims turn
&gt;&gt; into broken promises, all that's left is backlash, and backlash
&gt;&gt; has a way of diminishing the value of even the best
&gt;&gt; technologies.
&gt;
&gt; You seem to have lost the plot. Do you accept that having fewer,
&gt; more generically useful media types is good REST design? Is that
&gt; for political reasons, too? If you find it acceptable, why do you
&gt; accept the technical reasoning there but characterise it as
&gt; despicable politics in protocols?

Having fewer, more generically useful [...] is a good design practice.
 It has to be weighed against other design practices, but it's a good
design practice to weigh against.

I'm rephrasing it to avoid it being a strawman question. That also
applies to what goes inside the Atom envelope, and it also applies to
the combination of Atom and its content, but it's never the only good
design practice.

&gt;
&gt;&gt; I'm seeing too many people enveloping everything they send with
&gt;&gt; AtomPub, for no reason other than it's AtomPub, so it might be
&gt;&gt; good, right? I see people who don't bother to learn REST, they
&gt;&gt; just envelope with AtomPub  enveloping is easy, architecture
&gt;&gt; style is hard. They're not even using it right, but they marked
&gt;&gt; the checkbox, and yes, there's one case involving wrapping RPC
&gt;&gt; calls inside AtomPub.
&gt;&gt;
&gt;&gt; So when the time comes and we get to see SOAP passing over the
&gt;&gt; wire, except the envelope is called AtomPub, would we stand
&gt;&gt; back and smile and think to ourselves "mission accomplished"?
&gt;&gt;
&gt;&gt; AtomPub is a good solution, just not the best solution to every
&gt;&gt; problem. Using it like a hammer would be worse than not using
&gt;&gt; it enough, possibly the worst thing that could happen to it.
&gt;
&gt; HTTP has been suffering from a massive case of hammering for a
&gt; decade.
&gt;
&gt;&gt; We need to teach developers how to engineer the right solution,
&gt;&gt; that's the only way they could rise to the problem, not help
&gt;&gt; them cargo cult the next shiny spec or the next best whatever.
&gt;&gt;
&gt;&gt; I don't see enough of that, and quite frankly it saddens me and
&gt;&gt; in some way even scares me.
&gt;
&gt; Cargo cult happens. You cannot stop it. All you can do is design
&gt; for surviving it. The technologies that succeed in the long term
&gt; are those that have been so designed. People are morons; this is
&gt; not a bug.[1]

If you're saying AtomPub is the better cargo culting protocol ...
maybe.  It's a great protocol, so why not.  But that's not my point.

If someone comes to me and says "I need to update a blog post", I'm
going to start by asking them if they know how to discover it's
editURI.  And if the answer is yes, if they know how to extract that
form.  And if the answer is yes, if they know how to perform the
action specified there.  And if the answer is yes, in the span of a
few minutes, they just learned: a) more REST than a day's reading will
teach you, b) how to find and use APIs that already exist, c) how to
use the simplest tool.

I hold these lessons as more important than any protocol, no matter
how wonderful and great.  We should always be teaching people how to
fish.

Assaf

&gt;
&gt; [1]: http://diveintomark.org/archives/2004/08/16/specs
&gt;
&gt; Regards,
&gt; --
&gt; Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11143<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-08-05 18:15:31<br>
Subject:Re: [rest-discuss] Re: forms for web APIs<br>
Message:<br><br>
<pre>On Tue, Aug 5, 2008 at 4:52 AM, Sebastien Lambla &lt;seb@...&gt; wrote:
&gt; One cannot deny that imposing a wrapper tax on all things rest as AtomPub is
&gt; being used at the moment is not going in the right direction. Suddenly you
&gt; impose having an xml parser and other semantics in a container format and
&gt; get dragged into wrapping your content-types within yet another content-type
&gt; to manage.
&gt;
&gt; The so-called reuse of content-types that atom provides is an illusion as
&gt; your entities will still need to exist in a format you have to define.
&gt;
&gt; Saying the complexity is being absorbed by the frameworks is like saying
&gt; transactions will magically all scale because we have WS-AtomicTransactions.
&gt; It's not true, it requires more and more layers of tools and toolkits and
&gt; increase the price you pay for your first shot.

Exactly.

Assaf

&gt;
&gt; Be it in flash, XHR or plain Html forms, atom is not supported, and it
&gt; should probably never be. If you want to pass atom because the format makes
&gt; sense and the client negotiated, that is quite fine. If you pass everything
&gt; wrapped in ATOM saying that somehow putting an entity in an xml feed is
&gt; fine, in the name of so-called commoditization of frameworks (something that
&gt; companies that have been known to *create* the WS-* mess are now pushing
&gt; very hardly for), and not even providing other alternate content types that
&gt; make sense, is going against the simplicity and capability discovery that
&gt; REST support out of the box.
&gt;
&gt; Would you wrap a jpeg file in an atom entry and base64 it? So why do it with
&gt; anything else but namespaced composable xml languages, of which very few are
&gt; actually composeable?
&gt;
&gt; Seb
&gt;
&gt; --------------------------------------------------
&gt; From: "Aristotle Pagaltzis" &lt;pagaltzis@...&gt;
&gt; Sent: Tuesday, August 05, 2008 11:25 AM
&gt; To: "Rest List" &lt;rest-discuss@yahoogroups.com&gt;
&gt; Subject: [rest-discuss] Re: forms for web APIs
&gt;
&gt;&gt; * Assaf Arkin &lt;assaf@...&gt; [2008-08-05 10:40]:
&gt;&gt;&gt; You're right, I don't do politics. I judge protocols on their
&gt;&gt;&gt; merit. If a protocol is the best solution for the use cases it
&gt;&gt;&gt; was designed for, it will surface to the top. But I won't
&gt;&gt;&gt; recommend unnecessary complexity to promote a spec.
&gt;&gt;&gt;
&gt;&gt;&gt; In the long term, that does more harm than good. I'm actually
&gt;&gt;&gt; surprised that we're not looking at the WS-* agenda games as a
&gt;&gt;&gt; lesson learned. I'm not convinced the answer is more politics,
&gt;&gt;&gt; and I'm very worried about cargo culting.
&gt;&gt;&gt;
&gt;&gt;&gt; It's our job to recommend the best technology we know is
&gt;&gt;&gt; sufficient to solve the problem at hand. And sometimes that
&gt;&gt;&gt; means saying "No. Not for this use case. Use your head, use
&gt;&gt;&gt; [that] instead."
&gt;&gt;&gt;
&gt;&gt;&gt; Hammering is something WS-* has suffered from, and I'd hate to
&gt;&gt;&gt; see the same happen to REST, because once the false claims turn
&gt;&gt;&gt; into broken promises, all that's left is backlash, and backlash
&gt;&gt;&gt; has a way of diminishing the value of even the best
&gt;&gt;&gt; technologies.
&gt;&gt;
&gt;&gt; You seem to have lost the plot. Do you accept that having fewer,
&gt;&gt; more generically useful media types is good REST design? Is that
&gt;&gt; for political reasons, too? If you find it acceptable, why do you
&gt;&gt; accept the technical reasoning there but characterise it as
&gt;&gt; despicable politics in protocols?
&gt;&gt;
&gt;&gt;&gt; I'm seeing too many people enveloping everything they send with
&gt;&gt;&gt; AtomPub, for no reason other than it's AtomPub, so it might be
&gt;&gt;&gt; good, right? I see people who don't bother to learn REST, they
&gt;&gt;&gt; just envelope with AtomPub  enveloping is easy, architecture
&gt;&gt;&gt; style is hard. They're not even using it right, but they marked
&gt;&gt;&gt; the checkbox, and yes, there's one case involving wrapping RPC
&gt;&gt;&gt; calls inside AtomPub.
&gt;&gt;&gt;
&gt;&gt;&gt; So when the time comes and we get to see SOAP passing over the
&gt;&gt;&gt; wire, except the envelope is called AtomPub, would we stand
&gt;&gt;&gt; back and smile and think to ourselves "mission accomplished"?
&gt;&gt;&gt;
&gt;&gt;&gt; AtomPub is a good solution, just not the best solution to every
&gt;&gt;&gt; problem. Using it like a hammer would be worse than not using
&gt;&gt;&gt; it enough, possibly the worst thing that could happen to it.
&gt;&gt;
&gt;&gt; HTTP has been suffering from a massive case of hammering for a
&gt;&gt; decade.
&gt;&gt;
&gt;&gt;&gt; We need to teach developers how to engineer the right solution,
&gt;&gt;&gt; that's the only way they could rise to the problem, not help
&gt;&gt;&gt; them cargo cult the next shiny spec or the next best whatever.
&gt;&gt;&gt;
&gt;&gt;&gt; I don't see enough of that, and quite frankly it saddens me and
&gt;&gt;&gt; in some way even scares me.
&gt;&gt;
&gt;&gt; Cargo cult happens. You cannot stop it. All you can do is design
&gt;&gt; for surviving it. The technologies that succeed in the long term
&gt;&gt; are those that have been so designed. People are morons; this is
&gt;&gt; not a bug.[1]
&gt;&gt;
&gt;&gt; [1]: http://diveintomark.org/archives/2004/08/16/specs
&gt;&gt;
&gt;&gt; Regards,
&gt;&gt; --
&gt;&gt; Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;
&gt;&gt;
&gt;&gt; ------------------------------------
&gt;&gt;
&gt;&gt; Yahoo! Groups Links
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11144<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-08-05 20:28:42<br>
Subject:RE: [rest-discuss] forms for web APIs<br>
Message:<br><br>
<pre>&gt; Can I suggest that the lack of strong semantics within action URIs is
&gt; the problem? Notice that I use an extra @tm:type to denote this, as
&gt; get|put|delete|post with resource orientation alone are simply too
&gt; weak for business context.

I'm not completely sure I understand your assertion that resource actions
have to no strong semantics.

Shouldn't the discovery of a resource lead you to an interaction based on
representations that are meaningful to the client and the server, or when
that is not possible through sending to the client what it needs to ensure
the interaction is possible, aka mobile code that extends the client
understanding?

Or are you referring to locating known end-points the clients then know how
to deal with?

Seb 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11145<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-08-06 07:16:51<br>
Subject:Re: [rest-discuss] Re: forms for web APIs<br>
Message:<br><br>
<pre>Aristotle Pagaltzis wrote:
&gt; 
&gt; Looks good; did you consciously decide against XForms?
&gt; 

Thank you!  I was wondering when XForms would get a mention in this
thread...  My first XForms project a couple months back, was a simple
Atom Protocol client, took a whole day.  Now I've applied this to my
larger project, currently completely broken until I figure out how to
implement an outer loop (which has been kicking my butt completely):

http://canuck.bisonsystems.net/xforms/

My Web application is based on Atom Protocol, and you can infer that
from the XForms 'model' and submission code.  In working this up, I
came up with the notion of using 'application/atomcat+xml' as a PATCH
format, to edit tags separately from entries.  IOW, that bit of the API
was *invented*, implemented and documented entirely in XForms.

XForms' commercial viability issues aside, isn't the ability to express
the entire API (from the subset of Atom Protocol used, to the PATCH
extension thing) in hypermedia the ideal set by HEAS in the first place?

With a little study on XForms, is there any aspect of the client-server
interaction (API) that can't be inferred from the markup?  Is there
anything a client could do that isn't reflected in the markup?  I think 
the answer to both questions, is 'no'.  MVC on the client, yay!  :)

If the notion of HEAS is to promote serendipitous re-use of an API, 
then shouldn't a Web API be expressed using hypermedia of known formats?  
If this is so, then isn't it a 'good thing' to be able to describe a 
client-server interaction using as few lines of common code as possible?  
Am I missing some other forms language that fills this bill, today?

The following code, line-by-line, says we're making an HTTP PATCH 
request serialized as 'application/atomcat+xml' using the file cats.xml 
as the model for the entity body; the target URL for the PATCH request 
may be found in the Atom feed by finding the proper atom:id and summing 
its xml:base and &lt;link rel='edit'&gt;; and the client is instructed to make 
the PATCH a conditional request.  What isn't there yet, is reading the 
Etag from a GET request on that rel='edit' link, $Etag is dummy code.

...
&lt;xfm:submission id='apply-tags' ref="instance('cats.src')" method='patch' validate='false'  
 serialization='application/atomcat+xml'&gt;&lt;!-- needs @includenamespaceprefixes --&gt;
 &lt;xfm:resource value="concat(instance('feed.src')//id[.=instance('post-0.src')/id]/self::*/parent::*/@xml:base ,
 instance('feed.src')//id[.=instance('post-0.src')/id]/self::*/parent::*/link[@rel='edit']/@href)"/&gt;
 &lt;xfm:header&gt;&lt;xfm:name&gt;If-Match&lt;/xfm:name&gt;&lt;xfm:value&gt;Etag&lt;/xfm:value&gt;&lt;/xfm:header&gt;
&lt;/xfm:submission&gt;
...

As for the 'cats.src' model, here's the code for cats.xml, an external 
file:

&lt;?xml version='1.0' encoding='utf-8'?&gt;
&lt;app:categories xmlns:app='http://www.w3.org/2007/app' scheme='http://ericjbowman.com/tags#' xml:lang='en'&gt;
    &lt;category term='none' label='uncategorized'/&gt;
&lt;/app:categories&gt;

Since this form code will be generated by the server, questions like, 
"Is the PATCH operation a merge or a replace?" may be answered by simply 
removing a tag from an existing entry and seeing what happens.  There's 
nothing about this bit of API that isn't entirely defined by operation 
of the XForms interface itself, if the answer can't be found in the code.

So, my snappy answer to Bill's original question, is "XForms are a basis 
for an API."  And, you don't have to use query parameters, you can just 
submit well-formed XML (the &lt;category&gt; tag in cats.xml pre-fills the tag-
editing portion of the form, for those posts with no tags applied).  I 
don't really know why XForms with known-format entity bodies aren't a 
de-facto standard, I couldn't help but wonder why I had to write my own 
Atom Protocol XForms client instead of seeing it as XForms example code 
somewhere, if not all over the place.  My Atom Protocol client is Ffx 2.0 
with the XForms extension... so I just don't get the lack of luv for 
XForms (1.1 or better) around here!

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11146<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-08-06 09:18:05<br>
Subject:Re: [rest-discuss] Different resource 'views'<br>
Message:<br><br>
<pre>I agree with the others, that you use content negotiation but allow URI
parameters to override it, directly returning the desired variant. This
works really well to test the output of conneg systems, without having
to muck about with browser settings or use curl.  I say parameter, not
query, because your URIs don't represent queries -- the output format
has always seemed a parameter to me:

/team/cubs;view=csv
/team/cubs;view=json

Note that this gives clean separation between a choice of output
format, and any actual query, say the team's current win/loss record:

/team/cubs;view=csv?query=record
/team/cubs;view=json?query=record

In this situation, we don't have to worry about cache aliasing (my term
for what's been discussed in this thread re: order of name/value pairs)
because RFC 3986 tells us that queries follow parameters.  But, if you
use more than one parameter or name/value pair in the query, you're into
"matrix URI" territory.  My solution is to use 301 redirects to re-order
requests into their 'proper' form as I define it, because URIs are
opaque -- each unique one will create its own cache alias for the same
data.  Note that some servers will recognize ?view=csv even if you only
intend ;view=csv, instead of returning a 404 as appropriate, because
anything after the ';' is considered a query string, I forget why...

The icing on the cake, if your source data is accessible as XML, is
being able to generate any desired output format/media type combination
using XSLT's &lt;output/&gt; element.  We've implemented a system where
;view= URI parameters may be added at any time, by PUTting a new XSLT
file on the server.  For example, if I wanted JSON output, I'd PUT an
XSLT file named json.xsl on the server.  If that file is present, then
any request specifying ;view=json would cause the XSLT processor on the
server to transform the XML source data using json.xsl to generate JSON
output, and parse &lt;output media-type='application/json'/&gt; to set the
HTTP header.  IOW, this is the sort of thing XSLT is ideal for.

-Eric

Griffin Caprio wrote:

&gt; Hi all,
&gt; 
&gt; I'm curious to know what are doing to allow clients to request  
&gt; different views of a resource?  For example, say I had this resource:
&gt; 
&gt; /team/cubs
&gt; 
&gt; I'd like to represent the resulting resource as HTML, JSON, CSV,  
&gt; etc....  The easiest way would be to append a "view" query string
&gt; value:
&gt; 
&gt; /team/cubs?view=csv
&gt; /team/cubs?view=json
&gt; ....
&gt; 
&gt; Another option would be to rely on the request HTTP headers sent
&gt; from the client.  I like this approach from an athestic pov, since
&gt; it doesn't muck up the URLs.  But it places a big dependency on the  
&gt; clients being able to correctly set the right headers.  Also, some  
&gt; headers could have more than one value, so you get into situations  
&gt; where ordering must be figured out.  So it seems like the query
&gt; string approach is the most deterministic and also the least complex.
&gt; 
&gt; Anybody else have other options?
&gt; 
&gt; Thanks,
&gt; Griffin Caprio
&gt; http://blog.1530technologies.com
&gt; http://www.oreillynet.com/xml/blog/
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11147<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2008-08-07 04:17:21<br>
Subject:Re: [rest-discuss] Different resource 'views'<br>
Message:<br><br>
<pre>On Aug 6, 2008, at 2:18 AM, Eric J. Bowman wrote:
&gt; I agree with the others, that you use content negotiation but allow  
&gt; URI
&gt; parameters to override it, directly returning the desired variant.  
&gt; This
&gt; works really well to test the output of conneg systems, without having
&gt; to muck about with browser settings or use curl. I say parameter, not
&gt; query, because your URIs don't represent queries -- the output format
&gt; has always seemed a parameter to me:
&gt;
&gt; /team/cubs;view=csv
&gt; /team/cubs;view=json
&gt;

I don't know of any sane system that uses the query portion to
distinguish format-specific resources.  Everybody uses name
extensions for that purpose.  There is absolutely no good reason
to do the above instead of

    /team/cubs.csv
    /team/cubs.json

and plenty of reasons to avoid using query syntax.

Have a look at Apache Sling for an example.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11148<br>
Sender:"Subhash Chandran" &lt;subwiz@...&gt;<br>
Post Date/Time:2008-08-07 05:04:34<br>
Subject:[Announce] RESTClient 2.2 Alpha 1 Released For Testing<br>
Message:<br><br>
<pre>Hi All,

RESTClient 2.2a1 can be downloaded from:

http://rest-client.googlecode.com/files/restclient-2.2a1-jar-with-dependencies.jar

The release note is available:

http://code.google.com/p/rest-client/wiki/22a1ReleaseNotes

The project page:

http://rest-client.googlecode.com/

Any issue, feature can be reported here:

http://code.google.com/p/rest-client/issues/list

-- 
Thank you,
Subhash Chandran S

http://rest-client.googlecode.com/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11149<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-08-07 09:35:33<br>
Subject:Re: [rest-discuss] Different resource 'views'<br>
Message:<br><br>
<pre>OK, you're right, but only as long as 1:1 mapping between content-
type and representation, or a 1:1 mapping between an extension and a
format, exist.  The .csv and .json extensions have no ambiguity; the
same can't be said for .html which might be text/html or
application/xhtml+xml, or .xml which may be text/xml or application/
xml, and so on.

A sane system using the query portion, is one which distinguishes
between representations rather than output formats, i.e. assume the
following both render as JSON:

/team/cubs;view=foo
/team/cubs;view=bar

The alternative being cubs.json and perhaps cubs.txt for the second
JSON representation, which introduces ambiguous extensions, which seems
like a good reason not to use file extensions, to me.

An application may also serve XHTML 1.0, as application/xhtml+xml to
compatible clients, and as text/html to other clients.  Since there's
only one file, its extension is moot, making URI parameters viable to
specify the particular output serialization rather than having two
copies of the same file, one as .htm and the other as .html...

-Eric

"Roy T. Fielding" wrote:

&gt; On Aug 6, 2008, at 2:18 AM, Eric J. Bowman wrote:
&gt; &gt; I agree with the others, that you use content negotiation but
&gt; &gt; allow URI
&gt; &gt; parameters to override it, directly returning the desired variant.  
&gt; &gt; This
&gt; &gt; works really well to test the output of conneg systems, without
&gt; &gt; having to muck about with browser settings or use curl. I say
&gt; &gt; parameter, not query, because your URIs don't represent queries --
&gt; &gt; the output format has always seemed a parameter to me:
&gt; &gt;
&gt; &gt; /team/cubs;view=csv
&gt; &gt; /team/cubs;view=json
&gt; &gt;
&gt; 
&gt; I don't know of any sane system that uses the query portion to
&gt; distinguish format-specific resources.  Everybody uses name
&gt; extensions for that purpose.  There is absolutely no good reason
&gt; to do the above instead of
&gt; 
&gt;     /team/cubs.csv
&gt;     /team/cubs.json
&gt; 
&gt; and plenty of reasons to avoid using query syntax.
&gt; 
&gt; Have a look at Apache Sling for an example.
&gt; 
&gt; ....Roy
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11150<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-08-07 13:17:57<br>
Subject:Re: [rest-discuss] Different resource 'views'<br>
Message:<br><br>
<pre>Roy T. Fielding wrote:

&gt; I don't know of any sane system that uses the query portion to
&gt; distinguish format-specific resources. Everybody uses name
&gt; extensions for that purpose. There is absolutely no good reason
&gt; to do the above instead of
&gt; 
&gt; /team/cubs.csv
&gt; /team/cubs.json
&gt; 
&gt; and plenty of reasons to avoid using query syntax.

What would they be?

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11151<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-08-07 15:35:23<br>
Subject:Re: [rest-discuss] Different resource 'views'<br>
Message:<br><br>
<pre>
On Aug 7, 2008, at 2:35 AM, Eric J. Bowman wrote:

&gt; A sane system using the query portion, is one which distinguishes
&gt; between representations rather than output formats, i.e. assume the
&gt; following both render as JSON:
&gt;
&gt; /team/cubs;view=foo
&gt; /team/cubs;view=bar
&gt;
&gt; The alternative being cubs.json and perhaps cubs.txt for the second
&gt; JSON representation, which introduces ambiguous extensions, which  
&gt; seems
&gt; like a good reason not to use file extensions, to me.

This could very well be written as

/team/cubs.foo
/team/cubs.bar

I don't mean to say that one is better than the other though. These  
are syntactic variations that have the same tradeoffs.

Subbu

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11152<br>
Sender:"Erling Wegger Linde" &lt;erlingwl@...&gt;<br>
Post Date/Time:2008-08-07 16:04:16<br>
Subject:Re: [rest-discuss] URLs in URLs<br>
Message:<br><br>
<pre>For the record, I ended up with using Base64 encoded URL, as the
application/x-www-form-urlencoded URLs where decoded by Apache, and I
couldn't find a simple workaround.

- Erling

On Sun, Aug 3, 2008 at 12:08 PM, Erling Wegger Linde &lt;erlingwl@...&gt; wrote:
&gt; On Sat, Aug 2, 2008 at 9:51 PM, Justin Sheehy &lt;justin@...&gt; wrote:
&gt;&gt; Erling,
&gt;&gt;
&gt;&gt; On Aug 2, 2008, at 3:32 PM, Erling Wegger Linde wrote:
&gt;&gt;
&gt;&gt;&gt; That keeps the urls a bit shorter, which is good, but I'm wondering,
&gt;&gt;&gt; can a client deduce the hashed URL from the MD5 hash? (reverse it?). I
&gt;&gt;&gt; think that would be a great feature..
&gt;&gt;
&gt;&gt; No, in general they cannot.
&gt;&gt;
&gt;&gt; Most hash functions are intended to be preimage-resistant, which means
&gt;&gt; that one of their goals is that given hash(X) alone it is hard to discover
&gt;&gt; X.
&gt;&gt;
&gt;&gt; You want a URI-safe encoding, not a cryptographic hash function.
&gt;
&gt; That is what I suspected. I'll start with encoding my URLs with the
&gt; application/x-www-form-urlencoded  MIME format then.
&gt;
&gt; Thanks a lot guys,
&gt; - Erling
&gt;
&gt;&gt;
&gt;&gt; -Justin
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
&gt;
&gt;
&gt; --
&gt; Med vennlig hilsen
&gt; Erling Wegger Linde
&gt;



-- 
Med vennlig hilsen
Erling Wegger Linde

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11153<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2008-08-07 18:02:17<br>
Subject:Re: [rest-discuss] Different resource 'views'<br>
Message:<br><br>
<pre>On Aug 7, 2008, at 6:17 AM, Bill de hOra wrote:
&gt; Roy T. Fielding wrote:
&gt;
&gt; &gt; I don't know of any sane system that uses the query portion to
&gt; &gt; distinguish format-specific resources. Everybody uses name
&gt; &gt; extensions for that purpose. There is absolutely no good reason
&gt; &gt; to do the above instead of
&gt; &gt;
&gt; &gt; /team/cubs.csv
&gt; &gt; /team/cubs.json
&gt; &gt;
&gt; &gt; and plenty of reasons to avoid using query syntax.
&gt;
&gt; What would they be?
&gt;

1) It interferes with other uses of the query syntax (for queries);
2) It is often controlled by a different subsystem during operations,
    in a method-specific and implementation-specific manner, which  
makes it
    harder to preserve names when the implementation evolves;
3) It looks like a query, so some caches don't bother to cache the
    response because the hit rate is lower than non-query responses;
4) It looks like a potentially "unsafe" resource, so some (spineless)
    spiders won't traverse it and your site will disappear from search
    engines.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11154<br>
Sender:"wahbedahbe" &lt;andrew.wahbe@...&gt;<br>
Post Date/Time:2008-08-08 04:44:14<br>
Subject:Re: forms for web APIs<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, "Alexander Johannesen"
&lt;alexander.johannesen@...&gt; wrote:
&gt;

&gt; This works extremely well for me and those clients who have used it.
&gt; I've tinkered with using microformats instead of the tm: namespace,
&gt; but think serious developers think microformats still is a toy (which
&gt; I could agree with, without proper namespacing or some other safe
&gt; method of microformat identification). Thoughts?
&gt; 

I think this general approach is pretty solid -- I've thought about
using the microformats variant of this myself.

But this approach always has me asking: is this really so different
from RPC? 

A form microformat or a set of standard query parameters aren't that
different than a standard function call. Your form is just saying "you
can make that standard function call here".

So it offers a little more than straight RPC as you can discover when
and where you can make that call as you move through the hypermedia
state machine. But this model isn't quite right in my mind as it
constrains the server's interface too much.

Let me explain with an example: Say you wanted to facilitate machine
to machine travel booking (hotels, car rentals, and flights). REST
should allow any automated client that supports a standard hypermedia
format (and a transfer protocol -- HTTP) to book travel given nothing
other than an initial URL to start at.

There should be no constraints on the servers other than that they
support the uniform interface of HTTP and the hypermedia format. i.e.
one service could provide one giant form for the whole transaction,
another might offer multiple forms (one for hotel reservation, one for
car rental and one for booking flights) all posted to different servers.

For some reason, most "RESTful" machine to machine techniques don't
really give us this. I think most hypermedia formats being used are
missing mechanisms to translate from the client's model of the problem
to the HTTP requests of the service. In UI-oriented hypermedia, this
translation is left to the user. Don't you need to do something more
in the machine to machine case?

Anyways, one interesting example of a solution to this can be found in
CCXML (http://www.w3.org/TR/ccxml/). Are there other good examples
(maybe the topic map is one -- I don't know too much about it)?

Andrew Wahbe


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11155<br>
Sender:"vedams97" &lt;vedams97@...&gt;<br>
Post Date/Time:2008-08-07 23:14:30<br>
Subject:REST versioning<br>
Message:<br><br>
<pre>Hello All,

Any one worked on REST versioning. I am looking at various options to 
support backward compatibility in REST services. 

Regards
Vedam


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11156<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-08-08 05:03:54<br>
Subject:Re: [rest-discuss] REST versioning<br>
Message:<br><br>
<pre>I have a limited experience w/ versioning REST-ful applications. In
the few cases I've implemented versioning, I've done it in the manner
described by Peter Williams:
http://pezra.barelyenough.org/blog/2008/05/versioning-rest-web-services/

MikeA

On Thu, Aug 7, 2008 at 7:14 PM, vedams97 &lt;vedams97@...&gt; wrote:
&gt;&gt; Hello All,
&gt;&gt;
&gt;&gt; Any one worked on REST versioning. I am looking at various options to
&gt;&gt; support backward compatibility in REST services.
&gt;&gt;
&gt;&gt; Regards
&gt;&gt; Vedam
&gt;&gt;
&gt;&gt;
&gt;&gt; ------------------------------------
&gt;&gt;
&gt;&gt; Yahoo! Groups Links
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11157<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-08-08 05:46:31<br>
Subject:Re: [rest-discuss] REST versioning<br>
Message:<br><br>
<pre>If I understand the question correctly, if the intent is to preserve  
backwards compat, then consider designing representations that are  
backwards compatible. Other solutions as suggested by Peter and others  
are meant for cases when changes are not necessarily compatible.

Subbu

On Aug 7, 2008, at 10:03 PM, mike amundsen wrote:

&gt; I have a limited experience w/ versioning REST-ful applications. In
&gt; the few cases I've implemented versioning, I've done it in the manner
&gt; described by Peter Williams:
&gt; http://pezra.barelyenough.org/blog/2008/05/versioning-rest-web-services/
&gt;
&gt; MikeA
&gt;
&gt; On Thu, Aug 7, 2008 at 7:14 PM, vedams97 &lt;vedams97@...&gt; wrote:
&gt; &gt;&gt; Hello All,
&gt; &gt;&gt;
&gt; &gt;&gt; Any one worked on REST versioning. I am looking at various  
&gt; options to
&gt; &gt;&gt; support backward compatibility in REST services.
&gt; &gt;&gt;
&gt; &gt;&gt; Regards
&gt; &gt;&gt; Vedam
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; ------------------------------------
&gt; &gt;&gt;
&gt; &gt;&gt; Yahoo! Groups Links
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11158<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-08-08 06:24:53<br>
Subject:Re: [rest-discuss] Re: forms for web APIs<br>
Message:<br><br>
<pre>On Thu, Aug 7, 2008 at 9:44 PM, wahbedahbe &lt;andrew.wahbe@...&gt; wrote:
&gt; --- In rest-discuss@yahoogroups.com, "Alexander Johannesen"
&gt; &lt;alexander.johannesen@...&gt; wrote:
&gt;&gt;
&gt;
&gt;&gt; This works extremely well for me and those clients who have used it.
&gt;&gt; I've tinkered with using microformats instead of the tm: namespace,
&gt;&gt; but think serious developers think microformats still is a toy (which
&gt;&gt; I could agree with, without proper namespacing or some other safe
&gt;&gt; method of microformat identification). Thoughts?
&gt;&gt;
&gt;
&gt; I think this general approach is pretty solid -- I've thought about
&gt; using the microformats variant of this myself.
&gt;
&gt; But this approach always has me asking: is this really so different
&gt; from RPC?
&gt;
&gt; A form microformat or a set of standard query parameters aren't that
&gt; different than a standard function call. Your form is just saying "you
&gt; can make that standard function call here".
&gt;
&gt; So it offers a little more than straight RPC as you can discover when
&gt; and where you can make that call as you move through the hypermedia
&gt; state machine. But this model isn't quite right in my mind as it
&gt; constrains the server's interface too much.
&gt;
&gt; Let me explain with an example: Say you wanted to facilitate machine
&gt; to machine travel booking (hotels, car rentals, and flights). REST
&gt; should allow any automated client that supports a standard hypermedia
&gt; format (and a transfer protocol -- HTTP) to book travel given nothing
&gt; other than an initial URL to start at.
&gt;
&gt; There should be no constraints on the servers other than that they
&gt; support the uniform interface of HTTP and the hypermedia format. i.e.
&gt; one service could provide one giant form for the whole transaction,
&gt; another might offer multiple forms (one for hotel reservation, one for
&gt; car rental and one for booking flights) all posted to different servers.

If by hypermedia you mean something like HTML, that's not going to
work.  Your HTML serves a form with two inputs, call them foo and bar.
 Your client has two values, but lacking any other information, can't
decide which value to feed foo, which value to feed bar.

It won't work unless you add a constraint on the server to use
specific names understood to the client.


Let's turn to the human Web for a second, and again, serve a form with
two inputs, call them foo and bar.  Unless you know how the service
was written, there's no way you can fill up this form.  You just can't
tell which value goes where.

So we annotate the form.  We add labels that are spatially related to
the field (eyes use that to establish relation), using names (or
imagery) that is understood by the client (a person, in this case) and
it's now possible to fill the form.

Now you added a constraint on the service.  A constraint to use a
particular subset of names associated with each input.  For example,
"DOB" if you're asking for data of birth, not "Age" and certainly not
"martha".  If you're operating globally, you have even more work to
do, the names you pick now depend on the preferred language choice of
your language.


The Web will not work without the additional constraints of serving
names understood by the client to identify links, actions and inputs.

Assaf

&gt;
&gt; For some reason, most "RESTful" machine to machine techniques don't
&gt; really give us this. I think most hypermedia formats being used are
&gt; missing mechanisms to translate from the client's model of the problem
&gt; to the HTTP requests of the service. In UI-oriented hypermedia, this
&gt; translation is left to the user. Don't you need to do something more
&gt; in the machine to machine case?
&gt;
&gt; Anyways, one interesting example of a solution to this can be found in
&gt; CCXML (http://www.w3.org/TR/ccxml/). Are there other good examples
&gt; (maybe the topic map is one -- I don't know too much about it)?
&gt;
&gt; Andrew Wahbe
&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11159<br>
Sender:"Alexander Johannesen" &lt;alexander.johannesen@...&gt;<br>
Post Date/Time:2008-08-08 06:58:52<br>
Subject:Re: [rest-discuss] Re: forms for web APIs<br>
Message:<br><br>
<pre>On Fri, Aug 8, 2008 at 06:44, wahbedahbe &lt;andrew.wahbe@...&gt; wrote:
&gt; But this approach always has me asking: is this really so different
&gt; from RPC?

Quite. :)

&gt; A form microformat or a set of standard query parameters aren't that
&gt; different than a standard function call. Your form is just saying "you
&gt; can make that standard function call here".

Kinda, but there's a few important points about this, as there can be
many forms to do many different things per request. You can choose
which one to follow (just like on a normal web page with lots of
links), as forms are in reality nothing more than a hyperlink with
parameters. In REST one is to maintain client state on the client, and
server state on the server, now accomplished through this mechanism.
It has a further two advantages;

1. Interfaces are discoverable, which means that if you change the
server interface (order, direction, process, work flow), clients won't
break as long as the semantics is sustained. 2. The semantics of
application interfaces are shifted from the API itself (often through
static binding of sorts) to an ontology layer that's easier to model
and change over time.

&gt; So it offers a little more than straight RPC as you can discover when
&gt; and where you can make that call as you move through the hypermedia
&gt; state machine. But this model isn't quite right in my mind as it
&gt; constrains the server's interface too much.

What are the constraints? The generic uniform interface, and
coarse-grained semantics of MIME types?

&gt; Let me explain with an example: [...]
&gt;
&gt; For some reason, most "RESTful" machine to machine techniques don't
&gt; really give us this. I think most hypermedia formats being used are
&gt; missing mechanisms to translate from the client's model of the problem
&gt; to the HTTP requests of the service. In UI-oriented hypermedia, this
&gt; translation is left to the user. Don't you need to do something more
&gt; in the machine to machine case?

No, what it is is that REST (or in our case, HTTP) is too abstract to
be specific for that sort of functionality (in general), so the idea
is to create protocols that are domain specific (or, more specific) to
cater for that. For example, the AtomPub defines simple content
management through their own MIME type.

In your example, a booking protocol should probably be defined, and
have its own MIME type as well. Interestingly, I'm working on a travel
system these days and have something like that in place, although I
use Topic Maps to denote shareable models and semantics instead of an
agreed-upon document of prose.


Alexander
-- 
---------------------------------------------------------------------------
 Project Wrangler, SOA, Information Alchemist, UX, RESTafarian, Topic Maps
------------------------------------------ http://shelter.nu/blog/ --------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11160<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-08-08 09:47:04<br>
Subject:Re: [rest-discuss] REST versioning<br>
Message:<br><br>
<pre>Vedam,

It depends on what you mean by versioning ...

If you are talking about the URI, 'generally accepted best practice
says' don't put version numbers in the URI.

If you are talking about the message body format then you should use
whatever is considered appropriate for that MIME type. I'm not sure
what is considered best practice for JSON types. I would imagine that
most bets are off for plain text types.

For XML versioning, there are a number of schools of thought. One
school of thought puts a version number in the root element (Dave
Winer likes to do this, I've noticed). Personally, I'm not a fan of
this approach - your mileage may vary. Another school of thought is
the hammer things down against a 'type-safe' schema. I'm not a fan of
this either (I have found XML Schema to be very brittle in the face of
change. Again, your mileage may vary. The school of thought that I
subscribe to uses what I call a 'loosely-typed' schema (there may be
more correct terminology, I don't know). For me, loose schema typing
uses the simplest possible element / attribute typing you can
reasonably get away with (often this will simply be string) and makes
everything optional. This way, the schema simply sets out what might
possibly be in the message. I have found this to be far more robust in
the face of change. Admittedly, server implementations have to do
harder work but client implementations will generally be simpler (a
division of labour I approve of).

It's always worth keeping in mind Postel's Law (The Robustness
Principle) of "Be conservative in what you do; be liberal in what you
accept from others."

Here is some additional reading you might find useful:

"Cool URIs don't change"
http://www.w3.org/Provider/Style/URI

"[Editorial Draft] Extending and Versioning Languages: Terminology"
http://www.w3.org/2001/tag/doc/versioning

"Compatibility articles"
http://pacificspirit.com/Authoring/Compatibility/

"Evolvability" (TBL)
http://www.w3.org/DesignIssues/Evolution.html

"Version Identifiers Reconsidered" (W3C Q&amp;A Weblog)
http://www.w3.org/QA/2007/12/version_identifiers_reconsider.html

"Tolerance" (Sam Ruby)
http://intertwingly.net/blog/2006/12/13/Tolerance/

More of my links on delicious
http://delicious.com/alan.dean/versioning

Regards,
Alan Dean

On Fri, Aug 8, 2008 at 12:14 AM, vedams97 &lt;vedams97@...&gt; wrote:
&gt; Hello All,
&gt;
&gt; Any one worked on REST versioning. I am looking at various options to
&gt; support backward compatibility in REST services.
&gt;
&gt; Regards
&gt; Vedam

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11161<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-08-08 09:55:20<br>
Subject:Re: [rest-discuss] Different resource 'views'<br>
Message:<br><br>
<pre>&gt;
&gt; 3) It looks like a query, so some caches don't bother to cache the
&gt;     response because the hit rate is lower than non-query responses;
&gt; 4) It looks like a potentially "unsafe" resource, so some (spineless)
&gt;     spiders won't traverse it and your site will disappear from search
&gt;     engines.
&gt; 
&gt; ....Roy
&gt; 

As to 3 and 4, the design pattern here is one of overriding content
negotiation, which in my case at least is not expected to account for a
significant percentage of requests.  So, having /team/cubs cached and
spidered properly seems sufficient, the individual variants' URIs don't
really need caching or spidering.

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11162<br>
Sender:"Alexander Johannesen" &lt;alexander.johannesen@...&gt;<br>
Post Date/Time:2008-08-08 10:47:08<br>
Subject:Re: [rest-discuss] REST versioning<br>
Message:<br><br>
<pre>On Fri, Aug 8, 2008 at 11:47, Alan Dean &lt;alan.dean@...&gt; wrote:
&gt; If you are talking about the URI, 'generally accepted best practice
&gt; says' don't put version numbers in the URI.

Is this generally accepted? As resource orientation don't have any
clear path for resources changing _over time_, it becomes a question
for you whether you regard your resource as backwards compatible to
some other version of itself. At some point there's perhaps a need for
a totally new version, so why not have that as part of the URI when it
*is* a different resource?

&gt; For XML versioning, there are a number of schools of thought. One
&gt; school of thought puts a version number in the root element

&lt;response version="1.1" /&gt;

&gt; Another school of thought is
&gt; the hammer things down against a 'type-safe' schema.

&lt;response
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://namespace.of.my.XSD.uri.here.xsd" /&gt;

&gt; The school of thought that I
&gt; subscribe to uses what I call a 'loosely-typed' schema

&lt;response schema="http://faux-namespace.uri.here" /&gt;

...

Here's how I do it ;

&lt;response version="1.1" schema="http://schema.shelter.nu/NUTS"
xmlns="http://schema.shelter.nu/NUTS/1.1" /&gt;

I'll leave it up to the clients and agents in how to interpret and use
that information, where they can choose to be as loose or strict they
feel is necessary, with trying my hardest to be backwards compatible.
the @schema attribute denotes a model of operation more than a strict
type-schema (the XML data model, if you like). And yes, I shun XML
Schema, too, although I do use some of their datatypes.

&gt; Principle) of "Be conservative in what you do; be liberal in what you
&gt; accept from others."

Amen.


Alex
-- 
---------------------------------------------------------------------------
 Project Wrangler, SOA, Information Alchemist, UX, RESTafarian, Topic Maps
------------------------------------------ http://shelter.nu/blog/ --------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11163<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-08-08 21:07:12<br>
Subject:Re: [rest-discuss] REST versioning<br>
Message:<br><br>
<pre>Alexander Johannesen wrote:
&gt; 
&gt; 
&gt; On Fri, Aug 8, 2008 at 11:47, Alan Dean &lt;alan.dean@... 
&gt; &lt;mailto:alan.dean%40gmail.com&gt;&gt; wrote:
&gt;  &gt; If you are talking about the URI, 'generally accepted best practice
&gt;  &gt; says' don't put version numbers in the URI.
&gt; 
&gt; Is this generally accepted? As resource orientation don't have any
&gt; clear path for resources changing _over time_, it becomes a question
&gt; for you whether you regard your resource as backwards compatible to
&gt; some other version of itself. At some point there's perhaps a need for
&gt; a totally new version, so why not have that as part of the URI when it
&gt; *is* a different resource?

Yes, it's generally accepted. In a REST based approach you cut a new URL 
for a new Resource, and you negotiate on well known content types.

For RPC or RPC hybrids you can end with version numbers in the URL 
because the function names and query params aren't sufficiently 
abstracted from the code - when the code or its signature changes the 
'meaning' of the URL also changes. Last.fm I think is an example of this 
(they have a v2 in their URL space); sf.com is a worst case scenario 
with about 18 versions (long bet: this will stop as they adopt gdata).

For custom content types you end up versioning those as well, unless you 
have good policies around backwards compatibility - operationally that 
means adopting must-ignore and foreign extensions from day 1.

Bill


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11164<br>
Sender:"Alexander Johannesen" &lt;alexander.johannesen@...&gt;<br>
Post Date/Time:2008-08-08 21:19:21<br>
Subject:Re: [rest-discuss] REST versioning<br>
Message:<br><br>
<pre>&gt;&gt; Is this generally accepted? As resource orientation don't have any
&gt;&gt; clear path for resources changing _over time_, it becomes a question
&gt;&gt; for you whether you regard your resource as backwards compatible to
&gt;&gt; some other version of itself. At some point there's perhaps a need for
&gt;&gt; a totally new version, so why not have that as part of the URI when it
&gt;&gt; *is* a different resource?

On Fri, Aug 8, 2008 at 23:07, Bill de hOra &lt;bill@...&gt; wrote:
&gt; Yes, it's generally accepted. In a REST based approach you cut a new URL for
&gt; a new Resource, and you negotiate on well known content types.

Hang on, this doesn't clash with what I said. I do a lot of modeling
through resource orientation, so even if I use the same resource types
and notions, they may exist in different models and have very
different semantics ;

   http://example.com/model1/topic/1234
   http://example.com/model2/topic/1234

I don't see the problem with this (apart from people parsing meta data
from the URI which they should not do).

&gt; For custom content types you end up versioning those as well

Isn't that a very expensive process, especially for the standardized
and popular ones?


Alex
-- 
---------------------------------------------------------------------------
 Project Wrangler, SOA, Information Alchemist, UX, RESTafarian, Topic Maps
------------------------------------------ http://shelter.nu/blog/ --------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11165<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-08-08 21:52:23<br>
Subject:Re: [rest-discuss] REST versioning<br>
Message:<br><br>
<pre>Alexander Johannesen wrote:
&gt;&gt;&gt; Is this generally accepted? As resource orientation don't have any
&gt;&gt;&gt; clear path for resources changing _over time_, it becomes a question
&gt;&gt;&gt; for you whether you regard your resource as backwards compatible to
&gt;&gt;&gt; some other version of itself. At some point there's perhaps a need for
&gt;&gt;&gt; a totally new version, so why not have that as part of the URI when it
&gt;&gt;&gt; *is* a different resource?
&gt; 
&gt; On Fri, Aug 8, 2008 at 23:07, Bill de hOra &lt;bill@...&gt; wrote:
&gt;&gt; Yes, it's generally accepted. In a REST based approach you cut a new URL for
&gt;&gt; a new Resource, and you negotiate on well known content types.
&gt; 
&gt; Hang on, this doesn't clash with what I said. I do a lot of modeling
&gt; through resource orientation, so even if I use the same resource types
&gt; and notions, they may exist in different models and have very
&gt; different semantics ;
&gt; 
&gt;    http://example.com/model1/topic/1234
&gt;    http://example.com/model2/topic/1234
&gt; 
&gt; I don't see the problem with this (apart from people parsing meta data
&gt; from the URI which they should not do).


http://example.com/model1/createTopic
http://example.com/model2/createTopic

so it depends on what you mean by semantics. One problem is that clients 
  have to rev to get new 'features', especially around posting or 
obtaining extra content. Or you have to support a lot of legacy clients 
on a single server codebase. Stuff like Atom/HTML/AtomPub makes some of 
the problems go away at the cost of more abstraction than (it seems) a 
lot of people can stomach, else their wouldn't be so many RPC-REST 
hybrid APIs (and actually calling them APIs is arguably indicative of a 
problem).


&gt;&gt; For custom content types you end up versioning those as well
&gt; 
&gt; Isn't that a very expensive process, especially for the standardized
&gt; and popular ones?

Most of the problems with custom types are that they are done for 
expedience and people unintentionally create new versions because 
processing rules are never defined. This can cause problems with 
seemingly trivial changes:

&lt;comment&gt;
  &lt;title/&gt;
  &lt;text/&gt;
&lt;/comment&gt;


&lt;comment&gt;
  &lt;text/&gt;
  &lt;title/&gt;
&lt;/comment&gt;

Are they different versions? It depends.

Take a look at the formats here:

http://dehora.net/journal/2008/03/08/network-address-book/

I went through this with someone in work today who isn't a protocol/web 
nerd. There's no question the MSFT version was the easiest to 
comprehend. It's probably marshall to/from the CLR, since the element 
names are clearly optimised for that, but it arguably has the least 
general purpose utility or reach. I suspect it's *extremely* unintuitive.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11166<br>
Sender:"Alexander Johannesen" &lt;alexander.johannesen@...&gt;<br>
Post Date/Time:2008-08-08 22:04:14<br>
Subject:Re: [rest-discuss] REST versioning<br>
Message:<br><br>
<pre>&gt;&gt; I don't see the problem with this (apart from people parsing meta data
&gt;&gt; from the URI which they should not do).

On Fri, Aug 8, 2008 at 23:52, Bill de hOra &lt;bill@...&gt; wrote:
&gt; http://example.com/model1/createTopic
&gt; http://example.com/model2/createTopic

But that's evil. I'm not talking about versioning of evil resources
(resources with verbs in them :), I'm still within proper REST, no
accidental REST or POX or anything such stuff.

To create new topics I'd do ;

   POST http://example.com/topic

which returns the topic in the latest version, or if I worked within a
specific model (meaning, I know what I'm doing)  ;

   POST http://example.com/model1/topic


Alex
-- 
---------------------------------------------------------------------------
 Project Wrangler, SOA, Information Alchemist, UX, RESTafarian, Topic Maps
------------------------------------------ http://shelter.nu/blog/ --------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11167<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-08-08 22:48:40<br>
Subject:Re: REST versioning<br>
Message:<br><br>
<pre>* Alexander Johannesen &lt;alexander.johannesen@...&gt; [2008-08-09 00:05]:
&gt; On Fri, Aug 8, 2008 at 23:52, Bill de hOra &lt;bill@...&gt; wrote:
&gt; &gt; http://example.com/model1/createTopic
&gt; &gt; http://example.com/model2/createTopic
&gt; 
&gt; But that's evil. I'm not talking about versioning of evil
&gt; resources (resources with verbs in them :)

I want to interject slightly off topic here because this is
such a common reaction, and this type of statement has started to
annoy me somewhat of late. (Maybe because I used to do the same
thing; I have since realised the baselessness of that conception.)

Just because the URI contains something thats a verb in English
verb doesnt mean its a verb in REST too. My web apps generally
have URLs like these:

    http://example.org/foo-collection/create # and
    http://example.org/foo-collection/bar-item/edit

But the only valid method on them is GET. (And no, that doesnt
mean you create items or edit them via GET!) What you GET from
them is an HTML form that POSTs or PUTs to

    http://example.org/foo-collection # or
    http://example.org/foo-collection/bar-item

respectively  which is where the collection being added to
or the resource being edited can be retrieved from with GET.
Programmatic clients wouldnt bother with the `/create` and
`/edit` URLs at all; those are there just because browsers need
the UI served to them. They may read like verbs in English, but
theyre resources, not operations.

Looking for verbs in URIs (and avoiding them) is useful as a way
of getting used to thinking in REST terms, but its not essential
or inherent to REST. The entire concern of what goes in a URI is
incidental and mostly irrelevant in architectural concerns. (It
*is* important, but reasons independent of REST.)

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11168<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-08-08 23:37:13<br>
Subject:Re: [rest-discuss] Re: REST versioning<br>
Message:<br><br>
<pre>Aristotle Pagaltzis wrote:
&gt; 
&gt; 
&gt; * Alexander Johannesen &lt;alexander.johannesen@... 
&gt; &lt;mailto:alexander.johannesen%40gmail.com&gt;&gt; [2008-08-09 00:05]:
&gt;  &gt; On Fri, Aug 8, 2008 at 23:52, Bill de hOra &lt;bill@... 
&gt; &lt;mailto:bill%40dehora.net&gt;&gt; wrote:
&gt;  &gt; &gt; http://example.com/model1/createTopic 
&gt; &lt;http://example.com/model1/createTopic&gt;
&gt;  &gt; &gt; http://example.com/model2/createTopic 
&gt; &lt;http://example.com/model2/createTopic&gt;
&gt;  &gt;
&gt;  &gt; But that's evil. I'm not talking about versioning of evil
&gt;  &gt; resources (resources with verbs in them :)
&gt; 
&gt; I want to interject slightly off topic here because this is
&gt; such a common reaction, and this type of statement has started to
&gt; annoy me somewhat of late. (Maybe because I used to do the same
&gt; thing; I have since realised the baselessness of that conception.)
&gt; 
&gt; Just because the URI contains something thats a verb in English
&gt; verb doesnt mean its a verb in REST too. My web apps generally
&gt; have URLs like these:
&gt; 
&gt; http://example.org/foo-collection/create 
&gt; &lt;http://example.org/foo-collection/create&gt; # and
&gt; http://example.org/foo-collection/bar-item/edit 
&gt; &lt;http://example.org/foo-collection/bar-item/edit&gt;
&gt; 
&gt; But the only valid method on them is GET. (And no, that doesnt
&gt; mean you create items or edit them via GET!) What you GET from
&gt; them is an HTML form that POSTs or PUTs to
&gt; 
&gt; http://example.org/foo-collection &lt;http://example.org/foo-collection&gt; # or
&gt; http://example.org/foo-collection/bar-item 
&gt; &lt;http://example.org/foo-collection/bar-item&gt;
&gt; 
&gt; respectively  which is where the collection being added to
&gt; or the resource being edited can be retrieved from with GET.
&gt; Programmatic clients wouldnt bother with the `/create` and
&gt; `/edit` URLs at all; those are there just because browsers need
&gt; the UI served to them. They may read like verbs in English, but
&gt; theyre resources, not operations.
&gt; 
&gt; Looking for verbs in URIs (and avoiding them) is useful as a way
&gt; of getting used to thinking in REST terms, but its not essential
&gt; or inherent to REST. The entire concern of what goes in a URI is
&gt; incidental and mostly irrelevant in architectural concerns. (It
&gt; *is* important, but reasons independent of REST.)

http://example.com/model1/createTopic
http://example.com/model1/deleteTopic
http://example.com/model1/updateTopic
http://example.com/model1/readTopic

I understand both of your points. My point is that putting verbs in URLs 
doesn't induce useful behaviour. if it did, the more bizarre corners 
Flickr and del.icio.us' APIs wouldn't exit. You can have a design that 
allows you say incoherent things and result in bugs, like having a 
overly finegrained programming API where users can call methods out of 
order. Without the constraints in place, you need lots of discipline 
win, or heaven forbid, governance.  What's most interesting to me is 
that I think many programmers in the field prefer RPC or REST-RPC hybrids.

Bill

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11169<br>
Sender:"Alexander Johannesen" &lt;alexander.johannesen@...&gt;<br>
Post Date/Time:2008-08-09 08:43:33<br>
Subject:Re: [rest-discuss] Re: REST versioning<br>
Message:<br><br>
<pre>On Sat, Aug 9, 2008 at 00:48, Aristotle Pagaltzis &lt;pagaltzis@...&gt; wrote:
&gt; I want to interject slightly off topic here because this is
&gt; such a common reaction, and this type of statement has started to
&gt; annoy me somewhat of late.

This is a good thing, of course, provided you're right. :)

&gt; http://example.org/foo-collection/create # and
&gt; http://example.org/foo-collection/bar-item/edit
...
&gt; What you GET from
&gt; them is an HTML form that POSTs or PUTs to
&gt;
&gt; http://example.org/foo-collection # or
&gt; http://example.org/foo-collection/bar-item

But why do this at all? Just a GET on
http://example.org/foo-collection should provide you with a number of
forms that do different things, including the one you have at
http://example.org/foo-collection/create. It should provide you with
content-types (one for the UI, one for your app, another for some
other function, etc.) you need.

&gt; Looking for verbs in URIs (and avoiding them) is useful as a way
&gt; of getting used to thinking in REST terms, but it's not essential
&gt; or inherent to REST.

This is true, although I think they're evil in the sense that it makes
your resources mimic RPC which only leads to the dark side.

&gt; The entire concern of what goes in a URI is
&gt; incidental and mostly irrelevant in architectural concerns. (It
&gt; *is* important, but reasons independent of REST.)

We're humans. And we human deducts semantics wherever we can find it,
whether we should or not. I find that important enough.


Alex
-- 
---------------------------------------------------------------------------
 Project Wrangler, SOA, Information Alchemist, UX, RESTafarian, Topic Maps
------------------------------------------ http://shelter.nu/blog/ --------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11170<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-08-09 10:43:46<br>
Subject:Re: REST versioning<br>
Message:<br><br>
<pre>
* Bill de hOra &lt;bill@...&gt; [2008-08-09 01:40]:
&gt; http://example.com/model1/createTopic
&gt; http://example.com/model1/deleteTopic
&gt; http://example.com/model1/updateTopic
&gt; http://example.com/model1/readTopic

Im not sure what you want to demonstrate here. The URIs alone
dont tell me anything about the hypermedia and the expected
interactions, so that list of links gives no indication of how
RESTful or not the system really is.

&gt; My point is that putting verbs in URLs doesn't induce useful
&gt; behaviour. if it did, the more bizarre corners Flickr and
&gt; del.icio.us' APIs wouldn't exit. You can have a design that
&gt; allows you say incoherent things and result in bugs, like
&gt; having a overly finegrained programming API where users can
&gt; call methods out of order. Without the constraints in place,
&gt; you need lots of discipline win, or heaven forbid, governance.

I might have agreed with you some time ago, but now I consider
this to be a confusion of cause and effect that may have harmful
effects. Telling people to only use nouns in their URIs will make
their systems only marginally more RESTful, if that much, and may
actively make them *less* RESTful in that it teaches people to
focus on the design of URIs and not of their hypermedia.

Which is a recipe for creating REST-RPC hybrids!

And it is also the explanation for APIs like Flickrs or
del.icio.uss. They stem from an unhealthy focus on URIs with
only incidental attention to representations.

The focus should be the exact opposite.

&gt; What's most interesting to me is that I think many programmers
&gt; in the field prefer RPC or REST-RPC hybrids.

Because they dont think in terms of hypermedia, and none of the
libraries and frameworks we have try to address this at all. So
people do not even realise that they are missing the most
important part of the puzzle, and even once they do, they have
to put in all the work themselves. I know of no libraries that
try to model RESTful systems by providing abstractions of the
structures of media types and the links and forms in them.

The continuation-based web frameworks are actually closer to such
an ideal than the Rails/Django/Catalyst class.


* Alexander Johannesen &lt;alexander.johannesen@...&gt; [2008-08-09 10:45]:
&gt; On Sat, Aug 9, 2008 at 00:48, Aristotle Pagaltzis &lt;pagaltzis@...&gt; wrote:
&gt; &gt; http://example.org/foo-collection/create # and
&gt; &gt; http://example.org/foo-collection/bar-item/edit
&gt; ...
&gt; &gt; What you GET from
&gt; &gt; them is an HTML form that POSTs or PUTs to
&gt; &gt;
&gt; &gt; http://example.org/foo-collection # or
&gt; &gt; http://example.org/foo-collection/bar-item
&gt; 
&gt; But why do this at all? Just a GET on
&gt; http://example.org/foo-collection should provide you with a
&gt; number of forms that do different things, including the one you
&gt; have at http://example.org/foo-collection/create. It should
&gt; provide you with content-types (one for the UI, one for your
&gt; app, another for some other function, etc.) you need.

Because browsers need many different views at this collection,
of which the creation POST form is just one, and they dont do
useful conneg. And UI design demands putting the views on
separate screens. If I used Javascript heavily, I could put all
the screens in a single representation and use JS to flip the
screens, but that strikes me as, err, suboptimal design, not
least because it requires Javascript for a very basic aspect of
the functionality. Another problem is that *of course*, you *do*
want to be able to link directly to a particular screen;
engineer for serendipity and all that.

So whatever I do Ill end up with different URIs for the various
screens, and at that point its technically indistinguishable
from the discussion about how explicit URIs for content-
negotiable forms of representations should look. I could just as
well call those `foo-collection.create` and `bar-item.edit` for
all it matters.

&gt; &gt; Looking for verbs in URIs (and avoiding them) is useful as a
&gt; &gt; way of getting used to thinking in REST terms, but it's not
&gt; &gt; essential or inherent to REST.
&gt; 
&gt; This is true, although I think they're evil in the sense that
&gt; it makes your resources mimic RPC which only leads to the dark
&gt; side.

Just how does it mimic RPC? Can you point to any REST constraint
that my design violates?

As a mental exercise, consider that substituting random strings
for each URI (like `http://example.org/aslsdlllixpa1dkj3` and
`http://example.org/xysdlapowpq9wkhjxq`) would not change the app
in any way. It would be more laborious for the server to mint
such URIs but as far as the browsers interaction with the server
is concerned, and as far as the sequence of screens the user sees
and interacts with, nothing at all would change. The only
difference would be the contents of various `href`s. You could
even use a different, randomly chosen host name for each link,
as long as all those servers cooperate properly. In what way does
this strike you as RPC?

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11171<br>
Sender:"Alexander Johannesen" &lt;alexander.johannesen@...&gt;<br>
Post Date/Time:2008-08-09 10:56:31<br>
Subject:Re: [rest-discuss] Re: REST versioning<br>
Message:<br><br>
<pre>&gt;&gt; This is true, although I think they're evil in the sense that
&gt;&gt; it makes your resources mimic RPC which only leads to the dark
&gt;&gt; side.

On Sat, Aug 9, 2008 at 12:43, Aristotle Pagaltzis &lt;pagaltzis@...&gt; wrote:
&gt; Just how does it mimic RPC? Can you point to any REST constraint
&gt; that my design violates?

It mimics RPC by putting the semantics of the interface into the URI,
ripe for any human to parse and interpret. No, you're not violating
any REST constraints, and I haven't said so either. I've said your
URIs are evil, not illegal.


Alex
-- 
---------------------------------------------------------------------------
 Project Wrangler, SOA, Information Alchemist, UX, RESTafarian, Topic Maps
------------------------------------------ http://shelter.nu/blog/ --------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11172<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-08-09 11:11:26<br>
Subject:RE: [rest-discuss] Re: REST versioning<br>
Message:<br><br>
<pre>&gt; their systems only marginally more RESTful, if that much, and may
&gt; actively make them *less* RESTful in that it teaches people to
&gt; focus on the design of URIs and not of their hypermedia.

It's not about designing Uris but about modelling resources. Once a resource is modelled, it will eventually be assigned a Uri. When you follow that model, surely there is no space for verbs in a model? What you call edit I call editor because the editor is a resource in itself.

&gt; I know of no libraries that
&gt; try to model RESTful systems by providing abstractions of the
&gt; structures of media types and the links and forms in them.

You may want to have a look at nRest and OpenRasta on the Microsoft side of the fence.

&gt; So whatever I do Ill end up with different URIs for the various
&gt; screens, and at that point its technically indistinguishable
&gt; from the discussion about how explicit URIs for content-
&gt; negotiable forms of representations should look. I could just as
&gt; well call those `foo-collection.create` and `bar-item.edit` for
&gt; all it matters.

Views can be a resource in themselves, with their own Uris. While a "view" view may well be the default representation for a specific resource, an editor is not. It's a resource that teaches your client how to edit a resource.

Seb


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11173<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-08-09 11:22:35<br>
Subject:Re: REST versioning<br>
Message:<br><br>
<pre>* Alexander Johannesen &lt;alexander.johannesen@...&gt; [2008-08-09 13:00]:
&gt; It mimics RPC by putting the semantics of the interface into
&gt; the URI, ripe for any human to parse and interpret.

I dont know what putting the semantics of the interface into
the URI even means, nor do I understand why allowing humans to
interpret URIs is a bad idea.

Even if we posit that this is somehow a problem because they will
then tend to write code against the URIs, well, their code will
still have to POST or PUT to the proper resources URI which has
no verbs and identifies a resource, not an action; they would, as
I said two mails back, not bother at all with these verb-bearing
appendices on the URI.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11174<br>
Sender:'Aristotle Pagaltzis' &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-08-09 11:35:19<br>
Subject:Re: REST versioning<br>
Message:<br><br>
<pre>* Sebastien Lambla &lt;seb@...&gt; [2008-08-09 13:15]:
&gt; What you call edit I call editor because the editor is a
&gt; resource in itself.

That works just as well. Are we arguing about two extra
characters now? :-)

Also it works less elegantly for `create` --&gt; `creator`.

And if you have more interactions to name, it moves into Kingdom-
of-Nouns territory very rapidly.

&gt; OpenRasta

Thanks for the pointer!

&gt; Views can be a resource in themselves, with their own Uris.
&gt; While a "view" view may well be the default representation for
&gt; a specific resource, an editor is not. It's a resource that
&gt; teaches your client how to edit a resource.

But those editors are tied to specific instances of that kind of
resource. There is not a universal editor form for all resources
of that type, agnostic of any one instance of it. So I would
argue that this sort of form is like a view of the specific
resource more than it is unlike a view of the resource.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11175<br>
Sender:"Alexander Johannesen" &lt;alexander.johannesen@...&gt;<br>
Post Date/Time:2008-08-09 11:42:59<br>
Subject:Re: [rest-discuss] Re: REST versioning<br>
Message:<br><br>
<pre>On Sat, Aug 9, 2008 at 13:22, Aristotle Pagaltzis &lt;pagaltzis@...&gt; wrote:
&gt; I don't know what "putting the semantics of the interface into
&gt; the URI" even means, [...]

I mean you're putting operational meaning into something that
identifies a thing. What feels counter-REST (yet you're allowed to do
so) is to allow resources interface semantics. Can we at least agree
that resources as things should have their unique URI identifier? It's
from here the interface discussion now spring. For me, creating
another resource "thing" seems wrong, as what you want to do is to
edit that first thing. You've split your thing in two; the thing, and
what you can do with the thing. Isn't that what REST is for, allowing
us to not worry about the interface and concentrate on the thing? Ok,
examples time ;

First, the URI to the thing : http://example.org/model/thing/1

Now, operations. To get it, you GET it. The case in point to this
discussion was the use of a) a browser wanting an editor version of
it, and b) an app editing that resource. The latter is the easiest, as
we do a GET on the thing URI, get the representation (as provided by
the content-type) and change it, and PUT it back to the same URI. Yes?

With the UI, as the default content-type for browsers are text/html,
GET will be the plain page. How to best get an editor for it? My
choice would be ;

GET http://example.org/model/thing/1?editor

Not because this in theory isn't a new resource, but the unique
identifier part (the part without the parameters) remains the same, it
hasn't changed semantics. The form inside it would post back to the
http://example.org/model/thing/1 URI, so the "thing" keeps the same
URI throughout. Isn't that what resource orientation is about, really,
to reduce the entry-points per "thing"?

&gt; nor do I understand why allowing humans to
&gt; interpret URIs is a bad idea.

Because you might give people the wrong idea? As Bill pointed out, it
leads to people thinking the following might be a good idea ;

http://example.com/model1/createTopic
http://example.com/model1/deleteTopic
http://example.com/model1/updateTopic
http://example.com/model1/readTopic

These are not four "things" as much as they are four operations on a
"thing". And then we bump into semantic incompatibilities and
idempotency issues, as I think you're well aware.


Alex
-- 
---------------------------------------------------------------------------
 Project Wrangler, SOA, Information Alchemist, UX, RESTafarian, Topic Maps
------------------------------------------ http://shelter.nu/blog/ --------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11176<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-08-09 11:59:13<br>
Subject:Re: [rest-discuss] Re: REST versioning<br>
Message:<br><br>
<pre>Aristotle Pagaltzis wrote:
&gt; 
&gt; 
&gt; 
&gt; * Bill de hOra &lt;bill@... &lt;mailto:bill%40dehora.net&gt;&gt; [2008-08-09 
&gt; 01:40]:
&gt;  &gt; http://example.com/model1/createTopic 
&gt; &lt;http://example.com/model1/createTopic&gt;
&gt;  &gt; http://example.com/model1/deleteTopic 
&gt; &lt;http://example.com/model1/deleteTopic&gt;
&gt;  &gt; http://example.com/model1/updateTopic 
&gt; &lt;http://example.com/model1/updateTopic&gt;
&gt;  &gt; http://example.com/model1/readTopic &lt;http://example.com/model1/readTopic&gt;
&gt; 
&gt; Im not sure what you want to demonstrate here. The URIs alone
&gt; dont tell me anything about the hypermedia and the expected
&gt; interactions, so that list of links gives no indication of how
&gt; RESTful or not the system really is.

I'm well aware of the gensym fallacy, but we're not computers and we 
don't need to play that game here. So I think you know *exactly* what 
I'm demonstrating, but aren't willing to cede the point - there's no 
topic resource in that "API", and that method space of the "API" might 
grow unfettered because the http verbs have become second class citizens 
to the programmer (but not the infrastructure or spec aware clients like 
gwa).


&gt;  &gt; My point is that putting verbs in URLs doesn't induce useful
&gt;  &gt; behaviour. if it did, the more bizarre corners Flickr and
&gt;  &gt; del.icio.us' APIs wouldn't exit. You can have a design that
&gt;  &gt; allows you say incoherent things and result in bugs, like
&gt;  &gt; having a overly finegrained programming API where users can
&gt;  &gt; call methods out of order. Without the constraints in place,
&gt;  &gt; you need lots of discipline win, or heaven forbid, governance.
&gt; 
&gt; I might have agreed with you some time ago, but now I consider
&gt; this to be a confusion of cause and effect that may have harmful
&gt; effects. Telling people to only use nouns in their URIs will make
&gt; their systems only marginally more RESTful, if that much, and may
&gt; actively make them *less* RESTful in that it teaches people to
&gt; focus on the design of URIs and not of their hypermedia.
&gt; 
&gt; Which is a recipe for creating REST-RPC hybrids!

I'm not telling people to use nouns - I'm asking people not to couple 
naming concerns with actions when using http, unless they absolutely 
have to.


&gt; And it is also the explanation for APIs like Flickrs or
&gt; del.icio.uss. They stem from an unhealthy focus on URIs with
&gt; only incidental attention to representations.
&gt; 
&gt; The focus should be the exact opposite.

I think it's simpler. Every case I've ever witnessed where someone built 
a verb into a URI came down to a programmer that wanted to expose a 
method, function or controller because a) the programming environment 
dictated it, b) programmers are not trained to think in terms of 
networks or protocols, or some combination of the two.



&gt;  &gt; What's most interesting to me is that I think many programmers
&gt;  &gt; in the field prefer RPC or REST-RPC hybrids.
&gt; 
&gt; Because they dont think in terms of hypermedia, and none of the
&gt; libraries and frameworks we have try to address this at all. 

Again I think it's simpler. These approaches are prevalent because 
frameworks and specifications design in coupling of names and actions. 
Anything else is fighting the framework, or specification - you have a 
job to do and a time to do it in, why bother working around the library?


&gt; So
&gt; people do not even realise that they are missing the most
&gt; important part of the puzzle, and even once they do, they have
&gt; to put in all the work themselves. I know of no libraries that
&gt; try to model RESTful systems by providing abstractions of the
&gt; structures of media types and the links and forms in them.

Restlet and Jersey imo are not far away.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11177<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-08-11 19:29:17<br>
Subject:Re: [rest-discuss] Re: REST versioning<br>
Message:<br><br>
<pre>On Aug 9, 2008, at 1:42 PM, Alexander Johannesen wrote:

&gt; With the UI, as the default content-type for browsers are text/html,
&gt; GET will be the plain page. How to best get an editor for it? My
&gt; choice would be ;
&gt;
&gt; GET http://example.org/model/thing/1?editor
&gt;
&gt; Not because this in theory isn't a new resource, but the unique
&gt; identifier part (the part without the parameters) remains the same, it
&gt; hasn't changed semantics. The form inside it would post back to the
&gt; http://example.org/model/thing/1 URI, so the "thing" keeps the same
&gt; URI throughout. Isn't that what resource orientation is about, really,
&gt; to reduce the entry-points per "thing"?

To me, http://example.org/model/thing/1?editor and http://example.org/model/thing/1/edit 
  are both equally different from (or equal to) http://example.org/model/thing/1 
. And I really can't believe you folks are arguing over whether http://example.org/model/thing/1/edit 
  or http://example.org/model/thing/1/editor (or http://example.org/model/thing/1/edit-form 
  or whatever) is "better".

I tend to agree a little more with Aristotle (specifically,  
considering the characters in a URI largely irrelevant), but for this  
exact reason I don't judge RESTfulness by the presence or absence of  
verbs in URIs.

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11178<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-08-11 21:59:27<br>
Subject:Re: [rest-discuss] Re: REST versioning<br>
Message:<br><br>
<pre>Stefan Tilkov wrote:

&gt; . And I really can't believe you folks are arguing over whether 
&gt; http://example.org/model/thing/1/edit 
&gt; &lt;http://example.org/model/thing/1/edit&gt;
&gt; or http://example.org/model/thing/1/editor 
&gt; &lt;http://example.org/model/thing/1/editor&gt; (or 
&gt; http://example.org/model/thing/1/edit-form 
&gt; &lt;http://example.org/model/thing/1/edit-form&gt;
&gt; or whatever) is "better".
&gt; 
&gt; I tend to agree a little more with Aristotle (specifically,
&gt; considering the characters in a URI largely irrelevant), but for this
&gt; exact reason I don't judge RESTfulness by the presence or absence of
&gt; verbs in URIs.

*sigh*

It's not about putting verbs in APIs. It's about what caused them to be 
there - verbs in URIs are just a design smell, an indication of a 
problem elsewhere - probably a weak framework or a failure to split 
resources out from methods.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11179<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-08-11 22:50:05<br>
Subject:Re: [rest-discuss] Re: REST versioning<br>
Message:<br><br>
<pre>&gt; I tend to agree a little more with Aristotle (specifically,
&gt; considering the characters in a URI largely irrelevant), but for this
&gt; exact reason I don't judge RESTfulness by the presence or absence of
&gt; verbs in URIs.

/resource may well have a representation that has an html variant to view a 
resource, just like it may well have a representation in another type. A 
different view is another representation, and representations are resources 
and may well be addressable with their own Urls.

if such resource exist and has a Uri, PUT to /resource;editor still means 
"update the editor for the resource", whereas PUT on /resource;edit means 
"update the edit for the resource"

Uris are opaque to user-agent, and as such the difference between the two is 
irrelevant. They are not to developers, and those developers may well 
understand the concept of a resource if the verbs associated with such 
resource still have a meaning.

From my point of view it is important to respect such convention as ensure 
that anything with a Uri can be understood as having a set of methods that 
can be applied to it. When you have a verb acting upon a verb, you lost 
developers. At that stage the restfulness of your architecture is 
irrelevant, and probably lost.

S 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11180<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-08-12 15:38:01<br>
Subject:Re: [rest-discuss] Re: REST versioning<br>
Message:<br><br>
<pre>I can't agree more. Instead of emphasizing on the uniform interface,  
often, there is this misleading focus on naming URIs. Whether a URI  
has "delete" should not matter as long as the uniform interface is  
honored. Removing an operation name from a URI does not automatically  
make the URI operable through the uniform interface.

Subbu

&gt; I dont know what putting the semantics of the interface into
&gt;
&gt; the URI even means, nor do I understand why allowing humans to
&gt; interpret URIs is a bad idea.
&gt;
&gt; Even if we posit that this is somehow a problem because they will
&gt; then tend to write code against the URIs, well, their code will
&gt; still have to POST or PUT to the proper resources URI which has
&gt; no verbs and identifies a resource, not an action; they would, as
&gt; I said two mails back, not bother at all with these verb-bearing
&gt; appendices on the URI.
&gt;
&gt; Regards,
&gt; -- 
&gt; Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11181<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-08-12 15:43:32<br>
Subject:Re: [rest-discuss] Re: REST versioning<br>
Message:<br><br>
<pre>
On Aug 9, 2008, at 4:42 AM, Alexander Johannesen wrote:

&gt; Because you might give people the wrong idea? As Bill pointed out, it
&gt; leads to people thinking the following might be a good idea ;
&gt;
&gt; http://example.com/model1/createTopic
&gt; http://example.com/model1/deleteTopic
&gt; http://example.com/model1/updateTopic
&gt; http://example.com/model1/readTopic
&gt;
&gt; These are not four "things" as much as they are four operations on a
&gt; "thing". And then we bump into semantic incompatibilities and
&gt; idempotency issues, as I think you're well aware.


An operation name appearing in front of a thing is a symptom  
indicating that the uniform interface is not being used, and that is  
what needs fixing. It is just a symptom and should not be used to  
judge whether the interface is RESTful or not.

Subbu

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11182<br>
Sender:"Alexander Johannesen" &lt;alexander.johannesen@...&gt;<br>
Post Date/Time:2008-08-12 18:02:33<br>
Subject:Re: [rest-discuss] Re: REST versioning<br>
Message:<br><br>
<pre>&gt;&gt; These are not four "things" as much as they are four operations on a
&gt;&gt; "thing". And then we bump into semantic incompatibilities and
&gt;&gt; idempotency issues, as I think you're well aware.

On Tue, Aug 12, 2008 at 17:43, Subbu Allamaraju &lt;subbu@...&gt; wrote:
&gt; An operation name appearing in front of a thing is a symptom indicating that
&gt; the uniform interface is not being used, and that is what needs fixing. It
&gt; is just a symptom and should not be used to judge whether the interface is
&gt; RESTful or not.

Sorry mate, but I have to disagree quite strongly. Bill DeHora is
quite right in that this is design smell. Yes, no one is doing
anything illegal, and - if you've been following along - no one has
said so either, but there's a few of us who can't stand the stink no
matter how legit the toxins are. Thing is, 70% of my job as a
consultant is to fix other peoples clogged toilets, not because they
did the wrong thing or something that was against some standard, but
because their design turned rotten over time.

Some of us care about these things. I'm sure for small insignificant
apps this can be tolerated, but it doesn't make it any more good
design.


Alex
-- 
---------------------------------------------------------------------------
 Project Wrangler, SOA, Information Alchemist, UX, RESTafarian, Topic Maps
------------------------------------------ http://shelter.nu/blog/ --------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11183<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-08-12 18:26:37<br>
Subject:Re: [rest-discuss] Re: REST versioning<br>
Message:<br><br>
<pre>Not sure I understand what you are disagreeing about. Verbs in URIs is  
a symptom, and once the root cause (i.e not using the uniform  
interface) is fixed, the symptom will go away.

Subbu

On Aug 12, 2008, at 11:02 AM, Alexander Johannesen wrote:

&gt;&gt;&gt; These are not four "things" as much as they are four operations on a
&gt;&gt;&gt; "thing". And then we bump into semantic incompatibilities and
&gt;&gt;&gt; idempotency issues, as I think you're well aware.
&gt;
&gt; On Tue, Aug 12, 2008 at 17:43, Subbu Allamaraju &lt;subbu@...&gt;  
&gt; wrote:
&gt;&gt; An operation name appearing in front of a thing is a symptom  
&gt;&gt; indicating that
&gt;&gt; the uniform interface is not being used, and that is what needs  
&gt;&gt; fixing. It
&gt;&gt; is just a symptom and should not be used to judge whether the  
&gt;&gt; interface is
&gt;&gt; RESTful or not.
&gt;
&gt; Sorry mate, but I have to disagree quite strongly. Bill DeHora is
&gt; quite right in that this is design smell. Yes, no one is doing
&gt; anything illegal, and - if you've been following along - no one has
&gt; said so either, but there's a few of us who can't stand the stink no
&gt; matter how legit the toxins are. Thing is, 70% of my job as a
&gt; consultant is to fix other peoples clogged toilets, not because they
&gt; did the wrong thing or something that was against some standard, but
&gt; because their design turned rotten over time.
&gt;
&gt; Some of us care about these things. I'm sure for small insignificant
&gt; apps this can be tolerated, but it doesn't make it any more good
&gt; design.
&gt;
&gt;
&gt; Alex
&gt; -- 
&gt; ---------------------------------------------------------------------------
&gt; Project Wrangler, SOA, Information Alchemist, UX, RESTafarian, Topic  
&gt; Maps
&gt; ------------------------------------------ http://shelter.nu/blog/  
&gt; --------


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11184<br>
Sender:"randalx" &lt;randalx@...&gt;<br>
Post Date/Time:2008-08-12 21:45:51<br>
Subject:Designing URI for a subset<br>
Message:<br><br>
<pre>Hi,

I've just started a new project and would very much like to follow
RESTful principles.  The problem I've just encountered is regarding
the best way to design my URI for data that is a subset of the parent
resource and can be filtered by multiple parameters.

For example lets say I have a collection of Books and I'd like to
optionally filter by Category and/or Year published.

My first (probably not very restful idea) was to create something like:
/books?category=scifi&amp;year=2008

Then I thought about a hierarchy
/books/{category}/{year}
but then I would also need
/books/{year}/{category}
But this makes it seem like one category is a child of year or vice
versa which isn't correct.  Plus as I add filters I'd need all sorts
of combinations.

The other option I read about involves putting them at the same level
separated by a comma or semicolon:
/books/{year},{category}
But then seems king of messy since it's possible to omit a filter and
then I'd have something like
/books/,sci-fi

So far the original query variable URI still seems to make the most
sense to me.  Does anybody have a better suggestion or opinion on how
best to do this?

Thanks for taking the time to read my post and I look forward to
reading you opinions.

Cheers,
Randal







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11185<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-08-13 12:13:33<br>
Subject:Re: [rest-discuss] Designing URI for a subset<br>
Message:<br><br>
<pre>"randalx" wrote:

&gt; 
&gt; For example lets say I have a collection of Books and I'd like to
&gt; optionally filter by Category and/or Year published.
&gt; 
&gt; My first (probably not very restful idea) was to create something
&gt; like: /books?category=scifi&amp;year=2008
&gt; 

Nothing un-RESTful there, actually.  The resource /books may be
queried, looks like.  You can make hierarchical URIs if you'd like, and
see them as "stored queries" but this is a matter of usability and not
one of architecture.

&gt;
&gt; Then I thought about a hierarchy
&gt; /books/{category}/{year}
&gt; but then I would also need
&gt; /books/{year}/{category}
&gt; But this makes it seem like one category is a child of year or vice
&gt; versa which isn't correct.  Plus as I add filters I'd need all sorts
&gt; of combinations.
&gt; 

I don't understand why you'd need both.  Here's what I'd do:

/books
/books/year
/books/category
/books/category/year

But, no /books/year/category is needed, as it's just a URI alias
for /books/category/year -- both URIs identify the same resource.

&gt;
&gt; The other option I read about involves putting them at the same level
&gt; separated by a comma or semicolon:
&gt; /books/{year},{category}
&gt; But then seems king of messy since it's possible to omit a filter and
&gt; then I'd have something like
&gt; /books/,sci-fi
&gt; 

Yuck. ;-)

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11186<br>
Sender:"Alexander Johannesen" &lt;alexander.johannesen@...&gt;<br>
Post Date/Time:2008-08-13 12:26:42<br>
Subject:Re: [rest-discuss] Designing URI for a subset<br>
Message:<br><br>
<pre>On Tue, Aug 12, 2008 at 23:45, randalx &lt;randalx@...&gt; wrote:
&gt; I've just started a new project and would very much like to follow
&gt; RESTful principles. The problem I've just encountered is regarding
&gt; the best way to design my URI for data that is a subset of the parent
&gt; resource and can be filtered by multiple parameters.

Excellent, right on time with the latest discussions.. :) Well, here's
what I do ;

&gt; My first (probably not very restful idea) was to create something like:
&gt; /books?category=scifi&amp;year=2008

You need to think about why you think that isn't RESTful, because
there is nothing in it which ain't REST-friendly. It looks like a
resource (a list of all books) being queried / filtered for its
contents.

&gt; But this makes it seem like one category is a child of year or vice
&gt; versa which isn't correct. Plus as I add filters I'd need all sorts
&gt; of combinations.

I tend to think in terms of resource orientation that lists/containers
and things/objects are the main resources, and that any filtering or
operational comes in as parameters, so with your example;

http://example.com/books?category=scifi&amp;year=2008

And I use URIs as aliases for those filters if I think it benefits the
application (and makes it easier for me to develop) ;

http://example.com/books/2008
http://example.com/books/2008/scifi
http://example.com/books/scifi

Some might look into ;

http://example.com/books/2008?category=scifi
http://example.com/books/scifi?year=2008

This works fine, too. To work out whether to use non-parametrized or
parametrized URIs I tend to think that non-parametrized URIs works
great where you know the URI is static in that many will use that URI
specifically. For example, lots of people would want books from 2008,
but fewer would ask for books from 1814 in the category of
"political". I'd use static URI for the former, and parametrized for
the latter, but there's no right or wrong here.

I think should cover what you want to do. When dealing with these I
tend to ask what are the larger things (and put them to the left) and
what are the smaller things (towards the left). With that, a year is
more generic than scifi which is a genre. (I know you can say there's
more scifi ever written than what fits into everything that goes into
a year, although I don't think that is true nor able to be proven ...
:)


Regards,

Alex
-- 
---------------------------------------------------------------------------
 Project Wrangler, SOA, Information Alchemist, UX, RESTafarian, Topic Maps
------------------------------------------ http://shelter.nu/blog/ --------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11187<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-08-13 13:29:58<br>
Subject:Re: [rest-discuss] Designing URI for a subset<br>
Message:<br><br>
<pre>On Tue, Aug 12, 2008 at 10:45 PM, randalx &lt;randalx@...&gt; wrote:
&gt; Hi,
&gt;
&gt; I've just started a new project and would very much like to follow
&gt; RESTful principles. The problem I've just encountered is regarding
&gt; the best way to design my URI for data that is a subset of the parent
&gt; resource and can be filtered by multiple parameters.
&gt;
&gt; For example lets say I have a collection of Books and I'd like to
&gt; optionally filter by Category and/or Year published.
&gt;
&gt; My first (probably not very restful idea) was to create something like:
&gt; /books?category=scifi&amp;year=2008

As Eric and Alex have said, there is nothing in this that isn't RESTful.

The problem with it is to do with SEO: Some search engines simply
don't index pages by query string. Which is why so many retail sites
have gone to the effort of producing SEO-friendly URIs in the last few
years.

&gt; Then I thought about a hierarchy
&gt; /books/{category}/{year}
&gt; but then I would also need
&gt; /books/{year}/{category}
&gt; But this makes it seem like one category is a child of year or vice
&gt; versa which isn't correct. Plus as I add filters I'd need all sorts
&gt; of combinations.

As Eric pointed out, /books/{category}/{year} and
/books/{year}/{category} are synonymous (they refer to the same
resource - although the ordering might be different).

First question is: can you be certain that no categories will be
'year-like'? That is to say, if you had a category of '1999', how
would you distinguish the year from the category for a request URI of:

/books/1999/2008

Also, it is harder to write the URI routing for such a case on the server.

&gt; The other option I read about involves putting them at the same level
&gt; separated by a comma or semicolon:
&gt; /books/{year},{category}
&gt; But then seems king of messy since it's possible to omit a filter and
&gt; then I'd have something like
&gt; /books/,sci-fi
&gt;
&gt; So far the original query variable URI still seems to make the most
&gt; sense to me. Does anybody have a better suggestion or opinion on how
&gt; best to do this?
&gt;
&gt; Thanks for taking the time to read my post and I look forward to
&gt; reading you opinions.
&gt;
&gt; Cheers,
&gt; Randal

I would decide what is the primary way that you want to break down the
set of all books. Probably (but not necessarily) this will be
category. If so, make /books/{category} your main routing as this will
allow human users to easily edit the address bar of their browser to,
say:

/books/scifi
or
/books/fantasy
etc

Power users like this sort functionality (me, for one).

Next, you can represent the year subdivision by enclosing it in square
brackets (as an example: choose your own preferred scheme), e.g.

/books/scifi[2008]
or
/books/[2008] for all 2008 books of any category.

You can extend this kind of approach to more schemes. Let's say that
you paginate the results, you can represent this by, for example,
enclosing the page in parentheses:

/books/scifi(2)
or
/books/scifi[2008](2)
or
/books/[2008](2)

Maybe you want to publisher on the URI as well:

/books/scifi&lt;penguin&gt;

This is much easier to write URI routing for on the server. Of course,
there are only a limited set of characters you can use for this but
you get the general idea.

I would reserve use of query string parameters for things like sorting
or minor filtering:

/books/scifi&lt;penguin&gt;[2008]?sort=price&amp;rating=5

One thing to beware of from an SEO perspective is to not dilute your
page ranking. Therefore, decide upon your canonical URI pattern and
redirect to that as necessary. For example, let's say that you decide
that the following is canonical:

/books/{category}[{year}]&lt;{publisher}&gt;({page})

If the representations are all the same, then the following non-canonical URIs:

/books/scifi&lt;penguin&gt;[2008](2)
/books/scifi[2008](2)&lt;penguin&gt;

would be permanently redirected:

HTTP/1.1 301 Moved Permanently
Location: /books/scifi[2008]&lt;penguin&gt;(2)

If the representations differ, then you should use the
Content-Location header to indicate the canonical URI (although I
don't know how well search engines support Content-Location).

I want to emphasise that none of the above advice has anything to do
with RESTfulness. As far as REST is concerned, URIs are opaque. But
that doesn't mean we can't or shouldn't give our users a good, clean,
address space which is 'hackable' (in a good way) and which search
engines will rank well.

Regards,
Alan Dean

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11188<br>
Sender:"Etan Wexler" &lt;yahoo.com@...&gt;<br>
Post Date/Time:2008-08-13 13:55:22<br>
Subject:Re: [rest-discuss] Designing URI for a subset<br>
Message:<br><br>
<pre>Alan Dean wrote (in
&lt;http://tech.groups.yahoo.com/group/rest-discuss/message/11187&gt;):

&gt; Next, you can represent the year subdivision by enclosing it in square
&gt; brackets (as an example: choose your own preferred scheme), e.g.
&gt; 
&gt; /books/scifi[2008]
&gt; or
&gt; /books/[2008] for all 2008 books of any category.

RFC 3986 ("Uniform Resource Identifier (URI): Generic Syntax",
&lt;http://www.rfc-editor.org/rfc/rfc3986.txt&gt;,
&lt;http://gbiv.com/protocols/uri/rfc/rfc3986.html&gt;) prohibits the
appearance of the square brackets in URIs. One could argue that the
prohibition is a mistake (using, for example, empirical data about the
minting of identifiers that contain the square brackets, the willingness
of components to consume them, and the willingness of connectors to pass
them). Still, the prohibition is there, and the Internet Engineering
Steering Group saw fit to canonize RFC 3986 as a full standard. 

&gt; Maybe you want [the] publisher on the URI as well:
&gt; 
&gt; /books/scifi&lt;penguin&gt;

Again, you've chosen delimiters that RFC 3986 prohibits. And here, in
the case of the less-than sign and the greater-than sign, I believe that
a non-negligible subset of deployed components and connectors will
reject the misconstructions.

-- 
Please do not include my address in public replies. I will read public
replies on the list.




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11189<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-08-13 14:15:10<br>
Subject:Re: [rest-discuss] Designing URI for a subset<br>
Message:<br><br>
<pre>Etan,

I'm happy to be corrected, but I would like to confirm your correctness first.

According to RFC3986 Section 2.2 [1] "[" and "]" are indeed characters
reserved as general delimiters. So is "/". That doesn't stop us using
using "/". Why should it stop us using "[" or "]"? In fact, I was
demonstrating using it exactly as a general delimiter.

Also, where in RFC3986 are "&lt;" or "&gt;" reserved? They aren't in section
2.2 and I have search through the document for "&lt;".

[1] http://gbiv.com/protocols/uri/rfc/rfc3986.html#reserved

- Alan

On Wed, Aug 13, 2008 at 2:55 PM, Etan Wexler &lt;yahoo.com@...&gt; wrote:
&gt; Alan Dean wrote (in
&gt; &lt;http://tech.groups.yahoo.com/group/rest-discuss/message/11187&gt;):
&gt;
&gt;&gt; Next, you can represent the year subdivision by enclosing it in square
&gt;&gt; brackets (as an example: choose your own preferred scheme), e.g.
&gt;&gt;
&gt;&gt; /books/scifi[2008]
&gt;&gt; or
&gt;&gt; /books/[2008] for all 2008 books of any category.
&gt;
&gt; RFC 3986 ("Uniform Resource Identifier (URI): Generic Syntax",
&gt; &lt;http://www.rfc-editor.org/rfc/rfc3986.txt&gt;,
&gt; &lt;http://gbiv.com/protocols/uri/rfc/rfc3986.html&gt;) prohibits the
&gt; appearance of the square brackets in URIs. One could argue that the
&gt; prohibition is a mistake (using, for example, empirical data about the
&gt; minting of identifiers that contain the square brackets, the willingness
&gt; of components to consume them, and the willingness of connectors to pass
&gt; them). Still, the prohibition is there, and the Internet Engineering
&gt; Steering Group saw fit to canonize RFC 3986 as a full standard.
&gt;
&gt;&gt; Maybe you want [the] publisher on the URI as well:
&gt;&gt;
&gt;&gt; /books/scifi&lt;penguin&gt;
&gt;
&gt; Again, you've chosen delimiters that RFC 3986 prohibits. And here, in
&gt; the case of the less-than sign and the greater-than sign, I believe that
&gt; a non-negligible subset of deployed components and connectors will
&gt; reject the misconstructions.
&gt;
&gt; --
&gt; Please do not include my address in public replies. I will read public
&gt; replies on the list.
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11190<br>
Sender:"Houghton,Andrew" &lt;houghtoa@...&gt;<br>
Post Date/Time:2008-08-13 14:21:58<br>
Subject:RE: [rest-discuss] Designing URI for a subset<br>
Message:<br><br>
<pre>&gt; From: rest-discuss@yahoogroups.com [mailto:rest-
&gt; discuss@yahoogroups.com] On Behalf Of Alan Dean
&gt; Sent: Wednesday, August 13, 2008 10:15 AM
&gt; To: rest-discuss@yahoogroups.com
&gt; Subject: Re: [rest-discuss] Designing URI for a subset
&gt; 
&gt; According to RFC3986 Section 2.2 [1] "[" and "]" are indeed characters
&gt; reserved as general delimiters. So is "/". That doesn't stop us using
&gt; using "/". Why should it stop us using "[" or "]"? In fact, I was
&gt; demonstrating using it exactly as a general delimiter.

Because they are reserved for scheme specific URI specification.  The HTTP URI syntax does not make use of [ or ], but does specify / as the path segment separator.  So if you want to use [, ], or / in an HTTP URI you must percent hex encode those characters.

Andy
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11191<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-08-13 15:06:30<br>
Subject:Re: [rest-discuss] Designing URI for a subset<br>
Message:<br><br>
<pre>Reserved general delimiters are reserved for delimition only based on the 
scheme. If http doesn't make use of them, nothing prevents you from defining 
them, this is the whole concept of delegation between scheme -&gt; 
dereferencing application.

Quote:
 These characters are called
   "reserved" because they may (or may not) be defined as delimiters by
   the generic syntax, by each scheme-specific syntax, or by the
   implementation-specific syntax of a URI's dereferencing algorithm.

the generic syntax doesn't cover any of the charaters alan was talking 
about, and neither does http. You are as such quite free to use them for 
your dereferencing algorithm. Hence:
URI producing applications should percent-encode data octets that
   correspond to characters in the reserved set unless these characters
   are specifically allowed by the URI scheme to represent data in that
   component.

As a producer of a dereferencing algorythm you have the right to create such 
delimiters, and clients shouldn't have to worry about producing such 
delimiters in their normal form.

What this all means is that if you decide to have 
http://server/[{identifier}] as a valid delimited url, you would only encode 
those brackets when the identifier itself contains one, so as to preserve 
the safeness of said delimiters. And of course, as your clients shouldn't 
craft their own Uris by hand they don't ever have to do the encoding.

Seb
--------------------------------------------------
From: "Houghton,Andrew" &lt;houghtoa@...&gt;
Sent: Wednesday, August 13, 2008 3:21 PM
To: "Alan Dean" &lt;alan.dean@...&gt;; &lt;rest-discuss@yahoogroups.com&gt;
Subject: RE: [rest-discuss] Designing URI for a subset

&gt;&gt; From: rest-discuss@yahoogroups.com [mailto:rest-
&gt;&gt; discuss@yahoogroups.com] On Behalf Of Alan Dean
&gt;&gt; Sent: Wednesday, August 13, 2008 10:15 AM
&gt;&gt; To: rest-discuss@yahoogroups.com
&gt;&gt; Subject: Re: [rest-discuss] Designing URI for a subset
&gt;&gt;
&gt;&gt; According to RFC3986 Section 2.2 [1] "[" and "]" are indeed characters
&gt;&gt; reserved as general delimiters. So is "/". That doesn't stop us using
&gt;&gt; using "/". Why should it stop us using "[" or "]"? In fact, I was
&gt;&gt; demonstrating using it exactly as a general delimiter.
&gt;
&gt; Because they are reserved for scheme specific URI specification.  The HTTP 
&gt; URI syntax does not make use of [ or ], but does specify / as the path 
&gt; segment separator.  So if you want to use [, ], or / in an HTTP URI you 
&gt; must percent hex encode those characters.
&gt;
&gt; Andy
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11192<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-08-13 18:24:18<br>
Subject:Re: [rest-discuss] Designing URI for a subset<br>
Message:<br><br>
<pre>Your first choice is fair enough. However, if you are using path  
segments, there is no need to imply a parent-child relationship. A  
path segment could very well be a simple association or some criteria.

Subbu

On Aug 12, 2008, at 2:45 PM, randalx wrote:

&gt; Hi,
&gt;
&gt; I've just started a new project and would very much like to follow
&gt; RESTful principles. The problem I've just encountered is regarding
&gt; the best way to design my URI for data that is a subset of the parent
&gt; resource and can be filtered by multiple parameters.
&gt;
&gt; For example lets say I have a collection of Books and I'd like to
&gt; optionally filter by Category and/or Year published.
&gt;
&gt; My first (probably not very restful idea) was to create something  
&gt; like:
&gt; /books?category=scifi&amp;year=2008
&gt;
&gt; Then I thought about a hierarchy
&gt; /books/{category}/{year}
&gt; but then I would also need
&gt; /books/{year}/{category}
&gt; But this makes it seem like one category is a child of year or vice
&gt; versa which isn't correct. Plus as I add filters I'd need all sorts
&gt; of combinations.
&gt;
&gt; The other option I read about involves putting them at the same level
&gt; separated by a comma or semicolon:
&gt; /books/{year},{category}
&gt; But then seems king of messy since it's possible to omit a filter and
&gt; then I'd have something like
&gt; /books/,sci-fi
&gt;
&gt; So far the original query variable URI still seems to make the most
&gt; sense to me. Does anybody have a better suggestion or opinion on how
&gt; best to do this?
&gt;
&gt; Thanks for taking the time to read my post and I look forward to
&gt; reading you opinions.
&gt;
&gt; Cheers,
&gt; Randal
&gt;
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11193<br>
Sender:"Etan Wexler" &lt;yahoo.com@...&gt;<br>
Post Date/Time:2008-08-13 18:56:30<br>
Subject:URI delimiters and reserved characters (a [rest-discuss] public-service announcement)<br>
Message:<br><br>
<pre>Alan Dean wrote (in
&lt;http://tech.groups.yahoo.com/group/rest-discuss/message/11189&gt;):

&gt; According to RFC3986 Section 2.2 [1] "[" and "]" are indeed characters
&gt; reserved as general delimiters.

You are correct, sir. I was incorrect to write that RFC 3986 prohibits
the square brackets. Rather, RFC 3986 permits the square brackets in
exactly one case: where the "host" subcomponent (of the "authority"
component) takes the form of an "IP-literal". When the "host"
subcomponent identifies a host by IPv6 address or an "IPvFuture" token,
U+005B must appear as a prefix of the "host" component and U+005D must
appear as a suffix of the host component.

&gt; So is "/" [a general delimiter]. That doesn't stop us using
&gt; using "/". Why should it stop us using "[" or "]"?

The status of the square brackets as general delimiters is not, per se,
what prevents the use of the square brackets where you want them.
Rather, it is simply impossible to produce a string with either square
bracket appearing in the scheme, path, query, or fragment given the
grammar G = (Sigma = {U+0000..U+007F}, N = {URI, scheme, hier-part,
query, fragment, authority, path-abempty, path-absolute, path-rootless,
path-empty, userinfo, host, port, IP-literal, IPvFuture, IPv6address,
h16, ls32, IPv4address, dec-octet, reg-name, segment, pchar, query,
fragment, pct-encoded, unreserved, reserved, gen-delims, sub-delims}, P
= the set of production rules enumerated in the ABNF of RFC 3986, S =
URI).

&gt; Also, where in RFC3986 are "&lt;" or "&gt;" reserved? They aren't in section
&gt; 2.2 and I have search through the document for "&lt;".

The less-than sign and greater-than sign are not reserved. They are
excluded. It is impossible to produce a string that contains either the
less-than sign or the greater-than sign given grammar G as above.

Frank Ellerman pushed repeatedly to have RFC 3986 account explicitly for
all characters in the ASCII repertoire. (Or something like that, as I
don't remember the details and won't bother to trudge through the mail
archives.) Roy Fielding declined to do so. It's now up to the reader to
use the process of elimination.

Rather than skimming or searching the entirety of RFC 3986, focus just
on Appendix A, the collected ABNF
(&lt;http://gbiv.com/protocols/uri/rfc/rfc3986.html#collected-abnf&gt;).

-- 
Please do not include my address in public replies. I will read public
replies on the list.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11194<br>
Sender:"Etan Wexler" &lt;yahoo.com@...&gt;<br>
Post Date/Time:2008-08-13 19:16:57<br>
Subject:URI delimiters and reserved characters (a [rest-discuss] public-service announcement)<br>
Message:<br><br>
<pre>Andrew Houghton wrote (in
&lt;http://tech.groups.yahoo.com/group/rest-discuss/message/11190&gt;):

&gt; [The square brackets] are reserved for scheme specific URI specification.

Actually, schemes must adhere to the semantics that RFC 3986 prescribes
for the square brackets.

&gt; The ["http" URI scheme] does not make use of [the square brackets], but does specify [the solidus] as the path segment separator.

Actually, the "http" URI scheme, if we follow RFC 2732
(&lt;http://www.rfc-editor.org/rfc/rfc2732.txt&gt;), allows square brackets to
delimit IP-literals. And the "http" URI scheme has nothing to say about
the solidus because RFC 2396
(&lt;http://www.rfc-editor.org/rfc/rfc2396.txt&gt;, the predecessor to RFC
3986) was definitive about the semantics of the solidus.

&gt; So if you want to use [the square brackets or the solidus] in an ["http"] URI you must [percent-encode] those characters.

Actually, the square brackets and solidus may appear as prescribed. If
percent-encoding takes place, the square brackets and the solidus
disappear and thus they will not be part of a URI.

-- 
Please do not include my address in public replies. I will read public
replies on the list.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11195<br>
Sender:"Etan Wexler" &lt;yahoo.com@...&gt;<br>
Post Date/Time:2008-08-13 19:32:39<br>
Subject:URI delimiters and reserved characters (a [rest-discuss] public-service announcement)<br>
Message:<br><br>
<pre>Sebastien Lambla wrote (in &lt;&gt;) of URIs:

&gt; the generic syntax doesn't cover any of the [characters that Alan Dean 
&gt; mentioned], and neither does [the "http" URI scheme].

Actually, the generic syntax in RFC 3986 implicitly or explicitly covers
all characters.

&gt; [As such, you are] quite free to use them for your dereferencing algorithm.

The question at hand is about syntax. This has nothing to do with
dereferencing algorithms.

&gt; What this all means is that if you decide to have 
&gt; http://server/[{identifier}] as a valid delimited url, you would only encode 
&gt; those brackets when the identifier itself contains one, so as to preserve 
&gt; the safeness of said delimiters.

Actually, if a person decides to have "http://server/[{identifier}]" as
a URI (and here I presume that "valid delimited url" [sic] means a URI),
the onus is on that person to revise RFC 3986 and to develop its
successors up to the point of a full standard.

-- 
Please do not include my address in public replies. I will read public
replies on the list.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11196<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-08-13 20:58:21<br>
Subject:RE: URI delimiters and reserved characters (a [rest-discuss] public-service announcement)<br>
Message:<br><br>
<pre>&gt; Actually, the generic syntax in RFC 3986 implicitly or explicitly covers
&gt; all characters.

I've highlighted the points I thought were relevant to the discussion at hand, where the specification says those characters may be reserved by the scheme or the dereferencing algorithm.

&gt; The question at hand is about syntax. This has nothing to do with
&gt; dereferencing algorithms.

Could you highlight where the specification, which allows delegation of semantics of reserved characters to the dereferencing algorithms, talks about syntax?

&gt; Actually, if a person decides to have "http://server/[{identifier}]" as
&gt; a URI (and here I presume that "valid delimited url" [sic] means a URI),

Again, the rfc mention that those reserved characters MAY be used as delimiters, either by the dereferencing algorithm or the scheme. I won't get into the debate of http uris used as urls or urns, so will give you that one. For your other points, excpt for you highlighting the rfc "reserves" delimiters that are not used in http, I don't see where your point is? I'd really like for you to expand on your claims.

Are you considering that the dereferencing algorithm is *not* a subordinate of the scheme, and that as such any reserved character in URIs that is not used by the scheme have to stay reserved for some reason I missed?

S



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11197<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-08-13 22:21:37<br>
Subject:RE: URI delimiters and reserved characters (a [rest-discuss] public-service announcement)<br>
Message:<br><br>
<pre>Let me quote again the spec in certain areas I think are releavant. I may be mistaken in my understanding of it, but maybe by summarizing those points one may understand where I come from.

2. " A reserved subset of [a limited set of] characters may be used to delimit syntax components [...]"
2.1. "A percent-encoding mechanism is used to represent a data octet [when this] character is [...] being used as a delimiter of, or within, the component.
2.2. [Reserved] characters are called "reserved" because they may (or may not) be defined as delimiters by [...] each scheme-specific syntax, or by the [...] syntax of a URI's dereferencing algorithm.

And

"If data for a URI component would conflict with a reserved character's purpose as a delimiter, then the conflicting data must be percent-encoded before the URI is formed."

And

"characters in the reserved set are protected from normalization and are therefore safe to be used by [...] producer-specific algorithms for delimiting data subcomponents within a URI.

And

"other subcomponents may be defined by [...] the implementation-specific syntax of a URI's dereferencing algorithm"

I will not quote anything about IP literals as they cover the host name and not the path, and as such are irrelevant to our conversation.

3.3 "URI producing applications often use the reserved characters allowed in a segment to delimit scheme-specific or dereference-handler-specific subcomponents."


I think that clears up quite clearly that nothing prevents you from defining for your derefencing algorithms whatever reserved characters are discussed in that rfc, provided they're not being used in your scheme.

As for the http scheme, I see no mention of reserving any of those "reserved" characters. Even going back in time to 2396 I see:

2.2 " These characters are called "reserved", since
   their usage within the URI component is limited to their reserved
   purpose.  If the data for a URI component would conflict with the
   reserved purpose, then the conflicting data must be escaped before
   forming the URI."
And
" Characters in the "reserved" set are not reserved in all contexts.
   The set of characters actually reserved within any given URI
   component is defined by that component."

However, we do see:
"The angle-bracket "&lt;" and "&gt;" and double-quote (") characters are
   excluded because they are often used as the delimiters around URI"
And
"Other characters are excluded [of the non-escaped ascii set] because gateways and other transport
   agents are known to sometimes modify such characters, or they are
   used as delimiters.

   unwise      = "{" | "}" | "|" | "\" | "^" | "[" | "]" | "`"


The new RFC, which obsoletes that RFC, says that : Section 2, on characters, has been rewritten to explain what
   characters are reserved, when they are reserved, and why they are
   reserved, even when they are not used as delimiters by the generic
   syntax.

All in all, those characters are used widely, and the previous versio would have you encode them. But the latest revision has removed those restrictions. Anyone wanting to see those characters enoded would have to take the burden of rewriting rfc 3986, and anyone wanting to prevent those caharacters from being used in their encoded form would have to revise history and go modify 2396. 

Please advise if I missed a fundamental point.


S



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11198<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-08-13 22:28:13<br>
Subject:Re: URI delimiters and reserved characters (a [rest-discuss] public-service announcement)<br>
Message:<br><br>
<pre>Sounds like we need to put up the bat signal to summon Roy ;-)

On Wed, Aug 13, 2008 at 11:21 PM, Sebastien Lambla &lt;seb@...&gt; wrote:
&gt; Let me quote again the spec in certain areas I think are releavant. I may be
&gt; mistaken in my understanding of it, but maybe by summarizing those points
&gt; one may understand where I come from.
&gt;
&gt; 2. " A reserved subset of [a limited set of] characters may be used to
&gt; delimit syntax components [...]"
&gt; 2.1. "A percent-encoding mechanism is used to represent a data octet [when
&gt; this] character is [...] being used as a delimiter of, or within, the
&gt; component.
&gt; 2.2. [Reserved] characters are called "reserved" because they may (or may
&gt; not) be defined as delimiters by [...] each scheme-specific syntax, or by
&gt; the [...] syntax of a URI's dereferencing algorithm.
&gt;
&gt; And
&gt;
&gt; "If data for a URI component would conflict with a reserved character's
&gt; purpose as a delimiter, then the conflicting data must be percent-encoded
&gt; before the URI is formed."
&gt;
&gt; And
&gt;
&gt; "characters in the reserved set are protected from normalization and are
&gt; therefore safe to be used by [...] producer-specific algorithms for
&gt; delimiting data subcomponents within a URI.
&gt;
&gt; And
&gt;
&gt; "other subcomponents may be defined by [...] the implementation-specific
&gt; syntax of a URI's dereferencing algorithm"
&gt;
&gt; I will not quote anything about IP literals as they cover the host name and
&gt; not the path, and as such are irrelevant to our conversation.
&gt;
&gt; 3.3 "URI producing applications often use the reserved characters allowed in
&gt; a segment to delimit scheme-specific or dereference-handler-specific
&gt; subcomponents."
&gt;
&gt; I think that clears up quite clearly that nothing prevents you from defining
&gt; for your derefencing algorithms whatever reserved characters are discussed
&gt; in that rfc, provided they're not being used in your scheme.
&gt;
&gt; As for the http scheme, I see no mention of reserving any of those
&gt; "reserved" characters. Even going back in time to 2396 I see:
&gt;
&gt; 2.2 " These characters are called "reserved", since
&gt; their usage within the URI component is limited to their reserved
&gt; purpose. If the data for a URI component would conflict with the
&gt; reserved purpose, then the conflicting data must be escaped before
&gt; forming the URI."
&gt; And
&gt; " Characters in the "reserved" set are not reserved in all contexts.
&gt; The set of characters actually reserved within any given URI
&gt; component is defined by that component."
&gt;
&gt; However, we do see:
&gt; "The angle-bracket "&lt;" and "&gt;" and double-quote (") characters are
&gt; excluded because they are often used as the delimiters around URI"
&gt; And
&gt; "Other characters are excluded [of the non-escaped ascii set] because
&gt; gateways and other transport
&gt; agents are known to sometimes modify such characters, or they are
&gt; used as delimiters.
&gt;
&gt; unwise = "{" | "}" | "|" | "\" | "^" | "[" | "]" | "`"
&gt;
&gt; The new RFC, which obsoletes that RFC, says that : Section 2, on characters,
&gt; has been rewritten to explain what
&gt; characters are reserved, when they are reserved, and why they are
&gt; reserved, even when they are not used as delimiters by the generic
&gt; syntax.
&gt;
&gt; All in all, those characters are used widely, and the previous versio would
&gt; have you encode them. But the latest revision has removed those
&gt; restrictions. Anyone wanting to see those characters enoded would have to
&gt; take the burden of rewriting rfc 3986, and anyone wanting to prevent those
&gt; caharacters from being used in their encoded form would have to revise
&gt; history and go modify 2396.
&gt;
&gt; Please advise if I missed a fundamental point.
&gt;
&gt; S
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11199<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-08-13 22:34:41<br>
Subject:RE: URI delimiters and reserved characters (a [rest-discuss] public-service announcement)<br>
Message:<br><br>
<pre>It is quite an important topic for me, as we have had unbelieavable amounts of issues with a Uri class that considers that parsing a '/' percent-encoded within a component before delegating to the handler responsible for dereferencing was a good idea, and had to resort to ditching the Uri class altogether to prevent the resolving before the component responsible for it could process it (hint, it is not the http server infrastructure anymore).

I may move those changes back in OpenRasta in a future release, but that needs clarifying, and I'd rather not send yet another email to the TAG members about it. Any comments are more than welcome!

Seb

-----Original Message-----
From: alan.dean@... [mailto:alan.dean@...] On Behalf Of Alan Dean
Sent: 13 August 2008 23:28
To: Sebastien Lambla
Cc: rest-discuss@yahoogroups.com
Subject: Re: URI delimiters and reserved characters (a [rest-discuss] public-service announcement)

Sounds like we need to put up the bat signal to summon Roy ;-)

On Wed, Aug 13, 2008 at 11:21 PM, Sebastien Lambla &lt;seb@...&gt; wrote:
&gt; Let me quote again the spec in certain areas I think are releavant. I may be
&gt; mistaken in my understanding of it, but maybe by summarizing those points
&gt; one may understand where I come from.
&gt;
&gt; 2. " A reserved subset of [a limited set of] characters may be used to
&gt; delimit syntax components [...]"
&gt; 2.1. "A percent-encoding mechanism is used to represent a data octet [when
&gt; this] character is [...] being used as a delimiter of, or within, the
&gt; component.
&gt; 2.2. [Reserved] characters are called "reserved" because they may (or may
&gt; not) be defined as delimiters by [...] each scheme-specific syntax, or by
&gt; the [...] syntax of a URI's dereferencing algorithm.
&gt;
&gt; And
&gt;
&gt; "If data for a URI component would conflict with a reserved character's
&gt; purpose as a delimiter, then the conflicting data must be percent-encoded
&gt; before the URI is formed."
&gt;
&gt; And
&gt;
&gt; "characters in the reserved set are protected from normalization and are
&gt; therefore safe to be used by [...] producer-specific algorithms for
&gt; delimiting data subcomponents within a URI.
&gt;
&gt; And
&gt;
&gt; "other subcomponents may be defined by [...] the implementation-specific
&gt; syntax of a URI's dereferencing algorithm"
&gt;
&gt; I will not quote anything about IP literals as they cover the host name and
&gt; not the path, and as such are irrelevant to our conversation.
&gt;
&gt; 3.3 "URI producing applications often use the reserved characters allowed in
&gt; a segment to delimit scheme-specific or dereference-handler-specific
&gt; subcomponents."
&gt;
&gt; I think that clears up quite clearly that nothing prevents you from defining
&gt; for your derefencing algorithms whatever reserved characters are discussed
&gt; in that rfc, provided they're not being used in your scheme.
&gt;
&gt; As for the http scheme, I see no mention of reserving any of those
&gt; "reserved" characters. Even going back in time to 2396 I see:
&gt;
&gt; 2.2 " These characters are called "reserved", since
&gt; their usage within the URI component is limited to their reserved
&gt; purpose. If the data for a URI component would conflict with the
&gt; reserved purpose, then the conflicting data must be escaped before
&gt; forming the URI."
&gt; And
&gt; " Characters in the "reserved" set are not reserved in all contexts.
&gt; The set of characters actually reserved within any given URI
&gt; component is defined by that component."
&gt;
&gt; However, we do see:
&gt; "The angle-bracket "&lt;" and "&gt;" and double-quote (") characters are
&gt; excluded because they are often used as the delimiters around URI"
&gt; And
&gt; "Other characters are excluded [of the non-escaped ascii set] because
&gt; gateways and other transport
&gt; agents are known to sometimes modify such characters, or they are
&gt; used as delimiters.
&gt;
&gt; unwise = "{" | "}" | "|" | "\" | "^" | "[" | "]" | "`"
&gt;
&gt; The new RFC, which obsoletes that RFC, says that : Section 2, on characters,
&gt; has been rewritten to explain what
&gt; characters are reserved, when they are reserved, and why they are
&gt; reserved, even when they are not used as delimiters by the generic
&gt; syntax.
&gt;
&gt; All in all, those characters are used widely, and the previous versio would
&gt; have you encode them. But the latest revision has removed those
&gt; restrictions. Anyone wanting to see those characters enoded would have to
&gt; take the burden of rewriting rfc 3986, and anyone wanting to prevent those
&gt; caharacters from being used in their encoded form would have to revise
&gt; history and go modify 2396.
&gt;
&gt; Please advise if I missed a fundamental point.
&gt;
&gt; S
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11200<br>
Sender:"Etan Wexler" &lt;yahoo.com@...&gt;<br>
Post Date/Time:2008-08-14 20:44:15<br>
Subject:Re: URI delimiters and reserved characters (a [rest-discuss] public-service announcement)<br>
Message:<br><br>
<pre>Sebastien Lambla responded (in
&lt;http://tech.groups.yahoo.com/group/rest-discuss/message/11196&gt;) to a
message that I wrote:

&gt;&gt; Actually, the generic syntax in RFC 3986 implicitly or explicitly covers
&gt;&gt; all characters.
&gt; 
&gt; I've highlighted the points I thought were relevant to the discussion at hand, where the specification says those characters may be reserved by the scheme or the dereferencing algorithm.

I don't understand how the preceding sentence addresses my point about
RFC 3986 covering all characters. Be that as it may, I take your point.

&gt; Could you highlight where the specification, which allows delegation of semantics of reserved characters to the dereferencing algorithms, talks about syntax?

Most of RFC 3986 is about syntax. I don't want to start collecting
phrase after phrase as evidence. If you really want that I do so, please
ask; if I have time and energy, I'll begin on that effort.

&gt; Again, the [RFC mentions] that those reserved characters MAY be used as delimiters, either by the dereferencing algorithm or the scheme.

Which characters do you mean by "those reserved characters"? The square
brackets (U+005B, U+005D) are reserved by RFC 3986 for exactly one
usage, and that usage involves the "host" subcomponent, not the "path"
component. The curly brackets (U+007B, U+007D) are not allowed at all in
a URI; they are neither reserved nor unreserved.

&gt; I won't get into the debate of [whether "http" URIs are URLs or URNs], so will give you that one.

You missed my point. We are discussing URIs in general, not "http" URIs.
I was trying to stick to the jargon of RFC 3986, using "URI" instead of
"valid delimited [URL]", because I know what a URI is and don't really
know what "valid delimited URL" means. If "URI" and "valid delimited
URL" are not equivalent, please tell me. What do you mean by "valid"?
Does your notion of validity allow for "http:bork" (which is a URI but
is contrary to the definition of the scheme that the URI uses)? Does
your notion of validity allow for "http://mistake.invalid./" (which is a
URI that adheres to scheme-specific syntax but does not identify a
deployed host)? What do you mean by "delimited"?

&gt; For your other points, [except] for you highlighting the [RFC "reserved"] delimiters that are not used in [the "http" URI scheme], I don't see where your point is[.]

I didn't address the "http" scheme except insofar as it is a URI scheme
like all other URI schemes. And, for what it's worth, the "http" URI
scheme allows for URIs that include all of the characters in the
"reserved" set: "http://[::127.0.0.1]/?@!$&amp;'()*+,;=#".

&gt; I'd really like for you to expand on your claims.

URIs cannot include U+003C, U+003E, U+007B, or U+007D. URIs can include
U+005B and U+005D only as proper prefix and proper suffix, respectively,
in IP-literals in the "host" subcomponent of the "authority" component.
That is the sum total of what I was originally trying to say.

&gt; Are you considering that the dereferencing algorithm is *not* a subordinate of the scheme, and that as such any reserved character in URIs that is not used by the scheme [has] to stay reserved for some reason I missed?

In my message, I was neither presuming that premise nor drawing that
conclusion.

The simple fact remains that some characters cannot appear in URIs and
other characters may appear in URIs only in certain positions.

-- 
Please do not include my address in public replies. I will read public
replies on the list.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11201<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2008-08-14 20:47:24<br>
Subject:Re: URI delimiters and reserved characters (a [rest-discuss] public-service announcement)<br>
Message:<br><br>
<pre>On Aug 13, 2008, at 3:28 PM, Alan Dean wrote:
&gt; Sounds like we need to put up the bat signal to summon Roy ;-)
&gt;

Or someone needs to be beaten over the head with an ABNF-based
validator.

It is painfully obvious, no matter how you look at it, that square
brackets are forbidden outside of IPv6 address delimiters.  They were
forbidden anywhere in a URI before the IPv6 groups screwed that up.
That's why we don't painstakingly list all the forbidden characters
any more -- because some idiots decided the fact that we listed them
meant that they were available for extensions.

"each syntax rule lists the characters allowed within that component"

"URI scheme specifications must define their own
  syntax so that all strings matching their scheme-specific syntax will
  also match the &lt;absolute-URI&gt; grammar, as described in Section 4.3."

and for those who still can't read ABNF ...

    A host identified by an Internet Protocol literal address, version 6
    [RFC3513] or later, is distinguished by enclosing the IP literal
    within square brackets ("[" and "]").  This is the only place where
    square bracket characters are allowed in the URI syntax.

How could I be any more clear that that?

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11202<br>
Sender:"Etan Wexler" &lt;yahoo.com@...&gt;<br>
Post Date/Time:2008-08-14 21:34:54<br>
Subject:Re: URI delimiters and reserved characters (a [rest-discuss] public-service announcement)<br>
Message:<br><br>
<pre>Sebastien Lambla wrote (in
&lt;http://tech.groups.yahoo.com/group/rest-discuss/message/11197&gt;):

&gt; Please advise if I missed a fundamental point.

You missed "Overview of URIs"
(&lt;http://gbiv.com/protocols/uri/rfc/rfc3986.html#overview&gt;), section 1.1
of RFC 3986:

"A URI is an identifier consisting of a sequence of characters matching
the syntax rule named &lt;URI&gt; in Section 3."

And then you missed the ABNF production rules scattered throughout the
RFC and collected in "Collected ABNF for URI"
(&lt;http://gbiv.com/protocols/uri/rfc/rfc3986.html#collected-abnf&gt;),
appendix A of RFC 3986.

Have you read my message in
&lt;http://tech.groups.yahoo.com/group/rest-discuss/message/11193&gt;? Did you
manage to produce from grammar G a string containing U+003C, U+003E,
U+007B, or U+007D? If so, which sequence of production rules did you
use?

-- 
Please do not include my address in public replies. I will read public
replies on the list.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11203<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-08-14 23:05:00<br>
Subject:Re: URI delimiters and reserved characters (a [rest-discuss] public-service announcement)<br>
Message:<br><br>
<pre>&gt; And then you missed the ABNF production rules scattered throughout the
&gt; RFC and collected in "Collected ABNF for URI"
&gt; (&lt;http://gbiv.com/protocols/uri/rfc/rfc3986.html#collected-abnf&gt;),
&gt; appendix A of RFC 3986.

Fair dues, I was mistaken in my assumptions about those characters, 
apologies for not reading the abnf. I understood any unused reserved 
character as being usable, which is not the case.

Each segment is ALPHA / DIGIT / "-" / "." / "_" / "~" / "!" / "$" / "&amp;" / 
"'" / "(" / ")" / "*" / "+" / "," / ";" / "=" /":" / "@"
 which indeed excludes the gen-delimiters (but not the sub-delimiters) and 
everything else, unless they are percent-encoded.

Thank you for clarifying that point.

S 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11204<br>
Sender:=?ISO-8859-1?Q?Rickard_=D6berg?= &lt;rickardoberg@...&gt;<br>
Post Date/Time:2008-08-15 13:31:20<br>
Subject:REST+SPARQL for Java domain model<br>
Message:<br><br>
<pre>Hey,

I've been working on an application development framework in Qi4j for 
some time now, and just added some REST features that might be 
interesting for you. Basically, the server can now expose the state of 
any domain object as an RDF/XML document, and there's also a SPARQL 
endpoint which maps to the internal query services. On the client there 
is then Java libraries that use these to find and load/store the data of 
the domain model. All in all this makes it possible to have a domain 
model in Java and work with it in clients (e.g. applets/JavaWebStart) as 
if they were not remote (basically the REST/SPARQL interface acts like a 
remote database). If you're interested you can read more about it here:
http://www.jroller.com/rickard/entry/qi4j_rest_entitystore_and_sparql

I would really like to have feedback from you about these ideas, and how 
to improve it to be as useful as possible.

thanks,
   Rickard

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11205<br>
Sender:"Erling Wegger Linde" &lt;erlingwl@...&gt;<br>
Post Date/Time:2008-08-16 20:28:00<br>
Subject:Re: [rest-discuss] REST+SPARQL for Java domain model<br>
Message:<br><br>
<pre>Hi,

Qi4j looked pretty cool. You use semantic technology like RDF/XML and
SPARQL (and probably reasoning?) to make it very easy to write client
code for interacting with a server (almost transparently) if I get i
right?

However, I think it might be difficult for other clients to use the
servers, especially if the clients are written with other programmring
languages etc. I mean the representations would change whenever you
change the object model because The RDF vocabulary are generated from
the (Java) object model right? And also the RDF models are implicit in
the Java object model so a non-Qi4j client cannot download an RDF
schema and perform its own reasoning right? (perhaps it would be
possible to generate and export such a schema? and maybe you already
generate such as schema internally?)

I guess since there's probably not enough existing (RDF) vocabularies
out there that you could use, you have to create your own sometimes.
But what if you had a Person model that correlated pretty much with a
foaf:Person, or a Project model that where almost a fit with
doap:Project, could you then use these (with the correct namespaces
etc.)? I think that would be of great value to other non-Qi4j clients,
and expose more of the potential from having a RESTful interface.

- Erling

On Fri, Aug 15, 2008 at 3:31 PM, Rickard berg &lt;rickardoberg@...&gt; wrote:
&gt; Hey,
&gt;
&gt; I've been working on an application development framework in Qi4j for
&gt; some time now, and just added some REST features that might be
&gt; interesting for you. Basically, the server can now expose the state of
&gt; any domain object as an RDF/XML document, and there's also a SPARQL
&gt; endpoint which maps to the internal query services. On the client there
&gt; is then Java libraries that use these to find and load/store the data of
&gt; the domain model. All in all this makes it possible to have a domain
&gt; model in Java and work with it in clients (e.g. applets/JavaWebStart) as
&gt; if they were not remote (basically the REST/SPARQL interface acts like a
&gt; remote database). If you're interested you can read more about it here:
&gt; http://www.jroller.com/rickard/entry/qi4j_rest_entitystore_and_sparql
&gt;
&gt; I would really like to have feedback from you about these ideas, and how
&gt; to improve it to be as useful as possible.
&gt;
&gt; thanks,
&gt; Rickard
&gt;
&gt; 



-- 
Med vennlig hilsen
Erling Wegger Linde

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11206<br>
Sender:=?ISO-8859-1?Q?Rickard_=D6berg?= &lt;rickardoberg@...&gt;<br>
Post Date/Time:2008-08-17 10:45:09<br>
Subject:Re: [rest-discuss] REST+SPARQL for Java domain model<br>
Message:<br><br>
<pre>Erling Wegger Linde wrote:
&gt; Qi4j looked pretty cool. You use semantic technology like RDF/XML and
&gt; SPARQL (and probably reasoning?) to make it very easy to write client
&gt; code for interacting with a server (almost transparently) if I get i
&gt; right?

Pretty much!

&gt; However, I think it might be difficult for other clients to use the
&gt; servers, especially if the clients are written with other programmring
&gt; languages etc. I mean the representations would change whenever you
&gt; change the object model because The RDF vocabulary are generated from
&gt; the (Java) object model right? And also the RDF models are implicit in
&gt; the Java object model so a non-Qi4j client cannot download an RDF
&gt; schema and perform its own reasoning right? (perhaps it would be
&gt; possible to generate and export such a schema? and maybe you already
&gt; generate such as schema internally?)

The schema is generated internally, so the plan is to add HTTP-access of 
it. But as you say it is based on the Java model, so the names are a bit 
funky, and when the Java model changes the RDF model changes.

One idea I have to deal with that is to simple be able to add metadata 
to the Java model to help the RDF generation, such as being able to say 
that a Java property equals a DC-attribute or similar. Another way to do 
it is to generate the RDF using the XML model, but then attach a XSLT 
processing instruction to convert it to some more stable schema. Or, 
make an ontology with equivalences that do the same thing, which is the 
more RDFy approach I think. None is implemented right now, so any ideas 
on "what works" would be appreciated.

&gt; I guess since there's probably not enough existing (RDF) vocabularies
&gt; out there that you could use, you have to create your own sometimes.
&gt; But what if you had a Person model that correlated pretty much with a
&gt; foaf:Person, or a Project model that where almost a fit with
&gt; doap:Project, could you then use these (with the correct namespaces
&gt; etc.)? I think that would be of great value to other non-Qi4j clients,
&gt; and expose more of the potential from having a RESTful interface.

Right, so as above, there is going to be ways to set more (re)useful 
names, but I'm not sure right now what's the best way to do it. Just 
replacing the names with DC/FOAF/DOAP names is one way, but then 
information is lost, so I'm more keen on using subclassing (i.e. the 
Java classes extend standard ones) or equivalences. But I don't have 
enough experience to know which one works best in practice.

I definitely agree that once this has been sorted out it will have great 
value for non-Qi4j non-Java clients!

/Rickard

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11207<br>
Sender:"Erling Wegger Linde" &lt;erlingwl@...&gt;<br>
Post Date/Time:2008-08-17 14:01:50<br>
Subject:Re: [rest-discuss] REST+SPARQL for Java domain model<br>
Message:<br><br>
<pre>On Sun, Aug 17, 2008 at 12:45 PM, Rickard berg &lt;rickardoberg@...&gt; wrote:
&gt; Erling Wegger Linde wrote:
&gt;&gt;
&gt;&gt; Qi4j looked pretty cool. You use semantic technology like RDF/XML and
&gt;&gt; SPARQL (and probably reasoning?) to make it very easy to write client
&gt;&gt; code for interacting with a server (almost transparently) if I get i
&gt;&gt; right?
&gt;
&gt; Pretty much!
&gt;
&gt;&gt; However, I think it might be difficult for other clients to use the
&gt;&gt; servers, especially if the clients are written with other programmring
&gt;&gt; languages etc. I mean the representations would change whenever you
&gt;&gt; change the object model because The RDF vocabulary are generated from
&gt;&gt; the (Java) object model right? And also the RDF models are implicit in
&gt;&gt; the Java object model so a non-Qi4j client cannot download an RDF
&gt;&gt; schema and perform its own reasoning right? (perhaps it would be
&gt;&gt; possible to generate and export such a schema? and maybe you already
&gt;&gt; generate such as schema internally?)
&gt;
&gt; The schema is generated internally, so the plan is to add HTTP-access of it.
&gt; But as you say it is based on the Java model, so the names are a bit funky,
&gt; and when the Java model changes the RDF model changes.
&gt;
&gt; One idea I have to deal with that is to simple be able to add metadata to
&gt; the Java model to help the RDF generation, such as being able to say that a
&gt; Java property equals a DC-attribute or similar. Another way to do it is to
&gt; generate the RDF using the XML model, but then attach a XSLT processing
&gt; instruction to convert it to some more stable schema. Or, make an ontology
&gt; with equivalences that do the same thing, which is the more RDFy approach I
&gt; think. None is implemented right now, so any ideas on "what works" would be
&gt; appreciated.
&gt;
&gt;&gt; I guess since there's probably not enough existing (RDF) vocabularies
&gt;&gt; out there that you could use, you have to create your own sometimes.
&gt;&gt; But what if you had a Person model that correlated pretty much with a
&gt;&gt; foaf:Person, or a Project model that where almost a fit with
&gt;&gt; doap:Project, could you then use these (with the correct namespaces
&gt;&gt; etc.)? I think that would be of great value to other non-Qi4j clients,
&gt;&gt; and expose more of the potential from having a RESTful interface.
&gt;
&gt; Right, so as above, there is going to be ways to set more (re)useful names,
&gt; but I'm not sure right now what's the best way to do it. Just replacing the
&gt; names with DC/FOAF/DOAP names is one way, but then information is lost, so
&gt; I'm more keen on using subclassing (i.e. the Java classes extend standard
&gt; ones) or equivalences. But I don't have enough experience to know which one
&gt; works best in practice.
&gt;
&gt; I definitely agree that once this has been sorted out it will have great
&gt; value for non-Qi4j non-Java clients!
&gt;
&gt; /Rickard
&gt;

It is great to hear that you are thinking about making Qi4j be able to
use existing vocabularies. I think it would be an extremely useful
framework if you solve that issue!

I'm not sure what would be the best way to do it, but maybe you could
get some ideas from the jenabean project, see
http://code.google.com/p/jenabean/. I haven't had time to test it out
yet, but I believe they use annotations to bind the Java properties
etc. to the proper name spaces. Which seems like a very good idea to
me.

Good luck!

- Erling

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11208<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-08-17 15:49:36<br>
Subject:Re: [rest-discuss] Different resource 'views'<br>
Message:<br><br>
<pre>Roy T. Fielding wrote:
&gt; 
&gt; 
&gt; On Aug 7, 2008, at 6:17 AM, Bill de hOra wrote:
&gt;  &gt; Roy T. Fielding wrote:
&gt;  &gt;
&gt;  &gt; &gt; I don't know of any sane system that uses the query portion to
&gt;  &gt; &gt; distinguish format-specific resources. Everybody uses name
&gt;  &gt; &gt; extensions for that purpose. There is absolutely no good reason
&gt;  &gt; &gt; to do the above instead of
&gt;  &gt; &gt;
&gt;  &gt; &gt; /team/cubs.csv
&gt;  &gt; &gt; /team/cubs.json
&gt;  &gt; &gt;
&gt;  &gt; &gt; and plenty of reasons to avoid using query syntax.
&gt;  &gt;
&gt;  &gt; What would they be?
&gt;  &gt;
&gt; 
&gt; 1) It interferes with other uses of the query syntax (for queries);
&gt; 2) It is often controlled by a different subsystem during operations,
&gt; in a method-specific and implementation-specific manner, which
&gt; makes it
&gt; harder to preserve names when the implementation evolves;
&gt; 3) It looks like a query, so some caches don't bother to cache the
&gt; response because the hit rate is lower than non-query responses;
&gt; 4) It looks like a potentially "unsafe" resource, so some (spineless)
&gt; spiders won't traverse it and your site will disappear from search
&gt; engines.

Looks like friendfeed don't have a sane system.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11209<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-08-17 16:07:13<br>
Subject:Re: [rest-discuss] Different resource 'views'<br>
Message:<br><br>
<pre>Bill de hOra wrote:
&gt; 
&gt; 
&gt; Roy T. Fielding wrote:
&gt;  &gt;
&gt;  &gt;
&gt;  &gt; On Aug 7, 2008, at 6:17 AM, Bill de hOra wrote:
&gt;  &gt; &gt; Roy T. Fielding wrote:
&gt;  &gt; &gt;
&gt;  &gt; &gt; &gt; I don't know of any sane system that uses the query portion to
&gt;  &gt; &gt; &gt; distinguish format-specific resources. Everybody uses name
&gt;  &gt; &gt; &gt; extensions for that purpose. There is absolutely no good reason
&gt;  &gt; &gt; &gt; to do the above instead of
&gt;  &gt; &gt; &gt;
&gt;  &gt; &gt; &gt; /team/cubs.csv
&gt;  &gt; &gt; &gt; /team/cubs.json
&gt;  &gt; &gt; &gt;
&gt;  &gt; &gt; &gt; and plenty of reasons to avoid using query syntax.
&gt;  &gt; &gt;
&gt;  &gt; &gt; What would they be?
&gt;  &gt; &gt;
&gt;  &gt;
&gt;  &gt; 1) It interferes with other uses of the query syntax (for queries);
&gt;  &gt; 2) It is often controlled by a different subsystem during operations,
&gt;  &gt; in a method-specific and implementation-specific manner, which
&gt;  &gt; makes it
&gt;  &gt; harder to preserve names when the implementation evolves;
&gt;  &gt; 3) It looks like a query, so some caches don't bother to cache the
&gt;  &gt; response because the hit rate is lower than non-query responses;
&gt;  &gt; 4) It looks like a potentially "unsafe" resource, so some (spineless)
&gt;  &gt; spiders won't traverse it and your site will disappear from search
&gt;  &gt; engines.
&gt; 
&gt; Looks like friendfeed don't have a sane system.

Or Yahoo pipes. I suspect this has to with UAs in general not doing 
conneg very well.

Bill


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11210<br>
Sender:Simon Reinhardt &lt;simon.reinhardt@...&gt;<br>
Post Date/Time:2008-08-17 17:26:18<br>
Subject:Re: [rest-discuss] REST+SPARQL for Java domain model<br>
Message:<br><br>
<pre>Erling Wegger Linde wrote:
&gt; I'm not sure what would be the best way to do it, but maybe you could
&gt; get some ideas from the jenabean project, see
&gt; http://code.google.com/p/jenabean/. I haven't had time to test it out
&gt; yet, but I believe they use annotations to bind the Java properties
&gt; etc. to the proper name spaces. Which seems like a very good idea to
&gt; me.

You might also want to take a look at Elmo &lt;http://openrdf.org/doc/elmo/1.1/user-guide/index.html&gt; and So(m)mer &lt;https://sommer.dev.java.net/sommer/index.html&gt; and see how they do things.

Simon

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11211<br>
Sender:=?ISO-8859-1?Q?Rickard_=D6berg?= &lt;rickardoberg@...&gt;<br>
Post Date/Time:2008-08-18 03:38:17<br>
Subject:Re: [rest-discuss] REST+SPARQL for Java domain model<br>
Message:<br><br>
<pre>Simon Reinhardt wrote:
&gt; Erling Wegger Linde wrote:
&gt;  &gt; I'm not sure what would be the best way to do it, but maybe you could
&gt;  &gt; get some ideas from the jenabean project, see
&gt;  &gt; http://code.google.com/p/jenabean/. 
&gt; &lt;http://code.google.com/p/jenabean/.&gt; I haven't had time to test it out
&gt;  &gt; yet, but I believe they use annotations to bind the Java properties
&gt;  &gt; etc. to the proper name spaces. Which seems like a very good idea to
&gt;  &gt; me.
&gt; 
&gt; You might also want to take a look at Elmo 
&gt; &lt;http://openrdf.org/doc/elmo/1.1/user-guide/index.html 
&gt; &lt;http://openrdf.org/doc/elmo/1.1/user-guide/index.html&gt;&gt; and So(m)mer 
&gt; &lt;https://sommer.dev.java.net/sommer/index.html 
&gt; &lt;https://sommer.dev.java.net/sommer/index.html&gt;&gt; and see how they do things.

So basically the general idea seems to be to add an @RDF-annotation to 
the property to denote the RDF name. In Qi4j it would look like so:
@RDF("http://purl.org/dc/elements/1.1/title")
Property&lt;String&gt; title();

This would make it very clear to the developer what RDF-mapping is being 
used I guess. In Qi4j we can also add this metainformation in the 
Assembly (our programmatic version of XML-configs), so that it's not 
directly encoded in the sourcecode. This would make it more 
configurable, and the main question is whether one would want to change 
it through configuration, or whether it is actually better that it is 
statically stated where the property is declared.

Opinions/experience with this?

/Rickard

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11212<br>
Sender:=?ISO-8859-1?Q?Rickard_=D6berg?= &lt;rickardoberg@...&gt;<br>
Post Date/Time:2008-08-18 10:29:03<br>
Subject:Re: [rest-discuss] REST+SPARQL for Java domain model<br>
Message:<br><br>
<pre>Simon Reinhardt wrote:
&gt; Erling Wegger Linde wrote:
&gt;  &gt; I'm not sure what would be the best way to do it, but maybe you could
&gt;  &gt; get some ideas from the jenabean project, see
&gt;  &gt; http://code.google.com/p/jenabean/. 
&gt; &lt;http://code.google.com/p/jenabean/.&gt; I haven't had time to test it out
&gt;  &gt; yet, but I believe they use annotations to bind the Java properties
&gt;  &gt; etc. to the proper name spaces. Which seems like a very good idea to
&gt;  &gt; me.
&gt; 
&gt; You might also want to take a look at Elmo 
&gt; &lt;http://openrdf.org/doc/elmo/1.1/user-guide/index.html 
&gt; &lt;http://openrdf.org/doc/elmo/1.1/user-guide/index.html&gt;&gt; and So(m)mer 
&gt; &lt;https://sommer.dev.java.net/sommer/index.html 
&gt; &lt;https://sommer.dev.java.net/sommer/index.html&gt;&gt; and see how they do things.

I had a look at the suggested resources, and in general the approach 
seems to be to add annotations to the Java properties, i.e. hardcoding 
it in sourcecode. Maybe that's fine. I tried adding this to Qi4j, but 
with a more generic "URI" annotation. Example code looks like this:
@URI( "http://purl.org/dc/dcmitype/PhysicalObject")
public interface TestEntity
     extends EntityComposite
{
     @URI( DcRdf.DC+"title")
     @NotEmpty Property&lt;String&gt; name();

     Association&lt;TestEntity&gt; association();

     ManyAssociation&lt;TestEntity&gt; manyAssoc();

     @URI("http://www.w3.org/2001/vcard-rdf/3.0#GROUP")
     ListAssociation&lt;TestEntity&gt; listAssoc();
}
Note that in Qi4j Entities are minimally declared as interfaces (no 
class necessary, if no domain methods are added), so the above just 
defines an Entity with one property that is DC.Title, and three 
associations, of which the last one is a vCard:GROUP. The type itself 
also has a URI as annotation.

The Qi4j RDF-serializer output of this now becomes:
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;rdf:RDF
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:ns1="http://www.w3.org/2001/vcard-rdf/3.0#"
   xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"&gt;
&lt;PhysicalObject xmlns="http://purl.org/dc/dcmitype/" 
rdf:about="urn:qi4j:entity:org.qi4j.library.rdf.entity.TestEntity/test2"&gt;
   &lt;dc:title&gt;Niclas&lt;/dc:title&gt;
   &lt;identity 
xmlns="urn:qi4j:entity:org.qi4j.entity.Identity:"&gt;test2&lt;/identity&gt;
   &lt;association 
xmlns="urn:qi4j:entity:org.qi4j.library.rdf.entity.TestEntity:" 
rdf:resource="urn:qi4j:entity:org.qi4j.library.rdf.entity.TestEntity/test1"/&gt;
   &lt;manyAssoc 
xmlns="urn:qi4j:entity:org.qi4j.library.rdf.entity.TestEntity:"&gt;
     &lt;rdf:Bag&gt;
       &lt;rdf:li 
rdf:resource="urn:qi4j:entity:org.qi4j.library.rdf.entity.TestEntity/test1"/&gt;
     &lt;/rdf:Bag&gt;
   &lt;/manyAssoc&gt;
   &lt;ns1:GROUP&gt;
     &lt;rdf:Seq&gt;
       &lt;rdf:li 
rdf:resource="urn:qi4j:entity:org.qi4j.library.rdf.entity.TestEntity/test1"/&gt;
       &lt;rdf:li 
rdf:resource="urn:qi4j:entity:org.qi4j.library.rdf.entity.TestEntity/test1"/&gt;
       &lt;rdf:li 
rdf:resource="urn:qi4j:entity:org.qi4j.library.rdf.entity.TestEntity/test1"/&gt;
     &lt;/rdf:Seq&gt;
   &lt;/ns1:GROUP&gt;
&lt;/PhysicalObject&gt;

&lt;/rdf:RDF&gt;
---

This seems pretty ok, and for the elements that has URI's specified it's 
impossible to tell that they are auto-generated from Java.

Any thoughts on this? Anything wrong, or something that could be added 
to improve it?

regards,
   Rickard

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11213<br>
Sender:"Erling Wegger Linde" &lt;erlingwl@...&gt;<br>
Post Date/Time:2008-08-18 16:32:44<br>
Subject:Re: [rest-discuss] REST+SPARQL for Java domain model<br>
Message:<br><br>
<pre>On Mon, Aug 18, 2008 at 12:29 PM, Rickard berg &lt;rickardoberg@...&gt; wrote:
&gt; Simon Reinhardt wrote:
&gt;&gt; Erling Wegger Linde wrote:
&gt;&gt; &gt; I'm not sure what would be the best way to do it, but maybe you could
&gt;&gt; &gt; get some ideas from the jenabean project, see
&gt;&gt; &gt; http://code.google.com/p/jenabean/.
&gt;&gt; &lt;http://code.google.com/p/jenabean/.&gt; I haven't had time to test it out
&gt;&gt; &gt; yet, but I believe they use annotations to bind the Java properties
&gt;&gt; &gt; etc. to the proper name spaces. Which seems like a very good idea to
&gt;&gt; &gt; me.
&gt;&gt;
&gt;&gt; You might also want to take a look at Elmo
&gt;&gt; &lt;http://openrdf.org/doc/elmo/1.1/user-guide/index.html
&gt;&gt; &lt;http://openrdf.org/doc/elmo/1.1/user-guide/index.html&gt;&gt; and So(m)mer
&gt;&gt; &lt;https://sommer.dev.java.net/sommer/index.html
&gt;&gt; &lt;https://sommer.dev.java.net/sommer/index.html&gt;&gt; and see how they do
&gt;&gt; things.
&gt;
&gt; I had a look at the suggested resources, and in general the approach
&gt; seems to be to add annotations to the Java properties, i.e. hardcoding
&gt; it in sourcecode. Maybe that's fine.

I think annotations are great, as I find them more easy to learn
instead of fighting against some new DSL. And they are also visible
directly in the code - which makes it easier to debug etc. But that is
only my personal opinion =)

&gt; I tried adding this to Qi4j, but
&gt; with a more generic "URI" annotation. Example code looks like this:
&gt; @URI( "http://purl.org/dc/dcmitype/PhysicalObject")
&gt; public interface TestEntity
&gt; extends EntityComposite
&gt; {
&gt; @URI( DcRdf.DC+"title")
&gt; @NotEmpty Property&lt;String&gt; name();
&gt;
&gt; Association&lt;TestEntity&gt; association();
&gt;
&gt; ManyAssociation&lt;TestEntity&gt; manyAssoc();
&gt;
&gt; @URI("http://www.w3.org/2001/vcard-rdf/3.0#GROUP")
&gt; ListAssociation&lt;TestEntity&gt; listAssoc();
&gt; }
&gt; Note that in Qi4j Entities are minimally declared as interfaces (no
&gt; class necessary, if no domain methods are added), so the above just of cours
&gt; defines an Entity with one property that is DC.Title, and three
&gt; associations, of which the last one is a vCard:GROUP. The type itself
&gt; also has a URI as annotation.
&gt;
&gt; The Qi4j RDF-serializer output of this now becomes:
&gt; &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&gt; &lt;rdf:RDF
&gt; xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
&gt; xmlns:dc="http://purl.org/dc/elements/1.1/"
&gt; xmlns:ns1="http://www.w3.org/2001/vcard-rdf/3.0#"
&gt; xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"&gt;
&gt; &lt;PhysicalObject xmlns="http://purl.org/dc/dcmitype/"
&gt; rdf:about="urn:qi4j:entity:org.qi4j.library.rdf.entity.TestEntity/test2"&gt;
&gt; &lt;dc:title&gt;Niclas&lt;/dc:title&gt;
&gt; &lt;identity
&gt; xmlns="urn:qi4j:entity:org.qi4j.entity.Identity:"&gt;test2&lt;/identity&gt;
&gt; &lt;association
&gt; xmlns="urn:qi4j:entity:org.qi4j.library.rdf.entity.TestEntity:"
&gt; rdf:resource="urn:qi4j:entity:org.qi4j.library.rdf.entity.TestEntity/test1"/&gt;
&gt; &lt;manyAssoc
&gt; xmlns="urn:qi4j:entity:org.qi4j.library.rdf.entity.TestEntity:"&gt;
&gt; &lt;rdf:Bag&gt;
&gt; &lt;rdf:li
&gt; rdf:resource="urn:qi4j:entity:org.qi4j.library.rdf.entity.TestEntity/test1"/&gt;
&gt; &lt;/rdf:Bag&gt;
&gt; &lt;/manyAssoc&gt;
&gt; &lt;ns1:GROUP&gt;
&gt; &lt;rdf:Seq&gt;
&gt; &lt;rdf:li
&gt; rdf:resource="urn:qi4j:entity:org.qi4j.library.rdf.entity.TestEntity/test1"/&gt;
&gt; &lt;rdf:li
&gt; rdf:resource="urn:qi4j:entity:org.qi4j.library.rdf.entity.TestEntity/test1"/&gt;
&gt; &lt;rdf:li
&gt; rdf:resource="urn:qi4j:entity:org.qi4j.library.rdf.entity.TestEntity/test1"/&gt;
&gt; &lt;/rdf:Seq&gt;
&gt; &lt;/ns1:GROUP&gt;
&gt; &lt;/PhysicalObject&gt;
&gt;
&gt; &lt;/rdf:RDF&gt;
&gt; ---
&gt;
&gt; This seems pretty ok, and for the elements that has URI's specified it's
&gt; impossible to tell that they are auto-generated from Java.
&gt;
&gt; Any thoughts on this? Anything wrong, or something that could be added of cours
&gt; to improve it?

At a first glance it seems great to me. And just a final dumb
question, you can parse it too right?

- Erling

&gt;
&gt; regards,
&gt; Rickard
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11214<br>
Sender:=?ISO-8859-1?Q?Rickard_=D6berg?= &lt;rickardoberg@...&gt;<br>
Post Date/Time:2008-08-19 01:35:48<br>
Subject:Re: [rest-discuss] REST+SPARQL for Java domain model<br>
Message:<br><br>
<pre>Erling Wegger Linde wrote:
&gt; I think annotations are great, as I find them more easy to learn
&gt; instead of fighting against some new DSL. And they are also visible
&gt; directly in the code - which makes it easier to debug etc. But that is
&gt; only my personal opinion =)

Alright, fair enough.

&gt; At a first glance it seems great to me. And just a final dumb
&gt; question, you can parse it too right?

Yes, the additional metadata has been added to the internal model, so I 
can parse it properly on the other side. Not 100% done yet with all the 
details, but should be by the end of the week.

I should also mention that since Entities are defined by interfaces, 
doing something like this is easy:
interface PersonComposite
   extends EntityComposite, Person, VCard, ...

where:
@URI(FOAF+"person")
interface Person
{
   @URI(FOAF+"title")
   Property&lt;String&gt; title();

   @URI(FOAF+"name)
   ComputedProperty&lt;String&gt; name();

   @URI(FOAF+"firstName")
   Property&lt;String&gt; firstName();

   @URI(FOAF+"surName")
   Property&lt;String&gt; surName();
}
etc. so you can compose your entities from reusable subinterfaces that 
maps to existing RDF ontologies. When there is overlap you can use 
ComputedProperties for the mappings, so in the above you would define 
VCard as such:
interface VCard
{
   @URI(VCARD+"FN")
   ComputedProperty&lt;String&gt; FN();

   @URI(VCARD+"TITLE")
   ComputedProperty&lt;String&gt; TITLE();
}
and then supply a mixin implementation that performs the mapping to the 
FOAF properties.

/Rickard


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11215<br>
Sender:"Erling Wegger Linde" &lt;erlingwl@...&gt;<br>
Post Date/Time:2008-08-19 17:21:34<br>
Subject:Re: [rest-discuss] REST+SPARQL for Java domain model<br>
Message:<br><br>
<pre>On Tue, Aug 19, 2008 at 3:35 AM, Rickard berg &lt;rickardoberg@...&gt; wrote:
&gt; Erling Wegger Linde wrote:
&gt;&gt;
&gt;&gt; I think annotations are great, as I find them more easy to learn
&gt;&gt; instead of fighting against some new DSL. And they are also visible
&gt;&gt; directly in the code - which makes it easier to debug etc. But that is
&gt;&gt; only my personal opinion =)
&gt;
&gt; Alright, fair enough.
&gt;
&gt;&gt; At a first glance it seems great to me. And just a final dumb
&gt;&gt; question, you can parse it too right?
&gt;
&gt; Yes, the additional metadata has been added to the internal model, so I can
&gt; parse it properly on the other side. Not 100% done yet with all the details,
&gt; but should be by the end of the week.

Please let me know, I would love to try it out =)

&gt;
&gt; I should also mention that since Entities are defined by interfaces, doing
&gt; something like this is easy:
&gt; interface PersonComposite
&gt;  extends EntityComposite, Person, VCard, ...

Nice!

&gt;
&gt; where:
&gt; @URI(FOAF+"person")
&gt; interface Person
&gt; {
&gt;  @URI(FOAF+"title")
&gt;  Property&lt;String&gt; title();
&gt;
&gt;  @URI(FOAF+"name)
&gt;  ComputedProperty&lt;String&gt; name();
&gt;
&gt;  @URI(FOAF+"firstName")
&gt;  Property&lt;String&gt; firstName();
&gt;
&gt;  @URI(FOAF+"surName")
&gt;  Property&lt;String&gt; surName();
&gt; }
&gt; etc. so you can compose your entities from reusable subinterfaces that maps
&gt; to existing RDF ontologies. When there is overlap you can use
&gt; ComputedProperties for the mappings, so in the above you would define VCard
&gt; as such:
&gt; interface VCard
&gt; {
&gt;  @URI(VCARD+"FN")
&gt;  ComputedProperty&lt;String&gt; FN();
&gt;
&gt;  @URI(VCARD+"TITLE")
&gt;  ComputedProperty&lt;String&gt; TITLE();
&gt; }
&gt; and then supply a mixin implementation that performs the mapping to the FOAF
&gt; properties.
&gt;
&gt; /Rickard
&gt;
&gt;

- Erling

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11216<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-08-19 20:25:00<br>
Subject:Re: [rest-discuss] REST+SPARQL for Java domain model<br>
Message:<br><br>
<pre>On Aug 18, 2008, at 12:29 PM, Rickard berg wrote:

&gt; I had a look at the suggested resources, and in general the approach
&gt; seems to be to add annotations to the Java properties, i.e. hardcoding
&gt; it in sourcecode. Maybe that's fine. I tried adding this to Qi4j, but
&gt; with a more generic "URI" annotation. Example code looks like this:
&gt; @URI( "http://purl.org/dc/dcmitype/PhysicalObject")
&gt; public interface TestEntity
&gt; extends EntityComposite
&gt; {
&gt; @URI( DcRdf.DC+"title")
&gt; @NotEmpty Property&lt;String&gt; name();
&gt;
&gt; Association&lt;TestEntity&gt; association();
&gt;
&gt; ManyAssociation&lt;TestEntity&gt; manyAssoc();
&gt;
&gt; @URI("http://www.w3.org/2001/vcard-rdf/3.0#GROUP")
&gt; ListAssociation&lt;TestEntity&gt; listAssoc();
&gt; }

You are aware of JSR 311 and URI Templates, right?

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11217<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-08-19 21:23:33<br>
Subject:Re: [rest-discuss] REST+SPARQL for Java domain model<br>
Message:<br><br>
<pre>Uri templates are still a moving target and the latest spec i've seen (are we talking about the internet draft?) seems to not reflect many implementations out there.


From: Stefan Tilkov 
Sent: Tuesday, August 19, 2008 9:25 PM
To: rest-discuss@yahoogroups.com 
Subject: Re: [rest-discuss] REST+SPARQL for Java domain model


On Aug 18, 2008, at 12:29 PM, Rickard berg wrote:


  I had a look at the suggested resources, and in general the approach 
  seems to be to add annotations to the Java properties, i.e. hardcoding 
  it in sourcecode. Maybe that's fine. I tried adding this to Qi4j, but 
  with a more generic "URI" annotation. Example code looks like this:
  @URI( "http://purl.org/dc/dcmitype/PhysicalObject")
  public interface TestEntity
  extends EntityComposite
  {
  @URI( DcRdf.DC+"title")
  @NotEmpty Property&lt;String&gt; name();

  Association&lt;TestEntity&gt; association();

  ManyAssociation&lt;TestEntity&gt; manyAssoc();

  @URI("http://www.w3.org/2001/vcard-rdf/3.0#GROUP")
  ListAssociation&lt;TestEntity&gt; listAssoc();
  }


You are aware of JSR 311 and URI Templates, right?


Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/
 </pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11218<br>
Sender:"griffinc18" &lt;griffin@...&gt;<br>
Post Date/Time:2008-08-23 04:50:08<br>
Subject:ETags as first class objects<br>
Message:<br><br>
<pre>Hi all,

I was reading http://www.w3.org/1999/04/Editing/, which discusses
using ETags to combat the problem of the lost updates.  It makes
mention that the authors believe that a bug in the design of ETags is
that they are not first class objects.  In this case, first class
objects means making them URIs.

I was wondering if anyone else has heard of something like this or has
seen it implemented anywhere?  I've never encountered ETags when they
were anything other than values in HTTP headers.

Thanks,
Griffin Caprio
http://www.griffincaprio.com
http://www.oreillynet.com/xml/blog/








</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11219<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-08-23 07:19:51<br>
Subject:RE: [rest-discuss] ETags as first class objects<br>
Message:<br><br>
<pre>I've never seen ETags used with Uri values.

What would be the semantics of inspecting the ETag? Just because they have a
Uri doesn't mean they can be dereferenced, and if they are, what would they
return? A description of a specific version through http headers in a HEAD
request or a content type describing lock and update semantics?

There's also mention of the possibility of the server doing a merge on the
fly from a put. Isn't this in conflict of the work being put into
resurfacing PATCH?

Seb 

-----Original Message-----
From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On
Behalf Of griffinc18
Sent: 23 August 2008 05:50
To: rest-discuss@yahoogroups.com
Subject: [rest-discuss] ETags as first class objects

Hi all,

I was reading http://www.w3.org/1999/04/Editing/, which discusses
using ETags to combat the problem of the lost updates.  It makes
mention that the authors believe that a bug in the design of ETags is
that they are not first class objects.  In this case, first class
objects means making them URIs.

I was wondering if anyone else has heard of something like this or has
seen it implemented anywhere?  I've never encountered ETags when they
were anything other than values in HTTP headers.

Thanks,
Griffin Caprio
http://www.griffincaprio.com
http://www.oreillynet.com/xml/blog/








------------------------------------

Yahoo! Groups Links





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11220<br>
Sender:"griffinc18" &lt;griffin@...&gt;<br>
Post Date/Time:2008-08-23 20:35:03<br>
Subject:Re: ETags as first class objects<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, "Sebastien Lambla" &lt;seb@...&gt; wrote:
&gt;
&gt; I've never seen ETags used with Uri values.
&gt; 
&gt; What would be the semantics of inspecting the ETag? Just because
they have a
&gt; Uri doesn't mean they can be dereferenced, and if they are, what
would they
&gt; return? A description of a specific version through http headers in
a HEAD
&gt; request or a content type describing lock and update semantics?

I've never seen it either, hence my question.   It seems if you have
ETags as URIs that could be dereferenced, then that means you're
keeping around old versions of your resources to return.  Or I suppose
you could 303 old ETags URIs to the latest one, but that requires some
sort of ETag history.


&gt; There's also mention of the possibility of the server doing a merge
on the
&gt; fly from a put. Isn't this in conflict of the work being put into
&gt; resurfacing PATCH?

I suppose, but remember, this document was written in 1999.  Has there
been much progress on PATCH, BTW?  I can't seem to find anything recent.

Thanks,
Griffin Caprio
312.371.3869
http://www.griffincaprio.com
http://blog.1530technologies.com
http://www.oreillynet.com/xml/blog/ 

 
&gt; -----Original Message-----
&gt; From: rest-discuss@yahoogroups.com
[mailto:rest-discuss@yahoogroups.com] On
&gt; Behalf Of griffinc18
&gt; Sent: 23 August 2008 05:50
&gt; To: rest-discuss@yahoogroups.com
&gt; Subject: [rest-discuss] ETags as first class objects
&gt; 
&gt; Hi all,
&gt; 
&gt; I was reading http://www.w3.org/1999/04/Editing/, which discusses
&gt; using ETags to combat the problem of the lost updates.  It makes
&gt; mention that the authors believe that a bug in the design of ETags is
&gt; that they are not first class objects.  In this case, first class
&gt; objects means making them URIs.
&gt; 
&gt; I was wondering if anyone else has heard of something like this or has
&gt; seen it implemented anywhere?  I've never encountered ETags when they
&gt; were anything other than values in HTTP headers.
&gt; 
&gt; Thanks,
&gt; Griffin Caprio
&gt; http://www.griffincaprio.com
&gt; http://www.oreillynet.com/xml/blog/
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; ------------------------------------
&gt; 
&gt; Yahoo! Groups Links
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11221<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-09-02 05:41:13<br>
Subject:Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>What do you call the concept of "classes" or "types" of resources in  
your RESTful designs? E.g. when you decide to turn each "customer"  
into its own identifiable resource - http://example.com/customers/1234  
- what does http://example.com/customers/{id} describe? Both "resource  
class" and "resource type" would work, but don't seem really convincing.

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11222<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-09-02 05:46:13<br>
Subject:Fwd: [rest-discuss] Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>I usually use "object type." It's not very accurate, but it seems to
get the point across w/o much confusion.

MikeA

On Tue, Sep 2, 2008 at 1:41 AM, Stefan Tilkov &lt;stefan.tilkov@...&gt; wrote:
&gt; What do you call the concept of "classes" or "types" of resources in
&gt; your RESTful designs? E.g. when you decide to turn each "customer"
&gt; into its own identifiable resource - http://example.com/customers/1234
&gt; - what does http://example.com/customers/{id} describe? Both "resource
&gt; class" and "resource type" would work, but don't seem really convincing.
&gt;
&gt; Stefan
&gt; --
&gt; Stefan Tilkov, http://www.innoq.com/blog/st/
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

-- 
mca
http://amundsen.com/blog/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11223<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2008-09-02 06:35:16<br>
Subject:Re: [rest-discuss] Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>Hi Stefan,

I think that the resources actually do not have a type (only an  
observable 'duck type' :-) and that what you refer to is actually the  
type of the objects that your REST facade maps into Web-space.

If clients need to know about certain collections of resources ('e.g.  
the customers') to access the REST facade, I think of these  
collections as specifications (defined as sets of properties). I first  
read about the term 'specification' in the book 'Domain Driven  
Design'[]1].

Jan

[1] http://domaindrivendesign.org/books/#DDD




On Sep 2, 2008, at 7:41 AM, Stefan Tilkov wrote:


&gt; What do you call the concept of "classes" or "types" of resources in
&gt; your RESTful designs? E.g. when you decide to turn each "customer"
&gt; into its own identifiable resource - http://example.com/customers/1234
&gt; - what does http://example.com/customers/{id} describe? Both "resource
&gt; class" and "resource type" would work, but don't seem really  
&gt; convincing.
&gt;
&gt; Stefan
&gt; --
&gt; Stefan Tilkov, http://www.innoq.com/blog/st/
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;


--
Jan Algermissen
INTAKI . http://www.intaki.com/






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11224<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2008-09-02 06:59:14<br>
Subject:Re: [rest-discuss] Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>On Sep 1, 2008, at 10:41 PM, Stefan Tilkov wrote:
&gt; What do you call the concept of "classes" or "types" of resources in
&gt; your RESTful designs? E.g. when you decide to turn each "customer"
&gt; into its own identifiable resource - http://example.com/customers/1234
&gt; - what does http://example.com/customers/{id} describe? Both "resource
&gt; class" and "resource type" would work, but don't seem really  
&gt; convincing.
&gt;

We call them resources.  If they had types, they would be strongly
coupled to whatever expected that type.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11225<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-09-02 08:54:03<br>
Subject:Re: [rest-discuss] Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>On 02.09.2008, at 09:26, Ralf Bommersbach wrote:

&gt;
&gt; Of course coupling between resource types is not as strong as  
&gt; between, say, java classes - because of the Uniform Interface -  
&gt; still I think it's important to distinguish between the two: How  
&gt; else do you want to design a RESTful application (a customer  
&gt; resource type surely will need another set of allowed methods /  
&gt; hypermedia links/forms / business logic then say, an article  
&gt; resource type...)?

It's exactly for this reason that I feel uncomfortable with "type" and  
"class" - they imply a static relationship between the resources and  
their constraints that I don't think should be mandatory.

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11226<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-09-02 09:04:38<br>
Subject:Re: [rest-discuss] Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>On 02.09.2008, at 08:59, Roy T. Fielding wrote:

&gt; On Sep 1, 2008, at 10:41 PM, Stefan Tilkov wrote:
&gt;&gt; What do you call the concept of "classes" or "types" of resources in
&gt;&gt; your RESTful designs? E.g. when you decide to turn each "customer"
&gt;&gt; into its own identifiable resource - http://example.com/customers/ 
&gt;&gt; 1234
&gt;&gt; - what does http://example.com/customers/{id} describe? Both  
&gt;&gt; "resource
&gt;&gt; class" and "resource type" would work, but don't seem really  
&gt;&gt; convincing.
&gt;&gt;
&gt;
&gt; We call them resources.  If they had types, they would be strongly
&gt; coupled to whatever expected that type.
&gt;
&gt; ....Roy

I don't want to suggest there's this kind of coupling (in fact I view  
the lack of it as a strength, and this is why I'm unhappy with  
"type"). What does the template identify? Resource, obviously, but  
also a "group of similarly identified resources"?

It's not really the URI template connection I'm concerned with, I just  
wonder whether there's a better term than "kind of ", as in "The  
first step in designing an application interface should be to identify  
the different kinds of resources you want to expose."

Thanks,
Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11227<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-09-02 09:07:12<br>
Subject:Re: [rest-discuss] Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>On 02.09.2008, at 08:35, Jan Algermissen wrote:

&gt; Hi Stefan,
&gt;
&gt; I think that the resources actually do not have a type (only an  
&gt; observable 'duck type' :-) and that what you refer to is actually  
&gt; the type of the objects that your REST facade maps into Web-space.
&gt;

No; it's not what I'm referring to - and it's exactly the risk of  
being misunderstood why I dislike "type" :-)

&gt; If clients need to know about certain collections of resources  
&gt; ('e.g. the customers') to access the REST facade, I think of these  
&gt; collections as specifications (defined as sets of properties). I  
&gt; first read about the term 'specification' in the book 'Domain Driven  
&gt; Design'[]1].

Possible, yes, even though "specification" to me means something that  
specifies something else - so I'm looking for that something else 

Thanks,
Stefan

&gt;
&gt;
&gt; Jan
&gt;
&gt; [1] http://domaindrivendesign.org/books/#DDD
&gt;
&gt;
&gt;
&gt;
&gt; On Sep 2, 2008, at 7:41 AM, Stefan Tilkov wrote:
&gt;
&gt;
&gt;&gt; What do you call the concept of "classes" or "types" of resources in
&gt;&gt; your RESTful designs? E.g. when you decide to turn each "customer"
&gt;&gt; into its own identifiable resource - http://example.com/customers/ 
&gt;&gt; 1234
&gt;&gt; - what does http://example.com/customers/{id} describe? Both  
&gt;&gt; "resource
&gt;&gt; class" and "resource type" would work, but don't seem really  
&gt;&gt; convincing.
&gt;&gt;
&gt;&gt; Stefan
&gt;&gt; --
&gt;&gt; Stefan Tilkov, http://www.innoq.com/blog/st/
&gt;&gt;
&gt;&gt; ------------------------------------
&gt;&gt;
&gt;&gt; Yahoo! Groups Links
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
&gt;
&gt; --
&gt; Jan Algermissen
&gt; INTAKI . http://www.intaki.com/
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11228<br>
Sender:"Alexander Johannesen" &lt;alexander.johannesen@...&gt;<br>
Post Date/Time:2008-09-02 09:07:21<br>
Subject:Re: [rest-discuss] Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>Hiya,

On Tue, Sep 2, 2008 at 07:41, Stefan Tilkov &lt;stefan.tilkov@...&gt; wrote:
&gt; What do you call the concept of "classes" or "types" of resources in
&gt; your RESTful designs? E.g. when you decide to turn each "customer"
&gt; into its own identifiable resource - http://example.com/customers/1234
&gt; - what does http://example.com/customers/{id} describe? Both "resource
&gt; class" and "resource type" would work, but don't seem really convincing.

As other have pointed out, they're just "resources", pretty much
typeless at the URI interface level. I'm keen to know why you ask?

Many years ago when I started getting into Topic Maps I learned that
all things can be a topic (as a conceptual entity within a Topic Map),
from the concrete to the abstract, to the existing to fantasy,
anything. In Topic Maps there was a distinct separation between Topics
and their many relationships with each other (Associations), so as I
developed Topic Maps systems I realised that I had created systems
that were decoupled from the interfaces, Topics and Associations
deserving their own entity definition. And all of this also applies to
REST and resources, and this is why I love REST too; semantics of
operation can stay minimal without the need for resources
(GET,PUT,DELETE,POST,OPTIONS,PATCH) with actions upon typeless things
(resources) where the state of the type is handled on the next
interaction layer (with responses).

Your example of http://example.com/customers/1234 is just a resource.
Its type can be _discovered_ but is typeless until you do so. And that
is just so cool and underappreciated, especially by the SOAP/POX/CRUD
gang. :)


Alex
-- 
---------------------------------------------------------------------------
 Project Wrangler, SOA, Information Alchemist, UX, RESTafarian, Topic Maps
------------------------------------------ http://shelter.nu/blog/ --------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11229<br>
Sender:Story Henry &lt;henry.story@...&gt;<br>
Post Date/Time:2008-09-02 09:28:22<br>
Subject:Re: [rest-discuss] Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>
On 2 Sep 2008, at 08:59, Roy T. Fielding wrote:

&gt; On Sep 1, 2008, at 10:41 PM, Stefan Tilkov wrote:
&gt;&gt; What do you call the concept of "classes" or "types" of resources in
&gt;&gt; your RESTful designs? E.g. when you decide to turn each "customer"
&gt;&gt; into its own identifiable resource - http://example.com/customers/ 
&gt;&gt; 1234
&gt;&gt; - what does http://example.com/customers/{id} describe? Both  
&gt;&gt; "resource
&gt;&gt; class" and "resource type" would work, but don't seem really
&gt;&gt; convincing.
&gt;&gt;
&gt;
&gt; We call them resources.  If they had types, they would be strongly
&gt; coupled to whatever expected that type.

They are resources. But resources can be types (classes). And types  
need not be strongly coupled.

That is what RDF [1] is all about btw.

Assuming you have a resource http://example.com/customers and you GET  
it, and it can return RDF in Turtle notation, that could say [2]:

@prefix foaf: &lt;http://xmlns.com/foaf/0.1/&gt; .

&lt;&gt; a foaf:Group;
    foaf:contains &lt;c1&gt;, &lt;c2&gt;, &lt;c3&gt; .

Ie. it says, this is resource of type foaf:Group, that contains the  
resources (described using relative URLs) &lt;c1&gt;, &lt;c2&gt; and &lt;c3&gt; .  
Because RDF is built on the open world assumption that list need not  
be complete btw.


[1] A good introduction is the JavaOne 2008 video
     http://developers.sun.com/learning/javaoneonline/sessions/2008/watch/TS-5555/index.html?cid=925527
     and the book "Semantic Web for the Working ontologist"
     Turtle syntax: http://www.dajobe.org/2004/01/turtle/

[2] see "The Self Describing Web":
     http://www.w3.org/2001/tag/doc/selfDescribingDocuments-2008-05-12.html



&gt; ....Roy
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11230<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-09-02 09:47:33<br>
Subject:Re: [rest-discuss] Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>On 02.09.2008, at 11:07, Alexander Johannesen wrote:

&gt; As other have pointed out, they're just "resources", pretty much
&gt; typeless at the URI interface level. I'm keen to know why you ask?

Fair question: I'm trying to describe the process of RESTful  
application (or interface) design. Maybe I should just leave it  
"decide which kinds of resources you want to expose", but I was  
wondering whether this "kind" thing merits its own term.

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11231<br>
Sender:"Alexander Johannesen" &lt;alexander.johannesen@...&gt;<br>
Post Date/Time:2008-09-02 11:22:34<br>
Subject:Re: [rest-discuss] Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>On Tue, Sep 2, 2008 at 11:47, Stefan Tilkov &lt;stefan.tilkov@...&gt; wrote:
&gt; I'm trying to describe the process of RESTful application (or
&gt; interface) design. Maybe I should just leave it "decide which kinds of
&gt; resources you want to expose", but I was wondering whether this "kind" thing
&gt; merits its own term.

Good question. I think the answer is 'yes', but as such not defined
within the REST scope itself.

I tend to favor DDD (Domain-driven Design) these days, so every
primary entity and their immediate entities have a guaranteed resource
exposure, whether I have an actual pre-defined use for them or not. (I
know this sounds strange and even bad practice to a lot of people, but
it has saved the day in too many projects for me to ignore their
usefulness :) After that there's some heavy thinking about "what kind
of stuff you want to expose" which normally ends up in a few good
workshops. Not sure that "kind" can even be typified, but I guess
there's that useful portmanteau of "things" and "actions" that can be
defined a bit (and this resonates well with the minimal REST
interface).


Alex
-- 
---------------------------------------------------------------------------
 Project Wrangler, SOA, Information Alchemist, UX, RESTafarian, Topic Maps
------------------------------------------ http://shelter.nu/blog/ --------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11232<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-09-02 11:45:57<br>
Subject:Re: [rest-discuss] Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>Hi

The package model[1] is useful to think about.

REST is an interface / FACADE model and the templates form a package
and you drill deeper and deeper by opening up the packages.

Its better than "kind" imho, but what I don't like about this is that
it re enforces the notion that the URI template thing ( or pretty
URLs) is very important and should match directly to something in your
actual system.


Thanks
Devdatta





[1] http://www.agilemodeling.com/style/packageDiagram.htm

2008/9/2 Alexander Johannesen &lt;alexander.johannesen@...&gt;:
&gt; On Tue, Sep 2, 2008 at 11:47, Stefan Tilkov &lt;stefan.tilkov@...&gt; wrote:
&gt;&gt; I'm trying to describe the process of RESTful application (or
&gt;&gt; interface) design. Maybe I should just leave it "decide which kinds of
&gt;&gt; resources you want to expose", but I was wondering whether this "kind"
&gt;&gt; thing
&gt;&gt; merits its own term.
&gt;
&gt; Good question. I think the answer is 'yes', but as such not defined
&gt; within the REST scope itself.
&gt;
&gt; I tend to favor DDD (Domain-driven Design) these days, so every
&gt; primary entity and their immediate entities have a guaranteed resource
&gt; exposure, whether I have an actual pre-defined use for them or not. (I
&gt; know this sounds strange and even bad practice to a lot of people, but
&gt; it has saved the day in too many projects for me to ignore their
&gt; usefulness :) After that there's some heavy thinking about "what kind
&gt; of stuff you want to expose" which normally ends up in a few good
&gt; workshops. Not sure that "kind" can even be typified, but I guess
&gt; there's that useful portmanteau of "things" and "actions" that can be
&gt; defined a bit (and this resonates well with the minimal REST
&gt; interface).
&gt;
&gt; Alex
&gt; --
&gt; ----------------------------------------------------------
&gt; Project Wrangler, SOA, Information Alchemist, UX, RESTafarian, Topic Maps
&gt; ------------------------------------------ http://shelter.nu/blog/ --------
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11233<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2008-09-02 13:50:20<br>
Subject:Re: [rest-discuss] Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>
On Sep 2, 2008, at 11:47 AM, Stefan Tilkov wrote:

&gt; On 02.09.2008, at 11:07, Alexander Johannesen wrote:
&gt;
&gt;&gt; As other have pointed out, they're just "resources", pretty much
&gt;&gt; typeless at the URI interface level. I'm keen to know why you ask?
&gt;
&gt; Fair question: I'm trying to describe the process of RESTful
&gt; application (or interface) design. Maybe I should just leave it
&gt; "decide which kinds of resources you want to expose", but I was
&gt; wondering whether this "kind" thing merits its own term.

Isn't the whole point that it does not make sense to say 'kinds of  
resources'? Talking about kinds of resources is misleading because  
grouping the resources before dereferencing them is infromation that  
the user of the facade shoud not have and should not need.

(OTH, the kinds is the first thing the usual developers ask for :-)

Jan


&gt;
&gt;
&gt; Stefan
&gt; --
&gt; Stefan Tilkov, http://www.innoq.com/blog/st/
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;


--
Jan Algermissen
INTAKI . http://www.intaki.com/






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11234<br>
Sender:Story Henry &lt;henry.story@...&gt;<br>
Post Date/Time:2008-09-02 14:07:17<br>
Subject:Re: [rest-discuss] Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>
On 2 Sep 2008, at 13:45, dev wrote:

&gt; Hi
&gt;
&gt; The package model[1] is useful to think about.
&gt;
&gt; REST is an interface / FACADE model and the templates form a package
&gt; and you drill deeper and deeper by opening up the packages.

Not at all. This is perhaps the way you would like the world to be.  
But REST is just about resources and representations. You may think  
something ending in a slash/ refers to a directory, but it could also  
be a concept, a building, a person, an ontology, or any other number  
of things...


&gt; Its better than "kind" imho, but what I don't like about this is that
&gt; it re enforces the notion that the URI template thing ( or pretty
&gt; URLs) is very important and should match directly to something in your
&gt; actual system.

Pretty URLs are very useful for maintaining a site. But what is pretty  
to you may not be to someone else, and you will never be able to  
control anything other than your own site. By all means do try to do  
things in an intuitive way, but don't confuse that with the much more  
general nature of REST.

Henry

&gt;
&gt; Thanks
&gt; Devdatta
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; [1] http://www.agilemodeling.com/style/packageDiagram.htm
&gt;
&gt; 2008/9/2 Alexander Johannesen &lt;alexander.johannesen@...&gt;:
&gt;&gt; On Tue, Sep 2, 2008 at 11:47, Stefan Tilkov  
&gt;&gt; &lt;stefan.tilkov@...&gt; wrote:
&gt;&gt;&gt; I'm trying to describe the process of RESTful application (or
&gt;&gt;&gt; interface) design. Maybe I should just leave it "decide which  
&gt;&gt;&gt; kinds of
&gt;&gt;&gt; resources you want to expose", but I was wondering whether this  
&gt;&gt;&gt; "kind"
&gt;&gt;&gt; thing
&gt;&gt;&gt; merits its own term.
&gt;&gt;
&gt;&gt; Good question. I think the answer is 'yes', but as such not defined
&gt;&gt; within the REST scope itself.
&gt;&gt;
&gt;&gt; I tend to favor DDD (Domain-driven Design) these days, so every
&gt;&gt; primary entity and their immediate entities have a guaranteed  
&gt;&gt; resource
&gt;&gt; exposure, whether I have an actual pre-defined use for them or not.  
&gt;&gt; (I
&gt;&gt; know this sounds strange and even bad practice to a lot of people,  
&gt;&gt; but
&gt;&gt; it has saved the day in too many projects for me to ignore their
&gt;&gt; usefulness :) After that there's some heavy thinking about "what kind
&gt;&gt; of stuff you want to expose" which normally ends up in a few good
&gt;&gt; workshops. Not sure that "kind" can even be typified, but I guess
&gt;&gt; there's that useful portmanteau of "things" and "actions" that can be
&gt;&gt; defined a bit (and this resonates well with the minimal REST
&gt;&gt; interface).
&gt;&gt;
&gt;&gt; Alex
&gt;&gt; --
&gt;&gt; ----------------------------------------------------------
&gt;&gt; Project Wrangler, SOA, Information Alchemist, UX, RESTafarian,  
&gt;&gt; Topic Maps
&gt;&gt; ------------------------------------------ http://shelter.nu/blog/  
&gt;&gt; --------
&gt;&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11235<br>
Sender:Ralf Bommersbach &lt;ralf.bommersbach@...&gt;<br>
Post Date/Time:2008-09-02 14:05:00<br>
Subject:Re: [rest-discuss] Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>IMHO
It's not about the user of the facade. Yes the user just discovers at 
runtime the representation-types and possible next application states 
and always uses the same uniform interface and so on etc pp. For him 
_everything_ is just a resource (representation).

It's a different thing when we talk about the design of the system. The 
developer view. Clearly in any RESTful application you _will_ have 
different types of resources, no matter how you call it: A resource of 
type "article" _will_ have different underlying business logic / 
properties / behaviors etc than for example a resource of type 
"customer". These different resource types must be implemented in _some_ 
way. What representations does it serve? What methods does this resource 
type allow? With which adressing-schema  (URI-templates) is it adressable?
For example you might use a java-class ArticleResource to implement a 
resource of type article. At runtime these class can manifest itself in 
many different resource instances. Anyways - however you do it, you have 
to have some notion of resource types. I don't see why not just call it 
"resource types"?

Best regards
Ralf

Jan Algermissen schrieb:
&gt; On Sep 2, 2008, at 11:47 AM, Stefan Tilkov wrote:
&gt; 
&gt;&gt; On 02.09.2008, at 11:07, Alexander Johannesen wrote:
&gt;&gt;
&gt;&gt;&gt; As other have pointed out, they're just "resources", pretty much
&gt;&gt;&gt; typeless at the URI interface level. I'm keen to know why you ask?
&gt;&gt; Fair question: I'm trying to describe the process of RESTful
&gt;&gt; application (or interface) design. Maybe I should just leave it
&gt;&gt; "decide which kinds of resources you want to expose", but I was
&gt;&gt; wondering whether this "kind" thing merits its own term.
&gt; 
&gt; Isn't the whole point that it does not make sense to say 'kinds of  
&gt; resources'? Talking about kinds of resources is misleading because  
&gt; grouping the resources before dereferencing them is infromation that  
&gt; the user of the facade shoud not have and should not need.
&gt; 
&gt; (OTH, the kinds is the first thing the usual developers ask for :-)
&gt; 
&gt; Jan
&gt; 
&gt; 
&gt;&gt;
&gt;&gt; Stefan
&gt;&gt; --
&gt;&gt; Stefan Tilkov, http://www.innoq.com/blog/st/
&gt;&gt;
&gt;&gt; ------------------------------------
&gt;&gt;
&gt;&gt; Yahoo! Groups Links
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt; 
&gt; 
&gt; --
&gt; Jan Algermissen
&gt; INTAKI . http://www.intaki.com/
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11236<br>
Sender:Ralf Bommersbach &lt;ralf.bommersbach@...&gt;<br>
Post Date/Time:2008-09-02 07:50:35<br>
Subject:[Fwd: Re: [rest-discuss] Terminology: "Resource Types"?]<br>
Message:<br><br>
<pre>

-------- Original-Nachricht --------
Betreff: Re: [rest-discuss] Terminology: "Resource Types"?
Datum: Tue, 02 Sep 2008 09:26:06 +0200
Von: Ralf Bommersbach &lt;ralf.bommersbach@...&gt;
An: Stefan Tilkov &lt;stefan.tilkov@...&gt;
Referenzen: &lt;77E9BA5A-0BFB-42FB-8643-4B38DEE7960D@...&gt;

Well, I for myself use the term "resource type". I find it perfectly
fitting. Like classes, "resource types" are compile-time constructs,
describing certain common behaviours and defining
characteristics/attributes. Resources themselves are like objects,
runtime instances of resources types with concrete values(e.g. through
the use of URI-templates like in your customer-example).

Of course coupling between resource types is not as strong as between,
say, java classes - because of the Uniform Interface - still I think
it's important to distinguish between the two: How else do you want to
design a RESTful application (a customer resource type surely will need
another set of allowed methods / hypermedia links/forms / business logic
then say, an article resource type...)?

just my 2 cents
Ralf

Stefan Tilkov schrieb:
&gt; What do you call the concept of "classes" or "types" of resources in  
&gt; your RESTful designs? E.g. when you decide to turn each "customer"  
&gt; into its own identifiable resource - http://example.com/customers/1234  
&gt; - what does http://example.com/customers/{id} describe? Both "resource  
&gt; class" and "resource type" would work, but don't seem really convincing.
&gt; 
&gt; Stefan
&gt; --
&gt; Stefan Tilkov, http://www.innoq.com/blog/st/
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11237<br>
Sender:"Bertrand Delacretaz" &lt;bdelacretaz@...&gt;<br>
Post Date/Time:2008-09-02 06:47:01<br>
Subject:Re: [rest-discuss] Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>Hi,

On Tue, Sep 2, 2008 at 7:41 AM, Stefan Tilkov &lt;stefan.tilkov@...&gt; wrote:
&gt; What do you call the concept of "classes" or "types" of resources in
&gt; your RESTful designs? ...

Apache Sling [1] uses "resource type" (and even "supertype") and it
seems to work fine for our users.

-Bertrand

[1] http://incubator.apache.org/sling

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11238<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2008-09-02 15:08:14<br>
Subject:Re: [rest-discuss] Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>On Sep 2, 2008, at 7:05 AM, Ralf Bommersbach wrote:
&gt; IMHO
&gt; It's not about the user of the facade. Yes the user just discovers at
&gt; runtime the representation-types and possible next application states
&gt; and always uses the same uniform interface and so on etc pp. For him
&gt; _everything_ is just a resource (representation).
&gt;

Yes.

&gt; It's a different thing when we talk about the design of the system.  
&gt; The
&gt; developer view. Clearly in any RESTful application you _will_ have
&gt; different types of resources, no matter how you call it: A resource of
&gt; type "article" _will_ have different underlying business logic /
&gt; properties / behaviors etc than for example a resource of type
&gt; "customer". These different resource types must be implemented in  
&gt; _some_
&gt; way. What representations does it serve? What methods does this  
&gt; resource
&gt; type allow? With which adressing-schema (URI-templates) is it  
&gt; adressable?
&gt; For example you might use a java-class ArticleResource to implement a
&gt; resource of type article. At runtime these class can manifest  
&gt; itself in
&gt; many different resource instances. Anyways - however you do it, you  
&gt; have
&gt; to have some notion of resource types. I don't see why not just  
&gt; call it
&gt; "resource types"?
&gt;

Because those implementations behind the interface are not the same
as the resources exposed through the interface.  Even in the simple
case, where an http URI template maps to a filesystem hierarchy, we
do not say that the individual files are the resources.  (They are
resources of their own accord, but they are not the resources exposed
via HTTP.)  They are just storage mechanisms that supply representations
when mapped from a URI.

I think I misunderstood Stefan's original question, though.
URI templates describe a naming pattern, not a resource type
or even set of resources.  Templates define a set of names.
And, yes, RDF (or anything that defines link relations) could
describe an assertion that some resource has some defined type, and
might even be extended some day to support templates in place
of URIs, but it is wrong to think of RDF descriptions as being
definitive of resources.  They are usually wrong in the long run.

....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11239<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2008-09-02 15:54:28<br>
Subject:Re: [rest-discuss] Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>On Tue, Sep 2, 2008 at 10:08 AM, Roy T. Fielding &lt;fielding@...&gt; wrote:
&gt; On Sep 2, 2008, at 7:05 AM, Ralf Bommersbach wrote:
&gt;&gt; IMHO
&gt;&gt; It's not about the user of the facade. Yes the user just discovers at
&gt;&gt; runtime the representation-types and possible next application states
&gt;&gt; and always uses the same uniform interface and so on etc pp. For him
&gt;&gt; _everything_ is just a resource (representation).
&gt;&gt;
&gt;
&gt; Yes.

So maybe the relevant concept from the client's POV is representation
type?  E.g. media type?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11240<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-09-02 16:30:34<br>
Subject:Re: [rest-discuss] Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>Hi

That was exactly my point! :)

I don't like what I said for this reason .... that "packages" makes
the developer think that pretty / intuitive URLs are needed for REST
(they are not, it just looks sensible ) ,

but despite the shortcomings , I think that for someone who comes from
a UML background , this could help .


-devdatta

2008/9/2 Story Henry &lt;henry.story@...&gt;:
&gt;
&gt; On 2 Sep 2008, at 13:45, dev wrote:
&gt;
&gt;&gt; Hi
&gt;&gt;
&gt;&gt; The package model[1] is useful to think about.
&gt;&gt;
&gt;&gt; REST is an interface / FACADE model and the templates form a package
&gt;&gt; and you drill deeper and deeper by opening up the packages.
&gt;
&gt; Not at all. This is perhaps the way you would like the world to be. But REST
&gt; is just about resources and representations. You may think something ending
&gt; in a slash/ refers to a directory, but it could also be a concept, a
&gt; building, a person, an ontology, or any other number of things...
&gt;
&gt;
&gt;&gt; Its better than "kind" imho, but what I don't like about this is that
&gt;&gt; it re enforces the notion that the URI template thing ( or pretty
&gt;&gt; URLs) is very important and should match directly to something in your
&gt;&gt; actual system.
&gt;
&gt; Pretty URLs are very useful for maintaining a site. But what is pretty to
&gt; you may not be to someone else, and you will never be able to control
&gt; anything other than your own site. By all means do try to do things in an
&gt; intuitive way, but don't confuse that with the much more general nature of
&gt; REST.
&gt;
&gt; Henry
&gt;
&gt;&gt;
&gt;&gt; Thanks
&gt;&gt; Devdatta
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; [1] http://www.agilemodeling.com/style/packageDiagram.htm
&gt;&gt;
&gt;&gt; 2008/9/2 Alexander Johannesen &lt;alexander.johannesen@...&gt;:
&gt;&gt;&gt;
&gt;&gt;&gt; On Tue, Sep 2, 2008 at 11:47, Stefan Tilkov &lt;stefan.tilkov@...&gt;
&gt;&gt;&gt; wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; I'm trying to describe the process of RESTful application (or
&gt;&gt;&gt;&gt; interface) design. Maybe I should just leave it "decide which kinds of
&gt;&gt;&gt;&gt; resources you want to expose", but I was wondering whether this "kind"
&gt;&gt;&gt;&gt; thing
&gt;&gt;&gt;&gt; merits its own term.
&gt;&gt;&gt;
&gt;&gt;&gt; Good question. I think the answer is 'yes', but as such not defined
&gt;&gt;&gt; within the REST scope itself.
&gt;&gt;&gt;
&gt;&gt;&gt; I tend to favor DDD (Domain-driven Design) these days, so every
&gt;&gt;&gt; primary entity and their immediate entities have a guaranteed resource
&gt;&gt;&gt; exposure, whether I have an actual pre-defined use for them or not. (I
&gt;&gt;&gt; know this sounds strange and even bad practice to a lot of people, but
&gt;&gt;&gt; it has saved the day in too many projects for me to ignore their
&gt;&gt;&gt; usefulness :) After that there's some heavy thinking about "what kind
&gt;&gt;&gt; of stuff you want to expose" which normally ends up in a few good
&gt;&gt;&gt; workshops. Not sure that "kind" can even be typified, but I guess
&gt;&gt;&gt; there's that useful portmanteau of "things" and "actions" that can be
&gt;&gt;&gt; defined a bit (and this resonates well with the minimal REST
&gt;&gt;&gt; interface).
&gt;&gt;&gt;
&gt;&gt;&gt; Alex
&gt;&gt;&gt; --
&gt;&gt;&gt; ----------------------------------------------------------
&gt;&gt;&gt; Project Wrangler, SOA, Information Alchemist, UX, RESTafarian, Topic Maps
&gt;&gt;&gt; ------------------------------------------ http://shelter.nu/blog/
&gt;&gt;&gt; --------
&gt;&gt;&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11241<br>
Sender:Story Henry &lt;henry.story@...&gt;<br>
Post Date/Time:2008-09-02 16:58:46<br>
Subject:Re: [rest-discuss] Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>A response to Bob and to Roy, concatenated here. (probably bad practice)

On 2 Sep 2008, at 17:54, Bob Haugen wrote:

&gt; On Tue, Sep 2, 2008 at 10:08 AM, Roy T. Fielding &lt;fielding@...&gt;  
&gt; wrote:
&gt;&gt; On Sep 2, 2008, at 7:05 AM, Ralf Bommersbach wrote:
&gt;&gt;&gt; IMHO
&gt;&gt;&gt; It's not about the user of the facade. Yes the user just discovers  
&gt;&gt;&gt; at
&gt;&gt;&gt; runtime the representation-types and possible next application  
&gt;&gt;&gt; states
&gt;&gt;&gt; and always uses the same uniform interface and so on etc pp. For him
&gt;&gt;&gt; _everything_ is just a resource (representation).
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; Yes.
&gt;
&gt; So maybe the relevant concept from the client's POV is representation
&gt; type?  E.g. media type?

No that is yet something else. (though also important)
A resource can return representations in any number of formats. So a  
resource that foaf:Group could return its results in any of the  
equivalent formats: application/rdf+xml, text/n3, ... Or as someone is  
bound to recreate a json serialisation for all of this in json, or yet  
another xml format.

Usually these formats by themselves (if they are general enough of  
course) do not say anything specific about the resource.

On 2 Sep 2008, at 17:08, Roy T. Fielding wrote:
&gt; And, yes, RDF (or anything that defines link relations) could
&gt; describe an assertion that some resource has some defined type, and
&gt; might even be extended some day to support templates in place
&gt; of URIs,

The template work by the way is going on in the POWDER working group:

   http://www.slideshare.net/fabien_gandon/powder-in-a-nutshell-presentation/
   http://www.w3.org/blog/SW/2008/08/19/five_powder_documents_published_includin

&gt; but it is wrong to think of RDF descriptions as being
&gt; definitive of resources.  They are usually wrong in the long run.

Well just as a web page can have links that point to the wrong places,  
or point to resources that don't return representations. What you  
think a resource is will depend very much on who you trust. Usually it  
helps when the resources says something about itself (the self  
describing web [1] I mentioned previously ).

Henry

[1] http://www.w3.org/2001/tag/doc/selfDescribingDocuments-2008-05-12.html


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11242<br>
Sender:"Paul Prescod" &lt;paul@...&gt;<br>
Post Date/Time:2008-09-02 17:20:53<br>
Subject:Re: [rest-discuss] Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>On Tue, Sep 2, 2008 at 6:50 AM, Jan Algermissen &lt;algermissen1971@...&gt; wrote:
&gt;
&gt; On Sep 2, 2008, at 11:47 AM, Stefan Tilkov wrote:
&gt;
&gt;&gt; On 02.09.2008, at 11:07, Alexander Johannesen wrote:
&gt;&gt;
&gt;&gt;&gt; As other have pointed out, they're just "resources", pretty much
&gt;&gt;&gt; typeless at the URI interface level. I'm keen to know why you ask?
&gt;&gt;
&gt;&gt; Fair question: I'm trying to describe the process of RESTful
&gt;&gt; application (or interface) design. Maybe I should just leave it
&gt;&gt; "decide which kinds of resources you want to expose", but I was
&gt;&gt; wondering whether this "kind" thing merits its own term.
&gt;
&gt; Isn't the whole point that it does not make sense to say 'kinds of
&gt; resources'? Talking about kinds of resources is misleading because
&gt; grouping the resources before dereferencing them is infromation that
&gt; the user of the facade shoud not have and should not need.

I'm curious what the assembled minds think about quotes like this from AtomPub:

"A Resource whose IRI is listed in a Collection is called a Member
Resource. The protocol defines two kinds of Member Resources -- Entry
Resources and Media Resources. Entry Resources are represented as Atom
Entry Documents [RFC4287]. Media Resources can have representations in
any media type. A Media Resource is described within a Collection
using an Entry called a Media Link Entry."

"The Atom Protocol defines Collection Resources for managing and
organizing both kinds of Member Resource. A Collection is represented
by an Atom Feed Document. A Collection Feed's Entries contain the IRIs
of, and metadata about, the Collection's Member Resources. "

"The Atom Protocol only covers the creating, editing, and deleting of
Entry and Media Resources."

"To list the Members of a Collection, the client sends a GET request
to the URI of a Collection."

As another example, isn't an OpenSearch search engine also a resource type?

I feel I'm misunderstanding something when people say that resources
do not and should not have types.

 Paul Prescod

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11243<br>
Sender:"Alexander Johannesen" &lt;alexander.johannesen@...&gt;<br>
Post Date/Time:2008-09-02 17:44:03<br>
Subject:Re: [rest-discuss] Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>On Tue, Sep 2, 2008 at 19:20, Paul Prescod &lt;paul@...&gt; wrote:
&gt; I'm curious what the assembled minds think about quotes like this from AtomPub:

I've fought a "battle" on the AtomPub list before about these issues
(I think member resources is a terrible name), but I think consensus
there is that everything is a thing of a certain type (in which you
put more specifically typed resources ... I guess they're called
members member resources? :), especially upfront where there's a
standard which can say so.

&gt; I feel I'm misunderstanding something when people say that resources
&gt; do not and should not have types.

Everything has "type", of course, but the question is when you know
what that type is and how defined it is. If you just GET an URI and
receive text/html back, you've got a text document of type "html"
back, so there's always type there, but it doesn't tell me if it's
about travel or geekdom. If I GET on an URI and get
text/application+xml, I get a very basic text document of type "xml".
What people really would like is to GET text/application+xml with some
extra type identifier, as that generic XML can contain anything. Of
course, that simply means they either don't get REST, or they are too
lazy to make proper content-types. (You could also trust the server
that the generic XML contains the content-type you asked for, but that
would be a bit suicidal ...)

Then there's the discussion of what the word "type" really means, even
in information science. I suspect most is of a somewhat taxonomatic
prescription, IMHO leading to all sorts of weak modeling, but that's a
different thread (and mailing-list) :)


Alex
-- 
---------------------------------------------------------------------------
 Project Wrangler, SOA, Information Alchemist, UX, RESTafarian, Topic Maps
------------------------------------------ http://shelter.nu/blog/ --------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11244<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2008-09-02 18:08:06<br>
Subject:Re: [rest-discuss] Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>Response below.

On Tue, Sep 2, 2008 at 11:58 AM, Story Henry &lt;henry.story@...&gt; wrote:
&gt; A response to Bob and to Roy, concatenated here. (probably bad practice)
&gt;
&gt; On 2 Sep 2008, at 17:54, Bob Haugen wrote:
&gt;
&gt;&gt; On Tue, Sep 2, 2008 at 10:08 AM, Roy T. Fielding &lt;fielding@...&gt;
&gt;&gt; wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; On Sep 2, 2008, at 7:05 AM, Ralf Bommersbach wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; IMHO
&gt;&gt;&gt;&gt; It's not about the user of the facade. Yes the user just discovers at
&gt;&gt;&gt;&gt; runtime the representation-types and possible next application states
&gt;&gt;&gt;&gt; and always uses the same uniform interface and so on etc pp. For him
&gt;&gt;&gt;&gt; _everything_ is just a resource (representation).
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Yes.
&gt;&gt;
&gt;&gt; So maybe the relevant concept from the client's POV is representation
&gt;&gt; type?  E.g. media type?
&gt;
&gt; No that is yet something else. (though also important)
&gt; A resource can return representations in any number of formats. So a
&gt; resource that foaf:Group could return its results in any of the equivalent
&gt; formats: application/rdf+xml, text/n3, ... Or as someone is bound to
&gt; recreate a json serialisation for all of this in json, or yet another xml
&gt; format.

I was using media types as an example, and I was thinking of types
like application/EDIFACT, which could then go on to tell you that this
was a purchase order etc.

But my point was that representations had types, but not resources,
whose type remains unknown from an external viewpoint.

A microformat would make the same point.

(Altho I grant that you could assert something about the resource from
the outside, as long as you did not put too much money on it...)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11245<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-09-03 06:15:59<br>
Subject:Re: [rest-discuss] Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>On Tue, Sep 2, 2008 at 10:47 AM, Stefan Tilkov &lt;stefan.tilkov@...&gt; wrote:
&gt; On 02.09.2008, at 11:07, Alexander Johannesen wrote:
&gt;
&gt;&gt; As other have pointed out, they're just "resources", pretty much
&gt;&gt; typeless at the URI interface level. I'm keen to know why you ask?
&gt;
&gt; Fair question: I'm trying to describe the process of RESTful
&gt; application (or interface) design. Maybe I should just leave it
&gt; "decide which kinds of resources you want to expose", but I was
&gt; wondering whether this "kind" thing merits its own term.
&gt;
&gt; Stefan

I'm with Alex, Roy and Henry on this. For me, the usage of terminology
such as "resource types" or "kind of resources" is misleading.

They are just resources on a graph.

Instead, simply pose the questions: "Which resources do you want to be
addressable?" and "How do you want to represent addressable
resources?"

Alan Dean

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11246<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-09-03 09:20:53<br>
Subject:RE: [rest-discuss] Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>&gt; I'm with Alex, Roy and Henry on this. For me, the usage of terminology
&gt; such as "resource types" or "kind of resources" is misleading.

...from the client perspective. How you map urls to things on a server when you build those urls need to match the type/instance topology, where a resource is Customer and the dereferencing of such resource is the act of knowing about, or creating on the fly, the representation that will be sent to the client.

In OpenRasta I map types to resources with a declaration saying HasTheUri(/customer/{id}).ForResourcesOfType&lt;Customer&gt;().HandledBy&lt;CustomerHandler&gt;()

Are you suggesting that I shouldn't approach the problem like this on the server?

Seb


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11247<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-09-03 14:14:52<br>
Subject:Re: [rest-discuss] Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>On 03.09.2008, at 08:15, Alan Dean wrote:

&gt; I'm with Alex, Roy and Henry on this. For me, the usage of terminology
&gt; such as "resource types" or "kind of resources" is misleading.
&gt;
&gt; They are just resources on a graph.
&gt;
&gt; Instead, simply pose the questions: "Which resources do you want to be
&gt; addressable?" and "How do you want to represent addressable
&gt; resources?"

So let's say we design a RESTful interface to a discussion group  
implementation. There are members, postings, threads,  in my world  
view, these map to different "collection resources" and different  
categories of "individual resources" (I'm aware this is not any kind  
of official REST terminology). Both "collection" and "individual"  
resources are resources, in a sub-typing kind of way. One _kind_ or  
_category_ of individual resource I might have is "posting" - because  
at least initially, all of the 10,000 postings in the discussion group  
behave the same way, it makes sense to give this concept a name.

The thing identified by "/postings" is a (collection) resource. The  
thing identified by "/postings/1234" is a resource.

But both "a post" and "a member" and "a thread" are ... what?

I agree that "type" is not a good choice, since it conveys (some)  
wrong aspects. "Specifications" sounds a little too static for my  
taste, too. Maybe I should go with "concept" (whether or not one gives  
it a URI, too, semantic web-style). At least it's not associated with  
static typing ...

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11248<br>
Sender:"Alexander Johannesen" &lt;alexander.johannesen@...&gt;<br>
Post Date/Time:2008-09-03 14:24:44<br>
Subject:Re: [rest-discuss] Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>On Wed, Sep 3, 2008 at 16:14, Stefan Tilkov &lt;stefan.tilkov@...&gt; wrote:
&gt; But both "a post" and "a member" and "a thread" are ... what?

I tend to call these "entities", avoiding the bloated "objects" and
the RESTful clash with "resources". I have ;

 - Containers of entities
 - Entities

An entity might be an object of a given class, but as far as talking
about stuff, then entities works fine, or, if you wanna go cool, try
"subjects". :)

&gt; Maybe I should go with "concept" (whether or not one gives it a URI, too,
&gt; semantic web-style).

I think "concepts" are somewhat larger than the things you're
referring to, though. Conceptual objects or conceptual resources might
work, but again, I'm leaning towards more atomic expressions than mean
nothing. :)


Alex
-- 
---------------------------------------------------------------------------
 Project Wrangler, SOA, Information Alchemist, UX, RESTafarian, Topic Maps
------------------------------------------ http://shelter.nu/blog/ --------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11249<br>
Sender:Story Henry &lt;henry.story@...&gt;<br>
Post Date/Time:2008-09-03 15:56:30<br>
Subject:Re: [rest-discuss] Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>
Home page: http://bblfish.net/

On 3 Sep 2008, at 16:14, Stefan Tilkov wrote:

&gt; On 03.09.2008, at 08:15, Alan Dean wrote:
&gt;
&gt;&gt; I'm with Alex, Roy and Henry on this. For me, the usage of  
&gt;&gt; terminology
&gt;&gt; such as "resource types" or "kind of resources" is misleading.
&gt;&gt;
&gt;&gt; They are just resources on a graph.
&gt;&gt;
&gt;&gt; Instead, simply pose the questions: "Which resources do you want to  
&gt;&gt; be
&gt;&gt; addressable?" and "How do you want to represent addressable
&gt;&gt; resources?"
&gt;
&gt; So let's say we design a RESTful interface to a discussion group  
&gt; implementation. There are members, postings, threads,  in my world  
&gt; view, these map to different "collection resources" and different  
&gt; categories of "individual resources" (I'm aware this is not any kind  
&gt; of official REST terminology). Both "collection" and "individual"  
&gt; resources are resources, in a sub-typing kind of way. One _kind_ or  
&gt; _category_ of individual resource I might have is "posting" -  
&gt; because at least initially, all of the 10,000 postings in the  
&gt; discussion group behave the same way, it makes sense to give this  
&gt; concept a name.
&gt;
&gt; The thing identified by "/postings" is a (collection) resource. The  
&gt; thing identified by "/postings/1234" is a resource.
&gt;
&gt; But both "a post" and "a member" and "a thread" are ... what?

from what you say:

/postings refer to resources that are a collections of posts (an atom  
Feed perhaps?)
/postings/1234 refers to a resource that is an individual post


Its just that its not by looking at the names that you can deduce  
that. You deduce that by

1. believing resources that say something by pointing to the thing
2. getting a representation from the thing itself and believing it

Henryu

&gt; I agree that "type" is not a good choice,

Use RDF then you don't get in a muddle about which words to use. Here  
in N3 with a mathematical theory to back you, you can say:

@prefix awol: &lt;http://bblfish.net/work/atom-owl/2006-06-06/#&gt; .

&lt;http://yourdomain.com/postings/&gt; a awol:Feed .
&lt;http://yourdomain.com/postings/1234&gt; a awol:Entry .



&gt; since it conveys (some) wrong aspects. "Specifications" sounds a  
&gt; little too static for my taste, too. Maybe I should go with  
&gt; "concept" (whether or not one gives it a URI, too, semantic web- 
&gt; style). At least it's not associated with static typing ...
&gt;
&gt; Stefan
&gt; --
&gt; Stefan Tilkov, http://www.innoq.com/blog/st/
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11250<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-09-03 18:43:08<br>
Subject:Re: [rest-discuss] Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>On 03.09.2008, at 17:56, Story Henry wrote:

&gt; Use RDF then you don't get in a muddle about which words to use. Here
&gt; in N3 with a mathematical theory to back you, you can say:
&gt;
&gt; @prefix awol: &lt;http://bblfish.net/work/atom-owl/2006-06-06/#&gt; .
&gt;
&gt; &lt;http://yourdomain.com/postings/&gt; a awol:Feed .
&gt; &lt;http://yourdomain.com/postings/1234&gt; a awol:Entry .

But awol:Feed and awol:Entry "are" owl:Class, right?
If so, it appears that your answer to my question would be "class" (I  
am aware that this means something different than a type). Right?

Thanks,
Stefan</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11251<br>
Sender:Story Henry &lt;henry.story@...&gt;<br>
Post Date/Time:2008-09-03 19:21:39<br>
Subject:Re: [rest-discuss] Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>
On 3 Sep 2008, at 20:43, Stefan Tilkov wrote:

&gt; On 03.09.2008, at 17:56, Story Henry wrote:
&gt;
&gt;&gt; Use RDF then you don't get in a muddle about which words to use. Here
&gt;&gt; in N3 with a mathematical theory to back you, you can say:
&gt;&gt;
&gt;&gt; @prefix awol: &lt;http://bblfish.net/work/atom-owl/2006-06-06/#&gt; .
&gt;&gt;
&gt;&gt; &lt;http://yourdomain.com/postings/&gt; a awol:Feed .
&gt;&gt; &lt;http://yourdomain.com/postings/1234&gt; a awol:Entry .
&gt;
&gt; But awol:Feed and awol:Entry "are" owl:Class, right?

yes, both awol:Feed and awol:Entry are defined as classes.


@prefix awol: &lt;http://bblfish.net/work/atom-owl/2006-06-06/#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;.

      awol:Entry  rdf:type owl:Class;
          rdfs:label "Entry Class"@en;
          rdfs:comment "see 4.1.2 of the rfc 4287 spec"@en .

     awol:Feed  rdf:type owl:Class;
          rdfs:label "Feed Class"@en;
          rdfs:comment  "Container for feed metadata."@en .


&gt; If so, it appears that your answer to my question would be  
&gt; "class" (I am aware that this means something different than a  
&gt; type). Right?

A class is a set of things. awol:Entry is of type owl:Class . So it is  
very close yes.

Henry

&gt;
&gt;
&gt; Thanks,
&gt; Stefan


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11252<br>
Sender:"Ben Davies" &lt;omarshariffdontlikeit@...&gt;<br>
Post Date/Time:2008-09-04 08:23:07<br>
Subject:Re: Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11253<br>
Sender:Sean Kennedy &lt;seandkennedy@...&gt;<br>
Post Date/Time:2008-09-04 10:54:24<br>
Subject:claimed weaknesses of REST<br>
Message:<br><br>
<pre>Hi,
   I received feedback on a research paper on REST where they stated "There are certainly many other disadvantages such as lack of standarisation, lack of tool support, lack of real projects that used it, lack of industry adoption,...".    I believe this is unfair and would like to respond...

Thanks,
Sean.



      </pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11254<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-09-04 11:23:54<br>
Subject:RE: [rest-discuss] claimed weaknesses of REST<br>
Message:<br><br>
<pre>Definitely unfair. Standardisation and industry adoption? Http, html, json, atompub, urls, mime types, theyre all standards with rfcs. Lack of tool support? You mean there is a single toolkit that cant do an http request? As for real projects that use it, S3, google, the whole of the windows live atom-based online services If thats no industry adoptin I dont know what is.

 

Seb 

 

From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On Behalf Of Sean Kennedy
Sent: 04 September 2008 11:54
To: Rest Discussion Group
Subject: [rest-discuss] claimed weaknesses of REST

 

Hi,
   I received feedback on a research paper on REST where they stated "There are certainly many other disadvantages such as lack of standarisation, lack of tool support, lack of real projects that used it, lack of industry adoption,...".    I believe this is unfair and would like to respond...

Thanks,
Sean.


 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11255<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-09-04 19:11:54<br>
Subject:Re: [rest-discuss] claimed weaknesses of REST<br>
Message:<br><br>
<pre>Regarding standardization, I presume, that the reviewers were looking  
for a standard like SOAP and the WS-stack. The right way to analyze is:

a. Protocol (i.e. uniform interface): RFC 2616 (as one of the  
possibilities), which specifies a protocol between clients and resources
b. RFC 3986 for naming resources
c. Media types such as application/xhtml+xml, application/atom+xml,  
application/json, or for that matter, there are so many IANA  
registered media types for modeling representations. Some are more  
hypermedia-friendly than others.

Lack of tool support is a questionable argument, when in fact, the  
number of HTTP servers far exceeds SOAPy servers. Agreed that there is  
not any ber-framework that supports all possible media types and  
programming models, but I think that is a good thing, because ber- 
frameworks are usually complex and monolithic.

Sincerely,
Subbu

On Sep 4, 2008, at 3:54 AM, Sean Kennedy wrote:

&gt;
&gt; Hi,
&gt;    I received feedback on a research paper on REST where they stated  
&gt; "There are certainly many other disadvantages such as lack of  
&gt; standarisation, lack of tool support, lack of real projects that  
&gt; used it, lack of industry adoption,...".    I believe this is unfair  
&gt; and would like to respond...
&gt;
&gt; Thanks,
&gt; Sean.
&gt;
&gt;
&gt; 
&gt; &lt;!-- #ygrp-mkp{ border: 1px solid #d8d8d8; font-family: Arial;  
&gt; margin: 14px 0px; padding: 0px 14px; } #ygrp-mkp hr{ border: 1px  
&gt; solid #d8d8d8; } #ygrp-mkp #hd{ color: #628c2a; font-size: 85%; font- 
&gt; weight: bold; line-height: 122%; margin: 10px 0px; } #ygrp-mkp  
&gt; #ads{ margin-bottom: 10px; } #ygrp-mkp .ad{ padding: 0 0; } #ygrp- 
&gt; mkp .ad a{ color: #0000ff; text-decoration: none; } --&gt; &lt;!-- #ygrp- 
&gt; sponsor #ygrp-lc{ font-family: Arial; } #ygrp-sponsor #ygrp-lc  
&gt; #hd{ margin: 10px 0px; font-weight: bold; font-size: 78%; line- 
&gt; height: 122%; } #ygrp-sponsor #ygrp-lc .ad{ margin-bottom: 10px;  
&gt; padding: 0 0; } --&gt; &lt;!-- #ygrp-mlmsg {font-size:13px; font-family:  
&gt; arial,helvetica,clean,sans-serif;*font-size:small;*font:x-small;}  
&gt; #ygrp-mlmsg table {font-size:inherit;font:100%;} #ygrp-mlmsg select,  
&gt; input, textarea {font:99% arial,helvetica,clean,sans-serif;} #ygrp- 
&gt; mlmsg pre, code {font:115% monospace;*font-size:100%;} #ygrp-mlmsg *  
&gt; {line-height:1.22em;} #ygrp-text{ font-family: Georgia;	 } #ygrp- 
&gt; text p{ margin: 0 0 1em 0; } #ygrp-tpmsgs{ font-family: Arial;	  
&gt; clear: both; } #ygrp-vitnav{ padding-top: 10px; font-family:  
&gt; Verdana; font-size: 77%; margin: 0; } #ygrp-vitnav a{ padding: 0  
&gt; 1px; } #ygrp-actbar{ clear: both; margin: 25px 0; white- 
&gt; space:nowrap; color: #666; text-align: right; } #ygrp- 
&gt; actbar .left{ float: left; white-space:nowrap; } .bld{font- 
&gt; weight:bold;} #ygrp-grft{ font-family: Verdana; font-size: 77%;  
&gt; padding: 15px 0; } #ygrp-ft{ font-family: verdana; font-size: 77%;  
&gt; border-top: 1px solid #666; padding: 5px 0; } #ygrp-mlmsg  
&gt; #logo{ padding-bottom: 10px; } #ygrp-reco { margin-bottom: 20px;  
&gt; padding: 0px; } #ygrp-reco #reco-head { font-weight: bold; color:  
&gt; #ff7900; } #reco-grpname{ font-weight: bold; margin-top: 10px; }  
&gt; #reco-category{ font-size: 77%; } #reco-desc{ font-size: 77%; }  
&gt; #ygrp-vital{ background-color: #e0ecee; margin-bottom: 20px;  
&gt; padding: 2px 0 8px 8px; } #ygrp-vital #vithd{ font-size: 77%; font- 
&gt; family: Verdana; font-weight: bold; color: #333; text-transform:  
&gt; uppercase; } #ygrp-vital ul{ padding: 0; margin: 2px 0; } #ygrp- 
&gt; vital ul li{ list-style-type: none; clear: both; border: 1px solid  
&gt; #e0ecee; } #ygrp-vital ul li .ct{ font-weight: bold; color: #ff7900;  
&gt; float: right; width: 2em; text-align:right; padding-right: .5em; }  
&gt; #ygrp-vital ul li .cat{ font-weight: bold; } #ygrp-vital a{ text- 
&gt; decoration: none; } #ygrp-vital a:hover{ text-decoration:  
&gt; underline; } #ygrp-sponsor #hd{ color: #999; font-size: 77%; } #ygrp- 
&gt; sponsor #ov{ padding: 6px 13px; background-color: #e0ecee; margin- 
&gt; bottom: 20px; } #ygrp-sponsor #ov ul{ padding: 0 0 0 8px; margin:  
&gt; 0; } #ygrp-sponsor #ov li{ list-style-type: square; padding: 6px 0;  
&gt; font-size: 77%; } #ygrp-sponsor #ov li a{ text-decoration: none;  
&gt; font-size: 130%; } #ygrp-sponsor #nc{ background-color: #eee; margin- 
&gt; bottom: 20px; padding: 0 8px; } #ygrp-sponsor .ad{ padding: 8px 0; }  
&gt; #ygrp-sponsor .ad #hd1{ font-family: Arial; font-weight: bold;  
&gt; color: #628c2a; font-size: 100%; line-height: 122%; } #ygrp- 
&gt; sponsor .ad a{ text-decoration: none; } #ygrp-sponsor .ad  
&gt; a:hover{ text-decoration: underline; } #ygrp-sponsor .ad p{ margin:  
&gt; 0; } o{font-size: 0; } .MsoNormal{ margin: 0 0 0 0; } #ygrp-text  
&gt; tt{ font-size: 120%; } blockquote{margin: 0 0 0 4px;} .replbq{margin: 
&gt; 4} --&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11256<br>
Sender:Berend de Boer &lt;berend@...&gt;<br>
Post Date/Time:2008-09-04 20:50:28<br>
Subject:Re: [rest-discuss] claimed weaknesses of REST<br>
Message:<br><br>
<pre>&gt;&gt;&gt;&gt;&gt; "Subbu" == Subbu Allamaraju &lt;subbu@...&gt; writes:

    Subbu&gt; Regarding standardization, I presume, that the reviewers were
    Subbu&gt; looking for a standard like SOAP and the WS-stack. The right
    Subbu&gt; way to analyze is:

Well, what is standard with SOAP? The cruft around the message. Useless,
no one knows what it means, you just put it around your message and call
it SOAP. But the inside of the message isn't standardised
either. Meaning is still in the description. Moreover, we have no
preconditions, so the order of calls has to be gotten from the
documentation as well.

-- 
Cheers,

Berend de Boer

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11257<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-09-04 21:11:01<br>
Subject:Re: [rest-discuss] claimed weaknesses of REST<br>
Message:<br><br>
<pre>
On Sep 4, 2008, at 1:50 PM, Berend de Boer wrote:

&gt;&gt;&gt;&gt;&gt;&gt; "Subbu" == Subbu Allamaraju &lt;subbu@...&gt; writes:
&gt;
&gt;    Subbu&gt; Regarding standardization, I presume, that the reviewers  
&gt; were
&gt;    Subbu&gt; looking for a standard like SOAP and the WS-stack. The right
&gt;    Subbu&gt; way to analyze is:
&gt;
&gt; Well, what is standard with SOAP? The cruft around the message.  
&gt; Useless,
&gt; no one knows what it means, you just put it around your message and  
&gt; call
&gt; it SOAP. But the inside of the message isn't standardised
&gt; either. Meaning is still in the description. Moreover, we have no
&gt; preconditions, so the order of calls has to be gotten from the
&gt; documentation as well.

Of course.

Subbu


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11258<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-09-05 12:30:48<br>
Subject:Re: Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>* Stefan Tilkov &lt;stefan.tilkov@...&gt; [2008-09-02 11:10]:
&gt; I just wonder whether there's a better term than "kind of ",
&gt; as in "The first step in designing an application interface
&gt; should be to identify the different kinds of resources you want
&gt; to expose."

Resource models? Resource prototypes? Maybe even resource
archetypes? I actually like that last one. Certainly it has
little compsci / s/w-eng baggage

* Ben Davies &lt;omarshariffdontlikeit@...&gt; [2008-09-04 10:25]:
&gt; Am I missing the point your making?

I think so.

&gt; You are not POSTing an ArticleResource to /articles; you are
&gt; POSTing a representation of the ArticleState, a representation
&gt; of how you would like the application to internally visualise
&gt; the State of your new Article. There is no such thing as an
&gt; ArticleResource; only a Resource that acts on the internal
&gt; application state on your behalf.

Careful with terminology. I will assume you meant resource state
here, because Stefan is talking about server implementation; I
hope you did not *actually* mean the REST meaning of application
state.

In which case yes, you are right, the client sends a
representation and the resource then acts on the resource state
to reflect that representation. But the server implementation can
only map a particular set of states for any particular resource.
Posting a JPEG to a resource that can only map to one of the
states that comprise an article is likely to be useless, because
the resource will not be able to deduce which one of the states
it is able to assume you are asking it to take.

Now, the shape of the space of states that any one resource can
map is probably common across a large number of resources in any
given server implementation, but distinct from several other such
shapes that the same implementation is also capable of mapping,
f.ex. a set of states that can describe an article, another set
of states that can describe a user, and various sets of states
that can describe collections of these respective other sets.

Each of these share implementation in the server code.

The question is, can we find a name to express the concept of
particular distinct spaces of resource states?

&gt; You simply pass it a representation of the desired state, and
&gt; the Resource manipulates the internal state to reflect your
&gt; request. Thats what I mean when I say there is no
&gt; ArticleResource, because as far as the application code goes,
&gt; all Resources are identical in type, it's merely the actions an
&gt; individual Resource can perform for you that differ.

This is true from the client perspective. Stefan is talking about
the server perspective, where the platonic ideal of resources has
to map back to some kind of code that actually implements them.

The question is what terms to use when talking about how the
sausage is made rather than about how to think of it after it
comes out of the factory

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11259<br>
Sender:Jayavasanthan J &lt;jai_vasanthan@...&gt;<br>
Post Date/Time:2008-09-05 15:13:32<br>
Subject:Beginner Question<br>
Message:<br><br>
<pre>Hi Guys,

This is my first question to the group, may be very trivial,

I have a Apache PHP setup in my WebServer, I need to implement REST based webservices for my product.

What I would like to know to have a total restful interface, I would have to add more URIs are resources to my WebServer dynamically. Such as I have a Product which manages various customer accounts and I have a URL such as, http://localhost:6060/api/customers which lists all the customers. Now I have a customer named ABC, then I have to add a URL http://localhost:6060/api/customer/ABC to detail all information about the customer and to do more operations like Edit, activate, etc., with the customer by accessing all traffic to http://localhost:6060/api/customer/ABC to my webservice.php which is available under http://localhost:6060/api/, 

I believe this is doable, but don't exactly know how. If anybody can point me to a document on the above, it will be great.

Thanks for all your help,

Regards,
Jayavasanthan J




      

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11260<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-09-05 18:57:24<br>
Subject:Re: [rest-discuss] Re: Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>On 05.09.2008, at 14:30, Aristotle Pagaltzis wrote:

&gt; * Stefan Tilkov &lt;stefan.tilkov@...&gt; [2008-09-02 11:10]:
&gt; &gt; I just wonder whether there's a better term than "kind of ",
&gt; &gt; as in "The first step in designing an application interface
&gt; &gt; should be to identify the different kinds of resources you want
&gt; &gt; to expose."
&gt;
&gt; Resource models? Resource prototypes? Maybe even resource
&gt; archetypes? I actually like that last one. Certainly it has
&gt; little compsci / s/w-eng baggage
&gt;

Good suggestions! Reading this, I also thought of "resource pattern" ...
&gt;
&gt;
&gt; * Ben Davies &lt;omarshariffdontlikeit@...&gt; [2008-09-04 10:25]:
&gt; &gt; Am I missing the point your making?
&gt;
&gt; I think so.
&gt;
&gt; &gt; You are not POSTing an ArticleResource to /articles; you are
&gt; &gt; POSTing a representation of the ArticleState, a representation
&gt; &gt; of how you would like the application to internally visualise
&gt; &gt; the State of your new Article. There is no such thing as an
&gt; &gt; ArticleResource; only a Resource that acts on the internal
&gt; &gt; application state on your behalf.
&gt;
&gt; Careful with terminology. I will assume you meant resource state
&gt; here, because Stefan is talking about server implementation; I
&gt; hope you did not *actually* mean the REST meaning of application
&gt; state.
&gt;
&gt; In which case yes, you are right, the client sends a
&gt; representation and the resource then acts on the resource state
&gt; to reflect that representation. But the server implementation can
&gt; only map a particular set of states for any particular resource.
&gt; Posting a JPEG to a resource that can only map to one of the
&gt; states that comprise an article is likely to be useless, because
&gt; the resource will not be able to deduce which one of the states
&gt; it is able to assume you are asking it to take.
&gt;
&gt; Now, the shape of the space of states that any one resource can
&gt; map is probably common across a large number of resources in any
&gt; given server implementation, but distinct from several other such
&gt; shapes that the same implementation is also capable of mapping,
&gt; f.ex. a set of states that can describe an article, another set
&gt; of states that can describe a user, and various sets of states
&gt; that can describe collections of these respective other sets.
&gt;
&gt; Each of these share implementation in the server code.
&gt;
&gt; The question is, can we find a name to express the concept of
&gt; particular distinct spaces of resource states?
&gt;

Thanks :-) This is pretty much what I was looking for. I'm not 100%  
sure, though, whether this is really only server _implementation_.  
Even if you don't know anything about the implementation, all  
"customer resources" might share some additional interface aspects  
different from those of the "article resources". And in these, in  
turn, might be worth documenting, quite possibly (as Henry suggests)  
via their own resources.
&gt;
&gt;
&gt; &gt; You simply pass it a representation of the desired state, and
&gt; &gt; the Resource manipulates the internal state to reflect your
&gt; &gt; request. Thats what I mean when I say there is no
&gt; &gt; ArticleResource, because as far as the application code goes,
&gt; &gt; all Resources are identical in type, it's merely the actions an
&gt; &gt; individual Resource can perform for you that differ.
&gt;
&gt; This is true from the client perspective. Stefan is talking about
&gt; the server perspective, where the platonic ideal of resources has
&gt; to map back to some kind of code that actually implements them.
&gt;
&gt; The question is what terms to use when talking about how the
&gt; sausage is made rather than about how to think of it after it
&gt; comes out of the factory
&gt;

Some clients will know which "kind" of resource they're interacting  
with, making some assumptions beyond the fact that they're dealing  
with resources in general. I'm aware that for this to be RESTful, this  
would have to be communicated to them via hypermedia - but I have to  
come up with this concept during the design phase.

Maybe this is the root of some misunderstandings around this topic:  
I'm not at all suggesting to dumb down REST to static types or classes  
with distinct methods, but I feel there's to talk about those "kind"  
or "prototype" or "class" things during design.

Stefan

&gt;
&gt;
&gt; Regards,
&gt; -- 
&gt; Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11261<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-09-05 20:12:48<br>
Subject:Re: [rest-discuss] Re: Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>On Fri, Sep 5, 2008 at 7:57 PM, Stefan Tilkov &lt;stefan.tilkov@...&gt; wrote:
&gt;
&gt; Good suggestions! Reading this, I also thought of "resource pattern" ...

I like the sound of that.

"What sort of resource pattern would work in this situation?", "We
could use the Subordinate resource pattern" - yes I can see that
fitting into our language quite naturally.

A taxonomy of resource patterns to solve different problems could be collated.

Alan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11262<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-09-06 07:49:35<br>
Subject:Re: [rest-discuss] Terminology: "Resource Types"?<br>
Message:<br><br>
<pre>Stefan Tilkov wrote:
&gt; 
&gt; It's not really the URI template connection I'm concerned with, I
&gt; just wonder whether there's a better term than "kind of ", as in
&gt; "The first step in designing an application interface should be to
&gt; identify the different kinds of resources you want to expose."
&gt; 

Try this:

The first step in designing an application interface should be to model
the different kinds of data you want to expose.

If you have posts, threads, and customers then you'll need a post data
model, a thread data model, and a customer data model.  A post may be
modeled using Atom, but clients may receive posts as HTML, at a URI
ending .html, so calling it an Atom resource type would be confusing.
Calling it a specification is confusing, because the specification of
my hypothetical data models is Atom.  If the post data model is a subset
of the thread data model, then "concept" can apply to both -- too
vague.  Calling it a resource prototype might also work, but that
sounds too much like developing a media type.  I like data model, and I
think this lines up with the usage of the word in MVC architecture.

The next step in designing an application interface should be to
identify the resources which are derived from each data model (assign
URIs).

&gt;
&gt; What does http://example.com/customers/{id} describe?
&gt;

That URI template describes a set of resources derived from the
customer data model.

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11263<br>
Sender:"bierstuebl" &lt;bierstuebl@...&gt;<br>
Post Date/Time:2008-09-06 20:21:25<br>
Subject:What location to return on 202 (asynchronous process) and what polling result?<br>
Message:<br><br>
<pre>Hi all,

I'm new to this mailing list and to be honest: I've neve been on a
mailing list before. So in case I'm doing things wrong, please be
forgiving.

However, here is my first question:

I would like to use asynchronous REST by POSTing a request to e.g.
/backups  (for creating a new backup version), which will return me a
202 with a location in the header. What should this location look like?
I think it should look like /backups/version_x and NOT be somewhere
else like /queue/backups/version_x or the like.
However, if a client starts polling now on /backups/version_x and the
process hasn't finished yet, what should be returned? A 404 with a
body until the process is finished an the real representation can be
sent with 200?

Using a new resource like /queue/backups/version I could return a 200
with some status information in it. However, the client initially
requested a representation of a backup, but when it starts polling on
the new resource it receives another representation, the a status
representeation. How could a client adjust to this situation without
knowing in advance  that the action would be asynchronous??

Hmm, it's difficult to describe the problem. I hope it's
understandable somehow.

regards,
Roland


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11264<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-09-08 01:56:31<br>
Subject:Re: What location to return on 202 (asynchronous process) and what	polling result?<br>
Message:<br><br>
<pre>* bierstuebl &lt;bierstuebl@...&gt; [2008-09-08 03:10]:
&gt; I would like to use asynchronous REST by POSTing a request to
&gt; e.g. /backups (for creating a new backup version), which will
&gt; return me a 202 with a location in the header.

RFC2616 does not specify a meaning for the Location header in
the context of a 202 response, so do not expect clients to know
what to do with your response.

Instead, the body of your response should be machine-readable and
should contain links to a) the eventual location of the resource
if you already know where it is going to be and b) the location
of a resource that can be polled for the status of the operation
in the meantime. These links should be annotated so that the
client knows which one is which.

Using hypermedia (put plainly, stuff with links in it) in this
fashion is the cornerstone of REST.

&gt; What should this location look like? I think it should look
&gt; like /backups/version_x and NOT be somewhere else like
&gt; /queue/backups/version_x or the like. However, if a client
&gt; starts polling now on /backups/version_x and the process hasn't
&gt; finished yet, what should be returned? A 404 with a body until
&gt; the process is finished an the real representation can be sent
&gt; with 200?

Sending 404 while the target resource does not yet exist is fine.

Do not expect the client to poll the target resource though. For
one thing, this protocol gives you no way of signaling the client
that there was a problem with processing that you only discovered
later.

Worse, though, all this means you are overloading the meaning of
202, Location and 404 with semantics outside HTTPs uniform
interface, implementing a private protocol. In REST, when you
need to provide semantics that arent directly available at the
protocol level, your first instinct should be to expose another
resource; and the way to make that all work together is to a)
provide links to clients, that b) have annotations saying what
semantics the client can expect that resource to expose.

&gt; Using a new resource like /queue/backups/version I could return
&gt; a 200 with some status information in it. However, the client
&gt; initially requested a representation of a backup, but when it
&gt; starts polling on the new resource it receives another
&gt; representation, the a status representeation. How could a
&gt; client adjust to this situation without knowing in advance that
&gt; the action would be asynchronous??

It cant. You want to do something that HTTP has no provision
for, so any client that is to successfully follow your protocol
will need special knowledge about it. However, by staying within
the confines of the uniform interface and hypermedia, you can
contain the spread of that special knowledge to a minimal amount
of code, and you maximise the amount of accidental usefulness
that clients without knowledge of your protocol can still get
out of the service.

And that is the goal of REST: minimising coupling.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11265<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-09-08 17:11:56<br>
Subject:Re: [rest-discuss] What location to return on 202 (asynchronous process) and what polling result?<br>
Message:<br><br>
<pre>As Aristotle replied, Location header is unspecified for 202  
(Accepted). Instead, provide a body such as the following:

&lt;status&gt;
   &lt;link href="http://example.org/stats?someid"/&gt;
   ...
&lt;/status&gt;

so that the client can check the status of the response. If the  
process succeeded in creating a resource, only then provide a link to  
the newly created resource, which you can do as part of the status  
check response. That is, don't advertise /backups/version_x until the  
resource has been created. Here is a possible flow:

POST /something ===&gt; 202 Accepted + link to a status check URL with in  
the response
GET /status_check_url =&gt; 200 OK + status response, when not completed
GET /status_check_url =&gt; 200 OK + status response, when completed, but  
was not successful
GET /status_check_url =&gt; 300 See Other + Location: uri_to_resource,   
when competed successfully

Subbu

On Sep 6, 2008, at 1:21 PM, bierstuebl wrote:

&gt; Hi all,
&gt;
&gt; I'm new to this mailing list and to be honest: I've neve been on a
&gt; mailing list before. So in case I'm doing things wrong, please be
&gt; forgiving.
&gt;
&gt; However, here is my first question:
&gt;
&gt; I would like to use asynchronous REST by POSTing a request to e.g.
&gt; /backups (for creating a new backup version), which will return me a
&gt; 202 with a location in the header. What should this location look  
&gt; like?
&gt; I think it should look like /backups/version_x and NOT be somewhere
&gt; else like /queue/backups/version_x or the like.
&gt; However, if a client starts polling now on /backups/version_x and the
&gt; process hasn't finished yet, what should be returned? A 404 with a
&gt; body until the process is finished an the real representation can be
&gt; sent with 200?
&gt;
&gt; Using a new resource like /queue/backups/version I could return a 200
&gt; with some status information in it. However, the client initially
&gt; requested a representation of a backup, but when it starts polling on
&gt; the new resource it receives another representation, the a status
&gt; representeation. How could a client adjust to this situation without
&gt; knowing in advance that the action would be asynchronous??
&gt;
&gt; Hmm, it's difficult to describe the problem. I hope it's
&gt; understandable somehow.
&gt;
&gt; regards,
&gt; Roland
&gt;
&gt; 
&gt; &lt;!-- #ygrp-mkp{ border: 1px solid #d8d8d8; font-family: Arial;  
&gt; margin: 14px 0px; padding: 0px 14px; } #ygrp-mkp hr{ border: 1px  
&gt; solid #d8d8d8; } #ygrp-mkp #hd{ color: #628c2a; font-size: 85%; font- 
&gt; weight: bold; line-height: 122%; margin: 10px 0px; } #ygrp-mkp  
&gt; #ads{ margin-bottom: 10px; } #ygrp-mkp .ad{ padding: 0 0; } #ygrp- 
&gt; mkp .ad a{ color: #0000ff; text-decoration: none; } --&gt; &lt;!-- #ygrp- 
&gt; sponsor #ygrp-lc{ font-family: Arial; } #ygrp-sponsor #ygrp-lc  
&gt; #hd{ margin: 10px 0px; font-weight: bold; font-size: 78%; line- 
&gt; height: 122%; } #ygrp-sponsor #ygrp-lc .ad{ margin-bottom: 10px;  
&gt; padding: 0 0; } --&gt; &lt;!-- #ygrp-mlmsg {font-size:13px; font-family:  
&gt; arial,helvetica,clean,sans-serif;*font-size:small;*font:x-small;}  
&gt; #ygrp-mlmsg table {font-size:inherit;font:100%;} #ygrp-mlmsg select,  
&gt; input, textarea {font:99% arial,helvetica,clean,sans-serif;} #ygrp- 
&gt; mlmsg pre, code {font:115% monospace;*font-size:100%;} #ygrp-mlmsg *  
&gt; {line-height:1.22em;} #ygrp-text{ font-family: Georgia;	 } #ygrp- 
&gt; text p{ margin: 0 0 1em 0; } #ygrp-tpmsgs{ font-family: Arial;  
&gt; clear: both; } #ygrp-vitnav{ padding-top: 10px; font-family:  
&gt; Verdana; font-size: 77%; margin: 0; } #ygrp-vitnav a{ padding: 0  
&gt; 1px; } #ygrp-actbar{ clear: both; margin: 25px 0; white- 
&gt; space:nowrap; color: #666; text-align: right; } #ygrp- 
&gt; actbar .left{ float: left; white-space:nowrap; } .bld{font- 
&gt; weight:bold;} #ygrp-grft{ font-family: Verdana; font-size: 77%;  
&gt; padding: 15px 0; } #ygrp-ft{ font-family: verdana; font-size: 77%;  
&gt; border-top: 1px solid #666; padding: 5px 0; } #ygrp-mlmsg  
&gt; #logo{ padding-bottom: 10px; } #ygrp-reco { 	margin-bottom: 20px;  
&gt; padding: 0px; } #ygrp-reco #reco-head { font-weight: bold; color:  
&gt; #ff7900; } #reco-grpname{ font-weight: bold; margin-top: 10px; }  
&gt; #reco-category{ font-size: 77%; } #reco-desc{ font-size: 77%; }  
&gt; #ygrp-vital{ background-color: #e0ecee; margin-bottom: 20px;  
&gt; padding: 2px 0 8px 8px; } #ygrp-vital #vithd{ font-size: 77%; font- 
&gt; family: Verdana; font-weight: bold; color: #333; text-transform:  
&gt; uppercase; } #ygrp-vital ul{ padding: 0; margin: 2px 0; } #ygrp- 
&gt; vital ul li{ list-style-type: none; clear: both; border: 1px solid  
&gt; #e0ecee; } #ygrp-vital ul li .ct{ font-weight: bold; color: #ff7900;  
&gt; float: right; width: 2em; text-align:right; padding-right: .5em; }  
&gt; #ygrp-vital ul li .cat{ font-weight: bold; } #ygrp-vital a{ text- 
&gt; decoration: none; } #ygrp-vital a:hover{ text-decoration:  
&gt; underline; } #ygrp-sponsor #hd{ color: #999; font-size: 77%; } #ygrp- 
&gt; sponsor #ov{ padding: 6px 13px; background-color: #e0ecee; margin- 
&gt; bottom: 20px; } #ygrp-sponsor #ov ul{ padding: 0 0 0 8px; margin:  
&gt; 0; } #ygrp-sponsor #ov li{ list-style-type: square; 		padding: 6px  
&gt; 0; font-size: 77%; } #ygrp-sponsor #ov li a{ text-decoration: none;  
&gt; font-size: 130%; } #ygrp-sponsor #nc{ background-color: #eee; margin- 
&gt; bottom: 20px; padding: 0 8px; } #ygrp-sponsor .ad{ padding: 8px 0; }  
&gt; #ygrp-sponsor .ad #hd1{ font-family: Arial; font-weight: bold;  
&gt; color: #628c2a; font-size: 100%; line-height: 122%; } #ygrp- 
&gt; sponsor .ad a{ text-decoration: none; } #ygrp-sponsor .ad  
&gt; a:hover{ text-decoration: underline; } #ygrp-sponsor .ad p{ margin:  
&gt; 0; } o{font-size: 0; } .MsoNormal{ margin: 0 0 0 0; } #ygrp-text  
&gt; tt{ font-size: 120%; } blockquote{margin: 0 0 0 4px;} .replbq{margin: 
&gt; 4} --&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11266<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-09-08 17:59:38<br>
Subject:RE: [rest-discuss] What location to return on 202 (asynchronous process) and what polling result?<br>
Message:<br><br>
<pre>Rfc says: The entity returned with this response SHOULD include an
indication of the request's current status and either a pointer to a status
monitor or some estimate of when the user can expect the request to be
fulfilled

You could simply post to /backups and return a 202. The spec says nothing
about using the Location: header so you should put the location that you
would use to query the state of the backup (the status monitor talked about)
in the content. That said, this is a typical example where it makes sense
IMO to take some liberty with headers and go ahead and add a Location header
(I've seen system doing this before), as long as you of course do have it in
the entity.

Now you have two options. The first one is to consider the status to be a
resource in itself, in which case that resource is created upon request and
will always return a 200. You push the interpretation of the result in the
content you send back. As 202 implies that the status monitor link should be
in the content itself, it's an acceptable approach: If you understand how to
render the initial 202 response you'll have no problem parsing the 200
response from the status code.

Another approach could simply be to return the backup url itself as a
resonse to your 202, and push the response value at the http level. In that
case, the initial 202 would include the location to /backups/version_x. Any
subsequent request to that uri would trigger a 202 until there's a final
outcome for the backup, that could either be a 200 for success or a 410 for
failure.

Some people would argue that 202 is not used correctly if in response to a
get to that resource. However I interpret the spec as saying "the request
has been understood but I can't give you an answer". This does imply that
you assign a uri to a resource that doesn't exist yet, but I don't have a
fundamental problem with that.

Seb 



-----Original Message-----
From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On
Behalf Of bierstuebl
Sent: 06 September 2008 21:21
To: rest-discuss@yahoogroups.com
Subject: [rest-discuss] What location to return on 202 (asynchronous
process) and what polling result?

Hi all,

I'm new to this mailing list and to be honest: I've neve been on a
mailing list before. So in case I'm doing things wrong, please be
forgiving.

However, here is my first question:

I would like to use asynchronous REST by POSTing a request to e.g.
/backups  (for creating a new backup version), which will return me a
202 with a location in the header. What should this location look like?
I think it should look like /backups/version_x and NOT be somewhere
else like /queue/backups/version_x or the like.
However, if a client starts polling now on /backups/version_x and the
process hasn't finished yet, what should be returned? A 404 with a
body until the process is finished an the real representation can be
sent with 200?

Using a new resource like /queue/backups/version I could return a 200
with some status information in it. However, the client initially
requested a representation of a backup, but when it starts polling on
the new resource it receives another representation, the a status
representeation. How could a client adjust to this situation without
knowing in advance  that the action would be asynchronous??

Hmm, it's difficult to describe the problem. I hope it's
understandable somehow.

regards,
Roland


------------------------------------

Yahoo! Groups Links





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11267<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-09-08 18:52:57<br>
Subject:Re: [rest-discuss] What location to return on 202 (asynchronous process) and what polling result?<br>
Message:<br><br>
<pre>
On Sep 8, 2008, at 10:59 AM, Sebastien Lambla wrote:

&gt; Another approach could simply be to return the backup url itself as a
&gt; resonse to your 202, and push the response value at the http level.  
&gt; In that
&gt; case, the initial 202 would include the location to /backups/ 
&gt; version_x. Any
&gt; subsequent request to that uri would trigger a 202 until there's a  
&gt; final
&gt; outcome for the backup, that could either be a 200 for success or a  
&gt; 410 for
&gt; failure.
&gt;
&gt; Some people would argue that 202 is not used correctly if in  
&gt; response to a
&gt; get to that resource. However I interpret the spec as saying "the  
&gt; request
&gt; has been understood but I can't give you an answer". This does imply  
&gt; that
&gt; you assign a uri to a resource that doesn't exist yet, but I don't  
&gt; have a
&gt; fundamental problem with that.

The fundamental problem with this approach is that the semantics of  
202 Accepted are unspecified for a GET.

Subbu


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11268<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-09-09 05:49:13<br>
Subject:Re: What location to return on 202 (asynchronous process) and what	polling result?<br>
Message:<br><br>
<pre>* Sebastien Lambla &lt;seb@...&gt; [2008-09-08 20:05]:
&gt; Some people would argue that 202 is not used correctly if in
&gt; response to a get to that resource. However I interpret the
&gt; spec as saying "the request has been understood but I can't
&gt; give you an answer". This does imply that you assign a uri to a
&gt; resource that doesn't exist yet, but I don't have a fundamental
&gt; problem with that.

What the spec says about 202 is this:

    The request has been accepted for processing, but the
    processing has not been completed. The request might or might
    not eventually be acted upon, as it might be disallowed when
    processing actually takes place. There is no facility for
    re-sending a status code from an asynchronous operation such
    as this.

I dont understand how a GET can be accepted for processing,
or how it can be completed, much less how a GET request might
eventually be acted upon. The text for 202 clearly applies to
methods that operate on resources  which GET (being safe and
idempotent) by definition, purpose and intent does not.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11269<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-09-09 16:44:43<br>
Subject:RE: [rest-discuss] Re: What location to return on 202 (asynchronous process) and what	polling result?<br>
Message:<br><br>
<pre>&gt; I dont understand how a GET can be accepted for processing,
&gt; or how it can be completed, much less how a GET request might
&gt; eventually be acted upon.

By replacing: "The GET has been accepted for processing, but the processing has not been completed".

I understand my interpretation is unconventional, but I do not see where there is talks about side-effects or operation against a resource. The spec only talks about the processing of the request. The fact that the spec goes on to mention "The entity returned with this response SHOULD include an indication of the request's current status and [...] some estimate of when the user can expect the request to be fulfilled" does not preclude this return code being limited to operations on resources with side-effects?

Fundamentally the spec says "you're on your own" and the approach used relies on documents to know the update of the status of a request. That said, I don't believe defining a custom "protocol" based on a clever use of the 202 response is much less restful as the document approach. After all, the problem is generic enough, and certainly useful enough, to solve the problem without imposing a content type. And it would work just the same on a browser as it would with a client understanding only bare http.

Seb


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11270<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-09-09 17:52:00<br>
Subject:Re: [rest-discuss] Re: What location to return on 202 (asynchronous process) and what	polling result?<br>
Message:<br><br>
<pre>You may be mis-interpreting 2616. The behavior of 202 is defined for  
POST and DELETE only, and the behavior of the Location header is  
undefined for 202.

It is possible to stretch the interpretation of 202 to apply to GETs,  
but I don't find that particularly useful. For instance, what would  
the representation be when the resource creation failed? In your  
model, a GET to that resource will continue to return a 202 + status  
representation saying that its creation failed, but never a 404.

By linking the 202 response to an auxiliary resource (such as the  
status) that is GETtable, the client has a clearer indication of what  
is going on, and a URI to the resource will be made available to the  
client if and only if the server has managed to successfully create a  
new resource (or delete a resource for the case of DELETE).

Subbu

On Sep 9, 2008, at 9:44 AM, Sebastien Lambla wrote:

&gt; &gt; I dont understand how a GET can be accepted for processing,
&gt; &gt; or how it can be completed, much less how a GET request might
&gt; &gt; eventually be acted upon.
&gt;
&gt; By replacing: "The GET has been accepted for processing, but the  
&gt; processing has not been completed".
&gt;
&gt; I understand my interpretation is unconventional, but I do not see  
&gt; where there is talks about side-effects or operation against a  
&gt; resource. The spec only talks about the processing of the request.  
&gt; The fact that the spec goes on to mention "The entity returned with  
&gt; this response SHOULD include an indication of the request's current  
&gt; status and [...] some estimate of when the user can expect the  
&gt; request to be fulfilled" does not preclude this return code being  
&gt; limited to operations on resources with side-effects?
&gt;
&gt; Fundamentally the spec says "you're on your own" and the approach  
&gt; used relies on documents to know the update of the status of a  
&gt; request. That said, I don't believe defining a custom "protocol"  
&gt; based on a clever use of the 202 response is much less restful as  
&gt; the document approach. After all, the problem is generic enough, and  
&gt; certainly useful enough, to solve the problem without imposing a  
&gt; content type. And it would work just the same on a browser as it  
&gt; would with a client understanding only bare http.
&gt;
&gt; Seb
&gt;
&gt; 
&gt; &lt;!-- #ygrp-mkp{ border: 1px solid #d8d8d8; font-family: Arial;  
&gt; margin: 14px 0px; padding: 0px 14px; } #ygrp-mkp hr{ border: 1px  
&gt; solid #d8d8d8; } #ygrp-mkp #hd{ color: #628c2a; font-size: 85%; font- 
&gt; weight: bold; line-height: 122%; margin: 10px 0px; } #ygrp-mkp  
&gt; #ads{ margin-bottom: 10px; } #ygrp-mkp .ad{ padding: 0 0; } #ygrp- 
&gt; mkp .ad a{ color: #0000ff; text-decoration: none; } --&gt; &lt;!-- #ygrp- 
&gt; sponsor #ygrp-lc{ font-family: Arial; } #ygrp-sponsor #ygrp-lc  
&gt; #hd{ margin: 10px 0px; font-weight: bold; font-size: 78%; line- 
&gt; height: 122%; } #ygrp-sponsor #ygrp-lc .ad{ margin-bottom: 10px;  
&gt; padding: 0 0; } --&gt; &lt;!-- #ygrp-mlmsg {font-size:13px; font-family:  
&gt; arial,helvetica,clean,sans-serif;*font-size:small;*font:x-small;}  
&gt; #ygrp-mlmsg table {font-size:inherit;font:100%;} #ygrp-mlmsg select,  
&gt; input, textarea {font:99% arial,helvetica,clean,sans-serif;} #ygrp- 
&gt; mlmsg pre, code {font:115% monospace;*font-size:100%;} #ygrp-mlmsg *  
&gt; {line-height:1.22em;} #ygrp-text{ font-family: Georgia;	 } #ygrp- 
&gt; text p{ margin: 0 0 1em 0; } #ygrp-tpmsgs{ font-family: Arial;	  
&gt; clear: both; } #ygrp-vitnav{ padding-top: 10px; font-family:  
&gt; Verdana; font-size: 77%; margin: 0; } #ygrp-vitnav a{ padding: 0  
&gt; 1px; } #ygrp-actbar{ clear: both; margin: 25px 0; white- 
&gt; space:nowrap; color: #666; text-align: right; } #ygrp- 
&gt; actbar .left{ float: left; white-space:nowrap; } .bld{font- 
&gt; weight:bold;} #ygrp-grft{ font-family: Verdana; font-size: 77%;  
&gt; padding: 15px 0; } #ygrp-ft{ font-family: verdana; font-size: 77%;  
&gt; border-top: 1px solid #666; padding: 5px 0; } #ygrp-mlmsg  
&gt; #logo{ padding-bottom: 10px; } #ygrp-reco { margin-bottom: 20px;  
&gt; padding: 0px; } #ygrp-reco #reco-head { font-weight: bold; color:  
&gt; #ff7900; } #reco-grpname{ font-weight: bold; margin-top: 10px; }  
&gt; #reco-category{ font-size: 77%; } #reco-desc{ font-size: 77%; }  
&gt; #ygrp-vital{ background-color: #e0ecee; margin-bottom: 20px;  
&gt; padding: 2px 0 8px 8px; } #ygrp-vital #vithd{ font-size: 77%; font- 
&gt; family: Verdana; font-weight: bold; color: #333; text-transform:  
&gt; uppercase; } #ygrp-vital ul{ padding: 0; margin: 2px 0; } #ygrp- 
&gt; vital ul li{ list-style-type: none; clear: both; border: 1px solid  
&gt; #e0ecee; } #ygrp-vital ul li .ct{ font-weight: bold; color: #ff7900;  
&gt; float: right; width: 2em; text-align:right; padding-right: .5em; }  
&gt; #ygrp-vital ul li .cat{ font-weight: bold; } #ygrp-vital a{ text- 
&gt; decoration: none; } #ygrp-vital a:hover{ text-decoration:  
&gt; underline; } #ygrp-sponsor #hd{ color: #999; font-size: 77%; } #ygrp- 
&gt; sponsor #ov{ padding: 6px 13px; background-color: #e0ecee; margin- 
&gt; bottom: 20px; } #ygrp-sponsor #ov ul{ padding: 0 0 0 8px; margin:  
&gt; 0; } #ygrp-sponsor #ov li{ list-style-type: square; padding: 6px 0;  
&gt; font-size: 77%; } #ygrp-sponsor #ov li a{ text-decoration: none;  
&gt; font-size: 130%; } #ygrp-sponsor #nc{ background-color: #eee; margin- 
&gt; bottom: 20px; padding: 0 8px; } #ygrp-sponsor .ad{ padding: 8px 0; }  
&gt; #ygrp-sponsor .ad #hd1{ font-family: Arial; font-weight: bold;  
&gt; color: #628c2a; font-size: 100%; line-height: 122%; } #ygrp- 
&gt; sponsor .ad a{ text-decoration: none; } #ygrp-sponsor .ad  
&gt; a:hover{ text-decoration: underline; } #ygrp-sponsor .ad p{ margin:  
&gt; 0; } o{font-size: 0; } .MsoNormal{ margin: 0 0 0 0; } #ygrp-text  
&gt; tt{ font-size: 120%; } blockquote{margin: 0 0 0 4px;} .replbq{margin: 
&gt; 4} --&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11271<br>
Sender:'Aristotle Pagaltzis' &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-09-09 17:53:20<br>
Subject:Re: What location to return on 202 (asynchronous process) and what	polling result?<br>
Message:<br><br>
<pre>* Sebastien Lambla &lt;seb@...&gt; [2008-09-09 18:50]:
&gt;&gt; I dont understand how a GET can be accepted for processing,
&gt;&gt; or how it can be completed, much less how a GET request might
&gt;&gt; eventually be acted upon.
&gt;
&gt; By replacing: "The GET has been accepted for processing, but
&gt; the processing has not been completed".

Yes, you can put the word GET in the sentence, but the sentence
doesnt make any sense that way. 

&gt; I understand my interpretation is unconventional, but I do not
&gt; see where there is talks about side-effects or operation
&gt; against a resource.

Its meaningless to say I got your GET, but Ill respond to it
later. HTTP is not an asynchronous protocol. A GET either
returns a representation or it doesnt.

&gt; The spec only talks about the processing of the request.

Yes, exactly, it says processing. A GET contains no entity body
so there is nothing to process.

&gt; That said, I don't believe defining a custom "protocol" based
&gt; on a clever use of the 202 response is much less restful as the
&gt; document approach. After all, the problem is generic enough,
&gt; and certainly useful enough, to solve the problem without
&gt; imposing a content type. And it would work just the same on a
&gt; browser as it would with a client understanding only bare http.

You dont need any particularly specific content type, you just
need sufficiently specifically annotated links. You could even
stick them in `Link` headers, you just need to choose the `rel`
meaningfully enough.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11272<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-09-09 20:13:07<br>
Subject:RE: [rest-discuss] Re: What location to return on 202 (asynchronous process) and what	polling result?<br>
Message:<br><br>
<pre>&gt; It is possible to stretch the interpretation of 202 to apply to GETs,  
&gt; but I don't find that particularly useful. For instance, what would  
&gt; the representation be when the resource creation failed? In your  
&gt; model, a GET to that resource will continue to return a 202 + status  
&gt; representation saying that its creation failed, but never a 404.

If you interpret a 202 to a get as a non-defining response, then when the
resource does become available that url would return a 200 or a 404. The
entity body of the 202 response would include the progress of the request. I
don't see why a non-commital answer would preclude switching the status code
when the resource state becomes determined.

&gt; By linking the 202 response to an auxiliary resource (such as the  
&gt; status) that is GETtable, the client has a clearer indication of what  
&gt; is going on, and a URI to the resource will be made available to the  
&gt; client if and only if the server has managed to successfully create a  
&gt; new resource (or delete a resource for the case of DELETE).

I don't disagree with the use of an auxiliary resource with its own
document, I am asking if such a general problem as async processing
resulting in resources in an undetermined state is not better handled at the
http level rather than at the document level.

Seb



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11273<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-09-09 20:32:01<br>
Subject:Re: [rest-discuss] Re: What location to return on 202 (asynchronous process) and what	polling result?<br>
Message:<br><br>
<pre>
&gt; If you interpret a 202 to a get as a non-defining response, then  
&gt; when the
&gt; resource does become available that url would return a 200 or a 404.  
&gt; The
&gt; entity body of the 202 response would include the progress of the  
&gt; request. I
&gt; don't see why a non-commital answer would preclude switching the  
&gt; status code
&gt; when the resource state becomes determined.

I see what you suggesting. Yes, this is certainly possible, but I  
would still question (a) overloading 202 in an unspecified manner, and  
(b) merging an auxiliary resource with the actual resource. The later  
could be confusing to client application developers.

&gt;&gt; By linking the 202 response to an auxiliary resource (such as the
&gt;&gt; status) that is GETtable, the client has a clearer indication of what
&gt;&gt; is going on, and a URI to the resource will be made available to the
&gt;&gt; client if and only if the server has managed to successfully create a
&gt;&gt; new resource (or delete a resource for the case of DELETE).
&gt;
&gt; I don't disagree with the use of an auxiliary resource with its own
&gt; document, I am asking if such a general problem as async processing
&gt; resulting in resources in an undetermined state is not better  
&gt; handled at the
&gt; http level rather than at the document level.

I think there are two different types of use cases here.

a. Resource creation (or deletion) takes significant amount of time/ 
processing and hence can not be created/deleted immediately.

b. A resource could be created, but its status may change/evolve as  
stuff is happening.

For instance, take a purchase order that needs to go through some  
backend processing (may be even manual) to get created completely.  
This could be modeled as a regular 200 OK but keep changing relevant  
parts of the representation to reflect its current status. There is no  
need for a 202 here.

Your suggestion is more in the lines of (b), where a 200 OK is just  
fine.

Subbu





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11274<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-09-09 21:40:59<br>
Subject:RE: [rest-discuss] Re: What location to return on 202 (asynchronous process) and what	polling result?<br>
Message:<br><br>
<pre>&gt; [...]
&gt; (a) overloading 202 in an unspecified manner, and  
&gt; (b) merging an auxiliary resource with the actual resource. The later  
&gt; could be confusing to client application developers.

I agree with (a) to a certain extent as it does extend ever so slightly the
current definition. B however would seem to work fine: a 202's entity may
contain a body with a representation that is not the representation
retrieved from the resource identified by the uri, specifically because
that's what the rfc defines the entity body as being. I agree however that
such confusion would need to be cleared.
 
&gt; For instance, take a purchase order that needs to go through some  
&gt; backend processing (may be even manual) to get created completely.  
&gt; This could be modeled as a regular 200 OK but keep changing relevant  
&gt; parts of the representation to reflect its current status. There is no  
&gt; need for a 202 here.

I completely agree and it depends on the semantics of the resource. An order
resource certainly gets created when you start adding items to it. The
interesting case of a backup in that sense is that the backup may or may not
be created successfully. You could simply split those two entities, with the
backup entry and the backup data being two different resources, with the
backup entry being created on demand and the backup data being eventually
created later, updating the backup entry. But in that case, the backup data
will only get assigned, and as such only exist for the client, if and when
the process has been completed.

As I highlighted in the other thread, the issue here is not about creating
the backup entry resource itself, that problem is easily solved. The
question simply bogs down to the following question: Can you assign a URI
for a resource that has not been realised yet and may not be.

If a sidekick resource always needs to be created to support giving progress
on a long-running realisation of a resource, maybe it is the case that an
acknowledgement that such resource exists but is in an undefined state, with
an entity being returned to define when it may become available (or be
processed), is a good candidate for reuse at the http, rather than the app,
level. And 202 seems to be fitting well enough. But of course it could be
solved with Link headers and a custom definition of the rel, with
human-readable or machine-readable content returned on the original 202 and
the sidekick resource, etc.

I'm not sure they're more or less rest however. If a client has only
knowledge of http, the 202 solution will work because no polling would be
automatic and the various requests would still function. The solution still
requires to process the entity body (or the link header) to discover the
link from the initial 202 response, which you would have to understand
anyway. The further 202 on GET for a client not aware would essentially
display the entity saying "Estimated finish time in 5 minutes". Using a 200
on GET on the sidekick resource would do exactly the same thing. The main
difference here would be that the status resource would eventually have to
let you know where the resource can be found, and because the resource exist
as a whole, it should have this in the entity being returned. Then comes the
question of the value of keeping around a second resource to describe the
status when the process has completed. Because you gave that first uri,
you'll have to define when you expire it, and probably keep it around for as
long as the resource itself exists.

Seb


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11275<br>
Sender:Jayavasanthan J &lt;jai_vasanthan@...&gt;<br>
Post Date/Time:2008-09-10 16:02:44<br>
Subject:Re: Beginner Question - may be Off Topic<br>
Message:<br><br>
<pre>Hi Guys,

I posted the below query a few days ago, if I was offtopic, can somebody remind me where to post such a query or some help on how to approach this issue.

Thanks in advance for your help,

Regards,
Jayavasanthan J

-----------------

Hi Guys,

This is my first question to the group, may be very trivial,

I have a Apache PHP setup in my WebServer, I need to implement REST based webservices for my product.

What I would like to know to have a total restful interface, I would have to add more URIs are resources to my WebServer dynamically. Such as I have a Product which manages various customer accounts and I have a URL such as, http://localhost:6060/api/customers which lists all the customers. Now I have a customer named ABC, then I have to add a URL http://localhost:6060/api/customer/ABC to detail all information about the customer and to do more operations like Edit, activate, etc., with the customer by accessing all traffic to http://localhost:6060/api/customer/ABC to my webservice.php which is available under http://localhost:6060/api/,

I believe this is doable, but don't exactly know how. If anybody can point me to a document on the above, it will be great.

Thanks for all your help,

Regards,
Jayavasanthan J



      

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11276<br>
Sender:Andreas Heck &lt;aheck@...&gt;<br>
Post Date/Time:2008-09-10 16:32:56<br>
Subject:Re: [rest-discuss] Re: Beginner Question - may be Off Topic<br>
Message:<br><br>
<pre>Hi Jayavasanthan,

you can do this very easily by just writing a PHP-Skript called
customers.php and then you put in into your api directory. This skript
lists all customers when accessed (GET) without any query parameters.
When it is accessed (GET) with a query parameter like
customers.php?name=ABC it returns the representation of this single
customer.

To get nice looking URIs you can now use mod_rewrite with rules like the
following ones:

RewriteRule ^/api/customers(/)$ /api/customers.php
RewriteRule ^/api/customers/([a-z]+)$ /api/customers.php?name=$1

Mod_rewrite allows you to map nice looking "virtual" URIs defined by
regular expressions onto the underlying file system derived URIs Apache
normally uses.

Just search the web for mod_rewrite and you will find more than enough
references and tutorials.


Best regards,

Andreas


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11277<br>
Sender:Andreas Heck &lt;aheck@...&gt;<br>
Post Date/Time:2008-09-10 17:58:10<br>
Subject:Pushing with REST<br>
Message:<br><br>
<pre>Hi everybody,

I have a REST webservice and I'd like the client to informed about
certain events without polling for them. My idea is to create a resource
like /newEvent. Now the client sends a GET request to this method and
the server answers only when there is a new event. As long as there are
no new events the connection stays open and the client waits until it
gets a response or is terminated (timeouts are configured as needed).

I can't decide if this is RESTful and doesn't violate HTTPs GET
semantics. RFC 2616 says the server can reply to a GET request by doing
some processing operation first. But I don't think this was meant in a
way that it waits just indefinitely and sends the response at some
random point in time. But I'm not quite sure about that.

A purely RESTful way would be to do something similar to the listener
pattern by using a small webserver on the client and sending a POST
to /listeners on the server with the URI on the clients webserver that
has to be called as listener. This POST could then register a new
listener on the server that's available under a URI
like /listeners/[1-9]+ . Whenever there is a new event the server would
then send a POST or PUT to the URI to the clients webserver that was
registered as the listener. Unfortunately many firewalls will block
this.

Any comments on the RESTfulness of the first idea? Any better ideas?


Best regards,

Andreas


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11278<br>
Sender:Berend de Boer &lt;berend@...&gt;<br>
Post Date/Time:2008-09-10 19:12:13<br>
Subject:Re: [rest-discuss] Pushing with REST<br>
Message:<br><br>
<pre>&gt;&gt;&gt;&gt;&gt; "Andreas" == Andreas Heck &lt;aheck@...&gt; writes:

    Andreas&gt; I can't decide if this is RESTful and doesn't violate HTTPs
    Andreas&gt; GET semantics.

It definitively doesn't scale. Why do you want to keep the connection
open? And why is polling such a problem?

-- 
Cheers,

Berend de Boer

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11279<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-09-10 20:32:14<br>
Subject:Re: [rest-discuss] Pushing with REST<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11280<br>
Sender:Berend de Boer &lt;berend@...&gt;<br>
Post Date/Time:2008-09-11 01:06:38<br>
Subject:Re: [rest-discuss] Pushing with REST<br>
Message:<br><br>
<pre>&gt;&gt;&gt;&gt;&gt; "J," == J, Vijayananda &lt;vijayananda.j@...&gt; writes:

    J,&gt; Hi Berend What Andreas says is already a known technique used in
    J,&gt; XMPP BOSH (XEP-0124) Why do u say it doesnt scale ?

I can't speak for XMPP BOSH, but for example with Apache, every open
connection is 1 apache process. A server with 2GB memory with a typical
PHP framework can run about 75 processes = 75 users if we leave the
connection open.

-- 
Cheers,

Berend de Boer

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11281<br>
Sender:"J, Vijayananda" &lt;vijayananda.j@...&gt;<br>
Post Date/Time:2008-09-11 00:56:17<br>
Subject:RE: [rest-discuss] Pushing with REST<br>
Message:<br><br>
<pre>Hi Berend
What Andreas says is already a known technique used in XMPP BOSH (XEP-0124)
Why do u say it doesnt scale ?
BYe
Vijay

________________________________
From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On Behalf Of Berend de Boer
Sent: 2008 Sep 11 12:42 AM
To: Andreas Heck
Cc: Rest Discussion Group
Subject: Re: [rest-discuss] Pushing with REST


&gt;&gt;&gt;&gt;&gt; "Andreas" == Andreas Heck &lt;aheck@...&lt;mailto:aheck%40gmx.de&gt;&gt; writes:

Andreas&gt; I can't decide if this is RESTful and doesn't violate HTTPs
Andreas&gt; GET semantics.

It definitively doesn't scale. Why do you want to keep the connection
open? And why is polling such a problem?

--
Cheers,

Berend de Boer



________________________________
The information contained in this message may be confidential and legally protected under applicable law. The message is intended solely for the addressee(s). If you are not the intended recipient, you are hereby notified that any use, forwarding, dissemination, or reproduction of this message is strictly prohibited and may be unlawful. If you are not the intended recipient, please contact the sender by return e-mail and destroy all copies of the original message.
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11282<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-09-11 05:23:13<br>
Subject:Re: Pushing with REST<br>
Message:<br><br>
<pre>* Berend de Boer &lt;berend@...&gt; [2008-09-11 03:10]:
&gt; I can't speak for XMPP BOSH, but for example with Apache, every
&gt; open connection is 1 apache process. A server with 2GB memory
&gt; with a typical PHP framework can run about 75 processes = 75
&gt; users if we leave the connection open.

How is that the techniques problem and not Apaches?

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11283<br>
Sender:Berend de Boer &lt;berend@...&gt;<br>
Post Date/Time:2008-09-11 06:05:53<br>
Subject:Re: [rest-discuss] Re: Pushing with REST<br>
Message:<br><br>
<pre>&gt;&gt;&gt;&gt;&gt; "Aristotle" == Aristotle Pagaltzis &lt;pagaltzis@...&gt; writes:

    &gt;&gt; I can't speak for XMPP BOSH, but for example with Apache, every
    &gt;&gt; open connection is 1 apache process. A server with 2GB memory
    &gt;&gt; with a typical PHP framework can run about 75 processes = 75
    &gt;&gt; users if we leave the connection open.

    Aristotle&gt; How is that the techniques problem and not Apaches?

As I said, I don't know the XMPP BOSH, but I somehow doubt it has no
overheads.

So I gave a real world example of the overheads involved. Keeping state
around costs resources. But I'm happy to see a server and framework that
doesn't buckle under 10,000s connections.

The evidence says that the overhead of setting up an http connection,
making a request, and closing that is quite manageable. So I'm failing a
bit to see the problem here.

-- 
Cheers,

Berend de Boer

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11284<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-09-11 06:59:45<br>
Subject:Re: Pushing with REST<br>
Message:<br><br>
<pre>* Berend de Boer &lt;berend@...&gt; [2008-09-11 08:10]:
&gt; But I'm happy to see a server and framework that doesn't buckle
&gt; under 10,000s connections.

See also http://www.kegel.com/c10k.html :-)

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11285<br>
Sender:Andreas Heck &lt;aheck@...&gt;<br>
Post Date/Time:2008-09-11 07:37:55<br>
Subject:Re: [rest-discuss] Pushing with REST<br>
Message:<br><br>
<pre>Am Donnerstag, den 11.09.2008, 07:12 +1200 schrieb Berend de Boer:
&gt; &gt;&gt;&gt;&gt;&gt; "Andreas" == Andreas Heck &lt;aheck@...&gt; writes:
&gt; 
&gt;     Andreas&gt; I can't decide if this is RESTful and doesn't violate HTTPs
&gt;     Andreas&gt; GET semantics.
&gt; 
&gt; It definitively doesn't scale. Why do you want to keep the connection
&gt; open? And why is polling such a problem?

Polling is a problem because most of the clients will be mobile devices
and constant polling would drain the battery in a very short time.

The web service will be implemented in Java and run in Tomcat on top of
Linux. So it will use threads instead of processes and in theory it
should scale better than an Apache that is configured to use only
processes for concurrency. Does someone know what's the connection
overhead for the OS and how Java/Tomcat scale under such conditions?


Best regards,

Andreas


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11286<br>
Sender:Andreas Heck &lt;aheck@...&gt;<br>
Post Date/Time:2008-09-11 07:58:23<br>
Subject:Re: [rest-discuss] Pushing with REST<br>
Message:<br><br>
<pre>Hi,

Am Donnerstag, den 11.09.2008, 08:45 +0100 schrieb Chris McCauley:
&gt; Won't the fact that the connection is open and connected drain the
&gt; battery anyway? 

correct me if I'm wrong but as far as I'm informed (I didn't do any
measurements yet) just holding a connection open is much less energy
intensive than transmitting real data.


Best regards,

Andreas


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11287<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-09-11 08:07:44<br>
Subject:Re: [rest-discuss] Pushing with REST<br>
Message:<br><br>
<pre>Hi

You started with the subject "Push". If you really want Push, then you
should stick to using XMPP, imho. XMPP is a very well tested , well
used protocol around the world. I don't think that doing Push and REST
is a nice idea.

But I personally would recommend you to think about your problem more
and think up ways to do it without Push, but just by using a Pull
approach.

From Roy's post
http://roy.gbiv.com/untangled/2008/paper-tigers-and-hidden-dragons
"People need to understand that general-purpose PubSub is not a
solution to scalability problems  it simply moves the problem
somewhere else, and usually to a place that is inversely supported by
the economics.
... Web architects must understand that resources are just consistent
mappings from an identifier to some set of views on server-side state.
If one view doesn't suit your needs, then feel free to create a
different resource that provides a better view (for any definition of
"better").
"
(if you haven't read the whole post already, you really should )



My 2c, imho


Thanks
Devdatta

2008/9/11 Andreas Heck &lt;aheck@...&gt;:
&gt; Am Donnerstag, den 11.09.2008, 07:12 +1200 schrieb Berend de Boer:
&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt; "Andreas" == Andreas Heck &lt;aheck@...&gt; writes:
&gt;&gt;
&gt;&gt; Andreas&gt; I can't decide if this is RESTful and doesn't violate HTTPs
&gt;&gt; Andreas&gt; GET semantics.
&gt;&gt;
&gt;&gt; It definitively doesn't scale. Why do you want to keep the connection
&gt;&gt; open? And why is polling such a problem?
&gt;
&gt; Polling is a problem because most of the clients will be mobile devices
&gt; and constant polling would drain the battery in a very short time.
&gt;
&gt; The web service will be implemented in Java and run in Tomcat on top of
&gt; Linux. So it will use threads instead of processes and in theory it
&gt; should scale better than an Apache that is configured to use only
&gt; processes for concurrency. Does someone know what's the connection
&gt; overhead for the OS and how Java/Tomcat scale under such conditions?
&gt;
&gt; Best regards,
&gt;
&gt; Andreas
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11288<br>
Sender:Berend de Boer &lt;berend@...&gt;<br>
Post Date/Time:2008-09-11 08:34:59<br>
Subject:Re: [rest-discuss] Re: Pushing with REST<br>
Message:<br><br>
<pre>&gt;&gt;&gt;&gt;&gt; "Aristotle" == Aristotle Pagaltzis &lt;pagaltzis@...&gt; writes:

    Aristotle&gt; * Berend de Boer &lt;berend@...&gt; [2008-09-11 08:10]:
    &gt;&gt; But I'm happy to see a server and framework that doesn't buckle
    &gt;&gt; under 10,000s connections.

    Aristotle&gt; See also http://www.kegel.com/c10k.html :-)

That's not a framework, but more of a technique. Seems similar to what
haproxy does, isn't it? But comments like this always scare me:

  Now in 2007, the core engine is reliable and very robust, despite the
  frightening comments in the code. Event-driven programs are robust and
  fragile at the same time : their code needs very careful changes, but
  the resulting executable handles high loads and supports attacks
  without ever failing. It is the reason why HAProxy only supports a
  fine set of features.

  http://haproxy.1wt.eu/#desi


I mean you can find people on this planet that can write it, there are
probably fewer people who can maintain it, and even fewer who can make
changes to it.

-- 
Cheers,

Berend de Boer

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11289<br>
Sender:Duncan Cragg &lt;rest-discuss@...&gt;<br>
Post Date/Time:2008-09-11 09:33:28<br>
Subject:Re: [rest-discuss] Pushing with REST<br>
Message:<br><br>
<pre>
&gt; I have a REST webservice and I'd like the client to informed about
&gt; certain events without polling for them. My idea is to create a resource
&gt; like /newEvent. Now the client sends a GET request to this method and
&gt; the server answers only when there is a new event. As long as there are
&gt; no new events the connection stays open and the client waits until it
&gt; gets a response or is terminated (timeouts are configured as needed).
&gt;
&gt; I can't decide if this is RESTful and doesn't violate HTTPs GET
&gt; semantics. RFC 2616 says the server can reply to a GET request by doing
&gt; some processing operation first. But I don't think this was meant in a
&gt; way that it waits just indefinitely and sends the response at some
&gt; random point in time. But I'm not quite sure about that.
&gt;
&gt; :
&gt;
&gt; Any comments on the RESTfulness of the first idea? Any better ideas?
&gt;
&gt; 

















Here's an old thread I started on this very subject back in 2002:

http://tech.groups.yahoo.com/group/rest-discuss/message/3052

It was at the exact time Roy joined the list, but he didn't answer 
himself.  =0(


Cheers!

Duncan Cragg


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11290<br>
Sender:Duncan Cragg &lt;rest-discuss@...&gt;<br>
Post Date/Time:2008-09-11 09:46:00<br>
Subject:Re: [rest-discuss] Pushing with REST<br>
Message:<br><br>
<pre>[I'm having trouble replying to the Yahoo HTML email in Thunderbird!]

 &gt; I have a REST webservice and I'd like the client to informed about
 &gt; certain events without polling for them. My idea is to create a resource
 &gt; like /newEvent. Now the client sends a GET request to this method and
 &gt; the server answers only when there is a new event. As long as there are
 &gt; no new events the connection stays open and the client waits until it
 &gt; gets a response or is terminated (timeouts are configured as needed).
 &gt;
 &gt; I can't decide if this is RESTful and doesn't violate HTTPs GET
 &gt; semantics. RFC 2616 says the server can reply to a GET request by doing
 &gt; some processing operation first. But I don't think this was meant in a
 &gt; way that it waits just indefinitely and sends the response at some
 &gt; random point in time. But I'm not quite sure about that.
 &gt; :
 &gt; Any comments on the RESTfulness of the first idea? Any better ideas?
 &gt;
Here's an old thread I started on this very subject back in 2002:

http://tech.groups.yahoo.com/group/rest-discuss/message/3052 
&lt;http://tech.groups.yahoo.com/group/rest-discuss/message/3052&gt;

It was at the exact time Roy joined the list, but he didn't answer
himself. =0(

Cheers!

Duncan Cragg

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11291<br>
Sender:Jim Webber &lt;jim@...&gt;<br>
Post Date/Time:2008-09-11 13:47:55<br>
Subject:Re: [rest-discuss] Pushing with REST<br>
Message:<br><br>
<pre>Hey Andreas,

&gt; Polling is a problem because most of the clients will be mobile  
&gt; devices
&gt; and constant polling would drain the battery in a very short time.

A colleague of mine had this exact same problem a while back (also in  
the mobile domain). He talked me through it and the gist was that he  
could use (something like) XMPP for events AND polling. That way the  
loss of an event isn't disastrous, and HTTP does all the heavy lifting.

I don't know if this is applicable to your domain, but it was a neat  
solution that really appealed to me.

Jim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11292<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-09-11 16:45:36<br>
Subject:Re: [rest-discuss] Re: Pushing with REST<br>
Message:<br><br>
<pre>Aristotle Pagaltzis wrote:
&gt; 
&gt; 
&gt; * Berend de Boer &lt;berend@... &lt;mailto:berend%40pobox.com&gt;&gt; 
&gt; [2008-09-11 03:10]:
&gt;  &gt; I can't speak for XMPP BOSH, but for example with Apache, every
&gt;  &gt; open connection is 1 apache process. A server with 2GB memory
&gt;  &gt; with a typical PHP framework can run about 75 processes = 75
&gt;  &gt; users if we leave the connection open.
&gt; 
&gt; How is that the techniques problem and not Apaches?

Really? How is *not* a problem?

It's not just about flipping over to epoll. There's too much deployed 
web infrastructure that scales on the basis of connections being 
released and requests being short lived things. Like load balancers.  It 
doesn't abstract away easily.

Bill



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11293<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-09-11 16:51:13<br>
Subject:Re: [rest-discuss] Pushing with REST<br>
Message:<br><br>
<pre>Jim Webber wrote:
&gt; 
&gt; 
&gt; Hey Andreas,
&gt; 
&gt;  &gt; Polling is a problem because most of the clients will be mobile
&gt;  &gt; devices
&gt;  &gt; and constant polling would drain the battery in a very short time.
&gt; 
&gt; A colleague of mine had this exact same problem a while back (also in
&gt; the mobile domain). He talked me through it and the gist was that he
&gt; could use (something like) XMPP for events AND polling. That way the
&gt; loss of an event isn't disastrous, and HTTP does all the heavy lifting.
&gt; 
&gt; I don't know if this is applicable to your domain, but it was a neat
&gt; solution that really appealed to me.

If you're on J2ME and the event rate isn't frantic, push registry is an 
option.

http://developers.sun.com/mobility/midp/articles/pushreg/

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11294<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-09-12 06:08:10<br>
Subject:Re: Pushing with REST<br>
Message:<br><br>
<pre>* Bill de hOra &lt;bill@...&gt; [2008-09-11 18:50]:
&gt; There's too much deployed web infrastructure that scales on the
&gt; basis of connections being released and requests being short
&gt; lived things. Like load balancers. It doesn't abstract away
&gt; easily.

Thats not the same argument: you went from N=1 to N&gt;&gt;1. So that
is a good point. I do have to wonder whether a less drastic
measure than switching protocols (like switching ports, or some
such) wouldnt (mostly(?)) suffice as evasive manoeuvre, though.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11295<br>
Sender:"Miika Makinen" &lt;mmiika@...&gt;<br>
Post Date/Time:2008-09-12 03:43:28<br>
Subject:Verbs and resource representations<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11296<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-09-12 15:00:38<br>
Subject:Re: [rest-discuss] Verbs and resource representations<br>
Message:<br><br>
<pre>
On Sep 11, 2008, at 8:43 PM, Miika Makinen wrote:

&gt; change the commune after you've created a project. Is this normal?  
&gt; Is it normal to have different set of data for same resource  
&gt; returned from GET and posted as PUT?

That is possible. Take, e.g. read-only data that only the server can  
create, or data derived from something else, or even hypermedia that  
the server returns in representations, but the client does not usually  
submit. IMO, symmetry between GETs and PUTs is not always possible,  
but keeping them close may be desirable in certain applications.

Subbu

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11297<br>
Sender:Ryan Tomayko &lt;rtomayko@...&gt;<br>
Post Date/Time:2008-09-15 02:41:10<br>
Subject:Gateway ("reverse proxy", "accelerator") Cache Implementations<br>
Message:<br><br>
<pre>I'd like to compile a list of gateway proxy cache implementations. I'm
interested in anything that can plop down in front of an origin server and use
the basic freshness and/or validation mechanisms defined in RFC 2616 Section
13 to serve up cached representations of resources generated by the origin
(e.g., things that describe themselves as a "reverse proxy cache",
"accelerator", or "surrogate cache").

For example, each of the following function in some capacity as a gateway
proxy cache:

  * Apache2 mod_proxy + mod_cache
  * Squid w/ reverse proxy config
  * Varnish

Examples of things that don't qualify:

  * Pound - non-caching reverse proxy
  * Perlbal - and other load balancer proxy type things
  * Non-intermediary / integrated framework caching
    systems (like Rails's) that aren't based on RFC 2616.

I'm also interested in systems like Django's caching framework[1], which
performs many of the caching features described in RFC 2616 but from inside
the origin server using WSGI middleware.

Any information on which caching features are supported by these systems would
also be greatly appreciated (although I'm planning to do this type of research
so a simple link will do). For instance, Varnish caches only those responses
that include freshness information and does not perform validation when a
cached entry goes stale. Stuff like:

  * Support for "Vary"
  * Validation (with ETag and/or Last-Modified)
  * Invalidation (e.g., on PUT, POST, DELETE)
  * Manual purge/invalidation strategy
  * Supported cache storage (desk, shared mem, mmap, memcached, etc.)
  * Anecdotes on configuration/deployment experiences

If this goes well, I'll publish a comparison matrix somewhere. My suspicion
after some light googling is that there aren't a whole lot of implementations
out there so this could be a quick exercise (but I'd love to be proved wrong).

Thanks,
Ryan

[1]: http://docs.djangoproject.com/en/dev/topics/cache/
   "Django's Cache framework [docs.djangoproject.com]"

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11298<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-09-15 10:22:37<br>
Subject:Re: [rest-discuss] Gateway ("reverse proxy", "accelerator") Cache Implementations<br>
Message:<br><br>
<pre>Ryan Tomayko wrote:
&gt;
&gt; I'd like to compile a list of gateway proxy cache implementations. I'm
&gt; interested in anything that can plop down in front of an origin
&gt; server and use the basic freshness and/or validation mechanisms
&gt; defined in RFC 2616 Section 13 to serve up cached representations of
&gt; resources generated by the origin (e.g., things that describe
&gt; themselves as a "reverse proxy cache", "accelerator", or "surrogate
&gt; cache").
&gt; 

Perhaps, if you find enough examples to warrant it, you could split the
matrix into standalone cache components (reverse proxy with squid), and
cache connectors for server components (Apache w/ mod_cache).  One for
the second category is Resin Pro, which meets all your criteria, unless
you're restricting to open-source?  If not, there are also plenty of
appliances to consider, such as:

http://www.juniper.net/products_and_services/app_performance.html

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11299<br>
Sender:"Colin Jack" &lt;colinjack@...&gt;<br>
Post Date/Time:2008-09-14 19:30:07<br>
Subject:REST &amp; DDD<br>
Message:<br><br>
<pre>Hi,

I wanted to ask how many of your are using REST/ROA over a DDD domain 
model and how each of you would recommend going about it?

The technical details don't worry me so much at this stage, it's more 
the process you go through that I'm interested in.

I realize that there is no clean 1-1 mapping between the two 
approaches and nor should there be, neither will there always be a 
clean 1-1 mapping between aggregates/entities and resources. With that 
in mind the resource design could be done entirely separately from the 
domain design, but I'm wondering whether this is sensible or whether 
you would recommend going further and getting stakeholders/domain 
experts involved in the resource design (possibly doing this whilst 
discussing the domain model itself).

Thanks,

Colin


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11300<br>
Sender:"Miika Makinen" &lt;mmiika@...&gt;<br>
Post Date/Time:2008-09-15 13:01:16<br>
Subject:Re: [rest-discuss] REST &amp; DD<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11301<br>
Sender:Stuart Charlton &lt;stuartcharlton@...&gt;<br>
Post Date/Time:2008-09-15 18:41:31<br>
Subject:Re: [rest-discuss] Pushing with REST<br>
Message:<br><br>
<pre>
In particular, I'd recommend looking at Kris Zyp's columns, who seems to be trying hard to fight against this Bayeux nonsense (don't ask if you don't know ;) with more Web-friendly solutions:

http://cometdaily.com/2008/05/13/http-channels-2/



--- On Wed, 9/10/08, Nick Gall &lt;nick.gall@...&gt; wrote:


&gt; Just as a set of HTTP/Javascript/DOM technologies and coding
&gt; techniques got
&gt; the name Ajax, there are a number of approaches for doing
&gt; (pseudo) "push"
&gt; with HTTP that go by the name "Comet". See
&gt; http://en.wikipedia.org/wiki/Comet_(programming)
&gt; for a good jumping off point. See also
&gt; http://cometdaily.com/ . Contrary to
&gt; popular opinion, some of these techniques have impressive
&gt; degrees of
&gt; scalability.
&gt; 




      __________________________________________________________________
Instant Messaging, free SMS, sharing photos and more... Try the new Yahoo! Canada Messenger at http://ca.beta.messenger.yahoo.com/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11302<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-09-15 20:00:39<br>
Subject:Re: [rest-discuss] Pushing with REST<br>
Message:<br><br>
<pre>I'm implementing something a bit different for our push. Normal requests are 
still sent normally to the client. Any request may trigger a notification on 
the server, using a defined service document format used in a PUT.

ie. if the UA wants to advertise it has a /chat uri on which the server can 
operate, it will send a request to the client with a PUT /chatroom/1.

On the meteor connection, the client connects to a known endpoint (that it 
discovered through a service document on the root of the server), GET 
/$batch, and sends a request body containing a multipart entity of previous 
http responses. The response, when triggered, contains another such 
multipart body, with one or many http requests encapsulated in it. When the 
transfer is done, the client reissues the request and send the responses as 
part of the request.

Needs for PubSub are out there, and the limitations or what can be done with 
the browser make us reuse http. That said, the more restful i can make the 
system the better it would be, but I'm not entirely sure such a mechanism 
would indeed be restful in any way.

--------------------------------------------------
From: "Stuart Charlton" &lt;stuartcharlton@...&gt;
Sent: Monday, September 15, 2008 7:41 PM
To: &lt;rest-discuss@yahoogroups.com&gt;
Subject: Re: [rest-discuss] Pushing with REST

&gt;
&gt; In particular, I'd recommend looking at Kris Zyp's columns, who seems to 
&gt; be trying hard to fight against this Bayeux nonsense (don't ask if you 
&gt; don't know ;) with more Web-friendly solutions:
&gt;
&gt; http://cometdaily.com/2008/05/13/http-channels-2/
&gt;
&gt;
&gt;
&gt; --- On Wed, 9/10/08, Nick Gall &lt;nick.gall@...&gt; wrote:
&gt;
&gt;
&gt;&gt; Just as a set of HTTP/Javascript/DOM technologies and coding
&gt;&gt; techniques got
&gt;&gt; the name Ajax, there are a number of approaches for doing
&gt;&gt; (pseudo) "push"
&gt;&gt; with HTTP that go by the name "Comet". See
&gt;&gt; http://en.wikipedia.org/wiki/Comet_(programming)
&gt;&gt; for a good jumping off point. See also
&gt;&gt; http://cometdaily.com/ . Contrary to
&gt;&gt; popular opinion, some of these techniques have impressive
&gt;&gt; degrees of
&gt;&gt; scalability.
&gt;&gt;
&gt;
&gt;
&gt;
&gt;
&gt;      __________________________________________________________________
&gt; Instant Messaging, free SMS, sharing photos and more... Try the new Yahoo! 
&gt; Canada Messenger at http://ca.beta.messenger.yahoo.com/
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11303<br>
Sender:Ryan Tomayko &lt;rtomayko@...&gt;<br>
Post Date/Time:2008-09-15 21:57:21<br>
Subject:Re: [rest-discuss] Gateway ("reverse proxy", "accelerator") Cache Implementations<br>
Message:<br><br>
<pre>Eric J. Bowman wrote:
&gt; Ryan Tomayko wrote:
&gt;&gt; I'd like to compile a list of gateway proxy cache implementations. I'm
&gt;&gt; interested in anything that can plop down in front of an origin
&gt;&gt; server and use the basic freshness and/or validation mechanisms
&gt;&gt; defined in RFC 2616 Section 13 to serve up cached representations of
&gt;&gt; resources generated by the origin (e.g., things that describe
&gt;&gt; themselves as a "reverse proxy cache", "accelerator", or "surrogate
&gt;&gt; cache").
&gt;&gt;
&gt; 
&gt; Perhaps, if you find enough examples to warrant it, you could split the
&gt; matrix into standalone cache components (reverse proxy with squid), and
&gt; cache connectors for server components (Apache w/ mod_cache).

Sure will.

&gt; One for the second category is Resin Pro, 

Great. I assume this is it?:

http://caucho.com/resin/doc/proxy-cache.xtp

&gt; which meets all your criteria, unless you're restricting to open-source?

Nope. Non-free stuff is fine for my purposes. The goal is to see how 
widespread support is for some of the more interesting caching features 
(like validation / invalidation) in modern systems. I figure non-free 
software will be around for a few more years &lt;grin&gt; so I still include 
it in my definition of "modern".

&gt; If not, there are also plenty of appliances to consider, such as:
&gt; 
&gt; http://www.juniper.net/products_and_services/app_performance.html

That's perfect. Thanks.

Ryan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11304<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-09-15 23:04:27<br>
Subject:Re: [rest-discuss] REST &amp; DDD<br>
Message:<br><br>
<pre>Colin Jack wrote:
&gt; 
&gt; 
&gt; Hi,
&gt; 
&gt; I wanted to ask how many of your are using REST/ROA over a DDD domain
&gt; model and how each of you would recommend going about it?
&gt; 
&gt; The technical details don't worry me so much at this stage, it's more
&gt; the process you go through that I'm interested in.
&gt; 
&gt; I realize that there is no clean 1-1 mapping between the two
&gt; approaches and nor should there be, neither will there always be a
&gt; clean 1-1 mapping between aggregates/entities and resources. With that
&gt; in mind the resource design could be done entirely separately from the
&gt; domain design, but I'm wondering whether this is sensible or whether
&gt; you would recommend going further and getting stakeholders/domain
&gt; experts involved in the resource design (possibly doing this whilst
&gt; discussing the domain model itself).

Once the domain model is sorted out, I create a "controller" (it's not a 
controller in the usual sense) for each domain object. The controller 
responds to methods on those objects - typically in the code this is 
listing, filters, getBykey and create/update/delete operations. IOW I 
don't create controllers organized around the invoked action, query 
style, or data structure unless the framework really wants me to do that.

These domain controllers talk to either a domain facade (manager) or a 
service depending on how you have your code laid out.

One thing that's worth getting right (albeit an impl relative to the 
network interface) is the repository pattern Evans talks about. Most 
impls I've seen claiming to be repositories this are in fact per table 
DAOs mapped direct to the RDBMS, but the full pattern is much more 
useful and supports loose mapping onto things like mainframes, sharded 
dbs and LDAP systems. It's hard to see the value until you step outside 
the usual database/LAMP installations.

Partial updates are still a challenge practically speaking; I'm leaning 
towards forms POSTing directly to the resource. All the diff/delta based 
approaches I've seen over POST/PATCH are too complicated to see adoption 
right now (this is problem with the various formats and not the PATCH 
method); a forms update is usable for developers.

You're right therre's no 1-1 mapping; as of yet this is considered a 
problem for REST style approaches as opposed to a necessary impedance 
mismatch the way RDBMS/OO is; I think the MVC pattern will slowly 
replaced by "View ORMs" - Object Resource Mappers.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11305<br>
Sender:"Subhash Chandran" &lt;subwiz@...&gt;<br>
Post Date/Time:2008-09-19 03:41:17<br>
Subject:[Announce] RESTClient 2.2 Released<br>
Message:<br><br>
<pre>I am happy to announce the immediate availability of RESTClient
version 2.2:

http://rest-client.googlecode.com/

Two prominent feature additions from version 2.1 are:

1. Syntax highlight support
2. SSL support

The complete changelog is available here:

http://code.google.com/p/rest-client/wiki/ReleaseNotes

New features and bugs can be reported here:

http://code.google.com/p/rest-client/issues/list

Subhash.
Contributor, RESTClient.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11306<br>
Sender:"Miika Makinen" &lt;mmiika@...&gt;<br>
Post Date/Time:2008-09-23 06:39:26<br>
Subject:Authentication and authorization<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11307<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-09-23 09:59:51<br>
Subject:Re: Authentication and authorization<br>
Message:<br><br>
<pre>* Miika Makinen &lt;mmiika@...&gt; [2008-09-23 08:45]:
&gt; What is the current trend in authentication + authorization?
&gt; Majority of browsers support digest now, are people using this
&gt; or going cookie way?

The other problems with HTTP Auth in browsers:

 No reliable method of logging a user out.
 No control over the login form.

The first of these may in fact be solved if you are concerned
only with modern browsers.

The second can be made to work with the aid of Ajax, but not
consistently across browsers, last I heard of that approach.

So overall, were getting close, and depending on your audience
you may be able to start using HTTP Auth in browsers even today.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11308<br>
Sender:Sean Kennedy &lt;seandkennedy@...&gt;<br>
Post Date/Time:2008-09-23 13:02:05<br>
Subject:size limit on data?<br>
Message:<br><br>
<pre>Hi,
   Just wondering : is there a size limit when sending/receiving data via REST and how does this compare to SOAP?

Thanks,
Sean.



      </pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11309<br>
Sender:Justin Sheehy &lt;justin@...&gt;<br>
Post Date/Time:2008-09-23 13:08:03<br>
Subject:Re: [rest-discuss] size limit on data?<br>
Message:<br><br>
<pre>
On Sep 23, 2008, at 9:02 AM, Sean Kennedy wrote:

&gt; Just wondering : is there a size limit when sending/receiving data  
&gt; via REST and how does this compare to SOAP?

No, there is no REST constraint restricting data size.  Of course, a  
given set of implementation characteristics can always impose a limit,  
but that's not a result of REST.

-Justin



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11310<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-09-23 13:55:28<br>
Subject:Re: [rest-discuss] Authentication and authorization<br>
Message:<br><br>
<pre>Miika:

Currently, the pattern I use is to first support Basic/Digest
Authentication 'as-is' for web applications. This means typical
'command-line' tools such as WGET, CURL, and WFETCH can use standard
authentication w/o any problems.

In addition, as needed, I implement an optional web login form and
cookie pattern based on Basic Auth that can be recognized by the
server framework. This makes it possible for the server to
authenticate using either the custom cookie pattern or standard
authentication.

This is especially handy w/ Ajax apps as the client can use scripting
to prompt for username/passwords, encode the results and either set
the cookie directly or pass to the server for processing. All done
without any 'plain text' passing of credentials.

mca
http://amundsen.com/blog/




On Tue, Sep 23, 2008 at 02:39, Miika Makinen &lt;mmiika@...&gt; wrote:
&gt; What is the current trend in authentication + authorization? Majority of
&gt; browsers support digest now, are people using this or going cookie way? I'm
&gt; building something used by an ajax app and trying to decide which way to
&gt; go...
&gt; Cheers,
&gt; Miika
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11311<br>
Sender:Berend de Boer &lt;berend@...&gt;<br>
Post Date/Time:2008-09-23 20:21:52<br>
Subject:Re: [rest-discuss] Re: Authentication and authorization<br>
Message:<br><br>
<pre>&gt;&gt;&gt;&gt;&gt; "Aristotle" == Aristotle Pagaltzis &lt;pagaltzis@...&gt; writes:

    Aristotle&gt; The [custom login form] can be made to work with the aid
    Aristotle&gt; of Ajax, but not consistently across browsers, last I
    Aristotle&gt; heard of that approach.

Consistent enough I would say.


    Aristotle&gt; So overall, were getting close, and depending on your
    Aristotle&gt; audience you may be able to start using HTTP Auth in
    Aristotle&gt; browsers even today.

I wouldn't even consider anything else. Sending passwords in plain text
as is the norm these days is just crazy.

-- 
Cheers,

Berend de Boer

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11312<br>
Sender:"Chuck Hinson" &lt;chuck.hinson@...&gt;<br>
Post Date/Time:2008-09-23 20:38:21<br>
Subject:SOA architectural constraints<br>
Message:<br><br>
<pre>Am I missing something here, or are people confusing architectural
constraints with the qualities that those constraints induce?

  http://www.itbusinessedge.com/item/?ci=47620&amp;sr=1

Gall's list of the five constraints of the 'SOA architectural style' -
modular, distributable, describable, sharable, (aka reusable), and
loosely coupled - all seem to be desirable qualities for a system to
exhibit, but I wouldn't call them architectural constraints.  Do I
misunderstand the concept of architectural constraints?

--Chuck

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11313<br>
Sender:"David Orchard" &lt;orchard@...&gt;<br>
Post Date/Time:2008-09-23 20:59:30<br>
Subject:Re: [rest-discuss] SOA architectural constraints<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11314<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-09-23 21:05:39<br>
Subject:Re: [rest-discuss] SOA architectural constraints<br>
Message:<br><br>
<pre>Chuck Hinson wrote:
&gt; 
&gt; 
&gt; Am I missing something here, or are people confusing architectural
&gt; constraints with the qualities that those constraints induce?
&gt; 
&gt; http://www.itbusinessedge.com/item/?ci=47620&amp;sr=1 
&gt; &lt;http://www.itbusinessedge.com/item/?ci=47620&amp;sr=1&gt;
&gt; 
&gt; Gall's list of the five constraints of the 'SOA architectural style' -
&gt; modular, distributable, describable, sharable, (aka reusable), and
&gt; loosely coupled - all seem to be desirable qualities for a system to
&gt; exhibit, but I wouldn't call them architectural constraints. Do I
&gt; misunderstand the concept of architectural constraints?

It's called positioning.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11315<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2008-09-23 21:11:28<br>
Subject:Re: [rest-discuss] SOA architectural constraints<br>
Message:<br><br>
<pre>On Sep 23, 2008, at 1:38 PM, Chuck Hinson wrote:

&gt; Am I missing something here, or are people confusing architectural
&gt; constraints with the qualities that those constraints induce?
&gt;
&gt; http://www.itbusinessedge.com/item/?ci=47620&amp;sr=1
&gt;
&gt; Gall's list of the five constraints of the 'SOA architectural style' -
&gt; modular, distributable, describable, sharable, (aka reusable), and
&gt; loosely coupled - all seem to be desirable qualities for a system to
&gt; exhibit, but I wouldn't call them architectural constraints. Do I
&gt; misunderstand the concept of architectural constraints?
&gt;

Right, they are desired architectural properties.  However, Nick's
list of properties for SOA is consistent with IBM and MS marketing.
When has SOA ever been described as constraining anything?  The  
reasonable
conclusion is that SOA is neither an architecture nor a style, but
rather a set of goals that can be sold to overmatched CIOs regardless
of the corresponding architecture or implementation.

....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11316<br>
Sender:James Sweeney &lt;jsweeney@...&gt;<br>
Post Date/Time:2008-09-24 23:15:58<br>
Subject:URI definition question<br>
Message:<br><br>
<pre>Im a relative newby to REST, but I have the task of defining a URI pattern
for a new RESTful web service.  Ive read a lot of general design axioms
around this problem, but I havent seen a lot of specific discussion of
addressable resources where the data for the resource is, at the lowest
level, the result of an SQL query.  My question is around the pros and cons
of using query parameters vs. hard-coded URI segments.

Say we have a database of movies and are looking for The Godfather.
Certainly something like www.movies.com/movies/dramas/Godfather,The may
uniquely identify the target resource and be more readable, but is this
better than something more dynamic like
www.movies.com/movies?genre=dramas&amp;title=Godfather,The ?

It seems like the former forces the server to understand the hard-coded
semantics of each URI segment and seems more limiting in that regard,
whereas the latter seems to be a more flexible addressing mechanism, yet
most examples of RESTful URI definitions Ive seen seem to prefer the
former.  Id love to hear anyones observations about the trade-offs and how
I might be missing some considerations in approaching this problem?

Thanks!
Jim Sweeney

IMPORTANT NOTICE: This e-mail message is intended to be received only by persons entitled to receive the confidential information it may contain. E-mail messages sent from Bridgepoint Education, Inc. may contain information that is confidential and may be legally privileged. Please do not read, copy, forward or store this message unless you are an intended recipient of it. If you received this transmission in error, please notify the sender by reply e-mail and delete the message and any attachments.
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11317<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-09-25 00:38:02<br>
Subject:Re: [rest-discuss] URI definition question<br>
Message:<br><br>
<pre>&gt; www.movies.com/movies/dramas/Godfather,The may uniquely identify the  
&gt; target resource and be more readable, but is this better than  
&gt; something more dynamic like www.movies.com/movies?genre=dramas&amp;title=Godfather,The 
&gt;  ?

Better in what way? IMO, when all else is done right, the differences  
are syntactic.

One practice I have observed is that, when the latter approach is in  
use, there is a temptation to overdo query parameters and avoid  
focusing on modeling resources. For instance, you could overload the  
same "/movies" and implement all movie related use cases via query  
parameters. In doing so, operation names could creep into URIs. For  
instance, "/movies?genre=dramas&amp;tile=Godfather&amp;op=edit", which  
bypasses the uniform interface. In that sense, this could become a  
slippery slope. Consequently, in those cases where URIs need to be  
created manually by client developers, they will have a hard time to  
determine what the resource model is.

Secondly, due to historical conventions, some consider query  
parameters as optional parameters and say that a request to the URI  
should continue to serve something even if all or some query  
parameters are omitted from the URI. This is not dictated by any  
standard, but it follows from how query parameters are used in popular  
usages on the web such as search.

Thirdly, due to some historic reasons, when query params are used on  
URIs, caches may ignore the caching response headers and not cache  
responses.

Given this, I suggest the former approach, and reserve query  
parameters to cases where they are most needed. Examples include agent- 
driven negotiation (e.g. when you want to take a query parameter with  
a shortname for a media type, such as "?format=atom"),  paginating a  
collection of movie resources (as in "?start=10&amp;count=10") etc.

Subbu

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11318<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-09-25 08:41:33<br>
Subject:Re: URI definition question<br>
Message:<br><br>
<pre>* James Sweeney &lt;jsweeney@...&gt; [2008-09-25 01:35]:
&gt; Im a relative newby to REST, but I have the task of defining a
&gt; URI pattern for a new RESTful web service.

Note that RESTfulness has to do mainly with the content of the
responses you return and much less with the URIs you serve them
from. Focusing overly much on URIs and forgetting to design your
representations will lead you to a hybrid, RPCish system design.

&gt; Say we have a database of movies and are looking for The
&gt; Godfather. Certainly something like
&gt; www.movies.com/movies/dramas/Godfather,The may uniquely
&gt; identify the target resource and be more readable, but is this
&gt; better than something more dynamic like
&gt; www.movies.com/movies?genre=dramas&amp;title=Godfather,The ?

Yes, because it uniquely identifies the target resource and is
more readale. :-)

URI design is a separate concern from REST architecture, and has
its own considerations. Stability, uniqueness and readability of
URIs are all primary concerns of this discipline.

&gt; It seems like the former forces the server to understand the
&gt; hard-coded semantics of each URI segment and seems more
&gt; limiting in that regard

Imposing limitations in the right places is to be welcomed,
not avoided. To create order means to impose limitations and
constraints on what would otherwise be chaos. The trick is
knowing when and which limitations are useful, and which not.

&gt; whereas the latter seems to be a more flexible addressing
&gt; mechanism, yet most examples of RESTful URI definitions Ive
&gt; seen seem to prefer the former.

Stable, unique URIs tend to force you to think about the
resources you have as things with an idenity. Using query
parameters tends to tempt you into thinking mainly in terms
of the computations which serve the responses. The latter way
isnt actually wrong, but lacking sufficient experience, you
will quickly fall into the trap of thinking of URIs as names
for remote subroutines, and end up exposing an RPC interface
that is only accidentally and partially RESTful.

&gt; IMPORTANT NOTICE: This e-mail message is intended to be
&gt; received only by persons entitled to receive the confidential
&gt; information

PS.: it would be courteous of you if you could arrange for that
(ineffectual in any case) disclaimer to not be added when you
post to an open, public, and publically archived mailing list.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11319<br>
Sender:Story Henry &lt;henry.story@...&gt;<br>
Post Date/Time:2008-09-25 09:59:47<br>
Subject:Publishing Java Objects RESTfully using JAX-RS<br>
Message:<br><br>
<pre>I spent a bit of time last weak with Paul Sandoz in Grenoble to put  
together a prototype to help publish object easily using Jersey the  
RESTfull services reference implementation.

The problem to solve here is to remove the need to invent new file  
formats ever again. By annotating the fields and the objects with @rdf  
annotations this can be done very easily as described here

    http://blogs.sun.com/bblfish/entry/serialising_java_objects_to_rdf

With a bit of usage and feedback, I am sure this could be made even  
simpler.

	Henry

Home page: http://bblfish.net/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11320<br>
Sender:Ryan Tomayko &lt;rtomayko@...&gt;<br>
Post Date/Time:2008-09-25 16:26:49<br>
Subject:Re: [rest-discuss] Re: Authentication and authorization<br>
Message:<br><br>
<pre>Aristotle Pagaltzis wrote:
&gt; * Miika Makinen &lt;mmiika@...&gt; [2008-09-23 08:45]:
&gt;&gt; What is the current trend in authentication + authorization?
&gt;&gt; Majority of browsers support digest now, are people using this
&gt;&gt; or going cookie way?
&gt; 
&gt; The other problems with HTTP Auth in browsers:
&gt; 
&gt;  No reliable method of logging a user out.
&gt;  No control over the login form.
&gt; 
&gt; The first of these may in fact be solved if you are concerned
&gt; only with modern browsers.

Really? You mean, this?:

http://www.berenddeboer.net/rest/authentication.html
http://nanodocumet.homedns.org/rest/

While this may be _a_ solution, it sure doesn't feel like a very good one.

Shouldn't forced logout be a function provided by UAs (and other types of
clients)?

Ryan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11321<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-09-25 16:51:09<br>
Subject:Re: Authentication and authorization<br>
Message:<br><br>
<pre>* Ryan Tomayko &lt;rtomayko@...&gt; [2008-09-25 18:30]:
&gt; Really? You mean, this?

Yes. I read about this issue a long time ago so I dont know
behaviour more recent IE and Opera versions exhibit. Gecko has
always been sane, forgetting credentials for a realm upon getting
a 401 for it. I always assumed that the other browsers would
eventually come to do likewise.

&gt; Shouldn't forced logout be a function provided by UAs (and
&gt; other types of clients)?

Of course! But you work with the browsers you have, not the
browsers you wish you could have

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11322<br>
Sender:"David Orchard" &lt;orchard@...&gt;<br>
Post Date/Time:2008-09-25 17:51:28<br>
Subject:Re: [rest-discuss] Re: Authentication and authorization<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11323<br>
Sender:Berend de Boer &lt;berend@...&gt;<br>
Post Date/Time:2008-09-25 21:36:13<br>
Subject:Re: [rest-discuss] Re: Authentication and authorization<br>
Message:<br><br>
<pre>&gt;&gt;&gt;&gt;&gt; "Ryan" == Ryan Tomayko &lt;rtomayko@...&gt; writes:

    Ryan&gt; While this may be _a_ solution, it sure doesn't feel like a
    Ryan&gt; very good one.

    Ryan&gt; Shouldn't forced logout be a function provided by UAs (and
    Ryan&gt; other types of clients)?

Recently someone emailed me a different solution: always use a logged in
user, which would be "anonymous" if you don't know anything else. So you
don't have to force logout, you are always logged in as someone.

-- 
Cheers,

Berend de Boer

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11324<br>
Sender:Berend de Boer &lt;berend@...&gt;<br>
Post Date/Time:2008-09-25 21:42:20<br>
Subject:Re: [rest-discuss] Re: Authentication and authorization<br>
Message:<br><br>
<pre>&gt;&gt;&gt;&gt;&gt; "David" == David Orchard &lt;orchard@...&gt; writes:

    David&gt; Yeah, I keep trying to say that :-)
    David&gt; http://www.w3.org/2001/tag/doc/passwordsInTheClear-52

On SSL (section 2.1.2), isn't SSL also vulnerable to man-in-the-middle
attacks? Until know I've operated under the assumption that digest and
SSL are basically equally (in)secure when it comes to passwords.

-- 
Cheers,

Berend de Boer

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11325<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-09-25 22:19:00<br>
Subject:Re: Authentication and authorization<br>
Message:<br><br>
<pre>* Berend de Boer &lt;berend@...&gt; [2008-09-25 23:45]:
&gt; On SSL (section 2.1.2), isn't SSL also vulnerable to
&gt; man-in-the-middle attacks? Until know I've operated
&gt; under the assumption that digest and SSL are basically
&gt; equally (in)secure when it comes to passwords.

Significantly less so, if only browsers would deal with host
certificates sanely.

(Namely, they should accept any valid host certificates, or make
it easy to do so, no matter whether it is signed by a CA or
which, and should then store it. If they then detect a change of
cert upon a subsequent visit, they should throw up a scary error
page to notify the user. Its much more important to be able to
verify that the site I am visiting today is the same site as the
one I went to yesterday than it is to know whether someone gave
money to this CA or that; so thats the end to which browsers
should use SSL certs.)

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11326<br>
Sender:Bruno Harbulot &lt;Bruno.Harbulot@...&gt;<br>
Post Date/Time:2008-09-25 22:22:27<br>
Subject:Re: Authentication and authorization<br>
Message:<br><br>
<pre>

Berend de Boer wrote:
&gt; 
&gt; 
&gt;  &gt;&gt;&gt;&gt;&gt; "David" == David Orchard &lt;orchard@... 
&gt; &lt;mailto:orchard%40pacificspirit.com&gt;&gt; writes:
&gt; 
&gt; David&gt; Yeah, I keep trying to say that :-)
&gt; David&gt; http://www.w3.org/2001/tag/doc/passwordsInTheClear-52 
&gt; &lt;http://www.w3.org/2001/tag/doc/passwordsInTheClear-52&gt;
&gt; 
&gt; On SSL (section 2.1.2), isn't SSL also vulnerable to man-in-the-middle
&gt; attacks? Until know I've operated under the assumption that digest and
&gt; SSL are basically equally (in)secure when it comes to passwords.

No, SSL is designed not to be vulnerable to man-in-the-middle attacks, 
and servers its purpose fairly well when configured properly.
The weaknesses relating to Digest authentication don't apply with 
SSLv3/TLS. As mentioned in Section 2.1.1 about Digest Authentication, 
downgrading could happen with SSLv2, but most SSL libraries disable it 
by default as far as I know.


Best wishes,

Bruno.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11327<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-09-25 22:37:26<br>
Subject:Re: [rest-discuss] Re: Authentication and authorization<br>
Message:<br><br>
<pre>In digest, the client always sends the realm. If the clients wants to logout 
by issuing a post or delete on its authentication resource, the server will 
know that the realm is no longer valid. At that stage it will consider the 
authentication for that realm to be outdated and the user to be anonymous. 
Any access to a protected resource will simply re-trigger a 401.

I've not experiemented with that technique yet. The server would have to 
keep track of which realms were used and discarded, or simply of the ones 
that have been issued and delete them when the user logs out or times out.

I'm a bit worried that this approaches leads to UAs still believing they are 
authorized, and suddenly stop being authorized without any form of obvious 
communication. Maybe the fact that a 401 is re-issued is enough to make that 
solution restful?

Seb
--------------------------------------------------
From: "Berend de Boer" &lt;berend@...&gt;
Sent: Thursday, September 25, 2008 10:36 PM
To: "Ryan Tomayko" &lt;rtomayko@...&gt;
Cc: &lt;rest-discuss@yahoogroups.com&gt;
Subject: Re: [rest-discuss] Re: Authentication and authorization

&gt;&gt;&gt;&gt;&gt;&gt; "Ryan" == Ryan Tomayko &lt;rtomayko@...&gt; writes:
&gt;
&gt;    Ryan&gt; While this may be _a_ solution, it sure doesn't feel like a
&gt;    Ryan&gt; very good one.
&gt;
&gt;    Ryan&gt; Shouldn't forced logout be a function provided by UAs (and
&gt;    Ryan&gt; other types of clients)?
&gt;
&gt; Recently someone emailed me a different solution: always use a logged in
&gt; user, which would be "anonymous" if you don't know anything else. So you
&gt; don't have to force logout, you are always logged in as someone.
&gt;
&gt; -- 
&gt; Cheers,
&gt;
&gt; Berend de Boer
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11328<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-09-26 23:24:37<br>
Subject:What REST constraint forbids centralized link servers?<br>
Message:<br><br>
<pre>"Since centralized link servers are an anathema to the immense scale
and multi-organizational domain requirements of the Web, REST relies
instead on the author choosing a resource identifier that best fits
the nature of the concept being identified." p.90

I've been doing a VERY close reading of Roy's thesis (ie searching for
every use of key terms used in the thesis), and I can't find any
constraint articulated in either the chart (mapping styles to
properties) or the graph (showing the derivation of REST from the null
architecture) that directly addresses link dereferencing issues.

Certainly the composite style known as LCODC$SS does not constrain
link dereferencing. And the Uniform Interface constraint (composed of
the constraints identification of resources, manipulation of resources
through representations, self-descriptive messages, and HATEOAS) also
does not rule out centralized link servers.

So is this actually an implicit constraint that should be made
explicit, or is there some existing constraint in the thesis the
clearly forbids centralized link servers.

-- Nick

Nick Gall
Phone: +1.781.608.5871
AOL IM: Nicholas Gall
Yahoo IM: nick_gall_1117
MSN IM: (same as email)
Google Talk: (same as email)
Email: nick.gall AT-SIGN gmail DOT com
Weblog: http://ironick.typepad.com/ironick/
Furl: http://www.furl.net/members/ngall

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11329<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2008-09-27 20:39:49<br>
Subject:Re: [rest-discuss] What REST constraint forbids centralized link servers?<br>
Message:<br><br>
<pre>On Sep 26, 2008, at 4:24 PM, Nick Gall wrote:
&gt; "Since centralized link servers are an anathema to the immense scale
&gt; and multi-organizational domain requirements of the Web, REST relies
&gt; instead on the author choosing a resource identifier that best fits
&gt; the nature of the concept being identified." p.90
&gt;
&gt; I've been doing a VERY close reading of Roy's thesis (ie searching for
&gt; every use of key terms used in the thesis), and I can't find any
&gt; constraint articulated in either the chart (mapping styles to
&gt; properties) or the graph (showing the derivation of REST from the null
&gt; architecture) that directly addresses link dereferencing issues.
&gt;
&gt; Certainly the composite style known as LCODC$SS does not constrain
&gt; link dereferencing. And the Uniform Interface constraint (composed of
&gt; the constraints identification of resources, manipulation of resources
&gt; through representations, self-descriptive messages, and HATEOAS) also
&gt; does not rule out centralized link servers.
&gt;
&gt; So is this actually an implicit constraint that should be made
&gt; explicit, or is there some existing constraint in the thesis the
&gt; clearly forbids centralized link servers.
&gt;

Don't confuse architectural constraints (the choices we make as
designers) with environmental constraints (the forces imposed on
us by context).  The set of REST constraints only includes the former.

REST designs around the fact that centralized link servers do not
work across multiple organizations because they are too expensive
to maintain and create a significant entry-hurdle to deploying
independent content.  That doesn't prevent people from deploying
their own link servers and making use of them on the Web.  For example,
see the work on Hyper-G and HyperWave in the 90s.  They claimed that
a p-flood algorithm for distributing link changes was enough to
handle the scalability problem, but I never saw an installation of
Hyper-G that was even one-millionth the size of the Web/Intranets.

....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11330<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-09-27 21:18:45<br>
Subject:Re: [rest-discuss] What REST constraint forbids centralized link servers?<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11331<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2008-09-27 23:11:28<br>
Subject:Re: [rest-discuss] What REST constraint forbids centralized link servers?<br>
Message:<br><br>
<pre>On Sep 27, 2008, at 2:18 PM, Nick Gall wrote:
&gt; So does this mean, in a nutshell, that the architectural  
&gt; constraints that comprise the REST architectural style do NOT rule  
&gt; out centralized link servers?

Perhaps you should define what you mean by link servers.  The term
has been variously used as a single source of unique token to location
mappings and/or active editing of content to replace relations.

REST constrains that there is a single system for identification of
resources and that said system identifies resources as a conceptual
mapping rather than a fixed content mapping.  I am pretty sure one could
build a link server within that constraint, but I doubt that it would
be worth the investment.

&gt; If so, I don't understand locutions such as "REST relies instead"  
&gt; and "REST designs around". REST is not an agent (a source of  
&gt; agency) with a will of its own. Only a (human) designer can "rely"  
&gt; or "design around". Correct?

REST is a set of design decisions made at many junctures along
the path of the Web.  Most of them were not made by me in any sense
other than protecting those that worked and discarding those that did
not. So, aside from those parts of the architecture that I did design,
I prefer not to say that "I designed around ...".  If you have a name
for the collective agent that reared its multitude of heads on the
www-talk mailing list and other private discussions surrounding the
core development teams from 92-95, then be my guest.  We used to call
that collective the WWW Project, but it was really more of a loose
community of like-minded souls with stubborn opinions.

In any case, REST is an architectural style, which make REST an
agent of change when adherence to that style is self-imposed.
You will find the same grammatical usage in traditional architecture.

&gt; For example, a designer attempting to rigorously follow REST's  
&gt; architectural constraints might  nonetheless decide to build a  
&gt; scalable centralized link server. Such a designer would still  
&gt; deserve the appellation "RESTful designer" (ie one who faithfully  
&gt; follows the architectural constraints of REST). Correct?

Maybe (that's a rather small part of the overall architecture).
In any case, it is kind of pointless because the definition of
resource in REST is specifically designed to reduce the need for
link servers [which, traditionally, were intended to maintain
strict content relationships and not the abstract resource relations
that are found on the Web].

&gt; Or the RESTful designer might try to build a decentralized link  
&gt; server in the style of DNS. Or finally, the RESTful designer may  
&gt; leave it up to each DNS-domain owner to maintain the integrity of  
&gt; links (the approach the thesis recommends).

DNS is not a link server.  A link server manages both endpoints of a
link.  A link server that only manages the end point of a link is just
a name resolution server, which is equivalent DNS and a subset of HTTP.

&gt; All of these options are open to one faithfully following the  
&gt; architectural constraints of REST. A critic of one approach would  
&gt; have no right to say, "Your centralized link server approach is not  
&gt; RESTful." The worst one could say about such a design is, "Well,  
&gt; while you've faithfully followed the architectural constraints of  
&gt; REST, given the environmental constraints of the actual Web circa  
&gt; 2008, your approach turns out to be less scalable than the approach  
&gt; of leaving link forwarding up to the domain owners."
&gt;
&gt; Agreed?

I honestly don't give a rat's ass about architectural purity unless
it achieves a pure purpose.  The purpose of REST is to explain why you
want to build it in a certain way given the Web's own context.  If that
context doesn't exactly match a new application's context, then the  
goal of
my dissertation is to teach people how to think about the problem in  
terms
of trade-offs, not in terms of rigid repetition of what works for the  
Web.

&gt; Finally, given all this why NOT add a constraint to REST that rules  
&gt; out centralized link serving (and perhaps other centralized  
&gt; approaches)? Was the omission of such a constraint intentional?

It was intentional.  More accurately, the specific change that I made to
the definition of resource (and in this case I really do mean "I") so  
that
it emphasized a conceptual mapping instead of identifying the  
representation
(the document returned at some past time) was specifically to obviate  
the
need (or even desire) for hypertext link servers as described by the
prevailing hypertext research at the time.  UCI was on the leading  
edge of
hypertext research and I was well aware of those systems,  
particularly when
they claimed they were better than the Web.  The new definition also  
matched
how people used URIs in practice, which is something I learned in my  
early
research with MOMspider when I codified all of the ways that a link  
could
"break" on the Web.

I think you will find that "A resource can map to the empty set, which
allows references to be made to a concept before any realization of that
concept exists" is rather difficult to provide with a link server unless
you also remove the integrity provisions (the entire point of having a
link server).

&gt; It seems odd that an architectural style so associated with  
&gt; decentralization does not in fact explicitly constrain against  
&gt; centralized implementations. I for one was surprise to find that  
&gt; centralized approaches such as a centralized link server is NOT  
&gt; ruled out by REST.

It didn't have to.  Seriously, it is hard enough defending the  
constraints
that needed to exist.  There is no reason to include additional stuff  
like
"should not be used as a process control system inside a nuclear  
reactor."

....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11332<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2008-09-28 01:08:50<br>
Subject:Re: [rest-discuss] What REST constraint forbids centralized link servers?<br>
Message:<br><br>
<pre>On Sat, Sep 27, 2008 at 6:11 PM, Roy T. Fielding &lt;fielding@...&gt; wrote:

&gt; It didn't have to.  Seriously, it is hard enough defending the
&gt; constraints
&gt; that needed to exist.  There is no reason to include additional stuff
&gt; like
&gt; "should not be used as a process control system inside a nuclear
&gt; reactor."
&gt;

oh crap... *furiously rewriting my Web 2.0  nuclear reactor process
control system*

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11333<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-09-28 04:40:24<br>
Subject:Re: [rest-discuss] What REST constraint forbids centralized link servers?<br>
Message:<br><br>
<pre>
On Sep 27, 2008, at 2:18 PM, Nick Gall wrote:

&gt; It seems odd that an architectural style so associated with  
&gt; decentralization does not in fact explicitly constrain against  
&gt; centralized implementations. I for one was surprise to find that  
&gt; centralized approaches such as a centralized link server is NOT  
&gt; ruled out by REST.
&gt;

Since your intent seems to be about finding a rationale for  
centralized link servers, keeping REST's constraints aside for a bit,  
do you have some rationale? It seems odd to check the rule book first  
before committing a deed.

Subbu

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11334<br>
Sender:"Tim Williams" &lt;williamstw@...&gt;<br>
Post Date/Time:2008-09-25 10:40:31<br>
Subject:Re: [rest-discuss] URI definition question<br>
Message:<br><br>
<pre>On Wed, Sep 24, 2008 at 7:15 PM, James Sweeney
&lt;jsweeney@...&gt; wrote:
&gt; I'm a relative newby to REST, but I have the task of defining a URI pattern
&gt; for a new RESTful web service.  I've read a lot of general design axioms
&gt; around this problem, but I haven't seen a lot of specific discussion of
&gt; addressable resources where the data for the resource is, at the lowest
&gt; level, the result of an SQL query.  My question is around the pros and cons
&gt; of using query parameters vs. hard-coded URI segments.
&gt;
&gt; Say we have a database of movies and are looking for The Godfather.
&gt;  Certainly something like www.movies.com/movies/dramas/Godfather,The may
&gt; uniquely identify the target resource and be more readable, but is this
&gt; better than something more dynamic like
&gt; www.movies.com/movies?genre=dramas&amp;title=Godfather,The ?
&gt;
&gt; It seems like the former forces the server to understand the hard-coded
&gt; semantics of each URI segment and seems more limiting in that regard,
&gt; whereas the latter seems to be a more flexible addressing mechanism, yet
&gt; most examples of RESTful URI definitions I've seen seem to prefer the
&gt; former.  I'd love to hear anyone's observations about the trade-offs and how
&gt; I might be missing some considerations in approaching this problem?

I don't think one is necessarily more flexible than the other since
most servers will allow you to easily dispatch off of any of the
information with wildcards in the URI itself.

I'm actually surprised at the more or less indifferent responses so
far since I've assumed the former is better all along.  The only
justification I can think of right now is that the former "looks" more
like a static resource to me whereas the latter seems like a poorly
named parameterized function.  Maybe this is more style and subject
than I thought.

--tim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11335<br>
Sender:"yaoyaoo2000" &lt;yaoyaoo2000@...&gt;<br>
Post Date/Time:2008-09-27 08:50:03<br>
Subject:delete with  additional information<br>
Message:<br><br>
<pre>i'm designing restful api for an event website.

one can post to api.xxx.com/events to create a new event
put to api.xxx.com/event/xxx to update info of an event

delete to api.xxx.com/event/xxx to delete an event

of course only the creator of the event can delete it. and i want the
creator to give the reason when he delete the event, how should I do this:
    1. add 'reason' in header
 or 2. require an xml entry containing reason when delete event?


which way is prefered? many thanks


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11336<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-09-29 01:12:58<br>
Subject:Re: Unable to deliver your message<br>
Message:<br><br>
<pre>&gt; Sounds to me like you have defined a "delete-event" resource that
&gt; needs to be POSTed to the server
&gt;
&gt; POST /delete-events/{id}
&gt; &lt;reason&gt;xcxcccccc&lt;/reason&gt;
&gt;
&gt; Some possible advantages:
&gt; - you can validate the "delete-event" document and deny the delete if
&gt; it is invalid
&gt; - you can (at some future date) include additional information in the
&gt; "delete-event" document w/o the need to change the link/URI rules
&gt; - you can maintain a list of delete-event records for auditing
&gt; - if your system get very large, this model would allow for delays
&gt; between the request for delete and the actual delete w/o slowing
&gt; client-server interaction
&gt;
&gt; mca
&gt; http://amundsen.com/blog/
&gt;
&gt;
&gt;
&gt;
&gt; On Sat, Sep 27, 2008 at 04:50, yaoyaoo2000 &lt;yaoyaoo2000@...&gt; wrote:
&gt;&gt; i'm designing restful api for an event website.
&gt;&gt;
&gt;&gt; one can post to api.xxx.com/events to create a new event
&gt;&gt; put to api.xxx.com/event/xxx to update info of an event
&gt;&gt;
&gt;&gt; delete to api.xxx.com/event/xxx to delete an event
&gt;&gt;
&gt;&gt; of course only the creator of the event can delete it. and i want the
&gt;&gt; creator to give the reason when he delete the event, how should I do this:
&gt;&gt;    1. add 'reason' in header
&gt;&gt;  or 2. require an xml entry containing reason when delete event?
&gt;&gt;
&gt;&gt;
&gt;&gt; which way is prefered? many thanks
&gt;&gt;
&gt;&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11337<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-09-29 17:37:08<br>
Subject:Re: [rest-discuss] delete with  additional information<br>
Message:<br><br>
<pre>More broadly speaking, such a sidekick could be used for a number of  
other use cases where the HTTP's uniform interface is inadequate.

In this particular use case, using a sidekick resource to delete a  
resource as suggested by Mike has some limitations worth noting:

a. Can't implement conditional DELETEs
b. Since caches won't see the DELETE, they won't flush the resource.

Subbu
http://subbu.org

On Sep 28, 2008, at 6:12 PM, mike amundsen wrote:

&gt; &gt; Sounds to me like you have defined a "delete-event" resource that
&gt; &gt; needs to be POSTed to the server
&gt; &gt;
&gt; &gt; POST /delete-events/{id}
&gt; &gt; &lt;reason&gt;xcxcccccc&lt;/reason&gt;
&gt; &gt;
&gt; &gt; Some possible advantages:
&gt; &gt; - you can validate the "delete-event" document and deny the delete  
&gt; if
&gt; &gt; it is invalid
&gt; &gt; - you can (at some future date) include additional information in  
&gt; the
&gt; &gt; "delete-event" document w/o the need to change the link/URI rules
&gt; &gt; - you can maintain a list of delete-event records for auditing
&gt; &gt; - if your system get very large, this model would allow for delays
&gt; &gt; between the request for delete and the actual delete w/o slowing
&gt; &gt; client-server interaction
&gt; &gt;
&gt; &gt; mca
&gt; &gt; http://amundsen.com/blog/
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; On Sat, Sep 27, 2008 at 04:50, yaoyaoo2000  
&gt; &lt;yaoyaoo2000@....cn&gt; wrote:
&gt; &gt;&gt; i'm designing restful api for an event website.
&gt; &gt;&gt;
&gt; &gt;&gt; one can post to api.xxx.com/events to create a new event
&gt; &gt;&gt; put to api.xxx.com/event/xxx to update info of an event
&gt; &gt;&gt;
&gt; &gt;&gt; delete to api.xxx.com/event/xxx to delete an event
&gt; &gt;&gt;
&gt; &gt;&gt; of course only the creator of the event can delete it. and i want  
&gt; the
&gt; &gt;&gt; creator to give the reason when he delete the event, how should I  
&gt; do this:
&gt; &gt;&gt; 1. add 'reason' in header
&gt; &gt;&gt; or 2. require an xml entry containing reason when delete event?
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; which way is prefered? many thanks
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; 
&gt; &lt;!-- #ygrp-mkp{ border: 1px solid #d8d8d8; font-family: Arial;  
&gt; margin: 14px 0px; padding: 0px 14px; } #ygrp-mkp hr{ border: 1px  
&gt; solid #d8d8d8; } #ygrp-mkp #hd{ color: #628c2a; font-size: 85%; font- 
&gt; weight: bold; line-height: 122%; margin: 10px 0px; } #ygrp-mkp  
&gt; #ads{ margin-bottom: 10px; } #ygrp-mkp .ad{ padding: 0 0; } #ygrp- 
&gt; mkp .ad a{ color: #0000ff; text-decoration: none; } --&gt; &lt;!-- #ygrp- 
&gt; sponsor #ygrp-lc{ font-family: Arial; } #ygrp-sponsor #ygrp-lc  
&gt; #hd{ margin: 10px 0px; font-weight: bold; font-size: 78%; line- 
&gt; height: 122%; } #ygrp-sponsor #ygrp-lc .ad{ margin-bottom: 10px;  
&gt; padding: 0 0; } --&gt; &lt;!-- #ygrp-mlmsg {font-size:13px; font-family:  
&gt; arial,helvetica,clean,sans-serif;*font-size:small;*font:x-small;}  
&gt; #ygrp-mlmsg table {font-size:inherit;font:100%;} #ygrp-mlmsg select,  
&gt; input, textarea {font:99% arial,helvetica,clean,sans-serif;} #ygrp- 
&gt; mlmsg pre, code {font:115% monospace;*font-size:100%;} #ygrp-mlmsg *  
&gt; {line-height:1.22em;} #ygrp-text{ font-family: Georgia;	 } #ygrp- 
&gt; text p{ margin: 0 0 1em 0; } #ygrp-tpmsgs{ font-family: Arial;	  
&gt; clear: both; } #ygrp-vitnav{ padding-top: 10px; font-family:  
&gt; Verdana; font-size: 77%; margin: 0; } #ygrp-vitnav a{ padding: 0  
&gt; 1px; } #ygrp-actbar{ clear: both; margin: 25px 0; white- 
&gt; space:nowrap; color: #666; text-align: right; } #ygrp- 
&gt; actbar .left{ float: left; white-space:nowrap; } .bld{font- 
&gt; weight:bold;} #ygrp-grft{ font-family: Verdana; font-size: 77%;  
&gt; padding: 15px 0; } #ygrp-ft{ font-family: verdana; font-size: 77%;  
&gt; border-top: 1px solid #666; padding: 5px 0; } #ygrp-mlmsg  
&gt; #logo{ padding-bottom: 10px; } #ygrp-reco { margin-bottom: 20px;  
&gt; padding: 0px; } #ygrp-reco #reco-head { font-weight: bold; color:  
&gt; #ff7900; } #reco-grpname{ font-weight: bold; margin-top: 10px; }  
&gt; #reco-category{ font-size: 77%; } #reco-desc{ font-size: 77%; }  
&gt; #ygrp-vital{ background-color: #e0ecee; margin-bottom: 20px;  
&gt; padding: 2px 0 8px 8px; } #ygrp-vital #vithd{ font-size: 77%; font- 
&gt; family: Verdana; font-weight: bold; color: #333; text-transform:  
&gt; uppercase; } #ygrp-vital ul{ padding: 0; margin: 2px 0; } #ygrp- 
&gt; vital ul li{ list-style-type: none; clear: both; border: 1px solid  
&gt; #e0ecee; } #ygrp-vital ul li .ct{ font-weight: bold; color: #ff7900;  
&gt; float: right; width: 2em; text-align:right; padding-right: .5em; }  
&gt; #ygrp-vital ul li .cat{ font-weight: bold; } #ygrp-vital a{ text- 
&gt; decoration: none; } #ygrp-vital a:hover{ text-decoration:  
&gt; underline; } #ygrp-sponsor #hd{ color: #999; font-size: 77%; } #ygrp- 
&gt; sponsor #ov{ padding: 6px 13px; background-color: #e0ecee; margin- 
&gt; bottom: 20px; } #ygrp-sponsor #ov ul{ padding: 0 0 0 8px; margin:  
&gt; 0; } #ygrp-sponsor #ov li{ list-style-type: square; padding: 6px 0;  
&gt; font-size: 77%; } #ygrp-sponsor #ov li a{ text-decoration: none;  
&gt; font-size: 130%; } #ygrp-sponsor #nc{ background-color: #eee; margin- 
&gt; bottom: 20px; padding: 0 8px; } #ygrp-sponsor .ad{ padding: 8px 0; }  
&gt; #ygrp-sponsor .ad #hd1{ font-family: Arial; font-weight: bold;  
&gt; color: #628c2a; font-size: 100%; line-height: 122%; } #ygrp- 
&gt; sponsor .ad a{ text-decoration: none; } #ygrp-sponsor .ad  
&gt; a:hover{ text-decoration: underline; } #ygrp-sponsor .ad p{ margin:  
&gt; 0; } o{font-size: 0; } .MsoNormal{ margin: 0 0 0 0; } #ygrp-text  
&gt; tt{ font-size: 120%; } blockquote{margin: 0 0 0 4px;} .replbq{margin: 
&gt; 4} --&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11338<br>
Sender:Sergio Andreozzi &lt;sergio.andreozzi@...&gt;<br>
Post Date/Time:2008-09-30 10:02:57<br>
Subject:Use case of mapping a WSDL-based interface into a RESTFul HTTP<br>
Message:<br><br>
<pre>Dear all,

in our working context (Grid Computing), we performed an exercise of 
mapping a WS-based interface for job submission and management into a 
RESTFul HTTP approach.

We wrote a technical report on the mapping process and the decisions 
that we made. We are interested in your feedback:
http://www.lnf.infn.it/sis/preprint/detail.php?id=5111


Thanks, Sergio



-- 
Sergio Andreozzi
INFN-CNAF,                    Tel: +39 051 609 2860
Viale Berti Pichat, 6/2       Fax: +39 051 609 2746
40127 Bologna (Italy)         Web: http://www.cnaf.infn.it/~andreozzi

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11339<br>
Sender:Bruno Harbulot &lt;Bruno.Harbulot@...&gt;<br>
Post Date/Time:2008-09-30 16:08:56<br>
Subject:Re: Use case of mapping a WSDL-based interface into a RESTFul HTTP<br>
Message:<br><br>
<pre>Hello Sergio,

In the same category, you might be interested in the work that was done 
for WSRF::Lite: http://www.rcs.manchester.ac.uk/research/wsrflite

It provides a mapping of WSRF to HTTP (as close as possible). One of the 
main steps consisted of "fixing" WS-Addressing by using EPRs without 
ReferenceParameters.
A relatively short introduction can be found in the "Using Ajax with 
WSRF::Lite" tutorial:
http://www.ibm.com/developerworks/edu/gr-dw-gr-ajaxwsrflite.html

The principle of the Ajax extension is that the resource document is 
transformed into a web-page via an XSLT transform (it could be done 
either on the server on within the browser). It doesn't need to be 
"Ajax" (asynchronously) as such, but it can be used to provide something 
the web-browser can use, and therefore to satisfy the HATEOS constraint too.

Best wishes,

Bruno.


Sergio Andreozzi wrote:
&gt; 
&gt; 
&gt; Dear all,
&gt; 
&gt; in our working context (Grid Computing), we performed an exercise of
&gt; mapping a WS-based interface for job submission and management into a
&gt; RESTFul HTTP approach.
&gt; 
&gt; We wrote a technical report on the mapping process and the decisions
&gt; that we made. We are interested in your feedback:
&gt; http://www.lnf.infn.it/sis/preprint/detail.php?id=5111 
&gt; &lt;http://www.lnf.infn.it/sis/preprint/detail.php?id=5111&gt;
&gt; 
&gt; Thanks, Sergio
&gt; 
&gt; -- 
&gt; Sergio Andreozzi
&gt; INFN-CNAF, Tel: +39 051 609 2860
&gt; Viale Berti Pichat, 6/2 Fax: +39 051 609 2746
&gt; 40127 Bologna (Italy) Web: http://www.cnaf.infn.it/~andreozzi 
&gt; &lt;http://www.cnaf.infn.it/~andreozzi&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11340<br>
Sender:Kevin Christen &lt;kevin_christen@...&gt;<br>
Post Date/Time:2008-09-30 22:05:54<br>
Subject:Re: [rest-discuss] Use case of mapping a WSDL-based interface into a RESTFul HTTP<br>
Message:<br><br>
<pre>Sergio,

Nice work.  I have a couple of comments on your paper.  First, PUT to 
/activities/ should instead be a POST.  From the HTTP spec: "The PUT 
method requests that the enclosed entity be stored under the supplied 
Request-URI."  POST requests the creation of a new subordinate resource, 
with the URI returned in the Location header, as you're doing here. 
Second, consider using XLink to represent URIs in your representations.

Regards,
Kevin Christen




Sergio Andreozzi &lt;sergio.andreozzi@...&gt; 
Sent by: rest-discuss@yahoogroups.com
09/30/2008 05:02 AM

To
rest-discuss@yahoogroups.com
cc
Moreno Marzolla &lt;moreno.marzolla@...&gt;
Subject
[rest-discuss] Use case of mapping a WSDL-based interface into a RESTFul 
HTTP









Dear all,

in our working context (Grid Computing), we performed an exercise of 
mapping a WS-based interface for job submission and management into a 
RESTFul HTTP approach.

We wrote a technical report on the mapping process and the decisions 
that we made. We are interested in your feedback:
http://www.lnf.infn.it/sis/preprint/detail.php?id=5111

Thanks, Sergio

-- 
Sergio Andreozzi
INFN-CNAF, Tel: +39 051 609 2860
Viale Berti Pichat, 6/2 Fax: +39 051 609 2746
40127 Bologna (Italy) Web: http://www.cnaf.infn.it/~andreozzi
 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11341<br>
Sender:Robert Cerny &lt;robert_cerny@...&gt;<br>
Post Date/Time:2008-10-01 08:13:26<br>
Subject:Multiple POSTs of the same entity to a collection<br>
Message:<br><br>
<pre>Hi,

Let's assume we have a resource representing a collection, e.g. / 
people, and the server has a mechanism to decide whether  
representations that are posted to /people refer to the same person.  
If a posted person is new, the server creates a new resource, e.g. / 
people/1 and sends a 201 response with a location header. If the  
server recognizes the posted person, he does not create a new  
resource, but rather performs a PUT. It would be desirable to inform  
the client that no new resource was created by sending a different  
response code than 201, but which one?

Thanks in advance,

Robert Cerny
robert_cerny@...





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11342<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-10-01 08:36:50<br>
Subject:Re: [rest-discuss] Multiple POSTs of the same entity to a collection<br>
Message:<br><br>
<pre>Robert Cerny wrote:
&gt; 
&gt; 
&gt; Hi,
&gt; 
&gt; Let's assume we have a resource representing a collection, e.g. /
&gt; people, and the server has a mechanism to decide whether
&gt; representations that are posted to /people refer to the same person.
&gt; If a posted person is new, the server creates a new resource, e.g. /
&gt; people/1 and sends a 201 response with a location header. If the
&gt; server recognizes the posted person, he does not create a new
&gt; resource, but rather performs a PUT. It would be desirable to inform
&gt; the client that no new resource was created by sending a different
&gt; response code than 201, but which one?
&gt; ...

How about 200?

BR, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11343<br>
Sender:Robert Cerny &lt;robert_cerny@...&gt;<br>
Post Date/Time:2008-10-01 09:57:41<br>
Subject:Re: [rest-discuss] Multiple POSTs of the same entity to a collection<br>
Message:<br><br>
<pre>Hi Julian,

On Oct 1, 2008, at 10:36 AM, Julian Reschke wrote:

&gt; How about 200?

I am torn between 200 and 204. After rereading the relevant section  
in the HTTP RFC [1], i might favor 204. What do you think? In my  
setup it would be good, if the response contains a Location header  
with the URL that the server uses to refer to that person and it  
should not contain a body.

Best regards,

Robert Cerny

[1] http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11344<br>
Sender:"Miika Makinen" &lt;mmiika@...&gt;<br>
Post Date/Time:2008-10-01 10:35:37<br>
Subject:Re: [rest-discuss] Multiple POSTs of the same entity to a collection<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11345<br>
Sender:Robert Cerny &lt;robert_cerny@...&gt;<br>
Post Date/Time:2008-10-01 16:46:29<br>
Subject:Re: [rest-discuss] Multiple POSTs of the same entity to a collection<br>
Message:<br><br>
<pre>On Oct 1, 2008, at 12:35 PM, Miika Makinen wrote:

&gt; To my understanding 303 makes sense if the client is adviced in the  
&gt; future to PUT directly to the resource rather than POSTing to the  
&gt; collection.

That's how i read it too. But the resource IS updated by the POST in  
my case, so even though the clients learns about the URL with the  
303, he does not need to reissue the request with a PUT to that URL.

Robert Cerny
robert_cerny@...



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11346<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-10-01 16:56:53<br>
Subject:Re: [rest-discuss] Multiple POSTs of the same entity to a collection<br>
Message:<br><br>
<pre>303 does not mean that the client needs to a PUT at that Location. In  
the context of POST, it just means that, whatever changes that the  
client asked for have been applied, and the client can get a response  
from that other location. This is similar to the redirect-after-post  
pattern, which is explicitly discussed under the section (10.3.4) that  
defines 303.

Subbu

On Oct 1, 2008, at 9:46 AM, Robert Cerny wrote:

&gt;
&gt; On Oct 1, 2008, at 12:35 PM, Miika Makinen wrote:
&gt;
&gt;&gt; To my understanding 303 makes sense if the client is adviced in the  
&gt;&gt; future to PUT directly to the resource rather than POSTing to the  
&gt;&gt; collection.
&gt;
&gt; That's how i read it too. But the resource IS updated by the POST in  
&gt; my case, so even though the clients learns about the URL with the  
&gt; 303, he does not need to reissue the request with a PUT to that URL.
&gt;
&gt; Robert Cerny
&gt; robert_cerny@...
&gt;
&gt;
&gt;
&gt;
&gt; 
&gt; &lt;!-- #ygrp-mkp{ border: 1px solid #d8d8d8; font-family: Arial;  
&gt; margin: 14px 0px; padding: 0px 14px; } #ygrp-mkp hr{ border: 1px  
&gt; solid #d8d8d8; } #ygrp-mkp #hd{ color: #628c2a; font-size: 85%; font- 
&gt; weight: bold; line-height: 122%; margin: 10px 0px; } #ygrp-mkp  
&gt; #ads{ margin-bottom: 10px; } #ygrp-mkp .ad{ padding: 0 0; } #ygrp- 
&gt; mkp .ad a{ color: #0000ff; text-decoration: none; } --&gt; &lt;!-- #ygrp- 
&gt; sponsor #ygrp-lc{ font-family: Arial; } #ygrp-sponsor #ygrp-lc  
&gt; #hd{ margin: 10px 0px; font-weight: bold; font-size: 78%; line- 
&gt; height: 122%; } #ygrp-sponsor #ygrp-lc .ad{ margin-bottom: 10px;  
&gt; padding: 0 0; } --&gt; &lt;!-- #ygrp-mlmsg {font-size:13px; font-family:  
&gt; arial,helvetica,clean,sans-serif;*font-size:small;*font:x-small;}  
&gt; #ygrp-mlmsg table {font-size:inherit;font:100%;} #ygrp-mlmsg select,  
&gt; input, textarea {font:99% arial,helvetica,clean,sans-serif;} #ygrp- 
&gt; mlmsg pre, code {font:115% monospace;*font-size:100%;} #ygrp-mlmsg *  
&gt; {line-height:1.22em;} #ygrp-text{ font-family: Georgia;	 } #ygrp- 
&gt; text p{ margin: 0 0 1em 0; } #ygrp-tpmsgs{ font-family: Arial;	  
&gt; clear: both; } #ygrp-vitnav{ padding-top: 10px; font-family:  
&gt; Verdana; font-size: 77%; margin: 0; } #ygrp-vitnav a{ padding: 0  
&gt; 1px; } #ygrp-actbar{ clear: both; margin: 25px 0; white- 
&gt; space:nowrap; color: #666; text-align: right; } #ygrp- 
&gt; actbar .left{ float: left; white-space:nowrap; } .bld{font- 
&gt; weight:bold;} #ygrp-grft{ font-family: Verdana; font-size: 77%;  
&gt; padding: 15px 0; } #ygrp-ft{ font-family: verdana; font-size: 77%;  
&gt; border-top: 1px solid #666; 	  padding: 5px 0; } #ygrp-mlmsg  
&gt; #logo{ padding-bottom: 10px; } #ygrp-reco { margin-bottom: 20px;  
&gt; padding: 0px; } 	#ygrp-reco #reco-head { font-weight: bold; color:  
&gt; #ff7900; } #reco-grpname{ font-weight: bold; margin-top: 10px; }  
&gt; #reco-category{ font-size: 77%; } #reco-desc{ font-size: 77%; }  
&gt; #ygrp-vital{ background-color: #e0ecee; margin-bottom: 20px;  
&gt; padding: 2px 0 8px 8px; } #ygrp-vital #vithd{ font-size: 77%; font- 
&gt; family: Verdana; font-weight: bold; color: #333; text-transform:  
&gt; uppercase; } #ygrp-vital ul{ padding: 0; margin: 2px 0; } #ygrp- 
&gt; vital ul li{ list-style-type: none; clear: both; border: 1px solid  
&gt; #e0ecee; } #ygrp-vital ul li .ct{ font-weight: bold; color: #ff7900;  
&gt; float: right; width: 2em; text-align:right; padding-right: .5em; }  
&gt; #ygrp-vital ul li .cat{ font-weight: bold; } #ygrp-vital a{ text- 
&gt; decoration: none; } #ygrp-vital a:hover{ text-decoration:  
&gt; underline; } #ygrp-sponsor #hd{ color: #999; font-size: 77%; } #ygrp- 
&gt; sponsor #ov{ padding: 6px 13px; background-color: #e0ecee; margin- 
&gt; bottom: 20px; } #ygrp-sponsor #ov ul{ padding: 0 0 0 8px; margin:  
&gt; 0; } #ygrp-sponsor #ov li{ list-style-type: square; padding: 6px 0;  
&gt; font-size: 77%; } #ygrp-sponsor #ov li a{ 		text-decoration: none;  
&gt; font-size: 130%; } #ygrp-sponsor #nc{ background-color: #eee; margin- 
&gt; bottom: 20px; padding: 0 8px; } #ygrp-sponsor .ad{ padding: 8px 0; }  
&gt; #ygrp-sponsor .ad #hd1{ font-family: Arial; font-weight: bold;  
&gt; color: #628c2a; font-size: 100%; line-height: 122%; } #ygrp- 
&gt; sponsor .ad a{ text-decoration: none; } #ygrp-sponsor .ad  
&gt; a:hover{ text-decoration: underline; } #ygrp-sponsor .ad p{ margin:  
&gt; 0; } o{font-size: 0; } .MsoNormal{ margin: 0 0 0 0; } #ygrp-text  
&gt; tt{ font-size: 120%; } blockquote{margin: 0 0 0 4px;} .replbq{margin: 
&gt; 4} --&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11347<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-10-02 02:54:34<br>
Subject:Re: [rest-discuss] delete with additional information<br>
Message:<br><br>
<pre>I thought about this DELETE w/ notation pattern some more and worked
up another possible solution that *does* support conditional DELETE
and proper cache invalidation.

You could implement a two-step process:
1 - create a "delete-reason" resource (PUT /delete-reasons/{item-id})
with the proper body.
2 - do the actual DELETE (DELETE /items/{id}). The server can check
for the "delete-reason" and, if not found, throw a 400  (possibly
424-failed dependency).

The downside is that it takes two steps. However, it does restore
proper support for the DELETE method.

mca
http://amundsen.com/blog/




On Mon, Sep 29, 2008 at 13:37, Subbu Allamaraju &lt;subbu@...&gt; wrote:
&gt; More broadly speaking, such a sidekick could be used for a number of other
&gt; use cases where the HTTP's uniform interface is inadequate.
&gt;
&gt; In this particular use case, using a sidekick resource to delete a resource
&gt; as suggested by Mike has some limitations worth noting:
&gt;
&gt; a. Can't implement conditional DELETEs
&gt; b. Since caches won't see the DELETE, they won't flush the resource.
&gt;
&gt; Subbu
&gt; http://subbu.org
&gt;
&gt; On Sep 28, 2008, at 6:12 PM, mike amundsen wrote:
&gt;
&gt;&gt; &gt; Sounds to me like you have defined a "delete-event" resource that
&gt;&gt; &gt; needs to be POSTed to the server
&gt;&gt; &gt;
&gt;&gt; &gt; POST /delete-events/{id}
&gt;&gt; &gt; &lt;reason&gt;xcxcccccc&lt;/reason&gt;
&gt;&gt; &gt;
&gt;&gt; &gt; Some possible advantages:
&gt;&gt; &gt; - you can validate the "delete-event" document and deny the delete if
&gt;&gt; &gt; it is invalid
&gt;&gt; &gt; - you can (at some future date) include additional information in the
&gt;&gt; &gt; "delete-event" document w/o the need to change the link/URI rules
&gt;&gt; &gt; - you can maintain a list of delete-event records for auditing
&gt;&gt; &gt; - if your system get very large, this model would allow for delays
&gt;&gt; &gt; between the request for delete and the actual delete w/o slowing
&gt;&gt; &gt; client-server interaction
&gt;&gt; &gt;
&gt;&gt; &gt; mca
&gt;&gt; &gt; http://amundsen.com/blog/
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; On Sat, Sep 27, 2008 at 04:50, yaoyaoo2000 &lt;yaoyaoo2000@...&gt;
&gt;&gt; &gt; wrote:
&gt;&gt; &gt;&gt; i'm designing restful api for an event website.
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; one can post to api.xxx.com/events to create a new event
&gt;&gt; &gt;&gt; put to api.xxx.com/event/xxx to update info of an event
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; delete to api.xxx.com/event/xxx to delete an event
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; of course only the creator of the event can delete it. and i want the
&gt;&gt; &gt;&gt; creator to give the reason when he delete the event, how should I do
&gt;&gt; &gt;&gt; this:
&gt;&gt; &gt;&gt; 1. add 'reason' in header
&gt;&gt; &gt;&gt; or 2. require an xml entry containing reason when delete event?
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; which way is prefered? many thanks
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11348<br>
Sender:Sean Kennedy &lt;seandkennedy@...&gt;<br>
Post Date/Time:2008-10-02 14:09:20<br>
Subject:the POX URI and HTTP method<br>
Message:<br><br>
<pre>Hi,
    I just want to confirm if this is accurate: 
1. POX tunnels all its messages using POST i.e. no GETs 
2. the URI used is the same URI for all POX services at that endpoint i.e. no unique URIs 
3. in these respects the POX model is the same as the SOAP model...

Thanks,
Sean.



      </pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11349<br>
Sender:Chris Burdess &lt;dog@...&gt;<br>
Post Date/Time:2008-10-02 14:17:23<br>
Subject:Re: [rest-discuss] the POX URI and HTTP method<br>
Message:<br><br>
<pre>Sean Kennedy wrote:
&gt;     I just want to confirm if this is accurate:
&gt; 1. POX tunnels all its messages using POST i.e. no GETs
&gt; 2. the URI used is the same URI for all POX services at that  
&gt; endpoint i.e. no unique URIs
&gt; 3. in these respects the POX model is the same as the SOAP model...


No. POX just refers to the HTTP entity format, saying that it's only  
the content that's transferred in the entity and not any metadata. It  
says nothing about what HTTP methods or URLs are used.
-- 
Chris Burdess

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11350<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-10-02 15:30:48<br>
Subject:Re: [rest-discuss] the POX URI and HTTP method<br>
Message:<br><br>
<pre>  No. POX just refers to the HTTP entity format, saying that it's only the content that's transferred in the entity and not any metadata. It says nothing about what HTTP methods or URLs are used.
POX is commonly referring to services that are modeled in XML-RPC style but use simple GET and simple POST to send and receive data, almost always in one or two formats. More often than not POX services do not leverage any of the REST constraints (facebook API is a typical example).

It's always been my understanding that the guys using the POX name meant "web services without a soap envelope" more than anything else.

Seb</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11351<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-10-02 21:46:26<br>
Subject:Re: the POX URI and HTTP method<br>
Message:<br><br>
<pre>In the most general sense, POX means REST minus the hypermedia
constraint and with uselessly generic media types: a service that
serves and consumes XML documents in app-specific vocabularies,
without any envelope, where links are absent in favour of
app-specific IDs that require out-of-band knowledge of URI
templates.

Often the same data is offered in other data-centric formats;
JSON is common. Again, the media type is uselessly generic.

These services frequently disregard other REST constraints as
well, especially the uniform interface, but I dont consider that
a defining property.

Gateway URIs are not very prevalent, and certainly not at all a
defining criterion.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11352<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-10-02 22:40:05<br>
Subject:Re: [rest-discuss] the POX URI and HTTP method<br>
Message:<br><br>
<pre>I don't believe "POX" is officially defined anywhere. But I've only  
ever seen it used as "like SOAP, but without the envelope" (i.e. your  
option 3).

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/

On 02.10.2008, at 16:09, Sean Kennedy wrote:

&gt;
&gt; Hi,
&gt;     I just want to confirm if this is accurate:
&gt; 1. POX tunnels all its messages using POST i.e. no GETs
&gt; 2. the URI used is the same URI for all POX services at that  
&gt; endpoint i.e. no unique URIs
&gt; 3. in these respects the POX model is the same as the SOAP model...
&gt;
&gt; Thanks,
&gt; Sean.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11353<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-10-02 22:46:45<br>
Subject:Re: [rest-discuss] Re: the POX URI and HTTP method<br>
Message:<br><br>
<pre>That's my impression as well. That's how I have used it, and seen it  
being used.

What Sean is describing in the original question is similar to XML-RPC.

Subbu
---
http://subbu.org

On Oct 2, 2008, at 2:46 PM, Aristotle Pagaltzis wrote:

&gt; In the most general sense, POX means REST minus the hypermedia
&gt; constraint and with uselessly generic media types: a service that
&gt; serves and consumes XML documents in app-specific vocabularies,
&gt; without any envelope, where links are absent in favour of
&gt; app-specific IDs that require out-of-band knowledge of URI
&gt; templates.
&gt;
&gt; Often the same data is offered in other data-centric formats;
&gt; JSON is common. Again, the media type is uselessly generic.
&gt;
&gt; These services frequently disregard other REST constraints as
&gt; well, especially the uniform interface, but I dont consider that
&gt; a defining property.
&gt;
&gt; Gateway URIs are not very prevalent, and certainly not at all a
&gt; defining criterion.
&gt;
&gt; Regards,
&gt; -- 
&gt; Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;
&gt; 
&gt; &lt;!-- #ygrp-mkp{ border: 1px solid #d8d8d8; font-family: Arial;  
&gt; margin: 14px 0px; padding: 0px 14px; } #ygrp-mkp hr{ border: 1px  
&gt; solid #d8d8d8; } #ygrp-mkp #hd{ color: #628c2a; font-size: 85%; font- 
&gt; weight: bold; line-height: 122%; margin: 10px 0px; } #ygrp-mkp  
&gt; #ads{ margin-bottom: 10px; } #ygrp-mkp .ad{ padding: 0 0; } #ygrp- 
&gt; mkp .ad a{ color: #0000ff; text-decoration: none; } --&gt; &lt;!-- #ygrp- 
&gt; sponsor #ygrp-lc{ font-family: Arial; } #ygrp-sponsor #ygrp-lc  
&gt; #hd{ margin: 10px 0px; font-weight: bold; font-size: 78%; line- 
&gt; height: 122%; } #ygrp-sponsor #ygrp-lc .ad{ margin-bottom: 10px;  
&gt; padding: 0 0; } --&gt; &lt;!-- #ygrp-mlmsg {font-size:13px; font-family:  
&gt; arial,helvetica,clean,sans-serif;*font-size:small;*font:x-small;}  
&gt; #ygrp-mlmsg table {font-size:inherit;font:100%;} #ygrp-mlmsg select,  
&gt; input, textarea {font:99% arial,helvetica,clean,sans-serif;} #ygrp- 
&gt; mlmsg pre, code {font:115% monospace;*font-size:100%;} #ygrp-mlmsg *  
&gt; {line-height:1.22em;} #ygrp-text{ font-family: Georgia;	 } #ygrp- 
&gt; text p{ margin: 0 0 1em 0; } #ygrp-tpmsgs{ font-family: Arial;	  
&gt; clear: both; } #ygrp-vitnav{ padding-top: 10px; font-family:  
&gt; Verdana; font-size: 77%; margin: 0; } #ygrp-vitnav a{ padding: 0  
&gt; 1px; } #ygrp-actbar{ clear: both; margin: 25px 0; white- 
&gt; space:nowrap; color: #666; text-align: right; } #ygrp- 
&gt; actbar .left{ float: left; white-space:nowrap; } .bld{font- 
&gt; weight:bold;} #ygrp-grft{ font-family: Verdana; font-size: 77%;  
&gt; padding: 15px 0; } #ygrp-ft{ font-family: verdana; font-size: 77%;  
&gt; border-top: 1px solid #666; 	  padding: 5px 0; } #ygrp-mlmsg  
&gt; #logo{ padding-bottom: 10px; } #ygrp-reco { margin-bottom: 20px;  
&gt; padding: 0px; } 	#ygrp-reco #reco-head { font-weight: bold; color:  
&gt; #ff7900; } #reco-grpname{ font-weight: bold; margin-top: 10px; }  
&gt; #reco-category{ font-size: 77%; } #reco-desc{ font-size: 77%; }  
&gt; #ygrp-vital{ background-color: #e0ecee; margin-bottom: 20px;  
&gt; padding: 2px 0 8px 8px; } #ygrp-vital #vithd{ font-size: 77%; font- 
&gt; family: Verdana; font-weight: bold; color: #333; text-transform:  
&gt; uppercase; } #ygrp-vital ul{ padding: 0; margin: 2px 0; } #ygrp- 
&gt; vital ul li{ list-style-type: none; clear: both; border: 1px solid  
&gt; #e0ecee; } #ygrp-vital ul li .ct{ font-weight: bold; color: #ff7900;  
&gt; float: right; width: 2em; text-align:right; padding-right: .5em; }  
&gt; #ygrp-vital ul li .cat{ font-weight: bold; } #ygrp-vital a{ text- 
&gt; decoration: none; } #ygrp-vital a:hover{ text-decoration:  
&gt; underline; } #ygrp-sponsor #hd{ color: #999; font-size: 77%; } #ygrp- 
&gt; sponsor #ov{ padding: 6px 13px; background-color: #e0ecee; margin- 
&gt; bottom: 20px; } #ygrp-sponsor #ov ul{ padding: 0 0 0 8px; margin:  
&gt; 0; } #ygrp-sponsor #ov li{ list-style-type: square; padding: 6px 0;  
&gt; font-size: 77%; } #ygrp-sponsor #ov li a{ 		text-decoration: none;  
&gt; font-size: 130%; } #ygrp-sponsor #nc{ background-color: #eee; margin- 
&gt; bottom: 20px; padding: 0 8px; } #ygrp-sponsor .ad{ padding: 8px 0; }  
&gt; #ygrp-sponsor .ad #hd1{ font-family: Arial; font-weight: bold;  
&gt; color: #628c2a; font-size: 100%; line-height: 122%; } #ygrp- 
&gt; sponsor .ad a{ text-decoration: none; } #ygrp-sponsor .ad  
&gt; a:hover{ text-decoration: underline; } #ygrp-sponsor .ad p{ margin:  
&gt; 0; } o{font-size: 0; } .MsoNormal{ margin: 0 0 0 0; } #ygrp-text  
&gt; tt{ font-size: 120%; } blockquote{margin: 0 0 0 4px;} .replbq{margin: 
&gt; 4} --&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11354<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-10-02 23:14:36<br>
Subject:Re: the POX URI and HTTP method<br>
Message:<br><br>
<pre>* Stefan Tilkov &lt;stefan.tilkov@...&gt; [2008-10-03 00:45]:
&gt; I don't believe "POX" is officially defined anywhere. But I've
&gt; only ever seen it used as "like SOAP, but without the envelope"
&gt; (i.e. your option 3).

The way I remember it used back when it was a positive term
(during the first wave of SOAP backlash pre REST awareness),
it really did mean more than *just* shedding the envelope, but
the rest was fuzzy. Per-resource URIs were a meme already but
unsafe GETs were pervasive.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11355<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-10-03 10:48:10<br>
Subject:Re: [rest-discuss] Re: the POX URI and HTTP method<br>
Message:<br><br>
<pre>On Fri, Oct 3, 2008 at 12:14 AM, Aristotle Pagaltzis &lt;pagaltzis@...&gt; wrote:
&gt;
&gt; * Stefan Tilkov &lt;stefan.tilkov@...&gt; [2008-10-03 00:45]:
&gt;
&gt; &gt; I don't believe "POX" is officially defined anywhere. But I've
&gt; &gt; only ever seen it used as "like SOAP, but without the envelope"
&gt; &gt; (i.e. your option 3).
&gt;
&gt; The way I remember it used back when it was a positive term
&gt; (during the first wave of SOAP backlash pre REST awareness),
&gt; it really did mean more than *just* shedding the envelope, but
&gt; the rest was fuzzy. Per-resource URIs were a meme already but
&gt; unsafe GETs were pervasive.

POX was not / is not a 'standard' in any way that I'm aware of. I was
using XML-over-HTTP by POSTing back in 2000/2001. Later, this was
classified as POX (by whom, I do not know). Mostly, it was very
XML-RPC in implementation style. It wasn't until TechEd 2002 in
Barcelona that I first heard of REST (which, in itself, is very
interesting because that was the big coming-out party for the first MS
WS-* stack in .NET).

"POX is to WS-*" ... "what Dinosaurs are to Birds" ;-)

Alan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11356<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-10-03 13:21:49<br>
Subject:Re: the POX URI and HTTP method<br>
Message:<br><br>
<pre>* Alan Dean &lt;alan.dean@...&gt; [2008-10-03 12:50]:
&gt; On Fri, Oct 3, 2008 at 12:14 AM, Aristotle Pagaltzis &lt;pagaltzis@...&gt; wrote:
&gt; &gt; The way I remember it used back when it was a positive term
&gt; &gt; (during the first wave of SOAP backlash pre REST awareness),
&gt; &gt; []
&gt; 
&gt; POX was not / is not a 'standard' in any way that I'm aware of.

I dont think anyone claimed otherwise. POX was/is a meme,
nothing concrete.

What I described is the kind of service that I remember being
classified as POX. Maybe I was late to the game and by then
people were already more clueful than those who coined the
term  I dont know.

It had quite positive connotations when I picked up the term;
maybe thats a hint.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11357<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-10-04 13:12:18<br>
Subject:Re: [rest-discuss] Re: the POX URI and HTTP method<br>
Message:<br><br>
<pre>POX to me means REST-as-in-HTTP,

  - without ensuring client application state is on the client
  - without ensuring resources are addressable
  - without regard for caching intermediaries
  - application/xml semantics

If you actually wrote it down instead of treating it as a meme, I think 
it would be very close to MEST minus SOAP minus protocol neutrality, and 
is more of a reaction against SOAP/WS than towards REST.

But MEST is deprecated as of Q308, right?

http://www.infoq.com/news/2008/10/rest-workflow

;)


Bill

Alan Dean wrote:
&gt; 
&gt; 
&gt; On Fri, Oct 3, 2008 at 12:14 AM, Aristotle Pagaltzis &lt;pagaltzis@... 
&gt; &lt;mailto:pagaltzis%40gmx.de&gt;&gt; wrote:
&gt;  &gt;
&gt;  &gt; * Stefan Tilkov &lt;stefan.tilkov@... 
&gt; &lt;mailto:stefan.tilkov%40innoq.com&gt;&gt; [2008-10-03 00:45]:
&gt;  &gt;
&gt;  &gt; &gt; I don't believe "POX" is officially defined anywhere. But I've
&gt;  &gt; &gt; only ever seen it used as "like SOAP, but without the envelope"
&gt;  &gt; &gt; (i.e. your option 3).
&gt;  &gt;
&gt;  &gt; The way I remember it used back when it was a positive term
&gt;  &gt; (during the first wave of SOAP backlash pre REST awareness),
&gt;  &gt; it really did mean more than *just* shedding the envelope, but
&gt;  &gt; the rest was fuzzy. Per-resource URIs were a meme already but
&gt;  &gt; unsafe GETs were pervasive.
&gt; 
&gt; POX was not / is not a 'standard' in any way that I'm aware of. I was
&gt; using XML-over-HTTP by POSTing back in 2000/2001. Later, this was
&gt; classified as POX (by whom, I do not know). Mostly, it was very
&gt; XML-RPC in implementation style. It wasn't until TechEd 2002 in
&gt; Barcelona that I first heard of REST (which, in itself, is very
&gt; interesting because that was the big coming-out party for the first MS
&gt; WS-* stack in .NET).
&gt; 
&gt; "POX is to WS-*" ... "what Dinosaurs are to Birds" ;-)
&gt; 
&gt; Alan
&gt; 
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11358<br>
Sender:Andrzej Jan Taramina &lt;andrzej@...&gt;<br>
Post Date/Time:2008-10-05 13:47:11<br>
Subject:REST-based webmail/forum applications?<br>
Message:<br><br>
<pre>Anyone know of any webmail or forum (discussion/bulletin board) open source applications that use REST to access the 
back end message store?

Thanks!

-- 
Andrzej Taramina
Chaeron Corporation: Enterprise System Solutions
http://www.chaeron.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11359<br>
Sender:Sean Kennedy &lt;seandkennedy@...&gt;<br>
Post Date/Time:2008-10-06 17:07:06<br>
Subject:REST caching versus RPC Local Caching<br>
Message:<br><br>
<pre>Bill,
    Thanks. I think your point about caching intermediaries is very salient. I have read about SOAP i.e. RPC implementations where (in order to improve performance) they have implemented a local cache (where the server asynchronously pushes out change notifications to subscribed clients). The client then pulls down the updated data which saves on the client polling....
    How does this compare to RESTs cache intermediaries? I imagine scaling the local cache model could be an issue?

Regards,
Sean.



----- Original Message ----
From: Bill de hOra &lt;bill@...&gt;
To: Rest Discussion Group &lt;rest-discuss@yahoogroups.com&gt;
Sent: Saturday, 4 October, 2008 14:12:18
Subject: Re: [rest-discuss] Re: the POX URI and HTTP method


POX to me means REST-as-in-HTTP,

- without ensuring client application state is on the client
- without ensuring resources are addressable
- without regard for caching intermediaries
- application/ xml semantics

If you actually wrote it down instead of treating it as a meme, I think 
it would be very close to MEST minus SOAP minus protocol neutrality, and 
is more of a reaction against SOAP/WS than towards REST.

But MEST is deprecated as of Q308, right?

http://www.infoq. com/news/ 2008/10/rest- workflow

;)

Bill

Alan Dean wrote:
&gt; 
&gt; 
&gt; On Fri, Oct 3, 2008 at 12:14 AM, Aristotle Pagaltzis &lt;pagaltzis@gmx. de 
&gt; &lt;mailto:pagaltzis% 40gmx.de&gt; &gt; wrote:
&gt;  &gt;
&gt;  &gt; * Stefan Tilkov &lt;stefan.tilkov@ innoq.com 
&gt; &lt;mailto:stefan. tilkov%40innoq. com&gt;&gt; [2008-10-03 00:45]:
&gt;  &gt;
&gt;  &gt; &gt; I don't believe "POX" is officially defined anywhere. But I've
&gt;  &gt; &gt; only ever seen it used as "like SOAP, but without the envelope"
&gt;  &gt; &gt; (i.e. your option 3).
&gt;  &gt;
&gt;  &gt; The way I remember it used back when it was a positive term
&gt;  &gt; (during the first wave of SOAP backlash pre REST awareness),
&gt;  &gt; it really did mean more than *just* shedding the envelope, but
&gt;  &gt; the rest was fuzzy. Per-resource URIs were a meme already but
&gt;  &gt; unsafe GETs were pervasive.
&gt; 
&gt; POX was not / is not a 'standard' in any way that I'm aware of. I was
&gt; using XML-over-HTTP by POSTing back in 2000/2001. Later, this was
&gt; classified as POX (by whom, I do not know). Mostly, it was very
&gt; XML-RPC in implementation style. It wasn't until TechEd 2002 in
&gt; Barcelona that I first heard of REST (which, in itself, is very
&gt; interesting because that was the big coming-out party for the first MS
&gt; WS-* stack in .NET).
&gt; 
&gt; "POX is to WS-*" ... "what Dinosaurs are to Birds" ;-)
&gt; 
&gt; Alan
&gt; 
&gt; 

    


      </pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11360<br>
Sender:Sebastien Lambla &lt;seb@...&gt;<br>
Post Date/Time:2008-10-06 20:44:27<br>
Subject:RE: [rest-discuss] REST caching versus RPC Local Caching<br>
Message:<br><br>
<pre>

    Thanks. I think your point about caching intermediaries is very salient. I have read about SOAP i.e. RPC implementations where (in order to improve performance) they have implemented a local cache (where the server asynchronously pushes out change notifications to subscribed clients). The client then pulls down the updated data which saves on the client polling...    How does this compare to RESTs cache intermediaries? I imagine scaling the local cache model could be an issue?
 
Local caching is an internal optimization per source-server. The closest equivalent to a distributed caching model in REST (intermediates, usually reverse proxies) would be a memcache or similar DHT-based distributed object cache.
 
The main difference is that cache invalidation has very constrained rules in HTTP which, if implemented correctly, solve issues in a much cleaner way. That said, internal caching can be used in conjunction with a reverse proxy.
 
As for pushing notifications to clients in a PubSub model, this does not necessarily cost less to scale. See Roy's view on PubSub economy http://www.innoq.com/blog/st/2008/09/fielding_on_the_beyond_rest_xm.html
 
S
_________________________________________________________________
Get all your favourite content with the slick new MSN Toolbar - FREE
http://clk.atdmt.com/UKM/go/111354027/direct/01/</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11361<br>
Sender:"Paul Downey" &lt;paul.downey@...&gt;<br>
Post Date/Time:2008-10-06 20:50:24<br>
Subject:The URI Is The Thing<br>
Message:<br><br>
<pre>please forgive the overt self-pimping, but I suspect readers of this list may enjoy my doodle:

http://www.flickr.com/photos/psd/2918889380/

Hug a middleware developer today.

Paul
--
http://blog.whatfettle.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11362<br>
Sender:Justin Sheehy &lt;justin@...&gt;<br>
Post Date/Time:2008-10-06 21:43:05<br>
Subject:Webmachine: a resource server for the Web<br>
Message:<br><br>
<pre>Hello rest-discussers,

I thought that some of you might find this interesting:

http://blog.therestfulway.com/2008/09/webmachine-is-resource-server-for-web.html

Though I'm only getting around to releasing it now, most of the code  
was written nearly a year ago.  I was frustrated that Web frameworks  
didn't seem very Web-shaped to me, and I wanted something that would  
let my colleagues quickly and easily develop great applications in the  
REST style.  Check out the blog post for a bit more detail, or feel  
free to ask me any other questions.

Best,

-Justin



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11363<br>
Sender:"=?UTF-8?Q?Beno=C3=AEt_Fleury?=" &lt;benoit.fleury@...&gt;<br>
Post Date/Time:2008-10-06 22:34:57<br>
Subject:Accept HTTP header<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11364<br>
Sender:Justin Sheehy &lt;justin@...&gt;<br>
Post Date/Time:2008-10-06 22:49:05<br>
Subject:Re: [rest-discuss] Accept HTTP header<br>
Message:<br><br>
<pre>Hello Benoit,

You certainly can have different representations prepared ahead of  
time at separate URIs.  The Accept request header helps you not need  
to, but does not prevent it.

Of course, it is fine for your hypertext documents to provide media  
type metadata as well, but it is likely to not be necessary.  In what  
way are you saying that you would specify it and how would you expect  
clients to use it?

With proper use of the Vary header, correct clients can still cache  
content-negotiated representations of images in various formats so you  
may not need separate URIs for separate formats.  However, IE6 is not  
correct in that regard -- so your choice will depend on which clients  
you care to support.

-Justin




On Oct 6, 2008, at 6:34 PM, Benot Fleury wrote:

&gt; Hi,
&gt;
&gt; I have a question regarding the Accept HTTP header. From the HTTP  
&gt; spec I read "The Accept request-header field can be used to specify  
&gt; certain media types which are acceptable for the response."
&gt;
&gt; Does it mean it's not recommended to adapt the content a priori. For  
&gt; example, I have two resources:
&gt; 	 an XML document that references an image
&gt; 	 the image in multiple formats (jpeg, png, gif)
&gt; For different reasons (e.g. caching), I would like to have static  
&gt; URLs for the images. Therefore, the type of image to return to the  
&gt; client should be decided when the client request the XML document to  
&gt; point to the correct image type.
&gt;
&gt; Is it acceptable to specify the list of supported image formats  
&gt; during the first request (XML document fetch)? Do you see any reason  
&gt; I should not do that?
&gt;
&gt; Thanks.
&gt;
&gt; Benoit
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11365<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-10-06 22:55:25<br>
Subject:Re: [rest-discuss] Accept HTTP header<br>
Message:<br><br>
<pre>
On Oct 6, 2008, at 3:34 PM, Benot Fleury wrote:

&gt;
&gt; Hi,
&gt;
&gt; I have a question regarding the Accept HTTP header. From the HTTP  
&gt; spec I read "The Accept request-header field can be used to specify  
&gt; certain media types which are acceptable for the response."
&gt;
&gt; Does it mean it's not recommended to adapt the content a priori. For  
&gt; example, I have two resources:
&gt; 	 an XML document that references an image
&gt; 	 the image in multiple formats (jpeg, png, gif)
&gt; For different reasons (e.g. caching), I would like to have static  
&gt; URLs for the images. Therefore, the type of image to return to the  
&gt; client should be decided when the client request the XML document to  
&gt; point to the correct image type.
&gt;
&gt; Is it acceptable to specify the list of supported image formats  
&gt; during the first request (XML document fetch)? Do you see any reason  
&gt; I should not do that?
&gt;

You can certainly use different URIs for each format, but doing so can  
break caching. When you use the Accept header to determine which  
format to return, you can let caches know what you used the Accept  
header to determine the representation by returning the header "Vary:  
Accept" in the response. Based on this, caches can maintain multiple  
representations (one for each format) against the same URI for the  
resource. Caches will also be able to flush all these representations  
when a client does a PUT to that URI. But when you use multiple URIs,  
one for each format, caches will not be able to do so. Please refer to  
the archives as this topic was discussed at length a couple of months  
ago (sorry - don't have the link handy).

Subbu
---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11366<br>
Sender:"=?UTF-8?Q?Beno=C3=AEt_Fleury?=" &lt;benoit.fleury@...&gt;<br>
Post Date/Time:2008-10-06 23:06:12<br>
Subject:Re: [rest-discuss] Accept HTTP header<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11367<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-10-07 00:12:56<br>
Subject:Re: [rest-discuss] Accept HTTP header<br>
Message:<br><br>
<pre>
On Oct 6, 2008, at 4:06 PM, Benot Fleury wrote:

&gt; Hi,
&gt;
&gt; thanks for your answers.
&gt;
&gt; Actually I do not control the image URIs. I know the list and I have  
&gt; to return the XML document with the link to the correct format.
&gt;
&gt; So I'm thinking about a way to pass this information during the  
&gt; first request. The Accept header may be not the correct answer but  
&gt; I'm looking for the same kind of information. Should I use a custom  
&gt; HTTP header, query parameters, etc


How about using links? Here is an example:

&lt;myresource&gt;
   &lt;link href="URI to a pdf representation" rel="alternate"  
type="application/pdf"/&gt;
   &lt;link href="URI to an HTML representation" rel="alternate"  
type="text/html"/&gt;
   ...
&lt;/myresource&gt;

Subbu

---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11368<br>
Sender:"Jonas Galvez" &lt;jonas@...&gt;<br>
Post Date/Time:2008-10-01 04:13:12<br>
Subject:On  (API design)<br>
Message:<br><br>
<pre>Hello,

I'm having a hard time designing a restful domain specific XML
vocabulary. How should I link to other resources and others
representations of the resource itself? Atom uses the &lt;link&gt; element,
which is very extensible. But that's its problem, if I am designing a
domain specific vocab, why should I try to be generic? Consider a
client resource. Which may have a collection of orders associated with
it. If I were to point to a resource containing the client's orders, I
could use &lt;link&gt; as follows:

&lt;link rel="orders" type="text/xml" href="/api/client/123/orders.xml" /&gt;

The problem I have with that is unnecessary complexity. I'm using a
construct that is clearly intended to be used in broad, extensible
context in a domain specific API that is supposed to be set in stone.
I'm inclined to just use the following:

&lt;client ref="/api/clients/123"&gt;
  &lt;orders ref="/api/clients/123/orders.xml" type="application/xml" /&gt;
  &lt;orders ref="/api/clients/123/orders.json" type="application/json" /&gt;
&lt;/client&gt;

I could definitely find a way to wrap the API in Atom (since
everything are basically collections), and in this case of course I
would use &lt;link&gt;. But if I'm defining my own domain specific API, from
an engineering point of view, should I care with keeping consistency
with Atom/HTML on &lt;link&gt; and potentially also attribute names (ref vs
href)?

I have come up with two postulates for API design, so whenever I would
run into the same type of situation, I would these criteria to guide
myself:

1) Every referred resource within another resource's representation
needs a @ref attribute pointing to its canonical representation
(usually XML), even if it is an empty element, and also a @type
attribute. Example:

&lt;other-resource ref="{uri}" type="application/xml" /&gt;

2) Every URI pointing to an alternative representation of the current
resource should be kept as text element children. Naming of the
element for the alternative representation is up to the API specific
domain. Example:

&lt;track ref="/api/tracks/123"&gt;
  ...
  &lt;media bitrate="128kbps" type="audio/mpeg"&gt;http://...&lt;/media&gt;
&lt;/track&gt;

What you think of this convention? Am I making any sense here?

--
Jonas Galvez
Software Engineer
Cdeazur Brasil

http://jonasgalvez.com.br
http://codeazur.com.br

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11369<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-10-07 21:28:03<br>
Subject:Re: [rest-discuss] On  (API design)<br>
Message:<br><br>
<pre>What is so complex about using the first choice below?

Subbu

On Sep 30, 2008, at 9:13 PM, Jonas Galvez wrote:

&gt; Hello,
&gt;
&gt; I'm having a hard time designing a restful domain specific XML
&gt; vocabulary. How should I link to other resources and others
&gt; representations of the resource itself? Atom uses the &lt;link&gt; element,
&gt; which is very extensible. But that's its problem, if I am designing a
&gt; domain specific vocab, why should I try to be generic? Consider a
&gt; client resource. Which may have a collection of orders associated with
&gt; it. If I were to point to a resource containing the client's orders, I
&gt; could use &lt;link&gt; as follows:
&gt;
&gt; &lt;link rel="orders" type="text/xml" href="/api/client/123/ 
&gt; orders.xml" /&gt;
&gt;
&gt; The problem I have with that is unnecessary complexity. I'm using a
&gt; construct that is clearly intended to be used in broad, extensible
&gt; context in a domain specific API that is supposed to be set in stone.
&gt; I'm inclined to just use the following:
&gt;
&gt; &lt;client ref="/api/clients/123"&gt;
&gt; &lt;orders ref="/api/clients/123/orders.xml" type="application/xml" /&gt;
&gt; &lt;orders ref="/api/clients/123/orders.json" type="application/json" /&gt;
&gt; &lt;/client&gt;
&gt;
&gt; I could definitely find a way to wrap the API in Atom (since
&gt; everything are basically collections), and in this case of course I
&gt; would use &lt;link&gt;. But if I'm defining my own domain specific API, from
&gt; an engineering point of view, should I care with keeping consistency
&gt; with Atom/HTML on &lt;link&gt; and potentially also attribute names (ref vs
&gt; href)?
&gt;
&gt; I have come up with two postulates for API design, so whenever I would
&gt; run into the same type of situation, I would these criteria to guide
&gt; myself:
&gt;
&gt; 1) Every referred resource within another resource's representation
&gt; needs a @ref attribute pointing to its canonical representation
&gt; (usually XML), even if it is an empty element, and also a @type
&gt; attribute. Example:
&gt;
&gt; &lt;other-resource ref="{uri}" type="application/xml" /&gt;
&gt;
&gt; 2) Every URI pointing to an alternative representation of the current
&gt; resource should be kept as text element children. Naming of the
&gt; element for the alternative representation is up to the API specific
&gt; domain. Example:
&gt;
&gt; &lt;track ref="/api/tracks/123"&gt;
&gt; ...
&gt; &lt;media bitrate="128kbps" type="audio/mpeg"&gt;http://...&lt;/media&gt;
&gt; &lt;/track&gt;
&gt;
&gt; What you think of this convention? Am I making any sense here?
&gt;
&gt; --
&gt; Jonas Galvez
&gt; Software Engineer
&gt; Cdeazur Brasil
&gt;
&gt; http://jonasgalvez.com.br
&gt; http://codeazur.com.br
&gt; 
&gt; &lt;!-- #ygrp-mkp{ border: 1px solid #d8d8d8; font-family: Arial;  
&gt; margin: 14px 0px; padding: 0px 14px; } #ygrp-mkp hr{ border: 1px  
&gt; solid #d8d8d8; } #ygrp-mkp #hd{ color: #628c2a; font-size: 85%; font- 
&gt; weight: bold; line-height: 122%; margin: 10px 0px; } #ygrp-mkp  
&gt; #ads{ margin-bottom: 10px; } #ygrp-mkp .ad{ padding: 0 0; } #ygrp- 
&gt; mkp .ad a{ color: #0000ff; text-decoration: none; } --&gt; &lt;!-- #ygrp- 
&gt; sponsor #ygrp-lc{ font-family: Arial; } #ygrp-sponsor #ygrp-lc  
&gt; #hd{ margin: 10px 0px; font-weight: bold; font-size: 78%; line- 
&gt; height: 122%; } #ygrp-sponsor #ygrp-lc .ad{ margin-bottom: 10px;  
&gt; padding: 0 0; } --&gt; &lt;!-- #ygrp-mlmsg {font-size:13px; font-family:  
&gt; arial,helvetica,clean,sans-serif;*font-size:small;*font:x-small;}  
&gt; #ygrp-mlmsg table {font-size:inherit;font:100%;} #ygrp-mlmsg select,  
&gt; input, textarea {font:99% arial,helvetica,clean,sans-serif;} #ygrp- 
&gt; mlmsg pre, code {font:115% monospace;*font-size:100%;} #ygrp-mlmsg *  
&gt; {line-height:1.22em;} #ygrp-text{ font-family: Georgia;	 } #ygrp- 
&gt; text p{ margin: 0 0 1em 0; } #ygrp-tpmsgs{ font-family: Arial;	  
&gt; clear: both; } #ygrp-vitnav{ padding-top: 10px; font-family:  
&gt; Verdana; font-size: 77%; margin: 0; } #ygrp-vitnav a{ padding: 0  
&gt; 1px; } #ygrp-actbar{ clear: both; margin: 25px 0; white- 
&gt; space:nowrap; color: #666; text-align: right; } #ygrp- 
&gt; actbar .left{ float: left; white-space:nowrap; } .bld{font- 
&gt; weight:bold;} #ygrp-grft{ font-family: Verdana; font-size: 77%;  
&gt; padding: 15px 0; } #ygrp-ft{ font-family: verdana; font-size: 77%;  
&gt; border-top: 1px solid #666; padding: 5px 0; } #ygrp-mlmsg  
&gt; #logo{ padding-bottom: 10px; } #ygrp-reco { margin-bottom: 20px;  
&gt; padding: 0px; } #ygrp-reco #reco-head { font-weight: bold; color:  
&gt; #ff7900; } #reco-grpname{ font-weight: bold; margin-top: 10px; }  
&gt; #reco-category{ font-size: 77%; } #reco-desc{ font-size: 77%; }  
&gt; #ygrp-vital{ background-color: #e0ecee; margin-bottom: 20px;  
&gt; padding: 2px 0 8px 8px; } #ygrp-vital #vithd{ font-size: 77%; font- 
&gt; family: Verdana; font-weight: bold; color: #333; text-transform:  
&gt; uppercase; } #ygrp-vital ul{ padding: 0; margin: 2px 0; } #ygrp- 
&gt; vital ul li{ list-style-type: none; clear: both; border: 1px solid  
&gt; #e0ecee; } #ygrp-vital ul li .ct{ font-weight: bold; color: #ff7900;  
&gt; float: right; width: 2em; text-align:right; padding-right: .5em; } 	 
&gt; #ygrp-vital ul li .cat{ font-weight: bold; } #ygrp-vital a{ text- 
&gt; decoration: none; } #ygrp-vital a:hover{ text-decoration:  
&gt; underline; } 	#ygrp-sponsor #hd{ color: #999; font-size: 77%; }  
&gt; #ygrp-sponsor #ov{ padding: 6px 13px; background-color: #e0ecee;  
&gt; margin-bottom: 20px; 	} #ygrp-sponsor #ov ul{ padding: 0 0 0 8px;  
&gt; margin: 0; } #ygrp-sponsor #ov li{ list-style-type: square; padding:  
&gt; 6px 0; font-size: 77%; 	} #ygrp-sponsor #ov li a{ text-decoration:  
&gt; none; font-size: 130%; } #ygrp-sponsor #nc{ background-color: #eee;  
&gt; margin-bottom: 20px; padding: 0 8px; } #ygrp-sponsor .ad{ padding:  
&gt; 8px 0; } #ygrp-sponsor .ad #hd1{ font-family: Arial; font-weight:  
&gt; bold; color: #628c2a; font-size: 100%; line-height: 122%; } #ygrp- 
&gt; sponsor .ad a{ text-decoration: none; } #ygrp-sponsor .ad  
&gt; a:hover{ text-decoration: underline; } #ygrp-sponsor .ad p{ margin:  
&gt; 0; } o{font-size: 0; } .MsoNormal{ margin: 0 0 0 0; } #ygrp-text  
&gt; tt{ font-size: 120%; } blockquote{margin: 0 0 0 4px;} .replbq{margin: 
&gt; 4} --&gt;

---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11370<br>
Sender:"Jonas Galvez" &lt;jonas@...&gt;<br>
Post Date/Time:2008-10-07 22:57:17<br>
Subject:Re: [rest-discuss] On  (API design)<br>
Message:<br><br>
<pre>Subbu Allamaraju wrote:
&gt; What is so complex about using the first choice below?

I believe &lt;link&gt; is too generic/extensible, designed so that you can
fully describe a link only with attributes instead of having to define
new XML constructs.

Since I'm designing my own vocabulary that has a very specific
purpose, I think it makes sense to have a convention of carrying API
links as attributes within the elements representing the resources
they point to. A hopefully clearer example:

&lt;my-resource ref="uri:my-resource..." /&gt;

vs

&lt;my-resource&gt;&lt;link href="uri:my-resource" /&gt;&lt;/my-resource&gt;

Any reasonably good reason not to do this?

--
Jonas Galvez
Software Engineer
Cdeazur Brasil

http://jonasgalvez.com.br
http://codeazur.com.br

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11371<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-10-07 23:13:01<br>
Subject:Re: [rest-discuss] On  (API design)<br>
Message:<br><br>
<pre>Jonas:

While there is nothing wrong w/ inventing your own XML vocab (and the
validators to support it), I think there is not much to gain in doing
so. Using common idioms can make your documents more accessible to
others who want to use them, write clients against them, etc. The
&lt;link&gt; idiom is common enough that there will be a good deal of
existing code to handle them. Creating your own way to share links in
an XML document could make that existing code worthless.

And I don't see much downside to using the existing &lt;link&gt; idiom.
Sure, there are a few more bytes in the documents, but that seems like
a small price to pay for using a common pattern most folks already
understand.

mca
http://amundsen.com/blog/




On Tue, Oct 7, 2008 at 18:57, Jonas Galvez &lt;jonas@...&gt; wrote:
&gt; Subbu Allamaraju wrote:
&gt;&gt; What is so complex about using the first choice below?
&gt;
&gt; I believe &lt;link&gt; is too generic/extensible, designed so that you can
&gt; fully describe a link only with attributes instead of having to define
&gt; new XML constructs.
&gt;
&gt; Since I'm designing my own vocabulary that has a very specific
&gt; purpose, I think it makes sense to have a convention of carrying API
&gt; links as attributes within the elements representing the resources
&gt; they point to. A hopefully clearer example:
&gt;
&gt; &lt;my-resource ref="uri:my-resource..." /&gt;
&gt;
&gt; vs
&gt;
&gt; &lt;my-resource&gt;&lt;link href="uri:my-resource" /&gt;&lt;/my-resource&gt;
&gt;
&gt; Any reasonably good reason not to do this?
&gt;
&gt; --
&gt; Jonas Galvez
&gt; Software Engineer
&gt; Cdeazur Brasil
&gt;
&gt; http://jonasgalvez.com.br
&gt; http://codeazur.com.br
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11372<br>
Sender:"Jonas Galvez" &lt;jonas@...&gt;<br>
Post Date/Time:2008-10-08 00:11:16<br>
Subject:Re: [rest-discuss] On  (API design)<br>
Message:<br><br>
<pre>mike amundsen wrote:
&gt; Using common idioms can make your documents more
&gt; accessible to others who want to use them, write clients
&gt; against them, etc. The &lt;link&gt; idiom is common enough
&gt; that there will be a good deal of existing code to handle
&gt; them. Creating your own way to share links in an XML
&gt; document could make that existing code worthless.

Well, I'm sure there are lots of HTML and Atom libraries that handle
&lt;link&gt; automatically but unless my API's XML vocab is a direct
extension of either HTML or Atom, implementors are going to be
required to write new XML parsing code (as is the case with most
RESTful XML representations) and in this particular scenario, I'm not
sure &lt;link&gt; parsing would be individually available for plugging in,
or that it could have any real beneits. I tend to believe avoiding
&lt;link&gt; and other compatibility constructs could actually simplify API
client implementation.

--Jonas Galvez

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11373<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-10-08 00:44:00<br>
Subject:Re: [rest-discuss] On  (API design)<br>
Message:<br><br>
<pre>
On Oct 7, 2008, at 5:11 PM, Jonas Galvez wrote:

&gt; r that it could have any real beneits. I tend to believe avoiding
&gt; &lt;link&gt; and other compatibility constructs could actually simplify API
&gt; client implementation.


In certain cases, your proposal can simplify client implementations.  
Instead of getting a "link" child and then getting its "href"  
attribute, the client could directly get the "ref" attribute. However,  
your use cases may change in future and you may need to reinvent some  
of the things that the link element already supports, leading to  
future compat issues. It is worth considering before settling on the  
"ref" approach!

Subbu
---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11374<br>
Sender:"Jerome Louvel" &lt;jerome.louvel@...&gt;<br>
Post Date/Time:2008-10-08 07:21:54<br>
Subject:Re: REST-based webmail/forum applications?<br>
Message:<br><br>
<pre>Hi Andrzej,

Earlier this year, we started a project to experiment with the concept of
RESTful mail/forum. See RMEP (RESTful Mail Exchange Protocol):
&lt;http://www.rmep.org&gt; http://www.rmep.org

We have a plan to develop a proof of concept application based on Restlet.
We even have a prototype but nothing close to being used in production.
Still, we are interested in getting feed-back and help moving this project
forward.

Best regards,
Jrme Louvel
--
Restlet ~ Founder and Lead developer ~  &lt;http://www.restlet.org/&gt;
http://www.restlet.org
Noelios Technologies ~ Co-founder ~  &lt;http://www.noelios.com&gt;
http://www.noelios.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11375<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-10-08 10:20:45<br>
Subject:Re: [rest-discuss] On  (API design)<br>
Message:<br><br>
<pre>Hi Jonas,

I prefer the link element specifically because it's more generic. E.g.  
in your example 

&lt;link rel="orders" type="text/xml" href="/api/client/123/orders.xml" /&gt;

 any piece of client software that understands a link element could  
visualize it, e.g. presenting the "rel" and "type" to the end user.  
Clients that understand links and text/xml (shudder, application/xml)  
could make a little more sense of it. Finally, clients understanding  
an "orders" relationship could handle _any_ kind of document that  
contains links to orders.

In other words, I believe the usual case for a generic approach can be  
made here, especially since the disadvantage is really just a matter  
of syntactical details.

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/


On 08.10.2008, at 00:57, Jonas Galvez wrote:

&gt; Subbu Allamaraju wrote:
&gt; &gt; What is so complex about using the first choice below?
&gt;
&gt; I believe &lt;link&gt; is too generic/extensible, designed so that you can
&gt; fully describe a link only with attributes instead of having to define
&gt; new XML constructs.
&gt;
&gt; Since I'm designing my own vocabulary that has a very specific
&gt; purpose, I think it makes sense to have a convention of carrying API
&gt; links as attributes within the elements representing the resources
&gt; they point to. A hopefully clearer example:
&gt;
&gt; &lt;my-resource ref="uri:my-resource..." /&gt;
&gt;
&gt; vs
&gt;
&gt; &lt;my-resource&gt;&lt;link href="uri:my-resource" /&gt;&lt;/my-resource&gt;
&gt;
&gt; Any reasonably good reason not to do this?
&gt;
&gt; --
&gt; Jonas Galvez
&gt; Software Engineer
&gt; Cdeazur Brasil
&gt;
&gt; http://jonasgalvez.com.br
&gt; http://codeazur.com.br
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11376<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-10-08 17:01:11<br>
Subject:Re: [rest-discuss] On  (API design)<br>
Message:<br><br>
<pre>&gt; Clients that understand links and text/xml (shudder, application/xml)
&gt; could make a little more sense of it. Finally, clients understanding

"application/vnd.myorg.orders+xml"?

Although such a media type is proprietary, it can be used to describe  
representations more formally instead of overloading application/xml.

The point that clients can recognize the link element (from the Atom  
namespace or may be even XHTML) is a bit theoretical at this time, but  
hopefully that will change in time.

Subbu
---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11377<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-10-08 19:46:31<br>
Subject:Re: [rest-discuss] On  (API design)<br>
Message:<br><br>
<pre>On 08.10.2008, at 19:01, Subbu Allamaraju wrote:

&gt; "application/vnd.myorg.orders+xml"?
&gt;
&gt; Although such a media type is proprietary, it can be used to describe
&gt; representations more formally instead of overloading application/xml.

I agree and like this much better than application/xml. Still, text/ 
xml is worst:
http://www.w3.org/TR/2004/REC-webarch-20041215/#xml-media-types

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11378<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-10-09 15:12:16<br>
Subject:Re: [rest-discuss] Re: REST-based webmail/forum applications?<br>
Message:<br><br>
<pre>Jrme,

Has there been any activity on this since Apr 15th?

- Steve

--------------
Steve G. Bjorg
http://wiki.mindtouch.com
http://twitter.com/bjorg

On Oct 8, 2008, at 12:21 AM, Jerome Louvel wrote:

&gt;
&gt; Hi Andrzej,
&gt;
&gt; Earlier this year, we started a project to experiment with the  
&gt; concept of RESTful mail/forum. See RMEP (RESTful Mail Exchange  
&gt; Protocol): http://www.rmep.org
&gt;
&gt; We have a plan to develop a proof of concept application based on  
&gt; Restlet. We even have a prototype but nothing close to being used in  
&gt; production. Still, we are interested in getting feed-back and help  
&gt; moving this project forward.
&gt;
&gt; Best regards,
&gt; Jrme Louvel
&gt; --
&gt; Restlet ~ Founder and Lead developer ~ http://www.restlet.org
&gt; Noelios Technologies ~ Co-founder ~ http://www.noelios.com
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11379<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-10-09 15:51:43<br>
Subject:Re: On  (API design)<br>
Message:<br><br>
<pre>* mike amundsen &lt;mamund@...&gt; [2008-10-08 01:15]:
&gt; The &lt;link&gt; idiom is common enough that there will be a good
&gt; deal of existing code to handle them. Creating your own way to
&gt; share links in an XML document could make that existing code
&gt; worthless.

That doesnt seem like a concern to me. The basic link element
pattern is trivial to handle. The complexity in handling links is
in dealing with the constraints imposed by the container format,
eg. in Atom, there are specific demands on what links an Entry
must and must not have. That logic is going to need writing from
scratch for every format anyway.

If youre designing a vocabulary from scratch I dont see an
extremely compelling reason to go with the link element pattern
or break it.

However, note that I am arguing only about the case where you
*have* decided to design a new vocabulary. But that is not a step
to be take lightly. I would be very reluctant to do that. Even if
sticking with an existing standard format causes inconvenience,
as long as you dont need to actively work against the format to
make it work, you stand to benefit greatly  through code reuse,
f.ex., bringing us full circle.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11380<br>
Sender:"Jerome Louvel" &lt;jerome.louvel@...&gt;<br>
Post Date/Time:2008-10-10 08:52:56<br>
Subject:Re: [rest-discuss] Re: REST-based webmail/forum applications?<br>
Message:<br><br>
<pre>Hi Steve,
 
We have been working internally of a prototype because it's related to a
book project that we are pursuing in parallel (http://book.restlet.org). We
didn't do any communication about RMEP so far because it was ready for
serious public review. It's just Andrzej's email that led me talking about
it.
 
If you are interested in moving those ideas forward, please join us and
participate. We'd like this to be an open and collaborative effort.
 
Best regards,
Jrme Louvel
--
Restlet ~ Founder and Lead developer ~  &lt;http://www.restlet.org/&gt;
http://www.restlet.org
Noelios Technologies ~ Co-founder ~  &lt;http://www.noelios.com/&gt;
http://www.noelios.com

  _____  

De : Steve Bjorg [mailto:steveb@...] 
Envoy : jeudi 9 octobre 2008 17:12
 : Jerome Louvel
Cc : rest-discuss@yahoogroups.com
Objet : Re: [rest-discuss] Re: REST-based webmail/forum applications?


Jrme,

Has there been any activity on this since Apr 15th?

- Steve

--------------
Steve G. Bjorg
http://wiki.mindtouch.com
http://twitter.com/bjorg

On Oct 8, 2008, at 12:21 AM, Jerome Louvel wrote:





Hi Andrzej,

Earlier this year, we started a project to experiment with the concept of
RESTful mail/forum. See RMEP (RESTful Mail Exchange Protocol):
&lt;http://www.rmep.org&gt; http://www.rmep.org

We have a plan to develop a proof of concept application based on Restlet.
We even have a prototype but nothing close to being used in production.
Still, we are interested in getting feed-back and help moving this project
forward.

Best regards,
Jrme Louvel
--
Restlet ~ Founder and Lead developer ~  &lt;http://www.restlet.org/&gt;
http://www.restlet.org
Noelios Technologies ~ Co-founder ~  &lt;http://www.noelios.com&gt;
http://www.noelios.com





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11381<br>
Sender:Seairth Jacobs &lt;seairth@...&gt;<br>
Post Date/Time:2008-10-11 20:15:35<br>
Subject:REST link<br>
Message:<br><br>
<pre>Doing some robotics research, I came across the following:

http://msdn.microsoft.com/en-us/library/bb466255.aspx


Seairth

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11382<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-10-15 01:15:58<br>
Subject:Re: [rest-discuss] Re: REST-based webmail/forum applications?<br>
Message:<br><br>
<pre>Jrme,

Sorry for the slow turn around time.  I'd love peek my nose into the  
evolving spec.  You should publish it on a wiki like http://restpatterns.wik.is 
  :)

- Steve

--------------
Steve G. Bjorg
http://wiki.mindtouch.com
http://twitter.com/bjorg

On Oct 10, 2008, at 1:52 AM, Jerome Louvel wrote:

&gt; Hi Steve,
&gt;
&gt; We have been working internally of a prototype because it's related  
&gt; to a book project that we are pursuing in parallel (http://book.restlet.org 
&gt; ). We didn't do any communication about RMEP so far because it was  
&gt; ready for serious public review. It's just Andrzej's email that led  
&gt; me talking about it.
&gt;
&gt; If you are interested in moving those ideas forward, please join us  
&gt; and participate. We'd like this to be an open and collaborative  
&gt; effort.
&gt;
&gt; Best regards,
&gt; Jrme Louvel
&gt; --
&gt; Restlet ~ Founder and Lead developer ~ http://www.restlet.org
&gt; Noelios Technologies ~ Co-founder ~ http://www.noelios.com
&gt;
&gt; De : Steve Bjorg [mailto:steveb@...]
&gt; Envoy : jeudi 9 octobre 2008 17:12
&gt;  : Jerome Louvel
&gt; Cc : rest-discuss@yahoogroups.com
&gt; Objet : Re: [rest-discuss] Re: REST-based webmail/forum applications?
&gt;
&gt; Jrme,
&gt;
&gt; Has there been any activity on this since Apr 15th?
&gt;
&gt; - Steve
&gt;
&gt; --------------
&gt; Steve G. Bjorg
&gt; http://wiki.mindtouch.com
&gt; http://twitter.com/bjorg
&gt;
&gt; On Oct 8, 2008, at 12:21 AM, Jerome Louvel wrote:
&gt;
&gt;&gt;
&gt;&gt; Hi Andrzej,
&gt;&gt;
&gt;&gt; Earlier this year, we started a project to experiment with the  
&gt;&gt; concept of RESTful mail/forum. See RMEP (RESTful Mail Exchange  
&gt;&gt; Protocol): http://www.rmep.org
&gt;&gt;
&gt;&gt; We have a plan to develop a proof of concept application based on  
&gt;&gt; Restlet. We even have a prototype but nothing close to being used  
&gt;&gt; in production. Still, we are interested in getting feed-back and  
&gt;&gt; help moving this project forward.
&gt;&gt;
&gt;&gt; Best regards,
&gt;&gt; Jrme Louvel
&gt;&gt; --
&gt;&gt; Restlet ~ Founder and Lead developer ~ http://www.restlet.org
&gt;&gt; Noelios Technologies ~ Co-founder ~ http://www.noelios.com
&gt;&gt;
&gt;&gt; 
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11383<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-10-16 11:55:59<br>
Subject:relating resources<br>
Message:<br><br>
<pre>Suppose I had a collection resource and a document resource.

  /collection/foo
  /document/bar

and I want to add that document to the collection. What idioms are 
people using to add (and remove) items to the collection, or in general 
tell a server to relate two resources?

An AtomPub post to collection approach doesn't seem to fit here, as I'm 
not creating the document; it already exists. It feels naturally like a 
function spanning two resources as opposed to a uniform operation on a 
single resource.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11384<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-10-16 12:42:27<br>
Subject:Re: [rest-discuss] relating resources<br>
Message:<br><br>
<pre>Bill de hOra wrote:
&gt; 
&gt; 
&gt; Suppose I had a collection resource and a document resource.
&gt; 
&gt; /collection/ foo
&gt; /document/bar
&gt; 
&gt; and I want to add that document to the collection. What idioms are
&gt; people using to add (and remove) items to the collection, or in general
&gt; tell a server to relate two resources?
&gt; 
&gt; An AtomPub post to collection approach doesn't seem to fit here, as I'm
&gt; not creating the document; it already exists. It feels naturally like a
&gt; function spanning two resources as opposed to a uniform operation on a
&gt; single resource.
&gt; 
&gt; Bill

&lt;http://greenbytes.de/tech/webdav/rfc4918.html#METHOD_COPY&gt; or 
&lt;http://greenbytes.de/tech/webdav/rfc4918.html#METHOD_MOVE&gt;...

BR, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11385<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-10-16 13:39:08<br>
Subject:Re: [rest-discuss] relating resources<br>
Message:<br><br>
<pre>In cases where we allow it, the POST accepts one or more optional
reference elements as part of the document.
&lt;document-to-post&gt;
   data goes here...
   &lt;link rel="reference-url" href="..." /&gt;
&lt;/document-to-post&gt;

Upon accepting the POST, the server de-references the reference-url
item and treats it accordingly. sometimes it means just adding a link
in data storage. sometimes it means treating the de-referenced
resource as inputs for a new member of the collection, etc.

mca
http://amundsen.com/blog/


On Thu, Oct 16, 2008 at 07:55, Bill de hOra &lt;bill@...&gt; wrote:
&gt; Suppose I had a collection resource and a document resource.
&gt;
&gt;  /collection/foo
&gt;  /document/bar
&gt;
&gt; and I want to add that document to the collection. What idioms are
&gt; people using to add (and remove) items to the collection, or in general
&gt; tell a server to relate two resources?
&gt;
&gt; An AtomPub post to collection approach doesn't seem to fit here, as I'm
&gt; not creating the document; it already exists. It feels naturally like a
&gt; function spanning two resources as opposed to a uniform operation on a
&gt; single resource.
&gt;
&gt; Bill
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11386<br>
Sender:"Brian Smith" &lt;brian@...&gt;<br>
Post Date/Time:2008-10-16 14:10:55<br>
Subject:RE: [rest-discuss] relating resources<br>
Message:<br><br>
<pre>Bill de hOra wrote:
&gt; Suppose I had a collection resource and a document resource.
&gt; 
&gt;   /collection/foo
&gt;   /document/bar
&gt; 
&gt; and I want to add that document to the collection. What idioms are 
&gt; people using to add (and remove) items to the collection, or 
&gt; in general 
&gt; tell a server to relate two resources?
&gt; 
&gt; An AtomPub post to collection approach doesn't seem to fit 
&gt; here, as I'm not creating the document; it already exists.
&gt; It feels naturally like a function spanning two resources
&gt; as opposed to a uniform operation on a single resource.

I think you can use AtomPub for this:

POST /collection/foo HTTP/1.1
Content-Type: application/atom+xml;type=entry
...

&lt;entry ...&gt;
   &lt;content src='/document/bar' .../&gt;
   ...
&lt;/entry&gt;

This will create an entry that looks a lot like a MLE entry. The client or
the server could even add a "edit-media" link if /document/bar is editable
over HTTP. But, it wouldn't be a MLE because if deleting the entry didn't
result in the linked document (/document/bar) being deleted. Unfortunately,
in AtomPub there is no way to tell whether an entry is a MLE or it just
looks like a MLE.

Regards,
Brian


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11387<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-10-16 15:23:28<br>
Subject:Re: [rest-discuss] relating resources<br>
Message:<br><br>
<pre>Just slightly expanding, one way to treat this is as /collection/foo  
having a collection of links to documents, client can then POST to  
that collection to add a new link. In a way, this is like creating a  
"composite" from existing resources.

Subbu

On Oct 16, 2008, at 6:39 AM, mike amundsen wrote:

&gt; In cases where we allow it, the POST accepts one or more optional
&gt; reference elements as part of the document.
&gt; &lt;document-to-post&gt;
&gt; data goes here...
&gt; &lt;link rel="reference-url" href="..." /&gt;
&gt; &lt;/document-to-post&gt;
&gt;
&gt; Upon accepting the POST, the server de-references the reference-url
&gt; item and treats it accordingly. sometimes it means just adding a link
&gt; in data storage. sometimes it means treating the de-referenced
&gt; resource as inputs for a new member of the collection, etc.
&gt;
&gt; mca
&gt; http://amundsen.com/blog/
&gt;
&gt; On Thu, Oct 16, 2008 at 07:55, Bill de hOra &lt;bill@...&gt; wrote:
&gt; &gt; Suppose I had a collection resource and a document resource.
&gt; &gt;
&gt; &gt; /collection/foo
&gt; &gt; /document/bar
&gt; &gt;
&gt; &gt; and I want to add that document to the collection. What idioms are
&gt; &gt; people using to add (and remove) items to the collection, or in  
&gt; general
&gt; &gt; tell a server to relate two resources?
&gt; &gt;
&gt; &gt; An AtomPub post to collection approach doesn't seem to fit here,  
&gt; as I'm
&gt; &gt; not creating the document; it already exists. It feels naturally  
&gt; like a
&gt; &gt; function spanning two resources as opposed to a uniform operation  
&gt; on a
&gt; &gt; single resource.
&gt; &gt;
&gt; &gt; Bill
&gt; &gt;
&gt; &gt;-
&gt;

http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11388<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-10-16 19:09:13<br>
Subject:Re: [rest-discuss] relating resources<br>
Message:<br><br>
<pre>On 16.10.2008, at 13:55, Bill de hOra wrote:

&gt; Suppose I had a collection resource and a document resource.
&gt;
&gt; /collection/foo
&gt; /document/bar
&gt;
&gt; and I want to add that document to the collection. What idioms are
&gt; people using to add (and remove) items to the collection, or in  
&gt; general
&gt; tell a server to relate two resources?
&gt;
I POST the URI itself (sans XML) to the collection and return a 200.

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11389<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-10-16 20:02:27<br>
Subject:Re: [rest-discuss] relating resources<br>
Message:<br><br>
<pre>Julian Reschke wrote:
&gt; Bill de hOra wrote:
&gt;&gt;
&gt;&gt;
&gt;&gt; Suppose I had a collection resource and a document resource.
&gt;&gt;
&gt;&gt; /collection/ foo
&gt;&gt; /document/bar
&gt;&gt;
&gt;&gt; and I want to add that document to the collection. What idioms are
&gt;&gt; people using to add (and remove) items to the collection, or in general
&gt;&gt; tell a server to relate two resources?
&gt;&gt;
&gt;&gt; An AtomPub post to collection approach doesn't seem to fit here, as I'm
&gt;&gt; not creating the document; it already exists. It feels naturally like a
&gt;&gt; function spanning two resources as opposed to a uniform operation on a
&gt;&gt; single resource.
&gt;&gt;
&gt;&gt; Bill
&gt; 
&gt; &lt;http://greenbytes.de/tech/webdav/rfc4918.html#METHOD_COPY&gt; or 
&gt; &lt;http://greenbytes.de/tech/webdav/rfc4918.html#METHOD_MOVE&gt;...

Except I don't want to move or copy the document. The document can 
"appear" in multiple collections.

Flickr sets would be a example of this kind of collection; adding a 
photo to the set doesn't create a copy of the photo.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11390<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-10-16 20:03:11<br>
Subject:Re: [rest-discuss] relating resources<br>
Message:<br><br>
<pre>Stefan Tilkov wrote:
&gt; 
&gt; 
&gt; On 16.10.2008, at 13:55, Bill de hOra wrote:
&gt; 
&gt;  &gt; Suppose I had a collection resource and a document resource.
&gt;  &gt;
&gt;  &gt; /collection/foo
&gt;  &gt; /document/bar
&gt;  &gt;
&gt;  &gt; and I want to add that document to the collection. What idioms are
&gt;  &gt; people using to add (and remove) items to the collection, or in
&gt;  &gt; general
&gt;  &gt; tell a server to relate two resources?
&gt;  &gt;
&gt; I POST the URI itself (sans XML) to the collection and return a 200.

How do you remove it?

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11391<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-10-17 08:55:47<br>
Subject:Re: [rest-discuss] relating resources<br>
Message:<br><br>
<pre>Bill de hOra wrote:
&gt; 
&gt; 
&gt; Julian Reschke wrote:
&gt;  &gt; Bill de hOra wrote:
&gt;  &gt;&gt;
&gt;  &gt;&gt;
&gt;  &gt;&gt; Suppose I had a collection resource and a document resource.
&gt;  &gt;&gt;
&gt;  &gt;&gt; /collection/ foo
&gt;  &gt;&gt; /document/bar
&gt;  &gt;&gt;
&gt;  &gt;&gt; and I want to add that document to the collection. What idioms are
&gt;  &gt;&gt; people using to add (and remove) items to the collection, or in general
&gt;  &gt;&gt; tell a server to relate two resources?
&gt;  &gt;&gt;
&gt;  &gt;&gt; An AtomPub post to collection approach doesn't seem to fit here, as I'm
&gt;  &gt;&gt; not creating the document; it already exists. It feels naturally like a
&gt;  &gt;&gt; function spanning two resources as opposed to a uniform operation on a
&gt;  &gt;&gt; single resource.
&gt;  &gt;&gt;
&gt;  &gt;&gt; Bill
&gt;  &gt;
&gt;  &gt; &lt;http://greenbytes. de/tech/webdav/ rfc4918.html# METHOD_COPY 
&gt; &lt;http://greenbytes.de/tech/webdav/rfc4918.html#METHOD_COPY&gt;&gt; or
&gt;  &gt; &lt;http://greenbytes. de/tech/webdav/ rfc4918.html# METHOD_MOVE 
&gt; &lt;http://greenbytes.de/tech/webdav/rfc4918.html#METHOD_MOVE&gt;&gt;...
&gt; 
&gt; Except I don't want to move or copy the document. The document can
&gt; "appear" in multiple collections.
 &gt;
 &gt; Flickr sets would be a example of this kind of collection; adding a
 &gt; photo to the set doesn't create a copy of the photo.
 &gt; ...

Sorry, I messed that. OK, in this case the answer would be:

&lt;http://greenbytes.de/tech/webdav/draft-ietf-webdav-bind-21.html#METHOD_BIND&gt;.

BR, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11392<br>
Sender:Sean Kennedy &lt;seandkennedy@...&gt;<br>
Post Date/Time:2008-10-20 17:00:10<br>
Subject:(Logical) Resources vs Web Service code<br>
Message:<br><br>
<pre>Hi,
   I have a question as to how resources and Web Services are organised/differentiated on the server:

- if you have many logical parts as in http://www.xfront.com/REST-Web-Services.html where are the GETs inserted. I presume there is not a GET method (i.e. code) on each possible URI requested (as there could be thousands) i.e. :

http://www.parts-depot.com/parts/00345
http://www.parts-depot.com/parts/00346
http://www.parts-depot.com/parts/00347 etc...

But I also doubt there is a single endpoint (like SOAP has) where there is a parse of the URI. The crux of 
my q is the logical URI versus where the GET code is put...

Thanks,
Sean.

Send instant messages to your online friends http://uk.messenger.yahoo.com </pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11393<br>
Sender:"Craig McClanahan" &lt;craigmcc@...&gt;<br>
Post Date/Time:2008-10-20 17:58:13<br>
Subject:Re: [rest-discuss] (Logical) Resources vs Web Service code<br>
Message:<br><br>
<pre>On Mon, Oct 20, 2008 at 10:00 AM, Sean Kennedy &lt;seandkennedy@...&gt; wrote:
&gt; Hi,
&gt;    I have a question as to how resources and Web Services are
&gt; organised/differentiated on the server:
&gt;
&gt; - if you have many logical parts as in
&gt; http://www.xfront.com/REST-Web-Services.html where are the GETs inserted. I
&gt; presume there is not a GET method (i.e. code) on each possible URI requested
&gt; (as there could be thousands) i.e. :
&gt;
&gt; http://www.parts-depot.com/parts/00345
&gt; http://www.parts-depot.com/parts/00346
&gt; http://www.parts-depot.com/parts/00347 etc...
&gt;
&gt; But I also doubt there is a single endpoint (like SOAP has) where
&gt;  there is a parse of the URI. The crux of
&gt; my q is the logical URI versus where the GET code is put...
&gt;
&gt; Thanks,
&gt; Sean.
&gt;

The details of how the server implementation is organized are
*strongly* dependent on programming language, and what kind of
framework (if any) you choose to help you.  Here's a Java based
example using the JAX-RS[1] "RESTful Web Services" APIs -- JAX-RS
recently went to 1.0 final, and I've had lots of success with
Jersey[2], the production quality reference implementation.

    @Path("/parts")
    public class PartsResource {

        @GET
        @Path("{id})
        @Produces({"application/xml", "text/xml", "application/json"})
        public Response find(@PathParam("id") String id) {
            Part part = MyBusinessLogic.findPartById(id);
            if (part != null) {
                return Response.ok(part).build();
            } else {
                return Response.status(404).build();
            }
       }

    }

There's a bit of "magic" going on here if you're not familiar with
JAX-RS, so here are some clues to what is happening:

* The @Path annotation on the class itself says this class responds to
all URLs that begin with "/parts".

* The annotations on the find() method state:
  - This method responds to GET requests
  - It captures the second segment of the URL (/parts/xxxxx) in a
template variable named "id"
  - It can produce either XML or JSON, depending on what media type
the client asked for
    in the "Accept" header of the request

* The "id" path parameter is passed in as a method parameter named
"id" (not required, but logical)

* A good resource class IMHO should play only the MVC controller role,
so actually accessing
  the underlying data in your system should be delegated to
appropriate business logic
  using your favorite implementation techniques.

* If a part with the specified ID is found, it is returned in a status
code 200 response.  The
  actual serialization of a Part instance is delegated to either a
"provider" class that you
  supply in your application, or (if you are using JAXB to create your
Java model classes,
  you get it "for free").

* If a part with the specified ID is not found, return a 404 "Not
Found" status instead,
  in accordance with RESTful principles.

Of course, this isn't the only way to do it with JAX-RS, and certainly
not the only possible framework even for Java ... but I suspect most
server side frameworks will offer a similar abstraction that lets you
use a single method to process an entire set of request URIs, with the
framework picking the right method based on the incoming URI, the
request verb, and the requested content types.

Craig McClanahan

[1] http://jcp.org/en/jsr/detail?id=311
[2] https://jersey.dev.java.net

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11394<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-10-20 19:56:32<br>
Subject:Re: [rest-discuss] relating resources<br>
Message:<br><br>
<pre>On 16.10.2008, at 22:03, Bill de hOra wrote:

&gt; Stefan Tilkov wrote:
&gt; &gt;
&gt; &gt; I POST the URI itself (sans XML) to the collection and return a 200.
&gt;
&gt; How do you remove it?
&gt;
&gt; Bill
&gt;

Good question with no generic answer. The few occasions I did this,  
stuff was removed through some backend logic (i.e. not via the RESTful  
interface) or never removed at all.

Stefan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11395<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-10-20 19:59:26<br>
Subject:Re: [rest-discuss] (Logical) Resources vs Web Service code<br>
Message:<br><br>
<pre>On 20.10.2008, at 19:00, Sean Kennedy wrote:

&gt; I presume there is not a GET method (i.e. code) on each possible URI  
&gt; requested (as there could be thousands) i.e. :
&gt; http://www.parts-depot.com/parts/00345
&gt; http://www.parts-depot.com/parts/00346
&gt; http://www.parts-depot.com/parts/00347 etc...
That's not a problem - there could be millions or billions of URIs.  
This says nothing about how your code handles them, e.g. you could  
have a servlet or CGI script registered to handle all HTTP requests  
to /parts and work with the URI within it.

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11396<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-10-21 21:47:37<br>
Subject:Re: [rest-discuss] relating resources<br>
Message:<br><br>
<pre>Stefan Tilkov wrote:
&gt; 
&gt; 
&gt; On 16.10.2008, at 22:03, Bill de hOra wrote:
&gt; 
&gt;  &gt; Stefan Tilkov wrote:
&gt;  &gt; &gt;
&gt;  &gt; &gt; I POST the URI itself (sans XML) to the collection and return a 200.
&gt;  &gt;
&gt;  &gt; How do you remove it?
&gt;  &gt;
&gt;  &gt; Bill
&gt;  &gt;
&gt; 
&gt; Good question with no generic answer. The few occasions I did this,
&gt; stuff was removed through some backend logic (i.e. not via the RESTful
&gt; interface) or never removed at all.

It's worth digging into. This is an area (along with partial updates) 
where I'm prone to sympathizing with the RPC crowd*, as in, it tends to 
require a pattern or an idiom. On that basis you can argue that there is 
a capability than people need - the ability to relate resources. How to 
do this is not evident when I look at REST.

Bill

* if REST can have a religion, then RPC can have a mob. That seems fair.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11397<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2008-10-22 05:47:53<br>
Subject:Re: [rest-discuss] relating resources<br>
Message:<br><br>
<pre>Hi,

[I did not follow the discussion, so excuses if I am repeating something]

Is it helpful to consider the HTTP LINK method for relating resources? Not sure how that helpls the specific case of removing from a collection, though.

LINK leans towards creating header information, but why shouldn't the resource be free to create the link in whatever way it wants to?

Jan

 &lt;http://www.w3.org/Protocols/HTTP/Methods/Link.html&gt;

 
On Tuesday, October 21, 2008, at 11:47PM, "Bill de hOra" &lt;bill@...&gt; wrote:
&gt;Stefan Tilkov wrote:
&gt;&gt; 
&gt;&gt; 
&gt;&gt; On 16.10.2008, at 22:03, Bill de hOra wrote:
&gt;&gt; 
&gt;&gt;  &gt; Stefan Tilkov wrote:
&gt;&gt;  &gt; &gt;
&gt;&gt;  &gt; &gt; I POST the URI itself (sans XML) to the collection and return a 200.
&gt;&gt;  &gt;
&gt;&gt;  &gt; How do you remove it?
&gt;&gt;  &gt;
&gt;&gt;  &gt; Bill
&gt;&gt;  &gt;
&gt;&gt; 
&gt;&gt; Good question with no generic answer. The few occasions I did this,
&gt;&gt; stuff was removed through some backend logic (i.e. not via the RESTful
&gt;&gt; interface) or never removed at all.
&gt;
&gt;It's worth digging into. This is an area (along with partial updates) 
&gt;where I'm prone to sympathizing with the RPC crowd*, as in, it tends to 
&gt;require a pattern or an idiom. On that basis you can argue that there is 
&gt;a capability than people need - the ability to relate resources. How to 
&gt;do this is not evident when I look at REST.
&gt;
&gt;Bill
&gt;
&gt;* if REST can have a religion, then RPC can have a mob. That seems fair.
&gt;
&gt;------------------------------------
&gt;
&gt;Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11398<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-10-22 06:16:51<br>
Subject:Re: [rest-discuss] relating resources<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11399<br>
Sender:"Jerome Louvel" &lt;jerome.louvel@...&gt;<br>
Post Date/Time:2008-10-22 11:57:18<br>
Subject:Re: [rest-discuss] Re: REST-based webmail/forum applications?<br>
Message:<br><br>
<pre>Hi Steve,
 
We are not at the specification writing phase yet, only at the requirements
phase. We already have a wiki for the RMEP project:
http://code.google.com/p/rmep/wiki/Requirements
 
You can add comment at the bottom and become a member if you are interested.
 
Best regards,
Jrme Louvel
--
Restlet ~ Founder and Lead developer ~  &lt;http://www.restlet.org/&gt;
http://www.restlet.org
Noelios Technologies ~ Co-founder ~  &lt;http://www.noelios.com/&gt;
http://www.noelios.com

  _____  

De : Steve Bjorg [mailto:steveb@mindtouch.com] 
Envoy : mercredi 15 octobre 2008 03:16
 : Jerome Louvel
Cc : rest-discuss@yahoogroups.com
Objet : Re: [rest-discuss] Re: REST-based webmail/forum applications?


Jrme,

Sorry for the slow turn around time.  I'd love peek my nose into the
evolving spec.  You should publish it on a wiki like
http://restpatterns.wik.is :)

- Steve

--------------
Steve G. Bjorg
http://wiki.mindtouch.com
http://twitter.com/bjorg

On Oct 10, 2008, at 1:52 AM, Jerome Louvel wrote:


Hi Steve,
 
We have been working internally of a prototype because it's related to a
book project that we are pursuing in parallel (http://book.restlet.org). We
didn't do any communication about RMEP so far because it was ready for
serious public review. It's just Andrzej's email that led me talking about
it.
 
If you are interested in moving those ideas forward, please join us and
participate. We'd like this to be an open and collaborative effort.
 


Best regards,
Jrme Louvel
--
Restlet ~ Founder and Lead developer ~  &lt;http://www.restlet.org/&gt;
http://www.restlet.org
Noelios Technologies ~ Co-founder ~  &lt;http://www.noelios.com/&gt;
http://www.noelios.com

  _____  

De : Steve Bjorg [mailto:steveb@...] 
Envoy : jeudi 9 octobre 2008 17:12
 : Jerome Louvel
Cc : rest-discuss@yahoogroups.com
Objet : Re: [rest-discuss] Re: REST-based webmail/forum applications?


Jrme,

Has there been any activity on this since Apr 15th?




- Steve

--------------
Steve G. Bjorg
http://wiki.mindtouch.com
http://twitter.com/bjorg

On Oct 8, 2008, at 12:21 AM, Jerome Louvel wrote:





Hi Andrzej,

Earlier this year, we started a project to experiment with the concept of
RESTful mail/forum. See RMEP (RESTful Mail Exchange Protocol):
&lt;http://www.rmep.org&gt; http://www.rmep.org

We have a plan to develop a proof of concept application based on Restlet.
We even have a prototype but nothing close to being used in production.
Still, we are interested in getting feed-back and help moving this project
forward.

Best regards,
Jrme Louvel
--
Restlet ~ Founder and Lead developer ~  &lt;http://www.restlet.org/&gt;
http://www.restlet.org
Noelios Technologies ~ Co-founder ~  &lt;http://www.noelios.com&gt;
http://www.noelios.com






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11400<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-10-22 22:44:13<br>
Subject:Re: [rest-discuss] relating resources<br>
Message:<br><br>
<pre>Assaf Arkin wrote:
&gt; On Tue, Oct 21, 2008 at 2:47 PM, Bill de hOra &lt;bill@... 
&gt; &lt;mailto:bill@...&gt;&gt; wrote:
&gt; 
&gt;     Stefan Tilkov wrote:
&gt;      &gt;
&gt;      &gt;
&gt;      &gt; On 16.10.2008, at 22:03, Bill de hOra wrote:
&gt;      &gt;
&gt;      &gt;  &gt; Stefan Tilkov wrote:
&gt;      &gt;  &gt; &gt;
&gt;      &gt;  &gt; &gt; I POST the URI itself (sans XML) to the collection and
&gt;     return a 200.
&gt;      &gt;  &gt;
&gt;      &gt;  &gt; How do you remove it?
&gt;      &gt;  &gt;
&gt;      &gt;  &gt; Bill
&gt;      &gt;  &gt;
&gt;      &gt;
&gt;      &gt; Good question with no generic answer. The few occasions I did this,
&gt;      &gt; stuff was removed through some backend logic (i.e. not via the
&gt;     RESTful
&gt;      &gt; interface) or never removed at all.
&gt; 
&gt;     It's worth digging into. This is an area (along with partial updates)
&gt;     where I'm prone to sympathizing with the RPC crowd*, as in, it tends to
&gt;     require a pattern or an idiom. On that basis you can argue that there is
&gt;     a capability than people need - the ability to relate resources. How to
&gt;     do this is not evident when I look at REST.
&gt; 
&gt; 
&gt; Let's say I want to label this email "interesting".  My Web-based email 
&gt; client has actions for creating these associations (email and label), 
&gt; deleting existing associations, and links to retrieve the associated 
&gt; collection (i.e. all emails belonging to a label).
&gt; 
&gt; I would post the id, not the URL, of the resource that I'm enlisting 
&gt; with the collection, and likewise post to remove it, using different 
&gt; target URLs for these two actions.  That's a pattern and it restricts 
&gt; itself to REST.  

That's two remote procedure calls, no? I have used that pattern for 
tagging. An alternative is to state the relationship using a content 
type. In OO terms, this is the 'marriage problem' - namely where does 
the act of marriage belong in an object oriented system?


&gt; So I'm thinking what's missing is not the way to do it, 
&gt; but the way to indicate that a bunch of actions and links returned from 
&gt; a resource signify "add/remove from designated collection".
&gt; 
&gt; Add semantics to the content?  Service description language?

At the level of architecture it makes no odds - REST has nothing useful 
to say. I suspect this is why TBL champions technology like RDF, which 
formally defines resource relationships. [REST had nothing useful to say 
about iterators either but that didn't stop us defining the incredibly 
useful RSS/Atom, and later on, layering AtomPub onto HTTP.]

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11401<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-10-22 22:48:08<br>
Subject:Re: [rest-discuss] relating resources<br>
Message:<br><br>
<pre>Jan Algermissen wrote:
&gt; Hi,
&gt; 
&gt; [I did not follow the discussion, so excuses if I am repeating something]
&gt; 
&gt; Is it helpful to consider the HTTP LINK method for relating resources? 

Yes, but with LINK, to follow my analogy elsewhere, I can't tell the 
difference between a marriage and an affair.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11402<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-10-23 00:48:04<br>
Subject:Re: [rest-discuss] relating resources<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11403<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-10-23 05:53:29<br>
Subject:Re: [rest-discuss] relating resources<br>
Message:<br><br>
<pre>On 21.10.2008, at 23:47, Bill de hOra wrote:

&gt; you can argue that there is
&gt; a capability than people need - the ability to relate resources. How  
&gt; to
&gt; do this is not evident when I look at REST.

I agree that this is not evident. Thinking about it some more, we  
can't really invent an operation affecting two resources without  
assuming they are under the control of the same server, which would  
create an unwanted coupling.

So maybe the right choice is to turn the "marriage" and "affair"  
relationships into resources in their own right. So we can POST two  
URIs to a "marriages" collection:

--&gt;
POST /marriages
husband: http://example.org/person/1                    [*]
wife: http://example.com/people/23

&lt;--
201 Created
Location: http://example.net/marriages/4711

and then we can ask for all the people someone is married to (oops,  
analogy breakdown - should have picked 'affairs'):

http://example.net/marriages?husband=http://example.org/person/1

i.e. the specific collection of becomes a view onto a larger one. The  
URI doesn't matter, of course, so http://example.org/person/1/spouses  
could be used, too. And it could communicate the relationship to / 
marriages via hypermedia.

So the task would be to define a media type for expressing  
relationships between two resources. If one decides to express the  
kind of relation via a URI, too, this sounds exactly like RDF (proving  
your point).

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/

[*] No discrimination against same-sex marriage intended :-)



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11404<br>
Sender:"pkeane_littlehat" &lt;pkeane@...&gt;<br>
Post Date/Time:2008-10-23 20:01:47<br>
Subject:Re: relating resources<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, Stefan Tilkov &lt;stefan.tilkov@...&gt;
wrote:
&gt;
&gt; On 21.10.2008, at 23:47, Bill de hOra wrote:
&gt; 
&gt; &gt; you can argue that there is
&gt; &gt; a capability than people need - the ability to relate resources. How  
&gt; &gt; to
&gt; &gt; do this is not evident when I look at REST.
&gt; 
&gt; I agree that this is not evident. Thinking about it some more, we  
&gt; can't really invent an operation affecting two resources without  
&gt; assuming they are under the control of the same server, which would  
&gt; create an unwanted coupling.
&gt; 
&gt; So maybe the right choice is to turn the "marriage" and "affair"  
&gt; relationships into resources in their own right. So we can POST two  
&gt; URIs to a "marriages" collection:
&gt; 

The idea of a linking document strikes me as a really good one. It
reminds me of Xlink, which I do not hear much about (and is an element
w/in a document, not a separate document).

&gt; --&gt;
&gt; POST /marriages
&gt; husband: http://example.org/person/1                    [*]
&gt; wife: http://example.com/people/23
&gt; 
&gt; &lt;--
&gt; 201 Created
&gt; Location: http://example.net/marriages/4711
&gt; 
&gt; and then we can ask for all the people someone is married to (oops,  
&gt; analogy breakdown - should have picked 'affairs'):
&gt; 
&gt; http://example.net/marriages?husband=http://example.org/person/1
&gt; 
&gt; i.e. the specific collection of becomes a view onto a larger one. The  
&gt; URI doesn't matter, of course, so http://example.org/person/1/spouses  
&gt; could be used, too. And it could communicate the relationship to / 
&gt; marriages via hypermedia.
&gt; 
&gt; So the task would be to define a media type for expressing  
&gt; relationships between two resources. If one decides to express the  
&gt; kind of relation via a URI, too, this sounds exactly like RDF (proving  
&gt; your point).

There is a newly minted spec from the library/archives world called
OAI-ORE (http://www.openarchives.org/ore/) that attempts to describe
aggregations of resources on the web.  There's an Atom serialization
that could be useful in this regard.

--peter keane

&gt; 
&gt; Stefan
&gt; --
&gt; Stefan Tilkov, http://www.innoq.com/blog/st/
&gt; 
&gt; [*] No discrimination against same-sex marriage intended :-)
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11405<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-10-23 20:10:47<br>
Subject:Re: [rest-discuss] Re: relating resources<br>
Message:<br><br>
<pre>&gt;
&gt; The idea of a linking document strikes me as a really good one. It
&gt; reminds me of Xlink, which I do not hear much about (and is an element
&gt; w/in a document, not a separate document).
&gt;
&gt;

AFAICT, Xlink is dead. In any case, most of it can be done with a  
plain link element similar to the one defined in XHTML and Atom, and  
perhaps extend it for URI templates.

Subbu
---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11406<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-10-24 13:49:39<br>
Subject:Re: [rest-discuss] Re: AtomPub copy/move extension: [was Amazon S3 tacks a COPY under	PUT]<br>
Message:<br><br>
<pre>Aristotle Pagaltzis wrote:
&gt; 
&gt; * Stefan Eissing &lt;stefan.eissing@... 
&gt;  &gt; Admittedly, there are lots of scenarios where these issues do
&gt;  &gt; not come up. But perhaps its worth to take another look at why
&gt;  &gt; the client cannot do the GET+PUT itself?
&gt; 
&gt; Because they have already uploaded a copy of that 7.3 GB file and
&gt; dont want to download and re-upload it, particularly since the
&gt; service bills for bandwidth?

Or they're on a phone, where download to upload isn't viable.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11407<br>
Sender:vincent lari &lt;vincent.lari@...&gt;<br>
Post Date/Time:2008-10-27 17:57:43<br>
Subject:Migrating to AtomPub - a few issues<br>
Message:<br><br>
<pre>Hello,

I'm looking at the feasibility of porting an existing application to Atom/AtomPub.
The application is mostly based on vcard/hcard and ical/hcalendar; We'd use Atom essentially  to encapsulate the hcalendar and hcard payload, and link to the corresponding vcard/ical representation.
Migrating to AtomPub is trivial for 95% of our resources; the 5% I'm struggling with has to do with those resources that are more 'process' resources.

Consider goecoding, for intance. I have the '/addresses' resource that clients use to obtain a lat/long, as well as the normalized address.

 For instance:

GET /addresses?streetAddr=4150+Network+Circle&amp;locality=Santa+Clara&amp;postal=95054
Accept: xhtml
Host: my.app.com

(note that the state and country are missing).
The server responds:

200 OK
Content-Type: xhtml

&lt;div class="vcard"&gt;
  &lt;div class="adr"&gt;
    &lt;span class="street-address"&gt;4150 Network Circle&lt;/span&gt;
    &lt;span class="locality"&gt;Santa Clara&lt;/span&gt;, 
     &lt;abbr class="region" title="California"&gt;CA&lt;/abbr&gt; 
     &lt;span class="postal-code"&gt;95054&lt;/span&gt;
    &lt;div class="country-name"&gt;USA&lt;/div&gt;
  &lt;/div&gt; 
  &lt;div class="geo"&gt;GEO: 
    &lt;span class="latitude"&gt;37.39576&lt;/span&gt;, 
    &lt;span class="longitude"&gt;-121.952&lt;/span&gt;
  &lt;/div&gt; 
&lt;/div&gt;


My  problem is that the '/addresses' resource does not belong in the Service Document,as it isn't a collection in the AtomPub sense:
- I don't POST to it to create new entries
- I don't GET known entries (I search them) from the collection.


I think I have three optionstosolve this:

Option #1:  make /addresses behave like a collection. Instead of GETing an address, I POST it:

POST /addresses
Accept: application/atom+xml
Host: our.app.com

streetAddr=4150 Network+ Circle
locality=Santa Clara 
postal=95054

To which the server responds:


201 CREATED
Location: http://our.app.com/address/37.39576,-121.952#4150+Network+Circle
Content-Type: application/atom+xml

&lt;entry&gt;
...
  &lt;author&gt;...&lt;/author&gt;
  &lt;link rel="self" type="application/atom+xml" href="http://our.app.com/address/37.39576,-121.952#4150+Network+Circle" /&gt;
  &lt;link rel="alternate" type="text/directory" href="http://our.app.com/address/37.39576,-121.952#4150+Network+Circle" /&gt;
&lt;div class="vcard"&gt;
  &lt;div class="adr"&gt;
    &lt;span class="street-address"&gt;4150 Network Circle&lt;/span&gt;
    &lt;span class="locality"&gt;Santa Clara&lt;/span&gt;, 
     &lt;abbr class="region" title="California"&gt;CA&lt;/abbr&gt; 
     &lt;span class="postal-code"&gt;95054&lt;/span&gt;
    &lt;div class="country-name"&gt;USA&lt;/div&gt;
  &lt;/div&gt; 
  &lt;div class="geo"&gt;GEO: 
    &lt;span class="latitude"&gt;37.39576&lt;/span&gt;, 
    &lt;span class="longitude"&gt;-121.952&lt;/span&gt;
  &lt;/div&gt; 
&lt;/div&gt;
&lt;/entry&gt;

Note that I'm appending the street address to the URI (#4150+Network+Circle) because it's the only piece of information the server can't determine by reverse-geocoding the lat/long.

This works, but I know the client will never GET the created uri once it has processed the response of the POST. What I end up doing is query-via-POST. 



Option #2: keep my '/address' resource as is, create an Atom that represents the geocoding service, and have collection of services in the Service document.

The Service doc would look like this:

&lt;service xmlns="http://www.w3.org/2007/app"
            xmlns:atom="http://www.w3.org/2005/Atom"&gt;
     &lt;workspace&gt;
       &lt;atom:title&gt;some title&lt;/atom:title&gt;
       &lt;collection href="http://our.app.com/tools" &gt;
         &lt;atom:title&gt;A bunch of tools&lt;/atom:title&gt; 
              &lt;/collection&gt;
     &lt;/worspace&gt;
....
&lt;/service&gt;

This entry would part of the 'tools' collection:

&lt;entry&gt;
  &lt;title&gt;Geocoding Resource&lt;/title&gt;
  &lt;author&gt;...&lt;/author&gt;
  &lt;link rel="self" type="text/html" href="http://our.app.com/addresses" /&gt;
  &lt;link rel="geocode" type="text/directory" href="http://our.app.com/addresses" /&gt;
&lt;/entry&gt;


Option #3: I keep hearing about APP extensions, but I'm not sure how this would work in my case.


Your feedback on this would be greatly appreciated.

Thanks,

Vincent.





      __________________________________________________________________
Be smarter than spam. See how smart SpamGuard is at giving junk email the boot with the All-new Yahoo! Mail.  Click on Options in Mail and switch to New Mail today or register for free at http://mail.yahoo.ca</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11408<br>
Sender:"Teo Hui Ming" &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2008-10-28 01:33:47<br>
Subject:Re: [rest-discuss] Migrating to AtomPub - a few issues<br>
Message:<br><br>
<pre>On Tue, Oct 28, 2008 at 1:57 AM, vincent lari &lt;vincent.lari@...&gt; wrote:
&gt;
&gt; Option #3: I keep hearing about APP extensions, but I'm not sure how this
&gt; would work in my case.

Do you think OpenSearch Description document [1] fits in your case? It
can be used to publish search URI template and describe search
results. There is a separate draft on URI template language [2].

In this case, a read-only collection (empty app:accept) can be placed
in service doc. The collection feed may be empty (or contain one entry
describing how to search this collection), and has a 'search' link
points to OpenSearch document.

[1] http://www.opensearch.org/Specifications/OpenSearch/1.1
[2] http://bitworking.org/projects/URI-Templates/

-- 
Teo Hui Ming

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11409<br>
Sender:Jerome Louvel &lt;jerome.louvel@...&gt;<br>
Post Date/Time:2008-10-28 18:43:49<br>
Subject:Restlet 1.1.0 released!<br>
Message:<br><br>
<pre>Hi all,
 
Since the launch of Restlet 1.0 in April 2007, we have been working hard 
to prepare this new version of our REST framework for Java. Here is a 
selection of the most exciting new features:

    * Broader and deeper HTTP support with features such as partial
      downloads, resumable uploads or content integrity validation.
    * Best support for the WADL specification in the industry, allowing
      an automatic and always in sync documentation of your REST APIs.
      WADL documents can be generated in XML or converted on the fly to
      HTML using the popular stylesheet from Yahoo!
    * One of the first and most complete implementations of the new
      JAX-RS 1.0 specification provided for those preferring an
      annotation-oriented approach.
    * New Restlet-GWT module provided, porting the client-side of the
      Restlet API to the popular Google Web Toolkit 1.5 JavaScript
      platform, allowing you to invoke RESTful applications right from
      your Web browser.
    * New extensions for easier integration with the JAXB 2.1, JiBX 1.1,
      Spring 2.5, OAuth, OSGi, Oracle XDB and SSL technologies.
    * Improved support for Atom Syndication XML format and for Atom
      Publishing Protocol. Both formatting and parsing are now available.
    * New POP3 connector based on JavaMail to access RESTfully to remote
      mail boxes.
    * New Grizzly HTTP server connector, first to fully leverage the NIO
      support in the Restlet API, leading to new levels of scalability
      and performance.
    * New internal HTTP client and server connectors to simplify
      development phases (zero configuration necessary) and allow very
      small footprint deployments.

In addition, we have significantly expanded our documentation 
&lt;http://www.restlet.org/documentation/1.1/&gt; with a 150 pages long 
Restlet User Guide, a screencast and first steps tutorials. We have also 
added new licensing options: LGPL 3.0 and transferable commercial 
licences (OEM).

You just need to download Restlet 1.1.0 
&lt;http://www.restlet.org/downloads/&gt; to enjoy those new features !

Best regards,
Jrme Louvel
--
Restlet ~ Founder and Lead developer ~ http://www.restlet.org 
&lt;http://www.restlet.org/&gt;
Noelios Technologies ~ Co-founder ~ http://www.noelios.com
 
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11410<br>
Sender:"vincent.lari" &lt;vincent.lari@...&gt;<br>
Post Date/Time:2008-10-28 18:47:42<br>
Subject:Re: Migrating to AtomPub - a few issues<br>
Message:<br><br>
<pre>Hi Teo,

Thanks for jumping in.

&gt; In this case, a read-only collection (empty app:accept) can be placed
&gt; in service doc. The collection feed may be empty (or contain one entry
&gt; describing how to search this collection), and has a 'search' link
&gt; points to OpenSearch document.

You mean like so:

&lt;service&gt;
&lt;workspace&gt;
&lt;atom:title&gt;Search&lt;/atom:title&gt;
&lt;collection href="http://my.app.com/search/addresses" &gt;
&lt;atom:title&gt;geocoded addresses&lt;/atom:title&gt;
&lt;/atom:accept&gt;
&lt;link rel="search"
href="http://my.app.com/search/addresses"
type="application/opensearchdescription+xml" /&gt;
&lt;/collection&gt;
&lt;/workspace&gt;
&lt;workspace&gt;
my regular collections
&lt;/worspace&gt;
&lt;/service&gt;


I don't think I can have a &lt;link&gt; element inside a &lt;collection&gt; element.
So, what I'd need to do is have a collection that points to a feed of
opensearch doc references:

&lt;collection href="http://my.app.com/search" &gt;
&lt;atom:title&gt;All the opensearch docs&lt;/atom:title&gt;
&lt;/atom:accept&gt;
&lt;/collection&gt;

The collection would point to an empty  feed with a bunch of &lt;link&gt;'s to
all my opensearch documents:


&lt;feed xmlns="http://www.w3.org/2005/Atom"
xmlns:opensearch="http://a9.com/-/spec/opensearch/1.1/"&gt;
&lt;author&gt;My app&lt;/author&gt;
&lt;id&gt;123&lt;/id&gt;
&lt;title&gt; All opensearch docs&lt;/title&gt;
&lt;link rel="self" .../&gt;
&lt;link rel="search"
href="http://http://my.app.com/searchAddresses.xml"
type="application/opensearchdescription+xml"
title="Search addresses" /&gt;
&lt;link rel="search"
href="http://http://my.app.com/searchFoo.xml"
type="application/opensearchdescription+xml"
title="Search Foo's" /&gt;
&lt;link rel="search"
href="http://http://my.app.com/searchFoo.xml"
type="application/opensearchdescription+xml"
title="Search Bars's" /&gt;
&lt;/feed&gt;


Alternatively,I could embed every opensearch doc in an &lt;entry&gt;
element.

&lt;feed xmlns="http://www.w3.org/2005/Atom"
xmlns:opensearch="http://a9.com/-/spec/opensearch/1.1/"&gt;
&lt;author&gt;My app&lt;/author&gt;
&lt;id&gt;123&lt;/id&gt;
&lt;title&gt; All opensearch docs&lt;/title&gt;
&lt;link rel="self" .../&gt;
&lt;entry&gt;
&lt;id&gt;&lt;/id&gt;
&lt;title&gt;geocoded address opensearch doc&lt;/title&gt;
&lt;link rel="alternate" .../&gt;
&lt;author&gt;...&lt;/author&gt;
&lt;updated&gt;...&lt;/updated&gt;
&lt;content type="application/opensearchdescription+xml"&gt;
&lt;OpenSearchDescription
xmlns="http://a9.com/-/spec/opensearch/1.1/"&gt;
&lt;ShortName&gt;addresses&lt;/ShortName&gt;
&lt;Description&gt;search geocoded addresses&lt;/Description&gt;
&lt;Url type="application/rss+xml"
template="http://my.app.com/?street={streeataddress}&amp;po\
stal={postalcode}&amp;cit={city}"/&gt;
&lt;/OpenSearchDescription&gt;
&lt;/content&gt;
&lt;/entry&gt;
&lt;entry&gt;
another opensearch doc
&lt;/entry&gt;
&lt;/feed&gt;


It works but I'm adding 2 or 3 levels of indirection to get my search
uri's; I'd rather have a self-contained AtomPub Service document, but I
think I'll have to do with one of the two solutions I mentioned, as a
collection must point to a an Atom feed and there is no way around this.

-Vincent.








</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11411<br>
Sender:"Teo Hui Ming" &lt;teohuiming.work@...&gt;<br>
Post Date/Time:2008-10-29 05:56:43<br>
Subject:Re: [rest-discuss] Re: Migrating to AtomPub - a few issues<br>
Message:<br><br>
<pre>On Wed, Oct 29, 2008 at 2:47 AM, vincent.lari &lt;vincent.lari@...&gt; wrote:
&gt; Hi Teo,
&gt;
&gt; Thanks for jumping in.
&gt;
&gt;&gt; In this case, a read-only collection (empty app:accept) can be placed
&gt;&gt; in service doc. The collection feed may be empty (or contain one entry
&gt;&gt; describing how to search this collection), and has a 'search' link
&gt;&gt; points to OpenSearch document.

I meant this:

&lt;service&gt;
  ...
  &lt;collection href="/geo-search"&gt;
     &lt;atom:title&gt;geocoded address search&lt;/atom:title&gt;
     &lt;accept/&gt;
  &lt;/collection&gt;
  ...
&lt;/service&gt;

-&gt; GET /geo-search

&lt;- 200 OK
&lt;feed&gt;
  &lt;link rel="search" href=".."
          type="application/opensearchdescription+xml" /&gt;
  &lt;entry&gt;
    &lt;title&gt;How to search this collection feed&lt;/title&gt;
    &lt;content src="/docs/geo-search"/&gt;
    ..
  &lt;/entry&gt;
  ..
&lt;feed&gt;

&gt;
&gt; You mean like so:
&gt;
&gt; &lt;service&gt;
&gt;   &lt;workspace&gt;
&gt;     &lt;atom:title&gt;Search&lt;/atom:title&gt;
&gt;     &lt;collection href="http://my.app.com/search/addresses" &gt;
&gt;       &lt;atom:title&gt;geocoded addresses&lt;/atom:title&gt;
&gt;       &lt;/atom:accept&gt;
&gt;       &lt;link rel="search"
&gt;                 href="http://my.app.com/search/addresses"
&gt;                 type="application/opensearchdescription+xml" /&gt;
&gt;     &lt;/collection&gt;
&gt;   &lt;/workspace&gt;
&gt;   &lt;workspace&gt;
&gt;      my regular collections
&gt;   &lt;/worspace&gt;
&gt; &lt;/service&gt;
&gt;
&gt; I don't think I can have a &lt;link&gt; element inside a &lt;collection&gt; element.

app:collection may contain extension elements, so technically you can
put a &lt;link&gt; element within it.

the issue is does/will any AtomPub-based client understand and consume
this &lt;link&gt; element in the way you want. Putting a search link in
&lt;collection&gt; sounds reasonable to me, but perhaps ask around in
atom-protocol list, see if anyone doing similar thing? :-)

&gt; It works but I'm adding 2 or 3 levels of indirection to get my search
&gt; uri's; I'd rather have a self-contained AtomPub Service document, but I
&gt; think I'll have to do with one of the two solutions I mentioned, as a
&gt; collection must point to a an Atom feed and there is no way around this.

AFAIK, 'search' link in Atom feed [1] is the only auto-discovery
method described in OpenSearch. When using it, your application will
have slightly better chance to work with OpenSearch-enabled clients.

[1] http://www.opensearch.org/Specifications/OpenSearch/1.1#Autodiscovery


-- 
Teo Hui Ming

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11412<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-10-29 21:31:29<br>
Subject:Re: [rest-discuss] Re: Migrating to AtomPub - a few issues<br>
Message:<br><br>
<pre>vincent.lari wrote:

&gt; You mean like so:
&gt; 
&gt; &lt;service&gt;
&gt;   &lt;workspace&gt;
&gt;     &lt;atom:title&gt;Search&lt;/atom:title&gt;
&gt;     &lt;collection href="http://my.app.com/search/addresses 
&gt; &lt;http://my.app.com/search/addresses&gt;" &gt;
&gt;       &lt;atom:title&gt;geocoded addresses&lt;/atom:title&gt;
&gt;       &lt;/atom:accept&gt;
&gt;       &lt;link rel="search"
&gt;                 href="http://my.app.com/search/addresses 
&gt; &lt;http://my.app.com/search/addresses&gt;"
&gt;                 type="application/opensearchdescription+xml" /&gt;
&gt;     &lt;/collection&gt;
&gt;   &lt;/workspace&gt;
&gt;   &lt;workspace&gt;
&gt;      my regular collections
&gt;   &lt;/worspace&gt;
&gt; &lt;/service&gt;
&gt; 
&gt; I don't think I can have a &lt;link&gt; element inside a &lt;collection&gt; element.

You can. Not all clients will be able to process it, but collection can 
have atom:* children. I've done this for categories (either atom:link 
having a child category or atom:category having a child link)

&gt; It works but I'm adding 2 or 3 levels of indirection to get my search
&gt; uri's; I'd rather have a self-contained AtomPub Service document, but I
&gt; think I'll have to do with one of the two solutions I mentioned, as a
&gt; collection must point to a an Atom feed and there is no way around this.

Fwiw, I think it the service document becomes a de facto bootstrap 
document for an application, it's ok to add an extension to provide 
links to non-collection things. Once there's enough implementations out 
there doing that, I'd like to see the extension(s) formalised, similar 
to the way Joe's multipart posting is atm.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11413<br>
Sender:"Peter Keane" &lt;pkeane@...&gt;<br>
Post Date/Time:2008-10-29 22:14:01<br>
Subject:Re: [rest-discuss] Re: Migrating to AtomPub - a few issues<br>
Message:<br><br>
<pre>On Wed, Oct 29, 2008 at 4:31 PM, Bill de hOra &lt;bill@...&gt; wrote:
&gt; vincent.lari wrote:


&gt;
&gt; You can. Not all clients will be able to process it, but collection can
&gt; have atom:* children. I've done this for categories (either atom:link
&gt; having a child category or atom:category having a child link)

Aha... so someone *is* using atom:category as a child of atom:link.
Any chance you could share some examples?  I'd be quite interested to
know how this is being used in the wild.

--peter keane


&gt; Fwiw, I think it the service document becomes a de facto bootstrap
&gt; document for an application, it's ok to add an extension to provide
&gt; links to non-collection things. Once there's enough implementations out
&gt; there doing that, I'd like to see the extension(s) formalised, similar
&gt; to the way Joe's multipart posting is atm.
&gt;
&gt; Bill
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11414<br>
Sender:"Jerome Louvel" &lt;jerome.louvel@...&gt;<br>
Post Date/Time:2008-10-31 10:20:28<br>
Subject:RE: [whatwg] Proposing URI Templates for WebForms 2.0<br>
Message:<br><br>
<pre>
Hi Ian,

It would just be easier to take advantage of them directly from HTML. Right
now, a Web form can already build a URI by adding query parameters to the
action URI of a GET form, why not go a bit further?

The benefit would be having more control over the construction of the URI
rather than just the query parameters. I could have a form with two simple
fields "a" and "b" and specify "http://test.org/customers/{a}/reports/{b}"
as the action URI.

When entering the values "foo" and "bar" and submitting the form, the target
URI would become "http://test.org/customers/foo/reports/bar". This would be
really slick to contact RESTful APIs.

If support for the complete URI templates RFC is too much for a first step,
this could be limited to a subset, like simple variable substitution maybe. 

The latest RFC is here:
http://bitworking.org/projects/URI-Templates/

Best regards,
Jerome Louvel
--
Restlet ~ Founder and Lead developer ~ http://www.restlet.org
Noelios Technologies ~ Co-founder ~ http://www.noelios.com

-----Message d'origine-----
De : Ian Hickson [mailto:ian@...] 
Envoye : mardi 28 octobre 2008 20:20
A : Jerome Louvel
Cc : whatwg@...; uri@...; rest-discuss@yahoogroups.com
Objet : Re: [whatwg] Proposing URI Templates for WebForms 2.0

On Fri, 12 Jan 2007, Jerome Louvel wrote:
&gt; 
&gt; Even though the URI template RFC is not finalized yet, we already have a 
&gt; complete support for it, on the server-side, in the Restlet framework. 
&gt; We happily use them for our URI-based routing and I think they add a lot 
&gt; of expressiveness while keeping a simple syntax. Usage example: 
&gt; http://www.restlet.org/tutorial#part11
&gt; 
&gt; They are also supported in WADL, the RESTful description language, and 
&gt; in the OpenSearch specification. Extending their usage to HTML forms 
&gt; sounds like a logical and useful step.

It seems to me like URI templates can be trivially done from script and 
from the server side already; given the poor backwards-compatibility story 
of URI templates, what do we gain from adding it to the language?

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
http://ln.hixie.ch/       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11415<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-10-31 11:11:31<br>
Subject:Re: [rest-discuss] RE: [whatwg] Proposing URI Templates for WebForms 2.0<br>
Message:<br><br>
<pre>Jerome Louvel wrote:
&gt; ...
&gt; The latest RFC is here:
&gt; ...

s/RFC/Internet-Draft/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11416<br>
Sender:Mark Nottingham &lt;mnot@...&gt;<br>
Post Date/Time:2008-10-31 22:37:36<br>
Subject:Re: [whatwg] Proposing URI Templates for WebForms 2.0<br>
Message:<br><br>
<pre>+1, although I'd say it a bit differently.

Doing it in script precludes unintended reuse, e.g., for  
accessibility, search engines, and so forth; it's not a good solution  
*if* there are compelling use cases for this, but we haven't seen  
those yet AFAIK.

Cheers,


On 29/10/2008, at 6:20 AM, Ian Hickson wrote:

&gt;
&gt; On Fri, 12 Jan 2007, Jerome Louvel wrote:
&gt;&gt;
&gt;&gt; Even though the URI template RFC is not finalized yet, we already  
&gt;&gt; have a
&gt;&gt; complete support for it, on the server-side, in the Restlet  
&gt;&gt; framework.
&gt;&gt; We happily use them for our URI-based routing and I think they add  
&gt;&gt; a lot
&gt;&gt; of expressiveness while keeping a simple syntax. Usage example:
&gt;&gt; http://www.restlet.org/tutorial#part11
&gt;&gt;
&gt;&gt; They are also supported in WADL, the RESTful description language,  
&gt;&gt; and
&gt;&gt; in the OpenSearch specification. Extending their usage to HTML forms
&gt;&gt; sounds like a logical and useful step.
&gt;
&gt; It seems to me like URI templates can be trivially done from script  
&gt; and
&gt; from the server side already; given the poor backwards-compatibility  
&gt; story
&gt; of URI templates, what do we gain from adding it to the language?
&gt;
&gt; -- 
&gt; Ian Hickson               U+1047E                ) 
&gt; \._.,--....,'``.    fL
&gt; http://ln.hixie.ch/       U+263A                /,   _.. \   _ 
&gt; \  ;`._ ,.
&gt; Things that are impossible just take longer.   `._.-(,_..'-- 
&gt; (,_..'`-.;.'
&gt;


--
Mark Nottingham     http://www.mnot.net/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11417<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-11-01 01:59:09<br>
Subject:RE: [whatwg] Proposing URI Templates for WebForms 2.0<br>
Message:<br><br>
<pre>Mark&gt;&gt; compelling use cases for this, but we haven't seen those yet AFAIK.

What classifies as a "compelling use-case" in your mind?  

-Mike Schinkel 
President; NewClarity LLC 
Organizer: Atlanta Web Entrepreneurs
http://www.linkedin.com/in/mikeschinkel
http://twitter.com/mikeschinkel
http://mikeschinkel.com
http://atlanta-web.org


-----Original Message-----
From: uri-request@... [mailto:uri-request@...] On Behalf Of Mark
Nottingham
Sent: Friday, October 31, 2008 6:38 PM
To: Ian Hickson
Cc: Jerome Louvel; whatwg@...; uri@...;
rest-discuss@yahoogroups.com
Subject: Re: [whatwg] Proposing URI Templates for WebForms 2.0


+1, although I'd say it a bit differently.

Doing it in script precludes unintended reuse, e.g., for accessibility,
search engines, and so forth; it's not a good solution
*if* there are compelling use cases for this, but we haven't seen those yet
AFAIK.

Cheers,


On 29/10/2008, at 6:20 AM, Ian Hickson wrote:

&gt;
&gt; On Fri, 12 Jan 2007, Jerome Louvel wrote:
&gt;&gt;
&gt;&gt; Even though the URI template RFC is not finalized yet, we already 
&gt;&gt; have a complete support for it, on the server-side, in the Restlet 
&gt;&gt; framework.
&gt;&gt; We happily use them for our URI-based routing and I think they add a 
&gt;&gt; lot of expressiveness while keeping a simple syntax. Usage example:
&gt;&gt; http://www.restlet.org/tutorial#part11
&gt;&gt;
&gt;&gt; They are also supported in WADL, the RESTful description language, 
&gt;&gt; and in the OpenSearch specification. Extending their usage to HTML 
&gt;&gt; forms sounds like a logical and useful step.
&gt;
&gt; It seems to me like URI templates can be trivially done from script 
&gt; and from the server side already; given the poor 
&gt; backwards-compatibility story of URI templates, what do we gain from 
&gt; adding it to the language?
&gt;
&gt; -- 
&gt; Ian Hickson               U+1047E                ) 
&gt; \._.,--....,'``.    fL
&gt; http://ln.hixie.ch/       U+263A                /,   _.. \   _ 
&gt; \  ;`._ ,.
&gt; Things that are impossible just take longer.   `._.-(,_..'-- 
&gt; (,_..'`-.;.'
&gt;


--
Mark Nottingham     http://www.mnot.net/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11418<br>
Sender:Mark Nottingham &lt;mnot@...&gt;<br>
Post Date/Time:2008-11-01 05:24:07<br>
Subject:Re: [whatwg] Proposing URI Templates for WebForms 2.0<br>
Message:<br><br>
<pre>I didn't see any use cases in the original e-mail; did I miss  
something? An example or two tends to focus discussion well...

Cheers,


On 01/11/2008, at 12:59 PM, Mike Schinkel wrote:

&gt; Mark&gt;&gt; compelling use cases for this, but we haven't seen those yet  
&gt; AFAIK.
&gt;
&gt; What classifies as a "compelling use-case" in your mind?
&gt;
&gt; -Mike Schinkel
&gt; President; NewClarity LLC
&gt; Organizer: Atlanta Web Entrepreneurs
&gt; http://www.linkedin.com/in/mikeschinkel
&gt; http://twitter.com/mikeschinkel
&gt; http://mikeschinkel.com
&gt; http://atlanta-web.org
&gt;
&gt;
&gt; -----Original Message-----
&gt; From: uri-request@... [mailto:uri-request@...] On Behalf Of Mark
&gt; Nottingham
&gt; Sent: Friday, October 31, 2008 6:38 PM
&gt; To: Ian Hickson
&gt; Cc: Jerome Louvel; whatwg@...; uri@...;
&gt; rest-discuss@yahoogroups.com
&gt; Subject: Re: [whatwg] Proposing URI Templates for WebForms 2.0
&gt;
&gt;
&gt; +1, although I'd say it a bit differently.
&gt;
&gt; Doing it in script precludes unintended reuse, e.g., for  
&gt; accessibility,
&gt; search engines, and so forth; it's not a good solution
&gt; *if* there are compelling use cases for this, but we haven't seen  
&gt; those yet
&gt; AFAIK.
&gt;
&gt; Cheers,
&gt;
&gt;
&gt; On 29/10/2008, at 6:20 AM, Ian Hickson wrote:
&gt;
&gt;&gt;
&gt;&gt; On Fri, 12 Jan 2007, Jerome Louvel wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; Even though the URI template RFC is not finalized yet, we already
&gt;&gt;&gt; have a complete support for it, on the server-side, in the Restlet
&gt;&gt;&gt; framework.
&gt;&gt;&gt; We happily use them for our URI-based routing and I think they add a
&gt;&gt;&gt; lot of expressiveness while keeping a simple syntax. Usage example:
&gt;&gt;&gt; http://www.restlet.org/tutorial#part11
&gt;&gt;&gt;
&gt;&gt;&gt; They are also supported in WADL, the RESTful description language,
&gt;&gt;&gt; and in the OpenSearch specification. Extending their usage to HTML
&gt;&gt;&gt; forms sounds like a logical and useful step.
&gt;&gt;
&gt;&gt; It seems to me like URI templates can be trivially done from script
&gt;&gt; and from the server side already; given the poor
&gt;&gt; backwards-compatibility story of URI templates, what do we gain from
&gt;&gt; adding it to the language?
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Ian Hickson               U+1047E                )
&gt;&gt; \._.,--....,'``.    fL
&gt;&gt; http://ln.hixie.ch/       U+263A                /,   _.. \   _
&gt;&gt; \  ;`._ ,.
&gt;&gt; Things that are impossible just take longer.   `._.-(,_..'--
&gt;&gt; (,_..'`-.;.'
&gt;&gt;
&gt;
&gt;
&gt; --
&gt; Mark Nottingham     http://www.mnot.net/
&gt;
&gt;


--
Mark Nottingham     http://www.mnot.net/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11419<br>
Sender:Mark Nottingham &lt;mnot@...&gt;<br>
Post Date/Time:2008-11-01 05:40:33<br>
Subject:Re: [whatwg] Proposing URI Templates for WebForms 2.0<br>
Message:<br><br>
<pre>I missed the second link, which does contain examples; apologies.

The benefits you're talking about seem to be all related to having  
more flexibility in specifying URIs from forms. This is good and I  
agree that in a perfect world, more flexibility would have been  
designed in from the start. However, to put them into the mix while  
the machine is running is a bit more complex; there needs to be  
something more compelling (there's that word again) to drive adoption.

If you can find cases where someone can reuse that template in an  
unintended way -- e.g., a search engine, a client doing automated  
things, a non-traditional browser, an intermediary -- I think it'd go  
a long way towards this. I can't think of any at the moment, but  
that's likely just evidence of my imagination's limits at this point  
in time.

And, if you can come up with those cases, why not define it as an  
extension (since it needs to be largely backwards-compatible anyway)?  
If it takes off, you can have the satisfaction of seeing it  
incorporated into HTML6...

Cheers,


On 01/11/2008, at 4:24 PM, Mark Nottingham wrote:

&gt; I didn't see any use cases in the original e-mail; did I miss  
&gt; something? An example or two tends to focus discussion well...
&gt;
&gt; Cheers,
&gt;
&gt;
&gt; On 01/11/2008, at 12:59 PM, Mike Schinkel wrote:
&gt;
&gt;&gt; Mark&gt;&gt; compelling use cases for this, but we haven't seen those yet  
&gt;&gt; AFAIK.
&gt;&gt;
&gt;&gt; What classifies as a "compelling use-case" in your mind?
&gt;&gt;
&gt;&gt; -Mike Schinkel
&gt;&gt; President; NewClarity LLC
&gt;&gt; Organizer: Atlanta Web Entrepreneurs
&gt;&gt; http://www.linkedin.com/in/mikeschinkel
&gt;&gt; http://twitter.com/mikeschinkel
&gt;&gt; http://mikeschinkel.com
&gt;&gt; http://atlanta-web.org
&gt;&gt;
&gt;&gt;
&gt;&gt; -----Original Message-----
&gt;&gt; From: uri-request@... [mailto:uri-request@...] On Behalf Of  
&gt;&gt; Mark
&gt;&gt; Nottingham
&gt;&gt; Sent: Friday, October 31, 2008 6:38 PM
&gt;&gt; To: Ian Hickson
&gt;&gt; Cc: Jerome Louvel; whatwg@...; uri@...;
&gt;&gt; rest-discuss@yahoogroups.com
&gt;&gt; Subject: Re: [whatwg] Proposing URI Templates for WebForms 2.0
&gt;&gt;
&gt;&gt;
&gt;&gt; +1, although I'd say it a bit differently.
&gt;&gt;
&gt;&gt; Doing it in script precludes unintended reuse, e.g., for  
&gt;&gt; accessibility,
&gt;&gt; search engines, and so forth; it's not a good solution
&gt;&gt; *if* there are compelling use cases for this, but we haven't seen  
&gt;&gt; those yet
&gt;&gt; AFAIK.
&gt;&gt;
&gt;&gt; Cheers,
&gt;&gt;
&gt;&gt;
&gt;&gt; On 29/10/2008, at 6:20 AM, Ian Hickson wrote:
&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On Fri, 12 Jan 2007, Jerome Louvel wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Even though the URI template RFC is not finalized yet, we already
&gt;&gt;&gt;&gt; have a complete support for it, on the server-side, in the Restlet
&gt;&gt;&gt;&gt; framework.
&gt;&gt;&gt;&gt; We happily use them for our URI-based routing and I think they  
&gt;&gt;&gt;&gt; add a
&gt;&gt;&gt;&gt; lot of expressiveness while keeping a simple syntax. Usage example:
&gt;&gt;&gt;&gt; http://www.restlet.org/tutorial#part11
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; They are also supported in WADL, the RESTful description language,
&gt;&gt;&gt;&gt; and in the OpenSearch specification. Extending their usage to HTML
&gt;&gt;&gt;&gt; forms sounds like a logical and useful step.
&gt;&gt;&gt;
&gt;&gt;&gt; It seems to me like URI templates can be trivially done from script
&gt;&gt;&gt; and from the server side already; given the poor
&gt;&gt;&gt; backwards-compatibility story of URI templates, what do we gain from
&gt;&gt;&gt; adding it to the language?
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; Ian Hickson               U+1047E                )
&gt;&gt;&gt; \._.,--....,'``.    fL
&gt;&gt;&gt; http://ln.hixie.ch/       U+263A                /,   _.. \   _
&gt;&gt;&gt; \  ;`._ ,.
&gt;&gt;&gt; Things that are impossible just take longer.   `._.-(,_..'--
&gt;&gt;&gt; (,_..'`-.;.'
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; --
&gt;&gt; Mark Nottingham     http://www.mnot.net/
&gt;&gt;
&gt;&gt;
&gt;
&gt;
&gt; --
&gt; Mark Nottingham     http://www.mnot.net/
&gt;


--
Mark Nottingham     http://www.mnot.net/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11420<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-11-01 07:24:07<br>
Subject:RE: [whatwg] Proposing URI Templates for WebForms 2.0<br>
Message:<br><br>
<pre>Mark;

Mark&gt;&gt; I didn't see any use cases in the original e-mail; did I miss
something? An example or two tends to focus discussion well...

Example use-cases? You want example use-cases? Happy to oblige. :-) 

But first let me ask you think in terms of the context where people can put
HTML put can't put Javascript such as in some hosting blogging platforms and
on forums. Also think in terms of websites being able to say "post this code
into your blog, etc." 

1.) I'm (hypothetically) the owner of atllogos.com and I want on provide an
HTML for to let visitors select from a drop-down to be able to visit the
Twitter users listed on http://atllogos.com/startup.html (Note that
"template" is a new attribute that is used for templates when no "action" is
specified):

See these people on Twitter:
&lt;form method="get" template="http://twitter.com/{name}"&gt;
&lt;select id="name"&gt;
&lt;option&gt;sanjay&lt;/option&gt;
&lt;option&gt;lance&lt;/option&gt;
&lt;option&gt;stephenfleming&lt;/option&gt;
&lt;option&gt;keithmcgreggor&lt;/option&gt;
&lt;option&gt;melaniebrandt&lt;/option&gt;
&lt;option&gt;jhaynie&lt;/option&gt;
&lt;option&gt;MikeSchinkel&lt;/option&gt;
&lt;option&gt;coty&lt;/option&gt;
&lt;option&gt;wei_yang&lt;/option&gt;
&lt;option&gt;mmealling&lt;/option&gt;
&lt;option&gt;pfreet&lt;/option&gt; 
&lt;/select&gt;
&lt;input type="submit" value="Go!"&gt;
&lt;/form&gt;

2.) I'm writing a blog post on WordPress.com where I am advocating that
people living in Georgia find and join a meetup group so I give them a form
with a drop-down that allows them to select their city:

Select your state:
&lt;form method="get" template="http://www.meetup.com/cities/us/ga/{city}/"&gt;
&lt;select id="city"&gt;
&lt;option value="acworth"&gt;Acworth&lt;/option&gt;
&lt;option value="albany"&gt;Albany&lt;/option&gt;
&lt;!-- ... --&gt;
&lt;option value="warner_robins"&gt;Warner Robins&lt;/option&gt;
&lt;option value="woodstock"&gt;Woodstock&lt;/option&gt;
&lt;/select&gt;
&lt;input type="submit" value="Find a Meetup Group in Georgia!"&gt;
&lt;/form&gt;

3.) I am writing a blog post on Blogger.com about "Ride to Work Day" where I
am advocating people in the USA ride their motorcycle to work and I want to
include a form that let's them type in their ZIP code and check there
weather:

&lt;form method="get" template="http://www.weather.com/weather/local/{zip}/"&gt;
&lt;input type="text" name="zip"/&gt;
&lt;input type="submit" value="Check Weather!"&gt;
&lt;/form&gt;

And I can go on and on like this if doing so is what it will take to get URI
Templates support in HTML5 forms. :-)

Currently what I am doing SIMPLY CANNOT be accomplished if one doesn't have
access to Javascript or when they don't have the programming skill.

BTW, I'm making a strong and reasonable assumption here that the URI
Authorities I've mentioned will each be documenting that their URL structure
and thus blessing this approach so this DOES NOT violate URI Opacity. 

In the case of #1 and #2, spiders like Google can crawl those as well but
could not crawl them. That's especially important if someone decides to
architect a site using "clean" URLs and then use drop-downs in forms to
allow people to navigate to pages. If implemented in Javascript it can't be
reliably called but if URI templates were supported in forms it could be.

As I told Ian in a private email recently, there are really only 3 things I
want to HTML5 and they all related to forms: 

1.) URI Templates in forms,
2.) PUT in forms, and 
3.) DELETE in forms. :-)

So do my use-case examples pass your "compelling" test, or do I have to
continue trying? :-)

-Mike Schinkel 
President; NewClarity LLC 
Organizer: Atlanta Web Entrepreneurs
http://www.linkedin.com/in/mikeschinkel
http://twitter.com/mikeschinkel
http://mikeschinkel.com
http://atlanta-web.org


-----Original Message-----
From: Mark Nottingham [mailto:mnot@...] 
Sent: Saturday, November 01, 2008 1:24 AM
To: Mike Schinkel
Cc: 'Ian Hickson'; 'Jerome Louvel'; whatwg@...; uri@...;
rest-discuss@yahoogroups.com
Subject: Re: [whatwg] Proposing URI Templates for WebForms 2.0

I didn't see any use cases in the original e-mail; did I miss something? An
example or two tends to focus discussion well...

Cheers,


On 01/11/2008, at 12:59 PM, Mike Schinkel wrote:

&gt; Mark&gt;&gt; compelling use cases for this, but we haven't seen those yet
&gt; AFAIK.
&gt;
&gt; What classifies as a "compelling use-case" in your mind?
&gt;
&gt; -Mike Schinkel
&gt; President; NewClarity LLC
&gt; Organizer: Atlanta Web Entrepreneurs
&gt; http://www.linkedin.com/in/mikeschinkel
&gt; http://twitter.com/mikeschinkel
&gt; http://mikeschinkel.com
&gt; http://atlanta-web.org
&gt;
&gt;
&gt; -----Original Message-----
&gt; From: uri-request@... [mailto:uri-request@...] On Behalf Of Mark
&gt; Nottingham
&gt; Sent: Friday, October 31, 2008 6:38 PM
&gt; To: Ian Hickson
&gt; Cc: Jerome Louvel; whatwg@...; uri@...;
&gt; rest-discuss@yahoogroups.com
&gt; Subject: Re: [whatwg] Proposing URI Templates for WebForms 2.0
&gt;
&gt;
&gt; +1, although I'd say it a bit differently.
&gt;
&gt; Doing it in script precludes unintended reuse, e.g., for  
&gt; accessibility,
&gt; search engines, and so forth; it's not a good solution
&gt; *if* there are compelling use cases for this, but we haven't seen  
&gt; those yet
&gt; AFAIK.
&gt;
&gt; Cheers,
&gt;
&gt;
&gt; On 29/10/2008, at 6:20 AM, Ian Hickson wrote:
&gt;
&gt;&gt;
&gt;&gt; On Fri, 12 Jan 2007, Jerome Louvel wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; Even though the URI template RFC is not finalized yet, we already
&gt;&gt;&gt; have a complete support for it, on the server-side, in the Restlet
&gt;&gt;&gt; framework.
&gt;&gt;&gt; We happily use them for our URI-based routing and I think they add a
&gt;&gt;&gt; lot of expressiveness while keeping a simple syntax. Usage example:
&gt;&gt;&gt; http://www.restlet.org/tutorial#part11
&gt;&gt;&gt;
&gt;&gt;&gt; They are also supported in WADL, the RESTful description language,
&gt;&gt;&gt; and in the OpenSearch specification. Extending their usage to HTML
&gt;&gt;&gt; forms sounds like a logical and useful step.
&gt;&gt;
&gt;&gt; It seems to me like URI templates can be trivially done from script
&gt;&gt; and from the server side already; given the poor
&gt;&gt; backwards-compatibility story of URI templates, what do we gain from
&gt;&gt; adding it to the language?
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Ian Hickson               U+1047E                )
&gt;&gt; \._.,--....,'``.    fL
&gt;&gt; http://ln.hixie.ch/       U+263A                /,   _.. \   _
&gt;&gt; \  ;`._ ,.
&gt;&gt; Things that are impossible just take longer.   `._.-(,_..'--
&gt;&gt; (,_..'`-.;.'
&gt;&gt;
&gt;
&gt;
&gt; --
&gt; Mark Nottingham     http://www.mnot.net/
&gt;
&gt;


--
Mark Nottingham     http://www.mnot.net/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11421<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-11-01 07:44:46<br>
Subject:RE: [whatwg] Proposing URI Templates for WebForms 2.0<br>
Message:<br><br>
<pre>Mark Nottingham&gt;&gt; This is good and I agree that in a perfect world, more
flexibility would have been designed in from the start. However, to put them
into the mix while the machine is running is a bit more complex; there needs
to be something more compelling (there's that word again) to drive adoption.

Can you help me understand the comment on why "putting them into the mix
while the machine is running is a bit more complex?"  I guess I don't
understand either "while the machine is running" part and why it is more
complex.  What about it is more complex.

Mark Nottingham&gt;&gt; If you can find cases where someone can reuse that
template in an unintended way -- e.g., a search engine, a client doing
automated things, a non-traditional browser, an intermediary -- I think it'd
go a long way towards this. 

Hopefully the 3 examples I gave in my ealier email presents relevent cases?

Mark Nottingham&gt;&gt; And, if you can come up with those cases, why not define
it as an extension (since it needs to be largely backwards-compatible
anyway)?  

What exactly is an HTML5 extension?  Can you provide a link that explains
this?  I can't comment as to if it would be an acceptable substitute until I
know more...

Mark Nottingham&gt;&gt; If it takes off, you can have the satisfaction of seeing
it incorporated into HTML6...

Please PLEASE don't make us wait until 2032 or so for this! ;-)


-Mike Schinkel 
President; NewClarity LLC 
Organizer: Atlanta Web Entrepreneurs
http://www.linkedin.com/in/mikeschinkel
http://twitter.com/mikeschinkel
http://mikeschinkel.com
http://atlanta-web.org



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11422<br>
Sender:"Paul Prescod" &lt;paul@...&gt;<br>
Post Date/Time:2008-11-01 08:27:51<br>
Subject:Re: [rest-discuss] Re: [whatwg] Proposing URI Templates for WebForms 2.0<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11423<br>
Sender:Mark Nottingham &lt;mnot@...&gt;<br>
Post Date/Time:2008-11-01 08:38:58<br>
Subject:Re: [whatwg] Proposing URI Templates for WebForms 2.0<br>
Message:<br><br>
<pre>On 01/11/2008, at 6:44 PM, Mike Schinkel wrote:

&gt; Mark Nottingham&gt;&gt; This is good and I agree that in a perfect world,  
&gt; more
&gt; flexibility would have been designed in from the start. However, to  
&gt; put them
&gt; into the mix while the machine is running is a bit more complex;  
&gt; there needs
&gt; to be something more compelling (there's that word again) to drive  
&gt; adoption.
&gt;
&gt; Can you help me understand the comment on why "putting them into the  
&gt; mix
&gt; while the machine is running is a bit more complex?"  I guess I don't
&gt; understand either "while the machine is running" part and why it is  
&gt; more
&gt; complex.  What about it is more complex.

Because you're not introducing your idea to a new proposal that will  
succeed or fail on its own merits; you're trying to get it into one of  
the most widely-used formats in the world. As such, the barrier to  
entry is higher; it has to be, or every idea that seems to be good  
would get in, and HTML5 would be even more incomprehensible than it is  
now.


&gt; Mark Nottingham&gt;&gt; If you can find cases where someone can reuse that
&gt; template in an unintended way -- e.g., a search engine, a client doing
&gt; automated things, a non-traditional browser, an intermediary -- I  
&gt; think it'd
&gt; go a long way towards this.
&gt;
&gt; Hopefully the 3 examples I gave in my ealier email presents relevent  
&gt; cases?

Sorry, but no. Each of those, as Ian says, can be implemented with a  
very simple server-side script. Yes, it's true that this requires  
somebody to write the script, but I don't think that's a big enough  
win to justify new core syntax in HTML if there isn't a constituency  
for it beating down the door.

To be clear, I'm somewhat playing devils' advocate here; I don't have  
any particular problem per se with your proposal, it's just that I'm  
wary of putting things into standards unless we're sure we need them.  
I don't (yet) hear people beating down Ian's door to include this, so  
it makes me suspicious.

OTOH I just saw a message from Paul P go by, so maybe this little  
dialogue will help whip up the masses.

*ahem*


&gt; Mark Nottingham&gt;&gt; And, if you can come up with those cases, why not  
&gt; define
&gt; it as an extension (since it needs to be largely backwards-compatible
&gt; anyway)?
&gt;
&gt; What exactly is an HTML5 extension?  Can you provide a link that  
&gt; explains
&gt; this?  I can't comment as to if it would be an acceptable substitute  
&gt; until I
&gt; know more...
&gt;
&gt; Mark Nottingham&gt;&gt; If it takes off, you can have the satisfaction of  
&gt; seeing
&gt; it incorporated into HTML6...
&gt;
&gt; Please PLEASE don't make us wait until 2032 or so for this! ;-)


I'm not the person to ask that, but frankly if you want the  
functionality, go ahead and write the software, publish the site,  
release the browser plug-in; the standards will follow if the minds do.

Cheers,


--
Mark Nottingham     http://www.mnot.net/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11424<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-11-01 09:16:34<br>
Subject:RE: [whatwg] Proposing URI Templates for WebForms 2.0<br>
Message:<br><br>
<pre> 
Mark Nottingham&gt;&gt;Sorry, but no. Each of those, as Ian says, can be
implemented with a very simple server-side script. Yes, it's true that this
requires somebody to write the script...

How exact can it be implemented on the server when the person writing the
HTML form is in control of the server? THAT's the primary use case.

In the case of someone being in control of the server it then requires two
round-trips and from what I know is that too many people priorize
performance over everything else which means too many people simple won't
implement on their servers.

Mark Nottingham&gt;&gt; isn't a constituency for it beating down the door.

Me, Jerome and Paul are a constituency. :)

&gt;&gt; I don't (yet) hear people beating down Ian's door to include this, so it
makes me suspicious.

Do I need to start yelling louder?  :-)

Adding URI Templates to forms fills a large hole in the forms architecture;
This is very much a case of empowering serendipity as the current form
architecture current cannotly service the full range of URLs that can be
used.  I'm asking for (most of) that gap to be filled.

Mark Nottingham&gt;&gt; I'm not the person to ask that, but frankly if you want
the functionality, go ahead and write the software, publish the site,
release the browser plug-in; the standards will follow if the minds do.

That's a non-sequitur; that's like telling me to build a natural-gas powered
car and expect that people will buy it when in fact there are not enough
natural-gas stations available. Your suggestion that the solution is to
write a browser plug-in is about like suggesting I just pound sand although
it is a bit less insulting. :-)  

No one will use the syntax until enough people have the plugin, and nobody
will install the plugin unless enough people are using the syntax; it's a
catch-22. This type of thing is where standards are needed in advance.

-Mike Schinkel
http://mikeschinkel.com



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11425<br>
Sender:Mark Nottingham &lt;mnot@...&gt;<br>
Post Date/Time:2008-11-01 09:50:47<br>
Subject:Re: [whatwg] Proposing URI Templates for WebForms 2.0<br>
Message:<br><br>
<pre>*sigh* we seem to be talking past each other... despite appearances, I  
actually think this is a pretty good idea; I just am concerned about  
how you're going about getting it accepted.

On 01/11/2008, at 8:16 PM, Mike Schinkel wrote:

&gt; Mark Nottingham&gt;&gt;Sorry, but no. Each of those, as Ian says, can be
&gt; implemented with a very simple server-side script. Yes, it's true  
&gt; that this
&gt; requires somebody to write the script...
&gt;
&gt; How exact can it be implemented on the server when the person  
&gt; writing the
&gt; HTML form is in control of the server? THAT's the primary use case.

I suspect you meant to say when that person *isn't* in control of the  
server.

If so, I've never been very swayed by the notion that people  
publishing on geocities (or twitter or whatever else is the free  
hosting / republishing provider of the moment is) should be able to  
make a fully-functional Web app using nothing but HTML and sticky  
tape; see previous discussions about the cross-site access control  
mechanism.


&gt; In the case of someone being in control of the server it then  
&gt; requires two
&gt; round-trips and from what I know is that too many people priorize
&gt; performance over everything else which means too many people simple  
&gt; won't
&gt; implement on their servers.

Plenty of performance-sensitive sites use redirects to implement  
various functions, and they're good enough despite their two round  
trips. Perfect, no, but good enough.


&gt; Adding URI Templates to forms fills a large hole in the forms  
&gt; architecture;

Using "filling a hole in the architecture" as a justification for  
doing something gives me the screaming heebee-jeebees, and I suspect  
that this attitude is why you're getting a fairly cold shoulder from  
implementers. Show them the real market need that you're filling and I  
imagine you'll get a lot more of their attention.


&gt; Mark Nottingham&gt;&gt; I'm not the person to ask that, but frankly if you  
&gt; want
&gt; the functionality, go ahead and write the software, publish the site,
&gt; release the browser plug-in; the standards will follow if the minds  
&gt; do.
&gt;
&gt; That's a non-sequitur; that's like telling me to build a natural-gas  
&gt; powered
&gt; car and expect that people will buy it when in fact there are not  
&gt; enough
&gt; natural-gas stations available. Your suggestion that the solution is  
&gt; to
&gt; write a browser plug-in is about like suggesting I just pound sand  
&gt; although
&gt; it is a bit less insulting. :-)

I wasn't suggesting a plug-in for the cases you were talking about,  
but rather in general, if you have running code and demonstrated pain,  
asking to put something into a standard is a lot more reasonable.


&gt; No one will use the syntax until enough people have the plugin, and  
&gt; nobody
&gt; will install the plugin unless enough people are using the syntax;  
&gt; it's a
&gt; catch-22. This type of thing is where standards are needed in advance.

That is certainly how people often try to misuse standards, yes. Just  
because something is a standard doesn't make it implemented or  
successful.

Try what I did with hinclude &lt;http://www.mnot.net/javascript/hinclude/ 
 &gt;; write a javascript library to handle a declarative syntax, and  
have it gracefully degrade once the browsers handle it natively. If  
the markup is declarative, it doesn't matter if it's in HTML5 or not,  
you still can cater to unintended uses.

Oh, wait, I already did that: &lt;http://www.mnot.net/javascript/template_form.js 
 &gt;.

Sure, you don't get the leverage of having it in a mature standard,  
but if it's truly a good idea, you'll be able to convince people to  
use it without that. The point is that you can't force a good idea on  
the market with a standard; people have to want to use it. I've said  
about as much as I can about this without starting to babble about  
standards theory, so I think I'll stop now.

--
Mark Nottingham     http://www.mnot.net/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11426<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-11-01 10:14:52<br>
Subject:Re: [whatwg] Proposing URI Templates for WebForms 2.0<br>
Message:<br><br>
<pre>Mark Nottingham wrote:
&gt; ...
&gt; Try what I did with hinclude &lt;http://www.mnot.net/javascript/hinclude/&gt;; 
&gt; write a javascript library to handle a declarative syntax, and have it 
&gt; gracefully degrade once the browsers handle it natively. If the markup 
&gt; is declarative, it doesn't matter if it's in HTML5 or not, you still can 
&gt; cater to unintended uses.
&gt; ...

Speaking of which: that one (hinclude) is totally useful; and it would 
also help with one of the cases Google's recent dictionary-based 
compression proposal is for.

I'd totally be in favor to have something like this in HTML5 (and no, 
others have asked for it as well).

BR, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11427<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-11-01 10:44:29<br>
Subject:RE: [whatwg] Proposing URI Templates for WebForms 2.0<br>
Message:<br><br>
<pre>Mark Nottingham&gt;&gt;despite appearances, I actually think this is a pretty good
idea; I just am concerned about how you're going about getting it accepted. 

I can understand, appreciate and respect that.  FYI I lost patience with the
standard process a while back because it seemed that no matter my input I
was always told "no."  Since I only found frustration, I gave up. 

I'm participating again because Ian included me on a follow email on this
issue and because I really do want to see URI Templates become part of
HTML5.  That said, I really have no idea how to go about getting things
accepted I think because I look for what could be and it seems most
standards people only want to see what already is?

If it takes untold hours of time to debate and to provide exhaustive
supporting evidence I guess I'll have to give up on the hope for this since
I really do need to use my time to make a living and no one is paying me for
my time to participate here.

If you can guide me as to how to efficently get something accepted, I'm all
ears!

&gt;&gt; I suspect you meant to say when that person *isn't* in control of the
server.

Yes, thanks for catching my error.

&gt;&gt; If so, I've never been very swayed by the notion that people publishing
on geocities (or twitter or whatever else is the free hosting / republishing
provider of the moment is) should be able to make a fully-functional Web app
using nothing but HTML and sticky tape; see previous discussions about the
cross-site access control mechanism.

First, not asking for a fully-functional web app, just for the ability to
incorporate usable forms into an HTML fragment where Javascript is not
allowed.

Second, hasn't it been obvious with the explosion of social media that over
time the vast majority of content published on the web will be published by
people using a server they do not control?  Forums, Blog hosting, Facebook,
LinkedIn, etc. etc. etc.  

Frankly it was over the lack of appreciation for social media's use of HTML
that I gave up on participating in the HTML5 WG. My guess is that within ten
years &gt;90% of HTML on the web will be published on social media services
(including self hosted open-source apps) yet the participants in the HTML5
WG seemed to only consider HTML published by people in control of the server
(i.e. my "&lt;10%") were the only valid users.

Honestly, there really should be a focus on making sure the HTML can work in
"fragment-mode" (i.e. where someone provides a fragment of HTML that is
incorporated within other HTML.)  That calls the question of the need for a
&lt;fragment&gt; element that can contain malformed HTML w/o breaking the
containing HTML, but that's another subject...

BTW, don't you think the geocities reference is a bit of a low blow? ;)

&gt;&gt; Plenty of performance-sensitive sites use redirects to implement various
functions, and they're good enough despite their two round trips. Perfect,
no, but good enough.

Plenty do but more do not, and many people on forums, blog posts and mailing
lists recommend to others not to do so because of the performance cost. The
cost of round trips has been used as a reason against certain web
architectures such as in discussions of ROBOTS.TXT and 303.

Most notably people who write about web performance optimization who happen
to work for your employer recommend against doing so:

http://developer.yahoo.com/performance/rules.html#redirects
http://developer.yahoo.com/performance/rules.html#num_http


&gt;&gt;Using "filling a hole in the architecture" as a justification for doing
something gives me the screaming heebee-jeebees, and I suspect that this
attitude is why you're getting a fairly cold shoulder from implementers.
Show them the real market need that you're filling and I imagine you'll get
a lot more of their attention.

"heebee-jeebees?"  Srsly?

I've been trying to, but you are dismissing my needs as unimportant. I
really don't know how to put it in terms that you guys appreciate.

&gt;&gt; I wasn't suggesting a plug-in for the cases you were talking about, but
rather in general, if you have running code and demonstrated pain, asking to
put something into a standard is a lot more reasonable.

What about the case where I don't have running code because we can't
currently do it?  I am trying to empower uses where people simply can't do
things  right now.

The irony is that if TBL had gotten this kind of resistance when he tried to
launch the web it never would have happened because he couldn't demonstrate
an existing use-case (Oh wait a minute, he DID get this kind of resistance
from the IETF, and it almost killed the web stillborne.  Thank god it
didn't.)

BTW, the only person I've gotten resistance from on this besides Hixie is
you... :)

&gt;&gt; That is certainly how people often try to misuse standards, yes. Just
because something is a standard doesn't make it implemented or successful.

Oh I agree with that, not that it is relevant here...

&gt;&gt; Try what I did with hinclude...
&gt;&gt; Oh, wait, I already did that...
&gt;&gt; Sure, you don't get the leverage...

Typically when I advocate for things like this it is rarely because I want
it for something I need to implement, it's because I believe that it could
improve things on a broad scale. Frequently people will say "But you can
implement it yourself by doing 'x'" which totally misses the point.

But that misses the point; the most compelling use-cases are for where
Javascript isn't available!

&gt;&gt; The point is that you can't force a good idea on the market with a
standard; people have to want to use it.

I'll agree with you completely there about not implementing something people
wouldn't use. 

What I'm having trouble with is that the benefits to using this are so
obvious to me that I'm having trouble understanding why they are not obvious
to others. Using a templated URL structure vs query parameters makes URLs so
much cleaner looking and understandable that I can't imagine people wouldn't
flock to using this, if available.

So would it help if I could show you numerous examples where people are
using Javascript to accomplish this with forms? Would that be the "pain" you
are looking for?

That said, what about the pain of not being able to crawl forms that use
Javascript for this? Isn't that a compelling use case?

&gt;&gt; I've said about as much as I can about this without starting to babble
about standards theory, so I think I'll stop now.

As an aside, I'd be interested in any reference you have that I can read up
on "standard's theory."

-Mike Schinkel 
http://mikeschinkel.com


-----Original Message-----
From: Mark Nottingham [mailto:mnot@...] 
Sent: Saturday, November 01, 2008 5:51 AM
To: Mike Schinkel
Cc: 'Ian Hickson'; 'Jerome Louvel'; whatwg@...; 'URI'; 'REST
Discuss'
Subject: Re: [whatwg] Proposing URI Templates for WebForms 2.0

*sigh* we seem to be talking past each other... despite appearances, I
actually think this is a pretty good idea; I just am concerned about how
you're going about getting it accepted.

On 01/11/2008, at 8:16 PM, Mike Schinkel wrote:

&gt; Mark Nottingham&gt;&gt;Sorry, but no. Each of those, as Ian says, can be 
&gt; implemented with a very simple server-side script. Yes, it's true that 
&gt; this requires somebody to write the script...
&gt;
&gt; How exact can it be implemented on the server when the person writing 
&gt; the HTML form is in control of the server? THAT's the primary use 
&gt; case.

I suspect you meant to say when that person *isn't* in control of the
server.

If so, I've never been very swayed by the notion that people publishing on
geocities (or twitter or whatever else is the free hosting / republishing
provider of the moment is) should be able to make a fully-functional Web app
using nothing but HTML and sticky tape; see previous discussions about the
cross-site access control mechanism.


&gt; In the case of someone being in control of the server it then requires 
&gt; two round-trips and from what I know is that too many people priorize 
&gt; performance over everything else which means too many people simple 
&gt; won't implement on their servers.

Plenty of performance-sensitive sites use redirects to implement various
functions, and they're good enough despite their two round trips. Perfect,
no, but good enough.


&gt; Adding URI Templates to forms fills a large hole in the forms 
&gt; architecture;

Using "filling a hole in the architecture" as a justification for doing
something gives me the screaming heebee-jeebees, and I suspect that this
attitude is why you're getting a fairly cold shoulder from implementers.
Show them the real market need that you're filling and I imagine you'll get
a lot more of their attention.


&gt; Mark Nottingham&gt;&gt; I'm not the person to ask that, but frankly if you 
&gt; want the functionality, go ahead and write the software, publish the 
&gt; site, release the browser plug-in; the standards will follow if the 
&gt; minds do.
&gt;
&gt; That's a non-sequitur; that's like telling me to build a natural-gas 
&gt; powered car and expect that people will buy it when in fact there are 
&gt; not enough natural-gas stations available. Your suggestion that the 
&gt; solution is to write a browser plug-in is about like suggesting I just 
&gt; pound sand although it is a bit less insulting. :-)

I wasn't suggesting a plug-in for the cases you were talking about, but
rather in general, if you have running code and demonstrated pain, asking to
put something into a standard is a lot more reasonable.


&gt; No one will use the syntax until enough people have the plugin, and 
&gt; nobody will install the plugin unless enough people are using the 
&gt; syntax; it's a catch-22. This type of thing is where standards are 
&gt; needed in advance.

That is certainly how people often try to misuse standards, yes. Just
because something is a standard doesn't make it implemented or successful.

Try what I did with hinclude &lt;http://www.mnot.net/javascript/hinclude/
 &gt;; write a javascript library to handle a declarative syntax, and have it
gracefully degrade once the browsers handle it natively. If the markup is
declarative, it doesn't matter if it's in HTML5 or not, you still can cater
to unintended uses.

Oh, wait, I already did that:
&lt;http://www.mnot.net/javascript/template_form.js
 &gt;.

Sure, you don't get the leverage of having it in a mature standard, but if
it's truly a good idea, you'll be able to convince people to use it without
that. The point is that you can't force a good idea on the market with a
standard; people have to want to use it. I've said about as much as I can
about this without starting to babble about standards theory, so I think
I'll stop now.

--
Mark Nottingham     http://www.mnot.net/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11428<br>
Sender:Mark Nottingham &lt;mnot@...&gt;<br>
Post Date/Time:2008-11-01 12:00:12<br>
Subject:Re: [whatwg] Proposing URI Templates for WebForms 2.0<br>
Message:<br><br>
<pre>
On 01/11/2008, at 9:44 PM, Mike Schinkel wrote:

&gt; Second, hasn't it been obvious with the explosion of social media  
&gt; that over
&gt; time the vast majority of content published on the web will be  
&gt; published by
&gt; people using a server they do not control?  Forums, Blog hosting,  
&gt; Facebook,
&gt; LinkedIn, etc. etc. etc.

Yes, but consider how little HTML is allowed by most of these, and  
why...

&gt; Plenty do but more do not, and many people on forums, blog posts and  
&gt; mailing
&gt; lists recommend to others not to do so because of the performance  
&gt; cost. The
&gt; cost of round trips has been used as a reason against certain web
&gt; architectures such as in discussions of ROBOTS.TXT and 303.
&gt;
&gt; Most notably people who write about web performance optimization who  
&gt; happen
&gt; to work for your employer recommend against doing so:
&gt;
&gt; http://developer.yahoo.com/performance/rules.html#redirects
&gt; http://developer.yahoo.com/performance/rules.html#num_http

Of course; the point I was trying to make is that avoiding a roundtrip  
isn't going to motivate a whole new technology, at least one that's so  
specialised.

&gt; BTW, the only person I've gotten resistance from on this besides  
&gt; Hixie is
&gt; you... :)

True, and if you're in a position to get your proposal accepted and  
implemented, I'll be the last to get in your way.

&gt; But that misses the point; the most compelling use-cases are for where
&gt; Javascript isn't available!

If you define it as declarative markup and implement it for the  
browsing case with JavaScript, non-JS clients (e.g., robots) can still  
use the declarative markup, if they're aware of it.

&gt; So would it help if I could show you numerous examples where people  
&gt; are
&gt; using Javascript to accomplish this with forms? Would that be the  
&gt; "pain" you
&gt; are looking for?
&gt;
&gt; That said, what about the pain of not being able to crawl forms that  
&gt; use
&gt; Javascript for this? Isn't that a compelling use case?

I think I'll stop typing and listen to what others have to say.

&gt; As an aside, I'd be interested in any reference you have that I can  
&gt; read up
&gt; on "standard's theory."


Carl Cargill did a good job in "Open Systems Standardization":
   http://www.amazon.com/Open-Systems-Standardization-Business-Approach/dp/0132683199/

Cheers (and good night),

--
Mark Nottingham     http://www.mnot.net/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11429<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-11-01 12:27:40<br>
Subject:RE: [whatwg] Proposing URI Templates for WebForms 2.0<br>
Message:<br><br>
<pre>Mark Nottingham&gt;&gt; Of course; the point I was trying to make is that avoiding
a roundtrip isn't going to motivate a whole new technology, at least one
that's so specialised.

It really doesn't seem to be that specialized to me. URLs are used
ubiquitously, and a widespread implementation of URI Templates such as in
HTML5 could empower the use of URI Templates in so many different contexts
where they would have value.

As an aside, I'm beginning to understand that the people who get their
concerns addressed in the WG are the ones with the most stamina. :)

&gt;&gt; If you define it as declarative markup and implement it for the browsing
case with JavaScript, non-JS clients (e.g., robots) can still use the
declarative markup, if they're aware of it.

True, but the point is that nobody is going to code something when the
number of those aware of it are &lt;1% given that w/o Javascript it isn't
possible to do it any other way.

&gt;&gt; Carl Cargill did a good job in "Open Systems Standardization":

Very cool, it's on order. Thanks.

-Mike


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11430<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-11-01 16:48:51<br>
Subject:Re: [rest-discuss] RE: [whatwg] Proposing URI Templates for WebForms 2.0<br>
Message:<br><br>
<pre>I see the use cases, but what is the server gaining with this  
flexibility? In other words, how many servers out there are going to  
benefit from this technique?

Not having templates in forms does not violate URI opacity since HTML  
forms do follow a well-defined and well-understood approach to  
construct a URI from form parameters.

Subbu

On Nov 1, 2008, at 12:24 AM, Mike Schinkel wrote:

&gt; Mark;
&gt;
&gt; Mark&gt;&gt; I didn't see any use cases in the original e-mail; did I miss
&gt; something? An example or two tends to focus discussion well...
&gt;
&gt; Example use-cases? You want example use-cases? Happy to oblige. :-)
&gt;
&gt; But first let me ask you think in terms of the context where people  
&gt; can put
&gt; HTML put can't put Javascript such as in some hosting blogging  
&gt; platforms and
&gt; on forums. Also think in terms of websites being able to say "post  
&gt; this code
&gt; into your blog, etc."
&gt;
&gt; 1.) I'm (hypothetically) the owner of atllogos.com and I want on  
&gt; provide an
&gt; HTML for to let visitors select from a drop-down to be able to visit  
&gt; the
&gt; Twitter users listed on http://atllogos.com/startup.html (Note that
&gt; "template" is a new attribute that is used for templates when no  
&gt; "action" is
&gt; specified):
&gt;
&gt; See these people on Twitter:
&gt; &lt;form method="get" template="http://twitter.com/{name}"&gt;
&gt; &lt;select id="name"&gt;
&gt; &lt;option&gt;sanjay&lt;/option&gt;
&gt; &lt;option&gt;lance&lt;/option&gt;
&gt; &lt;option&gt;stephenfleming&lt;/option&gt;
&gt; &lt;option&gt;keithmcgreggor&lt;/option&gt;
&gt; &lt;option&gt;melaniebrandt&lt;/option&gt;
&gt; &lt;option&gt;jhaynie&lt;/option&gt;
&gt; &lt;option&gt;MikeSchinkel&lt;/option&gt;
&gt; &lt;option&gt;coty&lt;/option&gt;
&gt; &lt;option&gt;wei_yang&lt;/option&gt;
&gt; &lt;option&gt;mmealling&lt;/option&gt;
&gt; &lt;option&gt;pfreet&lt;/option&gt;
&gt; &lt;/select&gt;
&gt; &lt;input type="submit" value="Go!"&gt;
&gt; &lt;/form&gt;
&gt;
&gt; 2.) I'm writing a blog post on WordPress.com where I am advocating  
&gt; that
&gt; people living in Georgia find and join a meetup group so I give them  
&gt; a form
&gt; with a drop-down that allows them to select their city:
&gt;
&gt; Select your state:
&gt; &lt;form method="get" template="http://www.meetup.com/cities/us/ga/ 
&gt; {city}/"&gt;
&gt; &lt;select id="city"&gt;
&gt; &lt;option value="acworth"&gt;Acworth&lt;/option&gt;
&gt; &lt;option value="albany"&gt;Albany&lt;/option&gt;
&gt; &lt;!-- ... --&gt;
&gt; &lt;option value="warner_robins"&gt;Warner Robins&lt;/option&gt;
&gt; &lt;option value="woodstock"&gt;Woodstock&lt;/option&gt;
&gt; &lt;/select&gt;
&gt; &lt;input type="submit" value="Find a Meetup Group in Georgia!"&gt;
&gt; &lt;/form&gt;
&gt;
&gt; 3.) I am writing a blog post on Blogger.com about "Ride to Work Day"  
&gt; where I
&gt; am advocating people in the USA ride their motorcycle to work and I  
&gt; want to
&gt; include a form that let's them type in their ZIP code and check there
&gt; weather:
&gt;
&gt; &lt;form method="get" template="http://www.weather.com/weather/local/ 
&gt; {zip}/"&gt;
&gt; &lt;input type="text" name="zip"/&gt;
&gt; &lt;input type="submit" value="Check Weather!"&gt;
&gt; &lt;/form&gt;
&gt;
&gt; And I can go on and on like this if doing so is what it will take to  
&gt; get URI
&gt; Templates support in HTML5 forms. :-)
&gt;
&gt; Currently what I am doing SIMPLY CANNOT be accomplished if one  
&gt; doesn't have
&gt; access to Javascript or when they don't have the programming skill.
&gt;
&gt; BTW, I'm making a strong and reasonable assumption here that the URI
&gt; Authorities I've mentioned will each be documenting that their URL  
&gt; structure
&gt; and thus blessing this approach so this DOES NOT violate URI Opacity.
&gt;
&gt; In the case of #1 and #2, spiders like Google can crawl those as  
&gt; well but
&gt; could not crawl them. That's especially important if someone decides  
&gt; to
&gt; architect a site using "clean" URLs and then use drop-downs in forms  
&gt; to
&gt; allow people to navigate to pages. If implemented in Javascript it  
&gt; can't be
&gt; reliably called but if URI templates were supported in forms it  
&gt; could be.
&gt;
&gt; As I told Ian in a private email recently, there are really only 3  
&gt; things I
&gt; want to HTML5 and they all related to forms:
&gt;
&gt; 1.) URI Templates in forms,
&gt; 2.) PUT in forms, and
&gt; 3.) DELETE in forms. :-)
&gt;
&gt; So do my use-case examples pass your "compelling" test, or do I have  
&gt; to
&gt; continue trying? :-)
&gt;
&gt; -Mike Schinkel
&gt; President; NewClarity LLC
&gt; Organizer: Atlanta Web Entrepreneurs
&gt; http://www.linkedin.com/in/mikeschinkel
&gt; http://twitter.com/mikeschinkel
&gt; http://mikeschinkel.com
&gt; http://atlanta-web.org
&gt;
&gt; -----Original Message-----
&gt; From: Mark Nottingham [mailto:mnot@...]
&gt; Sent: Saturday, November 01, 2008 1:24 AM
&gt; To: Mike Schinkel
&gt; Cc: 'Ian Hickson'; 'Jerome Louvel'; whatwg@...; uri@... 
&gt; ;
&gt; rest-discuss@yahoogroups.com
&gt; Subject: Re: [whatwg] Proposing URI Templates for WebForms 2.0
&gt;
&gt; I didn't see any use cases in the original e-mail; did I miss  
&gt; something? An
&gt; example or two tends to focus discussion well...
&gt;
&gt; Cheers,
&gt;
&gt; On 01/11/2008, at 12:59 PM, Mike Schinkel wrote:
&gt;
&gt; &gt; Mark&gt;&gt; compelling use cases for this, but we haven't seen those yet
&gt; &gt; AFAIK.
&gt; &gt;
&gt; &gt; What classifies as a "compelling use-case" in your mind?
&gt; &gt;
&gt; &gt; -Mike Schinkel
&gt; &gt; President; NewClarity LLC
&gt; &gt; Organizer: Atlanta Web Entrepreneurs
&gt; &gt; http://www.linkedin.com/in/mikeschinkel
&gt; &gt; http://twitter.com/mikeschinkel
&gt; &gt; http://mikeschinkel.com
&gt; &gt; http://atlanta-web.org
&gt; &gt;
&gt; &gt;
&gt; &gt; -----Original Message-----
&gt; &gt; From: uri-request@... [mailto:uri-request@...] On Behalf Of  
&gt; Mark
&gt; &gt; Nottingham
&gt; &gt; Sent: Friday, October 31, 2008 6:38 PM
&gt; &gt; To: Ian Hickson
&gt; &gt; Cc: Jerome Louvel; whatwg@...; uri@...;
&gt; &gt; rest-discuss@yahoogroups.com
&gt; &gt; Subject: Re: [whatwg] Proposing URI Templates for WebForms 2.0
&gt; &gt;
&gt; &gt;
&gt; &gt; +1, although I'd say it a bit differently.
&gt; &gt;
&gt; &gt; Doing it in script precludes unintended reuse, e.g., for
&gt; &gt; accessibility,
&gt; &gt; search engines, and so forth; it's not a good solution
&gt; &gt; *if* there are compelling use cases for this, but we haven't seen
&gt; &gt; those yet
&gt; &gt; AFAIK.
&gt; &gt;
&gt; &gt; Cheers,
&gt; &gt;
&gt; &gt;
&gt; &gt; On 29/10/2008, at 6:20 AM, Ian Hickson wrote:
&gt; &gt;
&gt; &gt;&gt;
&gt; &gt;&gt; On Fri, 12 Jan 2007, Jerome Louvel wrote:
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; Even though the URI template RFC is not finalized yet, we already
&gt; &gt;&gt;&gt; have a complete support for it, on the server-side, in the Restlet
&gt; &gt;&gt;&gt; framework.
&gt; &gt;&gt;&gt; We happily use them for our URI-based routing and I think they  
&gt; add a
&gt; &gt;&gt;&gt; lot of expressiveness while keeping a simple syntax. Usage  
&gt; example:
&gt; &gt;&gt;&gt; http://www.restlet.org/tutorial#part11
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; They are also supported in WADL, the RESTful description language,
&gt; &gt;&gt;&gt; and in the OpenSearch specification. Extending their usage to HTML
&gt; &gt;&gt;&gt; forms sounds like a logical and useful step.
&gt; &gt;&gt;
&gt; &gt;&gt; It seems to me like URI templates can be trivially done from script
&gt; &gt;&gt; and from the server side already; given the poor
&gt; &gt;&gt; backwards-compatibility story of URI templates, what do we gain  
&gt; from
&gt; &gt;&gt; adding it to the language?
&gt; &gt;&gt;
&gt; &gt;&gt; --
&gt; &gt;&gt; Ian Hickson U+1047E )
&gt; &gt;&gt; \._.,--....,'``. fL
&gt; &gt;&gt; http://ln.hixie.ch/ U+263A /, _.. \ _
&gt; &gt;&gt; \ ;`._ ,.
&gt; &gt;&gt; Things that are impossible just take longer. `._.-(,_..'--
&gt; &gt;&gt; (,_..'`-.;.'
&gt; &gt;&gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; --
&gt; &gt; Mark Nottingham http://www.mnot.net/
&gt; &gt;
&gt; &gt;
&gt;
&gt; --
&gt; Mark Nottingham http://www.mnot.net/
&gt;
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11431<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-11-01 17:56:04<br>
Subject:Re: [rest-discuss] RE: [whatwg] Proposing URI Templates for WebForms 2.0<br>
Message:<br><br>
<pre>
On Nov 1, 2008, at 10:01 AM, Erik Wilde wrote:

&gt; Subbu Allamaraju wrote:
&gt;&gt; I see the use cases, but what is the server gaining with this  
&gt;&gt; flexibility? In other words, how many servers out there are going  
&gt;&gt; to benefit from this technique?
&gt;
&gt; the question is more how many page authors will be able to reliably  
&gt; develop forms against services/servers? i think mike's idea is  
&gt; pretty good because it increases loose coupling between clients and  
&gt; servers.

I don't disagree, and I do see the value of templates for non-browser  
scenarios. But the most of the web today won't be taking advantage of  
this for a long time.

&gt; on today's web, forms and services are more or less tightly coupled,  
&gt; and they almost are developed as one thing. mike proposes an  
&gt; architecture that introduces a more loose coupling, because a form  
&gt; is able to interact with more services than before.

Again, I don't disagree about loose-coupling, but the technique serves  
just a tiny tiny fraction. Also consider the amount of JS code out  
there that knows how to construct URIs from form params and other  
inputs. That won't be migrating to use templates anytime soon.

&gt; ( mike, please correct me if i am wrong. )
&gt;
&gt;&gt; Not having templates in forms does not violate URI opacity since  
&gt;&gt; HTML forms do follow a well-defined and well-understood approach to  
&gt;&gt; construct a URI from form parameters.
&gt;
&gt; yes, but if you have some service out there that expect certain  
&gt; URIs, then currently it is not possible to build a form for that,  
&gt; unless the service does expect form-encoded data. mike's proposal  
&gt; would allow forms to interact with a much wider set of services.

Same as above. Those services/servers can very well allow form-encoded  
data. I would argue that, doing so is better since it would let them  
work with existing browsers and JS libraries.

Sincerely,
Subbu
----
http://www.subbu.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11432<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-11-02 00:11:28<br>
Subject:RE: [rest-discuss] RE: [whatwg] Proposing URI Templates for WebForms 2.0<br>
Message:<br><br>
<pre>Erik Wilde&gt;&gt; ( mike, please correct me if i am wrong. )

You are right, thanks. You explained it in a way that hadn't occurred to me
to explain it; loose coupling is very good.

-Mike Schinkel 
http://mikeschinkel.com


-----Original Message-----
From: Erik Wilde [mailto:dret@...] 
Sent: Saturday, November 01, 2008 1:01 PM
To: Subbu Allamaraju
Cc: Mike Schinkel; 'Mark Nottingham'; 'Ian Hickson'; 'Jerome Louvel';
whatwg@...; uri@...; rest-discuss@yahoogroups.com
Subject: Re: [rest-discuss] RE: [whatwg] Proposing URI Templates for
WebForms 2.0

Subbu Allamaraju wrote:
&gt; I see the use cases, but what is the server gaining with this 
&gt; flexibility? In other words, how many servers out there are going to 
&gt; benefit from this technique?

the question is more how many page authors will be able to reliably develop
forms against services/servers? i think mike's idea is pretty good because
it increases loose coupling between clients and servers.

on today's web, forms and services are more or less tightly coupled, and
they almost are developed as one thing. mike proposes an architecture that
introduces a more loose coupling, because a form is able to interact with
more services than before.

( mike, please correct me if i am wrong. )

&gt; Not having templates in forms does not violate URI opacity since HTML 
&gt; forms do follow a well-defined and well-understood approach to 
&gt; construct a URI from form parameters.

yes, but if you have some service out there that expect certain URIs, then
currently it is not possible to build a form for that, unless the service
does expect form-encoded data. mike's proposal would allow forms to interact
with a much wider set of services.

cheers,

dret.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11433<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-11-02 00:21:51<br>
Subject:RE: [rest-discuss] RE: [whatwg] Proposing URI Templates for WebForms 2.0<br>
Message:<br><br>
<pre>Subbu&gt;&gt; I don't disagree, and I do see the value of templates for
non-browser scenarios. But the most of the web today won't be taking
advantage of this for a long time. 

HTML5 won't be taken advantage of for a very long time, so how is this a
critcism?

&gt;&gt; Again, I don't disagree about loose-coupling, but the technique serves
just a tiny tiny fraction. Also consider the amount of JS code out there
that knows how to construct URIs from form params and other inputs. That
won't be migrating to use templates anytime soon.

If URI Templates are added I can see them be immediately incorporated into
CMS like Drupal, WordPress and Joomla (I use the former two so I'll add it
if nobody else does) and frameworks like Ruby on Rails, Django, and CakePHP.
Most (all?) of those frameworks use clean URLs but can't use forms w/o using
Javascript and URI templates would be a cleaner and simplier approach that
it would be crazy for people NOT to use it. 

I for one will blog about it and promote if via Twitter and expect others
like dret and Jerome (and probably Mark) will do the same.

&gt;&gt; Same as above. Those services/servers can very well allow form-encoded
data. I would argue that, doing so is better since it would let them work
with existing browsers and JS libraries.

So your only argument against is someone would need to create a URI Template
library and then they would need to use it? Just how hard is it to find and
use another library? 

With that argument there should be no planning for HTML5 because "existing
libraries" don't work with HTML5, right?

@dret&gt;&gt; i think the main question is whether HTML should look beyond
services designed specifically for backing forms, or not. it certainly could
without harming backwards-compatibility, and one could also argue that this
would actually promote the design and implementation of services with more
well-designed RESTful APIs than form-encoded data. seen this way, such a
feature would be a pretty smart way of slowly improving the state of how
services are provided on the web.

Well said.

-Mike Schinkel 
http://mikeschinkel.com


-----Original Message-----
From: Subbu Allamaraju [mailto:subbu@...] 
Sent: Saturday, November 01, 2008 1:56 PM
To: Erik Wilde
Cc: Mike Schinkel; 'Mark Nottingham'; 'Ian Hickson'; 'Jerome Louvel';
whatwg@...; uri@...; rest-discuss@yahoogroups.com
Subject: Re: [rest-discuss] RE: [whatwg] Proposing URI Templates for
WebForms 2.0


On Nov 1, 2008, at 10:01 AM, Erik Wilde wrote:

&gt; Subbu Allamaraju wrote:
&gt;&gt; I see the use cases, but what is the server gaining with this 
&gt;&gt; flexibility? In other words, how many servers out there are going to 
&gt;&gt; benefit from this technique?
&gt;
&gt; the question is more how many page authors will be able to reliably 
&gt; develop forms against services/servers? i think mike's idea is pretty 
&gt; good because it increases loose coupling between clients and servers.

I don't disagree, and I do see the value of templates for non-browser
scenarios. But the most of the web today won't be taking advantage of this
for a long time.

&gt; on today's web, forms and services are more or less tightly coupled, 
&gt; and they almost are developed as one thing. mike proposes an 
&gt; architecture that introduces a more loose coupling, because a form is 
&gt; able to interact with more services than before.

Again, I don't disagree about loose-coupling, but the technique serves just
a tiny tiny fraction. Also consider the amount of JS code out there that
knows how to construct URIs from form params and other inputs. That won't be
migrating to use templates anytime soon.

&gt; ( mike, please correct me if i am wrong. )
&gt;
&gt;&gt; Not having templates in forms does not violate URI opacity since HTML 
&gt;&gt; forms do follow a well-defined and well-understood approach to 
&gt;&gt; construct a URI from form parameters.
&gt;
&gt; yes, but if you have some service out there that expect certain URIs, 
&gt; then currently it is not possible to build a form for that, unless the 
&gt; service does expect form-encoded data. mike's proposal would allow 
&gt; forms to interact with a much wider set of services.

Same as above. Those services/servers can very well allow form-encoded data.
I would argue that, doing so is better since it would let them work with
existing browsers and JS libraries.

Sincerely,
Subbu
----
http://www.subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11434<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-11-02 01:13:11<br>
Subject:RE: [whatwg] HTML5 and URI Templates<br>
Message:<br><br>
<pre>@Ian&gt;&gt;This might be a good time to bring the FAQ to people's attention -- it
covers what we ask people to go through when proposing new features:
&gt;&gt;
http://wiki.whatwg.org/wiki/FAQ#Is_there_a_process_for_adding_new_features_t
o_the_spec.3F

In my case, unfortunately, I don't have anyone paying me to participate so
my own personal financial requirements don't allow me to perform the
exhaustive research you are requesting. By requiring that you effectively
disenfranchise all those like myself who are not paid to participate and
thus have only a limited amount of time to be involved. 

That is an effect of your process; was that intended?  

Anyway, so please consider me to be one of the "authors and implementors"
your process refers to.

&gt;&gt; Why isn't the current form submission mechanism, with a redirect on the
server-side, not acceptable? 

Two main reasons:

1.) Use cases where the person writing the form is not technically in
control of the server and where Javascript is unavailable and the percentage
of places where these use-cases exist are growing rapidly because of social
media and content management systems.

2.) Performance best practices frown on it: 
http://developer.yahoo.com/performance/rules.html#redirects 

Snell&gt;&gt;&gt;&gt; FYI... I've put together a quick prototype example [1] of a html
form 
Snell&gt;&gt;&gt;&gt; using a URI Template [2].  The processing of the template is
performed 
Snell&gt;&gt;&gt;&gt; in the onsubmit event of the form.
Ian&gt;&gt; This is great -- why is it not enough?

I keep saying "where Javascript is unavailable and the percentage of places
where these use-cases exist are growing rapidly because of social media and
content management systems" but you are not acknowledging. Are you
implicitly discrediting that as a concern, or have you missed those comments
of mine?

&gt;&gt; Because it adds significant complexity to the browser platform, without 
really adding new functionality.

Significant? Srsly?  Seems to me we are talking about simply a URI Template
variable substitution.  Since it is *easy* to do in Javascript how can it be
adding "significant complexity" to the browser platform?  It seems your two
points are in direct contradiction; how are they not?

So, may I ask, who are the representatives of the browser platforms who
could give their feedback on this matter?

&gt;&gt; Why would scripts preclude accessibility? 

See Al Gilman excellent response.

&gt;&gt; And are you really expecting search engines to fill in forms that would
use templates? 

YES!!  Why would they not, if they could?

&gt;&gt; Something that can't be done without the feature. 

When the use-case is no access to the server and only Javascript then this
use-case can't be done.

When the members of the web team say NO REDIRECTs on performance grounds, it
can't be done.

&gt;&gt; Something that allows authors to write applications that make users say
"wow!", which they can't do today. 

URI Templates in forms would make core devs on content management systems
and frameworks go WOW once they realized what it can empower.  I'm
soliciting such feedback on Twitter:
http://twitter.com/mikeschinkel/status/985784895

&gt;&gt; There are many many gaps, why is this an important one to fill?

For the reasons given and because it makes URL templates declarative.

&gt;&gt; TBL did exactly what we're suggesting you do -- he wrote his own spec, 
wrote his own client, and wrote his own server, and put it out there. He 
didn't wait for a Standards Process to give him a stamp of approval.

And TBL worked for CERN, an organization that allowed lots of time to pursue
such interests. I instead am a working web developer and can't afford to go
off on such paths, I just need things to work better for which it has become
clear this standards process is a huge impediment.

&gt;&gt; Why not just provide links, or use a redirect?

Reasons already given. 

&gt;&gt; What if the URI you have to compute is more complicated than just
substitution, like some parts being dependent on others, or needing
calculation, or whatnot?

HTML doesn't any never will handle 100% of use-cases; that's actually one of
the things that is good about it; it forces people to deal with constraints.
Unfortunately the constraints currently in place cause web developers to
frequently create URLs that machines can easily understand but that are
foreign to most humans. Adding URI Templates would loosen those contraints
and give web developers the ability to create human friendly URLs in a more
robust manner (i.e. not requiring Javascript.)

URI Templates would be no different than HTML, i.e. it would have
constraints. Handing 90% is 90% better than we have right now.

&gt;&gt; What if the user types something that isn't supported by weather.com,
like 
the string "x"?

HTTP handles that elegantly; 404. 

&gt;&gt; Also, why can't you just do:
&gt;&gt;   &lt;form method="get" action="http://www.weather.com/search/enhanced"&gt;
&gt;&gt;    &lt;input type="text" name="where"/&gt;
&gt;&gt;    &lt;input type="submit" value="Check Weather!"&gt;
&gt;&gt;   &lt;/form&gt;

So obvious it hurts: Because I don't current control Weather's server and
they have no http://www.weather.com/search/enhanced URL.

&gt;&gt; I don't really follow what you're saying here. I see no practical
difference between URI templates and normal forms in terms of Google
crawling the results.

"Normal forms?"  Google is not going to try to parse out javascript code
that is custom to a website nor "user added" form attributes.

Also, adding a template attribute to a form element w/o it being in spec
causes it to fail validation; I thought validation was a holy grail but you
are instead suggesting we write HTML that doesn't validate?  Why only argue
for validation when it is convenient?

&gt;&gt; I don't think anyone is denying that it is useful in certain cases. The
question is whether it will be used widely enough to make it worth it.

What's more important; critical in 5% of cases or nice-to-have in 50% of
cases?


-Mike Schinkel 
http://mikeschinkel.com



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11435<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-11-04 18:24:40<br>
Subject:Re: [rest-discuss] RE: [whatwg] Proposing URI Templates for WebForms 2.0<br>
Message:<br><br>
<pre>
On Nov 1, 2008, at 11:38 AM, Erik Wilde wrote:

&gt; that is a circular argument. and in many cases, if you are building  
&gt; a RESTful service primarily intended as an API, then URI design for  
&gt; it will look very different from form-encoded data.
&gt;
&gt; i think the main question is whether HTML should look beyond  
&gt; services designed specifically for backing forms, or not. it  
&gt; certainly could without harming backwards-compatibility, and one  
&gt; could also argue that this would actually promote the design and  
&gt; implementation of services with more well-designed RESTful APIs than  
&gt; form-encoded data. seen this way, such a feature would be a pretty  
&gt; smart way of slowly improving the state of how services are provided  
&gt; on the web.


Not sure how you came to that conclusion, but I find that argument a  
stretch.

If I understand correctly, Mike's argument for supporting templates is  
to avoid requiring JS support. So, a RESTful server that needs to be  
consumed by a browser without requiring JS support has just one option  
- that is to use a media type that can be recognized by browsers,  
which is HTML. That is, it uses (X)HTML representations, supports  
query parameters and forms. The so-called API server therefore becomes  
a web server.

I can understand the merits of URI template support for HTML on its  
own, but I don't think it is correct to argue that such a support will  
make it easy to consume APIs.

Sincerely,
Subbu
---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11436<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-11-05 07:45:54<br>
Subject:RE: [rest-discuss] RE: [whatwg] Proposing URI Templates for WebForms 2.0<br>
Message:<br><br>
<pre>&gt;&gt; Erik Wilde wrote:
...i don't think we should make that distinction of servers; on the
contrary, i think the web should take every step possible into a direction
where that perceived difference between "API servers" and "web servers"
disappears, and where technologies that somehow create that distinction
(such as HTML forms) are fixed (with reasonable transition strategies in
place).

Well said; I concur with this analysis and this goal completely. Adding URI
Template support to HTML forms reduces the disparity between what can be
done with a "website" and what must be done with an "RESTful API server" per
se. 

There ideally should be as little technical difference between the two where
the client is given the option to view it as it may. Without URI Template
support HTML forms will continue to be 2nd class citizen when compared to
other solutions for interacting with REST-based web services.

While this hadn't been part of my original reason for request URI Template
support in HTML forms it's now clear it is probably a more important
justification than my original. Thanks Erik.

-Mike Schinkel 
http://mikeschinkel.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11437<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-11-05 17:05:31<br>
Subject:Re: [rest-discuss] RE: [whatwg] Proposing URI Templates for WebForms 2.0<br>
Message:<br><br>
<pre>Eric and Mike,

I am not convinced that URI templates will reduce that disparity. The  
point I was trying to make yesterday was that, when these servers  
become the same, the server will be using a media type like HTML, and  
hence will have to follow the same techniques that HTML clients follow  
*today*. So, IMHO, the argument for templates should be discussed on  
its own merits for HTML.

Subbu

On Nov 4, 2008, at 11:45 PM, Mike Schinkel wrote:

&gt; Well said; I concur with this analysis and this goal completely.  
&gt; Adding URI
&gt; Template support to HTML forms reduces the disparity between what  
&gt; can be
&gt; done with a "website" and what must be done with an "RESTful API  
&gt; server" per
&gt; se.
&gt;
&gt; There ideally should be as little technical difference between the  
&gt; two where
&gt; the client is given the option to view it as it may. Without URI  
&gt; Template
&gt; support HTML forms will continue to be 2nd class citizen when  
&gt; compared to
&gt; other solutions for interacting with REST-based web services.
&gt;
&gt; While this hadn't been part of my original reason for request URI  
&gt; Template
&gt; support in HTML forms it's now clear it is probably a more important
&gt; justification than my original. Thanks Erik.

---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11438<br>
Sender:"Mike Schinkel" &lt;mikeschinkel@...&gt;<br>
Post Date/Time:2008-11-05 21:25:59<br>
Subject:RE: [rest-discuss] RE: [whatwg] Proposing URI Templates for WebForms 2.0<br>
Message:<br><br>
<pre>Subbu Allamaraju wrote:
&gt;&gt; the server will be using a media type like HTML, and hence will have to
follow the same techniques that HTML clients follow *today*. 

I must be missing something but I don't see how that's a problem. Why can't
HTML be used for a web service representation?


-Mike Schinkel 
http://mikeschinkel.com



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11439<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-11-07 12:42:04<br>
Subject:REST Server API test harness?<br>
Message:<br><br>
<pre>Hi,

I had an idea a while ago. As I'm writing a REST enabler toolkit, and as i know others do exist too, it would be of great help to have a test harness to ensure valid (http / webarch) behavior.

What I'm thinking of is a bunch of specifications for various areas to be implemented using an http or rest toolit, with an automated client checking for accurate responses.

For example, the following would be a specification:

Generic resources
=============
A generic resource /customer({id}) is exposed as an xml represetnation, a json representation and an html representation. Content-type negotiation is supported on such resource. Format-specific URIs exist at /customer({id}).html, /customer({id}).json and /customer({id}).html


Acceptance criterias
- A request to /customer(22) with Accept: application/xml;q=0.9,application/json triggers a 200 with Content-Type: application/json and Content-Location: /customer(22).json
- A request to /customer(22) with Accept: */* triggers a 300 Multiple representations
- A request to /customer(22).html with Accept: text/html triggers a 200
- A request to /customer(22).html with Accept: application/json triggers xxx


I'm building integration tests around my API that follow such a pattern, but having a common test suite for any API that has an implementation of such test harness would be invaluable.

Is there such a harness and I missed it? Would anyone be interested in working on such harness?

Seb</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11440<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-11-07 14:34:31<br>
Subject:Re: [rest-discuss] REST Server API test harness?<br>
Message:<br><br>
<pre>I'm not aware of any, but from your description, it sounds a HTTP test  
harness, not REST.

- Steve

--------------
Steve G. Bjorg
http://wiki.mindtouch.com
http://twitter.com/bjorg

On Nov 7, 2008, at 4:42 AM, Sebastien Lambla wrote:

&gt;
&gt; Hi,
&gt;
&gt; I had an idea a while ago. As I'm writing a REST enabler toolkit,  
&gt; and as i know others do exist too, it would be of great help to have  
&gt; a test harness to ensure valid (http / webarch) behavior.
&gt;
&gt; What I'm thinking of is a bunch of specifications for various areas  
&gt; to be implemented using an http or rest toolit, with an automated  
&gt; client checking for accurate responses.
&gt;
&gt; For example, the following would be a specification:
&gt;
&gt; Generic resources
&gt; =============
&gt; A generic resource /customer({id}) is exposed as an xml  
&gt; represetnation, a json representation and an html representation.  
&gt; Content-type negotiation is supported on such resource. Format- 
&gt; specific URIs exist at /customer({id}).html, /customer({id}).json  
&gt; and /customer({id}).html
&gt;
&gt;
&gt; Acceptance criterias
&gt; - A request to /customer(22) with Accept: application/ 
&gt; xml;q=0.9,application/json triggers a 200 with Content-Type:  
&gt; application/json and Content-Location: /customer(22).json
&gt; - A request to /customer(22) with Accept: */* triggers a 300  
&gt; Multiple representations
&gt; - A request to /customer(22).html with Accept: text/html triggers a  
&gt; 200
&gt; - A request to /customer(22).html with Accept: application/json  
&gt; triggers xxx
&gt;
&gt;
&gt; I'm building integration tests around my API that follow such a  
&gt; pattern, but having a common test suite for any API that has an  
&gt; implementation of such test harness would be invaluable.
&gt;
&gt; Is there such a harness and I missed it? Would anyone be interested  
&gt; in working on such harness?
&gt;
&gt; Seb
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11441<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-11-07 14:59:51<br>
Subject:Re: [rest-discuss] REST Server API test harness?<br>
Message:<br><br>
<pre>Hence my description of "a test harness to ensure valid http / webarch behavior".

The group of specifications would hopefully be a REST architecture, the harness tests the correct http implementation when using a resource-oriented framework (commonly called, be it that people agree with the usage or not, a REST framework).

Seb


From: Steve Bjorg 
Sent: Friday, November 07, 2008 2:34 PM
To: Sebastien Lambla 
Cc: rest-discuss@yahoogroups.com 
Subject: Re: [rest-discuss] REST Server API test harness?


I'm not aware of any, but from your description, it sounds a HTTP test harness, not REST.


- Steve


--------------
Steve G. Bjorg
http://wiki.mindtouch.com
http://twitter.com/bjorg


On Nov 7, 2008, at 4:42 AM, Sebastien Lambla wrote:




  Hi,

  I had an idea a while ago. As I'm writing a REST enabler toolkit, and as i know others do exist too, it would be of great help to have a test harness to ensure valid (http / webarch) behavior.

  What I'm thinking of is a bunch of specifications for various areas to be implemented using an http or rest toolit, with an automated client checking for accurate responses.

  For example, the following would be a specification:

  Generic resources
  =============
  A generic resource /customer({id}) is exposed as an xml represetnation, a json representation and an html representation. Content-type negotiation is supported on such resource. Format-specific URIs exist at /customer({id}).html, /customer({id}).json and /customer({id}).html


  Acceptance criterias
  - A request to /customer(22) with Accept: application/xml;q=0.9,application/json triggers a 200 with Content-Type: application/json and Content-Location: /customer(22).json
  - A request to /customer(22) with Accept: */* triggers a 300 Multiple representations
  - A request to /customer(22).html with Accept: text/html triggers a 200
  - A request to /customer(22).html with Accept: application/json triggers xxx


  I'm building integration tests around my API that follow such a pattern, but having a common test suite for any API that has an implementation of such test harness would be invaluable.

  Is there such a harness and I missed it? Would anyone be interested in working on such harness?

  Seb



 </pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11442<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-11-07 15:14:40<br>
Subject:Re: [rest-discuss] REST Server API test harness?<br>
Message:<br><br>
<pre>If you plan on doing REST over HTTP, may I recommend WOA as a term?   
It's defined as WOA = SOA + WWW + REST.  Removes the ambiguity when  
talking about either an architectural style or an application of it to  
a specific environment.

- Steve

--------------
Steve G. Bjorg
http://wiki.mindtouch.com
http://twitter.com/bjorg

On Nov 7, 2008, at 6:59 AM, Sebastien Lambla wrote:

&gt; Hence my description of "a test harness to ensure valid http /  
&gt; webarch behavior".
&gt;
&gt; The group of specifications would hopefully be a REST architecture,  
&gt; the harness tests the correct http implementation when using a  
&gt; resource-oriented framework (commonly called, be it that people  
&gt; agree with the usage or not, a REST framework).
&gt;
&gt; Seb
&gt;
&gt; From: Steve Bjorg
&gt; Sent: Friday, November 07, 2008 2:34 PM
&gt; To: Sebastien Lambla
&gt; Cc: rest-discuss@yahoogroups.com
&gt; Subject: Re: [rest-discuss] REST Server API test harness?
&gt;
&gt; I'm not aware of any, but from your description, it sounds a HTTP  
&gt; test harness, not REST.
&gt;
&gt; - Steve
&gt;
&gt; --------------
&gt; Steve G. Bjorg
&gt; http://wiki.mindtouch.com
&gt; http://twitter.com/bjorg
&gt;
&gt; On Nov 7, 2008, at 4:42 AM, Sebastien Lambla wrote:
&gt;
&gt;&gt;
&gt;&gt; Hi,
&gt;&gt;
&gt;&gt; I had an idea a while ago. As I'm writing a REST enabler toolkit,  
&gt;&gt; and as i know others do exist too, it would be of great help to  
&gt;&gt; have a test harness to ensure valid (http / webarch) behavior.
&gt;&gt;
&gt;&gt; What I'm thinking of is a bunch of specifications for various areas  
&gt;&gt; to be implemented using an http or rest toolit, with an automated  
&gt;&gt; client checking for accurate responses.
&gt;&gt;
&gt;&gt; For example, the following would be a specification:
&gt;&gt;
&gt;&gt; Generic resources
&gt;&gt; =============
&gt;&gt; A generic resource /customer({id}) is exposed as an xml  
&gt;&gt; represetnation, a json representation and an html representation.  
&gt;&gt; Content-type negotiation is supported on such resource. Format- 
&gt;&gt; specific URIs exist at /customer({id}).html, /customer({id}).json  
&gt;&gt; and /customer({id}).html
&gt;&gt;
&gt;&gt;
&gt;&gt; Acceptance criterias
&gt;&gt; - A request to /customer(22) with Accept: application/ 
&gt;&gt; xml;q=0.9,application/json triggers a 200 with Content-Type:  
&gt;&gt; application/json and Content-Location: /customer(22).json
&gt;&gt; - A request to /customer(22) with Accept: */* triggers a 300  
&gt;&gt; Multiple representations
&gt;&gt; - A request to /customer(22).html with Accept: text/html triggers a  
&gt;&gt; 200
&gt;&gt; - A request to /customer(22).html with Accept: application/json  
&gt;&gt; triggers xxx
&gt;&gt;
&gt;&gt;
&gt;&gt; I'm building integration tests around my API that follow such a  
&gt;&gt; pattern, but having a common test suite for any API that has an  
&gt;&gt; implementation of such test harness would be invaluable.
&gt;&gt;
&gt;&gt; Is there such a harness and I missed it? Would anyone be interested  
&gt;&gt; in working on such harness?
&gt;&gt;
&gt;&gt; Seb
&gt;&gt;
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11443<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-11-07 15:25:13<br>
Subject:Re: [rest-discuss] REST Server API test harness?<br>
Message:<br><br>
<pre>I agree with Steve.

A test harness for REST-over-HTTP could be valuable though; however it
can't be ignorant of media-types. How can such a test harness assess
HATEOAS without knowledge of the media-type exchanged? Without
knowledge of HATEOAS, the test harness is unable to traverse the links
between steady states.

Some problems come to mind. In order to assess REST-over-HTTP,
resource state changes must be made. In many, perhaps most, test
subjects this will be either impossible (due to access control
restrictions) or undesirable (filling a site with dummy data). The
Code-on-Demand constraint further complicates the testability of
subjects, as it reduces visibility.

Given the necessity to have knowledge of many media-types, I suspect
this would not be a trivial development. Good idea though (my
http-headers-status diagram grew out of just such a test suite,
although that was very application-specific).

Alan

On Fri, Nov 7, 2008 at 2:34 PM, Steve Bjorg &lt;steveb@...&gt; wrote:
&gt; I'm not aware of any, but from your description, it sounds a HTTP test
&gt; harness, not REST.
&gt; - Steve
&gt; --------------
&gt; Steve G. Bjorg
&gt; http://wiki.mindtouch.com
&gt; http://twitter.com/bjorg
&gt; On Nov 7, 2008, at 4:42 AM, Sebastien Lambla wrote:
&gt;
&gt; Hi,
&gt;
&gt; I had an idea a while ago. As I'm writing a REST enabler toolkit, and as i
&gt; know others do exist too, it would be of great help to have a test harness
&gt; to ensure valid (http / webarch) behavior.
&gt;
&gt; What I'm thinking of is a bunch of specifications for various areas to be
&gt; implemented using an http or rest toolit, with an automated client checking
&gt; for accurate responses.
&gt;
&gt; For example, the following would be a specification:
&gt;
&gt; Generic resources
&gt; =============
&gt; A generic resource /customer({id}) is exposed as an xml represetnation, a
&gt; json representation and an html representation. Content-type negotiation is
&gt; supported on such resource. Format-specific URIs exist at
&gt; /customer({id}).html, /customer({id}).json and /customer({id}).html
&gt;
&gt;
&gt; Acceptance criterias
&gt; - A request to /customer(22) with Accept:
&gt; application/xml;q=0.9,application/json triggers a 200 with Content-Type:
&gt; application/json and Content-Location: /customer(22).json
&gt; - A request to /customer(22) with Accept: */* triggers a 300 Multiple
&gt; representations
&gt; - A request to /customer(22).html with Accept: text/html triggers a 200
&gt; - A request to /customer(22).html with Accept: application/json triggers xxx
&gt;
&gt;
&gt; I'm building integration tests around my API that follow such a pattern, but
&gt; having a common test suite for any API that has an implementation of such
&gt; test harness would be invaluable.
&gt;
&gt; Is there such a harness and I missed it? Would anyone be interested in
&gt; working on such harness?
&gt;
&gt; Seb
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11444<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-11-07 15:46:52<br>
Subject:Re: [rest-discuss] REST Server API test harness?<br>
Message:<br><br>
<pre>Alan,

I would imagine there is a reasonable good test surface for HTTP even  
without knowledge of content-types.  Your diagram is a great resource  
for this! (btw, did you ever get help on converting it to SVG?)

For instance, OPTIONS could be used to retrieve the list of supported  
HTTP methods.  If GET is among them, check if a ETag response header  
is present.  If so, does the server respond with 204 No Content when a  
matching If-None-Match request header is present.  Similarly, if PUT  
is supported, try If-Match header, and so forth.

Although, none of this has anything to do with REST, such a litmus  
test would be very relevant to WOA implementers.

- Steve

--------------
Steve G. Bjorg
http://wiki.mindtouch.com
http://twitter.com/bjorg

On Nov 7, 2008, at 7:25 AM, Alan Dean wrote:

&gt; I agree with Steve.
&gt;
&gt; A test harness for REST-over-HTTP could be valuable though; however it
&gt; can't be ignorant of media-types. How can such a test harness assess
&gt; HATEOAS without knowledge of the media-type exchanged? Without
&gt; knowledge of HATEOAS, the test harness is unable to traverse the links
&gt; between steady states.
&gt;
&gt; Some problems come to mind. In order to assess REST-over-HTTP,
&gt; resource state changes must be made. In many, perhaps most, test
&gt; subjects this will be either impossible (due to access control
&gt; restrictions) or undesirable (filling a site with dummy data). The
&gt; Code-on-Demand constraint further complicates the testability of
&gt; subjects, as it reduces visibility.
&gt;
&gt; Given the necessity to have knowledge of many media-types, I suspect
&gt; this would not be a trivial development. Good idea though (my
&gt; http-headers-status diagram grew out of just such a test suite,
&gt; although that was very application-specific).
&gt;
&gt; Alan
&gt;
&gt; On Fri, Nov 7, 2008 at 2:34 PM, Steve Bjorg &lt;steveb@...&gt;  
&gt; wrote:
&gt;&gt; I'm not aware of any, but from your description, it sounds a HTTP  
&gt;&gt; test
&gt;&gt; harness, not REST.
&gt;&gt; - Steve
&gt;&gt; --------------
&gt;&gt; Steve G. Bjorg
&gt;&gt; http://wiki.mindtouch.com
&gt;&gt; http://twitter.com/bjorg
&gt;&gt; On Nov 7, 2008, at 4:42 AM, Sebastien Lambla wrote:
&gt;&gt;
&gt;&gt; Hi,
&gt;&gt;
&gt;&gt; I had an idea a while ago. As I'm writing a REST enabler toolkit,  
&gt;&gt; and as i
&gt;&gt; know others do exist too, it would be of great help to have a test  
&gt;&gt; harness
&gt;&gt; to ensure valid (http / webarch) behavior.
&gt;&gt;
&gt;&gt; What I'm thinking of is a bunch of specifications for various areas  
&gt;&gt; to be
&gt;&gt; implemented using an http or rest toolit, with an automated client  
&gt;&gt; checking
&gt;&gt; for accurate responses.
&gt;&gt;
&gt;&gt; For example, the following would be a specification:
&gt;&gt;
&gt;&gt; Generic resources
&gt;&gt; =============
&gt;&gt; A generic resource /customer({id}) is exposed as an xml  
&gt;&gt; represetnation, a
&gt;&gt; json representation and an html representation. Content-type  
&gt;&gt; negotiation is
&gt;&gt; supported on such resource. Format-specific URIs exist at
&gt;&gt; /customer({id}).html, /customer({id}).json and /customer({id}).html
&gt;&gt;
&gt;&gt;
&gt;&gt; Acceptance criterias
&gt;&gt; - A request to /customer(22) with Accept:
&gt;&gt; application/xml;q=0.9,application/json triggers a 200 with Content- 
&gt;&gt; Type:
&gt;&gt; application/json and Content-Location: /customer(22).json
&gt;&gt; - A request to /customer(22) with Accept: */* triggers a 300 Multiple
&gt;&gt; representations
&gt;&gt; - A request to /customer(22).html with Accept: text/html triggers a  
&gt;&gt; 200
&gt;&gt; - A request to /customer(22).html with Accept: application/json  
&gt;&gt; triggers xxx
&gt;&gt;
&gt;&gt;
&gt;&gt; I'm building integration tests around my API that follow such a  
&gt;&gt; pattern, but
&gt;&gt; having a common test suite for any API that has an implementation  
&gt;&gt; of such
&gt;&gt; test harness would be invaluable.
&gt;&gt;
&gt;&gt; Is there such a harness and I missed it? Would anyone be interested  
&gt;&gt; in
&gt;&gt; working on such harness?
&gt;&gt;
&gt;&gt; Seb
&gt;&gt;
&gt;&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11445<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-11-07 16:06:54<br>
Subject:Re: [rest-discuss] REST Server API test harness?<br>
Message:<br><br>
<pre>Alan,

your diagram certainly is one of the reasons that leads me to believe that 
such a test harness / architecture specification would be valuable. It helps 
implementers clarify and perfect their implementations.

I absolutely second your opinion on content-types, but I believe that, for 
the sake of implementing such a test harness, a simple parser on the test 
harness and html-producing on the server could be used.

I do not argue for a test harness to prove the Restfulness of a platform, 
but one to validate scenarios that are needed as a pre-requirement to 
implement REST: conneg, authentication, correct usage of status codes, 
caching, correct handling of error scenarios such as the ones highlighted in 
your diagram.

Steve,

very good scenario as well. There are quite a few around those areas that 
would be an invaluable resource to implement an http server correctly. I do 
believe that such a blueprint of a REST architecture to be implemented by 
framework implementers could serve the REST community as well as the 
implementers.

I do prefer Resource oriented architecture to WOA, but I can see a semantic 
debate coming up that lack of time won't let me entertain just yet.

Seb

--------------------------------------------------
From: "Alan Dean" &lt;alan.dean@...&gt;
Sent: Friday, November 07, 2008 3:25 PM
To: "Steve Bjorg" &lt;steveb@...&gt;
Cc: "Sebastien Lambla" &lt;seb@...&gt;; &lt;rest-discuss@yahoogroups.com&gt;
Subject: Re: [rest-discuss] REST Server API test harness?

&gt; I agree with Steve.
&gt;
&gt; A test harness for REST-over-HTTP could be valuable though; however it
&gt; can't be ignorant of media-types. How can such a test harness assess
&gt; HATEOAS without knowledge of the media-type exchanged? Without
&gt; knowledge of HATEOAS, the test harness is unable to traverse the links
&gt; between steady states.
&gt;
&gt; Some problems come to mind. In order to assess REST-over-HTTP,
&gt; resource state changes must be made. In many, perhaps most, test
&gt; subjects this will be either impossible (due to access control
&gt; restrictions) or undesirable (filling a site with dummy data). The
&gt; Code-on-Demand constraint further complicates the testability of
&gt; subjects, as it reduces visibility.
&gt;
&gt; Given the necessity to have knowledge of many media-types, I suspect
&gt; this would not be a trivial development. Good idea though (my
&gt; http-headers-status diagram grew out of just such a test suite,
&gt; although that was very application-specific).
&gt;
&gt; Alan
&gt;
&gt; On Fri, Nov 7, 2008 at 2:34 PM, Steve Bjorg &lt;steveb@...&gt; wrote:
&gt;&gt; I'm not aware of any, but from your description, it sounds a HTTP test
&gt;&gt; harness, not REST.
&gt;&gt; - Steve
&gt;&gt; --------------
&gt;&gt; Steve G. Bjorg
&gt;&gt; http://wiki.mindtouch.com
&gt;&gt; http://twitter.com/bjorg
&gt;&gt; On Nov 7, 2008, at 4:42 AM, Sebastien Lambla wrote:
&gt;&gt;
&gt;&gt; Hi,
&gt;&gt;
&gt;&gt; I had an idea a while ago. As I'm writing a REST enabler toolkit, and as 
&gt;&gt; i
&gt;&gt; know others do exist too, it would be of great help to have a test 
&gt;&gt; harness
&gt;&gt; to ensure valid (http / webarch) behavior.
&gt;&gt;
&gt;&gt; What I'm thinking of is a bunch of specifications for various areas to be
&gt;&gt; implemented using an http or rest toolit, with an automated client 
&gt;&gt; checking
&gt;&gt; for accurate responses.
&gt;&gt;
&gt;&gt; For example, the following would be a specification:
&gt;&gt;
&gt;&gt; Generic resources
&gt;&gt; =============
&gt;&gt; A generic resource /customer({id}) is exposed as an xml represetnation, a
&gt;&gt; json representation and an html representation. Content-type negotiation 
&gt;&gt; is
&gt;&gt; supported on such resource. Format-specific URIs exist at
&gt;&gt; /customer({id}).html, /customer({id}).json and /customer({id}).html
&gt;&gt;
&gt;&gt;
&gt;&gt; Acceptance criterias
&gt;&gt; - A request to /customer(22) with Accept:
&gt;&gt; application/xml;q=0.9,application/json triggers a 200 with Content-Type:
&gt;&gt; application/json and Content-Location: /customer(22).json
&gt;&gt; - A request to /customer(22) with Accept: */* triggers a 300 Multiple
&gt;&gt; representations
&gt;&gt; - A request to /customer(22).html with Accept: text/html triggers a 200
&gt;&gt; - A request to /customer(22).html with Accept: application/json triggers 
&gt;&gt; xxx
&gt;&gt;
&gt;&gt;
&gt;&gt; I'm building integration tests around my API that follow such a pattern, 
&gt;&gt; but
&gt;&gt; having a common test suite for any API that has an implementation of such
&gt;&gt; test harness would be invaluable.
&gt;&gt;
&gt;&gt; Is there such a harness and I missed it? Would anyone be interested in
&gt;&gt; working on such harness?
&gt;&gt;
&gt;&gt; Seb
&gt;&gt;
&gt;&gt; 
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11446<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-11-07 16:13:08<br>
Subject:Re: [rest-discuss] REST Server API test harness?<br>
Message:<br><br>
<pre>I agree: a generic HTTP test harness would have value too, aside from REST.

A couple of people tried to help out with the conversion to SVG but to
no avail yet. What I really need is a way to automate the process, not
do it manually. That, or MS fix up the support for SVG in Visio ...

Alan

On Fri, Nov 7, 2008 at 3:46 PM, Steve Bjorg &lt;steveb@...&gt; wrote:
&gt; Alan,
&gt;
&gt; I would imagine there is a reasonable good test surface for HTTP even
&gt; without knowledge of content-types.  Your diagram is a great resource for
&gt; this! (btw, did you ever get help on converting it to SVG?)
&gt;
&gt; For instance, OPTIONS could be used to retrieve the list of supported HTTP
&gt; methods.  If GET is among them, check if a ETag response header is present.
&gt;  If so, does the server respond with 204 No Content when a matching
&gt; If-None-Match request header is present.  Similarly, if PUT is supported,
&gt; try If-Match header, and so forth.
&gt;
&gt; Although, none of this has anything to do with REST, such a litmus test
&gt; would be very relevant to WOA implementers.
&gt;
&gt; - Steve
&gt;
&gt; --------------
&gt; Steve G. Bjorg
&gt; http://wiki.mindtouch.com
&gt; http://twitter.com/bjorg
&gt;
&gt; On Nov 7, 2008, at 7:25 AM, Alan Dean wrote:
&gt;
&gt;&gt; I agree with Steve.
&gt;&gt;
&gt;&gt; A test harness for REST-over-HTTP could be valuable though; however it
&gt;&gt; can't be ignorant of media-types. How can such a test harness assess
&gt;&gt; HATEOAS without knowledge of the media-type exchanged? Without
&gt;&gt; knowledge of HATEOAS, the test harness is unable to traverse the links
&gt;&gt; between steady states.
&gt;&gt;
&gt;&gt; Some problems come to mind. In order to assess REST-over-HTTP,
&gt;&gt; resource state changes must be made. In many, perhaps most, test
&gt;&gt; subjects this will be either impossible (due to access control
&gt;&gt; restrictions) or undesirable (filling a site with dummy data). The
&gt;&gt; Code-on-Demand constraint further complicates the testability of
&gt;&gt; subjects, as it reduces visibility.
&gt;&gt;
&gt;&gt; Given the necessity to have knowledge of many media-types, I suspect
&gt;&gt; this would not be a trivial development. Good idea though (my
&gt;&gt; http-headers-status diagram grew out of just such a test suite,
&gt;&gt; although that was very application-specific).
&gt;&gt;
&gt;&gt; Alan
&gt;&gt;
&gt;&gt; On Fri, Nov 7, 2008 at 2:34 PM, Steve Bjorg &lt;steveb@...&gt; wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; I'm not aware of any, but from your description, it sounds a HTTP test
&gt;&gt;&gt; harness, not REST.
&gt;&gt;&gt; - Steve
&gt;&gt;&gt; --------------
&gt;&gt;&gt; Steve G. Bjorg
&gt;&gt;&gt; http://wiki.mindtouch.com
&gt;&gt;&gt; http://twitter.com/bjorg
&gt;&gt;&gt; On Nov 7, 2008, at 4:42 AM, Sebastien Lambla wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; Hi,
&gt;&gt;&gt;
&gt;&gt;&gt; I had an idea a while ago. As I'm writing a REST enabler toolkit, and as
&gt;&gt;&gt; i
&gt;&gt;&gt; know others do exist too, it would be of great help to have a test
&gt;&gt;&gt; harness
&gt;&gt;&gt; to ensure valid (http / webarch) behavior.
&gt;&gt;&gt;
&gt;&gt;&gt; What I'm thinking of is a bunch of specifications for various areas to be
&gt;&gt;&gt; implemented using an http or rest toolit, with an automated client
&gt;&gt;&gt; checking
&gt;&gt;&gt; for accurate responses.
&gt;&gt;&gt;
&gt;&gt;&gt; For example, the following would be a specification:
&gt;&gt;&gt;
&gt;&gt;&gt; Generic resources
&gt;&gt;&gt; =============
&gt;&gt;&gt; A generic resource /customer({id}) is exposed as an xml represetnation, a
&gt;&gt;&gt; json representation and an html representation. Content-type negotiation
&gt;&gt;&gt; is
&gt;&gt;&gt; supported on such resource. Format-specific URIs exist at
&gt;&gt;&gt; /customer({id}).html, /customer({id}).json and /customer({id}).html
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Acceptance criterias
&gt;&gt;&gt; - A request to /customer(22) with Accept:
&gt;&gt;&gt; application/xml;q=0.9,application/json triggers a 200 with Content-Type:
&gt;&gt;&gt; application/json and Content-Location: /customer(22).json
&gt;&gt;&gt; - A request to /customer(22) with Accept: */* triggers a 300 Multiple
&gt;&gt;&gt; representations
&gt;&gt;&gt; - A request to /customer(22).html with Accept: text/html triggers a 200
&gt;&gt;&gt; - A request to /customer(22).html with Accept: application/json triggers
&gt;&gt;&gt; xxx
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; I'm building integration tests around my API that follow such a pattern,
&gt;&gt;&gt; but
&gt;&gt;&gt; having a common test suite for any API that has an implementation of such
&gt;&gt;&gt; test harness would be invaluable.
&gt;&gt;&gt;
&gt;&gt;&gt; Is there such a harness and I missed it? Would anyone be interested in
&gt;&gt;&gt; working on such harness?
&gt;&gt;&gt;
&gt;&gt;&gt; Seb
&gt;&gt;&gt;
&gt;&gt;&gt; 
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11447<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-11-08 06:09:00<br>
Subject:"Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>All,

Here is the presentation [1] that I will be giving at DDD7 [2] in two 
weeks time and then taking on the road to the UK User Community (I've 
already booked at MSR in Cambridge). Any feedback is welcome.

Regards,
Alan Dean

[1] http://tinyurl.com/ddd7-rest
[2] http://www.developerday.co.uk/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11448<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-11-08 08:32:46<br>
Subject:Re: [rest-discuss] REST Server API test harness?<br>
Message:<br><br>
<pre>On 07.11.2008, at 16:14, Steve Bjorg wrote:

&gt;
&gt; If you plan on doing REST over HTTP, may I recommend WOA as a term?   
&gt; It's defined as WOA = SOA + WWW + REST.  Removes the ambiguity when  
&gt; talking about either an architectural style or an application of it  
&gt; to a specific environment.
&gt;

I positively hate the term "WOA"; IMO it's the beginning of turning  
something well-defined into the same meaningless pseudo-science we  
have around "SOA".

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/

&gt; - Steve
&gt;
&gt; --------------
&gt; Steve G. Bjorg
&gt; http://wiki.mindtouch.com
&gt; http://twitter.com/bjorg


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11449<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-11-08 10:52:02<br>
Subject:Re: [rest-discuss] REST Server API test harness?<br>
Message:<br><br>
<pre>What alternative do you propose?  I've heard one alternative so far,  
which was resource-oriented architecture.

- Steve

--------------
Steve G. Bjorg
http://wiki.mindtouch.com
http://twitter.com/bjorg

On Nov 8, 2008, at 12:32 AM, Stefan Tilkov wrote:

&gt; On 07.11.2008, at 16:14, Steve Bjorg wrote:
&gt;
&gt; &gt;
&gt; &gt; If you plan on doing REST over HTTP, may I recommend WOA as a term?
&gt; &gt; It's defined as WOA = SOA + WWW + REST. Removes the ambiguity when
&gt; &gt; talking about either an architectural style or an application of it
&gt; &gt; to a specific environment.
&gt; &gt;
&gt;
&gt; I positively hate the term "WOA"; IMO it's the beginning of turning
&gt; something well-defined into the same meaningless pseudo-science we
&gt; have around "SOA".
&gt;
&gt; Stefan
&gt; --
&gt; Stefan Tilkov, http://www.innoq.com/blog/st/
&gt;
&gt; &gt; - Steve
&gt; &gt;
&gt; &gt; --------------
&gt; &gt; Steve G. Bjorg
&gt; &gt; http://wiki.mindtouch.com
&gt; &gt; http://twitter.com/bjorg
&gt;
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11450<br>
Sender:Jim Webber &lt;jim@...&gt;<br>
Post Date/Time:2008-11-08 11:19:27<br>
Subject:Re: [rest-discuss] REST Server API test harness?<br>
Message:<br><br>
<pre>How about just using the terms Web, Web-like and "stuff that we do and  
works on the big Web" rather than a bunch of horrid TLAs.

Jim


On 8 Nov 2008, at 10:52, Steve Bjorg wrote:

&gt; What alternative do you propose?  I've heard one alternative so far,  
&gt; which was resource-oriented architecture.
&gt;
&gt; - Steve
&gt;
&gt; --------------
&gt; Steve G. Bjorg
&gt; http://wiki.mindtouch.com
&gt; http://twitter.com/bjorg
&gt;
&gt; On Nov 8, 2008, at 12:32 AM, Stefan Tilkov wrote:
&gt;
&gt;&gt; On 07.11.2008, at 16:14, Steve Bjorg wrote:
&gt;&gt;
&gt;&gt; &gt;
&gt;&gt; &gt; If you plan on doing REST over HTTP, may I recommend WOA as a term?
&gt;&gt; &gt; It's defined as WOA = SOA + WWW + REST. Removes the ambiguity when
&gt;&gt; &gt; talking about either an architectural style or an application of it
&gt;&gt; &gt; to a specific environment.
&gt;&gt; &gt;
&gt;&gt;
&gt;&gt; I positively hate the term "WOA"; IMO it's the beginning of turning
&gt;&gt; something well-defined into the same meaningless pseudo-science we
&gt;&gt; have around "SOA".
&gt;&gt;
&gt;&gt; Stefan
&gt;&gt; --
&gt;&gt; Stefan Tilkov, http://www.innoq.com/blog/st/
&gt;&gt;
&gt;&gt; &gt; - Steve
&gt;&gt; &gt;
&gt;&gt; &gt; --------------
&gt;&gt; &gt; Steve G. Bjorg
&gt;&gt; &gt; http://wiki.mindtouch.com
&gt;&gt; &gt; http://twitter.com/bjorg
&gt;&gt;
&gt;&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11451<br>
Sender:Sebastien Lambla &lt;seb@...&gt;<br>
Post Date/Time:2008-11-08 13:34:48<br>
Subject:RE: [rest-discuss] REST Server API test harness?<br>
Message:<br><br>
<pre>
Actualy I take back Resource oriented architecture. While it's part of what REST is, I think REST is in itself good enough.
 
I think the original discussion was about toolkits that help develop http apps that are RESTful. I call this a REST enabler toolkit.



CC: rest-discuss@yahoogroups.comTo: stefan.tilkov@...: steveb@...: Sat, 8 Nov 2008 02:52:02 -0800Subject: Re: [rest-discuss] REST Server API test harness?
What alternative do you propose?  I've heard one alternative so far, which was resource-oriented architecture.



- Steve

--------------
Steve G. Bjorg
http://wiki.mindtouch.com
http://twitter.com/bjorg

On Nov 8, 2008, at 12:32 AM, Stefan Tilkov wrote:





On 07.11.2008, at 16:14, Steve Bjorg wrote:&gt;&gt; If you plan on doing REST over HTTP, may I recommend WOA as a term? &gt; It's defined as WOA = SOA + WWW + REST. Removes the ambiguity when &gt; talking about either an architectural style or an application of it &gt; to a specific environment.&gt;I positively hate the term "WOA"; IMO it's the beginning of turning something well-defined into the same meaningless pseudo-science we have around "SOA".Stefan--Stefan Tilkov, http://www.innoq.com/blog/st/&gt; - Steve&gt;&gt; --------------&gt; Steve G. Bjorg&gt; http://wiki.mindtouch.com&gt; http://twitter.com/bjorg
_________________________________________________________________
See the most popular videos on the web 
http://clk.atdmt.com/GBL/go/115454061/direct/01/</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11452<br>
Sender:Sebastien Lambla &lt;seb@...&gt;<br>
Post Date/Time:2008-11-08 14:01:33<br>
Subject:RE: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>
Reviewed it, will be interesting to see all that content delivered in just an hour.
 
A couple of points
- first and most importantly, you mention asp.net MVC and not openrasta. Bad bad alan :)
- you mention REST as coming up straight from Roy's thesis. Do you not consider some of webarch's work to be relevant (httpRange, hash uris, generic uris, urns and repos, etc etc etc)? I have more and more tendancies to include both sources in what a rest architecture should have if compatbile with the web architecture.
- I find when explaining rest that a checklist approach of fundamentals works best for people to memorize. Not sure if your slide n5 could serve such a puprpose.
- finally, maybe it is not so much the point of your presentation, but i've found that people are avid to know *why* rest provides benefits in their architecture. Caching is usually one of the most well understood, so is scalability. Maybe that should be in our combined presentation :)
 
As usual, very inspirational work.
 
Seb
http://clk.atdmt.com/GBL/go/115454061/direct/01/</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11453<br>
Sender:"Craig McClanahan" &lt;craigmcc@...&gt;<br>
Post Date/Time:2008-11-08 18:08:59<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>On Fri, Nov 7, 2008 at 10:09 PM, Alan Dean &lt;alan.dean@...&gt; wrote:
&gt; All,
&gt;
&gt; Here is the presentation [1] that I will be giving at DDD7 [2] in two
&gt; weeks time and then taking on the road to the UK User Community (I've
&gt; already booked at MSR in Cambridge). Any feedback is welcome.
&gt;
&gt; Regards,
&gt; Alan Dean
&gt;
&gt; [1] http://tinyurl.com/ddd7-rest
&gt; [2] http://www.developerday.co.uk/

Interesting presentation.  A couple of thoughts, keyed by slide number
in square brackets:

* [14] The idea that all important resources are given one URI seems
  more restrictive than need be -- I don't see a problem with having
  multiple URIs for one resource (GET /orders/latestday and GET /orders/20081107
  might return the same results, at least today), or having a URI that
  returns a collection of resources.  When describing REST to newbies,
  I prefer a statement like "All interesting resources are given at least
  one URI" to get to the point I think you're trying to make here.

* [24] Although a particular system might have both REST and WS_* interfaces,
  I would hope you make the point in your comments that it's unlikely you will
  be able to use the same server side classes to process both kinds of requests.
  Properly done, the two kinds of resource classes will be organized
  quite differently, but developers new to this still think they can
be combined.

* [27] Maybe I just missed it, but I would have expected to see a discussion of
  supporting multiple representations somewhere (maybe here).  Maybe its also
  because this particular area is the most troubling about REST for me
... even if
  you have agreed to an XML representation, how is the client supposed to "know"
  that a &lt;link/&gt; element is actually a URI that can be used to
instigate a state change,
  as opposed to (say) a &lt;uri&gt; element instead?

Craig McClanahan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11454<br>
Sender:"Peter Keane" &lt;pkeane@...&gt;<br>
Post Date/Time:2008-11-08 18:27:22<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>On Sat, Nov 8, 2008 at 12:08 PM, Craig McClanahan &lt;craigmcc@...&gt; wrote:
&gt; On Fri, Nov 7, 2008 at 10:09 PM, Alan Dean &lt;alan.dean@...&gt; wrote:
&gt;&gt; All,
&gt;&gt;
&gt;&gt; Here is the presentation [1] that I will be giving at DDD7 [2] in two
&gt;&gt; weeks time and then taking on the road to the UK User Community (I've
&gt;&gt; already booked at MSR in Cambridge). Any feedback is welcome.
&gt;&gt;
&gt;&gt; Regards,
&gt;&gt; Alan Dean
&gt;&gt;
&gt;&gt; [1] http://tinyurl.com/ddd7-rest
&gt;&gt; [2] http://www.developerday.co.uk/
&gt;
&gt; Interesting presentation. A couple of thoughts, keyed by slide number
&gt; in square brackets:
&gt;
&gt; * [14] The idea that all important resources are given one URI seems
&gt; more restrictive than need be -- I don't see a problem with having
&gt; multiple URIs for one resource (GET /orders/latestday and GET
&gt; /orders/20081107
&gt; might return the same results, at least today), or having a URI that
&gt; returns a collection of resources. When describing REST to newbies,
&gt; I prefer a statement like "All interesting resources are given at least
&gt; one URI" to get to the point I think you're trying to make here.
&gt;
&gt; * [24] Although a particular system might have both REST and WS_*
&gt; interfaces,
&gt; I would hope you make the point in your comments that it's unlikely you will
&gt; be able to use the same server side classes to process both kinds of
&gt; requests.
&gt; Properly done, the two kinds of resource classes will be organized
&gt; quite differently, but developers new to this still think they can
&gt; be combined.
&gt;
&gt; * [27] Maybe I just missed it, but I would have expected to see a discussion
&gt; of
&gt; supporting multiple representations somewhere (maybe here). Maybe its also
&gt; because this particular area is the most troubling about REST for me
&gt; ... even if
&gt; you have agreed to an XML representation, how is the client supposed to
&gt; "know"
&gt; that a &lt;link/&gt; element is actually a URI that can be used to
&gt; instigate a state change,
&gt; as opposed to (say) a &lt;uri&gt; element instead?

That's why mime types are so important in REST.  A client knows how to
deal with, say, application/atom+xml, or application/xhtml+xml --
that's how it recognizes hyperlinks.

--peter keane

&gt;
&gt; Craig McClanahan
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11455<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-11-08 18:47:41<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>Craig,

Thanks for the feedback. See inline.

On Sat, Nov 8, 2008 at 6:08 PM, Craig McClanahan &lt;craigmcc@...&gt; wrote:
&gt; On Fri, Nov 7, 2008 at 10:09 PM, Alan Dean &lt;alan.dean@...&gt; wrote:
&gt;&gt; All,
&gt;&gt;
&gt;&gt; Here is the presentation [1] that I will be giving at DDD7 [2] in two
&gt;&gt; weeks time and then taking on the road to the UK User Community (I've
&gt;&gt; already booked at MSR in Cambridge). Any feedback is welcome.
&gt;&gt;
&gt;&gt; Regards,
&gt;&gt; Alan Dean
&gt;&gt;
&gt;&gt; [1] http://tinyurl.com/ddd7-rest
&gt;&gt; [2] http://www.developerday.co.uk/
&gt;
&gt; Interesting presentation.  A couple of thoughts, keyed by slide number
&gt; in square brackets:
&gt;
&gt; * [14] The idea that all important resources are given one URI seems
&gt;  more restrictive than need be -- I don't see a problem with having
&gt;  multiple URIs for one resource (GET /orders/latestday and GET /orders/20081107
&gt;  might return the same results, at least today), or having a URI that
&gt;  returns a collection of resources.  When describing REST to newbies,
&gt;  I prefer a statement like "All interesting resources are given at least
&gt;  one URI" to get to the point I think you're trying to make here.

Interesting. This is actually a direct quote from Roy's 2007 ApacheCon
talk (from which I have borrowed liberally - and acknowledged).

I also don't have a problem with &gt; 1 URI per resource, for example in
conneg having .atom, .html, and .fr.html so long as the
Content-Location header is correctly set.

Perhaps I should rephrase to "All important resources are identified
by at least one (uniform) resource identifier mechanism ..." and
provide commentary on Content-Location.

&gt; * [24] Although a particular system might have both REST and WS_* interfaces,
&gt;  I would hope you make the point in your comments that it's unlikely you will
&gt;  be able to use the same server side classes to process both kinds of requests.
&gt;  Properly done, the two kinds of resource classes will be organized
&gt;  quite differently, but developers new to this still think they can
&gt; be combined.

Yes. The point is that a system can compose both, not a class.

&gt; * [27] Maybe I just missed it, but I would have expected to see a discussion of
&gt;  supporting multiple representations somewhere (maybe here).  Maybe its also
&gt;  because this particular area is the most troubling about REST for me
&gt; ... even if
&gt;  you have agreed to an XML representation, how is the client supposed to "know"
&gt;  that a &lt;link/&gt; element is actually a URI that can be used to
&gt; instigate a state change,
&gt;  as opposed to (say) a &lt;uri&gt; element instead?

I didn't want to bog down into implementation details, to be honest. I
will be talking about the importance of media-types and the use of
Accept* for conneg, but not as a Fallacy / Fact thing - just
commentary.

&gt; Craig McClanahan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11456<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-11-08 20:48:46<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>On 08.11.2008, at 07:09, Alan Dean wrote:

&gt; All,
&gt;
&gt; Here is the presentation [1] that I will be giving at DDD7 [2] in two
&gt; weeks time and then taking on the road to the UK User Community (I've
&gt; already booked at MSR in Cambridge). Any feedback is welcome.
&gt;
&gt;
Hi Alan,

great stuff. Some remarks specific to invidual slides:

Slide 10: I think sometimes turning application state into resource  
state is perfectly fine because it actually creates value.
Slide 28: I would claim that using cookies to authenticate is just as  
good or bad as using a non-standardized HTTP auth scheme
Slide 29: If the last bullet is supposed to say "REST doesn't scale if  
access control is required", I disagree :-)

General remarks:
- I think you need to credit Paul Downey for the REST posse picture
- Some day someone should re-draw Roy's hideous diagrams with a decent  
tool

Best,
Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/
&gt; Regards,
&gt; Alan Dean
&gt;
&gt; [1] http://tinyurl.com/ddd7-rest
&gt; [2] http://www.developerday.co.uk/
&gt;
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11457<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-11-08 21:11:22<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>On Sat, Nov 8, 2008 at 8:48 PM, Stefan Tilkov &lt;stefan.tilkov@...&gt; wrote:
&gt; On 08.11.2008, at 07:09, Alan Dean wrote:
&gt;
&gt;&gt; All,
&gt;&gt;
&gt;&gt; Here is the presentation [1] that I will be giving at DDD7 [2] in two
&gt;&gt; weeks time and then taking on the road to the UK User Community (I've
&gt;&gt; already booked at MSR in Cambridge). Any feedback is welcome.
&gt;&gt;
&gt;&gt;
&gt; Hi Alan,
&gt;
&gt; great stuff. Some remarks specific to invidual slides:
&gt;
&gt; Slide 10: I think sometimes turning application state into resource
&gt; state is perfectly fine because it actually creates value.

I agree, so long as only the client knows about it. In effect it is
simply a persistence store for the client. If the application server
knows about it (regardless that it may be actually hosted on the same
physical server) the I regard the Layered System to have been
breached.

&gt; Slide 28: I would claim that using cookies to authenticate is just as
&gt; good or bad as using a non-standardized HTTP auth scheme

Agreed. I am using "Cookies" as a proxy for all non-standard auth in the slide.

&gt; Slide 29: If the last bullet is supposed to say "REST doesn't scale if
&gt; access control is required", I disagree :-)

Really? I'm interested to hear why.

&gt; General remarks:
&gt; - I think you need to credit Paul Downey for the REST posse picture

Thanks, I didn't actually know where the posse picture cam from. Added credit.

&gt; - Some day someone should re-draw Roy's hideous diagrams with a decent
&gt; tool
&gt;
&gt; Best,
&gt; Stefan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11458<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-11-08 21:33:48<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>Alan Dean wrote:
&gt; 
&gt; 
&gt; On Sat, Nov 8, 2008 at 8:48 PM, Stefan Tilkov &lt;stefan.tilkov@... 
&gt; &lt;mailto:stefan.tilkov%40innoq.com&gt;&gt; wrote:
&gt;  &gt; Slide 29: If the last bullet is supposed to say "REST doesn't scale if
&gt;  &gt; access control is required", I disagree :-)
&gt; 
&gt; Really? I'm interested to hear why.

It assumes there's a central/sideline lookup to process each access 
token ('sessions don't scale'). An alternative is to allow access checks 
to be processed locally; this can be done if access tokens can be 
decrypted in place or rely on a shared secret. One can argue that access 
controls impact caching intermediaries, but they are an optional part of 
the architecture (i.e., an optimisation).

Great deck. And yes, if anyone is able to clean up the thesis diagrams, 
it's you ;)

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11459<br>
Sender:Justin Sheehy &lt;justin@...&gt;<br>
Post Date/Time:2008-11-08 21:56:16<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>Alan,

It's a great presentation.  I do have a couple of minor comments.

[15] Fact: POST is insufficiently defined

I wouldn't make that claim.  Rather, much of the activity done today  
via POST would have much greater advantage if it instead used one of  
the more constrained methods.  However, POST as a kind of "process  
this" catchall method has great value when used well -- especially for  
well-defined protocols resting (ha ha) on top of HTTP.  AtomPub makes  
one very good and well-defined use of POST, and a future HTTP  
extension or application may make another.  POST's relatively open  
specification is what allows this growth.

[29] Fact: access control precludes scalability

I'm with Stefan and Bill in disagreement on this one.  This is only  
true if your access control method scales poorly, and at that point is  
equivalent to saying "poorly-scaling systems scale poorly".  There is  
nothing essential to access control that makes this true.  Many  
systems happen to implement access control in a centralized way, but  
these implementations do not reflect any true general fact.

Enjoy giving the talk.  I'm interested to hear how it goes.

Best,

-Justin



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11460<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-11-08 21:56:15<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>On 08.11.2008, at 22:11, Alan Dean wrote:

&gt; On Sat, Nov 8, 2008 at 8:48 PM, Stefan Tilkov  
&gt; &lt;stefan.tilkov@...&gt; wrote:
&gt;&gt; On 08.11.2008, at 07:09, Alan Dean wrote:
&gt;&gt; Slide 29: If the last bullet is supposed to say "REST doesn't scale  
&gt;&gt; if
&gt;&gt; access control is required", I disagree :-)
&gt;
&gt; Really? I'm interested to hear why.
&gt;&gt;

As Bill pointed out (if I understood him correctly), I believe it  
affects scalability if it's done in a session-oriented way. A while  
back, Aristotle Pagaltzis had a nice post (too lazy to dig it up now)  
that described how to validate cookies fast and without the need for  
sessions.

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11461<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-11-08 22:09:00<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>Bill,

Thanks. Sounds like there is something that I'm not grokking in what
you say. I understand the point about the caching intermediaries being
optional. I also understand that access control doesn't affect
scalability arising from statelessness. Not sure that I understand the
following: "An alternative is to allow access checks to be processed
locally; this can be done if access tokens can be decrypted in place
or rely on a shared secret."

Do you mean that a client and server auth by using some form of PPK
crypto and embedding that in the payload? And if so, how does this
help scalability?

In light of Stefan bringing this up, I was thinking some more about
it. For full access control, you can't even have a local cache of
secured representations (in case authorization is revoked).

Have to admit that I feel you are seeing something I'm blind to.

Alan

On Sat, Nov 8, 2008 at 9:33 PM, Bill de hOra &lt;bill@...&gt; wrote:
&gt; Alan Dean wrote:
&gt;&gt;
&gt;&gt;
&gt;&gt; On Sat, Nov 8, 2008 at 8:48 PM, Stefan Tilkov &lt;stefan.tilkov@...
&gt;&gt; &lt;mailto:stefan.tilkov%40innoq.com&gt;&gt; wrote:
&gt;&gt; &gt; Slide 29: If the last bullet is supposed to say "REST doesn't scale if
&gt;&gt; &gt; access control is required", I disagree :-)
&gt;&gt;
&gt;&gt; Really? I'm interested to hear why.
&gt;
&gt; It assumes there's a central/sideline lookup to process each access
&gt; token ('sessions don't scale'). An alternative is to allow access checks
&gt; to be processed locally; this can be done if access tokens can be
&gt; decrypted in place or rely on a shared secret. One can argue that access
&gt; controls impact caching intermediaries, but they are an optional part of
&gt; the architecture (i.e., an optimisation).
&gt;
&gt; Great deck. And yes, if anyone is able to clean up the thesis diagrams,
&gt; it's you ;)
&gt;
&gt; Bill
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11462<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-11-08 22:17:12<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>Stefan,

I agree that if you break statelessness, that would hit scalability.
To that extent, I concede that the slide is incorrect.

I suppose what my slide is saying (now that I think more deeply about
it) is that access control precludes caching and any scalability
therefore arising from caching (either by intermediaries or the
client).

Is that something that you would agree with?

I will certainly let you know how it goes. Sounds like it might be
recorded too, although I haven't had that confirmed, so that you can
all tell me where else my understanding is wrong (I mean that in a
positive way - I don't like to misunderstand things).

Alan

On Sat, Nov 8, 2008 at 9:56 PM, Stefan Tilkov &lt;stefan.tilkov@...&gt; wrote:
&gt; On 08.11.2008, at 22:11, Alan Dean wrote:
&gt;
&gt;&gt; On Sat, Nov 8, 2008 at 8:48 PM, Stefan Tilkov &lt;stefan.tilkov@...&gt;
&gt;&gt; wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; On 08.11.2008, at 07:09, Alan Dean wrote:
&gt;&gt;&gt; Slide 29: If the last bullet is supposed to say "REST doesn't scale if
&gt;&gt;&gt; access control is required", I disagree :-)
&gt;&gt;
&gt;&gt; Really? I'm interested to hear why.
&gt;&gt;&gt;
&gt;
&gt; As Bill pointed out (if I understood him correctly), I believe it affects
&gt; scalability if it's done in a session-oriented way. A while back, Aristotle
&gt; Pagaltzis had a nice post (too lazy to dig it up now) that described how to
&gt; validate cookies fast and without the need for sessions.
&gt;
&gt; Stefan
&gt; --
&gt; Stefan Tilkov, http://www.innoq.com/blog/st/
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11463<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-11-08 22:21:41<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>Justin,

I have to admit that I have always found POST slightly annoying. I
understand why it fulfills the catch-all MISCELLANEOUS role but it
provides a refuge for scoundrels too often (imho). How can you have
'universal semantics' for a method that is semantically meaningless by
definition?

Maybe the slide is just my opinion leaking out a little ;-)

I acknowledge the point about application protocols layered above HTTP
providing stronger semantics for POST, as you say.

Alan

On Sat, Nov 8, 2008 at 9:56 PM, Justin Sheehy &lt;justin@...&gt; wrote:
&gt; Alan,
&gt;
&gt; It's a great presentation.  I do have a couple of minor comments.
&gt;
&gt; [15] Fact: POST is insufficiently defined
&gt;
&gt; I wouldn't make that claim.  Rather, much of the activity done today via
&gt; POST would have much greater advantage if it instead used one of the more
&gt; constrained methods.  However, POST as a kind of "process this" catchall
&gt; method has great value when used well -- especially for well-defined
&gt; protocols resting (ha ha) on top of HTTP.  AtomPub makes one very good and
&gt; well-defined use of POST, and a future HTTP extension or application may
&gt; make another.  POST's relatively open specification is what allows this
&gt; growth.
&gt;
&gt; [29] Fact: access control precludes scalability
&gt;
&gt; I'm with Stefan and Bill in disagreement on this one.  This is only true if
&gt; your access control method scales poorly, and at that point is equivalent to
&gt; saying "poorly-scaling systems scale poorly".  There is nothing essential to
&gt; access control that makes this true.  Many systems happen to implement
&gt; access control in a centralized way, but these implementations do not
&gt; reflect any true general fact.
&gt;
&gt; Enjoy giving the talk.  I'm interested to hear how it goes.
&gt;
&gt; Best,
&gt;
&gt; -Justin
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11464<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-11-08 22:23:23<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>On Sat, Nov 8, 2008 at 9:33 PM, Bill de hOra &lt;bill@...&gt; wrote:
&gt;
&gt; Great deck. And yes, if anyone is able to clean up the thesis diagrams,
&gt; it's you ;)
&gt;
&gt; Bill

Sounds like a challenge! I shall have to muse on how best to 'clean it up' :-)

Alan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11465<br>
Sender:Sebastien Lambla &lt;seb@...&gt;<br>
Post Date/Time:2008-11-08 23:27:22<br>
Subject:RE: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>
&gt; I will certainly let you know how it goes. Sounds like it might be&gt; recorded too, although I haven't had that confirmed, so that you can&gt; all tell me where else my understanding is wrong (I mean that in a&gt; positive way - I don't like to misunderstand things).
I will be bringing the equipment at DDD so as long as you don't mind the clip-on mic, you can rely on the 60minutes the damn tapes on my camcorder will allow for :)
 
Seb
_________________________________________________________________
See the most popular videos on the web 
http://clk.atdmt.com/GBL/go/115454061/direct/01/</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11466<br>
Sender:=?UTF-8?B?Umlja2FyZCDDlmJlcmc=?= &lt;rickardoberg@...&gt;<br>
Post Date/Time:2008-11-09 15:13:37<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>(I'm re-adding rest-discuss on the CC-list)

Alan Dean wrote:
&gt; As an example, let's say that you have a web page which takes 10
&gt; seconds (and a lot of server resources) to render.Clearly this is not
&gt; performant. 

That is impossible to say without looking at exactly what that rendering 
is doing. If it is doing lots of computation, talking to external 
services, etc., then 10 seconds might be extremely performant, depending 
on the alternatives. Compared to, say, 60 seconds it's really good! It 
all depends, as usual. For example, I have some services I use, such as 
checking flight seat availability for a number of airlines, where I 
would consider a response time of 10 seconds really good!

&gt; However, if the rendered page can be cached for an hour
&gt; and used by everyone, then the application can scale well despite the
&gt; expense of the one render per hour by deploying a reverse proxy on the
&gt; server as a caching intermediary (and any other intermediating caches,
&gt; including the local cache on the client).

This is not really related to scalability, but more with performance. If 
the above was *scalable* it would mean that as you add server 2-100 the 
rendering time stays at 10 seconds instead of increasing to (say) 60 
seconds. Adding the proxy does help performance, for sure, and it also 
minimizes the scalability problems, but it doesn't change the 
scalability factors, as such.

&gt; If a page is subject to access control, however, it will need to be
&gt; rendered each time it is requested because neither the server nor any
&gt; intermediate caches will know when the user might have had
&gt; authorization revoked (and the Stateless constraint prevents the
&gt; server holding session state about the user).

And the question then is if the rendering has to check with a central 
resource for the authorization decision, or if it can be computed 
locally. If it has to contact a central resource it is inherently 
not-scalable, since adding 1000 more servers doing this check would mean 
that the central resource becomes a bottleneck, which will increase the 
10-second rendering time. If the decision is local then it doesn't 
matter how many servers you add, the rendering time will be the same. 
That is a scalable system.

This is an eternally recurring discussion it seems, of performance vs 
scalability, and it is really tricky to understand what is what (I can't 
say that I got it 100% figured out myself).

/Rickard

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11467<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-11-09 15:59:19<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>Putting my original response on-list too (didn't realize that Rickard
had only sent to it to me when I replied)

---------- Forwarded message ----------
From: Alan Dean &lt;alan.dean@gmail.com&gt;
Date: Sun, Nov 9, 2008 at 2:19 PM
Subject: Re: [rest-discuss] "Seaparating REST Facts from Fallacies"
To: Rickard berg &lt;rickardoberg@gmail.com&gt;

Rickard,

Roy specifies that the outcomes of the optional Caching constraint are:
- degraded reliability
- reduced average latency
- improved efficiency
- improved scalability

If Caching is not employed, these outcomes are not present. My
understanding is that, with Caching, the application can scale to more
clients for the same number of installed physical servers and the same
page rendering cost.

As an example, let's say that you have a web page which takes 10
seconds (and a lot of server resources) to render.Clearly this is not
performant. However, if the rendered page can be cached for an hour
and used by everyone, then the application can scale well despite the
expense of the one render per hour by deploying a reverse proxy on the
server as a caching intermediary (and any other intermediating caches,
including the local cache on the client).

If a page is subject to access control, however, it will need to be
rendered each time it is requested because neither the server nor any
intermediate caches will know when the user might have had
authorization revoked (and the Stateless constraint prevents the
server holding session state about the user).

The above example is based on a real example, btw.

Alan

On Sun, Nov 9, 2008 at 7:34 AM, Rickard berg &lt;rickardoberg@gmail.com&gt; wrote:
&gt; Alan Dean wrote:
&gt;&gt;
&gt;&gt;
&gt;&gt; Stefan,
&gt;&gt;
&gt;&gt; I agree that if you break statelessness, that would hit scalability.
&gt;&gt; To that extent, I concede that the slide is incorrect.
&gt;&gt;
&gt;&gt; I suppose what my slide is saying (now that I think more deeply about
&gt;&gt; it) is that access control precludes caching and any scalability
&gt;&gt; therefore arising from caching (either by intermediaries or the
&gt;&gt; client).
&gt;
&gt; That sounds like a performance concern, rather than a scalability concern.
&gt; Removing caching isn't impacting scalability, but if you have a
&gt; fundamentally non-scalable system this fact will be easier to spot since
&gt; shared resources (like authorization services) will be used more often.
&gt;
&gt; If you can do access control locally, without going to a central
&gt; authorization service to execute it, it doesn't matter if you have 1 or 100
&gt; servers doing it. You therefore have a scalable system. Caching in this case
&gt; will make it more performant, but not more scalable.
&gt;
&gt; /Rickard
&gt;
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11468<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-11-09 16:03:31<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>On Sun, Nov 9, 2008 at 3:13 PM, Rickard berg &lt;rickardoberg@gmail.com&gt; wrote:
&gt; (I'm re-adding rest-discuss on the CC-list)
&gt;
&gt; Alan Dean wrote:
&gt;&gt;
&gt;&gt; As an example, let's say that you have a web page which takes 10
&gt;&gt; seconds (and a lot of server resources) to render.Clearly this is not
&gt;&gt; performant.
&gt;
&gt; That is impossible to say without looking at exactly what that rendering is
&gt; doing. If it is doing lots of computation, talking to external services,
&gt; etc., then 10 seconds might be extremely performant, depending on the
&gt; alternatives. Compared to, say, 60 seconds it's really good! It all depends,
&gt; as usual. For example, I have some services I use, such as checking flight
&gt; seat availability for a number of airlines, where I would consider a
&gt; response time of 10 seconds really good!

A fair point.

&gt;&gt; However, if the rendered page can be cached for an hour
&gt;&gt; and used by everyone, then the application can scale well despite the
&gt;&gt; expense of the one render per hour by deploying a reverse proxy on the
&gt;&gt; server as a caching intermediary (and any other intermediating caches,
&gt;&gt; including the local cache on the client).
&gt;
&gt; This is not really related to scalability, but more with performance. If the
&gt; above was *scalable* it would mean that as you add server 2-100 the
&gt; rendering time stays at 10 seconds instead of increasing to (say) 60
&gt; seconds. Adding the proxy does help performance, for sure, and it also
&gt; minimizes the scalability problems, but it doesn't change the scalability
&gt; factors, as such.

It isn't about the scalability of server, true, but it is about the
scalability of the system at the network level.

&gt;&gt; If a page is subject to access control, however, it will need to be
&gt;&gt; rendered each time it is requested because neither the server nor any
&gt;&gt; intermediate caches will know when the user might have had
&gt;&gt; authorization revoked (and the Stateless constraint prevents the
&gt;&gt; server holding session state about the user).
&gt;
&gt; And the question then is if the rendering has to check with a central
&gt; resource for the authorization decision, or if it can be computed locally.
&gt; If it has to contact a central resource it is inherently not-scalable, since
&gt; adding 1000 more servers doing this check would mean that the central
&gt; resource becomes a bottleneck, which will increase the 10-second rendering
&gt; time. If the decision is local then it doesn't matter how many servers you
&gt; add, the rendering time will be the same. That is a scalable system.

How can the client determine if authorization has been revoked without
communicating with the server. Further, how can intermediaries
determine it? This means that you can't set the message metadata to
permit caching, surely.

&gt; This is an eternally recurring discussion it seems, of performance vs
&gt; scalability, and it is really tricky to understand what is what (I can't say
&gt; that I got it 100% figured out myself).
&gt;
&gt; /Rickard
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11469<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-11-09 16:52:57<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>On Sun, 9 Nov 2008 16:03:31 +0000
"Alan Dean" wrote:

&gt; 
&gt; How can the client determine if authorization has been revoked without
&gt; communicating with the server. Further, how can intermediaries
&gt; determine it? This means that you can't set the message metadata to
&gt; permit caching, surely.
&gt; 

Step out of the box for a minute, Alan!  ;-)  My application uses HTTP
Digest authentication in the manner Berend described, here:

http://www.berenddeboer.net/rest/authentication.html

I have a small 'preferences' file, which is a negotiated resource with
Vary: Authorization set.  The response is a redirect to 'anonymous.xml'
when no Authorization header is present in the request.  When the
request is made by a logged-in user, the redirect points to
'{username}.xml' which is access-controlled, Cache-Control: private.

The file contains an &lt;id&gt; element which holds the username.  Client-
side XSLT attached to the main HTML pages renders a 'login' link when
&lt;id&gt;anonymous&lt;/id&gt;, or a 'logout' link otherwise.  The same cached
representations of the site's HTML pages are delivered to all users.
These representations are not access- controlled, but the content
viewed by the user depends on their Authorization header, if present.

After the user logs in, the server isn't consulted for authorization
unless the request method is POST, PUT or DELETE.

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11470<br>
Sender:"Steve Loughran" &lt;steve.loughran.soapbuilders@...&gt;<br>
Post Date/Time:2008-11-09 17:11:27<br>
Subject:Re: [rest-discuss] REST Server API test harness?<br>
Message:<br><br>
<pre>On Fri, Nov 7, 2008 at 3:25 PM, Alan Dean &lt;alan.dean@...&gt; wrote:
&gt; I agree with Steve.
&gt;
&gt; A test harness for REST-over-HTTP could be valuable though; however it
&gt; can't be ignorant of media-types. How can such a test harness assess
&gt; HATEOAS without knowledge of the media-type exchanged? Without
&gt; knowledge of HATEOAS, the test harness is unable to traverse the links
&gt; between steady states.
&gt;
&gt; Some problems come to mind. In order to assess REST-over-HTTP,
&gt; resource state changes must be made. In many, perhaps most, test
&gt; subjects this will be either impossible (due to access control
&gt; restrictions) or undesirable (filling a site with dummy data). The
&gt; Code-on-Demand constraint further complicates the testability of
&gt; subjects, as it reduces visibility.
&gt;
&gt; Given the necessity to have knowledge of many media-types, I suspect
&gt; this would not be a trivial development. Good idea though (my
&gt; http-headers-status diagram grew out of just such a test suite,
&gt; although that was very application-specific).
&gt;
&gt; Alan

I recommend you use the test client closest to the app you will be
using: web browser for webapps, something based on java.net or
HttpClient if you are using either java library, etc. I also quite
like HttpUnit and more recently HtmlUnit for functional web site
testing, because the latter handles javascript too.

Some quick thoughts
* Good failure reporting. Rather than the usual xUnit assert failure,
the fault reports should include the request and response
* Testing a test harness is itself very hard. You need to make sure it
handles all forms of failure well, and reports meaningful messages in
every situation. Diagnostics can always be improved on.
* Consider a proxy that can be controlled by the test harness to
introduce new failures, failures such as
  - far end has an unsupported/wrong HTTPS certificate
  - incomplete response
  - timeouts
  - stripping out of some headers (what does the client do if
content-length isn't there)
  - thin, unreliable network connections.
  - simulate a proxy that rejects some verbs
  The proxy could also log all messages so be used for diagnostics.
Bits of this are implemented in Axis Tcpmon, but it doesn't have the
full programmatic API that I'd like.

With a test proxy you could run an out the box web browser under
selenium, or your test app, but route it through a wide (but sadly
still incomplete) set of network/back end failures.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11471<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-11-09 17:18:54<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>Eric,

So, in your implementation, read privileges cannot be revoked (if I
follow correctly).

I have no problem with your approach to conneg between representations
that are and are not access controlled (many applications have no need
to revoke read privileges) but I think my point still stands.

Namely: that if you have an access controlled representation (however
the client reached it) you cannot leverage Caching if you wish to have
revocation capability.

BTW: How many intermediaries will support Cache-Control: private +
Vary: Authorization? I assume, but do not know, that the
representation will simply not be cached except by the client.

Alan

On Sun, Nov 9, 2008 at 4:52 PM, Eric J. Bowman &lt;eric@...&gt; wrote:
&gt; On Sun, 9 Nov 2008 16:03:31 +0000
&gt; "Alan Dean" wrote:
&gt;
&gt;&gt;
&gt;&gt; How can the client determine if authorization has been revoked without
&gt;&gt; communicating with the server. Further, how can intermediaries
&gt;&gt; determine it? This means that you can't set the message metadata to
&gt;&gt; permit caching, surely.
&gt;&gt;
&gt;
&gt; Step out of the box for a minute, Alan!  ;-)  My application uses HTTP
&gt; Digest authentication in the manner Berend described, here:
&gt;
&gt; http://www.berenddeboer.net/rest/authentication.html
&gt;
&gt; I have a small 'preferences' file, which is a negotiated resource with
&gt; Vary: Authorization set.  The response is a redirect to 'anonymous.xml'
&gt; when no Authorization header is present in the request.  When the
&gt; request is made by a logged-in user, the redirect points to
&gt; '{username}.xml' which is access-controlled, Cache-Control: private.
&gt;
&gt; The file contains an &lt;id&gt; element which holds the username.  Client-
&gt; side XSLT attached to the main HTML pages renders a 'login' link when
&gt; &lt;id&gt;anonymous&lt;/id&gt;, or a 'logout' link otherwise.  The same cached
&gt; representations of the site's HTML pages are delivered to all users.
&gt; These representations are not access- controlled, but the content
&gt; viewed by the user depends on their Authorization header, if present.
&gt;
&gt; After the user logs in, the server isn't consulted for authorization
&gt; unless the request method is POST, PUT or DELETE.
&gt;
&gt; -Eric
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11472<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-11-09 17:23:47<br>
Subject:RESTful Basket + Checkout<br>
Message:<br><br>
<pre>This weekend I have put up a number of posts about the RESTfulness of 
basket and checkout, if anyone is interested:

"When Basket Checkout isn't RESTful"
http://alandean.blogspot.com/2008/11/when-basket-checkout-isn-
restful.html

"What a RESTful Basket Checkout might look like"
http://alandean.blogspot.com/2008/11/what-restful-basket-checkout-
might-look.html

"On RESTful Basket State"
http://alandean.blogspot.com/2008/11/on-restful-basket-state.html

Regards,
Alan Dean


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11473<br>
Sender:Norman Gray &lt;norman@...&gt;<br>
Post Date/Time:2008-11-09 17:39:09<br>
Subject:Re: [rest-discuss] REST Server API test harness?<br>
Message:<br><br>
<pre>
Greetings.

On 2008 Nov 7, at 12:42, Sebastien Lambla wrote:

&gt; I had an idea a while ago. As I'm writing a REST enabler toolkit,  
&gt; and as i know others do exist too, it would be of great help to have  
&gt; a test harness to ensure valid (http / webarch) behavior.
&gt;
&gt; What I'm thinking of is a bunch of specifications for various areas  
&gt; to be implemented using an http or rest toolit, with an automated  
&gt; client checking for accurate responses.

I've done something broadly like this.

I document a service's interface in a WADL file.  Via an XSLT  
transform, I generate from this a checking function which I call from  
my integration-test harness, once per test.  That function verifies  
that each of the request/response interactions does correspond to  
something in the WADL file, and that everything documented in the WADL  
file is actually exercised in at least one test case.  It doesn't  
write the tests for you, and it doesn't understand anything deep about  
the interaction, but it does reassure you that you haven't missed  
anything embarassingly major.

The WADL file also allows me to generate documentation, which is nice.

WADL claims to help you generate client code, in the same way that  
WSDL magic does (or doesn't).  I don't find this use at all  
persuasive, since part of the virtue of REST is that such services  
don't need the acres of boilerplate that WS-* services do.

Norman


-- 
Norman Gray  :  http://nxg.me.uk
Dept Physics and Astronomy, University of Leicester


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11474<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-11-09 17:39:27<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>On Sun, 9 Nov 2008 17:18:54 +0000
"Alan Dean" wrote:

&gt; 
&gt; So, in your implementation, read privileges cannot be revoked (if I
&gt; follow correctly).
&gt; 

If I wanted to, I could, by implementing more restrictive access
control.  I think the point here, is that access control doesn't have
to be implemented in such a restrictive fashion that caching is
impacted.

I could also use Cache-Control: private, must-revalidate.  That
wouldn't revoke general read privileges, but would in my setup cause 
the 'logout' link to change back to a 'login' link, since the read
privilege was revoked on '{username}.xml'.

&gt; 
&gt; BTW: How many intermediaries will support Cache-Control: private +
&gt; Vary: Authorization? I assume, but do not know, that the
&gt; representation will simply not be cached except by the client.
&gt; 

It would be an error for any intermediary to store a representation
marked 'private'.  The document 'anonymous.xml' has no access control
and is publicly cached.  Note that the privately-cached document isn't
the one with Vary: Authorization, that's on the redirect, which isn't
cached.

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11475<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-11-09 18:07:52<br>
Subject:Re: [rest-discuss] REST Server API test harness?<br>
Message:<br><br>
<pre>+1.

WOA is a lame. There is no ambiguity that needs to be removed.

Subbu

On Nov 8, 2008, at 12:32 AM, Stefan Tilkov wrote:

&gt; On 07.11.2008, at 16:14, Steve Bjorg wrote:
&gt;
&gt; &gt;
&gt; &gt; If you plan on doing REST over HTTP, may I recommend WOA as a term?
&gt; &gt; It's defined as WOA = SOA + WWW + REST. Removes the ambiguity when
&gt; &gt; talking about either an architectural style or an application of it
&gt; &gt; to a specific environment.
&gt; &gt;
&gt;
&gt; I positively hate the term "WOA"; IMO it's the beginning of turning
&gt; something well-defined into the same meaningless pseudo-science we
&gt; have around "SOA".
&gt;
&gt; Stefan
&gt; --
&gt; Stefan Tilkov, http://www.innoq.com/blog/st/
&gt;
&gt; &gt; - Steve
&gt; &gt;
&gt; &gt; --------------
&gt; &gt; Steve G. Bjorg
&gt; &gt; http://wiki.mindtouch.com
&gt; &gt; http://twitter.com/bjorg
&gt;
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11476<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2008-11-09 18:09:28<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>On Nov 9, 2008, at 9:59 AM, Alan Dean wrote:
&gt; Roy specifies that the outcomes of the optional Caching constraint  
&gt; are:
&gt; - degraded reliability
&gt; - reduced average latency
&gt; - improved efficiency
&gt; - improved scalability
&gt;
&gt; If Caching is not employed, these outcomes are not present.
&gt;

These are not all-or-nothing properties.  For example, there is caching
on the user agent with authentication (default is private, not no-cache)
and only one of the representations need be access-controlled; anything
it refers to (stylesheets, images, javascript, etc.) could be on  
separate
servers with public access.

What we lose with authentication is shared caching of the authenticated
representations.  That may reduce scalability, but it doesn't remove
it altogether.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11477<br>
Sender:=?UTF-8?B?Umlja2FyZCDDlmJlcmc=?= &lt;rickardoberg@...&gt;<br>
Post Date/Time:2008-11-09 20:38:45<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>Alan Dean wrote:
&gt; How can the client determine if authorization has been revoked without
&gt; communicating with the server. Further, how can intermediaries
&gt; determine it? This means that you can't set the message metadata to
&gt; permit caching, surely.

Correct. What I was thinking about, which is perhaps separate from your 
point, was that if rendering required an authorization check, which had 
to be done by a central policy server, then that's a non-scalable 
solution. If the policies are distributed to the rendering servers, so 
that the decision can be made in the rendering process, then that would 
be a scalable solution (IMO). But this is a separate issue from client 
or intermediary caching.

/Rickard

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11478<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-11-10 01:06:22<br>
Subject:To WOA or not to WOA (was REST Server API test harness?)<br>
Message:<br><br>
<pre>To each their own, but how often have we seen the claim of RESTfulness  
just to discover POX/JSON over HTTP?  It happens all the time.  As a  
matter of fact, wasn't the initial post another example of the term  
REST being applied to HTTP concepts?  "WOA = REST + WWW" is a good  
pedagogic tool that inherently explains the differences/synergies of  
REST and HTTP.  I've found it a good concept to frame technical  
discussions.

- Steve

On Nov 9, 2008, at 10:07 AM, Subbu Allamaraju wrote:

&gt; +1.
&gt;
&gt; WOA is a lame. There is no ambiguity that needs to be removed.
&gt;
&gt; Subbu
&gt;
&gt; On Nov 8, 2008, at 12:32 AM, Stefan Tilkov wrote:
&gt;
&gt;&gt; On 07.11.2008, at 16:14, Steve Bjorg wrote:
&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; If you plan on doing REST over HTTP, may I recommend WOA as a term?
&gt;&gt;&gt; It's defined as WOA = SOA + WWW + REST. Removes the ambiguity when
&gt;&gt;&gt; talking about either an architectural style or an application of it
&gt;&gt;&gt; to a specific environment.
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; I positively hate the term "WOA"; IMO it's the beginning of turning
&gt;&gt; something well-defined into the same meaningless pseudo-science we
&gt;&gt; have around "SOA".
&gt;&gt;
&gt;&gt; Stefan
&gt;&gt; --
&gt;&gt; Stefan Tilkov, http://www.innoq.com/blog/st/
&gt;&gt;
&gt;&gt;&gt; - Steve
&gt;&gt;&gt;
&gt;&gt;&gt; --------------
&gt;&gt;&gt; Steve G. Bjorg
&gt;&gt;&gt; http://wiki.mindtouch.com
&gt;&gt;&gt; http://twitter.com/bjorg
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11479<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-11-10 01:27:26<br>
Subject:Re: [rest-discuss] To WOA or not to WOA (was REST Server API test harness?)<br>
Message:<br><br>
<pre>&gt; As a
&gt; matter of fact, wasn't the initial post another example of the term
&gt; REST being applied to HTTP concepts?

The original post is about HTTP compliance + webarch, which are what 
resource-oriented frameworks such as RESTlet and OpenRasta are trying to 
achieve; and about a RESTful server and the harness to test it. Let's not 
take this out of context.

REST for architecture, resource-oriented for the framework. Fits for me.

Seb 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11480<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-11-10 03:14:46<br>
Subject:Re: To WOA or not to WOA (was REST Server API test harness?)<br>
Message:<br><br>
<pre>I noticed that you removed the "S" word from the equation ;)

Subbu

On Nov 9, 2008, at 5:06 PM, Steve Bjorg wrote:

&gt; To each their own, but how often have we seen the claim of  
&gt; RESTfulness just to discover POX/JSON over HTTP?  It happens all the  
&gt; time.  As a matter of fact, wasn't the initial post another example  
&gt; of the term REST being applied to HTTP concepts?  "WOA = REST + WWW"  
&gt; is a good pedagogic tool that inherently explains the differences/ 
&gt; synergies of REST and HTTP.  I've found it a good concept to frame  
&gt; technical discussions.
&gt;
&gt; - Steve
&gt;
&gt; On Nov 9, 2008, at 10:07 AM, Subbu Allamaraju wrote:
&gt;
&gt;&gt; +1.
&gt;&gt;
&gt;&gt; WOA is a lame. There is no ambiguity that needs to be removed.
&gt;&gt;
&gt;&gt; Subbu
&gt;&gt;
&gt;&gt; On Nov 8, 2008, at 12:32 AM, Stefan Tilkov wrote:
&gt;&gt;
&gt;&gt;&gt; On 07.11.2008, at 16:14, Steve Bjorg wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; If you plan on doing REST over HTTP, may I recommend WOA as a term?
&gt;&gt;&gt;&gt; It's defined as WOA = SOA + WWW + REST. Removes the ambiguity when
&gt;&gt;&gt;&gt; talking about either an architectural style or an application of it
&gt;&gt;&gt;&gt; to a specific environment.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; I positively hate the term "WOA"; IMO it's the beginning of turning
&gt;&gt;&gt; something well-defined into the same meaningless pseudo-science we
&gt;&gt;&gt; have around "SOA".
&gt;&gt;&gt;
&gt;&gt;&gt; Stefan
&gt;&gt;&gt; --
&gt;&gt;&gt; Stefan Tilkov, http://www.innoq.com/blog/st/
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; - Steve
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; --------------
&gt;&gt;&gt;&gt; Steve G. Bjorg
&gt;&gt;&gt;&gt; http://wiki.mindtouch.com
&gt;&gt;&gt;&gt; http://twitter.com/bjorg
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; ------------------------------------
&gt;&gt;
&gt;&gt; Yahoo! Groups Links
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11481<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-11-10 03:23:06<br>
Subject:Re: To WOA or not to WOA (was REST Server API test harness?)<br>
Message:<br><br>
<pre>Good eye! :)  Not a big fan of the "S" in the equation at all... but 2  
out of 3 ain't bad!

- Steve


On Nov 9, 2008, at 7:14 PM, Subbu Allamaraju wrote:

&gt; I noticed that you removed the "S" word from the equation ;)
&gt;
&gt; Subbu
&gt;
&gt; On Nov 9, 2008, at 5:06 PM, Steve Bjorg wrote:
&gt;
&gt;&gt; To each their own, but how often have we seen the claim of  
&gt;&gt; RESTfulness just to discover POX/JSON over HTTP?  It happens all  
&gt;&gt; the time.  As a matter of fact, wasn't the initial post another  
&gt;&gt; example of the term REST being applied to HTTP concepts?  "WOA =  
&gt;&gt; REST + WWW" is a good pedagogic tool that inherently explains the  
&gt;&gt; differences/synergies of REST and HTTP.  I've found it a good  
&gt;&gt; concept to frame technical discussions.
&gt;&gt;
&gt;&gt; - Steve
&gt;&gt;
&gt;&gt; On Nov 9, 2008, at 10:07 AM, Subbu Allamaraju wrote:
&gt;&gt;
&gt;&gt;&gt; +1.
&gt;&gt;&gt;
&gt;&gt;&gt; WOA is a lame. There is no ambiguity that needs to be removed.
&gt;&gt;&gt;
&gt;&gt;&gt; Subbu
&gt;&gt;&gt;
&gt;&gt;&gt; On Nov 8, 2008, at 12:32 AM, Stefan Tilkov wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; On 07.11.2008, at 16:14, Steve Bjorg wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; If you plan on doing REST over HTTP, may I recommend WOA as a  
&gt;&gt;&gt;&gt;&gt; term?
&gt;&gt;&gt;&gt;&gt; It's defined as WOA = SOA + WWW + REST. Removes the ambiguity when
&gt;&gt;&gt;&gt;&gt; talking about either an architectural style or an application of  
&gt;&gt;&gt;&gt;&gt; it
&gt;&gt;&gt;&gt;&gt; to a specific environment.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; I positively hate the term "WOA"; IMO it's the beginning of turning
&gt;&gt;&gt;&gt; something well-defined into the same meaningless pseudo-science we
&gt;&gt;&gt;&gt; have around "SOA".
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Stefan
&gt;&gt;&gt;&gt; --
&gt;&gt;&gt;&gt; Stefan Tilkov, http://www.innoq.com/blog/st/
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; - Steve
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; --------------
&gt;&gt;&gt;&gt;&gt; Steve G. Bjorg
&gt;&gt;&gt;&gt;&gt; http://wiki.mindtouch.com
&gt;&gt;&gt;&gt;&gt; http://twitter.com/bjorg
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; ------------------------------------
&gt;&gt;&gt;
&gt;&gt;&gt; Yahoo! Groups Links
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11482<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-11-10 08:38:50<br>
Subject:Re: "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>* Alan Dean &lt;alan.dean@...&gt; [2008-11-08 07:10]:
&gt; Any feedback is welcome.

The last bullet point on slide #8 says HTTP is a transfer
protocol. Thats so WS-*-ish it makes me shudder.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11483<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-11-10 09:05:18<br>
Subject:Re: [rest-discuss] Re: "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>Aristotle,

The "Transfer" bullet is there to make the point that HTTP isn't a
Transport protocol (which is what the WS-* folks are always saying).

Perhaps I should say "... is an application-level Transfer protocol",
for clarity.

Alan

On Mon, Nov 10, 2008 at 8:38 AM, Aristotle Pagaltzis &lt;pagaltzis@...&gt; wrote:
&gt; * Alan Dean &lt;alan.dean@...&gt; [2008-11-08 07:10]:
&gt;&gt; Any feedback is welcome.
&gt;
&gt; The last bullet point on slide #8 says HTTP is a transfer
&gt; protocol. That's so WS-*-ish it makes me shudder.
&gt;
&gt; Regards,
&gt; --
&gt; Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11484<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-11-10 11:59:22<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>2008/11/8 Craig McClanahan &lt;craigmcc@...&gt;:
&gt; * [14] The idea that all important resources are given one URI seems
&gt; more restrictive than need be -- I don't see a problem with having
&gt; multiple URIs for one resource (GET /orders/latestday and GET
&gt; /orders/20081107
&gt; might return the same results, at least today), or having a URI that
&gt; returns a collection of resources.

Actually , iirc, these are two different resources. I dont care what
they return , when they return etc.


Regards
Devdatta

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11485<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-11-10 12:22:07<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>Hi
(sorry for the double post)

&gt; * [24] Although a particular system might have both REST and WS_*
&gt; interfaces,
&gt; I would hope you make the point in your comments that it's unlikely you will
&gt; be able to use the same server side classes to process both kinds of
&gt; requests.
&gt; Properly done, the two kinds of resource classes will be organized
&gt; quite differently, but developers new to this still think they can
&gt; be combined.
&gt;

The whole point of having an interface model like REST is that it can
be agnostic of the implementation underneath. Ofcourse, having a code
that matches with your resources is probably much simpler and we don't
want to make the systems any harder than they are. But when you are
talking about REST, what code is present in the server doesn't really
matter.

I guess I might be confused by what you mean by server side classes -
obviously the code that actually handles the request will be very
different for WS-* and REST, but if both want to achieve the same
thing (say mailing a book) then why can't both have the same code
underneath ?

Alan said :
&gt; I didn't want to bog down into implementation details, to be honest. I
&gt; will be talking about the importance of media-types and the use of
&gt; Accept* for conneg, but not as a Fallacy / Fact thing - just
&gt; commentary.
&gt;

Actually , we should all just ping Roy and ask him to just write down
his famed chapter on media types. ( that he couldn't write because of
the hard deadline of his thesis)... maybe a new thread on rest-discuss
is warranted?


&gt; I have to admit that I have always found POST slightly annoying. I
&gt; understand why it fulfills the catch-all MISCELLANEOUS role but it
&gt; provides a refuge for scoundrels too often (imho). How can you have
&gt; 'universal semantics' for a method that is semantically meaningless by
&gt; definition?

You should read and point people towards Roy's post on rest-discuss -
"Rest is not file storage" deploring how everyone looks down upon
POST. I think this is important cos most of the REST decks/articles on
the net really do look down upon POST and Roy's POST levels the field
a bit. (http://groups.yahoo.com/group/rest-discuss/message/10740). It
might also help people relate to REST as an interface model (when he
talks about UI) .

Regards
Devdatta

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11486<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-11-10 13:00:20<br>
Subject:Re: "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>* Alan Dean &lt;alan.dean@...&gt; [2008-11-08 23:25]:
&gt; I have to admit that I have always found POST slightly
&gt; annoying. I understand why it fulfills the catch-all
&gt; MISCELLANEOUS role but it provides a refuge for scoundrels too
&gt; often (imho).

I can much more easily tolerate people who overuse POST than
those who try to glom extra non-universal semantics into the
more narrowly defined methods, like the discussions we had
about DELETE on unbound URIs used to signify permanent deletion
(with no indication of this in hypermedia) or such.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11487<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-11-10 13:01:48<br>
Subject:Re: "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>* Alan Dean &lt;alan.dean@...&gt; [2008-11-10 10:10]:
&gt; The "Transfer" bullet is there to make the point that HTTP
&gt; isn't a Transport protocol (which is what the WS-* folks are
&gt; always saying).

Ack, I mixed up the terms. My bad.

&gt; Perhaps I should say "... is an application-level Transfer
&gt; protocol", for clarity.

Yes, that would help.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11488<br>
Sender:"marc_hadley" &lt;hadley@...&gt;<br>
Post Date/Time:2008-11-10 14:14:21<br>
Subject:Re: REST Server API test harness?<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, Norman Gray &lt;norman@...&gt; wrote:

&gt; 
&gt; &gt; I had an idea a while ago. As I'm writing a REST enabler toolkit,  
&gt; &gt; and as i know others do exist too, it would be of great help to have  
&gt; &gt; a test harness to ensure valid (http / webarch) behavior.
&gt; &gt;
&gt; &gt; What I'm thinking of is a bunch of specifications for various areas  
&gt; &gt; to be implemented using an http or rest toolit, with an automated  
&gt; &gt; client checking for accurate responses.
&gt; 
&gt; I've done something broadly like this.
&gt; 
&gt; I document a service's interface in a WADL file.  Via an XSLT  
&gt; transform, I generate from this a checking function which I call from  
&gt; my integration-test harness, once per test.

The NetBeans JAX-RS plug-in includes something along those lines:

http://www.netbeans.org/kb/60/websvc/rest.html#Exercise_3
http://www.youtube.com/watch?v=_c-CCVy4_Eo

Basically it dynamically generates HTML forms to interact with a service based on a WADL 
file and then parses and displays the output in a variety of formats. Links in the response 
can be traversed and the test tool will attempt to dynamically fetch a WADL for each linked 
resource to enable you to walk through the application without needing a pre-cooked 
"uber-WADL" that describes everything.

Marc.




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11489<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-11-10 15:20:01<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>Alan,

Finally got around checking out your slides.  Nice work.  Quick  
comment on colors.  Consider using another color combination than red  
and green to make it easier to intuitively parse intent even for  
colorblind readers.

Comments prefixed by slide number:
[8] REST &amp; HTTP
Ok, I can't resist.  This slide would be a great place to explain that  
REST + WWW is an application of REST, referred to as WOA by some. ;)

[16] Hypermedia:
It's important to note that there is considerable cost associated with  
introducing new media-types that would qualify as HATEOS candidates.   
The media-type must define how to discover relationships between  
resources; and how the client can build requests to interact with the  
server.  HTML and AtomPub do this already.  Urge the audience to use  
these instead of rolling their own.

[19] Style += Code on Demand
I'm not sure how I'm supposed to interpret "simplifies clients" in  
this context.  If the client is a browser then implementing a browser  
that supports CoD is certainly more complex than one that doesn't.   
Isn't CoD rather an escape mechanism for the media-type so that the  
semantics of discovering and building new requests are not bound by  
the media-type's expressive capabilities?  Somewhat similar to POST  
vs. GET/PUT/DELETE.

[22] Plain Old XML (POX)
I would broaden the category of POX.  Even if your server returns  
something of the form &lt;cart href="..."&gt;&lt;item href="..." /&gt;&lt;/cart&gt; with  
media-type application/cart+xml, that's still POX.  The telltale sign  
is that the media-type is so narrowly defined that it cannot be  
processed without application specific knowledge.  A true HATEOS  
compliant media-type enables a useful interactive surface without the  
need for specialization.  However, specialization may be required to  
enable certain features.  For example, knowledge of GDATA specific  
link relationships to enable batch operations in AtomPub.

[24] Soap Services (WS-*)
SOA pundits will claim that SOA is not SOAP/WS-* but something much  
more general (just to be clear, I'm not one of them, so don't flame  
me! :) ).  To avoid being distracted by these pundits, simply avoid  
drawing this relationship.  Only refer to SOAP/WS-* and you'll be fine.

[25] Standardization
I can't agree with this.  REST states constraints, but does not define  
further specifics.  For WOA, I totally agree, because now it includes  
HTTP, HTML, AtomPub, RDF, URIs, etc.

[26] Man -vs- Machine
I would also add microformats to the Fact list.  Some nice  
applications have been successfully built by semantically annotating  
HTML.


Cheers,

- Steve

--------------
Steve G. Bjorg
http://mindtouch.com
http://twitter.com/bjorg

On Nov 7, 2008, at 10:09 PM, Alan Dean wrote:

&gt; All,
&gt;
&gt; Here is the presentation [1] that I will be giving at DDD7 [2] in two
&gt; weeks time and then taking on the road to the UK User Community (I've
&gt; already booked at MSR in Cambridge). Any feedback is welcome.
&gt;
&gt; Regards,
&gt; Alan Dean
&gt;
&gt; [1] http://tinyurl.com/ddd7-rest
&gt; [2] http://www.developerday.co.uk/
&gt;
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11490<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-11-10 18:53:12<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>Fairy snuff ... my opinion leakage about POST is edited out ;-)

Alan

On Mon, Nov 10, 2008 at 12:22 PM, dev &lt;dev.akhawe@...&gt; wrote:
&gt; Hi
&gt; (sorry for the double post)
&gt;
&gt;&gt; * [24] Although a particular system might have both REST and WS_*
&gt;&gt; interfaces,
&gt;&gt; I would hope you make the point in your comments that it's unlikely you will
&gt;&gt; be able to use the same server side classes to process both kinds of
&gt;&gt; requests.
&gt;&gt; Properly done, the two kinds of resource classes will be organized
&gt;&gt; quite differently, but developers new to this still think they can
&gt;&gt; be combined.
&gt;&gt;
&gt;
&gt; The whole point of having an interface model like REST is that it can
&gt; be agnostic of the implementation underneath. Ofcourse, having a code
&gt; that matches with your resources is probably much simpler and we don't
&gt; want to make the systems any harder than they are. But when you are
&gt; talking about REST, what code is present in the server doesn't really
&gt; matter.
&gt;
&gt; I guess I might be confused by what you mean by server side classes -
&gt; obviously the code that actually handles the request will be very
&gt; different for WS-* and REST, but if both want to achieve the same
&gt; thing (say mailing a book) then why can't both have the same code
&gt; underneath ?
&gt;
&gt; Alan said :
&gt;&gt; I didn't want to bog down into implementation details, to be honest. I
&gt;&gt; will be talking about the importance of media-types and the use of
&gt;&gt; Accept* for conneg, but not as a Fallacy / Fact thing - just
&gt;&gt; commentary.
&gt;&gt;
&gt;
&gt; Actually , we should all just ping Roy and ask him to just write down
&gt; his famed chapter on media types. ( that he couldn't write because of
&gt; the hard deadline of his thesis)... maybe a new thread on rest-discuss
&gt; is warranted?
&gt;
&gt;
&gt;&gt; I have to admit that I have always found POST slightly annoying. I
&gt;&gt; understand why it fulfills the catch-all MISCELLANEOUS role but it
&gt;&gt; provides a refuge for scoundrels too often (imho). How can you have
&gt;&gt; 'universal semantics' for a method that is semantically meaningless by
&gt;&gt; definition?
&gt;
&gt; You should read and point people towards Roy's post on rest-discuss -
&gt; "Rest is not file storage" deploring how everyone looks down upon
&gt; POST. I think this is important cos most of the REST decks/articles on
&gt; the net really do look down upon POST and Roy's POST levels the field
&gt; a bit. (http://groups.yahoo.com/group/rest-discuss/message/10740). It
&gt; might also help people relate to REST as an interface model (when he
&gt; talks about UI) .
&gt;
&gt; Regards
&gt; Devdatta
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11491<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-11-10 18:56:40<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>Feedback taken onboard. Amended "Scalability" slide to read:

Fallacy
- RESTful services always scale well
Fact
- If access control is required, any scalability due to shared caching
will be lost
- Correctly implemented, all RESTful services gain the horizontal
server scalability arising from statelessness

Alan

On Sun, Nov 9, 2008 at 6:09 PM, Roy T. Fielding &lt;fielding@...&gt; wrote:
&gt; On Nov 9, 2008, at 9:59 AM, Alan Dean wrote:
&gt;&gt;
&gt;&gt; Roy specifies that the outcomes of the optional Caching constraint are:
&gt;&gt; - degraded reliability
&gt;&gt; - reduced average latency
&gt;&gt; - improved efficiency
&gt;&gt; - improved scalability
&gt;&gt;
&gt;&gt; If Caching is not employed, these outcomes are not present.
&gt;&gt;
&gt;
&gt; These are not all-or-nothing properties.  For example, there is caching
&gt; on the user agent with authentication (default is private, not no-cache)
&gt; and only one of the representations need be access-controlled; anything
&gt; it refers to (stylesheets, images, javascript, etc.) could be on separate
&gt; servers with public access.
&gt;
&gt; What we lose with authentication is shared caching of the authenticated
&gt; representations.  That may reduce scalability, but it doesn't remove
&gt; it altogether.
&gt;
&gt; ....Roy
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11492<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-11-10 19:21:22<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>Steve,

Thanks for the feedback :-)

On Mon, Nov 10, 2008 at 3:20 PM, Steve Bjorg &lt;steveb@...&gt; wrote:
&gt; Alan,
&gt; Finally got around checking out your slides.  Nice work.  Quick comment on
&gt; colors.  Consider using another color combination than red and green to make
&gt; it easier to intuitively parse intent even for colorblind readers.

Any color combo suggestions?

&gt; Comments prefixed by slide number:
&gt; [8] REST &amp; HTTP
&gt; Ok, I can't resist.  This slide would be a great place to explain that REST
&gt; + WWW is an application of REST, referred to as WOA by some. ;)

Added:

"REST + HTTP is sometimes referred to as WOA
- Web Oriented Architecture"

&gt; [16] Hypermedia:
&gt; It's important to note that there is considerable cost associated with
&gt; introducing new media-types that would qualify as HATEOS candidates.  The
&gt; media-type must define how to discover relationships between resources; and
&gt; how the client can build requests to interact with the server.  HTML and
&gt; AtomPub do this already.  Urge the audience to use these instead of rolling
&gt; their own.

Added "But beware: media-types are expensive to create" to the slide
under "There are more media-types than just HTML and Atom"

&gt; [19] Style += Code on Demand
&gt; I'm not sure how I'm supposed to interpret "simplifies clients" in this
&gt; context.  If the client is a browser then implementing a browser that
&gt; supports CoD is certainly more complex than one that doesn't.  Isn't CoD
&gt; rather an escape mechanism for the media-type so that the semantics of
&gt; discovering and building new requests are not bound by the media-type's
&gt; expressive capabilities?  Somewhat similar to POST vs. GET/PUT/DELETE.

From the dissertation: "This simplifies clients by reducing the number
of features required to be pre-implemented."

&gt; [22] Plain Old XML (POX)
&gt; I would broaden the category of POX.  Even if your server returns something
&gt; of the form &lt;cart href="..."&gt;&lt;item href="..." /&gt;&lt;/cart&gt; with media-type
&gt; application/cart+xml, that's still POX.  The telltale sign is that the
&gt; media-type is so narrowly defined that it cannot be processed without
&gt; application specific knowledge.  A true HATEOS compliant media-type enables
&gt; a useful interactive surface without the need for specialization.  However,
&gt; specialization may be required to enable certain features.  For example,
&gt; knowledge of GDATA specific link relationships to enable batch operations in
&gt; AtomPub.

Not at all sure that I understand your meaning. Could you elaborate
please? Any links you can send me?

&gt; [24] Soap Services (WS-*)
&gt; SOA pundits will claim that SOA is not SOAP/WS-* but something much more
&gt; general (just to be clear, I'm not one of them, so don't flame me! :) ).  To
&gt; avoid being distracted by these pundits, simply avoid drawing this
&gt; relationship.  Only refer to SOAP/WS-* and you'll be fine.

I'm open to dropping the SOA reference, but would like to hear the
opinions of others in the group if anyone wants to offer ...

&gt; [25] Standardization
&gt; I can't agree with this.  REST states constraints, but does not define
&gt; further specifics.  For WOA, I totally agree, because now it includes HTTP,
&gt; HTML, AtomPub, RDF, URIs, etc.

Interesting. This slide is basically one of Roy's slide from ApacheCon
2007 reformatted.

I have changed "Facts" to "Facts (when using HTTP)"

&gt; [26] Man -vs- Machine
&gt; I would also add microformats to the Fact list.  Some nice applications have
&gt; been successfully built by semantically annotating HTML.

Good point. Hadn't thought of that. Added "Microformats can reduce ambiguity".

&gt; Cheers,
&gt; - Steve
&gt; --------------
&gt; Steve G. Bjorg
&gt; http://mindtouch.com
&gt; http://twitter.com/bjorg
&gt; On Nov 7, 2008, at 10:09 PM, Alan Dean wrote:
&gt;
&gt; All,
&gt;
&gt; Here is the presentation [1] that I will be giving at DDD7 [2] in two
&gt; weeks time and then taking on the road to the UK User Community (I've
&gt; already booked at MSR in Cambridge). Any feedback is welcome.
&gt;
&gt; Regards,
&gt; Alan Dean
&gt;
&gt; [1] http://tinyurl.com/ddd7-rest
&gt; [2] http://www.developerday.co.uk/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11493<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-11-10 19:26:06<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>&gt; [16] Hypermedia:
&gt; It's important to note that there is considerable cost associated  
&gt; with introducing new media-types that would qualify as HATEOS  
&gt; candidates.  The media-type must define how to discover  
&gt; relationships between resources; and how the client can build  
&gt; requests to interact with the server.  HTML and AtomPub do this  
&gt; already.  Urge the audience to use these instead of rolling their own.

I can't help but disagree about AtomPub (I think you mean to say  
Atom). It provides a payload format with some generic metadata and  
links, but it does not take away the need to define media types to  
describe the contents of atom:content. So, if a server uses Atom to  
describe a user, it needs to use some media type to describe that the  
content is a user and not, say, a car.

&gt; [25] Standardization
&gt; I can't agree with this.  REST states constraints, but does not  
&gt; define further specifics.  For WOA, I totally agree, because now it  
&gt; includes HTTP, HTML, AtomPub, RDF, URIs, etc.
&gt;

You had to bring in "W" again :) I still think that the distinction  
you are trying to make is not necessary. I also find it very  
distracting as encourages fluff around REST. There is enough fluff on  
the "S" side.

Subbu
---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11494<br>
Sender:Justin Sheehy &lt;justin@...&gt;<br>
Post Date/Time:2008-11-10 20:06:15<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>
On Nov 9, 2008, at 12:18 PM, Alan Dean wrote:

&gt; So, in your implementation, read privileges cannot be revoked (if I
&gt; follow correctly).

Unless you control the only clients that ever talk to your server, read
privileges cannot be revoked in your implementation either.

&gt; Namely: that if you have an access controlled representation (however
&gt; the client reached it) you cannot leverage Caching if you wish to have
&gt; revocation capability.


It is impossible to retroactively revoke read access without direct  
control
over the behavior of the client application.  You can specify in HTTP  
what
can be stored in an HTTP cache, but there is no way at all in HTTP to
specify what else a client can do with regard to storing a received
representation outside the cache.  Even if something is "uncacheable"
a client violates nothing by keeping every received response-body in a
separate local file, for instance.

As a result of this, a revocation feature in an application ends up  
being
orthogonal from HTTP-level access control and caching issues.

-Justin



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11495<br>
Sender:"Craig McClanahan" &lt;craigmcc@...&gt;<br>
Post Date/Time:2008-11-10 20:36:48<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>On Mon, Nov 10, 2008 at 4:22 AM, dev &lt;dev.akhawe@...&gt; wrote:
&gt;
&gt;&gt; * [24] Although a particular system might have both REST and WS_*
&gt;&gt; interfaces,
&gt;&gt; I would hope you make the point in your comments that it's unlikely you will
&gt;&gt; be able to use the same server side classes to process both kinds of
&gt;&gt; requests.
&gt;&gt; Properly done, the two kinds of resource classes will be organized
&gt;&gt; quite differently, but developers new to this still think they can
&gt;&gt; be combined.
&gt;&gt;
&gt;
&gt; The whole point of having an interface model like REST is that it can
&gt; be agnostic of the implementation underneath. Ofcourse, having a code
&gt; that matches with your resources is probably much simpler and we don't
&gt; want to make the systems any harder than they are. But when you are
&gt; talking about REST, what code is present in the server doesn't really
&gt; matter.
&gt;
&gt; I guess I might be confused by what you mean by server side classes -
&gt; obviously the code that actually handles the request will be very
&gt; different for WS-* and REST, but if both want to achieve the same
&gt; thing (say mailing a book) then why can't both have the same code
&gt; underneath ?

Sorry for not being clear ... I was indeed speaking about the resource
classes themselves, not the business logic underneath (which should of
course be shared).

The way this question comes out in Java land:  "Can I use both JAX-WS
and JAX-RS annotations on the same resource class to make my resource
both SOAP-accessible and REST-accessible?"  Technically, there's
nothing that stops you from doing this ... but it's most likely not a
good approach.

Craig

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11496<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-11-11 16:27:28<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>On Nov 10, 2008, at 11:21 AM, Alan Dean wrote:

&gt; Steve,
&gt;
&gt; Thanks for the feedback :-)
&gt;
&gt; On Mon, Nov 10, 2008 at 3:20 PM, Steve Bjorg &lt;steveb@...&gt;  
&gt; wrote:
&gt;&gt; Alan,
&gt;&gt; Finally got around checking out your slides.  Nice work.  Quick  
&gt;&gt; comment on
&gt;&gt; colors.  Consider using another color combination than red and  
&gt;&gt; green to make
&gt;&gt; it easier to intuitively parse intent even for colorblind readers.
&gt;
&gt; Any color combo suggestions?

Yellow/green or red/blue work well together.

&gt;&gt; [19] Style += Code on Demand
&gt;&gt; I'm not sure how I'm supposed to interpret "simplifies clients" in  
&gt;&gt; this
&gt;&gt; context.  If the client is a browser then implementing a browser that
&gt;&gt; supports CoD is certainly more complex than one that doesn't.   
&gt;&gt; Isn't CoD
&gt;&gt; rather an escape mechanism for the media-type so that the semantics  
&gt;&gt; of
&gt;&gt; discovering and building new requests are not bound by the media- 
&gt;&gt; type's
&gt;&gt; expressive capabilities?  Somewhat similar to POST vs. GET/PUT/ 
&gt;&gt; DELETE.
&gt;
&gt; From the dissertation: "This simplifies clients by reducing the number
&gt; of features required to be pre-implemented."

I'm retracting this comment.  I think it's too fine grained to  
matter. :)  But to illustrate the point, HTML5 now has &lt;video&gt; and  
&lt;audio&gt; tags.  Introducing these has complicated the client (browser),  
whereas before it was handled by CoD using &lt;object&gt; or &lt;embed&gt;.   
Notice how we're talking about the browser as a client here.  The  
browser's complexity is directly related to the expressive power of  
the media-type it is designed for.  I think this was the intent of the  
quote you provided.  That is, trying to build a client for all  
possible situations without using CoD is immensely complex.  On the  
other hand, a client without CoD capability is less complex than one  
with it, due to loss of functionality.  A rather weak statement.  So,  
let's not linger on it any further. :)

&gt;&gt; [22] Plain Old XML (POX)
&gt;&gt; I would broaden the category of POX.  Even if your server returns  
&gt;&gt; something
&gt;&gt; of the form &lt;cart href="..."&gt;&lt;item href="..." /&gt;&lt;/cart&gt; with media- 
&gt;&gt; type
&gt;&gt; application/cart+xml, that's still POX.  The telltale sign is that  
&gt;&gt; the
&gt;&gt; media-type is so narrowly defined that it cannot be processed without
&gt;&gt; application specific knowledge.  A true HATEOS compliant media-type  
&gt;&gt; enables
&gt;&gt; a useful interactive surface without the need for specialization.   
&gt;&gt; However,
&gt;&gt; specialization may be required to enable certain features.  For  
&gt;&gt; example,
&gt;&gt; knowledge of GDATA specific link relationships to enable batch  
&gt;&gt; operations in
&gt;&gt; AtomPub.
&gt;
&gt; Not at all sure that I understand your meaning. Could you elaborate
&gt; please? Any links you can send me?

Apologies in advance for the lengthy response.

Quoted from http://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven

"A REST API should spend almost all of its descriptive effort in  
defining the media type(s) used for representing resources and driving  
application state, or in defining extended relation names and/or  
hypertext-enabled mark-up for existing standard media types. Any  
effort spent describing what methods to use on what URIs of interest  
should be entirely defined within the scope of the processing rules  
for a media type (and, in most cases, already defined by existing  
media types)"

I found this statement very enlightening.  My interpretation was that  
one should forget about specific interaction patterns and end points,  
such as retrieving the contents of a cart, and instead concentrate on  
providing general semantics that are the "rules of engagement."  For  
example, in Atom, an entry may have a &lt;link rel="edit"&gt; element.  If  
present, it conveys to the client that this entry can be updated or  
deleted using the associated URI.

GData builds on this definition by introducing additional relationship  
attributes.  For example, here is the GData API for calendars:
http://code.google.com/apis/calendar/developers_guide_protocol.html

One of the new relationships is expressed by &lt;link rel='http://schemas.google.com/acl/2007#accessControlList' 
 &gt;.  This link points to a resource that contains access control  
information.  Presence of this link in an entry, means that ACL  
support is available for this resource.  ACLs themselves are Atom  
feeds and entries.

In other words, it is possible to write a general purpose Atom reader  
that renders known Atom elements in a nice way, but also shows unknown  
elements to the user, annotating the links with the relationship name  
(not pretty, but better than nothing).  Such a general purpose reader  
could be used to explore all relationships in the GData API in a read- 
only fashion.  It could also be used to modify or delete entries when  
they have a &lt;link rel="edit"&gt; element because Atom defined the "rules  
of engagement." But it could not be used to create news ones, because  
Atom lacks the descriptive capabilities to convey how entries must be  
built by the client before they are submitted.

In this settings, all exchanges use application/atom+xml as  
representation.  There is no application/calendar+xml type, because  
it's not needed.  Instead, the core mime-type is augmented with  
application or vendor specific annotations.  The same principle would  
work for application/xhtml+xml and using microformats.  The benefit  
would be that we would also gain the descriptive ability of how to  
submit new items thanks to the &lt;form&gt; tag (albeit only of type  
application/x-www-form-encoded, unless we use CoD. But that's alright  
since the server is now in command of the possible client  
representations.  So, no surprises there).  The downside of  
semantically annotated HTML is that it's very freeform.

Circling back on the comment.  I believe that the core representation  
used by a REST-compliant application/service must have the ability to  
introduce relationships and convey enough information about these so  
that a client knows how to interact with the resource with no a priori  
knowledge of the resource.  In Atom, &lt;link re="edit"&gt; indicates that  
HTTP PUT and DELETE can be used to modify the resource.  In HTML, &lt;a  
href="..."&gt; indicates that the client can do a GOT on the resource,  
and &lt;form method="POST"&gt; indicates that a POST can be done on a  
resource.  The client now knows how to interact (i.e. which methods to  
use) and where to interact (i.e. the URIs to communicate with) without  
ever having any upfront knowledge about them other than the initial  
entry point.

Now, anyone may decide to introduce their own new mime-type that meets  
these requirements.  That's fine.  I just think, why bother.  Atom and  
HTML have done a great job being universally accepted for defining the  
"rules of engagement."  The next step is to map these capabilities to  
our application/service specific needs and take advantage of them.   
Furthermore, lack of conveying these "rules of engagement" in the mime- 
type itself is POX, imho.  Hence, my initial comment!


Cheers,

- Steve

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11497<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-11-11 16:39:44<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>On Nov 10, 2008, at 11:26 AM, Subbu Allamaraju wrote:

&gt;&gt; [16] Hypermedia:
&gt;&gt; It's important to note that there is considerable cost associated  
&gt;&gt; with introducing new media-types that would qualify as HATEOS  
&gt;&gt; candidates.  The media-type must define how to discover  
&gt;&gt; relationships between resources; and how the client can build  
&gt;&gt; requests to interact with the server.  HTML and AtomPub do this  
&gt;&gt; already.  Urge the audience to use these instead of rolling their  
&gt;&gt; own.
&gt;
&gt; I can't help but disagree about AtomPub (I think you mean to say  
&gt; Atom). It provides a payload format with some generic metadata and  
&gt; links, but it does not take away the need to define media types to  
&gt; describe the contents of atom:content. So, if a server uses Atom to  
&gt; describe a user, it needs to use some media type to describe that  
&gt; the content is a user and not, say, a car.

Please forgive my misuse of Atom vs. AtomPub.  My minds merges them  
into one blob.  If you know of a good semantic distinction, please let  
me know so I can learn to avoid making this mistake in the future.

Please take a look at the GData API.  Using the &lt;atom:content&gt; element  
is not the right approach, because as you correctly stated, it still  
needs its own media-type definition.  That's just pushing the problem  
further down the stack.  Instead, one can augment the Atom definition  
to convey the extra information.  Atom needs fairly little more work  
to be general purpose.  The only thing I found lacking in Atom (or  
AtomPub, I'm still confused), is that there is no facility for  
describing the structure of a new entry.  This means, Atom can only be  
used by generic clients for reading, modifying, and deleting existing  
data, but not create new data.

&gt;
&gt;
&gt;&gt; [25] Standardization
&gt;&gt; I can't agree with this.  REST states constraints, but does not  
&gt;&gt; define further specifics.  For WOA, I totally agree, because now it  
&gt;&gt; includes HTTP, HTML, AtomPub, RDF, URIs, etc.
&gt;&gt;
&gt;
&gt; You had to bring in "W" again :) I still think that the distinction  
&gt; you are trying to make is not necessary. I also find it very  
&gt; distracting as encourages fluff around REST. There is enough fluff  
&gt; on the "S" side.

I sincerely wish you were right.  But the "W" (shudder) helps me  
partition my mind into REST vs. REST-on-the-Web.  This slide is a  
great example of how easy it is to erroneously slip from one subject  
to the other, even for experts.  If all the "W" does is to avoid ever  
again seeing a presentation that starts with saying "REST" and  
immediately follows it with "GET, PUT, DELETE, ..."  It will have done  
us all a great service! :)

- Steve

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11498<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-11-11 18:04:52<br>
Subject:Re: "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>* Steve Bjorg &lt;steveb@...&gt; [2008-11-11 17:45]:
&gt; Please forgive my misuse of Atom vs. AtomPub. My minds merges
&gt; them into one blob. If you know of a good semantic distinction,
&gt; please let me know so I can learn to avoid making this mistake
&gt; in the future.

Very broadly, Atom is an XML vocabulary and AtomPub is an HTTP
specialisation based on it. Another way to put it is that Atom
is a microcontent envelope format and AtomPub is the authoring
protocol to edit that.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11499<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-11-13 16:26:21<br>
Subject:Re: [rest-discuss] Re: "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>Aristotle,

Thanks for the explanation.  I'm not familiar with the meaning of  
"http specialization".  So, let my try to paraphrase and see if it  
lines up: Atom is a message format based on XML and AtomPub is a  
definition of interaction semantics using HTTP.  Thoughts?

- Steve


On Nov 11, 2008, at 10:04 AM, Aristotle Pagaltzis wrote:

&gt; * Steve Bjorg &lt;steveb@...&gt; [2008-11-11 17:45]:
&gt; &gt; Please forgive my misuse of Atom vs. AtomPub. My minds merges
&gt; &gt; them into one blob. If you know of a good semantic distinction,
&gt; &gt; please let me know so I can learn to avoid making this mistake
&gt; &gt; in the future.
&gt;
&gt; Very broadly, Atom is an XML vocabulary and AtomPub is an HTTP
&gt; specialisation based on it. Another way to put it is that Atom
&gt; is a microcontent envelope format and AtomPub is the authoring
&gt; protocol to edit that.
&gt;
&gt; Regards,
&gt; -- 
&gt; Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11500<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-11-13 17:37:33<br>
Subject:Re: [rest-discuss] Re: "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>Hi

The RFCs are pretty good ...

From the RFC 4287  :
   Atom is an XML-based document format that describes lists of related
   information known as "feeds".  Feeds are composed of a number of
   items, known as "entries", each with an extensible set of attached
   metadata.  For example, each entry has a title.


From RFC 5023 :
   The Atom Publishing Protocol (AtomPub) is an application-level
   protocol for publishing and editing Web resources.  The protocol is
   based on HTTP transfer of Atom-formatted representations.  The Atom
   format is documented in the Atom Syndication Format.

Seems pretty clear -- don't get too hung up on HTTP specialisation ..
imho , all Aristotle is talking about is that ATOMPUB is specific to
HTTP only, while ATOM is just a vocabulary , you and I could use it
amongst ourselves to communicate via pigeons [RFC1149] :)

Thanks
Devdatta



2008/11/14 Steve Bjorg &lt;steveb@...&gt;:
&gt; Aristotle,
&gt; Thanks for the explanation.  I'm not familiar with the meaning of "http
&gt; specialization".  So, let my try to paraphrase and see if it lines up: Atom
&gt; is a message format based on XML and AtomPub is a definition of interaction
&gt; semantics using HTTP.  Thoughts?
&gt; - Steve
&gt;
&gt; On Nov 11, 2008, at 10:04 AM, Aristotle Pagaltzis wrote:
&gt;
&gt; * Steve Bjorg &lt;steveb@...&gt; [2008-11-11 17:45]:
&gt;&gt; Please forgive my misuse of Atom vs. AtomPub. My minds merges
&gt;&gt; them into one blob. If you know of a good semantic distinction,
&gt;&gt; please let me know so I can learn to avoid making this mistake
&gt;&gt; in the future.
&gt;
&gt; Very broadly, Atom is an XML vocabulary and AtomPub is an HTTP
&gt; specialisation based on it. Another way to put it is that Atom
&gt; is a microcontent envelope format and AtomPub is the authoring
&gt; protocol to edit that.
&gt;
&gt; Regards,
&gt; --
&gt; Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11501<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-11-13 18:22:22<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>
On Nov 11, 2008, at 8:39 AM, Steve Bjorg wrote:

&gt; Please take a look at the GData API. Using the &lt;atom:content&gt; element
&gt; is not the right approach, because as you correctly stated, it still
&gt; needs its own media-type definition. That's just pushing the problem
&gt; further down the stack. Instead, one can augment the Atom definition
&gt; to convey the extra information. Atom needs fairly little more work
&gt; to be general purpose. The only thing I found lacking in Atom (or
&gt; AtomPub, I'm still confused), is that there is no facility for
&gt; describing the structure of a new entry. This means, Atom can only be
&gt; used by generic clients for reading, modifying, and deleting existing
&gt; data, but not create new data.


There are two kinds of usage patterns with Atom depending on the kind  
of data being modeled.

a. If the data is mostly content like HTML, use atom:content to carry  
that HTML, and then extend the atom:entry element with additional  
metadata. An example of such metadata could be location info.

b. If the data is not content-like, use the entry like a payload  
format with atom:content containing the data.

AFAIK, most of GData's usage falls into the first category. For non- 
markup use cases, the second approach more sense. Some of MSFT's Live  
APIs use this approach. At one point, even OpenSocial was considering  
the same for the REST APIs. I am not sure if this is still the case.

In any case, Atom does not eliminate the need for specific media  
types. Regarding your comment that "there is no facility for  
describing the structure of a new entry", media type of the  
atom:content provides that mechanism. The media type specification  
(whether it is IANA-described or proprietary) can very well describe  
the structure and other useful information about the content.

Subbu

---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11502<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-11-13 19:22:16<br>
Subject:Re: [rest-discuss] Re: "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>Thanks.  Much clearer indeed!

Communicate via pigeons you say?  That's like AOA right?  Avian- 
Oriented Architecture! ;)

- Steve

On Nov 13, 2008, at 9:37 AM, dev wrote:

&gt; Hi
&gt;
&gt; The RFCs are pretty good ...
&gt;
&gt; From the RFC 4287  :
&gt;   Atom is an XML-based document format that describes lists of related
&gt;   information known as "feeds".  Feeds are composed of a number of
&gt;   items, known as "entries", each with an extensible set of attached
&gt;   metadata.  For example, each entry has a title.
&gt;
&gt;
&gt; From RFC 5023 :
&gt;   The Atom Publishing Protocol (AtomPub) is an application-level
&gt;   protocol for publishing and editing Web resources.  The protocol is
&gt;   based on HTTP transfer of Atom-formatted representations.  The Atom
&gt;   format is documented in the Atom Syndication Format.
&gt;
&gt; Seems pretty clear -- don't get too hung up on HTTP specialisation ..
&gt; imho , all Aristotle is talking about is that ATOMPUB is specific to
&gt; HTTP only, while ATOM is just a vocabulary , you and I could use it
&gt; amongst ourselves to communicate via pigeons [RFC1149] :)
&gt;
&gt; Thanks
&gt; Devdatta
&gt;
&gt;
&gt;
&gt; 2008/11/14 Steve Bjorg &lt;steveb@...&gt;:
&gt;&gt; Aristotle,
&gt;&gt; Thanks for the explanation.  I'm not familiar with the meaning of  
&gt;&gt; "http
&gt;&gt; specialization".  So, let my try to paraphrase and see if it lines  
&gt;&gt; up: Atom
&gt;&gt; is a message format based on XML and AtomPub is a definition of  
&gt;&gt; interaction
&gt;&gt; semantics using HTTP.  Thoughts?
&gt;&gt; - Steve
&gt;&gt;
&gt;&gt; On Nov 11, 2008, at 10:04 AM, Aristotle Pagaltzis wrote:
&gt;&gt;
&gt;&gt; * Steve Bjorg &lt;steveb@...&gt; [2008-11-11 17:45]:
&gt;&gt;&gt; Please forgive my misuse of Atom vs. AtomPub. My minds merges
&gt;&gt;&gt; them into one blob. If you know of a good semantic distinction,
&gt;&gt;&gt; please let me know so I can learn to avoid making this mistake
&gt;&gt;&gt; in the future.
&gt;&gt;
&gt;&gt; Very broadly, Atom is an XML vocabulary and AtomPub is an HTTP
&gt;&gt; specialisation based on it. Another way to put it is that Atom
&gt;&gt; is a microcontent envelope format and AtomPub is the authoring
&gt;&gt; protocol to edit that.
&gt;&gt;
&gt;&gt; Regards,
&gt;&gt; --
&gt;&gt; Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;
&gt;&gt;
&gt;&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11503<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-11-13 19:43:18<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>Subbu Allamaraju wrote:
&gt; 
&gt; 
&gt; 
&gt; On Nov 11, 2008, at 8:39 AM, Steve Bjorg wrote:
&gt; 
&gt;  &gt; Please take a look at the GData API. Using the &lt;atom:content&gt; element
&gt;  &gt; is not the right approach, because as you correctly stated, it still
&gt;  &gt; needs its own media-type definition. That's just pushing the problem
&gt;  &gt; further down the stack. Instead, one can augment the Atom definition
&gt;  &gt; to convey the extra information. Atom needs fairly little more work
&gt;  &gt; to be general purpose. The only thing I found lacking in Atom (or
&gt;  &gt; AtomPub, I'm still confused), is that there is no facility for
&gt;  &gt; describing the structure of a new entry. This means, Atom can only be
&gt;  &gt; used by generic clients for reading, modifying, and deleting existing
&gt;  &gt; data, but not create new data.
&gt; 
&gt; There are two kinds of usage patterns with Atom depending on the kind
&gt; of data being modeled.
&gt; 
&gt; a. If the data is mostly content like HTML, use atom:content to carry
&gt; that HTML, and then extend the atom:entry element with additional
&gt; metadata. An example of such metadata could be location info.
&gt; 
&gt; b. If the data is not content-like, use the entry like a payload
&gt; format with atom:content containing the data.

c.  Add foreign markup extensions under atom:entry.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11504<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-11-13 19:45:33<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>
On Nov 13, 2008, at 11:43 AM, Bill de hOra wrote:

&gt; Subbu Allamaraju wrote:
&gt;&gt; On Nov 11, 2008, at 8:39 AM, Steve Bjorg wrote:
&gt;&gt; &gt; Please take a look at the GData API. Using the &lt;atom:content&gt;  
&gt;&gt; element
&gt;&gt; &gt; is not the right approach, because as you correctly stated, it  
&gt;&gt; still
&gt;&gt; &gt; needs its own media-type definition. That's just pushing the  
&gt;&gt; problem
&gt;&gt; &gt; further down the stack. Instead, one can augment the Atom  
&gt;&gt; definition
&gt;&gt; &gt; to convey the extra information. Atom needs fairly little more work
&gt;&gt; &gt; to be general purpose. The only thing I found lacking in Atom (or
&gt;&gt; &gt; AtomPub, I'm still confused), is that there is no facility for
&gt;&gt; &gt; describing the structure of a new entry. This means, Atom can  
&gt;&gt; only be
&gt;&gt; &gt; used by generic clients for reading, modifying, and deleting  
&gt;&gt; existing
&gt;&gt; &gt; data, but not create new data.
&gt;&gt; There are two kinds of usage patterns with Atom depending on the kind
&gt;&gt; of data being modeled.
&gt;&gt; a. If the data is mostly content like HTML, use atom:content to carry
&gt;&gt; that HTML, and then extend the atom:entry element with additional
&gt;&gt; metadata. An example of such metadata could be location info.
&gt;&gt; b. If the data is not content-like, use the entry like a payload
&gt;&gt; format with atom:content containing the data.
&gt;
&gt; c.  Add foreign markup extensions under atom:entry.
&gt;

It was implicit in my classification of (a), but your addition is much  
better.

Subbu

---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11505<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-11-16 01:37:53<br>
Subject:"Federated HTTP Authentication"<br>
Message:<br><br>
<pre>All,

I'm not a security expert, but I have been musing how to federate 
regular HTTP Digest Auth for a little while for RESTful applications 
and have posted my thoughts [1].

For all I know, this has been thought of before or already debunked.

Anyway, feedback welcome.

[1] http://tinyurl.com/fedauth

Regards,
Alan Dean


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11506<br>
Sender:John Panzer &lt;jpanzer@...&gt;<br>
Post Date/Time:2008-11-16 08:08:58<br>
Subject:Re: [rest-discuss] "Federated HTTP Authentication"<br>
Message:<br><br>
<pre>I haven't looked at this in detail yet, but I think you should take 
another look at OAuth.  OAuth was designed to allow access to RESTful 
APIs (among other things).  You state:

"I have looked at both OAuth &lt;http://oauth.net/&gt; and OpenID 
&lt;http://openid.net/&gt;, but they do not seem to have a good story for 
automated agents as they focus on having human interaction in a browser 
session."

This is true of OpenID but not of OAuth.  OAuth explicitly separates the 
step of a user granting authorization (which has a standard in-browser 
flow, and can also be accomplished through out of band means) and the 
use of that authorization, as embodied in an access token, at some point 
in the future.  So for example, you can take the results of the 
in-browser authorization step and then, potentially, use them in 
server-to-server calls for the next several months, even if the user 
never logs in again.

Alan Dean wrote:
&gt; All,
&gt;
&gt; I'm not a security expert, but I have been musing how to federate 
&gt; regular HTTP Digest Auth for a little while for RESTful applications 
&gt; and have posted my thoughts [1].
&gt;
&gt; For all I know, this has been thought of before or already debunked.
&gt;
&gt; Anyway, feedback welcome.
&gt;
&gt; [1] http://tinyurl.com/fedauth
&gt;
&gt; Regards,
&gt; Alan Dean
&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;   

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11507<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-11-16 12:56:22<br>
Subject:Re: [rest-discuss] "Federated HTTP Authentication"<br>
Message:<br><br>
<pre>John,

Thanks for the reply.

Looking again at OAuth and it does seem awfully complex. Perhaps I am
missing something?

I'm not clear why I would choose a complex mechanism that doesn't have
general tooling support over a simple one that does.

As I say, this is not my area of expertise so I'm happy to be set on
the straight and narrow if my thinking is wrong ;-)

Also, do you have a link which just lays out the HTTP messages?
http://oauth.net/core/1.0/ is very disjointed and it is hard to follow
the total message exchange.

Alan

On Sun, Nov 16, 2008 at 8:08 AM, John Panzer &lt;jpanzer@...&gt; wrote:
&gt; I haven't looked at this in detail yet, but I think you should take another
&gt; look at OAuth.  OAuth was designed to allow access to RESTful APIs (among
&gt; other things).  You state:
&gt;
&gt; "I have looked at both OAuth and OpenID, but they do not seem to have a good
&gt; story for automated agents as they focus on having human interaction in a
&gt; browser session."
&gt;
&gt; This is true of OpenID but not of OAuth.  OAuth explicitly separates the
&gt; step of a user granting authorization (which has a standard in-browser flow,
&gt; and can also be accomplished through out of band means) and the use of that
&gt; authorization, as embodied in an access token, at some point in the future.
&gt; So for example, you can take the results of the in-browser authorization
&gt; step and then, potentially, use them in server-to-server calls for the next
&gt; several months, even if the user never logs in again.
&gt;
&gt; Alan Dean wrote:
&gt;
&gt; All,
&gt;
&gt; I'm not a security expert, but I have been musing how to federate
&gt; regular HTTP Digest Auth for a little while for RESTful applications
&gt; and have posted my thoughts [1].
&gt;
&gt; For all I know, this has been thought of before or already debunked.
&gt;
&gt; Anyway, feedback welcome.
&gt;
&gt; [1] http://tinyurl.com/fedauth
&gt;
&gt; Regards,
&gt; Alan Dean
&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11508<br>
Sender:mike@...<br>
Post Date/Time:2008-11-17 11:05:54<br>
Subject:HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>I've read that HTML5 will be providing markup for the PUT and DELETE methods. This is definitely good news - but I considered something else recently that, from what I can gather, is not in the current spec for HTML5; markup for specifying appropriate Accept headers for requests.

My initial idea is that hypermedia tags (such as &lt;a&gt; and &lt;img&gt;) could contain an optional Accept attribute, for indicating the appropriate content-type for the request indicated.

I brought this up recently in #whatwg on freenode, and I was informed that this is not currently being considered since the equivalent can be achieved by a URL parameter such as '?type=application/xml'. Many would not Accept (pun intended - sorry) that this method was significantly different, some even went as far as to suggest (disturbingly) that serving multiple content-types from the same URI is undesirable!

To my mind, the best situation would be to have both options available for developers. Although, I assume that specifying content-type in a URI is violating RESTful principals; theoretically at least.

One argument that can be made for providing the option for both methods is browser bookmarking - can anyone tell me how browsers store bookmarks; do they store the entire request complete with headers? If this is not the case, the only feasible way to provision typed bookmarking is to specify the type in the URL.

Does anyone else agree that an Accept attribute would be a useful tool for making browser interaction more RESTful? Is it worth persuing this issue with the HTML5 working group?

Regards,
Mike

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11509<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-11-17 13:29:23<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>Hi

&gt;
&gt; My initial idea is that hypermedia tags (such as &lt;a&gt; and &lt;img&gt;) could
&gt; contain an optional Accept attribute, for indicating the appropriate
&gt; content-type for the request indicated.
&gt;

Why? I mean, forgetting the HTML5 WG etc., why would you want to do this ?

IMHO, the content-type that the client wants should be the decision of
the client only. The server shouldn't have any say based upon the
representation it sent previously.

If the server wants to serve only a particular content-type (which is
what I think you are saying it will do by putting a specific accept
attribute) , it can do that anyways - why does it need to tell the
client this via a "Accept:" attribute in the previous representation
sent?


Ofcourse, I may not have thought of any particular use case that you
might have - I am just basing this off RFC 2616 (section 12)


Regards
Devdatta

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11510<br>
Sender:Justin Sheehy &lt;justin@...&gt;<br>
Post Date/Time:2008-11-17 13:44:32<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>I think that the assumption was that the references could be to
resources on different servers.  Hypermedia and so on.

-Justin


On Nov 17, 2008, at 8:29 AM, dev wrote:

&gt; IMHO, the content-type that the client wants should be the decision of
&gt; the client only. The server shouldn't have any say based upon the
&gt; representation it sent previously.
&gt;
&gt; If the server wants to serve only a particular content-type (which is
&gt; what I think you are saying it will do by putting a specific accept
&gt; attribute) , it can do that anyways - why does it need to tell the
&gt; client this via a "Accept:" attribute in the previous representation
&gt; sent?



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11511<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-11-17 13:47:53<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>But if the server wants to link to a particular content-type only,
then isn't that a different resource? Cos tomorrow, the other server
could stop serving that particular content-type from that resource? In
that case, the URL should contain the Content-type, imho.

My  argument is : there is server side negotiation and there is agent
driven negotiation (in RFC i.e). An Accept: in the &lt;a&gt;,&lt;img&gt; links in
neither.

Cheers
Devdatta

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11512<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-11-17 14:02:48<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11513<br>
Sender:mike@...<br>
Post Date/Time:2008-11-17 15:17:52<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>"But if the server wants to link to a particular content-type only,
then isn't that a different resource? Cos tomorrow, the other server
could stop serving that particular content-type from that resource? In
that case, the URL should contain the Content-type, imho."

How would that situation be improved by putting conneg in the URL?

It would be worsened; since using conneg with Accept headers leaves no requirement on the server to respect the content type requested, and this gives the server the option to return a 415 or respond with an alternative type than requested.

If conneg is in the URL (e.g. ?type=application/xml) it only makes sense to return a 404 - so it's alot more restrictive in that sense.

Having multiple URIs for multiple representations of the same resource implies that they are separate resources. I can't see how that approach is acceptable as a RESTful design.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11514<br>
Sender:mike@...<br>
Post Date/Time:2008-11-17 15:19:27<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>Why should it be used just as a 'fallback'?

I can't seedevelopers moving to implement multiple representations at single URIsif the browsers (and HTML) can't even make use of it without having toresort to all of this javascript voodoo nonsense.

This is just standard HTTP stuff, right? Surely it needs to be supported?

A browser and a markup language that support the HTTP protocol.. what a novel idea..!

If i am reading the spec correctly, HTML4 defines the "type" attribute for the anchor tag (A) and the link tag (LINK)
http://www.w3.org/TR/REC-html40/struct/links.html#adef-type-A
and the "enctype" attribute for the FORM tag.
http://www.w3.org/TR/REC-html40/interact/forms.html#adef-accept
and I see indication that these are going away in HTML5.

Finally, while it might be helpful to add an "accept" or "type" attribute as a hint to the IMG tag (to allow clients to provide a fallback if they cannot "accept" the content-type presented), I don't see this as a "must-have" at this time.

mca
http://amundsen.com/blog/




On Mon, Nov 17, 2008 at 08:47, dev &lt;dev.akhawe@...&gt; wrote:
But if the server wants to link to a particular content-type only,
then isn't that a different resource? Cos tomorrow, the other server
could stop serving that particular content-type from that resource? In
that case, the URL should contain the Content-type, imho.

My argument is : there is server side negotiation and there is agent
driven negotiation (in RFC i.e). An Accept: in the &lt;a&gt;,&lt;img&gt; links in
neither.

Cheers
Devdatta




------------------------------------

Yahoo! Groups Links




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11515<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-11-17 15:25:19<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11516<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-11-17 15:30:48<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>&gt; Having multiple URIs for multiple representations of the same resource implies that they are separate resources. I can't see how that approach is acceptable as a RESTful design.
&gt;

Well actually I do believe that they are different resources. Don't
get into the "What is below", every server has a possibly infinite
number of URLs .. the URL/Resource can be anything I want. If someone
other than the server/agent involved in content negotiation is allowed
to decide the content-type, he is trying to access a different
resource, he wants a particular content-type that is different from
the normal resource. The normal resource returns a representation
based on content negotiation.

Please correct me if I am wrong.


Cheers
Devdatta


2008/11/17  &lt;mike@...&gt;:
&gt; "But if the server wants to link to a particular content-type only,
&gt; then isn't that a different resource? Cos tomorrow, the other server
&gt; could stop serving that particular content-type from that resource? In
&gt; that case, the URL should contain the Content-type, imho."
&gt;
&gt; How would that situation be improved by putting conneg in the URL?
&gt;
&gt; It would be worsened; since using conneg with Accept headers leaves no
&gt; requirement on the server to respect the content type requested, and this
&gt; gives the server the option to return a 415 or respond with an alternative
&gt; type than requested.
&gt;
&gt; If conneg is in the URL (e.g. ?type=application/xml) it only makes sense to
&gt; return a 404 - so it's alot more restrictive in that sense.
&gt;
&gt; Having multiple URIs for multiple representations of the same resource
&gt; implies that they are separate resources. I can't see how that approach is
&gt; acceptable as a RESTful design.
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11517<br>
Sender:mike@...<br>
Post Date/Time:2008-11-17 15:41:00<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>mca,

What happens if I want to serve a png *and* an animated gif representation at /images/logo?

I want to serve your UA the animated gif.. but it will only ever receive a png because there is no way of indicating the contextual preference in the markup..

Regards,
Mike

mike:

I think I'm missing a key point in regards to using "type" and IMG tags.

Getting your response to a concrete example will help me:

I include the following markup in a response to a browser user-agent:
&lt;img src="/images/logo" alt="logo" /&gt;
When the user agent de-references the URI in the source attribute, the user agent also sends it's default accept header:
Accept:image/png, image/*, */*
This allows the server to engage in content-negotitation and determine the best fit MIME-type to use in the response.

Is there something in you suggestion for an "accept" attribute that changes/improves this pattern?


mca
http://amundsen.com/blog/




On Mon, Nov 17, 2008 at 09:19,  &lt;mike@...&gt; wrote:

Why should it be used just as a 'fallback'?

I can't see developers moving to implement multiple representations at single URIs if the browsers (and HTML) can't even make use of it without having to resort to all of this javascript voodoo nonsense.

This is just standard HTTP stuff, right? Surely it needs to be supported?

A browser and a markup language that support the HTTP protocol.. what a novel idea..!




If i am reading the spec correctly, HTML4 defines the "type" attribute for the anchor tag (A) and the link tag (LINK)
http://www.w3.org/TR/REC-html40/struct/links.html#adef-type-A
and the "enctype" attribute for the FORM tag.
http://www.w3.org/TR/REC-html40/interact/forms.html#adef-accept
and I see indication that these are going away in HTML5.

Finally, while it might be helpful to add an "accept" or "type" attribute as a hint to the IMG tag (to allow clients to provide a fallback if they cannot "accept" the content-type presented), I don't see this as a "must-have" at this time.

mca
http://amundsen.com/blog/




On Mon, Nov 17, 2008 at 08:47, dev &lt;dev.akhawe@...&gt; wrote:
But if the server wants to link to a particular content-type only,
then isn't that a different resource? Cos tomorrow, the other server
could stop serving that particular content-type from that resource? In
that case, the URL should contain the Content-type, imho.

My argument is : there is server side negotiation and there is agent
driven negotiation (in RFC i.e). An Accept: in the &lt;a&gt;,&lt;img&gt; links in
neither.

Cheers
Devdatta




------------------------------------

Yahoo! Groups Links





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11518<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-11-17 15:36:16<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>On Nov 17, 2008, at 7:17 AM, mike@... wrote:
&gt; Having multiple URIs for multiple representations of the same  
&gt; resource implies that they are separate resources. I can't see how  
&gt; that approach is acceptable as a RESTful design.


Not to distract from the main point, but a resource can have any  
number or URIs.  However, a URI can at most represent one resource.

- Steve

--------------
Steve G. Bjorg
http://mindtouch.com
http://twitter.com/bjorg


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11519<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-11-17 15:51:29<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>
On Nov 17, 2008, at 3:05 AM, mike@... wrote:

&gt; My initial idea is that hypermedia tags (such as &lt;a&gt; and &lt;img&gt;)  
&gt; could contain an optional Accept attribute, for indicating the  
&gt; appropriate content-type for the request indicated.


Not sure how this can be useful, since the UA and not the server  
(through hypermedia) needs to do the negotiation. Let's say, when you  
create a link

&lt;a href='blah' accept='image/svg+xml'&gt;...&lt;/a&gt;

the server is telling the UA to ask for SVG irrespective of whether  
the UA can process SVG or not.

Subbu

---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11520<br>
Sender:mike@...<br>
Post Date/Time:2008-11-17 16:15:57<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>"Not sure how this can be useful, since the UA and not the server  
(through hypermedia) needs to do the negotiation. Let's say, when you  
create a link

&lt;a href='blah' accept='image/svg+xml'&gt;...&lt;/a&gt;

the server is telling the UA to ask for SVG irrespective of whether  
the UA can process SVG or not.

Subbu"


If that is the desired behavior, what is the problem with that?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11521<br>
Sender:mike@...<br>
Post Date/Time:2008-11-17 16:18:17<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>&gt;&gt; Having multiple URIs for multiple representations of the same  
&gt;&gt; resource implies that they are separate resources. I can't see how  
&gt;&gt; that approach is acceptable as a RESTful design.


&gt;Not to distract from the main point, but a resource can have any  
&gt;number or URIs.  However, a URI can at most represent one resource.

&gt;- Steve

I was implying that treating representations as resources was not RESTful.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11522<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-11-17 19:07:14<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>On Nov 17, 2008, at 8:18 AM, mike@... wrote:

&gt;&gt;&gt; Having multiple URIs for multiple representations of the same
&gt;&gt;&gt; resource implies that they are separate resources. I can't see how
&gt;&gt;&gt; that approach is acceptable as a RESTful design.
&gt;
&gt;
&gt;&gt; Not to distract from the main point, but a resource can have any
&gt;&gt; number or URIs.  However, a URI can at most represent one resource.
&gt;
&gt;&gt; - Steve
&gt;
&gt; I was implying that treating representations as resources was not  
&gt; RESTful.

There is no experiment that could determine if it's the same resource  
with different representations or different resources, unless the  
server told you so.  So adding this constraint feels superfluous.

Also, it's not obvious to me why it would not be RESTful to do so.   
What principle would be violated?

- Steve

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11523<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-11-18 07:59:49<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>On Mon, 17 Nov 2008 12:05:54 +0100
mike@... wrote:
&gt; 
&gt; To my mind, the best situation would be to have both options
&gt; available for developers. Although, I assume that specifying
&gt; content-type in a URI is violating RESTful principals; theoretically
&gt; at least.
&gt; 

Not at all.  Horribly bad practice, though...  A URI identifies a
resource, there's nothing theoretically wrong with two resources having
the following identifiers (since they're opaque):

http://example.org/image;type=image/png
http://example.org/image;type=image/jpeg

Coupling that parameter to the Content-Type header returned by the
server can certainly be done, but why?  Standard practice would look
something like this:

http://example.org/image.png
http://example.org/image.jpg

With a corresponding server configuration which bases Content-Type on
filename extension. These are separate resources, in either case.  What
you're missing, is that both resources can also be representations of
the following negotiated resource:

http://example.org/image

Either resource may be returned as a representation of /image, using
content negotiation based on Accept header.  The response should also
include a Content-Location header giving the URL of the resource used
to fulfill the request, and a Vary: Accept header to explicitly inform
clients and intermediaries that multiple representations exist.

If an HTML author or generator wishes to explicitly link to the PNG or
the JPG, they have all the information they need to do so and avoid
using the negotiated URL altogether, if the situation warrants.

So it seems to me that there's already plenty of mechanism in place to
do exactly what it is that you want to do, without adding @accept.

&gt;
&gt; One argument that can be made for providing the option for both
&gt; methods is browser bookmarking - can anyone tell me how browsers
&gt; store bookmarks; do they store the entire request complete with
&gt; headers? If this is not the case, the only feasible way to provision
&gt; typed bookmarking is to specify the type in the URL.
&gt; 

A browser's bookmarks have nothing to do with HTTP headers, at least
not in any that I've ever seen.  Bookmarks are fairly portable between
browsers these days, I've partially implemented import/export between
blogroll and browser even, they're just links annotated in one way or
another.  AFAIK, browsers only care about HTTP headers for caching.

&gt;
&gt; Does anyone else agree that an Accept attribute would be a useful
&gt; tool for making browser interaction more RESTful? Is it worth
&gt; persuing this issue with the HTML5 working group?
&gt; 

Yes and no, and no comment as regards WHATWG.  There are cases where a
Web application may need to override the browser's request headers, of
course JavaScript can do this these days, but you do have a point that
some provision should be made in markup.

&gt; 
&gt; A browser and a markup language that support the HTTP protocol.. what
&gt; a novel idea..!
&gt; 
&gt; This is just standard HTTP stuff, right? Surely it needs to be
&gt; supported?
&gt;


I'm not sure what you mean by browsers not supporting HTTP, just
because HTML disallows PUT doesn't mean browsers can't send PUT.  As
far as better HTTP support in markup languages, this has already been
done in XForms 1.1, using submission elements inside the 'model':

&lt;xfm:submission method='get' resource='http://example.org/image'&gt;
&lt;xfm:header&gt;
 &lt;xfm:name&gt;Accept&lt;/xfm:name&gt;
 &lt;xfm:value&gt;image/png&lt;/xfm:value&gt;
&lt;/xfm:header&gt;
&lt;/xfm:submission&gt;

This would retrieve image.png but never image.jpg from /image .

&gt; 
&gt; I can't seedevelopers moving to implement multiple representations at
&gt; single URIsif the browsers (and HTML) can't even make use of it
&gt; without having toresort to all of this javascript voodoo nonsense.
&gt;

Developers have been implementing content negotiation for years, and
browsers have sent request headers for years.  So browsers make use of
negotiated resources all the time, the advantage to the developer is
the opportunity to offer multiple representations without any advance
knowledge of client preference or capability.

Overriding clients' innate HTTP headers without Javascript is a noble
goal, but content negotiation is hardly useless, pointless or not
implemented because of it, since conneg is done at the protocol level,
and is not a function of media-type.

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11524<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-11-18 08:16:45<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>On Mon, 17 Nov 2008 19:17:53 +0530
dev wrote:
&gt;
&gt; But if the server wants to link to a particular content-type only,
&gt; then isn't that a different resource? Cos tomorrow, the other server
&gt; could stop serving that particular content-type from that resource? In
&gt; that case, the URL should contain the Content-type, imho.
&gt; 

The server can't know the preferences or capabilities of clients from
one request to the next.  If a link to a negotiated resource is in
question, and that resource stops serving a particular representation,
then clients can fall back to a representation in another MIME type it
may very well Accept.  Unless Content-Type is encoded in the URI, which
couples things together such that the client can't fall back, defeating
the entire purpose of the negotiated resource in the first place.

Again, an HTML author or generator can simply link directly to the
specific resource by linking to the URI returned in Content-Location
instead of linking to the negotiated URI.  If that resource ceases to
exist the response will be 410 Gone, but the negotiated URI won't
disappear:  it will just serve a different set of representations.  If
an author or generator only ever wants a specific MIME type, then they
should link to that resource directly instead of the negotiated
resource, no encoding of Content-Type in the URI is necessary.

&gt;
&gt; My  argument is : there is server side negotiation and there is agent
&gt; driven negotiation (in RFC i.e). An Accept: in the &lt;a&gt;,&lt;img&gt; links in
&gt; neither.
&gt; 

If @accept is used to override one Accept header with another before
the client sends the request, then it's still server-side negotiation
at the protocol level.

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11525<br>
Sender:Mike &lt;mike@...&gt;<br>
Post Date/Time:2008-11-18 10:07:45<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>Eric J. Bowman wrote:
&gt;   
&gt;&gt; My  argument is : there is server side negotiation and there is agent
&gt;&gt; driven negotiation (in RFC i.e). An Accept: in the &lt;a&gt;,&lt;img&gt; links in
&gt;&gt; neither.
&gt;&gt;
&gt;&gt;     
&gt;
&gt; If @accept is used to override one Accept header with another before
&gt; the client sends the request, then it's still server-side negotiation
&gt; at the protocol level.
&gt;   
Exactly - my argument is that HTML5 should provide at least the option 
for developers to chose whether or not to make use of HTTP conneg in 
their web interfaces.. at the moment there is no choice unless you use 
javascript. So it's not suprising that hardly anyone is making decent 
use of protocol level conneg!

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11526<br>
Sender:Mike &lt;mike@...&gt;<br>
Post Date/Time:2008-11-18 12:22:02<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>Eric J. Bowman wrote:
&gt; On Mon, 17 Nov 2008 12:05:54 +0100
&gt; mike@... wrote:
&gt;   
&gt;&gt; To my mind, the best situation would be to have both options
&gt;&gt; available for developers. Although, I assume that specifying
&gt;&gt; content-type in a URI is violating RESTful principals; theoretically
&gt;&gt; at least.
&gt;&gt;
&gt;&gt;     
&gt;
&gt; Not at all.  Horribly bad practice, though...  A URI identifies a
&gt; resource, there's nothing theoretically wrong with two resources having
&gt; the following identifiers (since they're opaque):
&gt;
&gt; http://example.org/image;type=image/png
&gt; http://example.org/image;type=image/jpeg
&gt;
&gt; Coupling that parameter to the Content-Type header returned by the
&gt; server can certainly be done, but why?  Standard practice would look
&gt; something like this:
&gt;
&gt; http://example.org/image.png
&gt; http://example.org/image.jpg
&gt;
&gt; With a corresponding server configuration which bases Content-Type on
&gt; filename extension. These are separate resources, in either case.  What
&gt; you're missing, is that both resources can also be representations of
&gt; the following negotiated resource:
&gt;
&gt; http://example.org/image
&gt;
&gt; Either resource may be returned as a representation of /image, using
&gt; content negotiation based on Accept header.  The response should also
&gt; include a Content-Location header giving the URL of the resource used
&gt; to fulfill the request, and a Vary: Accept header to explicitly inform
&gt; clients and intermediaries that multiple representations exist.
&gt;
&gt; If an HTML author or generator wishes to explicitly link to the PNG or
&gt; the JPG, they have all the information they need to do so and avoid
&gt; using the negotiated URL altogether, if the situation warrants.
&gt;
&gt; So it seems to me that there's already plenty of mechanism in place to
&gt; do exactly what it is that you want to do, without adding @accept.
&gt;
&gt;   
&gt;&gt; One argument that can be made for providing the option for both
&gt;&gt; methods is browser bookmarking - can anyone tell me how browsers
&gt;&gt; store bookmarks; do they store the entire request complete with
&gt;&gt; headers? If this is not the case, the only feasible way to provision
&gt;&gt; typed bookmarking is to specify the type in the URL.
&gt;&gt;
&gt;&gt;     
&gt;
&gt; A browser's bookmarks have nothing to do with HTTP headers, at least
&gt; not in any that I've ever seen.  Bookmarks are fairly portable between
&gt; browsers these days, I've partially implemented import/export between
&gt; blogroll and browser even, they're just links annotated in one way or
&gt; another.  AFAIK, browsers only care about HTTP headers for caching.
&gt;
&gt;   
&gt;&gt; Does anyone else agree that an Accept attribute would be a useful
&gt;&gt; tool for making browser interaction more RESTful? Is it worth
&gt;&gt; persuing this issue with the HTML5 working group?
&gt;&gt;
&gt;&gt;     
&gt;
&gt; Yes and no, and no comment as regards WHATWG.  There are cases where a
&gt; Web application may need to override the browser's request headers, of
&gt; course JavaScript can do this these days, but you do have a point that
&gt; some provision should be made in markup.
&gt;
&gt;   
&gt;&gt; A browser and a markup language that support the HTTP protocol.. what
&gt;&gt; a novel idea..!
&gt;&gt;
&gt;&gt; This is just standard HTTP stuff, right? Surely it needs to be
&gt;&gt; supported?
&gt;&gt;
&gt;&gt;     
&gt;
&gt;
&gt; I'm not sure what you mean by browsers not supporting HTTP, just
&gt; because HTML disallows PUT doesn't mean browsers can't send PUT.  As
&gt; far as better HTTP support in markup languages, this has already been
&gt; done in XForms 1.1, using submission elements inside the 'model':
&gt;
&gt; &lt;xfm:submission method='get' resource='http://example.org/image'&gt;
&gt; &lt;xfm:header&gt;
&gt;  &lt;xfm:name&gt;Accept&lt;/xfm:name&gt;
&gt;  &lt;xfm:value&gt;image/png&lt;/xfm:value&gt;
&gt; &lt;/xfm:header&gt;
&gt; &lt;/xfm:submission&gt;
&gt;
&gt; This would retrieve image.png but never image.jpg from /image .
&gt;
&gt;   
&gt;&gt; I can't seedevelopers moving to implement multiple representations at
&gt;&gt; single URIsif the browsers (and HTML) can't even make use of it
&gt;&gt; without having toresort to all of this javascript voodoo nonsense.
&gt;&gt;
&gt;&gt;     
&gt;
&gt; Developers have been implementing content negotiation for years, and
&gt; browsers have sent request headers for years.  So browsers make use of
&gt; negotiated resources all the time, the advantage to the developer is
&gt; the opportunity to offer multiple representations without any advance
&gt; knowledge of client preference or capability.
&gt;
&gt; Overriding clients' innate HTTP headers without Javascript is a noble
&gt; goal, but content negotiation is hardly useless, pointless or not
&gt; implemented because of it, since conneg is done at the protocol level,
&gt; and is not a function of media-type
If the solution uses JavaScript for Accept headers and PUT/DELETE 
requests, is that browser support or JavaScript virtual machine support?

Maybe someone can correct me here, but as I understand it; content types 
served at a given URI are effectively that given resource's representations.

A URI should be used to indicate a resource, but (even though it is 
possible) is it good practice for a resource to indicate a 
representation? Clearly, this is common practice now, whether it is a 
query parameter or a 'file extension' - but it seems to me that this 
violates the principal of what a resource is (at least according to my 
interpretation of  the definition in Roy's dissertation). I would argue 
that the reason for this is because HTML has not provided browsers with 
a hypertext mechanism for protocol conneg. I think developers should at 
least be given the option, personally.

Isn't one of the benefits of statelessness that any state can be stored 
by a user (i.e. bookmarked)? If browsers aren't currently providing this 
functionality in a way which leverages these benefits - I agree entirely 
that it is not feasible to completely discount conneg over URIs, but if 
no movement is made to have HTML encourage browsers to be better HTTP 
clients, it is likely that nothing will be done about it.

Regards,
Mike

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11527<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-11-18 15:13:36<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>On Tue, 18 Nov 2008 12:22:02 +0000
Mike wrote:
&gt;
&gt; If the solution uses JavaScript for Accept headers and PUT/DELETE 
&gt; requests, is that browser support or JavaScript virtual machine
&gt; support?
&gt; 

I don't know what a JavaScript virtual machine is.  Since scripting
makes use of the capabilities a browser already has, the script isn't
an HTTP client, the browser is.  If a browser implements PUT, then it
can be scripted to PUT; but if a browser doesn't implement PUT, no
amount of scripting will make it PUT.

&gt;
&gt; Maybe someone can correct me here, but as I understand it; content
&gt; types served at a given URI are effectively that given resource's
&gt; representations.
&gt; 

Errr, uhhh, a Content-Type is not a representation.  A URI may serve
multiple representations, but there's no requirement for a 1:1
relationship with MIME type.  A URI may serve HTML 4.01 to some clients
and XHTML 1.0 to others, both as text/html, with content negotiation
based on User-Agent rather than Accept, even.  Or, a URI may serve two
different representations of an HTML 4.01 page, both served as
text/html, one zipped and the other raw, with content negotiation based
on Accept-Encoding.

Compressing content is an example of conneg in everyday use.  When you
implement GZIP on your server's output, you double the number of
representations for each resource. If the compression is done
beforehand rather than on-the-fly, the response headers should include a
Content-Location with the URI of either the raw or the compressed
representation.  I would want to directly reference any stored file,
but could care less about directly referencing different output streams.

Because there's no need to directly reference either the raw or the
compressed representation as streams, there's no need to make them
separate resources with different URIs.  There's no need to implement
this negotiation in markup, nor would it make sense to do so. If I want
to dereference the compressed representation as a stream, I just need to
make sure the request includes Accept-Encoding: gzip, but since this
representation has no URI it can't be directly referenced (bookmarked).

&gt;
&gt; A URI should be used to indicate a resource, but (even though it is 
&gt; possible) is it good practice for a resource to indicate a 
&gt; representation? Clearly, this is common practice now, whether it is a 
&gt; query parameter or a 'file extension' - but it seems to me that this 
&gt; violates the principal of what a resource is (at least according to
&gt; my interpretation of  the definition in Roy's dissertation). I would
&gt; argue that the reason for this is because HTML has not provided
&gt; browsers with a hypertext mechanism for protocol conneg. I think
&gt; developers should at least be given the option, personally.
&gt; 

A resource is anything identified by a URI.  In the case of a
negotiated URI with multiple representations, each representation may
be a resource in its own right, you just have to assign it a URI.  It
is not bad practice to do this, it's how content negotiation is
properly done (in most cases, the prominent exception being
compression).  There's no violation of Roy's definitions of resource or
representation here.

Content negotiation has nothing to do with HTML, really.  XForms or
JavaScript allows a document author or generator to override request
headers, overriding conneg is a different problem than implementing it.
Since conneg is handled at the protocol level, it would be silly to
implement it in markup, IMO.  HTML doesn't need its own content
negotiation mechanism, just a way to override the client's request
headers without using JavaScript.

&gt;
&gt; Isn't one of the benefits of statelessness that any state can be
&gt; stored by a user (i.e. bookmarked)? If browsers aren't currently
&gt; providing this functionality in a way which leverages these benefits
&gt; - I agree entirely that it is not feasible to completely discount
&gt; conneg over URIs, but if no movement is made to have HTML encourage
&gt; browsers to be better HTTP clients, it is likely that nothing will be
&gt; done about it.
&gt; 

A negotiated URI is easily bookmarked.  All variants represent the same
state, though.  The property of being compressed or not, is wholly
separate from application state.  Receiving a JPEG instead of a PNG
doesn't change the application state.  Subsequent requests for a
bookmark will return the same response, unless the server's algorithm
has changed, or the client is upgraded and its request headers have
changed.  This may change the format of the response, but not the
application state represented by the response.

There's no valid reason for a client to store request headers
as part of the bookmark, this would defeat the entire purpose of
content negotiation, not to mention evolvability. If there's some reason
to bookmark a specific representation, then use the URI which identifies
that representation as its own resource (if available), don't try
storing the request headers and re-sending them -- that is not the Web
architecture.

HTTP headers are client specific, not request specific -- headers don't
(shouldn't) change from one request to the next unless the client is
upgraded. For example, an upgrade from Safari 2 to Safari 3 changes the
Accept header to include 'application/xhtml+xml'.  If a resource is
negotiated based on Accept header, it may well give a different
response to the upgraded browser -- it would be horrible practice if,
when selecting a bookmark link, the browser sent the same stored Accept
header it previously had, instead of the new one which more accurately
reflects the client's capabilities, and letting the server do its
conneg thing.

That's tight coupling, not to mention needless complexity, and doesn't
really solve any real-world problems, while precluding any benefit to
using content negotiation in the first place, if all bookmarks must be
altered when a browser is upgraded or stay locked in to a lower-quality
representation.  The simple solution which has been proven to work, is
to give each representation its own URI, instead of trying to invent
uber-bookmarks for negotiated resources, or trying to implement content
negotiation in markup.

In REST, any resource of interest is given a URI, such that application
state may be bookmarked.  But, that application state is not a function
of the Content-Type.  A compressed representation doesn't need its own
URI.  The argument for using separate URIs for image.jpg/image.png has
more to do with proper caching, than being able to bookmark them
separately, since they represent the same application state.

I've tried to elaborate here, rather than simplify, hope this helps.

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11528<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-11-18 15:22:34<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>Mike,

&gt; Exactly - my argument is that HTML5 should provide at least the option
&gt; for developers to chose whether or not to make use of HTTP conneg in
&gt; their web interfaces.. at the moment there is no choice unless you use
&gt; javascript. So it's not suprising that hardly anyone is making decent
&gt; use of protocol level conneg!

In your model, the server would be returning HTML like

&lt;a href="...." preferAccepts="some media types"/&gt;

which then influences the Accept-* headers that the UA will send to  
that URI.

What should the UA do if it can not support the server's preference  
for conneg? I suspect that the server will have to first sniff UA's  
capabilities (through Accept headers, of course) before generating the  
above HTML. IOW, this is nothing but doing conneg while generating the  
link.

IMHO, this is no improvement from what exists today.

Subbu
----
http://www.subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11529<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-11-18 15:31:00<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>/echo Subbu

On Tue, Nov 18, 2008 at 3:22 PM, Subbu Allamaraju &lt;subbu@...&gt; wrote:
&gt; Mike,
&gt;
&gt;&gt; Exactly - my argument is that HTML5 should provide at least the option
&gt;&gt; for developers to chose whether or not to make use of HTTP conneg in
&gt;&gt; their web interfaces.. at the moment there is no choice unless you use
&gt;&gt; javascript. So it's not suprising that hardly anyone is making decent
&gt;&gt; use of protocol level conneg!
&gt;
&gt; In your model, the server would be returning HTML like
&gt;
&gt; &lt;a href="...." preferAccepts="some media types"/&gt;
&gt;
&gt; which then influences the Accept-* headers that the UA will send to
&gt; that URI.
&gt;
&gt; What should the UA do if it can not support the server's preference
&gt; for conneg? I suspect that the server will have to first sniff UA's
&gt; capabilities (through Accept headers, of course) before generating the
&gt; above HTML. IOW, this is nothing but doing conneg while generating the
&gt; link.
&gt;
&gt; IMHO, this is no improvement from what exists today.
&gt;
&gt; Subbu
&gt; ----
&gt; http://www.subbu.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11530<br>
Sender:Mike &lt;mike@...&gt;<br>
Post Date/Time:2008-11-18 15:37:11<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>Subbu Allamaraju wrote:
&gt; Mike,
&gt;
&gt;&gt; Exactly - my argument is that HTML5 should provide at least the option
&gt;&gt; for developers to chose whether or not to make use of HTTP conneg in
&gt;&gt; their web interfaces.. at the moment there is no choice unless you use
&gt;&gt; javascript. So it's not suprising that hardly anyone is making decent
&gt;&gt; use of protocol level conneg!
&gt;
&gt; In your model, the server would be returning HTML like
&gt;
&gt; &lt;a href="...." preferAccepts="some media types"/&gt;
&gt;
&gt; which then influences the Accept-* headers that the UA will send to 
&gt; that URI.
&gt;
&gt; What should the UA do if it can not support the server's preference 
&gt; for conneg? I suspect that the server will have to first sniff UA's 
&gt; capabilities (through Accept headers, of course) before generating the 
&gt; above HTML. IOW, this is nothing but doing conneg while generating the 
&gt; link.

Right - that is unavoidable, in a browser has ways to handle content 
types that are not appropriate though.  It's no different from conneg in 
the URI - the same problem exists; I can provide a link to 
/something.html and have it return a jpeg.

&gt;
&gt; IMHO, this is no improvement from what exists today.

It provides a feasible way for browsers to retrieve multiple 
representations from a single URI, by setting the Accept header 
accordingly. This isn't possible with markup at the moment - you have to 
use the URI for conneg or make use of Javascript - both of which are 
unnecessary if you have this optional Accept attribute.

Regards,
Mike


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11531<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-11-18 16:07:03<br>
Subject:Fw: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>Meh. Can anyone do the change on the list config to prevent the reply to 
author by default? I always get caught by it :(

--------------------------------------------------
From: "Sebastien Lambla" &lt;seb@...&gt;
Sent: Tuesday, November 18, 2008 7:43 AM
To: &lt;mike@...&gt;
Subject: Re: [rest-discuss] HTML5 and RESTful HTTP in browsers

&gt;&gt; Having multiple URIs for multiple representations of the same resource 
&gt;&gt; implies that they are separate resources. I can't see how that approach 
&gt;&gt; is acceptable as a RESTful design.
&gt;
&gt; GET /customer
&gt; Accept: text/html
&gt;
&gt; 200 OK
&gt; Content-Location: /customer.html
&gt; Vary: Accept
&gt;
&gt; Generic uris are an important part of webarch, and each representation 
&gt; being exposed as a separate resource doesn't strike me as being an issue. 
&gt; Which part of REST is this breaking?
&gt;
&gt; Seb 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11532<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-11-18 17:12:42<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>
On Nov 18, 2008, at 7:37 AM, Mike wrote:

&gt; It provides a feasible way for browsers to retrieve multiple  
&gt; representations from a single URI, by setting the Accept header  
&gt; accordingly. This isn't possible with markup at the moment - you  
&gt; have to use the URI for conneg or make use of Javascript - both of  
&gt; which are unnecessary if you have this optional Accept attribute.


I agree. But I think this may introduce some peculiarities for web  
developers. Consider some cases:

a. Bookmarked URIs: Need to use agent-driven negotiation since the  
server can't influence Accept* headers yet.

b. Links for which the UA can support server's recommended Accept*  
headers. This is the happy path.

c. Links for which the UA can not support server's recommendations.  
This is like case A.

Case (b) is where the server can use media-type-free URIs, which can  
streamline cache flushing. On that note, the proposal makes sense.

Subbu
---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11533<br>
Sender:Mike &lt;mike@...&gt;<br>
Post Date/Time:2008-11-18 17:38:08<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>Eric J. Bowman wrote:
&gt;&gt; Maybe someone can correct me here, but as I understand it; content
&gt;&gt; types served at a given URI are effectively that given resource's
&gt;&gt; representations.
&gt;&gt;
&gt;&gt;     
&gt;
&gt; Errr, uhhh, a Content-Type is not a representation.  A URI may serve
&gt; multiple representations, but there's no requirement for a 1:1
&gt; relationship with MIME type.  A URI may serve HTML 4.01 to some clients
&gt; and XHTML 1.0 to others, both as text/html, with content negotiation
&gt; based on User-Agent rather than Accept, even.  Or, a URI may serve two
&gt; different representations of an HTML 4.01 page, both served as
&gt; text/html, one zipped and the other raw, with content negotiation based
&gt; on Accept-Encoding.
&gt;   

There is no practical reason to modify User-Agent in markup, the UA is 
probably the best indicator of this header, so I don't see how that is 
relevant here.

Accept-Encoding; again I can't think of a practical use for specifying 
this in markup.

&gt; Compressing content is an example of conneg in everyday use.  When you
&gt; implement GZIP on your server's output, you double the number of
&gt; representations for each resource. If the compression is done
&gt; beforehand rather than on-the-fly, the response headers should include a
&gt; Content-Location with the URI of either the raw or the compressed
&gt; representation.  I would want to directly reference any stored file,
&gt; but could care less about directly referencing different output streams.
&gt;
&gt; Because there's no need to directly reference either the raw or the
&gt; compressed representation as streams, there's no need to make them
&gt; separate resources with different URIs.  There's no need to implement
&gt; this negotiation in markup, nor would it make sense to do so. If I want
&gt; to dereference the compressed representation as a stream, I just need to
&gt; make sure the request includes Accept-Encoding: gzip, but since this
&gt; representation has no URI it can't be directly referenced (bookmarked).
&gt;
&gt;   

Not sure what you're getting at here, sorry.

&gt;&gt; A URI should be used to indicate a resource, but (even though it is 
&gt;&gt; possible) is it good practice for a resource to indicate a 
&gt;&gt; representation? Clearly, this is common practice now, whether it is a 
&gt;&gt; query parameter or a 'file extension' - but it seems to me that this 
&gt;&gt; violates the principal of what a resource is (at least according to
&gt;&gt; my interpretation of  the definition in Roy's dissertation). I would
&gt;&gt; argue that the reason for this is because HTML has not provided
&gt;&gt; browsers with a hypertext mechanism for protocol conneg. I think
&gt;&gt; developers should at least be given the option, personally.
&gt;&gt;
&gt;&gt;     
&gt;
&gt; A resource is anything identified by a URI.

Is it? I thought that people often misuse URIs to represent other 
horrible things like.. methods!

&gt; In the case of a
&gt; negotiated URI with multiple representations, each representation may
&gt; be a resource in its own right, you just have to assign it a URI.

I noticed you used the word 'may'. It pretty much has to as it stands, 
unless I use Javascript to control the Accept header in requests.

I don't really see the value in distinguishing a representation of a 
resource as a resource in it's own right, other than working around 
insufficiencies in technologies like HTML that prevent developers from 
indicating where a particular representation of a resource is appropriate.

I would turn that on it's head and ask; Why do you want to make so many, 
essentially, superfluous URI's? What is gained by doing this with a 
representation that is already addressable from this URI with the 
correct Accept headers?

&gt; It
&gt; is not bad practice to do this, it's how content negotiation is
&gt; properly done (in most cases, the prominent exception being
&gt; compression).  There's no violation of Roy's definitions of resource or
&gt; representation here.
&gt;
&gt;   

It's how content negotiation is *presently* done. I'd always understood 
Resource as reference to any given abstract entity; "report.html" 
doesn't seem very abstract to me.

&gt; Content negotiation has nothing to do with HTML, really.

You're correct. That is the reason I have brought this up - to get give 
developers the opportunity to make browsers negotiate content better - 
without having to embed it in URIs.

&gt;  XForms or
&gt; JavaScript allows a document author or generator to override request
&gt; headers, overriding conneg is a different problem than implementing it.
&gt; Since conneg is handled at the protocol level, it would be silly to
&gt; implement it in markup, IMO.  HTML doesn't need its own content
&gt; negotiation mechanism, just a way to override the client's request
&gt; headers without using JavaScript.
&gt;
&gt;   

My initial suggestion was "just a way to override the client's request 
headers without using JavaScript". I don't see how this can be achieved 
without adding this into markup, what's your alternative?

&gt;&gt; Isn't one of the benefits of statelessness that any state can be
&gt;&gt; stored by a user (i.e. bookmarked)? If browsers aren't currently
&gt;&gt; providing this functionality in a way which leverages these benefits
&gt;&gt; - I agree entirely that it is not feasible to completely discount
&gt;&gt; conneg over URIs, but if no movement is made to have HTML encourage
&gt;&gt; browsers to be better HTTP clients, it is likely that nothing will be
&gt;&gt; done about it.
&gt;&gt;
&gt;&gt;     
&gt;
&gt; A negotiated URI is easily bookmarked.  All variants represent the same
&gt; state, though.  The property of being compressed or not, is wholly
&gt; separate from application state.  Receiving a JPEG instead of a PNG
&gt; doesn't change the application state.  Subsequent requests for a
&gt; bookmark will return the same response, unless the server's algorithm
&gt; has changed, or the client is upgraded and its request headers have
&gt; changed.  This may change the format of the response, but not the
&gt; application state represented by the response.
&gt;
&gt; There's no valid reason for a client to store request headers
&gt; as part of the bookmark, this would defeat the entire purpose of
&gt; content negotiation, not to mention evolvability. If there's some reason
&gt; to bookmark a specific representation, then use the URI which identifies
&gt; that representation as its own resource (if available), don't try
&gt; storing the request headers and re-sending them -- that is not the Web
&gt; architecture.
&gt;   

I wouldn't store all of the request headers, only the ones that were not 
default.

&gt; HTTP headers are client specific, not request specific -- headers don't
&gt; (shouldn't) change from one request to the next unless the client is
&gt; upgraded. For example, an upgrade from Safari 2 to Safari 3 changes the
&gt; Accept header to include 'application/xhtml+xml'.  If a resource is
&gt; negotiated based on Accept header, it may well give a different
&gt; response to the upgraded browser -- it would be horrible practice if,
&gt; when selecting a bookmark link, the browser sent the same stored Accept
&gt; header it previously had, instead of the new one which more accurately
&gt; reflects the client's capabilities, and letting the server do its
&gt; conneg thing.
&gt;   

A browser is a special case UA though, I don't understand why it's 
Accept headers can't have their default overwritten from one request to 
the next. That makes perfect sense to me; the fact that it's not 
possible in practice is the reason I am bringing this up.

I see a bookmark as a store of a user's request, why would it be 
beneficial for an upgrade to cause a change in a user's bookmark?

&gt; That's tight coupling, not to mention needless complexity, and doesn't
&gt; really solve any real-world problems, while precluding any benefit to
&gt; using content negotiation in the first place, if all bookmarks must be
&gt; altered when a browser is upgraded or stay locked in to a lower-quality
&gt; representation.  The simple solution which has been proven to work, is
&gt; to give each representation its own URI, instead of trying to invent
&gt; uber-bookmarks for negotiated resources, or trying to implement content
&gt; negotiation in markup.
&gt;   

I don't understand the tight coupling reference at all. Can you expand 
this at all?

It doesn't "solve" any real-world problems but it encourages better use 
of URIs and Accept - to my mind, anyway.

&gt; In REST, any resource of interest is given a URI, such that application
&gt; state may be bookmarked.  But, that application state is not a function
&gt; of the Content-Type.  A compressed representation doesn't need its own
&gt; URI.  The argument for using separate URIs for image.jpg/image.png has
&gt; more to do with proper caching, than being able to bookmark them
&gt; separately, since they represent the same application state.
&gt;   

So serving multiple representations from one URI doesn't work with caching?

If I we use the URI for conneg..

and I PUT changes to /report.doc - how does my cache know that it needs 
to refresh /report.pdf and /report.xml ?

&gt; I've tried to elaborate here, rather than simplify, hope this helps.
&gt;   
Not really, no!

Thanks for your input

Regards,
Mike

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11534<br>
Sender:Mike &lt;mike@...&gt;<br>
Post Date/Time:2008-11-19 10:16:38<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>Subbu Allamaraju wrote:
&gt; On Nov 18, 2008, at 7:37 AM, Mike wrote:
&gt;
&gt;   
&gt;&gt; It provides a feasible way for browsers to retrieve multiple  
&gt;&gt; representations from a single URI, by setting the Accept header  
&gt;&gt; accordingly. This isn't possible with markup at the moment - you  
&gt;&gt; have to use the URI for conneg or make use of Javascript - both of  
&gt;&gt; which are unnecessary if you have this optional Accept attribute.
&gt;&gt;     
&gt;
&gt;
&gt; I agree. But I think this may introduce some peculiarities for web  
&gt; developers. Consider some cases:
&gt;
&gt; a. Bookmarked URIs: Need to use agent-driven negotiation since the  
&gt; server can't influence Accept* headers yet.
&gt;   

If a bookmark stored the URI and the Accept  headers, would that not be 
sufficient? Is a bookmark not just a stored state? Are request headers 
outside of that state?

&gt; b. Links for which the UA can support server's recommended Accept*  
&gt; headers. This is the happy path.
&gt;   

Yes, also, a server doesn't have to honor the accept header and respond 
with an appropriate content type - so that case would need to be 
accounted for aswell. This is no different from URI conneg.

This way, there is also potential for security measures in browsers 
whereby a response that does not correspond to the Accept header in the 
request can be dealt with as suspicious. This is not achievable to the 
same extent if the conneg is in the URI because there is no standard way 
of doing it in the URI, e.g.:

/page.html
/page;type=html
/page?content-type=text/html

This is a minor point, but a 'benefit' of protocol level conneg none the 
less! :)

&gt; c. Links for which the UA can not support server's recommendations.  
&gt; This is like case A.
&gt;
&gt;   

Generally speaking, most browsers (HTML reading UAs), will do something 
with a content type that they don't support - i.e. retrieve and store 
the data. I might need my browser to download some content-type it 
doesn't support, like mp3 or zip.


&gt; Case (b) is where the server can use media-type-free URIs, which can  
&gt; streamline cache flushing. On that note, the proposal makes sense.
&gt;   

I don't think developers will ever be encouraged to use media-type-free 
URIs until browsers and markup support that process.

Thanks for your feedback

Regards,
Mike


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11535<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-11-20 03:27:10<br>
Subject:Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>[Cross-posted in Service-Orientated Architecture Yahoo Group]

Two Gartner colleagues and I just published a note on WOA -- a term I
coined a couple of years ago and finally got around to nailing down.

I've posted some highlights from it on my blog:
http://blogs.gartner.com/nick_gall/2008/11/19/woa-putting-the-web-back-in-web-services/
.

Let me just repeat the essential definition here:

WOA is an architectural substyle of SOA that integrates systems and
users via a web of globally linked hypermedia based on the
architecture of the Web. This architecture emphasizes generality of
interfaces (UIs and APIs) to achieve global network effects through
five fundamental generic interface constraints:
1. Identification of resources
2. Manipulation of resources through representations
3. Self-descriptive messages
4. Hypermedia as the engine of application state
5. Application neutrality

I am especially interested in this list's feedback on the addition of
a fifth constraint to Roy's four "uniform interface" constraints:
"application neutrality". Reactions to the change from "uniform
interface" to "generic interface" are also welcome. (As are any other
reactions -- except to the choice of the name "WOA". &lt;grin&gt;)

-- Nick

Nick Gall
Phone: +1.781.608.5871
AOL IM: Nicholas Gall
Yahoo IM: nick_gall_1117
MSN IM: (same as email)
Google Talk: (same as email)
Email: nick.gall AT-SIGN gmail DOT com
Weblog: http://ironick.typepad.com/ironick/
Furl: http://www.furl.net/members/ngall

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11536<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-11-20 03:49:22<br>
Subject:Re: [rest-discuss] Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>
On Nov 19, 2008, at 7:27 PM, Nick Gall wrote:

&gt; 5. Application neutrality

In your blog post, you mentioned APP as an example of application  
neutrality. But APP is nothing but a "profile" of HTTP for certain  
kinds of resources, i.e., APP is a specialization.

It will be helpful if you provide a more concrete example of what you  
mean by application neutrality.

Subbu

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11537<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-11-20 07:02:42<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>On Tue, 18 Nov 2008 17:38:08 +0000
Mike wrote:
&gt; 
&gt; &gt; I've tried to elaborate here, rather than simplify, hope this helps.
&gt; &gt;   
&gt; Not really, no!
&gt; 

Take your time, conneg is a toughie, re-learning it in the context of
REST won't happen overnight... but, bluntly, that's exactly what you
need to do before continuing down the @accept path -- forget everything
you think you know about resources, representations and content
negotiation.  I'm in the mood to write about conneg in general, and
hope it helps anyone reading this, since it's really an under-
elaborated topic.  Plenty of folks here take the attitude of just not
using conneg aside from GZIP, but I like it for all sorts of things.

&gt;
&gt; &gt; Errr, uhhh, a Content-Type is not a representation.  A URI may serve
&gt; &gt; multiple representations, but there's no requirement for a 1:1
&gt; &gt; relationship with MIME type.  A URI may serve HTML 4.01 to some
&gt; &gt; clients and XHTML 1.0 to others, both as text/html, with content
&gt; &gt; negotiation based on User-Agent rather than Accept, even.  Or, a
&gt; &gt; URI may serve two different representations of an HTML 4.01 page,
&gt; &gt; both served as text/html, one zipped and the other raw, with
&gt; &gt; content negotiation based on Accept-Encoding.
&gt; &gt;   
&gt; 
&gt; There is no practical reason to modify User-Agent in markup, the UA
&gt; is probably the best indicator of this header, so I don't see how
&gt; that is relevant here.
&gt; 

When I say content negotiation may be based on User-Agent, that's a
server-side configuration, I'm not sure where you inferred that meant
modifying UA in markup on the client.  That aside, just because you
haven't thought of a practical application for something doesn't mean
there isn't one; this is why I point to XForms 1.1 as an example since
it allows the author/generator to set any header(s) to any value(s).

JavaScript and XForms allow separation of protocol operations from
markup, whereas @accept would couple protocol together with markup.
The principle here is REST's optional Code on Demand constraint.  I
think the notion of overriding a client's request headers belongs in
JavaScript or XForms since they're CoD, not in the core markup language.

&gt;
&gt; Accept-Encoding; again I can't think of a practical use for
&gt; specifying this in markup.
&gt; 

Two HEAD requests, one with Accept-Encoding: gzip and one without an
A-E header, might return two different Content-Length values, allowing
the client to calculate the compression ratio for a page and its
inline elements, and report it to the user.  I could do this in either
JavaScript or XForms, but unless the markup or script overrides the
client's innate Accept-Encoding header, this can't be done.  Best
thing for innovation would be to implement a way to set any header(s)
to any value (s) rather than allowing some and disallowing others.

&gt;
&gt; &gt; A resource is anything identified by a URI.
&gt; 
&gt; Is it? I thought that people often misuse URIs to represent other 
&gt; horrible things like.. methods!
&gt; 

What I should have said is, "Anything identified by a URI is a
resource", what I actually isn't technically accurate.  But I assure
you, all URIs identify resources (even resources that don't exist),
that's why they're called resource identifiers...  Using a URI to
identify a method specifically violates the Uniform Interface
constraint of REST, but it's still a resource, by definition of URI.

&gt;
&gt; &gt; In the case of a
&gt; &gt; negotiated URI with multiple representations, each representation
&gt; &gt; may be a resource in its own right, you just have to assign it a
&gt; &gt; URI.
&gt; 
&gt; I noticed you used the word 'may'. It pretty much has to as it
&gt; stands, unless I use Javascript to control the Accept header in
&gt; requests.
&gt; 

No.  If you enable GZIP compression for a resource, you will double the
number of representations, but this won't assign separate URIs for
those representations.  Since neither the zipped representation nor the
raw (unzipped) representation has its own URI (there is now a URI which
negotiates between both representations), they are not resources.

(Maybe I'm wrong there and technically, even without their own URIs
they're still resources by virtue of being representations, but I
stopped my confusion on that point by pragmatically deciding not to
personally call anything a resource unless and until it has a URI.  My
coffee cup here is technically a REST resource, but as I've not assigned
it a URI I don't recognize that it has any rights as a resource.  This
sounds monstrous of me, I know, but then again who names a coffee cup?)

Controlling the Accept header in requests has no effect on this server
behavior, but you can have either no Accept-Encoding header, or set
that header to 'gzip' and a client-side script (or markup) can toggle
between zipped and raw representations on plenty of real-world URIs.

If for some reason you want the zipped and the raw representations to
have their own URIs, then mint them, you now have one zipped resource
and one raw resource (by definition, once they have URIs), which are
both representations of some other negotiated resource.

(Despite being Mozilla-based, the K-meleon browser does not implement
GZIP.  Compressed content would render in Martian on K-meleon, since
there's no codec for it.  Without content negotiation based on Accept-
Encoding, the server would have to compress all output, and all clients
would have to implement GZIP, or there wouldn't be compression at all.
But, since servers do use content negotiation to implement compression,
the server can serve the raw representation to any browser (like
K-meleon) that doesn't Accept-Encoding: gzip, and the compressed
representation to most other browsers, because clients don't need to
know how to negotiate content -- just set their headers properly.)

&gt;
&gt; I don't really see the value in distinguishing a representation of a 
&gt; resource as a resource in it's own right, other than working around 
&gt; insufficiencies in technologies like HTML that prevent developers
&gt; from indicating where a particular representation of a resource is
&gt; appropriate.
&gt; 

HTML doesn't enter into the equation when we're talking about
compressing HTTP output streams.  Content negotiation, and resource vs.
representation vs. URI *are* the equation.  Until you understand that,
and therefore understand REST's resource/representation language,
you're going to have a tough time convincing folks that these concepts
arose due to the limitations of HTML -- let alone the need for adding
Accept-header tracking to bookmarks.  It isn't just that I don't see
the need for that, it's that I fail to see any limit it imposes on
innovation.  This is because you haven't convinced me that there's any
actual problem that needs fixing, there -- bookmark Content-Location.

Anyway, HTML only defines the syntax and semantics of a markup
language, it does not define HTTP headers or how to manipulate them,
beyond POST vs. GET and &lt;meta http-equiv&gt;, which isn't the same thing
as having control over request headers.  Sprinkling header control
throughout a document using an attribute is not an ideal solution, as
the resulting markup language becomes coupled to the HTTP protocol,
whereas leaving header control in JavaScript or a separate forms module
would make it easier to migrate to a new protocol (waka).  Whatever bad
things one wishes to say about HTML only including support for GET and
POST, it did prove the concept (perhaps due to this limitation) that a
markup language should be portable to new protocols, in moving from
HTTP 1.0 to 1.1. (Yeah, everyone wants PUT support now, but where the
hell were all you guys twelve years ago?  ;-)

XForms isn't a stand-alone language, it's an HTTP-specific extension
for XML markup languages. This, like using JavaScript to manipulate HTTP
request headers, is an example of REST's optional Code on Demand
constraint, so is the client-side XSLT capability of major modern
browsers.  XForms takes a bit of selling to include there, but I'm
willing to give it a try if anyone needs me to... I'm aware that it
isn't as clear-cut a case as JavaScript or XSLT.

What I'm thinking, is that had early HTML adopted more HTTP methods,
then instead of not having PUT today, we'd have PUT misimplementations
running rampant.  Perhaps HTTP 1.1, instead of defining PUT as it is
now, would have been required to change to accommodate how PUT was being
implemented at the time?  Or maybe by not accommodating mis-use, HTTP
1.1 would have failed in the marketplace, or more likely HTML 4 would
have failed to bring the browser wars to a close, possibly?

In the name of separation of concerns and the principle of generality,
I'd like to see modular HTML5, with an external forms module, and spin
off Web Forms just as the XHTML 2 group spun off XForms.  Linking is
fundamental to any hypertext language, forms not so much.  The reason
is that links work cross-protocol, forms become protocol-dependent.
Attaching @accept to links makes them protocol-dependent, and no longer
a copy-paste affair.

(Hopefully, WHATWG got the memo about modular HTML languages, because
this makes it much easier to substitute one forms language for another,
or adapt to future protocol changes, since only the forms and link
modules actually have anything to do with networking protocols, since
&lt;meta http-equiv&gt; is deprecated, at least in XHTML 1.1 thankfully.)

&gt; 
&gt; My initial suggestion was "just a way to override the client's
&gt; request headers without using JavaScript". I don't see how this can
&gt; be achieved without adding this into markup, what's your alternative?
&gt; 

While I agree that header manipulation should be possible in markup, I
don't think it belongs in a core language spec, but rather in a
protocol-specific extension, like XForms 1.1 is an HTTP-specific forms
module which can work with HTML or even SVG.  Hopefully, HTML5 will
allow authors to use XForms if they so desire, instead of restricting
innovation to what can be accomplished using name/value pairs and AJAX
as HTML5 looks to be doing.

&gt;
&gt; I would turn that on it's head and ask; Why do you want to make so
&gt; many, essentially, superfluous URI's? What is gained by doing this
&gt; with a representation that is already addressable from this URI with
&gt; the correct Accept headers?
&gt; 

You keep saying Accept headers, do you mean request headers?  Yes,
REST development involves lots of URIs.  As Roy says, when designing a
RESTful network-based application, the first thing you do is identify
your resources.  Not design your URI allocation scheme, identify which
resources will be exposed as 'first-class objects'.  Then you mint URIs
for them, i.e. put them in a hierarchy, or make them available by
query, etc. -- IOW, give them names (or Locations, i.e. URLs/URIs).

(Then again, REST development limits the creation of URI aliases, I
imagine a busy site using session URIs mints as many aliases in one day
as a RESTful site mints URIs in a year.  Sites which avoid the creation
of URIs by using session cookies defeat the purpose of caching, so what
on Earth is the benefit?  I'd rather have my server's responses cache.)

&gt; 
&gt; It's how content negotiation is *presently* done. I'd always
&gt; understood Resource as reference to any given abstract entity;
&gt; "report.html" doesn't seem very abstract to me.
&gt; 

That's because 'report.html' is a name, not a concept.  The concept,
if I catch your drift, is "report about something" -- NOT "report about
something in HTML format" or "report about something in PDF format".
I've just identified three resources by minting URIs for them:

http://example.org/report
http://example.org/report.html
http://example.org/report.pdf

The first URI has a 1:2 mapping of resource to representation with
Vary: Accept.  The other two URIs have a 1:1 mapping and no Vary
header.  All three are resources in their own right, the second two
also happen to be representations of the first resource.  The first URI
is a negotiated resource, because multiple representations are
available.  Quoting REST:

"
More precisely, a resource R is a temporally varying membership
function MR(t), which for time t maps to a set of entities, or values,
which are equivalent. The values in the set may be resource
representations and/or resource identifiers.
"

With GZIP enabled on the server, the first URI now has a 1:4 mapping and
the other two now have a 1:2 mapping, and all three become negotiated
resources.  The negotiated resource has (temporally speaking) gone from
mapping to a set of one identifier and two representations, to mapping
to a set of three identifiers and four representations.

The second two URIs are different resources because they are different
concepts: "report about something in HTML format" and "report about
something in PDF format".  The reason these two resources can share a
third URI, is because they represent the same application state
(provided they're kept synchronized), i.e. they're both "report about
something", in fact they're the same report about the same something.

Or, if you like, just have one resource:

http://example.org/report

And serve either HTML or PDF based on Accept header, and don't worry
about minting more URIs, or identifying new conceptualizations of the
same application state (report.atom).

Regardless of which way you go, a negotiated resource won't be
cacheable by HTTP 1.0 caches. HTTP 1.1 caches are different, but most
will refuse to cache a negotiated resource which fails to include a
Content-Location header (with the exception of Vary: Accept-Encoding,
only, since compression is an either/or proposition).

Minting three URIs is what makes it possible to use the Content-
Location header, which most caches require when encountering any opaque
string other than "Vary: Accept-Encoding" since there are an infinite
number of possibilities beyond that either/or proposition.  When
provided with separate URIs for each representation, a cache has a much
easier time narrowing infinite possibilities (tough to cache) down to a
manageable, separately-dereferenceable, separately-compressable set of
(easy to cache) representations, with their own headers (like Etag).

One cache may dereference individual representations from the server,
while the next cache uses Content-Location as an opaque identifier that
is parsed by an algorithm, but not dereferenced.  What caches *do* with
Content-Location varies, but I can't imagine a cache that doesn't need
it to be there for content negotiation to work properly.  Which doesn't
mean there aren't plenty of caches out there that don't work properly
even with the Content-Location header...

&gt;
&gt; I would turn that on it's head and ask; Why do you want to make so
&gt; many, essentially, superfluous URI's? What is gained by doing this
&gt; with a representation that is already addressable from this URI with
&gt; the correct Accept headers?
&gt;

The reason REST identifies so many resources as first-class objects is
for visibility, a desirable property induced by applying the Uniform
Interface constraints to an application... in fact, re-read Chapter 5
of Roy's dissertation, then meditate on it for 45 minutes chanting the
word 'visibility' as your mantra.  Quoting REST:

"
Within REST, intermediary components can actively transform the content
of messages because the messages are self-descriptive and their
semantics are visible to intermediaries...  REST enables intermediate
processing by constraining messages to be self-descriptive: interaction
is stateless between requests, standard methods and media types are
used to indicate semantics and exchange information, and responses
explicitly indicate cacheability.
"

Stateless, self-descriptive, visible and therefore, more cacheable
messages are only possible, where Accept-header conneg is concerned, in
the presence of a Content-Location header.  Setting HTTP aside for a
moment, the whole point is that there needs to be a unique identifier
involved somewhere (except in the either/or case of compression)for
each representation, and that's the role URI fills in REST.

So, what's gained by these 'superfluous' URIs is caching, and of
course in REST there's no such thing as session state in the URI so
there isn't the cache failure involved with such approaches. If you
aren't attempting to cache negotiated resources, then you don't need to
mint standalone URIs for each representation. However, the reduced
visibility which results from making the messages somewhat less than
self-descriptive, which is exactly why they can't be cached.

I'd say that any inherently-uncacheable public response has broken the
Uniform Interface constraint.  I'd also say that I mint exactly as many
URIs as my application calls for -- no more, no less -- to be cacheable.

&gt;
&gt; &gt; Content negotiation has nothing to do with HTML, really.
&gt; 
&gt; You're correct. That is the reason I have brought this up - to get
&gt; give developers the opportunity to make browsers negotiate content
&gt; better - without having to embed it in URIs.
&gt; 

The problem remains, not coupling markup (or URI) too closely with
protocol.  By far the most widely implemented form of content
negotiation is to compress response streams, and this does not involve
multiple URIs, Accept headers, or any markup.  In REST terminology,
content negotiation is the mechanism used for the late binding of a
representation to the request URI.  I'm not sure exactly what you mean
by embedding conneg in URIs, but it sounds to me like the early binding
of a representation to a resource, i.e. not conneg.

&gt; 
&gt; I wouldn't store all of the request headers, only the ones that were
&gt; not default.
&gt; 

Still, I doubt browser vendors are going to go for the idea that a user
could type in the same URI they have bookmarked and see a different
variant than if they had used the bookmark for that same URI.

&gt;
&gt; &gt; HTTP headers are client specific, not request specific -- headers
&gt; &gt; don't (shouldn't) change from one request to the next unless the
&gt; &gt; client is upgraded. For example, an upgrade from Safari 2 to Safari
&gt; &gt; 3 changes the Accept header to include 'application/xhtml+xml'.  If
&gt; &gt; a resource is negotiated based on Accept header, it may well give a
&gt; &gt; different response to the upgraded browser -- it would be horrible
&gt; &gt; practice if, when selecting a bookmark link, the browser sent the
&gt; &gt; same stored Accept header it previously had, instead of the new one
&gt; &gt; which more accurately reflects the client's capabilities, and
&gt; &gt; letting the server do its conneg thing.
&gt; &gt;   
&gt; 
&gt; A browser is a special case UA though, I don't understand why it's 
&gt; Accept headers can't have their default overwritten from one request
&gt; to the next. That makes perfect sense to me; the fact that it's not 
&gt; possible in practice is the reason I am bringing this up.
&gt; 

I think you meant, not possible without JavaScript.  You haven't
answered the question about why a page author/generator can't link to
the URI returned in Content-Location instead of the negotiated URI.

&gt;
&gt; I see a bookmark as a store of a user's request, why would it be 
&gt; beneficial for an upgrade to cause a change in a user's bookmark?
&gt; 

No, a bookmark stores a location.  When I upgraded Safari from version
2, to version 3 including XSLT, I expected sites that previously hadn't
served client-side XSLT to that browser now would.  Just as I once
expected when upgrading browsers to new versions supporting PNG instead
of just GIF.  This is how the Web evolves.  Why on Earth would I want
to have to upgrade all my bookmarks to support new features introduced
by browser vendors, that involve changes to their request headers?

This would also lead to an expectation by users that the response to
any request they make be locked in (tightly coupled), to receive the
intended representation of a resource, if it's from a bookmark.

&gt;
&gt; &gt; That's tight coupling, not to mention needless complexity, and
&gt; &gt; doesn't really solve any real-world problems, while precluding any
&gt; &gt; benefit to using content negotiation in the first place, if all
&gt; &gt; bookmarks must be altered when a browser is upgraded or stay locked
&gt; &gt; in to a lower-quality representation.  The simple solution which
&gt; &gt; has been proven to work, is to give each representation its own
&gt; &gt; URI, instead of trying to invent uber-bookmarks for negotiated
&gt; &gt; resources, or trying to implement content negotiation in markup.
&gt; &gt;   
&gt; 
&gt; I don't understand the tight coupling reference at all. Can you
&gt; expand this at all?
&gt; 

In the K-meleon browser, let's say the next release supports GZIP, why
wouldn't I want to start receiving compressed content from sites I've
bookmarked?  This idea of storing request headers would be complicated
not only to implement, but for users to comprehend -- heck, most Web
developers know nothing about request headers, why expose users to them?

Loose coupling would be to store the only thing the user sees besides
the content -- its location.  This allows client, server and documents
to evolve independently.  Request and response headers, like content,
must be allowed to evolve independently over time in order for a
system to scale.  Trying to tie a stored URI to a once-upon-a-time
request/response interaction is exactly like minting a new URI for
every revision of a document.

There's nothing to stop you from building a browser that works in such
fashion and releasing it into the wild, just as there's now way to
prevent authors/generators from versioning URIs.  But REST is the topic
here, and REST is an architectural style which emphasizes independent
components not just evolving over time, but scaling as well.  I think
you'd have a problem, in terms of breaking REST's self-descriptive
message constraint, which would lead to caching issues.

If a user is now expecting a server to always return the historical
response to the stored historical request, the resulting interaction
becomes opaque to intermediaries, i.e. not self-descriptive -- instead
of describing the current client-server interaction, the attempt seems
to be to describe a static interaction, and I'm still not seeing why
it's necessary in the first place.

Again, since the value of Content-Location is a URI which may be
bookmarked (in the REST sense of the term), why can't that URI be
bookmarked?  You could also build a browser that does this, or maybe
some client(s) out there already do, in that when a Vary header is
received the client bookmarks Content-Location instead of the
negotiated URI.  Same problem to my mind, though.  Either side of the
content negotiation equation could change the next day, and render the
stored Content-Location obsolete in response to any headers sent, which
is why loose coupling is best -- it's why applications implement conneg.

&gt; 
&gt; &gt; In REST, any resource of interest is given a URI, such that
&gt; &gt; application state may be bookmarked.  But, that application state
&gt; &gt; is not a function of the Content-Type.  A compressed representation
&gt; &gt; doesn't need its own URI.  The argument for using separate URIs for
&gt; &gt; image.jpg/image.png has more to do with proper caching, than being
&gt; &gt; able to bookmark them separately, since they represent the same
&gt; &gt; application state. 
&gt; 
&gt; So serving multiple representations from one URI doesn't work with
&gt; caching?
&gt; 

Not without a Content-Location header, no.  What else does a cache have
to go by?  Let's say Etag for the sake of argument.  A cache which
receives a response with Vary, Cache-Control and Etag headers but _not_
Content-Location may not bother trying to cache it at all (the more
stuff in Vary the fewer caches it's compatible with, is a good rule-of-
thumb to follow).  Without Content-Location, or with Content-Location
but not Vary, the cache behavior I've observed in those caches which
don't just ignore, is as follows:

The client makes a request to the negotiated URI /image .  The server
responds with image.jpg and an Etag.  The cache stores image.jpg for
that URI.  The next client requests /image and the server responds with
image.png and a new Etag, so the cache sees the new Etag and expires
image.jpg in favor of image.png for /image.  The next client requests
/image and the server responds with image.png and its Etag, so the
client hits the cache.  The next client requests /image and the
response is image.jpg, so the cache expires image.png and replaces it
with image.jpg, and so on and so forth.  Representations take turns
caching.

With Content-Location (don't forget Vary), caches have that other vector
necessary to determine expiration, besides Etag or other cache-control
headers.  Now a cache can correlate an Etag not to the negotiated
request URI, but to the representation-specific URI, so image.png and
image.jpg will work properly with their existing Etags, or any future
Etags, without impacting the cachability of negotiated responses.

Once again, the exception is Accept-Encoding, since any cache knows
what to do with that.  I tried an experiment where I based content
negotiation on Accept-Encoding for a purpose besides compression, it
did not work -- caches flipped between one or the other representation
as above, compressed or raw depending, though.  So K-meleon could prime
the cache with the raw representation, then the cache would compress
that and serve it to Firefox and Opera, so Accept-Encoding negotiation
can only be used for compression.  But, it works amazingly well across
the board for that, the exception being IE &lt; 7 on systems without .NET.

&gt;
&gt; If I we use the URI for conneg..
&gt; 
&gt; and I PUT changes to /report.doc - how does my cache know that it
&gt; needs to refresh /report.pdf and /report.xml ?
&gt;

That's a good question, Mike.  But it bears a sub-question around
here:  by "my cache" do you mean cache component, or cache connector?
If connector, client or server?  ;-)

The answer to your question depends on how you're generating
your documents.  Let's say, for the sake of argument, that you're
transforming report.pdf from report.xml using XSL-FO and a PDF
utility, and transforming report.doc and report.html from report.xml
using XSLT. If you PUT a change, the best place to PUT it would be
report.xml, so it can be validated for well-formedness and/or checked
against a schema before being fed into any XSL transformation pipeline.

(Or, make it report.atom and use Atom Protocol to interact with it.)

When your application accepts the PUT, it makes a GET request against
the other variants.  This causes them to regenerate from the updated
report.xml, and they're assigned new Etags.  If you're using a cache
connector on your origin-server component, make sure to include Cache-
Control: max-age=0 as a header when you GET the other variants, to
indicate that you want the origin-server's response, not the cache's.

So you don't accept PUT on the negotiated URI at all.  Since hypermedia
is the engine of application state, your user interface code instructs
the User-Agent to PUT to report.xml.  Or, make the PUT to /report and
only Accept: application/xml at that URI.  I like the former, what if
report.xml is also the response for http://example.org/annual-report ?
Would you accept PUT at /annual-report also?  I like working directly
with the resource I'm altering.

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11538<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-11-20 11:50:48<br>
Subject:Defining new HTTP verbs<br>
Message:<br><br>
<pre>I consider defining new HTTP verbs bad practice, unless it's done as  
part of a standard effort, and after only thoroughly checking whether  
the need can't be met by existing verbs and hypermedia.

I'm currently trying to describe the advantages and disadvantages of  
doing so, anyway. But I'm struggling with finding a good example of  
something that would make at least a little bit of sense in a scenario  
where all parties are known (e.g. in a single company's internal  
architecture).

I explicitly don't want to use PATCH or BATCH as examples, nor WebDAV.  
Can anybody think of something else that's not obviously absurd and  
would merit its own HTTP verb?

Thanks,
Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11539<br>
Sender:Jan Algermissen &lt;algermissen1971@...&gt;<br>
Post Date/Time:2008-11-20 13:04:02<br>
Subject:Re: [rest-discuss] Defining new HTTP verbs<br>
Message:<br><br>
<pre>
GET_STOCK_QUOTE ?

:-)

Jan
 
On Thursday, November 20, 2008, at 12:50PM, "Stefan Tilkov" &lt;stefan.tilkov@...&gt; wrote:
&gt;I consider defining new HTTP verbs bad practice, unless it's done as  
&gt;part of a standard effort, and after only thoroughly checking whether  
&gt;the need can't be met by existing verbs and hypermedia.
&gt;
&gt;I'm currently trying to describe the advantages and disadvantages of  
&gt;doing so, anyway. But I'm struggling with finding a good example of  
&gt;something that would make at least a little bit of sense in a scenario  
&gt;where all parties are known (e.g. in a single company's internal  
&gt;architecture).
&gt;
&gt;I explicitly don't want to use PATCH or BATCH as examples, nor WebDAV.  
&gt;Can anybody think of something else that's not obviously absurd and  
&gt;would merit its own HTTP verb?
&gt;
&gt;Thanks,
&gt;Stefan
&gt;--
&gt;Stefan Tilkov, http://www.innoq.com/blog/st/
&gt;
&gt;------------------------------------
&gt;
&gt;Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11540<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-11-20 13:12:43<br>
Subject:Re: [rest-discuss] Defining new HTTP verbs<br>
Message:<br><br>
<pre>Stefan Tilkov wrote:
&gt; ...
&gt; I explicitly don't want to use PATCH or BATCH as examples, nor WebDAV.
&gt; Can anybody think of something else that's not obviously absurd and
&gt; would merit its own HTTP verb?
&gt; ...

It would be interesting to know *why* you don't want to use PATCH, or 
for instance, MKCOL, as example...

BR, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11541<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-11-20 13:35:08<br>
Subject:Re: [rest-discuss] Defining new HTTP verbs<br>
Message:<br><br>
<pre>Stefan Tilkov wrote:

&gt; I explicitly don't want to use PATCH or BATCH as examples, nor WebDAV.
&gt; Can anybody think of something else that's not obviously absurd and
&gt; would merit its own HTTP verb?

SYNC

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11542<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-11-20 13:46:17<br>
Subject:Re: [rest-discuss] Defining new HTTP verbs<br>
Message:<br><br>
<pre>On 20.11.2008, at 14:12, Julian Reschke wrote:

&gt; Stefan Tilkov wrote:
&gt;&gt; ...
&gt;&gt; I explicitly don't want to use PATCH or BATCH as examples, nor  
&gt;&gt; WebDAV.
&gt;&gt; Can anybody think of something else that's not obviously absurd and
&gt;&gt; would merit its own HTTP verb?
&gt;&gt; ...
&gt;
&gt; It would be interesting to know *why* you don't want to use PATCH,  
&gt; or for instance, MKCOL, as example...
&gt;

No particular reason except that I'm explicitly writing about verbs  
that are _not_ standardized anywhere.

Best,
Stefan


&gt; BR, Julian
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11543<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-11-20 13:48:22<br>
Subject:Re: [rest-discuss] Defining new HTTP verbs<br>
Message:<br><br>
<pre>On 20.11.2008, at 14:35, Bill de hOra wrote:

&gt; Stefan Tilkov wrote:
&gt;
&gt; &gt; I explicitly don't want to use PATCH or BATCH as examples, nor  
&gt; WebDAV.
&gt; &gt; Can anybody think of something else that's not obviously absurd and
&gt; &gt; would merit its own HTTP verb?
&gt;
&gt; SYNC
&gt;
&gt;

Sounds nice. What would it do? ;-)

Stefan

&gt; Bill
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11544<br>
Sender:"Miika Makinen" &lt;mmiika@...&gt;<br>
Post Date/Time:2008-11-20 14:41:04<br>
Subject:Re: [rest-discuss] Defining new HTTP verbs<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11545<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-11-20 14:58:36<br>
Subject:Re: [rest-discuss] Defining new HTTP verbs<br>
Message:<br><br>
<pre>Miika Makinen wrote:
&gt; 
&gt; 
&gt; I'm not sure if these are standardized but verbs useful for blogs come 
&gt; to mind, like COMMENT or TRACKBACK
&gt; 
&gt; 
&gt; Interesting question and I was suprised that first things coming to mind 
&gt; (LOCK/UNLOCK, MOVE/COPY, MERGE/REPLACE) already exist in some form. Nice 
&gt; list at http://annevankeste ren.nl/2007/ 10/http-methods 
&gt; &lt;http://annevankesteren.nl/2007/10/http-methods&gt;
&gt; ...

A better list (in that it keeps getting updated) is at 
&lt;http://svn.tools.ietf.org/svn/wg/httpbis/draft-ietf-httpbis-method-registrations/latest/draft-ietf-httpbis-method-registrations.html#updated.registry.contents&gt;.

BR, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11546<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-11-20 15:43:05<br>
Subject:Re: [rest-discuss] Defining new HTTP verbs<br>
Message:<br><br>
<pre>I've been capturing verbs, headers, and status codes on my REST/WOA  
wiki. So far, it only covers HTTP/1.1 and WebDAV, but it has already  
been invaluable in my work: http://restpatterns.org

- Steve

--------------
Steve G. Bjorg
http://mindtouch.com
http://twitter.com/bjorg

On Nov 20, 2008, at 6:58 AM, Julian Reschke wrote:

&gt; Miika Makinen wrote:
&gt; &gt;
&gt; &gt;
&gt; &gt; I'm not sure if these are standardized but verbs useful for blogs  
&gt; come
&gt; &gt; to mind, like COMMENT or TRACKBACK
&gt; &gt;
&gt; &gt;
&gt; &gt; Interesting question and I was suprised that first things coming  
&gt; to mind
&gt; &gt; (LOCK/UNLOCK, MOVE/COPY, MERGE/REPLACE) already exist in some  
&gt; form. Nice
&gt; &gt; list at http://annevankeste ren.nl/2007/ 10/http-methods
&gt; &gt; &lt;http://annevankesteren.nl/2007/10/http-methods&gt;
&gt; &gt; ...
&gt;
&gt; A better list (in that it keeps getting updated) is at
&gt; &lt;http://svn.tools.ietf.org/svn/wg/httpbis/draft-ietf-httpbis-method-registrations/latest/draft-ietf-httpbis-method-registrations.html#updated.registry.contents 
&gt; &gt;.
&gt;
&gt; BR, Julian
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11547<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-11-20 16:02:35<br>
Subject:Re: [rest-discuss] Defining new HTTP verbs<br>
Message:<br><br>
<pre>Steve Bjorg wrote:
&gt; I've been capturing verbs, headers, and status codes on my REST/WOA 
&gt; wiki. So far, it only covers HTTP/1.1 and WebDAV, but it has already 
&gt; been invaluable in my work: http://restpatterns.org

Depends on whether you are interested in non-registered headers and 
status codes. If not, just use the IANA registries.

BR, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11548<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-11-20 16:23:02<br>
Subject:Re: [rest-discuss] Defining new HTTP verbs<br>
Message:<br><br>
<pre>Stefan,

I assume that you mean a fictitious method?

Off the top of my head: how about RESERVE for a
business-process-centric example, e.g.:

RESERVE /room/1
Content-Type: application/json

{
  "Start" : "2009-02-03T12:00Z",
  "Duration" : "P1H",
  "Who" : "http://example.com/john-doe"
}

- or -

RESERVE /consultant/alan-dean
Content-Type: application/json

{
  "Start" : "2009-02-03",
  "Finish" : "2009-02-04",
  "Who" : "http://example.com/client/abc123"
}

Alan

On Thu, Nov 20, 2008 at 11:50 AM, Stefan Tilkov &lt;stefan.tilkov@...&gt; wrote:
&gt; I consider defining new HTTP verbs bad practice, unless it's done as
&gt; part of a standard effort, and after only thoroughly checking whether
&gt; the need can't be met by existing verbs and hypermedia.
&gt;
&gt; I'm currently trying to describe the advantages and disadvantages of
&gt; doing so, anyway. But I'm struggling with finding a good example of
&gt; something that would make at least a little bit of sense in a scenario
&gt; where all parties are known (e.g. in a single company's internal
&gt; architecture).
&gt;
&gt; I explicitly don't want to use PATCH or BATCH as examples, nor WebDAV.
&gt; Can anybody think of something else that's not obviously absurd and
&gt; would merit its own HTTP verb?
&gt;
&gt; Thanks,
&gt; Stefan
&gt; --
&gt; Stefan Tilkov, http://www.innoq.com/blog/st/
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11549<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-11-20 16:39:31<br>
Subject:Re: [rest-discuss] Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11550<br>
Sender:Erik Hetzner &lt;erik.hetzner@...&gt;<br>
Post Date/Time:2008-11-20 18:28:25<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>I dont follow this conversation at all.

If you serve different representations to a client via content
negotiation you shouldnt care which one a client receives. If you do
care, then you have multiple resources, and should use multiple URIs.
This doesnt seem very complicated.

Am I missing something?

best,
Erik Hetzner
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11551<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-11-20 18:34:12<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>&gt; If you serve different representations to a client via content
&gt; negotiation you shouldn't care which one a client receives. If you do
&gt; care, then you have multiple resources, and should use multiple URIs.
&gt; This doesn't seem very complicated.
&gt;
I wasn't as articulate and concise! Well said .. this is what I have
been trying to say via convoluted sentences for quite some time.


devdatta


2008/11/20 Erik Hetzner &lt;erik.hetzner@...&gt;:
&gt; I don't follow this conversation at all.
&gt;
&gt; If you serve different representations to a client via content
&gt; negotiation you shouldn't care which one a client receives. If you do
&gt; care, then you have multiple resources, and should use multiple URIs.
&gt; This doesn't seem very complicated.
&gt;
&gt; Am I missing something?
&gt;
&gt; best,
&gt; Erik Hetzner
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11552<br>
Sender:Mike Kelly &lt;mike@...&gt;<br>
Post Date/Time:2008-11-20 20:01:07<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>Erik Hetzner wrote:
&gt; I dont follow this conversation at all.
&gt;
&gt; If you serve different representations to a client via content
&gt; negotiation you shouldnt care which one a client receives. If you do
&gt; care, then you have multiple resources, and should use multiple URIs.
&gt; This doesnt seem very complicated.
&gt;
&gt; Am I missing something?
&gt;   


Maybe - I see browsers as a special case that are responsible for 
handling many different content-types depending on context rather than 
most UAs which have a fixed order of preference.

The User-Agent header and/or a fixed Accept header would be sufficient 
for most UA's, however there are cases where it is desirable to change 
the Accept header to reflect the context of a hyperlink in the HTML GUI 
of your application.

I'm aware that content negotiation is possible by effectively moving it 
into the URI. But is this necessary or desirable if the markup 
provisions HTTP conneg? I'm not sure.

One thing that bothers me about using the URIs for that, is it becomes 
unclear whether a PUT to /document.pdf is an update that will be 
reflected in /document.doc and /document.xml - this is requiring the 
users, and caching mechanisms to be application aware.

Regards,
Mike

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11553<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-11-20 21:15:31<br>
Subject:Re: [rest-discuss] Defining new HTTP verbs<br>
Message:<br><br>
<pre>Thanks Alan,

yes, this is close, but not exactly what I was looking for. I'm  
looking for something fictitious that appears reasonable at first  
sight, but can be done better with existing HTTP verbs and hypermedia.

Stefan

On 20.11.2008, at 17:23, Alan Dean wrote:

&gt; Stefan,
&gt;
&gt; I assume that you mean a fictitious method?
&gt;
&gt; Off the top of my head: how about RESERVE for a
&gt; business-process-centric example, e.g.:
&gt;
&gt; RESERVE /room/1
&gt; Content-Type: application/json
&gt;
&gt; {
&gt;  "Start" : "2009-02-03T12:00Z",
&gt;  "Duration" : "P1H",
&gt;  "Who" : "http://example.com/john-doe"
&gt; }
&gt;
&gt; - or -
&gt;
&gt; RESERVE /consultant/alan-dean
&gt; Content-Type: application/json
&gt;
&gt; {
&gt;  "Start" : "2009-02-03",
&gt;  "Finish" : "2009-02-04",
&gt;  "Who" : "http://example.com/client/abc123"
&gt; }
&gt;
&gt; Alan
&gt;
&gt; On Thu, Nov 20, 2008 at 11:50 AM, Stefan Tilkov &lt;stefan.tilkov@... 
&gt; &gt; wrote:
&gt;&gt; I consider defining new HTTP verbs bad practice, unless it's done as
&gt;&gt; part of a standard effort, and after only thoroughly checking whether
&gt;&gt; the need can't be met by existing verbs and hypermedia.
&gt;&gt;
&gt;&gt; I'm currently trying to describe the advantages and disadvantages of
&gt;&gt; doing so, anyway. But I'm struggling with finding a good example of
&gt;&gt; something that would make at least a little bit of sense in a  
&gt;&gt; scenario
&gt;&gt; where all parties are known (e.g. in a single company's internal
&gt;&gt; architecture).
&gt;&gt;
&gt;&gt; I explicitly don't want to use PATCH or BATCH as examples, nor  
&gt;&gt; WebDAV.
&gt;&gt; Can anybody think of something else that's not obviously absurd and
&gt;&gt; would merit its own HTTP verb?
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Stefan
&gt;&gt; --
&gt;&gt; Stefan Tilkov, http://www.innoq.com/blog/st/
&gt;&gt;
&gt;&gt; 
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11554<br>
Sender:Erik Hetzner &lt;erik.hetzner@...&gt;<br>
Post Date/Time:2008-11-20 22:23:16<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>At Thu, 20 Nov 2008 20:01:07 +0000,
Mike Kelly &lt;mike@...&gt; wrote:
&gt; Maybe - I see browsers as a special case that are responsible for
&gt; handling many different content-types depending on context rather
&gt; than most UAs which have a fixed order of preference.
&gt; 
&gt; The User-Agent header and/or a fixed Accept header would be
&gt; sufficient for most UA's, however there are cases where it is
&gt; desirable to change the Accept header to reflect the context of a
&gt; hyperlink in the HTML GUI of your application.

The Accept header is really the clients business, not the servers.
If you want to change the context, then change the URI.

&gt; I'm aware that content negotiation is possible by effectively moving
&gt; it into the URI. But is this necessary or desirable if the markup
&gt; provisions HTTP conneg? I'm not sure.
&gt;
&gt; One thing that bothers me about using the URIs for that, is it
&gt; becomes unclear whether a PUT to /document.pdf is an update that
&gt; will be reflected in /document.doc and /document.xml - this is
&gt; requiring the users, and caching mechanisms to be application aware.

best,
Erik Hetzner
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11555<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-11-20 22:32:52<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>&gt;&gt; a. Bookmarked URIs: Need to use agent-driven negotiation since the   
&gt;&gt; server can't influence Accept* headers yet.
&gt;&gt;
&gt;
&gt; If a bookmark stored the URI and the Accept  headers, would that not  
&gt; be sufficient? Is a bookmark not just a stored state? Are request  
&gt; headers outside of that state?

Not today.

&gt;
&gt;
&gt;&gt; b. Links for which the UA can support server's recommended Accept*   
&gt;&gt; headers. This is the happy path.
&gt;&gt;
&gt;
&gt; Yes, also, a server doesn't have to honor the accept header and  
&gt; respond with an appropriate content type - so that case would need  
&gt; to be accounted for aswell. This is no different from URI conneg.
&gt;
&gt; This way, there is also potential for security measures in browsers  
&gt; whereby a response that does not correspond to the Accept header in  
&gt; the request can be dealt with as suspicious. This is not achievable  
&gt; to the same extent if the conneg is in the URI because there is no

No. You can't tie Accept* headers to security.

&gt; standard way of doing it in the URI, e.g.:

This is because there need not be a standard way to do that. When you  
are using agent-driven negotiation, you are essentially creating a new  
URI for each representation media type. The server can, if possible,  
provide a hint to the media type of that representation in each link.

Subbu
---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11556<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-11-20 23:40:37<br>
Subject:Re: [rest-discuss] Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>
On Nov 20, 2008, at 8:39 AM, Nick Gall wrote:

&gt; Let's take GData, a "specialization" of APP. GData is used for a  
&gt; wide variety of applications at Google -- including Google Doc,  
&gt; Google Spreadsheet, and Google Calendar. Google is trying the make  
&gt; the interfaces into all of its apps as unified and generic as  
&gt; possible. This happens when one relentlessly asks: how are these  
&gt; applications the same? For example, how is a spreadsheet like a  
&gt; calendar?
&gt;


Since APP is just an application of HTTP to the Atom Syndication  
Format, is this about using an application neutral payload format for  
representations? If so, would you call SOAP (the envelope format)  
application neutral?

I am not saying this is good or bad, but trying to understand your use  
of "application neutrality".

Subbu
---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11557<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-11-21 00:22:36<br>
Subject:Re: [rest-discuss] Defining new HTTP verbs<br>
Message:<br><br>
<pre>Ah, OK ... you need a strawman ;-)

How about CHECKOUT for e-commerce?

Alan

On Thu, Nov 20, 2008 at 9:15 PM, Stefan Tilkov &lt;stefan.tilkov@...&gt; wrote:
&gt; Thanks Alan,
&gt;
&gt; yes, this is close, but not exactly what I was looking for. I'm
&gt; looking for something fictitious that appears reasonable at first
&gt; sight, but can be done better with existing HTTP verbs and hypermedia.
&gt;
&gt; Stefan
&gt;
&gt; On 20.11.2008, at 17:23, Alan Dean wrote:
&gt;
&gt;&gt; Stefan,
&gt;&gt;
&gt;&gt; I assume that you mean a fictitious method?
&gt;&gt;
&gt;&gt; Off the top of my head: how about RESERVE for a
&gt;&gt; business-process-centric example, e.g.:
&gt;&gt;
&gt;&gt; RESERVE /room/1
&gt;&gt; Content-Type: application/json
&gt;&gt;
&gt;&gt; {
&gt;&gt; "Start" : "2009-02-03T12:00Z",
&gt;&gt; "Duration" : "P1H",
&gt;&gt; "Who" : "http://example.com/john-doe"
&gt;&gt; }
&gt;&gt;
&gt;&gt; - or -
&gt;&gt;
&gt;&gt; RESERVE /consultant/alan-dean
&gt;&gt; Content-Type: application/json
&gt;&gt;
&gt;&gt; {
&gt;&gt; "Start" : "2009-02-03",
&gt;&gt; "Finish" : "2009-02-04",
&gt;&gt; "Who" : "http://example.com/client/abc123"
&gt;&gt; }
&gt;&gt;
&gt;&gt; Alan
&gt;&gt;
&gt;&gt; On Thu, Nov 20, 2008 at 11:50 AM, Stefan Tilkov &lt;stefan.tilkov@...
&gt;&gt; &gt; wrote:
&gt;&gt;&gt; I consider defining new HTTP verbs bad practice, unless it's done as
&gt;&gt;&gt; part of a standard effort, and after only thoroughly checking whether
&gt;&gt;&gt; the need can't be met by existing verbs and hypermedia.
&gt;&gt;&gt;
&gt;&gt;&gt; I'm currently trying to describe the advantages and disadvantages of
&gt;&gt;&gt; doing so, anyway. But I'm struggling with finding a good example of
&gt;&gt;&gt; something that would make at least a little bit of sense in a
&gt;&gt;&gt; scenario
&gt;&gt;&gt; where all parties are known (e.g. in a single company's internal
&gt;&gt;&gt; architecture).
&gt;&gt;&gt;
&gt;&gt;&gt; I explicitly don't want to use PATCH or BATCH as examples, nor
&gt;&gt;&gt; WebDAV.
&gt;&gt;&gt; Can anybody think of something else that's not obviously absurd and
&gt;&gt;&gt; would merit its own HTTP verb?
&gt;&gt;&gt;
&gt;&gt;&gt; Thanks,
&gt;&gt;&gt; Stefan
&gt;&gt;&gt; --
&gt;&gt;&gt; Stefan Tilkov, http://www.innoq.com/blog/st/
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11558<br>
Sender:Mike Kelly &lt;mike@...&gt;<br>
Post Date/Time:2008-11-21 00:51:53<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>Erik Hetzner wrote:
&gt; At Thu, 20 Nov 2008 20:01:07 +0000,
&gt; Mike Kelly &lt;mike@...&gt; wrote:
&gt;   
&gt;&gt; Maybe - I see browsers as a special case that are responsible for
&gt;&gt; handling many different content-types depending on context rather
&gt;&gt; than most UAs which have a fixed order of preference.
&gt;&gt;
&gt;&gt; The User-Agent header and/or a fixed Accept header would be
&gt;&gt; sufficient for most UA's, however there are cases where it is
&gt;&gt; desirable to change the Accept header to reflect the context of a
&gt;&gt; hyperlink in the HTML GUI of your application.
&gt;&gt;     
&gt;
&gt; The Accept header is really the clients business, not the servers.
&gt; If you want to change the context, then change the URI.
&gt;
&gt;   
http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html

"The Accept request-header field can be used to specify certain media 
types which are acceptable for the response. Accept headers can be used 
to indicate that the request is specifically limited to a small set of 
desired types, as in the case of a request for an in-line image."

Am I missing something?

&gt;&gt; I'm aware that content negotiation is possible by effectively moving
&gt;&gt; it into the URI. But is this necessary or desirable if the markup
&gt;&gt; provisions HTTP conneg? I'm not sure.
&gt;&gt;
&gt;&gt; One thing that bothers me about using the URIs for that, is it
&gt;&gt; becomes unclear whether a PUT to /document.pdf is an update that
&gt;&gt; will be reflected in /document.doc and /document.xml - this is
&gt;&gt; requiring the users, and caching mechanisms to be application aware.
&gt;&gt;     

Does anyone have any comments on this?

Regards,
Mike

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11559<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-11-21 01:08:35<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11560<br>
Sender:Mike Kelly &lt;mike@...&gt;<br>
Post Date/Time:2008-11-21 01:43:57<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>mike amundsen wrote:
&gt; Mike:
&gt;
&gt; A couple things:
&gt; "The Accept request-header field..."
&gt; Request headers are sent in the *request* not the response. The 
&gt; user-agent is indicating what is acceptable. Servers can respond 406 
&gt; (not acceptable) if they don't like any options in the user-agent's 
&gt; list of options (Or, as many servers do, they can ignore the 
&gt; user-agent's preferences and send what the server wants to anyway).

Yes, Accept headers are part of the request - I think you're 
misunderstanding the significance of putting this optional Accept 
attribute into the HTML5 markup.

&gt;
&gt; IMO, the PUT example (using a resource name that includes a "dot-tail" 
&gt; portion) is not directly related to your desire to add "accept/type" 
&gt; to markup fields. Even if you did a PUT to /document, there is no 
&gt; certainty that the web server will use that content to update various 
&gt; MIME-type versions of that resource. It might be *expected* , 
&gt; *desirable*, but nothing will guarantee that the server does this.
&gt;

If the MIME-types aren't updated together, they are representations of 
seperate/distinct resources, so why are they available at the same URI?


Regards,
Mike

&gt; On Thu, Nov 20, 2008 at 19:51, Mike Kelly &lt;mike@... 
&gt; &lt;mailto:mike@...&gt;&gt; wrote:
&gt;
&gt;     Erik Hetzner wrote:
&gt;     &gt; At Thu, 20 Nov 2008 20:01:07 +0000,
&gt;     &gt; Mike Kelly &lt;mike@... &lt;mailto:mike@...&gt;&gt; wrote:
&gt;     &gt;
&gt;     &gt;&gt; Maybe - I see browsers as a special case that are responsible for
&gt;     &gt;&gt; handling many different content-types depending on context rather
&gt;     &gt;&gt; than most UAs which have a fixed order of preference.
&gt;     &gt;&gt;
&gt;     &gt;&gt; The User-Agent header and/or a fixed Accept header would be
&gt;     &gt;&gt; sufficient for most UA's, however there are cases where it is
&gt;     &gt;&gt; desirable to change the Accept header to reflect the context of a
&gt;     &gt;&gt; hyperlink in the HTML GUI of your application.
&gt;     &gt;&gt;
&gt;     &gt;
&gt;     &gt; The Accept header is really the client's business, not the server's.
&gt;     &gt; If you want to change the 'context', then change the URI.
&gt;     &gt;
&gt;     &gt;
&gt;     http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html
&gt;
&gt;     "The Accept request-header field can be used to specify certain media
&gt;     types which are acceptable for the response. Accept headers can be
&gt;     used
&gt;     to indicate that the request is specifically limited to a small set of
&gt;     desired types, as in the case of a request for an in-line image."
&gt;
&gt;     Am I missing something?
&gt;
&gt;     &gt;&gt; I'm aware that content negotiation is possible by effectively
&gt;     moving
&gt;     &gt;&gt; it into the URI. But is this necessary or desirable if the markup
&gt;     &gt;&gt; provisions HTTP conneg? I'm not sure.
&gt;     &gt;&gt;
&gt;     &gt;&gt; One thing that bothers me about using the URIs for that, is it
&gt;     &gt;&gt; becomes unclear whether a PUT to /document.pdf is an update that
&gt;     &gt;&gt; will be reflected in /document.doc and /document.xml - this is
&gt;     &gt;&gt; requiring the users, and caching mechanisms to be application
&gt;     aware.
&gt;     &gt;&gt;
&gt;
&gt;     Does anyone have any comments on this?
&gt;
&gt;     Regards,
&gt;     Mike
&gt;
&gt;     ------------------------------------
&gt;
&gt;     Yahoo! Groups Links
&gt;
&gt;
&gt;        mailto:rest-discuss-fullfeatured@yahoogroups.com
&gt;     &lt;mailto:rest-discuss-fullfeatured@yahoogroups.com&gt;
&gt;
&gt;
&gt;
&gt;  


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11561<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-11-21 01:57:04<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>
On Nov 20, 2008, at 5:43 PM, Mike Kelly wrote:

&gt; If the MIME-types aren't updated together, they are representations of
&gt; seperate/distinct resources, so why are they available at the same  
&gt; URI?

What Mike is saying is that the protocol does not require any such  
thing, but of course, any well-behaving implementation would maintain  
consistency between representations of a resource unless there are  
application-specific reasons not to do so.

Subbu

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11562<br>
Sender:Erik Hetzner &lt;erik.hetzner@...&gt;<br>
Post Date/Time:2008-11-21 02:07:17<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>At Fri, 21 Nov 2008 00:51:53 +0000,
Mike Kelly &lt;mike@...&gt; wrote:
&gt; 
&gt; Erik Hetzner wrote:
&gt; &gt; The Accept header is really the clients business, not the servers.
&gt; &gt; If you want to change the context, then change the URI.
&gt; &gt;   
&gt; http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html
&gt; 
&gt; "The Accept request-header field can be used to specify certain media 
&gt; types which are acceptable for the response. Accept headers can be used 
&gt; to indicate that the request is specifically limited to a small set of 
&gt; desired types, as in the case of a request for an in-line image."
&gt; 
&gt; Am I missing something?

Sorry - I wasnt clear. If the server wants to define a context in
which only a particular response is acceptable, then that context
should be reflected in a different URI.

To use an example: if I understand you, you are saying that there are
times when you want to ensure that a client receives a JPEG
representation of URI &lt;A&gt; - a resource that has 2 representations, PNG
and JPEG. You want to have a mechanism to ensure that a client sends a
specific Accept header so that it can only receive that JPEG.

What I am trying to say is: if you want to ensure that a client
receives a JPEG version of &lt;A&gt; then you need another URI, &lt;B&gt;, which
has only 1 representation, a JPEG. The JPEG representations of &lt;A&gt; and
&lt;B&gt; might always be the same, but if you want to tell the client that
it needs to have a JPEG, then you need to have a different URI.

&gt; &gt;&gt; One thing that bothers me about using the URIs for that, is it
&gt; &gt;&gt; becomes unclear whether a PUT to /document.pdf is an update that
&gt; &gt;&gt; will be reflected in /document.doc and /document.xml - this is
&gt; &gt;&gt; requiring the users, and caching mechanisms to be application aware.
&gt; &gt;&gt;     
&gt; 
&gt; Does anyone have any comments on this?

Not me, sorry. I dont have enough knowledge of caches.

best,
Erik Hetzner
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11563<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-11-21 04:16:15<br>
Subject:Re: [rest-discuss] Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11564<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-11-21 04:28:58<br>
Subject:Re: [rest-discuss] Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>Nick,

Thank you for an excellent contribution. As it happens, Steve Bjorg
and I have been having an off-list discussion around exactly the
question of neutrality / genericity with regards to Atom (a discussion
that has not yet concluded) and your comments provide an excellent
frame for further thinking about the subject imho.

Alan

On Fri, Nov 21, 2008 at 4:16 AM, Nick Gall &lt;nick.gall@...&gt; wrote:
&gt; On Thu, Nov 20, 2008 at 6:40 PM, Subbu Allamaraju &lt;subbu@...&gt; wrote:
&gt;&gt; Since APP is just an application of HTTP to the Atom Syndication Format,
&gt;&gt; is this about using an application neutral payload format for
&gt;&gt; representations? If so, would you call SOAP (the envelope format)
&gt;&gt; application neutral?
&gt;
&gt; The note discusses all 3 facets of an interface: Identifiers, Formats
&gt; (representations), and Protocol operations (IFaPs as we call them). All
&gt; three facets should be as "application neutral" or generic as possible.
&gt; Everyone focuses on generic protocol operations (HTTP's GPPD), but
&gt; generalizing identifiers and formats is equally important.
&gt; SOAP is indeed application neutral. Perhaps even more application neutral
&gt; than HTTP itself, since SOAP is little more than a framework for an XML
&gt; envelope with completely open ended XML header processing. It is extremely
&gt; application neutral. The problem is, interface designers take the incredibly
&gt; generic SOAP format and put an incredibly application specific XML payload
&gt; inside it. That's like stepping of a neutrality cliff -- from extremely
&gt; generic to extremely specific in one step.
&gt; Of course the same can happen (and does happen) with Atom entities or even
&gt; with representations returned by HTTP itself. But it seems to us that
&gt; interface designers in the REST "camp" seem to better understand the
&gt; importance of reusing existing representations for new applications, not
&gt; custom designing representations for each new application. An example of
&gt; this is the RESTafarian insistence that HTTP is NOT a transport protocol,
&gt; but rather an "application protocol", albeit a VERY application neutral one.
&gt; What we haven't seen yet, even from the REST "camp" is much in the way of
&gt; fairly generic ATOM entities to go inside the ATOM "envelope". Many REST
&gt; examples using ATOM step off the same cliff.
&gt; One last point about SOAP. In the note, we make the distinction between
&gt; "application neutrality" and "implementation neutrality". WS-* (and SOAP in
&gt; particular) seems overly focused on "implementation neutrality", ie making
&gt; sure the SOAP envelope and SOAP headers can be bound to virtually any
&gt; underlying middleware (incl. security middleware) technology. In general,
&gt; this emphasis on "implementation neutrality" distracts WS-* interface
&gt; designers from the far more important issue of "application neutrality". In
&gt; fact, SOAP is positioned as simply part of a WS-* "application protocol
&gt; toolkit" to enable developers to design custom application protocols. (I
&gt; have an excerpt from the note about this in my blog post that I gave earlier
&gt; in the thread.)
&gt; -- Nick
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11565<br>
Sender:Mike &lt;mike@...&gt;<br>
Post Date/Time:2008-11-21 09:44:08<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>Erik Hetzner wrote:
&gt; At Fri, 21 Nov 2008 00:51:53 +0000,
&gt; Mike Kelly &lt;mike@...&gt; wrote:
&gt;   
&gt;&gt; Erik Hetzner wrote:
&gt;&gt;     
&gt;&gt;&gt; The Accept header is really the clients business, not the servers.
&gt;&gt;&gt; If you want to change the context, then change the URI.
&gt;&gt;&gt;   
&gt;&gt;&gt;       
&gt;&gt; http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html
&gt;&gt;
&gt;&gt; "The Accept request-header field can be used to specify certain media 
&gt;&gt; types which are acceptable for the response. Accept headers can be used 
&gt;&gt; to indicate that the request is specifically limited to a small set of 
&gt;&gt; desired types, as in the case of a request for an in-line image."
&gt;&gt;
&gt;&gt; Am I missing something?
&gt;&gt;     
&gt;
&gt; Sorry - I wasnt clear. If the server wants to define a context in
&gt; which only a particular response is acceptable, then that context
&gt; should be reflected in a different URI.
&gt;
&gt; To use an example: if I understand you, you are saying that there are
&gt; times when you want to ensure that a client receives a JPEG
&gt; representation of URI &lt;A&gt; - a resource that has 2 representations, PNG
&gt; and JPEG. You want to have a mechanism to ensure that a client sends a
&gt; specific Accept header so that it can only receive that JPEG.
&gt;
&gt; What I am trying to say is: if you want to ensure that a client
&gt; receives a JPEG version of &lt;A&gt; then you need another URI, &lt;B&gt;, which
&gt; has only 1 representation, a JPEG. The JPEG representations of &lt;A&gt; and
&gt; &lt;B&gt; might always be the same, but if you want to tell the client that
&gt; it needs to have a JPEG, then you need to have a different URI.
&gt;
&gt;   

Yes; the reason you need a separate URI with only one representation, is 
because the markup provides no way of specifying the Accept header for a 
request to a 'generic' URI. If this is provisioned I see no value in 
creating an additional URI for each representation.

Currently:
&lt;img src="/myimage.jpg" /&gt;
&lt;img src="/myimage.png" /&gt;

With Accept attribute:
&lt;img src="/myimage" Accept="image/jpeg" /&gt;
&lt;img src="/myimage" Accept="image/png" /&gt;

Is this not desirable?

Regards,
Mike

&gt;&gt;&gt;&gt; One thing that bothers me about using the URIs for that, is it
&gt;&gt;&gt;&gt; becomes unclear whether a PUT to /document.pdf is an update that
&gt;&gt;&gt;&gt; will be reflected in /document.doc and /document.xml - this is
&gt;&gt;&gt;&gt; requiring the users, and caching mechanisms to be application aware.
&gt;&gt;&gt;&gt;     
&gt;&gt;&gt;&gt;         
&gt;&gt; Does anyone have any comments on this?
&gt;&gt;     
&gt;
&gt; Not me, sorry. I dont have enough knowledge of caches.
&gt;
&gt; best,
&gt; Erik Hetzner
&gt;   
&gt; ------------------------------------------------------------------------
&gt;
&gt; ;; Erik Hetzner, California Digital Library
&gt; ;; gnupg key id: 1024D/01DB07E3
&gt;   


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11566<br>
Sender:Norman Gray &lt;norman@...&gt;<br>
Post Date/Time:2008-11-21 10:23:03<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>
On 2008 Nov 21, at 09:44, Mike wrote:

&gt; Currently:
&gt; &lt;img src="/myimage.jpg" /&gt;
&gt; &lt;img src="/myimage.png" /&gt;
&gt;
&gt; With Accept attribute:
&gt; &lt;img src="/myimage" Accept="image/jpeg" /&gt;
&gt; &lt;img src="/myimage" Accept="image/png" /&gt;
&gt;
&gt; Is this not desirable?

It seems that your 'accept' attribute is redundant, because you (as  
the author of that HTML) have no idea what the browser (which will  
make the HTTP request) is actually capable of accepting.

When a browser retrieves /myimage.jpg, it has no idea what it's going  
to get back -- it could be a TIFF, or XML, or an MP3.  Within the  
context of an &lt;img&gt; element, a browser will presumably add an  
accept:image/* header "to specify certain media types which are  
acceptable for the response" -- it would probably be unwise for it to  
do anything more or less.

Or put another way, if you were writing a browser, what would be the  
sensible thing to do if you were given such an 'accept' attribute?   
Would you take the HTML author's word for it?

Best wishes,

Norman


-- 
Norman Gray  :  http://nxg.me.uk
Dept Physics and Astronomy, University of Leicester


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11567<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-11-21 10:37:25<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>Norman Gray wrote:
&gt; ...
&gt; Or put another way, if you were writing a browser, what would be the
&gt; sensible thing to do if you were given such an 'accept' attribute?
&gt; Would you take the HTML author's word for it?
&gt; ...

Well, wouldn't that depend on what the specification for it requires?

Specifying a media type the browser doesn't support could be on purpose, 
after all.

BR, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11568<br>
Sender:Mike &lt;mike@...&gt;<br>
Post Date/Time:2008-11-21 10:44:07<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>Norman Gray wrote:
&gt; On 2008 Nov 21, at 09:44, Mike wrote:
&gt;
&gt;   
&gt;&gt; Currently:
&gt;&gt; &lt;img src="/myimage.jpg" /&gt;
&gt;&gt; &lt;img src="/myimage.png" /&gt;
&gt;&gt;
&gt;&gt; With Accept attribute:
&gt;&gt; &lt;img src="/myimage" Accept="image/jpeg" /&gt;
&gt;&gt; &lt;img src="/myimage" Accept="image/png" /&gt;
&gt;&gt;
&gt;&gt; Is this not desirable?
&gt;&gt;     
&gt;
&gt; It seems that your 'accept' attribute is redundant, because you (as  
&gt; the author of that HTML) have no idea what the browser (which will  
&gt; make the HTTP request) is actually capable of accepting.
&gt;   

How is this different from pointing the browser at a unique URI that 
serves this same representation that "isn't supported"?

&gt; When a browser retrieves /myimage.jpg, it has no idea what it's going  
&gt; to get back -- it could be a TIFF, or XML, or an MP3.  Within the  
&gt; context of an &lt;img&gt; element, a browser will presumably add an  
&gt; accept:image/* header "to specify certain media types which are  
&gt; acceptable for the response" -- it would probably be unwise for it to  
&gt; do anything more or less.
&gt;   

My understanding is that browsers currently send all their requests with 
Accept headers that  contain, at some point, a catch-all */* .

So I guess the header does do less - regardless; I'm still struggling to 
understand why it would be 'unwise'.

&gt; Or put another way, if you were writing a browser, what would be the  
&gt; sensible thing to do if you were given such an 'accept' attribute?   
&gt; Would you take the HTML author's word for it?
&gt;
&gt;   

Yes, but that's how the developer wants their application to behave. 
Again - I don't understand how this is any different from using a unique 
URI to indicate a representation.

Regards,
Mike


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11569<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-11-21 10:55:38<br>
Subject:Re: [rest-discuss] Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>Nick Gall wrote:

&gt; SOAP is indeed application neutral. Perhaps even more application 
&gt; neutral than HTTP itself, since SOAP is little more than a framework for 
&gt; an XML envelope with completely open ended XML header processing. It is 
&gt; extremely application neutral. The problem is, interface designers take 
&gt; the incredibly generic SOAP format and put an incredibly application 
&gt; specific XML payload inside it. That's like stepping of a neutrality 
&gt; cliff -- from extremely generic to extremely specific in one step.
&gt; 
&gt; Of course the same can happen (and does happen) with Atom entities or 
&gt; even with representations returned by HTTP itself. But it seems to us 
&gt; that interface designers in the REST "camp" seem to better understand 
&gt; the importance of reusing existing representations for new applications, 
&gt; not custom designing representations for each new application. An 
&gt; example of this is the RESTafarian insistence that HTTP is NOT a 
&gt; transport protocol, but rather an "application protocol", albeit a VERY 
&gt; application neutral one. What we haven't seen yet, even from the REST 
&gt; "camp" is much in the way of fairly generic ATOM entities to go inside 
&gt; the ATOM "envelope". Many REST examples using ATOM step off the same cliff.

I think the problem is, you've tacked on a constraint without describing 
what it induces/constrains. With an architecture hat on I would want it 
described operationally so I can understand what benefits it brings and 
what the costs are, instead of having it defined in terms of of 
desirable outcomes or failings in other models (both serious problems 
with descriptions of SOA). I would want it called something like 
"REST+N", where "N" stands for application neutrality instead of making 
up terms like WOA.

But at a guess it sounds like you're looking for content technologies 
like RDF/OWL, or even KIF/FIPACL, which can be generically evaluated, as 
opposed to enveloping formats, which can be generically parsed. If 
that's the case, I can see how it can layer on a REST based system.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11570<br>
Sender:Mike &lt;mike@...&gt;<br>
Post Date/Time:2008-11-21 11:01:34<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>Subbu Allamaraju wrote:
&gt; On Nov 20, 2008, at 5:43 PM, Mike Kelly wrote:
&gt;
&gt;   
&gt;&gt; If the MIME-types aren't updated together, they are representations of
&gt;&gt; seperate/distinct resources, so why are they available at the same  
&gt;&gt; URI?
&gt;&gt;     
&gt;
&gt; What Mike is saying is that the protocol does not require any such  
&gt; thing, but of course, any well-behaving implementation would maintain  
&gt; consistency between representations of a resource unless there are  
&gt; application-specific reasons not to do so.
&gt;   

Sorry, it was a rhetorical question.

I can't think of an application-specific reason where it would not just 
be more appropriate to create a new resource for this rogue 
'representation' - to me that *is* a separate resource, and not a 
representation, and should have a separate URI.

Regards,
Mike

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11571<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-11-21 15:39:44<br>
Subject:Re: [rest-discuss] Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>On Nov 20, 2008, at 8:16 PM, Nick Gall wrote:

&gt; SOAP is indeed application neutral. Perhaps even more application  
&gt; neutral
&gt; than HTTP itself, since SOAP is little more than a framework for an  
&gt; XML
&gt; envelope with completely open ended XML header processing. It is  
&gt; extremely
&gt; application neutral. The problem is, interface designers take the  
&gt; incredibly
&gt; generic SOAP format and put an incredibly application specific XML  
&gt; payload
&gt; inside it. That's like stepping of a neutrality cliff -- from  
&gt; extremely
&gt; generic to extremely specific in one step.

It didn't help SOAP to be layered on top of HTTP, which it really  
didn't need since the design goal behind SOAP was to redo everything  
that HTTP did, but better.  Unfortunately, as is so often the case, it  
became technology in search of a problem.

But getting back to the statement of "application neutrality."  That  
sounds nice, but what does it mean?  So far, we have determined that  
HTTP and SOAP are application neutral.  What about XMPP, RTSP, SMTP,  
TCP/IP, and pretty much anything else that acts as an envelope?  When  
and where does something go from being neutral to being specific.

&gt; Of course the same can happen (and does happen) with Atom entities  
&gt; or even
&gt; with representations returned by HTTP itself. But it seems to us that
&gt; interface designers in the REST "camp" seem to better understand the
&gt; importance of reusing existing representations for new applications,  
&gt; not
&gt; custom designing representations for each new application. An  
&gt; example of
&gt; this is the RESTafarian insistence that HTTP is NOT a transport  
&gt; protocol,
&gt; but rather an "application protocol", albeit a VERY application  
&gt; neutral one.
&gt; What we haven't seen yet, even from the REST "camp" is much in the  
&gt; way of
&gt; fairly generic ATOM entities to go inside the ATOM "envelope". Many  
&gt; REST
&gt; examples using ATOM step off the same cliff.

Again the use of the term "very application neutral."  Until we know  
what it means, we can't have an intelligent discussion.

To illustrate my confusion, let me just say that HTTP is not neutral.   
It's limited to the category of client-server request/response  
interaction patterns with high tolerance for latencies.  The class of  
applications which fall into this category happen to be large and  
common place, but it is nonetheless a class of applications which does  
not encompass all applications.  So, what does it mean to be  
"application neutral" or even "very application neutral?"  :confused:

On the subject of Atom, AtomPub defines how a general-purpose Atom  
client can interact with any Atom server up to retrieving, modifying,  
and deleting a resource.  However, the client cannot create new  
resources, b/c the AtomPub specification does not define a format for  
describing resource creation.  That's about the only thing that it's  
missing, that I can think of, to make it a general purpose hypermedia- 
type for client-server applications, which gracefully degrades for  
general purpose Atom clients (much like HTML does for browsers).  In  
that regard, Atom is not yet RESTful, but close.

Nick, I would like very much to understand what "application  
neutrality" means to you and what you think this term brings to the  
table.  I fear that without better bounds on its meaning, we're bound  
to talk in circles.

- Steve

--------------
Steve G. Bjorg
http://mindtouch.com
http://twitter.com/bjorg


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11572<br>
Sender:Erik Hetzner &lt;erik.hetzner@...&gt;<br>
Post Date/Time:2008-11-21 17:27:21<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>At Fri, 21 Nov 2008 09:44:08 +0000,
Mike &lt;mike@...&gt; wrote:
&gt; Yes; the reason you need a separate URI with only one
&gt; representation, is because the markup provides no way of specifying
&gt; the Accept header for a request to a 'generic' URI. If this is
&gt; provisioned I see no value in creating an additional URI for each
&gt; representation.

The reason that you need a separate URI is that you have two separate
resources - and separate resources need separate URIs. It is not
simply an accident of HTML.

&gt; Currently:
&gt; &lt;img src="/myimage.jpg" /&gt;
&gt; &lt;img src="/myimage.png" /&gt;
&gt;
&gt; With Accept attribute:
&gt; &lt;img src="/myimage" Accept="image/jpeg" /&gt;
&gt; &lt;img src="/myimage" Accept="image/png" /&gt;
&gt;
&gt; Is this not desirable?

In my opinion, no, for the reasons I have stated.

best,
Erik Hetzner
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11573<br>
Sender:Mike &lt;mike@...&gt;<br>
Post Date/Time:2008-11-21 17:43:35<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>Erik Hetzner wrote:
&gt; At Fri, 21 Nov 2008 09:44:08 +0000,
&gt; Mike &lt;mike@...&gt; wrote:
&gt;   
&gt;&gt; Yes; the reason you need a separate URI with only one
&gt;&gt; representation, is because the markup provides no way of specifying
&gt;&gt; the Accept header for a request to a 'generic' URI. If this is
&gt;&gt; provisioned I see no value in creating an additional URI for each
&gt;&gt; representation.
&gt;&gt;     
&gt;
&gt; The reason that you need a separate URI is that you have two separate
&gt; resources - and separate resources need separate URIs. It is not
&gt; simply an accident of HTML.
&gt;
&gt;   

I simply don't agree that they need to be separate resources because 
they aren't separate resources. If updating one updates the other; they 
are separate representations of the *same* resource.

 I'm not trying to convert you, I'm merely suggesting that my approach 
is not just feasible and practically solvable; it is in a way which is 
completely compatible with your method of splitting representations into 
separate URIs.

&gt;&gt; Currently:
&gt;&gt; &lt;img src="/myimage.jpg" /&gt;
&gt;&gt; &lt;img src="/myimage.png" /&gt;
&gt;&gt;
&gt;&gt; With Accept attribute:
&gt;&gt; &lt;img src="/myimage" Accept="image/jpeg" /&gt;
&gt;&gt; &lt;img src="/myimage" Accept="image/png" /&gt;
&gt;&gt;
&gt;&gt; Is this not desirable?
&gt;&gt;     
&gt;
&gt; In my opinion, no, for the reasons I have stated.
&gt;   

What about me? :(

We can both have our own ways of doing this - you can just ignore the 
Accept attribute and continue putting the content type in the URI. It 
doesn't change anything for you.

And the whole 'how do users and caches know which URIs are tied 
together?' thing hasn't been cleared up for me either.

Regards,
Mike

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11574<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-11-21 18:00:00<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>&gt; I simply don't agree that they need to be separate resources because
&gt; they aren't separate resources.
resources are interface level entities .. what is underneath at the
server .- whether they are the same or not is irrelevant.

&gt; If updating one updates the other; they
&gt; are separate representations of the *same* resource.
This argument is just wrong! Please give a correct argument to say
they are the same resource.

Regards
devdatta



2008/11/22 Mike &lt;mike@...&gt;:
&gt; Erik Hetzner wrote:
&gt;&gt; At Fri, 21 Nov 2008 09:44:08 +0000,
&gt;&gt; Mike &lt;mike@...&gt; wrote:
&gt;&gt;
&gt;&gt;&gt; Yes; the reason you need a separate URI with only one
&gt;&gt;&gt; representation, is because the markup provides no way of specifying
&gt;&gt;&gt; the Accept header for a request to a 'generic' URI. If this is
&gt;&gt;&gt; provisioned I see no value in creating an additional URI for each
&gt;&gt;&gt; representation.
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; The reason that you need a separate URI is that you have two separate
&gt;&gt; resources - and separate resources need separate URIs. It is not
&gt;&gt; simply an accident of HTML.
&gt;&gt;
&gt;&gt;
&gt;
&gt; I simply don't agree that they need to be separate resources because
&gt; they aren't separate resources. If updating one updates the other; they
&gt; are separate representations of the *same* resource.
&gt;
&gt; I'm not trying to convert you, I'm merely suggesting that my approach
&gt; is not just feasible and practically solvable; it is in a way which is
&gt; completely compatible with your method of splitting representations into
&gt; separate URIs.
&gt;
&gt;&gt;&gt; Currently:
&gt;&gt;&gt; &lt;img src="/myimage.jpg" /&gt;
&gt;&gt;&gt; &lt;img src="/myimage.png" /&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; With Accept attribute:
&gt;&gt;&gt; &lt;img src="/myimage" Accept="image/jpeg" /&gt;
&gt;&gt;&gt; &lt;img src="/myimage" Accept="image/png" /&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Is this not desirable?
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; In my opinion, no, for the reasons I have stated.
&gt;&gt;
&gt;
&gt; What about me? :(
&gt;
&gt; We can both have our own ways of doing this - you can just ignore the
&gt; Accept attribute and continue putting the content type in the URI. It
&gt; doesn't change anything for you.
&gt;
&gt; And the whole 'how do users and caches know which URIs are tied
&gt; together?' thing hasn't been cleared up for me either.
&gt;
&gt; Regards,
&gt; Mike
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11575<br>
Sender:"=?UTF-8?Q?Beno=C3=AEt_Fleury?=" &lt;benoit.fleury@...&gt;<br>
Post Date/Time:2008-11-21 18:02:38<br>
Subject:Complex queries<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11576<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2008-11-21 18:36:00<br>
Subject:Re: [rest-discuss] Complex queries<br>
Message:<br><br>
<pre>On Fri, Nov 21, 2008 at 12:02 PM, Benot Fleury &lt;benoit.fleury@...&gt; wrote:
&gt; I was wondering what the preferred approach to make complex queries over
&gt; HTTP? I have to provide data in the request body (It could be a xml
&gt; description or even an image). The request is safe. The response can't be
&gt; cached since it depends on the request body. Moreover, the URL does not have
&gt; to be shared.

You might be surprised at how many complex queries want to be repeated
and shared.  I was, in a couple of previous projects where people
would specify a lot of query parameters repeatedly and also want to
share their results, which sometimes took awhile to process (and so
also wanted to be cached).

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11577<br>
Sender:Justin Sheehy &lt;justin@...&gt;<br>
Post Date/Time:2008-11-21 18:44:01<br>
Subject:Re: [rest-discuss] Complex queries<br>
Message:<br><br>
<pre>In some situations of this shape, you may find that it works out to  
POST to a query-containing resource to create a new queryable resource  
as described by the POST body.

You can then issue GET requests against that new resource, which can  
be happily shared, cached, etc.

-Justin


On Nov 21, 2008, at 1:36 PM, Bob Haugen wrote:

&gt; On Fri, Nov 21, 2008 at 12:02 PM, Benot Fleury &lt;benoit.fleury@... 
&gt; &gt; wrote:
&gt;&gt; I was wondering what the preferred approach to make complex queries  
&gt;&gt; over
&gt;&gt; HTTP? I have to provide data in the request body (It could be a xml
&gt;&gt; description or even an image). The request is safe. The response  
&gt;&gt; can't be
&gt;&gt; cached since it depends on the request body. Moreover, the URL does  
&gt;&gt; not have
&gt;&gt; to be shared.
&gt;
&gt; You might be surprised at how many complex queries want to be repeated
&gt; and shared.  I was, in a couple of previous projects where people
&gt; would specify a lot of query parameters repeatedly and also want to
&gt; share their results, which sometimes took awhile to process (and so
&gt; also wanted to be cached).




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11578<br>
Sender:Brian Sletten &lt;brian@...&gt;<br>
Post Date/Time:2008-11-21 18:54:58<br>
Subject:Re: [rest-discuss] Complex queries<br>
Message:<br><br>
<pre>&gt; I was wondering what the preferred approach to make complex queries  
&gt; over HTTP? I have to provide data in the request body (It could be a  
&gt; xml description or even an image). The request is safe. The response  
&gt; can't be cached since it depends on the request body. Moreover, the  
&gt; URL does not have to be shared. What are the problems of using POST  
&gt; in that situation?
&gt;
&gt; Are you aware of any problem with implementations or proxies for GET  
&gt; requests that contains a body?
&gt;
I don't know that this is any form of a preferred approach, but where  
possible, I like to turn the query itself into an information resource  
so that it can be shared. You can POST the query into a /query  
information space, get an ID associated with it and then do a GET to / 
query/&lt;id&gt; (or PUT it to a named query). This link can be shared,  
reused, cached, etc. You can also imagine building a query system  
where you can override default (or expected values) as part of the GET  
too:

GET /query/&lt;id&gt;?custid=1234

That is potentially cacheable as well.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11579<br>
Sender:Mike Kelly &lt;mike@...&gt;<br>
Post Date/Time:2008-11-21 19:03:29<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>dev wrote:
&gt;&gt; I simply don't agree that they need to be separate resources because
&gt;&gt; they aren't separate resources.
&gt;&gt;     
&gt; resources are interface level entities .. what is underneath at the
&gt; server .- whether they are the same or not is irrelevant.
&gt;
&gt;   

Why is it irrelevant? It seems to make more sense for users, caches, and 
other intermediaries if representations of the same resource are 
addressed from the same resource identifier. If the 'underneath' is less 
ambiguously mapped to the interface that has to be a good thing, and 
therefore a relevant consideration.

&gt;&gt; If updating one updates the other; they
&gt;&gt; are separate representations of the *same* resource.
&gt;&gt;     
&gt; This argument is just wrong! Please give a correct argument to say
&gt; they are the same resource.
&gt;
&gt;   

Er.. Hmm.. That is my argument; if the information contained in both 
representations is shared and does not conflict, I think it's fair to 
assume they are the same resource. What's your alternative criteria?


Regards,
Mike

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11580<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-11-21 19:10:43<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>&gt; Er.. Hmm.. That is my argument; if the information contained in both
&gt; representations is shared and does not conflict, I think it's fair to assume
&gt; they are the same resource. What's your alternative criteria?

I didn't really understand what you meant by "shared and does not conflict."

As a counter example to your original

&gt;&gt;&gt; If updating one updates the other; they
&gt;&gt;&gt; are separate representations of the *same* resource.

/best-cycle/price
/lance-cycle/price

Say right now the best cycle is lance's cycle. Updating one price
updates the other. But they are NOT the same resource.
&gt; Why is it irrelevant? It seems to make more sense for users, caches, and
&gt; other intermediaries if representations of the same resource are addressed
&gt; from the same resource identifier. If the 'underneath' is less ambiguously
&gt; mapped to the interface that has to be a good thing, and therefore a
&gt; relevant consideration.
&gt;

The point of REST is that caches, users etc. dont CARE about what is
underneath at the server and only talk to the interface. This
decoupling gives most of the interesting properties that REST has.

Regards
devdatta


2008/11/22 Mike Kelly &lt;mike@...&gt;:
&gt; dev wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; I simply don't agree that they need to be separate resources because
&gt;&gt;&gt; they aren't separate resources.
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; resources are interface level entities .. what is underneath at the
&gt;&gt; server .- whether they are the same or not is irrelevant.
&gt;&gt;
&gt;&gt;
&gt;
&gt; Why is it irrelevant? It seems to make more sense for users, caches, and
&gt; other intermediaries if representations of the same resource are addressed
&gt; from the same resource identifier. If the 'underneath' is less ambiguously
&gt; mapped to the interface that has to be a good thing, and therefore a
&gt; relevant consideration.
&gt;
&gt;&gt;&gt; If updating one updates the other; they
&gt;&gt;&gt; are separate representations of the *same* resource.
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; This argument is just wrong! Please give a correct argument to say
&gt;&gt; they are the same resource.
&gt;&gt;
&gt;&gt;
&gt;
&gt; Er.. Hmm.. That is my argument; if the information contained in both
&gt; representations is shared and does not conflict, I think it's fair to assume
&gt; they are the same resource. What's your alternative criteria?
&gt;
&gt;
&gt; Regards,
&gt; Mike
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11581<br>
Sender:"=?UTF-8?Q?Beno=C3=AEt_Fleury?=" &lt;benoit.fleury@...&gt;<br>
Post Date/Time:2008-11-21 19:14:42<br>
Subject:Re: [rest-discuss] Complex queries<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11582<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-11-21 19:20:26<br>
Subject:Re: [rest-discuss] Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11583<br>
Sender:Mike Kelly &lt;mike@...&gt;<br>
Post Date/Time:2008-11-21 19:40:01<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>dev wrote:
&gt;&gt; Er.. Hmm.. That is my argument; if the information contained in both
&gt;&gt; representations is shared and does not conflict, I think it's fair to assume
&gt;&gt; they are the same resource. What's your alternative criteria?
&gt;&gt;     
&gt;
&gt; I didn't really understand what you meant by "shared and does not conflict."
&gt;   

Say I have a resource 'prices' (a list of prices), and  the 
representations available of that resource are  JSON, XML, etc..

If each one of those is generated and updates to the same data store; 
they are representations of the same resource.

With the URI:
/prices

I could indicate the correct representation with the Accept header:
&lt;a href="/prices" Accept="application/json"&gt;Prices in JSON&lt;/a&gt;
&lt;a href="/prices" Accept="application/xml"&gt;Prices in XML&lt;/a&gt;

Because both representations are available at the same URI it is clear 
that they are both the same resource, so if I make changes and PUT them 
back to the URI (/prices), the resource will be updated - and it is 
completely clear that both representations will have changed and need to 
be re-cached. This behaviour is ambiguous if both content types are 
available at seperate URIs:

/prices.xml
/prices.json

How are intemediaries and caches supposed to automatically know that 
these two resources are linked in that way? They shouldn't just assume 
that behaviour unless they are made aware of it. That sucks!

&gt; As a counter example to your original
&gt;
&gt;   
&gt;&gt;&gt;&gt; If updating one updates the other; they
&gt;&gt;&gt;&gt; are separate representations of the *same* resource.
&gt;&gt;&gt;&gt;         
&gt;
&gt; /best-cycle/price
&gt; /lance-cycle/price
&gt;
&gt; Say right now the best cycle is lance's cycle. Updating one price
&gt; updates the other. But they are NOT the same resource.
&gt;   

Why not redirect

/cycle/best/price

to

/cycle/lance/price

?

&gt;&gt; Why is it irrelevant? It seems to make more sense for users, caches, and
&gt;&gt; other intermediaries if representations of the same resource are addressed
&gt;&gt; from the same resource identifier. If the 'underneath' is less ambiguously
&gt;&gt; mapped to the interface that has to be a good thing, and therefore a
&gt;&gt; relevant consideration.
&gt;&gt;
&gt;&gt;     
&gt;
&gt; The point of REST is that caches, users etc. dont CARE about what is
&gt; underneath at the server and only talk to the interface. This
&gt; decoupling gives most of the interesting properties that REST has

How/why is this decoupling?

Regards,
Mike

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11584<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-11-21 20:08:41<br>
Subject:Re: [rest-discuss] Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11585<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2008-11-21 20:23:37<br>
Subject:Re: [rest-discuss] Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>On Fri, Nov 21, 2008 at 2:08 PM, Nick Gall &lt;nick.gall@...&gt; wrote:
&gt; Simply asking yourself as an
&gt; interface designer, "Is there anything I could do to make this interface
&gt; simpler, more general, less tied to a specific way of being applied?", can
&gt; help improve the interface.

That's not true of REST.  As Bill wrote, it was designed for a
specific class of systems, and is not any more general than that.

For example, SOAP is less specific, and thus less useful.  REST has
more constraints, and is thus more tied to a range of applications,
but is then more useful to applications within that range.

I think (but cannot prove - yet) that a sweet spot usually exists in
the continuum between particular and general that makes an
architecture best fit its intended class of application, and the sweet
spot is delimited by its constraints.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11586<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2008-11-21 20:49:42<br>
Subject:Re: [rest-discuss] Complex queries<br>
Message:<br><br>
<pre>Benot Fleury wrote:
&gt; 
&gt; 
&gt; Hi,
&gt; 
&gt; I was wondering what the preferred approach to make complex queries over 
&gt; HTTP? I have to provide data in the request body (It could be a xml 
&gt; description or even an image). The request is safe. The response can't 
&gt; be cached since it depends on the request body. Moreover, the URL does 
&gt; not have to be shared. What are the problems of using POST in that 
&gt; situation?
&gt; 
&gt; Are you aware of any problem with implementations or proxies for GET 
&gt; requests that contains a body?

Hard to say, see &lt;http://trac.tools.ietf.org/wg/httpbis/trac/ticket/19&gt;.

Other than that, you may want to look at RFC 5323.

BR, Julian

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11587<br>
Sender:Erik Hetzner &lt;erik.hetzner@...&gt;<br>
Post Date/Time:2008-11-21 21:02:17<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>At Fri, 21 Nov 2008 17:43:35 +0000,
Mike &lt;mike@...&gt; wrote:
&gt; I simply don't agree that they need to be separate resources because 
&gt; they aren't separate resources. If updating one updates the other; they 
&gt; are separate representations of the *same* resource.

By this reasoning, if we have two resources, &lt;Earth&gt; and &lt;San
Francisco&gt;, the fact that, when we DELETE &lt;Earth&gt;, &lt;San Francisco&gt; is
also DELETEd, means that &lt;Earth&gt; is equivalent to &lt;San Francisco&gt;.

&gt; I'm not trying to convert you, I'm merely suggesting that my approach 
&gt; is not just feasible and practically solvable; it is in a way which is 
&gt; completely compatible with your method of splitting representations into 
&gt; separate URIs.
&gt;
&gt; [...]
&gt;
&gt; What about me? :(
&gt; 
&gt; We can both have our own ways of doing this - you can just ignore the 
&gt; Accept attribute and continue putting the content type in the URI. It 
&gt; doesn't change anything for you.

It does if, as I argue, you are assigning two different resources the
same URI.
 
&gt; And the whole 'how do users and caches know which URIs are tied 
&gt; together?' thing hasn't been cleared up for me either.

They dont.

best,
Erik Hetzner
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11588<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-11-21 21:13:54<br>
Subject:Re: [rest-discuss] Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11589<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-11-22 04:25:53<br>
Subject:Re: Complex queries<br>
Message:<br><br>
<pre>* Benot Fleury &lt;benoit.fleury@...&gt; [2008-11-21 19:05]:
&gt; I was wondering what the preferred approach to make complex
&gt; queries over HTTP? I have to provide data in the request body
&gt; (It could be a xml description or even an image). The request
&gt; is safe.

Put in a layer of indirection: let people create a query asset
by POSTing the body data in a separate request, producing a
resource whose URI can be included in the actual query request
that they then send as a GET.

&gt; The response can't be cached since it depends on the
&gt; request body.

You are begging the question: you gave no reason for why the
response is inherently uncacheable. The specification of GET
and POST is not inherent to your problem.

&gt; Moreover, the URL does not have to be shared.

Better to engineer for serendipity and not decide this up front.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11590<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-11-22 14:08:20<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>On Fri, 21 Nov 2008 19:03:29 +0000
Mike Kelly wrote:
&gt; 
&gt; Er.. Hmm.. That is my argument; if the information contained in both 
&gt; representations is shared and does not conflict, I think it's fair to 
&gt; assume they are the same resource. What's your alternative criteria?
&gt; 

Look at the URIs -- image.png and image.jpg are clearly not the same
resource, they have different names.  Web architecture allows them to
be representations of any other resource besides themselves.

You're assuming image.png and image.jpg have the same qs value, and
you're leaving the q value out of your @accept example.  While
image.jpg and image.png may well be equivalent representations of some
resource, you can't assume they're equivalent to each other by calling
them the same resource...

One may be significantly higher quality than another, i.e. the .jpg is
highly compressed while the .png has much larger filesize.  Content
negotiation allows clients that don't support PNG to at least get
something they can render, even if it isn't what the server deems to
be the highest quality. HTML used to have a solution for this:

&lt;img src='image.png' lowsrc='image.jpg'&gt;

Which would cause the .jpg to be rendered in the foreground while
the .png loaded in the background, then swapped... remember 14.4Kbps
modems?  But, this sort of functionality was deemed to be best left to
scripting when HTML 4 was standardized, about when it became irrelevant.

&gt; 
&gt; Say I have a resource 'prices' (a list of prices), and  the 
&gt; representations available of that resource are  JSON, XML, etc..
&gt; 
&gt; If each one of those is generated and updates to the same data store; 
&gt; they are representations of the same resource.
&gt; 

In the sense of your application, sure.  In the broader HTTP/REST
sense, you can't make that assumption.  It's only completely clear to
you, the application designer, but completely opaque behind a Uniform
Interface to everyone else.

&gt;
&gt; With the URI:
&gt; /prices
&gt; 
&gt; I could indicate the correct representation with the Accept header:
&gt; &lt;a href="/prices" Accept="application/json"&gt;Prices in JSON&lt;/a&gt;
&gt; &lt;a href="/prices" Accept="application/xml"&gt;Prices in XML&lt;/a&gt;
&gt; 
&gt; Because both representations are available at the same URI it is
&gt; clear that they are both the same resource, so if I make changes and
&gt; PUT them back to the URI (/prices), the resource will be updated -
&gt; and it is completely clear that both representations will have
&gt; changed and need to be re-cached.
&gt;

Let's say I crank up the compression on the above-mentioned .jpg file
and PUT it back to either /image or image.jpg.  The resource image.jpg
is updated, but why would this mean that /image or image.png needs
updating, or cache expiration?  It may be clear in your example, but
you can't make that "completely clear" assertion about all examples.

&gt;
&gt; This behaviour is ambiguous if both
&gt; content types are available at seperate URIs:
&gt; 
&gt; /prices.xml
&gt; /prices.json
&gt; 

This behavior is ambiguous no matter what, due to the late binding of
resource to representation inherent in the architecture.  There's no
guarantee that prices.json is any particular MIME type, and you're not
allowing for syntax or structure changes to one media type which may
have no effect whatsoever on the other.  Since application behavior is
opaque behind a Uniform Interface, each representation of a negotiated
resource is given its own URI so it can have independent cache headers.

&gt;
&gt; How are intemediaries and caches supposed to automatically know that 
&gt; these two resources are linked in that way? They shouldn't just
&gt; assume that behaviour unless they are made aware of it. That sucks!
&gt; 

Why should they?  Caches shouldn't assume anything.  The only thing a
cache needs to know is if a URI varies; if it does, then you may want
to let the cache know to revalidate by using must-revalidate or proxy-
revalidate, and you almost always let it know the URIs of variants, so
those variants may be separately cached (with the exception of GZIP).

If those variants happen to expire at the same time, no biggie, just
have the server application change the cache headers by making a HEAD
request to each variant.  Intermediaries don't need to know that this
behavior exists, it's this visibility that allows caching to begin with.

&gt;
&gt; &gt; /best-cycle/price
&gt; &gt; /lance-cycle/price
&gt; &gt;
&gt; &gt; Say right now the best cycle is lance's cycle. Updating one price
&gt; &gt; updates the other. But they are NOT the same resource.
&gt; &gt;   
&gt; 
&gt; Why not redirect
&gt; 
&gt; /cycle/best/price
&gt; 
&gt; to
&gt; 
&gt; /cycle/lance/price
&gt; 
&gt; ?
&gt; 

In REST terms, it doesn't matter as to the definition of resources and
representations, whether URI A is an alias of, or redirects to, URI B.
The server may change its implementation the next day without changing
the fact that A and B overlap for a time, this still wouldn't make them
the same resource.

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11591<br>
Sender:Barbara Van De Keer &lt;Barbara.VanDeKeer@...&gt;<br>
Post Date/Time:2008-11-22 17:51:36<br>
Subject:Re: [rest-discuss] Re: Complex queries<br>
Message:<br><br>
<pre>In my opinion, the best approach is to provide both POST and some other 
method (e.g. the SEARCH or REPORT Webdav methods). Providing 
POST-queries allows for easy access, because it is part of HTTP/1.1, but 
if you already use POST for 'create new resource', then you're actually 
overloading it, which is in theory not a good idea. Queries through the 
SEARCH or REPORT method are pretty RESTfully, but it's a disadvantage 
that they are not available in standard API's, which makes it a little 
bit more difficult for clients to access.

Providing them both allows clients to choose to be very RESTful, or very 
lazy ;)


Creating a 'query resource' has the disadvantage of having to do two 
requests. And if the query resource is not a part of your logical 
resource domain, then it's a bit ugly to me to create a resource for it.

This topic has already been adressed on this mailinglist 
(http://tech.groups.yahoo.com/group/rest-discuss/message/10721). Maybe 
you can find some more interesting ways to address this problem in that 
discussion.


Aristotle Pagaltzis schreef:
&gt;
&gt; * Benot Fleury &lt;benoit.fleury@... 
&gt; &lt;mailto:benoit.fleury%40gmail.com&gt;&gt; [2008-11-21 19:05]:
&gt; &gt; I was wondering what the preferred approach to make complex
&gt; &gt; queries over HTTP? I have to provide data in the request body
&gt; &gt; (It could be a xml description or even an image). The request
&gt; &gt; is safe.
&gt;
&gt; Put in a layer of indirection: let people create a query asset
&gt; by POSTing the body data in a separate request, producing a
&gt; resource whose URI can be included in the actual query request
&gt; that they then send as a GET.
&gt;
&gt; &gt; The response can't be cached since it depends on the
&gt; &gt; request body.
&gt;
&gt; You are begging the question: you gave no reason for why the
&gt; response is inherently uncacheable. The specification of GET
&gt; and POST is not inherent to your problem.
&gt;
&gt; &gt; Moreover, the URL does not have to be shared.
&gt;
&gt; Better to engineer for serendipity and not decide this up front.
&gt;
&gt; Regards,
&gt; -- 
&gt; Aristotle Pagaltzis // &lt;http://plasmasturm.org/ &lt;http://plasmasturm.org/&gt;&gt;
&gt;
&gt;  


-- 
Barbara Van De Keer

Ghent University - IBBT
Faculty of Engineering
Department of Electronics and Information Systems
Multimedia Lab
Gaston Crommenlaan 8 bus 201, B-9050 Ledeberg-Ghent, Belgium

t: +32 9 33 14959
f: +32 9 33 14896
t secr: +32 9 33 14911
e: barbara.vandekeer@...

URL: http://multimedialab.elis.ugent.be


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11592<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-11-22 21:08:57<br>
Subject:Re: [rest-discuss] Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>AFAIU, this is about "shared understanding" of media types across  
applications. Does it make the interface "application neutral"? Not  
necessarily. The application that is processing a representation needs  
to know what the representation is about - i.e. it needs to know the  
specifics. Even in the case of Atom, the application needs to know  
about the content's media type, and any extensions used.

It may however, allow some domain-specific layered software do some  
useful stuff without understanding all the pieces of the  
representation. This is very similar to how SOAP intermediaries may be  
able to process some SOAP headers. For instance, someone vendor using  
XML representations with some common elements/attributes, so that  
their gateway-level software can do some generic things.

&gt; SOAP is indeed application neutral. Perhaps even more application  
&gt; neutral than HTTP itself, since SOAP is little more than a framework  
&gt; for an XML envelope with completely open ended XML header  
&gt; processing. It is extremely application neutral. The problem is,  
&gt; interface designers take the incredibly generic SOAP format and put  
&gt; an incredibly application specific XML payload inside it. That's  
&gt; like stepping of a neutrality cliff -- from extremely generic to  
&gt; extremely specific in one step.

How else should they do it? If applications need to do "real" stuff,  
they need to exchange "specifics". Why is this like stepping off a  
cliff?

&gt; Of course the same can happen (and does happen) with Atom entities  
&gt; or even with representations returned by HTTP itself. But it seems  
&gt; to us that interface designers in the REST "camp" seem to better  
&gt; understand the importance of reusing existing representations for  
&gt; new applications, not custom designing

It depends. Even the GData examples you cited do indeed have very  
specific representations wrapped inside a generic media types. That  
does not make those architecture any more generic than, say, an  
application using "foo/bar" media type.

&gt; representations for each new application. An example of this is the  
&gt; RESTafarian insistence that HTTP is NOT a transport protocol, but  
&gt; rather an "application protocol", albeit a VERY application neutral  
&gt; one. What we haven't seen yet, even from the REST "camp" is much in  
&gt; the way of fairly generic ATOM entities to go

I am really confused by this. By adding a "fifth constraint" I thought  
this report is agreeing with the other four constraints, and hence  
that HTTP is an application protocol. Not so? How does WOA treat HTTP?  
As an application protocol or as a transport protocol?

&gt;  inside the ATOM "envelope". Many REST examples using ATOM step off  
&gt; the same cliff.

Could you give an example please? How would you build an app that does  
not fall of this cliff.

Sincerely,
Subbu

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11593<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-11-22 22:57:03<br>
Subject:Re: Complex queries<br>
Message:<br><br>
<pre>* Barbara Van De Keer &lt;Barbara.VanDeKeer@...&gt; [2008-11-22 18:55]:
&gt; And if the query resource is not a part of your logical
&gt; resource domain, then it's a bit ugly to me to create a
&gt; resource for it.

I dont see it that way at all. Resources derive from the
solution domain, not part of the problem domain. Creating
resources for concepts that the solution requires is how
modelling works in REST terms; they dont have to derive
from any aspect of the problem in order to be justified.

Consider f.ex. casting transactions or locks as resources.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11594<br>
Sender:Story Henry &lt;henry.story@...&gt;<br>
Post Date/Time:2008-11-23 09:40:14<br>
Subject:Re: [rest-discuss] "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>I think foaf+ssl shows how you can have authentication without cookies:

    http://blogs.sun.com/bblfish/entry/foaf_ssl_a_first_implementation

This is still very new, so I am not sure of my claim. There is still a  
lot to research there.

Henry

On 8 Nov 2008, at 22:56, Stefan Tilkov wrote:

&gt; On 08.11.2008, at 22:11, Alan Dean wrote:
&gt;
&gt;&gt; On Sat, Nov 8, 2008 at 8:48 PM, Stefan Tilkov
&gt;&gt; &lt;stefan.tilkov@...&gt; wrote:
&gt;&gt;&gt; On 08.11.2008, at 07:09, Alan Dean wrote:
&gt;&gt;&gt; Slide 29: If the last bullet is supposed to say "REST doesn't scale
&gt;&gt;&gt; if
&gt;&gt;&gt; access control is required", I disagree :-)
&gt;&gt;
&gt;&gt; Really? I'm interested to hear why.
&gt;&gt;&gt;
&gt;
&gt; As Bill pointed out (if I understood him correctly), I believe it
&gt; affects scalability if it's done in a session-oriented way. A while
&gt; back, Aristotle Pagaltzis had a nice post (too lazy to dig it up now)
&gt; that described how to validate cookies fast and without the need for
&gt; sessions.
&gt;
&gt; Stefan
&gt; --
&gt; Stefan Tilkov, http://www.innoq.com/blog/st/
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11595<br>
Sender:Story Henry &lt;henry.story@...&gt;<br>
Post Date/Time:2008-11-23 09:48:17<br>
Subject:foaf+ssl: a restful authentication protocol<br>
Message:<br><br>
<pre>Hi,

we are now starting to have a few implementations of foaf+ssl, a  
protocol that does not invent anything new. It just uses well  
established technologies (HTTP, X509, RDF) in a novel way.

A very simple, early implementation is described here:

	http://blogs.sun.com/bblfish/entry/foaf_ssl_a_first_implementation

Essentially it works by creating client side self signed certificates  
that are linked to a web resource, that can return an RDF  
representation containing info about the public key of the certificate  
( other representations should be GRDDLable ).

	There are huge numbers of ways of using this, and exploring this. It  
works with Firefox and Safari out of the box. What other browsers does  
it work with? Can it help eliminate the need for identifying cookies,  
and so for javascript security holes dependent on cookies?

	Henry


Home page: http://bblfish.net/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11596<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-11-23 17:33:34<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>Eric J. Bowman wrote:
&gt; 
&gt; 
&gt; On Tue, 18 Nov 2008 12:22:02 +0000
&gt; Mike wrote:
&gt;  &gt;
&gt;  &gt; Maybe someone can correct me here, but as I understand it; content
&gt;  &gt; types served at a given URI are effectively that given resource's
&gt;  &gt; representations.
&gt;  &gt;
&gt; 
&gt; Errr, uhhh, 

Aside from being rude, you've missed the point.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11597<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-11-23 17:42:41<br>
Subject:Re: "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>* Steve Bjorg &lt;steveb@...&gt; [2008-11-11 17:45]:
&gt; Using the &lt;atom:content&gt; element is not the right approach,
&gt; because as you correctly stated, it still needs its own
&gt; media-type definition. That's just pushing the problem further
&gt; down the stack. Instead, one can augment the Atom definition to
&gt; convey the extra information.

* Bill de hOra &lt;bill@...&gt; [2008-11-13 20:45]:
&gt; Subbu Allamaraju wrote:
&gt; &gt; a. If the data is mostly content like HTML, use atom:content
&gt; &gt; to carry that HTML, and then extend the atom:entry element
&gt; &gt; with additional metadata. An example of such metadata could
&gt; &gt; be location info.
&gt; &gt;
&gt; &gt; b. If the data is not content-like, use the entry like a
&gt; &gt; payload format with atom:content containing the data.
&gt;
&gt; c. Add foreign markup extensions under atom:entry.


That is a dangerous path. One of the problems with RSS that led
to the Atom effort is that it has no facilities for transporting
any data other than textual content, so everything gets shoved
into extension elements, so every application needs to extend RSS
in its own private new way.

Atom was meant to break away from that mess, not reintroduce it.
Thats what the addition of @type to atom:content and the careful
deliberation about the content model in general was all about.

I would suggest strongly that Atom should only be augmented with
extension elements for protocol purposes, as in AtomPub. The data
contained in an entry should remain largely intact when detached
from the envelope. This pretty much necessitates the use of
atom:content.

Now, Steve, you are very correct to say that introducing a new
hypermedia media type is costly (at least if you mean to do it on
a non-local level). But I think you are drawing the wrong
conclusion from it.

Instead of diminishing the role of atom:content and finding a
way to auxiliary facilities of Atom fit the data, the right way
of dealing with the problem would be to find a way to make one
of the range of available hypermedia media types fit the data. I
think people dismiss XHTML far too easily because they consider
it somehow presentational, f.ex., or not structured enough,
whatever that may mean. RDF has an inexplicably bad reputation,
as well. There are a lot of good existing choices once you get
over the idea that your domain is a unique and precious
snowflake.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11598<br>
Sender:"Peter Keane" &lt;pkeane@...&gt;<br>
Post Date/Time:2008-11-23 19:02:14<br>
Subject:Re: [rest-discuss] Re: "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>On Sun, Nov 23, 2008 at 11:42 AM, Aristotle Pagaltzis &lt;pagaltzis@...&gt; wrote:
&gt; * Steve Bjorg &lt;steveb@...&gt; [2008-11-11 17:45]:
&gt;&gt; Using the &lt;atom:content&gt; element is not the right approach,
&gt;&gt; because as you correctly stated, it still needs its own
&gt;&gt; media-type definition. That's just pushing the problem further
&gt;&gt; down the stack. Instead, one can augment the Atom definition to
&gt;&gt; convey the extra information.
&gt;
&gt; * Bill de hOra &lt;bill@...&gt; [2008-11-13 20:45]:
&gt;&gt; Subbu Allamaraju wrote:
&gt;&gt; &gt; a. If the data is mostly content like HTML, use atom:content
&gt;&gt; &gt; to carry that HTML, and then extend the atom:entry element
&gt;&gt; &gt; with additional metadata. An example of such metadata could
&gt;&gt; &gt; be location info.
&gt;&gt; &gt;
&gt;&gt; &gt; b. If the data is not content-like, use the entry like a
&gt;&gt; &gt; payload format with atom:content containing the data.
&gt;&gt;
&gt;&gt; c. Add foreign markup extensions under atom:entry.
&gt;
&gt; That is a dangerous path. One of the problems with RSS that led
&gt; to the Atom effort is that it has no facilities for transporting
&gt; any data other than textual content, so everything gets shoved
&gt; into extension elements, so every application needs to extend RSS
&gt; in its own private new way.
&gt;
&gt; Atom was meant to break away from that mess, not reintroduce it.
&gt; That's what the addition of @type to atom:content and the careful
&gt; deliberation about the content model in general was all about.
&gt;
&gt; I would suggest strongly that Atom should only be augmented with
&gt; extension elements for protocol purposes, as in AtomPub. The data
&gt; contained in an entry should remain largely intact when detached
&gt; from the envelope. This pretty much necessitates the use of
&gt; atom:content.
&gt;
&gt; Now, Steve, you are very correct to say that introducing a new
&gt; hypermedia media type is costly (at least if you mean to do it on
&gt; a non-local level). But I think you are drawing the wrong
&gt; conclusion from it.

Aristotle-

Although I agree in principle, I have found in practice (and perhaps
my situation is unique, but I doubt it....), that the most
straightforward way to add what are essential arbitrary key-value
pairs to an atom entry was to use the simple extension mechanism under
atom:entry.  I had been using a XHTML (xoxo) in atom:content, but it
added what felt like needless work on both end of the wire (which I
control, and yes, it makes these extensions useless to other systems
that do not know about it).  Ultimately, I simply decided to do what
Google did with their spreadsheets feeds, as I assume that'll be the
most widely implemented example of abitrary key-value pairs (column
name =&gt; cell value) in Atom.

e.g.:
&lt;entry xmlns:gsx="http://schemas.google.com/spreadsheets/2006/extended"&gt;
...
    &lt;gsx:type&gt;Question&lt;/gsx:type&gt;
    &lt;gsx:eid&gt;abcde&lt;/gsx:eid&gt;
    &lt;gsx:name&gt;John smith&lt;/gsx:name&gt;
    &lt;gsx:text&gt;how big is the ocean?&lt;/gsx:text&gt;
&lt;/entry&gt;

I've been tempted to go ahead and use the same namespace as Google,
but haven't yet.  We do quite a lot of interaction with data from
Google Spreadsheets anyway, and that might make sense.

I'd be curious to know you or anyone's thoughts on the wisdom (or lack
their of) of Google's approach.

--peter keane







&gt;
&gt; Instead of diminishing the role of atom:content and finding a
&gt; way to auxiliary facilities of Atom fit the data, the right way
&gt; of dealing with the problem would be to find a way to make one
&gt; of the range of available hypermedia media types fit the data. I
&gt; think people dismiss XHTML far too easily because they consider
&gt; it somehow presentational, f.ex., or not structured enough,
&gt; whatever that may mean. RDF has an inexplicably bad reputation,
&gt; as well. There are a lot of good existing choices once you get
&gt; over the idea that your domain is a unique and precious
&gt; snowflake.
&gt;
&gt; Regards,
&gt; --
&gt; Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11599<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2008-11-24 11:12:56<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>Hi.

If we put accept types into markup and make them secondary identifiers, 
can we then have some way to identify different representations of the 
differently identified resources?

It seems we will want to put this into markup too. Hence we will need 
further markup for this third level of identification.

I propose:

&lt;a href="/stuff" accept="text/xml" accept2="text/xml" 
accept3="text/xml"&gt; and so on until arbitrary limits defined by the 
patience of the markup-author are reached.

There are after all, less than 150 shopping days left until April Fools 
Day (varying according to time-zones and local trading laws).


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11600<br>
Sender:Mike &lt;mike@...&gt;<br>
Post Date/Time:2008-11-24 11:36:59<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>Jon Hanna wrote:
&gt; Hi.
&gt;
&gt; If we put accept types into markup and make them secondary identifiers, 
&gt; can we then have some way to identify different representations of the 
&gt; differently identified resources?
&gt;
&gt; It seems we will want to put this into markup too. Hence we will need 
&gt; further markup for this third level of identification.
&gt;
&gt; I propose:
&gt;
&gt; &lt;a href="/stuff" accept="text/xml" accept2="text/xml" 
&gt; accept3="text/xml"&gt; and so on until arbitrary limits defined by the 
&gt; patience of the markup-author are reached.
&gt;
&gt; There are after all, less than 150 shopping days left until April Fools 
&gt; Day (varying according to time-zones and local trading laws).
&gt;
&gt;   

Jon,

One single accept header can indicate all of the appropriate 
content-types and their preferences for a given link. I would not use 
the markup to achieve a complete listing of the types available at a 
given URI, just the appropriate types for a given link in that 
particular state of the application.

Being able to query a URI for a list of available content-types would be 
nice; but this would be better at the protocol level, I think. That way 
if someone sends me an email with a link to example.com/report - I can 
right click the link and be provided with a resource-specific 'Open 
As..' menu with a list of all the UAs on my OS that can be served with 
an appropriate content-type.

For now, it is most likely that the link will be opened in a web 
browser; so the practical solution in the short term would be HTML 
representations which provide links to all the other content-types 
available. Unfortunately, unless you have separate URI's for each 
representation this is not possible with HTML as it stands - because 
there is no markup to indicate the appropriate Accept header for a given 
link.

Regards,
Mike

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11601<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2008-11-24 12:39:11<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>Mike wrote:
&gt; One single accept header can indicate all of the appropriate 
&gt; content-types and their preferences for a given link. I would not use 
&gt; the markup to achieve a complete listing of the types available at a 
&gt; given URI, just the appropriate types for a given link in that 
&gt; particular state of the application.

If we put this into links it becomes an identifier. We now have a sort 
of resource (though different to a HTTP resource, as currently defined) 
identified by an identifier (though not a URI as in HTTP as currently 
defined, but rather a tuple containing a URI and a [possibly null] 
mime-type).

Now, lets say we want to build a RESTful system out of this new design 
style. It's likely that some people here would, since we're all 
subscribed to a list called "Rest-Discuss".

In order to do this we will want to have a way to distinguish different 
representations of the new types of resources identified by the new 
types of identifiers.

However. Since the proposal here is to replace REST with an un-RESTful 
system in which the accept header becomes part of the identifier, we can 
assume that once we've managed to fix it to be RESTful HTML6 will make 
that part of the identifier too. Anyone wanting to build a RESTful 
system that is fully compatible with HTML6 will need to add a further 
level of representation identification.

A mechanism for an infinite number of accept identifiers will presumably 
arrive sometime between HTML7 and HTML.

&gt; Being able to query a URI for a list of available content-types would be 
&gt; nice;

It is nice. That's why its already possible.

&gt; but this would be better at the protocol level, I think.

Yes, it's in HTTP/1.1.

&gt; That way 
&gt; if someone sends me an email with a link to example.com/report - I can 
&gt; right click the link and be provided with a resource-specific 'Open 
&gt; As..' menu with a list of all the UAs on my OS that can be served with 
&gt; an appropriate content-type.

This is perfectly possible with existing technology.

&gt; For now, it is most likely that the link will be opened in a web 
&gt; browser; so the practical solution in the short term would be HTML 
&gt; representations which provide links to all the other content-types 
&gt; available.

That is a good way of implementing the representation sent with 406, yes.

&gt; Unfortunately, unless you have separate URI's for each 
&gt; representation this is not possible with HTML as it stands

And?

If you are pushing the choice of representations above the protocol 
level (which you are if you are letting the user choose) then those 
representations have become resources*. In a RESTful system there is a 
uniform way of identifying all resources. In HTTP this is URIs.

Any proposal to have a means of identifying resources beyond URIs is a 
proposal to make HTTP no longer RESTful. Means to say things about 
resources could certainly be useful parts of hypermedia formats, and 
hence the type attribute on the &lt;a&gt; element in HTML4.0 and later can be 
useful, but moving from describing resources to partially identifying 
them is not just unRESTful but anti-RESTful. You are proposing that we 
make HTML violate one of the core constraints of REST.

Your proposal solves a "problem" that does not exist. If a client wishes 
to deal with the scenario you describe, the solution is as follows:

1. Client sends GET to URI with empty Accept header.
2a. Server ignores empty get and sends default (possibly sole) 
representation, as it is not willing to assist content negotiation on 
the basis of content-types.
2b. Server sends 406 Not Acceptable response with entity being a 
hypertext document linking to resources which are representations of 
that resource.
3a. Client handles download and/or display of representation based on 
content-type and other metadata.
3b. Client handles choice of representations either computationally or 
by offering choice to user.
4b. Client handles download and/or display of representation based on 
content-type and other metadata.

* There is nothing to say a representation of a given resource cannot 
itself be a resource. The two rival definitions of just what a web 
resource are that they can be anything at all, or (the W3C TAG finding) 
that they are "informational resources". A representation of a resource 
is clearly an informational resource in its own right, and is also 
clearly within a subset of "anything at all". There are further cases 
where a resource really is one and the same as its representation; the 
most obvious case being a software batch, since in such cases it really 
is the bunch of 1s and 0s that we care about.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11602<br>
Sender:Mike &lt;mike@...&gt;<br>
Post Date/Time:2008-11-24 13:57:01<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>Jon Hanna wrote:
&gt; Mike wrote:
&gt;  
&gt;&gt; One single accept header can indicate all of the appropriate 
&gt;&gt; content-types and their preferences for a given link. I would not use 
&gt;&gt; the markup to achieve a complete listing of the types available at a 
&gt;&gt; given URI, just the appropriate types for a given link in that 
&gt;&gt; particular state of the application.
&gt;&gt;     
&gt;
&gt; If we put this into links it becomes an identifier. We now have a sort 
&gt; of resource (though different to a HTTP resource, as currently 
&gt; defined) identified by an identifier (though not a URI as in HTTP as 
&gt; currently defined, but rather a tuple containing a URI and a [possibly 
&gt; null] mime-type).
&gt;
&gt; Now, lets say we want to build a RESTful system out of this new design 
&gt; style. It's likely that some people here would, since we're all 
&gt; subscribed to a list called "Rest-Discuss".
&gt;
&gt; In order to do this we will want to have a way to distinguish 
&gt; different representations of the new types of resources identified by 
&gt; the new types of identifiers.
&gt;   

How is making context-specific changes to a UA's Accept header, creating 
a 'new type of identifier' ?

Why on earth does the Accept header exist if it's not to indicate 
appropriate content types?
&gt; However. Since the proposal here is to replace REST with an un-RESTful 
&gt; system in which the accept header becomes part of the identifier

No - the Accept header *remains* part of the request; it's significance 
to the server is increased. Applications that do not wish to make use of 
the Accept header this way can continue not doing so - both solutions 
can co-exist peacefully on the web and in HTML provided this Accept 
attribute is optional.

&gt; we can assume that once we've managed to fix it to be RESTful HTML6 
&gt; will make that part of the identifier too. Anyone wanting to build a 
&gt; RESTful system that is fully compatible with HTML6 will need to add a 
&gt; further level of representation identification.
&gt;
&gt; A mechanism for an infinite number of accept identifiers will 
&gt; presumably arrive sometime between HTML7 and HTML.
&gt;
&gt;   

The Accept attribute (and header) can contain whatever the developer 
wants, I'm not sure why you believe this would be limited to certain 
content types.

&lt;a href="/document" Accept="foo/bar"&gt;

&gt;&gt; Being able to query a URI for a list of available content-types would 
&gt;&gt; be nice;
&gt;&gt;     
&gt;
&gt; It is nice. That's why its already possible.
&gt;
&gt;  
&gt;&gt; but this would be better at the protocol level, I think.
&gt;&gt;     
&gt;
&gt; Yes, it's in HTTP/1.1.
&gt;
&gt;  
&gt;&gt; That way if someone sends me an email with a link to 
&gt;&gt; example.com/report - I can right click the link and be provided with 
&gt;&gt; a resource-specific 'Open As..' menu with a list of all the UAs on my 
&gt;&gt; OS that can be served with an appropriate content-type.
&gt;&gt;     
&gt;
&gt; This is perfectly possible with existing technology.
&gt;   

Good; then I guess that's even more reason to keep all representations 
of a resource within one URI, rather than creating unnecessary URIs for 
each representation.
&gt;  
&gt;&gt; For now, it is most likely that the link will be opened in a web 
&gt;&gt; browser; so the practical solution in the short term would be HTML 
&gt;&gt; representations which provide links to all the other content-types 
&gt;&gt; available.
&gt;&gt;     
&gt;
&gt; That is a good way of implementing the representation sent with 406, yes.
&gt;
&gt;  
&gt;&gt; Unfortunately, unless you have separate URI's for each representation 
&gt;&gt; this is not possible with HTML as it stands
&gt;&gt;     
&gt;
&gt; And?
&gt;
&gt; If you are pushing the choice of representations above the protocol 
&gt; level (which you are if you are letting the user choose)

How sure are you, that is 'pushing it above the protocol level'?


&gt; then those representations have become resources*.

...?

&gt; In a RESTful system there is a uniform way of identifying all 
&gt; resources. In HTTP this is URIs.
&gt;   

Neat! :)

&gt; Any proposal to have a means of identifying resources beyond URIs is a 
&gt; proposal to make HTTP no longer RESTful.

True. What about using URIs to identify beyond resources? (i.e. to 
specify the representation)

&gt; Means to say things about resources could certainly be useful parts of 
&gt; hypermedia formats, and hence the type attribute on the &lt;a&gt; element in 
&gt; HTML4.0 and later can be useful, but moving from describing resources 
&gt; to partially identifying them is not just unRESTful but anti-RESTful.

Modifying the Accept header has *nothing to do* with identifying the 
resource.

I think you may have misunderstood the implications of this proposal.

&gt; You are proposing that we make HTML violate one of the core 
&gt; constraints of REST.
&gt;   

No, I'm not.

&gt; Your proposal solves a "problem" that does not exist. If a client 
&gt; wishes to deal with the scenario you describe, the solution is as 
&gt; follows:
&gt;
&gt; 1. Client sends GET to URI with empty Accept header.
&gt; 2a. Server ignores empty get and sends default (possibly sole) 
&gt; representation, as it is not willing to assist content negotiation on 
&gt; the basis of content-types.
&gt; 2b. Server sends 406 Not Acceptable response with entity being a 
&gt; hypertext document linking to resources which are representations of 
&gt; that resource.
&gt; 3a. Client handles download and/or display of representation based on 
&gt; content-type and other metadata.
&gt; 3b. Client handles choice of representations either computationally or 
&gt; by offering choice to user.
&gt; 4b. Client handles download and/or display of representation based on 
&gt; content-type and other metadata.
&gt;   
To me, that's a horrible solution.
&gt; * There is nothing to say a representation of a given resource cannot 
&gt; itself be a resource. The two rival definitions of just what a web 
&gt; resource are that they can be anything at all, or (the W3C TAG 
&gt; finding) that they are "informational resources". A representation of 
&gt; a resource is clearly an informational resource in its own right, and 
&gt; is also clearly within a subset of "anything at all". There are 
&gt; further cases where a resource really is one and the same as its 
&gt; representation; the most obvious case being a software batch, since in 
&gt; such cases it really is the bunch of 1s and 0s that we care about.
&gt;   

It should be reasonably apparent from the preceding conversation that I 
am well aware representations can be *treated* as resources, and that 
content types can be treated as their own URIs (this is common practice 
right now). My point here is that I see no value in doing content type 
negotiation in the URI if the representation is negotiable (Accept 
header) via the protocol (HTTP). Lack of support? That's why I am 
proposing this additional attribute.

Your tone seems a little hostile; I'll give the benefit of the doubt and 
just assume you're socially inept!

Thanks for your feedback though :)

Regards,
Mike


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11603<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2008-11-24 15:41:33<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>Mike wrote:
&gt; How is making context-specific changes to a UA's Accept header, creating 
&gt; a 'new type of identifier' ?

Because you are using it to identify, hence it is an identifier.

&gt; Why on earth does the Accept header exist if it's not to indicate 
&gt; appropriate content types?

That's exactly what it does. Please let it do so.

&gt; No - the Accept header *remains* part of the request; it's significance 
&gt; to the server is increased.

But it has become an part of the means of identifying.

&gt; The Accept attribute (and header) can contain whatever the developer 
&gt; wants, I'm not sure why you believe this would be limited to certain 
&gt; content types.

I'm not believing this. I believe you are proposing the de-facto removal 
of content-negotiation from HTTP and the de-facto change of the 
identifiers used in HTTP.

Anyone wanting to do REST after that would have to reply with de-facto 
replacement of content-negotiation into HTTP and de-factor normalisation 
of the identifier mechanism.

&gt; Good; then I guess that's even more reason to keep all representations 
&gt; of a resource within one URI, rather than creating unnecessary URIs for 
&gt; each representation.

Once you have offered something to the user it is a resource.

If differences in formats are something that should be manually dealt 
with, or dealt with at an application level, then you are not talking 
about a single resource, but multiple resources.

If formats are not something for the user to worry about, then why do we 
want to identify them at markup level?

&gt; How sure are you, that is 'pushing it above the protocol level'?

Because I am neither an HTTP server nor a HTTP client. When something is 
offered to me, it has moved above the protocol level.

&gt;&gt; In a RESTful system there is a uniform way of identifying all 
&gt;&gt; resources. In HTTP this is URIs.
&gt;&gt;   
&gt; 
&gt; Neat! :)

Extremely neat indeed. If anything is core to the overall neatness (in 
many senses of the word) of REST it is this. I object strongly to your 
proposing we do away with it.

&gt;&gt; Any proposal to have a means of identifying resources beyond URIs is a 
&gt;&gt; proposal to make HTTP no longer RESTful.
&gt; 
&gt; True. What about using URIs to identify beyond resources? (i.e. to 
&gt; specify the representation)

Then we no longer have a uniform interface and we no longer have uniform 
identifiers. URIs have become a misnomer. One of the core constraints in 
REST has been broken, and hence it's no longer anything remotely related 
to REST.

&gt; Modifying the Accept header has *nothing to do* with identifying the 
&gt; resource.

Exactly why it shouldn't be used as an identifier.

&gt; I think you may have misunderstood the implications of this proposal.

I think you have.

&gt;&gt; You are proposing that we make HTML violate one of the core 
&gt;&gt; constraints of REST.
&gt;&gt;   
&gt; 
&gt; No, I'm not.

Yes, you are. We have a uniform means of identifying resources. When 
using an HTTP client we have that, and only that, means of identifying 
it. This is one of the constraints of REST. If any of the constraints 
could be considered key (though it's dangerous to rank the constraints) 
it would be this one.

&gt; To me, that's a horrible solution.

Why?

It works. It has been done successfully. It has no more overhead than 
what you propose at an implementation level. It remains within REST. It 
has zero implementation overhead in the majority case (in fairness, so 
does yours). It works today, and has done for many years. It's 
automatically resilient to changes in which representations are 
available without hypermedia referencing the resources needing to be 
updated except for that which comes with the 406 response.

&gt; My point here is that I see no value in doing content type 
&gt; negotiation in the URI if the representation is negotiable (Accept 
&gt; header) via the protocol (HTTP).

Content negotiation in the headers allows a user-agent to say, "I can 
work with ..." and the server to act accordingly.

Content negotiation by representations-as-resources allows the server to 
say "I can give you ..." and the client to act accordingly.

These fulfil different needs and fulfil them appropriately. Both of 
these remain within REST.

&gt; Lack of support? That's why I am 
&gt; proposing this additional attribute.

What lack of support? Both forms of content-negotiation are in use 
today. Most of the time we don't do content-negotiation on content-type 
because most of the time it isn't actually relevant to the applications. 
Support for the cases where it is relevant is fine.

Of the remaining times when it is not enough, we are offering the user 
two or more resources to choose between. The only thing your proposal 
changes in this regard is that the constraint that we have uniform 
identifiers is no longer holding.

&gt; Your tone seems a little hostile; I'll give the benefit of the doubt and 
&gt; just assume you're socially inept!

Well, far be it from me to argue with that judgements, but no, it's not 
that I'm socially inept (not saying that I am not, it is not for me to 
judge) it's that I'm becoming hostile following this thread.

All my hostility will disappear if you can explain how we are meant to 
deal with this proposed change to HTML in a RESTful way?


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11604<br>
Sender:Mike &lt;mike@...&gt;<br>
Post Date/Time:2008-11-24 17:12:37<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>Jon Hanna wrote:
&gt; Mike wrote:
&gt;   
&gt;&gt; How is making context-specific changes to a UA's Accept header, creating 
&gt;&gt; a 'new type of identifier' ?
&gt;&gt;     
&gt;
&gt; Because you are using it to identify, hence it is an identifier.
&gt;
&gt;   

I'm using it to indicate content type preferences of a resource for a 
given context; this is necessary because depending on the link, my 
browser should be able to request the pdf, word document, xml 
representation of a resource. If you don't have this mechanism you're 
forced to use the URI for something the HTTP protocol can handle itself 
with the Accept header. The browser is a special case UA because it is 
supposed to handle all content types; even if it is simply downloading 
and storing the data as a file - this is presumably why the default 
Accept header for major browsers contains */*.

I would describe this use as a negotiator rather than an identifier.
&gt;&gt; Why on earth does the Accept header exist if it's not to indicate 
&gt;&gt; appropriate content types?
&gt;&gt;     
&gt;
&gt; That's exactly what it does. Please let it do so.
&gt;
&gt;   

For most UAs - the best use of the accept header is to specify the 
content types that the UA has preference for. Browsers are a special 
case where they Accept all content types (hence: */*) where the most 
appropriate type is determined by *either* the browser itself (default 
accept header) or the specific context of a link in an application 
(accept attribute).

&gt;&gt; No - the Accept header *remains* part of the request; it's significance 
&gt;&gt; to the server is increased.
&gt;&gt;     
&gt;
&gt; But it has become an part of the means of identifying.
&gt;
&gt;   

A means of negotiating the content type. The resource is identified in 
the URI. The content type is negotiated.

&gt;&gt; The Accept attribute (and header) can contain whatever the developer 
&gt;&gt; wants, I'm not sure why you believe this would be limited to certain 
&gt;&gt; content types.
&gt;&gt;     
&gt;
&gt; I'm not believing this. I believe you are proposing the de-facto removal 
&gt; of content-negotiation from HTTP and the de-facto change of the 
&gt; identifiers used in HTTP.
&gt;   

http://www.w3.org/Protocols/rfc2616/rfc2616-sec12.html

"HTTP/1.1 includes the following request-header fields for enabling 
server-driven negotiation through description of user agent capabilities 
*and user preferences*: Accept (section 14.1 
&lt;http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.1&gt;), 
Accept- Charset (section 14.2 
&lt;http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.2&gt;), 
Accept-Encoding (section 14.3 
&lt;http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.3&gt;), 
Accept- Language (section 14.4 
&lt;http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.4&gt;), and 
User-Agent (section 14.43 
&lt;http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.43&gt;)."
&gt; Anyone wanting to do REST after that would have to reply with de-facto 
&gt; replacement of content-negotiation into HTTP and de-factor normalisation 
&gt; of the identifier mechanism.
&gt;   

This isn't true - application developers could continue using URI-based 
conneg and leaving the accept attribute out of links. There is no 
conflict here.

&gt;   
&gt;&gt; Good; then I guess that's even more reason to keep all representations 
&gt;&gt; of a resource within one URI, rather than creating unnecessary URIs for 
&gt;&gt; each representation.
&gt;&gt;     
&gt;
&gt; Once you have offered something to the user it is a resource.
&gt;   

/commands/destroyHumanRace?t-minus=10&amp;user=Reptilian_NWO&amp;password=0b4m4

Is that a resource then?

&gt; If differences in formats are something that should be manually dealt 
&gt; with, or dealt with at an application level, then you are not talking 
&gt; about a single resource, but multiple resources.
&gt;   

I don't agree with that, could you explain your reasoning a bit more? 
This is, most likely, where my confusion comes from.

&gt; If formats are not something for the user to worry about, then why do we 
&gt; want to identify them at markup level?
&gt;   

How many users do you know that read HTML markup? Anyway, it's not like 
users don't come into contact with URI-based content negotiation in markup.

&gt;   
&gt;&gt; How sure are you, that is 'pushing it above the protocol level'?
&gt;&gt;     
&gt;
&gt; Because I am neither an HTTP server nor a HTTP client. When something is 
&gt; offered to me, it has moved above the protocol level.
&gt;   

It's offered to you as one link - the negotiation is taking place in the 
Accept header; it's protocol (HTTP) level content negotiation.

&gt;   
&gt;&gt;&gt; In a RESTful system there is a uniform way of identifying all 
&gt;&gt;&gt; resources. In HTTP this is URIs.
&gt;&gt;&gt;   
&gt;&gt;&gt;       
&gt;&gt; Neat! :)
&gt;&gt;     
&gt;
&gt; Extremely neat indeed. If anything is core to the overall neatness (in 
&gt; many senses of the word) of REST it is this. I object strongly to your 
&gt; proposing we do away with it.
&gt;
&gt;   

To me, neatness is establishing the distinction between resources and 
representations and sticking to them. Neatness would be keeping the 
number of resources in your application down to a minimum.

&gt;&gt;&gt; Any proposal to have a means of identifying resources beyond URIs is a 
&gt;&gt;&gt; proposal to make HTTP no longer RESTful.
&gt;&gt;&gt;       
&gt;&gt; True. What about using URIs to identify beyond resources? (i.e. to 
&gt;&gt; specify the representation)
&gt;&gt;     
&gt;
&gt; Then we no longer have a uniform interface and we no longer have uniform 
&gt; identifiers. URIs have become a misnomer. One of the core constraints in 
&gt; REST has been broken, and hence it's no longer anything remotely related 
&gt; to REST.
&gt;   

!!

Using URIs to identify the resource *and* the representation fits 
exactly the definition of "using URIs to identify beyond resources". So 
I most definitely agree with the analysis you just gave - I'm not sure 
you do though!

&gt;   
&gt;&gt; Modifying the Accept header has *nothing to do* with identifying the 
&gt;&gt; resource.
&gt;&gt;     
&gt;
&gt; Exactly why it shouldn't be used as an identifier.
&gt;
&gt;   

It's not identifying anything - it's negotiating.

&gt;   
&gt;&gt;&gt; You are proposing that we make HTML violate one of the core 
&gt;&gt;&gt; constraints of REST.
&gt;&gt;&gt;   
&gt;&gt;&gt;       
&gt;&gt; No, I'm not.
&gt;&gt;     
&gt;
&gt; Yes, you are. We have a uniform means of identifying resources. When 
&gt; using an HTTP client we have that, and only that, means of identifying 
&gt; it. This is one of the constraints of REST. If any of the constraints 
&gt; could be considered key (though it's dangerous to rank the constraints) 
&gt; it would be this one.
&gt;
&gt;   

I have no idea what you're getting at here.

&gt;&gt; To me, that's a horrible solution.
&gt;&gt;     
&gt;
&gt; Why?
&gt;
&gt; It works. It has been done successfully. It has no more overhead than 
&gt; what you propose at an implementation level. It remains within REST. It 
&gt; has zero implementation overhead in the majority case (in fairness, so 
&gt; does yours). It works today, and has done for many years. It's 
&gt; automatically resilient to changes in which representations are 
&gt; available without hypermedia referencing the resources needing to be 
&gt; updated except for that which comes with the 406 response.
&gt;
&gt;   

It doesn't seem very uniform, it feels like there should be better ways 
of doing this.

&gt;&gt; My point here is that I see no value in doing content type 
&gt;&gt; negotiation in the URI if the representation is negotiable (Accept 
&gt;&gt; header) via the protocol (HTTP).
&gt;&gt;     
&gt;
&gt; Content negotiation in the headers allows a user-agent to say, "I can 
&gt; work with ..." and the server to act accordingly.
&gt;
&gt; Content negotiation by representations-as-resources allows the server to 
&gt; say "I can give you ..." and the client to act accordingly.
&gt;
&gt; These fulfil different needs and fulfil them appropriately. Both of 
&gt; these remain within REST.
&gt;   

I appreciate that - I was asking you what was the value in URI-based 
content negotiation. There are significant costs in doing so; namely 
that it creates a lot more URIs and requires intermediaries and caches 
to be application aware.
&gt;   
&gt;&gt; Lack of support? That's why I am 
&gt;&gt; proposing this additional attribute.
&gt;&gt;     
&gt;
&gt; What lack of support? Both forms of content-negotiation are in use 
&gt; today. Most of the time we don't do content-negotiation on content-type 
&gt; because most of the time it isn't actually relevant to the applications. 
&gt; Support for the cases where it is relevant is fine.
&gt;
&gt; Of the remaining times when it is not enough, we are offering the user 
&gt; two or more resources to choose between. The only thing your proposal 
&gt; changes in this regard is that the constraint that we have uniform 
&gt; identifiers is no longer holding.
&gt;   

Its change is that we encourage developers to use URIs to indicate 
resources, and the Accept header to negotiate the content. Instead of 
confusing them.

How are intermediaries and caches supposed to know whether a PUT to 
/document.xml means that changes have been made to /document.json, or 
/document.pdf ?

They can't. If you were using one URI and the Accept header, this 
behavior would be apparent without these caches and intermediaries 
having to be aware of your application. No?

&gt;   
&gt;&gt; Your tone seems a little hostile; I'll give the benefit of the doubt and 
&gt;&gt; just assume you're socially inept!
&gt;&gt;     
&gt;
&gt; Well, far be it from me to argue with that judgements, but no, it's not 
&gt; that I'm socially inept (not saying that I am not, it is not for me to 
&gt; judge) it's that I'm becoming hostile following this thread.
&gt;
&gt; All my hostility will disappear if you can explain how we are meant to 
&gt; deal with this proposed change to HTML in a RESTful way?
&gt;   

Hostility is completely unnecessary and nonconstructive. I'm not 
suggesting this is the case, but did it ever occur to you that you might 
be wrong? Perhaps we can both learn by sharing our perspectives 
constructively, instead of trying to score points that don't exist.

Regards,
Mike

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11605<br>
Sender:Erik Hetzner &lt;erik.hetzner@...&gt;<br>
Post Date/Time:2008-11-24 18:10:13<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>At Mon, 24 Nov 2008 17:12:37 +0000,
Mike &lt;mike@...&gt; wrote:
&gt; 
&gt; Jon Hanna wrote:
&gt; &gt;
&gt; &gt; Because you are using it to identify, hence it is an identifier.
&gt; 
&gt; I'm using it to indicate content type preferences of a resource for a 
&gt; given context; [...]

Could you expand on what you mean by context? Here may lie some of
the source of disagreement.

Here is something to think about, in the meantime. Imagine a browser
which supports the @accept attribute. Now imagine a user who is
reading an RFC, which is located at URI &lt;A&gt;, with
@accept='text/plain'. The URI &lt;A&gt; in fact supports text, HTML, and
PDF. But like all RFCs, only the text is normative. What do they see
in the location bar? &lt;A&gt;. In their browser window, they see plain
text. You have used @accept='text/plain' because you wanted this user
to read the normative version, not the non-normative version.

Now - imagine that user copies that URI from the location bar, as
users do every day, &amp; includes the URI in an email they send to
somebody else (user b). User b, however, has lost the @accept
information - because the principle of uniform identifiers has been
broken. Now user b is reading a non-normative version of the spec. Not
the end of the world - but something has been lost, because the
principle that Joe Hanna mentions has been violated.

best,
Erik Hetzner
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11606<br>
Sender:Mike Kelly &lt;mike@...&gt;<br>
Post Date/Time:2008-11-24 18:55:58<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>Erik Hetzner wrote:
&gt; At Mon, 24 Nov 2008 17:12:37 +0000,
&gt; Mike &lt;mike@...&gt; wrote:
&gt;   
&gt;&gt; Jon Hanna wrote:
&gt;&gt;     
&gt;&gt;&gt; Because you are using it to identify, hence it is an identifier.
&gt;&gt;&gt;       
&gt;&gt; I'm using it to indicate content type preferences of a resource for a 
&gt;&gt; given context; [...]
&gt;&gt;     
&gt;
&gt; Could you expand on what you mean by context? Here may lie some of
&gt; the source of disagreement.
&gt;   

If a link in my application is to 'PDF report' which is the PDF 
representation of /report then I need a way to modify the accept header 
to fit the user preference for that link and over-ride the browser 
defaults. Very few UAs behave this way with content types, that's why I 
describe browsers as a special case.

&gt; Here is something to think about, in the meantime. Imagine a browser
&gt; which supports the @accept attribute. Now imagine a user who is
&gt; reading an RFC, which is located at URI &lt;A&gt;, with
&gt; @accept='text/plain'. The URI &lt;A&gt; in fact supports text, HTML, and
&gt; PDF. But like all RFCs, only the text is normative. What do they see
&gt; in the location bar? &lt;A&gt;. In their browser window, they see plain
&gt; text. You have used @accept='text/plain' because you wanted this user
&gt; to read the normative version, not the non-normative version.
&gt;
&gt; Now - imagine that user copies that URI from the location bar, as
&gt; users do every day, &amp; includes the URI in an email they send to
&gt; somebody else (user b). User b, however, has lost the @accept
&gt; information - because the principle of uniform identifiers has been
&gt; broken. Now user b is reading a non-normative version of the spec. Not
&gt; the end of the world - but something has been lost, because the
&gt; principle that Joe Hanna mentions has been violated.
&gt;   

Well, has anything been lost? Does it matter what UA and/or 
representation a user *choses* to use against that URI?

If you had a resource at example.com/report and you want to email it to 
Fred to show him the PDF representation, why not email him:

"Hi Fred, there's a PDF report I think you should see at 
example.com/report - have a look in Acrobat and see what you think." - 
humanized human -computer interaction!

I, personally, don't think it matters that much which UA a user choses 
provided it talks HTTP and can properly render the content types it 
Accepts. Being able to right click the link in the email and have an 
'open with..' menu which listed your appropriate UAs for the 
content-types available at the URI would be a neat bit of functionality too.

Regards,
Mike

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11607<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2008-11-24 19:11:41<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>Mike wrote:
&gt; I'm using it to indicate content type preferences of a resource for a 
&gt; given context; this is necessary because depending on the link, my 
&gt; browser should be able to request the pdf, word document, xml 
&gt; representation of a resource.

But either users don't care about these distinctions, or they are 
different resources.

&gt; /commands/destroyHumanRace?t-minus=10&amp;user=Reptilian_NWO&amp;password=0b4m4
&gt; 
&gt; Is that a resource then?

Well, it's not a full URI, but it could be if in a context that let it 
be parsed as such. 
http://www.hackcraft.net/commands/destroyHumanRace/?t-minus=10&amp;user=Reptilian_NWO&amp;password=0b4m4 
is a resource. Be very careful what you POST to it!

&gt;&gt; If differences in formats are something that should be manually dealt 
&gt;&gt; with, or dealt with at an application level, then you are not talking 
&gt;&gt; about a single resource, but multiple resources.
&gt;&gt;   
&gt; 
&gt; I don't agree with that, could you explain your reasoning a bit more? 
&gt; This is, most likely, where my confusion comes from.

Lets use an analogy first, but using language rather than content-type.

Next time I am in a bookshop it will likely be in Copenhagen. I can't 
read Danish, but the bigger bookshops in Copenhagen have plenty of 
English-language books.

Lets say I ask "Do you have the collected works of Hans Christian 
Anderson?".

Identifier = "Collected works of Hans Christian Anderson".
Resource = Collected works of Hans Christian Anderson.
Possible representations =
  1 Book of collected works of Hans Christian Anderson Hans in the 
original Danish
  2 Book of collected works of Hans Christian Anderson translated into 
English.

The shop-keeper may try to guess from my asking in English that I want 
the English version. They may incorrectly guess that I want the Danish 
version, but in my experience they will do the former (I'm hard-coded to 
"Accept-Language: en"). This is equivalent to server-side negotiation.

They might not be sure if I want the English or Danish (I could want the 
Danish version after all) and ask me. This is the same as a 300.

If I go into the shop and explicitly ask for "English translations of 
the collected works of Hans Christian Anderson" then:

Identifier = "English translations of the collected works of Hans 
Christian Anderson"
Resource = English translations of the collected works of Hans Christian 
Anderson
Possible representations = Book of collected works of Hans Christian 
Anderson translated into English.

The identifier is different; it specifically identifies the English 
version. The resource is different accordingly, I have asked for a 
different thing. The representation is however exactly the same in each 
case.

Now, the thing is, I can go into a Danish bookshop and ask for the 
original Danish too. Even though I am hard-coded to output in en-IE and 
input in en, the fact that I can identify "the original Danish of the 
collected works" separately to "the collected works" means I have a way 
of over-riding the content-negotiation meaningfully.

This is pretty much directly equivalent to real-world web examples, 
where one may wish to identify the original or normative document rather 
than the one that is the obvious choice based on content-negotiation. 
This can be important when one language version is the normative, and 
with content-types that is also the case with some technical documents.

It works well. More to the point, it is *meaningful*. I can talk about 
"the collected works of HCA" or "the Danish version of the collected 
works of HCA" as is appropriate. I can similarly talk about "RFC 2616" 
or "the hypertext version of RFC2616" as I see fit. That I can even 
write the above sentences means we can consider them as different 
resources with different identifiers.

&gt;&gt; If formats are not something for the user to worry about, then why do we 
&gt;&gt; want to identify them at markup level?
&gt;&gt;   
&gt; 
&gt; How many users do you know that read HTML markup? Anyway, it's not like 
&gt; users don't come into contact with URI-based content negotiation in markup.

Once I'm thinking about it, whether at a technical level ("text/html" vs 
"application/pdf") or a more conceptual level ("collection of web pages" 
vs. "PDF recommended for printing") then I'm dealing with different 
resources. It's not entirely content-negotiation any more, its something 
slightly above that conceptually.

&gt; It's offered to you as one link - the negotiation is taking place in the 
&gt; Accept header; it's protocol (HTTP) level content negotiation.

If you only have one link then it should let the content negotiation be 
resolved between my browser and the server, involving me only if 
absolutely necessary (or by giving me the version I probably want, which 
in itself has a "original version" or "normative version" or whatever 
link within it).

If you tell the browser that it should take the image/gif rather than 
the image/png then, maybe you're wrong. How do you know I can handle 
image/gif? If the distinction is important, then why is it not a 
resource? If you are having to make these decisions for me, then someone 
(either the hypertext document editor, or the person controlling the 
resource) has made a mistake. Either the author made a mistake in 
choosing for me when it should be between me, my browser and the 
resource-owner, or the resource-owner has made a mistake in merging 
together representations of what should really have been separate resources.

&gt; To me, neatness is establishing the distinction between resources and 
&gt; representations and sticking to them. Neatness would be keeping the 
&gt; number of resources in your application down to a minimum.

I think this is one of those "as simple as possible, but no simpler" cases.

Resources are pretty much things we care about. If users don't give a 
damn that there are alternative versions, then there is no need for 
those other representations to be resources in their own right, and also 
no need for markup to represent this in any way. If users do care about 
the fact that there are other versions, then they need to be resources.

&gt; Using URIs to identify the resource *and* the representation fits 
&gt; exactly the definition of "using URIs to identify beyond resources". So 
&gt; I most definitely agree with the analysis you just gave - I'm not sure 
&gt; you do though!

Is the fact that there is multiple representations of something solely 
an implementation detail that enables us to serve the needs of different 
sorts of client, or is it something that clients will directly care about?

In the former case we have just one resource that anybody cares about. 
We need a URI for it, and we do not need any new mechanism to dictate 
headers best set according to user technical requirements and 
user-preferences.

In the latter case we have two or more resources that people care about, 
and we need two or more URIs.

&gt; It's not identifying anything - it's negotiating.

If you put it into markup it's not negotiation, its dictated. 
Negotiation has been forbidden, by you.

&gt; I have no idea what you're getting at here.

I've tried to explain what I'm getting at above. I'll continue to try 
because I do think this is important.

&gt; It doesn't seem very uniform, it feels like there should be better ways 
&gt; of doing this.

It's extremely uniform. Bearing in mind that in 99% of the time we have 
a "best" or sole representation - so neither your method or that of HTTP 
are going to be needed - look at what we have.

We have 2 or more versions of something that are significantly different 
enough that it is reasonable to offer users a choice between them. They 
may have a relationship between them (in being representations of 
another resource), but the fact that we are offering this choice means 
they have been elevated to "things we care about", that is resources.

We have hypermedia representing this choice, URIs representing the 
resources, and links to those URIs. Exactly like we do with any other 
hypermedia representation. How more uniform can you get than doing 
something the way its always done?

It's the key to the whole thing. At the level at which REST operates, 
everything we give a damn about gets a URI, and that's all we use to 
identify them. Anything else is not REST.

&gt; I appreciate that - I was asking you what was the value in URI-based 
&gt; content negotiation. There are significant costs in doing so; namely 
&gt; that it creates a lot more URIs and requires intermediaries and caches 
&gt; to be application aware.

URIs are cheap enough. Caches do not have to be application aware, 
indeed these are the easiest cases for caches (since such resources by 
their nature do not VARY on as much as others). It only comes up when 
the choice is significant, in which case the computational work at each 
level is no more than with your suggestion.

&gt; Its change is that we encourage developers to use URIs to indicate 
&gt; resources, and the Accept header to negotiate the content. Instead of 
&gt; confusing them.
&gt; 
&gt; How are intermediaries and caches supposed to know whether a PUT to 
&gt; /document.xml means that changes have been made to /document.json, or 
&gt; /document.pdf ?

Why are they supposed to care?

Resources have multiple relationships between them. That /document.json 
and /document.xml relate to each other through being different 
representations of /document is no more significant than /document.en-IE 
or indeed /document.v1.2 - the latter case having no con-neg equivalent.

There are also relationships of one resource being part of another 
resource that is a collection, or being semantically linked to another 
in some way - say a resource that is a commentary on another resource.

If a change to one means a change to another, then the server can manage 
that relationship through changing modification dates, e-tags and indeed 
the actual content of the representation as appropriate. Concerns about 
freshness will matter here no differently than in other cases. After 
all, a cache does not know that there wasn't a change to a resource that 
did not go through that cache, so freshness policies have to be set 
accordingly (and can through standard HTTP headers).

If a client *does* need to know about a relationship between resources, 
then that should be explained through hypermedia. This is what links do, 
to one way of looking at it, it is also what RDF tuples do. It's largely 
a matter outside of REST though, REST's job is to give means to interact 
efficiently with the resources and unique identifiers help do that.

Besides which. Anything PUTting should know what it's PUTting, so it 
should PUT to /document and describe the representation PUT 
appropriately. Something PUTting application/xml doesn't necessarily 
need to know that another application which *does* care about comparing 
different representations is considering /document.xml separately to 
/document.html.

Finally, a lot of it simply is outside of our control and should be. 
There's a relationship between 
http://www.google.ie/search?q=site%3Ahackcraft.net and 
http://www.hackcraft.net/ that I can't much control despite controlling 
the latter URI. That relationship is no less real than that between 
resources that are representations of other resources.

&gt; They can't. If you were using one URI and the Accept header, this 
&gt; behavior would be apparent without these caches and intermediaries 
&gt; having to be aware of your application. No?

They don't have to be aware currently. They will still have to be aware 
of the possibility of actions that they were not party to. There is no 
win here.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11608<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2008-11-24 19:16:37<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>Mike Kelly wrote:
&gt; Well, has anything been lost? Does it matter what UA and/or 
&gt; representation a user *choses* to use against that URI?

Either it does - in which case consider it a different resource and give 
it a different URI - or it doesn't - in which case let the browser and 
user-preferences decide what headers to send.

Either way argues against @accept.

&gt; If you had a resource at example.com/report and you want to email it to 
&gt; Fred to show him the PDF representation, why not email him:

You do realise that you've just said "don't use the web". If the web at 
present does things correctly for us, it is not progress to move it to a 
state where it doesn't.

&gt; I, personally, don't think it matters that much which UA a user choses 
&gt; provided it talks HTTP and can properly render the content types it 
&gt; Accepts.

Another point for "@accept considered harmful". A hypermedia document 
may not know what content types a given UA can accept.

&gt; Being able to right click the link in the email and have an 
&gt; 'open with..' menu which listed your appropriate UAs for the 
&gt; content-types available at the URI would be a neat bit of functionality too.

Which is perfectly possible now, and which @accept makes no easier. 
@type is way more useful here.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11609<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-11-24 19:27:48<br>
Subject:Re: [rest-discuss] Re: "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>&gt; That is a dangerous path. One of the problems with RSS that led
&gt; to the Atom effort is that it has no facilities for transporting
&gt; any data other than textual content, so everything gets shoved
&gt; into extension elements, so every application needs to extend RSS
&gt; in its own private new way.
&gt;
I would not generalize it so much. Adding some geo extension to a feed/ 
entry is fine. This starts breaking down once extensions are used as  
the primary conduit of data.

A rule of thumb is that only things that can be ignored should be  
modeled as extensions. That is, a receiving party should not be  
expected to understand any extensions.
&gt; Instead of diminishing the role of atom:content and finding a
&gt; way to auxiliary facilities of Atom fit the data, the right way
&gt; of dealing with the problem would be to find a way to make one
&gt; of the range of available hypermedia media types fit the data. I
&gt; think people dismiss XHTML far too easily because they consider
&gt; it somehow presentational, f.ex., or not structured enough,
&gt;

Well - XHTML structure is too verbose and fragile for machine clients.

Regards,
Subbu
---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11610<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-11-24 19:37:05<br>
Subject:Re: [rest-discuss] Re: "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>&gt;
&gt; e.g.:
&gt; &lt;entry xmlns:gsx="http://schemas.google.com/spreadsheets/2006/ 
&gt; extended"&gt;
&gt; ...
&gt; &lt;gsx:type&gt;Question&lt;/gsx:type&gt;
&gt; &lt;gsx:eid&gt;abcde&lt;/gsx:eid&gt;
&gt; &lt;gsx:name&gt;John smith&lt;/gsx:name&gt;
&gt; &lt;gsx:text&gt;how big is the ocean?&lt;/gsx:text&gt;
&gt; &lt;/entry&gt;
&gt;
&gt; I've been tempted to go ahead and use the same namespace as Google,
&gt; but haven't yet. We do quite a lot of interaction with data from
&gt; Google Spreadsheets anyway, and that might make sense.
&gt;


This treats "extensions" are required elements, and that is a  
dangerous approach. Extensions are "extensions".

Consider this alternative

&lt;entry&gt;
   ... all atom required elements ...
   &lt;content type="application/vnd.google.gsx+xml" xmlns:sx="http://schemas.google.com/spreadsheets/2006/extended 
"&gt;
      &lt;gsx:type&gt;Question&lt;/gsx:type&gt;
      &lt;gsx:eid&gt;abcde&lt;/gsx:eid&gt;
      &lt;gsx:name&gt;John smith&lt;/gsx:name&gt;
      &lt;gsx:text&gt;how big is the ocean?&lt;/gsx:text&gt;
   &lt;/content&gt;
&lt;/entry&gt;

I don't really understand the issue with adding a new media type here.  
The app can publish this media type. The accompanying "media type  
specification", although proprietary, can describe it, and can even  
provide a reference to the schema.

Subbu
---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11611<br>
Sender:Erik Hetzner &lt;erik.hetzner@...&gt;<br>
Post Date/Time:2008-11-24 21:02:16<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>At Mon, 24 Nov 2008 18:55:58 +0000,
Mike Kelly &lt;mike@...&gt; wrote:
&gt; 
&gt; Erik Hetzner wrote:
&gt; &gt; Could you expand on what you mean by context? Here may lie some of
&gt; &gt; the source of disagreement.
&gt; 
&gt; If a link in my application is to 'PDF report' which is the PDF
&gt; representation of /report then I need a way to modify the accept
&gt; header to fit the user preference for that link and over-ride the
&gt; browser defaults. Very few UAs behave this way with content types,
&gt; that's why I describe browsers as a special case.

Thanks for this.

The existence of the feature of content-negotiation does not mean that
this feature need be used. The fact that in the case of some resources
the client &amp; server can negotiate between serving a plain text or HTML
representation does not mean that all resources must support this - or
that supporting this in all cases is the right solution.

This applies even in the case where we have two more-or-less
equivalent documents. With RFCs, for instance, there are times where
we want to refer explicitly to the normative plain text version and
times when we want to refer the non-normative, more user friendly HTML
version.

In my opinion, you have identified this need and are calling it
context. I call it identification. You are trying to *identify* two
resources: one, the normative, plain text version, two, the
non-normative, user-friendly, HTML version. In this case we *need* two
URIs, &lt;http://example.org/RFC0.normative&gt; and
&lt;http://example.org/RFC0&gt;.

My view is not a controversial one. If you think that it is, you can,
I am sure, ask others who know more about REST than I do to weigh in
on this.

Im happy to respond to further specific queries and responses, but
otherwise Ill probably be signing off on this issue. Im running out
of ways to say the same thing.

&gt; Well, has anything been lost? Does it matter what UA and/or 
&gt; representation a user *choses* to use against that URI?
&gt;
&gt; []

I am in agreement with Joe Hannas response to these paragraphs.

best,
Erik Hetzner
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11612<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-11-25 01:03:24<br>
Subject:Re: [rest-discuss] Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11613<br>
Sender:Mike &lt;mike@...&gt;<br>
Post Date/Time:2008-11-27 10:21:34<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>Erik Hetzner wrote:
&gt; At Mon, 24 Nov 2008 18:55:58 +0000,
&gt; Mike Kelly &lt;mike@...&gt; wrote:
&gt;   
&gt;&gt; Erik Hetzner wrote:
&gt;&gt;     
&gt;&gt;&gt; Could you expand on what you mean by context? Here may lie some of
&gt;&gt;&gt; the source of disagreement.
&gt;&gt;&gt;       
&gt;&gt; If a link in my application is to 'PDF report' which is the PDF
&gt;&gt; representation of /report then I need a way to modify the accept
&gt;&gt; header to fit the user preference for that link and over-ride the
&gt;&gt; browser defaults. Very few UAs behave this way with content types,
&gt;&gt; that's why I describe browsers as a special case.
&gt;&gt;     
&gt;
&gt; Thanks for this.
&gt;
&gt; The existence of the feature of content-negotiation does not mean that
&gt; this feature need be used. The fact that in the case of some resources
&gt; the client &amp; server can negotiate between serving a plain text or HTML
&gt; representation does not mean that all resources must support this - or
&gt; that supporting this in all cases is the right solution.
&gt;   

Agreed - this is why the solution should allow for both. An optional 
Accept attribute achieves this.

&gt; This applies even in the case where we have two more-or-less
&gt; equivalent documents. With RFCs, for instance, there are times where
&gt; we want to refer explicitly to the normative plain text version and
&gt; times when we want to refer the non-normative, more user friendly HTML
&gt; version.
&gt;   

What is non-explicit about

GET /RFC0
Accept: text/plain

?

&gt; In my opinion, you have identified this need and are calling it
&gt; context. I call it identification. You are trying to *identify* two
&gt; resources: one, the normative, plain text version, two, the
&gt; non-normative, user-friendly, HTML version. In this case we *need* two
&gt; URIs, &lt;http://example.org/RFC0.normative&gt; and
&gt; &lt;http://example.org/RFC0&gt;.
&gt;   

The identification of the *resource* is the URI; negotiation of the 
content type you and your UA desire is.. content negotiation.

Sure.. you can identify a representation as a resource in its own right 
- but why would you want to do this if it can be negotiated at the URI?

Even if you insist on doing this - there is nothing stopping you from 
doing so even despite the implementation of this proposal.

&gt; My view is not a controversial one. If you think that it is, you can,
&gt; I am sure, ask others who know more about REST than I do to weigh in
&gt; on this.
&gt;   

That would be great. Hopefully they will avoid straw-manning my position 
into 'every resource must have multiple representations', as you have.

&gt; Im happy to respond to further specific queries and responses, but
&gt; otherwise Ill probably be signing off on this issue. Im running out
&gt; of ways to say the same thing.
&gt;   

Such as the question about caches and intermediaries? Neither you nor 
Jon have addressed this.

Regards,
Mike

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11614<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2008-11-27 11:05:09<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>Mike wrote:
&gt; What is non-explicit about
&gt; 
&gt; GET /RFC0
&gt; Accept: text/plain

It's not non-explicit, but it's not asking for the resource Erik is 
talking about.

&gt; Sure.. you can identify a representation as a resource in its own right 
&gt; - but why would you want to do this if it can be negotiated at the URI?

You want to because you want to talk about it, identify it separately 
from other representations. That URIs are the only way to identify the 
things we care about is key to the whole thing.

&gt; Even if you insist on doing this - there is nothing stopping you from 
&gt; doing so even despite the implementation of this proposal.

Yes there is. Now we have identifiers other than URIs which deliberately 
undermine content-negotiation, so somebody has to go and build a 
content-negotiation system.

&gt; Such as the question about caches and intermediaries? Neither you nor 
&gt; Jon have addressed this.

What question is there about caches and intermediaries?


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11615<br>
Sender:Mike &lt;mike@...&gt;<br>
Post Date/Time:2008-11-27 11:28:28<br>
Subject:Re: [rest-discuss] HTML5 and RESTful HTTP in browsers<br>
Message:<br><br>
<pre>Jon Hanna wrote:
&gt; Mike wrote:
&gt;   
&gt;&gt; What is non-explicit about
&gt;&gt;
&gt;&gt; GET /RFC0
&gt;&gt; Accept: text/plain
&gt;&gt;     
&gt;
&gt; It's not non-explicit, but it's not asking for the resource Erik is 
&gt; talking about.
&gt;
&gt;   

huh?

&gt;&gt; Sure.. you can identify a representation as a resource in its own right 
&gt;&gt; - but why would you want to do this if it can be negotiated at the URI?
&gt;&gt;     
&gt;
&gt; You want to because you want to talk about it, identify it separately 
&gt; from other representations. That URIs are the only way to identify the 
&gt; things we care about is key to the whole thing.
&gt;
&gt;   

You care about the RFC resource.. not the representation. I'm not saying 
you can't do it your way, I'd just rather do it mine because it seems to 
makes a lot more sense. Needlessly doing URI-based content negotiation 
and creating multiple URIs for the same resource seems to imply that 
separating the concepts of resources and representations is not only 
unnecessary - but undesirable. And by your logic - only "representations 
we don't care about should be made available via HTTP conneg, every 
important representation should be it's own resource". It just doesn't 
make any sense and you don't provide any substantial rationale for your 
opinion either, you just state it.

&gt;&gt; Even if you insist on doing this - there is nothing stopping you from 
&gt;&gt; doing so even despite the implementation of this proposal.
&gt;&gt;     
&gt;
&gt; Yes there is. Now we have identifiers other than URIs which deliberately 
&gt; undermine content-negotiation, so somebody has to go and build a 
&gt; content-negotiation system.
&gt;
&gt;   

Could please explain why you feel that HTTP content negotiation 
undermines content negotiation.

&gt;&gt; Such as the question about caches and intermediaries? Neither you nor 
&gt;&gt; Jon have addressed this.
&gt;&gt;     
&gt;
&gt; What question is there about caches and intermediaries?
&gt;
&gt;   
This one:

"[my proposal's] change is that we encourage developers to use URIs to 
indicate

resources, and the Accept header to negotiate the content. Instead of 
confusing them.

How are intermediaries and caches supposed to know whether a PUT to 
/document.xml means that changes have been made to /document.json, or 
/document.pdf ?

They can't. If you were using one URI and the Accept header, this 
behavior would be apparent without these caches and intermediaries
having to be aware of your application. No?"


Regards,
Mike

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11616<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2008-11-27 12:49:49<br>
Subject:Re: [rest-discuss] HTML5 and unRESTful HTTP in browsers<br>
Message:<br><br>
<pre>Mike wrote:
&gt; You care about the RFC resource.. not the representation.

You care about the normative version of the RFC resource. This happens 
to be a particular English-language text/plain document in the encoding 
us-ascii. It is one of the rules of RFCs that this document has a 
normative status that does not apply to other plausible representations 
of the RFC.

There could be other English language text/plain;charset=us-ascii 
documents that are not normative (say, with added commentary). Different 
resource.

It is not a matter of content-negotiation. The normative version of any 
RFC refers to an actual bunch of 1s and 0s.

&gt; I'm not saying 
&gt; you can't do it your way, I'd just rather do it mine because it seems to 
&gt; makes a lot more sense.

You can't do it your way because it makes absolutely no sense.

If the way to refer to the normative version of an RFC is to use a 
combination of a URI and an accept header (and an accept-language 
header, there will only be one normative language version). Then no 
technology apart from HTML5 will be able to reference the normative 
version of an RFC.

There are other cases of this. Here in Ireland English is "an official 
language" and the language most commonly spoken, but Irish is "the 
official language". Laws are generally discussed in English, but the 
normative version of any statute, ordinance or constitutional amendment 
is the Irish-language version.

Its generally true of other jurisdictions as well that only one, or a 
small subset, of translations of a law are normative, but the Irish case 
is significant in this regard because the language most obviously used 
(people are working with Accept-Language: en) is different to the 
normative one. Do you not see how this makes the "Bunreacht na hireann 
as gaeilge" a different resource to "Bunreacht na hireann"?

&gt; Needlessly doing URI-based content negotiation 
&gt; and creating multiple URIs for the same resource seems to imply that 
&gt; separating the concepts of resources and representations is not only 
&gt; unnecessary - but undesirable.

Identifying multiple things seems to indicate that they are multiple things.

&gt; And by your logic - only "representations 
&gt; we don't care about should be made available via HTTP conneg, every 
&gt; important representation should be it's own resource". It just doesn't 
&gt; make any sense and you don't provide any substantial rationale for your 
&gt; opinion either, you just state it.

It depends on what you mean by "important representation". If you are 
deeming to talk about a representation its already become a resource. 
It's a thing, it's not a shadow.

&gt; Could please explain why you feel that HTTP content negotiation 
&gt; undermines content negotiation.

HTML content negotiation ("content dictation" would be a more accurate 
term) undermines HTTP content negotiation.

You are proposing to do away with content negotiation because we use the 
the Accept header to perform it, which your proposal is hi-jacking to 
serve as part of an identifier.

What do we use to perform content-negotiation?

&gt; How are intermediaries and caches supposed to know whether a PUT to 
&gt; /document.xml means that changes have been made to /document.json, or 
&gt; /document.pdf ?

Why are they supposed to care? Either staleness in this regard is okay 
(and the cache-related headers say so) or they will need to re-check 
(and the cache-related headers say so) and receive a 200 rather than a 304.

If this were a problem then how would they also know that a PUT to 
/document.xml also changes / (because / contains a list of documents) 
and /users/1234 (because this contains a list of documents recently 
changed by /users/1234) and /users/1234/documents (because this contains 
a list of all documents changed by /users/1234) and /search?q=sumpsimus 
(because /document.xml now contains the word "sumpsimus" but it hadn't 
before) and /search?q=mumpsimus (because /document.xml now doesn't 
contain the word "mumpsiums" but had before) and /documents/recent and 
/document.rdf (which contains Dublin Core and FOAF metadata 
automatically generated from processing /document.xml) and 
/documents.rdf (which contains the same for all documents in a single 
RDF file), /users/2341/watchlist (because criteria have indicated user 
2341 is likely to find this document of interest in some way) and /xe2s3 
("another department put that in for their uses, we're agnostic to 
whatever its doing") /sitemap.xml, /docs.kml and so on?

For that matter. How are they even going to know that a PUT to 
/document.xml that didn't go through them means that /document.xml has 
changed?

It can't. But we can do things RESTfully and this won't be an issue.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11617<br>
Sender:Mike &lt;mike@...&gt;<br>
Post Date/Time:2008-11-27 13:37:48<br>
Subject:Re: [rest-discuss] HTML5 and unRESTful HTTP in browsers<br>
Message:<br><br>
<pre>Jon Hanna wrote:
&gt; Mike wrote:
&gt;   
&gt;&gt; You care about the RFC resource.. not the representation.
&gt;&gt;     
&gt;
&gt; You care about the normative version of the RFC resource. This happens 
&gt; to be a particular English-language text/plain document in the encoding 
&gt; us-ascii. It is one of the rules of RFCs that this document has a 
&gt; normative status that does not apply to other plausible representations 
&gt; of the RFC.
&gt;
&gt; There could be other English language text/plain;charset=us-ascii 
&gt; documents that are not normative (say, with added commentary). Different 
&gt; resource.
&gt;
&gt; It is not a matter of content-negotiation. The normative version of any 
&gt; RFC refers to an actual bunch of 1s and 0s.
&gt;
&gt;   


What you're saying isn't making that much sense; if it is a different 
resource.. it is a different resource. How is your observation helpful 
to this discussion? At best, it's just a long-winded explanation of 
where something that seems like it could a representation is actually a 
resource. You're describing something as a representation.. and then 
criticising it for not being a resource.. Maybe you got it wrong in the 
first place?

&gt;&gt; I'm not saying 
&gt;&gt; you can't do it your way, I'd just rather do it mine because it seems to 
&gt;&gt; makes a lot more sense.
&gt;&gt;     
&gt;
&gt; You can't do it your way because it makes absolutely no sense.
&gt;   

It makes no sense to use Uniform Resource Identifiers to identify 
resources, and then use HTTP content negotiation to negotiate the 
content of that resource?

&gt; If the way to refer to the normative version of an RFC is to use a 
&gt; combination of a URI and an accept header (and an accept-language 
&gt; header, there will only be one normative language version). Then no 
&gt; technology apart from HTML5 will be able to reference the normative 
&gt; version of an RFC.
&gt;   

No technology...? Apart from every HTTP client capable of modifying its 
headers to appropriately construct a request? Most clients don't need to 
change their headers from default anyway because the content types they 
(and therefore their users aswell) have preference for are fixed - 
browsers are supposed to support all content-types beyond their default 
preference is obviously HTML, but in the context of an application this 
needs to be over-ridden (unless you use URIs for content negotiation 
because the mechanism doesn't exist - note; that's not an argument for 
using URIs to do this, it's just pointing out why that is the current 
method).

You seem to have a misconception that every URI must be accessed via the 
browser, that is the only way I can currently make sense of your position.

&gt; There are other cases of this. Here in Ireland English is "an official 
&gt; language" and the language most commonly spoken, but Irish is "the 
&gt; official language". Laws are generally discussed in English, but the 
&gt; normative version of any statute, ordinance or constitutional amendment 
&gt; is the Irish-language version.
&gt;
&gt; Its generally true of other jurisdictions as well that only one, or a 
&gt; small subset, of translations of a law are normative, but the Irish case 
&gt; is significant in this regard because the language most obviously used 
&gt; (people are working with Accept-Language: en) is different to the 
&gt; normative one. Do you not see how this makes the "Bunreacht na hireann 
&gt; as gaeilge" a different resource to "Bunreacht na hireann"?
&gt;   

Yes - A different resource, it's not a different representation. The 
complexities of Irish dialect are interesting, but they're hardly 
relevant to this discussion - what is your point here exactly?

&gt;   
&gt;&gt; Needlessly doing URI-based content negotiation 
&gt;&gt; and creating multiple URIs for the same resource seems to imply that 
&gt;&gt; separating the concepts of resources and representations is not only 
&gt;&gt; unnecessary - but undesirable.
&gt;&gt;     
&gt;
&gt; Identifying multiple things seems to indicate that they are multiple things.
&gt;   

Yes; multiple *representations* of *one* resource.

&gt;   
&gt;&gt; And by your logic - only "representations 
&gt;&gt; we don't care about should be made available via HTTP conneg, every 
&gt;&gt; important representation should be it's own resource". It just doesn't 
&gt;&gt; make any sense and you don't provide any substantial rationale for your 
&gt;&gt; opinion either, you just state it.
&gt;&gt;     
&gt;
&gt; It depends on what you mean by "important representation". If you are 
&gt; deeming to talk about a representation its already become a resource. 
&gt; It's a thing, it's not a shadow.
&gt;   

Well then why bother making the distinction between resource and 
representation?

&gt;   
&gt;&gt; Could please explain why you feel that HTTP content negotiation 
&gt;&gt; undermines content negotiation.
&gt;&gt;     
&gt;
&gt; HTML content negotiation ("content dictation" would be a more accurate 
&gt; term) undermines HTTP content negotiation.
&gt;   

It's not HTML content negotiation, HTML doesn't do anything it's just a 
markup language.

It's telling a browser how to negotiate content using HTTP from a 
particular URI for a given link in an HTML GUI.

That's not undermining HTTP content negotiation, quite the opposite.

Undermining HTTP content negotiation would be taking advantage of a 
browser's catch all '*/*' in its default Accept header, and 'content 
dictating' the representation in the URI - which is exactly the method 
you are promoting.

There's 3 different types of content negotiation identified in this 
document:

http://www.w3.org/Protocols/rfc2616/rfc2616-sec12.html

I'm suggesting that these can all be achieved using HTTP conneg and 
using URIs just as they were intended; to identify resources. The only 
way this will work is if markup can provide browsers with a way of 
achieving agent-driven *HTTP* content negotiation and not the current 
agent-driven URI-based content negotiation. This is not possible 
presently because there is no mechanism in markup to indicate the 
appropriate HTTP conneg headers for a request.
&gt; You are proposing to do away with content negotiation because we use the 
&gt; the Accept header to perform it, which your proposal is hi-jacking to 
&gt; serve as part of an identifier.
&gt;
&gt; What do we use to perform content-negotiation?
&gt;   

What?

&gt;   
&gt;&gt; How are intermediaries and caches supposed to know whether a PUT to 
&gt;&gt; /document.xml means that changes have been made to /document.json, or 
&gt;&gt; /document.pdf ?
&gt;&gt;     
&gt;
&gt; Why are they supposed to care? Either staleness in this regard is okay 
&gt; (and the cache-related headers say so) or they will need to re-check 
&gt; (and the cache-related headers say so) and receive a 200 rather than a 304.
&gt;
&gt; If this were a problem then how would they also know that a PUT to 
&gt; /document.xml also changes / (because / contains a list of documents) 
&gt; and /users/1234 (because this contains a list of documents recently 
&gt; changed by /users/1234) and /users/1234/documents (because this contains 
&gt; a list of all documents changed by /users/1234) and /search?q=sumpsimus 
&gt; (because /document.xml now contains the word "sumpsimus" but it hadn't 
&gt; before) and /search?q=mumpsimus (because /document.xml now doesn't 
&gt; contain the word "mumpsiums" but had before) and /documents/recent and 
&gt; /document.rdf (which contains Dublin Core and FOAF metadata 
&gt; automatically generated from processing /document.xml) and 
&gt; /documents.rdf (which contains the same for all documents in a single 
&gt; RDF file), /users/2341/watchlist (because criteria have indicated user 
&gt; 2341 is likely to find this document of interest in some way) and /xe2s3 
&gt; ("another department put that in for their uses, we're agnostic to 
&gt; whatever its doing") /sitemap.xml, /docs.kml and so on?
&gt;   

HATEOAS ?

&gt; For that matter. How are they even going to know that a PUT to 
&gt; /document.xml that didn't go through them means that /document.xml has 
&gt; changed?
&gt;   
If the PUT didn't 'go through' them; then they aren't an intermediary, 
are they?

Regards,
Mike


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11618<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-11-27 14:11:19<br>
Subject:Re: [rest-discuss] HTML5 and unRESTful HTTP in browsers<br>
Message:<br><br>
<pre>&gt; Yes - A different resource, it's not a different representation. The
&gt; complexities of Irish dialect are interesting, but they're hardly
&gt; relevant to this discussion - what is your point here exactly?

The point is that the thing that is normative is "law number 3 in gaelic". 
Which is a different resource from "law number 3 in english". The parent 
resource, the thing you may or may not assign a URI to is "law number 3" and 
everybody understand what law you talk about. both an english and an irish 
version (aka representation) of such law exist, but you *care* that they are 
different, as only one of them is normative.

As such they're not conneged represetnations but two separate resources that 
happen to be two represetnations of a common thing.

The point Jon was making is that, if you imply that Accept is needed on top 
of the URI for such different representations to be accessible, only a UA 
knowing about HTML 5 (or code *you wrote* to understand the need for Accept) 
will be able to directly identify both resources distinctly.

You not only break the addressability concern, you also break serendipity.

&gt; Well then why bother making the distinction between resource and
&gt; representation?

Because some resources are not representations, while some representations 
are not resources.


&gt; I'm suggesting that these can all be achieved using HTTP conneg and
&gt; using URIs just as they were intended; to identify resources.

URIs were intended and are used (in terms of webarch) to identify 
*anything*. That includes resources *things* and representations 
*documents*.

&gt; This is not possible
&gt; presently because there is no mechanism in markup to indicate the
&gt; appropriate HTTP conneg headers for a request.

I believe you're overestimating what conneg was intended for. As a general 
rule, you conneg representations when no one gives a damn about which one 
they get.

As such, getting a png or a jpg whenever an image is requested depends on 
the capabilities of the platform. If the user needs to be in control, you 
300 or 303 and you use links with properly addressed representations 
(separate URIs).

&gt;&gt;   [examples where cachce invalidatioon doesn't work]
&gt;
&gt; HATEOAS ?

Not sure I get you.

&gt; If the PUT didn't 'go through' them; then they aren't an intermediary,
&gt; are they?

Because your intermediary and my intermediary when talking about proxies 
will be different, and they do not communicate together.

Your caching (staleness) strategy has to deal with one chain of 
intermediaries between each user and the origin server. Hence my proxy may 
invalidate /document.xml because i PUT, but yours wont.

Seb 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11619<br>
Sender:Mike &lt;mike@...&gt;<br>
Post Date/Time:2008-11-27 14:52:29<br>
Subject:Re: [rest-discuss] HTML5 and unRESTful HTTP in browsers<br>
Message:<br><br>
<pre>Sebastien Lambla wrote:
&gt;&gt; Yes - A different resource, it's not a different representation. The
&gt;&gt; complexities of Irish dialect are interesting, but they're hardly
&gt;&gt; relevant to this discussion - what is your point here exactly?
&gt;&gt;     
&gt;
&gt; The point is that the thing that is normative is "law number 3 in gaelic". 
&gt; Which is a different resource from "law number 3 in english". The parent 
&gt; resource, the thing you may or may not assign a URI to is "law number 3" and 
&gt; everybody understand what law you talk about. both an english and an irish 
&gt; version (aka representation) of such law exist, but you *care* that they are 
&gt; different, as only one of them is normative.
&gt;
&gt; As such they're not conneged represetnations but two separate resources that 
&gt; happen to be two represetnations of a common thing.
&gt;
&gt; The point Jon was making is that, if you imply that Accept is needed on top 
&gt; of the URI for such different representations to be accessible, only a UA 
&gt; knowing about HTML 5 (or code *you wrote* to understand the need for Accept) 
&gt; will be able to directly identify both resources distinctly.
&gt;
&gt; You not only break the addressability concern, you also break serendipity.
GET /law/3
Accept: text/html
Accept-Language: en

GET /law/3
Accept: text/plain
Accept-Language: gd

http://www.w3.org/Protocols/rfc2616/rfc2616-sec12.html

"Note: [content negotiation] is not called "format negotiation" because the alternate representations may be of the same media type, but use different capabilities of that type, be in different languages, etc."


&gt;   
&gt;&gt; Well then why bother making the distinction between resource and
&gt;&gt; representation?
&gt;&gt;     
&gt;
&gt; Because some resources are not representations, while some representations 
&gt; are not resources.
&gt;
&gt;   

That doesn't sound very uniform.

&gt;   
&gt;&gt; I'm suggesting that these can all be achieved using HTTP conneg and
&gt;&gt; using URIs just as they were intended; to identify resources.
&gt;&gt;     
&gt;
&gt; URIs were intended and are used (in terms of webarch) to identify 
&gt; *anything*.

Sure; I could have made it more clear that was how it relates to it's 
intention wrt REST. Clearly a URI of a SOAP interface is not a resource, 
yet it is a URI.

&gt; That includes resources *things* and representations 
&gt; *documents*.
&gt;   

representations aren't documents, they're formats - documents implies 
they are something in and of themselves which they are not. From my 
understanding a representation is just a specific *way* of representing 
a resource - i.e. a representation is nothing without a resource to 
represent. So I don't see how a representation can be compared with a 
document.

&gt;   
&gt;&gt; This is not possible
&gt;&gt; presently because there is no mechanism in markup to indicate the
&gt;&gt; appropriate HTTP conneg headers for a request.
&gt;&gt;     
&gt;
&gt; I believe you're overestimating what conneg was intended for. As a general 
&gt; rule, you conneg representations when no one gives a damn about which one 
&gt; they get.
&gt;   

er...

&gt; As such, getting a png or a jpg whenever an image is requested depends on 
&gt; the capabilities of the platform. If the user needs to be in control, you 
&gt; 300 or 303 and you use links with properly addressed representations 
&gt; (separate URIs).
&gt;   

right.. you have to because there is no way in the markup to leverage 
HTTP conneg.. not because it "wasn't intended for that" or "it doesn't 
work". Don't be ridiculous.

&gt;   
&gt;&gt;&gt;   [examples where cachce invalidatioon doesn't work]
&gt;&gt;&gt;       
&gt;&gt; HATEOAS ?
&gt;&gt;     
&gt;
&gt; Not sure I get you.
&gt;   

Neither am I.

&gt;   
&gt;&gt; If the PUT didn't 'go through' them; then they aren't an intermediary,
&gt;&gt; are they?
&gt;&gt;     
&gt;
&gt; Because your intermediary and my intermediary when talking about proxies 
&gt; will be different, and they do not communicate together.
&gt;   

OK, so we accept that's a problem to overcome no matter which way we do 
it. Surely that's even more incentive to remove the necessity for 
intermediaries to comprehend your application's specific URI-relationships?

Reverse proxy work 'out of the box' if URIs and representations were 
used strictly and in conjunction with the appropriate Vary headers in 
responses. This solely relied upon at the moment because lack of support 
in markup and browsers forces developers to implement URI-based conneg.

Regards,
Mike

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11620<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2008-11-27 14:56:43<br>
Subject:Re: [rest-discuss] HTML5 and unRESTful HTTP in browsers<br>
Message:<br><br>
<pre>Mike wrote:
&gt; If the PUT didn't 'go through' them; then they aren't an intermediary, 
&gt; are they?

Please. Are you really serious with this thing, or is it just a joke?


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11621<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2008-11-27 15:04:17<br>
Subject:Re: [rest-discuss] HTML5 and unRESTful HTTP in browsers<br>
Message:<br><br>
<pre>Mike wrote:
&gt; OK, so we accept that's a problem to overcome no matter which way we do 
&gt; it. Surely that's even more incentive to remove the necessity for 
&gt; intermediaries to comprehend your application's specific URI-relationships?

It had me going, I'll admit I thought you genuinely thought this was a 
good idea. If you hadn't of added this bit about intermediaries I might 
still think you were serious.

You win. "plyd" and so on. Can we stop now?


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11622<br>
Sender:Mike &lt;mike@...&gt;<br>
Post Date/Time:2008-11-27 15:06:55<br>
Subject:Re: [rest-discuss] HTML5 and unRESTful HTTP in browsers<br>
Message:<br><br>
<pre>Jon Hanna wrote:
&gt; Mike wrote:
&gt;   
&gt;&gt; If the PUT didn't 'go through' them; then they aren't an intermediary, 
&gt;&gt; are they?
&gt;&gt;     
&gt;
&gt; Please. Are you really serious with this thing, or is it just a joke?
&gt;   

Well if you have multiple intermediaries to the same interface they 
should, ideally, be talking to each other - so that explains why I put 
'go through' in inverted commas..

Yes, they could be timed instead - this is really an irrelevant point 
which explains why you're focusing on it so much. How is this any 
different with URI-based conneg? URI-based conneg just adds complexity 
*ontop* of this problem.

Regards,
Mike

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11623<br>
Sender:Mike &lt;mike@...&gt;<br>
Post Date/Time:2008-11-27 15:09:00<br>
Subject:Re: [rest-discuss] HTML5 and unRESTful HTTP in browsers<br>
Message:<br><br>
<pre>Jon Hanna wrote:
&gt; Mike wrote:
&gt;   
&gt;&gt; OK, so we accept that's a problem to overcome no matter which way we do 
&gt;&gt; it. Surely that's even more incentive to remove the necessity for 
&gt;&gt; intermediaries to comprehend your application's specific URI-relationships?
&gt;&gt;     
&gt;
&gt; It had me going, I'll admit I thought you genuinely thought this was a 
&gt; good idea. If you hadn't of added this bit about intermediaries I might 
&gt; still think you were serious.
&gt;
&gt; You win. "plyd" and so on. Can we stop now?
&gt;   

What? No one wants to read your chest-beating, quit wasting peoples 
time. Either explain your problem with that or shut up.

All the best,
Mike

xx

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11624<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2008-11-27 15:25:39<br>
Subject:Re: [rest-discuss] HTML5 and unRESTful HTTP in browsers<br>
Message:<br><br>
<pre>Mike wrote:
&gt; What? No one wants to read your chest-beating, quit wasting peoples 
&gt; time. Either explain your problem with that or shut up.

Why?

I have to explain my problem with "multiple intermediaries to the same 
interface they should, ideally, be talking to each other"?

Come on. I do not think I have to explain why a proxy running behind the 
firewall in an office should have to talk to a proxy running behind a 
firewall in the office of a possibly unfriendly organisation. It's an 
infeasibility too far. It's jumping the shark on the whole proposal to 
suggest it.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11625<br>
Sender:Mike &lt;mike@...&gt;<br>
Post Date/Time:2008-11-27 15:42:10<br>
Subject:Re: [rest-discuss] HTML5 and unRESTful HTTP in browsers<br>
Message:<br><br>
<pre>Jon Hanna wrote:
&gt; Mike wrote:
&gt;   
&gt;&gt; What? No one wants to read your chest-beating, quit wasting peoples 
&gt;&gt; time. Either explain your problem with that or shut up.
&gt;&gt;     
&gt;
&gt; Why?
&gt;
&gt; I have to explain my problem with "multiple intermediaries to the same 
&gt; interface they should, ideally, be talking to each other"?
&gt;
&gt; Come on. I do not think I have to explain why a proxy running behind the 
&gt; firewall in an office should have to talk to a proxy running behind a 
&gt; firewall in the office of a possibly unfriendly organisation. It's an 
&gt; infeasibility too far. It's jumping the shark on the whole proposal to 
&gt; suggest it

cache peer and other such things are there for fun then? firewalls 
aren't configurable?

Anyway; you've failed to address how URI-based conneg doesn't actually 
just add to this apparent 'problem'.

Regards,
Mike

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11626<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2008-11-27 15:51:32<br>
Subject:Re: [rest-discuss] HTML5 and unRESTful HTTP in browsers<br>
Message:<br><br>
<pre>Mike wrote:
&gt; cache peer and other such things are there for fun then? firewalls 
&gt; aren't configurable?

Oh dear gods, you're actually serious.

Cache peer exists for peering caches. Not all caches are going to be peered.

Firewalls are indeed configurable. But I have no desire to configure a 
proxy in this office to exchange information about all the webservers in 
the world with all the other proxies in the world. If it wants to have 
fresh information about this it can go to the origin servers.

&gt; Anyway; you've failed to address how URI-based conneg doesn't actually 
&gt; just add to this apparent 'problem'.

Because the problem is a figment of your imagination. It does not exist. 
There is no problem. The web already contains mechanisms for detailing 
freshness requirements of representations of resources and for the 
checking of freshness. These are both built into HTTP and inherent to 
REST. You are solving a non-problem. And if the problem were really, you 
still wouldn't have solved it.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11627<br>
Sender:Mike &lt;mike@...&gt;<br>
Post Date/Time:2008-11-27 16:13:49<br>
Subject:Re: [rest-discuss] HTML5 and unRESTful HTTP in browsers<br>
Message:<br><br>
<pre>Jon Hanna wrote:
&gt; Mike wrote:
&gt;   
&gt;&gt; cache peer and other such things are there for fun then? firewalls 
&gt;&gt; aren't configurable?
&gt;&gt;     
&gt;
&gt; Oh dear gods, you're actually serious.
&gt;
&gt; Cache peer exists for peering caches. Not all caches are going to be peered.
&gt;
&gt; Firewalls are indeed configurable. But I have no desire to configure a 
&gt; proxy in this office to exchange information about all the webservers in 
&gt; the world with all the other proxies in the world. If it wants to have 
&gt; fresh information about this it can go to the origin servers.
&gt;   

I'm talking about intermediaries (e.g. reverse proxys) on the server side.

&gt;   
&gt;&gt; Anyway; you've failed to address how URI-based conneg doesn't actually 
&gt;&gt; just add to this apparent 'problem'.
&gt;&gt;     
&gt;
&gt; Because the problem is a figment of your imagination. It does not exist. 
&gt; There is no problem. The web already contains mechanisms for detailing 
&gt; freshness requirements of representations of resources and for the 
&gt; checking of freshness. These are both built into HTTP and inherent to 
&gt; REST. You are solving a non-problem. And if the problem were really, you 
&gt; still wouldn't have solved it

In my system, I have:

/document

serving representations:

text/plain
text/html
application/xml

Each of which can be cached separately. A client can then:

PUT /document

It is completely clear to the reverse proxy in front of my application 
that all the representations need to be re-cached. This can be assumed 
and work automatically out of the box.

In your system, you have:

/document.txt
/document.html
/document.xml

If a client:

PUT /document.xml

How is a reverse proxy in front of your application supposed to know 
whether the other URI's need to be re-cached? Won't you have to spend 
time explaining to the proxy how the URIs are related?

Regards,
Mike

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11628<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2008-11-27 16:38:48<br>
Subject:Re: [rest-discuss] HTML5 and unRESTful HTTP in browsers<br>
Message:<br><br>
<pre>Mike wrote:
&gt; I'm talking about intermediaries (e.g. reverse proxys) on the server side.

Which are still intermediaries. Even a proxy that is a single point of 
contact with the web either has to deal with non-web based changes (even 
if they theoretically should never happen, in reality they almost 
certainly will) and other side-effects beyond the resource referenced, 
or else they are highly application-aware, and hence no longer just web 
proxies.

Not an issue.

&gt; In my system, I have:
&gt; 
&gt; /document
&gt; 
&gt; serving representations:
&gt; 
&gt; text/plain
&gt; text/html
&gt; application/xml
&gt; 
&gt; Each of which can be cached separately. A client can then:
&gt; 
&gt; PUT /document
&gt; 
&gt; It is completely clear to the reverse proxy in front of my application 
&gt; that all the representations need to be re-cached. This can be assumed 
&gt; and work automatically out of the box.
&gt; 
&gt; In your system, you have:
&gt; 
&gt; /document.txt
&gt; /document.html
&gt; /document.xml
&gt; 
&gt; If a client:
&gt; 
&gt; PUT /document.xml
&gt; 
&gt; How is a reverse proxy in front of your application supposed to know 
&gt; whether the other URI's need to be re-cached? Won't you have to spend 
&gt; time explaining to the proxy how the URIs are related?

In my system I have

/document

serving representations:

text/plain
text/html
application/xml

The case of someone asking for just text/plain, just text/html or just 
application/xml is clear.

The case of someone asking for preferences which include just one of 
those along with content types I do not serve and/or with */* is clear.

The case of someone asking for preference lists of two or more of those 
(perhaps along with */*, perhaps not) is handled according to a 
combination of the client's weighting of the preferences along with the 
server's weighting of their relative quality.

The case of someone asking for only content-types that do not exist may 
be dealt with either a 200 and one of the types anyway (suitable for 
some applications) or with a 406 with an entity linking to the:

/document.txt
/document.html
/document.xml

Now. If someone decides to PUT to /document.txt I am likely to do one of 
the four following things:

1. Not let them (not everyone can PUT everywhere after all).

2. a. Accept /document.txt, with the understanding that this represents 
solely the one representation of the resource /document. (E.g. if my 
system is actually intended to let people edit different representations 
separately this may be precisely what is wanted).
b. Update /document.txt and metadata for /document.txt.
c. Update any related documents, and update the metadata for them. This 
means that any freshness checks for those related documents will reflect 
a change.

3 a. Accept /document.txt, with the understanding that this change 
represents not just a change to the resource /document.txt but also the 
resource /document.
b. Update /document and all the related resources.
c. Update any related documents, and update the metadata for them. This 
means that any freshness checks for those related documents will reflect 
a change.

4 a. 307 to /document
b. Accept text/plain entity at /document
c. Update /document and all the related resources.
d. Update any related documents, and update the metadata for them. This 
means that any freshness checks for those related documents will reflect 
a change.

Now. In each and every one of those cases intermediaries will function 
fine. If they try to GET any of the resources affected they will do so 
on the basis of freshness information set by the server and 
freshness-required information sent by the client. If either the client 
insist that the information must be checked for freshness or the server 
has indicated that future requests much be checked for freshness (or 
both) then a conditional GET will find that the updated resources have 
been updated and the un-updated resources haven't.

Perfect.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11629<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-11-27 17:18:52<br>
Subject:Re: [rest-discuss] HTML5 and unRESTful HTTP in browsers<br>
Message:<br><br>
<pre>&gt; "Note: [content negotiation] is not called "format negotiation" because 
&gt; the alternate representations may be of the same media type, but use 
&gt; different capabilities
&gt;  of that type, be in different languages, etc."

You're still missing the point. If two representations need to be addressed 
in a separate way they need two identifiers. Going back to the original 
example, the gaelic copy needs to be accessible independently from the 
english version, as they do not carry the same value, they're not the same 
thing. They are two representations of the same thing, but one has more 
value (is normaltive) than the other.

What you propose is to influence conneg from the client to go to a specific 
resource.
MikeIdentifier = Uri + Accept:

The web and REST depends on hypertext that is navigated through those 
identifiers.

What you propose doesn't bring any value compared to the existing 
functionality:

RestIdentifier = Uri

The reverse proxy case is one you can solve using Link headers and without 
reinventing a new addressing scheme.

&gt; That doesn't sound very uniform.

Could you point me to reference material declaring that the resource / 
representation couple has any uniform quality?

&gt; representations aren't documents, they're formats - documents implies they 
&gt; are something in and of themselves which they are not. From my 
&gt; understanding a representation is just a specific *way* of representing a 
&gt; resource - i.e. a representation is nothing without a resource to 
&gt; represent. So I don't see how a representation can be compared with a 
&gt; document.

Any byte stream that fully represents a resource is a representation and is 
commonly referred as a document. I encourage you to go and read webarch 
documents on the matter.

&gt; right.. you have to because there is no way in the markup to leverage HTTP 
&gt; conneg.. not because it "wasn't intended for that" or "it doesn't work". 
&gt; Don't be ridiculous.

Ridiculous is not something I am afraid of. It seems to me the biggest issue 
you seem to have is the lack of support for content type selection / 
prioritization exiting in current browsers. Your problem can easily be 
solved using mobile code to help in selecting a resource. Click link -&gt; 303 
returned -&gt; UI displaying selection of conneg formats available.

&gt;&gt;&gt;&gt;   [examples where cachce invalidatioon doesn't work]
&gt;&gt;&gt;&gt;
&gt;&gt;&gt; HATEOAS ?
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; Not sure I get you.
&gt;&gt;
&gt;
&gt; Neither am I.

My apologies for not being clear enough.

How is Hypertext as the engine of application state a response or denial of 
the provided examples where caching of related representations cannot be 
invalidated using existing semantics?

&gt; Reverse proxy work 'out of the box' if URIs and representations were used 
&gt; strictly and in conjunction with the appropriate Vary headers in 
&gt; responses. This solely relied upon at the moment because lack of support 
&gt; in markup and browsers forces developers to implement URI-based conneg.

You are trying to correct a problem of linked representations and cache 
invalidation, for which your solution brings very little benefits, and of an 
incredible cost: you want to redefine the identifier used to navigate. Not 
only is that solution localized and restricted to html, it also breaks core 
scenarios where html is not the language, where people write down urls, 
where the whole web understand the notion of an identifier as a Uri.

If the problem is linking to specific representations without wanting 
different Uris, a generic Uri with conneg is perfectly acceptable and doable 
today. Conneg was designed to either set the negotiation preferences in the 
UA or propose a list of documents that are available at a generic URI.

If neither solutions are acceptable, you are not in the scenario http conneg 
was not designed for, and the solution is to promote representations by 
giving them identifiers.

If you want cache invalidation to work on a generic URI, I will probably 
point out that the Content-Location header is the one on which the caching 
will be done, and it is rarely the case (and against the w3c recommendation 
on generic uris) that this will be the same as the request uri.

I hope you understand better why your proposed solution cannot solve the 
addressing problem without breaking the web, and doesn't solve the issue of 
linked representations in a satisfactory way. 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11630<br>
Sender:Mike &lt;mike@...&gt;<br>
Post Date/Time:2008-11-27 17:36:30<br>
Subject:Re: [rest-discuss] HTML5 and unRESTful HTTP in browsers<br>
Message:<br><br>
<pre>Jon Hanna wrote:
&gt; Mike wrote:
&gt;   
&gt;&gt; I'm talking about intermediaries (e.g. reverse proxys) on the server side.
&gt;&gt;     
&gt;
&gt; Which are still intermediaries. Even a proxy that is a single point of 
&gt; contact with the web either has to deal with non-web based changes (even 
&gt; if they theoretically should never happen, in reality they almost 
&gt; certainly will) and other side-effects beyond the resource referenced, 
&gt; or else they are highly application-aware, and hence no longer just web 
&gt; proxies.

If your REST interface is the only interface that you provide for your 
application then I don't see how or why contact could occur without 
passing through the proxy.

I did say 'intermediaries' and not 'just web proxies'.

&gt;
&gt;   
&gt;&gt; In my system, I have:
&gt;&gt;
&gt;&gt; /document
&gt;&gt;
&gt;&gt; serving representations:
&gt;&gt;
&gt;&gt; text/plain
&gt;&gt; text/html
&gt;&gt; application/xml
&gt;&gt;
&gt;&gt; Each of which can be cached separately. A client can then:
&gt;&gt;
&gt;&gt; PUT /document
&gt;&gt;
&gt;&gt; It is completely clear to the reverse proxy in front of my application 
&gt;&gt; that all the representations need to be re-cached. This can be assumed 
&gt;&gt; and work automatically out of the box.
&gt;&gt;
&gt;&gt; In your system, you have:
&gt;&gt;
&gt;&gt; /document.txt
&gt;&gt; /document.html
&gt;&gt; /document.xml
&gt;&gt;
&gt;&gt; If a client:
&gt;&gt;
&gt;&gt; PUT /document.xml
&gt;&gt;
&gt;&gt; How is a reverse proxy in front of your application supposed to know 
&gt;&gt; whether the other URI's need to be re-cached? Won't you have to spend 
&gt;&gt; time explaining to the proxy how the URIs are related?
&gt;&gt;     
&gt;
&gt; In my system I have
&gt;
&gt; /document
&gt;
&gt; serving representations:
&gt;
&gt; text/plain
&gt; text/html
&gt; application/xml
&gt;
&gt; The case of someone asking for just text/plain, just text/html or just 
&gt; application/xml is clear.
&gt;
&gt; The case of someone asking for preferences which include just one of 
&gt; those along with content types I do not serve and/or with */* is clear.
&gt;
&gt; The case of someone asking for preference lists of two or more of those 
&gt; (perhaps along with */*, perhaps not) is handled according to a 
&gt; combination of the client's weighting of the preferences along with the 
&gt; server's weighting of their relative quality.
&gt;
&gt; The case of someone asking for only content-types that do not exist may 
&gt; be dealt with either a 200 and one of the types anyway (suitable for 
&gt; some applications) or with a 406 with an entity linking to the:
&gt;
&gt; /document.txt
&gt; /document.html
&gt; /document.xml
&gt;   

You haven't explained why it's necessary to have these URIs in place to 
deal with this.

Why would you not just return a list of the available content types?

"10.4.7 406 Not Acceptable

The resource identified by the request is only capable of generating 
response entities which have content characteristics not acceptable 
according to the accept headers sent in the request.

Unless it was a HEAD request, the response SHOULD include an entity 
containing a list of available entity characteristics and location from 
which the user or user agent can choose the one most appropriate."

presumably 'entity characteristics' could refer to available content types?
&gt; Now. If someone decides to PUT to /document.txt I am likely to do one of 
&gt; the four following things:
&gt;
&gt; 1. Not let them (not everyone can PUT everywhere after all).
&gt;
&gt; 2. a. Accept /document.txt, with the understanding that this represents 
&gt; solely the one representation of the resource /document. (E.g. if my 
&gt; system is actually intended to let people edit different representations 
&gt; separately this may be precisely what is wanted).
&gt;   

If the intention is to 'let people edit different representations 
separately' then they aren't different *representations*; they're 
different *resources* and they *should* have different URIs, surely?

&gt; b. Update /document.txt and metadata for /document.txt.
&gt; c. Update any related documents, and update the metadata for them. This 
&gt; means that any freshness checks for those related documents will reflect 
&gt; a change.
&gt;
&gt; 3 a. Accept /document.txt, with the understanding that this change 
&gt; represents not just a change to the resource /document.txt but also the 
&gt; resource /document.
&gt; b. Update /document and all the related resources.
&gt; c. Update any related documents, and update the metadata for them. This 
&gt; means that any freshness checks for those related documents will reflect 
&gt; a change.
&gt;
&gt; 4 a. 307 to /document
&gt; b. Accept text/plain entity at /document
&gt; c. Update /document and all the related resources.
&gt; d. Update any related documents, and update the metadata for them. This 
&gt; means that any freshness checks for those related documents will reflect 
&gt; a change.
&gt;
&gt; Now. In each and every one of those cases intermediaries will function 
&gt; fine. If they try to GET any of the resources affected they will do so 
&gt; on the basis of freshness information set by the server and 
&gt; freshness-required information sent by the client. If either the client 
&gt; insist that the information must be checked for freshness or the server 
&gt; has indicated that future requests much be checked for freshness (or 
&gt; both) then a conditional GET will find that the updated resources have 
&gt; been updated and the un-updated resources haven't.
&gt;
&gt; Perfect.
I don't know about perfect, it seems a little long winded compared to my 
solution which can update all of the representations on the backend 
without having to send an update for each representation back through 
the proxy (I assume that was what you meant??).

Adding a new representation is an interesting use case; seems like a lot 
more work with your solution.

I still don't understand the benefit or necessity of adding these extra 
URIs - other than the obvious; that you can't negotiate in browsers any 
other way at the moment.

Regards,
Mike

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11631<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2008-11-27 17:36:19<br>
Subject:Re: [rest-discuss] HTML5 and unRESTful HTTP in browsers<br>
Message:<br><br>
<pre>Sebastien Lambla wrote:
&gt; Any byte stream that fully represents a resource is a representation and is 
&gt; commonly referred as a document. I encourage you to go and read webarch 
&gt; documents on the matter.

I'll disagree very slightly with this (I'm in agreement with the rest of 
your post).

A byte stream along with those pieces of meta-data that describe the 
entity (rather than the resource or the connection or the transfer 
encoding) are a document.

The same bytes with different content-types or character encodings are 
different documents.

It's a nit-pick, but sometimes important.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11632<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2008-11-27 18:04:02<br>
Subject:Re: [rest-discuss] HTML5 and unRESTful HTTP in browsers<br>
Message:<br><br>
<pre>Mike wrote:
&gt; If your REST interface is the only interface that you provide for your 
&gt; application then I don't see how or why contact could occur without 
&gt; passing through the proxy.

Someone opens up a database or file system and changes stuff. Sometimes 
it's vital to do so to fix a problem.

&gt; I did say 'intermediaries' and not 'just web proxies'.

If you've a very application aware intermediary, then it already knows 
about all the relationships between different resources and you don't 
have a problem.

If it doesn't, then use the way the web has already solved the problem.

&gt; You haven't explained why it's necessary to have these URIs in place to 
&gt; deal with this.

Because you're whole proposal is only about use-cases where it is 
necessary to identify the different representations specifically 
(generally none of this is necessary at all).

&gt; Why would you not just return a list of the available content types?
&gt; 
&gt; "10.4.7 406 Not Acceptable

That is one of the cases I mentioned. 300 is another one I left out by 
mistake; where the server can't choose between multiple choices of 
entities and prefers to give the choice to the client. In practice this 
is pretty rare.

&gt; presumably 'entity characteristics' could refer to available content types?

Yes. They could also refer to different language versions. I suppose 
they could even cover different content-encodings, though all clients 
would be expected to handle a content-encoding of "none".

&gt; If the intention is to 'let people edit different representations 
&gt; separately' then they aren't different *representations*; they're 
&gt; different *resources* and they *should* have different URIs, surely?

They're both.

Consider the case where most users are receiving different versions 
according to content-negotiation, but some users can edit the different 
versions separately (with content-type this may be automated and only 
one type need be PUT, but not always, and certainly not with different 
language versions).

In this case it's very important to consider the different 
representations as resources. To most users there's only the one 
resource they are interested in, which has different representations, 
but to editors there are different resources that relate to that first 
resource.

&gt; I don't know about perfect, it seems a little long winded compared to my 
&gt; solution which can update all of the representations on the backend 
&gt; without having to send an update for each representation back through 
&gt; the proxy (I assume that was what you meant??).

The fourth solution web-based is pretty much the same as your only 
solution. The web's just flexible enough to deal with other cases beyond 
yours.

&gt; Adding a new representation is an interesting use case; seems like a lot 
&gt; more work with your solution.

How?

I would PUT it to the URI of the resource.

Possibly I might have use-cases where I wanted to specify handling 
beyond this, so doing that wouldn't be the best approach. I may wish to 
complicate things to reflect some complication of just what sort of 
handling I want done. The thing is the web has a simple but flexible 
solution. It can be as simple as possible, without forcing it to be any 
simpler.

&gt; I still don't understand the benefit or necessity of adding these extra 
&gt; URIs - other than the obvious; that you can't negotiate in browsers any 
&gt; other way at the moment.

You can negotiate in every mainstream browser right now. It happens.

Go to http://www.google.com/ and there, you've just negotiated content 
from them. Wasn't that exciting? It wouldn't have worked though if you 
followed a link with hard-coded decisions by someone else dictating how 
that content negotiation should take place.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11633<br>
Sender:"vbzpanacea" &lt;vaibhavb@...&gt;<br>
Post Date/Time:2008-11-27 20:27:58<br>
Subject:Localizable string resources in xml payload<br>
Message:<br><br>
<pre>hi there :

Please point me to a different group in case this list is in
appropriate.

What is the preferred way of doing a Rest interface which is
localizable. I want consumer of my web service to be able to post in
localized version of string.

Which among the following is preferable:
For eg.
&lt;emotion culture="en-US"&gt;Happy&lt;/emotion&gt;
&lt;emotion culture="fr-fr"&gt;Foobar&lt;/emotion&gt;

Or
&lt;emotion&gt;&lt;resource&gt;&lt;id&gt;45&lt;/id&gt;&lt;value&gt;happy&lt;/value&gt;&lt;/resource&gt;&lt;/
emotion&gt;

the id is then looked updated or added.

Any further guidance / resource pointers for localizable rest apis
will be great.

Thanks in advance.

regards,
Vaibhav 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11634<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-11-27 20:53:53<br>
Subject:Re: [rest-discuss] Localizable string resources in xml payload<br>
Message:<br><br>
<pre>For requests, there is an Accept-Language header which enables the  
resource to respond with the preferred client language, if any.

Can you provide a little more details such as URI structure and how a  
client would later fetch it again?  Understanding how you want to  
round-trip information will help to.

- Steve

--------------
Steve G. Bjorg
http://mindtouch.com
http://twitter.com/bjorg

On Nov 27, 2008, at 12:27 PM, vbzpanacea wrote:

&gt; hi there :
&gt;
&gt; Please point me to a different group in case this list is in
&gt; appropriate.
&gt;
&gt; What is the preferred way of doing a Rest interface which is
&gt; localizable. I want consumer of my web service to be able to post in
&gt; localized version of string.
&gt;
&gt; Which among the following is preferable:
&gt; For eg.
&gt; &lt;emotion culture="en-US"&gt;Happy&lt;/emotion&gt;
&gt; &lt;emotion culture="fr-fr"&gt;Foobar&lt;/emotion&gt;
&gt;
&gt; Or
&gt; &lt;emotion&gt;&lt;resource&gt;&lt;id&gt;45&lt;/id&gt;&lt;value&gt;happy&lt;/value&gt;&lt;/resource&gt;&lt;/
&gt; emotion&gt;
&gt;
&gt; the id is then looked updated or added.
&gt;
&gt; Any further guidance / resource pointers for localizable rest apis
&gt; will be great.
&gt;
&gt; Thanks in advance.
&gt;
&gt; regards,
&gt; Vaibhav
&gt;
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11635<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2008-11-27 21:28:01<br>
Subject:Re: [rest-discuss] Localizable string resources in xml payload<br>
Message:<br><br>
<pre>vbzpanacea wrote:
&gt; What is the preferred way of doing a Rest interface which is
&gt; localizable. I want consumer of my web service to be able to post in
&gt; localized version of string.

I'd really want to know a bit more about what you are doing before 
advising. I'm not clear exactly what you are doing from your examples.

&gt; Which among the following is preferable:
&gt; For eg.
&gt; &lt;emotion culture="en-US"&gt;Happy&lt;/emotion&gt;
&gt; &lt;emotion culture="fr-fr"&gt;Foobar&lt;/emotion&gt;
&gt; 
&gt; Or
&gt; &lt;emotion&gt;&lt;resource&gt;&lt;id&gt;45&lt;/id&gt;&lt;value&gt;happy&lt;/value&gt;&lt;/resource&gt;&lt;/
&gt; emotion&gt;

The first is definitely clearer and semantically stronger, though if you 
are concerned only with language (as opposed to other cultural issues) 
then xml:lang seems more sensible.

I'm not understanding where this fits into a REST interface though.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11636<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-11-27 23:09:26<br>
Subject:Re: [rest-discuss] Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>Nick Gall wrote:
&gt; 
&gt; 
&gt; On Sat, Nov 22, 2008 at 4:08 PM, Subbu Allamaraju &lt;subbu@... 
&gt; &lt;mailto:subbu@...&gt;&gt; wrote:
&gt;  &gt; It depends. Even the GData examples you cited do indeed have very 
&gt; specific representations wrapped inside a generic media types. That does 
&gt; not make those architecture any more generic than, say, an application 
&gt; using "foo/bar" media type.
&gt; 
&gt; Hmmm. I think you're making my point. Indeed, putting a one-off 
&gt; representation inside a generic media type is "stepping off the 
&gt; generality cliff". But adding a few extension elements to a fairly 
&gt; general purpose media type like SensorML is taking gentle step down the 
&gt; generality slope.

It's a difference in degree only. XML Namespaces tend mess with web 
architecture's reliance on the media type as a statement for the 
representation. RDF/OWL over XML has the same problem at a different level.


&gt;  &gt; I am really confused by this. By adding a "fifth constraint" I 
&gt; thought this report is agreeing with the other four constraints, and 
&gt; hence that HTTP is an application protocol. Not so? How does WOA treat 
&gt; HTTP? As an application protocol or as a transport protocol?
&gt; 
&gt; WOA treats HTTP as an application protocol. What's wrong with "nested" 
&gt; application protocols? APP is an application protocol "nested" in HTTP. 
&gt; And GData is nested in APP. Or how would you put it?

AtomPub constrains REST and is manifested via HTTP. It doesn't nest 
inside HTTP. Aside from the usual transport/transfer objections to 
protocol tunneling, actual physical nesting incurs other problems. For 
example you introduce security attack vectors, eg one can nest HTTP 
inside HTTP for the purposes of achieving a batch protocol, but it 
requires the consuming code be able to safely parse HTTP instead of 
leaving that to server infrastructure.

&gt;  &gt; Could you give an example please? How would you build an app that 
&gt; does not fall of this cliff.
&gt; 
&gt; Suppose I was going to use APP for a contact management protocol. 
&gt; Contrast putting my own one-off, not well thought through, idiosyncratic 
&gt; schema for contact information as the payload of an APP entity (stepping 
&gt; off a cliff) vs. using the hCard microformat as the basis for contact 
&gt; information inside the APP entity (stepping down the slope).

hCard is a bad example to make the argument, as arguably it is a one-off 
not well thought through idiosyncratic schema for contact information by 
virtue of being difficult to parse if you're don't have a web browser to 
hand (I've yet to meet a server developer that wants to consume a 
microformat).

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11637<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-11-28 19:13:36<br>
Subject:Re: [rest-discuss] Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11638<br>
Sender:"Colin Jack" &lt;colinjack@...&gt;<br>
Post Date/Time:2008-11-28 22:11:47<br>
Subject:Re: [rest-discuss] REST &amp; DDD<br>
Message:<br><br>
<pre>Thanks for replying and sorry for taking so long to respond.
 
&gt; Once the domain model is sorted out, I create a "controller" (it's 
&gt; not a controller in the usual sense) for each domain object. 
 
So you find your resource design matches your domain design, at least 
initially, quite clearly? If so how do you find that as the technical 
aspects (caching for example) affect your resource design the two 
seperate?
 
Also how do you find this affects aggregates, for example if you have 
FactFind entity as part of the Customer aggregate then when you PUT 
does the fact find controller load the Customer before updating it's 
FactFind?
 
The other issue I have is with services/factories, but I'm thinking 
in those cases POSTing makes more sense (the equivalent of sending 
them a message).
 
 
&gt; One thing that's worth getting right (albeit an impl relative to the
&gt; network interface) is the repository pattern Evans talks about.
 
Yeah I fully buy into DDD and don't use the anemic repository 
approach.
 
 
&gt; Partial updates are still a challenge practically speaking; I'm 
&gt; leaning towards forms POSTing directly to the resource. 
 
That makes perfect sense, would you recommend going a step further 
and posting to the aggregate root resource? 
 
 
&gt; I think the MVC pattern will slowly replaced by "View ORMs" - 
&gt; Object Resource Mappers.
 
Sounds interesting, not really sure exactly what you mean though?


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11639<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-11-29 01:45:20<br>
Subject:Re: [rest-discuss] Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>Nick Gall wrote:

&gt; I don't understand how the web's mechanism for declaring a schema (media 
&gt; type) relates to the point I was trying to make: all things being equal, 
&gt; a widely used schema is better than a completely idiosyncratic one. 
&gt; Could you please elaborate?

Ok, so let's take RDF and OWL. These two are linked via rdf:class, but 
they have different semantics (in the formal sense, their model theories 
are not the same). What this means is that if you serve OWL content 
using an RDF media type, consuming clients are not expected to consume 
it with an OWL reasoner and if they do, any inferences drawn by an OWL 
applying client can be repudiated by servers. It's not actually OWL 
according to Web architecture.

Now add in the XML media type. If I serve an RDF document as 
application/xml can you apply an RDF reasoner to it? What about FOAF? Or 
an HTML page with hCard, SVG, RDFa and hAtom? It's all undefined.

Dropping down to lexical forms and namespaces, if I serve an Atom feed 
as application/xml, are you allowed to consume it as Atom? And if you 
are, in what can clients reasonably expect servers to stand over? What 
about those DRM and other extensions people are going to add as AtomPub 
sees wider adoption for integrations?

As far as I can tell, this is big, big gap in the Web's as-deployed 
architecture. XML formats can be mixed up without any guidelines as to 
what downstream clients can assume of the data. Semantic web formats 
have significant variation in what they can deduce.  JSON is arguably in 
an even worse place as it has no technical basis for anything other than 
code on demand. I don't know where to start with RDFa - how is lexical 
tunneling any better than transport tunneling?

This isn't a problem now as we don't ship around much content that needs 
reasoners. We deal with low level bugs like encoding screwups and 
malformed, but technically Content-Type supersedes any claims made 
inside the content itself. Worse, Content-Type is optional in both HTTP 
and XML. yes, there's RFC3023, but it's a technical description of a 
switch block that only deals with encoding issues, not semantics. Give 
it enough time and enough automated agents, and there'll be a lawsuit 
filed over a discrepancy between what a client assumed and what a server 
expected.


&gt;  &gt; AtomPub constrains REST and is manifested via HTTP. It doesn't nest
&gt;  &gt; inside HTTP. Aside from the usual transport/transfer objections to
&gt;  &gt; protocol tunneling, actual physical nesting incurs other problems. For
&gt;  &gt; example you introduce security attack vectors, eg one can nest HTTP
&gt;  &gt; inside HTTP for the purposes of achieving a batch protocol, but it
&gt;  &gt; requires the consuming code be able to safely parse HTTP instead of
&gt;  &gt; leaving that to server infrastructure.
&gt; 
&gt; Sorry for the confusion. I put "nested" in quotes and asked for a better 
&gt; way to "put it" to avoid such confusion. I did not mean to imply 
&gt; physical nesting (though I could make the argument that the Atom schema 
&gt; physically nests inside the HTTP "envelope"). I meant nested in terms of 
&gt; "further constrained".

Thanks, I get it now.

&gt; I hope that in delving into all these details, we don't lose sight of 
&gt; the main issue: the meaning of the "application neutral" constraint and 
&gt; the motivation behind it.

Understood. But I think the content and semantic mixing issues are real, 
not just theoretical and are more likely to occur as user agents become 
more automated.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11640<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-11-29 01:59:34<br>
Subject:Re: [rest-discuss] Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>Nick Gall wrote:

&gt; I don't understand how the web's mechanism for declaring a schema (media 
&gt; type) relates to the point I was trying to make: all things being equal, 
&gt; a widely used schema is better than a completely idiosyncratic one. 
&gt; Could you please elaborate?

They're all idiosyncratic.

Ok, so let's take RDF and OWL. These two are linked via rdf:class, but 
they have different semantics (in the formal sense, their model theories 
are not the same). What this means is that if you serve OWL content 
using an RDF media type, consuming clients are not expected to consume 
it with an OWL reasoner and if they do, any inferences drawn by an OWL 
applying client can be repudiated by servers. It's not actually OWL 
according to Web architecture.

Now add in the XML media type. If I serve an RDF document as 
application/xml can you apply an RDF reasoner to it? What about FOAF? Or 
an HTML page with hCard, SVG, RDFa and hAtom? It's all undefined.

Dropping down to lexical forms and namespaces, if I serve an Atom feed 
as application/xml, are you allowed to consume it as Atom? And if you 
are, in what can clients reasonably expect servers to stand over? What 
about those DRM and other extensions people are going to add as AtomPub 
sees wider adoption for integrations?

As far as I can tell, this is a big gap in the Web's as-deployed 
architecture. XML formats can be mixed up without any guidelines as to 
what downstream clients can assume of the data. Semantic web formats 
have significant variation in what they can deduce.  JSON is arguably in 
an even worse place as it has no technical basis for anything other than 
code on demand. I don't know where to start with RDFa - how is lexical 
tunneling any better than transport tunneling?

This isn't a problem now as we don't ship around much content that needs 
reasoners. We deal with low level bugs like encoding screwups and 
malformed content, but technically Content-Type supersedes any claims 
made inside the content itself. Yes, there's RFC3023, but it's a 
technical description of a switch block for HTTP+XML that deals with 
encoding issues, and not semantics. So give it time.


&gt;  &gt; AtomPub constrains REST and is manifested via HTTP. It doesn't nest
&gt;  &gt; inside HTTP. Aside from the usual transport/transfer objections to
&gt;  &gt; protocol tunneling, actual physical nesting incurs other problems. For
&gt;  &gt; example you introduce security attack vectors, eg one can nest HTTP
&gt;  &gt; inside HTTP for the purposes of achieving a batch protocol, but it
&gt;  &gt; requires the consuming code be able to safely parse HTTP instead of
&gt;  &gt; leaving that to server infrastructure.
&gt; 
&gt; Sorry for the confusion. I put "nested" in quotes and asked for a better 
&gt; way to "put it" to avoid such confusion. I did not mean to imply 
&gt; physical nesting (though I could make the argument that the Atom schema 
&gt; physically nests inside the HTTP "envelope"). I meant nested in terms of 
&gt; "further constrained".

Thanks, I get it now.

&gt; I hope that in delving into all these details, we don't lose sight of 
&gt; the main issue: the meaning of the "application neutral" constraint and 
&gt; the motivation behind it.

Understood. But I think the content and semantic mixing issues are real, 
not just theoretical and are more likely to occur as user agents become 
more automated.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11641<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-11-29 08:13:25<br>
Subject:Re: [rest-discuss] Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>&gt; Hmmm. I think you're making my point. Indeed, putting a one-off  
&gt; representation inside a generic media type is "stepping off the  
&gt; generality cliff". But adding a few extension elements to a fairly  
&gt; general purpose media type like SensorML is taking gentle step down  
&gt; the generality slope.

Nope :)

Putting a one-off representation of a one-off media type inside a  
generic media type is NOT stepping off the generality cliff. That is  
what media types are meant for. Media types describe the "type" of a  
representation.

In fact, folks coming from the WS-*/schema background should love  
media types. Concrete media types describe the data. Where as,  
extensions added to general purpose media types do so only weakly.

&gt; &gt;&gt; representations for each new application. An example of this is  
&gt; the RESTafarian insistence that HTTP is NOT a transport protocol,  
&gt; but rather an "application protocol", albeit a VERY application  
&gt; neutral one. What we haven't seen yet, even from the REST "camp" is  
&gt; much in the way of fairly generic ATOM entities to go
&gt; &gt;
&gt; &gt; I am really confused by this. By adding a "fifth constraint" I  
&gt; thought this report is agreeing with the other four constraints, and  
&gt; hence that HTTP is an application protocol. Not so? How does WOA  
&gt; treat HTTP? As an application protocol or as a transport protocol?
&gt;
&gt; WOA treats HTTP as an application protocol. What's wrong with  
&gt; "nested" application protocols? APP is an application protocol  
&gt; "nested" in HTTP. And GData is nested in APP. Or how would you put it?

It is not a "nested" application protocol. APP is just a profile of  
HTTP for a certain class of resources, viz., feeds and entries. GData  
is an APP like protocol, and in Google's words "GData is a new  
protocol based on the Atom 1.0 and RSS 2.0 syndication formats, plus  
the Atom Publishing Protocol."

The statement on "RESTafarian insistence that HTTP is NOT a transport  
protocol" prompted my question. Now I understand that it is rhetorical.

&gt;
&gt; &gt;&gt;  inside the ATOM "envelope". Many REST examples using ATOM step  
&gt; off the same cliff.
&gt; &gt;
&gt; &gt; Could you give an example please? How would you build an app that  
&gt; does not fall of this cliff.
&gt;
&gt; Suppose I was going to use APP for a contact management protocol.  
&gt; Contrast putting my own one-off, not well thought through,  
&gt; idiosyncratic schema for contact information as the payload of an  
&gt; APP entity (stepping off a cliff) vs. using the hCard microformat as  
&gt; the basis for contact information inside the APP entity (stepping  
&gt; down the slope).

That is a choice that the server app will have to make based on the  
kind of clients it is expecting to serve. If its its clients are  
browsers, it may of course, choose to use this microformat for the  
contact info. But if it is a different kind of machine client, the  
server might choose a specific media type for that purpose. Or it may  
do both.

But this is all rehashing a general principle of reusing shared  
structs for representations when it makes sense.

I wish this report chose a more direct term to describe what you  
meant. IMHO, the term "application neutrality" is extremely vague and  
broad, and it appears to mean something that it is not.

Sincerely,
Subbu
---
http://www.subbu.org




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11642<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-11-29 16:30:45<br>
Subject:Re: [rest-discuss] Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>On Fri, Nov 28, 2008 at 8:59 PM, Bill de hOra &lt;bill@...&gt; wrote:
&gt;
&gt; Nick Gall wrote:
&gt;
&gt; &gt; I don't understand how the web's mechanism for declaring a schema (media
&gt; &gt; type) relates to the point I was trying to make: all things being equal,
&gt; &gt; a widely used schema is better than a completely idiosyncratic one.
&gt; &gt; Could you please elaborate?
&gt;
&gt; They're all idiosyncratic.

Agreed. But some are more widely used than others. That's the point I
continue to press: Start with the most widely used application
interface "framework" (eg APP -- by framework I mean nothing more than
a set of constraints) that could possibly work for your application.
When you specialize it to your needs, find the most general way to
specialize it that can possibly work. If you recursively follow this
process, you stand a better chance of having the interface you've
designed become widely used as well.

&gt; Ok, so let's take RDF and OWL. These two are linked via rdf:class, but
&gt; they have different semantics (in the formal sense, their model theories
&gt; are not the same). What this means is that if you serve OWL content
&gt; using an RDF media type, consuming clients are not expected to consume
&gt; it with an OWL reasoner and if they do, any inferences drawn by an OWL
&gt; applying client can be repudiated by servers. It's not actually OWL
&gt; according to Web architecture.
&gt;
&gt; Now add in the XML media type. If I serve an RDF document as
&gt; application/xml can you apply an RDF reasoner to it? What about FOAF? Or
&gt; an HTML page with hCard, SVG, RDFa and hAtom? It's all undefined.
&gt;
&gt; Dropping down to lexical forms and namespaces, if I serve an Atom feed
&gt; as application/xml, are you allowed to consume it as Atom? And if you
&gt; are, in what can clients reasonably expect servers to stand over? What
&gt; about those DRM and other extensions people are going to add as AtomPub
&gt; sees wider adoption for integrations?
&gt;
&gt; As far as I can tell, this is a big gap in the Web's as-deployed
&gt; architecture. XML formats can be mixed up without any guidelines as to
&gt; what downstream clients can assume of the data. Semantic web formats
&gt; have significant variation in what they can deduce. JSON is arguably in
&gt; an even worse place as it has no technical basis for anything other than
&gt; code on demand. I don't know where to start with RDFa - how is lexical
&gt; tunneling any better than transport tunneling?
&gt;
&gt; This isn't a problem now as we don't ship around much content that needs
&gt; reasoners. We deal with low level bugs like encoding screwups and
&gt; malformed content, but technically Content-Type supersedes any claims
&gt; made inside the content itself. Yes, there's RFC3023, but it's a
&gt; technical description of a switch block for HTTP+XML that deals with
&gt; encoding issues, and not semantics. So give it time.

No argument. The HTTP/MIME media type declaration architecture is
serious need of a major overhaul.
...

&gt; &gt; I hope that in delving into all these details, we don't lose sight of
&gt; &gt; the main issue: the meaning of the "application neutral" constraint and
&gt; &gt; the motivation behind it.
&gt;
&gt; Understood. But I think the content and semantic mixing issues are real,
&gt; not just theoretical and are more likely to occur as user agents become
&gt; more automated.

Perhaps that's the nub of the issue. I have VERY low expectations
regarding user agents doing sophisticated automatic interface
inference and negotiation any time soon. IMO too much wasted effort
goes into this AI-hard problem. CORBA tried it. WS-* tried it.
Semantic Web is trying it. Such attempts add major complexity in
return for little or no results -- so far. Someday? Maybe.

I'm just looking for better MANUAL approaches to ensuring better
interoperability. We have so far to go in this regard, why waste time
trying to automate what human beings don't yet know how to do well?
Let's walk before we run. So even if the use of APP and other widely
used application interface frameworks are applied and slightly
specialized in purely INFORMAL ways, we can still make progress. If we
can clean up mechanisms like media type declarations along the way,
I'm all for it. But I don't want to wait for such mechanisms to be
fixed before proceeding with informal "social" mechanisms.

The Web has evolved a lot faster with sloppy agreements ("rough
consensus and working code" -- and general protocols) than lots of
attempts based on (overly) formal agreements. Let's keep going: Just
enough formalization just in time.

-- Nick

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11643<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-12-01 03:10:30<br>
Subject:Re: [rest-discuss] Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11644<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-12-01 03:21:28<br>
Subject:Re: [rest-discuss] Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11645<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-12-01 03:39:39<br>
Subject:Re: Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, "mike amundsen" &lt;mamund@...&gt; 
wrote:
&gt; Reading your example reference document leads me to understand that
&gt; "application neutral" is to be applied to data and to the data 
model. Is
&gt; that correct?

"Application neutral" is to be applied to all aspects of an interface. 
All aspects should be as neutral as possible (but not too neutral), 
not JUST the data and the data model.

My accounting example simply emphasized the data model aspect.

-- Nick


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11646<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-12-01 04:11:42<br>
Subject:Re: [rest-discuss] Re: Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11647<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-01 05:41:31<br>
Subject:Re: [rest-discuss] Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>&gt;
&gt; So, while your blog post is correct as far as it goes ('"application  
&gt; neutrality" [means] using generic media types such as the Atom  
&gt; Syndication Format for representations"), application neutrality  
&gt; also means using generic identifiers and generic protocol operations  
&gt; as well. In other words, all three aspects of an interface (its  
&gt; IFaPs) must be "as generic as possible, but not too generic".
&gt;
&gt; It may take a while for "application neutrality" to sink in for some  
&gt; people. That's OK. So did HATEOAS!
&gt;

Nick - my comment was not that I don't understand what this term  
means. IMHO, it is too broad to describe what you were trying to  
describe. The fact that this term was used in various contexts does  
not change that. When you add a new item to a list of constraints, it  
of course deserves extra scrutiny. At least on this list, a number of  
people sincerely want to understand and debate, and so, let us not  
worry about "sink in".

Now that we agree on the media type aspect, let me ask you about  
"generic identifiers". (I am ignoring generic protocol operations  
since that is same as saying "uniform interface"). What do you mean by  
"generic identifiers" in the context of REST?

By the way, since the actual report is not public, it is very very  
difficult to understand what this is all about. If this has been  
discussed, please provide public references.

Subbu

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11648<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-12-01 06:47:40<br>
Subject:Re: [rest-discuss] Re: Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>On Nov 30, 2008, at 7:39 PM, Nick Gall wrote:

&gt; --- In rest-discuss@yahoogroups.com, "mike amundsen" &lt;mamund@...&gt;
&gt; wrote:
&gt;&gt; Reading your example reference document leads me to understand that
&gt;&gt; "application neutral" is to be applied to data and to the data
&gt; model. Is
&gt;&gt; that correct?
&gt;
&gt; "Application neutral" is to be applied to all aspects of an interface.
&gt; All aspects should be as neutral as possible (but not too neutral),
&gt; not JUST the data and the data model.


I wonder if "neutrality" is really the best word to convey the concept  
you have in mind though?  I ask because using fragments such as "not  
too neutral" seems to indicate there might be an issue with the chosen  
word to begin with.  Maybe I've spent too much time around Swiss  
colleagues and friends, but there is no such notion as "too neutral."   
Someone/something either is neutral or it is not neutral (i.e. leaning  
towards one side or another, however discreetly).

IIRC, the notion of "neutral" was introduced as an alternative to  
"generic."  If I rewrite your response above using "generic" instead,  
we get the following:
&gt; "Application generic" is to be applied to all aspects of an  
&gt; interface. All aspects should be as generic as possible (but not too  
&gt; generic), not JUST the data and the data model.

This statement is something that my brain can understand in  
graduations: make the IFaPs too generic and your application will not  
work (insufficient information density); make them too specific (too  
much information density) and only your application will understand  
them.  In other words, tune the IFaPs for the "necessary and  
sufficient" amount of information density to optimize for long term  
benefits.  Now, let's see if this formulation also aligns with  
experience.

The terms "generic" and "specific" intuitively describe the spectrum  
of information density from low to high, respectively.  In practice,  
it is also the case that more generic formats or encodings require  
more bits than specific ones.  This aligns with the more formal  
definition of information density as well (or entropy/complexity as it  
is also referred to in the literature).

Let's start with generic XML which has a negligible information  
density.  It's technically non-zero, but if we only look at XML-based  
formats, it's the lowest we can get.  The information density of the  
IFaP increase with each additional constraint.  One measure for the  
effective increase could be the inverse of the number of people who  
understand it.  Thus, a constraint understood by nobody adds infinite  
density, while one understood by everybody adds none.  With this  
definition, adding HTTP as a constraint adds very little density.   
Adding APP adds a bit more, and so on.

Now, we can also see why optimizing for necessary and sufficient  
density is the optimal solution.  It means that the IFaP can be  
understood by the largest number of people while still meeting the  
minimum application's requirements.  Interestingly, it also accounts  
for changes in popularity.  If a specialized format/protocol gains  
popularity, using it will have a lower density increase.  Over time,  
it may result in a lower density requirement for the application, and  
thus it would make sense to switch over to the new format/protocol,  
because it's more optimal.

Getting back to the original point though.  Framing this discussion in  
terms of graduations between "generic" and "specific" feels a lot more  
intuitive than "neutral" or "too neutral."  The latter being a notion  
that my brain just refuses to comprehend for now.  Furthermore,  
"generic" vs. "specific" nicely feeds into the notion of "information  
density," which we can use to turn what I believe to be your initial  
point into a semi-formal definition.  At first blush, this semi-formal  
definition also aligns with the expected benefits of being as "generic  
as possible w/o being too generic."

So, I'm back to where I started.  What is the motivation for using  
"neutral" instead of "generic?"  Maybe it would make sense for  
"neutral" to take on the meaning of optimal balance between generic  
and specific IFaPs?

- Steve

--------------
Steve G. Bjorg
http://mindtouch.com
http://twitter.com/bjorg


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11649<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2008-12-01 14:04:17<br>
Subject:Re: [rest-discuss] Re: Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>Reality check re the REA model:  I was one of the people who tried to
define that as a standard format at least for B2B interactions.

I worked on this issue with ebXML, UN/CEFACT and ISO.  To some extent,
REA is incorporated in the "standards" of each of those organizations.
 Explicitly so for ISO:
http://www.iso.org/iso/iso_catalogue/catalogue_tc/catalogue_detail.htm?csnumber=40348

ebXML and UN/CEFACT also tried to "standardize" an application
protocol for exchanging business messages using a somewhat-REA-based
vocabulary.

The reason I put quotes around "standardize" is that all three of
those groups claimed to provide "standards", all three coming from the
same background sources (EDI and REA), and all three are slightly
different.

Likewise OASIS Universal Business Language (UBL)
http://www.oasis-open.org/committees/tc_home.php?wg_abbrev=ubl also
spun off from ebXML, and claims to provide yet another "standard" B2B
vocabulary, derived mostly from X12 and EDIFACT EDI without any REA
influence.

And then there's OAG http://www.openapplications.org/ which also
claims to provide "standard" business document formats.

And some large supply chain heads use their own proprietary vocabularies.

And the old EDI formats - ANSII X12 and UN EDIFACT - are probably
still used more than any of the above.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11650<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-12-01 14:38:04<br>
Subject:Re: [rest-discuss] Re: Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11651<br>
Sender:"Andrew Davey" &lt;andrew@...&gt;<br>
Post Date/Time:2008-12-01 10:09:27<br>
Subject:New resource-oriented library for ASP.NET MVC<br>
Message:<br><br>
<pre>I am working on a new resource-oriented library for ASP.NET MVC.
The motivation is to create an API centered around strongly typed URIs, 
Resources and links between them.

I have created a screencast that shows it in action:
http://www.aboutcode.net/2008/11/26/New+ResourceOriented+Library+For+ASP
NET+MVC.aspx

A SVN link to the code is also linked from the above page.

All feedback is appreciated.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11652<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2008-12-01 15:40:48<br>
Subject:Re: [rest-discuss] Re: Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>On Mon, Dec 1, 2008 at 8:38 AM, Nick Gall &lt;nick.gall@...&gt; wrote:
&gt; One other lesson to be gleaned from the EDI era: standardizing formats (eg
&gt; media types) is not enough. You must also standardize the reference
&gt; data/master data (aka identifiers) that are poured into such formats. You
&gt; must also standardize the business "protocols" that define the sequence of
&gt; exchange of such formats. In other words, you must standards the IFaPs.

Actually, identifiers have probably been more successfully
standardized than any of the other pieces of that puzzle via UPC bar
codes.  I think there's a lesson somewhere in there.

The protocols proved to be more difficult.  ebXML and UN/CEFACT tried
to define them, but got a lot of resistance ("we don't need that").
And if course when attempted, they were not defined in any RESTful
way.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11653<br>
Sender:Mike &lt;mike@...&gt;<br>
Post Date/Time:2008-12-01 16:19:22<br>
Subject:Re: [rest-discuss] Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>Subbu Allamaraju wrote:
&gt; Now that we agree on the media type aspect, let me ask you about  
&gt; "generic identifiers". (I am ignoring generic protocol operations  
&gt; since that is same as saying "uniform interface"). What do you mean by  
&gt; "generic identifiers" in the context of REST
Identifiers identify resources only?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11654<br>
Sender:"vbzpanacea" &lt;vaibhavb@...&gt;<br>
Post Date/Time:2008-12-01 22:59:06<br>
Subject:Re: Localizable string resources in xml payload<br>
Message:<br><br>
<pre>Thanks for the responses. Here are more details -

My scenario is the following:
I have a provisioning API which lets each application register with
the platform

URL: http://www.fooplatform.com/directory/API_ID
Header: Some auth information
Payload:
&lt;app&gt;
&lt;name/&gt;
&lt;description/&gt;
&lt;/app&gt;


I the application to have ability to submit localized version of the
above directory information:
For eg
&lt;app&gt;
&lt;name&gt;foo&lt;/name&gt;
&lt;description xml:lang="fr"&gt;Comme vous &lt;/description&gt;
&lt;description xml:lang="en"&gt;how are you&lt;/description&gt;
&lt;/app&gt;

The directory of application is localized 
http://www.fooplatform.com/directory/en/
Will display all the application and descriptions in english, the
following one is french
http://www.fooplatform.com/directory/fr/

Is the above use of xml:lang correct? How should i modify the schema
for the initial xml given that descrition had minOccurs=1 and
maxOccurs=1, how will the attribute be accounted for? How should the
processers for the directory handle the xml:lang attribute.

Any general thoughts on the same might be helpful as well.

Thanks in advance.

regards,
Vaibhav

--- In rest-discuss@yahoogroups.com, Jon Hanna &lt;jon@...&gt; wrote:
&gt;
&gt; vbzpanacea wrote:
&gt; &gt; What is the preferred way of doing a Rest interface which is
&gt; &gt; localizable. I want consumer of my web service to be able to post in
&gt; &gt; localized version of string.
&gt; 
&gt; I'd really want to know a bit more about what you are doing before 
&gt; advising. I'm not clear exactly what you are doing from your examples.
&gt; 
&gt; &gt; Which among the following is preferable:
&gt; &gt; For eg.
&gt; &gt; &lt;emotion culture="en-US"&gt;Happy&lt;/emotion&gt;
&gt; &gt; &lt;emotion culture="fr-fr"&gt;Foobar&lt;/emotion&gt;
&gt; &gt; 
&gt; &gt; Or
&gt; &gt; &lt;emotion&gt;&lt;resource&gt;&lt;id&gt;45&lt;/id&gt;&lt;value&gt;happy&lt;/value&gt;&lt;/resource&gt;&lt;/
&gt; &gt; emotion&gt;
&gt; 
&gt; The first is definitely clearer and semantically stronger, though if
you 
&gt; are concerned only with language (as opposed to other cultural issues) 
&gt; then xml:lang seems more sensible.
&gt; 
&gt; I'm not understanding where this fits into a REST interface though.
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11655<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-12-02 03:02:59<br>
Subject:Re: [rest-discuss] Re: Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11656<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-02 03:06:10<br>
Subject:Re: [rest-discuss] Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>
On Dec 1, 2008, at 8:19 AM, Mike wrote:

&gt; Subbu Allamaraju wrote:
&gt;&gt; Now that we agree on the media type aspect, let me ask you about   
&gt;&gt; "generic identifiers". (I am ignoring generic protocol operations   
&gt;&gt; since that is same as saying "uniform interface"). What do you mean  
&gt;&gt; by  "generic identifiers" in the context of REST
&gt; Identifiers identify resources only?


Not sure. In the context of the web, URIs are identifiers, but I don't  
think Nick is referring to URIs here.

Subbu
---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11657<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2008-12-02 03:13:38<br>
Subject:Re: [rest-discuss] Re: Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>I guess the other question (ignoring for the moment whether
"application neutral" is a felicitous phrase) is:
how neutral is it, really?

For example, if you put your head around some merger of
REA/ebXML/UNCEFACT/UBL/OAGIS and add some standard protocols for
message interactions, you still end up with protocols for e.g.
negotiating purchase orders.  And the purchase order protocol will not
work for deliveries or returns or (heaven help us) mortages.

And even the purchase order protocol will have several variations,
depending on whether the purchaser wants a quote first, who pays for
transportation, and several other piddly business details.

So the buyer and seller might be able to use different application
software (that was the OAGIS promise, seldom really fulfilled) but
it's still just purchasing.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11658<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-12-02 03:43:59<br>
Subject:Re: [rest-discuss] Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11659<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-12-02 03:54:29<br>
Subject:Re: [rest-discuss] Re: Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11660<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2008-12-02 12:23:50<br>
Subject:Re: [rest-discuss] Re: Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>Sorry for top-posting, seemed to be appropriate in this case.

Nick, you did not respond to my point below, just seemed to agree that
"it's going to take a long while".  Which was *not* my point.

My point was that even if you get there (unify that set of business
"standards"), what you get for "application neutrality" is just the
ability to use different business software at each end of a business
exchange like purchasing.  But you're still just doing purchasing.
You can't use the same application software for mortgage refinancing.
In other words, each of the standards that could be achieved would be
specific to a specific business process or function.  And each
specific business process or even business process variation would
require another standard definition, although the definitions could be
composed from a set of standard elements.

I think Atom has somewhat broader applicability in practice, that is,
used for more than one function or process.  But even there, as
several people have commented, you need to arrive at some further
agreement on extensions.

And of course HTTP has even broader applicability, used for almost -
but not quite - any process or function. But there, you need to arrive
at agreement on media types and the meaning of embedded hyperlinks for
hypermedia-controlled state transitions.

On Mon, Dec 1, 2008 at 9:54 PM, Nick Gall &lt;nick.gall@...&gt; wrote:
&gt; On Mon, Dec 1, 2008 at 10:13 PM, Bob Haugen &lt;bob.haugen@...&gt; wrote:
&gt;&gt;
&gt;&gt; I guess the other question (ignoring for the moment whether
&gt;&gt; "application neutral" is a felicitous phrase) is:
&gt;&gt; how neutral is it, really?
&gt;&gt;
&gt;&gt; For example, if you put your head around some merger of
&gt;&gt; REA/ebXML/UNCEFACT/UBL/OAGIS and add some standard protocols for
&gt;&gt; message interactions, you still end up with protocols for e.g.
&gt;&gt; negotiating purchase orders. And the purchase order protocol will not
&gt;&gt; work for deliveries or returns or (heaven help us) mortages.
&gt;&gt;
&gt;&gt; And even the purchase order protocol will have several variations,
&gt;&gt; depending on whether the purchaser wants a quote first, who pays for
&gt;&gt; transportation, and several other piddly business details.
&gt;&gt;
&gt;&gt; So the buyer and seller might be able to use different application
&gt;&gt; software (that was the OAGIS promise, seldom really fulfilled) but
&gt;&gt; it's still just purchasing.
&gt;
&gt; Oh yes, its going to take a long while. Look how many decades its taken to
&gt; go from umpteen network architectures to IP! This is hard work. But it is
&gt; what REALLY causes business transformation.
&gt; We will go from thousands of variations, to hundreds, to dozens, to a
&gt; handful ... over decades. Look at how many healthcare related coding schemes
&gt; there are internationally!
&gt; But the sooner we get our heads out of the weeds of SOAP vs whatever debates
&gt; and focus on BUSINESS-LEVEL interoperability issues, the sooner we'll get
&gt; there. I can't tell you how many IT executives think that just incanting
&gt; "SOA" and buying some XML/WS-* technology just makes all this business-level
&gt; interop just happen.
&gt; We need them to refocus on business standards instead of wasting their time
&gt; on technology standards. The technology standards are EASY by comparison.
&gt; -- Nick
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11661<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-12-03 12:20:45<br>
Subject:Re: [rest-discuss] Re: "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>On Nov 24, 2008, at 11:37 AM, Subbu Allamaraju wrote:

&gt;&gt;
&gt;&gt; e.g.:
&gt;&gt; &lt;entry xmlns:gsx="http://schemas.google.com/spreadsheets/2006/
&gt;&gt; extended"&gt;
&gt;&gt; ...
&gt;&gt; &lt;gsx:type&gt;Question&lt;/gsx:type&gt;
&gt;&gt; &lt;gsx:eid&gt;abcde&lt;/gsx:eid&gt;
&gt;&gt; &lt;gsx:name&gt;John smith&lt;/gsx:name&gt;
&gt;&gt; &lt;gsx:text&gt;how big is the ocean?&lt;/gsx:text&gt;
&gt;&gt; &lt;/entry&gt;
&gt;&gt;
&gt;&gt; I've been tempted to go ahead and use the same namespace as Google,
&gt;&gt; but haven't yet. We do quite a lot of interaction with data from
&gt;&gt; Google Spreadsheets anyway, and that might make sense.
&gt;&gt;
&gt;
&gt;
&gt; This treats "extensions" are required elements, and that is a
&gt; dangerous approach. Extensions are "extensions".

Yes and removing the extension would still make it a valid Atom  
entry.  However, the specific application that you might submit it to  
would reject it, because it requires the presence of the extension,  
which feels like an acceptable compromise.

&gt; Consider this alternative
&gt;
&gt; &lt;entry&gt;
&gt;   ... all atom required elements ...
&gt;   &lt;content type="application/vnd.google.gsx+xml" xmlns:sx="http://schemas.google.com/spreadsheets/2006/extended
&gt; "&gt;
&gt;      &lt;gsx:type&gt;Question&lt;/gsx:type&gt;
&gt;      &lt;gsx:eid&gt;abcde&lt;/gsx:eid&gt;
&gt;      &lt;gsx:name&gt;John smith&lt;/gsx:name&gt;
&gt;      &lt;gsx:text&gt;how big is the ocean?&lt;/gsx:text&gt;
&gt;   &lt;/content&gt;
&gt; &lt;/entry&gt;
&gt;
&gt; I don't really understand the issue with adding a new media type here.
&gt; The app can publish this media type. The accompanying "media type
&gt; specification", although proprietary, can describe it, and can even
&gt; provide a reference to the schema.


This is also what Aristotle proposed.  It's not clear what situations  
would be better served by each approach (extension vs.  
encapsulation).  It would be interesting to examine this question  
further.  That said, the above example has a minor issue as the  
content of &lt;content&gt; element is not a valid standalone XML document.   
The fix is trivial though:
&lt;content type="application/vnd.google.gsx+xml"&gt;
   &lt;cell  xmlns="http://schemas.google.com/spreadsheets/2006/extended "&gt;
      &lt;type&gt;Question&lt;/gsx:type&gt;
      &lt;eid&gt;abcde&lt;/gsx:eid&gt;
      &lt;name&gt;John smith&lt;/gsx:name&gt;
      &lt;text&gt;how big is the ocean?&lt;/gsx:text&gt;
   &lt;/cell&gt;
&lt;/content&gt;

- Steve

--------------
Steve G. Bjorg
http://mindtouch.com
http://twitter.com/bjorg


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11662<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-12-03 13:03:34<br>
Subject:Re: [rest-discuss] Re: "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>Aristotle Pagaltzis wrote:

&gt; * Bill de hOra &lt;bill@... &lt;mailto:bill%40dehora.net&gt;&gt; [2008-11-13 
&gt; 20:45]:
&gt;  &gt; c. Add foreign markup extensions under atom:entry.
&gt; 
&gt; That is a dangerous path. One of the problems with RSS that led
&gt; to the Atom effort is that it has no facilities for transporting
&gt; any data other than textual content, so everything gets shoved
&gt; into extension elements, so every application needs to extend RSS
&gt; in its own private new way.
&gt; 
&gt; Atom was meant to break away from that mess, not reintroduce it.
&gt; Thats what the addition of @type to atom:content and the careful
&gt; deliberation about the content model in general was all about.

I was there too.

I don't agree it's a dangerous path given Atom's processing model. It 
becomes a problem when you break that model (eg, these new elements are 
required today)


&gt; I would suggest strongly that Atom should only be augmented with
&gt; extension elements for protocol purposes, as in AtomPub. 

Why?


&gt; The data
&gt; contained in an entry should remain largely intact when detached
&gt; from the envelope. This pretty much necessitates the use of
&gt; atom:content.

I can't see the best practice value of putting extensions in content. 
Can you explain?


&gt; Instead of diminishing the role of atom:content and finding a
&gt; way to auxiliary facilities of Atom fit the data, the right way
&gt; of dealing with the problem would be to find a way to make one
&gt; of the range of available hypermedia media types fit the data. I
&gt; think people dismiss XHTML far too easily because they consider
&gt; it somehow presentational, f.ex., or not structured enough,
&gt; whatever that may mean. RDF has an inexplicably bad reputation,
&gt; as well. 

I don't agree with inexplicable if you're talking about RDF syntaxes.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11663<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-12-03 13:07:10<br>
Subject:Re: [rest-discuss] Re: "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>Steve Bjorg wrote:
&gt; On Nov 24, 2008, at 11:37 AM, Subbu Allamaraju wrote:
&gt;  &gt; This treats "extensions" are required elements, and that is a
&gt;  &gt; dangerous approach. Extensions are "extensions".
&gt; 
&gt; Yes and removing the extension would still make it a valid Atom
&gt; entry. However, the specific application that you might submit it to
&gt; would reject it, because it requires the presence of the extension,
&gt; which feels like an acceptable compromise.

I wouldn't recommend that approach. It makes systems unpredictable and 
needlessly complicated (forced upgrades on clients or legacy switching 
on servers). I think you'll also find it'll be hard to allocate bugs 
between clients and servers - IME formats that allow retroactive 
mustUnderstand cause social problems more than technical ones.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11664<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-03 16:07:00<br>
Subject:Re: [rest-discuss] Re: "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>&gt;&gt;
&gt;&gt;
&gt;&gt; This treats "extensions" are required elements, and that is a
&gt;&gt; dangerous approach. Extensions are "extensions".
&gt;
&gt; Yes and removing the extension would still make it a valid Atom  
&gt; entry.  However, the specific application that you might submit it  
&gt; to would reject it, because it requires the presence of the  
&gt; extension, which feels like an acceptable compromise.

But that is self-contradictory. Extensions are optional, and so, apps  
can't reject documents with/without extensions. Using a media type  
would at least give a clue to the receiving app that there is unknown  
content in the entry.

&gt; It would be interesting to examine this question further.  That  
&gt; said, the above example has a minor issue as the content of  
&gt; &lt;content&gt; element is not a valid standalone XML document.  The fix  
&gt; is trivial though:
&gt; &lt;content type="application/vnd.google.gsx+xml"&gt;
&gt;  &lt;cell  xmlns="http://schemas.google.com/spreadsheets/2006/extended "&gt;
&gt;     &lt;type&gt;Question&lt;/gsx:type&gt;
&gt;     &lt;eid&gt;abcde&lt;/gsx:eid&gt;
&gt;     &lt;name&gt;John smith&lt;/gsx:name&gt;
&gt;     &lt;text&gt;how big is the ocean?&lt;/gsx:text&gt;
&gt;  &lt;/cell&gt;
&gt; &lt;/content&gt;
&gt;

Interesting. As far as XML processors are considered, these are  
equivalent. Any well-behaving app that is trying to strip an element  
out of a document will preserve namespaces irrespective of where in  
the element-hierarchy the namespace is declared. As far as Atom is  
concerned, the only requirement for content is that there be exactly  
one child element.

Subbu

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11665<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-12-03 17:37:18<br>
Subject:Re: [rest-discuss] Re: "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>On Dec 3, 2008, at 8:07 AM, Subbu Allamaraju wrote:

&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; This treats "extensions" are required elements, and that is a
&gt;&gt;&gt; dangerous approach. Extensions are "extensions".
&gt;&gt;
&gt;&gt; Yes and removing the extension would still make it a valid Atom
&gt;&gt; entry.  However, the specific application that you might submit it
&gt;&gt; to would reject it, because it requires the presence of the
&gt;&gt; extension, which feels like an acceptable compromise.
&gt;
&gt; But that is self-contradictory. Extensions are optional, and so, apps
&gt; can't reject documents with/without extensions. Using a media type
&gt; would at least give a clue to the receiving app that there is unknown
&gt; content in the entry.

Lovely...  my ideas are as popular as ever! :) Smiling aside.  How is  
this different than a server that allows you to upload XHTML  
documents, but only if it meets certain application specific  
constraints?  For example, it will only accept documents without  
spelling or grammatical errors.  Certainly, we're not going to  
introduce application/correct-spelling-xhtml+xml as a new media type.

Let's be practical here.  Servers may impose constraints upon standard  
(i.e. generic) media-types, because they forewent the creation of a  
more specialized media type.  This is the same discussion that has  
been occurring around IFaPs that are "application neutral, but not too  
neutral."

&gt;
&gt;
&gt;&gt; It would be interesting to examine this question further.  That
&gt;&gt; said, the above example has a minor issue as the content of
&gt;&gt; &lt;content&gt; element is not a valid standalone XML document.  The fix
&gt;&gt; is trivial though:
&gt;&gt; &lt;content type="application/vnd.google.gsx+xml"&gt;
&gt;&gt; &lt;cell  xmlns="http://schemas.google.com/spreadsheets/2006/extended "&gt;
&gt;&gt;    &lt;type&gt;Question&lt;/gsx:type&gt;
&gt;&gt;    &lt;eid&gt;abcde&lt;/gsx:eid&gt;
&gt;&gt;    &lt;name&gt;John smith&lt;/gsx:name&gt;
&gt;&gt;    &lt;text&gt;how big is the ocean?&lt;/gsx:text&gt;
&gt;&gt; &lt;/cell&gt;
&gt;&gt; &lt;/content&gt;
&gt;&gt;
&gt;
&gt; Interesting. As far as XML processors are considered, these are
&gt; equivalent. Any well-behaving app that is trying to strip an element
&gt; out of a document will preserve namespaces irrespective of where in
&gt; the element-hierarchy the namespace is declared. As far as Atom is
&gt; concerned, the only requirement for content is that there be exactly
&gt; one child element.

I would hope not!  Your version did not have the inner &lt;cell&gt;  
encapsulation, which means the contained document had multiple root  
elements when taken out of its envelope (or conversely &lt;content&gt; has  
more than one child element).

- Steve

--------------
Steve G. Bjorg
http://mindtouch.com
http://twitter.com/bjorg


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11666<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-12-03 17:40:22<br>
Subject:Re: [rest-discuss] Re: "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>On Dec 3, 2008, at 5:07 AM, Bill de hOra wrote:

&gt; Steve Bjorg wrote:
&gt;&gt; On Nov 24, 2008, at 11:37 AM, Subbu Allamaraju wrote:
&gt;&gt; &gt; This treats "extensions" are required elements, and that is a
&gt;&gt; &gt; dangerous approach. Extensions are "extensions".
&gt;&gt; Yes and removing the extension would still make it a valid Atom
&gt;&gt; entry. However, the specific application that you might submit it to
&gt;&gt; would reject it, because it requires the presence of the extension,
&gt;&gt; which feels like an acceptable compromise.
&gt;
&gt; I wouldn't recommend that approach. It makes systems unpredictable  
&gt; and needlessly complicated (forced upgrades on clients or legacy  
&gt; switching on servers). I think you'll also find it'll be hard to  
&gt; allocate bugs between clients and servers - IME formats that allow  
&gt; retroactive mustUnderstand cause social problems more than technical  
&gt; ones.


If someone were to rely on media-types to capture these constraints  
and the application evolves, should the media-type be versioned?

- Steve

--------------
Steve G. Bjorg
http://mindtouch.com
http://twitter.com/bjorg


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11667<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-03 19:06:24<br>
Subject:Re: [rest-discuss] Re: "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>
On Dec 3, 2008, at 9:37 AM, Steve Bjorg wrote:

&gt; On Dec 3, 2008, at 8:07 AM, Subbu Allamaraju wrote:
&gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; This treats "extensions" are required elements, and that is a
&gt; &gt;&gt;&gt; dangerous approach. Extensions are "extensions".
&gt; &gt;&gt;
&gt; &gt;&gt; Yes and removing the extension would still make it a valid Atom
&gt; &gt;&gt; entry. However, the specific application that you might submit it
&gt; &gt;&gt; to would reject it, because it requires the presence of the
&gt; &gt;&gt; extension, which feels like an acceptable compromise.
&gt; &gt;
&gt; &gt; But that is self-contradictory. Extensions are optional, and so,  
&gt; apps
&gt; &gt; can't reject documents with/without extensions. Using a media type
&gt; &gt; would at least give a clue to the receiving app that there is  
&gt; unknown
&gt; &gt; content in the entry.
&gt;
&gt; Lovely... my ideas are as popular as ever! :) Smiling aside. How is
&gt; this different than a server that allows you to upload XHTML
&gt; documents, but only if it meets certain application specific
&gt; constraints? For example, it will only accept documents without
&gt; spelling or grammatical errors. Certainly, we're not going to
&gt; introduce application/correct-spelling-xhtml+xml as a new media type.
&gt;
I think these are different. Applications can reject data for a  
variety of reasons. But missing extensions should not be a reason for  
that. For instance, consider an app that extends HTTP by accepting a  
custom HTTP header "X-Foo". If it then starts rejecting rejecting that  
do not supply this header, then it is breaking interop with a large  
number of clients.
&gt;
&gt;
&gt; I would hope not! Your version did not have the inner &lt;cell&gt;
Oops. I missed that. Thanks.

Subbu
---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11668<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-03 19:29:56<br>
Subject:Re: [rest-discuss] Re: "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>
On Dec 3, 2008, at 9:40 AM, Steve Bjorg wrote:

&gt; If someone were to rely on media-types to capture these constraints
&gt; and the application evolves, should the media-type be versioned?


Yes, if the "evolution" was incompatible.

Subbu
---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11669<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-12-03 20:15:22<br>
Subject:Re: [rest-discuss] Re: "Seaparating REST Facts from Fallacies"<br>
Message:<br><br>
<pre>Steve Bjorg wrote:
&gt; On Dec 3, 2008, at 5:07 AM, Bill de hOra wrote:
&gt; 
&gt;&gt; Steve Bjorg wrote:
&gt;&gt;&gt; On Nov 24, 2008, at 11:37 AM, Subbu Allamaraju wrote:
&gt;&gt;&gt; &gt; This treats "extensions" are required elements, and that is a
&gt;&gt;&gt; &gt; dangerous approach. Extensions are "extensions".
&gt;&gt;&gt; Yes and removing the extension would still make it a valid Atom
&gt;&gt;&gt; entry. However, the specific application that you might submit it to
&gt;&gt;&gt; would reject it, because it requires the presence of the extension,
&gt;&gt;&gt; which feels like an acceptable compromise.
&gt;&gt;
&gt;&gt; I wouldn't recommend that approach. It makes systems unpredictable and 
&gt;&gt; needlessly complicated (forced upgrades on clients or legacy switching 
&gt;&gt; on servers). I think you'll also find it'll be hard to allocate bugs 
&gt;&gt; between clients and servers - IME formats that allow retroactive 
&gt;&gt; mustUnderstand cause social problems more than technical ones.
&gt; 
&gt; 
&gt; If someone were to rely on media-types to capture these constraints and 
&gt; the application evolves, should the media-type be versioned?

I think so - if compliant code can't process the new version, either 
version the media type (via a type param) or mint a new media type.

Bill


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11670<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-03 20:19:27<br>
Subject:Re: [rest-discuss] Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>Hi Nick,

Thanks for elaborating.

&gt; Every industry has myriad master/reference data standards that are
&gt; "application neutral" aka "application generic". Contrast this with
&gt; enterprises or applications that use "application specific" product
&gt; identifiers, country identifiers, disease identifiers, business  
&gt; identifiers.

There are two things here.

One is an identifier a la atom:id, whose purpose is to uniquely  
identify the resource and remain the same. Unlike URIs, this ID is  
supposed to remain unchanged for the lifetime of the resource. On a  
related note, I think that every representation (whether using Atom or  
not) should include an "id" preferably encoded as a URN.

The second one is how such an identifier (if at all) is encoded into a  
URI.

In general, both are opaque to the client.

AFAIU, your description of "generic identifier" should be applied to  
the former and let other considerations influence the URI design.


&gt; The web has a longer way to go here (promoting generic identifiers).  
&gt; A good
&gt; start would be standard's body specifications for mapping from  
&gt; existing
&gt; coding schemes to official URL schemes. BTW, generic business  
&gt; protocols are

IMO, mapping such coding schemes into URIs is a bad idea. Apart from  
unique identifiers, URIs need to account for so many other things, and  
they need to evolve unconstrained. Moreover, in some cases, the  
association between a URI and a specific resource may get established  
at the request time, i.g., "http://example.org/popular/next".

On the other hand, I agree that using such codes as IDs of resources  
in representations is desirable in respective application domains.

&gt; is all about: Gall's General Principle of Serendipity: "Just as  
&gt; generality
&gt; of knowledge is the key to serendipitous discovery, generality of  
&gt; purpose is
&gt; the key to serendipitous (re)use."


Thanks. Will look at that thread.

Subbu
---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11671<br>
Sender:"ramsub4" &lt;ramsub4@...&gt;<br>
Post Date/Time:2008-12-03 21:30:12<br>
Subject:URI Format<br>
Message:<br><br>
<pre>In our application, the server is capable returning either JSON or
XML. JSON is the default. Now, if we want to access a resource, what
is the best way the client can specify the response format to the server?

  /endpoint/&lt;ep_id&gt;?format=XML  
or 
  /endpoint/&lt;ep_id/xml

What's the preferred way? Why?

Thanks,

-rama



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11672<br>
Sender:Berend de Boer &lt;berend@...&gt;<br>
Post Date/Time:2008-12-04 08:05:14<br>
Subject:Re: [rest-discuss] URI Format<br>
Message:<br><br>
<pre>&gt;&gt;&gt;&gt;&gt; "ramsub4" == ramsub4  &lt;ramsub4@...&gt; writes:

    ramsub4&gt; In our application, the server is capable returning either
    ramsub4&gt; JSON or XML. JSON is the default. Now, if we want to access
    ramsub4&gt; a resource, what is the best way the client can specify the
    ramsub4&gt; response format to the server?

    ramsub4&gt;   /endpoint/&lt;ep_id&gt;?format=XML or /endpoint/&lt;ep_id/xml

    ramsub4&gt; What's the preferred way? Why?

Use the Accept header.

-- 
Cheers,

Berend de Boer

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11673<br>
Sender:"Lawrence Oluyede" &lt;l.oluyede@...&gt;<br>
Post Date/Time:2008-12-04 09:30:52<br>
Subject:Re: [rest-discuss] URI Format<br>
Message:<br><br>
<pre>On Thu, Dec 4, 2008 at 9:05 AM, Berend de Boer &lt;berend@...&gt; wrote:
&gt;&gt;&gt;&gt;&gt;&gt; "ramsub4" == ramsub4  &lt;ramsub4@...&gt; writes:
&gt;
&gt;    ramsub4&gt; In our application, the server is capable returning either
&gt;    ramsub4&gt; JSON or XML. JSON is the default. Now, if we want to access
&gt;    ramsub4&gt; a resource, what is the best way the client can specify the
&gt;    ramsub4&gt; response format to the server?
&gt;
&gt;    ramsub4&gt;   /endpoint/&lt;ep_id&gt;?format=XML or /endpoint/&lt;ep_id/xml
&gt;
&gt;    ramsub4&gt; What's the preferred way? Why?
&gt;
&gt; Use the Accept header.

I think that the optimal is having both kinds. There are cases when
you cannot use the accept header.

-- 
Lawrence, www.neropercaso.it - oluyede.org
"It is difficult to get a man to understand
something when his salary depends on not
understanding it" - Upton Sinclair

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11674<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2008-12-04 11:40:47<br>
Subject:Re: [rest-discuss] URI Format<br>
Message:<br><br>
<pre>ramsub4 wrote:
&gt; In our application, the server is capable returning either JSON or
&gt; XML. JSON is the default. Now, if we want to access a resource, what
&gt; is the best way the client can specify the response format to the server?
&gt; 
&gt;   /endpoint/&lt;ep_id&gt;?format=XML  
&gt; or 
&gt;   /endpoint/&lt;ep_id/xml

Firstly, the client isn't going to know the URI until it receives the 
representation that contains the reference to it, so whatever URI is 
most convenient for the server will do fine. As far as the client is 
concerned either of those or indeed, /animal/crackers/in/my%20soup are 
all fine. Indeed, the client could be given a URI that is handled by a 
different server. The only URI the client will need a priori knowledge 
of is the "starting point", the resource that describes other relevant 
resources and lets the client make use of the application as a whole.

Is there any reason for the XML and JSON representations to be 
considered different resources? If not, then the client should just send 
an accept header giving its preferences.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11675<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-12-04 15:53:43<br>
Subject:[rest-for-beginners] group?<br>
Message:<br><br>
<pre>I've had an idea floated past me that I would like to get feedback on.

I suspect that many people come to [rest-discuss] with the hope of on-
boarding their knowledge of REST but finding many of our discussions 
very obtuse and 'theoretical'. Soon enough, they become disenchanted 
and wander off muttering about 'architects with their heads in the 
clouds' ... and, yes, the pun was intentional ;-)

The idea I would like to discuss is a [rest-for-beginners] group to be 
created, with a focus on practical answers to get people going with 
REST. Any discussions that head off into minutiae can be pushed over 
into this group for more in-depth discussion.

Thoughts?

Regards,
Alan Dean
http://twitter.com/adean



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11676<br>
Sender:"Colin Jack" &lt;colinjack@...&gt;<br>
Post Date/Time:2008-12-04 16:03:13<br>
Subject:[rest-for-beginners] group?<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, "Alan Dean" &lt;alan.dean@...&gt; wrote:
&gt;
&gt; I've had an idea floated past me that I would like to get feedback on.
&gt; 
&gt; I suspect that many people come to [rest-discuss] with the hope of on-
&gt; boarding their knowledge of REST but finding many of our discussions 
&gt; very obtuse and 'theoretical'. Soon enough, they become disenchanted 
&gt; and wander off muttering about 'architects with their heads in the 
&gt; clouds' ... and, yes, the pun was intentional ;-)
&gt; 
&gt; The idea I would like to discuss is a [rest-for-beginners] group to be 
&gt; created, with a focus on practical answers to get people going with 
&gt; REST. Any discussions that head off into minutiae can be pushed over 
&gt; into this group for more in-depth discussion.
&gt; 
&gt; Thoughts?
&gt; 
&gt; Regards,
&gt; Alan Dean
&gt; http://twitter.com/adean
&gt;

Yeah, as you know from our twitter discussions I think this would be a
very useful idea. 

At the moment getting your head around REST is quite difficult (few
enough good resources out there) and I'm not sure that this forum is
helping me learn REST as much as I'd have expected. 

So yeah a second forum seems a great idea.

- Colin


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11677<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-12-04 16:07:48<br>
Subject:Re: [rest-discuss] [rest-for-beginners] group?<br>
Message:<br><br>
<pre>Initially, rest-discuss was for beginners, and we had rest-advanced
for advanced topics.  That never caught on though, and I expect
rest-beginners would see a similar fate.

On Thu, Dec 4, 2008 at 10:53 AM, Alan Dean &lt;alan.dean@...&gt; wrote:
&gt; I've had an idea floated past me that I would like to get feedback on.
&gt;
&gt; I suspect that many people come to [rest-discuss] with the hope of on-
&gt; boarding their knowledge of REST but finding many of our discussions
&gt; very obtuse and 'theoretical'. Soon enough, they become disenchanted
&gt; and wander off muttering about 'architects with their heads in the
&gt; clouds' ... and, yes, the pun was intentional ;-)
&gt;
&gt; The idea I would like to discuss is a [rest-for-beginners] group to be
&gt; created, with a focus on practical answers to get people going with
&gt; REST. Any discussions that head off into minutiae can be pushed over
&gt; into this group for more in-depth discussion.
&gt;
&gt; Thoughts?
&gt;
&gt; Regards,
&gt; Alan Dean
&gt; http://twitter.com/adean
&gt;
&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11678<br>
Sender:"Colin Jack" &lt;colinjack@...&gt;<br>
Post Date/Time:2008-12-04 16:26:02<br>
Subject:Re: [rest-discuss] [rest-for-beginners] group?<br>
Message:<br><br>
<pre>&gt; Initially, rest-discuss was for beginners, and we had rest-advanced
&gt; for advanced topics.  That never caught on though, and I expect
&gt; rest-beginners would see a similar fate.

Normally I would think 2 forums would be counter-productive but as
someone whose been monitoring this forum for a few months (maybe more)
I'm really not sure its content that's written for people who are
relatively new to REST.

Perhaps the beginner/advanced discussions can sit happily in one forum
but my worry is that any beginner (or intermediate) discussions would
probably just end up mired in discussions of details.

The very detailed oriented discussions would probably be fine but from
what I've seen there is a lack of consistently good REST content out
there on the Web. Perhaps I'm wrong, I would at least say that it's
difficult to identify the good content and furthermore some of the
best content isn't really written to be accessible to those who
haven't been using REST for quite some time. So getting to the point
where you can actually get value from the discussions you guys are
having is pretty difficult.

I'm sure the same is true for other forums, but I've found that in
general they find a happy balance (often helped by having
authoritative detailed resources that beginners can be pointed at).

Personally I'm sold on many of the ideas of REST and I find the
approach very interesting, so I want to move on to having discussions
of topics like resource/mime type design but I'm not sure this forum
is really setup for that.

- Colin


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11679<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-12-04 16:30:35<br>
Subject:Re: [rest-discuss] [rest-for-beginners] group?<br>
Message:<br><br>
<pre>Mark,

Perhaps it would work better now as we have a very different audience
expressing an interest in REST.

With Microsoft pushing REST on Azure and off WCF, there are a whole
bunch of LoB developers who want to figure out what this new thing (to
them) is all about. Many of that audience don't have the time or
inclination to deep-dive on REST - they are looking for quick 'n'
dirty answers.

What caused the failure of the [rest-advanced] / [rest-discuss]
differentiation back then? Lack of interest? Lack of clear separation?
Some other issue?

Alan

On Thu, Dec 4, 2008 at 4:07 PM, Mark Baker &lt;distobj@...&gt; wrote:
&gt; Initially, rest-discuss was for beginners, and we had rest-advanced
&gt; for advanced topics.  That never caught on though, and I expect
&gt; rest-beginners would see a similar fate.
&gt;
&gt; On Thu, Dec 4, 2008 at 10:53 AM, Alan Dean &lt;alan.dean@...&gt; wrote:
&gt;&gt; I've had an idea floated past me that I would like to get feedback on.
&gt;&gt;
&gt;&gt; I suspect that many people come to [rest-discuss] with the hope of on-
&gt;&gt; boarding their knowledge of REST but finding many of our discussions
&gt;&gt; very obtuse and 'theoretical'. Soon enough, they become disenchanted
&gt;&gt; and wander off muttering about 'architects with their heads in the
&gt;&gt; clouds' ... and, yes, the pun was intentional ;-)
&gt;&gt;
&gt;&gt; The idea I would like to discuss is a [rest-for-beginners] group to be
&gt;&gt; created, with a focus on practical answers to get people going with
&gt;&gt; REST. Any discussions that head off into minutiae can be pushed over
&gt;&gt; into this group for more in-depth discussion.
&gt;&gt;
&gt;&gt; Thoughts?
&gt;&gt;
&gt;&gt; Regards,
&gt;&gt; Alan Dean
&gt;&gt; http://twitter.com/adean

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11680<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-04 16:34:21<br>
Subject:Re: [rest-discuss] [rest-for-beginners] group?<br>
Message:<br><br>
<pre>Alan - do you feel that beginner questions will be left unanswered, or  
that they will be swamped with advanced threads?

Subbu
On Dec 4, 2008, at 7:53 AM, Alan Dean wrote:

&gt; I've had an idea floated past me that I would like to get feedback on.
&gt;
&gt; I suspect that many people come to [rest-discuss] with the hope of on-
&gt; boarding their knowledge of REST but finding many of our discussions
&gt; very obtuse and 'theoretical'. Soon enough, they become disenchanted
&gt; and wander off muttering about 'architects with their heads in the
&gt; clouds' ... and, yes, the pun was intentional ;-)
&gt;
&gt; The idea I would like to discuss is a [rest-for-beginners] group to be
&gt; created, with a focus on practical answers to get people going with
&gt; REST. Any discussions that head off into minutiae can be pushed over
&gt; into this group for more in-depth discussion.
&gt;
&gt; Thoughts?
&gt;
&gt; Regards,
&gt; Alan Dean
&gt; http://twitter.com/adean
&gt;
&gt;

---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11681<br>
Sender:Todd W Lainhart &lt;lainhart@...&gt;<br>
Post Date/Time:2008-12-04 16:34:30<br>
Subject:Re: URI Format<br>
Message:<br><br>
<pre> ramsub4&gt; What's the preferred way? Why?

Use the Accept header.

In general, agreed.  However, if there's a human typing the URL into (say) 
a browser, it can useful to put the accept value as a query parameter 
value.  I do that for diagnostic purposes.
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11682<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-12-04 16:38:01<br>
Subject:Re: [rest-discuss] [rest-for-beginners] group?<br>
Message:<br><br>
<pre>On Thu, Dec 4, 2008 at 11:30 AM, Alan Dean &lt;alan.dean@...&gt; wrote:
&gt; Mark,
&gt;
&gt; Perhaps it would work better now as we have a very different audience
&gt; expressing an interest in REST.
&gt;
&gt; With Microsoft pushing REST on Azure and off WCF, there are a whole
&gt; bunch of LoB developers who want to figure out what this new thing (to
&gt; them) is all about. Many of that audience don't have the time or
&gt; inclination to deep-dive on REST - they are looking for quick 'n'
&gt; dirty answers.
&gt;
&gt; What caused the failure of the [rest-advanced] / [rest-discuss]
&gt; differentiation back then? Lack of interest? Lack of clear separation?
&gt; Some other issue?

The "newbies" didn't mind listening in on the (very) occasional
advanced topic, and the gurus didn't mind answering newbie questions.
I haven't seen any evidence that either group's attitude has changed.

If somebody wants to create the group though, feel free, I can't stop you.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11683<br>
Sender:"Colin Jack" &lt;colinjack@...&gt;<br>
Post Date/Time:2008-12-04 16:44:27<br>
Subject:Re: [rest-discuss] [rest-for-beginners] group?<br>
Message:<br><br>
<pre>&gt; Many of that audience don't have the time or inclination to 
&gt; deep-dive on REST - they are looking for quick 'n' dirty answers.

There probably is that, but even if you do want to deep-dive it is
quite difficult. 

In my case I'm on my second read of RESTful WS, have read ridiculous
amounts of Web pages/forum posts but if you sat me down and said
"right, how will we design our resources" I'd have very little expert
content to go on (it's obviously relatively easy for simple
situations, but even in that case in one day you managed to get me
rethinking my assumptions). 

Truth is trying to deep-dive with REST right now is not that easy,
which leaves me with a lot of respect for those of you who have
managed it.

P.S Sorry my replies are not being added correctly, for some reason if
I reply directly it doesn't make it to the forum so I have to use the
Post option on the left hand bar. No idea why.

- Colin


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11684<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2008-12-04 16:49:50<br>
Subject:Re: [rest-discuss] [rest-for-beginners] group?<br>
Message:<br><br>
<pre>Alan Dean wrote:
&gt; What caused the failure of the [rest-advanced] / [rest-discuss]
&gt; differentiation back then? Lack of interest? Lack of clear separation?
&gt; Some other issue?

Network effects?


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11685<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-12-04 16:55:16<br>
Subject:Re: [rest-discuss] [rest-for-beginners] group?<br>
Message:<br><br>
<pre>More like a beginner asks a question and gets an advanced answer which
leaves them feeling stupid and/or frustrated.

Alan

On Thu, Dec 4, 2008 at 4:34 PM, Subbu Allamaraju &lt;subbu@...&gt; wrote:
&gt; Alan - do you feel that beginner questions will be left unanswered, or that
&gt; they will be swamped with advanced threads?
&gt;
&gt; Subbu
&gt; On Dec 4, 2008, at 7:53 AM, Alan Dean wrote:
&gt;
&gt;&gt; I've had an idea floated past me that I would like to get feedback on.
&gt;&gt;
&gt;&gt; I suspect that many people come to [rest-discuss] with the hope of on-
&gt;&gt; boarding their knowledge of REST but finding many of our discussions
&gt;&gt; very obtuse and 'theoretical'. Soon enough, they become disenchanted
&gt;&gt; and wander off muttering about 'architects with their heads in the
&gt;&gt; clouds' ... and, yes, the pun was intentional ;-)
&gt;&gt;
&gt;&gt; The idea I would like to discuss is a [rest-for-beginners] group to be
&gt;&gt; created, with a focus on practical answers to get people going with
&gt;&gt; REST. Any discussions that head off into minutiae can be pushed over
&gt;&gt; into this group for more in-depth discussion.
&gt;&gt;
&gt;&gt; Thoughts?
&gt;&gt;
&gt;&gt; Regards,
&gt;&gt; Alan Dean
&gt;&gt; http://twitter.com/adean
&gt;&gt;
&gt;&gt;
&gt;
&gt; ---
&gt; http://subbu.org
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11686<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-12-04 16:58:17<br>
Subject:Re: [rest-discuss] [rest-for-beginners] group?<br>
Message:<br><br>
<pre>Mark,

I did not post to get permission. Obviously I can set up a new group
any time I choose to. It was more to see what the collective wisdom of
the group thought.

It's altogether possible that someone has an idea that meets the
objective better and if so then that is what should be done.

Alan

On Thu, Dec 4, 2008 at 4:38 PM, Mark Baker &lt;distobj@...&gt; wrote:
&gt; On Thu, Dec 4, 2008 at 11:30 AM, Alan Dean &lt;alan.dean@...&gt; wrote:
&gt;&gt; Mark,
&gt;&gt;
&gt;&gt; Perhaps it would work better now as we have a very different audience
&gt;&gt; expressing an interest in REST.
&gt;&gt;
&gt;&gt; With Microsoft pushing REST on Azure and off WCF, there are a whole
&gt;&gt; bunch of LoB developers who want to figure out what this new thing (to
&gt;&gt; them) is all about. Many of that audience don't have the time or
&gt;&gt; inclination to deep-dive on REST - they are looking for quick 'n'
&gt;&gt; dirty answers.
&gt;&gt;
&gt;&gt; What caused the failure of the [rest-advanced] / [rest-discuss]
&gt;&gt; differentiation back then? Lack of interest? Lack of clear separation?
&gt;&gt; Some other issue?
&gt;
&gt; The "newbies" didn't mind listening in on the (very) occasional
&gt; advanced topic, and the gurus didn't mind answering newbie questions.
&gt; I haven't seen any evidence that either group's attitude has changed.
&gt;
&gt; If somebody wants to create the group though, feel free, I can't stop you.
&gt;
&gt; Mark.
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11687<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-04 17:01:54<br>
Subject:Re: [rest-discuss] Re: URI Format<br>
Message:<br><br>
<pre>This topic was discussed extensively few months ago and possibly  
several times before that. Here is my summary

1. Do server-driven negotiation, i.e. using Accept* headers, and don't  
forget to include a Vary header.

2. If needed (e.g. for the browser scenario you mention), support  
agent-driven negotiation, i.e., by publishing media type specific URIs

3. Be aware of caching implications of (2) when the resource is read- 
write.

4. If you are supporting both (1) and (2), when a client submits a  
request with negotiation headers as in (1), return a Content-Location  
header with a value containing media-type specific URI (such http://blah.org/blahbhal?format=xml)

Subbu

PS: Conneg may be overrated. Although I see APIs serving XML and JSON,  
there is no reason to always support multiple formats. It all depends  
on the use cases and clientele.

On Dec 4, 2008, at 8:34 AM, Todd W Lainhart wrote:

&gt; ramsub4&gt; What's the preferred way? Why?
&gt;
&gt; Use the Accept header.
&gt;
&gt; In general, agreed.  However, if there's a human typing the URL into  
&gt; (say)
&gt; a browser, it can useful to put the accept value as a query parameter
&gt; value.  I do that for diagnostic purposes.

---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11688<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-12-04 17:02:03<br>
Subject:Re: [rest-discuss] [rest-for-beginners] group?<br>
Message:<br><br>
<pre>I should also say that if I engage with the group before dashing off
and doing it then I believe that I am more likely to get support and
engagement in return.

Without the support of at least a reasonable proportion of the
participants in [rest-discuss] then I doubt it would work anyway.

Alan

On Thu, Dec 4, 2008 at 4:58 PM, Alan Dean &lt;alan.dean@...&gt; wrote:
&gt; Mark,
&gt;
&gt; I did not post to get permission. Obviously I can set up a new group
&gt; any time I choose to. It was more to see what the collective wisdom of
&gt; the group thought.
&gt;
&gt; It's altogether possible that someone has an idea that meets the
&gt; objective better and if so then that is what should be done.
&gt;
&gt; Alan
&gt;
&gt; On Thu, Dec 4, 2008 at 4:38 PM, Mark Baker &lt;distobj@...&gt; wrote:
&gt;&gt; On Thu, Dec 4, 2008 at 11:30 AM, Alan Dean &lt;alan.dean@...&gt; wrote:
&gt;&gt;&gt; Mark,
&gt;&gt;&gt;
&gt;&gt;&gt; Perhaps it would work better now as we have a very different audience
&gt;&gt;&gt; expressing an interest in REST.
&gt;&gt;&gt;
&gt;&gt;&gt; With Microsoft pushing REST on Azure and off WCF, there are a whole
&gt;&gt;&gt; bunch of LoB developers who want to figure out what this new thing (to
&gt;&gt;&gt; them) is all about. Many of that audience don't have the time or
&gt;&gt;&gt; inclination to deep-dive on REST - they are looking for quick 'n'
&gt;&gt;&gt; dirty answers.
&gt;&gt;&gt;
&gt;&gt;&gt; What caused the failure of the [rest-advanced] / [rest-discuss]
&gt;&gt;&gt; differentiation back then? Lack of interest? Lack of clear separation?
&gt;&gt;&gt; Some other issue?
&gt;&gt;
&gt;&gt; The "newbies" didn't mind listening in on the (very) occasional
&gt;&gt; advanced topic, and the gurus didn't mind answering newbie questions.
&gt;&gt; I haven't seen any evidence that either group's attitude has changed.
&gt;&gt;
&gt;&gt; If somebody wants to create the group though, feel free, I can't stop you.
&gt;&gt;
&gt;&gt; Mark.
&gt;&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11689<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-12-04 17:01:06<br>
Subject:Re: [rest-discuss] [rest-for-beginners] group?<br>
Message:<br><br>
<pre>On Dec 4, 2008, at 7:53 AM, Alan Dean wrote:

&gt; The idea I would like to discuss is a [rest-for-beginners] group to be
&gt; created, with a focus on practical answers to get people going with
&gt; REST. Any discussions that head off into minutiae can be pushed over
&gt; into this group for more in-depth discussion.

 From experience, I've seen that splitting a forum into two only makes  
sense when the forum in inundated with requests of a certain kind.   
Then the split acts as a specialization for those care and avoids  
distracting those who don't.

This principle has been applied to our company forums, which have  
grown to a bit over 20,000 posts in the last two years, and it has  
worked great.  Early on we did make the mistake of pre-categorizing  
things early and it just caused confusion and isolation.  Building it  
in the hope that they come has not worked in practice.

- Steve

--------------
Steve G. Bjorg
http://mindtouch.com
http://twitter.com/bjorg


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11690<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2008-12-04 17:05:08<br>
Subject:Re: [rest-discuss] [rest-for-beginners] group?<br>
Message:<br><br>
<pre>Alternatively, people in this list could exercise a little more
self-discipline when replying to beginners.

Or to each other.  Recent threads have gone on forever with circular
arguments about arcana.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11691<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-12-04 17:08:04<br>
Subject:Re: [rest-discuss] [rest-for-beginners] group?<br>
Message:<br><br>
<pre>On Dec 4, 2008, at 8:58 AM, Alan Dean wrote:

&gt; It's altogether possible that someone has an idea that meets the
&gt; objective better and if so then that is what should be done.


That was one of the reasons why I had started http:// 
restpatterns.org/ .  There were some early contributions, but  
otherwise I've been pretty much the lonely occasional contributor.   
Hence, it has taken on a characteristic that suits my needs more than  
anybody else's.  That said, I find it highly useful. :)

We've all blogged about REST this-and-that, but we haven't pooled  
together our collective resources to build a reference site.   
Capturing responses and/or blog posts where some individuals have put  
a lot of effort into and making it easy to find them again and  
reference them would probably help at lot.  Just my 2 cents.

- Steve

--------------
Steve G. Bjorg
http://mindtouch.com
http://twitter.com/bjorg


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11692<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-12-04 17:22:46<br>
Subject:Re: [rest-discuss] [rest-for-beginners] group?<br>
Message:<br><br>
<pre>On Dec 4, 2008, at 9:05 AM, Bob Haugen wrote:

&gt; Alternatively, people in this list could exercise a little more
&gt; self-discipline when replying to beginners.
&gt;
&gt; Or to each other.  Recent threads have gone on forever with circular
&gt; arguments about arcana.


No doubt I'm part of the culprits, but what do you expect?  Questions  
such as about URI construction have been beaten to death (at least  
since I joined).  Furthermore, there are very different opinions on  
the matter on this discussion list.  So anyone who proposes something  
with specificity will probably get a rebuttal.  Also, if the response  
only required posting a link to a community wiki page rather than  
reviving an entire discussion, then it would also be more likely that  
one of us would help.

- Steve

--------------
Steve G. Bjorg
http://mindtouch.com
http://twitter.com/bjorg


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11693<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-12-04 17:30:19<br>
Subject:Re: [rest-discuss] [rest-for-beginners] group?<br>
Message:<br><br>
<pre>My suspicion (and that's all it is) is that many people (me included)
tend to regard wiki's as storing definitive information rather than
being a forum for discussion. Maybe this is partly why the
http://restpatterns.org/ wiki hasn't seen significant acceptance (not
intended to be a loaded word but another doesn't jump to mind). The
other side of the wiki question may be that people regard their blogs
as the right place to publish stuff that they author.

Maybe there is an ancillary question to my group proposal: How do we
improve the experience of REST beginners?

Bob Haugan just said:

"Alternatively, people in this list could exercise a little more
self-discipline when replying to beginners.

Or to each other. Recent threads have gone on forever with circular
arguments about arcana."

To me, this drives to the nub of the matter. Is it realistic to expect
this group to significantly change it's modus operandi? Referring back
to the comments from Mark Baker, I wonder if [rest-discuss] actually
hosts the discussions originally intended for [rest-advanced]. I
strongly suspect that we have historically served beginners very
poorly and I am not at all sure that this is likely to change (if, for
no other reason, that there needs to be a home for advanced
discussions).

So, how do we serve beginners better? I imagine that we all want those
who seek to on-board to REST to be facilitated in doing so.

Alan

On Thu, Dec 4, 2008 at 5:08 PM, Steve Bjorg &lt;steveb@...&gt; wrote:
&gt; On Dec 4, 2008, at 8:58 AM, Alan Dean wrote:
&gt;
&gt;&gt; It's altogether possible that someone has an idea that meets the
&gt;&gt; objective better and if so then that is what should be done.
&gt;
&gt;
&gt; That was one of the reasons why I had started http://restpatterns.org/ .
&gt;  There were some early contributions, but otherwise I've been pretty much
&gt; the lonely occasional contributor.  Hence, it has taken on a characteristic
&gt; that suits my needs more than anybody else's.  That said, I find it highly
&gt; useful. :)
&gt;
&gt; We've all blogged about REST this-and-that, but we haven't pooled together
&gt; our collective resources to build a reference site.  Capturing responses
&gt; and/or blog posts where some individuals have put a lot of effort into and
&gt; making it easy to find them again and reference them would probably help at
&gt; lot.  Just my 2 cents.
&gt;
&gt; - Steve
&gt;
&gt; --------------
&gt; Steve G. Bjorg
&gt; http://mindtouch.com
&gt; http://twitter.com/bjorg
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11695<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-12-04 18:02:34<br>
Subject:Re: [rest-discuss] [rest-for-beginners] group?<br>
Message:<br><br>
<pre>On Dec 4, 2008, at 9:30 AM, Alan Dean wrote:

&gt; My suspicion (and that's all it is) is that many people (me included)
&gt; tend to regard wiki's as storing definitive information rather than
&gt; being a forum for discussion.

A wiki page is merely a piece of captured knowledge at a given time.   
Similar to a published article.  But the benefit of the wiki page is  
that it's malleable and can morph over time while preserving the  
original URI and therefore any references issued to it.

That said, a wiki page is a terrible place to have a discussion.   
That's what page comments or mailing lists are for.

&gt; Maybe this is partly why the
&gt; http://restpatterns.org/ wiki hasn't seen significant acceptance (not
&gt; intended to be a loaded word but another doesn't jump to mind). The
&gt; other side of the wiki question may be that people regard their blogs
&gt; as the right place to publish stuff that they author.

Yes, that's one of the problems.  Everybody wants to be the next Jesse  
James Garret and only publish knowledge on their blog so they can  
claim credit for it.  As long as that mentality persists, there is not  
going to be a collective reference, which is a loss for all of us,  
imo.  Alternatively, once an idea has evolved enough from a personal  
blog into a piece of insight, why not re-publish it on the wiki site  
with a link on this mailing list for all to know about?

The other problem is that there has been no effort put into focusing  
our collective capabilities.  If we wanted to pool together our  
knowledge, we could get organized easily.  Question is, who is willing  
to participate?

&gt; So, how do we serve beginners better? I imagine that we all want those
&gt; who seek to on-board to REST to be facilitated in doing so.


I'm all for serving beginners better, but I suspect if a new list were  
started, only the first few posters would be well served while the  
novelty of the new mailing list is still fresh.  As the same questions  
come up again, the responses to them will become shorter and shorter.

A great example of this was the recent response of using an Accept  
header to influence the representation sent by the browser rather than  
to use ?format=XML or /xml in the URI.  The response was accurate, but  
without further context, rather useless.

How long until the new mailing list for beginners will end up in the  
same spot?  If we don't capture the outcome of long discussions, we're  
either bound to repeat them or we've only helped ourselves.

- Steve

--------------
Steve G. Bjorg
http://mindtouch.com
http://twitter.com/bjorg


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11696<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-04 18:12:29<br>
Subject:Re: [rest-discuss] [rest-for-beginners] group?<br>
Message:<br><br>
<pre>
On Dec 4, 2008, at 10:02 AM, Steve Bjorg wrote:

&gt; Everybody wants to be the next Jesse
&gt; James Garret and only publish knowledge on their blog so they can
&gt; claim credit for it.


That's an interesting statement!

Subbu

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11697<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2008-12-04 19:33:14<br>
Subject:Re: [rest-discuss] [rest-for-beginners] group?<br>
Message:<br><br>
<pre>On Thu, Dec 4, 2008 at 11:22 AM, Steve Bjorg &lt;steveb@...&gt; wrote:
&gt; On Dec 4, 2008, at 9:05 AM, Bob Haugen wrote:
&gt;
&gt;&gt; Alternatively, people in this list could exercise a little more
&gt;&gt; self-discipline when replying to beginners.
&gt;&gt;
&gt;&gt; Or to each other. Recent threads have gone on forever with circular
&gt;&gt; arguments about arcana.
&gt;
&gt; No doubt I'm part of the culprits, but what do you expect? Questions
&gt; such as about URI construction have been beaten to death (at least
&gt; since I joined). Furthermore, there are very different opinions on
&gt; the matter on this discussion list. So anyone who proposes something
&gt; with specificity will probably get a rebuttal. Also, if the response
&gt; only required posting a link to a community wiki page rather than
&gt; reviving an entire discussion, then it would also be more likely that
&gt; one of us would help.

I wasn't naming names.  And those are all good suggestions.

A few more suggestions:

* When you see a thread turn into a circular argument (with two or
more people just restating the same arguments over and over), put it
out of its misery, possibly by invoking some new variant of Godwin's
Law.  Or at least do not state your same opinion one more time.

* If it's a permathread, refer back to a previous instance instead of
continuing the current one.

* If the question is from a beginner, be nice and explain more.

But those are all obvious, too.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11698<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-12-04 21:40:52<br>
Subject:Re: [rest-discuss] [rest-for-beginners] group?<br>
Message:<br><br>
<pre>Taking on board the feedback from Mark that a separate discussion
group hasn't worked in the past and the feedback from Steve that
perhaps the group doesn't take enough traffic to warrant a split I
have an alternative idea to put forward for discussion:

1. Start a brand new forum targeted at beginners and surface it at
http://forums.restpatterns.org (this forum should have the ability to
internally link new questions to old answers and the ability to mark a
question as 'answered')

2. [rest-discuss] keeps going in the same way as before - any linking
between forums and [rest-discuss] to be done manually (either raising
a question from the forum into [rest-discuss] or referencing a
previous discussion on [rest-discuss] in a forum q&amp;a item)

3. Bonus points for ability to auto-link forum item tags to wiki
entries on http://restpatterns.org/

The idea is to provide an environment where beginners can go to 'get
questions answered'. It may also make sense to send
technology-specific questions to the forum as well, leaving
[rest-discuss] to be a more architectural discussion group.

Is this a better idea than [rest-for-beginners]? Would participants on
this group engage with the forums? I don't mind handling .NET-specific
questions, for example.

If you think it is a good idea - does anyone know of forums providers
that we could use for this purpose?

Are there other ideas that might be better than either
http://forums.restpatterns.org or [rest-for-beginners]?

Regards,
Alan Dean
http://twitter.com/adean

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11699<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-12-04 22:09:12<br>
Subject:Re: [rest-discuss] Gartner note on WOA (Web-Oriented Architecture) just published<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11700<br>
Sender:Mike &lt;mike@...&gt;<br>
Post Date/Time:2008-12-05 11:04:14<br>
Subject:Re: [rest-discuss] Re: URI Format<br>
Message:<br><br>
<pre>Subbu Allamaraju wrote:
&gt; This topic was discussed extensively few months ago and possibly  
&gt; several times before that. Here is my summary
&gt;
&gt; 1. Do server-driven negotiation, i.e. using Accept* headers, and don't  
&gt; forget to include a Vary header.
&gt;
&gt; 2. If needed (e.g. for the browser scenario you mention), support  
&gt; agent-driven negotiation, i.e., by publishing media type specific URIs
&gt;   

The browser scenario, to me, isn't a legitimate scenario. If a user is 
opening a URI with an UA for rendering HTML (like a browser), it should 
be retrieving the HTML representation (as specified by a browser's 
default Accept header).
If the user requires the pdf representation, they should be opening the 
URI in a pdf reading UA (which should also be specified in its default 
Accept header).

Why should every request a user makes to a URI have to go via the browser?

Having said that:

There could be cases where an HTML GUI might wish to link the user's 
browser to another representation (that is not HTML) at a given URI. 
This would require over-riding the browser default Accept header for 
that request; something that is not currently supported in markup. 
Because this over-ride is not supported, the only way to prevent the 
browser inappropriately requesting the default HTML is to create a 
specific URI for each representation - e.g . /foo.xml or 
/foo?type=application/xml

i.e. &lt;a href="/foo.xml"&gt;foo in xml&lt;/a&gt;

Creating extra URIs for individual representations this way can be 
avoided, and the distinction between resources and representations kept 
consistent, if the markup were to provide a standardized way to specify 
the appropriate Accept* headers  for a given hyperlink like so:

&lt;a href="/foo" accept="application/xml"&gt;foo in xml&lt;/a&gt;

Why can't agent-driven negotiation leverage the Accept headers?

&gt; 3. Be aware of caching implications of (2) when the resource is read- 
&gt; write.
&gt;   

This seems to me to be a very good reason not address representations at 
a different URI, because of these problems it creates.
That, of course, assumes that the document in question is correctly 
identified as a representation and is not actually a separate resource.
If it is a separate resource then it definitely needs its own URI, and 
caching should not be a concern here.


&gt; 4. If you are supporting both (1) and (2), when a client submits a  
&gt; request with negotiation headers as in (1), return a Content-Location  
&gt; header with a value containing media-type specific URI (such http://blah.org/blahbhal?format=xml)
&gt;   

This works but, as you have admitted in your third point, it creates an 
ambiguous distinction between resources and representations, and 
therefore the significance of a URI. This forces intermediaries to be 
aware of your application/implementation; is that considered a kind of 
coupling?

What I mean by this is that it is not clear to intermediaries whether 
/foo and /foo.xml and /foo.doc are the same or separate resources, and 
this can only be assumed once the intermediary is taught the specifics 
of your implementation.
There is also ambiguity in how this URI -based conneg is actually 
implemented because xyz application may use this dot notation, but abc 
application may use something like /foo?type=xml or 
/foo?accept=application/xml

&gt; PS: Conneg may be overrated. Although I see APIs serving XML and JSON,  
&gt; there is no reason to always support multiple formats. It all depends  
&gt; on the use cases and clientele.
&gt;   

I don't agree that it's over rated, I think it's extremely important. 
Having a design which minimizes the costs involved in extending the 
formats you support and keeping this out of the URI design gives you 
optimal flexibility.

Regards,
Mike

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11701<br>
Sender:Simon Reinhardt &lt;simon.reinhardt@...&gt;<br>
Post Date/Time:2008-12-05 11:47:35<br>
Subject:Re: [rest-discuss] Re: URI Format<br>
Message:<br><br>
<pre>Todd W Lainhart wrote:
&gt; &gt; &gt; What's the preferred way? Why?
&gt; 
&gt; &gt; Use the Accept header.
&gt; 
&gt; In general, agreed.  However, if there's a human typing the URL into 
&gt; (say) a browser, it can useful to put the accept value as a query 
&gt; parameter value.  I do that for diagnostic purposes.

From a technical point of view the URI format is irrelevant. But to fulfil user expectations it might be useful to follow the standard way media types are indicated and just use ".xml" and ".json".
This can be implemented in a hybrid approach:
Use /xyz/&lt;id&gt; as a generic URI [1] which is capable of doing content negotiation using the Accept header. The reply will contain the Content-Location header to point to a specific URI indicating the format that was actually used: /xyz/&lt;id&gt;.xml for example.
In the returned document you might want to provide links to the other varieties as well to allow easy discovery (in HTML that would be done with &lt;link&gt;).

[1] http://www.w3.org/DesignIssues/Generic.html

Simon

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11702<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-12-05 12:21:51<br>
Subject:Re: [rest-discuss] [rest-for-beginners] group?<br>
Message:<br><br>
<pre>I don't really think there's a problem with the current focus of the  
group. I don't feel newbies don't get answers to their questions here.  
And if there were a rest-beginner group, those who answer questions  
would start arguing about their respective answers.

If we care about beginners getting good answers, I suggest we simply  
try to provide them here.

It might also make sense to do a little editorial work on the FAQ and  
link to it more often:
http://rest.blueoxen.net/cgi-bin/wiki.pl?RestFaq

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/




On 04.12.2008, at 22:40, Alan Dean wrote:

&gt; Taking on board the feedback from Mark that a separate discussion
&gt; group hasn't worked in the past and the feedback from Steve that
&gt; perhaps the group doesn't take enough traffic to warrant a split I
&gt; have an alternative idea to put forward for discussion:
&gt;
&gt; 1. Start a brand new forum targeted at beginners and surface it at
&gt; http://forums.restpatterns.org (this forum should have the ability to
&gt; internally link new questions to old answers and the ability to mark a
&gt; question as 'answered')
&gt;
&gt; 2. [rest-discuss] keeps going in the same way as before - any linking
&gt; between forums and [rest-discuss] to be done manually (either raising
&gt; a question from the forum into [rest-discuss] or referencing a
&gt; previous discussion on [rest-discuss] in a forum q&amp;a item)
&gt;
&gt; 3. Bonus points for ability to auto-link forum item tags to wiki
&gt; entries on http://restpatterns.org/
&gt;
&gt; The idea is to provide an environment where beginners can go to 'get
&gt; questions answered'. It may also make sense to send
&gt; technology-specific questions to the forum as well, leaving
&gt; [rest-discuss] to be a more architectural discussion group.
&gt;
&gt; Is this a better idea than [rest-for-beginners]? Would participants on
&gt; this group engage with the forums? I don't mind handling .NET-specific
&gt; questions, for example.
&gt;
&gt; If you think it is a good idea - does anyone know of forums providers
&gt; that we could use for this purpose?
&gt;
&gt; Are there other ideas that might be better than either
&gt; http://forums.restpatterns.org or [rest-for-beginners]?
&gt;
&gt; Regards,
&gt; Alan Dean
&gt; http://twitter.com/adean
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11703<br>
Sender:dev &lt;dev.akhawe@...&gt;<br>
Post Date/Time:2008-12-05 12:40:03<br>
Subject:Re: [rest-discuss] Re: URI Format<br>
Message:<br><br>
<pre>Hi

And additionally, from a techinical viewpoint, there is no difference between

resource?type=application/xml
&amp;
resource.xml

and the latter (imho) is much more readable. Thus I would suggest
going for the latter instead of a query parameter approach.

(I think Simon was already saying this, but I thought I should make it
very clear)

Mike : Please stick to the correct thread
http://tech.groups.yahoo.com/group/rest-discuss/message/11508. If you
wanted to reiterate what you said, you could have just added a link to
the same instead of a long message.



Cheers
Devdatta

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11704<br>
Sender:Mike &lt;mike@...&gt;<br>
Post Date/Time:2008-12-05 12:45:57<br>
Subject:Re: [rest-discuss] Re: URI Format<br>
Message:<br><br>
<pre>dev wrote:
&gt; Mike : Please stick to the correct thread
&gt; http://tech.groups.yahoo.com/group/rest-discuss/message/11508. If you
&gt; wanted to reiterate what you said, you could have just added a link to
&gt; the same instead of a long message.
&gt;   

It seemed relevant to this discussion. Are you an admin?

Regards,
Mike

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11705<br>
Sender:"Ed Summers" &lt;ehs@...&gt;<br>
Post Date/Time:2008-12-05 13:42:45<br>
Subject:Re: [rest-discuss] [rest-for-beginners] group?<br>
Message:<br><br>
<pre>On Fri, Dec 5, 2008 at 7:21 AM, Stefan Tilkov &lt;stefan.tilkov@...&gt; wrote:
&gt; I don't really think there's a problem with the current focus of the
&gt; group. I don't feel newbies don't get answers to their questions here.
&gt; And if there were a rest-beginner group, those who answer questions
&gt; would start arguing about their respective answers.
&gt;
&gt; If we care about beginners getting good answers, I suggest we simply
&gt; try to provide them here.

I agree. I consider myself a REST beginner and I like seeing the
advanced discussion on here. I've found the discussion to be helpful,
informative and friendly.

That being said I would love to see the http://restpatterns.org wiki
(or something like it) used more.I think it would be valuable to write
up strawman proposals, ideas, patterns etc on the wiki to center
discussion on here -- similar to how the AtomPub folks used their wiki
and Paces to center discussion about AtomPub. Perhaps what's missing
from restpatterns is something that connects the wiki with this
discussion list community, something like:

  http://www.intertwingly.net/wiki/pie/HowToGetInvolved

As for web forums, don't we kind of have one already?

  http://tech.groups.yahoo.com/group/rest-discuss/

//Ed

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11706<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2008-12-05 14:46:11<br>
Subject:Re: [rest-discuss] Re: URI Format<br>
Message:<br><br>
<pre>Mike wrote:
&gt; Creating extra URIs for individual representations this way can be 
&gt; avoided, and the distinction between resources and representations kept 
&gt; consistent, if the markup were to provide a standardized way to specify 
&gt; the appropriate Accept* headers  for a given hyperlink like so:

This does not keep the distinction between resources and representations 
consistent, since with any RESTful system we link to resources and not 
to representations and you are yet again proposing that we link to 
representations (why not just use FTP?) instead of resources.

&gt; 
&gt; &lt;a href="/foo" accept="application/xml"&gt;foo in xml&lt;/a&gt;
&gt; 
&gt; Why can't agent-driven negotiation leverage the Accept headers?
&gt; 
&gt;&gt; 3. Be aware of caching implications of (2) when the resource is read- 
&gt;&gt; write.
&gt;&gt;   
&gt; 
&gt; This seems to me to be a very good reason not address representations at 
&gt; a different URI, because of these problems it creates.
&gt; That, of course, assumes that the document in question is correctly 
&gt; identified as a representation and is not actually a separate resource.
&gt; If it is a separate resource then it definitely needs its own URI, and 
&gt; caching should not be a concern here.
&gt; 
&gt; 
&gt;&gt; 4. If you are supporting both (1) and (2), when a client submits a  
&gt;&gt; request with negotiation headers as in (1), return a Content-Location  
&gt;&gt; header with a value containing media-type specific URI (such http://blah.org/blahbhal?format=xml)
&gt;&gt;   
&gt; 
&gt; This works but, as you have admitted in your third point, it creates an 
&gt; ambiguous distinction between resources and representations, and 
&gt; therefore the significance of a URI. This forces intermediaries to be 
&gt; aware of your application/implementation; is that considered a kind of 
&gt; coupling?
&gt; 
&gt; What I mean by this is that it is not clear to intermediaries whether 
&gt; /foo and /foo.xml and /foo.doc are the same or separate resources, and 
&gt; this can only be assumed once the intermediary is taught the specifics 
&gt; of your implementation.
&gt; There is also ambiguity in how this URI -based conneg is actually 
&gt; implemented because xyz application may use this dot notation, but abc 
&gt; application may use something like /foo?type=xml or 
&gt; /foo?accept=application/xml
&gt; 
&gt;&gt; PS: Conneg may be overrated. Although I see APIs serving XML and JSON,  
&gt;&gt; there is no reason to always support multiple formats. It all depends  
&gt;&gt; on the use cases and clientele.
&gt;&gt;   
&gt; 
&gt; I don't agree that it's over rated, I think it's extremely important. 
&gt; Having a design which minimizes the costs involved in extending the 
&gt; formats you support and keeping this out of the URI design gives you 
&gt; optimal flexibility.
&gt; 
&gt; Regards,
&gt; Mike
&gt; 
&gt; ------------------------------------
&gt; 
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11707<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2008-12-05 14:48:46<br>
Subject:Re: [rest-discuss] Re: URI Format<br>
Message:<br><br>
<pre>Mike wrote:
&gt; dev wrote:
&gt;&gt; Mike : Please stick to the correct thread
&gt;&gt; http://tech.groups.yahoo.com/group/rest-discuss/message/11508. If you
&gt;&gt; wanted to reiterate what you said, you could have just added a link to
&gt;&gt; the same instead of a long message.
&gt;&gt;   
&gt; 
&gt; It seemed relevant to this discussion. Are you an admin?

The list is called "rest-discuss". The merits of your anti-REST proposal 
is reasonable to discuss generally, but it is not fair to attack REST 
every time someone has a question about REST. There are a boundless 
number of non-RESTful approaches one could suggest the querent use 
instead, should we discuss them all in response to their question?


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11708<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2008-12-05 14:54:20<br>
Subject:Re: [rest-discuss] Re: URI Format<br>
Message:<br><br>
<pre>dev wrote:
&gt; And additionally, from a techinical viewpoint, there is no difference between
&gt; 
&gt; resource?type=application/xml
&gt; &amp;
&gt; resource.xml
&gt; 
&gt; and the latter (imho) is much more readable. Thus I would suggest
&gt; going for the latter instead of a query parameter approach.

There is a slight  technical difference in the absence of header's 
specifying cacheabilty, in that the former is by default not cacheable 
but the latter is.

The distinction is just one for compatibility with implementations which 
used query strings for unsafe, non-idempotent operations with GET and is 
strictly speaking a matter outside of REST concerns generally and merely 
an implementation matter concerning HTTP. The distinction also 
disappears entirely once explicit cacheability information is sent.

However, while I'll admit that I'm nit-picking, it can crop up as a 
practical concern, so it is worth remembering.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11709<br>
Sender:"Alan Dean" &lt;alan.dean@...&gt;<br>
Post Date/Time:2008-12-05 15:01:47<br>
Subject:Re: [rest-discuss] [rest-for-beginners] group?<br>
Message:<br><br>
<pre>Ed,

That is interesting because I have have quite a lot of feedback from
beginners both face-to-face and on twitter that [rest-discuss] doesn't
serve their needs very well, with discussions quickly becoming arcane
(from their perspective).

Alan

On Fri, Dec 5, 2008 at 1:42 PM, Ed Summers &lt;ehs@...&gt; wrote:
&gt; On Fri, Dec 5, 2008 at 7:21 AM, Stefan Tilkov &lt;stefan.tilkov@...&gt;
&gt; wrote:
&gt;&gt; I don't really think there's a problem with the current focus of the
&gt;&gt; group. I don't feel newbies don't get answers to their questions here.
&gt;&gt; And if there were a rest-beginner group, those who answer questions
&gt;&gt; would start arguing about their respective answers.
&gt;&gt;
&gt;&gt; If we care about beginners getting good answers, I suggest we simply
&gt;&gt; try to provide them here.
&gt;
&gt; I agree. I consider myself a REST beginner and I like seeing the
&gt; advanced discussion on here. I've found the discussion to be helpful,
&gt; informative and friendly.
&gt;
&gt; That being said I would love to see the http://restpatterns.org wiki
&gt; (or something like it) used more.I think it would be valuable to write
&gt; up strawman proposals, ideas, patterns etc on the wiki to center
&gt; discussion on here -- similar to how the AtomPub folks used their wiki
&gt; and Paces to center discussion about AtomPub. Perhaps what's missing
&gt; from restpatterns is something that connects the wiki with this
&gt; discussion list community, something like:
&gt;
&gt; http://www.intertwingly.net/wiki/pie/HowToGetInvolved
&gt;
&gt; As for web forums, don't we kind of have one already?
&gt;
&gt; http://tech.groups.yahoo.com/group/rest-discuss/
&gt;
&gt; //Ed
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11710<br>
Sender:"Ed Summers" &lt;ehs@...&gt;<br>
Post Date/Time:2008-12-05 15:13:10<br>
Subject:Re: [rest-discuss] [rest-for-beginners] group?<br>
Message:<br><br>
<pre>On Fri, Dec 5, 2008 at 10:01 AM, Alan Dean &lt;alan.dean@...&gt; wrote:
&gt; That is interesting because I have have quite a lot of feedback from
&gt; beginners both face-to-face and on twitter that [rest-discuss] doesn't
&gt; serve their needs very well, with discussions quickly becoming arcane
&gt; (from their perspective).

Well, maybe I'm not such a beginner after all. Thanks!

//Ed

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11711<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-12-05 15:30:42<br>
Subject:New Book: RESTful .Net<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11712<br>
Sender:Mike &lt;mike@...&gt;<br>
Post Date/Time:2008-12-05 15:58:14<br>
Subject:Re: [rest-discuss] Re: URI Format<br>
Message:<br><br>
<pre>Jon Hanna wrote:
&gt; Mike wrote:
&gt;   
&gt;&gt; Creating extra URIs for individual representations this way can be 
&gt;&gt; avoided, and the distinction between resources and representations kept 
&gt;&gt; consistent, if the markup were to provide a standardized way to specify 
&gt;&gt; the appropriate Accept* headers  for a given hyperlink like so:
&gt;&gt;     
&gt;
&gt; This does not keep the distinction between resources and representations 
&gt; consistent, since with any RESTful system we link to resources and not 
&gt; to representations

Your approach of linking to:

/resource.txt
/resource.xml
/resource.pdf
/resource.html

is, in fact, linking to representations.

My solution is linking strictly to the resource, and informing the 
browser of appropriate negotiation for the given link:

&lt;a href="/resource" accept="text/plain" &gt;resource as txt&lt;/a&gt;
&lt;a href="/resource" accept="application/xml" &gt;resource as xml&lt;/a&gt;
&lt;a href="/resource" accept="application/pdf" &gt;resource as pdf&lt;/a&gt;
&lt;a href="/resource"&gt;resource as HTML&lt;/a&gt;

&gt; and you are yet again proposing that we link to 
&gt; representations (why not just use FTP?) instead of resources

I'm not sure I am. Your way definitely is.

Regards,
Mike


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11713<br>
Sender:Mike &lt;mike@...&gt;<br>
Post Date/Time:2008-12-05 16:12:55<br>
Subject:Re: [rest-discuss] Re: URI Format<br>
Message:<br><br>
<pre>Jon Hanna wrote:
&gt; Mike wrote:
&gt;   
&gt;&gt; dev wrote:
&gt;&gt;     
&gt;&gt;&gt; Mike : Please stick to the correct thread
&gt;&gt;&gt; http://tech.groups.yahoo.com/group/rest-discuss/message/11508. If you
&gt;&gt;&gt; wanted to reiterate what you said, you could have just added a link to
&gt;&gt;&gt; the same instead of a long message.
&gt;&gt;&gt;   
&gt;&gt;&gt;       
&gt;&gt; It seemed relevant to this discussion. Are you an admin?
&gt;&gt;     
&gt;
&gt; The list is called "rest-discuss". The merits of your anti-REST proposal 
&gt; is reasonable to discuss generally, but it is not fair to attack REST 
&gt; every time someone has a question about REST. There are a boundless 
&gt; number of non-RESTful approaches one could suggest the querent use 
&gt; instead, should we discuss them all in response to their question?
&gt;   

You sound confused and upset

All the best,
Mike

p.s. If you're neither, please explain why you feel that my proposal is 
non/anti-REST

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11714<br>
Sender:"Jon Flanders" &lt;jon.flanders@...&gt;<br>
Post Date/Time:2008-12-05 15:49:37<br>
Subject:Re: [rest-discuss] New Book: RESTful .Net<br>
Message:<br><br>
<pre>As the author - I can say the book is meant to be for a developer on
the Microsoft Platform who wants to learn how to use WCF to build
RESTful-type services.

Not too much REST discussion- for that I point people towards the
Richardson/Ruby book.

On Fri, Dec 5, 2008 at 7:30 AM, Nick Gall &lt;nick.gall@...&gt; wrote:
&gt; Looks interesting: http://oreilly.com/catalog/9780596519209/ .
&gt; Via http://www.pluralsight.com/community/blogs/aaron/archive/2008/12/02/restful-net.aspx
&gt; .
&gt;
&gt; Re the discussion of REST for beginners and the lack of good introductory
&gt; material for enterprise use of REST, this may help.
&gt; -- Nick
&gt;
&gt; --
&gt; Nick Gall
&gt; Phone: +1.781.608.5871
&gt; AOL IM: Nicholas Gall
&gt; Yahoo IM: nick_gall_1117
&gt; MSN IM: (same as email)
&gt; Google Talk: (same as email)
&gt; Email: nick.gall AT-SIGN gmail DOT com
&gt; Weblog: http://ironick.typepad.com/ironick/
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11715<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-05 16:52:25<br>
Subject:Re: [rest-discuss] Re: URI Format<br>
Message:<br><br>
<pre>Guys - please stop. Please communicate privately if necessary.

On Dec 5, 2008, at 8:12 AM, Mike wrote:

&gt; Jon Hanna wrote:
&gt;&gt; Mike wrote:
&gt;&gt;
&gt;&gt;&gt; dev wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Mike : Please stick to the correct thread
&gt;&gt;&gt;&gt; http://tech.groups.yahoo.com/group/rest-discuss/message/11508. If  
&gt;&gt;&gt;&gt; you
&gt;&gt;&gt;&gt; wanted to reiterate what you said, you could have just added a  
&gt;&gt;&gt;&gt; link to
&gt;&gt;&gt;&gt; the same instead of a long message.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt; It seemed relevant to this discussion. Are you an admin?
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; The list is called "rest-discuss". The merits of your anti-REST  
&gt;&gt; proposal
&gt;&gt; is reasonable to discuss generally, but it is not fair to attack REST
&gt;&gt; every time someone has a question about REST. There are a boundless
&gt;&gt; number of non-RESTful approaches one could suggest the querent use
&gt;&gt; instead, should we discuss them all in response to their question?
&gt;&gt;
&gt;
&gt; You sound confused and upset
&gt;
&gt; All the best,
&gt; Mike
&gt;
&gt; p.s. If you're neither, please explain why you feel that my proposal  
&gt; is
&gt; non/anti-REST

---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11716<br>
Sender:Mike &lt;mike@...&gt;<br>
Post Date/Time:2008-12-05 17:03:40<br>
Subject:Re: [rest-discuss] Re: URI Format<br>
Message:<br><br>
<pre>Apologies; It was intended as a light hearted nudge to be more 
constructive with criticism.

In my defense - The insinuation that I am detracting from the topic at 
hand doesn't seem to be backed up by any substantial rationale; which 
isn't particularly constructive or helpful to anyone.

Regards,
Mike

&gt; There is no place for attacks such as this one on our list.  Please
&gt; remedy this attitude problem of yours, or you'll find yourself banned.
&gt;
&gt; On Fri, Dec 5, 2008 at 11:12 AM, Mike &lt;mike@...&gt; wrote:
&gt;   
&gt;&gt; Jon Hanna wrote:
&gt;&gt;     
&gt;&gt;&gt; Mike wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;       
&gt;&gt;&gt;&gt; dev wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;         
&gt;&gt;&gt;&gt;&gt; Mike : Please stick to the correct thread
&gt;&gt;&gt;&gt;&gt; http://tech.groups.yahoo.com/group/rest-discuss/message/11508. If you
&gt;&gt;&gt;&gt;&gt; wanted to reiterate what you said, you could have just added a link to
&gt;&gt;&gt;&gt;&gt; the same instead of a long message.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;           
&gt;&gt;&gt;&gt; It seemed relevant to this discussion. Are you an admin?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;         
&gt;&gt;&gt; The list is called "rest-discuss". The merits of your anti-REST proposal
&gt;&gt;&gt; is reasonable to discuss generally, but it is not fair to attack REST
&gt;&gt;&gt; every time someone has a question about REST. There are a boundless
&gt;&gt;&gt; number of non-RESTful approaches one could suggest the querent use
&gt;&gt;&gt; instead, should we discuss them all in response to their question?
&gt;&gt;&gt;
&gt;&gt;&gt;       
&gt;&gt; You sound confused and upset
&gt;&gt;
&gt;&gt; All the best,
&gt;&gt; Mike
&gt;&gt;
&gt;&gt; p.s. If you're neither, please explain why you feel that my proposal is
&gt;&gt; non/anti-REST
&gt;&gt;     


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11717<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-12-05 17:05:31<br>
Subject:Re: [rest-discuss] Re: URI Format<br>
Message:<br><br>
<pre>I agree w/ Subbu on this.

I don't see any movement of opinion on the issue of using "accept"
attributes in markup. Posts that comment about people's feelings or
state of mind are an indication that we're generating more heat than
light.

There is no reason we must agree. Each of us can code as we wish
without expecting others to adopt the same approach.

Let's table the topic for now and move on to other things.

mca
http://amundsen.com/blog/

On Fri, Dec 5, 2008 at 11:52, Subbu Allamaraju &lt;subbu@...&gt; wrote:
&gt; Guys - please stop. Please communicate privately if necessary.
&gt;
&gt; On Dec 5, 2008, at 8:12 AM, Mike wrote:
&gt;
&gt;&gt; Jon Hanna wrote:
&gt;&gt;&gt; Mike wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; dev wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Mike : Please stick to the correct thread
&gt;&gt;&gt;&gt;&gt; http://tech.groups.yahoo.com/group/rest-discuss/message/11508. If
&gt;&gt;&gt;&gt;&gt; you
&gt;&gt;&gt;&gt;&gt; wanted to reiterate what you said, you could have just added a
&gt;&gt;&gt;&gt;&gt; link to
&gt;&gt;&gt;&gt;&gt; the same instead of a long message.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; It seemed relevant to this discussion. Are you an admin?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; The list is called "rest-discuss". The merits of your anti-REST
&gt;&gt;&gt; proposal
&gt;&gt;&gt; is reasonable to discuss generally, but it is not fair to attack REST
&gt;&gt;&gt; every time someone has a question about REST. There are a boundless
&gt;&gt;&gt; number of non-RESTful approaches one could suggest the querent use
&gt;&gt;&gt; instead, should we discuss them all in response to their question?
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; You sound confused and upset
&gt;&gt;
&gt;&gt; All the best,
&gt;&gt; Mike
&gt;&gt;
&gt;&gt; p.s. If you're neither, please explain why you feel that my proposal
&gt;&gt; is
&gt;&gt; non/anti-REST
&gt;
&gt; ---
&gt; http://subbu.org
&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11719<br>
Sender:"Colin Jack" &lt;colinjack@...&gt;<br>
Post Date/Time:2008-12-05 17:23:07<br>
Subject:New Book: RESTful .Net<br>
Message:<br><br>
<pre>Yeah it looks good but it does seem quite technology (WCF) focussed. 

I've not got a problem with that and it is important but to me how you
use WCF in a RESTful way is far less interesting than topics like
non-trivial resource design guidelines (caching, data protection,
relationship to underlying model), HATEOS, complex workflows,
client-side design and so on.

Actually on the Microsoft side, I'd say they could definitely do with
a little help from experts particularly on the WCF REST Starter Kit:

http://msdn.microsoft.com/en-us/netframework/cc950529.aspx

- Colin


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11720<br>
Sender:"Jon Flanders" &lt;jon.flanders@...&gt;<br>
Post Date/Time:2008-12-05 17:26:25<br>
Subject:Re: [rest-discuss] New Book: RESTful .Net<br>
Message:<br><br>
<pre>Again as the author :)  - I can say that you are correct - it doesn't
cover most of the non-trivial topics - although it does talk about
caching and conditional GET (some of those topics).

It pretty much sticks to "This is how you can use WCF with HTTP and
the uniform interface",  I am starting to hesitate to use the term
REST ((c) Roy Fielding) anymore, I'm leaning towards WOA.

It certainly fails to talk about HATEOS explicitly - which I
definitely see as a shortcoming of the book, although again the book
is more about technical details of WCF, I didn't write the book as a
guide to REST,  its a guide to the implementation details using WCF,
its a very narrow book (on purpose).

Jon

On Fri, Dec 5, 2008 at 9:21 AM, Colin Jack &lt;colinjack@...&gt; wrote:
&gt; Yeah it looks good but it does seem quite technology (WCF) focussed.
&gt;
&gt; I've not got a problem with that but to me how you use WCF in a
&gt; RESTful way is far less interesting than topics like non-trivial
&gt; resource design guidelines (caching, data protection, relationship to
&gt; underlying model), HATEOS, complex workflows, client-side design and
&gt; so on. Unfortunately I'm not sure this book is going to go into those
&gt; topics in much detail. I'm also not 100% sure I'm happy with some of
&gt; the advice but I'm still only getting started with it, I believe Alan
&gt; Dean is going to read it too so he'll have a far more informed opinion
&gt; on it.
&gt;
&gt; Actually on the Microsoft side, I'd say they could definitely do with
&gt; a little help from experts particularly on the WCF REST Starter Kit:
&gt;
&gt; http://msdn.microsoft.com/en-us/netframework/cc950529.aspx
&gt;
&gt; Seems like Microsoft and their MVP's are starting to talk about REST
&gt; quite a lot, not entirely sure if you guys would be happy with some of
&gt; it though.
&gt;
&gt; - Colin
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11721<br>
Sender:"Colin Jack" &lt;colinjack@...&gt;<br>
Post Date/Time:2008-12-05 17:38:27<br>
Subject:Re: [rest-discuss] New Book: RESTful .Net<br>
Message:<br><br>
<pre>&gt; It pretty much sticks to "This is how you can use WCF with HTTP and
&gt; the uniform interface", 

Definitely, and I've already found that content useful.

 
&gt; It certainly fails to talk about HATEOS explicitly - which I
&gt; definitely see as a shortcoming of the book, although again the book
&gt; is more about technical details of WCF, I didn't write the book as a
&gt; guide to REST,  its a guide to the implementation details using WCF,
&gt; its a very narrow book (on purpose).

Yeah definitely, I definitely think any book that covers HATEOS etc
would be better if it stayed away from any single technology and I've
found the WCF sections useful. The book, plus the WCF Facility with
the Castle project, make WCF just about usable without epic frustration. 

Unfortunately though HATEOS and the other complex elements seem, to
me, to be missing from RESTful WS too (or not covered in massive
detail). To me this does somewhat leave the impression that REST is
not that well suited to enterprise apps (which I realize is incorrect).


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11722<br>
Sender:John Panzer &lt;jpanzer@...&gt;<br>
Post Date/Time:2008-12-05 17:39:06<br>
Subject:Re: [rest-discuss] Re: URI Format<br>
Message:<br><br>
<pre>Jon Hanna wrote:
&gt; dev wrote:
&gt;   
&gt;&gt; And additionally, from a techinical viewpoint, there is no difference between
&gt;&gt;
&gt;&gt; resource?type=application/xml
&gt;&gt; &amp;
&gt;&gt; resource.xml
&gt;&gt;
&gt;&gt; and the latter (imho) is much more readable. Thus I would suggest
&gt;&gt; going for the latter instead of a query parameter approach.
&gt;&gt;     
&gt;
&gt; There is a slight  technical difference in the absence of header's 
&gt; specifying cacheabilty, in that the former is by default not cacheable 
&gt; but the latter is.
&gt;
&gt; The distinction is just one for compatibility with implementations which 
&gt; used query strings for unsafe, non-idempotent operations with GET and is 
&gt; strictly speaking a matter outside of REST concerns generally and merely 
&gt; an implementation matter concerning HTTP. The distinction also 
&gt; disappears entirely once explicit cacheability information is sent.
&gt;
&gt; However, while I'll admit that I'm nit-picking, it can crop up as a 
&gt; practical concern, so it is worth remembering.
&gt;   
One other practical difference is that, with out of the box Apache and 
other servers, the former requires some type of plugin or URL rewriting 
to be servable, while the latter requires only "cp resource.xml 
$HTML_DIRECTORY".  (This assumes there are actually multiple 
representations to be served of course.)


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11723<br>
Sender:Tim Chase &lt;rest.discuss@...&gt;<br>
Post Date/Time:2008-12-05 18:01:57<br>
Subject:Re: [rest-discuss] Re: URI Format<br>
Message:<br><br>
<pre>&gt; Your approach of linking to:
&gt; 
&gt; /resource.txt
&gt; /resource.xml
&gt; /resource.pdf
&gt; /resource.html
&gt; 
&gt; is, in fact, linking to representations.
&gt; 
&gt; My solution is linking strictly to the resource, and informing the 
&gt; browser of appropriate negotiation for the given link:
&gt; 
&gt; &lt;a href="/resource" accept="text/plain" &gt;resource as txt&lt;/a&gt;
&gt; &lt;a href="/resource" accept="application/xml" &gt;resource as xml&lt;/a&gt;
&gt; &lt;a href="/resource" accept="application/pdf" &gt;resource as pdf&lt;/a&gt;
&gt; &lt;a href="/resource"&gt;resource as HTML&lt;/a&gt;

It seems like in your description, "/resource" should return an 
HTTP 300 response-code ("Multiple choices") because there *are* 
multiple choices of representation.

http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.3.1

"The requested resource corresponds to any one of a set of 
representations, each with its own specific location, and agent- 
driven negotiation information".  This seems to be exactly the 
situation at hand -- the need to link to multiple representations.

However, the problem seems to be the ill-defined:  "However, this 
specification does not define any standard for such automatic 
selection."  Nice specification-fail.

It sounds like the correct thing to do involves redirecting 
requests to /resource with a 300.  If there's a server-suggested 
representation (perhaps as sniffed from the user-agent's Accept 
headers, or alternatively just a default representation such as 
HTML), it redirects to /resource.pdf or /resource.html (etc).

The body of the (non-HEAD) 300 response can provide the other 
representation locations as well.  Perhaps something like

   Status: 300 Multiple choices
   Location: /resource.html
   ...
   &lt;li&gt;&lt;a href="/resource.html"&gt;HTML&lt;/a&gt;&lt;/li&gt;
   &lt;li&gt;&lt;a href="/resource.pdf"&gt;PDF&lt;/a&gt;&lt;/li&gt;
   &lt;li&gt;&lt;a href="/resource.txt"&gt;plain text&lt;/a&gt;&lt;/li&gt;
   ...


-tkc





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11724<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-12-05 18:04:33<br>
Subject:Re: [rest-discuss] New Book: RESTful .Net<br>
Message:<br><br>
<pre>On Dec 5, 2008, at 9:38 AM, Colin Jack wrote:
&gt; Unfortunately though HATEOS and the other complex elements seem, to
&gt; me, to be missing from RESTful WS too (or not covered in massive
&gt; detail). To me this does somewhat leave the impression that REST is
&gt; not that well suited to enterprise apps (which I realize is  
&gt; incorrect).


The HATEOS aspect is certainly the one that takes a bit longer to sink  
in, but that's where REST really starts to shine, imho.  As for the  
impression that it's not well suited for enterprise apps, that's just  
nonsense.  I have an article pending on the subject, but it hasn't  
been published yet.  Will forward a link to it when it's out.

On a side note +1 on using WOA when applying REST to WWW-centric  
technologies. :)

- Steve

--------------
Steve G. Bjorg
http://mindtouch.com
http://twitter.com/bjorg


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11725<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-12-05 18:06:44<br>
Subject:Re: [rest-discuss] New Book: RESTful .Net<br>
Message:<br><br>
<pre>And forgot to mention, I added a link to the book on the bottom of the  
homepage on the RESTpatterns wiki.
http://restpatterns.org/

If anyone has any other books to recommend on the subject.  Please let  
me know or add them yourselves.  Thanks!

- Steve

--------------
Steve G. Bjorg
http://mindtouch.com
http://twitter.com/bjorg


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11726<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-12-05 18:10:43<br>
Subject:The RESTwiki is back<br>
Message:<br><br>
<pre>On Fri, Dec 5, 2008 at 7:21 AM, Stefan Tilkov &lt;stefan.tilkov@...&gt; wrote:
&gt; It might also make sense to do a little editorial work on the FAQ and
&gt; link to it more often:
&gt; http://rest.blueoxen.net/cgi-bin/wiki.pl?RestFaq

As some of you might have noticed - though only Roy pinged me about it
- the RESTwiki had been down for a couple of weeks, as our gracious
host - Eugene Kim - had some server reliability issues and had to
migrate the site to another server.  It's up again now (and as Stefan
says, could use some work).

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11727<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-12-05 19:49:36<br>
Subject:Re: [rest-discuss] New Book: RESTful .Net<br>
Message:<br><br>
<pre>&gt; Yeah definitely, I definitely think any book that covers HATEOS etc
&gt; would be better if it stayed away from any single technology [...]

So would a book talking about the architecture fundamentals with code shown 
as support material be useful? What else would you like to see in such a 
book?

Very timely and interesting conversation I shall think.

Seb 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11728<br>
Sender:"Nick Gall" &lt;nick.gall@...&gt;<br>
Post Date/Time:2008-12-05 20:23:52<br>
Subject:Re: [rest-discuss] New Book: RESTful .Net<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11729<br>
Sender:"Peter Keane" &lt;pkeane@...&gt;<br>
Post Date/Time:2008-12-05 20:50:39<br>
Subject:Re: [rest-discuss] New Book: RESTful .Net<br>
Message:<br><br>
<pre>On Fri, Dec 5, 2008 at 2:23 PM, Nick Gall &lt;nick.gall@...&gt; wrote:
&gt; On Fri, Dec 5, 2008 at 12:38 PM, Colin Jack &lt;colinjack@...&gt; wrote:
&gt;&gt;
&gt;&gt; &gt; It pretty much sticks to "This is how you can use WCF with HTTP and
&gt;&gt; &gt; the uniform interface",
&gt;&gt;
&gt;&gt; Definitely, and I've already found that content useful.
&gt;&gt;
&gt;&gt; &gt; It certainly fails to talk about HATEOS explicitly - which I
&gt;&gt; &gt; definitely see as a shortcoming of the book, although again the book
&gt;&gt; &gt; is more about technical details of WCF, I didn't write the book as a
&gt;&gt; &gt; guide to REST, its a guide to the implementation details using WCF,
&gt;&gt; &gt; its a very narrow book (on purpose).
&gt;&gt;
&gt;&gt; Yeah definitely, I definitely think any book that covers HATEOS etc
&gt;&gt; would be better if it stayed away from any single technology and I've
&gt;&gt; found the WCF sections useful. The book, plus the WCF Facility with
&gt;&gt; the Castle project, make WCF just about usable without epic frustration.
&gt;&gt;
&gt;&gt; Unfortunately though HATEOS and the other complex elements seem, to
&gt;&gt; me, to be missing from RESTful WS too (or not covered in massive
&gt;&gt; detail). To me this does somewhat leave the impression that REST is
&gt;&gt; not that well suited to enterprise apps (which I realize is incorrect).
&gt;
&gt; The reason that you're not finding much on HATEOAS is that it is such a
&gt; radically new concept in certain A2A (app-to-app, ie completely automated
&gt; with no human in the loop) scenarios that no one is yet an expert on how to
&gt; apply it. Yes, we have some basic HATEOAS capabilties in APP, but that's
&gt; been pretty much only applied to content management scenarios: blogs,
&gt; spreadsheets, DBs, calendars. Etc.
&gt;

I have been increasingly using what (I think) would be considered
HATEOS in Ajax-rich applications, whereby the javascript XHR is
following/acting on  links on the page it, rather than constructing
URLs to put/post/get/delete in the javascript code itself.  It's
really just a design technique, but you end up with a javascript
library that "knows" how to make use of urls on the page, and can thus
be reused in many scenarios.  E.g., a javascript function might look
for a form with a class designation "deletable".  It would then know
that "action" URL of the form (generally used as the post url) could
be used to delete that particular resource, so it adds a delete button
and sets an onclick handler on that button that makes a DELETE http
request on that URI.  Javascript is basically the "machine" that uses
hypertext to move through state transitions.

--peter keane

&gt; We have yet to see a real implemented "enterprise" example of HATEOAS for
&gt; A2A (or B2B) for a transactional or even process control scenario. At least
&gt; I have yet to see one. I have seen a robotics control protocol that adheres
&gt; to most of the REST constraints, but it doesn't do HATEOAS.
&gt; See http://msdn.microsoft.com/en-us/library/bb483056.aspx .
&gt;
&gt; So realistically we need a visionary pioneer to be the first to use HATEOAS
&gt; in this way so that the rest of us can explain it to beginners. &lt;grin&gt;
&gt;
&gt; -- Nick
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11730<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-12-05 21:45:19<br>
Subject:Re: [rest-discuss] New Book: RESTful .Net<br>
Message:<br><br>
<pre>In some internal projects, I've begun emitting HTML markup that
contains FORMs for each operation that can change the application
state. These FORMs have a client-side script attached that (if
required) hijack the GET/POST and use XmlHttpRequest to execute the
proper method (PUT, DELETE). It's now a standard pattern for
'quick-and-dirty' HTML representations.

mca
http://amundsen.com/blog/

On Fri, Dec 5, 2008 at 15:50, Peter Keane &lt;pkeane@...&gt; wrote:
&gt; On Fri, Dec 5, 2008 at 2:23 PM, Nick Gall &lt;nick.gall@...&gt; wrote:
&gt;&gt; On Fri, Dec 5, 2008 at 12:38 PM, Colin Jack &lt;colinjack@...&gt; wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; &gt; It pretty much sticks to "This is how you can use WCF with HTTP and
&gt;&gt;&gt; &gt; the uniform interface",
&gt;&gt;&gt;
&gt;&gt;&gt; Definitely, and I've already found that content useful.
&gt;&gt;&gt;
&gt;&gt;&gt; &gt; It certainly fails to talk about HATEOS explicitly - which I
&gt;&gt;&gt; &gt; definitely see as a shortcoming of the book, although again the book
&gt;&gt;&gt; &gt; is more about technical details of WCF, I didn't write the book as a
&gt;&gt;&gt; &gt; guide to REST, its a guide to the implementation details using WCF,
&gt;&gt;&gt; &gt; its a very narrow book (on purpose).
&gt;&gt;&gt;
&gt;&gt;&gt; Yeah definitely, I definitely think any book that covers HATEOS etc
&gt;&gt;&gt; would be better if it stayed away from any single technology and I've
&gt;&gt;&gt; found the WCF sections useful. The book, plus the WCF Facility with
&gt;&gt;&gt; the Castle project, make WCF just about usable without epic frustration.
&gt;&gt;&gt;
&gt;&gt;&gt; Unfortunately though HATEOS and the other complex elements seem, to
&gt;&gt;&gt; me, to be missing from RESTful WS too (or not covered in massive
&gt;&gt;&gt; detail). To me this does somewhat leave the impression that REST is
&gt;&gt;&gt; not that well suited to enterprise apps (which I realize is incorrect).
&gt;&gt;
&gt;&gt; The reason that you're not finding much on HATEOAS is that it is such a
&gt;&gt; radically new concept in certain A2A (app-to-app, ie completely automated
&gt;&gt; with no human in the loop) scenarios that no one is yet an expert on how to
&gt;&gt; apply it. Yes, we have some basic HATEOAS capabilties in APP, but that's
&gt;&gt; been pretty much only applied to content management scenarios: blogs,
&gt;&gt; spreadsheets, DBs, calendars. Etc.
&gt;&gt;
&gt;
&gt; I have been increasingly using what (I think) would be considered
&gt; HATEOS in Ajax-rich applications, whereby the javascript XHR is
&gt; following/acting on  links on the page it, rather than constructing
&gt; URLs to put/post/get/delete in the javascript code itself.  It's
&gt; really just a design technique, but you end up with a javascript
&gt; library that "knows" how to make use of urls on the page, and can thus
&gt; be reused in many scenarios.  E.g., a javascript function might look
&gt; for a form with a class designation "deletable".  It would then know
&gt; that "action" URL of the form (generally used as the post url) could
&gt; be used to delete that particular resource, so it adds a delete button
&gt; and sets an onclick handler on that button that makes a DELETE http
&gt; request on that URI.  Javascript is basically the "machine" that uses
&gt; hypertext to move through state transitions.
&gt;
&gt; --peter keane
&gt;
&gt;&gt; We have yet to see a real implemented "enterprise" example of HATEOAS for
&gt;&gt; A2A (or B2B) for a transactional or even process control scenario. At least
&gt;&gt; I have yet to see one. I have seen a robotics control protocol that adheres
&gt;&gt; to most of the REST constraints, but it doesn't do HATEOAS.
&gt;&gt; See http://msdn.microsoft.com/en-us/library/bb483056.aspx .
&gt;&gt;
&gt;&gt; So realistically we need a visionary pioneer to be the first to use HATEOAS
&gt;&gt; in this way so that the rest of us can explain it to beginners. &lt;grin&gt;
&gt;&gt;
&gt;&gt; -- Nick
&gt;&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11731<br>
Sender:Jim Webber &lt;jim@...&gt;<br>
Post Date/Time:2008-12-06 10:32:42<br>
Subject:Re: [rest-discuss] New Book: RESTful .Net<br>
Message:<br><br>
<pre>Hello Seb (et al),

&gt; So would a book talking about the architecture fundamentals with  
&gt; code shown
&gt; as support material be useful? What else would you like to see in  
&gt; such a
&gt; book?

Savas Parastatidis, Ian Robinson, and me are writing a book along  
these lines. Code snippets are used to demonstrate that the techniques  
we explain are practical, but the emphasis is on how to take Web  
techniques and successfully apply them to building robust distributed  
systems.

To give you a flavour, our chapter outline is:

The Web Architecture
Introduction to the Restbucks Domain
Simple Web Inspired Integration (URI Tunnelling, POX)
CRUD Services
Hypermedia
Scaling
Security
ATOM and ATOMPub
Semantics
Cloud Services
Restbucks End to End Example
The Web and Web Services
Epilogue

[Restbucks is derived from our How to GET a Cup of Coffee, see: http://www.infoq.com/articles/webber-rest-workflow 
]

We're developing this in a fairly open manner. If anyone wants access  
to our repository, then drop us a line.

Jim

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11732<br>
Sender:Colin Jack &lt;colinjack@...&gt;<br>
Post Date/Time:2008-12-06 13:17:48<br>
Subject:RE: [rest-discuss] New Book: RESTful .Net<br>
Message:<br><br>
<pre>
&gt; Code snippets are used to demonstrate that the techniques we 
&gt; explain are practical, but the emphasis is on how to take Web  
&gt; techniques and successfully apply them to building robust 
&gt; distributed systems.

Perfect, if it was available on Amazon I'd pre-order now.
 

&gt; [Restbucks is derived from our How to GET a Cup of Coffee, see: http://www.infoq.com/articles/webber-rest-workflow 
&gt; ]

This example is the best one I've found. Really found it useful and
I'm quite interested to see whether you find that your messaging mind-frame influences the way you approach things, my feeling is that when you go beyond CRUD it does have some value (duck behind cover before I get flamed).

Are consumer-driven contracts going to be included, and are you going to explicitly cover resource design guidelines?
	
	
	
	


	


	
	
_________________________________________________________________
Get Windows Live Messenger on your Mobile
http://clk.atdmt.com/UKM/go/msnnkmgl0010000001ukm/direct/01/</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11733<br>
Sender:Colin Jack &lt;colinjack@...&gt;<br>
Post Date/Time:2008-12-06 13:23:09<br>
Subject:RE: [rest-discuss] New Book: RESTful .Net<br>
Message:<br><br>
<pre>
&gt; So would a book talking about the architecture fundamentals with 
&gt; code shown as support material be useful? 

The architecture fundamentals would be very useful and although some concrete examples would be good I find less is more as far as inline code samples.

DDD and EIP are two examples of books that, to me, hit the nail on the head. I felt the concrete examples they gave were more than enough and you didn't get taken offcourse with large amounts of code. 


&gt; What else would you like to see in such a book?

Topics I'd be interested in would include hateos, workflow, design/choice of media types, how REST relates to DDD (ubiquitous language, bounded contexts), how it relates to large autonomous services in SOA, resource design (caching etc). 

Basically the same sorts of things I ask you and Alan Dean questions on via twitter.

_________________________________________________________________
Get a birds eye view of the world with Multimap
http://clk.atdmt.com/GBL/go/115454059/direct/01/</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11734<br>
Sender:Bill Burke &lt;bburke@...&gt;<br>
Post Date/Time:2008-12-11 14:49:20<br>
Subject:MIME properties instead +<br>
Message:<br><br>
<pre>I had a need in one of my projects to query for different XML schema 
documents from my RESTful service.  Looking around the internet it 
seemed that the de facto way of doing this would be:

application/vnd.myformat+xml

Or, just register "myformat" with IANA and have:

application/myformat+xml

One huge downside of this though is that my browser does not know how to 
render application/myformat+xml.  So, my question to this list is, why 
aren't MIME properties used to identify XML schema?  For example:

application/xml; schema=http://www.w3.org/2005/Atom

I tried this approach with Firefox and Safari and both browser ignore 
the attribute and render the document as XML.

Would there be any reason NOT to use and promote this approach other 
than it goes against current de facto convention?  I blogged about this 
a few months ago and have yet to receive a logical reason why this 
approach isn't superior:

http://bill.burkecentral.com/2008/03/05/restful-xml-content-negotitation/

Thanks,

Bill


-- 
Bill Burke
JBoss, a division of Red Hat
http://bill.burkecentral.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11735<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-11 15:41:03<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>
On Dec 11, 2008, at 6:49 AM, Bill Burke wrote:

&gt; I had a need in one of my projects to query for different XML schema
&gt; documents from my RESTful service.  Looking around the internet it
&gt; seemed that the de facto way of doing this would be:
&gt;
&gt; application/vnd.myformat+xml
&gt;
&gt; Or, just register "myformat" with IANA and have:
&gt;
&gt; application/myformat+xml
&gt;
&gt; One huge downside of this though is that my browser does not know  
&gt; how to
&gt; render application/myformat+xml.  So, my question to this list is, why

Could you elaborate on your tests?

Subbu
---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11736<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-12-11 16:18:09<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>There was a whole discussion and even a very detailed proposal for  
something like this a while back. Here's what I wrote back then [1].  
Interestingly, after a presentation I gave yesterday, somebody  
suggested something very similar; Paul Fremantle, who happened to be  
there, and myself still believe this would be worth pursuing.

A while back, Sanjiva Weerawarana proposed (via email) a way to  
decentralize media types. I think the proposal was excellent; Dan  
Diephouses excellent latest blog post [2] reminded me of it again.  
Heres a brief introduction to a possible solution for decentralizing  
media types.

The Problem
In a plain HTTP interaction, the Content-type and Accept headers carry  
information about the type of the data being transmitted and accepted,  
respectively. Youve seen these media types in numerous examples, e.g.  
a typical request or response might have a Content-type header with  
the value application/xml.

The problem with this approach is that media types have to be  
registered centrally with IANA. This means that while you can invent  
your own media types, nobody will know about them  unless you go  
through the time-consuming process of actually having your media type  
registered.

Whats wrong with application/xml? Nothing, really, except that it  
doesnt tell you anything more than that what is being sent is XML:  
You dont have any way to tell what XML it is unless you actually  
parse and e.g. look at the outer elements XML namespace.

The Solution
What Sanjiva (and his collaborators, Paul Fremantle, Jonathan Marsh  
and James Clark) propose is this: Define a single new media type,  
application/data-format, with a required parameter uri. This uri  
points to a definition of the data format, like this:

application/data-format;uri=http://mediatypes.example.com/foo/bar

The uri is an HTTP URI that points to an RDDL document, in other  
words: you can do an HTTP GET on it and retrieve a documentation of  
the data format thats both human-readbable as well as machine- 
processable.

My Opinion
I think this is an excellent proposal, specifically because it does  
not rely on a centralized authority, and re-uses the namespacing  
concepts of the Web. Its also fully agnostic towards any specific  
data format  you can use your own binary or text format, something  
like JSON or YAML, and if you pick XML, youre free to use DTDs, RELAX  
NG schemas, Schematron or even XML Schema to document it. Its also  
great in that it allows for clients with different knowledge about any  
particular format to do their best to handle it. One client might be  
hard-coded against the complete string; another might retrieve the  
RDDL, look for an XSD, and dynamically render some fancy visual  
representation.

I think the concept could even be extended to allow for querying of  
supported media types: You could just do a GET on the resource with an  
accept header of application/data-format and get back the link to the  
RDDL (if there is any).

Maybe theres something immediately, obviously wrong with this idea   
but if so, I cant see it. It will be interesting to see what others  
say 

[1] http://www.innoq.com/blog/st/2008/02/decentralizing_media_types.html

[2] http://netzooid.com/blog/2008/02/07/why-a-restful-idl-is-an-oxymoron-and-what-we-really-need-instead/



Stefan

--

Stefan Tilkov, http://www.innoq.com/blog/st/




On 11.12.2008, at 15:49, Bill Burke wrote:

&gt; I had a need in one of my projects to query for different XML schema
&gt; documents from my RESTful service. Looking around the internet it
&gt; seemed that the de facto way of doing this would be:
&gt;
&gt; application/vnd.myformat+xml
&gt;
&gt; Or, just register "myformat" with IANA and have:
&gt;
&gt; application/myformat+xml
&gt;
&gt; One huge downside of this though is that my browser does not know  
&gt; how to
&gt; render application/myformat+xml. So, my question to this list is, why
&gt; aren't MIME properties used to identify XML schema? For example:
&gt;
&gt; application/xml; schema=http://www.w3.org/2005/Atom
&gt;
&gt; I tried this approach with Firefox and Safari and both browser ignore
&gt; the attribute and render the document as XML.
&gt;
&gt; Would there be any reason NOT to use and promote this approach other
&gt; than it goes against current de facto convention? I blogged about this
&gt; a few months ago and have yet to receive a logical reason why this
&gt; approach isn't superior:
&gt;
&gt; http://bill.burkecentral.com/2008/03/05/restful-xml-content-negotitation/
&gt;
&gt; Thanks,
&gt;
&gt; Bill
&gt;
&gt; -- 
&gt; Bill Burke
&gt; JBoss, a division of Red Hat
&gt; http://bill.burkecentral.com
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11737<br>
Sender:"Peter Williams" &lt;pezra@...&gt;<br>
Post Date/Time:2008-12-11 16:19:00<br>
Subject:Re: MIME properties instead +<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, Bill Burke &lt;bburke@...&gt; wrote:
&gt;
&gt; I had a need in one of my projects to query for different XML schema 
&gt; documents from my RESTful service.  Looking around the internet it 
&gt; seemed that the de facto way of doing this would be:
&gt; 
&gt; application/vnd.myformat+xml
&gt; 
&gt; Or, just register "myformat" with IANA and have:
&gt; 
&gt; application/myformat+xml
&gt; 
&gt; One huge downside of this though is that my browser does not know
how to 
&gt; render application/myformat+xml.  

This is a really annoying issue.  It is really too bad that browsers
don't render any unrecognized `+xml` media type as XML.  Maybe we
should lobby the browsers to add this feature.  

Have you considered just serving your documents as `application/xml`
when the requester is as browser?

&gt; So, my question to this list is, why 
&gt; aren't MIME properties used to identify XML schema?  For example:
&gt; 
&gt; application/xml; schema=http://www.w3.org/2005/Atom

Well, it is technically illegal as the application/xml media type does
not define a "schema" attribute.  In practice it would probably not
break anything.  Is it pretty ugly, though: `application/atom+xml` is
much nicer than `application/xml; schema=http://www.w3.org/2005/Atom`.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11738<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-12-11 16:37:17<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>Apologies for following up on my own post, but Steve Vinoski had a  
good summary of the (negative) responses back then:

http://steve.vinoski.net/blog/2008/02/11/more-about-decentralized-media-types/

The key argument (made e.g. by Mark Baker) was that having a single  
centralized registry is a good thing as it prevents millions of new  
media types to be invented, rendering the whole idea useless.

I am wondering, though, whether application/xml isn't simply the  
vehicle for doing it anyway, just worse (as it doesn't document  
anything). Wouldn't this be a way to reduce a million to, say, at  
least a few thousand? ;-)

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/

  

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11739<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-11 16:42:57<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>Any reasons why is having a zillion types is a bad thing? Media-"type"  
is a type, and generic types don't convey much to clients.

Subbu

&gt; Apologies for following up on my own post, but Steve Vinoski had a
&gt; good summary of the (negative) responses back then:
&gt;
&gt; http://steve.vinoski.net/blog/2008/02/11/more-about-decentralized-media-types/
&gt;
&gt; The key argument (made e.g. by Mark Baker) was that having a single
&gt; centralized registry is a good thing as it prevents millions of new
&gt; media types to be invented, rendering the whole idea useless.
&gt;
&gt; I am wondering, though, whether application/xml isn't simply the
&gt; vehicle for doing it anyway, just worse (as it doesn't document
&gt; anything). Wouldn't this be a way to reduce a million to, say, at
&gt; least a few thousand? ;-)
&gt;
&gt; Stefan
&gt; --
&gt; Stefan Tilkov, http://www.innoq.com/blog/st/
&gt;
&gt;

---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11740<br>
Sender:John Kemp &lt;john@...&gt;<br>
Post Date/Time:2008-12-11 16:31:23<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>Hi Stefan,

Stefan Tilkov wrote:

...

&gt; The Solution
&gt; What Sanjiva (and his collaborators, Paul Fremantle, Jonathan Marsh  
&gt; and James Clark) propose is this: Define a single new media type,  
&gt; application/data-format, with a required parameter uri. This uri  
&gt; points to a definition of the data format, like this:
&gt; 
&gt; application/data-format;uri=http://mediatypes.example.com/foo/bar

I use the HTTP Link: header [1] to do this kind of thing - defining a 
link between the representation returned and its XML schema:

HTTP/1.1 200 OK
Content-Type: application/vnd.format+xml
Link: http://schemas.example.com/format/1.0; rel='schema'

{entity-body containing XML document}

Cheers,

- johnk

[1] http://tools.ietf.org/html/draft-nottingham-http-link-header-03


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11741<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-11 16:44:51<br>
Subject:Re: [rest-discuss] Re: MIME properties instead +<br>
Message:<br><br>
<pre>
On Dec 11, 2008, at 8:19 AM, Peter Williams wrote:

&gt;&gt; So, my question to this list is, why
&gt;&gt; aren't MIME properties used to identify XML schema?  For example:
&gt;&gt;
&gt;&gt; application/xml; schema=http://www.w3.org/2005/Atom
&gt;
&gt; Well, it is technically illegal as the application/xml media type does
&gt; not define a "schema" attribute.  In practice it would probably not
&gt; break anything.  Is it pretty ugly, though: `application/atom+xml` is
&gt; much nicer than `application/xml; schema=http://www.w3.org/2005/Atom`.


Not illegal, but unconventional. Most vendor specific extensions  
follow the "vnd" convention - see http://www.iana.org/assignments/media-types/application/ 
  for all vnd types.

Subbu
---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11742<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-12-11 16:42:24<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>Off-the-cuff, I like Bill's proposal better, b/c
1) we already know it's XML, so anything that knows how to render XML  
is happy
2) we already have an XML namespace for well-defined XML documents;  
nothing new to invent here
3) asking an agent to fetch a DTD/RDDL or whatever is really bad idea  
(a lesson learned the hard way by the W3C; they have 130M requests per  
day for the HTML DTD!!!! see http://www.w3.org/blog/systeam/2008/02/08/w3c_s_excessive_dtd_traffic 
  )

I would assume that parsers for MIME types ignore unknown attributes  
for sake of forward compatibility.  So adding "; schema=..." feels  
intuitively like the right approach.  Just my $0.02.

- Steve

--------------
Steve G. Bjorg
http://mindtouch.com
http://twitter.com/bjorg

On Dec 11, 2008, at 8:18 AM, Stefan Tilkov wrote:

&gt; There was a whole discussion and even a very detailed proposal for
&gt; something like this a while back. Here's what I wrote back then [1].
&gt; Interestingly, after a presentation I gave yesterday, somebody
&gt; suggested something very similar; Paul Fremantle, who happened to be
&gt; there, and myself still believe this would be worth pursuing.
&gt;
&gt; A while back, Sanjiva Weerawarana proposed (via email) a way to
&gt; decentralize media types. I think the proposal was excellent; Dan
&gt; Diephouses excellent latest blog post [2] reminded me of it again.
&gt; Heres a brief introduction to a possible solution for decentralizing
&gt; media types.
&gt;
&gt; The Problem
&gt; In a plain HTTP interaction, the Content-type and Accept headers carry
&gt; information about the type of the data being transmitted and accepted,
&gt; respectively. Youve seen these media types in numerous examples, e.g.
&gt; a typical request or response might have a Content-type header with
&gt; the value application/xml.
&gt;
&gt; The problem with this approach is that media types have to be
&gt; registered centrally with IANA. This means that while you can invent
&gt; your own media types, nobody will know about them  unless you go
&gt; through the time-consuming process of actually having your media type
&gt; registered.
&gt;
&gt; Whats wrong with application/xml? Nothing, really, except that it
&gt; doesnt tell you anything more than that what is being sent is XML:
&gt; You dont have any way to tell what XML it is unless you actually
&gt; parse and e.g. look at the outer elements XML namespace.
&gt;
&gt; The Solution
&gt; What Sanjiva (and his collaborators, Paul Fremantle, Jonathan Marsh
&gt; and James Clark) propose is this: Define a single new media type,
&gt; application/data-format, with a required parameter uri. This uri
&gt; points to a definition of the data format, like this:
&gt;
&gt; application/data-format;uri=http://mediatypes.example.com/foo/bar
&gt;
&gt; The uri is an HTTP URI that points to an RDDL document, in other
&gt; words: you can do an HTTP GET on it and retrieve a documentation of
&gt; the data format thats both human-readbable as well as machine-
&gt; processable.
&gt;
&gt; My Opinion
&gt; I think this is an excellent proposal, specifically because it does
&gt; not rely on a centralized authority, and re-uses the namespacing
&gt; concepts of the Web. Its also fully agnostic towards any specific
&gt; data format  you can use your own binary or text format, something
&gt; like JSON or YAML, and if you pick XML, youre free to use DTDs, RELAX
&gt; NG schemas, Schematron or even XML Schema to document it. Its also
&gt; great in that it allows for clients with different knowledge about any
&gt; particular format to do their best to handle it. One client might be
&gt; hard-coded against the complete string; another might retrieve the
&gt; RDDL, look for an XSD, and dynamically render some fancy visual
&gt; representation.
&gt;
&gt; I think the concept could even be extended to allow for querying of
&gt; supported media types: You could just do a GET on the resource with an
&gt; accept header of application/data-format and get back the link to the
&gt; RDDL (if there is any).
&gt;
&gt; Maybe theres something immediately, obviously wrong with this idea 
&gt; but if so, I cant see it. It will be interesting to see what others
&gt; say 
&gt;
&gt; [1] http://www.innoq.com/blog/st/2008/02/decentralizing_media_types.html
&gt;
&gt; [2] http://netzooid.com/blog/2008/02/07/why-a-restful-idl-is-an-oxymoron-and-what-we-really-need-instead/
&gt;
&gt;
&gt;
&gt; Stefan
&gt;
&gt; --
&gt;
&gt; Stefan Tilkov, http://www.innoq.com/blog/st/
&gt;
&gt;
&gt;
&gt;
&gt; On 11.12.2008, at 15:49, Bill Burke wrote:
&gt;
&gt;&gt; I had a need in one of my projects to query for different XML schema
&gt;&gt; documents from my RESTful service. Looking around the internet it
&gt;&gt; seemed that the de facto way of doing this would be:
&gt;&gt;
&gt;&gt; application/vnd.myformat+xml
&gt;&gt;
&gt;&gt; Or, just register "myformat" with IANA and have:
&gt;&gt;
&gt;&gt; application/myformat+xml
&gt;&gt;
&gt;&gt; One huge downside of this though is that my browser does not know
&gt;&gt; how to
&gt;&gt; render application/myformat+xml. So, my question to this list is, why
&gt;&gt; aren't MIME properties used to identify XML schema? For example:
&gt;&gt;
&gt;&gt; application/xml; schema=http://www.w3.org/2005/Atom
&gt;&gt;
&gt;&gt; I tried this approach with Firefox and Safari and both browser ignore
&gt;&gt; the attribute and render the document as XML.
&gt;&gt;
&gt;&gt; Would there be any reason NOT to use and promote this approach other
&gt;&gt; than it goes against current de facto convention? I blogged about  
&gt;&gt; this
&gt;&gt; a few months ago and have yet to receive a logical reason why this
&gt;&gt; approach isn't superior:
&gt;&gt;
&gt;&gt; http://bill.burkecentral.com/2008/03/05/restful-xml-content-negotitation/
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt;
&gt;&gt; Bill
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Bill Burke
&gt;&gt; JBoss, a division of Red Hat
&gt;&gt; http://bill.burkecentral.com
&gt;&gt;
&gt;&gt;
&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11743<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-11 16:49:39<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>
Just tested how XHR in Firefox and Safari deal with a +xml media type.  
Both recognize it as being XML, just as http://www.w3.org/TR/XMLHttpRequest 
  says.

Subbu

On Dec 11, 2008, at 6:49 AM, Bill Burke wrote:

&gt; I had a need in one of my projects to query for different XML schema
&gt; documents from my RESTful service.  Looking around the internet it
&gt; seemed that the de facto way of doing this would be:
&gt;
&gt; application/vnd.myformat+xml
&gt;
&gt; Or, just register "myformat" with IANA and have:
&gt;
&gt; application/myformat+xml
&gt;
&gt; One huge downside of this though is that my browser does not know  
&gt; how to
&gt; render application/myformat+xml.  So, my question to this list is, why
&gt; aren't MIME properties used to identify XML schema?  For example:
&gt;
&gt; application/xml; schema=http://www.w3.org/2005/Atom
&gt;
&gt; I tried this approach with Firefox and Safari and both browser ignore
&gt; the attribute and render the document as XML.
&gt;
&gt; Would there be any reason NOT to use and promote this approach other
&gt; than it goes against current de facto convention?  I blogged about  
&gt; this
&gt; a few months ago and have yet to receive a logical reason why this
&gt; approach isn't superior:
&gt;
&gt; http://bill.burkecentral.com/2008/03/05/restful-xml-content-negotitation/
&gt;
&gt; Thanks,
&gt;
&gt; Bill
&gt;
&gt;
&gt; -- 
&gt; Bill Burke
&gt; JBoss, a division of Red Hat
&gt; http://bill.burkecentral.com

---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11744<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-12-11 16:52:01<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On 11.12.2008, at 17:42, Subbu Allamaraju wrote:

&gt; Any reasons why is having a zillion types is a bad thing?  
&gt; Media-"type" is a type, and generic types don't convey much to  
&gt; clients.
&gt;
&gt; Subbu


The same could be said for interfaces  why not simply have millions  
of them? Clearly, a generic interface has benefits. Following this  
line of reasoning, RDF would hit a sweet spot. But I hear there are at  
least some people who have doubts about RDF :-)

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11745<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-11 16:59:27<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>Hmm. Let's say, if we fix the interface to be uniform, and fix all  
media types to be, say a dozen, where would that take us?

By the way, the point I am making (which I think is also reflected in  
Bill's original question) is that, when a client sees "text/html" it  
knows what it is. If it sees "application/pdf" it knows what it is.  
But if sees "application/xml", it can't tell what it is. That is why  
specific media types are good.

If I understand correctly, Mark's comment may be related to different  
parties trying to define different media types for the same thing - it  
is not necessarily to limit the number of possibilities. That's why we  
have IANA.

Subbu

On Dec 11, 2008, at 8:52 AM, Stefan Tilkov wrote:

&gt; On 11.12.2008, at 17:42, Subbu Allamaraju wrote:
&gt;
&gt;&gt; Any reasons why is having a zillion types is a bad thing?
&gt;&gt; Media-"type" is a type, and generic types don't convey much to
&gt;&gt; clients.
&gt;&gt;
&gt;&gt; Subbu
&gt;
&gt;
&gt; The same could be said for interfaces  why not simply have millions
&gt; of them? Clearly, a generic interface has benefits. Following this
&gt; line of reasoning, RDF would hit a sweet spot. But I hear there are at
&gt; least some people who have doubts about RDF :-)
&gt;
&gt; Stefan
&gt; --
&gt; Stefan Tilkov, http://www.innoq.com/blog/st/
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;

---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11746<br>
Sender:"Peter Williams" &lt;pezra@...&gt;<br>
Post Date/Time:2008-12-11 18:00:25<br>
Subject:Re: MIME properties instead +<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, Subbu Allamaraju &lt;subbu@...&gt; wrote:
&gt;
&gt; 
&gt; Just tested how XHR in Firefox and Safari deal with a +xml media type.  
&gt; Both recognize it as being XML, just as
http://www.w3.org/TR/XMLHttpRequest 
&gt;   says.

I am not sure exactly what Bill meant but a problem I have found is
that browsers don't render `+xml` documents as XML.  This means that
you do not get the pretty collapsible tree view of the XML for a
`+xml` document, instead you get a application chooser or download dialog.

This may seem like a minor issue but it is really a significant
impediment to using vnd mime types for systems with non-captive
consumers.  If you are trying to convince people to use your fancy new
REST web service they are most likely going to play with it in a
browser first.  Getting a "what application would you like to execute"
dialog is a lot less compelling that a nicely rendered self describing
XML document.  

I think this is actually a bug in browsers but you go to market with
the browsers you have.  Having a mechanism that can simultaneously
allow existing browser to render stuff prettily and app specific
consumers to request the specific document types might be worth it.

Peter
http://barelyenough.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11747<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-12-11 18:03:30<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On Thu, Dec 11, 2008 at 11:59 AM, Subbu Allamaraju &lt;subbu@...&gt; wrote:
&gt; Hmm. Let's say, if we fix the interface to be uniform, and fix all
&gt; media types to be, say a dozen, where would that take us?
&gt;
&gt; By the way, the point I am making (which I think is also reflected in
&gt; Bill's original question) is that, when a client sees "text/html" it
&gt; knows what it is. If it sees "application/pdf" it knows what it is.
&gt; But if sees "application/xml", it can't tell what it is. That is why
&gt; specific media types are good.
&gt;
&gt; If I understand correctly, Mark's comment may be related to different
&gt; parties trying to define different media types for the same thing - it
&gt; is not necessarily to limit the number of possibilities. That's why we
&gt; have IANA.

No, I meant that having lots of media types is a bad idea for
interoperability for the same reason having lots of interfaces is a
bad idea.

But to Bill's original question; sending, say, FooML with
application/xml is silly for the same reason that sending HTML as
text/plain is silly.  The media type - minus parameters - is intended
as a short name for the specification (or family thereof) which
enables the document to be interpreted.  See;

http://www.markbaker.ca/blog/2004/09/why-namespaces-dont-replace-media-types/

Use application/vnd.redhat.blahblah+xml.  Registration of vendor tree
types is trivial.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11748<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-11 18:24:21<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On Dec 11, 2008, at 10:03 AM, Mark Baker wrote:

&gt; On Thu, Dec 11, 2008 at 11:59 AM, Subbu Allamaraju &lt;subbu@...&gt;  
&gt; wrote:
&gt;&gt; Hmm. Let's say, if we fix the interface to be uniform, and fix all
&gt;&gt; media types to be, say a dozen, where would that take us?
&gt;&gt;
&gt;&gt; By the way, the point I am making (which I think is also reflected in
&gt;&gt; Bill's original question) is that, when a client sees "text/html" it
&gt;&gt; knows what it is. If it sees "application/pdf" it knows what it is.
&gt;&gt; But if sees "application/xml", it can't tell what it is. That is why
&gt;&gt; specific media types are good.
&gt;&gt;
&gt;&gt; If I understand correctly, Mark's comment may be related to different
&gt;&gt; parties trying to define different media types for the same thing -  
&gt;&gt; it
&gt;&gt; is not necessarily to limit the number of possibilities. That's why  
&gt;&gt; we
&gt;&gt; have IANA.
&gt;
&gt; No, I meant that having lots of media types is a bad idea for
&gt; interoperability for the same reason having lots of interfaces is a
&gt; bad idea.

Yes, interop is the key. But the downside is that most people  
interpret this argument to mean that they should limit themselves to  
"standard" media types no matter what. I would therefore augment this  
argument with "but avoid masquerading specialized representations with  
generic media types".

Subbu
---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11749<br>
Sender:Bill Burke &lt;bburke@...&gt;<br>
Post Date/Time:2008-12-11 18:34:46<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>Never tested with Javascript/XHR, but the browser itself does not render 
*+xml (except rss and atom of course).

Subbu Allamaraju wrote:
&gt; 
&gt; Just tested how XHR in Firefox and Safari deal with a +xml media type. 
&gt; Both recognize it as being XML, just as 
&gt; http://www.w3.org/TR/XMLHttpRequest says.
&gt; 
&gt; Subbu
&gt; 
&gt; On Dec 11, 2008, at 6:49 AM, Bill Burke wrote:
&gt; 
&gt;&gt; I had a need in one of my projects to query for different XML schema
&gt;&gt; documents from my RESTful service.  Looking around the internet it
&gt;&gt; seemed that the de facto way of doing this would be:
&gt;&gt;
&gt;&gt; application/vnd.myformat+xml
&gt;&gt;
&gt;&gt; Or, just register "myformat" with IANA and have:
&gt;&gt;
&gt;&gt; application/myformat+xml
&gt;&gt;
&gt;&gt; One huge downside of this though is that my browser does not know how to
&gt;&gt; render application/myformat+xml.  So, my question to this list is, why
&gt;&gt; aren't MIME properties used to identify XML schema?  For example:
&gt;&gt;
&gt;&gt; application/xml; schema=http://www.w3.org/2005/Atom
&gt;&gt;
&gt;&gt; I tried this approach with Firefox and Safari and both browser ignore
&gt;&gt; the attribute and render the document as XML.
&gt;&gt;
&gt;&gt; Would there be any reason NOT to use and promote this approach other
&gt;&gt; than it goes against current de facto convention?  I blogged about this
&gt;&gt; a few months ago and have yet to receive a logical reason why this
&gt;&gt; approach isn't superior:
&gt;&gt;
&gt;&gt; http://bill.burkecentral.com/2008/03/05/restful-xml-content-negotitation/
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt;
&gt;&gt; Bill
&gt;&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Bill Burke
&gt;&gt; JBoss, a division of Red Hat
&gt;&gt; http://bill.burkecentral.com
&gt; 
&gt; ---
&gt; http://subbu.org
&gt; 

-- 
Bill Burke
JBoss, a division of Red Hat
http://bill.burkecentral.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11750<br>
Sender:Bill Burke &lt;bburke@...&gt;<br>
Post Date/Time:2008-12-11 18:53:58<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>

Stefan Tilkov wrote:
&gt; application/data-format;uri=http://mediatypes.example.com/foo/bar
&gt; 

I commented this on your blog when you wrote it.  I didn't like it 
because again, a browser wouldn't know how to render it.  Also, you as a 
programmer don't know its XML until you follow the link.

&gt; I think the concept could even be extended to allow for querying of  
&gt; supported media types: You could just do a GET on the resource with an  
&gt; accept header of application/data-format and get back the link to the  
&gt; RDDL (if there is any).
&gt; 

For XML a RDDL doesn't make sense.  We already have XML Schema.  With 
formats like Badger you could say XML schema is good enough for JSON too.

I do like the idea of asking the server for what data formats it 
supports though.  I wish the OPTIONS method of HTTP provided this 
information.  For example:

OPTIONS /foo/bar

would return a response of

HTTP/1.1 200 OK
Accept: application/xml, application/json, text/plain
Accept-Language: en, es, fr
Allow: GET, POST, HEAD


Could something like this be done?  Or is this overloading OPTIONS too 
much.  The specification really doesn't say exactly what OPTIONS 
returns, but what I'm proposing does seem to fall in the definition of 
the method.

Bill

-- 
Bill Burke
JBoss, a division of Red Hat
http://bill.burkecentral.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11751<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-12-11 18:57:50<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>Until Subbu's post, I didn't even know that anything official  
recognized +xml (Dream, our REST framework for .NET, does so).

Has the +xml thingy been standardized anywhere?

- Steve

--------------
Steve G. Bjorg
http://mindtouch.com
http://twitter.com/bjorg

On Dec 11, 2008, at 10:34 AM, Bill Burke wrote:

&gt; Never tested with Javascript/XHR, but the browser itself does not  
&gt; render
&gt; *+xml (except rss and atom of course).
&gt;
&gt; Subbu Allamaraju wrote:
&gt;&gt;
&gt;&gt; Just tested how XHR in Firefox and Safari deal with a +xml media  
&gt;&gt; type.
&gt;&gt; Both recognize it as being XML, just as
&gt;&gt; http://www.w3.org/TR/XMLHttpRequest says.
&gt;&gt;
&gt;&gt; Subbu
&gt;&gt;
&gt;&gt; On Dec 11, 2008, at 6:49 AM, Bill Burke wrote:
&gt;&gt;
&gt;&gt;&gt; I had a need in one of my projects to query for different XML schema
&gt;&gt;&gt; documents from my RESTful service.  Looking around the internet it
&gt;&gt;&gt; seemed that the de facto way of doing this would be:
&gt;&gt;&gt;
&gt;&gt;&gt; application/vnd.myformat+xml
&gt;&gt;&gt;
&gt;&gt;&gt; Or, just register "myformat" with IANA and have:
&gt;&gt;&gt;
&gt;&gt;&gt; application/myformat+xml
&gt;&gt;&gt;
&gt;&gt;&gt; One huge downside of this though is that my browser does not know  
&gt;&gt;&gt; how to
&gt;&gt;&gt; render application/myformat+xml.  So, my question to this list is,  
&gt;&gt;&gt; why
&gt;&gt;&gt; aren't MIME properties used to identify XML schema?  For example:
&gt;&gt;&gt;
&gt;&gt;&gt; application/xml; schema=http://www.w3.org/2005/Atom
&gt;&gt;&gt;
&gt;&gt;&gt; I tried this approach with Firefox and Safari and both browser  
&gt;&gt;&gt; ignore
&gt;&gt;&gt; the attribute and render the document as XML.
&gt;&gt;&gt;
&gt;&gt;&gt; Would there be any reason NOT to use and promote this approach other
&gt;&gt;&gt; than it goes against current de facto convention?  I blogged about  
&gt;&gt;&gt; this
&gt;&gt;&gt; a few months ago and have yet to receive a logical reason why this
&gt;&gt;&gt; approach isn't superior:
&gt;&gt;&gt;
&gt;&gt;&gt; http://bill.burkecentral.com/2008/03/05/restful-xml-content-negotitation/
&gt;&gt;&gt;
&gt;&gt;&gt; Thanks,
&gt;&gt;&gt;
&gt;&gt;&gt; Bill
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; Bill Burke
&gt;&gt;&gt; JBoss, a division of Red Hat
&gt;&gt;&gt; http://bill.burkecentral.com
&gt;&gt;
&gt;&gt; ---
&gt;&gt; http://subbu.org
&gt;&gt;
&gt;
&gt; -- 
&gt; Bill Burke
&gt; JBoss, a division of Red Hat
&gt; http://bill.burkecentral.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11752<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-11 19:05:54<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>http://www.ietf.org/rfc/rfc3023.txt

On Dec 11, 2008, at 10:57 AM, Steve Bjorg wrote:

&gt; Until Subbu's post, I didn't even know that anything official
&gt; recognized +xml (Dream, our REST framework for .NET, does so).
&gt;
&gt; Has the +xml thingy been standardized anywhere?
&gt;
&gt; - Steve
&gt;
&gt; --------------
&gt; Steve G. Bjorg
&gt; http://mindtouch.com
&gt; http://twitter.com/bjorg
&gt;
&gt; On Dec 11, 2008, at 10:34 AM, Bill Burke wrote:
&gt;
&gt;&gt; Never tested with Javascript/XHR, but the browser itself does not
&gt;&gt; render
&gt;&gt; *+xml (except rss and atom of course).
&gt;&gt;
&gt;&gt; Subbu Allamaraju wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; Just tested how XHR in Firefox and Safari deal with a +xml media
&gt;&gt;&gt; type.
&gt;&gt;&gt; Both recognize it as being XML, just as
&gt;&gt;&gt; http://www.w3.org/TR/XMLHttpRequest says.
&gt;&gt;&gt;
&gt;&gt;&gt; Subbu
&gt;&gt;&gt;
&gt;&gt;&gt; On Dec 11, 2008, at 6:49 AM, Bill Burke wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; I had a need in one of my projects to query for different XML  
&gt;&gt;&gt;&gt; schema
&gt;&gt;&gt;&gt; documents from my RESTful service.  Looking around the internet it
&gt;&gt;&gt;&gt; seemed that the de facto way of doing this would be:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; application/vnd.myformat+xml
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Or, just register "myformat" with IANA and have:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; application/myformat+xml
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; One huge downside of this though is that my browser does not know
&gt;&gt;&gt;&gt; how to
&gt;&gt;&gt;&gt; render application/myformat+xml.  So, my question to this list is,
&gt;&gt;&gt;&gt; why
&gt;&gt;&gt;&gt; aren't MIME properties used to identify XML schema?  For example:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; application/xml; schema=http://www.w3.org/2005/Atom
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; I tried this approach with Firefox and Safari and both browser
&gt;&gt;&gt;&gt; ignore
&gt;&gt;&gt;&gt; the attribute and render the document as XML.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Would there be any reason NOT to use and promote this approach  
&gt;&gt;&gt;&gt; other
&gt;&gt;&gt;&gt; than it goes against current de facto convention?  I blogged about
&gt;&gt;&gt;&gt; this
&gt;&gt;&gt;&gt; a few months ago and have yet to receive a logical reason why this
&gt;&gt;&gt;&gt; approach isn't superior:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; http://bill.burkecentral.com/2008/03/05/restful-xml-content-negotitation/
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Thanks,
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Bill
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; Bill Burke
&gt;&gt;&gt;&gt; JBoss, a division of Red Hat
&gt;&gt;&gt;&gt; http://bill.burkecentral.com
&gt;&gt;&gt;
&gt;&gt;&gt; ---
&gt;&gt;&gt; http://subbu.org
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Bill Burke
&gt;&gt; JBoss, a division of Red Hat
&gt;&gt; http://bill.burkecentral.com
&gt;

---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11753<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-12-11 19:07:34<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>based on a thread here back in march [link missing], posted my
suggestion for using the OPTIONS method to return media-type help in
the header [http://www.amundsen.com/blog/archives/716].

typical response to OPTIONS call might be:
RESPONSE: **************
HTTP/1.1 200 OK
...
Allow: DELETE,GET,HEAD,OPTIONS,POST,PUT
X-Accept-Types: text/html,text/xml,application/json
X-Content-Types: text/xml,application/x-www-form-urlencoded,application/json

details in my blog post.

mca
http://amundsen.com/blog/




On Thu, Dec 11, 2008 at 13:53, Bill Burke &lt;bburke@...&gt; wrote:
&gt;
&gt;
&gt; Stefan Tilkov wrote:
&gt;&gt; application/data-format;uri=http://mediatypes.example.com/foo/bar
&gt;&gt;
&gt;
&gt; I commented this on your blog when you wrote it.  I didn't like it
&gt; because again, a browser wouldn't know how to render it.  Also, you as a
&gt; programmer don't know its XML until you follow the link.
&gt;
&gt;&gt; I think the concept could even be extended to allow for querying of
&gt;&gt; supported media types: You could just do a GET on the resource with an
&gt;&gt; accept header of application/data-format and get back the link to the
&gt;&gt; RDDL (if there is any).
&gt;&gt;
&gt;
&gt; For XML a RDDL doesn't make sense.  We already have XML Schema.  With
&gt; formats like Badger you could say XML schema is good enough for JSON too.
&gt;
&gt; I do like the idea of asking the server for what data formats it
&gt; supports though.  I wish the OPTIONS method of HTTP provided this
&gt; information.  For example:
&gt;
&gt; OPTIONS /foo/bar
&gt;
&gt; would return a response of
&gt;
&gt; HTTP/1.1 200 OK
&gt; Accept: application/xml, application/json, text/plain
&gt; Accept-Language: en, es, fr
&gt; Allow: GET, POST, HEAD
&gt;
&gt;
&gt; Could something like this be done?  Or is this overloading OPTIONS too
&gt; much.  The specification really doesn't say exactly what OPTIONS
&gt; returns, but what I'm proposing does seem to fall in the definition of
&gt; the method.
&gt;
&gt; Bill
&gt;
&gt; --
&gt; Bill Burke
&gt; JBoss, a division of Red Hat
&gt; http://bill.burkecentral.com
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11754<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-11 19:21:05<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>Perhaps that is a question for the HTTP-WG for clarification since  
2616 defines Accept-* as request headers.

Subbu

On Dec 11, 2008, at 10:53 AM, Bill Burke wrote:

&gt; I do like the idea of asking the server for what data formats it
&gt; supports though.  I wish the OPTIONS method of HTTP provided this
&gt; information.  For example:
&gt;
&gt; OPTIONS /foo/bar
&gt;
&gt; would return a response of
&gt;
&gt; HTTP/1.1 200 OK
&gt; Accept: application/xml, application/json, text/plain
&gt; Accept-Language: en, es, fr
&gt; Allow: GET, POST, HEAD
&gt;
&gt;
&gt; Could something like this be done?  Or is this overloading OPTIONS too
&gt; much.  The specification really doesn't say exactly what OPTIONS
&gt; returns, but what I'm proposing does seem to fall in the definition of
&gt; the method.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11755<br>
Sender:Bill Burke &lt;bburke@...&gt;<br>
Post Date/Time:2008-12-11 19:25:36<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>

Mark Baker wrote:
&gt; Use application/vnd.redhat.blahblah+xml. Registration of vendor tree
&gt; types is trivial.
&gt; 

Registration of vnd.redhat.blahblah will not allow Firefox and Safari to 
render my documents though :)  I see your point of why namespaces don't 
replace media types, but your example is an exception rather than the 
rule IME.  There's also no reason we couldn't use a different identifier 
as a property name.

-- 
Bill Burke
JBoss, a division of Red Hat
http://bill.burkecentral.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11756<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-12-11 19:23:14<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On Dec 11, 2008, at 11:05 AM, Subbu Allamaraju wrote:

&gt; http://www.ietf.org/rfc/rfc3023.txt

Thx!

- Steve

--------------
Steve G. Bjorg
http://mindtouch.com
http://twitter.com/bjorg



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11757<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-11 19:32:08<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>How about supporting agent-driven negotiation for browser-scenarios?

Subbu

On Dec 11, 2008, at 11:25 AM, Bill Burke wrote:

&gt;
&gt;
&gt; Mark Baker wrote:
&gt;&gt; Use application/vnd.redhat.blahblah+xml. Registration of vendor tree
&gt;&gt; types is trivial.
&gt;&gt;
&gt;
&gt; Registration of vnd.redhat.blahblah will not allow Firefox and  
&gt; Safari to
&gt; render my documents though :)  I see your point of why namespaces  
&gt; don't
&gt; replace media types, but your example is an exception rather than the
&gt; rule IME.  There's also no reason we couldn't use a different  
&gt; identifier
&gt; as a property name.
&gt;
&gt; -- 
&gt; Bill Burke
&gt; JBoss, a division of Red Hat
&gt; http://bill.burkecentral.com

---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11758<br>
Sender:Bill Burke &lt;bburke@...&gt;<br>
Post Date/Time:2008-12-11 19:40:05<br>
Subject:OPTIONS was Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>mike amundsen wrote:
&gt; 
&gt; 
&gt; based on a thread here back in march [link missing], posted my
&gt; suggestion for using the OPTIONS method to return media-type help in
&gt; the header [http://www.amundsen.com/blog/archives/716 
&gt; &lt;http://www.amundsen.com/blog/archives/716&gt;].
&gt; 

There's nothing illegal or inherently wrong about doing this sort of 
thing is there?

-- 
Bill Burke
JBoss, a division of Red Hat
http://bill.burkecentral.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11759<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-12-11 19:45:56<br>
Subject:Re: OPTIONS was Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>nope - OPTIONS is 'wide open.'  the only issue is that my approach has
no 'reach.'

i love it. i use it in my implementations. but only 'my clients' know about it.


mca
http://amundsen.com/blog/




On Thu, Dec 11, 2008 at 14:40, Bill Burke &lt;bburke@...&gt; wrote:
&gt; mike amundsen wrote:
&gt;&gt;
&gt;&gt;
&gt;&gt; based on a thread here back in march [link missing], posted my
&gt;&gt; suggestion for using the OPTIONS method to return media-type help in
&gt;&gt; the header [http://www.amundsen.com/blog/archives/716
&gt;&gt; &lt;http://www.amundsen.com/blog/archives/716&gt;].
&gt;&gt;
&gt;
&gt; There's nothing illegal or inherently wrong about doing this sort of
&gt; thing is there?
&gt;
&gt; --
&gt; Bill Burke
&gt; JBoss, a division of Red Hat
&gt; http://bill.burkecentral.com
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11760<br>
Sender:Bill Burke &lt;bburke@...&gt;<br>
Post Date/Time:2008-12-11 20:08:15<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>Not sure what you mean.  You mean Peter's suggestion?  Of looking at the 
User-Agent header?  Not very feasible to add to user code (and ugly to 
add to user code).  It could be added as a cross-cutting concern if your 
server-side framework supported it.

Subbu Allamaraju wrote:
&gt; How about supporting agent-driven negotiation for browser-scenarios?
&gt; 
&gt; Subbu
&gt; 
&gt; On Dec 11, 2008, at 11:25 AM, Bill Burke wrote:
&gt; 
&gt;&gt;
&gt;&gt;
&gt;&gt; Mark Baker wrote:
&gt;&gt;&gt; Use application/vnd.redhat.blahblah+xml. Registration of vendor tree
&gt;&gt;&gt; types is trivial.
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; Registration of vnd.redhat.blahblah will not allow Firefox and Safari to
&gt;&gt; render my documents though :)  I see your point of why namespaces don't
&gt;&gt; replace media types, but your example is an exception rather than the
&gt;&gt; rule IME.  There's also no reason we couldn't use a different identifier
&gt;&gt; as a property name.
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Bill Burke
&gt;&gt; JBoss, a division of Red Hat
&gt;&gt; http://bill.burkecentral.com
&gt; 
&gt; ---
&gt; http://subbu.org
&gt; 

-- 
Bill Burke
JBoss, a division of Red Hat
http://bill.burkecentral.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11761<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-12-11 20:10:52<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On Thu, Dec 11, 2008 at 2:25 PM, Bill Burke &lt;bburke@...&gt; wrote:
&gt;
&gt;
&gt; Mark Baker wrote:
&gt;&gt; Use application/vnd.redhat.blahblah+xml. Registration of vendor tree
&gt;&gt; types is trivial.
&gt;&gt;
&gt;
&gt; Registration of vnd.redhat.blahblah will not allow Firefox and Safari to
&gt; render my documents though :)

Of course, they only know a handful of formats.  If you're dealing
with a browser, don't send an unknown format, transform it into HTML.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11762<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-11 20:15:25<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>When you find that the client does not support application/ 
vnd.redhat.blahblah+xml, redirect the client to some  
blahblahdocument.xml. This may work since when browsers don't  
recognize a media type, they usually fall back to file extensions.

On Dec 11, 2008, at 12:08 PM, Bill Burke wrote:

&gt; Not sure what you mean.  You mean Peter's suggestion?  Of looking at  
&gt; the User-Agent header?  Not very feasible to add to user code (and  
&gt; ugly to add to user code).  It could be added as a cross-cutting  
&gt; concern if your server-side framework supported it.
&gt;
&gt; Subbu Allamaraju wrote:
&gt;&gt; How about supporting agent-driven negotiation for browser-scenarios?
&gt;&gt; Subbu
&gt;&gt; On Dec 11, 2008, at 11:25 AM, Bill Burke wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Mark Baker wrote:
&gt;&gt;&gt;&gt; Use application/vnd.redhat.blahblah+xml. Registration of vendor  
&gt;&gt;&gt;&gt; tree
&gt;&gt;&gt;&gt; types is trivial.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Registration of vnd.redhat.blahblah will not allow Firefox and  
&gt;&gt;&gt; Safari to
&gt;&gt;&gt; render my documents though :)  I see your point of why namespaces  
&gt;&gt;&gt; don't
&gt;&gt;&gt; replace media types, but your example is an exception rather than  
&gt;&gt;&gt; the
&gt;&gt;&gt; rule IME.  There's also no reason we couldn't use a different  
&gt;&gt;&gt; identifier
&gt;&gt;&gt; as a property name.
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; Bill Burke
&gt;&gt;&gt; JBoss, a division of Red Hat
&gt;&gt;&gt; http://bill.burkecentral.com
&gt;&gt; ---
&gt;&gt; http://subbu.org
&gt;
&gt; -- 
&gt; Bill Burke
&gt; JBoss, a division of Red Hat
&gt; http://bill.burkecentral.com

---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11763<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-12-11 20:19:41<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>Browser rendering issues usually happen when the server doesn't
properly handle content-neg; i.e. resources are defined for limited
(only one) representation format(s).

mca
http://amundsen.com/blog/




On Thu, Dec 11, 2008 at 15:15, Subbu Allamaraju &lt;subbu@...&gt; wrote:
&gt; When you find that the client does not support application/
&gt; vnd.redhat.blahblah+xml, redirect the client to some
&gt; blahblahdocument.xml. This may work since when browsers don't
&gt; recognize a media type, they usually fall back to file extensions.
&gt;
&gt; On Dec 11, 2008, at 12:08 PM, Bill Burke wrote:
&gt;
&gt;&gt; Not sure what you mean.  You mean Peter's suggestion?  Of looking at
&gt;&gt; the User-Agent header?  Not very feasible to add to user code (and
&gt;&gt; ugly to add to user code).  It could be added as a cross-cutting
&gt;&gt; concern if your server-side framework supported it.
&gt;&gt;
&gt;&gt; Subbu Allamaraju wrote:
&gt;&gt;&gt; How about supporting agent-driven negotiation for browser-scenarios?
&gt;&gt;&gt; Subbu
&gt;&gt;&gt; On Dec 11, 2008, at 11:25 AM, Bill Burke wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Mark Baker wrote:
&gt;&gt;&gt;&gt;&gt; Use application/vnd.redhat.blahblah+xml. Registration of vendor
&gt;&gt;&gt;&gt;&gt; tree
&gt;&gt;&gt;&gt;&gt; types is trivial.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Registration of vnd.redhat.blahblah will not allow Firefox and
&gt;&gt;&gt;&gt; Safari to
&gt;&gt;&gt;&gt; render my documents though :)  I see your point of why namespaces
&gt;&gt;&gt;&gt; don't
&gt;&gt;&gt;&gt; replace media types, but your example is an exception rather than
&gt;&gt;&gt;&gt; the
&gt;&gt;&gt;&gt; rule IME.  There's also no reason we couldn't use a different
&gt;&gt;&gt;&gt; identifier
&gt;&gt;&gt;&gt; as a property name.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; --
&gt;&gt;&gt;&gt; Bill Burke
&gt;&gt;&gt;&gt; JBoss, a division of Red Hat
&gt;&gt;&gt;&gt; http://bill.burkecentral.com
&gt;&gt;&gt; ---
&gt;&gt;&gt; http://subbu.org
&gt;&gt;
&gt;&gt; --
&gt;&gt; Bill Burke
&gt;&gt; JBoss, a division of Red Hat
&gt;&gt; http://bill.burkecentral.com
&gt;
&gt; ---
&gt; http://subbu.org
&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11764<br>
Sender:Bill Burke &lt;bburke@...&gt;<br>
Post Date/Time:2008-12-11 20:19:59<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>

Mark Baker wrote:
&gt; On Thu, Dec 11, 2008 at 2:25 PM, Bill Burke &lt;bburke@...&gt; wrote:
&gt;&gt;
&gt;&gt; Mark Baker wrote:
&gt;&gt;&gt; Use application/vnd.redhat.blahblah+xml. Registration of vendor tree
&gt;&gt;&gt; types is trivial.
&gt;&gt;&gt;
&gt;&gt; Registration of vnd.redhat.blahblah will not allow Firefox and Safari to
&gt;&gt; render my documents though :)
&gt; 
&gt; Of course, they only know a handful of formats.  If you're dealing
&gt; with a browser, don't send an unknown format, transform it into HTML.
&gt; 

Doesn't really help to transform things to HTML when you're trying to 
debug an XML problem.

Customer Support:  Hey Bill, this XML message won't post to the system
Bill: Where is it? I'll take a look to see if it is formatted wrong.
Customer Support: Its at http://internal.com/my/system/messages/33231232


-- 
Bill Burke
JBoss, a division of Red Hat
http://bill.burkecentral.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11765<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-12-11 20:25:30<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>Bill:

i provide a simple 'viewer' in HTML/Ajax that makes it possible to see
all the various (text-based) messages no matter the media-type. very
simple to build.

also, modifying the server con-neg to support 'media-type' suffixes
also works (/messages/1234.xml, .html, .json) in most cases.

finally, i've even employed reg hacks on MSIE to get it to render
custom media-types. really freaks out the folks watching my
presentations&lt;g&gt;.

mca
http://amundsen.com/blog/




On Thu, Dec 11, 2008 at 15:19, Bill Burke &lt;bburke@...&gt; wrote:
&gt;
&gt;
&gt; Mark Baker wrote:
&gt;&gt; On Thu, Dec 11, 2008 at 2:25 PM, Bill Burke &lt;bburke@...&gt; wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; Mark Baker wrote:
&gt;&gt;&gt;&gt; Use application/vnd.redhat.blahblah+xml. Registration of vendor tree
&gt;&gt;&gt;&gt; types is trivial.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt; Registration of vnd.redhat.blahblah will not allow Firefox and Safari to
&gt;&gt;&gt; render my documents though :)
&gt;&gt;
&gt;&gt; Of course, they only know a handful of formats.  If you're dealing
&gt;&gt; with a browser, don't send an unknown format, transform it into HTML.
&gt;&gt;
&gt;
&gt; Doesn't really help to transform things to HTML when you're trying to
&gt; debug an XML problem.
&gt;
&gt; Customer Support:  Hey Bill, this XML message won't post to the system
&gt; Bill: Where is it? I'll take a look to see if it is formatted wrong.
&gt; Customer Support: Its at http://internal.com/my/system/messages/33231232
&gt;
&gt;
&gt; --
&gt; Bill Burke
&gt; JBoss, a division of Red Hat
&gt; http://bill.burkecentral.com
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11766<br>
Sender:Andrzej Jan Taramina &lt;andrzej@...&gt;<br>
Post Date/Time:2008-12-11 20:26:41<br>
Subject:Re: MIME properties instead +<br>
Message:<br><br>
<pre>John Kemp said:

&gt; I use the HTTP Link: header [1] to do this kind of thing - defining a 
&gt; link between the representation returned and its XML schema:
&gt; 
&gt; HTTP/1.1 200 OK
&gt; Content-Type: application/vnd.format+xml
&gt; Link: http://schemas.example.com/format/1.0; rel='schema'
&gt; 
&gt; {entity-body containing XML document}

Sweet!  Simple...elegant and consistent with HTTP specs.

I like it!

-- 
Andrzej Taramina
Chaeron Corporation: Enterprise System Solutions
http://www.chaeron.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11767<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-11 20:33:48<br>
Subject:Re: [rest-discuss] Re: MIME properties instead +<br>
Message:<br><br>
<pre>Just curious - what will your client app do if this Link header is  
missing?

Subbu

On Dec 11, 2008, at 12:26 PM, Andrzej Jan Taramina wrote:

&gt; John Kemp said:
&gt;
&gt;&gt; I use the HTTP Link: header [1] to do this kind of thing - defining a
&gt;&gt; link between the representation returned and its XML schema:
&gt;&gt;
&gt;&gt; HTTP/1.1 200 OK
&gt;&gt; Content-Type: application/vnd.format+xml
&gt;&gt; Link: http://schemas.example.com/format/1.0; rel='schema'
&gt;&gt;
&gt;&gt; {entity-body containing XML document}
&gt;
&gt; Sweet!  Simple...elegant and consistent with HTTP specs.
&gt;
&gt; I like it!
&gt;
&gt; -- 
&gt; Andrzej Taramina
&gt; Chaeron Corporation: Enterprise System Solutions
&gt; http://www.chaeron.com

---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11768<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-12-11 20:36:04<br>
Subject:Re: [rest-discuss] Re: MIME properties instead +<br>
Message:<br><br>
<pre>"Peter Williams" wrote:
&gt; 
&gt; I think this is actually a bug in browsers but you go to market with
&gt; the browsers you have.  Having a mechanism that can simultaneously
&gt; allow existing browser to render stuff prettily and app specific
&gt; consumers to request the specific document types might be worth it.
&gt; 

The major "browsers we have" these days come with XSLT built-in.  It
isn't too difficult to attach an XSLT transformation to any ad-hoc XML
document, causing browsers to transform and render it as HTML.  Non-
browsers interested in the underlying document can just skip the
XML PI.

There are existing MIME types which support this, no need to define a
new one for each application of XML.  Content negotiation can also be
used, where a client that groks application/vnd.foo+xml gets that,
while other clients are served an HTML representation.  Browsers also
support an extension mechanism, where a plugin handles the rendering of
application/vnd.foo+xml...

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11769<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-12-11 21:44:02<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>Stefan Tilkov wrote:
&gt; There was a whole discussion and even a very detailed proposal for  
&gt; something like this a while back. Here's what I wrote back then [1].  
&gt; Interestingly, after a presentation I gave yesterday, somebody  
&gt; suggested something very similar; Paul Fremantle, who happened to be  
&gt; there, and myself still believe this would be worth pursuing.
&gt; 
&gt; A while back, Sanjiva Weerawarana proposed (via email) a way to  
&gt; decentralize media types. I think the proposal was excellent; Dan  
&gt; Diephouses excellent latest blog post [2] reminded me of it again.  
&gt; Heres a brief introduction to a possible solution for decentralizing  
&gt; media types.
&gt; 
&gt; The Problem
&gt; In a plain HTTP interaction, the Content-type and Accept headers carry  
&gt; information about the type of the data being transmitted and accepted,  
&gt; respectively. Youve seen these media types in numerous examples, e.g.  
&gt; a typical request or response might have a Content-type header with  
&gt; the value application/xml.
&gt; 
&gt; The problem with this approach is that media types have to be  
&gt; registered centrally with IANA. This means that while you can invent  
&gt; your own media types, nobody will know about them  unless you go  
&gt; through the time-consuming process of actually having your media type  
&gt; registered.
&gt; 
&gt; Whats wrong with application/xml? Nothing, really, except that it  
&gt; doesnt tell you anything more than that what is being sent is XML:  
&gt; You dont have any way to tell what XML it is unless you actually  
&gt; parse and e.g. look at the outer elements XML namespace.
&gt; 
&gt; The Solution
&gt; What Sanjiva (and his collaborators, Paul Fremantle, Jonathan Marsh  
&gt; and James Clark) propose is this: Define a single new media type,  
&gt; application/data-format, with a required parameter uri. This uri  
&gt; points to a definition of the data format, like this:
&gt; 
&gt; application/data-format;uri=http://mediatypes.example.com/foo/bar
&gt; 
&gt; The uri is an HTTP URI that points to an RDDL document, in other  
&gt; words: you can do an HTTP GET on it and retrieve a documentation of  
&gt; the data format thats both human-readbable as well as machine- 
&gt; processable.

So, for this to work it assumes all user agents that don't know the 
formats will know how to process RDDL.

Some questions come to mind:

How does this work for mixed XML content? What is the appropiate media 
type for an XHTML document containing RDFa that uses OWL? What should 
the user agent assume for all possible media types such content might be 
served as? What should the RDDL say about such content that is suitable 
for human-readbable as well as machine-processable options?

IOW, it seems XML+namespaces blow a hole in the media type approach, as 
do mixed models. I've been waiting for years for someone to explain how 
this isn't a gap in the architecture.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11770<br>
Sender:Andrzej Jan Taramina &lt;andrzej@...&gt;<br>
Post Date/Time:2008-12-11 21:59:02<br>
Subject:Re: [rest-discuss] Re: MIME properties instead +<br>
Message:<br><br>
<pre>Subbu:

&gt; Just curious - what will your client app do if this Link header is missing?

Pine for the fijords, I suppose. ;-)

More seriously, same thing it would do now without the content type semantics available in the mime-type....inspect the 
payload and try to derive the semantics, or give up and throw an error, or proceed as if it got what it needed/wanted by 
convention (possibly to throw an error down the road).  Same as always.

-- 
Andrzej Taramina
Chaeron Corporation: Enterprise System Solutions
http://www.chaeron.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11771<br>
Sender:"Peter Williams" &lt;pezra@...&gt;<br>
Post Date/Time:2008-12-11 23:01:42<br>
Subject:Re: MIME properties instead +<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, Bill Burke &lt;bburke@...&gt; wrote:

&gt; Doesn't really help to transform things to HTML when you're trying to 
&gt; debug an XML problem.
&gt; 
&gt; Customer Support:  Hey Bill, this XML message won't post to the system
&gt; Bill: Where is it? I'll take a look to see if it is formatted wrong.
&gt; Customer Support: Its at http://internal.com/my/system/messages/33231232

Based on the long discussion on this topic i think it is clear that
your only real choice is to learn to love `curl`, `xml_pp` and `less`.
:)  

That combination is my tool chain for situations like the one you
describe, anyway.

Peter
http://barelyenough.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11772<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-12-11 23:18:43<br>
Subject:Re: [rest-discuss] Re: MIME properties instead +<br>
Message:<br><br>
<pre>On the Windows platform WFetch and Fiddler are (free) 'graphical'
alternatives to curl.

mca
http://amundsen.com/blog/




On Thu, Dec 11, 2008 at 18:01, Peter Williams &lt;pezra@...&gt; wrote:
&gt; --- In rest-discuss@yahoogroups.com, Bill Burke &lt;bburke@...&gt; wrote:
&gt;
&gt;&gt; Doesn't really help to transform things to HTML when you're trying to
&gt;&gt; debug an XML problem.
&gt;&gt;
&gt;&gt; Customer Support:  Hey Bill, this XML message won't post to the system
&gt;&gt; Bill: Where is it? I'll take a look to see if it is formatted wrong.
&gt;&gt; Customer Support: Its at http://internal.com/my/system/messages/33231232
&gt;
&gt; Based on the long discussion on this topic i think it is clear that
&gt; your only real choice is to learn to love `curl`, `xml_pp` and `less`.
&gt; :)
&gt;
&gt; That combination is my tool chain for situations like the one you
&gt; describe, anyway.
&gt;
&gt; Peter
&gt; http://barelyenough.org
&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11773<br>
Sender:Bill Burke &lt;bburke@...&gt;<br>
Post Date/Time:2008-12-11 23:46:05<br>
Subject:Re: [rest-discuss] Re: MIME properties instead +<br>
Message:<br><br>
<pre>

Peter Williams wrote:
&gt; 
&gt; 
&gt; --- In rest-discuss@yahoogroups.com 
&gt; &lt;mailto:rest-discuss%40yahoogroups.com&gt;, Bill Burke &lt;bburke@...&gt; wrote:
&gt; 
&gt;  &gt; Doesn't really help to transform things to HTML when you're trying to
&gt;  &gt; debug an XML problem.
&gt;  &gt;
&gt;  &gt; Customer Support: Hey Bill, this XML message won't post to the system
&gt;  &gt; Bill: Where is it? I'll take a look to see if it is formatted wrong.
&gt;  &gt; Customer Support: Its at 
&gt; http://internal.com/my/system/messages/33231232 
&gt; &lt;http://internal.com/my/system/messages/33231232&gt;
&gt; 
&gt; Based on the long discussion on this topic i think it is clear that
&gt; your only real choice is to learn to love `curl`, `xml_pp` and `less`.
&gt; :)
&gt; 
&gt; That combination is my tool chain for situations like the one you
&gt; describe, anyway.
&gt; 
&gt; 

Sigh...

:)


-- 
Bill Burke
JBoss, a division of Red Hat
http://bill.burkecentral.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11774<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-12-12 02:40:30<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On Thu, Dec 11, 2008 at 4:44 PM, Bill de hOra &lt;bill@...&gt; wrote:
&gt; IOW, it seems XML+namespaces blow a hole in the media type approach, as
&gt; do mixed models. I've been waiting for years for someone to explain how
&gt; this isn't a gap in the architecture.

The problem here isn't media types, it's that XML+namespaces isn't a
complete solution to the mixed vocabulary problem.  We were working on
filling in the gaps in the CDF WG a couple of years ago, but they seem
to have hit the wall.  I actually wrote the core of the CDI spec the
day before I left the WG, but alas, that still hasn't been published.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11775<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-12-12 05:07:09<br>
Subject:Re: [rest-discuss] Re: MIME properties instead +<br>
Message:<br><br>
<pre>"mike amundsen" wrote:
&gt;
&gt; On the Windows platform WFetch and Fiddler are (free) 'graphical'
&gt; alternatives to curl.
&gt; 

Or use CLI curl.  I'm losing track of the number of ways to run GNU/FOSS
on Windows (used to just be cygwin), I only came across uwin today:

http://www.research.att.com/sw/tools/uwin/uwin.html

With Interix or uwin (or other), one can then install curl as a binary
with apt-get or pkgsrc, or build it from source using pkgsrc, portage,
or the raw source and gcc.  Stuff that doesn't build on Windows' POSIX
subsystem these days, is typically available as Win32 binaries anyway,
for example GIMP, Scribus or Inkscape.  My C:\ prompt on XP is bash, it
accepts either 'dir' or 'ls'...  I call it FAUXNIX.  :)

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11776<br>
Sender:"mike amundsen" &lt;mamund@...&gt;<br>
Post Date/Time:2008-12-12 05:14:25<br>
Subject:Re: [rest-discuss] Re: MIME properties instead +<br>
Message:<br><br>
<pre>Eric:

Yep, lots of ways to go. I've even run WFetch.exe via WINE over Ubuntu
(no SSL, but it covers most cases).

The point, I think, is that the Web browser is just one possible
client - and not always the best one for the job.

BTW - uwin is new to me, too. thanks for the pointer.

mca
http://amundsen.com/blog/




On Fri, Dec 12, 2008 at 00:07, Eric J. Bowman &lt;eric@...&gt; wrote:
&gt; "mike amundsen" wrote:
&gt;&gt;
&gt;&gt; On the Windows platform WFetch and Fiddler are (free) 'graphical'
&gt;&gt; alternatives to curl.
&gt;&gt;
&gt;
&gt; Or use CLI curl.  I'm losing track of the number of ways to run GNU/FOSS
&gt; on Windows (used to just be cygwin), I only came across uwin today:
&gt;
&gt; http://www.research.att.com/sw/tools/uwin/uwin.html
&gt;
&gt; With Interix or uwin (or other), one can then install curl as a binary
&gt; with apt-get or pkgsrc, or build it from source using pkgsrc, portage,
&gt; or the raw source and gcc.  Stuff that doesn't build on Windows' POSIX
&gt; subsystem these days, is typically available as Win32 binaries anyway,
&gt; for example GIMP, Scribus or Inkscape.  My C:\ prompt on XP is bash, it
&gt; accepts either 'dir' or 'ls'...  I call it FAUXNIX.  :)
&gt;
&gt; -Eric
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11777<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-12-12 08:06:35<br>
Subject:Re: [rest-discuss] Re: MIME properties instead +<br>
Message:<br><br>
<pre>"mike amundsen" wrote:
&gt; 
&gt; The point, I think, is that the Web browser is just one possible
&gt; client - and not always the best one for the job.
&gt; 

Yup, I got that point, I just like mentioning that every GUI or CLI tool
discussed regarding REST development is available on Windows...

http://www.mnot.net/blog/2008/05/22/http_debug

Like netcat, socat, ngrep, tcpflow, curl and others, because most folks
believe these valuable CLI tools are restricted to UNIX.

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11778<br>
Sender:Sanjiva Weerawarana &lt;sanjiva@...&gt;<br>
Post Date/Time:2008-12-12 09:45:36<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>Bill, the reason for the RDDL document is because often a schema is simply 
not enough info. The schema is simply syntactic info - it doesn't tell you 
even whether a value of type anyURI is a link or just a URI string for you 
to keep (think HTAEOS). So you need more than XSD .. RDDL gives a nice 
standard way to put any number of stuff into a single doc.

The theory that REST doesn't need new media type is simply not practical. 
If you really want to use HTTP RESTfully, then you have to use media types 
to fully describe the content that's flowing. Tieing one hand behind the 
back and saying "use one of the pre-registered ones" is simply silly.

Trying to hide behind application/xml doesn't cut it either IMO because of 
the first paragraph I wrote above.

BTW for the XML case we could actually special case and have another media 
type that knows its XML without having to do a GET on the RDDL. That way 
default rendering can occur even without having special knowledge of the 
XML itself.

Of course today's browsers can't deal with this - but that's true about 
any new media type! The idea we had was that we'd write plugins for 
today's browsers to make them support this concept naturally .. so prior 
to rendering it'd GET the RDDL and see how to render it using some built 
in thing if possible. (One of the natures we were going to suggest is that 
of "parent type" or super type .. again providing fallback behavior.)

Sanjiva.

Bill Burke wrote:
&gt; 
&gt; Stefan Tilkov wrote:
&gt;&gt; application/data-format;uri=http://mediatypes.example.com/foo/bar
&gt;&gt;
&gt; 
&gt; I commented this on your blog when you wrote it.  I didn't like it 
&gt; because again, a browser wouldn't know how to render it.  Also, you as a 
&gt; programmer don't know its XML until you follow the link.
&gt; 
&gt;&gt; I think the concept could even be extended to allow for querying of  
&gt;&gt; supported media types: You could just do a GET on the resource with an  
&gt;&gt; accept header of application/data-format and get back the link to the  
&gt;&gt; RDDL (if there is any).
&gt;&gt;
&gt; 
&gt; For XML a RDDL doesn't make sense.  We already have XML Schema.  With 
&gt; formats like Badger you could say XML schema is good enough for JSON too.
&gt; 
&gt; I do like the idea of asking the server for what data formats it 
&gt; supports though.  I wish the OPTIONS method of HTTP provided this 
&gt; information.  For example:
&gt; 
&gt; OPTIONS /foo/bar
&gt; 
&gt; would return a response of
&gt; 
&gt; HTTP/1.1 200 OK
&gt; Accept: application/xml, application/json, text/plain
&gt; Accept-Language: en, es, fr
&gt; Allow: GET, POST, HEAD
&gt; 
&gt; 
&gt; Could something like this be done?  Or is this overloading OPTIONS too 
&gt; much.  The specification really doesn't say exactly what OPTIONS 
&gt; returns, but what I'm proposing does seem to fall in the definition of 
&gt; the method.
&gt; 
&gt; Bill
&gt; 

-- 
Sanjiva Weerawarana, Ph.D.
Founder &amp; Director; Lanka Software Foundation; http://www.opensource.lk/
Founder, Chairman &amp; CEO; WSO2, Inc.; http://www.wso2.com/
Member; Apache Software Foundation; http://www.apache.org/
Visiting Lecturer; University of Moratuwa; http://www.cse.mrt.ac.lk/

Blog: http://sanjiva.weerawarana.org/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11779<br>
Sender:Sanjiva Weerawarana &lt;sanjiva@...&gt;<br>
Post Date/Time:2008-12-12 09:47:56<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>(1) The proposal was not XML specific.
(2) Absolutely wrong :). Every application defines their own namespaces .. 
it may be possible use a uniform interface to move data around, but you 
can't tell the world to use a uniform set of data too :).
(3) Oh heavens, are you saying HTTP caching doesn't work? ;-)

The reason adding schema= isn't enough is because a schema is often 
necessary, but not sufficient info about some piece of XML.

Sanjiva.

Steve Bjorg wrote:
&gt; Off-the-cuff, I like Bill's proposal better, b/c
&gt; 1) we already know it's XML, so anything that knows how to render XML  
&gt; is happy
&gt; 2) we already have an XML namespace for well-defined XML documents;  
&gt; nothing new to invent here
&gt; 3) asking an agent to fetch a DTD/RDDL or whatever is really bad idea  
&gt; (a lesson learned the hard way by the W3C; they have 130M requests per  
&gt; day for the HTML DTD!!!! see http://www.w3.org/blog/systeam/2008/02/08/w3c_s_excessive_dtd_traffic 
&gt;   )
&gt; 
&gt; I would assume that parsers for MIME types ignore unknown attributes  
&gt; for sake of forward compatibility.  So adding "; schema=..." feels  
&gt; intuitively like the right approach.  Just my $0.02.
&gt; 
&gt; - Steve
&gt; 
&gt; --------------
&gt; Steve G. Bjorg
&gt; http://mindtouch.com
&gt; http://twitter.com/bjorg
&gt; 
&gt; On Dec 11, 2008, at 8:18 AM, Stefan Tilkov wrote:
&gt; 
&gt;&gt; There was a whole discussion and even a very detailed proposal for
&gt;&gt; something like this a while back. Here's what I wrote back then [1].
&gt;&gt; Interestingly, after a presentation I gave yesterday, somebody
&gt;&gt; suggested something very similar; Paul Fremantle, who happened to be
&gt;&gt; there, and myself still believe this would be worth pursuing.
&gt;&gt;
&gt;&gt; A while back, Sanjiva Weerawarana proposed (via email) a way to
&gt;&gt; decentralize media types. I think the proposal was excellent; Dan
&gt;&gt; Diephouses excellent latest blog post [2] reminded me of it again.
&gt;&gt; Heres a brief introduction to a possible solution for decentralizing
&gt;&gt; media types.
&gt;&gt;
&gt;&gt; The Problem
&gt;&gt; In a plain HTTP interaction, the Content-type and Accept headers carry
&gt;&gt; information about the type of the data being transmitted and accepted,
&gt;&gt; respectively. Youve seen these media types in numerous examples, e.g.
&gt;&gt; a typical request or response might have a Content-type header with
&gt;&gt; the value application/xml.
&gt;&gt;
&gt;&gt; The problem with this approach is that media types have to be
&gt;&gt; registered centrally with IANA. This means that while you can invent
&gt;&gt; your own media types, nobody will know about them  unless you go
&gt;&gt; through the time-consuming process of actually having your media type
&gt;&gt; registered.
&gt;&gt;
&gt;&gt; Whats wrong with application/xml? Nothing, really, except that it
&gt;&gt; doesnt tell you anything more than that what is being sent is XML:
&gt;&gt; You dont have any way to tell what XML it is unless you actually
&gt;&gt; parse and e.g. look at the outer elements XML namespace.
&gt;&gt;
&gt;&gt; The Solution
&gt;&gt; What Sanjiva (and his collaborators, Paul Fremantle, Jonathan Marsh
&gt;&gt; and James Clark) propose is this: Define a single new media type,
&gt;&gt; application/data-format, with a required parameter uri. This uri
&gt;&gt; points to a definition of the data format, like this:
&gt;&gt;
&gt;&gt; application/data-format;uri=http://mediatypes.example.com/foo/bar
&gt;&gt;
&gt;&gt; The uri is an HTTP URI that points to an RDDL document, in other
&gt;&gt; words: you can do an HTTP GET on it and retrieve a documentation of
&gt;&gt; the data format thats both human-readbable as well as machine-
&gt;&gt; processable.
&gt;&gt;
&gt;&gt; My Opinion
&gt;&gt; I think this is an excellent proposal, specifically because it does
&gt;&gt; not rely on a centralized authority, and re-uses the namespacing
&gt;&gt; concepts of the Web. Its also fully agnostic towards any specific
&gt;&gt; data format  you can use your own binary or text format, something
&gt;&gt; like JSON or YAML, and if you pick XML, youre free to use DTDs, RELAX
&gt;&gt; NG schemas, Schematron or even XML Schema to document it. Its also
&gt;&gt; great in that it allows for clients with different knowledge about any
&gt;&gt; particular format to do their best to handle it. One client might be
&gt;&gt; hard-coded against the complete string; another might retrieve the
&gt;&gt; RDDL, look for an XSD, and dynamically render some fancy visual
&gt;&gt; representation.
&gt;&gt;
&gt;&gt; I think the concept could even be extended to allow for querying of
&gt;&gt; supported media types: You could just do a GET on the resource with an
&gt;&gt; accept header of application/data-format and get back the link to the
&gt;&gt; RDDL (if there is any).
&gt;&gt;
&gt;&gt; Maybe theres something immediately, obviously wrong with this idea 
&gt;&gt; but if so, I cant see it. It will be interesting to see what others
&gt;&gt; say 
&gt;&gt;
&gt;&gt; [1] http://www.innoq.com/blog/st/2008/02/decentralizing_media_types.html
&gt;&gt;
&gt;&gt; [2] http://netzooid.com/blog/2008/02/07/why-a-restful-idl-is-an-oxymoron-and-what-we-really-need-instead/
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; Stefan
&gt;&gt;
&gt;&gt; --
&gt;&gt;
&gt;&gt; Stefan Tilkov, http://www.innoq.com/blog/st/
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; On 11.12.2008, at 15:49, Bill Burke wrote:
&gt;&gt;
&gt;&gt;&gt; I had a need in one of my projects to query for different XML schema
&gt;&gt;&gt; documents from my RESTful service. Looking around the internet it
&gt;&gt;&gt; seemed that the de facto way of doing this would be:
&gt;&gt;&gt;
&gt;&gt;&gt; application/vnd.myformat+xml
&gt;&gt;&gt;
&gt;&gt;&gt; Or, just register "myformat" with IANA and have:
&gt;&gt;&gt;
&gt;&gt;&gt; application/myformat+xml
&gt;&gt;&gt;
&gt;&gt;&gt; One huge downside of this though is that my browser does not know
&gt;&gt;&gt; how to
&gt;&gt;&gt; render application/myformat+xml. So, my question to this list is, why
&gt;&gt;&gt; aren't MIME properties used to identify XML schema? For example:
&gt;&gt;&gt;
&gt;&gt;&gt; application/xml; schema=http://www.w3.org/2005/Atom
&gt;&gt;&gt;
&gt;&gt;&gt; I tried this approach with Firefox and Safari and both browser ignore
&gt;&gt;&gt; the attribute and render the document as XML.
&gt;&gt;&gt;
&gt;&gt;&gt; Would there be any reason NOT to use and promote this approach other
&gt;&gt;&gt; than it goes against current de facto convention? I blogged about  
&gt;&gt;&gt; this
&gt;&gt;&gt; a few months ago and have yet to receive a logical reason why this
&gt;&gt;&gt; approach isn't superior:
&gt;&gt;&gt;
&gt;&gt;&gt; http://bill.burkecentral.com/2008/03/05/restful-xml-content-negotitation/
&gt;&gt;&gt;
&gt;&gt;&gt; Thanks,
&gt;&gt;&gt;
&gt;&gt;&gt; Bill
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; Bill Burke
&gt;&gt;&gt; JBoss, a division of Red Hat
&gt;&gt;&gt; http://bill.burkecentral.com
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; ------------------------------------
&gt;&gt;
&gt;&gt; Yahoo! Groups Links
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt; 
&gt; 
&gt; ------------------------------------
&gt; 
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 


-- 
Sanjiva Weerawarana, Ph.D.
Founder &amp; Director; Lanka Software Foundation; http://www.opensource.lk/
Founder, Chairman &amp; CEO; WSO2, Inc.; http://www.wso2.com/
Member; Apache Software Foundation; http://www.apache.org/
Visiting Lecturer; University of Moratuwa; http://www.cse.mrt.ac.lk/

Blog: http://sanjiva.weerawarana.org/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11780<br>
Sender:Sanjiva Weerawarana &lt;sanjiva@...&gt;<br>
Post Date/Time:2008-12-12 09:57:05<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>Bill de hOra wrote:
&gt; So, for this to work it assumes all user agents that don't know the 
&gt; formats will know how to process RDDL.

Yes .. but RDDL was just our strawman proposal - the idea was to avoid 
inventing yet another format to allow open ended semantic association 
capacity. If there's a better alternative, totally +1.

Also, RDDL renders as XHTML - so the user agent could even render it to a 
human if needed.

&gt; Some questions come to mind:
&gt; 
&gt; How does this work for mixed XML content? What is the appropiate media 
&gt; type for an XHTML document containing RDFa that uses OWL? What should 
&gt; the user agent assume for all possible media types such content might be 
&gt; served as? What should the RDDL say about such content that is suitable 
&gt; for human-readbable as well as machine-processable options?

The RDDL natures that would be mandatory for a given data type would have 
to be specified by that data type definer.

While the idea of a generic user agent (ala browser) that can process any 
data type to its fullest extent is cool, IMO its not practical. We also 
had this idea of having a parent type notion .. so the RDDL would have a 
required nature where you'd have to say what the parent type is - which 
allows generic processing by a generic UA. (And the idea was to restrict 
that parent type set to a reasonable subset of "standard" media types .. 
not that it too could point to another one of these data types!) So 
basically, a generic UA could try to do something with the stuff it 
understands, or, give up and look up the parent type and treat the content 
as being of that type.

This doesn't solve the mixed content problem but it does provide a way to 
solve it (below).

&gt; IOW, it seems XML+namespaces blow a hole in the media type approach, as 
&gt; do mixed models. I've been waiting for years for someone to explain how 
&gt; this isn't a gap in the architecture.

I agree .. the only thing this allows is to easily and cheaply introduce a 
new media type that is documented as "this contains stuff from this and 
that". Not really a solution, but at least the information is fully captured.

Sanjiva.
-- 
Sanjiva Weerawarana, Ph.D.
Founder &amp; Director; Lanka Software Foundation; http://www.opensource.lk/
Founder, Chairman &amp; CEO; WSO2, Inc.; http://www.wso2.com/
Member; Apache Software Foundation; http://www.apache.org/
Visiting Lecturer; University of Moratuwa; http://www.cse.mrt.ac.lk/

Blog: http://sanjiva.weerawarana.org/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11781<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2008-12-12 12:23:39<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>Sanjiva Weerawarana wrote:
&gt; Bill de hOra wrote:
&gt;&gt; So, for this to work it assumes all user agents that don't know the 
&gt;&gt; formats will know how to process RDDL.
&gt; 
&gt; Yes .. but RDDL was just our strawman proposal - the idea was to avoid 
&gt; inventing yet another format to allow open ended semantic association 
&gt; capacity. If there's a better alternative, totally +1.

And if there isn't a better alternative now, there might be in the 
future. I would suggest it would be better to spec no more strongly than 
saying "a hypermedia description of the format" with RDDL being perhaps 
suggested, but not mandated.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11782<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-12 15:15:31<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>&gt; The reason adding schema= isn't enough is because a schema is often
&gt; necessary, but not sufficient info about some piece of XML.

and that is is usually needed at dev-time and not run-time.

Subbu

---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11783<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-12-12 15:18:47<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On Dec 12, 2008, at 1:47 AM, Sanjiva Weerawarana wrote:

&gt; (1) The proposal was not XML specific.

Neither was my response.  Just replace XML with "envelope format of  
your choosing".  The MIME type describes the envelope format.  The  
"scheme" part describes the restrictions on the contents of the  
envelope.

&gt;
&gt; (2) Absolutely wrong :). Every application defines their own  
&gt; namespaces ..
&gt; it may be possible use a uniform interface to move data around, but  
&gt; you
&gt; can't tell the world to use a uniform set of data too :).

Hmm... I wasn't very clear.  If you crack open the XML doc and it's  
well formed and well defined, it will have an XML namespace declaration.
For example: &lt;feed xmlns="http://www.w3.org/2005/Atom"&gt;

Currently, an XML processor must get either rely on the MIME type or  
crack open the document.  The latter is rather inconvenient for read- 
once, stream-based processors.

&gt;
&gt; (3) Oh heavens, are you saying HTTP caching doesn't work? ;-)

Draw your own conclusions.


- Steve

--------------
Steve G. Bjorg
http://mindtouch.com
http://twitter.com/bjorg


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11784<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-12-12 16:21:09<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On 12.12.2008, at 16:18, Steve Bjorg wrote:
&gt; On Dec 12, 2008, at 1:47 AM, Sanjiva Weerawarana wrote:
&gt;
&gt; &gt;
&gt; &gt; (2) Absolutely wrong :). Every application defines their own
&gt; &gt; namespaces ..
&gt; &gt; it may be possible use a uniform interface to move data around, but
&gt; &gt; you
&gt; &gt; can't tell the world to use a uniform set of data too :).
&gt;
&gt; Hmm... I wasn't very clear. If you crack open the XML doc and it's
&gt; well formed and well defined, it will have an XML namespace  
&gt; declaration.
&gt; For example: &lt;feed xmlns="http://www.w3.org/2005/Atom"&gt;
&gt;
&gt; Currently, an XML processor must get either rely on the MIME type or
&gt; crack open the document. The latter is rather inconvenient for read-
&gt; once, stream-based processors.
&gt;
Which is exactly the problem - using application/xml requires the  
processor to look inside the XML, which is bad, so using application/ 
vnd....+xml is better.

So the recommended way seems to be to invent MIME types in the vendor  
space.

The only question is why it would be bad if there were a decentralized  
approach to registering and describing those. One could argue that  
having only one single world-wide registry for MIME types is actually  
against the spirit of the Web.

Whether or not RDDL is the right choice, or whether or not this should  
be done with a Link header, or as a property to an official MIME type  
or something else, is not the point IMO. The point is whether the  
general feeling is that having a solution for this would be useful or  
not, because then it would be a good idea to standardize it.

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11785<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-12 16:48:15<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>&gt;
&gt; The only question is why it would be bad if there were a decentralized
&gt; approach to registering and describing those. One could argue that
&gt; having only one single world-wide registry for MIME types is actually
&gt; against the spirit of the Web.

Decentralized approach might work, but an approach like

"application/data-format;uri=http://mediatypes.example.com/foo/bar"

seems problematic. Since the "uri" parameter is not specified, almost  
all processors will ignore it, and will therefore interpret the media  
type as "application/data-format".

Taking a step back, the problem for the client is (a) to find the  
specification of a media type, and (b), then use that information (and  
upon learning all the application rules) to write processing code.  
Both these steps happen at development time. Once the client sees the  
Content-Type header, it can invoke the right branch code to process  
it. So, the first problem I think is to get developers

(a) assign media types, and
(b) document the media types in whatever form convenient for that  
media type

[ (c) and not tell that Atom and GData have already solved these  
problems :) ]

Subbu
---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11786<br>
Sender:Bill Burke &lt;bburke@...&gt;<br>
Post Date/Time:2008-12-12 17:15:58<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>

Subbu Allamaraju wrote:
&gt; 
&gt; 
&gt;  &gt; The reason adding schema= isn't enough is because a schema is often
&gt;  &gt; necessary, but not sufficient info about some piece of XML.
&gt; 
&gt; and that is is usually needed at dev-time and not run-time.
&gt; 

Not sure I agree with this statement.  Can you elaborate?

-- 
Bill Burke
JBoss, a division of Red Hat
http://bill.burkecentral.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11787<br>
Sender:Bill Burke &lt;bburke@...&gt;<br>
Post Date/Time:2008-12-12 17:22:15<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>

Subbu Allamaraju wrote:
&gt; [ (c) and not tell that Atom and GData have already solved these
&gt; problems :) ]
&gt; 

Huh?  I'm an Atom noob, but didn't see anywhere how Atom solves this 
problem.  Its still works based on media-types to describe its enveloped 
content.  Or do you mean adding a Link that points to where to find 
information about the type?  This would still be application specific...

(Off topic, I've said it once and I'll say it again, I was attracted to 
REST because of the lack of an envelope format).

Bill

-- 
Bill Burke
JBoss, a division of Red Hat
http://bill.burkecentral.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11788<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-12-12 17:08:43<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On 12.12.2008, at 17:48, Subbu Allamaraju wrote:

&gt;&gt;
&gt;&gt; The only question is why it would be bad if there were a  
&gt;&gt; decentralized
&gt;&gt; approach to registering and describing those. One could argue that
&gt;&gt; having only one single world-wide registry for MIME types is actually
&gt;&gt; against the spirit of the Web.
&gt;
&gt; Decentralized approach might work, but an approach like
&gt;
&gt; "application/data-format;uri=http://mediatypes.example.com/foo/bar"
&gt;
&gt; seems problematic. Since the "uri" parameter is not specified,  
&gt; almost all processors will ignore it, and will therefore interpret  
&gt; the media type as "application/data-format".
&gt;

Understood; maybe there's a better place to put the URI. But I think  
it's obvious that only clients that know how to handle application/ 
data-format would be able to understand the parameter, which is sort  
of the whole purpose.

&gt; Taking a step back, the problem for the client is (a) to find the  
&gt; specification of a media type, and (b), then use that information  
&gt; (and upon learning all the application rules) to write processing  
&gt; code. Both these steps happen at development time. Once the client  
&gt; sees the Content-Type header, it can invoke the right branch code to  
&gt; process it. So, the first problem I think is to get developers
&gt;
&gt; (a) assign media types, and
&gt; (b) document the media types in whatever form convenient for that  
&gt; media type
&gt;

I agree. But I think it makes sense to standardize how to get from a  
Content-type or Accept value to the resource that describes it.

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/


&gt; [ (c) and not tell that Atom and GData have already solved these  
&gt; problems :) ]
&gt;
&gt; Subbu
&gt; ---
&gt; http://subbu.org
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11789<br>
Sender:Bill Burke &lt;bburke@...&gt;<br>
Post Date/Time:2008-12-12 18:31:07<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>

Sanjiva Weerawarana wrote:
&gt; Bill, the reason for the RDDL document is because often a schema is 
&gt; simply not enough info.

I don't really give a crap whether schema is enough or not.  I also 
don't care whether there is a schema, dtd, or whatever behind the 
document.  I just want to be able to render XML within my browser.


I guess I made the mistake of using "schema" as my example.  Maybe my 
question really should have been:

Is it ok to use mime properties to further identify a type?

I have yet to hear a reason not to other than "just because" which 
really isn't good enough for me.

-- 
Bill Burke
JBoss, a division of Red Hat
http://bill.burkecentral.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11790<br>
Sender:"Peter Williams" &lt;pezra@...&gt;<br>
Post Date/Time:2008-12-12 18:47:37<br>
Subject:Re: MIME properties instead +<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, Bill Burke &lt;bburke@...&gt; wrote:
&gt; Is it ok to use mime properties to further identify a type?
&gt; 
&gt; I have yet to hear a reason not to other than "just because" which 
&gt; really isn't good enough for me.

Using a parameter to specify the specific the media type is so
unconventional that most, if not all, systems will not make use it
when handling a request or response.  It is that very fact that you
are proposing to exploit to get browsers to render the documents you
have as vanilla XML.  

The down side to that is that you would lose all the media type help
you usually get from HTTP server or client frameworks.  For example,
if your framework has a nice mechanism for automatically deciding
which template to render based on the accept header it would not work
(with out some changes) if the specific media type information was
moved into parameter.  I suppose it might be worth that effort to
implement support for such a parameter on the server side but the
impacts on client development should be carefully considered.

Peter
http://barelyenough.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11791<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-12-12 18:48:02<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On Fri, Dec 12, 2008 at 1:31 PM, Bill Burke &lt;bburke@...&gt; wrote:
&gt; I have yet to hear a reason not to other than "just because" which
&gt; really isn't good enough for me.

How about because there's a bazillion instances of deployed software
out there that only know to look at the media type name itself to
determine the type?

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11792<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-12 18:55:59<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>&gt;&gt; Decentralized approach might work, but an approach like
&gt;&gt;
&gt;&gt; "application/data-format;uri=http://mediatypes.example.com/foo/bar"
&gt;&gt;
&gt;&gt; seems problematic. Since the "uri" parameter is not specified,
&gt;&gt; almost all processors will ignore it, and will therefore interpret
&gt;&gt; the media type as "application/data-format".
&gt;&gt;
&gt;
&gt; Understood; maybe there's a better place to put the URI. But I think
&gt; it's obvious that only clients that know how to handle application/
&gt; data-format would be able to understand the parameter, which is sort
&gt; of the whole purpose.

Thanks. I realized it after hitting "send".

&gt; I agree. But I think it makes sense to standardize how to get from a
&gt; Content-type or Accept value to the resource that describes it.

That would be nice. This discussion reminds the site-meta discussion  
that went on recently in the www-talk list. site-meta is just limited  
to site-specific links, but when we extend to resources in general,  
there are a few more things to be specified. For instance, in addition  
to media types, the server also needs to describe all link relations  
as the standard ones like "self", "edit" may not be descriptive enough  
to tell what a given link is supposed to.

Subbu

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11793<br>
Sender:Bill Burke &lt;bburke@...&gt;<br>
Post Date/Time:2008-12-12 19:00:43<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>

Mark Baker wrote:
&gt; On Fri, Dec 12, 2008 at 1:31 PM, Bill Burke &lt;bburke@...&gt; wrote:
&gt;&gt; I have yet to hear a reason not to other than "just because" which
&gt;&gt; really isn't good enough for me.
&gt; 
&gt; How about because there's a bazillion instances of deployed software
&gt; out there that only know to look at the media type name itself to
&gt; determine the type?
&gt; 

And these bazillion of deployed software apps will understand 
"application/vnd.redhat.foo+xml" better?  I doubt it.  This is still a 
"just because" answer.

-- 
Bill Burke
JBoss, a division of Red Hat
http://bill.burkecentral.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11794<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-12 19:04:52<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>Sorry for interjecting here, but there is a difference between using  
"application/vnd.redhat.foo+xml", and "application/xml;blah=blah".

This is like an extensibility situation.

Subbu

On Dec 12, 2008, at 11:00 AM, Bill Burke wrote:

&gt;
&gt;
&gt; Mark Baker wrote:
&gt;&gt; On Fri, Dec 12, 2008 at 1:31 PM, Bill Burke &lt;bburke@...&gt;  
&gt;&gt; wrote:
&gt;&gt;&gt; I have yet to hear a reason not to other than "just because" which
&gt;&gt;&gt; really isn't good enough for me.
&gt;&gt;
&gt;&gt; How about because there's a bazillion instances of deployed software
&gt;&gt; out there that only know to look at the media type name itself to
&gt;&gt; determine the type?
&gt;&gt;
&gt;
&gt; And these bazillion of deployed software apps will understand
&gt; "application/vnd.redhat.foo+xml" better?  I doubt it.  This is still a
&gt; "just because" answer.
&gt;
&gt; -- 
&gt; Bill Burke
&gt; JBoss, a division of Red Hat
&gt; http://bill.burkecentral.com

---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11795<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-12-12 19:04:38<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>&gt; Is it ok to use mime properties to further identify a type?

Only if you created the media type yourself. Adding properties to a media 
type defined by someone else will create an island of knowledge that will be 
specific to your application.

Then, systems like OpenRasta do content type negotiation based on the media 
type itself, and ignore the parameters. Overloading application/xml in such 
a way will end up causing a lot of rework to start matching against 
parameters as well.

I wonder if your question really is "IE doesn't open 
application/vnd.blah.format+xml in a nice xml view, how do I fix this."

If that's what is bothering you, leverage content-type negotiation and serve 
your application/vnd.blah.format+xml as application/xml when requested by a 
browser. And if the browser scenario is the one you care about, why not 
return an html representation including the said message?

Sebastien

 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11796<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-12-12 19:05:34<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On Fri, Dec 12, 2008 at 2:00 PM, Bill Burke &lt;bburke@...&gt; wrote:
&gt;
&gt;
&gt; Mark Baker wrote:
&gt;&gt; On Fri, Dec 12, 2008 at 1:31 PM, Bill Burke &lt;bburke@...&gt; wrote:
&gt;&gt;&gt; I have yet to hear a reason not to other than "just because" which
&gt;&gt;&gt; really isn't good enough for me.
&gt;&gt;
&gt;&gt; How about because there's a bazillion instances of deployed software
&gt;&gt; out there that only know to look at the media type name itself to
&gt;&gt; determine the type?
&gt;&gt;
&gt;
&gt; And these bazillion of deployed software apps will understand
&gt; "application/vnd.redhat.foo+xml" better?  I doubt it.  This is still a
&gt; "just because" answer.

That has nothing to do with what I wrote above.  Please reread it carefully.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11797<br>
Sender:Bill Burke &lt;bburke@...&gt;<br>
Post Date/Time:2008-12-12 19:09:38<br>
Subject:Re: [rest-discuss] Re: MIME properties instead +<br>
Message:<br><br>
<pre>

Peter Williams wrote:
&gt; 
&gt; 
&gt; --- In rest-discuss@yahoogroups.com 
&gt; &lt;mailto:rest-discuss%40yahoogroups.com&gt;, Bill Burke &lt;bburke@...&gt; wrote:
&gt;  &gt; Is it ok to use mime properties to further identify a type?
&gt;  &gt;
&gt;  &gt; I have yet to hear a reason not to other than "just because" which
&gt;  &gt; really isn't good enough for me.
&gt; 
&gt; Using a parameter to specify the specific the media type is so
&gt; unconventional that most, if not all, systems will not make use it
&gt; when handling a request or response. It is that very fact that you
&gt; are proposing to exploit to get browsers to render the documents you
&gt; have as vanilla XML.
&gt; 

They also will most definately not make use of application/vnd+xml 
either. :)

&gt; The down side to that is that you would lose all the media type help
&gt; you usually get from HTTP server or client frameworks.

Incompatibility with specific popular frameworks is a good reason not to 
head this way.  Incompatibility with a hypothetical framework is not.

-- 
Bill Burke
JBoss, a division of Red Hat
http://bill.burkecentral.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11798<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-12 19:12:18<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>
On Dec 12, 2008, at 9:22 AM, Bill Burke wrote:

&gt;
&gt;
&gt; Subbu Allamaraju wrote:
&gt;&gt; [ (c) and not tell that Atom and GData have already solved these
&gt;&gt; problems :) ]
&gt;
&gt; Huh?  I'm an Atom noob, but didn't see anywhere how Atom solves this  
&gt; problem.  Its still works based on media-types to describe its  
&gt; enveloped content.  Or do you mean adding a Link that points to  
&gt; where to find information about the type?  This would still be  
&gt; application specific...
&gt;

You are right - it does not. But most of the common usage of Atom is  
based either adding extensions that can not be ignored, or stuffing  
application/xml inside application/atom+xml. It is the later one that  
I am referring to. By wrapping application/xml the problem is just  
being pushed from the Content-Type header to the &lt;content&gt; node.

Subbu
---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11799<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-12-12 19:14:38<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On 12.12.2008, at 19:55, Subbu Allamaraju wrote:

&gt; For instance, in addition to media types, the server also needs to  
&gt; describe all link relations as the standard ones like "self", "edit"  
&gt; may not be descriptive enough to tell what a given link is supposed  
&gt; to.

Good point. It seems to be addressed by

http://www.mnot.net/drafts/draft-nottingham-http-link-header-02.txt

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11800<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-12-12 19:16:50<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On Fri, Dec 12, 2008 at 2:04 PM, Sebastien Lambla &lt;seb@...&gt; wrote:
&gt;&gt; Is it ok to use mime properties to further identify a type?
&gt;
&gt; Only if you created the media type yourself.

No, not even then.  The media type name is authoritative for both
email and Web protocols.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11801<br>
Sender:Bill Burke &lt;bburke@...&gt;<br>
Post Date/Time:2008-12-12 19:21:11<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>

Mark Baker wrote:
&gt; On Fri, Dec 12, 2008 at 2:04 PM, Sebastien Lambla &lt;seb@...&gt; wrote:
&gt;&gt;&gt; Is it ok to use mime properties to further identify a type?
&gt;&gt; Only if you created the media type yourself.
&gt; 
&gt; No, not even then.  The media type name is authoritative for both
&gt; email and Web protocols.
&gt; 

Which means?


-- 
Bill Burke
JBoss, a division of Red Hat
http://bill.burkecentral.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11802<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-12 19:25:51<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>
Not completely. That draft is only consolidating known relations from  
HTML, Atom and AtomPub into an IANA registry, and the process for  
registering new link relations, AFAIU, will be similar to registering  
new media types.

The problem I am referring is introducing new specialized relations,  
like

&lt;person&gt;
   &lt;name&gt;blah&lt;/name&gt;
   &lt;link rel="http://my.org/rel/friend" uri="http://myorg/rel/ 
blahblah"/&gt;
   ...
&lt;/person&gt;

In addition to documenting the media type of this person, and possibly  
the "type" attribute of that link, the server will have to document  
the rel as well.

By the way, the latest header linking draft is at

http://tools.ietf.org/id/draft-nottingham-http-link-header-03.txt

Subbu

On Dec 12, 2008, at 11:14 AM, Stefan Tilkov wrote:

&gt; On 12.12.2008, at 19:55, Subbu Allamaraju wrote:
&gt;
&gt;&gt; For instance, in addition to media types, the server also needs to
&gt;&gt; describe all link relations as the standard ones like "self", "edit"
&gt;&gt; may not be descriptive enough to tell what a given link is supposed
&gt;&gt; to.
&gt;
&gt; Good point. It seems to be addressed by
&gt;
&gt; http://www.mnot.net/drafts/draft-nottingham-http-link-header-02.txt
&gt;
&gt; Stefan
&gt; --
&gt; Stefan Tilkov, http://www.innoq.com/blog/st/
&gt;

---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11803<br>
Sender:"Peter Williams" &lt;pezra@...&gt;<br>
Post Date/Time:2008-12-12 20:06:04<br>
Subject:Re: MIME properties instead +<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, Bill Burke &lt;bburke@...&gt; wrote:
&gt; Incompatibility with specific popular frameworks is a good reason
not to 
&gt; head this way.  Incompatibility with a hypothetical framework is not.

Well if you are looking for specifics, it is definitely not compatible
with the content negotiation mechanisms of Rails or Merb.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11804<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-12-12 20:51:58<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On 12.12.2008, at 20:25, Subbu Allamaraju wrote:

&gt;
&gt; Not completely. That draft is only consolidating known relations  
&gt; from HTML, Atom and AtomPub into an IANA registry, and the process  
&gt; for registering new link relations, AFAIU, will be similar to  
&gt; registering new media types.
&gt;

I see.

&gt; The problem I am referring is introducing new specialized relations,  
&gt; like
&gt;
&gt; &lt;person&gt;
&gt;  &lt;name&gt;blah&lt;/name&gt;
&gt;  &lt;link rel="http://my.org/rel/friend" uri="http://myorg/rel/ 
&gt; blahblah"/&gt;

If I see something like this, though, I wonder whether we don't  
already have some sort of standard that enables us to build triples of  
the resource-relatesto-resource kind already 

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11805<br>
Sender:Bill Burke &lt;bburke@...&gt;<br>
Post Date/Time:2008-12-12 20:58:36<br>
Subject:Re: [rest-discuss] Re: MIME properties instead +<br>
Message:<br><br>
<pre>Thanks all, I've exhausted my arguments.  I concede.  Much appreciated 
discussion!

Peter Williams wrote:
&gt; 
&gt; 
&gt; --- In rest-discuss@yahoogroups.com 
&gt; &lt;mailto:rest-discuss%40yahoogroups.com&gt;, Bill Burke &lt;bburke@...&gt; wrote:
&gt;  &gt; Incompatibility with specific popular frameworks is a good reason
&gt; not to
&gt;  &gt; head this way. Incompatibility with a hypothetical framework is not.
&gt; 
&gt; Well if you are looking for specifics, it is definitely not compatible
&gt; with the content negotiation mechanisms of Rails or Merb.
&gt; 
&gt; 

-- 
Bill Burke
JBoss, a division of Red Hat
http://bill.burkecentral.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11806<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-12-12 21:11:14<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On Fri, Dec 12, 2008 at 2:21 PM, Bill Burke &lt;bburke@...&gt; wrote:
&gt;
&gt;
&gt; Mark Baker wrote:
&gt;&gt;
&gt;&gt; On Fri, Dec 12, 2008 at 2:04 PM, Sebastien Lambla &lt;seb@...&gt;
&gt;&gt; wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Is it ok to use mime properties to further identify a type?
&gt;&gt;&gt;
&gt;&gt;&gt; Only if you created the media type yourself.
&gt;&gt;
&gt;&gt; No, not even then.  The media type name is authoritative for both
&gt;&gt; email and Web protocols.
&gt;&gt;
&gt;
&gt; Which means?

It means that the media type name is the sole protocol element that
determines how the meaning of the message payload is to be
interpreted.  Changing this for the Web would require a major version
bump of HTTP, and that's not going to happen without some
*significant* advantages over HTTP 1.x.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11807<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-12 21:15:39<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>
On Dec 12, 2008, at 12:51 PM, Stefan Tilkov wrote:

&gt;&gt;
&gt;&gt; The problem I am referring is introducing new specialized relations,
&gt;&gt; like
&gt;&gt;
&gt;&gt; &lt;person&gt;
&gt;&gt; &lt;name&gt;blah&lt;/name&gt;
&gt;&gt; &lt;link rel="http://my.org/rel/friend" uri="http://myorg/rel/
&gt;&gt; blahblah"/&gt;
&gt;
&gt; If I see something like this, though, I wonder whether we don't
&gt; already have some sort of standard that enables us to build triples of
&gt; the resource-relatesto-resource kind already 


I presume you are referring to the "related" relation. I should have  
actually written the above as

&gt;&gt; &lt;link rel="related http://my.org/rel/friend" uri="http://myorg/rel/
&gt;&gt; blahblah"/&gt;

But once we have several such related resources, how does the client  
know what each link is for? Here are some examples.

- a link to a friend resource
- a link to get all contacts
- a link to the most frequently dialed numbers from the phonebook

Some of the well-known relations may be too vague in some cases. For  
instance, does "edit" from AtomPub mean that the link URI is a  
collection and that the client can POST to it? Or is a singular  
resource that the client can PUT to update? If it is the latter, can  
the client also DELETE it? I understand that relations are not  
substitutes for methods, but the picture is incomplete from a client's  
perspective. The solution is to use HTTP OPTIONS, but OPTIONS can make  
the interactions very chatty since OPTIONS is not cacheable.

I guess we have diverged from the main thread several times already.  
Apologies to those who do not prefer this further diversion.

Subbu
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11808<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-12-12 21:19:16<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On 12.12.2008, at 22:15, Subbu Allamaraju wrote:

&gt; I presume you are referring to the "related" relation. I should have  
&gt; actually written the above as

No, actually I was referring to http://www.w3.org/TR/rdf-concepts/#section-triples
"An RDF triple contains three components:

	 the subject, which is an RDF URI reference or a blank node
	 the predicate, which is an RDF URI reference
	 the object, which is an RDF URI reference, a literal or a blank node"

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11809<br>
Sender:Bill Burke &lt;bburke@...&gt;<br>
Post Date/Time:2008-12-12 22:50:18<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>

Mark Baker wrote:
&gt; 
&gt; 
&gt; On Fri, Dec 12, 2008 at 2:21 PM, Bill Burke &lt;bburke@... 
&gt; &lt;mailto:bburke%40redhat.com&gt;&gt; wrote:
&gt;  &gt;
&gt;  &gt;
&gt;  &gt; Mark Baker wrote:
&gt;  &gt;&gt;
&gt;  &gt;&gt; On Fri, Dec 12, 2008 at 2:04 PM, Sebastien Lambla &lt;seb@... 
&gt; &lt;mailto:seb%40serialseb.com&gt;&gt;
&gt;  &gt;&gt; wrote:
&gt;  &gt;&gt;&gt;&gt;
&gt;  &gt;&gt;&gt;&gt; Is it ok to use mime properties to further identify a type?
&gt;  &gt;&gt;&gt;
&gt;  &gt;&gt;&gt; Only if you created the media type yourself.
&gt;  &gt;&gt;
&gt;  &gt;&gt; No, not even then. The media type name is authoritative for both
&gt;  &gt;&gt; email and Web protocols.
&gt;  &gt;&gt;
&gt;  &gt;
&gt;  &gt; Which means?
&gt; 
&gt; It means that the media type name is the sole protocol element that
&gt; determines how the meaning of the message payload is to be
&gt; interpreted. Changing this for the Web would require a major version
&gt; bump of HTTP, and that's not going to happen without some
&gt; *significant* advantages over HTTP 1.x.
&gt; 

I know I've conceded...But...If you look at section 14.1 describing the 
Accept header the examples have types with properties in them suggesting 
that properties *do* matter and should be taken into account in at least 
processing the Accept header.  I'd be curious to know if your point has 
basis as a de facto thing, or something the HTTP specification 
articulates specifically.

Bill

-- 
Bill Burke
JBoss, a division of Red Hat
http://bill.burkecentral.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11810<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-12-13 09:05:32<br>
Subject:[rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>http://xml.coverpages.org/draft-ietf-atompub-typeparam-00.txt

I understand it was done because of compat issues.

My point was that defining parameters on a media type is the responsibility
of the media type creator, not any random person. See 4.3 in rfc4288:
the
   names, values, and meanings of any parameters MUST be fully specified

   when a media type is registered in the standards tree, and SHOULD be
   specified as completely as possible when media types are registered
   in the vendor or personal trees.

And more specificially regarding adding a parameter on the standard tree:
New parameters SHOULD NOT be defined as a way to introduce new
   functionality in types registered in the standards tree, although new
   parameters MAY be added to convey additional information that does
   not otherwise change existing functionality.

So to answer the question, is the proposal referred to in this discussion
allowed? Yes because there is no MUST NOT. But I think the intent is clear
enough.

Seb
 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11811<br>
Sender:Sanjiva Weerawarana &lt;sanjiva@...&gt;<br>
Post Date/Time:2008-12-14 01:39:35<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>Subbu Allamaraju wrote:
&gt; 
&gt; 
&gt;  &gt;
&gt;  &gt; The only question is why it would be bad if there were a decentralized
&gt;  &gt; approach to registering and describing those. One could argue that
&gt;  &gt; having only one single world-wide registry for MIME types is actually
&gt;  &gt; against the spirit of the Web.
&gt; 
&gt; Decentralized approach might work, but an approach like
&gt; 
&gt; "application/data-format;uri=http://mediatypes.example.com/foo/bar 
&gt; &lt;http://mediatypes.example.com/foo/bar&gt;"
&gt; 
&gt; seems problematic. Since the "uri" parameter is not specified, almost
&gt; all processors will ignore it, and will therefore interpret the media
&gt; type as "application/data-format".

Subbu, the URI parameter would be a required parameter. Why would all 
processors ignore it?

Do processors ignore the charset parameter?

Sanjiva.
-- 
Sanjiva Weerawarana, Ph.D.
Founder &amp; Director; Lanka Software Foundation; http://www.opensource.lk/
Founder, Chairman &amp; CEO; WSO2, Inc.; http://www.wso2.com/
Member; Apache Software Foundation; http://www.apache.org/
Visiting Lecturer; University of Moratuwa; http://www.cse.mrt.ac.lk/

Blog: http://sanjiva.weerawarana.org/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11812<br>
Sender:Sanjiva Weerawarana &lt;sanjiva@...&gt;<br>
Post Date/Time:2008-12-14 01:48:24<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>Stefan, a non-HTTP specific solution would be ideal .. then it can be used 
within Atom, within XMPP and more.

It could even be used to further describe links sent for HATEOS.

Sanjiva.

Stefan Tilkov wrote:
&gt; 
&gt; 
&gt; On 12.12.2008, at 19:55, Subbu Allamaraju wrote:
&gt; 
&gt;  &gt; For instance, in addition to media types, the server also needs to
&gt;  &gt; describe all link relations as the standard ones like "self", "edit"
&gt;  &gt; may not be descriptive enough to tell what a given link is supposed
&gt;  &gt; to.
&gt; 
&gt; Good point. It seems to be addressed by
&gt; 
&gt; http://www.mnot.net/drafts/draft-nottingham-http-link-header-02.txt 
&gt; &lt;http://www.mnot.net/drafts/draft-nottingham-http-link-header-02.txt&gt;
&gt; 
&gt; Stefan
&gt; --
&gt; Stefan Tilkov, http://www.innoq.com/blog/st/ &lt;http://www.innoq.com/blog/st/&gt;
&gt; 
&gt; 


-- 
Sanjiva Weerawarana, Ph.D.
Founder &amp; Director; Lanka Software Foundation; http://www.opensource.lk/
Founder, Chairman &amp; CEO; WSO2, Inc.; http://www.wso2.com/
Member; Apache Software Foundation; http://www.apache.org/
Visiting Lecturer; University of Moratuwa; http://www.cse.mrt.ac.lk/

Blog: http://sanjiva.weerawarana.org/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11813<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-14 03:55:59<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>Please ignore my comment. I went offtrack. If application/data-format  
specifies a uri parameter, the client will need to honor that.

Subbu

On Dec 13, 2008, at 5:39 PM, Sanjiva Weerawarana wrote:

&gt; Subbu Allamaraju wrote:
&gt;&gt; &gt;
&gt;&gt; &gt; The only question is why it would be bad if there were a  
&gt;&gt; decentralized
&gt;&gt; &gt; approach to registering and describing those. One could argue that
&gt;&gt; &gt; having only one single world-wide registry for MIME types is  
&gt;&gt; actually
&gt;&gt; &gt; against the spirit of the Web.
&gt;&gt; Decentralized approach might work, but an approach like
&gt;&gt; "application/data-format;uri=http://mediatypes.example.com/foo/bar &lt;http://mediatypes.example.com/foo/bar 
&gt;&gt; &gt;"
&gt;&gt; seems problematic. Since the "uri" parameter is not specified, almost
&gt;&gt; all processors will ignore it, and will therefore interpret the media
&gt;&gt; type as "application/data-format".
&gt;
&gt; Subbu, the URI parameter would be a required parameter. Why would  
&gt; all processors ignore it?
&gt;
&gt; Do processors ignore the charset parameter?
&gt;
&gt; Sanjiva.
&gt; -- 
&gt; Sanjiva Weerawarana, Ph.D.
&gt; Founder &amp; Director; Lanka Software Foundation; http://www.opensource.lk/
&gt; Founder, Chairman &amp; CEO; WSO2, Inc.; http://www.wso2.com/
&gt; Member; Apache Software Foundation; http://www.apache.org/
&gt; Visiting Lecturer; University of Moratuwa; http://www.cse.mrt.ac.lk/
&gt;
&gt; Blog: http://sanjiva.weerawarana.org/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11814<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-12-15 17:16:42<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On Fri, Dec 12, 2008 at 5:50 PM, Bill Burke &lt;bburke@...&gt; wrote:
&gt; I know I've conceded...But...If you look at section 14.1 describing the
&gt; Accept header the examples have types with properties in them suggesting
&gt; that properties *do* matter and should be taken into account in at least
&gt; processing the Accept header.  I'd be curious to know if your point has
&gt; basis as a de facto thing, or something the HTTP specification articulates
&gt; specifically.

Properties do convey information which is sometimes important, but
their role is orthogonal to that of the media type name.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11815<br>
Sender:Bill Burke &lt;bburke@...&gt;<br>
Post Date/Time:2008-12-15 23:58:06<br>
Subject:Message-level security options<br>
Message:<br><br>
<pre>I was reading the exchange between  Gunnar Peterson and Pete Lacey:

http://72.249.21.88/nonintersecting/?year=2006&amp;monthnum=12&amp;day=01&amp;name=restful-security&amp;page=

Has the REST community evolved since 2006 at all in this regard?  Do I 
still promote Basic Auth + SSL as the preferred authentication 
mechanism?  Has Amazon's Token based protocol gained any traction?  Any 
other protocol gaining a lot of traction?

As one of the companies/people evangelizing REST in the Java community I 
do worry Basic Auth will be a huge speed bump (I have no problem with, 
but I know potential recruits will.).

Another thing I worry about is some of the things Gunnar talks about in 
his series of blogs:  Protecting the message from message routers.  I've 
also been pushing hard at JBoss to get REST over HTTP as a unifying 
protocol and architectural design for our ESB and issues like this will 
start to crop up as I re-educate (brainwash?) our people.

Finally, I'm looking for new security options to implement and promote.

Sorry this is so broad and open ended.  I'm just looking for pointers to 
narrow my search.

Thanks,

Bill

-- 
Bill Burke
JBoss, a division of Red Hat
http://bill.burkecentral.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11816<br>
Sender:Sanjiva Weerawarana &lt;sanjiva@...&gt;<br>
Post Date/Time:2008-12-16 03:12:50<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>Mark Baker wrote:
&gt; 
&gt; Properties do convey information which is sometimes important, but
&gt; their role is orthogonal to that of the media type name.

Mark, can you explain that? The charset property on text/xml is not 
something orthogonal to the media type - it tells you something absolutely 
essential about how to process the content. How is it "orthogonal"?

The uri attribute on application/data-type would do something similar.

Sanjiva.
-- 
Sanjiva Weerawarana, Ph.D.
Founder &amp; Director; Lanka Software Foundation; http://www.opensource.lk/
Founder, Chairman &amp; CEO; WSO2, Inc.; http://www.wso2.com/
Member; Apache Software Foundation; http://www.apache.org/
Visiting Lecturer; University of Moratuwa; http://www.cse.mrt.ac.lk/

Blog: http://sanjiva.weerawarana.org/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11817<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-12-16 06:04:20<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On Mon, Dec 15, 2008 at 10:12 PM, Sanjiva Weerawarana
&lt;sanjiva@...&gt; wrote:
&gt; Mark Baker wrote:
&gt;&gt;
&gt;&gt; Properties do convey information which is sometimes important, but
&gt;&gt; their role is orthogonal to that of the media type name.
&gt;
&gt; Mark, can you explain that? The charset property on text/xml is not
&gt; something orthogonal to the media type - it tells you something absolutely
&gt; essential about how to process the content. How is it "orthogonal"?

What I mean is that properties or their values don't change the fact
that it's to be interpreted as, say, a text/html document.

&gt;
&gt; The uri attribute on application/data-type would do something similar.

Hopefully you can see that isn't the case.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11818<br>
Sender:Sanjiva Weerawarana &lt;sanjiva@...&gt;<br>
Post Date/Time:2008-12-16 15:48:00<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>Mark Baker wrote:
&gt; 
&gt; What I mean is that properties or their values don't change the fact
&gt; that it's to be interpreted as, say, a text/html document.

However, the properties do say very useful and necessary things like the 
character set that the XML is in (for text/xml)!

&gt;&gt; The uri attribute on application/data-type would do something similar.
&gt; 
&gt; Hopefully you can see that isn't the case.

No I don't see the difference ... application/data-type says its to be 
interpreted as an application data type and the uri parameter tells more 
info about the datatype.

Sanjiva.
-- 
Sanjiva Weerawarana, Ph.D.
Founder &amp; Director; Lanka Software Foundation; http://www.opensource.lk/
Founder, Chairman &amp; CEO; WSO2, Inc.; http://www.wso2.com/
Member; Apache Software Foundation; http://www.apache.org/
Visiting Lecturer; University of Moratuwa; http://www.cse.mrt.ac.lk/

Blog: http://sanjiva.weerawarana.org/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11819<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-12-16 16:01:49<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On Tue, Dec 16, 2008 at 10:48 AM, Sanjiva Weerawarana
&lt;sanjiva@...&gt; wrote:
&gt; Mark Baker wrote:
&gt;&gt;
&gt;&gt; What I mean is that properties or their values don't change the fact
&gt;&gt; that it's to be interpreted as, say, a text/html document.
&gt;
&gt; However, the properties do say very useful and necessary things like the
&gt; character set that the XML is in (for text/xml)!

Of course, but as I say, it's orthogonal to the type.

&gt;
&gt;&gt;&gt; The uri attribute on application/data-type would do something similar.
&gt;&gt;
&gt;&gt; Hopefully you can see that isn't the case.
&gt;
&gt; No I don't see the difference ... application/data-type says its to be
&gt; interpreted as an application data type and the uri parameter tells more
&gt; info about the datatype.

It doesn't tell more info about the type, it *is* the type.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11820<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-12-16 17:14:05<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>Hi Mark,

On 16.12.2008, at 07:04, Mark Baker wrote:
&gt; On Mon, Dec 15, 2008 at 10:12 PM, Sanjiva Weerawarana
&gt; &lt;sanjiva@...&gt; wrote:
&gt; &gt; Mark Baker wrote:
&gt; &gt;&gt;
&gt; &gt;&gt; Properties do convey information which is sometimes important, but
&gt; &gt;&gt; their role is orthogonal to that of the media type name.
&gt; &gt;
&gt; &gt; Mark, can you explain that? The charset property on text/xml is not
&gt; &gt; something orthogonal to the media type - it tells you something  
&gt; absolutely
&gt; &gt; essential about how to process the content. How is it "orthogonal"?
&gt;
&gt; What I mean is that properties or their values don't change the fact
&gt; that it's to be interpreted as, say, a text/html document.
&gt;
&gt; &gt;
&gt; &gt; The uri attribute on application/data-type would do something  
&gt; similar.
&gt;
&gt; Hopefully you can see that isn't the case.
&gt;

What you are saying is that in Sanjiva's proposal, the media type name  
alone doesn't identify the type. That's true, but it also happens to  
be the whole point: allow for a way to identify content types without  
the necessity of central registration.

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/


&gt;
&gt;
&gt; Mark.
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11821<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-16 17:37:32<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>
On Dec 16, 2008, at 9:14 AM, Stefan Tilkov wrote:

&gt; What you are saying is that in Sanjiva's proposal, the media type name
&gt; alone doesn't identify the type. That's true, but it also happens to
&gt; be the whole point: allow for a way to identify content types without
&gt; the necessity of central registration.


I think this contradicts RFC 2045's definition of media types.

"Parameters are modifiers of the media subtype, and as such do not  
fundamentally affect the nature of the content. The set of meaningful  
parameters depends on the media type and subtype. Most parameters are  
associated with a single specific subtype. However, a given top-level  
media type may define parameters which are applicable to any subtype  
of that type. Parameters may be required by their defining content  
type or subtype or they may be optional. MIME implementations must  
ignore any parameters whose names they do not recognize."

Subbu



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11822<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-12-16 17:48:13<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On Dec 16, 2008, at 9:14 AM, Stefan Tilkov wrote:
&gt;
&gt; What you are saying is that in Sanjiva's proposal, the media type name
&gt; alone doesn't identify the type. That's true, but it also happens to
&gt; be the whole point: allow for a way to identify content types without
&gt; the necessity of central registration.


I still like the original proposal best, where the first order  
approximation of the media type was "application/xml" and the second  
order was provided by the optional parameter "scheme" as it provided a  
clean degradation in precision.  The same could apply to other types  
as well and helps older agents perform at their best, while enabling  
newer ones to do better.

- Steve

--------------
Steve G. Bjorg
http://mindtouch.com
http://twitter.com/bjorg


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11823<br>
Sender:Sanjiva Weerawarana &lt;sanjiva@...&gt;<br>
Post Date/Time:2008-12-16 18:22:00<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>Don't we get past the problem if we call it application/data-format? The 
*type* is always that .. the actual format is determined by looking at the 
uri parameter.

Again, I must be missing something as I don't see how this is materially 
different from text/xml;charset=.

Sanjiva.

Subbu Allamaraju wrote:
&gt; 
&gt; On Dec 16, 2008, at 9:14 AM, Stefan Tilkov wrote:
&gt; 
&gt;&gt; What you are saying is that in Sanjiva's proposal, the media type name
&gt;&gt; alone doesn't identify the type. That's true, but it also happens to
&gt;&gt; be the whole point: allow for a way to identify content types without
&gt;&gt; the necessity of central registration.
&gt; 
&gt; 
&gt; I think this contradicts RFC 2045's definition of media types.
&gt; 
&gt; "Parameters are modifiers of the media subtype, and as such do not 
&gt; fundamentally affect the nature of the content. The set of meaningful 
&gt; parameters depends on the media type and subtype. Most parameters are 
&gt; associated with a single specific subtype. However, a given top-level 
&gt; media type may define parameters which are applicable to any subtype of 
&gt; that type. Parameters may be required by their defining content type or 
&gt; subtype or they may be optional. MIME implementations must ignore any 
&gt; parameters whose names they do not recognize."
&gt; 
&gt; Subbu
&gt; 
&gt; 


-- 
Sanjiva Weerawarana, Ph.D.
Founder &amp; Director; Lanka Software Foundation; http://www.opensource.lk/
Founder, Chairman &amp; CEO; WSO2, Inc.; http://www.wso2.com/
Member; Apache Software Foundation; http://www.apache.org/
Visiting Lecturer; University of Moratuwa; http://www.cse.mrt.ac.lk/

Blog: http://sanjiva.weerawarana.org/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11824<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-16 18:37:18<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>Per the definition I quoted below, none of the parameters define the  
media type. The "type" and "subtype" of the media type define the  
media type. This is not the case with "application/dataformat", where  
the "uri" parameter is specifying the media type.

This is materially different from the appending a charset parameter to  
text/xml or application/xml, or adding a boundary parameter to a  
multipart media type. In both these cases, the parameters don't define  
or alter the media type, they just provide extra information for the  
app processing the media.

I think the fundamental point is that the application/dataformat idea  
weakens the notion of media "types" and "subtypes".

Subbu

On Dec 16, 2008, at 10:22 AM, Sanjiva Weerawarana wrote:

&gt; Don't we get past the problem if we call it application/data-format?  
&gt; The *type* is always that .. the actual format is determined by  
&gt; looking at the uri parameter.
&gt;
&gt; Again, I must be missing something as I don't see how this is  
&gt; materially different from text/xml;charset=.
&gt;
&gt; Sanjiva.
&gt;
&gt; Subbu Allamaraju wrote:
&gt;&gt; On Dec 16, 2008, at 9:14 AM, Stefan Tilkov wrote:
&gt;&gt;&gt; What you are saying is that in Sanjiva's proposal, the media type  
&gt;&gt;&gt; name
&gt;&gt;&gt; alone doesn't identify the type. That's true, but it also happens to
&gt;&gt;&gt; be the whole point: allow for a way to identify content types  
&gt;&gt;&gt; without
&gt;&gt;&gt; the necessity of central registration.
&gt;&gt; I think this contradicts RFC 2045's definition of media types.
&gt;&gt; "Parameters are modifiers of the media subtype, and as such do not  
&gt;&gt; fundamentally affect the nature of the content. The set of  
&gt;&gt; meaningful parameters depends on the media type and subtype. Most  
&gt;&gt; parameters are associated with a single specific subtype. However,  
&gt;&gt; a given top-level media type may define parameters which are  
&gt;&gt; applicable to any subtype of that type. Parameters may be required  
&gt;&gt; by their defining content type or subtype or they may be optional.  
&gt;&gt; MIME implementations must ignore any parameters whose names they do  
&gt;&gt; not recognize."
&gt;&gt; Subbu
&gt;
&gt;
&gt; -- 
&gt; Sanjiva Weerawarana, Ph.D.
&gt; Founder &amp; Director; Lanka Software Foundation; http://www.opensource.lk/
&gt; Founder, Chairman &amp; CEO; WSO2, Inc.; http://www.wso2.com/
&gt; Member; Apache Software Foundation; http://www.apache.org/
&gt; Visiting Lecturer; University of Moratuwa; http://www.cse.mrt.ac.lk/
&gt;
&gt; Blog: http://sanjiva.weerawarana.org/

---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11825<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-12-16 19:07:15<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On Tue, Dec 16, 2008 at 12:14 PM, Stefan Tilkov &lt;stefan.tilkov@...&gt; wrote:
&gt; Hi Mark,
&gt;
&gt; What you are saying is that in Sanjiva's proposal, the media type name alone
&gt; doesn't identify the type. That's true, but it also happens to be the whole
&gt; point: allow for a way to identify content types without the necessity of
&gt; central registration.

Well, in theory, the right way to do it is to use the URI as the media
type name.  In practice that won't fly of course.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11826<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-12-16 19:22:08<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On Tue, Dec 16, 2008 at 1:22 PM, Sanjiva Weerawarana
&lt;sanjiva@...&gt; wrote:
&gt; Don't we get past the problem if we call it application/data-format? The
&gt; *type* is always that .. the actual format is determined by looking at the
&gt; uri parameter.

application/data-format can't be the type, because it doesn't point us
to a specification which tells us how to interpret the document's
meaning, the way that text/html says "look at the HTML spec" or
image/svg+xml says "look at the SVG spec".  Instead, it would
presumably say "look at the spec associated with the value of the uri
parameter" which is inconsistent with Web architecture which has given
that role uniquely to the media type name.

&gt; Again, I must be missing something as I don't see how this is materially
&gt; different from text/xml;charset=.

It's not.  text/xml and application/xml (and text/plain for that
matter) are similarly misused.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11827<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-12-16 19:25:55<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On 16.12.2008, at 20:07, Mark Baker wrote:

&gt; Well, in theory, the right way to do it is to use the URI as the media
&gt; type name.


Yes, I understand this.

&gt; In practice that won't fly of course.

Even though I'm not seriously suggesting this, I'll take the bait out  
of interest: why?

Stefan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11828<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-12-16 20:03:05<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On Tue, Dec 16, 2008 at 2:25 PM, Stefan Tilkov &lt;stefan.tilkov@...&gt; wrote:
&gt; On 16.12.2008, at 20:07, Mark Baker wrote:
&gt;
&gt;&gt; Well, in theory, the right way to do it is to use the URI as the media
&gt;&gt; type name.
&gt;
&gt;
&gt; Yes, I understand this.
&gt;
&gt;&gt; In practice that won't fly of course.
&gt;
&gt; Even though I'm not seriously suggesting this, I'll take the bait out
&gt; of interest: why?

Syntax.  The media type name syntax is highly constrained.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11829<br>
Sender:"Alexandros Marinos" &lt;al3xgr@...&gt;<br>
Post Date/Time:2008-12-16 21:16:15<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On Tue, Dec 16, 2008 at 8:03 PM, Mark Baker &lt;distobj@...&gt; wrote:
&gt;
&gt; Syntax. The media type name syntax is highly constrained.

Could there not be some predefined transformation that leads from the
constrained mediatype syntax to an accessible URI?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11830<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-12-16 21:42:21<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On Tue, Dec 16, 2008 at 4:14 PM, Alexandros Marinos &lt;al3xgr@...&gt; wrote:
&gt; On Tue, Dec 16, 2008 at 8:03 PM, Mark Baker &lt;distobj@...&gt; wrote:
&gt;&gt;
&gt;&gt; Syntax. The media type name syntax is highly constrained.
&gt;
&gt; Could there not be some predefined transformation that leads from the
&gt; constrained mediatype syntax to an accessible URI?

I suppose, but it would be butt-ugly.  The major type would have to be
hardcoded to "application", and perhaps you could encode the URI as
the subtype using base64 or something.  Ewwww.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11831<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-12-16 23:00:30<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On 16.12.2008, at 22:42, Mark Baker wrote:

&gt; I suppose, but it would be butt-ugly. The major type would have to be
&gt; hardcoded to "application", and perhaps you could encode the URI as
&gt; the subtype using base64 or something. Ewwww.
&gt;

That would truly suck. Can you think of a way this might be done  
cleanly? Or do you object to the whole idea and advise to stick with  
the current media type procedure?

Stefan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11832<br>
Sender:"Alexandros Marinos" &lt;al3xgr@...&gt;<br>
Post Date/Time:2008-12-16 23:09:20<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On Tue, Dec 16, 2008 at 11:00 PM, Stefan Tilkov &lt;stefan.tilkov@...&gt; wrote:
&gt; On 16.12.2008, at 22:42, Mark Baker wrote:
&gt;
&gt; I suppose, but it would be butt-ugly. The major type would have to be
&gt; hardcoded to "application", and perhaps you could encode the URI as
&gt; the subtype using base64 or something. Ewwww.
&gt;
&gt;
&gt; That would truly suck. Can you think of a way this might be done cleanly? Or
&gt; do you object to the whole idea and advise to stick with the current media
&gt; type procedure?
&gt; Stefan
&gt;

I don't think representing every possible uri is necessary. What I had
in mind included constraining the resulting URIs.

so for example

application/uri.person.com.example

could be transformed to

http://example.com/person/

of couse each of the domain, tld and 'class name' could consist of
more than one strings [co.uk etc.] so a second seperator would be
useful but this is the general approach.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11833<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-12-17 00:10:35<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On Tue, Dec 16, 2008 at 6:00 PM, Stefan Tilkov &lt;stefan.tilkov@...&gt; wrote:
&gt; On 16.12.2008, at 22:42, Mark Baker wrote:
&gt;
&gt; I suppose, but it would be butt-ugly. The major type would have to be
&gt; hardcoded to "application", and perhaps you could encode the URI as
&gt; the subtype using base64 or something. Ewwww.
&gt;
&gt;
&gt; That would truly suck. Can you think of a way this might be done cleanly? Or
&gt; do you object to the whole idea and advise to stick with the current media
&gt; type procedure?

Yep, stick with the status quo.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11834<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-12-17 00:16:57<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On Tue, Dec 16, 2008 at 6:09 PM, Alexandros Marinos &lt;al3xgr@...&gt; wrote:
&gt; On Tue, Dec 16, 2008 at 11:00 PM, Stefan Tilkov &lt;stefan.tilkov@...&gt; wrote:
&gt;&gt; On 16.12.2008, at 22:42, Mark Baker wrote:
&gt;&gt;
&gt;&gt; I suppose, but it would be butt-ugly. The major type would have to be
&gt;&gt; hardcoded to "application", and perhaps you could encode the URI as
&gt;&gt; the subtype using base64 or something. Ewwww.
&gt;&gt;
&gt;&gt;
&gt;&gt; That would truly suck. Can you think of a way this might be done cleanly? Or
&gt;&gt; do you object to the whole idea and advise to stick with the current media
&gt;&gt; type procedure?
&gt;&gt; Stefan
&gt;&gt;
&gt;
&gt; I don't think representing every possible uri is necessary. What I had
&gt; in mind included constraining the resulting URIs.
&gt;
&gt; so for example
&gt;
&gt; application/uri.person.com.example
&gt;
&gt; could be transformed to
&gt;
&gt; http://example.com/person/

Which is pretty close to this;

http://www.potaroo.net/ietf/idref/draft-nottingham-dns-media-tree/

which failed to gain a critical mass of support.

It's really just not worth it, folks.  Remember, media type
proliferation is bad for global interop.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11835<br>
Sender:"under_school" &lt;under_school@...&gt;<br>
Post Date/Time:2008-12-16 23:54:21<br>
Subject:Using a slash between the path fields<br>
Message:<br><br>
<pre>Trying to comply with a REST architecture, we build our current API 
as follows:

/search/shoes/colors/blue;red;silver/

That is suppose to search for shoes that match those colors. The 
problem is that the color attributes are user generated. So sometimes 
we get arguments like: "blue/light blue" "red/pink".

When we build the URI based on that, we get stuff like:

/search/shoes/colors/blue;red/pink;silver/

We tried URL encoding, converting the URL to:

/search/shoes/colors/blue;red%2Fpink;silver/

But it looks like JBoss automatically decode the %2F back to /, 
before it calls our java layer (we are using JBoss and java in the 
backend to parse the url). So we get a 404 not found error message. 
We noticed something simmilar with apache.

A workaround was to double-encode the slash string, so the first 
automatic, unwanted dencoding of JBoss wouldn't convert it back to / 
before passing it to the Java application. 

That seems to work, but I was wondering if anybody else runs in the 
same problem before, and if there is a better way to fix it without 
having to double url encode slashes.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11836<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-17 00:21:59<br>
Subject:Re: [rest-discuss] Using a slash between the path fields<br>
Message:<br><br>
<pre>I think you should really be using query parameters for this use case.  
The problem below is artificial since you chose to use path segments.  
This is not illegal, but does not buy anything.

Subbu

On Dec 16, 2008, at 3:54 PM, under_school wrote:

&gt; Trying to comply with a REST architecture, we build our current API
&gt; as follows:
&gt;
&gt; /search/shoes/colors/blue;red;silver/
&gt;
&gt; That is suppose to search for shoes that match those colors. The
&gt; problem is that the color attributes are user generated. So sometimes
&gt; we get arguments like: "blue/light blue" "red/pink".
&gt;
&gt; When we build the URI based on that, we get stuff like:
&gt;
&gt; /search/shoes/colors/blue;red/pink;silver/
&gt;
&gt; We tried URL encoding, converting the URL to:
&gt;
&gt; /search/shoes/colors/blue;red%2Fpink;silver/
&gt;
&gt; But it looks like JBoss automatically decode the %2F back to /,
&gt; before it calls our java layer (we are using JBoss and java in the
&gt; backend to parse the url). So we get a 404 not found error message.
&gt; We noticed something simmilar with apache.
&gt;
&gt; A workaround was to double-encode the slash string, so the first
&gt; automatic, unwanted dencoding of JBoss wouldn't convert it back to /
&gt; before passing it to the Java application.
&gt;
&gt; That seems to work, but I was wondering if anybody else runs in the
&gt; same problem before, and if there is a better way to fix it without
&gt; having to double url encode slashes.
&gt;

---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11837<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-12-17 00:34:13<br>
Subject:Re: [rest-discuss] Using a slash between the path fields<br>
Message:<br><br>
<pre>On Dec 16, 2008, at 3:54 PM, under_school wrote:

&gt; A workaround was to double-encode the slash string, so the first
&gt; automatic, unwanted dencoding of JBoss wouldn't convert it back to /
&gt; before passing it to the Java application.
&gt;
&gt; That seems to work, but I was wondering if anybody else runs in the
&gt; same problem before, and if there is a better way to fix it without
&gt; having to double url encode slashes.
&gt;


We've been battling the same issue on Apache and IIS (although IIS is  
worse because it won't even let the URI through due to security  
concerns! urgh).  The only solution is double-encoding (or use a  
different path layout altogether).  It's utterly ridiculous, but it's  
the was things are... :(

- Steve

--------------
Steve G. Bjorg
http://mindtouch.com
http://twitter.com/bjorg



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11838<br>
Sender:Sanjiva Weerawarana &lt;sanjiva@...&gt;<br>
Post Date/Time:2008-12-17 00:54:18<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>Mark Baker wrote:
&gt; 
&gt; It's really just not worth it, folks. Remember, media type
&gt; proliferation is bad for global interop.

Sorry Mark but that statement is inherently at odds with the REST mantra 
"use media types to describe the content".

Its utter BS to think that you can do proper HATEOS without using media 
types to fully describe the content.

You just can't have the cake and eat it too.

Sanjiva.
-- 
Sanjiva Weerawarana, Ph.D.
Founder &amp; Director; Lanka Software Foundation; http://www.opensource.lk/
Founder, Chairman &amp; CEO; WSO2, Inc.; http://www.wso2.com/
Member; Apache Software Foundation; http://www.apache.org/
Visiting Lecturer; University of Moratuwa; http://www.cse.mrt.ac.lk/

Blog: http://sanjiva.weerawarana.org/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11839<br>
Sender:Sanjiva Weerawarana &lt;sanjiva@...&gt;<br>
Post Date/Time:2008-12-17 00:54:28<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>Mark Baker wrote:
&gt; 
&gt; It's really just not worth it, folks. Remember, media type
&gt; proliferation is bad for global interop.

Sorry Mark but that statement is inherently at odds with the REST mantra 
"use media types to describe the content".

Its utter BS to think that you can do proper HATEOS without using media 
types to fully describe the content.

You just can't have the cake and eat it too.

Sanjiva.
-- 
Sanjiva Weerawarana, Ph.D.
Founder &amp; Director; Lanka Software Foundation; http://www.opensource.lk/
Founder, Chairman &amp; CEO; WSO2, Inc.; http://www.wso2.com/
Member; Apache Software Foundation; http://www.apache.org/
Visiting Lecturer; University of Moratuwa; http://www.cse.mrt.ac.lk/

Blog: http://sanjiva.weerawarana.org/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11840<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-12-17 01:30:28<br>
Subject:Re: [rest-discuss] Using a slash between the path fields<br>
Message:<br><br>
<pre>&gt; We've been battling the same issue on Apache and IIS (although IIS is
&gt; worse because it won't even let the URI through due to security
&gt; concerns! urgh).  The only solution is double-encoding (or use a
&gt; different path layout altogether).  It's utterly ridiculous, but it's
&gt; the was things are... :(

There's two sides of it, one is indeed IIS that blocks a lot of path 
modifiers and encodings (but that can be deactivated for the most part), the 
other one on .net is the Uri class itself that unencode encoded / everytime.

For many of those reasons I've departed from relying on asp.net too much, 
and the next beta of OpenRasta will just part from the Uri class alltogether 
and replace it with something that only decodes when needing.

Seb 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11841<br>
Sender:"Sebastien Lambla" &lt;seb@...&gt;<br>
Post Date/Time:2008-12-17 01:32:11<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>Stefan,
  That would truly suck. Can you think of a way this might be done cleanly? Or do you object to the whole idea and advise to stick with the current media type procedure?
I'm going to be the slow one again but what is the scenario that this uri encoding would solve?

If it's the lack of browsers representing a custom media type, conneg can be used to serve a media type the client can understand, be it an html representation for humans showing the markup, or an xml served as application/xml. Doing so doesn't preclude discovery solutions already in place and doesn't preclude the use of media types in the vendor tree, or registered. This is a stop-gap measure for the lack of implementation of xml rendering for any application/xxx+xml that some browsers suffer.

Any other scenario implies that the UA needs to understand the content for it to be displayed. As I understand it, the scenario is for the UA to detect what I assume is the root document node namespace using a media type parameter. Once this is processed, the UA will start rendering by reading the content.

The media type solution involves the UA looking at the media type, say app/vnd.myformat+xml, and starts rendering the document.

I am unsure what exactly is the benfits of app/xml;schema=bla as opposed to app/vnd.bla+xml. They both define a specific schema to be processed, they both require the UA to understand the said schema as well as the xml serialization of it. The personal, x and vendor trees can be and are used in a decentralized fashion.

As for parameters, they are nothing but added information to help the processor of the format (as opposed to the UA that manages the interaction). Changing the CharSet on an xml media type will not change the xml format, only the technical details of the serialization. The same goes for q= and others. I'd be interested in any pointers to other uses that changes the expected format(except for the ATOM one that has been mentioned before). 

That said, the parameter itself doesn't change the media type, in the sense that anyone expecting text/xml to be valid should of course accept text/xml;charset=utf-8, as long as they can process utf-8. See http://www.intertwingly.net/blog/2005/09/27/Enclosure-type-parameters for an example.

Sebastien</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11842<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-12-17 01:43:05<br>
Subject:Re: [rest-discuss] Using a slash between the path fields<br>
Message:<br><br>
<pre>On Dec 16, 2008, at 5:30 PM, Sebastien Lambla wrote:

&gt;&gt; We've been battling the same issue on Apache and IIS (although IIS is
&gt;&gt; worse because it won't even let the URI through due to security
&gt;&gt; concerns! urgh).  The only solution is double-encoding (or use a
&gt;&gt; different path layout altogether).  It's utterly ridiculous, but it's
&gt;&gt; the was things are... :(
&gt;
&gt; There's two sides of it, one is indeed IIS that blocks a lot of path
&gt; modifiers and encodings (but that can be deactivated for the most  
&gt; part), the
&gt; other one on .net is the Uri class itself that unencode encoded /  
&gt; everytime.
&gt;
&gt; For many of those reasons I've departed from relying on asp.net too  
&gt; much,
&gt; and the next beta of OpenRasta will just part from the Uri class  
&gt; alltogether
&gt; and replace it with something that only decodes when needing.
&gt;
&gt; Seb


As long as you're in .NET land (not even ASP .NET), you'll run into  
these issues.  HttpHandlers suffer from the same paranoid URI- 
rejection problem.  The only alternative is HttpListener, which  
decodes slashes, but does preserve the original URI as an alternative  
property.

I haven't used the Uri class in years.  We have our own wrapper that  
combines Uri and UriBuilder into a single class, making Uri  
manipulations a breeze and safe since it's an immutable object.  The  
class stands on its own with no external dependencies on other Dream  
files.  And like the rest of Dream, it's distributed under Apache  
License 2.0.  So, reusing it painless.  Might be worthwhile checking  
out:
https://svn.mindtouch.com/source/public/dream/trunk/src/mindtouch.dream/dream/XUri.cs

- Steve

--------------
Steve G. Bjorg
http://mindtouch.com
http://twitter.com/bjorg


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11843<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-12-17 01:48:25<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On Tue, Dec 16, 2008 at 7:54 PM, Sanjiva Weerawarana
&lt;sanjiva@...&gt; wrote:
&gt; Mark Baker wrote:
&gt;&gt;
&gt;&gt; It's really just not worth it, folks. Remember, media type
&gt;&gt; proliferation is bad for global interop.
&gt;
&gt; Sorry Mark but that statement is inherently at odds with the REST mantra
&gt; "use media types to describe the content".

I don't see how.

Obviously we need some media types.  I just argue we should try to
keep the number to a minimum.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11844<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-17 01:58:51<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>But how is that possible unless you also limit the number of possible  
resources/representations to a minimum?

Subbu

On Dec 16, 2008, at 5:48 PM, Mark Baker wrote:

&gt; On Tue, Dec 16, 2008 at 7:54 PM, Sanjiva Weerawarana
&gt; &lt;sanjiva@...&gt; wrote:
&gt; &gt; Mark Baker wrote:
&gt; &gt;&gt;
&gt; &gt;&gt; It's really just not worth it, folks. Remember, media type
&gt; &gt;&gt; proliferation is bad for global interop.
&gt; &gt;
&gt; &gt; Sorry Mark but that statement is inherently at odds with the REST  
&gt; mantra
&gt; &gt; "use media types to describe the content".
&gt;
&gt; I don't see how.
&gt;
&gt; Obviously we need some media types. I just argue we should try to
&gt; keep the number to a minimum.
&gt;
&gt; Mark.
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11845<br>
Sender:Bill Burke &lt;bburke@...&gt;<br>
Post Date/Time:2008-12-17 02:11:52<br>
Subject:Re: [rest-discuss] Using a slash between the path fields<br>
Message:<br><br>
<pre>

under_school wrote:
&gt; But it looks like JBoss automatically decode the %2F back to /,
&gt; before it calls our java layer (we are using JBoss and java in the
&gt; backend to parse the url). So we get a 404 not found error message.
&gt; We noticed something simmilar with apache.
&gt; 

How are you dispatching these URLs?  Via a Servlet using the 
HttpServletRequest API to find the URL?



-- 
Bill Burke
JBoss, a division of Red Hat
http://bill.burkecentral.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11846<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-12-17 04:23:01<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On Tue, Dec 16, 2008 at 8:58 PM, Subbu Allamaraju &lt;subbu@...&gt; wrote:
&gt; But how is that possible unless you also limit the number of possible
&gt; resources/representations to a minimum?

By using media types which can convey a wide variety of information,
rather than those intended for a specific purpose.  RDF(/XML) is one
such type, as is HTML+microformats.  Others may come along in the
future.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11847<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-12-17 06:41:44<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On 17.12.2008, at 02:32, Sebastien Lambla wrote:

&gt; I am unsure what exactly is the benfits of app/xml;schema=bla as  
&gt; opposed to app/vnd.bla+xml. They both define a specific schema to be  
&gt; processed, they both require the UA to understand the said schema as  
&gt; well as the xml serialization of it. The personal, x and vendor  
&gt; trees can be and are used in a decentralized fashion.

You are right. But the whole reason for the discussion is that there  
are currently two options:

- stick with an "official" media type
- invent your own, and document it out of band

The second option has problems, specifically name clashes and lack of  
standardized documentation. For both, using URIs seems like a good idea.

Stefan
--
Stefan Tilkov, http://www.innoq.com/blog/st/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11848<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-12-17 06:51:30<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On 17.12.2008, at 01:16, Mark Baker wrote:
&gt; On Tue, Dec 16, 2008 at 6:09 PM, Alexandros Marinos  
&gt; &lt;al3xgr@...&gt; wrote:
&gt; &gt; On Tue, Dec 16, 2008 at 11:00 PM, Stefan Tilkov &lt;stefan.tilkov@... 
&gt; &gt; wrote:
&gt; &gt;&gt; On 16.12.2008, at 22:42, Mark Baker wrote:
&gt; &gt;&gt;
&gt; &gt;&gt; I suppose, but it would be butt-ugly. The major type would have  
&gt; to be
&gt; &gt;&gt; hardcoded to "application", and perhaps you could encode the URI as
&gt; &gt;&gt; the subtype using base64 or something. Ewwww.
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; That would truly suck. Can you think of a way this might be done  
&gt; cleanly? Or
&gt; &gt;&gt; do you object to the whole idea and advise to stick with the  
&gt; current media
&gt; &gt;&gt; type procedure?
&gt; &gt;&gt; Stefan
&gt; &gt;&gt;
&gt; &gt;
&gt; &gt; I don't think representing every possible uri is necessary. What I  
&gt; had
&gt; &gt; in mind included constraining the resulting URIs.
&gt; &gt;
&gt; &gt; so for example
&gt; &gt;
&gt; &gt; application/uri.person.com.example
&gt; &gt;
&gt; &gt; could be transformed to
&gt; &gt;
&gt; &gt; http://example.com/person/
&gt;
&gt; Which is pretty close to this;
&gt;
&gt; http://www.potaroo.net/ietf/idref/draft-nottingham-dns-media-tree/
&gt;
&gt; which failed to gain a critical mass of support.
&gt;

Any pointers to past discussions? With a quick search I found this

http://markmail.org/message/vfq2asqjkqydtolw (not really informative)

and this

http://lists.w3.org/Archives/Public/xml-dist-app/2004Jan/0027.html  
(with no responses).

Stefan
&gt;
&gt;
&gt; It's really just not worth it, folks. Remember, media type
&gt; proliferation is bad for global interop.
&gt;
&gt; Mark.
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11849<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-12-17 06:57:42<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On 17.12.2008, at 05:23, Mark Baker wrote:

&gt; On Tue, Dec 16, 2008 at 8:58 PM, Subbu Allamaraju &lt;subbu@...&gt;  
&gt; wrote:
&gt; &gt; But how is that possible unless you also limit the number of  
&gt; possible
&gt; &gt; resources/representations to a minimum?
&gt;
&gt; By using media types which can convey a wide variety of information,
&gt; rather than those intended for a specific purpose. RDF(/XML) is one
&gt; such type, as is HTML+microformats. Others may come along in the
&gt; future.
&gt;

But then I can't tell from the media type alone whether I can process  
it or not.

Would you prefer application/xml to vnd.example.org-invoice+xml ?

Stefan
&gt;
&gt;
&gt; Mark.
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11850<br>
Sender:Sean Kennedy &lt;seandkennedy@...&gt;<br>
Post Date/Time:2008-12-17 12:02:53<br>
Subject:"Lies, damned lies, and statistics"<br>
Message:<br><br>
<pre>Hi,
   I am trying to find out what are the percentage of GETs (and other verbs if possible) in a RESTful system. Has anyone got any or a link to where I might find some.

Thanks,
Sean.



      </pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11851<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-12-17 15:56:14<br>
Subject:Re: [rest-discuss] "Lies, damned lies, and statistics"<br>
Message:<br><br>
<pre>I've built systems which were 100% GET, and others which were 99%
POST.  Obviously it depends on the system.

On Wed, Dec 17, 2008 at 7:02 AM, Sean Kennedy &lt;seandkennedy@...&gt; wrote:
&gt; Hi,
&gt;    I am trying to find out what are the percentage of GETs (and other verbs
&gt; if possible) in a RESTful system. Has anyone got any or a link to where I
&gt; might find some.
&gt;
&gt; Thanks,
&gt; Sean.
&gt;
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11852<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-12-17 16:26:30<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On Wed, Dec 17, 2008 at 1:51 AM, Stefan Tilkov &lt;stefan.tilkov@...&gt; wrote:
&gt; Any pointers to past discussions? With a quick search I found this
&gt;
&gt; http://markmail.org/message/vfq2asqjkqydtolw (not really informative)
&gt;
&gt; and this
&gt;
&gt; http://lists.w3.org/Archives/Public/xml-dist-app/2004Jan/0027.html
&gt; (with no responses).

See;

http://www.alvestrand.no/pipermail/ietf-types/2004-January/date.html
http://www.alvestrand.no/pipermail/ietf-types/2004-February/date.html
http://www.alvestrand.no/pipermail/ietf-types/2004-March/date.html

I think that's it.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11853<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-12-17 17:59:27<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>Stefan Tilkov wrote:
&gt; 
&gt; 
&gt; On 17.12.2008, at 05:23, Mark Baker wrote:
&gt; 
&gt;  &gt; On Tue, Dec 16, 2008 at 8:58 PM, Subbu Allamaraju &lt;subbu@... 
&gt; &lt;mailto:subbu%40subbu.org&gt;&gt;
&gt;  &gt; wrote:
&gt;  &gt; &gt; But how is that possible unless you also limit the number of
&gt;  &gt; possible
&gt;  &gt; &gt; resources/representations to a minimum?
&gt;  &gt;
&gt;  &gt; By using media types which can convey a wide variety of information,
&gt;  &gt; rather than those intended for a specific purpose. RDF(/XML) is one
&gt;  &gt; such type, as is HTML+microformats. Others may come along in the
&gt;  &gt; future.
&gt;  &gt;
&gt; 
&gt; But then I can't tell from the media type alone whether I can process
&gt; it or not.

For RDF, OWL, KIF, etc you have options. The media type tells you which 
inferencing engine* you can apply and therefor what assumptions can be 
made about the data.

For mixed formats like uF and html+rdfa, you're right.

Bill

* Technically, this works like a ladder a la conneg... Oh, we're doomed!

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11854<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-17 18:52:24<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>
On Dec 17, 2008, at 9:59 AM, Bill de hOra wrote:

&gt; For RDF, OWL, KIF, etc you have options. The media type tells you  
&gt; which
&gt; inferencing engine* you can apply and therefor what assumptions can be
&gt; made about the data.
&gt;
&gt; For mixed formats like uF and html+rdfa, you're right.


But this model reduces the visibility uniform interface. Entity  
headers like Content-Type should be sufficient to learn about how to  
process the message. If this was not the case, what are media types for?

In any case, what problem does pushing the assumptions about the data  
from the media type into the representation solve?

OTOH, giving all the assumptions a name (i.e media type) makes it  
easier for the application to use the right processing engine.

Subbu
---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11855<br>
Sender:"Bob Haugen" &lt;bob.haugen@...&gt;<br>
Post Date/Time:2008-12-17 19:39:28<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>This thread now contains 113 messages.

Probably not a record for this group.

However, I do get the feeling this is an important topic (media types
and interoperability, assuming I understand correctly).

But I have lost the drift.  Can anybody summarize the various
positions, and is any kind of consensus emerging?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11856<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-12-17 20:23:09<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>Subbu Allamaraju wrote:
&gt; 
&gt; On Dec 17, 2008, at 9:59 AM, Bill de hOra wrote:
&gt; 
&gt;&gt; For RDF, OWL, KIF, etc you have options. The media type tells you which
&gt;&gt; inferencing engine* you can apply and therefor what assumptions can be
&gt;&gt; made about the data.
&gt;&gt;
&gt;&gt; For mixed formats like uF and html+rdfa, you're right.
&gt; 
&gt; 
&gt; But this model reduces the visibility uniform interface. Entity headers 
&gt; like Content-Type should be sufficient to learn about how to process the 
&gt; message. If this was not the case, what are media types for?
&gt; 
&gt; In any case, what problem does pushing the assumptions about the data 
&gt; from the media type into the representation solve?

I'm, not sure what your point is; you seem to be agreeing with I'm saying.

&gt; OTOH, giving all the assumptions a name (i.e media type) makes it easier 
&gt; for the application to use the right processing engine.

Here you lost me. Applications don't tend to use media types, I think we 
all know this, and even if that changed, it's not clear at all to me 
what the media type is for html containing various uFs and chunks of 
RDFa. I've said this before - we don't like protocol tunneling but 
format tunneling seems just fine - if wasn't, RDFa wouldn't get through 
the W3C without an architectural objection.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11857<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-17 20:37:10<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>I thought you were advocating using a few general types like  
application/xml and then push the specifics into the representation  
using RDF etc. No?

Subbu

On Dec 17, 2008, at 12:23 PM, Bill de hOra wrote:

&gt; Subbu Allamaraju wrote:
&gt;&gt;
&gt;&gt; On Dec 17, 2008, at 9:59 AM, Bill de hOra wrote:
&gt;&gt;
&gt;&gt;&gt; For RDF, OWL, KIF, etc you have options. The media type tells you  
&gt;&gt;&gt; which
&gt;&gt;&gt; inferencing engine* you can apply and therefor what assumptions  
&gt;&gt;&gt; can be
&gt;&gt;&gt; made about the data.
&gt;&gt;&gt;
&gt;&gt;&gt; For mixed formats like uF and html+rdfa, you're right.
&gt;&gt;
&gt;&gt;
&gt;&gt; But this model reduces the visibility uniform interface. Entity  
&gt;&gt; headers
&gt;&gt; like Content-Type should be sufficient to learn about how to  
&gt;&gt; process the
&gt;&gt; message. If this was not the case, what are media types for?
&gt;&gt;
&gt;&gt; In any case, what problem does pushing the assumptions about the data
&gt;&gt; from the media type into the representation solve?
&gt;
&gt; I'm, not sure what your point is; you seem to be agreeing with I'm  
&gt; saying.
&gt;
&gt;&gt; OTOH, giving all the assumptions a name (i.e media type) makes it  
&gt;&gt; easier
&gt;&gt; for the application to use the right processing engine.
&gt;
&gt; Here you lost me. Applications don't tend to use media types, I  
&gt; think we
&gt; all know this, and even if that changed, it's not clear at all to me
&gt; what the media type is for html containing various uFs and chunks of
&gt; RDFa. I've said this before - we don't like protocol tunneling but
&gt; format tunneling seems just fine - if wasn't, RDFa wouldn't get  
&gt; through
&gt; the W3C without an architectural objection.
&gt;
&gt; Bill

---
http://subbu.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11858<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-12-17 20:40:34<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>On Wed, Dec 17, 2008 at 3:23 PM, Bill de hOra &lt;bill@...&gt; wrote:
&gt; Here you lost me. Applications don't tend to use media types, I think we
&gt; all know this, and even if that changed, it's not clear at all to me
&gt; what the media type is for html containing various uFs and chunks of
&gt; RDFa. I've said this before - we don't like protocol tunneling but
&gt; format tunneling seems just fine - if wasn't, RDFa wouldn't get through
&gt; the W3C without an architectural objection.

There was an architectural issue but IIRC, it's being resolved.  Part
of that discussion here;

http://lists.w3.org/Archives/Public/www-tag/2008Sep/0013.html

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11859<br>
Sender:"Eric J. Bowman" &lt;eric@...&gt;<br>
Post Date/Time:2008-12-17 20:45:19<br>
Subject:Re: [rest-discuss] Re: MIME properties instead +<br>
Message:<br><br>
<pre>"mike amundsen" wrote:
&gt; 
&gt; BTW - uwin is new to me, too. thanks for the pointer.
&gt; 

Turns out it was written by Dr. David Korn:

"
The best advice I can give is to not use Windows unless you have to,
or if you have to, use a UNIX operating system on top of Windows like
UWIN or Cygwin.

One insight that I would give about UWIN is that it proved to be far
more difficult than I had anticipated.
"

http://slashdot.org/articles/01/02/06/2030205.shtml

See questions 8 and 11.

-Eric

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11860<br>
Sender:Fabio Mancinelli &lt;fm@...&gt;<br>
Post Date/Time:2008-12-19 11:38:39<br>
Subject:Query parameters<br>
Message:<br><br>
<pre>Dear all,

I have a design question and I would like to ask for a feedback from the
experts.

Imagine to have a model where you have a document identified by an id
that can have different translations (one of them being the default) and
revisions (each translation has its own independent revision history).

I could model these resources in the following way:

/* Default language *
/{docId}
/{docId}/versions
/{docId}/versions/{version}
/* Additional translations */
/{docId}/translations
/{docId}/translations/{lang}
/{docId}/translations/{lang}/versions
/{docId}/translations/{lang}/versions/{version}

Or, with the same expressive power, I might do:

/{docId}[?translation=lang&amp;version=v]
/{docId}/translations
/{docId}/versions[?translation=lang]

Now, from my understanding, the two designs are fine and the second one
looks to me more compact and clean. However there might be some issues.

1) In the "Restful WebServices" book, authors suggest that query
parameters should be used only to "suggest arguments being plugged into
an algorithm" (e.g., Google's .../search?q=query). This is not the case
of {docId} so maybe the second design is not following a "best practice".

2) Another potential issue could be related to caching. Squid, for
example, recommends to ignore query parameters for caching in its
default configuration. So by using query parameters maybe I might have
cacheable resources not cached by some intermediary.

3) Other?

What do you think? Why should I prefer the first design with respect to
the other or viceversa?

Thank you for your help.

-Fabio

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11861<br>
Sender:Stefan Tilkov &lt;stefan.tilkov@...&gt;<br>
Post Date/Time:2008-12-19 23:15:14<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>Thanks Mark. Interesting to see  your position back then to have been  
the exact opposite of your current one :-)

Even though I think I understand your concerns, I disagree with your  
conclusion. I don't care as much about globally standardized media  
types as I do about a way for companies and their partners to  
standardize how they collaborate. Given this, it seems to me that  
mnot's proposal is still the best option for decentralizing media types.

Stefan


On 17.12.2008, at 17:26, Mark Baker wrote:

&gt; On Wed, Dec 17, 2008 at 1:51 AM, Stefan Tilkov &lt;stefan.tilkov@... 
&gt; &gt; wrote:
&gt;&gt; Any pointers to past discussions? With a quick search I found this
&gt;&gt;
&gt;&gt; http://markmail.org/message/vfq2asqjkqydtolw (not really informative)
&gt;&gt;
&gt;&gt; and this
&gt;&gt;
&gt;&gt; http://lists.w3.org/Archives/Public/xml-dist-app/2004Jan/0027.html
&gt;&gt; (with no responses).
&gt;
&gt; See;
&gt;
&gt; http://www.alvestrand.no/pipermail/ietf-types/2004-January/date.html
&gt; http://www.alvestrand.no/pipermail/ietf-types/2004-February/date.html
&gt; http://www.alvestrand.no/pipermail/ietf-types/2004-March/date.html
&gt;
&gt; I think that's it.
&gt;
&gt; Mark.
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11862<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-12-20 14:50:46<br>
Subject:Esme's REST API<br>
Message:<br><br>
<pre>I thought given Subbu's post on infoq on how to use links in your 
content, I'd supply a contrasting:

&lt;http://code.google.com/p/esmeproject/wiki/REST_API_Documantation&gt;

which has stuff like this

&lt;esme_api operation="status" success="false"/&gt;
         &lt;esme_api operation="status" success="true"&gt;
         &lt;user nickname="..." id="1"/&gt;
&lt;/esme_api&gt;

Esme's API is as bad anything I saw in the SOAP/XMLRPC days. I'm 
dumbfounded this can get incubated in the ASF.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11863<br>
Sender:"Justin Sheehy" &lt;justin@...&gt;<br>
Post Date/Time:2008-12-20 16:02:24<br>
Subject:Re: [rest-discuss] Esme's REST API<br>
Message:<br><br>
<pre>On Sat, Dec 20, 2008 at 9:50 AM, Bill de hOra &lt;bill@...&gt; wrote:

&gt; Esme's API is as bad anything I saw in the SOAP/XMLRPC days. I'm
&gt; dumbfounded this can get incubated in the ASF.

This pretty much summed it up for me:

"Destroy current session"
GET /api/logout

-Justin

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11864<br>
Sender:"Etan Wexler" &lt;yahoo.com@...&gt;<br>
Post Date/Time:2008-12-20 20:09:18<br>
Subject:Re: [rest-discuss] Esme's REST API<br>
Message:<br><br>
<pre>Bill de hOra wrote (in
&lt;http://tech.groups.yahoo.com/group/rest-discuss/message/11862&gt;):

&gt; Esme's API is as bad anything I saw in the SOAP/XMLRPC days. I'm 
&gt; dumbfounded this can get incubated in the ASF.

Bill was writing, respectively, of the Enterprise Social Messaging
Experiment (&lt;http://incubator.apache.org/esme/&gt;) and the Apache Software
Foundation (&lt;http://www.apache.org/foundation/&gt;). I'll leave aside the
assessment of the ESME API (not that I have arguments with Bill's
assessment, anyway). I want to address Bill's dumbfounding. I understand
his feeling, but don't share it. The time for surprise has passed; just
glance at the list of projects within the Apache Software Foundation
(&lt;http://projects.apache.org/indexes/alpha.html&gt;) to see what I mean.

I am a lurker
(&lt;http://www.apache.org/foundation/how-it-works.html#users&gt;) within the
Apache community, so I don't claim to know how the Apache Software
Foundation works. I have read "How the ASF works"
(&lt;http://www.apache.org/foundation/how-it-works.html&gt;), a publication of
the Apache Software Foundation. Consider the following passage from "How
the ASF works"
(&lt;http://www.apache.org/foundation/how-it-works.html#incubator&gt;):

&gt; It must be noted that the incubator (just like the board) does not 
&gt; perform filtering on the basis of technical issues. This is because 
&gt; the foundation respects and suggests variety of technical approaches. 
&gt; It doesn't fear innovation or even internal confrontation between 
&gt; projects which overlap in functionality.

Do I need to comment further?

-- 
Please do not copy me on public replies.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11865<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-12-20 21:45:52<br>
Subject:Re: [rest-discuss] Esme's REST API<br>
Message:<br><br>
<pre>Etan Wexler wrote:

&gt;&gt; It must be noted that the incubator (just like the board) does not 
&gt;&gt; perform filtering on the basis of technical issues. This is because 
&gt;&gt; the foundation respects and suggests variety of technical approaches. 
&gt;&gt; It doesn't fear innovation or even internal confrontation between 
&gt;&gt; projects which overlap in functionality.
&gt; 
&gt; Do I need to comment further?

The point is this - why is the API called RESTful? That's not a 
technical issue.

Bill



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11866<br>
Sender:"Assaf Arkin" &lt;assaf@...&gt;<br>
Post Date/Time:2008-12-20 22:46:35<br>
Subject:Re: [rest-discuss] Esme's REST API<br>
Message:<br><br>
<pre>[ Attachment content not displayed ]</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11867<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-12-20 23:06:44<br>
Subject:Re: [rest-discuss] Esme's REST API<br>
Message:<br><br>
<pre>Assaf Arkin wrote:
&gt; On Sat, Dec 20, 2008 at 1:45 PM, Bill de hOra &lt;bill@... 
&gt; &lt;mailto:bill@...&gt;&gt; wrote:
&gt; 
&gt;     Etan Wexler wrote:
&gt; 
&gt;      &gt;&gt; It must be noted that the incubator (just like the board) does not
&gt;      &gt;&gt; perform filtering on the basis of technical issues. This is because
&gt;      &gt;&gt; the foundation respects and suggests variety of technical
&gt;     approaches.
&gt;      &gt;&gt; It doesn't fear innovation or even internal confrontation between
&gt;      &gt;&gt; projects which overlap in functionality.
&gt;      &gt;
&gt;      &gt; Do I need to comment further?
&gt; 
&gt;     The point is this - why is the API called RESTful? That's not a
&gt;     technical issue.
&gt; 
&gt; 
&gt; If I had a dollar for every project/person who thinks REST is short for 
&gt; RPC over HTTP (now with 100% more Verbs!) ...

What do you think will happen if the ASF is asked to remoniker that page 
to say an "RPC API" ?


&gt; The point of incubation is to create a self-governing community around 
&gt; the project, and that includes a place to discuss these things, 
&gt; specifically the ESME dev mailing list.  If the original developers 
&gt; didn't know REST well enough, here's the chance of get involved and 
&gt; sprinkle some REST goodness there.

I get more done posting criticism here or on a weblog. I don't want to 
go around fixing broken APIs, but I would like them to be named for what 
they are.  It's not as though the ASF community doesn't have members who 
  can do this.


&gt; It's also possible this is the odor of corporate branding applied to the 
&gt; project in its pre-Apache days.  Incubation is the chance to shed 
&gt; the corporate/proprietary mentality and grow into an open 
&gt; source/community.  If you can't do that, you don't graduate, so when 
&gt; voting to accept a project for incubation, it's about the possibility of 
&gt; it becoming an Apache project, less so about the raw materials.

All right and true, but beside the point.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11868<br>
Sender:"Etan Wexler" &lt;yahoo.com@...&gt;<br>
Post Date/Time:2008-12-21 02:08:27<br>
Subject:The buzzword "REST" and truth in labeling [rest-discuss]<br>
Message:<br><br>
<pre>Bill de hOra wrote (in
&lt;http://tech.groups.yahoo.com/group/rest-discuss/message/11865&gt;):

&gt; The point is this[:] why is the API called RESTful? That's not a 
&gt; technical issue.

The developers of the project [1] likely believe that their API is
RESTful and they therefore call their API "RESTful". I try to presume
ignorance instead of malice. You're correct about the issue not being a
technical issue. Regardless of whether the issue is the ignorance of the
developers, the social dynamics around buzzwords, the lack of managerial
will to confront the false labeling, or some combination of the
foregoing, the issue is social, not technical.

What would you suggest regarding other, similar falsehoods [2] in
related projects?

[1] Enterprise Social Messaging Experiment (ESME)
&lt;http://incubator.apache.org/esme/&gt;.

[2] "Tapestry for Struts Developers"
&lt;http://tapestry.apache.org/tapestry5/struts.html&gt;: "Tapestry is truly
object oriented [...]".

-- 
Please do not copy me on public replies. To maintain thread, please
leave the suffix "[rest-discuss]" in the subject field.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11869<br>
Sender:Bill de hOra &lt;bill@...&gt;<br>
Post Date/Time:2008-12-21 02:22:51<br>
Subject:Re: The buzzword "REST" and truth in labeling [rest-discuss]<br>
Message:<br><br>
<pre>Etan Wexler wrote:
&gt; 
&gt; 
&gt; Bill de hOra wrote (in
&gt; &lt;http://tech.groups.yahoo.com/group/rest-discuss/message/11865 
&gt; &lt;http://tech.groups.yahoo.com/group/rest-discuss/message/11865&gt;&gt;):
&gt; 
&gt;  &gt; The point is this[:] why is the API called RESTful? That's not a
&gt;  &gt; technical issue.
&gt; 
&gt; The developers of the project [1] likely believe that their API is
&gt; RESTful and they therefore call their API "RESTful". I try to presume
&gt; ignorance instead of malice. You're correct about the issue not being a
&gt; technical issue. Regardless of whether the issue is the ignorance of the
&gt; developers, the social dynamics around buzzwords, the lack of managerial
&gt; will to confront the false labeling, or some combination of the
&gt; foregoing, the issue is social, not technical.

I said the issue wasn't technical; thanks for agreeing.

If this thing is going to use the term REST, I expect it to have 
something do with that term, instead of being in opposition to it.

&gt; What would you suggest regarding other, similar falsehoods [2] in
&gt; related projects?

I have no suggestions for Tapestry.

Bill

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11870<br>
Sender:"Brandon Carlson" &lt;bcarlso@...&gt;<br>
Post Date/Time:2008-12-21 02:43:11<br>
Subject:Re: The buzzword "REST" and truth in labeling [rest-discuss]<br>
Message:<br><br>
<pre>Bill wrote:
&gt; If this thing is going to use the term REST, I expect it to have
&gt; something do with that term, instead of being in opposition to it.

I agree. Unfortunately, the reality of the situation is that many
people think REST == (!SOAP). Look at any buzzword compliant
technology. Do you know how many "Agile Software Development" shops
there are out there that think having a daily standup, "iterations"
(even if they're 3 months), and "no documentation" means they're
"Agile"?

I don't think there's any way to avoid it. I just correct the
misconceptions when I hear/see them. It's all I can do.

Brandon


On Sat, Dec 20, 2008 at 8:22 PM, Bill de hOra &lt;bill@...&gt; wrote:
&gt; Etan Wexler wrote:
&gt;&gt;
&gt;&gt;
&gt;&gt; Bill de hOra wrote (in
&gt;&gt; &lt;http://tech.groups.yahoo.com/group/rest-discuss/message/11865
&gt;&gt; &lt;http://tech.groups.yahoo.com/group/rest-discuss/message/11865&gt;&gt;):
&gt;&gt;
&gt;&gt;  &gt; The point is this[:] why is the API called RESTful? That's not a
&gt;&gt;  &gt; technical issue.
&gt;&gt;
&gt;&gt; The developers of the project [1] likely believe that their API is
&gt;&gt; RESTful and they therefore call their API "RESTful". I try to presume
&gt;&gt; ignorance instead of malice. You're correct about the issue not being a
&gt;&gt; technical issue. Regardless of whether the issue is the ignorance of the
&gt;&gt; developers, the social dynamics around buzzwords, the lack of managerial
&gt;&gt; will to confront the false labeling, or some combination of the
&gt;&gt; foregoing, the issue is social, not technical.
&gt;
&gt; I said the issue wasn't technical; thanks for agreeing.
&gt;
&gt; If this thing is going to use the term REST, I expect it to have
&gt; something do with that term, instead of being in opposition to it.
&gt;
&gt;&gt; What would you suggest regarding other, similar falsehoods [2] in
&gt;&gt; related projects?
&gt;
&gt; I have no suggestions for Tapestry.
&gt;
&gt; Bill
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11871<br>
Sender:"Etan Wexler" &lt;yahoo.com@...&gt;<br>
Post Date/Time:2008-12-21 02:55:18<br>
Subject:Re: The buzzword "REST" and truth in labeling [rest-discuss]<br>
Message:<br><br>
<pre>Bill de hOra wrote (in
&lt;http://tech.groups.yahoo.com/group/rest-discuss/message/11869&gt;):

&gt; I said the issue wasn't technical; thanks for agreeing.

I duly noted what you said; you're welcome to my agreement.

&gt; If this thing is going to use the term REST, I expect it to have 
&gt; something do with that term, instead of being in opposition to it.

If "expect" is colloquial for "demand" or for "request", then I lend you
my moral support. If "expect" means "anticipate", then I anticipate that
you will quickly encounter several nasty surprises in the same vein.

-- 
Please do not copy me on public replies.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11872<br>
Sender:"Peter Keane" &lt;pkeane@...&gt;<br>
Post Date/Time:2008-12-21 20:37:26<br>
Subject:uri templates in link relations?<br>
Message:<br><br>
<pre>I work on an Atom/AtomPub based content/asset repository in which all
important content entities are represented as Atom entries (at least
at the Atom interface layer).  In a collection, a user can create
entity "types"* (e.g., Artist, Artistic Work, etc.), then assert a
relationship between these two entity classes (e.g., Artist has many
Artistic Works).   It is then  pretty easy to represent  the
relationship in Atom -- &lt;link
rel="http://example.com/artist/to/artistic_work"
href="http://example.com/artist/to/artistic_work/&lt;artist_identifier&gt;"
title="Works"&gt; on the "parent" in the relationship.

There could be an infinite number of these relations created by end
users as they define entity classes and assert relationships between
them.  Obviously, service docs could be dynamic so as to represent
these newly minted link relations, but since they would typically
follow an easily regex-able pattern, I wonder if defining a link
relation uri template might make more sense.

Any thoughts?

--peter keane

*types simply define the set of attributes available for the entity --
e.g., birth &amp; death dates for Artist, material &amp; creation date for
Artistic Work.  Types are represented as an AtomPub Category document.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11873<br>
Sender:"groovepapa82" &lt;luke.crouch@...&gt;<br>
Post Date/Time:2008-12-21 21:40:55<br>
Subject:Re: uri templates in link relations?<br>
Message:<br><br>
<pre>URI Templating has been an ongoing effort ... I think it was proposed
for inclusion in HTML 5, but not sure what came of that. A quick
Google search revealed this ...

http://bitworking.org/projects/URI-Templates/

In addition, you might also want to look for any existing microformat
efforts that could cover your semantic requirements - i.e., in your
"rel" attribute value.

-L

--- In rest-discuss@yahoogroups.com, "Peter Keane" &lt;pkeane@...&gt; wrote:
&gt;
&gt; I work on an Atom/AtomPub based content/asset repository in which all
&gt; important content entities are represented as Atom entries (at least
&gt; at the Atom interface layer).  In a collection, a user can create
&gt; entity "types"* (e.g., Artist, Artistic Work, etc.), then assert a
&gt; relationship between these two entity classes (e.g., Artist has many
&gt; Artistic Works).   It is then  pretty easy to represent  the
&gt; relationship in Atom -- &lt;link
&gt; rel="http://example.com/artist/to/artistic_work"
&gt; href="http://example.com/artist/to/artistic_work/&lt;artist_identifier&gt;"
&gt; title="Works"&gt; on the "parent" in the relationship.
&gt; 
&gt; There could be an infinite number of these relations created by end
&gt; users as they define entity classes and assert relationships between
&gt; them.  Obviously, service docs could be dynamic so as to represent
&gt; these newly minted link relations, but since they would typically
&gt; follow an easily regex-able pattern, I wonder if defining a link
&gt; relation uri template might make more sense.
&gt; 
&gt; Any thoughts?
&gt; 
&gt; --peter keane
&gt; 
&gt; *types simply define the set of attributes available for the entity --
&gt; e.g., birth &amp; death dates for Artist, material &amp; creation date for
&gt; Artistic Work.  Types are represented as an AtomPub Category document.
&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11874<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-22 02:29:19<br>
Subject:Re: [rest-discuss] uri templates in link relations?<br>
Message:<br><br>
<pre>You can define a link-template like element to convey URI templates.

I am not sure what you mean by "service docs" though.

Subbu

On Dec 21, 2008, at 12:37 PM, Peter Keane wrote:

&gt; I work on an Atom/AtomPub based content/asset repository in which all
&gt; important content entities are represented as Atom entries (at least
&gt; at the Atom interface layer). In a collection, a user can create
&gt; entity "types"* (e.g., Artist, Artistic Work, etc.), then assert a
&gt; relationship between these two entity classes (e.g., Artist has many
&gt; Artistic Works). It is then pretty easy to represent the
&gt; relationship in Atom -- &lt;link
&gt; rel="http://example.com/artist/to/artistic_work"
&gt; href="http://example.com/artist/to/artistic_work/&lt;artist_identifier&gt;"
&gt; title="Works"&gt; on the "parent" in the relationship.
&gt;
&gt; There could be an infinite number of these relations created by end
&gt; users as they define entity classes and assert relationships between
&gt; them. Obviously, service docs could be dynamic so as to represent
&gt; these newly minted link relations, but since they would typically
&gt; follow an easily regex-able pattern, I wonder if defining a link
&gt; relation uri template might make more sense.
&gt;
&gt; Any thoughts?
&gt;
&gt; --peter keane
&gt;
&gt; *types simply define the set of attributes available for the entity --
&gt; e.g., birth &amp; death dates for Artist, material &amp; creation date for
&gt; Artistic Work. Types are represented as an AtomPub Category document.
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11875<br>
Sender:Subbu Allamaraju &lt;subbu@...&gt;<br>
Post Date/Time:2008-12-22 06:51:38<br>
Subject:Re: [rest-discuss] MIME properties instead +<br>
Message:<br><br>
<pre>+1

The TAG draft on the "self-describing web" overemphasizes global- 
interop while discouraging use of "non-standard" media types, or as  
mnot's draft says "the registration system indirectly discourages the  
wide use of those mechanisms that leverage media types."

Given that RFC 4027 defines application/dns, I prefer the "vnd  
convention" in stead. Most vnd subtypes (under http://www.iana.org/assignments/media-types/application/) 
  follow the vnd.&lt;org&gt;.&lt;some-type&gt;.&lt;some-family&gt; convention, which is  
extensible enough.

IMO, media type specifications will be "found" and global interop will  
happen if the stuff behind a given media type is interesting for  
others to interop with. Local interop may be a good start in most cases.

Subbu

On Dec 19, 2008, at 3:15 PM, Stefan Tilkov wrote:

&gt; Thanks Mark. Interesting to see your position back then to have been
&gt; the exact opposite of your current one :-)
&gt;
&gt; Even though I think I understand your concerns, I disagree with your
&gt; conclusion. I don't care as much about globally standardized media
&gt; types as I do about a way for companies and their partners to
&gt; standardize how they collaborate. Given this, it seems to me that
&gt; mnot's proposal is still the best option for decentralizing media  
&gt; types.
&gt;
&gt; Stefan
&gt;
&gt; On 17.12.2008, at 17:26, Mark Baker wrote:
&gt;
&gt; &gt; On Wed, Dec 17, 2008 at 1:51 AM, Stefan Tilkov &lt;stefan.tilkov@...
&gt; &gt; &gt; wrote:
&gt; &gt;&gt; Any pointers to past discussions? With a quick search I found this
&gt; &gt;&gt;
&gt; &gt;&gt; http://markmail.org/message/vfq2asqjkqydtolw (not really  
&gt; informative)
&gt; &gt;&gt;
&gt; &gt;&gt; and this
&gt; &gt;&gt;
&gt; &gt;&gt; http://lists.w3.org/Archives/Public/xml-dist-app/2004Jan/0027.html
&gt; &gt;&gt; (with no responses).
&gt; &gt;
&gt; &gt; See;
&gt; &gt;
&gt; &gt; http://www.alvestrand.no/pipermail/ietf-types/2004-January/date.html
&gt; &gt; http://www.alvestrand.no/pipermail/ietf-types/2004-February/ 
&gt; date.html
&gt; &gt; http://www.alvestrand.no/pipermail/ietf-types/2004-March/date.html
&gt; &gt;
&gt; &gt; I think that's it.
&gt; &gt;
&gt; &gt; Mark.
&gt; &gt;
&gt;
&gt;
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11876<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-12-22 20:51:50<br>
Subject:Re: [rest-discuss] Query parameters<br>
Message:<br><br>
<pre>Hi Fabio,

Your question is a common one, so I captured my response on a wiki  
page to make it easier for future reference.  Others on the list may  
further insight to my notes (and are welcome to do so on the wiki as  
well!).

In short, there is not simple, perfect answer.  That said, my first  
inclination is to embed the knowledge for the requested translation  
into an Accept-Language header (see Approach #3 on the wiki page).   
This significantly simplifies the URI design.  Nonetheless, you'll  
still be in the dog house when it comes to good WOA/RESTful design.   
The problem is that all approaches rely on URI construction rather  
than discovery.  That means your user agents will need to have hard- 
coded knowledge of your chosen URI structure.  Some of this might be  
possible to alleviate with the Link response header, but I don't have  
enough experience/feedback on its use to make a recommendation on it.

I've added an Addendum to the wiki page that attempts to address the  
issue of URI discoverability.  However since that wasn't the core of  
your question, I kept it to a minimum just to raise the problem and  
outline a possible solution.

Hope that helps!


Cheers,

- Steve

--------------
Steve G. Bjorg
http://mindtouch.com
http://twitter.com/bjorg
irc.freenode.net #mindtouch

On Dec 19, 2008, at 3:38 AM, Fabio Mancinelli wrote:

&gt; Dear all,
&gt;
&gt; I have a design question and I would like to ask for a feedback from  
&gt; the
&gt; experts.
&gt;
&gt; Imagine to have a model where you have a document identified by an id
&gt; that can have different translations (one of them being the default)  
&gt; and
&gt; revisions (each translation has its own independent revision history).
&gt;
&gt; I could model these resources in the following way:
&gt;
&gt; /* Default language *
&gt; /{docId}
&gt; /{docId}/versions
&gt; /{docId}/versions/{version}
&gt; /* Additional translations */
&gt; /{docId}/translations
&gt; /{docId}/translations/{lang}
&gt; /{docId}/translations/{lang}/versions
&gt; /{docId}/translations/{lang}/versions/{version}
&gt;
&gt; Or, with the same expressive power, I might do:
&gt;
&gt; /{docId}[?translation=lang&amp;version=v]
&gt; /{docId}/translations
&gt; /{docId}/versions[?translation=lang]
&gt;
&gt; Now, from my understanding, the two designs are fine and the second  
&gt; one
&gt; looks to me more compact and clean. However there might be some  
&gt; issues.
&gt;
&gt; 1) In the "Restful WebServices" book, authors suggest that query
&gt; parameters should be used only to "suggest arguments being plugged  
&gt; into
&gt; an algorithm" (e.g., Google's .../search?q=query). This is not the  
&gt; case
&gt; of {docId} so maybe the second design is not following a "best  
&gt; practice".
&gt;
&gt; 2) Another potential issue could be related to caching. Squid, for
&gt; example, recommends to ignore query parameters for caching in its
&gt; default configuration. So by using query parameters maybe I might have
&gt; cacheable resources not cached by some intermediary.
&gt;
&gt; 3) Other?
&gt;
&gt; What do you think? Why should I prefer the first design with respect  
&gt; to
&gt; the other or viceversa?
&gt;
&gt; Thank you for your help.
&gt;
&gt; -Fabio


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11877<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-12-22 20:52:25<br>
Subject:Re: [rest-discuss] Query parameters<br>
Message:<br><br>
<pre>(again with link... duh!)

Hi Fabio,

Your question is a common one, so I captured my response on a wiki  
page to make it easier for future reference.  Others on the list may  
further insight to my notes (and are welcome to do so on the wiki as  
well!).

In short, there is not simple, perfect answer.  That said, my first  
inclination is to embed the knowledge for the requested translation  
into an Accept-Language header (see Approach #3 on the wiki page).   
This significantly simplifies the URI design.  Nonetheless, you'll  
still be in the dog house when it comes to good WOA/RESTful design.   
The problem is that all approaches rely on URI construction rather  
than discovery.  That means your user agents will need to have hard- 
coded knowledge of your chosen URI structure.  Some of this might be  
possible to alleviate with the Link response header, but I don't have  
enough experience/feedback on its use to make a recommendation on it.

I've added an Addendum to the wiki page that attempts to address the  
issue of URI discoverability.  However since that wasn't the core of  
your question, I kept it to a minimum just to raise the problem and  
outline a possible solution.

Hope that helps!

http://restpatterns.org/User:SteveB/Designing_URIs

Cheers,

- Steve

--------------
Steve G. Bjorg
http://mindtouch.com
http://twitter.com/bjorg
irc.freenode.net #mindtouch

On Dec 19, 2008, at 3:38 AM, Fabio Mancinelli wrote:

&gt; Dear all,
&gt;
&gt; I have a design question and I would like to ask for a feedback from  
&gt; the
&gt; experts.
&gt;
&gt; Imagine to have a model where you have a document identified by an id
&gt; that can have different translations (one of them being the default)  
&gt; and
&gt; revisions (each translation has its own independent revision history).
&gt;
&gt; I could model these resources in the following way:
&gt;
&gt; /* Default language *
&gt; /{docId}
&gt; /{docId}/versions
&gt; /{docId}/versions/{version}
&gt; /* Additional translations */
&gt; /{docId}/translations
&gt; /{docId}/translations/{lang}
&gt; /{docId}/translations/{lang}/versions
&gt; /{docId}/translations/{lang}/versions/{version}
&gt;
&gt; Or, with the same expressive power, I might do:
&gt;
&gt; /{docId}[?translation=lang&amp;version=v]
&gt; /{docId}/translations
&gt; /{docId}/versions[?translation=lang]
&gt;
&gt; Now, from my understanding, the two designs are fine and the second  
&gt; one
&gt; looks to me more compact and clean. However there might be some  
&gt; issues.
&gt;
&gt; 1) In the "Restful WebServices" book, authors suggest that query
&gt; parameters should be used only to "suggest arguments being plugged  
&gt; into
&gt; an algorithm" (e.g., Google's .../search?q=query). This is not the  
&gt; case
&gt; of {docId} so maybe the second design is not following a "best  
&gt; practice".
&gt;
&gt; 2) Another potential issue could be related to caching. Squid, for
&gt; example, recommends to ignore query parameters for caching in its
&gt; default configuration. So by using query parameters maybe I might have
&gt; cacheable resources not cached by some intermediary.
&gt;
&gt; 3) Other?
&gt;
&gt; What do you think? Why should I prefer the first design with respect  
&gt; to
&gt; the other or viceversa?
&gt;
&gt; Thank you for your help.
&gt;
&gt; -Fabio


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11878<br>
Sender:Bill Burke &lt;bburke@...&gt;<br>
Post Date/Time:2008-12-22 21:50:31<br>
Subject:Re: [rest-discuss] Re: uri templates in link relations?<br>
Message:<br><br>
<pre>

groovepapa82 wrote:
&gt; 
&gt; 
&gt; URI Templating has been an ongoing effort ... I think it was proposed
&gt; for inclusion in HTML 5, but not sure what came of that. A quick
&gt; Google search revealed this ...
&gt; 
&gt; http://bitworking.org/projects/URI-Templates/ 
&gt; &lt;http://bitworking.org/projects/URI-Templates/&gt;
&gt; 

The problem with this RFC is that it is very good at generating URIs, 
but unusable for matching/dispatching URIs.

In the JAX-RS group we just had a simple general purpose {} mechanism:

/{a}/{a: regex}/ddd-{b}/yyy-{c: regex}

{a} represents a whole segment

{a : regex}

Allows you to specify a regular expression

{} can be embedded within a URI segment

Bill

-- 
Bill Burke
JBoss, a division of Red Hat
http://bill.burkecentral.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11879<br>
Sender:"groovepapa82" &lt;luke.crouch@...&gt;<br>
Post Date/Time:2008-12-22 22:20:10<br>
Subject:Re: Query parameters<br>
Message:<br><br>
<pre>That's a great page on the topic! Tagged it for future use.

-L


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11880<br>
Sender:Steve Bjorg &lt;steveb@...&gt;<br>
Post Date/Time:2008-12-23 13:20:17<br>
Subject:MIME type vs. MIME media type vs. Internet media type<br>
Message:<br><br>
<pre>I did a cheat sheet summarizing my current understanding of MIME  
types.  However, while doing so, I noticed that there are several ways  
they are referred to, namely:
* MIME Type
* MIME Media Type
* Internet Media Type

So, I'm wondering, are these synonyms or are there subtle differences?

The summary can be found at:
http://restpatterns.org/Glossary/MIME_Type

- Steve

--------------
Steve G. Bjorg
http://mindtouch.com
http://twitter.com/bjorg
irc.freenode.net #mindtouch


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11881<br>
Sender:"Mark Baker" &lt;distobj@...&gt;<br>
Post Date/Time:2008-12-24 02:09:06<br>
Subject:Re: [rest-discuss] MIME type vs. MIME media type vs. Internet media type<br>
Message:<br><br>
<pre>They're synonyms.  The correct name now is "Internet media type",
after the media type system was detached from MIME with RFC 4288.
There's a relevant historical note in it;

      The media type registration process was initially defined for
      registering media types for use in the context of the asynchronous
      Internet mail environment.  In this mail environment there is a
      need to limit the number of possible media types, to increase the
      likelihood of interoperability when the capabilities of the remote
      mail system are not known.  As media types are used in new
      environments in which the proliferation of media types is not a
      hindrance to interoperability, the original procedure proved
      excessively restrictive and had to be generalized.  This was
      initially done in [RFC2048], but the procedure defined there was
      still part of the MIME document set.  The media type specification
      and registration procedure has now been moved to this separate
      document, to make it clear that it is independent of MIME.

      It may be desirable to restrict the use of media types to specific
      environments or to prohibit their use in other environments.  This
      revision attempts for the first time to incorporate such
      restrictions into media type registrations in a systematic way.
      See Section 4.9 for additional discussion.

Mark.

On Tue, Dec 23, 2008 at 8:20 AM, Steve Bjorg &lt;steveb@...&gt; wrote:
&gt; I did a cheat sheet summarizing my current understanding of MIME
&gt; types.  However, while doing so, I noticed that there are several ways
&gt; they are referred to, namely:
&gt; * MIME Type
&gt; * MIME Media Type
&gt; * Internet Media Type
&gt;
&gt; So, I'm wondering, are these synonyms or are there subtle differences?
&gt;
&gt; The summary can be found at:
&gt; http://restpatterns.org/Glossary/MIME_Type
&gt;
&gt; - Steve
&gt;
&gt; --------------
&gt; Steve G. Bjorg
&gt; http://mindtouch.com
&gt; http://twitter.com/bjorg
&gt; irc.freenode.net #mindtouch
&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11882<br>
Sender:"Colin Jack" &lt;colin.jack@...&gt;<br>
Post Date/Time:2008-12-24 10:07:12<br>
Subject:The buzzword "REST" and truth in labeling [rest-discuss]<br>
Message:<br><br>
<pre>&gt; I agree. Unfortunately, the reality of the situation is that many
&gt; people think REST == (!SOAP). Look at any buzzword compliant
&gt; technology. Do you know how many "Agile Software Development" shops
&gt; there are out there that think having a daily standup, "iterations"
&gt; (even if they're 3 months), and "no documentation" means they're
&gt; "Agile"?

Definitely. Semantic diffusion (how I love Fowler speak) does seem to 
be rife and it does seem like REST in general is ripe for people to 
come along and misunderstand it. Next thing is those people will be on 
stage mis-representing it or will be blogging their half understandings.

Correcting people when you can seems reasonable, but I think that 
probably means reaching out too. The people mis-representing REST are 
unlikely to be reading your blogs in detail or reading this forum, so 
if you do want to reach them I think you need to go to wherever they 
are and offer your advice (which will probably be warmly accepted). If 
they choose to ignore that advice then you can joyfully slam them with 
a clear conscience :)


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11883<br>
Sender:"Colin Jack" &lt;colin.jack@...&gt;<br>
Post Date/Time:2008-12-24 10:08:44<br>
Subject:Re: [rest-discuss] REST &amp; DD<br>
Message:<br><br>
<pre>&gt; What I have so far is a layer of "resource handlers" which is like a 
&gt; service layer returning the actual resource representations
&gt; (basically just DTOs). These resource handlers use repositories and 
&gt; flatten domain entities.

Yeah that sounds similiar to what I was thinking, however do you find 
that the ideas of DDD influence your resource design or do you try to 
keep them quite independant?


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11884<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2008-12-24 23:44:54<br>
Subject:Re: [rest-discuss] Re: What location to return on 202 (asynchronous process) and what polling result?<br>
Message:<br><br>
<pre>I'm reviving this thread from 3 months ago. I hope it's still relevant
-- I encounter the use case every day.

Sebastien is right that we should develop an understanding around
return 202 from GET. Subbu said "The behavior of 202 is defined for
POST and DELETE only", but actually, 2616 does not mention any
particular methods 202 should apply to.

I think the spec on 202 is kind of muddy.

I had remarked in a blog  [1] that 202 is a good response to the GET
the user agent performs on the Location header from a previous 303.
Current user agents just treat that 202 like a 2xx and display the
entity, so no harm done. Savvy client code, however, can interpret the
202 as an instruction to try again later.

Widespread interpretation of 202 for GET this way would be dang
useful, does anyone else think so, or object ?

Hugh


[1] http://hughw.blogspot.com/2008/06/asynchronous-http-post.html




On Tue, Sep 9, 2008 at 4:40 PM, Sebastien Lambla &lt;seb@...&gt; wrote:
&gt;
&gt; &gt; [...]
&gt; &gt; (a) overloading 202 in an unspecified manner, and
&gt; &gt; (b) merging an auxiliary resource with the actual resource. The later
&gt; &gt; could be confusing to client application developers.
&gt;
&gt; I agree with (a) to a certain extent as it does extend ever so slightly the
&gt; current definition. B however would seem to work fine: a 202's entity may
&gt; contain a body with a representation that is not the representation
&gt; retrieved from the resource identified by the uri, specifically because
&gt; that's what the rfc defines the entity body as being. I agree however that
&gt; such confusion would need to be cleared.
&gt;
&gt; &gt; For instance, take a purchase order that needs to go through some
&gt; &gt; backend processing (may be even manual) to get created completely.
&gt; &gt; This could be modeled as a regular 200 OK but keep changing relevant
&gt; &gt; parts of the representation to reflect its current status. There is no
&gt; &gt; need for a 202 here.
&gt;
&gt; I completely agree and it depends on the semantics of the resource. An order
&gt; resource certainly gets created when you start adding items to it. The
&gt; interesting case of a backup in that sense is that the backup may or may not
&gt; be created successfully. You could simply split those two entities, with the
&gt; backup entry and the backup data being two different resources, with the
&gt; backup entry being created on demand and the backup data being eventually
&gt; created later, updating the backup entry. But in that case, the backup data
&gt; will only get assigned, and as such only exist for the client, if and when
&gt; the process has been completed.
&gt;
&gt; As I highlighted in the other thread, the issue here is not about creating
&gt; the backup entry resource itself, that problem is easily solved. The
&gt; question simply bogs down to the following question: Can you assign a URI
&gt; for a resource that has not been realised yet and may not be.
&gt;
&gt; If a sidekick resource always needs to be created to support giving progress
&gt; on a long-running realisation of a resource, maybe it is the case that an
&gt; acknowledgement that such resource exists but is in an undefined state, with
&gt; an entity being returned to define when it may become available (or be
&gt; processed), is a good candidate for reuse at the http, rather than the app,
&gt; level. And 202 seems to be fitting well enough. But of course it could be
&gt; solved with Link headers and a custom definition of the rel, with
&gt; human-readable or machine-readable content returned on the original 202 and
&gt; the sidekick resource, etc.
&gt;
&gt; I'm not sure they're more or less rest however. If a client has only
&gt; knowledge of http, the 202 solution will work because no polling would be
&gt; automatic and the various requests would still function. The solution still
&gt; requires to process the entity body (or the link header) to discover the
&gt; link from the initial 202 response, which you would have to understand
&gt; anyway. The further 202 on GET for a client not aware would essentially
&gt; display the entity saying "Estimated finish time in 5 minutes". Using a 200
&gt; on GET on the sidekick resource would do exactly the same thing. The main
&gt; difference here would be that the status resource would eventually have to
&gt; let you know where the resource can be found, and because the resource exist
&gt; as a whole, it should have this in the entity being returned. Then comes the
&gt; question of the value of keeping around a second resource to describe the
&gt; status when the process has completed. Because you gave that first uri,
&gt; you'll have to define when you expire it, and probably keep it around for as
&gt; long as the resource itself exists.
&gt;
&gt; Seb
&gt;
&gt;
&gt; ------------------------------------
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;



--
Hugh Winkler, CEO
Wellstorm Development
31900 Ranch Road 12
Suite 206
Dripping Springs, TX 78620
USA
http://www.wellstorm.com/
+1 512 264 3998 x801

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11885<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2008-12-25 13:14:53<br>
Subject:Re: [rest-discuss] Re: What location to return on 202 (asynchronous process) and what polling result?<br>
Message:<br><br>
<pre>Hugh Winkler wrote:
 &gt; Subbu said "The behavior of 202 is defined for
&gt; POST and DELETE only", but actually, 2616 does not mention any
&gt; particular methods 202 should apply to.

2616 defines it as having accepted the request for processing. Since GET 
returns an entity representing the current state of a resource, I don't 
think there is any clear meaning of this in return to a GET (and by 
extension a HEAD). The only methods defined in 2616 that it makes sense 
for to my mind are POST, PUT and DELETE, though it is correct that 2616 
doesn't give a list of appropriate methods, as it has to be applicable 
to the addition of methods to HTTP by extensions or later versions.

&gt; I had remarked in a blog  [1] that 202 is a good response to the GET
&gt; the user agent performs on the Location header from a previous 303.

I would disagree. The 202 should come from the POST or the PUT instead 
of the 303, to indicate they pending state in response to the POST or 
PUT. Returning 202 to the GET indicates the GET has caused something to 
happen that may or may not be fully dealt with later. Since GET 
shouldn't cause anything to "happen", this indicates the semantics of 
GET have violated.

If there were a clear reason to favour 303 to a GETtable resource 
indicating the current processing state over 202, then the resource 
representing this processing state should be represented with a 200 
rather than a 202.

&gt; Widespread interpretation of 202 for GET this way would be dang
&gt; useful, does anyone else think so, or object ?

Object. 202 means something might or might not happen, GET promises 
nothing will happen.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:11886<br>
Sender:Aristotle Pagaltzis &lt;pagaltzis@...&gt;<br>
Post Date/Time:2008-12-27 03:45:15<br>
Subject:Re: What location to return on 202 (asynchronous process) and what	polling result?<br>
Message:<br><br>
<pre>* Jon Hanna &lt;jon@...&gt; [2008-12-25 14:20]:
&gt; Object. 202 means something might or might not happen, GET
&gt; promises nothing will happen.

Agreed.

Regards,
-- 
Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;

</pre><br><br><br><br><br>
